cscope 15 $HOME/repository/iotjs/tizenrt-segmented-heap/external/iotjs               0003426221
	@build/CMakeFiles/3.9.3/CompilerIdC/CMakeCCompilerId.c

1 #ifde‡
__˝lu•lus


5 #i‡
deföed
(
__18CXX
)

6 
	#ID_VOID_MAIN


	)

8 #i‡
deföed
(
__CLASSIC_C__
)

10 c⁄°

	)

11 vﬁ©ûe

	)

18 #i‡
deföed
(
__INTEL_COMPILER
Ë|| deföed(
__ICC
)

19 
	#COMPILER_ID
 "I¡ñ"

	)

20 #i‡
deföed
(
_MSC_VER
)

21 
	#SIMULATE_ID
 "MSVC"

	)

24 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__INTEL_COMPILER
/100)

	)

25 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__INTEL_COMPILER
/10 % 10)

	)

26 #i‡
deföed
(
__INTEL_COMPILER_UPDATE
)

27 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__INTEL_COMPILER_UPDATE
)

	)

29 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__INTEL_COMPILER
 % 10)

	)

31 #i‡
deföed
(
__INTEL_COMPILER_BUILD_DATE
)

33 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__INTEL_COMPILER_BUILD_DATE
)

	)

35 #i‡
deföed
(
_MSC_VER
)

37 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

38 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

41 #ñi‡
deföed
(
__PATHCC__
)

42 
	#COMPILER_ID
 "P©hSˇÀ"

	)

43 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__PATHCC__
)

	)

44 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__PATHCC_MINOR__
)

	)

45 #i‡
deföed
(
__PATHCC_PATCHLEVEL__
)

46 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__PATHCC_PATCHLEVEL__
)

	)

49 #ñi‡
deföed
(
__BORLANDC__
Ë&& deföed(
__CODEGEARC_VERSION__
)

50 
	#COMPILER_ID
 "Emb¨ˇdîo"

	)

51 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__CODEGEARC_VERSION__
>>24 & 0x00FF)

	)

52 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__CODEGEARC_VERSION__
>>16 & 0x00FF)

	)

53 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__CODEGEARC_VERSION__
 & 0xFFFF)

	)

55 #ñi‡
deföed
(
__BORLANDC__
)

56 
	#COMPILER_ID
 "B‹œnd"

	)

58 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__BORLANDC__
>>8)

	)

59 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__BORLANDC__
 & 0xFF)

	)

61 #ñi‡
deföed
(
__WATCOMC__
) && __WATCOMC__ < 1200

62 
	#COMPILER_ID
 "W©com"

	)

64 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__WATCOMC__
 / 100)

	)

65 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__WATCOMC__
 / 10Ë% 10)

	)

66 #i‡(
__WATCOMC__
 % 10) > 0

67 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__WATCOMC__
 % 10)

	)

70 #ñi‡
deföed
(
__WATCOMC__
)

71 
	#COMPILER_ID
 "O≥nW©com"

	)

73 
	#COMPILER_VERSION_MAJOR
 
	`DEC
((
__WATCOMC__
 - 1100Ë/ 100)

	)

74 
	#COMPILER_VERSION_MINOR
 
	`DEC
((
__WATCOMC__
 / 10Ë% 10)

	)

75 #i‡(
__WATCOMC__
 % 10) > 0

76 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__WATCOMC__
 % 10)

	)

79 #ñi‡
deföed
(
__SUNPRO_C
)

80 
	#COMPILER_ID
 "SunPro"

	)

81 #i‡
__SUNPRO_C
 >= 0x5100

83 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__SUNPRO_C
>>12)

	)

84 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__SUNPRO_C
>>4 & 0xFF)

	)

85 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__SUNPRO_C
 & 0xF)

	)

88 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__SUNPRO_C
>>8)

	)

89 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__SUNPRO_C
>>4 & 0xF)

	)

90 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__SUNPRO_C
 & 0xF)

	)

93 #ñi‡
deföed
(
__HP_cc
)

94 
	#COMPILER_ID
 "HP"

	)

96 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__HP_cc
/10000)

	)

97 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__HP_cc
/100 % 100)

	)

98 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__HP_cc
 % 100)

	)

100 #ñi‡
deföed
(
__DECC
)

101 
	#COMPILER_ID
 "Com∑q"

	)

103 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__DECC_VER
/10000000)

	)

104 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__DECC_VER
/100000 % 100)

	)

105 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__DECC_VER
 % 10000)

	)

107 #ñi‡
deföed
(
__IBMC__
Ë&& deföed(
__COMPILER_VER__
)

108 
	#COMPILER_ID
 "zOS"

	)

110 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMC__
/100)

	)

111 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMC__
/10 % 10)

	)

112 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMC__
 % 10)

	)

114 #ñi‡
deföed
(
__IBMC__
Ë&& !deföed(
__COMPILER_VER__
) && __IBMC__ >= 800

115 
	#COMPILER_ID
 "XL"

	)

117 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMC__
/100)

	)

118 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMC__
/10 % 10)

	)

119 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMC__
 % 10)

	)

121 #ñi‡
deföed
(
__IBMC__
Ë&& !deföed(
__COMPILER_VER__
) && __IBMC__ < 800

122 
	#COMPILER_ID
 "VisuÆAge"

	)

124 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__IBMC__
/100)

	)

125 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__IBMC__
/10 % 10)

	)

126 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__IBMC__
 % 10)

	)

128 #ñi‡
deföed
(
__PGI
)

129 
	#COMPILER_ID
 "PGI"

	)

130 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__PGIC__
)

	)

131 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__PGIC_MINOR__
)

	)

132 #i‡
deföed
(
__PGIC_PATCHLEVEL__
)

133 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__PGIC_PATCHLEVEL__
)

	)

136 #ñi‡
deföed
(
_CRAYC
)

137 
	#COMPILER_ID
 "Cøy"

	)

138 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_RELEASE_MAJOR
)

	)

139 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_RELEASE_MINOR
)

	)

141 #ñi‡
deföed
(
__TI_COMPILER_VERSION__
)

142 
	#COMPILER_ID
 "TI"

	)

144 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__TI_COMPILER_VERSION__
/1000000)

	)

145 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__TI_COMPILER_VERSION__
/1000 % 1000)

	)

146 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__TI_COMPILER_VERSION__
 % 1000)

	)

148 #ñi‡
deföed
(
__FUJITSU
Ë|| deföed(
__FCC_VERSION
Ë|| deföed(
__fcc_vîsi⁄
)

149 
	#COMPILER_ID
 "Fujôsu"

	)

151 #ñi‡
deföed
(
__TINYC__
)

152 
	#COMPILER_ID
 "TöyCC"

	)

154 #ñi‡
deföed
(
__BCC__
)

155 
	#COMPILER_ID
 "Bru˚"

	)

157 #ñi‡
deföed
(
__SCO_VERSION__
)

158 
	#COMPILER_ID
 "SCO"

	)

160 #ñi‡
deföed
(
__˛™g__
Ë&& deföed(
__≠∂e_buûd_vîsi⁄__
)

161 
	#COMPILER_ID
 "AµÀCœng"

	)

162 #i‡
deföed
(
_MSC_VER
)

163 
	#SIMULATE_ID
 "MSVC"

	)

165 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__˛™g_maj‹__
)

	)

166 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__˛™g_mö‹__
)

	)

167 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__˛™g_∑tchÀvñ__
)

	)

168 #i‡
deföed
(
_MSC_VER
)

170 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

171 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

173 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
__≠∂e_buûd_vîsi⁄__
)

	)

175 #ñi‡
deföed
(
__˛™g__
)

176 
	#COMPILER_ID
 "Cœng"

	)

177 #i‡
deföed
(
_MSC_VER
)

178 
	#SIMULATE_ID
 "MSVC"

	)

180 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__˛™g_maj‹__
)

	)

181 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__˛™g_mö‹__
)

	)

182 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__˛™g_∑tchÀvñ__
)

	)

183 #i‡
deföed
(
_MSC_VER
)

185 
	#SIMULATE_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

186 
	#SIMULATE_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

189 #ñi‡
deföed
(
__GNUC__
)

190 
	#COMPILER_ID
 "GNU"

	)

191 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__GNUC__
)

	)

192 #i‡
deföed
(
__GNUC_MINOR__
)

193 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__GNUC_MINOR__
)

	)

195 #i‡
deföed
(
__GNUC_PATCHLEVEL__
)

196 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__GNUC_PATCHLEVEL__
)

	)

199 #ñi‡
deföed
(
_MSC_VER
)

200 
	#COMPILER_ID
 "MSVC"

	)

202 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_MSC_VER
 / 100)

	)

203 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_MSC_VER
 % 100)

	)

204 #i‡
deföed
(
_MSC_FULL_VER
)

205 #i‡
_MSC_VER
 >= 1400

207 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_MSC_FULL_VER
 % 100000)

	)

210 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_MSC_FULL_VER
 % 10000)

	)

213 #i‡
deföed
(
_MSC_BUILD
)

214 
	#COMPILER_VERSION_TWEAK
 
	`DEC
(
_MSC_BUILD
)

	)

217 #ñi‡
deföed
(
__VISUALDSPVERSION__
Ë|| deföed(
__ADSPBLACKFIN__
Ë|| deföed(
__ADSPTS__
Ë|| deföed(
__ADSP21000__
)

218 
	#COMPILER_ID
 "ADSP"

	)

219 #i‡
deföed
(
__VISUALDSPVERSION__
)

221 
	#COMPILER_VERSION_MAJOR
 
	`HEX
(
__VISUALDSPVERSION__
>>24)

	)

222 
	#COMPILER_VERSION_MINOR
 
	`HEX
(
__VISUALDSPVERSION__
>>16 & 0xFF)

	)

223 
	#COMPILER_VERSION_PATCH
 
	`HEX
(
__VISUALDSPVERSION__
>>8 & 0xFF)

	)

226 #ñi‡
deföed
(
__IAR_SYSTEMS_ICC__
 ) || deföed(
__IAR_SYSTEMS_ICC
)

227 
	#COMPILER_ID
 "IAR"

	)

229 #ñi‡
deföed
(
__ARMCC_VERSION
)

230 
	#COMPILER_ID
 "ARMCC"

	)

231 #i‡
__ARMCC_VERSION
 >= 1000000

233 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCC_VERSION
/1000000)

	)

234 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCC_VERSION
/10000 % 100)

	)

235 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCC_VERSION
 % 10000)

	)

238 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__ARMCC_VERSION
/100000)

	)

239 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__ARMCC_VERSION
/10000 % 10)

	)

240 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__ARMCC_VERSION
 % 10000)

	)

244 #ñi‡
deföed
(
__SDCC_VERSION_MAJOR
Ë|| deföed(
SDCC
)

245 
	#COMPILER_ID
 "SDCC"

	)

246 #i‡
deföed
(
__SDCC_VERSION_MAJOR
)

247 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
__SDCC_VERSION_MAJOR
)

	)

248 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
__SDCC_VERSION_MINOR
)

	)

249 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
__SDCC_VERSION_PATCH
)

	)

252 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
SDCC
/100)

	)

253 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
SDCC
/10 % 10)

	)

254 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
SDCC
 % 10)

	)

257 #ñi‡
deföed
(
_SGI_COMPILER_VERSION
Ë|| deföed(
_COMPILER_VERSION
)

258 
	#COMPILER_ID
 "MIPS¥o"

	)

259 #i‡
deföed
(
_SGI_COMPILER_VERSION
)

261 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_SGI_COMPILER_VERSION
/100)

	)

262 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_SGI_COMPILER_VERSION
/10 % 10)

	)

263 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_SGI_COMPILER_VERSION
 % 10)

	)

266 
	#COMPILER_VERSION_MAJOR
 
	`DEC
(
_COMPILER_VERSION
/100)

	)

267 
	#COMPILER_VERSION_MINOR
 
	`DEC
(
_COMPILER_VERSION
/10 % 10)

	)

268 
	#COMPILER_VERSION_PATCH
 
	`DEC
(
_COMPILER_VERSION
 % 10)

	)

275 #ñi‡
deföed
(
__sgi
)

276 
	#COMPILER_ID
 "MIPS¥o"

	)

278 #ñi‡
deföed
(
__hpux
Ë|| deföed(
__hpua
)

279 
	#COMPILER_ID
 "HP"

	)

282 
	#COMPILER_ID
 ""

	)

289 c⁄°* 
	göfo_compûî
 = "INFO" ":" "compûî[" 
COMPILER_ID
 "]";

290 #ifde‡
SIMULATE_ID


291 c⁄°* 
	göfo_simuœã
 = "INFO" ":" "simuœã[" 
SIMULATE_ID
 "]";

294 #ifde‡
__QNXNTO__


295 c⁄°* 
	gqnx¡o
 = "INFO" ":" "qnxnto[]";

298 #i‡
deföed
(
__CRAYXE
Ë|| deföed(
__CRAYXC
)

299 c⁄° *
	göfo_¸ay
 = "INFO" ":" "compiler_wrapper[CrayPrgEnv]";

302 
	#STRINGIFY_HELPER
(
X
Ë#X

	)

303 
	#STRINGIFY
(
X
Ë
	`STRINGIFY_HELPER
(X)

	)

306 #i‡
deföed
(
__löux
Ë|| deföed(
__löux__
Ë|| deföed(
löux
)

307 
	#PLATFORM_ID
 "Löux"

	)

309 #ñi‡
deföed
(
__CYGWIN__
)

310 
	#PLATFORM_ID
 "Cygwö"

	)

312 #ñi‡
deföed
(
__MINGW32__
)

313 
	#PLATFORM_ID
 "MöGW"

	)

315 #ñi‡
deföed
(
__APPLE__
)

316 
	#PLATFORM_ID
 "D¨wö"

	)

318 #ñi‡
deföed
(
_WIN32
Ë|| deföed(
__WIN32__
Ë|| deföed(
WIN32
)

319 
	#PLATFORM_ID
 "Wödows"

	)

321 #ñi‡
deföed
(
__FªeBSD__
Ë|| deföed(
__FªeBSD
)

322 
	#PLATFORM_ID
 "FªeBSD"

	)

324 #ñi‡
deföed
(
__NëBSD__
Ë|| deföed(
__NëBSD
)

325 
	#PLATFORM_ID
 "NëBSD"

	)

327 #ñi‡
deföed
(
__O≥nBSD__
Ë|| deföed(
__OPENBSD
)

328 
	#PLATFORM_ID
 "O≥nBSD"

	)

330 #ñi‡
deföed
(
__sun
Ë|| deföed(
sun
)

331 
	#PLATFORM_ID
 "SunOS"

	)

333 #ñi‡
deföed
(
_AIX
Ë|| deföed(
__AIX
Ë|| deföed(
__AIX__
Ë|| deföed(
__aix
Ë|| deföed(
__aix__
)

334 
	#PLATFORM_ID
 "AIX"

	)

336 #ñi‡
deföed
(
__sgi
Ë|| deföed(
__sgi__
Ë|| deföed(
_SGI
)

337 
	#PLATFORM_ID
 "IRIX"

	)

339 #ñi‡
deföed
(
__hpux
Ë|| deföed(
__hpux__
)

340 
	#PLATFORM_ID
 "HP-UX"

	)

342 #ñi‡
deföed
(
__HAIKU__
)

343 
	#PLATFORM_ID
 "Haiku"

	)

345 #ñi‡
deföed
(
__BeOS
Ë|| deföed(
__BEOS__
Ë|| deföed(
_BEOS
)

346 
	#PLATFORM_ID
 "BeOS"

	)

348 #ñi‡
deföed
(
__QNX__
Ë|| deföed(
__QNXNTO__
)

349 
	#PLATFORM_ID
 "QNX"

	)

351 #ñi‡
deföed
(
__åu64
Ë|| deföed(
_åu64
Ë|| deföed(
__TRU64__
)

352 
	#PLATFORM_ID
 "Tru64"

	)

354 #ñi‡
deföed
(
__riscos
Ë|| deföed(
__riscos__
)

355 
	#PLATFORM_ID
 "RISCos"

	)

357 #ñi‡
deföed
(
__söix
Ë|| deföed(
__söix__
Ë|| deföed(
__SINIX__
)

358 
	#PLATFORM_ID
 "SINIX"

	)

360 #ñi‡
deföed
(
__UNIX_SV__
)

361 
	#PLATFORM_ID
 "UNIX_SV"

	)

363 #ñi‡
deföed
(
__bsdos__
)

364 
	#PLATFORM_ID
 "BSDOS"

	)

366 #ñi‡
deföed
(
_MPRAS
Ë|| deföed(
MPRAS
)

367 
	#PLATFORM_ID
 "MP-RAS"

	)

369 #ñi‡
deföed
(
__osf
Ë|| deföed(
__osf__
)

370 
	#PLATFORM_ID
 "OSF1"

	)

372 #ñi‡
deföed
(
_SCO_SV
Ë|| deföed(
SCO_SV
Ë|| deföed(
sco_sv
)

373 
	#PLATFORM_ID
 "SCO_SV"

	)

375 #ñi‡
deföed
(
__u…rix
Ë|| deföed(
__u…rix__
Ë|| deföed(
_ULTRIX
)

376 
	#PLATFORM_ID
 "ULTRIX"

	)

378 #ñi‡
deföed
(
__XENIX__
Ë|| deföed(
_XENIX
Ë|| deföed(
XENIX
)

379 
	#PLATFORM_ID
 "Xíix"

	)

381 #ñi‡
deföed
(
__WATCOMC__
)

382 #i‡
deföed
(
__LINUX__
)

383 
	#PLATFORM_ID
 "Löux"

	)

385 #ñi‡
deföed
(
__DOS__
)

386 
	#PLATFORM_ID
 "DOS"

	)

388 #ñi‡
deföed
(
__OS2__
)

389 
	#PLATFORM_ID
 "OS2"

	)

391 #ñi‡
deföed
(
__WINDOWS__
)

392 
	#PLATFORM_ID
 "Wödows3x"

	)

395 
	#PLATFORM_ID


	)

399 
	#PLATFORM_ID


	)

408 #i‡
deföed
(
_WIN32
Ë&& deföed(
_MSC_VER
)

409 #i‡
deföed
(
_M_IA64
)

410 
	#ARCHITECTURE_ID
 "IA64"

	)

412 #ñi‡
deföed
(
_M_X64
Ë|| deföed(
_M_AMD64
)

413 
	#ARCHITECTURE_ID
 "x64"

	)

415 #ñi‡
deföed
(
_M_IX86
)

416 
	#ARCHITECTURE_ID
 "X86"

	)

418 #ñi‡
deföed
(
_M_ARM
)

419 #i‡
_M_ARM
 == 4

420 
	#ARCHITECTURE_ID
 "ARMV4I"

	)

421 #ñi‡
_M_ARM
 == 5

422 
	#ARCHITECTURE_ID
 "ARMV5I"

	)

424 
	#ARCHITECTURE_ID
 "ARMV" 
	`STRINGIFY
(
_M_ARM
)

	)

427 #ñi‡
deföed
(
_M_MIPS
)

428 
	#ARCHITECTURE_ID
 "MIPS"

	)

430 #ñi‡
deföed
(
_M_SH
)

431 
	#ARCHITECTURE_ID
 "SHx"

	)

434 
	#ARCHITECTURE_ID
 ""

	)

437 #ñi‡
deföed
(
__WATCOMC__
)

438 #i‡
deföed
(
_M_I86
)

439 
	#ARCHITECTURE_ID
 "I86"

	)

441 #ñi‡
deföed
(
_M_IX86
)

442 
	#ARCHITECTURE_ID
 "X86"

	)

445 
	#ARCHITECTURE_ID
 ""

	)

449 
	#ARCHITECTURE_ID


	)

453 
	#DEC
(
n
) \

454 ('0' + (((
n
) / 10000000)%10)), \

455 ('0' + (((
n
) / 1000000)%10)), \

456 ('0' + (((
n
) / 100000)%10)), \

457 ('0' + (((
n
) / 10000)%10)), \

458 ('0' + (((
n
) / 1000)%10)), \

459 ('0' + (((
n
) / 100)%10)), \

460 ('0' + (((
n
) / 10)%10)), \

461 ('0' + ((
n
Ë% 10))

	)

464 
	#HEX
(
n
) \

465 ('0' + ((
n
)>>28 & 0xF)), \

466 ('0' + ((
n
)>>24 & 0xF)), \

467 ('0' + ((
n
)>>20 & 0xF)), \

468 ('0' + ((
n
)>>16 & 0xF)), \

469 ('0' + ((
n
)>>12 & 0xF)), \

470 ('0' + ((
n
)>>8 & 0xF)), \

471 ('0' + ((
n
)>>4 & 0xF)), \

472 ('0' + ((
n
Ë& 0xF))

	)

475 #ifde‡
COMPILER_VERSION_MAJOR


476 c⁄° 
	göfo_vîsi⁄
[] = {

479 
COMPILER_VERSION_MAJOR
,

480 #ifde‡
COMPILER_VERSION_MINOR


481 '.', 
COMPILER_VERSION_MINOR
,

482 #ifde‡
COMPILER_VERSION_PATCH


483 '.', 
COMPILER_VERSION_PATCH
,

484 #ifde‡
COMPILER_VERSION_TWEAK


485 '.', 
COMPILER_VERSION_TWEAK
,

493 #ifde‡
SIMULATE_VERSION_MAJOR


494 c⁄° 
	göfo_simuœã_vîsi⁄
[] = {

497 
SIMULATE_VERSION_MAJOR
,

498 #ifde‡
SIMULATE_VERSION_MINOR


499 '.', 
SIMULATE_VERSION_MINOR
,

500 #ifde‡
SIMULATE_VERSION_PATCH


501 '.', 
SIMULATE_VERSION_PATCH
,

502 #ifde‡
SIMULATE_VERSION_TWEAK


503 '.', 
SIMULATE_VERSION_TWEAK
,

514 c⁄°* 
	göfo_∂©f‹m
 = "INFO" ":" "∂©f‹m[" 
PLATFORM_ID
 "]";

515 c⁄°* 
	göfo_¨ch
 = "INFO" ":" "¨ch[" 
ARCHITECTURE_ID
 "]";

520 #i‡!
deföed
(
__STDC__
)

521 #i‡
deföed
(
_MSC_VER
Ë&& !deföed(
__˛™g__
)

522 
	#C_DIALECT
 "90"

	)

524 
	#C_DIALECT


	)

526 #ñi‡
__STDC_VERSION__
 >= 201000L

527 
	#C_DIALECT
 "11"

	)

528 #ñi‡
__STDC_VERSION__
 >= 199901L

529 
	#C_DIALECT
 "99"

	)

531 
	#C_DIALECT
 "90"

	)

533 c⁄° * 
	göfo_œnguage_düÀ˘_deÁu…
 =

534 "INFO" ":" "düÀ˘_deÁu…[" 
C_DIALECT
 "]";

538 #ifde‡
ID_VOID_MAIN


539 
	$maö
(Ë{
	}
}

541 #i‡
deföed
(
__CLASSIC_C__
)

542 
	$maö
(
¨gc
, 
¨gv
) argc; *argv[];

544 
	$maö
(
¨gc
, * 
¨gv
[])

547 
ªquúe
 = 0;

548 
ªquúe
 +
öfo_compûî
[
¨gc
];

549 
ªquúe
 +
öfo_∂©f‹m
[
¨gc
];

550 
ªquúe
 +
öfo_¨ch
[
¨gc
];

551 #ifde‡
COMPILER_VERSION_MAJOR


552 
ªquúe
 +
öfo_vîsi⁄
[
¨gc
];

554 #ifde‡
SIMULATE_ID


555 
ªquúe
 +
öfo_simuœã
[
¨gc
];

557 #ifde‡
SIMULATE_VERSION_MAJOR


558 
ªquúe
 +
öfo_simuœã_vîsi⁄
[
¨gc
];

560 #i‡
	`deföed
(
__CRAYXE
Ë|| deföed(
__CRAYXC
)

561 
ªquúe
 +
öfo_¸ay
[
¨gc
];

563 
ªquúe
 +
öfo_œnguage_düÀ˘_deÁu…
[
¨gc
];

564 ()
¨gv
;

565  
ªquúe
;

566 
	}
}

	@build/CMakeFiles/feature_tests.c

2 c⁄° 
	g„©uªs
[] = {"\n"

4 #i‡((
__˛™g_maj‹__
 * 100Ë+ 
__˛™g_mö‹__
) >= 400

11 #i‡((
__˛™g_maj‹__
 * 100Ë+ 
__˛™g_mö‹__
Ë>400 && 
deföed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

18 #i‡((
__˛™g_maj‹__
 * 100Ë+ 
__˛™g_mö‹__
Ë>400 && 
deföed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 201112L

25 #i‡((
__˛™g_maj‹__
 * 100Ë+ 
__˛™g_mö‹__
Ë>400 && 
deföed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

34 
	$maö
(
¨gc
, ** 
¨gv
Ë{ (Ôrgv;  
„©uªs
[¨gc]; 
	}
}

	@config/nuttx/stm32f4dis/app/iotjs_main.c

53 
	~<nuâx/¨ch.h
>

54 
	~<nuâx/c⁄fig.h
>

56 
	~<°dio.h
>

57 
	~"£tjmp.h
"

63 
iŸjs_íåy
(
¨gc
, *
¨gv
[]);

64 
tuv_˛ónup
();

66 #ifde‡
CONFIG_BUILD_KERNEL


67 
	$maö
(
¨gc
, 
FAR
 *
¨gv
[])

69 
	$iŸjs_maö
(
¨gc
, *
¨gv
[])

72 
ªt
 = 0;

73 
ªt
 = 
	`iŸjs_íåy
(
¨gc
, 
¨gv
);

74 
	`tuv_˛ónup
();

75  
ªt
;

76 
	}
}

	@config/nuttx/stm32f4dis/app/jerry_port.c

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

18 
	~<°rög.h
>

20 
	~"jîrys¸ùt-ext/h™dÀr.h
"

21 
	~"jîrys¸ùt-p‹t.h
"

22 
	~"jîrys¸ùt.h
"

27 
	$jîry_p‹t_Áèl
(
jîry_Áèl_code_t
 
code
) {

28 
	`exô
(1);

29 
	}
}

34 
	$jîry_p‹t_log
(
jîry_log_Àvñ_t
 
Àvñ
,

35 c⁄° *
f‹m©
,

38 
	}
}

45 
boﬁ
 
	$jîry_p‹t_gë_time_z⁄e
(
jîry_time_z⁄e_t
 *
tz_p
) {

47 
tz_p
->
off£t
 = 0;

48 
tz_p
->
daylight_ßvög_time
 = 0;

50  
åue
;

51 
	}
}

58 
	$jîry_p‹t_gë_cuºít_time
() {

60 
	}
}

66 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
(
c
) {

67 
	`¥ötf
("%c", 
c
);

68 
	}
}

	@config/nuttx/stm32f4dis/app/setjmp.h

31 #i‚de‡
SETJMP_H


32 
	#SETJMP_H


	)

34 
	~<°döt.h
>

36 
uöt64_t
 
	tjmp_buf
[14];

38 
£tjmp
(
jmp_buf
 
ív
);

39 
l⁄gjmp
(
jmp_buf
 
ív
, 
vÆ
);

	@config/tizenrt/artik05x/app/iotjs_main.c

53 
	~<≠ps/shñl/èsh.h
>

54 
	~<töy¨a/¨ch.h
>

55 
	~<töy¨a/c⁄fig.h
>

57 
	~<£tjmp.h
>

58 
	~<°dio.h
>

60 
	#USE_IOTJS_THREAD
 1

	)

69 
	$£tjmp
(
jmp_buf
 
buf
) {

70  
	`__buûtö_£tjmp
(
buf
);

71 
	}
}

80 
	$l⁄gjmp
(
jmp_buf
 
buf
, 
vÆue
) {

82 
	`__buûtö_l⁄gjmp
(
buf
, 1);

83 
	}
}

85 
iŸjs_íåy
(
¨gc
, **
¨gv
);

86 
tuv_˛ónup
();

89 #i‡
USE_IOTJS_THREAD


90 
	siŸjs_thªad_¨g
 {

91 
	m¨gc
;

92 **
	m¨gv
;

95 
±hªad_addr_t
 
	$iŸjs_thªad
(*
thªad_¨g
) {

96 
iŸjs_thªad_¨g
 *
¨g
 = 
thªad_¨g
;

97 
ªt
 = 0;

99 
ªt
 = 
	`iŸjs_íåy
(
¨g
->
¨gc
,árg->
¨gv
);

100 
	`tuv_˛ónup
();

102 
	`¶ìp
(1);

103 
	`¥ötf
("iotjsÅhreadÉnd\n");

104  
NULL
;

105 
	}
}

107 
	$iŸjs
(
¨gc
, *
¨gv
[]) {

108 
±hªad_©å_t
 
©å
;

109 
°©us
;

110 
sched_∑øm
 
•¨am
;

111 
±hªad_t
 
tid
;

112 
iŸjs_thªad_¨g
 
¨g
;

114 
°©us
 = 
	`±hªad_©å_öô
(&
©å
);

115 i‡(
°©us
 != 0) {

116 
	`¥ötf
("failÅo initialize iotjsÅhread\n");

120 
•¨am
.
sched_¥i‹ôy
 = 
CONFIG_IOTJS_PRIORITY
;

121 
°©us
 = 
	`±hªad_©å_£tsched∑øm
(&
©å
, &
•¨am
);

122 
°©us
 = 
	`±hªad_©å_£tschedpﬁicy
(&
©å
, 
SCHED_RR
);

123 
°©us
 = 
	`±hªad_©å_£t°acksize
(&
©å
, 
CONFIG_IOTJS_STACKSIZE
);

125 
¨g
.
¨gc
 =árgc;

126 
¨g
.
¨gv
 =árgv;

128 
°©us
 = 
	`±hªad_¸óã
(&
tid
, &
©å
, 
iŸjs_thªad
, &
¨g
);

129 i‡(
°©us
 < 0) {

130 
	`¥ötf
("failÅo start iotjsÅhread\n");

133 
	`±hªad_£äame_≈
(
tid
, "iotjs_thread");

134 
	`±hªad_joö
(
tid
, 
NULL
);

137 
	}
}

141 
	$iŸjs
(
¨gc
, *
¨gv
[]) {

142 
ªt
 = 0;

143 
ªt
 = 
	`iŸjs_íåy
(
¨gc
, 
¨gv
);

144 
	`tuv_˛ónup
();

145  
ªt
;

146 
	}
}

150 
	$iŸjs_ªgi°î_cmds
() {

151 
	`èsh_cmd_ö°Æl
("iŸjs", 
iŸjs
, 
TASH_EXECMD_SYNC
);

153 
	}
}

155 #ifde‡
CONFIG_BUILD_KERNEL


156 
	$maö
(
¨gc
, 
FAR
 *
¨gv
[])

158 
	$iŸjs_maö
(
¨gc
, *
¨gv
[])

161  
	`iŸjs_ªgi°î_cmds
();

162 
	}
}

	@config/tizenrt/artik05x/app/jerry_port.c

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

18 
	~<°rög.h
>

20 
	~"jîrys¸ùt-ext/h™dÀr.h
"

21 
	~"jîrys¸ùt-p‹t.h
"

22 
	~"jîrys¸ùt.h
"

27 
	$jîry_p‹t_Áèl
(
jîry_Áèl_code_t
 
code
) {

28 
	`exô
(1);

29 
	}
}

34 
	$jîry_p‹t_log
(
jîry_log_Àvñ_t
 
Àvñ
,

35 c⁄° *
f‹m©
,

38 
	}
}

45 
boﬁ
 
	$jîry_p‹t_gë_time_z⁄e
(
jîry_time_z⁄e_t
 *
tz_p
) {

47 
tz_p
->
off£t
 = 0;

48 
tz_p
->
daylight_ßvög_time
 = 0;

50  
åue
;

51 
	}
}

58 
	$jîry_p‹t_gë_cuºít_time
() {

60 
	}
}

66 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
(
c
) {

67 
	`¥ötf
("%c", 
c
);

68 
	}
}

	@deps/http-parser/bench.c

21 
	~"hâp_∑r£r.h
"

22 
	~<as£π.h
>

23 
	~<°dio.h
>

24 
	~<°rög.h
>

25 
	~<sys/time.h
>

27 c⁄° 
	gd©a
[] =

42 c⁄° 
size_t
 
	gd©a_Àn
 = (
d©a
) - 1;

44 
	$⁄_öfo
(
hâp_∑r£r
* 
p
) {

46 
	}
}

49 
	$⁄_d©a
(
hâp_∑r£r
* 
p
, c⁄° *
©
, 
size_t
 
Àngth
) {

51 
	}
}

53 
hâp_∑r£r_£âögs
 
	g£âögs
 = {

54 .
⁄_mesßge_begö
 = 
⁄_öfo
,

55 .
	g⁄_hódîs_com∂ëe
 = 
⁄_öfo
,

56 .
	g⁄_mesßge_com∂ëe
 = 
⁄_öfo
,

57 .
	g⁄_hódî_fõld
 = 
⁄_d©a
,

58 .
	g⁄_hódî_vÆue
 = 
⁄_d©a
,

59 .
	g⁄_uæ
 = 
⁄_d©a
,

60 .
	g⁄_°©us
 = 
⁄_d©a
,

61 .
	g⁄_body
 = 
⁄_d©a


64 
	$bích
(
ôî_cou¡
, 
sûít
) {

65 
hâp_∑r£r
 
∑r£r
;

66 
i
;

67 
îr
;

68 
timevÆ
 
°¨t
;

69 
timevÆ
 
íd
;

70 
Ωs
;

72 i‡(!
sûít
) {

73 
îr
 = 
	`gëtimeofday
(&
°¨t
, 
NULL
);

74 
	`as£π
(
îr
 == 0);

77 
i
 = 0; i < 
ôî_cou¡
; i++) {

78 
size_t
 
∑r£d
;

79 
	`hâp_∑r£r_öô
(&
∑r£r
, 
HTTP_REQUEST
);

81 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs
, 
d©a
, 
d©a_Àn
);

82 
	`as£π
(
∑r£d
 =
d©a_Àn
);

85 i‡(!
sûít
) {

86 
îr
 = 
	`gëtimeofday
(&
íd
, 
NULL
);

87 
	`as£π
(
îr
 == 0);

89 
	`Ârötf
(
°dout
, "BenchmarkÑesult:\n");

91 
Ωs
 = (Ë(
íd
.
tv_£c
 - 
°¨t
.tv_sec) +

92 (
íd
.
tv_u£c
 - 
°¨t
.tv_usec) * 1e-6f;

93 
	`Ârötf
(
°dout
, "Took %‡£c⁄d†tÿrun\n", 
Ωs
);

95 
Ωs
 = (Ë
ôî_cou¡
 /Ñps;

96 
	`Ârötf
(
°dout
, "%‡ªq/£c\n", 
Ωs
);

97 
	`fÊush
(
°dout
);

101 
	}
}

103 
	$maö
(
¨gc
, ** 
¨gv
) {

104 i‡(
¨gc
 =2 && 
	`°rcmp
(
¨gv
[1], "infinite") == 0) {

106 
	`bích
(5000000, 1);

109  
	`bích
(5000000, 0);

111 
	}
}

	@deps/http-parser/contrib/parsertrace.c

27 
	~"hâp_∑r£r.h
"

28 
	~<°dio.h
>

29 
	~<°dlib.h
>

30 
	~<°rög.h
>

32 
	$⁄_mesßge_begö
(
hâp_∑r£r
* 
_
) {

33 ()
_
;

34 
	`¥ötf
("\n***MESSAGE BEGIN***\n\n");

36 
	}
}

38 
	$⁄_hódîs_com∂ëe
(
hâp_∑r£r
* 
_
) {

39 ()
_
;

40 
	`¥ötf
("\n***HEADERS COMPLETE***\n\n");

42 
	}
}

44 
	$⁄_mesßge_com∂ëe
(
hâp_∑r£r
* 
_
) {

45 ()
_
;

46 
	`¥ötf
("\n***MESSAGE COMPLETE***\n\n");

48 
	}
}

50 
	$⁄_uæ
(
hâp_∑r£r
* 
_
, c⁄° * 
©
, 
size_t
 
Àngth
) {

51 ()
_
;

52 
	`¥ötf
("Uæ: %.*s\n", ()
Àngth
, 
©
);

54 
	}
}

56 
	$⁄_hódî_fõld
(
hâp_∑r£r
* 
_
, c⁄° * 
©
, 
size_t
 
Àngth
) {

57 ()
_
;

58 
	`¥ötf
("Hódî fõld: %.*s\n", ()
Àngth
, 
©
);

60 
	}
}

62 
	$⁄_hódî_vÆue
(
hâp_∑r£r
* 
_
, c⁄° * 
©
, 
size_t
 
Àngth
) {

63 ()
_
;

64 
	`¥ötf
("Hódî vÆue: %.*s\n", ()
Àngth
, 
©
);

66 
	}
}

68 
	$⁄_body
(
hâp_∑r£r
* 
_
, c⁄° * 
©
, 
size_t
 
Àngth
) {

69 ()
_
;

70 
	`¥ötf
("Body: %.*s\n", ()
Àngth
, 
©
);

72 
	}
}

74 
	$ußge
(c⁄° * 
«me
) {

75 
	`Ârötf
(
°dîr
,

79 
«me
);

80 
	`exô
(
EXIT_FAILURE
);

81 
	}
}

83 
	$maö
(
¨gc
, * 
¨gv
[]) {

84 
hâp_∑r£r_ty≥
 
fûe_ty≥
;

86 i‡(
¨gc
 != 3) {

87 
	`ußge
(
¨gv
[0]);

90 * 
ty≥
 = 
¨gv
[1];

91 i‡(
ty≥
[0] != '-') {

92 
	`ußge
(
¨gv
[0]);

95 
ty≥
[1]) {

98 
fûe_ty≥
 = 
HTTP_RESPONSE
;

101 
fûe_ty≥
 = 
HTTP_REQUEST
;

104 
fûe_ty≥
 = 
HTTP_BOTH
;

107 
	`ußge
(
¨gv
[0]);

110 * 
fûíame
 = 
¨gv
[2];

111 
FILE
* 
fûe
 = 
	`f›í
(
fûíame
, "r");

112 i‡(
fûe
 =
NULL
) {

113 
	`≥º‹
("fopen");

114 
Áû
;

117 
	`f£ek
(
fûe
, 0, 
SEEK_END
);

118 
fûe_Àngth
 = 
	`·ñl
(
fûe
);

119 i‡(
fûe_Àngth
 == -1) {

120 
	`≥º‹
("ftell");

121 
Áû
;

123 
	`f£ek
(
fûe
, 0, 
SEEK_SET
);

125 * 
d©a
 = 
	`mÆloc
(
fûe_Àngth
);

126 i‡(
	`‰ód
(
d©a
, 1, 
fûe_Àngth
, 
fûe
Ë!(
size_t
)file_length) {

127 
	`Ârötf
(
°dîr
, "couldn'tÑeadÉntire file\n");

128 
	`‰ì
(
d©a
);

129 
Áû
;

132 
hâp_∑r£r_£âögs
 
£âögs
;

133 
	`mem£t
(&
£âögs
, 0, (settings));

134 
£âögs
.
⁄_mesßge_begö
 = on_message_begin;

135 
£âögs
.
⁄_uæ
 = on_url;

136 
£âögs
.
⁄_hódî_fõld
 = on_header_field;

137 
£âögs
.
⁄_hódî_vÆue
 = on_header_value;

138 
£âögs
.
⁄_hódîs_com∂ëe
 = on_headers_complete;

139 
£âögs
.
⁄_body
 = on_body;

140 
£âögs
.
⁄_mesßge_com∂ëe
 = on_message_complete;

142 
hâp_∑r£r
 
∑r£r
;

143 
	`hâp_∑r£r_öô
(&
∑r£r
, 
fûe_ty≥
);

144 
size_t
 
≈¨£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs
, 
d©a
, 
fûe_Àngth
);

145 
	`‰ì
(
d©a
);

147 i‡(
≈¨£d
 !(
size_t
)
fûe_Àngth
) {

148 
	`Ârötf
(
°dîr
,

150 
	`hâp_î∫o_des¸ùti⁄
(
	`HTTP_PARSER_ERRNO
(&
∑r£r
)),

151 
	`hâp_î∫o_«me
(
	`HTTP_PARSER_ERRNO
(&
∑r£r
)));

152 
Áû
;

155  
EXIT_SUCCESS
;

157 
Áû
:

158 
	`f˛o£
(
fûe
);

159  
EXIT_FAILURE
;

160 
	}
}

	@deps/http-parser/contrib/url_parser.c

1 
	~"hâp_∑r£r.h
"

2 
	~<°dio.h
>

3 
	~<°rög.h
>

6 
	$dump_uæ
 (c⁄° *
uæ
, c⁄° 
hâp_∑r£r_uæ
 *
u
)

8 
i
;

10 
	`¥ötf
("\tfõld_£t: 0x%x,Ö‹t: %u\n", 
u
->
fõld_£t
, u->
p‹t
);

11 
i
 = 0; i < 
UF_MAX
; i++) {

12 i‡((
u
->
fõld_£t
 & (1 << 
i
)) == 0) {

13 
	`¥ötf
("\tfõld_d©a[%u]: un£t\n", 
i
);

17 
	`¥ötf
("\tfield_data[%u]: off: %u,Üen: %u,Öart: %.*s\n",

18 
i
,

19 
u
->
fõld_d©a
[
i
].
off
,

20 
u
->
fõld_d©a
[
i
].
Àn
,

21 
u
->
fõld_d©a
[
i
].
Àn
,

22 
uæ
 + 
u
->
fõld_d©a
[
i
].
off
);

24 
	}
}

26 
	$maö
(
¨gc
, ** 
¨gv
) {

27 
hâp_∑r£r_uæ
 
u
;

28 
Àn
, 
c⁄√˘
, 
ªsu…
;

30 i‡(
¨gc
 != 3) {

31 
	`¥ötf
("Sy¡ax : %†c⁄√˘|gë uæ\n", 
¨gv
[0]);

34 
Àn
 = 
	`°æí
(
¨gv
[2]);

35 
c⁄√˘
 = 
	`°rcmp
("c⁄√˘", 
¨gv
[1]) == 0 ? 1 : 0;

36 
	`¥ötf
("P¨sög %s, c⁄√˘ %d\n", 
¨gv
[2], 
c⁄√˘
);

38 
ªsu…
 = 
	`hâp_∑r£r_∑r£_uæ
(
¨gv
[2], 
Àn
, 
c⁄√˘
, &
u
);

39 i‡(
ªsu…
 != 0) {

40 
	`¥ötf
("P¨£Éº‹ : %d\n", 
ªsu…
);

41  
ªsu…
;

43 
	`¥ötf
("Parse ok,Ñesult : \n");

44 
	`dump_uæ
(
¨gv
[2], &
u
);

46 
	}
}

	@deps/http-parser/http_parser.c

24 
	~"hâp_∑r£r.h
"

25 
	~<as£π.h
>

26 
	~<°ddef.h
>

27 
	~<˘y≥.h
>

28 
	~<°dlib.h
>

29 
	~<°rög.h
>

30 
	~<limôs.h
>

32 #i‚de‡
ULLONG_MAX


33 
	#ULLONG_MAX
 ((
uöt64_t
Ë-1Ë

	)

36 #i‚de‡
MIN


37 
	#MIN
(
a
,
b
Ë(◊Ë< (bË? (aË: (b))

	)

40 #i‚de‡
ARRAY_SIZE


41 
	#ARRAY_SIZE
(
a
Ë(◊Ë/ (◊)[0]))

	)

44 #i‚de‡
BIT_AT


45 
	#BIT_AT
(
a
, 
i
) \

46 (!!((Ë(
a
)[(Ë(
i
) >> 3] & \

47 (1 << ((Ë(
i
Ë& 7))))

	)

50 #i‚de‡
ELEM_AT


51 
	#ELEM_AT
(
a
, 
i
, 
v
Ë((Ë(iË< 
	`ARRAY_SIZE
◊Ë? (a)[(i)] : (v))

	)

54 
	#SET_ERRNO
(
e
) \

56 
∑r£r
->
hâp_î∫o
 = (
e
); \

57 } 0)

	)

59 
	#CURRENT_STATE
(Ë
p_°©e


	)

60 
	#UPDATE_STATE
(
V
Ë
p_°©e
 = (
°©e
Ë(V);

	)

61 
	#RETURN
(
V
) \

63 
∑r£r
->
°©e
 = 
	`CURRENT_STATE
(); \

64  (
V
); \

65 } 0);

	)

66 
	#REEXECUTE
() \

67 
ªexecuã
; \

68 

	)

70 #ifde‡
__GNUC__


71 
	#LIKELY
(
X
Ë
	`__buûtö_ex≥˘
(!!(X), 1)

	)

72 
	#UNLIKELY
(
X
Ë
	`__buûtö_ex≥˘
(!!(X), 0)

	)

74 
	#LIKELY
(
X
Ë(X)

	)

75 
	#UNLIKELY
(
X
Ë(X)

	)

80 
	#CALLBACK_NOTIFY_
(
FOR
, 
ER
) \

82 
	`as£π
(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_OK
); \

84 i‡(
	`LIKELY
(
£âögs
->
⁄_
##
FOR
)) { \

85 
∑r£r
->
°©e
 = 
	`CURRENT_STATE
(); \

86 i‡(
	`UNLIKELY
(0 !
£âögs
->
⁄_
##
	`FOR
(
∑r£r
))) { \

87 
	`SET_ERRNO
(
HPE_CB_
##
FOR
); \

89 
	`UPDATE_STATE
(
∑r£r
->
°©e
); \

92 i‡(
	`UNLIKELY
(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë!
HPE_OK
)) { \

93  (
ER
); \

96 } 0)

	)

99 
	#CALLBACK_NOTIFY
(
FOR
Ë
	`CALLBACK_NOTIFY_
(FOR, 
p
 - 
d©a
 + 1)

	)

102 
	#CALLBACK_NOTIFY_NOADVANCE
(
FOR
Ë
	`CALLBACK_NOTIFY_
(FOR, 
p
 - 
d©a
)

	)

105 
	#CALLBACK_DATA_
(
FOR
, 
LEN
, 
ER
) \

107 
	`as£π
(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_OK
); \

109 i‡(
FOR
##
_m¨k
) { \

110 i‡(
	`LIKELY
(
£âögs
->
⁄_
##
FOR
)) { \

111 
∑r£r
->
°©e
 = 
	`CURRENT_STATE
(); \

112 i‡(
	`UNLIKELY
(0 != \

113 
£âögs
->
⁄_
##
	`FOR
(
∑r£r
, 
FOR
##
_m¨k
, (
LEN
)))) { \

114 
	`SET_ERRNO
(
HPE_CB_
##
FOR
); \

116 
	`UPDATE_STATE
(
∑r£r
->
°©e
); \

119 i‡(
	`UNLIKELY
(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë!
HPE_OK
)) { \

120  (
ER
); \

123 
FOR
##
_m¨k
 = 
NULL
; \

125 } 0)

	)

128 
	#CALLBACK_DATA
(
FOR
) \

129 
	`CALLBACK_DATA_
(
FOR
, 
p
 - FOR##
_m¨k
,Ö - 
d©a
 + 1)

	)

132 
	#CALLBACK_DATA_NOADVANCE
(
FOR
) \

133 
	`CALLBACK_DATA_
(
FOR
, 
p
 - FOR##
_m¨k
,Ö - 
d©a
)

	)

136 
	#MARK
(
FOR
) \

138 i‡(!
FOR
##
_m¨k
) { \

139 
FOR
##
_m¨k
 = 
p
; \

141 } 0)

	)

154 
	#COUNT_HEADER_SIZE
(
V
) \

156 
∑r£r
->
ƒód
 +(
V
); \

157 i‡(
	`UNLIKELY
(
∑r£r
->
ƒód
 > (
HTTP_MAX_HEADER_SIZE
))) { \

158 
	`SET_ERRNO
(
HPE_HEADER_OVERFLOW
); \

159 
îr‹
; \

161 } 0)

	)

164 
	#PROXY_CONNECTION
 "¥oxy-c⁄√˘i⁄"

	)

165 
	#CONNECTION
 "c⁄√˘i⁄"

	)

166 
	#CONTENT_LENGTH
 "c⁄ã¡-Àngth"

	)

167 
	#TRANSFER_ENCODING
 "å™s„r-ícodög"

	)

168 
	#UPGRADE
 "upgøde"

	)

169 
	#CHUNKED
 "chunked"

	)

170 
	#KEEP_ALIVE
 "kìp-Æive"

	)

171 
	#CLOSE
 "˛o£"

	)

174 c⁄° *
	gmëhod_°rögs
[] =

176 
	#XX
(
num
, 
«me
, 
°rög
Ë#°rög,

	)

177 
HTTP_METHOD_MAP
(
XX
)

178 #unde‡
XX


189 c⁄° 
	gtokís
[256] = {

224 c⁄° 
öt8_t
 
	gunhex
[256] =

236 #i‡
HTTP_PARSER_STRICT


237 
	#T
(
v
Ë0

	)

239 
	#T
(
v
Ë
	)
v

243 c⁄° 
uöt8_t
 
	gn‹mÆ_uæ_ch¨
[32] = {

247 0 | 
T
(2) | 0 | 0 | T(16) | 0 | 0 | 0,

277 #unde‡
T


279 
	e°©e


280 { 
	ms_dód
 = 1

282 , 
	ms_°¨t_ªq_‹_ªs


283 , 
	ms_ªs_‹_ª•_H


284 , 
	ms_°¨t_ªs


285 , 
	ms_ªs_H


286 , 
	ms_ªs_HT


287 , 
	ms_ªs_HTT


288 , 
	ms_ªs_HTTP


289 , 
	ms_ªs_fú°_hâp_maj‹


290 , 
	ms_ªs_hâp_maj‹


291 , 
	ms_ªs_fú°_hâp_mö‹


292 , 
	ms_ªs_hâp_mö‹


293 , 
	ms_ªs_fú°_°©us_code


294 , 
	ms_ªs_°©us_code


295 , 
	ms_ªs_°©us_°¨t


296 , 
	ms_ªs_°©us


297 , 
	ms_ªs_löe_Æmo°_d⁄e


299 , 
	ms_°¨t_ªq


301 , 
	ms_ªq_mëhod


302 , 
	ms_ªq_•a˚s_bef‹e_uæ


303 , 
	ms_ªq_schema


304 , 
	ms_ªq_schema_¶ash


305 , 
	ms_ªq_schema_¶ash_¶ash


306 , 
	ms_ªq_£rvî_°¨t


307 , 
	ms_ªq_£rvî


308 , 
	ms_ªq_£rvî_wôh_©


309 , 
	ms_ªq_∑th


310 , 
	ms_ªq_quîy_°rög_°¨t


311 , 
	ms_ªq_quîy_°rög


312 , 
	ms_ªq_‰agmít_°¨t


313 , 
	ms_ªq_‰agmít


314 , 
	ms_ªq_hâp_°¨t


315 , 
	ms_ªq_hâp_H


316 , 
	ms_ªq_hâp_HT


317 , 
	ms_ªq_hâp_HTT


318 , 
	ms_ªq_hâp_HTTP


319 , 
	ms_ªq_fú°_hâp_maj‹


320 , 
	ms_ªq_hâp_maj‹


321 , 
	ms_ªq_fú°_hâp_mö‹


322 , 
	ms_ªq_hâp_mö‹


323 , 
	ms_ªq_löe_Æmo°_d⁄e


325 , 
	ms_hódî_fõld_°¨t


326 , 
	ms_hódî_fõld


327 , 
	ms_hódî_vÆue_disˇrd_ws


328 , 
	ms_hódî_vÆue_disˇrd_ws_Æmo°_d⁄e


329 , 
	ms_hódî_vÆue_disˇrd_lws


330 , 
	ms_hódî_vÆue_°¨t


331 , 
	ms_hódî_vÆue


332 , 
	ms_hódî_vÆue_lws


334 , 
	ms_hódî_Æmo°_d⁄e


336 , 
	ms_chunk_size_°¨t


337 , 
	ms_chunk_size


338 , 
	ms_chunk_∑ømëîs


339 , 
	ms_chunk_size_Æmo°_d⁄e


341 , 
	ms_hódîs_Æmo°_d⁄e


342 , 
	ms_hódîs_d⁄e


349 , 
	ms_chunk_d©a


350 , 
	ms_chunk_d©a_Æmo°_d⁄e


351 , 
	ms_chunk_d©a_d⁄e


353 , 
	ms_body_idítôy


354 , 
	ms_body_idítôy_eof


356 , 
	ms_mesßge_d⁄e


360 
	#PARSING_HEADER
(
°©e
Ë(°©ê<
s_hódîs_d⁄e
)

	)

363 
	ehódî_°©es


364 { 
	mh_gíîÆ
 = 0

365 , 
	mh_C


366 , 
	mh_CO


367 , 
	mh_CON


369 , 
	mh_m©chög_c⁄√˘i⁄


370 , 
	mh_m©chög_¥oxy_c⁄√˘i⁄


371 , 
	mh_m©chög_c⁄ã¡_Àngth


372 , 
	mh_m©chög_å™s„r_ícodög


373 , 
	mh_m©chög_upgøde


375 , 
	mh_c⁄√˘i⁄


376 , 
	mh_c⁄ã¡_Àngth


377 , 
	mh_å™s„r_ícodög


378 , 
	mh_upgøde


380 , 
	mh_m©chög_å™s„r_ícodög_chunked


381 , 
	mh_m©chög_c⁄√˘i⁄_tokí_°¨t


382 , 
	mh_m©chög_c⁄√˘i⁄_kìp_Æive


383 , 
	mh_m©chög_c⁄√˘i⁄_˛o£


384 , 
	mh_m©chög_c⁄√˘i⁄_upgøde


385 , 
	mh_m©chög_c⁄√˘i⁄_tokí


387 , 
	mh_å™s„r_ícodög_chunked


388 , 
	mh_c⁄√˘i⁄_kìp_Æive


389 , 
	mh_c⁄√˘i⁄_˛o£


390 , 
	mh_c⁄√˘i⁄_upgøde


393 
	ehâp_ho°_°©e


395 
	ms_hâp_ho°_dód
 = 1

396 , 
	ms_hâp_u£röfo_°¨t


397 , 
	ms_hâp_u£röfo


398 , 
	ms_hâp_ho°_°¨t


399 , 
	ms_hâp_ho°_v6_°¨t


400 , 
	ms_hâp_ho°


401 , 
	ms_hâp_ho°_v6


402 , 
	ms_hâp_ho°_v6_íd


403 , 
	ms_hâp_ho°_p‹t_°¨t


404 , 
	ms_hâp_ho°_p‹t


408 
	#CR
 '\r'

	)

409 
	#LF
 '\n'

	)

410 
	#LOWER
(
c
Ë()(¯| 0x20)

	)

411 
	#IS_ALPHA
(
c
Ë(
	`LOWER
(cË>'a' && LOWER(cË<'z')

	)

412 
	#IS_NUM
(
c
Ë((cË>'0' && (cË<'9')

	)

413 
	#IS_ALPHANUM
(
c
Ë(
	`IS_ALPHA
(cË|| 
	`IS_NUM
(c))

	)

414 
	#IS_HEX
(
c
Ë(
	`IS_NUM
(cË|| (
	`LOWER
(cË>'a' && LOWER(cË<'f'))

	)

415 
	#IS_MARK
(
c
) ((c) == '-' || (c) == '_' || (c) == '.' || \

416 (
c
) == '!' || (c) == '~' || (c) == '*' || (c) == '\'' || (c) == '(' || \

417 (
c
Ë=')')

	)

418 
	#IS_USERINFO_CHAR
(
c
Ë(
	`IS_ALPHANUM
(cË|| 
	`IS_MARK
(c) || (c) == '%' || \

419 (
c
) == ';' || (c) == ':' || (c) == '&' || (c) == '=' || (c) == '+' || \

420 (
c
Ë='$' || (cË=',')

	)

422 
	#STRICT_TOKEN
(
c
Ë(
tokís
[()c])

	)

424 #i‡
HTTP_PARSER_STRICT


425 
	#TOKEN
(
c
Ë(
tokís
[()c])

	)

426 
	#IS_URL_CHAR
(
c
Ë(
	`BIT_AT
(
n‹mÆ_uæ_ch¨
, ()c))

	)

427 
	#IS_HOST_CHAR
(
c
Ë(
	`IS_ALPHANUM
(cË|| (cË='.' || (cË='-')

	)

429 
	#TOKEN
(
c
Ë((¯=' 'Ë? ' ' : 
tokís
[()c])

	)

430 
	#IS_URL_CHAR
(
c
) \

431 (
	`BIT_AT
(
n‹mÆ_uæ_ch¨
, ()
c
Ë|| ((cË& 0x80))

	)

432 
	#IS_HOST_CHAR
(
c
) \

433 (
	`IS_ALPHANUM
(
c
Ë|| (cË='.' || (cË='-' || (cË='_')

	)

437 
	#°¨t_°©e
 (
∑r£r
->
ty≥
 =
HTTP_REQUEST
 ? 
s_°¨t_ªq
 : 
s_°¨t_ªs
)

	)

440 #i‡
HTTP_PARSER_STRICT


441 
	#STRICT_CHECK
(
c⁄d
) \

443 i‡(
c⁄d
) { \

444 
	`SET_ERRNO
(
HPE_STRICT
); \

445 
îr‹
; \

447 } 0)

	)

448 
	#NEW_MESSAGE
(Ë(
	`hâp_should_kìp_Æive
(
∑r£r
Ë? 
°¨t_°©e
 : 
s_dód
)

	)

450 
	#STRICT_CHECK
(
c⁄d
)

	)

451 
	#NEW_MESSAGE
(Ë
°¨t_°©e


	)

456 #ifde‡
HTTPPARSER_ENABLE_MEMORY_CONSTRAINTS


457 
	#HTTP_STRERROR_GEN
(
n
, 
s
Ë{ "HPE_" #n, "" },

	)

459 
	#HTTP_STRERROR_GEN
(
n
, 
s
Ë{ "HPE_" #n, s },

	)

462 c⁄° *
	m«me
;

463 c⁄° *
	mdes¸ùti⁄
;

464 } 
	ghâp_°ªº‹_èb
[] = {

465 
HTTP_ERRNO_MAP
(
HTTP_STRERROR_GEN
)

467 #unde‡
HTTP_STRERROR_GEN


469 
hâp_mesßge_√eds_eof
(c⁄° 
hâp_∑r£r
 *
∑r£r
);

482 
°©e


483 
	$∑r£_uæ_ch¨
(
°©e
 
s
, c⁄° 
ch
)

485 i‡(
ch
 == ' ' || ch == '\r' || ch == '\n') {

486  
s_dód
;

489 #i‡
HTTP_PARSER_STRICT


490 i‡(
ch
 == '\t' || ch == '\f') {

491  
s_dód
;

495 
s
) {

496 
s_ªq_•a˚s_bef‹e_uæ
:

501 i‡(
ch
 == '/' || ch == '*') {

502  
s_ªq_∑th
;

505 i‡(
	`IS_ALPHA
(
ch
)) {

506  
s_ªq_schema
;

511 
s_ªq_schema
:

512 i‡(
	`IS_ALPHA
(
ch
)) {

513  
s
;

516 i‡(
ch
 == ':') {

517  
s_ªq_schema_¶ash
;

522 
s_ªq_schema_¶ash
:

523 i‡(
ch
 == '/') {

524  
s_ªq_schema_¶ash_¶ash
;

529 
s_ªq_schema_¶ash_¶ash
:

530 i‡(
ch
 == '/') {

531  
s_ªq_£rvî_°¨t
;

536 
s_ªq_£rvî_wôh_©
:

537 i‡(
ch
 == '@') {

538  
s_dód
;

542 
s_ªq_£rvî_°¨t
:

543 
s_ªq_£rvî
:

544 i‡(
ch
 == '/') {

545  
s_ªq_∑th
;

548 i‡(
ch
 == '?') {

549  
s_ªq_quîy_°rög_°¨t
;

552 i‡(
ch
 == '@') {

553  
s_ªq_£rvî_wôh_©
;

556 i‡(
	`IS_USERINFO_CHAR
(
ch
) || ch == '[' || ch == ']') {

557  
s_ªq_£rvî
;

562 
s_ªq_∑th
:

563 i‡(
	`IS_URL_CHAR
(
ch
)) {

564  
s
;

567 
ch
) {

569  
s_ªq_quîy_°rög_°¨t
;

572  
s_ªq_‰agmít_°¨t
;

577 
s_ªq_quîy_°rög_°¨t
:

578 
s_ªq_quîy_°rög
:

579 i‡(
	`IS_URL_CHAR
(
ch
)) {

580  
s_ªq_quîy_°rög
;

583 
ch
) {

586  
s_ªq_quîy_°rög
;

589  
s_ªq_‰agmít_°¨t
;

594 
s_ªq_‰agmít_°¨t
:

595 i‡(
	`IS_URL_CHAR
(
ch
)) {

596  
s_ªq_‰agmít
;

599 
ch
) {

601  
s_ªq_‰agmít
;

604  
s
;

609 
s_ªq_‰agmít
:

610 i‡(
	`IS_URL_CHAR
(
ch
)) {

611  
s
;

614 
ch
) {

617  
s
;

627  
s_dód
;

628 
	}
}

630 
size_t
 
	$hâp_∑r£r_execuã
 (
hâp_∑r£r
 *
∑r£r
,

631 c⁄° 
hâp_∑r£r_£âögs
 *
£âögs
,

632 c⁄° *
d©a
,

633 
size_t
 
Àn
)

635 
c
, 
ch
;

636 
öt8_t
 
unhex_vÆ
;

637 c⁄° *
p
 = 
d©a
;

638 c⁄° *
hódî_fõld_m¨k
 = 0;

639 c⁄° *
hódî_vÆue_m¨k
 = 0;

640 c⁄° *
uæ_m¨k
 = 0;

641 c⁄° *
body_m¨k
 = 0;

642 c⁄° *
°©us_m¨k
 = 0;

643 
°©e
 
p_°©e
 = (°©eË
∑r£r
->state;

646 i‡(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë!
HPE_OK
) {

650 i‡(
Àn
 == 0) {

651 
	`CURRENT_STATE
()) {

652 
s_body_idítôy_eof
:

656 
	`CALLBACK_NOTIFY_NOADVANCE
(
mesßge_com∂ëe
);

659 
s_dód
:

660 
s_°¨t_ªq_‹_ªs
:

661 
s_°¨t_ªs
:

662 
s_°¨t_ªq
:

666 
	`SET_ERRNO
(
HPE_INVALID_EOF_STATE
);

672 i‡(
	`CURRENT_STATE
(Ë=
s_hódî_fõld
)

673 
hódî_fõld_m¨k
 = 
d©a
;

674 i‡(
	`CURRENT_STATE
(Ë=
s_hódî_vÆue
)

675 
hódî_vÆue_m¨k
 = 
d©a
;

676 
	`CURRENT_STATE
()) {

677 
s_ªq_∑th
:

678 
s_ªq_schema
:

679 
s_ªq_schema_¶ash
:

680 
s_ªq_schema_¶ash_¶ash
:

681 
s_ªq_£rvî_°¨t
:

682 
s_ªq_£rvî
:

683 
s_ªq_£rvî_wôh_©
:

684 
s_ªq_quîy_°rög_°¨t
:

685 
s_ªq_quîy_°rög
:

686 
s_ªq_‰agmít_°¨t
:

687 
s_ªq_‰agmít
:

688 
uæ_m¨k
 = 
d©a
;

690 
s_ªs_°©us
:

691 
°©us_m¨k
 = 
d©a
;

697 
p
=
d©a
;Ö !d©®+ 
Àn
;Ö++) {

698 
ch
 = *
p
;

700 i‡(
	`PARSING_HEADER
(
	`CURRENT_STATE
()))

701 
	`COUNT_HEADER_SIZE
(1);

703 
ªexecuã
:

704 
	`CURRENT_STATE
()) {

706 
s_dód
:

710 i‡(
	`LIKELY
(
ch
 =
CR
 || ch =
LF
))

713 
	`SET_ERRNO
(
HPE_CLOSED_CONNECTION
);

714 
îr‹
;

716 
s_°¨t_ªq_‹_ªs
:

718 i‡(
ch
 =
CR
 || ch =
LF
)

720 
∑r£r
->
Êags
 = 0;

721 
∑r£r
->
c⁄ã¡_Àngth
 = 
ULLONG_MAX
;

723 i‡(
ch
 == 'H') {

724 
	`UPDATE_STATE
(
s_ªs_‹_ª•_H
);

726 
	`CALLBACK_NOTIFY
(
mesßge_begö
);

728 
∑r£r
->
ty≥
 = 
HTTP_REQUEST
;

729 
	`UPDATE_STATE
(
s_°¨t_ªq
);

730 
	`REEXECUTE
();

736 
s_ªs_‹_ª•_H
:

737 i‡(
ch
 == 'T') {

738 
∑r£r
->
ty≥
 = 
HTTP_RESPONSE
;

739 
	`UPDATE_STATE
(
s_ªs_HT
);

741 i‡(
	`UNLIKELY
(
ch
 != 'E')) {

742 
	`SET_ERRNO
(
HPE_INVALID_CONSTANT
);

743 
îr‹
;

746 
∑r£r
->
ty≥
 = 
HTTP_REQUEST
;

747 
∑r£r
->
mëhod
 = 
HTTP_HEAD
;

748 
∑r£r
->
ödex
 = 2;

749 
	`UPDATE_STATE
(
s_ªq_mëhod
);

753 
s_°¨t_ªs
:

755 
∑r£r
->
Êags
 = 0;

756 
∑r£r
->
c⁄ã¡_Àngth
 = 
ULLONG_MAX
;

758 
ch
) {

760 
	`UPDATE_STATE
(
s_ªs_H
);

763 
CR
:

764 
LF
:

768 
	`SET_ERRNO
(
HPE_INVALID_CONSTANT
);

769 
îr‹
;

772 
	`CALLBACK_NOTIFY
(
mesßge_begö
);

776 
s_ªs_H
:

777 
	`STRICT_CHECK
(
ch
 != 'T');

778 
	`UPDATE_STATE
(
s_ªs_HT
);

781 
s_ªs_HT
:

782 
	`STRICT_CHECK
(
ch
 != 'T');

783 
	`UPDATE_STATE
(
s_ªs_HTT
);

786 
s_ªs_HTT
:

787 
	`STRICT_CHECK
(
ch
 != 'P');

788 
	`UPDATE_STATE
(
s_ªs_HTTP
);

791 
s_ªs_HTTP
:

792 
	`STRICT_CHECK
(
ch
 != '/');

793 
	`UPDATE_STATE
(
s_ªs_fú°_hâp_maj‹
);

796 
s_ªs_fú°_hâp_maj‹
:

797 i‡(
	`UNLIKELY
(
ch
 < '0' || ch > '9')) {

798 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

799 
îr‹
;

802 
∑r£r
->
hâp_maj‹
 = 
ch
 - '0';

803 
	`UPDATE_STATE
(
s_ªs_hâp_maj‹
);

807 
s_ªs_hâp_maj‹
:

809 i‡(
ch
 == '.') {

810 
	`UPDATE_STATE
(
s_ªs_fú°_hâp_mö‹
);

814 i‡(!
	`IS_NUM
(
ch
)) {

815 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

816 
îr‹
;

819 
∑r£r
->
hâp_maj‹
 *= 10;

820 
∑r£r
->
hâp_maj‹
 +
ch
 - '0';

822 i‡(
	`UNLIKELY
(
∑r£r
->
hâp_maj‹
 > 999)) {

823 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

824 
îr‹
;

831 
s_ªs_fú°_hâp_mö‹
:

832 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

833 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

834 
îr‹
;

837 
∑r£r
->
hâp_mö‹
 = 
ch
 - '0';

838 
	`UPDATE_STATE
(
s_ªs_hâp_mö‹
);

842 
s_ªs_hâp_mö‹
:

844 i‡(
ch
 == ' ') {

845 
	`UPDATE_STATE
(
s_ªs_fú°_°©us_code
);

849 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

850 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

851 
îr‹
;

854 
∑r£r
->
hâp_mö‹
 *= 10;

855 
∑r£r
->
hâp_mö‹
 +
ch
 - '0';

857 i‡(
	`UNLIKELY
(
∑r£r
->
hâp_mö‹
 > 999)) {

858 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

859 
îr‹
;

865 
s_ªs_fú°_°©us_code
:

867 i‡(!
	`IS_NUM
(
ch
)) {

868 i‡(
ch
 == ' ') {

872 
	`SET_ERRNO
(
HPE_INVALID_STATUS
);

873 
îr‹
;

875 
∑r£r
->
°©us_code
 = 
ch
 - '0';

876 
	`UPDATE_STATE
(
s_ªs_°©us_code
);

880 
s_ªs_°©us_code
:

882 i‡(!
	`IS_NUM
(
ch
)) {

883 
ch
) {

885 
	`UPDATE_STATE
(
s_ªs_°©us_°¨t
);

887 
CR
:

888 
	`UPDATE_STATE
(
s_ªs_löe_Æmo°_d⁄e
);

890 
LF
:

891 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

894 
	`SET_ERRNO
(
HPE_INVALID_STATUS
);

895 
îr‹
;

900 
∑r£r
->
°©us_code
 *= 10;

901 
∑r£r
->
°©us_code
 +
ch
 - '0';

903 i‡(
	`UNLIKELY
(
∑r£r
->
°©us_code
 > 999)) {

904 
	`SET_ERRNO
(
HPE_INVALID_STATUS
);

905 
îr‹
;

911 
s_ªs_°©us_°¨t
:

913 i‡(
ch
 =
CR
) {

914 
	`UPDATE_STATE
(
s_ªs_löe_Æmo°_d⁄e
);

918 i‡(
ch
 =
LF
) {

919 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

923 
	`MARK
(
°©us
);

924 
	`UPDATE_STATE
(
s_ªs_°©us
);

925 
∑r£r
->
ödex
 = 0;

929 
s_ªs_°©us
:

930 i‡(
ch
 =
CR
) {

931 
	`UPDATE_STATE
(
s_ªs_löe_Æmo°_d⁄e
);

932 
	`CALLBACK_DATA
(
°©us
);

936 i‡(
ch
 =
LF
) {

937 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

938 
	`CALLBACK_DATA
(
°©us
);

944 
s_ªs_löe_Æmo°_d⁄e
:

945 
	`STRICT_CHECK
(
ch
 !
LF
);

946 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

949 
s_°¨t_ªq
:

951 i‡(
ch
 =
CR
 || ch =
LF
)

953 
∑r£r
->
Êags
 = 0;

954 
∑r£r
->
c⁄ã¡_Àngth
 = 
ULLONG_MAX
;

956 i‡(
	`UNLIKELY
(!
	`IS_ALPHA
(
ch
))) {

957 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

958 
îr‹
;

961 
∑r£r
->
mëhod
 = (
hâp_mëhod
) 0;

962 
∑r£r
->
ödex
 = 1;

963 
ch
) {

964 'C': 
∑r£r
->
mëhod
 = 
HTTP_CONNECT
; ;

965 'D': 
∑r£r
->
mëhod
 = 
HTTP_DELETE
; ;

966 'G': 
∑r£r
->
mëhod
 = 
HTTP_GET
; ;

967 'H': 
∑r£r
->
mëhod
 = 
HTTP_HEAD
; ;

968 'L': 
∑r£r
->
mëhod
 = 
HTTP_LOCK
; ;

969 'M': 
∑r£r
->
mëhod
 = 
HTTP_MKCOL
; ;

970 'N': 
∑r£r
->
mëhod
 = 
HTTP_NOTIFY
; ;

971 'O': 
∑r£r
->
mëhod
 = 
HTTP_OPTIONS
; ;

972 'P': 
∑r£r
->
mëhod
 = 
HTTP_POST
;

975 'R': 
∑r£r
->
mëhod
 = 
HTTP_REPORT
; ;

976 'S': 
∑r£r
->
mëhod
 = 
HTTP_SUBSCRIBE
; ;

977 'T': 
∑r£r
->
mëhod
 = 
HTTP_TRACE
; ;

978 'U': 
∑r£r
->
mëhod
 = 
HTTP_UNLOCK
; ;

980 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

981 
îr‹
;

983 
	`UPDATE_STATE
(
s_ªq_mëhod
);

985 
	`CALLBACK_NOTIFY
(
mesßge_begö
);

990 
s_ªq_mëhod
:

992 c⁄° *
m©chî
;

993 i‡(
	`UNLIKELY
(
ch
 == '\0')) {

994 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

995 
îr‹
;

998 
m©chî
 = 
mëhod_°rögs
[
∑r£r
->
mëhod
];

999 i‡(
ch
 =' ' && 
m©chî
[
∑r£r
->
ödex
] == '\0') {

1000 
	`UPDATE_STATE
(
s_ªq_•a˚s_bef‹e_uæ
);

1001 } i‡(
ch
 =
m©chî
[
∑r£r
->
ödex
]) {

1003 } i‡(
∑r£r
->
mëhod
 =
HTTP_CONNECT
) {

1004 i‡(
∑r£r
->
ödex
 =1 && 
ch
 == 'H') {

1005 
∑r£r
->
mëhod
 = 
HTTP_CHECKOUT
;

1006 } i‡(
∑r£r
->
ödex
 =2 && 
ch
 == 'P') {

1007 
∑r£r
->
mëhod
 = 
HTTP_COPY
;

1009 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1010 
îr‹
;

1012 } i‡(
∑r£r
->
mëhod
 =
HTTP_MKCOL
) {

1013 i‡(
∑r£r
->
ödex
 =1 && 
ch
 == 'O') {

1014 
∑r£r
->
mëhod
 = 
HTTP_MOVE
;

1015 } i‡(
∑r£r
->
ödex
 =1 && 
ch
 == 'E') {

1016 
∑r£r
->
mëhod
 = 
HTTP_MERGE
;

1017 } i‡(
∑r£r
->
ödex
 =1 && 
ch
 == '-') {

1018 
∑r£r
->
mëhod
 = 
HTTP_MSEARCH
;

1019 } i‡(
∑r£r
->
ödex
 =2 && 
ch
 == 'A') {

1020 
∑r£r
->
mëhod
 = 
HTTP_MKACTIVITY
;

1021 } i‡(
∑r£r
->
ödex
 =3 && 
ch
 == 'A') {

1022 
∑r£r
->
mëhod
 = 
HTTP_MKCALENDAR
;

1024 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1025 
îr‹
;

1027 } i‡(
∑r£r
->
mëhod
 =
HTTP_SUBSCRIBE
) {

1028 i‡(
∑r£r
->
ödex
 =1 && 
ch
 == 'E') {

1029 
∑r£r
->
mëhod
 = 
HTTP_SEARCH
;

1031 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1032 
îr‹
;

1034 } i‡(
∑r£r
->
ödex
 =1 &&Ö¨£r->
mëhod
 =
HTTP_POST
) {

1035 i‡(
ch
 == 'R') {

1036 
∑r£r
->
mëhod
 = 
HTTP_PROPFIND
;

1037 } i‡(
ch
 == 'U') {

1038 
∑r£r
->
mëhod
 = 
HTTP_PUT
;

1039 } i‡(
ch
 == 'A') {

1040 
∑r£r
->
mëhod
 = 
HTTP_PATCH
;

1042 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1043 
îr‹
;

1045 } i‡(
∑r£r
->
ödex
 == 2) {

1046 i‡(
∑r£r
->
mëhod
 =
HTTP_PUT
) {

1047 i‡(
ch
 == 'R') {

1048 
∑r£r
->
mëhod
 = 
HTTP_PURGE
;

1050 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1051 
îr‹
;

1053 } i‡(
∑r£r
->
mëhod
 =
HTTP_UNLOCK
) {

1054 i‡(
ch
 == 'S') {

1055 
∑r£r
->
mëhod
 = 
HTTP_UNSUBSCRIBE
;

1057 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1058 
îr‹
;

1061 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1062 
îr‹
;

1064 } i‡(
∑r£r
->
ödex
 =4 &&Ö¨£r->
mëhod
 =
HTTP_PROPFIND
 && 
ch
 == 'P') {

1065 
∑r£r
->
mëhod
 = 
HTTP_PROPPATCH
;

1067 
	`SET_ERRNO
(
HPE_INVALID_METHOD
);

1068 
îr‹
;

1071 ++
∑r£r
->
ödex
;

1075 
s_ªq_•a˚s_bef‹e_uæ
:

1077 i‡(
ch
 == ' ') ;

1079 
	`MARK
(
uæ
);

1080 i‡(
∑r£r
->
mëhod
 =
HTTP_CONNECT
) {

1081 
	`UPDATE_STATE
(
s_ªq_£rvî_°¨t
);

1084 
	`UPDATE_STATE
(
	`∑r£_uæ_ch¨
(
	`CURRENT_STATE
(), 
ch
));

1085 i‡(
	`UNLIKELY
(
	`CURRENT_STATE
(Ë=
s_dód
)) {

1086 
	`SET_ERRNO
(
HPE_INVALID_URL
);

1087 
îr‹
;

1093 
s_ªq_schema
:

1094 
s_ªq_schema_¶ash
:

1095 
s_ªq_schema_¶ash_¶ash
:

1096 
s_ªq_£rvî_°¨t
:

1098 
ch
) {

1101 
CR
:

1102 
LF
:

1103 
	`SET_ERRNO
(
HPE_INVALID_URL
);

1104 
îr‹
;

1106 
	`UPDATE_STATE
(
	`∑r£_uæ_ch¨
(
	`CURRENT_STATE
(), 
ch
));

1107 i‡(
	`UNLIKELY
(
	`CURRENT_STATE
(Ë=
s_dód
)) {

1108 
	`SET_ERRNO
(
HPE_INVALID_URL
);

1109 
îr‹
;

1116 
s_ªq_£rvî
:

1117 
s_ªq_£rvî_wôh_©
:

1118 
s_ªq_∑th
:

1119 
s_ªq_quîy_°rög_°¨t
:

1120 
s_ªq_quîy_°rög
:

1121 
s_ªq_‰agmít_°¨t
:

1122 
s_ªq_‰agmít
:

1124 
ch
) {

1126 
	`UPDATE_STATE
(
s_ªq_hâp_°¨t
);

1127 
	`CALLBACK_DATA
(
uæ
);

1129 
CR
:

1130 
LF
:

1131 
∑r£r
->
hâp_maj‹
 = 0;

1132 
∑r£r
->
hâp_mö‹
 = 9;

1133 
	`UPDATE_STATE
((
ch
 =
CR
) ?

1134 
s_ªq_löe_Æmo°_d⁄e
 :

1135 
s_hódî_fõld_°¨t
);

1136 
	`CALLBACK_DATA
(
uæ
);

1139 
	`UPDATE_STATE
(
	`∑r£_uæ_ch¨
(
	`CURRENT_STATE
(), 
ch
));

1140 i‡(
	`UNLIKELY
(
	`CURRENT_STATE
(Ë=
s_dód
)) {

1141 
	`SET_ERRNO
(
HPE_INVALID_URL
);

1142 
îr‹
;

1148 
s_ªq_hâp_°¨t
:

1149 
ch
) {

1151 
	`UPDATE_STATE
(
s_ªq_hâp_H
);

1156 
	`SET_ERRNO
(
HPE_INVALID_CONSTANT
);

1157 
îr‹
;

1161 
s_ªq_hâp_H
:

1162 
	`STRICT_CHECK
(
ch
 != 'T');

1163 
	`UPDATE_STATE
(
s_ªq_hâp_HT
);

1166 
s_ªq_hâp_HT
:

1167 
	`STRICT_CHECK
(
ch
 != 'T');

1168 
	`UPDATE_STATE
(
s_ªq_hâp_HTT
);

1171 
s_ªq_hâp_HTT
:

1172 
	`STRICT_CHECK
(
ch
 != 'P');

1173 
	`UPDATE_STATE
(
s_ªq_hâp_HTTP
);

1176 
s_ªq_hâp_HTTP
:

1177 
	`STRICT_CHECK
(
ch
 != '/');

1178 
	`UPDATE_STATE
(
s_ªq_fú°_hâp_maj‹
);

1182 
s_ªq_fú°_hâp_maj‹
:

1183 i‡(
	`UNLIKELY
(
ch
 < '1' || ch > '9')) {

1184 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

1185 
îr‹
;

1188 
∑r£r
->
hâp_maj‹
 = 
ch
 - '0';

1189 
	`UPDATE_STATE
(
s_ªq_hâp_maj‹
);

1193 
s_ªq_hâp_maj‹
:

1195 i‡(
ch
 == '.') {

1196 
	`UPDATE_STATE
(
s_ªq_fú°_hâp_mö‹
);

1200 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

1201 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

1202 
îr‹
;

1205 
∑r£r
->
hâp_maj‹
 *= 10;

1206 
∑r£r
->
hâp_maj‹
 +
ch
 - '0';

1208 i‡(
	`UNLIKELY
(
∑r£r
->
hâp_maj‹
 > 999)) {

1209 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

1210 
îr‹
;

1217 
s_ªq_fú°_hâp_mö‹
:

1218 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

1219 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

1220 
îr‹
;

1223 
∑r£r
->
hâp_mö‹
 = 
ch
 - '0';

1224 
	`UPDATE_STATE
(
s_ªq_hâp_mö‹
);

1228 
s_ªq_hâp_mö‹
:

1230 i‡(
ch
 =
CR
) {

1231 
	`UPDATE_STATE
(
s_ªq_löe_Æmo°_d⁄e
);

1235 i‡(
ch
 =
LF
) {

1236 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

1242 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

1243 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

1244 
îr‹
;

1247 
∑r£r
->
hâp_mö‹
 *= 10;

1248 
∑r£r
->
hâp_mö‹
 +
ch
 - '0';

1250 i‡(
	`UNLIKELY
(
∑r£r
->
hâp_mö‹
 > 999)) {

1251 
	`SET_ERRNO
(
HPE_INVALID_VERSION
);

1252 
îr‹
;

1259 
s_ªq_löe_Æmo°_d⁄e
:

1261 i‡(
	`UNLIKELY
(
ch
 !
LF
)) {

1262 
	`SET_ERRNO
(
HPE_LF_EXPECTED
);

1263 
îr‹
;

1266 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

1270 
s_hódî_fõld_°¨t
:

1272 i‡(
ch
 =
CR
) {

1273 
	`UPDATE_STATE
(
s_hódîs_Æmo°_d⁄e
);

1277 i‡(
ch
 =
LF
) {

1280 
	`UPDATE_STATE
(
s_hódîs_Æmo°_d⁄e
);

1281 
	`REEXECUTE
();

1284 
c
 = 
	`TOKEN
(
ch
);

1286 i‡(
	`UNLIKELY
(!
c
)) {

1287 
	`SET_ERRNO
(
HPE_INVALID_HEADER_TOKEN
);

1288 
îr‹
;

1291 
	`MARK
(
hódî_fõld
);

1293 
∑r£r
->
ödex
 = 0;

1294 
	`UPDATE_STATE
(
s_hódî_fõld
);

1296 
c
) {

1298 
∑r£r
->
hódî_°©e
 = 
h_C
;

1302 
∑r£r
->
hódî_°©e
 = 
h_m©chög_¥oxy_c⁄√˘i⁄
;

1306 
∑r£r
->
hódî_°©e
 = 
h_m©chög_å™s„r_ícodög
;

1310 
∑r£r
->
hódî_°©e
 = 
h_m©chög_upgøde
;

1314 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1320 
s_hódî_fõld
:

1322 c⁄° * 
°¨t
 = 
p
;

1323 ; 
p
 !
d©a
 + 
Àn
;Ö++) {

1324 
ch
 = *
p
;

1325 
c
 = 
	`TOKEN
(
ch
);

1327 i‡(!
c
)

1330 
∑r£r
->
hódî_°©e
) {

1331 
h_gíîÆ
:

1334 
h_C
:

1335 
∑r£r
->
ödex
++;

1336 
∑r£r
->
hódî_°©e
 = (
c
 ='o' ? 
h_CO
 : 
h_gíîÆ
);

1339 
h_CO
:

1340 
∑r£r
->
ödex
++;

1341 
∑r£r
->
hódî_°©e
 = (
c
 ='n' ? 
h_CON
 : 
h_gíîÆ
);

1344 
h_CON
:

1345 
∑r£r
->
ödex
++;

1346 
c
) {

1348 
∑r£r
->
hódî_°©e
 = 
h_m©chög_c⁄√˘i⁄
;

1351 
∑r£r
->
hódî_°©e
 = 
h_m©chög_c⁄ã¡_Àngth
;

1354 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1361 
h_m©chög_c⁄√˘i⁄
:

1362 
∑r£r
->
ödex
++;

1363 i‡(
∑r£r
->
ödex
 > (
CONNECTION
)-1

1364 || 
c
 !
CONNECTION
[
∑r£r
->
ödex
]) {

1365 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1366 } i‡(
∑r£r
->
ödex
 =(
CONNECTION
)-2) {

1367 
∑r£r
->
hódî_°©e
 = 
h_c⁄√˘i⁄
;

1373 
h_m©chög_¥oxy_c⁄√˘i⁄
:

1374 
∑r£r
->
ödex
++;

1375 i‡(
∑r£r
->
ödex
 > (
PROXY_CONNECTION
)-1

1376 || 
c
 !
PROXY_CONNECTION
[
∑r£r
->
ödex
]) {

1377 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1378 } i‡(
∑r£r
->
ödex
 =(
PROXY_CONNECTION
)-2) {

1379 
∑r£r
->
hódî_°©e
 = 
h_c⁄√˘i⁄
;

1385 
h_m©chög_c⁄ã¡_Àngth
:

1386 
∑r£r
->
ödex
++;

1387 i‡(
∑r£r
->
ödex
 > (
CONTENT_LENGTH
)-1

1388 || 
c
 !
CONTENT_LENGTH
[
∑r£r
->
ödex
]) {

1389 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1390 } i‡(
∑r£r
->
ödex
 =(
CONTENT_LENGTH
)-2) {

1391 
∑r£r
->
hódî_°©e
 = 
h_c⁄ã¡_Àngth
;

1397 
h_m©chög_å™s„r_ícodög
:

1398 
∑r£r
->
ödex
++;

1399 i‡(
∑r£r
->
ödex
 > (
TRANSFER_ENCODING
)-1

1400 || 
c
 !
TRANSFER_ENCODING
[
∑r£r
->
ödex
]) {

1401 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1402 } i‡(
∑r£r
->
ödex
 =(
TRANSFER_ENCODING
)-2) {

1403 
∑r£r
->
hódî_°©e
 = 
h_å™s„r_ícodög
;

1409 
h_m©chög_upgøde
:

1410 
∑r£r
->
ödex
++;

1411 i‡(
∑r£r
->
ödex
 > (
UPGRADE
)-1

1412 || 
c
 !
UPGRADE
[
∑r£r
->
ödex
]) {

1413 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1414 } i‡(
∑r£r
->
ödex
 =(
UPGRADE
)-2) {

1415 
∑r£r
->
hódî_°©e
 = 
h_upgøde
;

1419 
h_c⁄√˘i⁄
:

1420 
h_c⁄ã¡_Àngth
:

1421 
h_å™s„r_ícodög
:

1422 
h_upgøde
:

1423 i‡(
ch
 !' 'Ë
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1427 
	`as£π
(0 && "Unknown header_state");

1432 
	`COUNT_HEADER_SIZE
(
p
 - 
°¨t
);

1434 i‡(
p
 =
d©a
 + 
Àn
) {

1435 --
p
;

1439 i‡(
ch
 == ':') {

1440 
	`UPDATE_STATE
(
s_hódî_vÆue_disˇrd_ws
);

1441 
	`CALLBACK_DATA
(
hódî_fõld
);

1445 
	`SET_ERRNO
(
HPE_INVALID_HEADER_TOKEN
);

1446 
îr‹
;

1449 
s_hódî_vÆue_disˇrd_ws
:

1450 i‡(
ch
 == ' ' || ch == '\t') ;

1452 i‡(
ch
 =
CR
) {

1453 
	`UPDATE_STATE
(
s_hódî_vÆue_disˇrd_ws_Æmo°_d⁄e
);

1457 i‡(
ch
 =
LF
) {

1458 
	`UPDATE_STATE
(
s_hódî_vÆue_disˇrd_lws
);

1464 
s_hódî_vÆue_°¨t
:

1466 
	`MARK
(
hódî_vÆue
);

1468 
	`UPDATE_STATE
(
s_hódî_vÆue
);

1469 
∑r£r
->
ödex
 = 0;

1471 
c
 = 
	`LOWER
(
ch
);

1473 
∑r£r
->
hódî_°©e
) {

1474 
h_upgøde
:

1475 
∑r£r
->
Êags
 |
F_UPGRADE
;

1476 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1479 
h_å™s„r_ícodög
:

1481 i‡('c' =
c
) {

1482 
∑r£r
->
hódî_°©e
 = 
h_m©chög_å™s„r_ícodög_chunked
;

1484 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1488 
h_c⁄ã¡_Àngth
:

1489 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

1490 
	`SET_ERRNO
(
HPE_INVALID_CONTENT_LENGTH
);

1491 
îr‹
;

1494 
∑r£r
->
c⁄ã¡_Àngth
 = 
ch
 - '0';

1497 
h_c⁄√˘i⁄
:

1499 i‡(
c
 == 'k') {

1500 
∑r£r
->
hódî_°©e
 = 
h_m©chög_c⁄√˘i⁄_kìp_Æive
;

1502 } i‡(
c
 == 'c') {

1503 
∑r£r
->
hódî_°©e
 = 
h_m©chög_c⁄√˘i⁄_˛o£
;

1504 } i‡(
c
 == 'u') {

1505 
∑r£r
->
hódî_°©e
 = 
h_m©chög_c⁄√˘i⁄_upgøde
;

1507 
∑r£r
->
hódî_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí
;

1512 
h_m©chög_c⁄√˘i⁄_tokí_°¨t
:

1516 
∑r£r
->
hódî_°©e
 = 
h_gíîÆ
;

1522 
s_hódî_vÆue
:

1524 c⁄° * 
°¨t
 = 
p
;

1525 
hódî_°©es
 
h_°©e
 = (hódî_°©esË
∑r£r
->
hódî_°©e
;

1526 ; 
p
 !
d©a
 + 
Àn
;Ö++) {

1527 
ch
 = *
p
;

1528 i‡(
ch
 =
CR
) {

1529 
	`UPDATE_STATE
(
s_hódî_Æmo°_d⁄e
);

1530 
∑r£r
->
hódî_°©e
 = 
h_°©e
;

1531 
	`CALLBACK_DATA
(
hódî_vÆue
);

1535 i‡(
ch
 =
LF
) {

1536 
	`UPDATE_STATE
(
s_hódî_Æmo°_d⁄e
);

1537 
	`COUNT_HEADER_SIZE
(
p
 - 
°¨t
);

1538 
∑r£r
->
hódî_°©e
 = 
h_°©e
;

1539 
	`CALLBACK_DATA_NOADVANCE
(
hódî_vÆue
);

1540 
	`REEXECUTE
();

1543 
c
 = 
	`LOWER
(
ch
);

1545 
h_°©e
) {

1546 
h_gíîÆ
:

1548 c⁄° * 
p_¸
;

1549 c⁄° * 
p_lf
;

1550 
size_t
 
limô
 = 
d©a
 + 
Àn
 - 
p
;

1552 
limô
 = 
	`MIN
÷imô, 
HTTP_MAX_HEADER_SIZE
);

1554 
p_¸
 = (c⁄° *Ë
	`memchr
(
p
, 
CR
, 
limô
);

1555 
p_lf
 = (c⁄° *Ë
	`memchr
(
p
, 
LF
, 
limô
);

1556 i‡(
p_¸
 !
NULL
) {

1557 i‡(
p_lf
 !
NULL
 && 
p_¸
 >=Ö_lf)

1558 
p
 = 
p_lf
;

1560 
p
 = 
p_¸
;

1561 } i‡(
	`UNLIKELY
(
p_lf
 !
NULL
)) {

1562 
p
 = 
p_lf
;

1564 
p
 = 
d©a
 + 
Àn
;

1566 --
p
;

1571 
h_c⁄√˘i⁄
:

1572 
h_å™s„r_ícodög
:

1573 
	`as£π
(0 && "Shouldn't get here.");

1576 
h_c⁄ã¡_Àngth
:

1578 
uöt64_t
 
t
;

1580 i‡(
ch
 == ' ') ;

1582 i‡(
	`UNLIKELY
(!
	`IS_NUM
(
ch
))) {

1583 
	`SET_ERRNO
(
HPE_INVALID_CONTENT_LENGTH
);

1584 
∑r£r
->
hódî_°©e
 = 
h_°©e
;

1585 
îr‹
;

1588 
t
 = 
∑r£r
->
c⁄ã¡_Àngth
;

1589 
t
 *= 10;

1590 
t
 +
ch
 - '0';

1593 i‡(
	`UNLIKELY
((
ULLONG_MAX
 - 10Ë/ 10 < 
∑r£r
->
c⁄ã¡_Àngth
)) {

1594 
	`SET_ERRNO
(
HPE_INVALID_CONTENT_LENGTH
);

1595 
∑r£r
->
hódî_°©e
 = 
h_°©e
;

1596 
îr‹
;

1599 
∑r£r
->
c⁄ã¡_Àngth
 = 
t
;

1604 
h_m©chög_å™s„r_ícodög_chunked
:

1605 
∑r£r
->
ödex
++;

1606 i‡(
∑r£r
->
ödex
 > (
CHUNKED
)-1

1607 || 
c
 !
CHUNKED
[
∑r£r
->
ödex
]) {

1608 
h_°©e
 = 
h_gíîÆ
;

1609 } i‡(
∑r£r
->
ödex
 =(
CHUNKED
)-2) {

1610 
h_°©e
 = 
h_å™s„r_ícodög_chunked
;

1614 
h_m©chög_c⁄√˘i⁄_tokí_°¨t
:

1616 i‡(
c
 == 'k') {

1617 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_kìp_Æive
;

1619 } i‡(
c
 == 'c') {

1620 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_˛o£
;

1621 } i‡(
c
 == 'u') {

1622 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_upgøde
;

1623 } i‡(
	`STRICT_TOKEN
(
c
)) {

1624 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí
;

1625 } i‡(
c
 == ' ' || c == '\t') {

1628 
h_°©e
 = 
h_gíîÆ
;

1633 
h_m©chög_c⁄√˘i⁄_kìp_Æive
:

1634 
∑r£r
->
ödex
++;

1635 i‡(
∑r£r
->
ödex
 > (
KEEP_ALIVE
)-1

1636 || 
c
 !
KEEP_ALIVE
[
∑r£r
->
ödex
]) {

1637 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí
;

1638 } i‡(
∑r£r
->
ödex
 =(
KEEP_ALIVE
)-2) {

1639 
h_°©e
 = 
h_c⁄√˘i⁄_kìp_Æive
;

1644 
h_m©chög_c⁄√˘i⁄_˛o£
:

1645 
∑r£r
->
ödex
++;

1646 i‡(
∑r£r
->
ödex
 > (
CLOSE
)-1 || 
c
 != CLOSE[parser->index]) {

1647 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí
;

1648 } i‡(
∑r£r
->
ödex
 =(
CLOSE
)-2) {

1649 
h_°©e
 = 
h_c⁄√˘i⁄_˛o£
;

1654 
h_m©chög_c⁄√˘i⁄_upgøde
:

1655 
∑r£r
->
ödex
++;

1656 i‡(
∑r£r
->
ödex
 > (
UPGRADE
) - 1 ||

1657 
c
 !
UPGRADE
[
∑r£r
->
ödex
]) {

1658 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí
;

1659 } i‡(
∑r£r
->
ödex
 =(
UPGRADE
)-2) {

1660 
h_°©e
 = 
h_c⁄√˘i⁄_upgøde
;

1664 
h_m©chög_c⁄√˘i⁄_tokí
:

1665 i‡(
ch
 == ',') {

1666 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí_°¨t
;

1667 
∑r£r
->
ödex
 = 0;

1671 
h_å™s„r_ícodög_chunked
:

1672 i‡(
ch
 !' 'Ë
h_°©e
 = 
h_gíîÆ
;

1675 
h_c⁄√˘i⁄_kìp_Æive
:

1676 
h_c⁄√˘i⁄_˛o£
:

1677 
h_c⁄√˘i⁄_upgøde
:

1678 i‡(
ch
 == ',') {

1679 i‡(
h_°©e
 =
h_c⁄√˘i⁄_kìp_Æive
) {

1680 
∑r£r
->
Êags
 |
F_CONNECTION_KEEP_ALIVE
;

1681 } i‡(
h_°©e
 =
h_c⁄√˘i⁄_˛o£
) {

1682 
∑r£r
->
Êags
 |
F_CONNECTION_CLOSE
;

1683 } i‡(
h_°©e
 =
h_c⁄√˘i⁄_upgøde
) {

1684 
∑r£r
->
Êags
 |
F_CONNECTION_UPGRADE
;

1686 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí_°¨t
;

1687 
∑r£r
->
ödex
 = 0;

1688 } i‡(
ch
 != ' ') {

1689 
h_°©e
 = 
h_m©chög_c⁄√˘i⁄_tokí
;

1694 
	`UPDATE_STATE
(
s_hódî_vÆue
);

1695 
h_°©e
 = 
h_gíîÆ
;

1699 
∑r£r
->
hódî_°©e
 = 
h_°©e
;

1701 
	`COUNT_HEADER_SIZE
(
p
 - 
°¨t
);

1703 i‡(
p
 =
d©a
 + 
Àn
)

1704 --
p
;

1708 
s_hódî_Æmo°_d⁄e
:

1710 
	`STRICT_CHECK
(
ch
 !
LF
);

1712 
	`UPDATE_STATE
(
s_hódî_vÆue_lws
);

1716 
s_hódî_vÆue_lws
:

1718 i‡(
ch
 == ' ' || ch == '\t') {

1719 
	`UPDATE_STATE
(
s_hódî_vÆue_°¨t
);

1720 
	`REEXECUTE
();

1724 
∑r£r
->
hódî_°©e
) {

1725 
h_c⁄√˘i⁄_kìp_Æive
:

1726 
∑r£r
->
Êags
 |
F_CONNECTION_KEEP_ALIVE
;

1728 
h_c⁄√˘i⁄_˛o£
:

1729 
∑r£r
->
Êags
 |
F_CONNECTION_CLOSE
;

1731 
h_å™s„r_ícodög_chunked
:

1732 
∑r£r
->
Êags
 |
F_CHUNKED
;

1734 
h_c⁄√˘i⁄_upgøde
:

1735 
∑r£r
->
Êags
 |
F_CONNECTION_UPGRADE
;

1741 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

1742 
	`REEXECUTE
();

1745 
s_hódî_vÆue_disˇrd_ws_Æmo°_d⁄e
:

1747 
	`STRICT_CHECK
(
ch
 !
LF
);

1748 
	`UPDATE_STATE
(
s_hódî_vÆue_disˇrd_lws
);

1752 
s_hódî_vÆue_disˇrd_lws
:

1754 i‡(
ch
 == ' ' || ch == '\t') {

1755 
	`UPDATE_STATE
(
s_hódî_vÆue_disˇrd_ws
);

1758 
∑r£r
->
hódî_°©e
) {

1759 
h_c⁄√˘i⁄_kìp_Æive
:

1760 
∑r£r
->
Êags
 |
F_CONNECTION_KEEP_ALIVE
;

1762 
h_c⁄√˘i⁄_˛o£
:

1763 
∑r£r
->
Êags
 |
F_CONNECTION_CLOSE
;

1765 
h_c⁄√˘i⁄_upgøde
:

1766 
∑r£r
->
Êags
 |
F_CONNECTION_UPGRADE
;

1768 
h_å™s„r_ícodög_chunked
:

1769 
∑r£r
->
Êags
 |
F_CHUNKED
;

1776 
	`MARK
(
hódî_vÆue
);

1777 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

1778 
	`CALLBACK_DATA_NOADVANCE
(
hódî_vÆue
);

1779 
	`REEXECUTE
();

1783 
s_hódîs_Æmo°_d⁄e
:

1785 
	`STRICT_CHECK
(
ch
 !
LF
);

1787 i‡(
∑r£r
->
Êags
 & 
F_TRAILING
) {

1789 
	`UPDATE_STATE
(
s_mesßge_d⁄e
);

1790 
	`CALLBACK_NOTIFY_NOADVANCE
(
chunk_com∂ëe
);

1791 
	`REEXECUTE
();

1794 
	`UPDATE_STATE
(
s_hódîs_d⁄e
);

1797 
∑r£r
->
upgøde
 =

1798 ((
∑r£r
->
Êags
 & (
F_UPGRADE
 | 
F_CONNECTION_UPGRADE
)) ==

1799 (
F_UPGRADE
 | 
F_CONNECTION_UPGRADE
) ||

1800 
∑r£r
->
mëhod
 =
HTTP_CONNECT
);

1811 i‡(
£âögs
->
⁄_hódîs_com∂ëe
) {

1812 
£âögs
->
	`⁄_hódîs_com∂ëe
(
∑r£r
)) {

1817 
∑r£r
->
Êags
 |
F_SKIPBODY
;

1821 
	`SET_ERRNO
(
HPE_CB_hódîs_com∂ëe
);

1822 
	`RETURN
(
p
 - 
d©a
);

1826 i‡(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë!
HPE_OK
) {

1827 
	`RETURN
(
p
 - 
d©a
);

1830 
	`REEXECUTE
();

1833 
s_hódîs_d⁄e
:

1835 
	`STRICT_CHECK
(
ch
 !
LF
);

1837 
∑r£r
->
ƒód
 = 0;

1839 
hasBody
 = 
∑r£r
->
Êags
 & 
F_CHUNKED
 ||

1840 (
∑r£r
->
c⁄ã¡_Àngth
 > 0 &&Ö¨£r->c⁄ã¡_Àngth !
ULLONG_MAX
);

1841 i‡(
∑r£r
->
upgøde
 && (∑r£r->
mëhod
 =
HTTP_CONNECT
 ||

1842 (
∑r£r
->
Êags
 & 
F_SKIPBODY
Ë|| !
hasBody
)) {

1844 
	`UPDATE_STATE
(
	`NEW_MESSAGE
());

1845 
	`CALLBACK_NOTIFY
(
mesßge_com∂ëe
);

1846 
	`RETURN
((
p
 - 
d©a
) + 1);

1849 i‡(
∑r£r
->
Êags
 & 
F_SKIPBODY
) {

1850 
	`UPDATE_STATE
(
	`NEW_MESSAGE
());

1851 
	`CALLBACK_NOTIFY
(
mesßge_com∂ëe
);

1852 } i‡(
∑r£r
->
Êags
 & 
F_CHUNKED
) {

1854 
	`UPDATE_STATE
(
s_chunk_size_°¨t
);

1856 i‡(
∑r£r
->
c⁄ã¡_Àngth
 == 0) {

1858 
	`UPDATE_STATE
(
	`NEW_MESSAGE
());

1859 
	`CALLBACK_NOTIFY
(
mesßge_com∂ëe
);

1860 } i‡(
∑r£r
->
c⁄ã¡_Àngth
 !
ULLONG_MAX
) {

1862 
	`UPDATE_STATE
(
s_body_idítôy
);

1864 i‡(!
	`hâp_mesßge_√eds_eof
(
∑r£r
)) {

1866 
	`UPDATE_STATE
(
	`NEW_MESSAGE
());

1867 
	`CALLBACK_NOTIFY
(
mesßge_com∂ëe
);

1870 
	`UPDATE_STATE
(
s_body_idítôy_eof
);

1878 
s_body_idítôy
:

1880 
uöt64_t
 
to_ªad
 = 
	`MIN
(
∑r£r
->
c⁄ã¡_Àngth
,

1881 (
uöt64_t
Ë((
d©a
 + 
Àn
Ë- 
p
));

1883 
	`as£π
(
∑r£r
->
c⁄ã¡_Àngth
 != 0

1884 && 
∑r£r
->
c⁄ã¡_Àngth
 !
ULLONG_MAX
);

1891 
	`MARK
(
body
);

1892 
∑r£r
->
c⁄ã¡_Àngth
 -
to_ªad
;

1893 
p
 +
to_ªad
 - 1;

1895 i‡(
∑r£r
->
c⁄ã¡_Àngth
 == 0) {

1896 
	`UPDATE_STATE
(
s_mesßge_d⁄e
);

1907 
	`CALLBACK_DATA_
(
body
, 
p
 - 
body_m¨k
 + 1,Ö - 
d©a
);

1908 
	`REEXECUTE
();

1915 
s_body_idítôy_eof
:

1916 
	`MARK
(
body
);

1917 
p
 = 
d©a
 + 
Àn
 - 1;

1921 
s_mesßge_d⁄e
:

1922 
	`UPDATE_STATE
(
	`NEW_MESSAGE
());

1923 
	`CALLBACK_NOTIFY
(
mesßge_com∂ëe
);

1924 i‡(
∑r£r
->
upgøde
) {

1926 
	`RETURN
((
p
 - 
d©a
) + 1);

1930 
s_chunk_size_°¨t
:

1932 
	`as£π
(
∑r£r
->
ƒód
 == 1);

1933 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

1935 
unhex_vÆ
 = 
unhex
[()
ch
];

1936 i‡(
	`UNLIKELY
(
unhex_vÆ
 == -1)) {

1937 
	`SET_ERRNO
(
HPE_INVALID_CHUNK_SIZE
);

1938 
îr‹
;

1941 
∑r£r
->
c⁄ã¡_Àngth
 = 
unhex_vÆ
;

1942 
	`UPDATE_STATE
(
s_chunk_size
);

1946 
s_chunk_size
:

1948 
uöt64_t
 
t
;

1950 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

1952 i‡(
ch
 =
CR
) {

1953 
	`UPDATE_STATE
(
s_chunk_size_Æmo°_d⁄e
);

1957 
unhex_vÆ
 = 
unhex
[()
ch
];

1959 i‡(
unhex_vÆ
 == -1) {

1960 i‡(
ch
 == ';' || ch == ' ') {

1961 
	`UPDATE_STATE
(
s_chunk_∑ømëîs
);

1965 
	`SET_ERRNO
(
HPE_INVALID_CHUNK_SIZE
);

1966 
îr‹
;

1969 
t
 = 
∑r£r
->
c⁄ã¡_Àngth
;

1970 
t
 *= 16;

1971 
t
 +
unhex_vÆ
;

1974 i‡(
	`UNLIKELY
((
ULLONG_MAX
 - 16Ë/ 16 < 
∑r£r
->
c⁄ã¡_Àngth
)) {

1975 
	`SET_ERRNO
(
HPE_INVALID_CONTENT_LENGTH
);

1976 
îr‹
;

1979 
∑r£r
->
c⁄ã¡_Àngth
 = 
t
;

1983 
s_chunk_∑ømëîs
:

1985 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

1987 i‡(
ch
 =
CR
) {

1988 
	`UPDATE_STATE
(
s_chunk_size_Æmo°_d⁄e
);

1994 
s_chunk_size_Æmo°_d⁄e
:

1996 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

1997 
	`STRICT_CHECK
(
ch
 !
LF
);

1999 
∑r£r
->
ƒód
 = 0;

2001 i‡(
∑r£r
->
c⁄ã¡_Àngth
 == 0) {

2002 
∑r£r
->
Êags
 |
F_TRAILING
;

2003 
	`UPDATE_STATE
(
s_hódî_fõld_°¨t
);

2005 
	`UPDATE_STATE
(
s_chunk_d©a
);

2007 
	`CALLBACK_NOTIFY
(
chunk_hódî
);

2011 
s_chunk_d©a
:

2013 
uöt64_t
 
to_ªad
 = 
	`MIN
(
∑r£r
->
c⁄ã¡_Àngth
,

2014 (
uöt64_t
Ë((
d©a
 + 
Àn
Ë- 
p
));

2016 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

2017 
	`as£π
(
∑r£r
->
c⁄ã¡_Àngth
 != 0

2018 && 
∑r£r
->
c⁄ã¡_Àngth
 !
ULLONG_MAX
);

2023 
	`MARK
(
body
);

2024 
∑r£r
->
c⁄ã¡_Àngth
 -
to_ªad
;

2025 
p
 +
to_ªad
 - 1;

2027 i‡(
∑r£r
->
c⁄ã¡_Àngth
 == 0) {

2028 
	`UPDATE_STATE
(
s_chunk_d©a_Æmo°_d⁄e
);

2034 
s_chunk_d©a_Æmo°_d⁄e
:

2035 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

2036 
	`as£π
(
∑r£r
->
c⁄ã¡_Àngth
 == 0);

2037 
	`STRICT_CHECK
(
ch
 !
CR
);

2038 
	`UPDATE_STATE
(
s_chunk_d©a_d⁄e
);

2039 
	`CALLBACK_DATA
(
body
);

2042 
s_chunk_d©a_d⁄e
:

2043 
	`as£π
(
∑r£r
->
Êags
 & 
F_CHUNKED
);

2044 
	`STRICT_CHECK
(
ch
 !
LF
);

2045 
∑r£r
->
ƒód
 = 0;

2046 
	`UPDATE_STATE
(
s_chunk_size_°¨t
);

2047 
	`CALLBACK_NOTIFY
(
chunk_com∂ëe
);

2051 
	`as£π
(0 && "unhandled state");

2052 
	`SET_ERRNO
(
HPE_INVALID_INTERNAL_STATE
);

2053 
îr‹
;

2067 
	`as£π
(((
hódî_fõld_m¨k
 ? 1 : 0) +

2068 (
hódî_vÆue_m¨k
 ? 1 : 0) +

2069 (
uæ_m¨k
 ? 1 : 0) +

2070 (
body_m¨k
 ? 1 : 0) +

2071 (
°©us_m¨k
 ? 1 : 0)) <= 1);

2073 
	`CALLBACK_DATA_NOADVANCE
(
hódî_fõld
);

2074 
	`CALLBACK_DATA_NOADVANCE
(
hódî_vÆue
);

2075 
	`CALLBACK_DATA_NOADVANCE
(
uæ
);

2076 
	`CALLBACK_DATA_NOADVANCE
(
body
);

2077 
	`CALLBACK_DATA_NOADVANCE
(
°©us
);

2079 
	`RETURN
(
Àn
);

2081 
îr‹
:

2082 i‡(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_OK
) {

2083 
	`SET_ERRNO
(
HPE_UNKNOWN
);

2086 
	`RETURN
(
p
 - 
d©a
);

2087 
	}
}

2092 
	$hâp_mesßge_√eds_eof
 (c⁄° 
hâp_∑r£r
 *
∑r£r
)

2094 i‡(
∑r£r
->
ty≥
 =
HTTP_REQUEST
) {

2099 i‡(
∑r£r
->
°©us_code
 / 100 == 1 ||

2100 
∑r£r
->
°©us_code
 == 204 ||

2101 
∑r£r
->
°©us_code
 == 304 ||

2102 
∑r£r
->
Êags
 & 
F_SKIPBODY
) {

2106 i‡((
∑r£r
->
Êags
 & 
F_CHUNKED
Ë||Ö¨£r->
c⁄ã¡_Àngth
 !
ULLONG_MAX
) {

2111 
	}
}

2115 
	$hâp_should_kìp_Æive
 (c⁄° 
hâp_∑r£r
 *
∑r£r
)

2117 i‡(
∑r£r
->
hâp_maj‹
 > 0 &&Ö¨£r->
hâp_mö‹
 > 0) {

2119 i‡(
∑r£r
->
Êags
 & 
F_CONNECTION_CLOSE
) {

2124 i‡(!(
∑r£r
->
Êags
 & 
F_CONNECTION_KEEP_ALIVE
)) {

2129  !
	`hâp_mesßge_√eds_eof
(
∑r£r
);

2130 
	}
}

2134 
	$hâp_mëhod_°r
 (
hâp_mëhod
 
m
)

2136  
	`ELEM_AT
(
mëhod_°rögs
, 
m
, "<unknown>");

2137 
	}
}

2141 
	$hâp_∑r£r_öô
 (
hâp_∑r£r
 *
∑r£r
, 
hâp_∑r£r_ty≥
 
t
)

2143 *
d©a
 = 
∑r£r
->data;

2144 
	`mem£t
(
∑r£r
, 0, (*parser));

2145 
∑r£r
->
d©a
 = data;

2146 
∑r£r
->
ty≥
 = 
t
;

2147 
∑r£r
->
°©e
 = (
t
 =
HTTP_REQUEST
 ? 
s_°¨t_ªq
 : (à=
HTTP_RESPONSE
 ? 
s_°¨t_ªs
 : 
s_°¨t_ªq_‹_ªs
));

2148 
∑r£r
->
hâp_î∫o
 = 
HPE_OK
;

2149 
	}
}

2152 
	$hâp_∑r£r_£âögs_öô
(
hâp_∑r£r_£âögs
 *
£âögs
)

2154 
	`mem£t
(
£âögs
, 0, (*settings));

2155 
	}
}

2158 
	$hâp_î∫o_«me
(
hâp_î∫o
 
îr
) {

2159 
	`as£π
(((
size_t
Ë
îr
) <

2160 ((
hâp_°ªº‹_èb
) / (http_strerror_tab[0])));

2161  
hâp_°ªº‹_èb
[
îr
].
«me
;

2162 
	}
}

2164 #i‚de‡
HTTPPARSER_ENABLE_MEMORY_CONSTRAINTS


2166 
	$hâp_î∫o_des¸ùti⁄
(
hâp_î∫o
 
îr
) {

2167 
	`as£π
(((
size_t
Ë
îr
) <

2168 ((
hâp_°ªº‹_èb
) / (http_strerror_tab[0])));

2169  
hâp_°ªº‹_èb
[
îr
].
des¸ùti⁄
;

2170 
	}
}

2172 
hâp_ho°_°©e


2173 
	$hâp_∑r£_ho°_ch¨
(
hâp_ho°_°©e
 
s
, c⁄° 
ch
) {

2174 
s
) {

2175 
s_hâp_u£röfo
:

2176 
s_hâp_u£röfo_°¨t
:

2177 i‡(
ch
 == '@') {

2178  
s_hâp_ho°_°¨t
;

2181 i‡(
	`IS_USERINFO_CHAR
(
ch
)) {

2182  
s_hâp_u£röfo
;

2186 
s_hâp_ho°_°¨t
:

2187 i‡(
ch
 == '[') {

2188  
s_hâp_ho°_v6_°¨t
;

2191 i‡(
	`IS_HOST_CHAR
(
ch
)) {

2192  
s_hâp_ho°
;

2197 
s_hâp_ho°
:

2198 i‡(
	`IS_HOST_CHAR
(
ch
)) {

2199  
s_hâp_ho°
;

2203 
s_hâp_ho°_v6_íd
:

2204 i‡(
ch
 == ':') {

2205  
s_hâp_ho°_p‹t_°¨t
;

2210 
s_hâp_ho°_v6
:

2211 i‡(
ch
 == ']') {

2212  
s_hâp_ho°_v6_íd
;

2216 
s_hâp_ho°_v6_°¨t
:

2217 i‡(
	`IS_HEX
(
ch
) || ch == ':' || ch == '.') {

2218  
s_hâp_ho°_v6
;

2223 
s_hâp_ho°_p‹t
:

2224 
s_hâp_ho°_p‹t_°¨t
:

2225 i‡(
	`IS_NUM
(
ch
)) {

2226  
s_hâp_ho°_p‹t
;

2234  
s_hâp_ho°_dód
;

2235 
	}
}

2238 
	$hâp_∑r£_ho°
(c⁄° * 
buf
, 
hâp_∑r£r_uæ
 *
u
, 
found_©
) {

2239 
	`as£π
(
u
->
fõld_£t
 & (1 << 
UF_HOST
));

2240 
hâp_ho°_°©e
 
s
;

2242 c⁄° *
p
;

2243 
size_t
 
buÊí
 = 
u
->
fõld_d©a
[
UF_HOST
].
off
 + u->fõld_d©a[UF_HOST].
Àn
;

2245 
u
->
fõld_d©a
[
UF_HOST
].
Àn
 = 0;

2247 
s
 = 
found_©
 ? 
s_hâp_u£röfo_°¨t
 : 
s_hâp_ho°_°¨t
;

2249 
p
 = 
buf
 + 
u
->
fõld_d©a
[
UF_HOST
].
off
;Ö < bu‡+ 
buÊí
;Ö++) {

2250 
hâp_ho°_°©e
 
√w_s
 = 
	`hâp_∑r£_ho°_ch¨
(
s
, *
p
);

2252 i‡(
√w_s
 =
s_hâp_ho°_dód
) {

2256 
√w_s
) {

2257 
s_hâp_ho°
:

2258 i‡(
s
 !
s_hâp_ho°
) {

2259 
u
->
fõld_d©a
[
UF_HOST
].
off
 = 
p
 - 
buf
;

2261 
u
->
fõld_d©a
[
UF_HOST
].
Àn
++;

2264 
s_hâp_ho°_v6
:

2265 i‡(
s
 !
s_hâp_ho°_v6
) {

2266 
u
->
fõld_d©a
[
UF_HOST
].
off
 = 
p
 - 
buf
;

2268 
u
->
fõld_d©a
[
UF_HOST
].
Àn
++;

2271 
s_hâp_ho°_p‹t
:

2272 i‡(
s
 !
s_hâp_ho°_p‹t
) {

2273 
u
->
fõld_d©a
[
UF_PORT
].
off
 = 
p
 - 
buf
;

2274 
u
->
fõld_d©a
[
UF_PORT
].
Àn
 = 0;

2275 
u
->
fõld_£t
 |(1 << 
UF_PORT
);

2277 
u
->
fõld_d©a
[
UF_PORT
].
Àn
++;

2280 
s_hâp_u£röfo
:

2281 i‡(
s
 !
s_hâp_u£röfo
) {

2282 
u
->
fõld_d©a
[
UF_USERINFO
].
off
 = 
p
 - 
buf
 ;

2283 
u
->
fõld_d©a
[
UF_USERINFO
].
Àn
 = 0;

2284 
u
->
fõld_£t
 |(1 << 
UF_USERINFO
);

2286 
u
->
fõld_d©a
[
UF_USERINFO
].
Àn
++;

2292 
s
 = 
√w_s
;

2296 
s
) {

2297 
s_hâp_ho°_°¨t
:

2298 
s_hâp_ho°_v6_°¨t
:

2299 
s_hâp_ho°_v6
:

2300 
s_hâp_ho°_p‹t_°¨t
:

2301 
s_hâp_u£röfo
:

2302 
s_hâp_u£röfo_°¨t
:

2309 
	}
}

2312 
	$hâp_∑r£r_∑r£_uæ
(c⁄° *
buf
, 
size_t
 
buÊí
, 
is_c⁄√˘
,

2313 
hâp_∑r£r_uæ
 *
u
)

2315 
°©e
 
s
;

2316 c⁄° *
p
;

2317 
hâp_∑r£r_uæ_fõlds
 
uf
, 
ﬁd_uf
;

2318 
found_©
 = 0;

2320 
u
->
p‹t
 = u->
fõld_£t
 = 0;

2321 
s
 = 
is_c⁄√˘
 ? 
s_ªq_£rvî_°¨t
 : 
s_ªq_•a˚s_bef‹e_uæ
;

2322 
ﬁd_uf
 = 
UF_MAX
;

2324 
p
 = 
buf
;Ö < bu‡+ 
buÊí
;Ö++) {

2325 
s
 = 
	`∑r£_uæ_ch¨
(s, *
p
);

2328 
s
) {

2329 
s_dód
:

2333 
s_ªq_schema_¶ash
:

2334 
s_ªq_schema_¶ash_¶ash
:

2335 
s_ªq_£rvî_°¨t
:

2336 
s_ªq_quîy_°rög_°¨t
:

2337 
s_ªq_‰agmít_°¨t
:

2340 
s_ªq_schema
:

2341 
uf
 = 
UF_SCHEMA
;

2344 
s_ªq_£rvî_wôh_©
:

2345 
found_©
 = 1;

2348 
s_ªq_£rvî
:

2349 
uf
 = 
UF_HOST
;

2352 
s_ªq_∑th
:

2353 
uf
 = 
UF_PATH
;

2356 
s_ªq_quîy_°rög
:

2357 
uf
 = 
UF_QUERY
;

2360 
s_ªq_‰agmít
:

2361 
uf
 = 
UF_FRAGMENT
;

2365 
	`as£π
(!"Unexpected state");

2370 i‡(
uf
 =
ﬁd_uf
) {

2371 
u
->
fõld_d©a
[
uf
].
Àn
++;

2375 
u
->
fõld_d©a
[
uf
].
off
 = 
p
 - 
buf
;

2376 
u
->
fõld_d©a
[
uf
].
Àn
 = 1;

2378 
u
->
fõld_£t
 |(1 << 
uf
);

2379 
ﬁd_uf
 = 
uf
;

2384 i‡((
u
->
fõld_£t
 & (1 << 
UF_SCHEMA
)) &&

2385 (
u
->
fõld_£t
 & (1 << 
UF_HOST
)) == 0) {

2389 i‡(
u
->
fõld_£t
 & (1 << 
UF_HOST
)) {

2390 i‡(
	`hâp_∑r£_ho°
(
buf
, 
u
, 
found_©
) != 0) {

2396 i‡(
is_c⁄√˘
 && 
u
->
fõld_£t
 !((1 << 
UF_HOST
)|(1 << 
UF_PORT
))) {

2400 i‡(
u
->
fõld_£t
 & (1 << 
UF_PORT
)) {

2402 
v
 = 
	`°πoul
(
buf
 + 
u
->
fõld_d©a
[
UF_PORT
].
off
, 
NULL
, 10);

2405 i‡(
v
 > 0xffff) {

2409 
u
->
p‹t
 = (
uöt16_t
Ë
v
;

2413 
	}
}

2417 
	$hâp_∑r£r_∑u£
(
hâp_∑r£r
 *
∑r£r
, 
∑u£d
) {

2422 i‡(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_OK
 ||

2423 
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_PAUSED
) {

2424 
	`SET_ERRNO
((
∑u£d
Ë? 
HPE_PAUSED
 : 
HPE_OK
);

2426 
	`as£π
(0 && "AttemptingÅoÖauseÖarser inÉrror state");

2428 
	}
}

2430 #i‚de‡
HTTPPARSER_ENABLE_MEMORY_CONSTRAINTS


2432 
	$hâp_body_is_föÆ
(c⁄° 
hâp_∑r£r
 *
∑r£r
) {

2433  
∑r£r
->
°©e
 =
s_mesßge_d⁄e
;

2434 
	}
}

2437 
	$hâp_∑r£r_vîsi⁄
() {

2438  
HTTP_PARSER_VERSION_MAJOR
 * 0x10000 |

2439 
HTTP_PARSER_VERSION_MINOR
 * 0x00100 |

2440 
HTTP_PARSER_VERSION_PATCH
 * 0x00001;

2441 
	}
}

	@deps/http-parser/http_parser.h

21 #i‚de‡
hâp_∑r£r_h


22 
	#hâp_∑r£r_h


	)

23 #ifde‡
__˝lu•lus


28 
	#HTTP_PARSER_VERSION_MAJOR
 2

	)

29 
	#HTTP_PARSER_VERSION_MINOR
 5

	)

30 
	#HTTP_PARSER_VERSION_PATCH
 0

	)

32 
	~<sys/ty≥s.h
>

33 #i‡
deföed
(
_WIN32
Ë&& !deföed(
__MINGW32__
Ë&& (!deföed(
_MSC_VER
) || _MSC_VER<1600)

34 
	~<Ba£Tsd.h
>

35 
	~<°ddef.h
>

36 
__öt8
 
	töt8_t
;

37 
	t__öt8
 
	tuöt8_t
;

38 
__öt16
 
	töt16_t
;

39 
	t__öt16
 
	tuöt16_t
;

40 
__öt32
 
	töt32_t
;

41 
	t__öt32
 
	tuöt32_t
;

42 
__öt64
 
	töt64_t
;

43 
	t__öt64
 
	tuöt64_t
;

45 
	~<°döt.h
>

51 #i‚de‡
HTTP_PARSER_STRICT


52 
	#HTTP_PARSER_STRICT
 1

	)

62 #i‚de‡
HTTP_MAX_HEADER_SIZE


63 
	#HTTP_MAX_HEADER_SIZE
 (80*1024)

	)

66 
hâp_∑r£r
 
	thâp_∑r£r
;

67 
hâp_∑r£r_£âögs
 
	thâp_∑r£r_£âögs
;

83 (*
hâp_d©a_cb
Ë(
	thâp_∑r£r
*, c⁄° *
	t©
, 
	tsize_t
 
	tÀngth
);

84 (*
hâp_cb
Ë(
	thâp_∑r£r
*);

88 
	#HTTP_METHOD_MAP
(
XX
) \

89 
	`XX
(0, 
DELETE
, DELETE) \

90 
	`XX
(1, 
GET
, GET) \

91 
	`XX
(2, 
HEAD
, HEAD) \

92 
	`XX
(3, 
POST
, POST) \

93 
	`XX
(4, 
PUT
, PUT) \

95 
	`XX
(5, 
CONNECT
, CONNECT) \

96 
	`XX
(6, 
OPTIONS
, OPTIONS) \

97 
	`XX
(7, 
TRACE
, TRACE) \

99 
	`XX
(8, 
COPY
, COPY) \

100 
	`XX
(9, 
LOCK
, LOCK) \

101 
	`XX
(10, 
MKCOL
, MKCOL) \

102 
	`XX
(11, 
MOVE
, MOVE) \

103 
	`XX
(12, 
PROPFIND
, PROPFIND) \

104 
	`XX
(13, 
PROPPATCH
, PROPPATCH) \

105 
	`XX
(14, 
SEARCH
, SEARCH) \

106 
	`XX
(15, 
UNLOCK
, UNLOCK) \

108 
	`XX
(16, 
REPORT
, REPORT) \

109 
	`XX
(17, 
MKACTIVITY
, MKACTIVITY) \

110 
	`XX
(18, 
CHECKOUT
, CHECKOUT) \

111 
	`XX
(19, 
MERGE
, MERGE) \

113 
	`XX
(20, 
MSEARCH
, 
M
-
SEARCH
) \

114 
	`XX
(21, 
NOTIFY
, NOTIFY) \

115 
	`XX
(22, 
SUBSCRIBE
, SUBSCRIBE) \

116 
	`XX
(23, 
UNSUBSCRIBE
, UNSUBSCRIBE) \

118 
	`XX
(24, 
PATCH
, PATCH) \

119 
	`XX
(25, 
PURGE
, PURGE) \

121 
	`XX
(26, 
MKCALENDAR
, MKCALENDAR) \

122 

	)

123 
	ehâp_mëhod


125 
	#XX
(
num
, 
«me
, 
°rög
Ë
HTTP_
##«mênum,

	)

126 
HTTP_METHOD_MAP
(
XX
)

127 #unde‡
XX


131 
	ehâp_∑r£r_ty≥
 { 
HTTP_REQUEST
, 
HTTP_RESPONSE
, 
HTTP_BOTH
 };

135 
	eÊags


136 { 
F_CHUNKED
 = 1 << 0

137 , 
F_CONNECTION_KEEP_ALIVE
 = 1 << 1

138 , 
F_CONNECTION_CLOSE
 = 1 << 2

139 , 
F_CONNECTION_UPGRADE
 = 1 << 3

140 , 
F_TRAILING
 = 1 << 4

141 , 
F_UPGRADE
 = 1 << 5

142 , 
F_SKIPBODY
 = 1 << 6

150 
	#HTTP_ERRNO_MAP
(
XX
) \

152 
	`XX
(
OK
, "success") \

155 
	`XX
(
CB_mesßge_begö
, "the on_message_begin callback failed") \

156 
	`XX
(
CB_uæ
, "the on_url callback failed") \

157 
	`XX
(
CB_hódî_fõld
, "the on_header_field callback failed") \

158 
	`XX
(
CB_hódî_vÆue
, "the on_header_value callback failed") \

159 
	`XX
(
CB_hódîs_com∂ëe
, "the on_headers_complete callback failed") \

160 
	`XX
(
CB_body
, "the on_body callback failed") \

161 
	`XX
(
CB_mesßge_com∂ëe
, "the on_message_complete callback failed") \

162 
	`XX
(
CB_°©us
, "the on_status callback failed") \

163 
	`XX
(
CB_chunk_hódî
, "the on_chunk_header callback failed") \

164 
	`XX
(
CB_chunk_com∂ëe
, "the on_chunk_complete callback failed") \

167 
	`XX
(
INVALID_EOF_STATE
, "streamÉndedátán unexpectedÅime") \

168 
	`XX
(
HEADER_OVERFLOW
, \

170 
	`XX
(
CLOSED_CONNECTION
, \

172 
	`XX
(
INVALID_VERSION
, "invalid HTTP version") \

173 
	`XX
(
INVALID_STATUS
, "invalid HTTP status code") \

174 
	`XX
(
INVALID_METHOD
, "invalid HTTP method") \

175 
	`XX
(
INVALID_URL
, "invalid URL") \

176 
	`XX
(
INVALID_HOST
, "invalid host") \

177 
	`XX
(
INVALID_PORT
, "invalidÖort") \

178 
	`XX
(
INVALID_PATH
, "invalidÖath") \

179 
	`XX
(
INVALID_QUERY_STRING
, "invalid query string") \

180 
	`XX
(
INVALID_FRAGMENT
, "invalid fragment") \

181 
	`XX
(
LF_EXPECTED
, "LF characterÉxpected") \

182 
	`XX
(
INVALID_HEADER_TOKEN
, "invalid character in header") \

183 
	`XX
(
INVALID_CONTENT_LENGTH
, \

185 
	`XX
(
INVALID_CHUNK_SIZE
, \

187 
	`XX
(
INVALID_CONSTANT
, "invalid constant string") \

188 
	`XX
(
INVALID_INTERNAL_STATE
, "encountered unexpected internal state")\

189 
	`XX
(
STRICT
, "strict modeássertion failed") \

190 
	`XX
(
PAUSED
, "parser isÖaused") \

191 
	`XX
(
UNKNOWN
, "™ unknow¿îr‹ occuºed")

	)

195 
	#HTTP_ERRNO_GEN
(
n
, 
s
Ë
HPE_
##n,

	)

196 
	ehâp_î∫o
 {

197 
HTTP_ERRNO_MAP
(
HTTP_ERRNO_GEN
)

199 #unde‡
HTTP_ERRNO_GEN


203 
	#HTTP_PARSER_ERRNO
(
p
Ë((
hâp_î∫o
Ë’)->hâp_î∫o)

	)

206 
	shâp_∑r£r
 {

208 
ty≥
 : 2;

209 
Êags
 : 7;

210 
°©e
 : 7;

211 
hódî_°©e
 : 8;

212 
ödex
 : 8;

214 
uöt32_t
 
ƒód
;

215 
uöt64_t
 
c⁄ã¡_Àngth
;

218 
hâp_maj‹
;

219 
hâp_mö‹
;

220 
°©us_code
 : 16;

221 
mëhod
 : 8;

222 
hâp_î∫o
 : 7;

229 
upgøde
 : 1;

232 *
d©a
;

236 
	shâp_∑r£r_£âögs
 {

237 
hâp_cb
 
⁄_mesßge_begö
;

238 
hâp_d©a_cb
 
⁄_uæ
;

239 
hâp_d©a_cb
 
⁄_°©us
;

240 
hâp_d©a_cb
 
⁄_hódî_fõld
;

241 
hâp_d©a_cb
 
⁄_hódî_vÆue
;

242 
hâp_cb
 
⁄_hódîs_com∂ëe
;

243 
hâp_d©a_cb
 
⁄_body
;

244 
hâp_cb
 
⁄_mesßge_com∂ëe
;

248 
hâp_cb
 
⁄_chunk_hódî
;

249 
hâp_cb
 
⁄_chunk_com∂ëe
;

253 
	ehâp_∑r£r_uæ_fõlds


254 { 
UF_SCHEMA
 = 0

255 , 
UF_HOST
 = 1

256 , 
UF_PORT
 = 2

257 , 
UF_PATH
 = 3

258 , 
UF_QUERY
 = 4

259 , 
UF_FRAGMENT
 = 5

260 , 
UF_USERINFO
 = 6

261 , 
UF_MAX
 = 7

272 
	shâp_∑r£r_uæ
 {

273 
uöt16_t
 
fõld_£t
;

274 
uöt16_t
 
p‹t
;

277 
uöt16_t
 
off
;

278 
uöt16_t
 
Àn
;

279 } 
fõld_d©a
[
UF_MAX
];

283 #i‚de‡
HTTPPARSER_ENABLE_MEMORY_CONSTRAINTS


294 
hâp_∑r£r_vîsi⁄
();

297 
hâp_∑r£r_öô
(
hâp_∑r£r
 *
∑r£r
, 
hâp_∑r£r_ty≥
 
ty≥
);

302 
hâp_∑r£r_£âögs_öô
(
hâp_∑r£r_£âögs
 *
£âögs
);

307 
size_t
 
hâp_∑r£r_execuã
(
hâp_∑r£r
 *
∑r£r
,

308 c⁄° 
hâp_∑r£r_£âögs
 *
£âögs
,

309 c⁄° *
d©a
,

310 
size_t
 
Àn
);

319 
hâp_should_kìp_Æive
(c⁄° 
hâp_∑r£r
 *
∑r£r
);

322 c⁄° *
hâp_mëhod_°r
(
hâp_mëhod
 
m
);

325 c⁄° *
hâp_î∫o_«me
(
hâp_î∫o
 
îr
);

327 #i‚de‡
HTTPPARSER_ENABLE_MEMORY_CONSTRAINTS


329 c⁄° *
hâp_î∫o_des¸ùti⁄
(
hâp_î∫o
 
îr
);

332 
hâp_∑r£r_∑r£_uæ
(c⁄° *
buf
, 
size_t
 
buÊí
,

333 
is_c⁄√˘
,

334 
hâp_∑r£r_uæ
 *
u
);

338 
hâp_∑r£r_∑u£
(
hâp_∑r£r
 *
∑r£r
, 
∑u£d
);

340 #i‚de‡
HTTPPARSER_ENABLE_MEMORY_CONSTRAINTS


342 
hâp_body_is_föÆ
(c⁄° 
hâp_∑r£r
 *
∑r£r
);

345 #ifde‡
__˝lu•lus


	@deps/http-parser/test.c

21 
	~"hâp_∑r£r.h
"

22 
	~<°dlib.h
>

23 
	~<as£π.h
>

24 
	~<°dio.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<°d¨g.h
>

29 #i‡
deföed
(
__APPLE__
)

30 #unde‡
°æˇt


31 #unde‡
°æn˝y


32 #unde‡
°æ˝y


35 #unde‡
TRUE


36 
	#TRUE
 1

	)

37 #unde‡
FALSE


38 
	#FALSE
 0

	)

40 
	#MAX_HEADERS
 13

	)

41 
	#MAX_ELEMENT_SIZE
 2048

	)

42 
	#MAX_CHUNKS
 16

	)

44 
	#MIN
(
a
,
b
Ë(◊Ë< (bË? (aË: (b))

	)

46 
hâp_∑r£r
 *
	g∑r£r
;

48 
	smesßge
 {

49 c⁄° *
	m«me
;

50 c⁄° *
	møw
;

51 
hâp_∑r£r_ty≥
 
	mty≥
;

52 
hâp_mëhod
 
	mmëhod
;

53 
	m°©us_code
;

54 
	mª•⁄£_°©us
[
MAX_ELEMENT_SIZE
];

55 
	mªque°_∑th
[
MAX_ELEMENT_SIZE
];

56 
	mªque°_uæ
[
MAX_ELEMENT_SIZE
];

57 
	m‰agmít
[
MAX_ELEMENT_SIZE
];

58 
	mquîy_°rög
[
MAX_ELEMENT_SIZE
];

59 
	mbody
[
MAX_ELEMENT_SIZE
];

60 
size_t
 
	mbody_size
;

61 c⁄° *
	mho°
;

62 c⁄° *
	mu£röfo
;

63 
uöt16_t
 
	mp‹t
;

64 
	mnum_hódîs
;

65 íum { 
	mNONE
=0, 
	mFIELD
, 
	mVALUE
 } 
	mœ°_hódî_ñemít
;

66 
	mhódîs
 [
MAX_HEADERS
][2][
MAX_ELEMENT_SIZE
];

67 
	mshould_kìp_Æive
;

69 
	mnum_chunks
;

70 
	mnum_chunks_com∂ëe
;

71 
	mchunk_Àngths
[
MAX_CHUNKS
];

73 c⁄° *
	mupgøde
;

75 
	mhâp_maj‹
;

76 
	mhâp_mö‹
;

78 
	mmesßge_begö_cb_ˇŒed
;

79 
	mhódîs_com∂ëe_cb_ˇŒed
;

80 
	mmesßge_com∂ëe_cb_ˇŒed
;

81 
	mmesßge_com∂ëe_⁄_eof
;

82 
	mbody_is_föÆ
;

85 
	gcuºíéy_∑rsög_eof
;

87 
mesßge
 
	gmesßges
[5];

88 
	gnum_mesßges
;

89 
hâp_∑r£r_£âögs
 *
	gcuºít_∑u£_∑r£r
;

92 c⁄° 
mesßge
 
	gªque°s
[] =

93 
	#CURL_GET
 0

	)

94 { {.
«me
= "curl get"

95 ,.
	gty≥

HTTP_REQUEST


96 ,.
	gøw
= "GET /test HTTP/1.1\r\n"

101 ,.
	gshould_kìp_Æive

TRUE


102 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


103 ,.
	ghâp_maj‹
= 1

104 ,.
	ghâp_mö‹
= 1

105 ,.
	gmëhod

HTTP_GET


106 ,.
	gquîy_°rög
= ""

107 ,.
	g‰agmít
= ""

108 ,.
	gªque°_∑th
= "/test"

109 ,.
	gªque°_uæ
= "/test"

110 ,.
	gnum_hódîs
= 3

111 ,.
	ghódîs
=

116 ,.
	gbody
= ""

119 
	#FIREFOX_GET
 1

	)

120 , {.
	g«me
= "firefox get"

121 ,.
	gty≥

HTTP_REQUEST


122 ,.
	gøw
= "GET /favicon.ico HTTP/1.1\r\n"

132 ,.
	gshould_kìp_Æive

TRUE


133 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


134 ,.
	ghâp_maj‹
= 1

135 ,.
	ghâp_mö‹
= 1

136 ,.
	gmëhod

HTTP_GET


137 ,.
	gquîy_°rög
= ""

138 ,.
	g‰agmít
= ""

139 ,.
	gªque°_∑th
= "/favicon.ico"

140 ,.
	gªque°_uæ
= "/favicon.ico"

141 ,.
	gnum_hódîs
= 8

142 ,.
	ghódîs
=

152 ,.
	gbody
= ""

155 
	#DUMBFUCK
 2

	)

156 , {.
	g«me
= "dumbfuck"

157 ,.
	gty≥

HTTP_REQUEST


158 ,.
	gøw
= "GET /dumbfuck HTTP/1.1\r\n"

161 ,.
	gshould_kìp_Æive

TRUE


162 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


163 ,.
	ghâp_maj‹
= 1

164 ,.
	ghâp_mö‹
= 1

165 ,.
	gmëhod

HTTP_GET


166 ,.
	gquîy_°rög
= ""

167 ,.
	g‰agmít
= ""

168 ,.
	gªque°_∑th
= "/dumbfuck"

169 ,.
	gªque°_uæ
= "/dumbfuck"

170 ,.
	gnum_hódîs
= 1

171 ,.
	ghódîs
=

174 ,.
	gbody
= ""

177 
	#FRAGMENT_IN_URI
 3

	)

178 , {.
	g«me
= "fragment in url"

179 ,.
	gty≥

HTTP_REQUEST


180 ,.
	gøw
= "GET /forums/1/topics/2375?page=1#posts-17408 HTTP/1.1\r\n"

182 ,.
	gshould_kìp_Æive

TRUE


183 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


184 ,.
	ghâp_maj‹
= 1

185 ,.
	ghâp_mö‹
= 1

186 ,.
	gmëhod

HTTP_GET


187 ,.
	gquîy_°rög
= "page=1"

188 ,.
	g‰agmít
= "posts-17408"

189 ,.
	gªque°_∑th
= "/forums/1/topics/2375"

191 ,.
	gªque°_uæ
= "/forums/1/topics/2375?page=1#posts-17408"

192 ,.
	gnum_hódîs
= 0

193 ,.
	gbody
= ""

196 
	#GET_NO_HEADERS_NO_BODY
 4

	)

197 , {.
	g«me
= "getÇo headersÇo body"

198 ,.
	gty≥

HTTP_REQUEST


199 ,.
	gøw
= "GET /get_no_headers_no_body/world HTTP/1.1\r\n"

201 ,.
	gshould_kìp_Æive

TRUE


202 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


203 ,.
	ghâp_maj‹
= 1

204 ,.
	ghâp_mö‹
= 1

205 ,.
	gmëhod

HTTP_GET


206 ,.
	gquîy_°rög
= ""

207 ,.
	g‰agmít
= ""

208 ,.
	gªque°_∑th
= "/get_no_headers_no_body/world"

209 ,.
	gªque°_uæ
= "/get_no_headers_no_body/world"

210 ,.
	gnum_hódîs
= 0

211 ,.
	gbody
= ""

214 
	#GET_ONE_HEADER_NO_BODY
 5

	)

215 , {.
	g«me
= "get one headerÇo body"

216 ,.
	gty≥

HTTP_REQUEST


217 ,.
	gøw
= "GET /get_one_header_no_body HTTP/1.1\r\n"

220 ,.
	gshould_kìp_Æive

TRUE


221 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


222 ,.
	ghâp_maj‹
= 1

223 ,.
	ghâp_mö‹
= 1

224 ,.
	gmëhod

HTTP_GET


225 ,.
	gquîy_°rög
= ""

226 ,.
	g‰agmít
= ""

227 ,.
	gªque°_∑th
= "/get_one_header_no_body"

228 ,.
	gªque°_uæ
= "/get_one_header_no_body"

229 ,.
	gnum_hódîs
= 1

230 ,.
	ghódîs
=

233 ,.
	gbody
= ""

236 
	#GET_FUNKY_CONTENT_LENGTH
 6

	)

237 , {.
	g«me
= "get funky contentÜength body hello"

238 ,.
	gty≥

HTTP_REQUEST


239 ,.
	gøw
= "GET /get_funky_content_length_body_hello HTTP/1.0\r\n"

243 ,.
	gshould_kìp_Æive

FALSE


244 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


245 ,.
	ghâp_maj‹
= 1

246 ,.
	ghâp_mö‹
= 0

247 ,.
	gmëhod

HTTP_GET


248 ,.
	gquîy_°rög
= ""

249 ,.
	g‰agmít
= ""

250 ,.
	gªque°_∑th
= "/get_funky_content_length_body_hello"

251 ,.
	gªque°_uæ
= "/get_funky_content_length_body_hello"

252 ,.
	gnum_hódîs
= 1

253 ,.
	ghódîs
=

256 ,.
	gbody
= "HELLO"

259 
	#POST_IDENTITY_BODY_WORLD
 7

	)

260 , {.
	g«me
= "post identity body world"

261 ,.
	gty≥

HTTP_REQUEST


262 ,.
	gøw
= "POST /post_identity_body_world?q=search#hey HTTP/1.1\r\n"

268 ,.
	gshould_kìp_Æive

TRUE


269 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


270 ,.
	ghâp_maj‹
= 1

271 ,.
	ghâp_mö‹
= 1

272 ,.
	gmëhod

HTTP_POST


273 ,.
	gquîy_°rög
= "q=search"

274 ,.
	g‰agmít
= "hey"

275 ,.
	gªque°_∑th
= "/post_identity_body_world"

276 ,.
	gªque°_uæ
= "/post_identity_body_world?q=search#hey"

277 ,.
	gnum_hódîs
= 3

278 ,.
	ghódîs
=

283 ,.
	gbody
= "World"

286 
	#POST_CHUNKED_ALL_YOUR_BASE
 8

	)

287 , {.
	g«me
= "post - chunked body:áll your baseáre belongÅo us"

288 ,.
	gty≥

HTTP_REQUEST


289 ,.
	gøw
= "POST /post_chunked_all_your_base HTTP/1.1\r\n"

295 ,.
	gshould_kìp_Æive

TRUE


296 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


297 ,.
	ghâp_maj‹
= 1

298 ,.
	ghâp_mö‹
= 1

299 ,.
	gmëhod

HTTP_POST


300 ,.
	gquîy_°rög
= ""

301 ,.
	g‰agmít
= ""

302 ,.
	gªque°_∑th
= "/post_chunked_all_your_base"

303 ,.
	gªque°_uæ
= "/post_chunked_all_your_base"

304 ,.
	gnum_hódîs
= 1

305 ,.
	ghódîs
=

308 ,.
	gbody
= "all your baseáre belongÅo us"

309 ,.
	gnum_chunks_com∂ëe
= 2

310 ,.
	gchunk_Àngths
= { 0x1e }

313 
	#TWO_CHUNKS_MULT_ZERO_END
 9

	)

314 , {.
	g«me
= "two chunks ;Åriple zeroÉnding"

315 ,.
	gty≥

HTTP_REQUEST


316 ,.
	gøw
= "POST /two_chunks_mult_zero_end HTTP/1.1\r\n"

323 ,.
	gshould_kìp_Æive

TRUE


324 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


325 ,.
	ghâp_maj‹
= 1

326 ,.
	ghâp_mö‹
= 1

327 ,.
	gmëhod

HTTP_POST


328 ,.
	gquîy_°rög
= ""

329 ,.
	g‰agmít
= ""

330 ,.
	gªque°_∑th
= "/two_chunks_mult_zero_end"

331 ,.
	gªque°_uæ
= "/two_chunks_mult_zero_end"

332 ,.
	gnum_hódîs
= 1

333 ,.
	ghódîs
=

336 ,.
	gbody
= "hello world"

337 ,.
	gnum_chunks_com∂ëe
= 3

338 ,.
	gchunk_Àngths
= { 5, 6 }

341 
	#CHUNKED_W_TRAILING_HEADERS
 10

	)

342 , {.
	g«me
= "chunked withÅrailing headers. blech."

343 ,.
	gty≥

HTTP_REQUEST


344 ,.
	gøw
= "POST /chunked_w_trailing_headers HTTP/1.1\r\n"

353 ,.
	gshould_kìp_Æive

TRUE


354 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


355 ,.
	ghâp_maj‹
= 1

356 ,.
	ghâp_mö‹
= 1

357 ,.
	gmëhod

HTTP_POST


358 ,.
	gquîy_°rög
= ""

359 ,.
	g‰agmít
= ""

360 ,.
	gªque°_∑th
= "/chunked_w_trailing_headers"

361 ,.
	gªque°_uæ
= "/chunked_w_trailing_headers"

362 ,.
	gnum_hódîs
= 3

363 ,.
	ghódîs
=

368 ,.
	gbody
= "hello world"

369 ,.
	gnum_chunks_com∂ëe
= 3

370 ,.
	gchunk_Àngths
= { 5, 6 }

373 
	#CHUNKED_W_BULLSHIT_AFTER_LENGTH
 11

	)

374 , {.
	g«me
= "with bullshitáfterÅheÜength"

375 ,.
	gty≥

HTTP_REQUEST


376 ,.
	gøw
= "POST /chunked_w_bullshit_after_length HTTP/1.1\r\n"

383 ,.
	gshould_kìp_Æive

TRUE


384 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


385 ,.
	ghâp_maj‹
= 1

386 ,.
	ghâp_mö‹
= 1

387 ,.
	gmëhod

HTTP_POST


388 ,.
	gquîy_°rög
= ""

389 ,.
	g‰agmít
= ""

390 ,.
	gªque°_∑th
= "/chunked_w_bullshit_after_length"

391 ,.
	gªque°_uæ
= "/chunked_w_bullshit_after_length"

392 ,.
	gnum_hódîs
= 1

393 ,.
	ghódîs
=

396 ,.
	gbody
= "hello world"

397 ,.
	gnum_chunks_com∂ëe
= 3

398 ,.
	gchunk_Àngths
= { 5, 6 }

401 
	#WITH_QUOTES
 12

	)

402 , {.
	g«me
= "with quotes"

403 ,.
	gty≥

HTTP_REQUEST


404 ,.
	gøw
= "GET /with_\"stupid\"_quotes?foo=\"bar\" HTTP/1.1\r\n\r\n"

405 ,.
	gshould_kìp_Æive

TRUE


406 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


407 ,.
	ghâp_maj‹
= 1

408 ,.
	ghâp_mö‹
= 1

409 ,.
	gmëhod

HTTP_GET


410 ,.
	gquîy_°rög
= "foo=\"bar\""

411 ,.
	g‰agmít
= ""

412 ,.
	gªque°_∑th
= "/with_\"stupid\"_quotes"

413 ,.
	gªque°_uæ
= "/with_\"stupid\"_quotes?foo=\"bar\""

414 ,.
	gnum_hódîs
= 0

415 ,.
	ghódîs
= { }

416 ,.
	gbody
= ""

419 
	#APACHEBENCH_GET
 13

	)

425 , {.
	g«me
 = "apachebench get"

426 ,.
	gty≥

HTTP_REQUEST


427 ,.
	gøw
= "GET /test HTTP/1.0\r\n"

431 ,.
	gshould_kìp_Æive

FALSE


432 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


433 ,.
	ghâp_maj‹
= 1

434 ,.
	ghâp_mö‹
= 0

435 ,.
	gmëhod

HTTP_GET


436 ,.
	gquîy_°rög
= ""

437 ,.
	g‰agmít
= ""

438 ,.
	gªque°_∑th
= "/test"

439 ,.
	gªque°_uæ
= "/test"

440 ,.
	gnum_hódîs
= 3

441 ,.
	ghódîs
= { { "Host", "0.0.0.0:5000" }

445 ,.
	gbody
= ""

448 
	#QUERY_URL_WITH_QUESTION_MARK_GET
 14

	)

451 , {.
	g«me
 = "query url with question mark"

452 ,.
	gty≥

HTTP_REQUEST


453 ,.
	gøw
= "GET /test.cgi?foo=bar?baz HTTP/1.1\r\n\r\n"

454 ,.
	gshould_kìp_Æive

TRUE


455 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


456 ,.
	ghâp_maj‹
= 1

457 ,.
	ghâp_mö‹
= 1

458 ,.
	gmëhod

HTTP_GET


459 ,.
	gquîy_°rög
= "foo=bar?baz"

460 ,.
	g‰agmít
= ""

461 ,.
	gªque°_∑th
= "/test.cgi"

462 ,.
	gªque°_uæ
= "/test.cgi?foo=bar?baz"

463 ,.
	gnum_hódîs
= 0

464 ,.
	ghódîs
= {}

465 ,.
	gbody
= ""

468 
	#PREFIX_NEWLINE_GET
 15

	)

472 , {.
	g«me
 = "newlineÖrefix get"

473 ,.
	gty≥

HTTP_REQUEST


474 ,.
	gøw
= "\r\nGET /test HTTP/1.1\r\n\r\n"

475 ,.
	gshould_kìp_Æive

TRUE


476 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


477 ,.
	ghâp_maj‹
= 1

478 ,.
	ghâp_mö‹
= 1

479 ,.
	gmëhod

HTTP_GET


480 ,.
	gquîy_°rög
= ""

481 ,.
	g‰agmít
= ""

482 ,.
	gªque°_∑th
= "/test"

483 ,.
	gªque°_uæ
= "/test"

484 ,.
	gnum_hódîs
= 0

485 ,.
	ghódîs
= { }

486 ,.
	gbody
= ""

489 
	#UPGRADE_REQUEST
 16

	)

490 , {.
	g«me
 = "upgradeÑequest"

491 ,.
	gty≥

HTTP_REQUEST


492 ,.
	gøw
= "GET /demo HTTP/1.1\r\n"

502 ,.
	gshould_kìp_Æive

TRUE


503 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


504 ,.
	ghâp_maj‹
= 1

505 ,.
	ghâp_mö‹
= 1

506 ,.
	gmëhod

HTTP_GET


507 ,.
	gquîy_°rög
= ""

508 ,.
	g‰agmít
= ""

509 ,.
	gªque°_∑th
= "/demo"

510 ,.
	gªque°_uæ
= "/demo"

511 ,.
	gnum_hódîs
= 7

512 ,.
	gupgøde
="Hot diggity dogg"

513 ,.
	ghódîs
= { { "Host", "example.com" }

521 ,.
	gbody
= ""

524 
	#CONNECT_REQUEST
 17

	)

525 , {.
	g«me
 = "connectÑequest"

526 ,.
	gty≥

HTTP_REQUEST


527 ,.
	gøw
= "CONNECT 0-home0.netscape.com:443 HTTP/1.0\r\n"

533 ,.
	gshould_kìp_Æive

FALSE


534 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


535 ,.
	ghâp_maj‹
= 1

536 ,.
	ghâp_mö‹
= 0

537 ,.
	gmëhod

HTTP_CONNECT


538 ,.
	gquîy_°rög
= ""

539 ,.
	g‰agmít
= ""

540 ,.
	gªque°_∑th
= ""

541 ,.
	gªque°_uæ
= "0-home0.netscape.com:443"

542 ,.
	gnum_hódîs
= 2

543 ,.
	gupgøde
="some data\r\nand yetÉven more data"

544 ,.
	ghódîs
= { { "User-agent", "Mozilla/1.1N" }

547 ,.
	gbody
= ""

550 
	#REPORT_REQ
 18

	)

551 , {.
	g«me
= "reportÑequest"

552 ,.
	gty≥

HTTP_REQUEST


553 ,.
	gøw
= "REPORT /test HTTP/1.1\r\n"

555 ,.
	gshould_kìp_Æive

TRUE


556 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


557 ,.
	ghâp_maj‹
= 1

558 ,.
	ghâp_mö‹
= 1

559 ,.
	gmëhod

HTTP_REPORT


560 ,.
	gquîy_°rög
= ""

561 ,.
	g‰agmít
= ""

562 ,.
	gªque°_∑th
= "/test"

563 ,.
	gªque°_uæ
= "/test"

564 ,.
	gnum_hódîs
= 0

565 ,.
	ghódîs
= {}

566 ,.
	gbody
= ""

569 
	#NO_HTTP_VERSION
 19

	)

570 , {.
	g«me
= "request withÇo http version"

571 ,.
	gty≥

HTTP_REQUEST


572 ,.
	gøw
= "GET /\r\n"

574 ,.
	gshould_kìp_Æive

FALSE


575 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


576 ,.
	ghâp_maj‹
= 0

577 ,.
	ghâp_mö‹
= 9

578 ,.
	gmëhod

HTTP_GET


579 ,.
	gquîy_°rög
= ""

580 ,.
	g‰agmít
= ""

581 ,.
	gªque°_∑th
= "/"

582 ,.
	gªque°_uæ
= "/"

583 ,.
	gnum_hódîs
= 0

584 ,.
	ghódîs
= {}

585 ,.
	gbody
= ""

588 
	#MSEARCH_REQ
 20

	)

589 , {.
	g«me
= "m-searchÑequest"

590 ,.
	gty≥

HTTP_REQUEST


591 ,.
	gøw
= "M-SEARCH * HTTP/1.1\r\n"

596 ,.
	gshould_kìp_Æive

TRUE


597 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


598 ,.
	ghâp_maj‹
= 1

599 ,.
	ghâp_mö‹
= 1

600 ,.
	gmëhod

HTTP_MSEARCH


601 ,.
	gquîy_°rög
= ""

602 ,.
	g‰agmít
= ""

603 ,.
	gªque°_∑th
= "*"

604 ,.
	gªque°_uæ
= "*"

605 ,.
	gnum_hódîs
= 3

606 ,.
	ghódîs
= { { "HOST", "239.255.255.250:1900" }

610 ,.
	gbody
= ""

613 
	#LINE_FOLDING_IN_HEADER
 21

	)

614 , {.
	g«me
= "line folding in header value"

615 ,.
	gty≥

HTTP_REQUEST


616 ,.
	gøw
= "GET / HTTP/1.1\r\n"

631 ,.
	gshould_kìp_Æive

FALSE


632 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


633 ,.
	ghâp_maj‹
= 1

634 ,.
	ghâp_mö‹
= 1

635 ,.
	gmëhod

HTTP_GET


636 ,.
	gquîy_°rög
= ""

637 ,.
	g‰agmít
= ""

638 ,.
	gªque°_∑th
= "/"

639 ,.
	gªque°_uæ
= "/"

640 ,.
	gnum_hódîs
= 5

641 ,.
	ghódîs
= { { "Line1", "abc\tdef ghi\t\tjkl mno \t \tqrs" }

647 ,.
	gbody
= ""

651 
	#QUERY_TERMINATED_HOST
 22

	)

652 , {.
	g«me
= "hostÅerminated byá query string"

653 ,.
	gty≥

HTTP_REQUEST


654 ,.
	gøw
= "GET http://hypnotoad.org?hail=all HTTP/1.1\r\n"

656 ,.
	gshould_kìp_Æive

TRUE


657 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


658 ,.
	ghâp_maj‹
= 1

659 ,.
	ghâp_mö‹
= 1

660 ,.
	gmëhod

HTTP_GET


661 ,.
	gquîy_°rög
= "hail=all"

662 ,.
	g‰agmít
= ""

663 ,.
	gªque°_∑th
= ""

664 ,.
	gªque°_uæ
= "http://hypnotoad.org?hail=all"

665 ,.
	gho°
= "hypnotoad.org"

666 ,.
	gnum_hódîs
= 0

667 ,.
	ghódîs
= { }

668 ,.
	gbody
= ""

671 
	#QUERY_TERMINATED_HOSTPORT
 23

	)

672 , {.
	g«me
= "host:portÅerminated byá query string"

673 ,.
	gty≥

HTTP_REQUEST


674 ,.
	gøw
= "GET http://hypnotoad.org:1234?hail=all HTTP/1.1\r\n"

676 ,.
	gshould_kìp_Æive

TRUE


677 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


678 ,.
	ghâp_maj‹
= 1

679 ,.
	ghâp_mö‹
= 1

680 ,.
	gmëhod

HTTP_GET


681 ,.
	gquîy_°rög
= "hail=all"

682 ,.
	g‰agmít
= ""

683 ,.
	gªque°_∑th
= ""

684 ,.
	gªque°_uæ
= "http://hypnotoad.org:1234?hail=all"

685 ,.
	gho°
= "hypnotoad.org"

686 ,.
	gp‹t
= 1234

687 ,.
	gnum_hódîs
= 0

688 ,.
	ghódîs
= { }

689 ,.
	gbody
= ""

692 
	#SPACE_TERMINATED_HOSTPORT
 24

	)

693 , {.
	g«me
= "host:portÅerminated byá space"

694 ,.
	gty≥

HTTP_REQUEST


695 ,.
	gøw
= "GET http://hypnotoad.org:1234 HTTP/1.1\r\n"

697 ,.
	gshould_kìp_Æive

TRUE


698 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


699 ,.
	ghâp_maj‹
= 1

700 ,.
	ghâp_mö‹
= 1

701 ,.
	gmëhod

HTTP_GET


702 ,.
	gquîy_°rög
= ""

703 ,.
	g‰agmít
= ""

704 ,.
	gªque°_∑th
= ""

705 ,.
	gªque°_uæ
= "http://hypnotoad.org:1234"

706 ,.
	gho°
= "hypnotoad.org"

707 ,.
	gp‹t
= 1234

708 ,.
	gnum_hódîs
= 0

709 ,.
	ghódîs
= { }

710 ,.
	gbody
= ""

713 
	#PATCH_REQ
 25

	)

714 , {.
	g«me
 = "PATCHÑequest"

715 ,.
	gty≥

HTTP_REQUEST


716 ,.
	gøw
= "PATCH /file.txt HTTP/1.1\r\n"

723 ,.
	gshould_kìp_Æive

TRUE


724 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


725 ,.
	ghâp_maj‹
= 1

726 ,.
	ghâp_mö‹
= 1

727 ,.
	gmëhod

HTTP_PATCH


728 ,.
	gquîy_°rög
= ""

729 ,.
	g‰agmít
= ""

730 ,.
	gªque°_∑th
= "/file.txt"

731 ,.
	gªque°_uæ
= "/file.txt"

732 ,.
	gnum_hódîs
= 4

733 ,.
	ghódîs
= { { "Host", "www.example.com" }

738 ,.
	gbody
= "cccccccccc"

741 
	#CONNECT_CAPS_REQUEST
 26

	)

742 , {.
	g«me
 = "connect capsÑequest"

743 ,.
	gty≥

HTTP_REQUEST


744 ,.
	gøw
= "CONNECT HOME0.NETSCAPE.COM:443 HTTP/1.0\r\n"

748 ,.
	gshould_kìp_Æive

FALSE


749 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


750 ,.
	ghâp_maj‹
= 1

751 ,.
	ghâp_mö‹
= 0

752 ,.
	gmëhod

HTTP_CONNECT


753 ,.
	gquîy_°rög
= ""

754 ,.
	g‰agmít
= ""

755 ,.
	gªque°_∑th
= ""

756 ,.
	gªque°_uæ
= "HOME0.NETSCAPE.COM:443"

757 ,.
	gnum_hódîs
= 2

758 ,.
	gupgøde
=""

759 ,.
	ghódîs
= { { "User-agent", "Mozilla/1.1N" }

762 ,.
	gbody
= ""

765 #i‡!
HTTP_PARSER_STRICT


766 
	#UTF8_PATH_REQ
 27

	)

767 , {.
	g«me
= "utf-8ÖathÑequest"

768 ,.
	gty≥

HTTP_REQUEST


769 ,.
	gøw
= "GET /Œ¥¬∂/Œ¥t/pope?q=1#narf HTTP/1.1\r\n"

772 ,.
	gshould_kìp_Æive

TRUE


773 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


774 ,.
	ghâp_maj‹
= 1

775 ,.
	ghâp_mö‹
= 1

776 ,.
	gmëhod

HTTP_GET


777 ,.
	gquîy_°rög
= "q=1"

778 ,.
	g‰agmít
= "narf"

779 ,.
	gªque°_∑th
= "/Œ¥¬∂/Œ¥t/pope"

780 ,.
	gªque°_uæ
= "/Œ¥¬∂/Œ¥t/pope?q=1#narf"

781 ,.
	gnum_hódîs
= 1

782 ,.
	ghódîs
= { {"Host", "github.com" }

784 ,.
	gbody
= ""

787 
	#HOSTNAME_UNDERSCORE
 28

	)

788 , {.
	g«me
 = "hostname underscore"

789 ,.
	gty≥

HTTP_REQUEST


790 ,.
	gøw
= "CONNECT home_0.netscape.com:443 HTTP/1.0\r\n"

794 ,.
	gshould_kìp_Æive

FALSE


795 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


796 ,.
	ghâp_maj‹
= 1

797 ,.
	ghâp_mö‹
= 0

798 ,.
	gmëhod

HTTP_CONNECT


799 ,.
	gquîy_°rög
= ""

800 ,.
	g‰agmít
= ""

801 ,.
	gªque°_∑th
= ""

802 ,.
	gªque°_uæ
= "home_0.netscape.com:443"

803 ,.
	gnum_hódîs
= 2

804 ,.
	gupgøde
=""

805 ,.
	ghódîs
= { { "User-agent", "Mozilla/1.1N" }

808 ,.
	gbody
= ""

813 
	#EAT_TRAILING_CRLF_NO_CONNECTION_CLOSE
 29

	)

814 , {.
	g«me
 = "eat CRLF betweenÑequests,Ço \"Connection: close\" header"

815 ,.
	gøw
= "POST / HTTP/1.1\r\n"

821 ,.
	gshould_kìp_Æive

TRUE


822 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


823 ,.
	ghâp_maj‹
= 1

824 ,.
	ghâp_mö‹
= 1

825 ,.
	gmëhod

HTTP_POST


826 ,.
	gquîy_°rög
= ""

827 ,.
	g‰agmít
= ""

828 ,.
	gªque°_∑th
= "/"

829 ,.
	gªque°_uæ
= "/"

830 ,.
	gnum_hódîs
= 3

831 ,.
	gupgøde
= 0

832 ,.
	ghódîs
= { { "Host", "www.example.com" }

836 ,.
	gbody
= "q=42"

840 
	#EAT_TRAILING_CRLF_WITH_CONNECTION_CLOSE
 30

	)

841 , {.
	g«me
 = "eat CRLF betweenÑequestsÉven if \"Connection: close\" is set"

842 ,.
	gøw
= "POST / HTTP/1.1\r\n"

849 ,.
	gshould_kìp_Æive

FALSE


850 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


851 ,.
	ghâp_maj‹
= 1

852 ,.
	ghâp_mö‹
= 1

853 ,.
	gmëhod

HTTP_POST


854 ,.
	gquîy_°rög
= ""

855 ,.
	g‰agmít
= ""

856 ,.
	gªque°_∑th
= "/"

857 ,.
	gªque°_uæ
= "/"

858 ,.
	gnum_hódîs
= 4

859 ,.
	gupgøde
= 0

860 ,.
	ghódîs
= { { "Host", "www.example.com" }

865 ,.
	gbody
= "q=42"

868 
	#PURGE_REQ
 31

	)

869 , {.
	g«me
 = "PURGEÑequest"

870 ,.
	gty≥

HTTP_REQUEST


871 ,.
	gøw
= "PURGE /file.txt HTTP/1.1\r\n"

874 ,.
	gshould_kìp_Æive

TRUE


875 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


876 ,.
	ghâp_maj‹
= 1

877 ,.
	ghâp_mö‹
= 1

878 ,.
	gmëhod

HTTP_PURGE


879 ,.
	gquîy_°rög
= ""

880 ,.
	g‰agmít
= ""

881 ,.
	gªque°_∑th
= "/file.txt"

882 ,.
	gªque°_uæ
= "/file.txt"

883 ,.
	gnum_hódîs
= 1

884 ,.
	ghódîs
= { { "Host", "www.example.com" } }

885 ,.
	gbody
= ""

888 
	#SEARCH_REQ
 32

	)

889 , {.
	g«me
 = "SEARCHÑequest"

890 ,.
	gty≥

HTTP_REQUEST


891 ,.
	gøw
= "SEARCH / HTTP/1.1\r\n"

894 ,.
	gshould_kìp_Æive

TRUE


895 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


896 ,.
	ghâp_maj‹
= 1

897 ,.
	ghâp_mö‹
= 1

898 ,.
	gmëhod

HTTP_SEARCH


899 ,.
	gquîy_°rög
= ""

900 ,.
	g‰agmít
= ""

901 ,.
	gªque°_∑th
= "/"

902 ,.
	gªque°_uæ
= "/"

903 ,.
	gnum_hódîs
= 1

904 ,.
	ghódîs
= { { "Host", "www.example.com" } }

905 ,.
	gbody
= ""

908 
	#PROXY_WITH_BASIC_AUTH
 33

	)

909 , {.
	g«me
= "host:portánd basic_auth"

910 ,.
	gty≥

HTTP_REQUEST


911 ,.
	gøw
= "GET http://a%12:b!&*$@hypnotoad.org:1234/toto HTTP/1.1\r\n"

913 ,.
	gshould_kìp_Æive

TRUE


914 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


915 ,.
	ghâp_maj‹
= 1

916 ,.
	ghâp_mö‹
= 1

917 ,.
	gmëhod

HTTP_GET


918 ,.
	g‰agmít
= ""

919 ,.
	gªque°_∑th
= "/toto"

920 ,.
	gªque°_uæ
= "http://a%12:b!&*$@hypnotoad.org:1234/toto"

921 ,.
	gho°
= "hypnotoad.org"

922 ,.
	gu£röfo
= "a%12:b!&*$"

923 ,.
	gp‹t
= 1234

924 ,.
	gnum_hódîs
= 0

925 ,.
	ghódîs
= { }

926 ,.
	gbody
= ""

929 
	#LINE_FOLDING_IN_HEADER_WITH_LF
 34

	)

930 , {.
	g«me
= "line folding in header value"

931 ,.
	gty≥

HTTP_REQUEST


932 ,.
	gøw
= "GET / HTTP/1.1\n"

947 ,.
	gshould_kìp_Æive

FALSE


948 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


949 ,.
	ghâp_maj‹
= 1

950 ,.
	ghâp_mö‹
= 1

951 ,.
	gmëhod

HTTP_GET


952 ,.
	gquîy_°rög
= ""

953 ,.
	g‰agmít
= ""

954 ,.
	gªque°_∑th
= "/"

955 ,.
	gªque°_uæ
= "/"

956 ,.
	gnum_hódîs
= 5

957 ,.
	ghódîs
= { { "Line1", "abc\tdef ghi\t\tjkl mno \t \tqrs" }

963 ,.
	gbody
= ""

966 
	#CONNECTION_MULTI
 35

	)

967 , {.
	g«me
 = "multiple connection header values with folding"

968 ,.
	gty≥

HTTP_REQUEST


969 ,.
	gøw
= "GET /demo HTTP/1.1\r\n"

980 ,.
	gshould_kìp_Æive

TRUE


981 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


982 ,.
	ghâp_maj‹
= 1

983 ,.
	ghâp_mö‹
= 1

984 ,.
	gmëhod

HTTP_GET


985 ,.
	gquîy_°rög
= ""

986 ,.
	g‰agmít
= ""

987 ,.
	gªque°_∑th
= "/demo"

988 ,.
	gªque°_uæ
= "/demo"

989 ,.
	gnum_hódîs
= 7

990 ,.
	gupgøde
="Hot diggity dogg"

991 ,.
	ghódîs
= { { "Host", "example.com" }

999 ,.
	gbody
= ""

1002 
	#CONNECTION_MULTI_LWS
 36

	)

1003 , {.
	g«me
 = "multiple connection header values with foldingándÜws"

1004 ,.
	gty≥

HTTP_REQUEST


1005 ,.
	gøw
= "GET /demo HTTP/1.1\r\n"

1010 ,.
	gshould_kìp_Æive

TRUE


1011 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1012 ,.
	ghâp_maj‹
= 1

1013 ,.
	ghâp_mö‹
= 1

1014 ,.
	gmëhod

HTTP_GET


1015 ,.
	gquîy_°rög
= ""

1016 ,.
	g‰agmít
= ""

1017 ,.
	gªque°_∑th
= "/demo"

1018 ,.
	gªque°_uæ
= "/demo"

1019 ,.
	gnum_hódîs
= 2

1020 ,.
	gupgøde
="Hot diggity dogg"

1021 ,.
	ghódîs
= { { "Connection", "keep-alive, upgrade" }

1024 ,.
	gbody
= ""

1027 
	#CONNECTION_MULTI_LWS_CRLF
 37

	)

1028 , {.
	g«me
 = "multiple connection header values with foldingándÜws"

1029 ,.
	gty≥

HTTP_REQUEST


1030 ,.
	gøw
= "GET /demo HTTP/1.1\r\n"

1035 ,.
	gshould_kìp_Æive

TRUE


1036 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1037 ,.
	ghâp_maj‹
= 1

1038 ,.
	ghâp_mö‹
= 1

1039 ,.
	gmëhod

HTTP_GET


1040 ,.
	gquîy_°rög
= ""

1041 ,.
	g‰agmít
= ""

1042 ,.
	gªque°_∑th
= "/demo"

1043 ,.
	gªque°_uæ
= "/demo"

1044 ,.
	gnum_hódîs
= 2

1045 ,.
	gupgøde
="Hot diggity dogg"

1046 ,.
	ghódîs
= { { "Connection", "keep-alive, upgrade" }

1049 ,.
	gbody
= ""

1052 
	#UPGRADE_POST_REQUEST
 38

	)

1053 , {.
	g«me
 = "upgradeÖostÑequest"

1054 ,.
	gty≥

HTTP_REQUEST


1055 ,.
	gøw
= "POST /demo HTTP/1.1\r\n"

1063 ,.
	gshould_kìp_Æive

TRUE


1064 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1065 ,.
	ghâp_maj‹
= 1

1066 ,.
	ghâp_mö‹
= 1

1067 ,.
	gmëhod

HTTP_POST


1068 ,.
	gªque°_∑th
= "/demo"

1069 ,.
	gªque°_uæ
= "/demo"

1070 ,.
	gnum_hódîs
= 4

1071 ,.
	gupgøde
="Hot diggity dogg"

1072 ,.
	ghódîs
= { { "Host", "example.com" }

1077 ,.
	gbody
= "sweetÖost body"

1080 
	#CONNECT_WITH_BODY_REQUEST
 39

	)

1081 , {.
	g«me
 = "connect with bodyÑequest"

1082 ,.
	gty≥

HTTP_REQUEST


1083 ,.
	gøw
= "CONNECT foo.bar.com:443 HTTP/1.0\r\n"

1089 ,.
	gshould_kìp_Æive

FALSE


1090 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1091 ,.
	ghâp_maj‹
= 1

1092 ,.
	ghâp_mö‹
= 0

1093 ,.
	gmëhod

HTTP_CONNECT


1094 ,.
	gªque°_uæ
= "foo.bar.com:443"

1095 ,.
	gnum_hódîs
= 3

1096 ,.
	gupgøde
="blarfcicle"

1097 ,.
	ghódîs
= { { "User-agent", "Mozilla/1.1N" }

1101 ,.
	gbody
= ""

1104 , {.
	g«me

NULL
 }

1108 c⁄° 
mesßge
 
	gª•⁄£s
[] =

1109 
	#GOOGLE_301
 0

	)

1110 { {.
«me
= "google 301"

1111 ,.
	gty≥

HTTP_RESPONSE


1112 ,.
	gøw
= "HTTP/1.1 301 Moved Permanently\r\n"

1128 ,.
	gshould_kìp_Æive

TRUE


1129 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1130 ,.
	ghâp_maj‹
= 1

1131 ,.
	ghâp_mö‹
= 1

1132 ,.
	g°©us_code
= 301

1133 ,.
	gª•⁄£_°©us
= "Moved Permanently"

1134 ,.
	gnum_hódîs
= 8

1135 ,.
	ghódîs
=

1145 ,.
	gbody
= "<HTML><HEAD><meta http-equiv=\"content-type\" content=\"text/html;charset=utf-8\">\n"

1153 
	#NO_CONTENT_LENGTH_RESPONSE
 1

	)

1159 , {.
	g«me
= "no content-lengthÑesponse"

1160 ,.
	gty≥

HTTP_RESPONSE


1161 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1177 ,.
	gshould_kìp_Æive

FALSE


1178 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1179 ,.
	ghâp_maj‹
= 1

1180 ,.
	ghâp_mö‹
= 1

1181 ,.
	g°©us_code
= 200

1182 ,.
	gª•⁄£_°©us
= "OK"

1183 ,.
	gnum_hódîs
= 5

1184 ,.
	ghódîs
=

1191 ,.
	gbody
= "<?xml version=\"1.0\"Éncoding=\"UTF-8\"?>\n"

1202 
	#NO_HEADERS_NO_BODY_404
 2

	)

1203 , {.
	g«me
= "404Ço headersÇo body"

1204 ,.
	gty≥

HTTP_RESPONSE


1205 ,.
	gøw
= "HTTP/1.1 404 Not Found\r\n\r\n"

1206 ,.
	gshould_kìp_Æive

FALSE


1207 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1208 ,.
	ghâp_maj‹
= 1

1209 ,.
	ghâp_mö‹
= 1

1210 ,.
	g°©us_code
= 404

1211 ,.
	gª•⁄£_°©us
= "Not Found"

1212 ,.
	gnum_hódîs
= 0

1213 ,.
	ghódîs
= {}

1214 ,.
	gbody_size
= 0

1215 ,.
	gbody
= ""

1218 
	#NO_REASON_PHRASE
 3

	)

1219 , {.
	g«me
= "301ÇoÑesponseÖhrase"

1220 ,.
	gty≥

HTTP_RESPONSE


1221 ,.
	gøw
= "HTTP/1.1 301\r\n\r\n"

1222 ,.
	gshould_kìp_Æive
 = 
FALSE


1223 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1224 ,.
	ghâp_maj‹
= 1

1225 ,.
	ghâp_mö‹
= 1

1226 ,.
	g°©us_code
= 301

1227 ,.
	gª•⁄£_°©us
= ""

1228 ,.
	gnum_hódîs
= 0

1229 ,.
	ghódîs
= {}

1230 ,.
	gbody
= ""

1233 
	#TRAILING_SPACE_ON_CHUNKED_BODY
 4

	)

1234 , {.
	g«me
="200Årailing space on chunked body"

1235 ,.
	gty≥

HTTP_RESPONSE


1236 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1248 ,.
	gshould_kìp_Æive

TRUE


1249 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1250 ,.
	ghâp_maj‹
= 1

1251 ,.
	ghâp_mö‹
= 1

1252 ,.
	g°©us_code
= 200

1253 ,.
	gª•⁄£_°©us
= "OK"

1254 ,.
	gnum_hódîs
= 2

1255 ,.
	ghódîs
=

1259 ,.
	gbody_size
 = 37+28

1260 ,.
	gbody
 =

1263 ,.
	gnum_chunks_com∂ëe
= 3

1264 ,.
	gchunk_Àngths
= { 0x25, 0x1c }

1267 
	#NO_CARRIAGE_RET
 5

	)

1268 , {.
	g«me
="no carriageÑet"

1269 ,.
	gty≥

HTTP_RESPONSE


1270 ,.
	gøw
= "HTTP/1.1 200 OK\n"

1275 ,.
	gshould_kìp_Æive

FALSE


1276 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1277 ,.
	ghâp_maj‹
= 1

1278 ,.
	ghâp_mö‹
= 1

1279 ,.
	g°©us_code
= 200

1280 ,.
	gª•⁄£_°©us
= "OK"

1281 ,.
	gnum_hódîs
= 2

1282 ,.
	ghódîs
=

1286 ,.
	gbody
= "these headersáre from http://news.ycombinator.com/"

1289 
	#PROXY_CONNECTION
 6

	)

1290 , {.
	g«me
="proxy connection"

1291 ,.
	gty≥

HTTP_RESPONSE


1292 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1299 ,.
	gshould_kìp_Æive

FALSE


1300 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1301 ,.
	ghâp_maj‹
= 1

1302 ,.
	ghâp_mö‹
= 1

1303 ,.
	g°©us_code
= 200

1304 ,.
	gª•⁄£_°©us
= "OK"

1305 ,.
	gnum_hódîs
= 4

1306 ,.
	ghódîs
=

1312 ,.
	gbody
= "hello world"

1315 
	#UNDERSTORE_HEADER_KEY
 7

	)

1318 , {.
	g«me
="underscore header key"

1319 ,.
	gty≥

HTTP_RESPONSE


1320 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1325 ,.
	gshould_kìp_Æive

TRUE


1326 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1327 ,.
	ghâp_maj‹
= 1

1328 ,.
	ghâp_mö‹
= 1

1329 ,.
	g°©us_code
= 200

1330 ,.
	gª•⁄£_°©us
= "OK"

1331 ,.
	gnum_hódîs
= 4

1332 ,.
	ghódîs
=

1338 ,.
	gbody
= ""

1341 
	#BONJOUR_MADAME_FR
 8

	)

1345 , {.
	g«me
= "bonjourmadame.fr"

1346 ,.
	gty≥

HTTP_RESPONSE


1347 ,.
	gøw
= "HTTP/1.0 301 Moved Permanently\r\n"

1358 ,.
	gshould_kìp_Æive

TRUE


1359 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1360 ,.
	ghâp_maj‹
= 1

1361 ,.
	ghâp_mö‹
= 0

1362 ,.
	g°©us_code
= 301

1363 ,.
	gª•⁄£_°©us
= "Moved Permanently"

1364 ,.
	gnum_hódîs
= 9

1365 ,.
	ghódîs
=

1376 ,.
	gbody
= ""

1379 
	#RES_FIELD_UNDERSCORE
 9

	)

1381 , {.
	g«me
= "field underscore"

1382 ,.
	gty≥

HTTP_RESPONSE


1383 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1397 ,.
	gshould_kìp_Æive

FALSE


1398 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1399 ,.
	ghâp_maj‹
= 1

1400 ,.
	ghâp_mö‹
= 1

1401 ,.
	g°©us_code
= 200

1402 ,.
	gª•⁄£_°©us
= "OK"

1403 ,.
	gnum_hódîs
= 11

1404 ,.
	ghódîs
=

1417 ,.
	gbody
= ""

1418 ,.
	gnum_chunks_com∂ëe
= 1

1419 ,.
	gchunk_Àngths
= {}

1422 
	#NON_ASCII_IN_STATUS_LINE
 10

	)

1424 , {.
	g«me
= "non-ASCII in statusÜine"

1425 ,.
	gty≥

HTTP_RESPONSE


1426 ,.
	gøw
= "HTTP/1.1 500 Ori√´ntatieprobleem\r\n"

1431 ,.
	gshould_kìp_Æive

FALSE


1432 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1433 ,.
	ghâp_maj‹
= 1

1434 ,.
	ghâp_mö‹
= 1

1435 ,.
	g°©us_code
= 500

1436 ,.
	gª•⁄£_°©us
= "Ori√´ntatieprobleem"

1437 ,.
	gnum_hódîs
= 3

1438 ,.
	ghódîs
=

1443 ,.
	gbody
= ""

1446 
	#HTTP_VERSION_0_9
 11

	)

1448 , {.
	g«me
= "http version 0.9"

1449 ,.
	gty≥

HTTP_RESPONSE


1450 ,.
	gøw
= "HTTP/0.9 200 OK\r\n"

1452 ,.
	gshould_kìp_Æive

FALSE


1453 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1454 ,.
	ghâp_maj‹
= 0

1455 ,.
	ghâp_mö‹
= 9

1456 ,.
	g°©us_code
= 200

1457 ,.
	gª•⁄£_°©us
= "OK"

1458 ,.
	gnum_hódîs
= 0

1459 ,.
	ghódîs
=

1461 ,.
	gbody
= ""

1464 
	#NO_CONTENT_LENGTH_NO_TRANSFER_ENCODING_RESPONSE
 12

	)

1469 , {.
	g«me
= "neither content-lengthÇorÅransfer-encodingÑesponse"

1470 ,.
	gty≥

HTTP_RESPONSE


1471 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1475 ,.
	gshould_kìp_Æive

FALSE


1476 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1477 ,.
	ghâp_maj‹
= 1

1478 ,.
	ghâp_mö‹
= 1

1479 ,.
	g°©us_code
= 200

1480 ,.
	gª•⁄£_°©us
= "OK"

1481 ,.
	gnum_hódîs
= 1

1482 ,.
	ghódîs
=

1485 ,.
	gbody
= "hello world"

1488 
	#NO_BODY_HTTP10_KA_200
 13

	)

1489 , {.
	g«me
= "HTTP/1.0 with keep-aliveánd EOF-terminated 200 status"

1490 ,.
	gty≥

HTTP_RESPONSE


1491 ,.
	gøw
= "HTTP/1.0 200 OK\r\n"

1494 ,.
	gshould_kìp_Æive

FALSE


1495 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1496 ,.
	ghâp_maj‹
= 1

1497 ,.
	ghâp_mö‹
= 0

1498 ,.
	g°©us_code
= 200

1499 ,.
	gª•⁄£_°©us
= "OK"

1500 ,.
	gnum_hódîs
= 1

1501 ,.
	ghódîs
=

1504 ,.
	gbody_size
= 0

1505 ,.
	gbody
= ""

1508 
	#NO_BODY_HTTP10_KA_204
 14

	)

1509 , {.
	g«me
= "HTTP/1.0 with keep-aliveándá 204 status"

1510 ,.
	gty≥

HTTP_RESPONSE


1511 ,.
	gøw
= "HTTP/1.0 204 No content\r\n"

1514 ,.
	gshould_kìp_Æive

TRUE


1515 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1516 ,.
	ghâp_maj‹
= 1

1517 ,.
	ghâp_mö‹
= 0

1518 ,.
	g°©us_code
= 204

1519 ,.
	gª•⁄£_°©us
= "No content"

1520 ,.
	gnum_hódîs
= 1

1521 ,.
	ghódîs
=

1524 ,.
	gbody_size
= 0

1525 ,.
	gbody
= ""

1528 
	#NO_BODY_HTTP11_KA_200
 15

	)

1529 , {.
	g«me
= "HTTP/1.1 withán EOF-terminated 200 status"

1530 ,.
	gty≥

HTTP_RESPONSE


1531 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1533 ,.
	gshould_kìp_Æive

FALSE


1534 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1535 ,.
	ghâp_maj‹
= 1

1536 ,.
	ghâp_mö‹
= 1

1537 ,.
	g°©us_code
= 200

1538 ,.
	gª•⁄£_°©us
= "OK"

1539 ,.
	gnum_hódîs
= 0

1540 ,.
	ghódîs
={}

1541 ,.
	gbody_size
= 0

1542 ,.
	gbody
= ""

1545 
	#NO_BODY_HTTP11_KA_204
 16

	)

1546 , {.
	g«me
= "HTTP/1.1 withá 204 status"

1547 ,.
	gty≥

HTTP_RESPONSE


1548 ,.
	gøw
= "HTTP/1.1 204 No content\r\n"

1550 ,.
	gshould_kìp_Æive

TRUE


1551 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1552 ,.
	ghâp_maj‹
= 1

1553 ,.
	ghâp_mö‹
= 1

1554 ,.
	g°©us_code
= 204

1555 ,.
	gª•⁄£_°©us
= "No content"

1556 ,.
	gnum_hódîs
= 0

1557 ,.
	ghódîs
={}

1558 ,.
	gbody_size
= 0

1559 ,.
	gbody
= ""

1562 
	#NO_BODY_HTTP11_NOKA_204
 17

	)

1563 , {.
	g«me
= "HTTP/1.1 withá 204 statusánd keep-alive disabled"

1564 ,.
	gty≥

HTTP_RESPONSE


1565 ,.
	gøw
= "HTTP/1.1 204 No content\r\n"

1568 ,.
	gshould_kìp_Æive

FALSE


1569 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1570 ,.
	ghâp_maj‹
= 1

1571 ,.
	ghâp_mö‹
= 1

1572 ,.
	g°©us_code
= 204

1573 ,.
	gª•⁄£_°©us
= "No content"

1574 ,.
	gnum_hódîs
= 1

1575 ,.
	ghódîs
=

1578 ,.
	gbody_size
= 0

1579 ,.
	gbody
= ""

1582 
	#NO_BODY_HTTP11_KA_CHUNKED_200
 18

	)

1583 , {.
	g«me
= "HTTP/1.1 with chunkedÉndocingándá 200Ñesponse"

1584 ,.
	gty≥

HTTP_RESPONSE


1585 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1590 ,.
	gshould_kìp_Æive

TRUE


1591 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1592 ,.
	ghâp_maj‹
= 1

1593 ,.
	ghâp_mö‹
= 1

1594 ,.
	g°©us_code
= 200

1595 ,.
	gª•⁄£_°©us
= "OK"

1596 ,.
	gnum_hódîs
= 1

1597 ,.
	ghódîs
=

1600 ,.
	gbody_size
= 0

1601 ,.
	gbody
= ""

1602 ,.
	gnum_chunks_com∂ëe
= 1

1605 #i‡!
HTTP_PARSER_STRICT


1606 
	#SPACE_IN_FIELD_RES
 19

	)

1608 , {.
	g«me
= "field space"

1609 ,.
	gty≥

HTTP_RESPONSE


1610 ,.
	gøw
= "HTTP/1.1 200 OK\r\n"

1620 ,.
	gshould_kìp_Æive

TRUE


1621 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1622 ,.
	ghâp_maj‹
= 1

1623 ,.
	ghâp_mö‹
= 1

1624 ,.
	g°©us_code
= 200

1625 ,.
	gª•⁄£_°©us
= "OK"

1626 ,.
	gnum_hódîs
= 7

1627 ,.
	ghódîs
=

1636 ,.
	gbody
= "<xml>hello</xml>"

1640 
	#AMAZON_COM
 20

	)

1641 , {.
	g«me
= "amazon.com"

1642 ,.
	gty≥

HTTP_RESPONSE


1643 ,.
	gøw
= "HTTP/1.1 301 MovedPermanently\r\n"

1658 ,.
	gshould_kìp_Æive

TRUE


1659 ,.
	gmesßge_com∂ëe_⁄_eof

FALSE


1660 ,.
	ghâp_maj‹
= 1

1661 ,.
	ghâp_mö‹
= 1

1662 ,.
	g°©us_code
= 301

1663 ,.
	gª•⁄£_°©us
= "MovedPermanently"

1664 ,.
	gnum_hódîs
= 9

1665 ,.
	ghódîs
= { { "Date", "Wed, 15 May 2013 17:06:33 GMT" }

1675 ,.
	gbody
= "\n"

1676 ,.
	gnum_chunks_com∂ëe
= 2

1677 ,.
	gchunk_Àngths
= { 1 }

1680 
	#EMPTY_REASON_PHRASE_AFTER_SPACE
 20

	)

1681 , {.
	g«me
= "emptyÑeasonÖhraseáfter space"

1682 ,.
	gty≥

HTTP_RESPONSE


1683 ,.
	gøw
= "HTTP/1.1 200 \r\n"

1685 ,.
	gshould_kìp_Æive

FALSE


1686 ,.
	gmesßge_com∂ëe_⁄_eof

TRUE


1687 ,.
	ghâp_maj‹
= 1

1688 ,.
	ghâp_mö‹
= 1

1689 ,.
	g°©us_code
= 200

1690 ,.
	gª•⁄£_°©us
= ""

1691 ,.
	gnum_hódîs
= 0

1692 ,.
	ghódîs
= {}

1693 ,.
	gbody
= ""

1696 , {.
	g«me

NULL
 }

1702 
size_t


1703 
	$°∫Àn
(c⁄° *
s
, 
size_t
 
maxÀn
)

1705 c⁄° *
p
;

1707 
p
 = 
	`memchr
(
s
, '\0', 
maxÀn
);

1708 i‡(
p
 =
NULL
)

1709  
maxÀn
;

1711  
p
 - 
s
;

1712 
	}
}

1714 
size_t


1715 
	$°ænˇt
(*
d°
, 
size_t
 
Àn
, c⁄° *
§c
, size_à
n
)

1717 
size_t
 
¶í
;

1718 
size_t
 
dÀn
;

1719 
size_t
 
æí
;

1720 
size_t
 
n˝y
;

1722 
¶í
 = 
	`°∫Àn
(
§c
, 
n
);

1723 
dÀn
 = 
	`°∫Àn
(
d°
, 
Àn
);

1725 i‡(
dÀn
 < 
Àn
) {

1726 
æí
 = 
Àn
 - 
dÀn
;

1727 
n˝y
 = 
¶í
 < 
æí
 ? slen : (rlen - 1);

1728 
	`mem˝y
(
d°
 + 
dÀn
, 
§c
, 
n˝y
);

1729 
d°
[
dÀn
 + 
n˝y
] = '\0';

1732 
	`as£π
(
Àn
 > 
¶í
 + 
dÀn
);

1733  
¶í
 + 
dÀn
;

1734 
	}
}

1736 
size_t


1737 
	$°æˇt
(*
d°
, c⁄° *
§c
, 
size_t
 
Àn
)

1739  
	`°ænˇt
(
d°
, 
Àn
, 
§c
, (
size_t
) -1);

1740 
	}
}

1742 
size_t


1743 
	$°æn˝y
(*
d°
, 
size_t
 
Àn
, c⁄° *
§c
, size_à
n
)

1745 
size_t
 
¶í
;

1746 
size_t
 
n˝y
;

1748 
¶í
 = 
	`°∫Àn
(
§c
, 
n
);

1750 i‡(
Àn
 > 0) {

1751 
n˝y
 = 
¶í
 < 
Àn
 ? slen : (len - 1);

1752 
	`mem˝y
(
d°
, 
§c
, 
n˝y
);

1753 
d°
[
n˝y
] = '\0';

1756 
	`as£π
(
Àn
 > 
¶í
);

1757  
¶í
;

1758 
	}
}

1760 
size_t


1761 
	$°æ˝y
(*
d°
, c⁄° *
§c
, 
size_t
 
Àn
)

1763  
	`°æn˝y
(
d°
, 
Àn
, 
§c
, (
size_t
) -1);

1764 
	}
}

1767 
	$ªque°_uæ_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1769 
	`as£π
(
p
 =
∑r£r
);

1770 
	`°ænˇt
(
mesßges
[
num_mesßges
].
ªque°_uæ
,

1771 (
mesßges
[
num_mesßges
].
ªque°_uæ
),

1772 
buf
,

1773 
Àn
);

1775 
	}
}

1778 
	$hódî_fõld_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1780 
	`as£π
(
p
 =
∑r£r
);

1781 
mesßge
 *
m
 = &
mesßges
[
num_mesßges
];

1783 i‡(
m
->
œ°_hódî_ñemít
 !
FIELD
)

1784 
m
->
num_hódîs
++;

1786 
	`°ænˇt
(
m
->
hódîs
[m->
num_hódîs
-1][0],

1787 (
m
->
hódîs
[m->
num_hódîs
-1][0]),

1788 
buf
,

1789 
Àn
);

1791 
m
->
œ°_hódî_ñemít
 = 
FIELD
;

1794 
	}
}

1797 
	$hódî_vÆue_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1799 
	`as£π
(
p
 =
∑r£r
);

1800 
mesßge
 *
m
 = &
mesßges
[
num_mesßges
];

1802 
	`°ænˇt
(
m
->
hódîs
[m->
num_hódîs
-1][1],

1803 (
m
->
hódîs
[m->
num_hódîs
-1][1]),

1804 
buf
,

1805 
Àn
);

1807 
m
->
œ°_hódî_ñemít
 = 
VALUE
;

1810 
	}
}

1813 
	$check_body_is_föÆ
 (c⁄° 
hâp_∑r£r
 *
p
)

1815 i‡(
mesßges
[
num_mesßges
].
body_is_föÆ
) {

1816 
	`Ârötf
(
°dîr
, "\n\n *** Error http_body_is_final() shouldÑeturn 1 "

1819 
	`as£π
(0);

1820 
	`ab‹t
();

1822 
mesßges
[
num_mesßges
].
body_is_föÆ
 = 
	`hâp_body_is_föÆ
(
p
);

1823 
	}
}

1826 
	$body_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1828 
	`as£π
(
p
 =
∑r£r
);

1829 
	`°ænˇt
(
mesßges
[
num_mesßges
].
body
,

1830 (
mesßges
[
num_mesßges
].
body
),

1831 
buf
,

1832 
Àn
);

1833 
mesßges
[
num_mesßges
].
body_size
 +
Àn
;

1834 
	`check_body_is_föÆ
(
p
);

1837 
	}
}

1840 
	$cou¡_body_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1842 
	`as£π
(
p
 =
∑r£r
);

1843 
	`as£π
(
buf
);

1844 
mesßges
[
num_mesßges
].
body_size
 +
Àn
;

1845 
	`check_body_is_föÆ
(
p
);

1847 
	}
}

1850 
	$mesßge_begö_cb
 (
hâp_∑r£r
 *
p
)

1852 
	`as£π
(
p
 =
∑r£r
);

1853 
mesßges
[
num_mesßges
].
mesßge_begö_cb_ˇŒed
 = 
TRUE
;

1855 
	}
}

1858 
	$hódîs_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

1860 
	`as£π
(
p
 =
∑r£r
);

1861 
mesßges
[
num_mesßges
].
mëhod
 = 
∑r£r
->method;

1862 
mesßges
[
num_mesßges
].
°©us_code
 = 
∑r£r
->status_code;

1863 
mesßges
[
num_mesßges
].
hâp_maj‹
 = 
∑r£r
->http_major;

1864 
mesßges
[
num_mesßges
].
hâp_mö‹
 = 
∑r£r
->http_minor;

1865 
mesßges
[
num_mesßges
].
hódîs_com∂ëe_cb_ˇŒed
 = 
TRUE
;

1866 
mesßges
[
num_mesßges
].
should_kìp_Æive
 = 
	`hâp_should_kìp_Æive
(
∑r£r
);

1868 
	}
}

1871 
	$mesßge_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

1873 
	`as£π
(
p
 =
∑r£r
);

1874 i‡(
mesßges
[
num_mesßges
].
should_kìp_Æive
 !
	`hâp_should_kìp_Æive
(
∑r£r
))

1876 
	`Ârötf
(
°dîr
, "\n\n *** Error http_should_keep_alive() should have same "

1879 
	`as£π
(0);

1880 
	`ab‹t
();

1883 i‡(
mesßges
[
num_mesßges
].
body_size
 &&

1884 
	`hâp_body_is_föÆ
(
p
) &&

1885 !
mesßges
[
num_mesßges
].
body_is_föÆ
)

1887 
	`Ârötf
(
°dîr
, "\n\n *** Error http_body_is_final() shouldÑeturn 1 "

1890 
	`as£π
(0);

1891 
	`ab‹t
();

1894 
mesßges
[
num_mesßges
].
mesßge_com∂ëe_cb_ˇŒed
 = 
TRUE
;

1896 
mesßges
[
num_mesßges
].
mesßge_com∂ëe_⁄_eof
 = 
cuºíéy_∑rsög_eof
;

1898 
num_mesßges
++;

1900 
	}
}

1903 
	$ª•⁄£_°©us_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1905 
	`as£π
(
p
 =
∑r£r
);

1906 
	`°ænˇt
(
mesßges
[
num_mesßges
].
ª•⁄£_°©us
,

1907 (
mesßges
[
num_mesßges
].
ª•⁄£_°©us
),

1908 
buf
,

1909 
Àn
);

1911 
	}
}

1914 
	$chunk_hódî_cb
 (
hâp_∑r£r
 *
p
)

1916 
	`as£π
(
p
 =
∑r£r
);

1917 
chunk_idx
 = 
mesßges
[
num_mesßges
].
num_chunks
;

1918 
mesßges
[
num_mesßges
].
num_chunks
++;

1919 i‡(
chunk_idx
 < 
MAX_CHUNKS
) {

1920 
mesßges
[
num_mesßges
].
chunk_Àngths
[
chunk_idx
] = 
p
->
c⁄ã¡_Àngth
;

1924 
	}
}

1927 
	$chunk_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

1929 
	`as£π
(
p
 =
∑r£r
);

1935 
	`as£π
(
mesßges
[
num_mesßges
].
num_chunks
 ==

1936 
mesßges
[
num_mesßges
].
num_chunks_com∂ëe
 + 1);

1938 
mesßges
[
num_mesßges
].
num_chunks_com∂ëe
++;

1940 
	}
}

1945 
	$d⁄tˇŒ_mesßge_begö_cb
 (
hâp_∑r£r
 *
p
)

1947 i‡(
p
) { }

1948 
	`Ârötf
(
°dîr
, "\n\n*** on_message_begin() called onÖausedÖarser ***\n\n");

1949 
	`ab‹t
();

1950 
	}
}

1953 
	$d⁄tˇŒ_hódî_fõld_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1955 i‡(
p
 || 
buf
 || 
Àn
) { }

1956 
	`Ârötf
(
°dîr
, "\n\n*** on_header_field() called onÖausedÖarser ***\n\n");

1957 
	`ab‹t
();

1958 
	}
}

1961 
	$d⁄tˇŒ_hódî_vÆue_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1963 i‡(
p
 || 
buf
 || 
Àn
) { }

1964 
	`Ârötf
(
°dîr
, "\n\n*** on_header_value() called onÖausedÖarser ***\n\n");

1965 
	`ab‹t
();

1966 
	}
}

1969 
	$d⁄tˇŒ_ªque°_uæ_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1971 i‡(
p
 || 
buf
 || 
Àn
) { }

1972 
	`Ârötf
(
°dîr
, "\n\n*** on_request_url() called onÖausedÖarser ***\n\n");

1973 
	`ab‹t
();

1974 
	}
}

1977 
	$d⁄tˇŒ_body_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

1979 i‡(
p
 || 
buf
 || 
Àn
) { }

1980 
	`Ârötf
(
°dîr
, "\n\n*** on_body_cb() called onÖausedÖarser ***\n\n");

1981 
	`ab‹t
();

1982 
	}
}

1985 
	$d⁄tˇŒ_hódîs_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

1987 i‡(
p
) { }

1988 
	`Ârötf
(
°dîr
, "\n\n*** on_headers_complete() called onÖaused "

1990 
	`ab‹t
();

1991 
	}
}

1994 
	$d⁄tˇŒ_mesßge_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

1996 i‡(
p
) { }

1997 
	`Ârötf
(
°dîr
, "\n\n*** on_message_complete() called onÖaused "

1999 
	`ab‹t
();

2000 
	}
}

2003 
	$d⁄tˇŒ_ª•⁄£_°©us_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

2005 i‡(
p
 || 
buf
 || 
Àn
) { }

2006 
	`Ârötf
(
°dîr
, "\n\n*** on_status() called onÖausedÖarser ***\n\n");

2007 
	`ab‹t
();

2008 
	}
}

2011 
	$d⁄tˇŒ_chunk_hódî_cb
 (
hâp_∑r£r
 *
p
)

2013 i‡(
p
) { }

2014 
	`Ârötf
(
°dîr
, "\n\n*** on_chunk_header() called onÖausedÖarser ***\n\n");

2015 
	`exô
(1);

2016 
	}
}

2019 
	$d⁄tˇŒ_chunk_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

2021 i‡(
p
) { }

2022 
	`Ârötf
(
°dîr
, "\n\n*** on_chunk_complete() "

2024 
	`exô
(1);

2025 
	}
}

2027 
hâp_∑r£r_£âögs
 
	g£âögs_d⁄tˇŒ
 =

2028 {.
⁄_mesßge_begö
 = 
d⁄tˇŒ_mesßge_begö_cb


2029 ,.
	g⁄_hódî_fõld
 = 
d⁄tˇŒ_hódî_fõld_cb


2030 ,.
	g⁄_hódî_vÆue
 = 
d⁄tˇŒ_hódî_vÆue_cb


2031 ,.
	g⁄_uæ
 = 
d⁄tˇŒ_ªque°_uæ_cb


2032 ,.
	g⁄_°©us
 = 
d⁄tˇŒ_ª•⁄£_°©us_cb


2033 ,.
	g⁄_body
 = 
d⁄tˇŒ_body_cb


2034 ,.
	g⁄_hódîs_com∂ëe
 = 
d⁄tˇŒ_hódîs_com∂ëe_cb


2035 ,.
	g⁄_mesßge_com∂ëe
 = 
d⁄tˇŒ_mesßge_com∂ëe_cb


2036 ,.
	g⁄_chunk_hódî
 = 
d⁄tˇŒ_chunk_hódî_cb


2037 ,.
	g⁄_chunk_com∂ëe
 = 
d⁄tˇŒ_chunk_com∂ëe_cb


2045 
	$∑u£_mesßge_begö_cb
 (
hâp_∑r£r
 *
p
)

2047 
	`hâp_∑r£r_∑u£
(
p
, 1);

2048 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2049  
	`mesßge_begö_cb
(
p
);

2050 
	}
}

2053 
	$∑u£_hódî_fõld_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

2055 
	`hâp_∑r£r_∑u£
(
p
, 1);

2056 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2057  
	`hódî_fõld_cb
(
p
, 
buf
, 
Àn
);

2058 
	}
}

2061 
	$∑u£_hódî_vÆue_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

2063 
	`hâp_∑r£r_∑u£
(
p
, 1);

2064 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2065  
	`hódî_vÆue_cb
(
p
, 
buf
, 
Àn
);

2066 
	}
}

2069 
	$∑u£_ªque°_uæ_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

2071 
	`hâp_∑r£r_∑u£
(
p
, 1);

2072 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2073  
	`ªque°_uæ_cb
(
p
, 
buf
, 
Àn
);

2074 
	}
}

2077 
	$∑u£_body_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

2079 
	`hâp_∑r£r_∑u£
(
p
, 1);

2080 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2081  
	`body_cb
(
p
, 
buf
, 
Àn
);

2082 
	}
}

2085 
	$∑u£_hódîs_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

2087 
	`hâp_∑r£r_∑u£
(
p
, 1);

2088 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2089  
	`hódîs_com∂ëe_cb
(
p
);

2090 
	}
}

2093 
	$∑u£_mesßge_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

2095 
	`hâp_∑r£r_∑u£
(
p
, 1);

2096 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2097  
	`mesßge_com∂ëe_cb
(
p
);

2098 
	}
}

2101 
	$∑u£_ª•⁄£_°©us_cb
 (
hâp_∑r£r
 *
p
, c⁄° *
buf
, 
size_t
 
Àn
)

2103 
	`hâp_∑r£r_∑u£
(
p
, 1);

2104 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2105  
	`ª•⁄£_°©us_cb
(
p
, 
buf
, 
Àn
);

2106 
	}
}

2109 
	$∑u£_chunk_hódî_cb
 (
hâp_∑r£r
 *
p
)

2111 
	`hâp_∑r£r_∑u£
(
p
, 1);

2112 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2113  
	`chunk_hódî_cb
(
p
);

2114 
	}
}

2117 
	$∑u£_chunk_com∂ëe_cb
 (
hâp_∑r£r
 *
p
)

2119 
	`hâp_∑r£r_∑u£
(
p
, 1);

2120 *
cuºít_∑u£_∑r£r
 = 
£âögs_d⁄tˇŒ
;

2121  
	`chunk_com∂ëe_cb
(
p
);

2122 
	}
}

2124 
hâp_∑r£r_£âögs
 
	g£âögs_∑u£
 =

2125 {.
⁄_mesßge_begö
 = 
∑u£_mesßge_begö_cb


2126 ,.
	g⁄_hódî_fõld
 = 
∑u£_hódî_fõld_cb


2127 ,.
	g⁄_hódî_vÆue
 = 
∑u£_hódî_vÆue_cb


2128 ,.
	g⁄_uæ
 = 
∑u£_ªque°_uæ_cb


2129 ,.
	g⁄_°©us
 = 
∑u£_ª•⁄£_°©us_cb


2130 ,.
	g⁄_body
 = 
∑u£_body_cb


2131 ,.
	g⁄_hódîs_com∂ëe
 = 
∑u£_hódîs_com∂ëe_cb


2132 ,.
	g⁄_mesßge_com∂ëe
 = 
∑u£_mesßge_com∂ëe_cb


2133 ,.
	g⁄_chunk_hódî
 = 
∑u£_chunk_hódî_cb


2134 ,.
	g⁄_chunk_com∂ëe
 = 
∑u£_chunk_com∂ëe_cb


2137 
hâp_∑r£r_£âögs
 
	g£âögs
 =

2138 {.
⁄_mesßge_begö
 = 
mesßge_begö_cb


2139 ,.
	g⁄_hódî_fõld
 = 
hódî_fõld_cb


2140 ,.
	g⁄_hódî_vÆue
 = 
hódî_vÆue_cb


2141 ,.
	g⁄_uæ
 = 
ªque°_uæ_cb


2142 ,.
	g⁄_°©us
 = 
ª•⁄£_°©us_cb


2143 ,.
	g⁄_body
 = 
body_cb


2144 ,.
	g⁄_hódîs_com∂ëe
 = 
hódîs_com∂ëe_cb


2145 ,.
	g⁄_mesßge_com∂ëe
 = 
mesßge_com∂ëe_cb


2146 ,.
	g⁄_chunk_hódî
 = 
chunk_hódî_cb


2147 ,.
	g⁄_chunk_com∂ëe
 = 
chunk_com∂ëe_cb


2150 
hâp_∑r£r_£âögs
 
	g£âögs_cou¡_body
 =

2151 {.
⁄_mesßge_begö
 = 
mesßge_begö_cb


2152 ,.
	g⁄_hódî_fõld
 = 
hódî_fõld_cb


2153 ,.
	g⁄_hódî_vÆue
 = 
hódî_vÆue_cb


2154 ,.
	g⁄_uæ
 = 
ªque°_uæ_cb


2155 ,.
	g⁄_°©us
 = 
ª•⁄£_°©us_cb


2156 ,.
	g⁄_body
 = 
cou¡_body_cb


2157 ,.
	g⁄_hódîs_com∂ëe
 = 
hódîs_com∂ëe_cb


2158 ,.
	g⁄_mesßge_com∂ëe
 = 
mesßge_com∂ëe_cb


2159 ,.
	g⁄_chunk_hódî
 = 
chunk_hódî_cb


2160 ,.
	g⁄_chunk_com∂ëe
 = 
chunk_com∂ëe_cb


2163 
hâp_∑r£r_£âögs
 
	g£âögs_nuŒ
 =

2164 {.
⁄_mesßge_begö
 = 0

2165 ,.
	g⁄_hódî_fõld
 = 0

2166 ,.
	g⁄_hódî_vÆue
 = 0

2167 ,.
	g⁄_uæ
 = 0

2168 ,.
	g⁄_°©us
 = 0

2169 ,.
	g⁄_body
 = 0

2170 ,.
	g⁄_hódîs_com∂ëe
 = 0

2171 ,.
	g⁄_mesßge_com∂ëe
 = 0

2172 ,.
	g⁄_chunk_hódî
 = 0

2173 ,.
	g⁄_chunk_com∂ëe
 = 0

2177 
	$∑r£r_öô
 (
hâp_∑r£r_ty≥
 
ty≥
)

2179 
num_mesßges
 = 0;

2181 
	`as£π
(
∑r£r
 =
NULL
);

2183 
∑r£r
 = 
	`mÆloc
((
hâp_∑r£r
));

2185 
	`hâp_∑r£r_öô
(
∑r£r
, 
ty≥
);

2187 
	`mem£t
(&
mesßges
, 0,  messages);

2189 
	}
}

2192 
	$∑r£r_‰ì
 ()

2194 
	`as£π
(
∑r£r
);

2195 
	`‰ì
(
∑r£r
);

2196 
∑r£r
 = 
NULL
;

2197 
	}
}

2199 
size_t
 
	$∑r£
 (c⁄° *
buf
, 
size_t
 
Àn
)

2201 
size_t
 
≈¨£d
;

2202 
cuºíéy_∑rsög_eof
 = (
Àn
 == 0);

2203 
≈¨£d
 = 
	`hâp_∑r£r_execuã
(
∑r£r
, &
£âögs
, 
buf
, 
Àn
);

2204  
≈¨£d
;

2205 
	}
}

2207 
size_t
 
	$∑r£_cou¡_body
 (c⁄° *
buf
, 
size_t
 
Àn
)

2209 
size_t
 
≈¨£d
;

2210 
cuºíéy_∑rsög_eof
 = (
Àn
 == 0);

2211 
≈¨£d
 = 
	`hâp_∑r£r_execuã
(
∑r£r
, &
£âögs_cou¡_body
, 
buf
, 
Àn
);

2212  
≈¨£d
;

2213 
	}
}

2215 
size_t
 
	$∑r£_∑u£
 (c⁄° *
buf
, 
size_t
 
Àn
)

2217 
size_t
 
≈¨£d
;

2218 
hâp_∑r£r_£âögs
 
s
 = 
£âögs_∑u£
;

2220 
cuºíéy_∑rsög_eof
 = (
Àn
 == 0);

2221 
cuºít_∑u£_∑r£r
 = &
s
;

2222 
≈¨£d
 = 
	`hâp_∑r£r_execuã
(
∑r£r
, 
cuºít_∑u£_∑r£r
, 
buf
, 
Àn
);

2223  
≈¨£d
;

2224 
	}
}

2226 
ölöe
 

2227 
	$check_°r_eq
 (c⁄° 
mesßge
 *
m
,

2228 c⁄° *
¥›
,

2229 c⁄° *
ex≥˘ed
,

2230 c⁄° *
found
) {

2231 i‡((
ex≥˘ed
 =
NULL
Ë!(
found
 == NULL)) {

2232 
	`¥ötf
("\n*** Eº‹: %†ö '%s' ***\n\n", 
¥›
, 
m
->
«me
);

2233 
	`¥ötf
("ex≥˘ed %s\n", (
ex≥˘ed
 =
NULL
) ? "NULL" :Éxpected);

2234 
	`¥ötf
(" found %s\n", (
found
 =
NULL
) ? "NULL" : found);

2237 i‡(
ex≥˘ed
 !
NULL
 && 0 !
	`°rcmp
”x≥˘ed, 
found
)) {

2238 
	`¥ötf
("\n*** Eº‹: %†ö '%s' ***\n\n", 
¥›
, 
m
->
«me
);

2239 
	`¥ötf
("ex≥˘ed '%s'\n", 
ex≥˘ed
);

2240 
	`¥ötf
(" found '%s'\n", 
found
);

2244 
	}
}

2246 
ölöe
 

2247 
	$check_num_eq
 (c⁄° 
mesßge
 *
m
,

2248 c⁄° *
¥›
,

2249 
ex≥˘ed
,

2250 
found
) {

2251 i‡(
ex≥˘ed
 !
found
) {

2252 
	`¥ötf
("\n*** Eº‹: %†ö '%s' ***\n\n", 
¥›
, 
m
->
«me
);

2253 
	`¥ötf
("ex≥˘ed %d\n", 
ex≥˘ed
);

2254 
	`¥ötf
(" found %d\n", 
found
);

2258 
	}
}

2260 
	#MESSAGE_CHECK_STR_EQ
(
ex≥˘ed
, 
found
, 
¥›
) \

2261 i‡(!
	`check_°r_eq
(
ex≥˘ed
, #¥›,Éx≥˘ed->
¥›
, 
found
->¥›)Ë 0

	)

2263 
	#MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
found
, 
¥›
) \

2264 i‡(!
	`check_num_eq
(
ex≥˘ed
, #¥›,Éx≥˘ed->
¥›
, 
found
->¥›)Ë 0

	)

2266 
	#MESSAGE_CHECK_URL_EQ
(
u
, 
ex≥˘ed
, 
found
, 
¥›
, 
‚
) \

2268 
ubuf
[256]; \

2270 i‡((
u
)->
fõld_£t
 & (1 << (
‚
))) { \

2271 
	`mem˝y
(
ubuf
, (
found
)->
ªque°_uæ
 + (
u
)->
fõld_d©a
[(
‚
)].
off
, \

2272 (
u
)->
fõld_d©a
[(
‚
)].
Àn
); \

2273 
ubuf
[(
u
)->
fõld_d©a
[(
‚
)].
Àn
] = '\0'; \

2275 
ubuf
[0] = '\0'; \

2278 
	`check_°r_eq
(
ex≥˘ed
, #¥›,Éx≥˘ed->
¥›
, 
ubuf
); \

2279 } 0)

	)

2282 
	$mesßge_eq
 (
ödex
, c⁄° 
mesßge
 *
ex≥˘ed
)

2284 
i
;

2285 
mesßge
 *
m
 = &
mesßges
[
ödex
];

2287 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
hâp_maj‹
);

2288 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
hâp_mö‹
);

2290 i‡(
ex≥˘ed
->
ty≥
 =
HTTP_REQUEST
) {

2291 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
mëhod
);

2293 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
°©us_code
);

2294 
	`MESSAGE_CHECK_STR_EQ
(
ex≥˘ed
, 
m
, 
ª•⁄£_°©us
);

2297 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
should_kìp_Æive
);

2298 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
mesßge_com∂ëe_⁄_eof
);

2300 
	`as£π
(
m
->
mesßge_begö_cb_ˇŒed
);

2301 
	`as£π
(
m
->
hódîs_com∂ëe_cb_ˇŒed
);

2302 
	`as£π
(
m
->
mesßge_com∂ëe_cb_ˇŒed
);

2305 
	`MESSAGE_CHECK_STR_EQ
(
ex≥˘ed
, 
m
, 
ªque°_uæ
);

2310 i‡(*
m
->
ªque°_uæ
 && m->
mëhod
 !
HTTP_CONNECT
) {

2311 
hâp_∑r£r_uæ
 
u
;

2313 i‡(
	`hâp_∑r£r_∑r£_uæ
(
m
->
ªque°_uæ
, 
	`°æí
(m->ªque°_uæ), 0, &
u
)) {

2314 
	`Ârötf
(
°dîr
, "\n\n*** failedÅoÖarse URL %s ***\n\n",

2315 
m
->
ªque°_uæ
);

2316 
	`ab‹t
();

2319 i‡(
ex≥˘ed
->
ho°
) {

2320 
	`MESSAGE_CHECK_URL_EQ
(&
u
, 
ex≥˘ed
, 
m
, 
ho°
, 
UF_HOST
);

2323 i‡(
ex≥˘ed
->
u£röfo
) {

2324 
	`MESSAGE_CHECK_URL_EQ
(&
u
, 
ex≥˘ed
, 
m
, 
u£röfo
, 
UF_USERINFO
);

2327 
m
->
p‹t
 = (
u
.
fõld_£t
 & (1 << 
UF_PORT
)) ?

2328 
u
.
p‹t
 : 0;

2330 
	`MESSAGE_CHECK_URL_EQ
(&
u
, 
ex≥˘ed
, 
m
, 
quîy_°rög
, 
UF_QUERY
);

2331 
	`MESSAGE_CHECK_URL_EQ
(&
u
, 
ex≥˘ed
, 
m
, 
‰agmít
, 
UF_FRAGMENT
);

2332 
	`MESSAGE_CHECK_URL_EQ
(&
u
, 
ex≥˘ed
, 
m
, 
ªque°_∑th
, 
UF_PATH
);

2333 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
p‹t
);

2336 i‡(
ex≥˘ed
->
body_size
) {

2337 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
body_size
);

2339 
	`MESSAGE_CHECK_STR_EQ
(
ex≥˘ed
, 
m
, 
body
);

2342 
	`as£π
(
m
->
num_chunks
 =m->
num_chunks_com∂ëe
);

2343 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
num_chunks_com∂ëe
);

2344 
i
 = 0; i < 
m
->
num_chunks
 && i < 
MAX_CHUNKS
; i++) {

2345 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
chunk_Àngths
[
i
]);

2348 
	`MESSAGE_CHECK_NUM_EQ
(
ex≥˘ed
, 
m
, 
num_hódîs
);

2350 
r
;

2351 
i
 = 0; i < 
m
->
num_hódîs
; i++) {

2352 
r
 = 
	`check_°r_eq
(
ex≥˘ed
, "hódî fõld",Éx≥˘ed->
hódîs
[
i
][0], 
m
->headers[i][0]);

2353 i‡(!
r
)  0;

2354 
r
 = 
	`check_°r_eq
(
ex≥˘ed
, "hódî vÆue",Éx≥˘ed->
hódîs
[
i
][1], 
m
->headers[i][1]);

2355 i‡(!
r
)  0;

2358 
	`MESSAGE_CHECK_STR_EQ
(
ex≥˘ed
, 
m
, 
upgøde
);

2361 
	}
}

2367 
size_t


2368 
	$cou¡_∑r£d_mesßges
(c⁄° 
size_t
 
nmsgs
, ...) {

2369 
size_t
 
i
;

2370 
va_li°
 
≠
;

2372 
	`va_°¨t
(
≠
, 
nmsgs
);

2374 
i
 = 0; i < 
nmsgs
; i++) {

2375 
mesßge
 *
m
 = 
	`va_¨g
(
≠
, message *);

2377 i‡(
m
->
upgøde
) {

2378 
	`va_íd
(
≠
);

2379  
i
 + 1;

2383 
	`va_íd
(
≠
);

2384  
nmsgs
;

2385 
	}
}

2391 
	$upgøde_mesßge_fix
(*
body
, c⁄° 
size_t
 
ƒód
, c⁄° size_à
nmsgs
, ...) {

2392 
va_li°
 
≠
;

2393 
size_t
 
i
;

2394 
size_t
 
off
 = 0;

2396 
	`va_°¨t
(
≠
, 
nmsgs
);

2398 
i
 = 0; i < 
nmsgs
; i++) {

2399 
mesßge
 *
m
 = 
	`va_¨g
(
≠
, message *);

2401 
off
 +
	`°æí
(
m
->
øw
);

2403 i‡(
m
->
upgøde
) {

2404 
off
 -
	`°æí
(
m
->
upgøde
);

2407 i‡(!
	`check_°r_eq
(
m
, "upgøde", 
body
 + 
off
, body + 
ƒód
)) {

2408 
	`ab‹t
();

2413 *(
body
 + 
ƒód
 + 
	`°æí
(
m
->
upgøde
)) = '\0';

2414 
mesßges
[
num_mesßges
 -1 ].
upgøde
 = 
body
 + 
ƒód
;

2416 
	`va_íd
(
≠
);

2421 
	`va_íd
(
≠
);

2422 
	`¥ötf
("\n\n*** Error:Éxpectedá message with upgrade ***\n");

2424 
	`ab‹t
();

2425 
	}
}

2428 
	$¥öt_îr‹
 (c⁄° *
øw
, 
size_t
 
îr‹_loˇti⁄
)

2430 
	`Ârötf
(
°dîr
, "\n*** %s ***\n\n",

2431 
	`hâp_î∫o_des¸ùti⁄
(
	`HTTP_PARSER_ERRNO
(
∑r£r
)));

2433 
this_löe
 = 0, 
ch¨_Àn
 = 0;

2434 
size_t
 
i
, 
j
, 
Àn
 = 
	`°æí
(
øw
), 
îr‹_loˇti⁄_löe
 = 0;

2435 
i
 = 0; i < 
Àn
; i++) {

2436 i‡(
i
 =
îr‹_loˇti⁄
Ë
this_löe
 = 1;

2437 
øw
[
i
]) {

2439 
ch¨_Àn
 = 2;

2440 
	`Ârötf
(
°dîr
, "\\r");

2444 
	`Ârötf
(
°dîr
, "\\n\n");

2446 i‡(
this_löe
Ë
¥öt
;

2448 
îr‹_loˇti⁄_löe
 = 0;

2452 
ch¨_Àn
 = 1;

2453 
	`Âutc
(
øw
[
i
], 
°dîr
);

2456 i‡(!
this_löe
Ë
îr‹_loˇti⁄_löe
 +
ch¨_Àn
;

2459 
	`Ârötf
(
°dîr
, "[eof]\n");

2461 
¥öt
:

2462 
j
 = 0; j < 
îr‹_loˇti⁄_löe
; j++) {

2463 
	`Âutc
(' ', 
°dîr
);

2465 
	`Ârötf
(
°dîr
, "^\n\√º‹Üoˇti⁄: %u\n", ()
îr‹_loˇti⁄
);

2466 
	}
}

2469 
	$ã°_¥e£rve_d©a
 ()

2471 
my_d©a
[] = "application-specific data";

2472 
hâp_∑r£r
 
∑r£r
;

2473 
∑r£r
.
d©a
 = 
my_d©a
;

2474 
	`hâp_∑r£r_öô
(&
∑r£r
, 
HTTP_REQUEST
);

2475 i‡(
∑r£r
.
d©a
 !
my_d©a
) {

2476 
	`¥ötf
("\n***Öarser.dataÇotÖreservedáccross http_parser_init ***\n\n");

2477 
	`ab‹t
();

2479 
	}
}

2481 
	suæ_ã°
 {

2482 c⁄° *
	m«me
;

2483 c⁄° *
	muæ
;

2484 
	mis_c⁄√˘
;

2485 
hâp_∑r£r_uæ
 
	mu
;

2486 
	mrv
;

2489 c⁄° 
uæ_ã°
 
	guæ_ã°s
[] =

2490 { {.
«me
="proxyÑequest"

2491 ,.
	guæ
="http://hostname/"

2492 ,.
	gis_c⁄√˘
=0

2493 ,.
	gu
=

2494 {.
fõld_£t
=(1 << 
UF_SCHEMA
Ë| (1 << 
UF_HOST
Ë| (1 << 
UF_PATH
)

2495 ,.
	gp‹t
=0

2496 ,.
	gfõld_d©a
=

2506 ,.
	grv
=0

2509 , {.
	g«me
="proxyÑequest withÖort"

2510 ,.
	guæ
="http://hostname:444/"

2511 ,.
	gis_c⁄√˘
=0

2512 ,.
	gu
=

2513 {.
fõld_£t
=(1 << 
UF_SCHEMA
Ë| (1 << 
UF_HOST
Ë| (1 << 
UF_PORT
Ë| (1 << 
UF_PATH
)

2514 ,.
	gp‹t
=444

2515 ,.
	gfõld_d©a
=

2525 ,.
	grv
=0

2528 , {.
	g«me
="CONNECTÑequest"

2529 ,.
	guæ
="hostname:443"

2530 ,.
	gis_c⁄√˘
=1

2531 ,.
	gu
=

2532 {.
fõld_£t
=(1 << 
UF_HOST
Ë| (1 << 
UF_PORT
)

2533 ,.
	gp‹t
=443

2534 ,.
	gfõld_d©a
=

2544 ,.
	grv
=0

2547 , {.
	g«me
="CONNECTÑequest butÇot connect"

2548 ,.
	guæ
="hostname:443"

2549 ,.
	gis_c⁄√˘
=0

2550 ,.
	grv
=1

2553 , {.
	g«me
="proxy ipv6Ñequest"

2554 ,.
	guæ
="http://[1:2::3:4]/"

2555 ,.
	gis_c⁄√˘
=0

2556 ,.
	gu
=

2557 {.
fõld_£t
=(1 << 
UF_SCHEMA
Ë| (1 << 
UF_HOST
Ë| (1 << 
UF_PATH
)

2558 ,.
	gp‹t
=0

2559 ,.
	gfõld_d©a
=

2569 ,.
	grv
=0

2572 , {.
	g«me
="proxy ipv6Ñequest withÖort"

2573 ,.
	guæ
="http://[1:2::3:4]:67/"

2574 ,.
	gis_c⁄√˘
=0

2575 ,.
	gu
=

2576 {.
fõld_£t
=(1 << 
UF_SCHEMA
Ë| (1 << 
UF_HOST
Ë| (1 << 
UF_PORT
Ë| (1 << 
UF_PATH
)

2577 ,.
	gp‹t
=67

2578 ,.
	gfõld_d©a
=

2588 ,.
	grv
=0

2591 , {.
	g«me
="CONNECT ipv6áddress"

2592 ,.
	guæ
="[1:2::3:4]:443"

2593 ,.
	gis_c⁄√˘
=1

2594 ,.
	gu
=

2595 {.
fõld_£t
=(1 << 
UF_HOST
Ë| (1 << 
UF_PORT
)

2596 ,.
	gp‹t
=443

2597 ,.
	gfõld_d©a
=

2607 ,.
	grv
=0

2610 , {.
	g«me
="ipv4 in ipv6áddress"

2611 ,.
	guæ
="http://[2001:0000:0000:0000:0000:0000:1.9.1.1]/"

2612 ,.
	gis_c⁄√˘
=0

2613 ,.
	gu
=

2614 {.
fõld_£t
=(1 << 
UF_SCHEMA
Ë| (1 << 
UF_HOST
Ë| (1 << 
UF_PATH
)

2615 ,.
	gp‹t
=0

2616 ,.
	gfõld_d©a
=

2626 ,.
	grv
=0

2629 , {.
	g«me
="extra ? in query string"

2630 ,.
	guæ
="http://a.tbcdn.cn/p/fp/2010c/??fp-header-min.css,fp-base-min.css,"

2633 ,.
	gis_c⁄√˘
=0

2634 ,.
	gu
=

2635 {.
fõld_£t
=(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PATH
Ë| (1<<
UF_QUERY
)

2636 ,.
	gp‹t
=0

2637 ,.
	gfõld_d©a
=

2647 ,.
	grv
=0

2650 , {.
	g«me
="space URLÉncoded"

2651 ,.
	guæ
="/toto.html?toto=a%20b"

2652 ,.
	gis_c⁄√˘
=0

2653 ,.
	gu
=

2654 {.
fõld_£t
(1<<
UF_PATH
Ë| (1<<
UF_QUERY
)

2655 ,.
	gp‹t
=0

2656 ,.
	gfõld_d©a
=

2666 ,.
	grv
=0

2670 , {.
	g«me
="URL fragment"

2671 ,.
	guæ
="/toto.html#titi"

2672 ,.
	gis_c⁄√˘
=0

2673 ,.
	gu
=

2674 {.
fõld_£t
(1<<
UF_PATH
Ë| (1<<
UF_FRAGMENT
)

2675 ,.
	gp‹t
=0

2676 ,.
	gfõld_d©a
=

2686 ,.
	grv
=0

2689 , {.
	g«me
="complex URL fragment"

2690 ,.
	guæ
="http://www.webmasterworld.com/r.cgi?f=21&d=8405&url="

2692 ,.
	gis_c⁄√˘
=0

2693 ,.
	gu
=

2694 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PATH
Ë| (1<<
UF_QUERY
) |\

2695 (1<<
UF_FRAGMENT
)

2696 ,.
	gp‹t
=0

2697 ,.
	gfõld_d©a
=

2707 ,.
	grv
=0

2710 , {.
	g«me
="complex URL fromÇode js urlÖarser doc"

2711 ,.
	guæ
="http://host.com:8080/p/a/t/h?query=string#hash"

2712 ,.
	gis_c⁄√˘
=0

2713 ,.
	gu
=

2714 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PORT
Ë| (1<<
UF_PATH
) |\

2715 (1<<
UF_QUERY
Ë| (1<<
UF_FRAGMENT
)

2716 ,.
	gp‹t
=8080

2717 ,.
	gfõld_d©a
=

2727 ,.
	grv
=0

2730 , {.
	g«me
="complex URL with basicáuth fromÇode js urlÖarser doc"

2731 ,.
	guæ
="http://a:b@host.com:8080/p/a/t/h?query=string#hash"

2732 ,.
	gis_c⁄√˘
=0

2733 ,.
	gu
=

2734 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PORT
Ë| (1<<
UF_PATH
) |\

2735 (1<<
UF_QUERY
Ë| (1<<
UF_FRAGMENT
Ë| (1<<
UF_USERINFO
)

2736 ,.
	gp‹t
=8080

2737 ,.
	gfõld_d©a
=

2747 ,.
	grv
=0

2750 , {.
	g«me
="double @"

2751 ,.
	guæ
="http://a:b@@hostname:443/"

2752 ,.
	gis_c⁄√˘
=0

2753 ,.
	grv
=1

2756 , {.
	g«me
="proxyÉmpty host"

2757 ,.
	guæ
="http://:443/"

2758 ,.
	gis_c⁄√˘
=0

2759 ,.
	grv
=1

2762 , {.
	g«me
="proxyÉmptyÖort"

2763 ,.
	guæ
="http://hostname:/"

2764 ,.
	gis_c⁄√˘
=0

2765 ,.
	grv
=1

2768 , {.
	g«me
="CONNECT with basicáuth"

2769 ,.
	guæ
="a:b@hostname:443"

2770 ,.
	gis_c⁄√˘
=1

2771 ,.
	grv
=1

2774 , {.
	g«me
="CONNECTÉmpty host"

2775 ,.
	guæ
=":443"

2776 ,.
	gis_c⁄√˘
=1

2777 ,.
	grv
=1

2780 , {.
	g«me
="CONNECTÉmptyÖort"

2781 ,.
	guæ
="hostname:"

2782 ,.
	gis_c⁄√˘
=1

2783 ,.
	grv
=1

2786 , {.
	g«me
="CONNECT withÉxtra bits"

2787 ,.
	guæ
="hostname:443/"

2788 ,.
	gis_c⁄√˘
=1

2789 ,.
	grv
=1

2792 , {.
	g«me
="space in URL"

2793 ,.
	guæ
="/foo bar/"

2794 ,.
	grv
=1

2797 , {.
	g«me
="proxy basicáuth with space urlÉncoded"

2798 ,.
	guæ
="http://a%20:b@host.com/"

2799 ,.
	gis_c⁄√˘
=0

2800 ,.
	gu
=

2801 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PATH
Ë| (1<<
UF_USERINFO
)

2802 ,.
	gp‹t
=0

2803 ,.
	gfõld_d©a
=

2813 ,.
	grv
=0

2816 , {.
	g«me
="carriageÑeturn in URL"

2817 ,.
	guæ
="/foo\rbar/"

2818 ,.
	grv
=1

2821 , {.
	g«me
="proxy double : in URL"

2822 ,.
	guæ
="http://hostname::443/"

2823 ,.
	grv
=1

2826 , {.
	g«me
="proxy basicáuth with double :"

2827 ,.
	guæ
="http://a::b@host.com/"

2828 ,.
	gis_c⁄√˘
=0

2829 ,.
	gu
=

2830 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PATH
Ë| (1<<
UF_USERINFO
)

2831 ,.
	gp‹t
=0

2832 ,.
	gfõld_d©a
=

2842 ,.
	grv
=0

2845 , {.
	g«me
="line feed in URL"

2846 ,.
	guæ
="/foo\nbar/"

2847 ,.
	grv
=1

2850 , {.
	g«me
="proxyÉmpty basicáuth"

2851 ,.
	guæ
="http://@hostname/fo"

2852 ,.
	gu
=

2853 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PATH
)

2854 ,.
	gp‹t
=0

2855 ,.
	gfõld_d©a
=

2865 ,.
	grv
=0

2867 , {.
	g«me
="proxyÜine feed in hostname"

2868 ,.
	guæ
="http://host\name/fo"

2869 ,.
	grv
=1

2872 , {.
	g«me
="proxy % in hostname"

2873 ,.
	guæ
="http://host%name/fo"

2874 ,.
	grv
=1

2877 , {.
	g«me
="proxy ; in hostname"

2878 ,.
	guæ
="http://host;ame/fo"

2879 ,.
	grv
=1

2882 , {.
	g«me
="proxy basicáuth with unreservedchars"

2883 ,.
	guæ
="http://a!;-_!=+$@host.com/"

2884 ,.
	gis_c⁄√˘
=0

2885 ,.
	gu
=

2886 {.
fõld_£t
(1<<
UF_SCHEMA
Ë| (1<<
UF_HOST
Ë| (1<<
UF_PATH
Ë| (1<<
UF_USERINFO
)

2887 ,.
	gp‹t
=0

2888 ,.
	gfõld_d©a
=

2898 ,.
	grv
=0

2901 , {.
	g«me
="proxy onlyÉmpty basicáuth"

2902 ,.
	guæ
="http://@/fo"

2903 ,.
	grv
=1

2906 , {.
	g«me
="proxy only basicáuth"

2907 ,.
	guæ
="http://toto@/fo"

2908 ,.
	grv
=1

2911 , {.
	g«me
="proxyÉmtpy hostname"

2912 ,.
	guæ
="http:///fo"

2913 ,.
	grv
=1

2916 , {.
	g«me
="proxy = in URL"

2917 ,.
	guæ
="http://host=ame/fo"

2918 ,.
	grv
=1

2921 #i‡
HTTP_PARSER_STRICT


2923 , {.
	g«me
="tab in URL"

2924 ,.
	guæ
="/foo\tbar/"

2925 ,.
	grv
=1

2928 , {.
	g«me
="form feed in URL"

2929 ,.
	guæ
="/foo\fbar/"

2930 ,.
	grv
=1

2935 , {.
	g«me
="tab in URL"

2936 ,.
	guæ
="/foo\tbar/"

2937 ,.
	gu
=

2938 {.
fõld_£t
=(1 << 
UF_PATH
)

2939 ,.
	gfõld_d©a
=

2949 ,.
	grv
=0

2952 , {.
	g«me
="form feed in URL"

2953 ,.
	guæ
="/foo\fbar/"

2954 ,.
	gu
=

2955 {.
fõld_£t
=(1 << 
UF_PATH
)

2956 ,.
	gfõld_d©a
=

2966 ,.
	grv
=0

2972 
	$dump_uæ
 (c⁄° *
uæ
, c⁄° 
hâp_∑r£r_uæ
 *
u
)

2974 
i
;

2976 
	`¥ötf
("\tfõld_£t: 0x%x,Ö‹t: %u\n", 
u
->
fõld_£t
, u->
p‹t
);

2977 
i
 = 0; i < 
UF_MAX
; i++) {

2978 i‡((
u
->
fõld_£t
 & (1 << 
i
)) == 0) {

2979 
	`¥ötf
("\tfõld_d©a[%u]: un£t\n", 
i
);

2983 
	`¥ötf
("\tfield_data[%u]: off: %uÜen: %uÖart: \"%.*s\n\"",

2984 
i
,

2985 
u
->
fõld_d©a
[
i
].
off
,

2986 
u
->
fõld_d©a
[
i
].
Àn
,

2987 
u
->
fõld_d©a
[
i
].
Àn
,

2988 
uæ
 + 
u
->
fõld_d©a
[
i
].
off
);

2990 
	}
}

2993 
	$ã°_∑r£_uæ
 ()

2995 
hâp_∑r£r_uæ
 
u
;

2996 c⁄° 
uæ_ã°
 *
ã°
;

2997 
i
;

2998 
rv
;

3000 
i
 = 0; i < ((
uæ_ã°s
) / (url_tests[0])); i++) {

3001 
ã°
 = &
uæ_ã°s
[
i
];

3002 
	`mem£t
(&
u
, 0, (u));

3004 
rv
 = 
	`hâp_∑r£r_∑r£_uæ
(
ã°
->
uæ
,

3005 
	`°æí
(
ã°
->
uæ
),

3006 
ã°
->
is_c⁄√˘
,

3007 &
u
);

3009 i‡(
ã°
->
rv
 == 0) {

3010 i‡(
rv
 != 0) {

3011 
	`¥ötf
("\n*** http_parser_parse_url(\"%s\") \"%s\"Åest failed, "

3012 "u√x≥˘edÑv %d ***\n\n", 
ã°
->
uæ
,Åe°->
«me
, 
rv
);

3013 
	`ab‹t
();

3016 i‡(
	`memcmp
(&
u
, &
ã°
->u, (u)) != 0) {

3017 
	`¥ötf
("\n*** http_parser_parse_url(\"%s\") \"%s\" failed ***\n",

3018 
ã°
->
uæ
,Åe°->
«me
);

3020 
	`¥ötf
("target http_parser_url:\n");

3021 
	`dump_uæ
(
ã°
->
uæ
, &ã°->
u
);

3022 
	`¥ötf
("result http_parser_url:\n");

3023 
	`dump_uæ
(
ã°
->
uæ
, &
u
);

3025 
	`ab‹t
();

3029 i‡(
rv
 == 0) {

3030 
	`¥ötf
("\n*** http_parser_parse_url(\"%s\") \"%s\"Åest failed, "

3031 "u√x≥˘edÑv %d ***\n\n", 
ã°
->
uæ
,Åe°->
«me
, 
rv
);

3032 
	`ab‹t
();

3036 
	}
}

3039 
	$ã°_mëhod_°r
 ()

3041 
	`as£π
(0 =
	`°rcmp
("GET", 
	`hâp_mëhod_°r
(
HTTP_GET
)));

3042 
	`as£π
(0 =
	`°rcmp
("<unknown>", 
	`hâp_mëhod_°r
(1337)));

3043 
	}
}

3046 
	$ã°_mesßge
 (c⁄° 
mesßge
 *message)

3048 
size_t
 
øw_Àn
 = 
	`°æí
(
mesßge
->
øw
);

3049 
size_t
 
msg1Àn
;

3050 
msg1Àn
 = 0; msg1À¿< 
øw_Àn
; msg1len++) {

3051 
	`∑r£r_öô
(
mesßge
->
ty≥
);

3053 
size_t
 
ªad
;

3054 c⁄° *
msg1
 = 
mesßge
->
øw
;

3055 c⁄° *
msg2
 = 
msg1
 + 
msg1Àn
;

3056 
size_t
 
msg2Àn
 = 
øw_Àn
 - 
msg1Àn
;

3058 i‡(
msg1Àn
) {

3059 
ªad
 = 
	`∑r£
(
msg1
, 
msg1Àn
);

3061 i‡(
mesßge
->
upgøde
 && 
∑r£r
->upgødê&& 
num_mesßges
 > 0) {

3062 
mesßges
[
num_mesßges
 - 1].
upgøde
 = 
msg1
 + 
ªad
;

3063 
ã°
;

3066 i‡(
ªad
 !
msg1Àn
) {

3067 
	`¥öt_îr‹
(
msg1
, 
ªad
);

3068 
	`ab‹t
();

3073 
ªad
 = 
	`∑r£
(
msg2
, 
msg2Àn
);

3075 i‡(
mesßge
->
upgøde
 && 
∑r£r
->upgrade) {

3076 
mesßges
[
num_mesßges
 - 1].
upgøde
 = 
msg2
 + 
ªad
;

3077 
ã°
;

3080 i‡(
ªad
 !
msg2Àn
) {

3081 
	`¥öt_îr‹
(
msg2
, 
ªad
);

3082 
	`ab‹t
();

3085 
ªad
 = 
	`∑r£
(
NULL
, 0);

3087 i‡(
ªad
 != 0) {

3088 
	`¥öt_îr‹
(
mesßge
->
øw
, 
ªad
);

3089 
	`ab‹t
();

3092 
ã°
:

3094 i‡(
num_mesßges
 != 1) {

3095 
	`¥ötf
("\n***Çum_mesßge†!1á·îÅe°ög '%s' ***\n\n", 
mesßge
->
«me
);

3096 
	`ab‹t
();

3099 if(!
	`mesßge_eq
(0, 
mesßge
)Ë
	`ab‹t
();

3101 
	`∑r£r_‰ì
();

3103 
	}
}

3106 
	$ã°_mesßge_cou¡_body
 (c⁄° 
mesßge
 *message)

3108 
	`∑r£r_öô
(
mesßge
->
ty≥
);

3110 
size_t
 
ªad
;

3111 
size_t
 
l
 = 
	`°æí
(
mesßge
->
øw
);

3112 
size_t
 
i
, 
t‹ód
;

3113 
size_t
 
chunk
 = 4024;

3115 
i
 = 0; i < 
l
; i+
chunk
) {

3116 
t‹ód
 = 
	`MIN
(
l
-
i
, 
chunk
);

3117 
ªad
 = 
	`∑r£_cou¡_body
(
mesßge
->
øw
 + 
i
, 
t‹ód
);

3118 i‡(
ªad
 !
t‹ód
) {

3119 
	`¥öt_îr‹
(
mesßge
->
øw
, 
ªad
);

3120 
	`ab‹t
();

3125 
ªad
 = 
	`∑r£_cou¡_body
(
NULL
, 0);

3126 i‡(
ªad
 != 0) {

3127 
	`¥öt_îr‹
(
mesßge
->
øw
, 
ªad
);

3128 
	`ab‹t
();

3131 i‡(
num_mesßges
 != 1) {

3132 
	`¥ötf
("\n***Çum_mesßge†!1á·îÅe°ög '%s' ***\n\n", 
mesßge
->
«me
);

3133 
	`ab‹t
();

3136 if(!
	`mesßge_eq
(0, 
mesßge
)Ë
	`ab‹t
();

3138 
	`∑r£r_‰ì
();

3139 
	}
}

3142 
	$ã°_sim∂e
 (c⁄° *
buf
, 
hâp_î∫o
 
îr_ex≥˘ed
)

3144 
	`∑r£r_öô
(
HTTP_REQUEST
);

3146 
hâp_î∫o
 
îr
;

3148 
	`∑r£
(
buf
, 
	`°æí
(buf));

3149 
îr
 = 
	`HTTP_PARSER_ERRNO
(
∑r£r
);

3150 
	`∑r£
(
NULL
, 0);

3152 
	`∑r£r_‰ì
();

3157 #i‡
HTTP_PARSER_STRICT


3158 i‡(
îr_ex≥˘ed
 !
îr
 &&Éº_ex≥˘ed !
HPE_OK
 &&Éº !
HPE_STRICT
) {

3160 i‡(
îr_ex≥˘ed
 !
îr
) {

3162 
	`Ârötf
(
°dîr
, "\n***Åest_simpleÉxpected %s, but saw %s ***\n\n%s\n",

3163 
	`hâp_î∫o_«me
(
îr_ex≥˘ed
), hâp_î∫o_«me(
îr
), 
buf
);

3164 
	`ab‹t
();

3166 
	}
}

3169 
	$ã°_hódî_ovîÊow_îr‹
 (
ªq
)

3171 
hâp_∑r£r
 
∑r£r
;

3172 
	`hâp_∑r£r_öô
(&
∑r£r
, 
ªq
 ? 
HTTP_REQUEST
 : 
HTTP_RESPONSE
);

3173 
size_t
 
∑r£d
;

3174 c⁄° *
buf
;

3175 
buf
 = 
ªq
 ? "GET / HTTP/1.1\r\n" : "HTTP/1.0 200 OK\r\n";

3176 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, 
buf
, 
	`°æí
(buf));

3177 
	`as£π
(
∑r£d
 =
	`°æí
(
buf
));

3179 
buf
 = "header-key: header-value\r\n";

3180 
size_t
 
buÊí
 = 
	`°æí
(
buf
);

3182 
i
;

3183 
i
 = 0; i < 10000; i++) {

3184 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, 
buf
, 
buÊí
);

3185 i‡(
∑r£d
 !
buÊí
) {

3187 
	`as£π
(
	`HTTP_PARSER_ERRNO
(&
∑r£r
Ë=
HPE_HEADER_OVERFLOW
);

3192 
	`Ârötf
(
°dîr
, "\n*** ErrorÉxpected butÇone in header overflowÅest ***\n");

3193 
	`ab‹t
();

3194 
	}
}

3198 
	$ã°_hódî_ƒód_vÆue
 ()

3200 
hâp_∑r£r
 
∑r£r
;

3201 
	`hâp_∑r£r_öô
(&
∑r£r
, 
HTTP_REQUEST
);

3202 
size_t
 
∑r£d
;

3203 c⁄° *
buf
;

3204 
buf
 = "GET / HTTP/1.1\r\nheader: value\nhdr: value\r\n";

3205 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, 
buf
, 
	`°æí
(buf));

3206 
	`as£π
(
∑r£d
 =
	`°æí
(
buf
));

3208 
	`as£π
(
∑r£r
.
ƒód
 =
	`°æí
(
buf
));

3209 
	}
}

3213 
	$ã°_c⁄ã¡_Àngth_ovîÊow
 (c⁄° *
buf
, 
size_t
 
buÊí
, 
ex≥˘_ok
)

3215 
hâp_∑r£r
 
∑r£r
;

3216 
	`hâp_∑r£r_öô
(&
∑r£r
, 
HTTP_RESPONSE
);

3217 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, 
buf
, 
buÊí
);

3219 i‡(
ex≥˘_ok
)

3220 
	`as£π
(
	`HTTP_PARSER_ERRNO
(&
∑r£r
Ë=
HPE_OK
);

3222 
	`as£π
(
	`HTTP_PARSER_ERRNO
(&
∑r£r
Ë=
HPE_INVALID_CONTENT_LENGTH
);

3223 
	}
}

3226 
	$ã°_hódî_c⁄ã¡_Àngth_ovîÊow_îr‹
 ()

3228 
	#X
(
size
) \

3231 "\r\n"

	)

3232 c⁄° 
a
[] = 
	`X
(1844674407370955160);

3233 c⁄° 
b
[] = 
	`X
(18446744073709551615);

3234 c⁄° 
c
[] = 
	`X
(18446744073709551616);

3235 #unde‡
X


3236 
	`ã°_c⁄ã¡_Àngth_ovîÊow
(
a
, (a) - 1, 1);

3237 
	`ã°_c⁄ã¡_Àngth_ovîÊow
(
b
, (b) - 1, 0);

3238 
	`ã°_c⁄ã¡_Àngth_ovîÊow
(
c
, (c) - 1, 0);

3239 
	}
}

3242 
	$ã°_chunk_c⁄ã¡_Àngth_ovîÊow_îr‹
 ()

3244 
	#X
(
size
) \

3249 "..."

	)

3250 c⁄° 
a
[] = 
	`X
(
FFFFFFFFFFFFFFE
);

3251 c⁄° 
b
[] = 
	`X
(
FFFFFFFFFFFFFFFF
);

3252 c⁄° 
c
[] = 
	`X
(10000000000000000);

3253 #unde‡
X


3254 
	`ã°_c⁄ã¡_Àngth_ovîÊow
(
a
, (a) - 1, 1);

3255 
	`ã°_c⁄ã¡_Àngth_ovîÊow
(
b
, (b) - 1, 0);

3256 
	`ã°_c⁄ã¡_Àngth_ovîÊow
(
c
, (c) - 1, 0);

3257 
	}
}

3260 
	$ã°_no_ovîÊow_l⁄g_body
 (
ªq
, 
size_t
 
Àngth
)

3262 
hâp_∑r£r
 
∑r£r
;

3263 
	`hâp_∑r£r_öô
(&
∑r£r
, 
ªq
 ? 
HTTP_REQUEST
 : 
HTTP_RESPONSE
);

3264 
size_t
 
∑r£d
;

3265 
size_t
 
i
;

3266 
buf1
[3000];

3267 
size_t
 
buf1Àn
 = 
	`•rötf
(
buf1
, "%s\r\nConnection: Keep-Alive\r\nContent-Length: %lu\r\n\r\n",

3268 
ªq
 ? "POST / HTTP/1.0" : "HTTP/1.0 200 OK", ()
Àngth
);

3269 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, 
buf1
, 
buf1Àn
);

3270 i‡(
∑r£d
 !
buf1Àn
)

3271 
îr
;

3273 
i
 = 0; i < 
Àngth
; i++) {

3274 
foo
 = 'a';

3275 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, &
foo
, 1);

3276 i‡(
∑r£d
 != 1)

3277 
îr
;

3280 
∑r£d
 = 
	`hâp_∑r£r_execuã
(&
∑r£r
, &
£âögs_nuŒ
, 
buf1
, 
buf1Àn
);

3281 i‡(
∑r£d
 !
buf1Àn
Ë
îr
;

3284 
îr
:

3285 
	`Ârötf
(
°dîr
,

3287 
ªq
 ? "REQUEST" : "RESPONSE",

3288 ()
Àngth
);

3289 
	`ab‹t
();

3290 
	}
}

3293 
	$ã°_mu…ùÀ3
 (c⁄° 
mesßge
 *
r1
, c⁄° mesßgê*
r2
, c⁄° mesßgê*
r3
)

3295 
mesßge_cou¡
 = 
	`cou¡_∑r£d_mesßges
(3, 
r1
, 
r2
, 
r3
);

3297 
tŸÆ
[ 
	`°æí
(
r1
->
øw
)

3298 + 
	`°æí
(
r2
->
øw
)

3299 + 
	`°æí
(
r3
->
øw
)

3302 
tŸÆ
[0] = '\0';

3304 
	`°rˇt
(
tŸÆ
, 
r1
->
øw
);

3305 
	`°rˇt
(
tŸÆ
, 
r2
->
øw
);

3306 
	`°rˇt
(
tŸÆ
, 
r3
->
øw
);

3308 
	`∑r£r_öô
(
r1
->
ty≥
);

3310 
size_t
 
ªad
;

3312 
ªad
 = 
	`∑r£
(
tŸÆ
, 
	`°æí
(total));

3314 i‡(
∑r£r
->
upgøde
) {

3315 
	`upgøde_mesßge_fix
(
tŸÆ
, 
ªad
, 3, 
r1
, 
r2
, 
r3
);

3316 
ã°
;

3319 i‡(
ªad
 !
	`°æí
(
tŸÆ
)) {

3320 
	`¥öt_îr‹
(
tŸÆ
, 
ªad
);

3321 
	`ab‹t
();

3324 
ªad
 = 
	`∑r£
(
NULL
, 0);

3326 i‡(
ªad
 != 0) {

3327 
	`¥öt_îr‹
(
tŸÆ
, 
ªad
);

3328 
	`ab‹t
();

3331 
ã°
:

3333 i‡(
mesßge_cou¡
 !
num_mesßges
) {

3334 
	`Ârötf
(
°dîr
, "\n\n*** P¨£∏didn'à£ê3 mesßge†⁄ly %d *** \n", 
num_mesßges
);

3335 
	`ab‹t
();

3338 i‡(!
	`mesßge_eq
(0, 
r1
)Ë
	`ab‹t
();

3339 i‡(
mesßge_cou¡
 > 1 && !
	`mesßge_eq
(1, 
r2
)Ë
	`ab‹t
();

3340 i‡(
mesßge_cou¡
 > 2 && !
	`mesßge_eq
(2, 
r3
)Ë
	`ab‹t
();

3342 
	`∑r£r_‰ì
();

3343 
	}
}

3350 
	$ã°_sˇn
 (c⁄° 
mesßge
 *
r1
, c⁄° mesßgê*
r2
, c⁄° mesßgê*
r3
)

3352 
tŸÆ
[80*1024] = "\0";

3353 
buf1
[80*1024] = "\0";

3354 
buf2
[80*1024] = "\0";

3355 
buf3
[80*1024] = "\0";

3357 
	`°rˇt
(
tŸÆ
, 
r1
->
øw
);

3358 
	`°rˇt
(
tŸÆ
, 
r2
->
øw
);

3359 
	`°rˇt
(
tŸÆ
, 
r3
->
øw
);

3361 
size_t
 
ªad
;

3363 
tŸÆ_Àn
 = 
	`°æí
(
tŸÆ
);

3365 
tŸÆ_›s
 = 2 * (
tŸÆ_Àn
 - 1) * (total_len - 2) / 2;

3366 
›s
 = 0 ;

3368 
size_t
 
buf1_Àn
, 
buf2_Àn
, 
buf3_Àn
;

3369 
mesßge_cou¡
 = 
	`cou¡_∑r£d_mesßges
(3, 
r1
, 
r2
, 
r3
);

3371 
i
,
j
,
ty≥_bŸh
;

3372 
ty≥_bŸh
 = 0;Åype_both < 2;Åype_both ++ ) {

3373 
j
 = 2; j < 
tŸÆ_Àn
; j ++ ) {

3374 
i
 = 1; i < 
j
; i ++ ) {

3376 i‡(
›s
 % 1000 == 0) {

3377 
	`¥ötf
("\b\b\b\b%3.0f%%", 100 * ()
›s
 /()
tŸÆ_›s
);

3378 
	`fÊush
(
°dout
);

3380 
›s
 += 1;

3382 
	`∑r£r_öô
(
ty≥_bŸh
 ? 
HTTP_BOTH
 : 
r1
->
ty≥
);

3384 
buf1_Àn
 = 
i
;

3385 
	`°æn˝y
(
buf1
, (buf1), 
tŸÆ
, 
buf1_Àn
);

3386 
buf1
[
buf1_Àn
] = 0;

3388 
buf2_Àn
 = 
j
 - 
i
;

3389 
	`°æn˝y
(
buf2
, (
buf1
), 
tŸÆ
+
i
, 
buf2_Àn
);

3390 
buf2
[
buf2_Àn
] = 0;

3392 
buf3_Àn
 = 
tŸÆ_Àn
 - 
j
;

3393 
	`°æn˝y
(
buf3
, (
buf1
), 
tŸÆ
+
j
, 
buf3_Àn
);

3394 
buf3
[
buf3_Àn
] = 0;

3396 
ªad
 = 
	`∑r£
(
buf1
, 
buf1_Àn
);

3398 i‡(
∑r£r
->
upgøde
Ë
ã°
;

3400 i‡(
ªad
 !
buf1_Àn
) {

3401 
	`¥öt_îr‹
(
buf1
, 
ªad
);

3402 
îr‹
;

3405 
ªad
 +
	`∑r£
(
buf2
, 
buf2_Àn
);

3407 i‡(
∑r£r
->
upgøde
Ë
ã°
;

3409 i‡(
ªad
 !
buf1_Àn
 + 
buf2_Àn
) {

3410 
	`¥öt_îr‹
(
buf2
, 
ªad
);

3411 
îr‹
;

3414 
ªad
 +
	`∑r£
(
buf3
, 
buf3_Àn
);

3416 i‡(
∑r£r
->
upgøde
Ë
ã°
;

3418 i‡(
ªad
 !
buf1_Àn
 + 
buf2_Àn
 + 
buf3_Àn
) {

3419 
	`¥öt_îr‹
(
buf3
, 
ªad
);

3420 
îr‹
;

3423 
	`∑r£
(
NULL
, 0);

3425 
ã°
:

3426 i‡(
∑r£r
->
upgøde
) {

3427 
	`upgøde_mesßge_fix
(
tŸÆ
, 
ªad
, 3, 
r1
, 
r2
, 
r3
);

3430 i‡(
mesßge_cou¡
 !
num_mesßges
) {

3431 
	`Ârötf
(
°dîr
, "\n\nParser didn't see %d messages only %d\n",

3432 
mesßge_cou¡
, 
num_mesßges
);

3433 
îr‹
;

3436 i‡(!
	`mesßge_eq
(0, 
r1
)) {

3437 
	`Ârötf
(
°dîr
, "\n\nError matching messages[0] inÅest_scan.\n");

3438 
îr‹
;

3441 i‡(
mesßge_cou¡
 > 1 && !
	`mesßge_eq
(1, 
r2
)) {

3442 
	`Ârötf
(
°dîr
, "\n\nError matching messages[1] inÅest_scan.\n");

3443 
îr‹
;

3446 i‡(
mesßge_cou¡
 > 2 && !
	`mesßge_eq
(2, 
r3
)) {

3447 
	`Ârötf
(
°dîr
, "\n\nError matching messages[2] inÅest_scan.\n");

3448 
îr‹
;

3451 
	`∑r£r_‰ì
();

3455 
	`puts
("\b\b\b\b100%");

3458 
îr‹
:

3459 
	`Ârötf
(
°dîr
, "i=%d j=%d\n", 
i
, 
j
);

3460 
	`Ârötf
(
°dîr
, "buf1 (%uË%s\n\n", ()
buf1_Àn
, 
buf1
);

3461 
	`Ârötf
(
°dîr
, "buf2 (%uË%s\n\n", ()
buf2_Àn
 , 
buf2
);

3462 
	`Ârötf
(
°dîr
, "buf3 (%uË%s\n", ()
buf3_Àn
, 
buf3
);

3463 
	`ab‹t
();

3464 
	}
}

3469 
	$¸óã_œrge_chunked_mesßge
 (
body_size_ö_kb
, c⁄° * 
hódîs
)

3471 
i
;

3472 
size_t
 
wrŸe
 = 0;

3473 
size_t
 
hódîs_Àn
 = 
	`°æí
(
hódîs
);

3474 
size_t
 
bufsize
 = 
hódîs_Àn
 + (5+1024+2)*
body_size_ö_kb
 + 6;

3475 * 
buf
 = 
	`mÆloc
(
bufsize
);

3477 
	`mem˝y
(
buf
, 
hódîs
, 
hódîs_Àn
);

3478 
wrŸe
 +
hódîs_Àn
;

3480 
i
 = 0; i < 
body_size_ö_kb
; i++) {

3482 
	`mem˝y
(
buf
 + 
wrŸe
, "400\r\n", 5);

3483 
wrŸe
 += 5;

3484 
	`mem£t
(
buf
 + 
wrŸe
, 'C', 1024);

3485 
wrŸe
 += 1024;

3486 
	`°r˝y
(
buf
 + 
wrŸe
, "\r\n");

3487 
wrŸe
 += 2;

3490 
	`mem˝y
(
buf
 + 
wrŸe
, "0\r\n\r\n", 6);

3491 
wrŸe
 += 6;

3492 
	`as£π
(
wrŸe
 =
bufsize
);

3494  
buf
;

3495 
	}
}

3500 
	$ã°_mesßge_∑u£
 (c⁄° 
mesßge
 *
msg
)

3502 *
buf
 = (*Ë
msg
->
øw
;

3503 
size_t
 
buÊí
 = 
	`°æí
(
msg
->
øw
);

3504 
size_t
 
ƒód
;

3506 
	`∑r£r_öô
(
msg
->
ty≥
);

3509 
ƒód
 = 
	`∑r£_∑u£
(
buf
, 
buÊí
);

3513 i‡(
mesßges
[0].
mesßge_com∂ëe_cb_ˇŒed
 &&

3514 
msg
->
upgøde
 &&

3515 
∑r£r
->
upgøde
) {

3516 
mesßges
[0].
upgøde
 = 
buf
 + 
ƒód
;

3517 
ã°
;

3520 i‡(
ƒód
 < 
buÊí
) {

3523 i‡(
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_STRICT
) {

3524 
	`∑r£r_‰ì
();

3528 
	`as£π
 (
	`HTTP_PARSER_ERRNO
(
∑r£r
Ë=
HPE_PAUSED
);

3531 
buf
 +
ƒód
;

3532 
buÊí
 -
ƒód
;

3533 
	`hâp_∑r£r_∑u£
(
∑r£r
, 0);

3534 } 
buÊí
 > 0);

3536 
ƒód
 = 
	`∑r£_∑u£
(
NULL
, 0);

3537 
	`as£π
 (
ƒód
 == 0);

3539 
ã°
:

3540 i‡(
num_mesßges
 != 1) {

3541 
	`¥ötf
("\n***Çum_mesßge†!1á·îÅe°ög '%s' ***\n\n", 
msg
->
«me
);

3542 
	`ab‹t
();

3545 if(!
	`mesßge_eq
(0, 
msg
)Ë
	`ab‹t
();

3547 
	`∑r£r_‰ì
();

3548 
	}
}

3551 
	$maö
 ()

3553 
∑r£r
 = 
NULL
;

3554 
i
, 
j
, 
k
;

3555 
ªque°_cou¡
;

3556 
ª•⁄£_cou¡
;

3557 
vîsi⁄
;

3558 
maj‹
;

3559 
mö‹
;

3560 
∑tch
;

3562 
vîsi⁄
 = 
	`hâp_∑r£r_vîsi⁄
();

3563 
maj‹
 = (
vîsi⁄
 >> 16) & 255;

3564 
mö‹
 = (
vîsi⁄
 >> 8) & 255;

3565 
∑tch
 = 
vîsi⁄
 & 255;

3566 
	`¥ötf
("hâp_∑r£∏v%u.%u.%u (0x%06lx)\n", 
maj‹
, 
mö‹
, 
∑tch
, 
vîsi⁄
);

3568 
	`¥ötf
("sizeof(hâp_∑r£rË%u\n", ()(
hâp_∑r£r
));

3570 
ªque°_cou¡
 = 0; 
ªque°s
[ªque°_cou¡].
«me
;Ñequest_count++);

3571 
ª•⁄£_cou¡
 = 0; 
ª•⁄£s
[ª•⁄£_cou¡].
«me
;Ñesponse_count++);

3574 
	`ã°_¥e£rve_d©a
();

3575 
	`ã°_∑r£_uæ
();

3576 
	`ã°_mëhod_°r
();

3579 
	`ã°_hódî_ƒód_vÆue
();

3583 
	`ã°_hódî_ovîÊow_îr‹
(
HTTP_REQUEST
);

3584 
	`ã°_no_ovîÊow_l⁄g_body
(
HTTP_REQUEST
, 1000);

3585 
	`ã°_no_ovîÊow_l⁄g_body
(
HTTP_REQUEST
, 100000);

3587 
	`ã°_hódî_ovîÊow_îr‹
(
HTTP_RESPONSE
);

3588 
	`ã°_no_ovîÊow_l⁄g_body
(
HTTP_RESPONSE
, 1000);

3589 
	`ã°_no_ovîÊow_l⁄g_body
(
HTTP_RESPONSE
, 100000);

3591 
	`ã°_hódî_c⁄ã¡_Àngth_ovîÊow_îr‹
();

3592 
	`ã°_chunk_c⁄ã¡_Àngth_ovîÊow_îr‹
();

3596 
i
 = 0; i < 
ª•⁄£_cou¡
; i++) {

3597 
	`ã°_mesßge
(&
ª•⁄£s
[
i
]);

3600 
i
 = 0; i < 
ª•⁄£_cou¡
; i++) {

3601 
	`ã°_mesßge_∑u£
(&
ª•⁄£s
[
i
]);

3604 
i
 = 0; i < 
ª•⁄£_cou¡
; i++) {

3605 i‡(!
ª•⁄£s
[
i
].
should_kìp_Æive
) ;

3606 
j
 = 0; j < 
ª•⁄£_cou¡
; j++) {

3607 i‡(!
ª•⁄£s
[
j
].
should_kìp_Æive
) ;

3608 
k
 = 0; k < 
ª•⁄£_cou¡
; k++) {

3609 
	`ã°_mu…ùÀ3
(&
ª•⁄£s
[
i
], &ª•⁄£s[
j
], &ª•⁄£s[
k
]);

3614 
	`ã°_mesßge_cou¡_body
(&
ª•⁄£s
[
NO_HEADERS_NO_BODY_404
]);

3615 
	`ã°_mesßge_cou¡_body
(&
ª•⁄£s
[
TRAILING_SPACE_ON_CHUNKED_BODY
]);

3619 * 
msg
 = 
	`¸óã_œrge_chunked_mesßge
(31337,

3624 
mesßge
 
œrge_chunked
 =

3625 {.
«me
= "large chunked"

3626 ,.
ty≥

HTTP_RESPONSE


3627 ,.
øw

msg


3628 ,.
should_kìp_Æive

FALSE


3629 ,.
mesßge_com∂ëe_⁄_eof

FALSE


3630 ,.
hâp_maj‹
= 1

3631 ,.
hâp_mö‹
= 0

3632 ,.
°©us_code
= 200

3633 ,.
ª•⁄£_°©us
= "OK"

3634 ,.
num_hódîs
= 2

3635 ,.
hódîs
=

3639 ,.
body_size
= 31337*1024

3640 ,.
num_chunks_com∂ëe
= 31338

3642 
i
 = 0; i < 
MAX_CHUNKS
; i++) {

3643 
œrge_chunked
.
chunk_Àngths
[
i
] = 1024;

3645 
	`ã°_mesßge_cou¡_body
(&
œrge_chunked
);

3646 
	`‰ì
(
msg
);

3651 
	`¥ötf
("response scan 1/2 ");

3652 
	`ã°_sˇn
–&
ª•⁄£s
[
TRAILING_SPACE_ON_CHUNKED_BODY
]

3653 , &
ª•⁄£s
[
NO_BODY_HTTP10_KA_204
]

3654 , &
ª•⁄£s
[
NO_REASON_PHRASE
]

3657 
	`¥ötf
("response scan 2/2 ");

3658 
	`ã°_sˇn
–&
ª•⁄£s
[
BONJOUR_MADAME_FR
]

3659 , &
ª•⁄£s
[
UNDERSTORE_HEADER_KEY
]

3660 , &
ª•⁄£s
[
NO_CARRIAGE_RET
]

3663 
	`puts
("responses okay");

3668 
	`ã°_sim∂e
("GET / HTP/1.1\r\n\r\n", 
HPE_INVALID_VERSION
);

3671 
	`ã°_sim∂e
("GET / HTTP/1.1\r\n"

3676 
HPE_OK
);

3678 c⁄° *
Æl_mëhods
[] = {

3704 c⁄° **
this_mëhod
;

3705 
this_mëhod
 = 
Æl_mëhods
; *this_method;Åhis_method++) {

3706 
buf
[200];

3707 
	`•rötf
(
buf
, "%†/ HTTP/1.1\r\n\r\n", *
this_mëhod
);

3708 
	`ã°_sim∂e
(
buf
, 
HPE_OK
);

3711 c⁄° *
bad_mëhods
[] = {

3725 
this_mëhod
 = 
bad_mëhods
; *this_method;Åhis_method++) {

3726 
buf
[200];

3727 
	`•rötf
(
buf
, "%†/ HTTP/1.1\r\n\r\n", *
this_mëhod
);

3728 
	`ã°_sim∂e
(
buf
, 
HPE_INVALID_METHOD
);

3732 
	`ã°_sim∂e
("GET / HTTP/1.1\r\n"

3736 
HPE_INVALID_HEADER_TOKEN
);

3738 c⁄° *
dumbfuck2
 =

3773 
	`ã°_sim∂e
(
dumbfuck2
, 
HPE_OK
);

3775 c⁄° *
c‹ru±ed_c⁄√˘i⁄
 =

3781 
	`ã°_sim∂e
(
c‹ru±ed_c⁄√˘i⁄
, 
HPE_INVALID_HEADER_TOKEN
);

3783 c⁄° *
c‹ru±ed_hódî_«me
 =

3789 
	`ã°_sim∂e
(
c‹ru±ed_hódî_«me
, 
HPE_INVALID_HEADER_TOKEN
);

3797 c⁄° *
bad_gë_no_hódîs_no_body
 = "GET /bad_get_no_headers_no_body/world HTTP/1.1\r\n"

3801 
	`ã°_sim∂e
(
bad_gë_no_hódîs_no_body
, 0);

3807 
i
 = 0; 
ªque°s
[i].
«me
; i++) {

3808 
	`ã°_mesßge
(&
ªque°s
[
i
]);

3811 
i
 = 0; i < 
ªque°_cou¡
; i++) {

3812 
	`ã°_mesßge_∑u£
(&
ªque°s
[
i
]);

3815 
i
 = 0; i < 
ªque°_cou¡
; i++) {

3816 i‡(!
ªque°s
[
i
].
should_kìp_Æive
) ;

3817 
j
 = 0; j < 
ªque°_cou¡
; j++) {

3818 i‡(!
ªque°s
[
j
].
should_kìp_Æive
) ;

3819 
k
 = 0; k < 
ªque°_cou¡
; k++) {

3820 
	`ã°_mu…ùÀ3
(&
ªque°s
[
i
], &ªque°s[
j
], &ªque°s[
k
]);

3825 
	`¥ötf
("request scan 1/4 ");

3826 
	`ã°_sˇn
–&
ªque°s
[
GET_NO_HEADERS_NO_BODY
]

3827 , &
ªque°s
[
GET_ONE_HEADER_NO_BODY
]

3828 , &
ªque°s
[
GET_NO_HEADERS_NO_BODY
]

3831 
	`¥ötf
("request scan 2/4 ");

3832 
	`ã°_sˇn
–&
ªque°s
[
POST_CHUNKED_ALL_YOUR_BASE
]

3833 , &
ªque°s
[
POST_IDENTITY_BODY_WORLD
]

3834 , &
ªque°s
[
GET_FUNKY_CONTENT_LENGTH
]

3837 
	`¥ötf
("request scan 3/4 ");

3838 
	`ã°_sˇn
–&
ªque°s
[
TWO_CHUNKS_MULT_ZERO_END
]

3839 , &
ªque°s
[
CHUNKED_W_TRAILING_HEADERS
]

3840 , &
ªque°s
[
CHUNKED_W_BULLSHIT_AFTER_LENGTH
]

3843 
	`¥ötf
("request scan 4/4 ");

3844 
	`ã°_sˇn
–&
ªque°s
[
QUERY_URL_WITH_QUESTION_MARK_GET
]

3845 , &
ªque°s
[
PREFIX_NEWLINE_GET
 ]

3846 , &
ªque°s
[
CONNECT_REQUEST
]

3849 
	`puts
("requests okay");

3852 
	}
}

	@deps/jerry/jerry-core/api/jerry-debugger.c

16 
	~"debuggî.h
"

17 
	~"jc⁄ãxt.h
"

18 
	~"jîrys¸ùt.h
"

26 
boﬁ


27 
	$jîry_debuggî_is_c⁄√˘ed
 ()

29 #ifde‡
JERRY_DEBUGGER


30  
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
;

32  
Ál£
;

34 
	}
}

40 
	$jîry_debuggî_°›
 ()

42 #ifde‡
JERRY_DEBUGGER


43 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

44 && !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_BREAKPOINT_MODE
))

46 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_STOP
);

47 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

50 
	}
}

56 
	$jîry_debuggî_c⁄töue
 ()

58 #ifde‡
JERRY_DEBUGGER


59 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

60 && !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_BREAKPOINT_MODE
))

62 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË& ~
JERRY_DEBUGGER_VM_STOP
);

63 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

66 
	}
}

72 
	$jîry_debuggî_°›_©_bªakpoöt
 (
boﬁ
 
íabÀ_°›_©_bªakpoöt
)

74 #ifde‡
JERRY_DEBUGGER


75 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED


76 && !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_BREAKPOINT_MODE
))

78 i‡(
íabÀ_°›_©_bªakpoöt
)

80 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_IGNORE
);

84 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË& ~
JERRY_DEBUGGER_VM_IGNORE
);

88 
	`JERRY_UNUSED
 (
íabÀ_°›_©_bªakpoöt
);

90 
	}
}

96 
	$jîry_debuggî_öô
 (
uöt16_t
 
p‹t
)

98 #ifde‡
JERRY_DEBUGGER


99 
	`JERRY_CONTEXT
 (
debuggî_p‹t
Ë
p‹t
;

100 
	`jîry_debuggî_ac˚±_c⁄√˘i⁄
 ();

102 
	`JERRY_UNUSED
 (
p‹t
);

104 
	}
}

113 
jîry_debuggî_waô_™d_run_ty≥_t


114 
	$jîry_debuggî_waô_™d_run_˛õ¡_sour˚
 (
jîry_vÆue_t
 *
ªtu∫_vÆue
)

116 *
ªtu∫_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

118 #ifde‡
JERRY_DEBUGGER


119 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

120 && !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_BREAKPOINT_MODE
))

122 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
);

123 
jîry_debuggî_uöt8_d©a_t
 *
˛õ¡_sour˚_d©a_p
 = 
NULL
;

124 
jîry_debuggî_waô_™d_run_ty≥_t
 
ªt_ty≥
 = 
JERRY_DEBUGGER_SOURCE_RECEIVE_FAILED
;

127 
	`jîry_debuggî_£nd_ty≥
 (
JERRY_DEBUGGER_WAIT_FOR_SOURCE
);

129 
åue
)

131 i‡(
	`jîry_debuggî_ª˚ive
 (&
˛õ¡_sour˚_d©a_p
))

133 i‡(!(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
))

139 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CLIENT_NO_SOURCE
))

141 
ªt_ty≥
 = 
JERRY_DEBUGGER_SOURCE_END
;

146 i‡(!(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
))

148 
	`JERRY_ASSERT
 (
˛õ¡_sour˚_d©a_p
 !
NULL
);

150 
jîry_ch¨_t
 *
°rög_p
 = (jîry_ch¨_à*Ë(
˛õ¡_sour˚_d©a_p
 + 1);

151 
size_t
 
«me_size
 = 
	`°æí
 ((c⁄° *Ë
°rög_p
);

153 *
ªtu∫_vÆue
 = 
	`jîry_∑r£_«med_ªsour˚
 (
°rög_p
,

154 
«me_size
,

155 (
°rög_p
 + 
«me_size
 + 1),

156 (
˛õ¡_sour˚_d©a_p
->
uöt8_size
 - 
«me_size
 - 1),

157 
Ál£
);

159 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (*
ªtu∫_vÆue
))

161 
jîry_vÆue_t
 
func_vÆ
 = *
ªtu∫_vÆue
;

162 *
ªtu∫_vÆue
 = 
	`jîry_run
 (
func_vÆ
);

163 
	`jîry_ªÀa£_vÆue
 (
func_vÆ
);

165 
ªt_ty≥
 = 
JERRY_DEBUGGER_SOURCE_RECEIVED
;

171 
	`jîry_debuggî_¶ìp
 ();

174 
	`JERRY_ASSERT
 (!(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
)

175 || !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
));

177 i‡(
˛õ¡_sour˚_d©a_p
 !
NULL
)

180 
	`jmem_hóp_‰ì_block
 (
˛õ¡_sour˚_d©a_p
,

181 
˛õ¡_sour˚_d©a_p
->
uöt8_size
 +  (
jîry_debuggî_uöt8_d©a_t
));

184  
ªt_ty≥
;

187  
JERRY_DEBUGGER_SOURCE_RECEIVE_FAILED
;

189  
JERRY_DEBUGGER_SOURCE_RECEIVE_FAILED
;

191 
	}
}

198 #ifde‡
JERRY_DEBUGGER


200 
	$jîry_debuggî_£nd_ouçut
 (
jîry_ch¨_t
 
buf„r
[],

201 
jîry_size_t
 
°r_size
,

202 
uöt8_t
 
ty≥
)

204 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

206 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_OUTPUT_RESULT
,

207 
ty≥
,

208 (c⁄° 
uöt8_t
 *Ë
buf„r
,

209  (
uöt8_t
Ë* 
°r_size
);

211 
	}
}

	@deps/jerry/jerry-core/api/jerry-snapshot.c

16 
	~"ecma-ex˚±i⁄s.h
"

17 
	~"ecma-fun˘i⁄-obje˘.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-lôîÆ-°‹age.h
"

20 
	~"jc⁄ãxt.h
"

21 
	~"jîrys¸ùt.h
"

22 
	~"jîry-¢≠shŸ.h
"

23 
	~"js-∑r£r.h
"

24 
	~"lô-ch¨-hñ≥rs.h
"

25 
	~"ª-compûî.h
"

27 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


34 
boﬁ
 
	m¢≠shŸ_îr‹_occuªd
;

35 
size_t
 
	m¢≠shŸ_buf„r_wrôe_off£t
;

36 } 
	t¢≠shŸ_globÆs_t
;

51 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


52 
	$¢≠shŸ_wrôe_to_buf„r_by_off£t
 (
uöt8_t
 *
buf„r_p
,

53 
size_t
 
buf„r_size
,

54 
size_t
 *
ö_out_buf„r_off£t_p
,

56 c⁄° *
d©a_p
,

57 
size_t
 
d©a_size
)

59 i‡(*
ö_out_buf„r_off£t_p
 + 
d©a_size
 > 
buf„r_size
)

61  
Ál£
;

64 
	`mem˝y
 (
buf„r_p
 + *
ö_out_buf„r_off£t_p
, 
d©a_p
, 
d©a_size
);

65 *
ö_out_buf„r_off£t_p
 +
d©a_size
;

67  
åue
;

68 
	}
}

75 
uöt16_t


76 
	$¢≠shŸ_add_compûed_code
 (
ecma_compûed_code_t
 *
compûed_code_p
,

77 
uöt8_t
 *
¢≠shŸ_buf„r_p
,

78 
size_t
 
¢≠shŸ_buf„r_size
,

79 
¢≠shŸ_globÆs_t
 *
globÆs_p
)

81 i‡(
globÆs_p
->
¢≠shŸ_îr‹_occuªd
)

86 
	`JERRY_ASSERT
 ((
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
 & (
JMEM_ALIGNMENT
 - 1)) == 0);

88 i‡((
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
 >> 
JMEM_ALIGNMENT_LOG
) > 0xffffu)

90 
globÆs_p
->
¢≠shŸ_îr‹_occuªd
 = 
åue
;

94 
uöt16_t
 
°¨t_off£t
 = (uöt16_tË(
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
 >> 
JMEM_ALIGNMENT_LOG
);

96 
uöt8_t
 *
c›õd_code_°¨t_p
 = 
¢≠shŸ_buf„r_p
 + 
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
;

97 
ecma_compûed_code_t
 *
c›õd_code_p
 = (ecma_compûed_code_à*Ë
c›õd_code_°¨t_p
;

99 i‡(!(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FUNCTION
))

101 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


103 i‡(
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
 +  (
ecma_compûed_code_t
Ë> 
¢≠shŸ_buf„r_size
)

105 
globÆs_p
->
¢≠shŸ_îr‹_occuªd
 = 
åue
;

109 
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
 + (
ecma_compûed_code_t
);

111 
jmem_˝oöãr_t
 
∑âîn_˝
 = ((
ª_compûed_code_t
 *Ë
compûed_code_p
)->pattern_cp;

112 
ecma_°rög_t
 *
∑âîn_°rög_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_string_t,

113 
∑âîn_˝
);

115 
ecma_Àngth_t
 
∑âîn_size
 = 0;

117 
	`ECMA_STRING_TO_UTF8_STRING
 (
∑âîn_°rög_p
, 
buf„r_p
, 
buf„r_size
);

119 
∑âîn_size
 = 
buf„r_size
;

121 i‡(!
	`¢≠shŸ_wrôe_to_buf„r_by_off£t
 (
¢≠shŸ_buf„r_p
,

122 
¢≠shŸ_buf„r_size
,

123 &
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
,

124 
buf„r_p
,

125 
buf„r_size
))

127 
globÆs_p
->
¢≠shŸ_îr‹_occuªd
 = 
åue
;

130 
	`ECMA_FINALIZE_UTF8_STRING
 (
buf„r_p
, 
buf„r_size
);

132 
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
 = 
	`JERRY_ALIGNUP
 (globals_p->snapshot_buffer_write_offset,

133 
JMEM_ALIGNMENT
);

136 
c›õd_code_p
->
ªfs
 = (
uöt16_t
Ë
∑âîn_size
;

138 
∑âîn_size
 +(
ecma_Àngth_t
Ë (
ecma_compûed_code_t
);

139 
c›õd_code_p
->
size
 = (
uöt16_t
Ë((
∑âîn_size
 + 
JMEM_ALIGNMENT
 - 1Ë>> 
JMEM_ALIGNMENT_LOG
);

141 
c›õd_code_p
->
°©us_Êags
 = 
compûed_code_p
->status_flags;

144 
	`JERRY_UNREACHABLE
 ();

146  
°¨t_off£t
;

149 i‡(!
	`¢≠shŸ_wrôe_to_buf„r_by_off£t
 (
¢≠shŸ_buf„r_p
,

150 
¢≠shŸ_buf„r_size
,

151 &
globÆs_p
->
¢≠shŸ_buf„r_wrôe_off£t
,

152 
compûed_code_p
,

153 ((
size_t
Ë
compûed_code_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
))

155 
globÆs_p
->
¢≠shŸ_îr‹_occuªd
 = 
åue
;

160 
uöt8_t
 *
§c_buf„r_p
 = (uöt8_à*Ë
compûed_code_p
;

161 
uöt8_t
 *
d°_buf„r_p
 = (uöt8_à*Ë
c›õd_code_p
;

162 
jmem_˝oöãr_t
 *
§c_lôîÆ_°¨t_p
;

163 
jmem_˝oöãr_t
 *
d°_lôîÆ_°¨t_p
;

164 
uöt32_t
 
c⁄°_lôîÆ_íd
;

165 
uöt32_t
 
lôîÆ_íd
;

167 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

169 
§c_lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(
§c_buf„r_p
 +  (
cbc_uöt16_¨gumíts_t
));

170 
d°_lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(
d°_buf„r_p
 +  (
cbc_uöt16_¨gumíts_t
));

172 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
§c_buf„r_p
;

173 
lôîÆ_íd
 = 
¨gs_p
->literal_end;

174 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

178 
§c_lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(
§c_buf„r_p
 +  (
cbc_uöt8_¨gumíts_t
));

179 
d°_lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(
d°_buf„r_p
 +  (
cbc_uöt8_¨gumíts_t
));

181 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
§c_buf„r_p
;

182 
lôîÆ_íd
 = 
¨gs_p
->literal_end;

183 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

186 
uöt32_t
 
i
 = 
c⁄°_lôîÆ_íd
; i < 
lôîÆ_íd
; i++)

188 
ecma_compûed_code_t
 *
byãcode_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_compiled_code_t,

189 
§c_lôîÆ_°¨t_p
[
i
]);

191 i‡(
byãcode_p
 =
compûed_code_p
)

193 
d°_lôîÆ_°¨t_p
[
i
] = 
°¨t_off£t
;

197 
d°_lôîÆ_°¨t_p
[
i
] = 
	`¢≠shŸ_add_compûed_code
 (
byãcode_p
,

198 
¢≠shŸ_buf„r_p
,

199 
¢≠shŸ_buf„r_size
,

200 
globÆs_p
);

204  
°¨t_off£t
;

205 
	}
}

211 
	$jîry_¢≠shŸ_£t_off£ts
 (
uöt32_t
 *
buf„r_p
,

212 
uöt32_t
 
size
,

213 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
lô_m≠_p
)

215 
	`JERRY_ASSERT
 (
size
 > 0);

219 
ecma_compûed_code_t
 *
byãcode_p
 = (ecma_compûed_code_à*Ë
buf„r_p
;

220 
uöt32_t
 
code_size
 = ((uöt32_tË
byãcode_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
;

222 i‡(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FUNCTION
)

224 
jmem_˝oöãr_t
 *
lôîÆ_°¨t_p
;

225 
uöt32_t
 
¨gumít_íd
;

226 
uöt32_t
 
ªgi°î_íd
;

227 
uöt32_t
 
c⁄°_lôîÆ_íd
;

229 i‡(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

231 
lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(((
uöt8_t
 *Ë
buf„r_p
Ë+  (
cbc_uöt16_¨gumíts_t
));

233 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
buf„r_p
;

234 
¨gumít_íd
 = 
¨gs_p
->argument_end;

235 
ªgi°î_íd
 = 
¨gs_p
->register_end;

236 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

240 
lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(((
uöt8_t
 *Ë
buf„r_p
Ë+  (
cbc_uöt8_¨gumíts_t
));

242 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
buf„r_p
;

243 
¨gumít_íd
 = 
¨gs_p
->argument_end;

244 
ªgi°î_íd
 = 
¨gs_p
->register_end;

245 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

248 
uöt32_t
 
ªgi°î_˛ór_°¨t
 = 0;

250 i‡((
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_ARGUMENTS_NEEDED
)

251 && !(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
))

253 
uöt32_t
 
i
 = 0; i < 
¨gumít_íd
; i++)

255 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
cuºít_p
 = 
lô_m≠_p
;

257 i‡(
lôîÆ_°¨t_p
[
i
] !
JMEM_CP_NULL
)

259 
cuºít_p
->
lôîÆ_id
 !
lôîÆ_°¨t_p
[
i
])

261 
cuºít_p
++;

264 
lôîÆ_°¨t_p
[
i
] = 
cuºít_p
->
lôîÆ_off£t
;

268 
ªgi°î_˛ór_°¨t
 = 
¨gumít_íd
;

271 
uöt32_t
 
i
 = 
ªgi°î_˛ór_°¨t
; i < 
ªgi°î_íd
; i++)

273 
lôîÆ_°¨t_p
[
i
] = 
JMEM_CP_NULL
;

276 
uöt32_t
 
i
 = 
ªgi°î_íd
; i < 
c⁄°_lôîÆ_íd
; i++)

278 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
cuºít_p
 = 
lô_m≠_p
;

280 i‡(
lôîÆ_°¨t_p
[
i
] !
JMEM_CP_NULL
)

282 
cuºít_p
->
lôîÆ_id
 !
lôîÆ_°¨t_p
[
i
])

284 
cuºít_p
++;

287 
lôîÆ_°¨t_p
[
i
] = 
cuºít_p
->
lôîÆ_off£t
;

292 
byãcode_p
->
ªfs
 = 1;

295 
	`JERRY_ASSERT
 ((
code_size
 %  (
uöt32_t
)) == 0);

296 
buf„r_p
 +
code_size
 /  (
uöt32_t
);

297 
size
 -
code_size
;

299 
size
 > 0);

300 
	}
}

304 #ifde‡
JERRY_ENABLE_SNAPSHOT_EXEC


311 
	#BYTECODE_NO_COPY_THRESHOLD
 8

	)

318 
ecma_compûed_code_t
 *

319 
	$¢≠shŸ_lﬂd_compûed_code
 (c⁄° 
uöt8_t
 *
¢≠shŸ_d©a_p
,

320 
size_t
 
off£t
,

321 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
lô_m≠_p
,

322 
boﬁ
 
c›y_byãcode
)

324 
ecma_compûed_code_t
 *
byãcode_p
 = (ecma_compûed_code_à*Ë(
¢≠shŸ_d©a_p
 + 
off£t
);

325 
uöt32_t
 
code_size
 = ((uöt32_tË
byãcode_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
;

327 i‡(!(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FUNCTION
))

329 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


330 c⁄° 
ª_compûed_code_t
 *
ª_byãcode_p
 = 
NULL
;

332 c⁄° 
uöt8_t
 *
ªgex_°¨t_p
 = ((c⁄° uöt8_à*Ë
byãcode_p
Ë+  (
ecma_compûed_code_t
);

335 
ecma_°rög_t
 *
∑âîn_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ªgex_°¨t_p
,

336 
byãcode_p
->
ªfs
);

338 
	`ª_compûe_byãcode
 (&
ª_byãcode_p
,

339 
∑âîn_°r_p
,

340 
byãcode_p
->
°©us_Êags
);

342 
	`ecma_dîef_ecma_°rög
 (
∑âîn_°r_p
);

344  (
ecma_compûed_code_t
 *Ë
ª_byãcode_p
;

346 
	`JERRY_UNREACHABLE
 ();

350 
size_t
 
hódî_size
;

351 
uöt32_t
 
lôîÆ_íd
;

352 
uöt32_t
 
c⁄°_lôîÆ_íd
;

354 i‡(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

356 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_p
;

357 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byã_p
;

358 
lôîÆ_íd
 = 
¨gs_p
->literal_end;

359 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

360 
hódî_size
 =  (
cbc_uöt16_¨gumíts_t
);

364 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_p
;

365 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byã_p
;

366 
lôîÆ_íd
 = 
¨gs_p
->literal_end;

367 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

368 
hódî_size
 =  (
cbc_uöt8_¨gumíts_t
);

371 i‡(
c›y_byãcode


372 || (
hódî_size
 + (
lôîÆ_íd
 *  (
uöt16_t
)Ë+ 
BYTECODE_NO_COPY_THRESHOLD
 > 
code_size
))

374 
byãcode_p
 = (
ecma_compûed_code_t
 *Ë
	`jmem_hóp_Æloc_block
 (
code_size
);

376 #ifde‡
JMEM_STATS


377 
	`jmem_°©s_Æloˇã_byã_code_byãs
 (
code_size
);

380 
	`mem˝y
 (
byãcode_p
, 
¢≠shŸ_d©a_p
 + 
off£t
, 
code_size
);

384 
code_size
 = (
uöt32_t
Ë(
hódî_size
 + 
lôîÆ_íd
 *  (
jmem_˝oöãr_t
));

386 
uöt8_t
 *
ªÆ_byãcode_p
 = ((uöt8_à*Ë
byãcode_p
Ë+ 
code_size
;

387 
uöt32_t
 
tŸÆ_size
 = 
	`JERRY_ALIGNUP
 (
code_size
 + 1 +  (
uöt8_t
 *), 
JMEM_ALIGNMENT
);

389 
byãcode_p
 = (
ecma_compûed_code_t
 *Ë
	`jmem_hóp_Æloc_block
 (
tŸÆ_size
);

391 #ifde‡
JMEM_STATS


392 
	`jmem_°©s_Æloˇã_byã_code_byãs
 (
tŸÆ_size
);

395 
	`mem˝y
 (
byãcode_p
, 
¢≠shŸ_d©a_p
 + 
off£t
, 
code_size
);

397 
byãcode_p
->
size
 = (
uöt16_t
Ë(
tŸÆ_size
 >> 
JMEM_ALIGNMENT_LOG
);

399 
uöt8_t
 *
ö°ru˘i⁄s_p
 = ((uöt8_à*Ë
byãcode_p
);

401 
ö°ru˘i⁄s_p
[
code_size
] = 
CBC_SET_BYTECODE_PTR
;

402 
	`mem˝y
 (
ö°ru˘i⁄s_p
 + 
code_size
 + 1, &
ªÆ_byãcode_p
,  (
uöt8_t
 *));

405 
	`JERRY_ASSERT
 (
byãcode_p
->
ªfs
 == 1);

407 #ifde‡
JERRY_DEBUGGER


408 
byãcode_p
->
°©us_Êags
 = (
uöt16_t
Ë(byãcode_p->°©us_Êag†| 
CBC_CODE_FLAGS_DEBUGGER_IGNORE
);

411 
jmem_˝oöãr_t
 *
lôîÆ_°¨t_p
 = (jmem_˝oöãr_à*Ë(((
uöt8_t
 *Ë
byãcode_p
Ë+ 
hódî_size
);

413 
uöt32_t
 
i
 = 0; i < 
c⁄°_lôîÆ_íd
; i++)

415 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
cuºít_p
 = 
lô_m≠_p
;

417 i‡(
lôîÆ_°¨t_p
[
i
] != 0)

419 
cuºít_p
->
lôîÆ_off£t
 !
lôîÆ_°¨t_p
[
i
])

421 
cuºít_p
++;

424 
lôîÆ_°¨t_p
[
i
] = 
cuºít_p
->
lôîÆ_id
;

428 
uöt32_t
 
i
 = 
c⁄°_lôîÆ_íd
; i < 
lôîÆ_íd
; i++)

430 
size_t
 
lôîÆ_off£t
 = ((size_tË
lôîÆ_°¨t_p
[
i
]Ë<< 
JMEM_ALIGNMENT_LOG
;

432 i‡(
lôîÆ_off£t
 =
off£t
)

435 
	`ECMA_SET_NON_NULL_POINTER
 (
lôîÆ_°¨t_p
[
i
],

436 
byãcode_p
);

440 
ecma_compûed_code_t
 *
lôîÆ_byãcode_p
;

441 
lôîÆ_byãcode_p
 = 
	`¢≠shŸ_lﬂd_compûed_code
 (
¢≠shŸ_d©a_p
,

442 
lôîÆ_off£t
,

443 
lô_m≠_p
,

444 
c›y_byãcode
);

446 
	`ECMA_SET_NON_NULL_POINTER
 (
lôîÆ_°¨t_p
[
i
],

447 
lôîÆ_byãcode_p
);

451  
byãcode_p
;

452 
	}
}

464 
size_t


465 
	$jîry_∑r£_™d_ßve_¢≠shŸ
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
,

466 
size_t
 
sour˚_size
,

467 
boﬁ
 
is_f‹_globÆ
,

469 
boﬁ
 
is_°ri˘
,

470 
uöt32_t
 *
buf„r_p
,

471 
size_t
 
buf„r_size
)

473 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


474 
¢≠shŸ_globÆs_t
 
globÆs
;

475 
ecma_vÆue_t
 
∑r£_°©us
;

476 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

478 
globÆs
.
¢≠shŸ_buf„r_wrôe_off£t
 = 
	`JERRY_ALIGNUP
 ( (
jîry_¢≠shŸ_hódî_t
),

479 
JMEM_ALIGNMENT
);

480 
globÆs
.
¢≠shŸ_îr‹_occuªd
 = 
Ál£
;

482 
∑r£_°©us
 = 
	`∑r£r_∑r£_s¸ùt
 (
sour˚_p
,

483 
sour˚_size
,

484 
is_°ri˘
,

485 &
byãcode_d©a_p
);

487 i‡(
	`ECMA_IS_VALUE_ERROR
 (
∑r£_°©us
))

489 
	`ecma_‰ì_vÆue
 (
∑r£_°©us
);

493 
	`¢≠shŸ_add_compûed_code
 (
byãcode_d©a_p
, (
uöt8_t
 *Ë
buf„r_p
, 
buf„r_size
, &
globÆs
);

495 i‡(
globÆs
.
¢≠shŸ_îr‹_occuªd
)

500 
jîry_¢≠shŸ_hódî_t
 
hódî
;

501 
hódî
.
vîsi⁄
 = 
JERRY_SNAPSHOT_VERSION
;

502 
hódî
.
lô_èbÀ_off£t
 = (
uöt32_t
Ë
globÆs
.
¢≠shŸ_buf„r_wrôe_off£t
;

503 
hódî
.
is_run_globÆ
 = 
is_f‹_globÆ
;

505 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
lô_m≠_p
 = 
NULL
;

506 
uöt32_t
 
lôîÆs_num
;

508 i‡(!
	`ecma_ßve_lôîÆs_f‹_¢≠shŸ
 (
buf„r_p
,

509 
buf„r_size
,

510 &
globÆs
.
¢≠shŸ_buf„r_wrôe_off£t
,

511 &
lô_m≠_p
,

512 &
lôîÆs_num
,

513 &
hódî
.
lô_èbÀ_size
))

515 
	`JERRY_ASSERT
 (
lô_m≠_p
 =
NULL
);

519 
	`jîry_¢≠shŸ_£t_off£ts
 (
buf„r_p
 + (
	`JERRY_ALIGNUP
 ( (
jîry_¢≠shŸ_hódî_t
),

520 
JMEM_ALIGNMENT
Ë/  (
uöt32_t
)),

521 (
uöt32_t
Ë(
hódî
.
lô_èbÀ_off£t
 -  (
jîry_¢≠shŸ_hódî_t
)),

522 
lô_m≠_p
);

524 
size_t
 
hódî_off£t
 = 0;

526 
	`¢≠shŸ_wrôe_to_buf„r_by_off£t
 ((
uöt8_t
 *Ë
buf„r_p
,

527 
buf„r_size
,

528 &
hódî_off£t
,

529 &
hódî
,

530  (
hódî
));

532 i‡(
lô_m≠_p
 !
NULL
)

534 
	`jmem_hóp_‰ì_block
 (
lô_m≠_p
, 
lôîÆs_num
 *  (
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
));

537 
	`ecma_byãcode_dîef
 (
byãcode_d©a_p
);

539  
globÆs
.
¢≠shŸ_buf„r_wrôe_off£t
;

541 
	`JERRY_UNUSED
 (
sour˚_p
);

542 
	`JERRY_UNUSED
 (
sour˚_size
);

543 
	`JERRY_UNUSED
 (
is_f‹_globÆ
);

544 
	`JERRY_UNUSED
 (
is_°ri˘
);

545 
	`JERRY_UNUSED
 (
buf„r_p
);

546 
	`JERRY_UNUSED
 (
buf„r_size
);

550 
	}
}

561 
jîry_vÆue_t


562 
	$jîry_exec_¢≠shŸ
 (c⁄° 
uöt32_t
 *
¢≠shŸ_p
,

563 
size_t
 
¢≠shŸ_size
,

564 
boﬁ
 
c›y_byãcode
)

572 #ifde‡
JERRY_ENABLE_SNAPSHOT_EXEC


573 
	`JERRY_ASSERT
 (
¢≠shŸ_p
 !
NULL
);

575 c⁄° * c⁄° 
övÆid_vîsi⁄_îr‹_p
 = "Invalid snapshot version";

576 c⁄° * c⁄° 
övÆid_f‹m©_îr‹_p
 = "Invalid snapshot format";

577 c⁄° 
uöt8_t
 *
¢≠shŸ_d©a_p
 = (uöt8_à*Ë
¢≠shŸ_p
;

579 i‡(
¢≠shŸ_size
 < (
jîry_¢≠shŸ_hódî_t
))

581  
	`ecma_øi£_ty≥_îr‹
 (
övÆid_f‹m©_îr‹_p
);

584 c⁄° 
jîry_¢≠shŸ_hódî_t
 *
hódî_p
 = (c⁄° jîry_¢≠shŸ_hódî_à*Ë
¢≠shŸ_d©a_p
;

586 i‡(
hódî_p
->
vîsi⁄
 !
JERRY_SNAPSHOT_VERSION
)

588  
	`ecma_øi£_ty≥_îr‹
 (
övÆid_vîsi⁄_îr‹_p
);

591 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
lô_m≠_p
 = 
NULL
;

592 
uöt32_t
 
lôîÆs_num
;

594 i‡(
hódî_p
->
lô_èbÀ_off£t
 >
¢≠shŸ_size
)

596  
	`ecma_øi£_ty≥_îr‹
 (
övÆid_vîsi⁄_îr‹_p
);

599 
	`JERRY_ASSERT
 ((
hódî_p
->
lô_èbÀ_off£t
 %  (
uöt32_t
)) == 0);

600 i‡(!
	`ecma_lﬂd_lôîÆs_‰om_¢≠shŸ
 ((
uöt32_t
 *Ë(
¢≠shŸ_d©a_p
 + 
hódî_p
->
lô_èbÀ_off£t
),

601 
hódî_p
->
lô_èbÀ_size
,

602 &
lô_m≠_p
,

603 &
lôîÆs_num
))

605 
	`JERRY_ASSERT
 (
lô_m≠_p
 =
NULL
);

606  
	`ecma_øi£_ty≥_îr‹
 (
övÆid_f‹m©_îr‹_p
);

609 
ecma_compûed_code_t
 *
byãcode_p
;

610 
byãcode_p
 = 
	`¢≠shŸ_lﬂd_compûed_code
 (
¢≠shŸ_d©a_p
,

611  (
jîry_¢≠shŸ_hódî_t
),

612 
lô_m≠_p
,

613 
c›y_byãcode
);

615 i‡(
lô_m≠_p
 !
NULL
)

617 
	`jmem_hóp_‰ì_block
 (
lô_m≠_p
, 
lôîÆs_num
 *  (
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
));

620 i‡(
byãcode_p
 =
NULL
)

622  
	`ecma_øi£_ty≥_îr‹
 (
övÆid_f‹m©_îr‹_p
);

625 
ecma_vÆue_t
 
ªt_vÆ
;

627 i‡(
hódî_p
->
is_run_globÆ
)

629 
ªt_vÆ
 = 
	`vm_run_globÆ
 (
byãcode_p
);

630 
	`ecma_byãcode_dîef
 (
byãcode_p
);

634 
ªt_vÆ
 = 
	`vm_run_evÆ
 (
byãcode_p
, 
Ál£
);

637  
ªt_vÆ
;

639 
	`JERRY_UNUSED
 (
¢≠shŸ_p
);

640 
	`JERRY_UNUSED
 (
¢≠shŸ_size
);

641 
	`JERRY_UNUSED
 (
c›y_byãcode
);

643  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

645 
	}
}

651 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


663 
boﬁ


664 
	$jîry_ßve_lôîÆs_com∑ª
 (
ecma_°rög_t
 *
lôîÆ1
,

665 
ecma_°rög_t
 *
lôîÆ2
)

667 c⁄° 
lô_utf8_size_t
 
lô1_size
 = 
	`ecma_°rög_gë_size
 (
lôîÆ1
);

668 c⁄° 
lô_utf8_size_t
 
lô2_size
 = 
	`ecma_°rög_gë_size
 (
lôîÆ2
);

670 i‡(
lô1_size
 =
lô2_size
)

672  
	`ecma_com∑ª_ecma_°rögs_ªœti⁄Æ
 (
lôîÆ1
, 
lôîÆ2
);

675  (
lô1_size
 < 
lô2_size
);

676 
	}
}

683 
lô_utf8_size_t


684 
	$jîry_ßve_lôîÆs_hóp_max
 (
ecma_°rög_t
 *
lôîÆs
[],

685 
lô_utf8_size_t
 
num_of_nodes
,

686 
lô_utf8_size_t
 
node_idx
,

687 
lô_utf8_size_t
 
chûd_idx1
,

688 
lô_utf8_size_t
 
chûd_idx2
)

690 
lô_utf8_size_t
 
max_idx
 = 
node_idx
;

692 i‡(
chûd_idx1
 < 
num_of_nodes


693 && 
	`jîry_ßve_lôîÆs_com∑ª
 (
lôîÆs
[
max_idx
],ÜôîÆs[
chûd_idx1
]))

695 
max_idx
 = 
chûd_idx1
;

698 i‡(
chûd_idx2
 < 
num_of_nodes


699 && 
	`jîry_ßve_lôîÆs_com∑ª
 (
lôîÆs
[
max_idx
],ÜôîÆs[
chûd_idx2
]))

701 
max_idx
 = 
chûd_idx2
;

704  
max_idx
;

705 
	}
}

711 
	$jîry_ßve_lôîÆs_down_hóp
 (
ecma_°rög_t
 *
lôîÆs
[],

712 
lô_utf8_size_t
 
num_of_nodes
,

713 
lô_utf8_size_t
 
node_idx
)

715 
åue
)

717 
lô_utf8_size_t
 
max_idx
 = 
	`jîry_ßve_lôîÆs_hóp_max
 (
lôîÆs
,

718 
num_of_nodes
,

719 
node_idx
,

720 2 * 
node_idx
 + 1,

721 2 * 
node_idx
 + 2);

722 i‡(
max_idx
 =
node_idx
)

727 
ecma_°rög_t
 *
tmp_°r_p
 = 
lôîÆs
[
node_idx
];

728 
lôîÆs
[
node_idx
] =ÜôîÆs[
max_idx
];

729 
lôîÆs
[
max_idx
] = 
tmp_°r_p
;

731 
node_idx
 = 
max_idx
;

733 
	}
}

739 
	$jîry_ßve_lôîÆs_s‹t
 (
ecma_°rög_t
 *
lôîÆs
[],

740 
lô_utf8_size_t
 
num_of_lôîÆs
)

742 i‡(
num_of_lôîÆs
 < 2)

747 
lô_utf8_size_t
 
lô_idx
 = (
num_of_lôîÆs
 - 2) / 2;

749 
lô_idx
 <(
num_of_lôîÆs
 - 2) / 2)

751 
	`jîry_ßve_lôîÆs_down_hóp
 (
lôîÆs
, 
num_of_lôîÆs
, 
lô_idx
--);

754 
lô_idx
 = 0;Üô_idx < 
num_of_lôîÆs
;Üit_idx++)

756 c⁄° 
lô_utf8_size_t
 
œ°_idx
 = 
num_of_lôîÆs
 - 
lô_idx
 - 1;

758 
ecma_°rög_t
 *
tmp_°r_p
 = 
lôîÆs
[
œ°_idx
];

759 
lôîÆs
[
œ°_idx
] =Üiterals[0];

760 
lôîÆs
[0] = 
tmp_°r_p
;

762 
	`jîry_ßve_lôîÆs_down_hóp
 (
lôîÆs
, 
œ°_idx
, 0);

764 
	}
}

771 
uöt8_t
 *

772 
	$jîry_≠≥nd_ch¨s_to_buf„r
 (
uöt8_t
 *
buf„r_p
,

773 
uöt8_t
 *
buf„r_íd_p
,

774 c⁄° *
ch¨s
,

775 
lô_utf8_size_t
 
°rög_size
)

777 i‡(
buf„r_p
 > 
buf„r_íd_p
)

779  
buf„r_p
;

782 i‡(
°rög_size
 == 0)

784 
°rög_size
 = (
lô_utf8_size_t
Ë
	`°æí
 (
ch¨s
);

787 i‡(
buf„r_p
 + 
°rög_size
 <
buf„r_íd_p
)

789 
	`mem˝y
 ((*Ë
buf„r_p
, 
ch¨s
, 
°rög_size
);

791  
buf„r_p
 + 
°rög_size
;

795  
buf„r_íd_p
 + 1;

796 
	}
}

803 
uöt8_t
 *

804 
	$jîry_≠≥nd_ecma_°rög_to_buf„r
 (
uöt8_t
 *
buf„r_p
,

805 
uöt8_t
 *
buf„r_íd_p
,

806 
ecma_°rög_t
 *
°rög_p
)

808 
uöt8_t
 *
√w_buf„r_p
 = 
NULL
;

810 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
°r_buf„r_p
, 
°r_buf„r_size
);

813 
√w_buf„r_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (
buf„r_p
,

814 
buf„r_íd_p
,

815 (c⁄° *Ë
°r_buf„r_p
,

816 
°r_buf„r_size
);

818 
	`ECMA_FINALIZE_UTF8_STRING
 (
°r_buf„r_p
, 
°r_buf„r_size
);

820  
√w_buf„r_p
;

821 
	}
}

828 
uöt8_t
 *

829 
	$jîry_≠≥nd_numbî_to_buf„r
 (
uöt8_t
 *
buf„r_p
,

830 
uöt8_t
 *
buf„r_íd_p
,

831 
lô_utf8_size_t
 
numbî
)

833 
lô_utf8_byã_t
 
uöt32_to_°r_buf„r
[
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
];

834 
lô_utf8_size_t
 
utf8_°r_size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
numbî
,

835 
uöt32_to_°r_buf„r
,

836 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
);

838 
	`JERRY_ASSERT
 (
utf8_°r_size
 <
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
);

840  
	`jîry_≠≥nd_ch¨s_to_buf„r
 (
buf„r_p
,

841 
buf„r_íd_p
,

842 (c⁄° *Ë
uöt32_to_°r_buf„r
,

843 
utf8_°r_size
);

844 
	}
}

852 
boﬁ


853 
	$ecma_°rög_is_vÆid_idítifõr
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

855 
boﬁ
 
ªsu…
 = 
Ál£
;

857 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
°r_buf„r_p
, 
°r_buf„r_size
);

859 i‡(
	`lô_ch¨_is_idítifõr_°¨t
 (
°r_buf„r_p
))

861 c⁄° 
uöt8_t
 *
°r_°¨t_p
 = 
°r_buf„r_p
;

862 c⁄° 
uöt8_t
 *
°r_íd_p
 = 
°r_buf„r_p
 + 
°r_buf„r_size
;

864 
ªsu…
 = 
åue
;

866 
°r_°¨t_p
 < 
°r_íd_p
)

868 i‡(!
	`lô_ch¨_is_idítifõr_∑π
 (
°r_°¨t_p
))

870 
ªsu…
 = 
Ál£
;

873 
	`lô_utf8_ö¸
 (&
°r_°¨t_p
);

877 
	`ECMA_FINALIZE_UTF8_STRING
 (
°r_buf„r_p
, 
°r_buf„r_size
);

879  
ªsu…
;

880 
	}
}

892 
size_t


893 
	$jîry_∑r£_™d_ßve_lôîÆs
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
,

894 
size_t
 
sour˚_size
,

895 
boﬁ
 
is_°ri˘
,

896 
uöt32_t
 *
buf„r_p
,

897 
size_t
 
buf„r_size
,

898 
boﬁ
 
is_c_f‹m©
)

900 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


901 
ecma_vÆue_t
 
∑r£_°©us
;

902 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

903 
∑r£_°©us
 = 
	`∑r£r_∑r£_s¸ùt
 (
sour˚_p
,

904 
sour˚_size
,

905 
is_°ri˘
,

906 &
byãcode_d©a_p
);

908 c⁄° 
boﬁ
 
îr‹
 = 
	`ECMA_IS_VALUE_ERROR
 (
∑r£_°©us
);

909 
	`ecma_‰ì_vÆue
 (
∑r£_°©us
);

911 i‡(
îr‹
)

916 
	`ecma_byãcode_dîef
 (
byãcode_d©a_p
);

918 
ecma_lô_°‹age_ôem_t
 *
°rög_li°_p
 = 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
);

919 
lô_utf8_size_t
 
lôîÆ_cou¡
 = 0;

922 
°rög_li°_p
 !
NULL
)

924 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

926 i‡(
°rög_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

928 
ecma_°rög_t
 *
lôîÆ_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

929 
°rög_li°_p
->
vÆues
[
i
]);

932 i‡(
	`ecma_gë_°rög_magic
 (
lôîÆ_p
Ë=
LIT_MAGIC_STRING__COUNT


933 && 
	`ecma_°rög_is_vÆid_idítifõr
 (
lôîÆ_p
))

935 
lôîÆ_cou¡
++;

940 
°rög_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
, såög_li°_p->
√xt_˝
);

943 i‡(
lôîÆ_cou¡
 == 0)

948 
uöt8_t
 *
de°ö©i⁄_p
 = (uöt8_à*Ë
buf„r_p
;

950 
uöt8_t
 *c⁄° 
buf„r_°¨t_p
 = 
de°ö©i⁄_p
;

951 
uöt8_t
 *c⁄° 
buf„r_íd_p
 = 
de°ö©i⁄_p
 + 
buf„r_size
;

953 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
lôîÆ_¨øy
, 
lôîÆ_cou¡
, 
ecma_°rög_t
 *);

954 
lô_utf8_size_t
 
lôîÆ_idx
 = 0;

956 
°rög_li°_p
 = 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
);

958 
°rög_li°_p
 !
NULL
)

960 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

962 i‡(
°rög_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

964 
ecma_°rög_t
 *
lôîÆ_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

965 
°rög_li°_p
->
vÆues
[
i
]);

967 i‡(
	`ecma_gë_°rög_magic
 (
lôîÆ_p
Ë=
LIT_MAGIC_STRING__COUNT


968 && 
	`ecma_°rög_is_vÆid_idítifõr
 (
lôîÆ_p
))

970 
lôîÆ_¨øy
[
lôîÆ_idx
++] = 
lôîÆ_p
;

975 
°rög_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
, såög_li°_p->
√xt_˝
);

979 
	`jîry_ßve_lôîÆs_s‹t
 (
lôîÆ_¨øy
, 
lôîÆ_cou¡
);

981 i‡(
is_c_f‹m©
)

984 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (destination_p,

985 
buf„r_íd_p
,

989 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_numbî_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
lôîÆ_cou¡
);

992 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (destination_p,

993 
buf„r_íd_p
,

997 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_numbî_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
lôîÆ_cou¡
);

998 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, "] =\n{\n", 0);

1000 
lô_utf8_size_t
 
i
 = 0; i < 
lôîÆ_cou¡
; i++)

1002 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, " \"", 0);

1003 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ecma_°rög_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
lôîÆ_¨øy
[
i
]);

1004 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, "\"", 0);

1006 i‡(
i
 < 
lôîÆ_cou¡
 - 1)

1008 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, ",", 0);

1011 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, "\n", 0);

1014 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (destination_p,

1015 
buf„r_íd_p
,

1019 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_numbî_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
lôîÆ_cou¡
);

1020 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, "] =\n{\n", 0);

1024 
lô_utf8_size_t
 
i
 = 0; i < 
lôîÆ_cou¡
; i++)

1026 
lô_utf8_size_t
 
°r_size
 = 
	`ecma_°rög_gë_size
 (
lôîÆ_¨øy
[
i
]);

1028 i‡(
is_c_f‹m©
)

1030 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, " ", 0);

1033 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_numbî_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
°r_size
);

1034 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, " ", 0);

1036 i‡(
is_c_f‹m©
)

1039 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, "/* ", 0);

1040 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ecma_°rög_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
lôîÆ_¨øy
[
i
]);

1041 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, " */", 0);

1043 i‡(
i
 < 
lôîÆ_cou¡
 - 1)

1045 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, ",", 0);

1050 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ecma_°rög_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, 
lôîÆ_¨øy
[
i
]);

1053 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, "\n", 0);

1056 i‡(
is_c_f‹m©
)

1058 
de°ö©i⁄_p
 = 
	`jîry_≠≥nd_ch¨s_to_buf„r
 (de°ö©i⁄_p, 
buf„r_íd_p
, (const *) "};\n", 0);

1061 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
lôîÆ_¨øy
);

1063  
de°ö©i⁄_p
 <
buf„r_íd_p
 ? (
size_t
Ë(de°ö©i⁄_∞- 
buf„r_°¨t_p
) : 0;

1065 
	`JERRY_UNUSED
 (
sour˚_p
);

1066 
	`JERRY_UNUSED
 (
sour˚_size
);

1067 
	`JERRY_UNUSED
 (
is_°ri˘
);

1068 
	`JERRY_UNUSED
 (
buf„r_p
);

1069 
	`JERRY_UNUSED
 (
buf„r_size
);

1070 
	`JERRY_UNUSED
 (
is_c_f‹m©
);

1074 
	}
}

	@deps/jerry/jerry-core/api/jerry-snapshot.h

16 #i‚de‡
JERRY_SNAPSHOT_H


17 
	#JERRY_SNAPSHOT_H


	)

19 
	~"ecma-globÆs.h
"

28 
uöt32_t
 
	mvîsi⁄
;

29 
uöt32_t
 
	mlô_èbÀ_off£t
;

30 
uöt32_t
 
	mlô_èbÀ_size
;

31 
uöt32_t
 
	mis_run_globÆ
;

34 } 
	tjîry_¢≠shŸ_hódî_t
;

39 
	#JERRY_SNAPSHOT_VERSION
 (7u)

	)

	@deps/jerry/jerry-core/api/jerry.c

16 
	~<°dio.h
>

18 
	~"debuggî.h
"

19 
	~"ecma-Æloc.h
"

20 
	~"ecma-¨øy-obje˘.h
"

21 
	~"ecma-buûtö-hñ≥rs.h
"

22 
	~"ecma-buûtös.h
"

23 
	~"ecma-ex˚±i⁄s.h
"

24 
	~"ecma-evÆ.h
"

25 
	~"ecma-fun˘i⁄-obje˘.h
"

26 
	~"ecma-gc.h
"

27 
	~"ecma-hñ≥rs.h
"

28 
	~"ecma-öô-föÆize.h
"

29 
	~"ecma-Àx-ív.h
"

30 
	~"ecma-lôîÆ-°‹age.h
"

31 
	~"ecma-obje˘s.h
"

32 
	~"ecma-obje˘s-gíîÆ.h
"

33 
	~"ecma-¥omi£-obje˘.h
"

34 
	~"jc⁄ãxt.h
"

35 
	~"jîrys¸ùt.h
"

36 
	~"jmem.h
"

37 
	~"js-∑r£r.h
"

38 
	~"ª-compûî.h
"

41 
	~"jmem-¥ofûî.h
"

43 
JERRY_STATIC_ASSERT
 ( (
jîry_vÆue_t
Ë= (
ecma_vÆue_t
),

44 
size_of_jîry_vÆue_t_mu°_be_equÆ_to_size_of_ecma_vÆue_t
);

46 
JERRY_STATIC_ASSERT
 ((Ë
ECMA_ERROR_COMMON
 =(Ë
JERRY_ERROR_COMMON


47 && (Ë
ECMA_ERROR_EVAL
 =(Ë
JERRY_ERROR_EVAL


48 && (Ë
ECMA_ERROR_RANGE
 =(Ë
JERRY_ERROR_RANGE


49 && (Ë
ECMA_ERROR_REFERENCE
 =(Ë
JERRY_ERROR_REFERENCE


50 && (Ë
ECMA_ERROR_SYNTAX
 =(Ë
JERRY_ERROR_SYNTAX


51 && (Ë
ECMA_ERROR_TYPE
 =(Ë
JERRY_ERROR_TYPE


52 && (Ë
ECMA_ERROR_URI
 =(Ë
JERRY_ERROR_URI
,

53 
ecma_°™d¨d_îr‹_t_mu°_be_equÆ_to_jîry_îr‹_t
);

55 
JERRY_STATIC_ASSERT
 ((Ë
ECMA_INIT_EMPTY
 =(Ë
JERRY_INIT_EMPTY


56 && (Ë
ECMA_INIT_SHOW_OPCODES
 =(Ë
JERRY_INIT_SHOW_OPCODES


57 && (Ë
ECMA_INIT_SHOW_REGEXP_OPCODES
 =(Ë
JERRY_INIT_SHOW_REGEXP_OPCODES


58 && (Ë
ECMA_INIT_MEM_STATS
 =(Ë
JERRY_INIT_MEM_STATS


59 && (Ë
ECMA_INIT_JMEM_LOGS_ENABLED
 =(Ë
JERRY_INIT_JMEM_LOGS_ENABLED
,

60 
ecma_öô_Êag_t_mu°_be_equÆ_to_jîry_öô_Êag_t
);

62 #i‚de‡
JERRY_JS_PARSER


63 #îr‹ 
JERRY_JS_PARSER
 
mu°
 
be
 
deföed
 
wôh
 0 (
dißbÀd
Ë
‹
 1 (
íabÀd
)

64 #ñi‡!
JERRY_JS_PARSER
 && !
deföed
 (
JERRY_ENABLE_SNAPSHOT_EXEC
)

65 #îr‹ 
JERRY_JS_PARSER
 
‹
 
JERRY_ENABLE_SNAPSHOT_EXEC
 
mu°
 
be
 
deföed
!

68 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


73 c⁄° * c⁄° 
	gîr‹_vÆue_msg_p
 = "argument cannot haveánÉrror flag";

78 c⁄° * c⁄° 
	gwr⁄g_¨gs_msg_p
 = "wrongÅype ofárgument";

103 
ölöe
 
__©å_Æways_ölöe___


104 
	$jîry_as£π_≠i_avaûabÀ
 ()

106 i‡(
	`u∆ikñy
 (!
	`JERRY_CONTEXT
 (
jîry_≠i_avaûabÀ
)))

109 
	`JERRY_UNREACHABLE
 ();

111 
	}
}

116 
ölöe
 
__©å_Æways_ölöe___


117 
	$jîry_make_≠i_avaûabÀ
 ()

119 
	`JERRY_CONTEXT
 (
jîry_≠i_avaûabÀ
Ë
åue
;

120 
	}
}

125 
ölöe
 
__©å_Æways_ölöe___


126 
	$jîry_make_≠i_u«vaûabÀ
 ()

128 
	`JERRY_CONTEXT
 (
jîry_≠i_avaûabÀ
Ë
Ál£
;

129 
	}
}

136 
jîry_vÆue_t


137 
	$jîry_¸óã_ty≥_îr‹
 ()

139 
ecma_obje˘_t
 *
ty≥_îr‹_obj_p
 = 
	`ecma_√w_°™d¨d_îr‹
 (
ECMA_ERROR_TYPE
);

140  
	`ecma_make_îr‹_obj_vÆue
 (
ty≥_îr‹_obj_p
);

141 
	}
}

147 
	$jîry_öô
 (
jîry_öô_Êag_t
 
Êags
)

149 i‡(
	`u∆ikñy
 (
	`JERRY_CONTEXT
 (
jîry_≠i_avaûabÀ
)))

152 
	`JERRY_UNREACHABLE
 ();

156 
	`mem£t
 (&
	`JERRY_CONTEXT
 (
JERRY_CONTEXT_FIRST_MEMBER
), 0,  (
jîry_c⁄ãxt_t
));

158 
	`JERRY_CONTEXT
 (
jîry_öô_Êags
Ë
Êags
;

160 
	`jîry_make_≠i_avaûabÀ
 ();

162 
	`jmem_öô
 ();

163 
	`ecma_öô
 ();

164 
	}
}

170 
	$jîry_˛ónup
 ()

172 
	`jîry_as£π_≠i_avaûabÀ
 ();

175 
	`jîry_wûl_˛ónup
();

177 #ifde‡
JERRY_DEBUGGER


178 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

180 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

184 
jîry_c⁄ãxt_d©a_hódî_t
 *
this_p
 = 
	`JERRY_CONTEXT
 (
c⁄ãxt_d©a_p
), *
√xt_p
 = 
NULL
;

185 
this_p
 !
NULL
;

186 
this_p
 = 
√xt_p
)

188 
√xt_p
 = 
this_p
->next_p;

189 
this_p
->
m™agî_p
->
	`deöô_cb
 (
	`JERRY_CONTEXT_DATA_HEADER_USER_DATA
 (this_p));

190 
	`jmem_hóp_‰ì_block
 (
this_p
,  (
jîry_c⁄ãxt_d©a_hódî_t
Ë+Åhis_p->
m™agî_p
->
byãs_√eded
);

193 
	`ecma_föÆize
 ();

194 
	`jmem_föÆize
 ();

195 
	`jîry_make_≠i_u«vaûabÀ
 ();

196 
	}
}

199 
	$jîry_wûl_˛ónup
() {

201 
	}
}

212 
	$jîry_gë_c⁄ãxt_d©a
 (c⁄° 
jîry_c⁄ãxt_d©a_m™agî_t
 *
m™agî_p
)

214 *
ªt
 = 
NULL
;

215 
jîry_c⁄ãxt_d©a_hódî_t
 *
ôem_p
;

217 
ôem_p
 = 
	`JERRY_CONTEXT
 (
c⁄ãxt_d©a_p
); iãm_∞!
NULL
; iãm_∞ôem_p->
√xt_p
)

219 i‡(
ôem_p
->
m™agî_p
 == manager_p)

221  
	`JERRY_CONTEXT_DATA_HEADER_USER_DATA
 (
ôem_p
);

225 
ôem_p
 = 
	`jmem_hóp_Æloc_block
 ( (
jîry_c⁄ãxt_d©a_hódî_t
Ë+ 
m™agî_p
->
byãs_√eded
);

226 
ôem_p
->
m™agî_p
 = manager_p;

227 
ôem_p
->
√xt_p
 = 
	`JERRY_CONTEXT
 (
c⁄ãxt_d©a_p
);

228 
	`JERRY_CONTEXT
 (
c⁄ãxt_d©a_p
Ë
ôem_p
;

229 
ªt
 = 
	`JERRY_CONTEXT_DATA_HEADER_USER_DATA
 (
ôem_p
);

231 
	`mem£t
 (
ªt
, 0, 
m™agî_p
->
byãs_√eded
);

232 i‡(
m™agî_p
->
öô_cb
)

234 
m™agî_p
->
	`öô_cb
 (
ªt
);

237  
ªt
;

238 
	}
}

244 
	$jîry_ªgi°î_magic_°rögs
 (c⁄° 
jîry_ch¨_±r_t
 *
ex_°r_ôems_p
,

246 
uöt32_t
 
cou¡
,

247 c⁄° 
jîry_Àngth_t
 *
°r_Àngths_p
)

249 
	`jîry_as£π_≠i_avaûabÀ
 ();

251 
	`lô_magic_°rögs_ex_£t
 ((c⁄° 
lô_utf8_byã_t
 **Ë
ex_°r_ôems_p
, 
cou¡
, (c⁄° 
lô_utf8_size_t
 *Ë
°r_Àngths_p
);

252 
	}
}

258 
	$jîry_gë_mem‹y_limôs
 (
size_t
 *
out_d©a_bss_brk_limô_p
,

260 
size_t
 *
out_°ack_limô_p
)

262 *
out_d©a_bss_brk_limô_p
 = 
CONFIG_MEM_HEAP_AREA_SIZE
 + 
CONFIG_MEM_DATA_LIMIT_MINUS_HEAP_SIZE
;

263 *
out_°ack_limô_p
 = 
CONFIG_MEM_STACK_LIMIT
;

264 
	}
}

270 
	$jîry_gc
 ()

272 
	`jîry_as£π_≠i_avaûabÀ
 ();

274 
	`ecma_gc_run
 (
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
);

275 
	}
}

283 
boﬁ


284 
	$jîry_gë_mem‹y_°©s
 (
jîry_hóp_°©s_t
 *
out_°©s_p
)

286 #ifde‡
JMEM_STATS


287 i‡(
out_°©s_p
 =
NULL
)

289  
Ál£
;

292 
jmem_hóp_°©s_t
 
jmem_hóp_°©s
 = {0};

293 
	`jmem_hóp_gë_°©s
 (&
jmem_hóp_°©s
);

295 *
out_°©s_p
 = (
jîry_hóp_°©s_t
)

297 .
vîsi⁄
 = 1,

298 .
size
 = 
jmem_hóp_°©s
.size,

299 .
Æloˇãd_byãs
 = 
jmem_hóp_°©s
.allocated_bytes,

300 .
≥ak_Æloˇãd_byãs
 = 
jmem_hóp_°©s
.peak_allocated_bytes

303  
åue
;

305 
	`JERRY_UNUSED
 (
out_°©s_p
);

306  
Ál£
;

308 
	}
}

316 
boﬁ


317 
	$jîry_run_sim∂e
 (c⁄° 
jîry_ch¨_t
 *
s¸ùt_sour˚_p
,

318 
size_t
 
s¸ùt_sour˚_size
,

319 
jîry_öô_Êag_t
 
Êags
)

321 
boﬁ
 
ªsu…
 = 
Ál£
;

323 
	`jîry_öô
 (
Êags
);

325 
jîry_vÆue_t
 
∑r£_ªt_vÆ
 = 
	`jîry_∑r£
 (
s¸ùt_sour˚_p
, 
s¸ùt_sour˚_size
, 
Ál£
);

327 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
∑r£_ªt_vÆ
))

329 
jîry_vÆue_t
 
run_ªt_vÆ
 = 
	`jîry_run
 (
∑r£_ªt_vÆ
);

331 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
run_ªt_vÆ
))

333 
ªsu…
 = 
åue
;

336 
	`jîry_ªÀa£_vÆue
 (
run_ªt_vÆ
);

339 
	`jîry_ªÀa£_vÆue
 (
∑r£_ªt_vÆ
);

340 
	`jîry_˛ónup
 ();

342  
ªsu…
;

343 
	}
}

352 
jîry_vÆue_t


353 
	$jîry_∑r£
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
,

354 
size_t
 
sour˚_size
,

355 
boﬁ
 
is_°ri˘
)

357 #i‡
JERRY_JS_PARSER


358 
	`jîry_as£π_≠i_avaûabÀ
 ();

360 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

361 
ecma_vÆue_t
 
∑r£_°©us
;

363 
∑r£_°©us
 = 
	`∑r£r_∑r£_s¸ùt
 (
sour˚_p
,

364 
sour˚_size
,

365 
is_°ri˘
,

366 &
byãcode_d©a_p
);

368 i‡(
	`ECMA_IS_VALUE_ERROR
 (
∑r£_°©us
))

370  
∑r£_°©us
;

373 
	`ecma_‰ì_vÆue
 (
∑r£_°©us
);

375 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ecma_gë_globÆ_ívú⁄mít
 ();

376 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_›_¸óã_fun˘i⁄_obje˘
 (
Àx_ív_p
,

377 
byãcode_d©a_p
);

378 
	`ecma_byãcode_dîef
 (
byãcode_d©a_p
);

380  
	`ecma_make_obje˘_vÆue
 (
func_obj_p
);

382 
	`JERRY_UNUSED
 (
sour˚_p
);

383 
	`JERRY_UNUSED
 (
sour˚_size
);

384 
	`JERRY_UNUSED
 (
is_°ri˘
);

386  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("TheÖarser has been disabled."));

388 
	}
}

399 
jîry_vÆue_t


400 
	$jîry_∑r£_«med_ªsour˚
 (c⁄° 
jîry_ch¨_t
 *
«me_p
,

401 
size_t
 
«me_Àngth
,

402 c⁄° 
jîry_ch¨_t
 *
sour˚_p
,

403 
size_t
 
sour˚_size
,

404 
boﬁ
 
is_°ri˘
)

406 #ifde‡
JERRY_DEBUGGER


407 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

409 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_SOURCE_CODE_NAME
,

410 
JERRY_DEBUGGER_NO_SUBTYPE
,

411 
«me_p
,

412 
«me_Àngth
);

415 
	`JERRY_UNUSED
 (
«me_p
);

416 
	`JERRY_UNUSED
 (
«me_Àngth
);

419  
	`jîry_∑r£
 (
sour˚_p
, 
sour˚_size
, 
is_°ri˘
);

420 
	}
}

431 
jîry_vÆue_t


432 
	$jîry_run
 (c⁄° 
jîry_vÆue_t
 
func_vÆ
)

434 
	`jîry_as£π_≠i_avaûabÀ
 ();

436 i‡(!
	`ecma_is_vÆue_obje˘
 (
func_vÆ
))

438  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

441 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
func_vÆ
);

443 i‡(
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë!
ECMA_OBJECT_TYPE_FUNCTION


444 || 
	`ecma_gë_obje˘_is_buûtö
 (
func_obj_p
))

446  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

449 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

451 
ecma_obje˘_t
 *
sc›e_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

452 
ext_func_p
->
u
.
fun˘i⁄
.
sc›e_˝
);

454 i‡(
sc›e_p
 !
	`ecma_gë_globÆ_ívú⁄mít
 ())

456  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

459 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

460 
byãcode_d©a_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (c⁄° 
ecma_compûed_code_t
,

461 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
);

463  
	`vm_run_globÆ
 (
byãcode_d©a_p
);

464 
	}
}

474 
jîry_vÆue_t


475 
	$jîry_evÆ
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
,

476 
size_t
 
sour˚_size
,

477 
boﬁ
 
is_°ri˘
)

479 
	`jîry_as£π_≠i_avaûabÀ
 ();

481  
	`ecma_›_evÆ_ch¨s_buf„r
 ((c⁄° 
lô_utf8_byã_t
 *Ë
sour˚_p
,

482 
sour˚_size
,

483 
Ál£
,

484 
is_°ri˘
);

485 
	}
}

495 
jîry_vÆue_t


496 
	$jîry_run_Æl_íqueued_jobs
 ()

498 
	`jîry_as£π_≠i_avaûabÀ
 ();

500 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


501  
	`ecma_¥o˚ss_Æl_íqueued_jobs
 ();

503  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

505 
	}
}

515 
jîry_vÆue_t


516 
	$jîry_gë_globÆ_obje˘
 ()

518 
	`jîry_as£π_≠i_avaûabÀ
 ();

520  
	`ecma_make_obje˘_vÆue
 (
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_GLOBAL
));

521 
	}
}

529 
boﬁ


530 
	$jîry_vÆue_is_¨øy
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

532 
	`jîry_as£π_≠i_avaûabÀ
 ();

534  (
	`ecma_is_vÆue_obje˘
 (
vÆue
)

535 && 
	`ecma_gë_obje˘_ty≥
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
)Ë=
ECMA_OBJECT_TYPE_ARRAY
);

536 
	}
}

544 
boﬁ


545 
	$jîry_vÆue_is_boﬁón
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

547 
	`jîry_as£π_≠i_avaûabÀ
 ();

549  
	`ecma_is_vÆue_boﬁón
 (
vÆue
);

550 
	}
}

558 
boﬁ


559 
	$jîry_vÆue_is_c⁄°ru˘‹
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

561 
	`jîry_as£π_≠i_avaûabÀ
 ();

563  
	`ecma_is_c⁄°ru˘‹
 (
vÆue
);

564 
	}
}

572 
boﬁ


573 
	$jîry_vÆue_is_fun˘i⁄
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

575 
	`jîry_as£π_≠i_avaûabÀ
 ();

577  
	`ecma_›_is_ˇŒabÀ
 (
vÆue
);

578 
	}
}

586 
boﬁ


587 
	$jîry_vÆue_is_numbî
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

589 
	`jîry_as£π_≠i_avaûabÀ
 ();

591  
	`ecma_is_vÆue_numbî
 (
vÆue
);

592 
	}
}

600 
boﬁ


601 
	$jîry_vÆue_is_nuŒ
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

603 
	`jîry_as£π_≠i_avaûabÀ
 ();

605  
	`ecma_is_vÆue_nuŒ
 (
vÆue
);

606 
	}
}

614 
boﬁ


615 
	$jîry_vÆue_is_obje˘
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

617 
	`jîry_as£π_≠i_avaûabÀ
 ();

619  
	`ecma_is_vÆue_obje˘
 (
vÆue
);

620 
	}
}

622 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


630 
boﬁ


631 
	$jîry_vÆue_is_¥omi£
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

633 
	`jîry_as£π_≠i_avaûabÀ
 ();

635  (
	`ecma_is_vÆue_obje˘
 (
vÆue
)

636 && 
	`ecma_is_¥omi£
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
)));

637 
	}
}

647 
boﬁ


648 
	$jîry_vÆue_is_°rög
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

650 
	`jîry_as£π_≠i_avaûabÀ
 ();

652  
	`ecma_is_vÆue_°rög
 (
vÆue
);

653 
	}
}

661 
boﬁ


662 
	$jîry_vÆue_is_undeföed
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

664 
	`jîry_as£π_≠i_avaûabÀ
 ();

666  
	`ecma_is_vÆue_undeföed
 (
vÆue
);

667 
	}
}

675 
boﬁ
 
	$jîry_is_„©uª_íabÀd
 (c⁄° 
jîry_„©uª_t
 
„©uª
)

677 
	`JERRY_ASSERT
 (
„©uª
 < 
JERRY_FEATURE__COUNT
);

679  (
Ál£


680 #ifde‡
JERRY_CPOINTER_32_BIT


681 || 
„©uª
 =
JERRY_FEATURE_CPOINTER_32_BIT


683 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


684 || 
„©uª
 =
JERRY_FEATURE_ERROR_MESSAGES


686 #i‡
JERRY_JS_PARSER


687 || 
„©uª
 =
JERRY_FEATURE_JS_PARSER


689 #ifde‡
JMEM_STATS


690 || 
„©uª
 =
JERRY_FEATURE_MEM_STATS


692 #ifde‡
PARSER_DUMP_BYTE_CODE


693 || 
„©uª
 =
JERRY_FEATURE_PARSER_DUMP


695 #ifde‡
REGEXP_DUMP_BYTE_CODE


696 || 
„©uª
 =
JERRY_FEATURE_REGEXP_DUMP


698 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


699 || 
„©uª
 =
JERRY_FEATURE_SNAPSHOT_SAVE


701 #ifde‡
JERRY_ENABLE_SNAPSHOT_EXEC


702 || 
„©uª
 =
JERRY_FEATURE_SNAPSHOT_EXEC


704 #ifde‡
JERRY_DEBUGGER


705 || 
„©uª
 =
JERRY_FEATURE_DEBUGGER


707 #ifde‡
JERRY_VM_EXEC_STOP


708 || 
„©uª
 =
JERRY_FEATURE_VM_EXEC_STOP


711 
	}
}

719 
boﬁ


720 
	$jîry_vÆue_has_îr‹_Êag
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

722 
	`jîry_as£π_≠i_avaûabÀ
 ();

724  
	`ECMA_IS_VALUE_ERROR
 (
vÆue
);

725 
	}
}

731 
	$jîry_vÆue_˛ór_îr‹_Êag
 (
jîry_vÆue_t
 *
vÆue_p
)

733 
	`jîry_as£π_≠i_avaûabÀ
 ();

735 *
vÆue_p
 = (*vÆue_pË& ~
ECMA_VALUE_ERROR_FLAG
;

736 
	}
}

742 
	$jîry_vÆue_£t_îr‹_Êag
 (
jîry_vÆue_t
 *
vÆue_p
)

744 
	`jîry_as£π_≠i_avaûabÀ
 ();

746 *
vÆue_p
 = (*vÆue_pË| 
ECMA_VALUE_ERROR_FLAG
;

747 
	}
}

754 
boﬁ


755 
	$jîry_gë_boﬁón_vÆue
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

757 
	`jîry_as£π_≠i_avaûabÀ
 ();

759 i‡(!
	`jîry_vÆue_is_boﬁón
 (
vÆue
))

761  
Ál£
;

764  
	`ecma_is_vÆue_åue
 (
vÆue
);

765 
	}
}

773 
	$jîry_gë_numbî_vÆue
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

775 
	`jîry_as£π_≠i_avaûabÀ
 ();

777 i‡(!
	`jîry_vÆue_is_numbî
 (
vÆue
))

782  (Ë
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue
);

783 
	}
}

791 
boﬁ


792 
	$jîry_vÆue_to_boﬁón
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

794 
	`jîry_as£π_≠i_avaûabÀ
 ();

796 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

798  
Ál£
;

801  
	`ecma_›_to_boﬁón
 (
vÆue
);

802 
	}
}

813 
jîry_vÆue_t


814 
	$jîry_vÆue_to_numbî
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

816 
	`jîry_as£π_≠i_avaûabÀ
 ();

818 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

820  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
îr‹_vÆue_msg_p
));

823  
	`ecma_›_to_numbî
 (
vÆue
);

824 
	}
}

835 
jîry_vÆue_t


836 
	$jîry_vÆue_to_obje˘
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

838 
	`jîry_as£π_≠i_avaûabÀ
 ();

840 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

842  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
îr‹_vÆue_msg_p
));

845  
	`ecma_›_to_obje˘
 (
vÆue
);

846 
	}
}

857 
jîry_vÆue_t


858 
	$jîry_vÆue_to_¥imôive
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

860 
	`jîry_as£π_≠i_avaûabÀ
 ();

862 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

864  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
îr‹_vÆue_msg_p
));

867  
	`ecma_›_to_¥imôive
 (
vÆue
, 
ECMA_PREFERRED_TYPE_NO
);

868 
	}
}

879 
jîry_vÆue_t


880 
	$jîry_vÆue_to_°rög
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

883 
	`jîry_as£π_≠i_avaûabÀ
 ();

885 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

887  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
îr‹_vÆue_msg_p
));

890  
	`ecma_›_to_°rög
 (
vÆue
);

891 
	}
}

901 
jîry_vÆue_t


902 
	$jîry_acquúe_vÆue
 (
jîry_vÆue_t
 
vÆue
)

904 
	`jîry_as£π_≠i_avaûabÀ
 ();

906  
	`ecma_c›y_vÆue
 (
vÆue
);

907 
	}
}

913 
	$jîry_ªÀa£_vÆue
 (
jîry_vÆue_t
 
vÆue
)

915 
	`jîry_as£π_≠i_avaûabÀ
 ();

917 
	`ecma_‰ì_vÆue
 (
vÆue
);

918 
	}
}

928 
jîry_vÆue_t


929 
	$jîry_¸óã_¨øy
 (
uöt32_t
 
size
)

931 
	`jîry_as£π_≠i_avaûabÀ
 ();

933 
ecma_vÆue_t
 
¨øy_Àngth
 = 
	`ecma_make_uöt32_vÆue
 (
size
);

935 
jîry_Àngth_t
 
¨gumít_size
 = 1;

936 
ecma_vÆue_t
 
¨øy_vÆue
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (&
¨øy_Àngth
, 
¨gumít_size
, 
åue
);

937 
	`ecma_‰ì_vÆue
 (
¨øy_Àngth
);

939 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
¨øy_vÆue
));

941  
¨øy_vÆue
;

942 
	}
}

949 
jîry_vÆue_t


950 
	$jîry_¸óã_boﬁón
 (
boﬁ
 
vÆue
)

952 
	`jîry_as£π_≠i_avaûabÀ
 ();

954  
	`ecma_make_boﬁón_vÆue
 (
vÆue
);

955 
	}
}

966 
jîry_vÆue_t


967 
	$jîry_¸óã_îr‹
 (
jîry_îr‹_t
 
îr‹_ty≥
,

968 c⁄° 
jîry_ch¨_t
 *
mesßge_p
)

971  
	`jîry_¸óã_îr‹_sz
 (
îr‹_ty≥
,

972 (
lô_utf8_byã_t
 *Ë
mesßge_p
,

973 
	`lô_zt_utf8_°rög_size
 (
mesßge_p
));

974 
	}
}

985 
jîry_vÆue_t


986 
	$jîry_¸óã_îr‹_sz
 (
jîry_îr‹_t
 
îr‹_ty≥
,

987 c⁄° 
jîry_ch¨_t
 *
mesßge_p
,

989 
jîry_size_t
 
mesßge_size
)

991 
	`jîry_as£π_≠i_avaûabÀ
 ();

993 i‡(
mesßge_p
 =
NULL
 || 
mesßge_size
 == 0)

995  
	`ecma_make_îr‹_obj_vÆue
 (
	`ecma_√w_°™d¨d_îr‹
 ((
ecma_°™d¨d_îr‹_t
Ë
îr‹_ty≥
));

999 
ecma_°rög_t
 *
mesßge_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((
lô_utf8_byã_t
 *Ë
mesßge_p
,

1000 (
lô_utf8_size_t
Ë
mesßge_size
);

1002 
ecma_obje˘_t
 *
îr‹_obje˘_p
 = 
	`ecma_√w_°™d¨d_îr‹_wôh_mesßge
 ((
ecma_°™d¨d_îr‹_t
Ë
îr‹_ty≥
,

1003 
mesßge_°rög_p
);

1005 
	`ecma_dîef_ecma_°rög
 (
mesßge_°rög_p
);

1007  
	`ecma_make_îr‹_obj_vÆue
 (
îr‹_obje˘_p
);

1009 
	}
}

1019 
jîry_vÆue_t


1020 
	$jîry_¸óã_exã∫Æ_fun˘i⁄
 (
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

1023 
	`jîry_as£π_≠i_avaûabÀ
 ();

1025 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_›_¸óã_exã∫Æ_fun˘i⁄_obje˘
 (
h™dÀr_p
);

1026  
	`ecma_make_obje˘_vÆue
 (
func_obj_p
);

1027 
	}
}

1037 
jîry_vÆue_t


1038 
	$jîry_¸óã_numbî
 (
vÆue
)

1040 
	`jîry_as£π_≠i_avaûabÀ
 ();

1042  
	`ecma_make_numbî_vÆue
 ((
ecma_numbî_t
Ë
vÆue
);

1043 
	}
}

1053 
jîry_vÆue_t


1054 
	$jîry_¸óã_numbî_öföôy
 (
boﬁ
 
sign
)

1057 
	`jîry_as£π_≠i_avaûabÀ
 ();

1059  
	`ecma_make_numbî_vÆue
 (
	`ecma_numbî_make_öföôy
 (
sign
));

1060 
	}
}

1070 
jîry_vÆue_t


1071 
	$jîry_¸óã_numbî_«n
 ()

1073 
	`jîry_as£π_≠i_avaûabÀ
 ();

1075  
	`ecma_make_«n_vÆue
 ();

1076 
	}
}

1083 
jîry_vÆue_t


1084 
	$jîry_¸óã_nuŒ
 ()

1086 
	`jîry_as£π_≠i_avaûabÀ
 ();

1088  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

1089 
	}
}

1099 
jîry_vÆue_t


1100 
	$jîry_¸óã_obje˘
 ()

1102 
	`jîry_as£π_≠i_avaûabÀ
 ();

1104  
	`ecma_make_obje˘_vÆue
 (
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ());

1105 
	}
}

1107 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


1118 
jîry_vÆue_t


1119 
	$jîry_¸óã_¥omi£
 ()

1121 
	`jîry_as£π_≠i_avaûabÀ
 ();

1123  
	`ecma_›_¸óã_¥omi£_obje˘
 (
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
), 
ECMA_PROMISE_EXECUTOR_EMPTY
);

1124 
	}
}

1136 
jîry_vÆue_t


1137 
	$jîry_¸óã_°rög_‰om_utf8
 (c⁄° 
jîry_ch¨_t
 *
°r_p
)

1139  
	`jîry_¸óã_°rög_sz_‰om_utf8
 (
°r_p
, 
	`lô_zt_utf8_°rög_size
 ((
lô_utf8_byã_t
 *) str_p));

1140 
	}
}

1150 
jîry_vÆue_t


1151 
	$jîry_¸óã_°rög_sz_‰om_utf8
 (c⁄° 
jîry_ch¨_t
 *
°r_p
,

1152 
jîry_size_t
 
°r_size
)

1154 
	`jîry_as£π_≠i_avaûabÀ
 ();

1156 
ecma_°rög_t
 *
ecma_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8_c⁄vîãd_to_˚su8
 ((
lô_utf8_byã_t
 *Ë
°r_p
,

1157 (
lô_utf8_size_t
Ë
°r_size
);

1159  
	`ecma_make_°rög_vÆue
 (
ecma_°r_p
);

1160 
	}
}

1170 
jîry_vÆue_t


1171 
	$jîry_¸óã_°rög
 (c⁄° 
jîry_ch¨_t
 *
°r_p
)

1173  
	`jîry_¸óã_°rög_sz
 (
°r_p
, 
	`lô_zt_utf8_°rög_size
 ((
lô_utf8_byã_t
 *) str_p));

1174 
	}
}

1184 
jîry_vÆue_t


1185 
	$jîry_¸óã_°rög_sz
 (c⁄° 
jîry_ch¨_t
 *
°r_p
,

1186 
jîry_size_t
 
°r_size
)

1188 
	`jîry_as£π_≠i_avaûabÀ
 ();

1190 
ecma_°rög_t
 *
ecma_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((
lô_utf8_byã_t
 *Ë
°r_p
,

1191 (
lô_utf8_size_t
Ë
°r_size
);

1192  
	`ecma_make_°rög_vÆue
 (
ecma_°r_p
);

1193 
	}
}

1200 
jîry_vÆue_t


1201 
	$jîry_¸óã_undeföed
 ()

1203 
	`jîry_as£π_≠i_avaûabÀ
 ();

1205  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1206 
	}
}

1216 
uöt32_t


1217 
	$jîry_gë_¨øy_Àngth
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

1219 
	`jîry_as£π_≠i_avaûabÀ
 ();

1221 i‡(!
	`jîry_vÆue_is_¨øy
 (
vÆue
))

1226 
jîry_Àngth_t
 
Àngth
 = 0;

1227 
ecma_°rög_t
 
magic_°rög_Àngth
;

1228 
	`ecma_öô_ecma_Àngth_°rög
 (&
magic_°rög_Àngth
);

1230 
ecma_vÆue_t
 
Àn_vÆue
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
),

1231 &
magic_°rög_Àngth
);

1233 
Àngth
 = 
	`ecma_numbî_to_uöt32
 (
	`ecma_gë_numbî_‰om_vÆue
 (
Àn_vÆue
));

1234 
	`ecma_‰ì_vÆue
 (
Àn_vÆue
);

1236  
Àngth
;

1237 
	}
}

1247 
jîry_size_t


1248 
	$jîry_gë_°rög_size
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

1250 
	`jîry_as£π_≠i_avaûabÀ
 ();

1252 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
))

1257  
	`ecma_°rög_gë_size
 (
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
));

1258 
	}
}

1268 
jîry_size_t


1269 
	$jîry_gë_utf8_°rög_size
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

1271 
	`jîry_as£π_≠i_avaûabÀ
 ();

1273 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
))

1278  
	`ecma_°rög_gë_utf8_size
 (
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
));

1279 
	}
}

1289 
jîry_Àngth_t


1290 
	$jîry_gë_°rög_Àngth
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

1292 
	`jîry_as£π_≠i_avaûabÀ
 ();

1294 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
))

1299  
	`ecma_°rög_gë_Àngth
 (
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
));

1300 
	}
}

1310 
jîry_Àngth_t


1311 
	$jîry_gë_utf8_°rög_Àngth
 (c⁄° 
jîry_vÆue_t
 
vÆue
)

1313 
	`jîry_as£π_≠i_avaûabÀ
 ();

1315 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
))

1320  
	`ecma_°rög_gë_utf8_Àngth
 (
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
));

1321 
	}
}

1333 
jîry_size_t


1334 
	$jîry_°rög_to_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

1335 
jîry_ch¨_t
 *
buf„r_p
,

1336 
jîry_size_t
 
buf„r_size
)

1338 
	`jîry_as£π_≠i_avaûabÀ
 ();

1340 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
Ë|| 
buf„r_p
 =
NULL
)

1345 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

1347 i‡(
	`ecma_°rög_gë_size
 (
°r_p
Ë> 
buf„r_size
)

1352  
	`ecma_°rög_c›y_to_˚su8_buf„r
 (
°r_p
,

1353 (
lô_utf8_byã_t
 *Ë
buf„r_p
,

1354 
buf„r_size
);

1355 
	}
}

1367 
jîry_size_t


1368 
	$jîry_°rög_to_utf8_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

1369 
jîry_ch¨_t
 *
buf„r_p
,

1370 
jîry_size_t
 
buf„r_size
)

1372 
	`jîry_as£π_≠i_avaûabÀ
 ();

1374 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
Ë|| 
buf„r_p
 =
NULL
)

1379 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

1381 i‡(
	`ecma_°rög_gë_utf8_size
 (
°r_p
Ë> 
buf„r_size
)

1386  
	`ecma_°rög_c›y_to_utf8_buf„r
 (
°r_p
,

1387 (
lô_utf8_byã_t
 *Ë
buf„r_p
,

1388 
buf„r_size
);

1389 
	}
}

1402 
jîry_size_t


1403 
	$jîry_sub°rög_to_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

1404 
jîry_Àngth_t
 
°¨t_pos
,

1405 
jîry_Àngth_t
 
íd_pos
,

1406 
jîry_ch¨_t
 *
buf„r_p
,

1407 
jîry_size_t
 
buf„r_size
)

1409 
	`jîry_as£π_≠i_avaûabÀ
 ();

1411 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
Ë|| 
buf„r_p
 =
NULL
)

1416 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

1418  
	`ecma_sub°rög_c›y_to_˚su8_buf„r
 (
°r_p
,

1419 
°¨t_pos
,

1420 
íd_pos
,

1421 (
lô_utf8_byã_t
 *Ë
buf„r_p
,

1422 
buf„r_size
);

1423 
	}
}

1436 
jîry_size_t


1437 
	$jîry_sub°rög_to_utf8_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

1438 
jîry_Àngth_t
 
°¨t_pos
,

1439 
jîry_Àngth_t
 
íd_pos
,

1440 
jîry_ch¨_t
 *
buf„r_p
,

1441 
jîry_size_t
 
buf„r_size
)

1443 
	`jîry_as£π_≠i_avaûabÀ
 ();

1445 i‡(!
	`ecma_is_vÆue_°rög
 (
vÆue
Ë|| 
buf„r_p
 =
NULL
)

1450 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

1452  
	`ecma_sub°rög_c›y_to_utf8_buf„r
 (
°r_p
,

1453 
°¨t_pos
,

1454 
íd_pos
,

1455 (
lô_utf8_byã_t
 *Ë
buf„r_p
,

1456 
buf„r_size
);

1457 
	}
}

1465 
jîry_vÆue_t


1466 
	$jîry_has_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1467 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
)

1469 
	`jîry_as£π_≠i_avaûabÀ
 ();

1471 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1472 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1474  
Ál£
;

1477 
boﬁ
 
has_¥›îty
 = 
	`ecma_›_obje˘_has_¥›îty
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1478 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
));

1480  
	`ecma_make_boﬁón_vÆue
 (
has_¥›îty
);

1481 
	}
}

1489 
jîry_vÆue_t


1490 
	$jîry_has_own_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1491 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
)

1493 
	`jîry_as£π_≠i_avaûabÀ
 ();

1495 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1496 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1498  
Ál£
;

1501 
boﬁ
 
has_¥›îty
 = 
	`ecma_›_obje˘_has_own_¥›îty
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1502 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
));

1504  
	`ecma_make_boﬁón_vÆue
 (
has_¥›îty
);

1505 
	}
}

1513 
boﬁ


1514 
	$jîry_dñëe_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1515 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
)

1517 
	`jîry_as£π_≠i_avaûabÀ
 ();

1519 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1520 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1522  
Ál£
;

1525 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_obje˘_dñëe
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1526 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
),

1527 
Ál£
);

1528  
	`ecma_is_vÆue_åue
 (
ªt_vÆue
);

1529 
	}
}

1537 
boﬁ


1538 
	$jîry_dñëe_¥›îty_by_ödex
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1539 
uöt32_t
 
ödex
)

1541 
	`jîry_as£π_≠i_avaûabÀ
 ();

1543 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

1545  
Ál£
;

1548 
ecma_°rög_t
 
°r_idx
;

1549 
	`ecma_öô_ecma_°rög_‰om_uöt32
 (&
°r_idx
, 
ödex
);

1550 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_obje˘_dñëe
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1551 &
°r_idx
,

1552 
Ál£
);

1553  
	`ecma_is_vÆue_åue
 (
ªt_vÆue
);

1554 
	}
}

1565 
jîry_vÆue_t


1566 
	$jîry_gë_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1567 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
)

1569 
	`jîry_as£π_≠i_avaûabÀ
 ();

1571 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1572 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1574  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1577  
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1578 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
));

1579 
	}
}

1590 
jîry_vÆue_t


1591 
	$jîry_gë_¥›îty_by_ödex
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1592 
uöt32_t
 
ödex
)

1594 
	`jîry_as£π_≠i_avaûabÀ
 ();

1596 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

1598  
	`jîry_¸óã_ty≥_îr‹
 ();

1601 
ecma_°rög_t
 
°r_idx
;

1602 
	`ecma_öô_ecma_°rög_‰om_uöt32
 (&
°r_idx
, 
ödex
);

1603 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
), &
°r_idx
);

1605  
ªt_vÆue
;

1606 
	}
}

1617 
jîry_vÆue_t


1618 
	$jîry_£t_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1619 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
,

1620 c⁄° 
jîry_vÆue_t
 
vÆue_to_£t
)

1622 
	`jîry_as£π_≠i_avaûabÀ
 ();

1624 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue_to_£t
)

1625 || !
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1626 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1628  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1631  
	`ecma_›_obje˘_put
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1632 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
),

1633 
vÆue_to_£t
,

1634 
åue
);

1635 
	}
}

1646 
jîry_vÆue_t


1647 
	$jîry_£t_¥›îty_by_ödex
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1648 
uöt32_t
 
ödex
,

1649 c⁄° 
jîry_vÆue_t
 
vÆue_to_£t
)

1651 
	`jîry_as£π_≠i_avaûabÀ
 ();

1653 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue_to_£t
)

1654 || !
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

1656  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1659 
ecma_°rög_t
 *
°r_idx_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë
ödex
);

1660 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_obje˘_put
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1661 
°r_idx_p
,

1662 
vÆue_to_£t
,

1663 
åue
);

1664 
	`ecma_dîef_ecma_°rög
 (
°r_idx_p
);

1666  
ªt_vÆue
;

1667 
	}
}

1673 
	$jîry_öô_¥›îty_des¸ùt‹_fõlds
 (
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
)

1675 
¥›_desc_p
->
is_vÆue_deföed
 = 
Ál£
;

1676 
¥›_desc_p
->
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1677 
¥›_desc_p
->
is_wrôabÀ_deföed
 = 
Ál£
;

1678 
¥›_desc_p
->
is_wrôabÀ
 = 
Ál£
;

1679 
¥›_desc_p
->
is_íumîabÀ_deföed
 = 
Ál£
;

1680 
¥›_desc_p
->
is_íumîabÀ
 = 
Ál£
;

1681 
¥›_desc_p
->
is_c⁄figuøbÀ_deföed
 = 
Ál£
;

1682 
¥›_desc_p
->
is_c⁄figuøbÀ
 = 
Ál£
;

1683 
¥›_desc_p
->
is_gë_deföed
 = 
Ál£
;

1684 
¥›_desc_p
->
gëãr
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1685 
¥›_desc_p
->
is_£t_deföed
 = 
Ál£
;

1686 
¥›_desc_p
->
£âî
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1687 
	}
}

1698 
jîry_vÆue_t


1699 
	$jîry_deföe_own_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1700 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
,

1701 c⁄° 
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
)

1703 
	`jîry_as£π_≠i_avaûabÀ
 ();

1705 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1706 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1708  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1711 i‡((
¥›_desc_p
->
is_wrôabÀ_deföed
 ||Ör›_desc_p->
is_vÆue_deföed
)

1712 && (
¥›_desc_p
->
is_gë_deföed
 ||Ör›_desc_p->
is_£t_deföed
))

1714  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1717 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

1719 
¥›_desc
.
is_íumîabÀ_deföed
 = 
¥›_desc_p
->is_enumerable_defined;

1720 
¥›_desc
.
is_íumîabÀ
 = 
¥›_desc_p
->
is_íumîabÀ_deföed
 ?Ör›_desc_p->is_íumîabÀ : 
Ál£
;

1722 
¥›_desc
.
is_c⁄figuøbÀ_deföed
 = 
¥›_desc_p
->is_configurable_defined;

1723 
¥›_desc
.
is_c⁄figuøbÀ
 = 
¥›_desc_p
->
is_c⁄figuøbÀ_deföed
 ?Ör›_desc_p->is_c⁄figuøbÀ : 
Ál£
;

1726 
¥›_desc
.
is_vÆue_deföed
 = 
¥›_desc_p
->is_value_defined;

1728 i‡(
¥›_desc_p
->
is_vÆue_deföed
)

1730 i‡(
	`ECMA_IS_VALUE_ERROR
 (
¥›_desc_p
->
vÆue
))

1732  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1735 
¥›_desc
.
vÆue
 = 
¥›_desc_p
->value;

1738 
¥›_desc
.
is_wrôabÀ_deföed
 = 
¥›_desc_p
->is_writable_defined;

1739 
¥›_desc
.
is_wrôabÀ
 = 
¥›_desc_p
->
is_wrôabÀ_deföed
 ?Ör›_desc_p->is_wrôabÀ : 
Ál£
;

1742 i‡(
¥›_desc_p
->
is_gë_deföed
)

1744 
ecma_vÆue_t
 
gëãr
 = 
¥›_desc_p
->getter;

1745 
¥›_desc
.
is_gë_deföed
 = 
åue
;

1747 i‡(
	`ECMA_IS_VALUE_ERROR
 (
gëãr
))

1749  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1752 i‡(
	`ecma_›_is_ˇŒabÀ
 (
gëãr
))

1754 
¥›_desc
.
gë_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
gëãr
);

1756 i‡(!
	`ecma_is_vÆue_nuŒ
 (
gëãr
))

1758  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1762 i‡(
¥›_desc_p
->
is_£t_deföed
)

1764 
ecma_vÆue_t
 
£âî
 = 
¥›_desc_p
->setter;

1765 
¥›_desc
.
is_£t_deföed
 = 
åue
;

1767 i‡(
	`ECMA_IS_VALUE_ERROR
 (
£âî
))

1769  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1772 i‡(
	`ecma_›_is_ˇŒabÀ
 (
£âî
))

1774 
¥›_desc
.
£t_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
£âî
);

1776 i‡(!
	`ecma_is_vÆue_nuŒ
 (
£âî
))

1778  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1782  
	`ecma_›_obje˘_deföe_own_¥›îty
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1783 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
),

1784 &
¥›_desc
,

1785 
åue
);

1786 
	}
}

1794 
boﬁ


1795 
	$jîry_gë_own_¥›îty_des¸ùt‹
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

1796 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
,

1797 
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
)

1799 
	`jîry_as£π_≠i_avaûabÀ
 ();

1801 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

1802 || !
	`ecma_is_vÆue_°rög
 (
¥›_«me_vÆ
))

1804  
Ál£
;

1807 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
;

1809 i‡(!
	`ecma_›_obje˘_gë_own_¥›îty_des¸ùt‹
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

1810 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_«me_vÆ
),

1811 &
¥›_desc
))

1813  
Ál£
;

1816 
¥›_desc_p
->
is_c⁄figuøbÀ_deföed
 = 
åue
;

1817 
¥›_desc_p
->
is_c⁄figuøbÀ
 = 
¥›_desc
.is_configurable;

1818 
¥›_desc_p
->
is_íumîabÀ_deföed
 = 
åue
;

1819 
¥›_desc_p
->
is_íumîabÀ
 = 
¥›_desc
.is_enumerable;

1821 
¥›_desc_p
->
is_wrôabÀ_deföed
 = 
¥›_desc
.is_writable_defined;

1822 
¥›_desc_p
->
is_wrôabÀ
 = 
¥›_desc
.
is_wrôabÀ_deföed
 ?Ör›_desc.is_wrôabÀ : 
Ál£
;

1824 
¥›_desc_p
->
is_vÆue_deföed
 = 
¥›_desc
.is_value_defined;

1825 
¥›_desc_p
->
is_gë_deföed
 = 
¥›_desc
.is_get_defined;

1826 
¥›_desc_p
->
is_£t_deföed
 = 
¥›_desc
.is_set_defined;

1828 
¥›_desc_p
->
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1829 
¥›_desc_p
->
gëãr
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1830 
¥›_desc_p
->
£âî
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1832 i‡(
¥›_desc
.
is_vÆue_deföed
)

1834 
¥›_desc_p
->
vÆue
 = 
¥›_desc
.value;

1837 i‡(
¥›_desc
.
is_gë_deföed
)

1839 i‡(
¥›_desc
.
gë_p
 !
NULL
)

1841 
¥›_desc_p
->
gëãr
 = 
	`ecma_make_obje˘_vÆue
 (
¥›_desc
.
gë_p
);

1845 
¥›_desc_p
->
gëãr
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

1849 i‡(
¥›_desc
.
is_£t_deföed
)

1851 i‡(
¥›_desc
.
£t_p
 !
NULL
)

1853 
¥›_desc_p
->
£âî
 = 
	`ecma_make_obje˘_vÆue
 (
¥›_desc
.
£t_p
);

1857 
¥›_desc_p
->
£âî
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

1861  
åue
;

1862 
	}
}

1868 
	$jîry_‰ì_¥›îty_des¸ùt‹_fõlds
 (c⁄° 
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
)

1870 i‡(
¥›_desc_p
->
is_vÆue_deföed
)

1872 
	`ecma_‰ì_vÆue
 (
¥›_desc_p
->
vÆue
);

1875 i‡(
¥›_desc_p
->
is_gë_deföed
)

1877 
	`ecma_‰ì_vÆue
 (
¥›_desc_p
->
gëãr
);

1880 i‡(
¥›_desc_p
->
is_£t_deföed
)

1882 
	`ecma_‰ì_vÆue
 (
¥›_desc_p
->
£âî
);

1884 
	}
}

1896 
jîry_vÆue_t


1897 
	$jîry_övoke_fun˘i⁄
 (
boﬁ
 
is_övoke_as_c⁄°ru˘‹
,

1900 c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

1901 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

1902 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

1903 c⁄° 
jîry_size_t
 
¨gs_cou¡
)

1905 
	`JERRY_ASSERT
 (
¨gs_cou¡
 =0 || 
¨gs_p
 !
NULL
);

1907 i‡(
	`ECMA_IS_VALUE_ERROR
 (
func_obj_vÆ
)

1908 || 
	`ECMA_IS_VALUE_ERROR
 (
this_vÆ
))

1910  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
îr‹_vÆue_msg_p
));

1913 
uöt32_t
 
i
 = 0; i < 
¨gs_cou¡
; i++)

1915 i‡(
	`ECMA_IS_VALUE_ERROR
 (
¨gs_p
[
i
]))

1917  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
îr‹_vÆue_msg_p
));

1921 i‡(
is_övoke_as_c⁄°ru˘‹
)

1923 
	`JERRY_ASSERT
 (
	`jîry_vÆue_is_c⁄°ru˘‹
 (
func_obj_vÆ
));

1925  
	`ecma_›_fun˘i⁄_c⁄°ru˘
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
func_obj_vÆ
),

1926 
¨gs_p
,

1927 
¨gs_cou¡
);

1931 
	`JERRY_ASSERT
 (
	`jîry_vÆue_is_fun˘i⁄
 (
func_obj_vÆ
));

1933  
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
func_obj_vÆ
),

1934 
this_vÆ
,

1935 
¨gs_p
,

1936 
¨gs_cou¡
);

1938 
	}
}

1949 
jîry_vÆue_t


1950 
	$jîry_ˇŒ_fun˘i⁄
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

1951 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

1952 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

1953 
jîry_size_t
 
¨gs_cou¡
)

1955 
	`jîry_as£π_≠i_avaûabÀ
 ();

1957 i‡(
	`jîry_vÆue_is_fun˘i⁄
 (
func_obj_vÆ
))

1959  
	`jîry_övoke_fun˘i⁄
 (
Ál£
, 
func_obj_vÆ
, 
this_vÆ
, 
¨gs_p
, 
¨gs_cou¡
);

1962  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1963 
	}
}

1974 
jîry_vÆue_t


1975 
	$jîry_c⁄°ru˘_obje˘
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

1976 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

1978 
jîry_size_t
 
¨gs_cou¡
)

1980 
	`jîry_as£π_≠i_avaûabÀ
 ();

1982 i‡(
	`jîry_vÆue_is_c⁄°ru˘‹
 (
func_obj_vÆ
))

1984 
ecma_vÆue_t
 
this_vÆ
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1985  
	`jîry_övoke_fun˘i⁄
 (
åue
, 
func_obj_vÆ
, 
this_vÆ
, 
¨gs_p
, 
¨gs_cou¡
);

1988  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

1989 
	}
}

2000 
jîry_vÆue_t


2001 
	$jîry_gë_obje˘_keys
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
)

2003 
	`jîry_as£π_≠i_avaûabÀ
 ();

2005 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

2007  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

2010  
	`ecma_buûtö_hñ≥r_obje˘_gë_¥›îtõs
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
), 
åue
);

2011 
	}
}

2019 
jîry_vÆue_t


2020 
	$jîry_gë_¥ŸŸy≥
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
)

2022 
	`jîry_as£π_≠i_avaûabÀ
 ();

2024 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

2026  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

2029 
ecma_obje˘_t
 *
¥Ÿo_obj_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
));

2031 i‡(
¥Ÿo_obj_p
 =
NULL
)

2033  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

2036  
	`ecma_make_obje˘_vÆue
 (
¥Ÿo_obj_p
);

2037 
	}
}

2045 
jîry_vÆue_t


2046 
	$jîry_£t_¥ŸŸy≥
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

2047 c⁄° 
jîry_vÆue_t
 
¥Ÿo_obj_vÆ
)

2049 
	`jîry_as£π_≠i_avaûabÀ
 ();

2051 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
)

2052 || 
	`ECMA_IS_VALUE_ERROR
 (
¥Ÿo_obj_vÆ
)

2053 || (!
	`ecma_is_vÆue_obje˘
 (
¥Ÿo_obj_vÆ
Ë&& !
	`ecma_is_vÆue_nuŒ
 (proto_obj_val)))

2055  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

2058 i‡(
	`ecma_is_vÆue_nuŒ
 (
¥Ÿo_obj_vÆ
))

2060 
	`ECMA_SET_POINTER
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
)->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
, 
NULL
);

2064 
	`ECMA_SET_POINTER
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
)->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
,

2065 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥Ÿo_obj_vÆ
));

2068  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

2069 
	}
}

2079 
boﬁ


2080 
	$jîry_gë_obje˘_«tive_h™dÀ
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

2081 
uöçå_t
 *
out_h™dÀ_p
)

2083 
	`jîry_as£π_≠i_avaûabÀ
 ();

2085 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

2087  
Ál£
;

2090 
ecma_«tive_poöãr_t
 *
«tive_poöãr_p
;

2091 
«tive_poöãr_p
 = 
	`ecma_gë_«tive_poöãr_vÆue
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

2092 
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE
);

2094 i‡(
«tive_poöãr_p
 =
NULL
)

2096  
Ál£
;

2099 *
out_h™dÀ_p
 = (
uöçå_t
Ë
«tive_poöãr_p
->
d©a_p
;

2100  
åue
;

2101 
	}
}

2118 
	$jîry_£t_obje˘_«tive_h™dÀ
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

2119 
uöçå_t
 
h™dÀ_p
,

2120 
jîry_obje˘_‰ì_ˇŒback_t
 
‰ìcb_p
)

2122 
	`jîry_as£π_≠i_avaûabÀ
 ();

2124 i‡(
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

2126 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
);

2128 
	`ecma_¸óã_«tive_h™dÀ_¥›îty
 (
obje˘_p
,

2129 (*Ë
h™dÀ_p
,

2130 (*Ë(
ecma_exã∫Æ_poöãr_t
Ë
‰ìcb_p
);

2132 
	}
}

2144 
boﬁ


2145 
	$jîry_gë_obje˘_«tive_poöãr
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

2146 **
out_«tive_poöãr_p
,

2147 c⁄° 
jîry_obje˘_«tive_öfo_t
 **
out_«tive_öfo_p
)

2150 
	`jîry_as£π_≠i_avaûabÀ
 ();

2152 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

2154  
Ál£
;

2157 
ecma_«tive_poöãr_t
 *
«tive_poöãr_p
;

2158 
«tive_poöãr_p
 = 
	`ecma_gë_«tive_poöãr_vÆue
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
),

2159 
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
);

2161 i‡(
«tive_poöãr_p
 =
NULL
)

2163  
Ál£
;

2166 i‡(
out_«tive_poöãr_p
 !
NULL
)

2168 *
out_«tive_poöãr_p
 = 
«tive_poöãr_p
->
d©a_p
;

2171 i‡(
out_«tive_öfo_p
 !
NULL
)

2173 *
out_«tive_öfo_p
 = (c⁄° 
jîry_obje˘_«tive_öfo_t
 *Ë
«tive_poöãr_p
->
u
.
öfo_p
;

2176  
åue
;

2177 
	}
}

2193 
	$jîry_£t_obje˘_«tive_poöãr
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

2194 *
«tive_poöãr_p
,

2195 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
«tive_öfo_p
)

2197 
	`jîry_as£π_≠i_avaûabÀ
 ();

2199 i‡(
	`ecma_is_vÆue_obje˘
 (
obj_vÆ
))

2201 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
);

2203 
	`ecma_¸óã_«tive_poöãr_¥›îty
 (
obje˘_p
, 
«tive_poöãr_p
, (*Ë
«tive_öfo_p
);

2205 
	}
}

2216 
boﬁ


2217 
	$jîry_f‹óch_obje˘_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

2218 
jîry_obje˘_¥›îty_f‹óch_t
 
f‹óch_p
,

2219 *
u£r_d©a_p
)

2221 
	`jîry_as£π_≠i_avaûabÀ
 ();

2223 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
«mes_ôî
;

2224 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
);

2225 
ecma_cﬁÀ˘i⁄_hódî_t
 *
«mes_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obje˘_p
, 
Ál£
, 
åue
,Årue);

2226 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
«mes_ôî
, 
«mes_p
);

2228 
ecma_vÆue_t
 
¥›îty_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2230 
boﬁ
 
c⁄töuous
 = 
åue
;

2232 
c⁄töuous


2233 && 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
«mes_ôî
))

2235 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
«mes_ôî
.
cuºít_vÆue_p
);

2236 
¥›îty_vÆue
 = 
	`ecma_›_obje˘_gë
 (
obje˘_p
, 
¥›îty_«me_p
);

2238 i‡(
	`ECMA_IS_VALUE_ERROR
 (
¥›îty_vÆue
))

2243 
c⁄töuous
 = 
	`f‹óch_p
 (*
«mes_ôî
.
cuºít_vÆue_p
, 
¥›îty_vÆue
, 
u£r_d©a_p
);

2244 
	`ecma_‰ì_vÆue
 (
¥›îty_vÆue
);

2247 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
«mes_p
, 
åue
);

2249 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
¥›îty_vÆue
))

2251  
åue
;

2254 
	`ecma_‰ì_vÆue
 (
¥›îty_vÆue
);

2255  
Ál£
;

2256 
	}
}

2258 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


2266 
jîry_vÆue_t


2267 
	$jîry_ªsﬁve_‹_ªje˘_¥omi£
 (
jîry_vÆue_t
 
¥omi£
,

2268 
jîry_vÆue_t
 
¨gumít
,

2269 
boﬁ
 
is_ªsﬁve
)

2271 
	`jîry_as£π_≠i_avaûabÀ
 ();

2273 i‡(!
	`ecma_is_vÆue_obje˘
 (
¥omi£
Ë|| !
	`ecma_is_¥omi£
 (
	`ecma_gë_obje˘_‰om_vÆue
 (promise)))

2275  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (
wr⁄g_¨gs_msg_p
));

2278 
ecma_°rög_t
 
°r
;

2280 i‡(
is_ªsﬁve
)

2282 
	`ecma_öô_ecma_magic_°rög
 (&
°r
, 
LIT_INTERNAL_MAGIC_STRING_RESOLVE_FUNCTION
);

2286 
	`ecma_öô_ecma_magic_°rög
 (&
°r
, 
LIT_INTERNAL_MAGIC_STRING_REJECT_FUNCTION
);

2289 
ecma_vÆue_t
 
fun˘i⁄
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
), &
°r
);

2291 
ecma_vÆue_t
 
ªt
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
fun˘i⁄
),

2292 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

2293 &
¨gumít
,

2296 
	`ecma_‰ì_vÆue
 (
fun˘i⁄
);

2298  
ªt
;

2299 
	}
}

2309 
boﬁ


2310 
	$jîry_is_vÆid_utf8_°rög
 (c⁄° 
jîry_ch¨_t
 *
utf8_buf_p
,

2311 
jîry_size_t
 
buf_size
)

2313  
	`lô_is_vÆid_utf8_°rög
 ((
lô_utf8_byã_t
 *Ë
utf8_buf_p
,

2314 (
lô_utf8_size_t
Ë
buf_size
);

2315 
	}
}

2323 
boﬁ


2324 
	$jîry_is_vÆid_˚su8_°rög
 (c⁄° 
jîry_ch¨_t
 *
˚su8_buf_p
,

2325 
jîry_size_t
 
buf_size
)

2327  
	`lô_is_vÆid_˚su8_°rög
 ((
lô_utf8_byã_t
 *Ë
˚su8_buf_p
,

2328 (
lô_utf8_size_t
Ë
buf_size
);

2329 
	}
}

2336 
jîry_ö°™˚_t
 *

2337 
	$jîry_¸óã_ö°™˚
 (
uöt32_t
 
hóp_size
,

2338 
jîry_ö°™˚_Æloc_t
 
Æloc
,

2339 *
cb_d©a_p
)

2341 
	`JERRY_UNUSED
 (
hóp_size
);

2343 #ifde‡
JERRY_ENABLE_EXTERNAL_CONTEXT


2345 
size_t
 
tŸÆ_size
 =  (
jîry_ö°™˚_t
Ë+ 
JMEM_ALIGNMENT
;

2347 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


2348 
hóp_size
 = 
	`JERRY_ALIGNUP
 (hóp_size, 
JMEM_ALIGNMENT
);

2351 i‡(
hóp_size
 < 1024)

2353  
NULL
;

2356 
tŸÆ_size
 +
hóp_size
;

2359 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


2360 
tŸÆ_size
 + (
jîry_hash_èbÀ_t
);

2363 
tŸÆ_size
 = 
	`JERRY_ALIGNUP
 (tŸÆ_size, 
JMEM_ALIGNMENT
);

2365 
jîry_ö°™˚_t
 *
ö°™˚_p
 = (jîry_ö°™˚_à*Ë
	`Æloc
 (
tŸÆ_size
, 
cb_d©a_p
);

2367 i‡(
ö°™˚_p
 =
NULL
)

2369  
NULL
;

2372 
	`mem£t
 (
ö°™˚_p
, 0, 
tŸÆ_size
);

2374 
uöçå_t
 
ö°™˚_±r
 = ((uöçå_tË
ö°™˚_p
Ë+  (
jîry_ö°™˚_t
);

2375 
ö°™˚_±r
 = 
	`JERRY_ALIGNUP
 (ö°™˚_±r, (
uöçå_t
Ë
JMEM_ALIGNMENT
);

2377 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
ö°™˚_±r
;

2379 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


2380 
ö°™˚_p
->
hóp_p
 = (
jmem_hóp_t
 *Ë
byã_p
;

2381 
ö°™˚_p
->
hóp_size
 = heap_size;

2382 
byã_p
 +
hóp_size
;

2385 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


2386 
ö°™˚_p
->
lˇche_p
 = 
byã_p
;

2387 
byã_p
 + (
jîry_hash_èbÀ_t
);

2390 
	`JERRY_ASSERT
 (
byã_p
 <((
uöt8_t
 *Ë
ö°™˚_p
Ë+ 
tŸÆ_size
);

2392 
	`JERRY_UNUSED
 (
byã_p
);

2393  
ö°™˚_p
;

2397 
	`JERRY_UNUSED
 (
Æloc
);

2398 
	`JERRY_UNUSED
 (
cb_d©a_p
);

2400  
NULL
;

2403 
	}
}

2411 
	$jîry_£t_vm_exec_°›_ˇŒback
 (
jîry_vm_exec_°›_ˇŒback_t
 
°›_cb
,

2412 *
u£r_p
,

2413 
uöt32_t
 
‰equícy
)

2415 #ifde‡
JERRY_VM_EXEC_STOP


2416 i‡(
‰equícy
 == 0)

2418 
‰equícy
 = 1;

2421 
	`JERRY_CONTEXT
 (
vm_exec_°›_‰equícy
Ë
‰equícy
;

2422 
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
Ë
‰equícy
;

2423 
	`JERRY_CONTEXT
 (
vm_exec_°›_u£r_p
Ë
u£r_p
;

2424 
	`JERRY_CONTEXT
 (
vm_exec_°›_cb
Ë
°›_cb
;

2426 
	`JERRY_UNUSED
 (
°›_cb
);

2427 
	`JERRY_UNUSED
 (
u£r_p
);

2428 
	`JERRY_UNUSED
 (
‰equícy
);

2430 
	}
}

	@deps/jerry/jerry-core/config.h

16 #i‚de‡
CONFIG_H


17 
	#CONFIG_H


	)

22 
	#CONFIG_MEM_DATA_LIMIT_MINUS_HEAP_SIZE
 (1024)

	)

27 
	#CONFIG_MEM_STACK_LIMIT
 (4096)

	)

32 #i‚de‡
CONFIG_MEM_HEAP_AREA_SIZE


33 
	#CONFIG_MEM_HEAP_AREA_SIZE
 (512 * 1024)

	)

39 
	#CONFIG_MEM_HEAP_MAX_LIMIT
 8192

	)

44 
	#CONFIG_MEM_HEAP_DESIRED_LIMIT
 (
	`JERRY_MIN
 (
CONFIG_MEM_HEAP_AREA_SIZE
 / 32, 
CONFIG_MEM_HEAP_MAX_LIMIT
))

	)

49 
	#CONFIG_ECMA_NUMBER_FLOAT32
 (1uË

	)

50 
	#CONFIG_ECMA_NUMBER_FLOAT64
 (2uË

	)

52 #i‚de‡
CONFIG_ECMA_NUMBER_TYPE


53 
	#CONFIG_ECMA_NUMBER_TYPE
 
CONFIG_ECMA_NUMBER_FLOAT64


	)

55 #i‡(
CONFIG_ECMA_NUMBER_TYPE
 !
CONFIG_ECMA_NUMBER_FLOAT32
 \

56 && 
	gCONFIG_ECMA_NUMBER_TYPE
 !
CONFIG_ECMA_NUMBER_FLOAT64
)

59 && 
CONFIG_ECMA_NUMBER_TYPE
 !
CONFIG_ECMA_NUMBER_FLOAT64
 */

62 #i‡(!
deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
Ë&& (
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32
))

83 
	#CONFIG_ECMA_GC_NEW_OBJECTS_SHARE_TO_START_GC
 (16)

	)

94 
	#CONFIG_VM_STACK_FRAME_INLINED_VALUES_NUMBER
 (16)

	)

	@deps/jerry/jerry-core/debugger/debugger-sha1.c

43 
	~"debuggî.h
"

45 #ifde‡
JERRY_DEBUGGER


52 
uöt32_t
 
	mtŸÆ
[2];

53 
uöt32_t
 
	m°©e
[5];

54 
uöt8_t
 
	mbuf„r
[64];

55 } 
	tjîry_sha1_c⁄ãxt
;

59 
	#JERRY_SHA1_GET_UINT32_BE
(
n
, 
b
, 
i
) \

61 (
n
Ë(((
uöt32_t
Ë(
b
)[(
i
) + 0]) << 24) \

62 | (((
uöt32_t
Ë(
b
)[(
i
) + 1]) << 16) \

63 | (((
uöt32_t
Ë(
b
)[(
i
) + 2]) << 8) \

64 | ((
uöt32_t
Ë(
b
)[(
i
) + 3]); \

65 }

	)

67 
	#JERRY_SHA1_PUT_UINT32_BE
(
n
, 
b
, 
i
) \

69 (
b
)[(
i
Ë+ 0] = (
uöt8_t
Ë((
n
) >> 24); \

70 (
b
)[(
i
Ë+ 1] = (
uöt8_t
Ë((
n
) >> 16); \

71 (
b
)[(
i
Ë+ 2] = (
uöt8_t
Ë((
n
) >> 8); \

72 (
b
)[(
i
Ë+ 3] = (
uöt8_t
Ë((
n
)); \

73 }

	)

79 
	$jîry_sha1_öô
 (
jîry_sha1_c⁄ãxt
 *
sha1_c⁄ãxt_p
)

81 
	`mem£t
 (
sha1_c⁄ãxt_p
, 0,  (
jîry_sha1_c⁄ãxt
));

83 
sha1_c⁄ãxt_p
->
tŸÆ
[0] = 0;

84 
sha1_c⁄ãxt_p
->
tŸÆ
[1] = 0;

86 
sha1_c⁄ãxt_p
->
°©e
[0] = 0x67452301;

87 
sha1_c⁄ãxt_p
->
°©e
[1] = 0xEFCDAB89;

88 
sha1_c⁄ãxt_p
->
°©e
[2] = 0x98BADCFE;

89 
sha1_c⁄ãxt_p
->
°©e
[3] = 0x10325476;

90 
sha1_c⁄ãxt_p
->
°©e
[4] = 0xC3D2E1F0;

91 
	}
}

93 
	#JERRY_SHA1_P
(
a
, 
b
, 
c
, 
d
, 
e
, 
x
) \

95 
e
 +
	`JERRY_SHA1_SHIFT
 (
a
, 5Ë+ 
	`JERRY_SHA1_F
 (
b
, 
c
, 
d
Ë+ 
K
 + 
x
; \

96 
b
 = 
	`JERRY_SHA1_SHIFT
 (b, 30); \

97 } 0)

	)

103 
	$jîry_sha1_¥o˚ss
 (
jîry_sha1_c⁄ãxt
 *
sha1_c⁄ãxt_p
,

104 c⁄° 
uöt8_t
 
d©a
[64])

106 
uöt32_t
 
ãmp
, 
W
[16], 
A
, 
B
, 
C
, 
D
, 
E
;

108 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[0], 
d©a
, 0);

109 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[1], 
d©a
, 4);

110 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[2], 
d©a
, 8);

111 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[3], 
d©a
, 12);

112 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[4], 
d©a
, 16);

113 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[5], 
d©a
, 20);

114 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[6], 
d©a
, 24);

115 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[7], 
d©a
, 28);

116 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[8], 
d©a
, 32);

117 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[9], 
d©a
, 36);

118 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[10], 
d©a
, 40);

119 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[11], 
d©a
, 44);

120 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[12], 
d©a
, 48);

121 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[13], 
d©a
, 52);

122 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[14], 
d©a
, 56);

123 
	`JERRY_SHA1_GET_UINT32_BE
 (
W
[15], 
d©a
, 60);

125 
	#JERRY_SHA1_SHIFT
(
x
, 
n
Ë((x <<ÇË| ((x & 0xFFFFFFFFË>> (32 -Ç)))

	)

127 
	#JERRY_SHA1_R
(
t
) \

129 
ãmp
 = 
W
[(
t
 - 3) & 0x0F] ^ W[(t - 8) & 0x0F] ^ W[(t - 14) & 0x0F] ^ W[t & 0x0F], \

130 
W
[
t
 & 0x0F] = 
	`JERRY_SHA1_SHIFT
 (
ãmp
, 1) \

131 )

	)

133 
A
 = 
sha1_c⁄ãxt_p
->
°©e
[0];

134 
B
 = 
sha1_c⁄ãxt_p
->
°©e
[1];

135 
C
 = 
sha1_c⁄ãxt_p
->
°©e
[2];

136 
D
 = 
sha1_c⁄ãxt_p
->
°©e
[3];

137 
E
 = 
sha1_c⁄ãxt_p
->
°©e
[4];

139 
uöt32_t
 
K
 = 0x5A827999;

141 
	#JERRY_SHA1_F
(
x
, 
y
, 
z
Ë(z ^ (x & (y ^ z)))

	)

143 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
W
[0]);

144 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
W
[1]);

145 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
W
[2]);

146 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
W
[3]);

147 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
W
[4]);

148 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
W
[5]);

149 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
W
[6]);

150 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
W
[7]);

151 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
W
[8]);

152 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
W
[9]);

153 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
W
[10]);

154 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
W
[11]);

155 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
W
[12]);

156 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
W
[13]);

157 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
W
[14]);

158 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
W
[15]);

159 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (16));

160 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (17));

161 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (18));

162 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (19));

164 #unde‡
JERRY_SHA1_F


166 
K
 = 0x6ED9EBA1;

168 
	#JERRY_SHA1_F
(
x
, 
y
, 
z
Ë(x ^ y ^ z)

	)

170 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (20));

171 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (21));

172 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (22));

173 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (23));

174 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (24));

175 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (25));

176 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (26));

177 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (27));

178 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (28));

179 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (29));

180 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (30));

181 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (31));

182 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (32));

183 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (33));

184 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (34));

185 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (35));

186 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (36));

187 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (37));

188 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (38));

189 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (39));

191 #unde‡
JERRY_SHA1_F


193 
K
 = 0x8F1BBCDC;

195 
	#JERRY_SHA1_F
(
x
, 
y
, 
z
Ë((x & yË| (z & (x | y)))

	)

197 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (40));

198 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (41));

199 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (42));

200 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (43));

201 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (44));

202 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (45));

203 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (46));

204 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (47));

205 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (48));

206 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (49));

207 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (50));

208 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (51));

209 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (52));

210 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (53));

211 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (54));

212 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (55));

213 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (56));

214 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (57));

215 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (58));

216 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (59));

218 #unde‡
JERRY_SHA1_F


220 
K
 = 0xCA62C1D6;

222 
	#JERRY_SHA1_F
(
x
, 
y
, 
z
Ë(x ^ y ^ z)

	)

224 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (60));

225 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (61));

226 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (62));

227 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (63));

228 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (64));

229 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (65));

230 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (66));

231 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (67));

232 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (68));

233 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (69));

234 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (70));

235 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (71));

236 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (72));

237 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (73));

238 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (74));

239 
	`JERRY_SHA1_P
 (
A
, 
B
, 
C
, 
D
, 
E
, 
	`JERRY_SHA1_R
 (75));

240 
	`JERRY_SHA1_P
 (
E
, 
A
, 
B
, 
C
, 
D
, 
	`JERRY_SHA1_R
 (76));

241 
	`JERRY_SHA1_P
 (
D
, 
E
, 
A
, 
B
, 
C
, 
	`JERRY_SHA1_R
 (77));

242 
	`JERRY_SHA1_P
 (
C
, 
D
, 
E
, 
A
, 
B
, 
	`JERRY_SHA1_R
 (78));

243 
	`JERRY_SHA1_P
 (
B
, 
C
, 
D
, 
E
, 
A
, 
	`JERRY_SHA1_R
 (79));

245 #unde‡
JERRY_SHA1_F


247 
sha1_c⁄ãxt_p
->
°©e
[0] +
A
;

248 
sha1_c⁄ãxt_p
->
°©e
[1] +
B
;

249 
sha1_c⁄ãxt_p
->
°©e
[2] +
C
;

250 
sha1_c⁄ãxt_p
->
°©e
[3] +
D
;

251 
sha1_c⁄ãxt_p
->
°©e
[4] +
E
;

253 #unde‡
JERRY_SHA1_SHIFT


254 #unde‡
JERRY_SHA1_R


255 
	}
}

257 #unde‡
JERRY_SHA1_P


263 
	$jîry_sha1_upd©e
 (
jîry_sha1_c⁄ãxt
 *
sha1_c⁄ãxt_p
,

264 c⁄° 
uöt8_t
 *
sour˚_p
,

265 
size_t
 
sour˚_Àngth
)

267 
size_t
 
fûl
;

268 
uöt32_t
 
À·
;

270 i‡(
sour˚_Àngth
 == 0)

275 
À·
 = 
sha1_c⁄ãxt_p
->
tŸÆ
[0] & 0x3F;

276 
fûl
 = 64 - 
À·
;

278 
sha1_c⁄ãxt_p
->
tŸÆ
[0] +(
uöt32_t
Ë
sour˚_Àngth
;

281 i‡(
sha1_c⁄ãxt_p
->
tŸÆ
[0] < (
uöt32_t
Ë
sour˚_Àngth
)

283 
sha1_c⁄ãxt_p
->
tŸÆ
[1]++;

286 i‡(
À·
 && 
sour˚_Àngth
 >
fûl
)

288 
	`mem˝y
 ((*Ë(
sha1_c⁄ãxt_p
->
buf„r
 + 
À·
), 
sour˚_p
, 
fûl
);

289 
	`jîry_sha1_¥o˚ss
 (
sha1_c⁄ãxt_p
, sha1_c⁄ãxt_p->
buf„r
);

290 
sour˚_p
 +
fûl
;

291 
sour˚_Àngth
 -
fûl
;

292 
À·
 = 0;

295 
sour˚_Àngth
 >= 64)

297 
	`jîry_sha1_¥o˚ss
 (
sha1_c⁄ãxt_p
, 
sour˚_p
);

298 
sour˚_p
 += 64;

299 
sour˚_Àngth
 -= 64;

302 i‡(
sour˚_Àngth
 > 0)

304 
	`mem˝y
 ((*Ë(
sha1_c⁄ãxt_p
->
buf„r
 + 
À·
), 
sour˚_p
, 
sour˚_Àngth
);

306 
	}
}

312 
	$jîry_sha1_föish
 (
jîry_sha1_c⁄ãxt
 *
sha1_c⁄ãxt_p
,

313 
uöt8_t
 
de°ö©i⁄_p
[20])

315 
uöt8_t
 
buf„r
[16];

317 
uöt32_t
 
high
 = (
sha1_c⁄ãxt_p
->
tŸÆ
[0] >> 29) | (sha1_context_p->total[1] << 3);

318 
uöt32_t
 
low
 = (
sha1_c⁄ãxt_p
->
tŸÆ
[0] << 3);

320 
uöt32_t
 
œ°
 = 
sha1_c⁄ãxt_p
->
tŸÆ
[0] & 0x3F;

321 
uöt32_t
 
∑dn
 = (
œ°
 < 56) ? (56 -Üast) : (120 -Üast);

323 
	`mem£t
 (
buf„r
, 0,  (buffer));

324 
buf„r
[0] = 0x80;

326 
∑dn
 >  (
buf„r
))

328 
	`jîry_sha1_upd©e
 (
sha1_c⁄ãxt_p
, 
buf„r
,  (buffer));

329 
buf„r
[0] = 0;

330 
∑dn
 -(
uöt32_t
Ë (
buf„r
);

333 
	`jîry_sha1_upd©e
 (
sha1_c⁄ãxt_p
, 
buf„r
, 
∑dn
);

335 
	`JERRY_SHA1_PUT_UINT32_BE
 (
high
, 
buf„r
, 0);

336 
	`JERRY_SHA1_PUT_UINT32_BE
 (
low
, 
buf„r
, 4);

338 
	`jîry_sha1_upd©e
 (
sha1_c⁄ãxt_p
, 
buf„r
, 8);

340 
	`JERRY_SHA1_PUT_UINT32_BE
 (
sha1_c⁄ãxt_p
->
°©e
[0], 
de°ö©i⁄_p
, 0);

341 
	`JERRY_SHA1_PUT_UINT32_BE
 (
sha1_c⁄ãxt_p
->
°©e
[1], 
de°ö©i⁄_p
, 4);

342 
	`JERRY_SHA1_PUT_UINT32_BE
 (
sha1_c⁄ãxt_p
->
°©e
[2], 
de°ö©i⁄_p
, 8);

343 
	`JERRY_SHA1_PUT_UINT32_BE
 (
sha1_c⁄ãxt_p
->
°©e
[3], 
de°ö©i⁄_p
, 12);

344 
	`JERRY_SHA1_PUT_UINT32_BE
 (
sha1_c⁄ãxt_p
->
°©e
[4], 
de°ö©i⁄_p
, 16);

345 
	}
}

347 #unde‡
JERRY_SHA1_GET_UINT32_BE


348 #unde‡
JERRY_SHA1_PUT_UINT32_BE


354 
	$jîry_debuggî_compuã_sha1
 (c⁄° 
uöt8_t
 *
sour˚1_p
,

355 
size_t
 
sour˚1_Àngth
,

356 c⁄° 
uöt8_t
 *
sour˚2_p
,

357 
size_t
 
sour˚2_Àngth
,

358 
uöt8_t
 
de°ö©i⁄_p
[20])

360 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
sha1_c⁄ãxt_p
, 1, 
jîry_sha1_c⁄ãxt
);

362 
	`jîry_sha1_öô
 (
sha1_c⁄ãxt_p
);

363 
	`jîry_sha1_upd©e
 (
sha1_c⁄ãxt_p
, 
sour˚1_p
, 
sour˚1_Àngth
);

364 
	`jîry_sha1_upd©e
 (
sha1_c⁄ãxt_p
, 
sour˚2_p
, 
sour˚2_Àngth
);

365 
	`jîry_sha1_föish
 (
sha1_c⁄ãxt_p
, 
de°ö©i⁄_p
);

367 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
sha1_c⁄ãxt_p
);

368 
	}
}

	@deps/jerry/jerry-core/debugger/debugger-ws.c

16 
	~"debuggî.h
"

17 
	~"jc⁄ãxt.h
"

18 
	~"jîrys¸ùt-p‹t.h
"

20 #ifde‡
JERRY_DEBUGGER


22 
	~<¨∑/öë.h
>

23 
	~<î∫o.h
>

24 
	~<f˙é.h
>

25 
	~<uni°d.h
>

30 
	#JERRY_DEBUGGER_WEBSOCKET_MASK_BIT
 0x80

	)

35 
	#JERRY_DEBUGGER_WEBSOCKET_OPCODE_MASK
 0x0fu

	)

40 
	#JERRY_DEBUGGER_WEBSOCKET_LENGTH_MASK
 0x7fu

	)

45 
	#JERRY_DEBUGGER_WEBSOCKET_MASK_SIZE
 4

	)

50 
	#JERRY_DEBUGGER_RECEIVE_DATA_MODE
 \

51 (
JERRY_DEBUGGER_BREAKPOINT_MODE
 | 
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
)

	)

59 
uöt8_t
 
	mws_›code
;

60 
uöt8_t
 
	msize
;

61 
uöt8_t
 
	mmask
[4];

62 } 
	tjîry_debuggî_ª˚ive_hódî_t
;

68 
	$jîry_debuggî_˛o£_c⁄√˘i⁄_t˝
 (
boﬁ
 
log_îr‹
)

70 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

72 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë
JERRY_DEBUGGER_VM_IGNORE
;

74 i‡(
log_îr‹
)

76 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

79 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, "Debugger client connection closed.\n");

81 
	`˛o£
 (
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
));

82 
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
) = -1;

84 
	`jîry_debuggî_‰ì_uƒe„ªn˚d_byã_code
 ();

85 
	}
}

93 
boﬁ


94 
	$jîry_debuggî_£nd_t˝
 (c⁄° 
uöt8_t
 *
d©a_p
,

95 
size_t
 
d©a_size
)

97 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

101 
ssize_t
 
£¡_byãs
 = 
	`£nd
 (
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
), 
d©a_p
, 
d©a_size
, 0);

103 i‡(
£¡_byãs
 < 0)

105 i‡(
î∫o
 =
EWOULDBLOCK
)

110 
	`jîry_debuggî_˛o£_c⁄√˘i⁄_t˝
 (
åue
);

111  
Ál£
;

114 
d©a_size
 -(
size_t
Ë
£¡_byãs
;

115 
d©a_p
 +
£¡_byãs
;

117 
d©a_size
 > 0);

119  
åue
;

120 
	}
}

127 
uöt8_t


128 
	$jîry_to_ba£64_ch¨a˘î
 (
uöt8_t
 
vÆue
)

130 i‡(
vÆue
 < 26)

132  (
uöt8_t
Ë(
vÆue
 + 'A');

135 i‡(
vÆue
 < 52)

137  (
uöt8_t
Ë(
vÆue
 - 26 + 'a');

140 i‡(
vÆue
 < 62)

142  (
uöt8_t
Ë(
vÆue
 - 52 + '0');

145 i‡(
vÆue
 == 62)

147  (
uöt8_t
) '+';

150  (
uöt8_t
) '/';

151 
	}
}

157 
	$jîry_to_ba£64
 (c⁄° 
uöt8_t
 *
sour˚_p
,

158 
uöt8_t
 *
de°ö©i⁄_p
,

159 
size_t
 
Àngth
)

161 
Àngth
 >= 3)

163 
uöt8_t
 
vÆue
 = (
sour˚_p
[0] >> 2);

164 
de°ö©i⁄_p
[0] = 
	`jîry_to_ba£64_ch¨a˘î
 (
vÆue
);

166 
vÆue
 = (
uöt8_t
Ë(((
sour˚_p
[0] << 4) | (source_p[1] >> 4)) & 0x3f);

167 
de°ö©i⁄_p
[1] = 
	`jîry_to_ba£64_ch¨a˘î
 (
vÆue
);

169 
vÆue
 = (
uöt8_t
Ë(((
sour˚_p
[1] << 2) | (source_p[2] >> 6)) & 0x3f);

170 
de°ö©i⁄_p
[2] = 
	`jîry_to_ba£64_ch¨a˘î
 (
vÆue
);

172 
vÆue
 = (
uöt8_t
Ë(
sour˚_p
[2] & 0x3f);

173 
de°ö©i⁄_p
[3] = 
	`jîry_to_ba£64_ch¨a˘î
 (
vÆue
);

175 
sour˚_p
 += 3;

176 
de°ö©i⁄_p
 += 4;

177 
Àngth
 -= 3;

179 
	}
}

187 
boﬁ


188 
	$jîry_¥o˚ss_h™dshake
 (
˛õ¡_sockë
,

189 
uöt8_t
 *
ªque°_buf„r_p
)

191 
size_t
 
ªque°_buf„r_size
 = 1024;

192 
uöt8_t
 *
ªque°_íd_p
 = 
ªque°_buf„r_p
;

195 
åue
)

197 
size_t
 
Àngth
 = 
ªque°_buf„r_size
 - 1u - (size_tË(
ªque°_íd_p
 - 
ªque°_buf„r_p
);

199 i‡(
Àngth
 == 0)

201 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Handshake bufferÅoo small.\n");

202  
Ál£
;

205 
ssize_t
 
size
 = 
	`ªcv
 (
˛õ¡_sockë
, 
ªque°_íd_p
, 
Àngth
, 0);

207 i‡(
size
 < 0)

209 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

210  
Ál£
;

213 
ªque°_íd_p
 +(
size_t
Ë
size
;

214 *
ªque°_íd_p
 = 0;

216 i‡(
ªque°_íd_p
 > 
ªque°_buf„r_p
 + 4

217 && 
	`memcmp
 (
ªque°_íd_p
 - 4, "\r\n\r\n", 4) == 0)

224 c⁄° *
ãxt_p
 = "GET /jerry-debugger";

225 
size_t
 
ãxt_Àn
 = 
	`°æí
 (
ãxt_p
);

227 i‡((
size_t
Ë(
ªque°_íd_p
 - 
ªque°_buf„r_p
Ë< 
ãxt_Àn


228 || 
	`memcmp
 (
ªque°_buf„r_p
, 
ãxt_p
, 
ãxt_Àn
) != 0)

230 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid handshake format.\n");

231  
Ál£
;

234 
uöt8_t
 *
websockë_key_p
 = 
ªque°_buf„r_p
 + 
ãxt_Àn
;

236 
ãxt_p
 = "Sec-WebSocket-Key:";

237 
ãxt_Àn
 = 
	`°æí
 (
ãxt_p
);

239 
åue
)

241 i‡((
size_t
Ë(
ªque°_íd_p
 - 
websockë_key_p
Ë< 
ãxt_Àn
)

243 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Sec-WebSocket-KeyÇot found.\n");

244  
Ál£
;

247 i‡(
websockë_key_p
[0] == 'S'

248 && 
websockë_key_p
[-1] == '\n'

249 && 
websockë_key_p
[-2] == '\r'

250 && 
	`memcmp
 (
websockë_key_p
, 
ãxt_p
, 
ãxt_Àn
) == 0)

252 
websockë_key_p
 +
ãxt_Àn
;

256 
websockë_key_p
++;

261 *
websockë_key_p
 == ' ')

263 
websockë_key_p
++;

266 
uöt8_t
 *
websockë_key_íd_p
 = 
websockë_key_p
;

268 *
websockë_key_íd_p
 > ' ')

270 
websockë_key_íd_p
++;

276 c⁄° 
size_t
 
sha1_Àngth
 = 20;

278 
	`jîry_debuggî_compuã_sha1
 (
websockë_key_p
,

279 (
size_t
Ë(
websockë_key_íd_p
 - 
websockë_key_p
),

280 (c⁄° 
uöt8_t
 *) "258EAFA5-E914-47DA-95CA-C5AB0DC85B11",

282 
ªque°_buf„r_p
);

286 
ªque°_buf„r_p
[
sha1_Àngth
] = 0;

288 
	`jîry_to_ba£64
 (
ªque°_buf„r_p
,Ñeque°_buf„r_∞+ 
sha1_Àngth
 + 1, sha1_length + 1);

292 
ãxt_p
 = "HTTP/1.1 101 Switching Protocols\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nSec-WebSocket-Accept: ";

294 i‡(!
	`jîry_debuggî_£nd_t˝
 ((c⁄° 
uöt8_t
 *Ë
ãxt_p
, 
	`°æí
 (text_p))

295 || !
	`jîry_debuggî_£nd_t˝
 (
ªque°_buf„r_p
 + 
sha1_Àngth
 + 1, 27))

297  
Ál£
;

300 
ãxt_p
 = "=\r\n\r\n";

301  
	`jîry_debuggî_£nd_t˝
 ((c⁄° 
uöt8_t
 *Ë
ãxt_p
, 
	`°æí
 (text_p));

302 
	}
}

310 
boﬁ


311 
	$jîry_debuggî_ac˚±_c⁄√˘i⁄
 ()

313 
£rvî_sockë
;

314 
sockaddr_ö
 
addr
;

315 
sockÀn_t
 
sö_size
 =  (
sockaddr_ö
);

317 
addr
.
sö_Ámûy
 = 
AF_INET
;

318 
addr
.
sö_p‹t
 = 
	`ht⁄s
 (
	`JERRY_CONTEXT
 (
debuggî_p‹t
));

319 
addr
.
sö_addr
.
s_addr
 = 
INADDR_ANY
;

321 i‡((
£rvî_sockë
 = 
	`sockë
 (
AF_INET
, 
SOCK_STREAM
, 0)) == -1)

323 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

324  
Ál£
;

327 
›t_vÆue
 = 1;

329 i‡(
	`£tsock›t
 (
£rvî_sockë
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
›t_vÆue
,  ()) == -1)

331 
	`˛o£
 (
£rvî_sockë
);

332 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

333  
Ál£
;

336 i‡(
	`böd
 (
£rvî_sockë
, (
sockaddr
 *)&
addr
,  (sockaddr)) == -1)

338 
	`˛o£
 (
£rvî_sockë
);

339 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

340  
Ál£
;

343 i‡(
	`li°í
 (
£rvî_sockë
, 1) == -1)

345 
	`˛o£
 (
£rvî_sockë
);

346 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

347  
Ál£
;

350 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, "Waiting for client connection\n");

352 
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
Ë
	`ac˚±
 (
£rvî_sockë
, (
sockaddr
 *)&
addr
, &
sö_size
);

354 i‡(
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
) == -1)

356 
	`˛o£
 (
£rvî_sockë
);

357 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
	`°ªº‹
 (
î∫o
));

358  
Ál£
;

361 
	`˛o£
 (
£rvî_sockë
);

363 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_CONNECTED
);

365 
boﬁ
 
is_h™dshake_ok
 = 
Ál£
;

367 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ªque°_buf„r_p
, 1024, 
uöt8_t
);

369 
is_h™dshake_ok
 = 
	`jîry_¥o˚ss_h™dshake
 (
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
),

370 
ªque°_buf„r_p
);

372 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ªque°_buf„r_p
);

374 i‡(!
is_h™dshake_ok
)

376 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

377  
Ál£
;

380 i‡(!
	`jîry_debuggî_£nd_c⁄figuøti⁄
 (
JERRY_DEBUGGER_MAX_RECEIVE_SIZE
))

382  
Ál£
;

386 
sockë_Êags
 = 
	`f˙é
 (
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
), 
F_GETFL
, 0);

388 i‡(
sockë_Êags
 < 0)

390 
	`jîry_debuggî_˛o£_c⁄√˘i⁄_t˝
 (
åue
);

391  
Ál£
;

394 i‡(
	`f˙é
 (
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
), 
F_SETFL
, 
sockë_Êags
 | 
O_NONBLOCK
) == -1)

396 
	`jîry_debuggî_˛o£_c⁄√˘i⁄_t˝
 (
åue
);

397  
Ál£
;

400 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, "C⁄√˘ed from: %s\n", 
	`öë_¡ﬂ
 (
addr
.
sö_addr
));

402 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_STOP
);

403 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

405  
åue
;

406 
	}
}

411 
ölöe
 
__©å_Æways_ölöe___


412 
	$jîry_debuggî_˛o£_c⁄√˘i⁄
 ()

414 
	`jîry_debuggî_˛o£_c⁄√˘i⁄_t˝
 (
Ál£
);

415 
	}
}

423 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


424 
	$jîry_debuggî_£nd
 (
size_t
 
d©a_size
)

426  
	`jîry_debuggî_£nd_t˝
 (
	`JERRY_CONTEXT
 (
debuggî_£nd_buf„r
), 
d©a_size
);

427 
	}
}

429 
JERRY_STATIC_ASSERT
 (
JERRY_DEBUGGER_MAX_RECEIVE_SIZE
 < 126,

430 
maximum_debug_mesßge_ª˚ive_size_mu°_be_smÆÀr_th™_126
);

442 
boﬁ


443 
	$jîry_debuggî_ª˚ive
 (
jîry_debuggî_uöt8_d©a_t
 **
mesßge_d©a_p
)

445 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

447 
	`JERRY_ASSERT
 (
mesßge_d©a_p
 !
NULL
 ? (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_RECEIVE_DATA_MODE
)

448 : !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_RECEIVE_DATA_MODE
));

450 
	`JERRY_CONTEXT
 (
debuggî_mesßge_dñay
Ë
JERRY_DEBUGGER_MESSAGE_FREQUENCY
;

452 
uöt8_t
 *
ªcv_buf„r_p
 = 
	`JERRY_CONTEXT
 (
debuggî_ª˚ive_buf„r
);

453 
boﬁ
 
ªsume_exec
 = 
Ál£
;

454 
uöt8_t
 
ex≥˘ed_mesßge_ty≥
 = 0;

456 
åue
)

458 
uöt32_t
 
off£t
 = 
	`JERRY_CONTEXT
 (
debuggî_ª˚ive_buf„r_off£t
);

460 
ssize_t
 
byã_ªcv
 = 
	`ªcv
 (
	`JERRY_CONTEXT
 (
debuggî_c⁄√˘i⁄
),

461 
ªcv_buf„r_p
 + 
off£t
,

462 
JERRY_DEBUGGER_MAX_BUFFER_SIZE
 - 
off£t
,

465 i‡(
byã_ªcv
 < 0)

467 i‡(
î∫o
 !
EWOULDBLOCK
)

469 
	`jîry_debuggî_˛o£_c⁄√˘i⁄_t˝
 (
åue
);

470  
åue
;

473 
byã_ªcv
 = 0;

476 
off£t
 +(
uöt32_t
Ë
byã_ªcv
;

477 
	`JERRY_CONTEXT
 (
debuggî_ª˚ive_buf„r_off£t
Ë(
uöt16_t
Ë
off£t
;

479 i‡(
off£t
 <  (
jîry_debuggî_ª˚ive_hódî_t
))

481 i‡(
ex≥˘ed_mesßge_ty≥
 != 0)

486  
ªsume_exec
;

489 i‡((
ªcv_buf„r_p
[0] & ~
JERRY_DEBUGGER_WEBSOCKET_OPCODE_MASK
Ë!
JERRY_DEBUGGER_WEBSOCKET_FIN_BIT


490 || (
ªcv_buf„r_p
[1] & 
JERRY_DEBUGGER_WEBSOCKET_LENGTH_MASK
Ë> 
JERRY_DEBUGGER_MAX_RECEIVE_SIZE


491 || !(
ªcv_buf„r_p
[1] & 
JERRY_DEBUGGER_WEBSOCKET_MASK_BIT
))

493 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Unsupported Websocket message.\n");

494 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

495  
åue
;

498 i‡((
ªcv_buf„r_p
[0] & 
JERRY_DEBUGGER_WEBSOCKET_OPCODE_MASK
Ë!
JERRY_DEBUGGER_WEBSOCKET_BINARY_FRAME
)

500 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Unsupported Websocket opcode.\n");

501 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

502  
åue
;

505 
uöt32_t
 
mesßge_size
 = (uöt32_tË(
ªcv_buf„r_p
[1] & 
JERRY_DEBUGGER_WEBSOCKET_LENGTH_MASK
);

506 
uöt32_t
 
mesßge_tŸÆ_size
 = (uöt32_tË(
mesßge_size
 +  (
jîry_debuggî_ª˚ive_hódî_t
));

508 i‡(
off£t
 < 
mesßge_tŸÆ_size
)

510 i‡(
ex≥˘ed_mesßge_ty≥
 != 0)

515  
ªsume_exec
;

519 
uöt8_t
 *
d©a_p
 = 
ªcv_buf„r_p
 +  (
jîry_debuggî_ª˚ive_hódî_t
);

520 c⁄° 
uöt8_t
 *
mask_p
 = 
d©a_p
 - 
JERRY_DEBUGGER_WEBSOCKET_MASK_SIZE
;

521 c⁄° 
uöt8_t
 *
mask_íd_p
 = 
d©a_p
;

522 c⁄° 
uöt8_t
 *
d©a_íd_p
 = 
d©a_p
 + 
mesßge_size
;

524 
d©a_p
 < 
d©a_íd_p
)

527 *
d©a_p
 = *d©a_∞^ *
mask_p
;

529 
d©a_p
++;

530 
mask_p
++;

532 i‡(
mask_p
 >
mask_íd_p
)

534 
mask_p
 -
JERRY_DEBUGGER_WEBSOCKET_MASK_SIZE
;

540 i‡(!
	`jîry_debuggî_¥o˚ss_mesßge
 (
ªcv_buf„r_p
 +  (
jîry_debuggî_ª˚ive_hódî_t
),

541 
mesßge_size
,

542 &
ªsume_exec
,

543 &
ex≥˘ed_mesßge_ty≥
,

544 
mesßge_d©a_p
))

546  
åue
;

549 i‡(
mesßge_tŸÆ_size
 < 
off£t
)

551 
	`memmove
 (
ªcv_buf„r_p
,

552 
ªcv_buf„r_p
 + 
mesßge_tŸÆ_size
,

553 
off£t
 - 
mesßge_tŸÆ_size
);

556 
	`JERRY_CONTEXT
 (
debuggî_ª˚ive_buf„r_off£t
Ë(
uöt16_t
Ë(
off£t
 - 
mesßge_tŸÆ_size
);

558 
	}
}

	@deps/jerry/jerry-core/debugger/debugger-ws.h

16 #i‚de‡
DEBUGGER_WS_H


17 
	#DEBUGGER_WS_H


	)

19 
	~"ecma-globÆs.h
"

21 #ifde‡
JERRY_DEBUGGER


28 
	#JERRY_DEBUGGER_MAX_BUFFER_SIZE
 128

	)

33 
	#JERRY_DEBUGGER_MAX_SEND_SIZE
 (
JERRY_DEBUGGER_MAX_BUFFER_SIZE
 - 1)

	)

38 
	#JERRY_DEBUGGER_MAX_RECEIVE_SIZE
 (
JERRY_DEBUGGER_MAX_BUFFER_SIZE
 - 6)

	)

43 
	#JERRY_DEBUGGER_WEBSOCKET_FIN_BIT
 0x80

	)

50 
	mJERRY_DEBUGGER_WEBSOCKET_TEXT_FRAME
 = 1,

51 
	mJERRY_DEBUGGER_WEBSOCKET_BINARY_FRAME
 = 2,

52 
	mJERRY_DEBUGGER_WEBSOCKET_CLOSE_CONNECTION
 = 8,

53 
	mJERRY_DEBUGGER_WEBSOCKET_PING
 = 9,

54 
	mJERRY_DEBUGGER_WEBSOCKET_PONG
 = 10,

55 } 
	tjîry_websockë_›code_ty≥_t
;

62 
uöt8_t
 
	mws_›code
;

63 
uöt8_t
 
	msize
;

64 } 
	tjîry_debuggî_£nd_hódî_t
;

71 
uöt8_t
 
	mty≥
;

72 } 
	tjîry_debuggî_ª˚ive_uöt8_d©a_∑π_t
;

79 
uöt32_t
 
	muöt8_size
;

80 
uöt32_t
 
	muöt8_off£t
;

81 } 
	tjîry_debuggî_uöt8_d©a_t
;

86 
	#JERRY_DEBUGGER_INIT_SEND_MESSAGE
(
mesßge_p
) \

87 (
mesßge_p
)->
hódî
.
ws_›code
 = 
JERRY_DEBUGGER_WEBSOCKET_FIN_BIT
 | 
JERRY_DEBUGGER_WEBSOCKET_BINARY_FRAME


	)

92 
	#JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
(
mesßge_p
, 
ty≥
) \

93 (
mesßge_p
)->
hódî
.
size
 = (
uöt8_t
Ë( (
ty≥
Ë-  (
jîry_debuggî_£nd_hódî_t
))

	)

98 
	#JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE
(
mesßge_p
, 
byã_size
) \

99 (
mesßge_p
)->
hódî
.
size
 = (
uöt8_t
Ë(
byã_size
)

	)

101 
boﬁ
 
jîry_debuggî_ac˚±_c⁄√˘i⁄
 ();

102 
jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

104 
boﬁ
 
jîry_debuggî_£nd
 (
size_t
 
d©a_size
);

105 
boﬁ
 
jîry_debuggî_ª˚ive
 (
jîry_debuggî_uöt8_d©a_t
 **
mesßge_d©a_p
);

107 
jîry_debuggî_compuã_sha1
 (c⁄° 
uöt8_t
 *
öput1
, 
size_t
 
öput1_Àn
,

108 c⁄° 
uöt8_t
 *
öput2
, 
size_t
 
öput2_Àn
,

109 
uöt8_t
 
ouçut
[20]);

	@deps/jerry/jerry-core/debugger/debugger.c

16 
	#_XOPEN_SOURCE
 500

	)

18 
	~"byã-code.h
"

19 
	~"debuggî.h
"

20 
	~"ecma-buûtö-hñ≥rs.h
"

21 
	~"ecma-c⁄vîsi⁄.h
"

22 
	~"ecma-evÆ.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"jc⁄ãxt.h
"

25 
	~"lô-ch¨-hñ≥rs.h
"

27 #ifde‡
JERRY_DEBUGGER


29 #ifde‡
HAVE_TIME_H


30 
	~<time.h
>

31 #ñi‡
deföed
 (
HAVE_UNISTD_H
)

32 
	~<uni°d.h
>

38 
	#JERRY_DEBUGGER_SEND_BUFFER_AS
(
ty≥
, 
«me_p
) \

39 
ty≥
 *
«me_p
 = (ty≥ *Ë(&
	`JERRY_CONTEXT
 (
debuggî_£nd_buf„r
))

	)

44 
	#JERRY_DEBUGGER_RECEIVE_BUFFER_AS
(
ty≥
, 
«me_p
) \

45 
ty≥
 *
«me_p
 = (—y≥ *Ë
ªcv_buf„r_p
)

	)

52 
	$jîry_debuggî_‰ì_uƒe„ªn˚d_byã_code
 ()

54 
jîry_debuggî_byã_code_‰ì_t
 *
byã_code_‰ì_p
;

56 
byã_code_‰ì_p
 = 
	`JMEM_CP_GET_POINTER
 (
jîry_debuggî_byã_code_‰ì_t
,

57 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_èû
));

59 
byã_code_‰ì_p
 !
NULL
)

61 
jîry_debuggî_byã_code_‰ì_t
 *
¥ev_byã_code_‰ì_p
;

62 
¥ev_byã_code_‰ì_p
 = 
	`JMEM_CP_GET_POINTER
 (
jîry_debuggî_byã_code_‰ì_t
,

63 
byã_code_‰ì_p
->
¥ev_˝
);

65 
	`jmem_hóp_‰ì_block
 (
byã_code_‰ì_p
,

66 ((
size_t
Ë
byã_code_‰ì_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
);

68 
byã_code_‰ì_p
 = 
¥ev_byã_code_‰ì_p
;

70 
	}
}

76 
	$jîry_debuggî_£nd_backåa˚
 (
uöt8_t
 *
ªcv_buf„r_p
)

78 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_gë_backåa˚_t
, 
gë_backåa˚_p
);

80 
uöt32_t
 
max_dïth
;

81 
	`mem˝y
 (&
max_dïth
, 
gë_backåa˚_p
->max_dïth,  (
uöt32_t
));

83 i‡(
max_dïth
 == 0)

85 
max_dïth
 = 
UINT32_MAX
;

88 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_backåa˚_t
, 
backåa˚_p
);

90 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
backåa˚_p
);

91 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
backåa˚_p
, 
jîry_debuggî_£nd_backåa˚_t
);

92 
backåa˚_p
->
ty≥
 = 
JERRY_DEBUGGER_BACKTRACE
;

94 
vm_‰ame_˘x_t
 *
‰ame_˘x_p
 = 
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
);

96 
uöt32_t
 
cuºít_‰ame
 = 0;

98 
‰ame_˘x_p
 !
NULL
 && 
max_dïth
 > 0)

100 i‡(
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_DEBUGGER_IGNORE
)

102 
‰ame_˘x_p
 = føme_˘x_p->
¥ev_c⁄ãxt_p
;

106 i‡(
cuºít_‰ame
 >
	`JERRY_DEBUGGER_SEND_MAX
 (
jîry_debuggî_‰ame_t
))

108 i‡(!
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_backåa˚_t
)))

112 
cuºít_‰ame
 = 0;

115 
jîry_debuggî_‰ame_t
 *
‰ame_p
 = 
backåa˚_p
->
‰ames
 + 
cuºít_‰ame
;

117 
jmem_˝oöãr_t
 
byã_code_˝
;

118 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
byã_code_˝
, 
‰ame_˘x_p
->
byãcode_hódî_p
);

119 
	`mem˝y
 (
‰ame_p
->
byã_code_˝
, &byã_code_˝,  (
jmem_˝oöãr_t
));

121 
uöt32_t
 
off£t
 = (uöt32_tË(
‰ame_˘x_p
->
byã_code_p
 - (
uöt8_t
 *Ë‰ame_˘x_p->
byãcode_hódî_p
);

122 
	`mem˝y
 (
‰ame_p
->
off£t
, &off£t,  (
uöt32_t
));

124 
‰ame_˘x_p
 = føme_˘x_p->
¥ev_c⁄ãxt_p
;

125 
cuºít_‰ame
++;

126 
max_dïth
--;

129 
size_t
 
mesßge_size
 = 
cuºít_‰ame
 *  (
jîry_debuggî_‰ame_t
);

131 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE
 (
backåa˚_p
, 1 + 
mesßge_size
);

132 
backåa˚_p
->
ty≥
 = 
JERRY_DEBUGGER_BACKTRACE_END
;

134 
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_ty≥_t
Ë+ 
mesßge_size
);

135 
	}
}

143 
boﬁ


144 
	$jîry_debuggî_£nd_evÆ
 (c⁄° 
lô_utf8_byã_t
 *
evÆ_°rög_p
,

145 
size_t
 
evÆ_°rög_size
)

147 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

148 
	`JERRY_ASSERT
 (!(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_VM_IGNORE
));

150 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_IGNORE
);

151 
ecma_vÆue_t
 
ªsu…
 = 
	`ecma_›_evÆ_ch¨s_buf„r
 (
evÆ_°rög_p
, 
evÆ_°rög_size
, 
åue
, 
Ál£
);

152 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË& ~
JERRY_DEBUGGER_VM_IGNORE
);

154 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

156 
ecma_vÆue_t
 
to_°rög_vÆue
 = 
	`ecma_›_to_°rög
 (
ªsu…
);

157 
	`ecma_‰ì_vÆue
 (
ªsu…
);

158 
ªsu…
 = 
to_°rög_vÆue
;

161 
ecma_vÆue_t
 
mesßge
 = 
ªsu…
;

162 
uöt8_t
 
ty≥
 = 
JERRY_DEBUGGER_EVAL_OK
;

164 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

166 
ty≥
 = 
JERRY_DEBUGGER_EVAL_ERROR
;

168 i‡(
	`ecma_is_vÆue_obje˘
 (
ªsu…
))

170 
ecma_°rög_t
 *
mesßge_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MESSAGE
);

172 
mesßge
 = 
	`ecma_›_obje˘_föd
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsu…
),

173 
mesßge_°rög_p
);

175 
	`ecma_dîef_ecma_°rög
 (
mesßge_°rög_p
);

177 i‡(!
	`ecma_is_vÆue_°rög
 (
mesßge
)

178 || 
	`ecma_°rög_is_em±y
 (
	`ecma_gë_°rög_‰om_vÆue
 (
mesßge
)))

180 
	`ecma_‰ì_vÆue
 (
mesßge
);

181 
lô_magic_°rög_id_t
 
id
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsu…
));

182 
	`ecma_‰ì_vÆue
 (
ªsu…
);

184 c⁄° 
lô_utf8_byã_t
 *
°rög_p
 = 
	`lô_gë_magic_°rög_utf8
 (
id
);

185  
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_EVAL_RESULT
,

186 
ty≥
,

187 
°rög_p
,

188 
	`°æí
 ((c⁄° *Ë
°rög_p
));

194 
mesßge
 = 
	`ecma_›_to_°rög
 (
ªsu…
);

195 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
mesßge
));

198 
	`ecma_‰ì_vÆue
 (
ªsu…
);

201 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
mesßge
);

203 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
buf„r_p
, 
buf„r_size
);

204 
boﬁ
 
suc˚ss
 = 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_EVAL_RESULT
, 
ty≥
, 
buf„r_p
, 
buf„r_size
);

205 
	`ECMA_FINALIZE_UTF8_STRING
 (
buf„r_p
, 
buf„r_size
);

207 
	`ecma_‰ì_vÆue
 (
mesßge
);

209  
suc˚ss
;

210 
	}
}

217 
	$jîry_debuggî_¶ìp
 ()

219 #ifde‡
HAVE_TIME_H


220 
	`«no¶ìp
 (&(c⁄° 
time•ec
)

222 
JERRY_DEBUGGER_TIMEOUT
 / 1000, (JERRY_DEBUGGER_TIMEOUT % 1000) * 1000000L

224 , 
NULL
);

225 #ñi‡
	`deföed
 (
HAVE_UNISTD_H
)

226 
	`u¶ìp
 ((
u£c⁄ds_t
Ë
JERRY_DEBUGGER_TIMEOUT
 * 1000);

228 
	}
}

233 
	#JERRY_DEBUGGER_CHECK_PACKET_SIZE
(
ty≥
) \

234 i‡(
mesßge_size
 ! (
ty≥
)) \

236 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n"); \

237 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 (); \

238  
Ál£
; \

239 }

	)

247 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


248 
	$jîry_debuggî_¥o˚ss_mesßge
 (
uöt8_t
 *
ªcv_buf„r_p
,

249 
uöt32_t
 
mesßge_size
,

250 
boﬁ
 *
ªsume_exec_p
,

251 
uöt8_t
 *
ex≥˘ed_mesßge_ty≥_p
,

252 
jîry_debuggî_uöt8_d©a_t
 **
mesßge_d©a_p
)

256 i‡(
ªcv_buf„r_p
[0] >
JERRY_DEBUGGER_CONTINUE


257 && !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_BREAKPOINT_MODE
))

259 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "MessageÑequires breakpoint mode\n");

260 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

261  
Ál£
;

264 i‡(*
ex≥˘ed_mesßge_ty≥_p
 != 0)

266 
	`JERRY_ASSERT
 (*
ex≥˘ed_mesßge_ty≥_p
 =
JERRY_DEBUGGER_EVAL_PART


267 || *
ex≥˘ed_mesßge_ty≥_p
 =
JERRY_DEBUGGER_CLIENT_SOURCE_PART
);

269 
jîry_debuggî_uöt8_d©a_t
 *
uöt8_d©a_p
 = (jîry_debuggî_uöt8_d©a_à*Ë*
mesßge_d©a_p
;

271 i‡(
ªcv_buf„r_p
[0] !*
ex≥˘ed_mesßge_ty≥_p
)

273 
	`jmem_hóp_‰ì_block
 (
uöt8_d©a_p
, uöt8_d©a_p->
uöt8_size
 +  (
jîry_debuggî_uöt8_d©a_t
));

274 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Unexpected message\n");

275 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

276  
Ál£
;

279 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_uöt8_d©a_∑π_t
, 
uöt8_d©a_∑π_p
);

281 i‡(
mesßge_size
 <  (
jîry_debuggî_ª˚ive_uöt8_d©a_∑π_t
) + 1)

283 
	`jmem_hóp_‰ì_block
 (
uöt8_d©a_p
, uöt8_d©a_p->
uöt8_size
 +  (
jîry_debuggî_uöt8_d©a_t
));

284 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n");

285 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

286  
Ál£
;

289 
uöt32_t
 
ex≥˘ed_d©a
 = 
uöt8_d©a_p
->
uöt8_size
 - uöt8_d©a_p->
uöt8_off£t
;

291 
mesßge_size
 -(
uöt32_t
Ë (
jîry_debuggî_ª˚ive_uöt8_d©a_∑π_t
);

293 i‡(
mesßge_size
 > 
ex≥˘ed_d©a
)

295 
	`jmem_hóp_‰ì_block
 (
uöt8_d©a_p
, uöt8_d©a_p->
uöt8_size
 +  (
jîry_debuggî_uöt8_d©a_t
));

296 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n");

297 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

298  
Ál£
;

301 
lô_utf8_byã_t
 *
°rög_p
 = (lô_utf8_byã_à*Ë(
uöt8_d©a_p
 + 1);

302 
	`mem˝y
 (
°rög_p
 + 
uöt8_d©a_p
->
uöt8_off£t
,

303 (
lô_utf8_byã_t
 *Ë(
uöt8_d©a_∑π_p
 + 1),

304 
mesßge_size
);

306 i‡(
mesßge_size
 < 
ex≥˘ed_d©a
)

308 
uöt8_d©a_p
->
uöt8_off£t
 +
mesßge_size
;

309  
åue
;

312 
boﬁ
 
ªsu…
 = 
Ál£
;

313 i‡(*
ex≥˘ed_mesßge_ty≥_p
 =
JERRY_DEBUGGER_EVAL_PART
)

315 
ªsu…
 = 
	`jîry_debuggî_£nd_evÆ
 (
°rög_p
, 
uöt8_d©a_p
->
uöt8_size
);

319 
ªsu…
 = 
åue
;

320 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
) (JERRY_CONTEXT (debugger_flags)

321 & ~
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
);

322 *
ªsume_exec_p
 = 
åue
;

325 *
ex≥˘ed_mesßge_ty≥_p
 = 0;

326  
ªsu…
;

329 
ªcv_buf„r_p
[0])

331 
JERRY_DEBUGGER_FREE_BYTE_CODE_CP
:

333 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_byã_code_˝_t
);

335 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_byã_code_˝_t
, 
byã_code_p
);

337 
jmem_˝oöãr_t
 
byã_code_‰ì_˝
;

338 
	`mem˝y
 (&
byã_code_‰ì_˝
, 
byã_code_p
->
byã_code_˝
,  (
jmem_˝oöãr_t
));

340 i‡(
byã_code_‰ì_˝
 !
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_èû
))

342 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid byte code free order\n");

343 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

344  
Ál£
;

347 
jîry_debuggî_byã_code_‰ì_t
 *
byã_code_‰ì_p
;

348 
byã_code_‰ì_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (
jîry_debuggî_byã_code_‰ì_t
,

349 
byã_code_‰ì_˝
);

351 i‡(
byã_code_‰ì_p
->
¥ev_˝
 !
ECMA_NULL_POINTER
)

353 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_èû
Ë
byã_code_‰ì_p
->
¥ev_˝
;

357 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_hód
Ë
ECMA_NULL_POINTER
;

358 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_èû
Ë
ECMA_NULL_POINTER
;

361 #ifde‡
JMEM_STATS


362 
	`jmem_°©s_‰ì_byã_code_byãs
 (((
size_t
Ë
byã_code_‰ì_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
);

365 
	`jmem_hóp_‰ì_block
 (
byã_code_‰ì_p
,

366 ((
size_t
Ë
byã_code_‰ì_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
);

367  
åue
;

370 
JERRY_DEBUGGER_UPDATE_BREAKPOINT
:

372 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_upd©e_bªakpoöt_t
);

374 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_upd©e_bªakpoöt_t
, 
upd©e_bªakpoöt_p
);

376 
jmem_˝oöãr_t
 
byã_code_˝
;

377 
	`mem˝y
 (&
byã_code_˝
, 
upd©e_bªakpoöt_p
->byã_code_˝,  (
jmem_˝oöãr_t
));

378 
uöt8_t
 *
byã_code_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (uöt8_t, 
byã_code_˝
);

380 
uöt32_t
 
off£t
;

381 
	`mem˝y
 (&
off£t
, 
upd©e_bªakpoöt_p
->off£t,  (
uöt32_t
));

382 
byã_code_p
 +
off£t
;

384 
	`JERRY_ASSERT
 (*
byã_code_p
 =
CBC_BREAKPOINT_ENABLED
 || *byã_code_∞=
CBC_BREAKPOINT_DISABLED
);

386 *
byã_code_p
 = 
upd©e_bªakpoöt_p
->
is_£t_bªakpoöt
 ? 
CBC_BREAKPOINT_ENABLED
 : 
CBC_BREAKPOINT_DISABLED
;

387  
åue
;

390 
JERRY_DEBUGGER_MEMSTATS
:

392 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ty≥_t
);

394 
	`jîry_debuggî_£nd_mem°©s
 ();

395  
åue
;

398 
JERRY_DEBUGGER_STOP
:

400 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ty≥_t
);

402 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_STOP
);

403 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

404 *
ªsume_exec_p
 = 
Ál£
;

405  
åue
;

408 
JERRY_DEBUGGER_CONTINUE
:

410 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ty≥_t
);

412 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË& ~
JERRY_DEBUGGER_VM_STOP
);

413 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

414 *
ªsume_exec_p
 = 
åue
;

415  
åue
;

418 
JERRY_DEBUGGER_STEP
:

420 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ty≥_t
);

422 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_STOP
);

423 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

424 *
ªsume_exec_p
 = 
åue
;

425  
åue
;

428 
JERRY_DEBUGGER_NEXT
:

430 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ty≥_t
);

432 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_VM_STOP
);

433 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
ËJERRY_CONTEXT (
vm_t›_c⁄ãxt_p
);

434 *
ªsume_exec_p
 = 
åue
;

435  
åue
;

438 
JERRY_DEBUGGER_GET_BACKTRACE
:

440 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_gë_backåa˚_t
);

442 
	`jîry_debuggî_£nd_backåa˚
 (
ªcv_buf„r_p
);

443  
åue
;

446 
JERRY_DEBUGGER_EXCEPTION_CONFIG
:

448 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ex˚±i⁄_c⁄fig_t
);

449 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_ex˚±i⁄_c⁄fig_t
, 
ex˚±i⁄_c⁄fig_p
);

451 
uöt8_t
 
debuggî_Êags
 = 
	`JERRY_CONTEXT
 (debugger_flags);

453 i‡(
ex˚±i⁄_c⁄fig_p
->
íabÀ
 == 0)

455 
debuggî_Êags
 = (
uöt8_t
Ë(debuggî_Êag†| 
JERRY_DEBUGGER_VM_IGNORE_EXCEPTION
);

456 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, "StopátÉxception disabled\n");

460 
debuggî_Êags
 = (
uöt8_t
Ë(debuggî_Êag†& ~
JERRY_DEBUGGER_VM_IGNORE_EXCEPTION
);

461 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, "StopátÉxceptionÉnabled\n");

464 
	`JERRY_CONTEXT
 (
debuggî_Êags
) = debugger_flags;

465  
åue
;

468 
JERRY_DEBUGGER_EVAL
:

470 i‡(
mesßge_size
 <  (
jîry_debuggî_ª˚ive_evÆ_fú°_t
) + 1)

472 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n");

473 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

474  
Ál£
;

477 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_evÆ_fú°_t
, 
evÆ_fú°_p
);

479 
uöt32_t
 
evÆ_size
;

480 
	`mem˝y
 (&
evÆ_size
, 
evÆ_fú°_p
->evÆ_size,  (
uöt32_t
));

482 i‡(
evÆ_size
 <
JERRY_DEBUGGER_MAX_RECEIVE_SIZE
 -  (
jîry_debuggî_ª˚ive_evÆ_fú°_t
))

484 i‡(
evÆ_size
 !
mesßge_size
 -  (
jîry_debuggî_ª˚ive_evÆ_fú°_t
))

486 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n");

487 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

488  
Ál£
;

491  
	`jîry_debuggî_£nd_evÆ
 ((
lô_utf8_byã_t
 *Ë(
evÆ_fú°_p
 + 1), 
evÆ_size
);

494 
jîry_debuggî_uöt8_d©a_t
 *
evÆ_uöt8_d©a_p
;

495 
size_t
 
evÆ_d©a_size
 =  (
jîry_debuggî_uöt8_d©a_t
Ë+ 
evÆ_size
;

497 
evÆ_uöt8_d©a_p
 = (
jîry_debuggî_uöt8_d©a_t
 *Ë
	`jmem_hóp_Æloc_block
 (
evÆ_d©a_size
);

499 
evÆ_uöt8_d©a_p
->
uöt8_size
 = 
evÆ_size
;

500 
evÆ_uöt8_d©a_p
->
uöt8_off£t
 = (
uöt32_t
Ë(
mesßge_size
 -  (
jîry_debuggî_ª˚ive_evÆ_fú°_t
));

502 
lô_utf8_byã_t
 *
evÆ_°rög_p
 = (lô_utf8_byã_à*Ë(
evÆ_uöt8_d©a_p
 + 1);

503 
	`mem˝y
 (
evÆ_°rög_p
,

504 (
lô_utf8_byã_t
 *Ë(
evÆ_fú°_p
 + 1),

505 
mesßge_size
 -  (
jîry_debuggî_ª˚ive_evÆ_fú°_t
));

507 *
mesßge_d©a_p
 = 
evÆ_uöt8_d©a_p
;

508 *
ex≥˘ed_mesßge_ty≥_p
 = 
JERRY_DEBUGGER_EVAL_PART
;

509  
åue
;

512 
JERRY_DEBUGGER_CLIENT_SOURCE
:

514 i‡(
mesßge_size
 < (
jîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
))

516 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n");

517 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

518  
Ál£
;

521 i‡(!(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
))

523 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Not in client source mode\n");

524 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

525  
Ál£
;

528 
	`JERRY_DEBUGGER_RECEIVE_BUFFER_AS
 (
jîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
, 
˛õ¡_sour˚_fú°_p
);

530 
uöt32_t
 
˛õ¡_sour˚_size
;

531 
	`mem˝y
 (&
˛õ¡_sour˚_size
, 
˛õ¡_sour˚_fú°_p
->
code_size
,  (
uöt32_t
));

533 i‡(
˛õ¡_sour˚_size
 <
JERRY_DEBUGGER_MAX_RECEIVE_SIZE
 -  (
jîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
)

534 && 
˛õ¡_sour˚_size
 !
mesßge_size
 -  (
jîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
))

536 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Invalid message size\n");

537 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

538  
Ál£
;

541 
jîry_debuggî_uöt8_d©a_t
 *
˛õ¡_sour˚_d©a_p
;

542 
size_t
 
˛õ¡_sour˚_d©a_size
 =  (
jîry_debuggî_uöt8_d©a_t
Ë+ 
˛õ¡_sour˚_size
;

544 
˛õ¡_sour˚_d©a_p
 = (
jîry_debuggî_uöt8_d©a_t
 *Ë
	`jmem_hóp_Æloc_block
 (
˛õ¡_sour˚_d©a_size
);

546 
˛õ¡_sour˚_d©a_p
->
uöt8_size
 = 
˛õ¡_sour˚_size
;

547 
˛õ¡_sour˚_d©a_p
->
uöt8_off£t
 = (
uöt32_t
Ë(
mesßge_size


548 -  (
jîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
));

550 
lô_utf8_byã_t
 *
˛õ¡_sour˚_°rög_p
 = (lô_utf8_byã_à*Ë(
˛õ¡_sour˚_d©a_p
 + 1);

551 
	`mem˝y
 (
˛õ¡_sour˚_°rög_p
,

552 (
lô_utf8_byã_t
 *Ë(
˛õ¡_sour˚_fú°_p
 + 1),

553 
mesßge_size
 -  (
jîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
));

555 *
mesßge_d©a_p
 = 
˛õ¡_sour˚_d©a_p
;

557 i‡(
˛õ¡_sour˚_d©a_p
->
uöt8_size
 !˛õ¡_sour˚_d©a_p->
uöt8_off£t
)

559 *
ex≥˘ed_mesßge_ty≥_p
 = 
JERRY_DEBUGGER_CLIENT_SOURCE_PART
;

563 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
) (JERRY_CONTEXT (debugger_flags)

564 & ~
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
);

565 *
ªsume_exec_p
 = 
åue
;

567  
åue
;

570 
JERRY_DEBUGGER_NO_MORE_SOURCES
:

572 i‡(!(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
))

574 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Not in client source mode\n");

575 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

576  
Ál£
;

579 
	`JERRY_DEBUGGER_CHECK_PACKET_SIZE
 (
jîry_debuggî_ª˚ive_ty≥_t
);

581 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË& ~
JERRY_DEBUGGER_CLIENT_SOURCE_MODE
);

582 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_CLIENT_NO_SOURCE
);

584 *
ªsume_exec_p
 = 
åue
;

586  
åue
;

591 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Unexpected message.");

592 
	`jîry_debuggî_˛o£_c⁄√˘i⁄
 ();

593  
Ál£
;

596 
	}
}

598 #unde‡
JERRY_DEBUGGER_CHECK_PACKET_SIZE


604 
	$jîry_debuggî_bªakpoöt_hô
 (
uöt8_t
 
mesßge_ty≥
)

606 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

608 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_bªakpoöt_hô_t
, 
bªakpoöt_hô_p
);

610 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
bªakpoöt_hô_p
);

611 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
bªakpoöt_hô_p
, 
jîry_debuggî_£nd_bªakpoöt_hô_t
);

612 
bªakpoöt_hô_p
->
ty≥
 = 
mesßge_ty≥
;

614 
vm_‰ame_˘x_t
 *
‰ame_˘x_p
 = 
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
);

616 
jmem_˝oöãr_t
 
byã_code_hódî_˝
;

617 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
byã_code_hódî_˝
, 
‰ame_˘x_p
->
byãcode_hódî_p
);

618 
	`mem˝y
 (
bªakpoöt_hô_p
->
byã_code_˝
, &
byã_code_hódî_˝
,  (
jmem_˝oöãr_t
));

620 
uöt32_t
 
off£t
 = (uöt32_tË(
‰ame_˘x_p
->
byã_code_p
 - (
uöt8_t
 *Ë‰ame_˘x_p->
byãcode_hódî_p
);

621 
	`mem˝y
 (
bªakpoöt_hô_p
->
off£t
, &off£t,  (
uöt32_t
));

623 i‡(!
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_bªakpoöt_hô_t
)))

628 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË| 
JERRY_DEBUGGER_BREAKPOINT_MODE
);

630 
jîry_debuggî_uöt8_d©a_t
 *
uöt8_d©a
 = 
NULL
;

632 !
	`jîry_debuggî_ª˚ive
 (&
uöt8_d©a
))

634 
	`jîry_debuggî_¶ìp
 ();

637 i‡(
uöt8_d©a
 !
NULL
)

639 
	`jmem_hóp_‰ì_block
 (
uöt8_d©a
,

640 
uöt8_d©a
->
uöt8_size
 +  (
jîry_debuggî_uöt8_d©a_t
));

643 
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë(
uöt8_t
Ë(JERRY_CONTEXT (debuggî_ÊagsË& ~
JERRY_DEBUGGER_BREAKPOINT_MODE
);

645 
	`JERRY_CONTEXT
 (
debuggî_mesßge_dñay
Ë
JERRY_DEBUGGER_MESSAGE_FREQUENCY
;

646 
	}
}

652 
	$jîry_debuggî_£nd_ty≥
 (
jîry_debuggî_hódî_ty≥_t
 
ty≥
)

654 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

656 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_ty≥_t
, 
mesßge_ty≥_p
);

658 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
mesßge_ty≥_p
);

659 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
mesßge_ty≥_p
, 
jîry_debuggî_£nd_ty≥_t
);

660 
mesßge_ty≥_p
->
ty≥
 = (
uöt8_t
)Åype;

662 
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_ty≥_t
));

663 
	}
}

672 
boﬁ


673 
	$jîry_debuggî_£nd_c⁄figuøti⁄
 (
uöt8_t
 
max_mesßge_size
)

675 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_c⁄figuøti⁄_t
, 
c⁄figuøti⁄_p
);

680 
uöt16_t
 
uöt16_vÆue
;

681 
uöt8_t
 
uöt8_vÆue
[2];

682 } 
ídün_d©a
;

684 
ídün_d©a
.
uöt16_vÆue
 = 1;

686 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
c⁄figuøti⁄_p
);

687 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
c⁄figuøti⁄_p
, 
jîry_debuggî_£nd_c⁄figuøti⁄_t
);

688 
c⁄figuøti⁄_p
->
ty≥
 = 
JERRY_DEBUGGER_CONFIGURATION
;

689 
c⁄figuøti⁄_p
->
max_mesßge_size
 = max_message_size;

690 
c⁄figuøti⁄_p
->
˝oöãr_size
 =  (
jmem_˝oöãr_t
);

691 
c⁄figuøti⁄_p
->
lôée_ídün
 = (
ídün_d©a
.
uöt8_vÆue
[0] == 1);

693  
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_c⁄figuøti⁄_t
));

694 
	}
}

700 
	$jîry_debuggî_£nd_d©a
 (
jîry_debuggî_hódî_ty≥_t
 
ty≥
,

701 c⁄° *
d©a
,

702 
size_t
 
size
)

704 
	`JERRY_ASSERT
 (
size
 <
	`JERRY_DEBUGGER_SEND_MAX
 (
uöt8_t
));

706 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_ty≥_t
, 
mesßge_ty≥_p
);

708 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
mesßge_ty≥_p
);

709 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE
 (
mesßge_ty≥_p
, 1 + 
size
);

710 
mesßge_ty≥_p
->
ty≥
 =Åype;

711 
	`mem˝y
 (
mesßge_ty≥_p
 + 1, 
d©a
, 
size
);

713 
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_ty≥_t
Ë+ 
size
);

714 
	}
}

722 
boﬁ


723 
	$jîry_debuggî_£nd_°rög
 (
uöt8_t
 
mesßge_ty≥
,

724 
uöt8_t
 
sub_ty≥
,

725 c⁄° 
uöt8_t
 *
°rög_p
,

726 
size_t
 
°rög_Àngth
)

728 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

730 c⁄° 
size_t
 
max_‰agmít_Àn
 = 
	`JERRY_DEBUGGER_SEND_MAX
 (
uöt8_t
);

732 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_°rög_t
, 
mesßge_°rög_p
);

734 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
mesßge_°rög_p
);

735 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
mesßge_°rög_p
, 
jîry_debuggî_£nd_°rög_t
);

736 
mesßge_°rög_p
->
ty≥
 = 
mesßge_ty≥
;

738 
°rög_Àngth
 > 
max_‰agmít_Àn
)

740 
	`mem˝y
 (
mesßge_°rög_p
->
°rög
, 
°rög_p
, 
max_‰agmít_Àn
);

742 i‡(!
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_°rög_t
)))

744  
Ál£
;

747 
°rög_Àngth
 -
max_‰agmít_Àn
;

748 
°rög_p
 +
max_‰agmít_Àn
;

751 i‡(
sub_ty≥
 !
JERRY_DEBUGGER_NO_SUBTYPE
)

753 
°rög_Àngth
 += 1;

756 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE
 (
mesßge_°rög_p
, 1 + 
°rög_Àngth
);

757 
mesßge_°rög_p
->
ty≥
 = (
uöt8_t
Ë(
mesßge_ty≥
 + 1);

759 
	`mem˝y
 (
mesßge_°rög_p
->
°rög
, 
°rög_p
, 
°rög_Àngth
);

760 i‡(
sub_ty≥
 !
JERRY_DEBUGGER_NO_SUBTYPE
)

762 
mesßge_°rög_p
->
°rög
[
°rög_Àngth
 - 1] = 
sub_ty≥
;

765  
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_ty≥_t
Ë+ 
°rög_Àngth
);

766 
	}
}

774 
boﬁ


775 
	$jîry_debuggî_£nd_fun˘i⁄_˝
 (
jîry_debuggî_hódî_ty≥_t
 
ty≥
,

776 
ecma_compûed_code_t
 *
compûed_code_p
)

778 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

780 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_byã_code_˝_t
, 
byã_code_˝_p
);

782 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
byã_code_˝_p
);

783 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
byã_code_˝_p
, 
jîry_debuggî_£nd_byã_code_˝_t
);

784 
byã_code_˝_p
->
ty≥
 = (
uöt8_t
)Åype;

786 
jmem_˝oöãr_t
 
compûed_code_˝
;

787 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
compûed_code_˝
, 
compûed_code_p
);

788 
	`mem˝y
 (
byã_code_˝_p
->
byã_code_˝
, &
compûed_code_˝
,  (
jmem_˝oöãr_t
));

790  
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_byã_code_˝_t
));

791 
	}
}

799 
boﬁ


800 
	$jîry_debuggî_£nd_∑r£_fun˘i⁄
 (
uöt32_t
 
löe
,

801 
uöt32_t
 
cﬁumn
)

803 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

805 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_∑r£_fun˘i⁄_t
, 
mesßge_∑r£_fun˘i⁄_p
);

807 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
mesßge_∑r£_fun˘i⁄_p
);

808 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
mesßge_∑r£_fun˘i⁄_p
, 
jîry_debuggî_£nd_∑r£_fun˘i⁄_t
);

809 
mesßge_∑r£_fun˘i⁄_p
->
ty≥
 = 
JERRY_DEBUGGER_PARSE_FUNCTION
;

810 
	`mem˝y
 (
mesßge_∑r£_fun˘i⁄_p
->
löe
, &löe,  (
uöt32_t
));

811 
	`mem˝y
 (
mesßge_∑r£_fun˘i⁄_p
->
cﬁumn
, &cﬁumn,  (
uöt32_t
));

813  
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_∑r£_fun˘i⁄_t
));

814 
	}
}

820 
	$jîry_debuggî_£nd_mem°©s
 ()

822 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

824 
	`JERRY_DEBUGGER_SEND_BUFFER_AS
 (
jîry_debuggî_£nd_mem°©s_t
, 
mem°©s_p
);

825 
	`JERRY_DEBUGGER_INIT_SEND_MESSAGE
 (
mem°©s_p
);

826 
	`JERRY_DEBUGGER_SET_SEND_MESSAGE_SIZE_FROM_TYPE
 (
mem°©s_p
, 
jîry_debuggî_£nd_mem°©s_t
);

828 
mem°©s_p
->
ty≥
 = 
JERRY_DEBUGGER_MEMSTATS_RECEIVE
;

830 #ifde‡
JMEM_STATS


831 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

833 
uöt32_t
 
Æloˇãd_byãs
 = (uöt32_tË
hóp_°©s
->allocated_bytes;

834 
	`mem˝y
 (
mem°©s_p
->
Æloˇãd_byãs
, &Æloˇãd_byãs,  (
uöt32_t
));

835 
uöt32_t
 
byã_code_byãs
 = (uöt32_tË
hóp_°©s
->byte_code_bytes;

836 
	`mem˝y
 (
mem°©s_p
->
byã_code_byãs
, &byã_code_byãs,  (
uöt32_t
));

837 
uöt32_t
 
°rög_byãs
 = (uöt32_tË
hóp_°©s
->string_bytes;

838 
	`mem˝y
 (
mem°©s_p
->
°rög_byãs
, &°rög_byãs,  (
uöt32_t
));

839 
uöt32_t
 
obje˘_byãs
 = (uöt32_tË
hóp_°©s
->object_bytes;

840 
	`mem˝y
 (
mem°©s_p
->
obje˘_byãs
, &obje˘_byãs,  (
uöt32_t
));

841 
uöt32_t
 
¥›îty_byãs
 = (uöt32_tË
hóp_°©s
->property_bytes;

842 
	`mem˝y
 (
mem°©s_p
->
¥›îty_byãs
, &¥›îty_byãs,  (
uöt32_t
));

844 
	`mem£t
 (
mem°©s_p
->
Æloˇãd_byãs
, 0,  (
uöt32_t
));

845 
	`mem£t
 (
mem°©s_p
->
byã_code_byãs
, 0,  (
uöt32_t
));

846 
	`mem£t
 (
mem°©s_p
->
°rög_byãs
, 0,  (
uöt32_t
));

847 
	`mem£t
 (
mem°©s_p
->
obje˘_byãs
, 0,  (
uöt32_t
));

848 
	`mem£t
 (
mem°©s_p
->
¥›îty_byãs
, 0,  (
uöt32_t
));

851 
	`jîry_debuggî_£nd
 ( (
jîry_debuggî_£nd_mem°©s_t
));

852 
	}
}

859 
ecma_°rög_t
 *

860 
	$jîry_debuggî_ex˚±i⁄_obje˘_to_°rög
 (
ecma_vÆue_t
 
ex˚±i⁄_obj_vÆue
)

862 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ex˚±i⁄_obj_vÆue
);

864 
ecma_obje˘_t
 *
¥ŸŸy≥_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (
obje˘_p
);

866 i‡(
¥ŸŸy≥_p
 =
NULL


867 || 
	`ecma_gë_obje˘_ty≥
 (
¥ŸŸy≥_p
Ë!
ECMA_OBJECT_TYPE_GENERAL


868 || !
	`ecma_gë_obje˘_is_buûtö
 (
¥ŸŸy≥_p
))

870  
NULL
;

873 
lô_magic_°rög_id_t
 
°rög_id
;

875 ((
ecma_exãnded_obje˘_t
 *Ë
¥ŸŸy≥_p
)->
u
.
buût_ö
.
id
)

877 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


878 
ECMA_BUILTIN_ID_EVAL_ERROR_PROTOTYPE
:

880 
°rög_id
 = 
LIT_MAGIC_STRING_EVAL_ERROR_UL
;

883 
ECMA_BUILTIN_ID_RANGE_ERROR_PROTOTYPE
:

885 
°rög_id
 = 
LIT_MAGIC_STRING_RANGE_ERROR_UL
;

888 
ECMA_BUILTIN_ID_REFERENCE_ERROR_PROTOTYPE
:

890 
°rög_id
 = 
LIT_MAGIC_STRING_REFERENCE_ERROR_UL
;

893 
ECMA_BUILTIN_ID_SYNTAX_ERROR_PROTOTYPE
:

895 
°rög_id
 = 
LIT_MAGIC_STRING_SYNTAX_ERROR_UL
;

898 
ECMA_BUILTIN_ID_TYPE_ERROR_PROTOTYPE
:

900 
°rög_id
 = 
LIT_MAGIC_STRING_TYPE_ERROR_UL
;

903 
ECMA_BUILTIN_ID_URI_ERROR_PROTOTYPE
:

905 
°rög_id
 = 
LIT_MAGIC_STRING_URI_ERROR_UL
;

909 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
:

911 
°rög_id
 = 
LIT_MAGIC_STRING_ERROR_UL
;

916  
NULL
;

920 
lô_utf8_size_t
 
size
 = 
	`lô_gë_magic_°rög_size
 (
°rög_id
);

921 
	`JERRY_ASSERT
 (
size
 <= 14);

923 
lô_utf8_byã_t
 
d©a
[16];

924 
	`mem˝y
 (
d©a
, 
	`lô_gë_magic_°rög_utf8
 (
°rög_id
), 
size
);

926 
ecma_°rög_t
 
mesßge_°rög
;

927 
	`ecma_öô_ecma_magic_°rög
 (&
mesßge_°rög
, 
LIT_MAGIC_STRING_MESSAGE
);

929 
ecma_¥›îty_t
 *
¥›îty_p
;

930 
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ex˚±i⁄_obj_vÆue
),

931 &
mesßge_°rög
);

933 i‡(
¥›îty_p
 =
NULL


934 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë!
ECMA_PROPERTY_TYPE_NAMEDDATA
)

936  
	`ecma_√w_ecma_°rög_‰om_utf8
 (
d©a
, 
size
);

939 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

941 i‡(!
	`ecma_is_vÆue_°rög
 (
¥›_vÆue_p
->
vÆue
))

943  
	`ecma_√w_ecma_°rög_‰om_utf8
 (
d©a
, 
size
);

946 
d©a
[
size
] = 
LIT_CHAR_COLON
;

947 
d©a
[
size
 + 1] = 
LIT_CHAR_SP
;

949 
ecma_°rög_t
 *
ty≥_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
d©a
, 
size
 + 2);

951 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ty≥_°rög_p
,

952 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_vÆue_p
->
vÆue
));

953 
	`ecma_dîef_ecma_°rög
 (
ty≥_°rög_p
);

954  
°rög_p
;

955 
	}
}

963 
boﬁ


964 
	$jîry_debuggî_£nd_ex˚±i⁄_°rög
 (
ecma_vÆue_t
 
ex˚±i⁄_vÆue
)

966 
ecma_°rög_t
 *
°rög_p
 = 
NULL
;

968 i‡(
	`ecma_is_vÆue_obje˘
 (
ex˚±i⁄_vÆue
))

970 
ecma_vÆue_t
 
obje˘_vÆue
 = 
	`ecma_gë_vÆue_‰om_îr‹_vÆue
 (
ex˚±i⁄_vÆue
);

972 
°rög_p
 = 
	`jîry_debuggî_ex˚±i⁄_obje˘_to_°rög
 (
obje˘_vÆue
);

973 i‡(
°rög_p
 =
NULL
)

975 
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
	`ecma_buûtö_hñ≥r_obje˘_to_°rög
 (
obje˘_vÆue
));

978 i‡(
	`ecma_is_vÆue_°rög
 (
ex˚±i⁄_vÆue
))

980 
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ex˚±i⁄_vÆue
);

981 
	`ecma_ªf_ecma_°rög
 (
°rög_p
);

985 
ex˚±i⁄_vÆue
 = 
	`ecma_›_to_°rög
 (exception_value);

986 
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ex˚±i⁄_vÆue
);

989 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
°rög_d©a_p
, 
°rög_size
);

991 
boﬁ
 
ªsu…
 = 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_EXCEPTION_STR
,

992 
JERRY_DEBUGGER_NO_SUBTYPE
,

993 
°rög_d©a_p
,

994 
°rög_size
);

996 
	`ECMA_FINALIZE_UTF8_STRING
 (
°rög_d©a_p
, 
°rög_size
);

998 
	`ecma_dîef_ecma_°rög
 (
°rög_p
);

999  
ªsu…
;

1000 
	}
}

	@deps/jerry/jerry-core/debugger/debugger.h

16 #i‚de‡
DEBUGGER_H


17 
	#DEBUGGER_H


	)

19 
	~"debuggî-ws.h
"

20 
	~"ecma-globÆs.h
"

22 #ifde‡
JERRY_DEBUGGER


29 
	#JERRY_DEBUGGER_MESSAGE_FREQUENCY
 5

	)

34 
	#JERRY_DEBUGGER_TIMEOUT
 100

	)

39 
	#JERRY_DEBUGGER_NO_SUBTYPE
 0

	)

45 #i‡
JERRY_DEBUGGER_MAX_BUFFER_SIZE
 < 64 || JERRY_DEBUGGER_MAX_BUFFER_SIZE > 256

46 #îr‹ 
PÀa£
 
deföe
 
the
 
MAX_BUFFER_SIZE
 
bëwìn
 64 
™d
 256 
byãs
.

53 
	#JERRY_DEBUGGER_SEND_MAX
(
ty≥
) \

54 ((
JERRY_DEBUGGER_MAX_SEND_SIZE
 -  (
jîry_debuggî_£nd_hódî_t
Ë- 1Ë/  (
ty≥
))

	)

86 
	mJERRY_DEBUGGER_CONNECTED
 = 1u << 0,

87 
	mJERRY_DEBUGGER_BREAKPOINT_MODE
 = 1u << 1,

88 
	mJERRY_DEBUGGER_VM_STOP
 = 1u << 2,

89 
	mJERRY_DEBUGGER_VM_IGNORE
 = 1u << 3,

90 
	mJERRY_DEBUGGER_VM_IGNORE_EXCEPTION
 = 1u << 4,

91 
	mJERRY_DEBUGGER_CLIENT_SOURCE_MODE
 = 1u << 5,

92 
	mJERRY_DEBUGGER_CLIENT_NO_SOURCE
 = 1u << 6,

93 } 
	tjîry_debuggî_Êags_t
;

101 
	mJERRY_DEBUGGER_CONFIGURATION
 = 1,

102 
	mJERRY_DEBUGGER_PARSE_ERROR
 = 2,

103 
	mJERRY_DEBUGGER_BYTE_CODE_CP
 = 3,

104 
	mJERRY_DEBUGGER_PARSE_FUNCTION
 = 4,

105 
	mJERRY_DEBUGGER_BREAKPOINT_LIST
 = 5,

106 
	mJERRY_DEBUGGER_BREAKPOINT_OFFSET_LIST
 = 6,

107 
	mJERRY_DEBUGGER_SOURCE_CODE
 = 7,

108 
	mJERRY_DEBUGGER_SOURCE_CODE_END
 = 8,

109 
	mJERRY_DEBUGGER_SOURCE_CODE_NAME
 = 9,

110 
	mJERRY_DEBUGGER_SOURCE_CODE_NAME_END
 = 10,

111 
	mJERRY_DEBUGGER_FUNCTION_NAME
 = 11,

112 
	mJERRY_DEBUGGER_FUNCTION_NAME_END
 = 12,

113 
	mJERRY_DEBUGGER_RELEASE_BYTE_CODE_CP
 = 13,

114 
	mJERRY_DEBUGGER_MEMSTATS_RECEIVE
 = 14,

115 
	mJERRY_DEBUGGER_BREAKPOINT_HIT
 = 15,

116 
	mJERRY_DEBUGGER_EXCEPTION_HIT
 = 16,

117 
	mJERRY_DEBUGGER_EXCEPTION_STR
 = 17,

118 
	mJERRY_DEBUGGER_EXCEPTION_STR_END
 = 18,

119 
	mJERRY_DEBUGGER_BACKTRACE
 = 19,

120 
	mJERRY_DEBUGGER_BACKTRACE_END
 = 20,

121 
	mJERRY_DEBUGGER_EVAL_RESULT
 = 21,

122 
	mJERRY_DEBUGGER_EVAL_RESULT_END
 = 22,

123 
	mJERRY_DEBUGGER_WAIT_FOR_SOURCE
 = 23,

124 
	mJERRY_DEBUGGER_OUTPUT_RESULT
 = 24,

125 
	mJERRY_DEBUGGER_OUTPUT_RESULT_END
 = 25,

130 
	mJERRY_DEBUGGER_FREE_BYTE_CODE_CP
 = 1,

131 
	mJERRY_DEBUGGER_UPDATE_BREAKPOINT
 = 2,

132 
	mJERRY_DEBUGGER_EXCEPTION_CONFIG
 = 3,

133 
	mJERRY_DEBUGGER_MEMSTATS
 = 4,

134 
	mJERRY_DEBUGGER_STOP
 = 5,

135 
	mJERRY_DEBUGGER_CLIENT_SOURCE
 = 6,

136 
	mJERRY_DEBUGGER_CLIENT_SOURCE_PART
 = 7,

137 
	mJERRY_DEBUGGER_NO_MORE_SOURCES
 = 8,

140 
	mJERRY_DEBUGGER_CONTINUE
 = 9,

141 
	mJERRY_DEBUGGER_STEP
 = 10,

142 
	mJERRY_DEBUGGER_NEXT
 = 11,

145 
	mJERRY_DEBUGGER_GET_BACKTRACE
 = 12,

146 
	mJERRY_DEBUGGER_EVAL
 = 13,

147 
	mJERRY_DEBUGGER_EVAL_PART
 = 14,

148 } 
	tjîry_debuggî_hódî_ty≥_t
;

155 
	mJERRY_DEBUGGER_EVAL_OK
 = 1,

156 
	mJERRY_DEBUGGER_EVAL_ERROR
 = 2,

157 } 
	tjîry_debuggî_evÆ_subty≥_t
;

164 
	mJERRY_DEBUGGER_OUTPUT_OK
 = 1,

165 
	mJERRY_DEBUGGER_OUTPUT_ERROR
 = 2,

166 
	mJERRY_DEBUGGER_OUTPUT_WARNING
 = 3,

167 
	mJERRY_DEBUGGER_OUTPUT_DEBUG
 = 4,

168 
	mJERRY_DEBUGGER_OUTPUT_TRACE
 = 5,

169 } 
	tjîry_debuggî_ouçut_subty≥_t
;

176 
uöt16_t
 
	msize
;

177 
jmem_˝oöãr_t
 
	m¥ev_˝
;

178 } 
	tjîry_debuggî_byã_code_‰ì_t
;

185 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

186 
uöt8_t
 
	mty≥
;

187 
uöt8_t
 
	mmax_mesßge_size
;

188 
uöt8_t
 
	m˝oöãr_size
;

189 
uöt8_t
 
	mlôée_ídün
;

190 } 
	tjîry_debuggî_£nd_c⁄figuøti⁄_t
;

197 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

198 
uöt8_t
 
	mty≥
;

199 } 
	tjîry_debuggî_£nd_ty≥_t
;

206 
uöt8_t
 
	mty≥
;

207 } 
	tjîry_debuggî_ª˚ive_ty≥_t
;

214 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

215 
uöt8_t
 
	mty≥
;

216 
uöt8_t
 
	m°rög
[
JERRY_DEBUGGER_SEND_MAX
 (uint8_t)];

217 } 
	tjîry_debuggî_£nd_°rög_t
;

224 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

225 
uöt8_t
 
	mty≥
;

226 
uöt8_t
 
	mlöe
[ (
uöt32_t
)];

227 
uöt8_t
 
	mcﬁumn
[ (
uöt32_t
)];

228 } 
	tjîry_debuggî_£nd_∑r£_fun˘i⁄_t
;

235 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

236 
uöt8_t
 
	mty≥
;

237 
uöt8_t
 
	mbyã_code_˝
[ (
jmem_˝oöãr_t
)];

238 } 
	tjîry_debuggî_£nd_byã_code_˝_t
;

245 
uöt8_t
 
	mty≥
;

246 
uöt8_t
 
	mbyã_code_˝
[ (
jmem_˝oöãr_t
)];

247 } 
	tjîry_debuggî_ª˚ive_byã_code_˝_t
;

254 
uöt8_t
 
	mty≥
;

255 
uöt8_t
 
	mis_£t_bªakpoöt
;

256 
uöt8_t
 
	mbyã_code_˝
[ (
jmem_˝oöãr_t
)];

257 
uöt8_t
 
	moff£t
[ (
uöt32_t
)];

258 } 
	tjîry_debuggî_ª˚ive_upd©e_bªakpoöt_t
;

265 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

266 
uöt8_t
 
	mty≥
;

267 
uöt8_t
 
	mÆloˇãd_byãs
[ (
uöt32_t
)];

268 
uöt8_t
 
	mbyã_code_byãs
[ (
uöt32_t
)];

269 
uöt8_t
 
	m°rög_byãs
[ (
uöt32_t
)];

270 
uöt8_t
 
	mobje˘_byãs
[ (
uöt32_t
)];

271 
uöt8_t
 
	m¥›îty_byãs
[ (
uöt32_t
)];

272 } 
	tjîry_debuggî_£nd_mem°©s_t
;

279 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

280 
uöt8_t
 
	mty≥
;

281 
uöt8_t
 
	mbyã_code_˝
[ (
jmem_˝oöãr_t
)];

282 
uöt8_t
 
	moff£t
[ (
uöt32_t
)];

283 } 
	tjîry_debuggî_£nd_bªakpoöt_hô_t
;

290 
uöt8_t
 
	mbyã_code_˝
[ (
jmem_˝oöãr_t
)];

291 
uöt8_t
 
	moff£t
[ (
uöt32_t
)];

292 } 
	tjîry_debuggî_‰ame_t
;

299 
jîry_debuggî_£nd_hódî_t
 
	mhódî
;

300 
uöt8_t
 
	mty≥
;

301 
jîry_debuggî_‰ame_t
 
	m‰ames
[
JERRY_DEBUGGER_SEND_MAX
 (jerry_debugger_frame_t)];

302 } 
	tjîry_debuggî_£nd_backåa˚_t
;

306 
uöt8_t
 
	mty≥
;

307 
uöt8_t
 
	míabÀ
;

308 } 
	tjîry_debuggî_ª˚ive_ex˚±i⁄_c⁄fig_t
;

315 
uöt8_t
 
	mty≥
;

316 
uöt8_t
 
	mmax_dïth
[ (
uöt32_t
)];

317 } 
	tjîry_debuggî_ª˚ive_gë_backåa˚_t
;

324 
uöt8_t
 
	mty≥
;

325 
uöt8_t
 
	mevÆ_size
[ (
uöt32_t
)];

326 } 
	tjîry_debuggî_ª˚ive_evÆ_fú°_t
;

333 
uöt8_t
 
	mty≥
;

334 
uöt8_t
 
	mcode_size
[ (
uöt32_t
)];

335 } 
	tjîry_debuggî_ª˚ive_˛õ¡_sour˚_fú°_t
;

337 
jîry_debuggî_‰ì_uƒe„ªn˚d_byã_code
 ();

339 
jîry_debuggî_¶ìp
 ();

341 
boﬁ
 
jîry_debuggî_¥o˚ss_mesßge
 (
uöt8_t
 *
ªcv_buf„r_p
, 
uöt32_t
 
mesßge_size
,

342 
boﬁ
 *
ªsume_exec_p
, 
uöt8_t
 *
ex≥˘ed_mesßge_p
,

343 
jîry_debuggî_uöt8_d©a_t
 **
mesßge_d©a_p
);

344 
jîry_debuggî_bªakpoöt_hô
 (
uöt8_t
 
mesßge_ty≥
);

346 
jîry_debuggî_£nd_ty≥
 (
jîry_debuggî_hódî_ty≥_t
 
ty≥
);

347 
boﬁ
 
jîry_debuggî_£nd_c⁄figuøti⁄
 (
uöt8_t
 
max_mesßge_size
);

348 
jîry_debuggî_£nd_d©a
 (
jîry_debuggî_hódî_ty≥_t
 
ty≥
, c⁄° *
d©a
, 
size_t
 
size
);

349 
boﬁ
 
jîry_debuggî_£nd_°rög
 (
uöt8_t
 
mesßge_ty≥
, uöt8_à
sub_ty≥
, c⁄° uöt8_à*
°rög_p
, 
size_t
 
°rög_Àngth
);

350 
boﬁ
 
jîry_debuggî_£nd_fun˘i⁄_˝
 (
jîry_debuggî_hódî_ty≥_t
 
ty≥
, 
ecma_compûed_code_t
 *
compûed_code_p
);

351 
boﬁ
 
jîry_debuggî_£nd_∑r£_fun˘i⁄
 (
uöt32_t
 
löe
, uöt32_à
cﬁumn
);

352 
jîry_debuggî_£nd_mem°©s
 ();

353 
boﬁ
 
jîry_debuggî_£nd_ex˚±i⁄_°rög
 (
ecma_vÆue_t
 
ex˚±i⁄_vÆue
);

	@deps/jerry/jerry-core/ecma/base/ecma-alloc.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-lˇche.h
"

20 
	~"jπ.h
"

21 
	~"jmem.h
"

22 
	~"jc⁄ãxt.h
"

24 
JERRY_STATIC_ASSERT
 ( (
ecma_¥›îty_vÆue_t
Ë= (
ecma_vÆue_t
),

25 
size_of_ecma_¥›îty_vÆue_t_mu°_be_equÆ_to_size_of_ecma_vÆue_t
);

26 
JERRY_STATIC_ASSERT
 ((( (
ecma_¥›îty_vÆue_t
) - 1) &  (ecma_property_value_t)) == 0,

27 
size_of_ecma_¥›îty_vÆue_t_mu°_be_powî_of_2
);

29 
JERRY_STATIC_ASSERT
 ( (
ecma_°rög_t
Ë= (
uöt64_t
),

30 
size_of_ecma_°rög_t_mu°_be_Àss_th™_‹_equÆ_to_8_byãs
);

32 
JERRY_STATIC_ASSERT
 ( (
ecma_exãnded_obje˘_t
Ë-  (
ecma_obje˘_t
Ë< (
uöt64_t
),

33 
size_of_ecma_exãnded_obje˘_∑π_mu°_be_Àss_th™_‹_equÆ_to_8_byãs
);

57 
	#ALLOC
(
ecma_ty≥
Ë
ecma_
 ##Écma_ty≥ ## 
_t
 * \

58 
ecma_Æloc_
 ## 
	`ecma_ty≥
 () \

60 
ecma_
 ## 
ecma_ty≥
 ## 
_t
 *ecma_ty≥ ## 
_p
; \

61 
ecma_ty≥
 ## 
_p
 = (
ecma_
 ##Écma_ty≥ ## 
_t
 *Ë
	`jmem_poﬁs_Æloc
 ( (ecma_ ##Écma_type ## _t)); \

63 
	`JERRY_ASSERT
 (
ecma_ty≥
 ## 
_p
 !
NULL
); \

65  
ecma_ty≥
 ## 
_p
; \

66 }

	)

71 
	#DEALLOC
(
ecma_ty≥
) \

72 
ecma_dóŒoc_
 ## 
	`ecma_ty≥
 (
ecma_
 ## 
ecma_ty≥
 ## 
_t
 *ecma_ty≥ ## 
_p
) \

74 
	`jmem_poﬁs_‰ì
 ((
uöt8_t
 *Ë
ecma_ty≥
 ## 
_p
,  (
ecma_
 ##Écma_ty≥ ## 
_t
)); \

75 }

	)

80 
	#DECLARE_ROUTINES_FOR
(
ecma_ty≥
) \

81 
	`ALLOC
 (
ecma_ty≥
) \

82 
	`DEALLOC
 (
ecma_ty≥
)

	)

84 
	$DECLARE_ROUTINES_FOR
 (
numbî
)

85 
	$DECLARE_ROUTINES_FOR
 (
cﬁÀ˘i⁄_hódî
)

86 
	$DECLARE_ROUTINES_FOR
 (
cﬁÀ˘i⁄_chunk
)

88 
ölöe
 
__©å_Æways_ölöe___
 
	$add_fuŒ_bôwidth_size
(
size_t
 
fuŒ_bw_size
) {

90 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

92 
	`JERRY_CONTEXT
(
jmem_fuŒ_bôwidth_poöãr_ovîhód
Ë+
fuŒ_bw_size
;

93 #i‡!
	`deföed
(
DE_SLAB
)

94 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
fuŒ_bw_size
;

97 
	`JERRY_UNUSED
(
fuŒ_bw_size
);

99 
	}
}

101 
ölöe
 
__©å_Æways_ölöe___
 
	$sub_fuŒ_bôwidth_size
(
size_t
 
fuŒ_bw_size
) {

103 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

105 
	`JERRY_CONTEXT
(
jmem_fuŒ_bôwidth_poöãr_ovîhód
Ë-
fuŒ_bw_size
;

106 #i‡!
	`deföed
(
DE_SLAB
)

107 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë-
fuŒ_bw_size
;

110 
	`JERRY_UNUSED
(
fuŒ_bw_size
);

112 
	}
}

119 
ölöe
 
ecma_obje˘_t
 * 
__©å_Æways_ölöe___


120 
	$ecma_Æloc_obje˘
 ()

122 #ifde‡
JMEM_STATS


123 
	`jmem_°©s_Æloˇã_obje˘_byãs
 ( (
ecma_obje˘_t
));

127 
	`add_fuŒ_bôwidth_size
(8);

129 
size_t
 
size_to_Æloˇã
 = (
ecma_obje˘_t
);

131 #ifde‡
SEG_FULLBIT_ADDRESS_ALLOC


132 
size_to_Æloˇã
 += 8;

135 
ecma_obje˘_t
 * 
ªs
 = (ecma_obje˘_à*Ë
	`jmem_poﬁs_Æloc
 (
size_to_Æloˇã
);

136  
ªs
;

137 
	}
}

142 
ölöe
 
__©å_Æways_ölöe___


143 
	$ecma_dóŒoc_obje˘
 (
ecma_obje˘_t
 *
obje˘_p
)

145 #ifde‡
JMEM_STATS


146 
	`jmem_°©s_‰ì_obje˘_byãs
 ( (
ecma_obje˘_t
));

150 
	`sub_fuŒ_bôwidth_size
(8);

152 
size_t
 
size_to_‰ì
 = (
ecma_obje˘_t
);

154 #ifde‡
SEG_FULLBIT_ADDRESS_ALLOC


155 
size_to_‰ì
 += 8;

158 
	`jmem_poﬁs_‰ì
 (
obje˘_p
, 
size_to_‰ì
);

160 
	}
}

167 
ölöe
 
ecma_exãnded_obje˘_t
 * 
__©å_Æways_ölöe___


168 
	$ecma_Æloc_exãnded_obje˘
 (
size_t
 
size
)

170 #ifde‡
JMEM_STATS


171 
	`jmem_°©s_Æloˇã_obje˘_byãs
 (
size
);

175 
	`add_fuŒ_bôwidth_size
(8);

177 
size_t
 
size_to_Æloˇã
 = 
size
;

179 #ifde‡
SEG_FULLBIT_ADDRESS_ALLOC


180 
size_to_Æloˇã
 += 8;

183 
ecma_exãnded_obje˘_t
 * 
ªs
 = 
	`jmem_hóp_Æloc_block
 (
size_to_Æloˇã
);

184  
ªs
;

185 
	}
}

190 
ölöe
 
__©å_Æways_ölöe___


191 
	$ecma_dóŒoc_exãnded_obje˘
 (
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
,

192 
size_t
 
size
)

194 #ifde‡
JMEM_STATS


195 
	`jmem_°©s_‰ì_obje˘_byãs
 (
size
);

199 
	`sub_fuŒ_bôwidth_size
(8);

201 
size_t
 
size_to_‰ì
 = 
size
;

203 #ifde‡
SEG_FULLBIT_ADDRESS_ALLOC


204 
size_to_‰ì
 += 8;

207 
	`jmem_hóp_‰ì_block
 (
ext_obje˘_p
, 
size_to_‰ì
);

209 
	}
}

216 
ölöe
 
ecma_°rög_t
 * 
__©å_Æways_ölöe___


217 
	$ecma_Æloc_°rög
 ()

219 #ifde‡
JMEM_STATS


220 
	`jmem_°©s_Æloˇã_°rög_byãs
 ( (
ecma_°rög_t
));

223 
ecma_°rög_t
 * 
ªs
 = (ecma_°rög_à*Ë
	`jmem_poﬁs_Æloc
 ( (ecma_string_t));

224  
ªs
;

225 
	}
}

230 
ölöe
 
__©å_Æways_ölöe___


231 
	$ecma_dóŒoc_°rög
 (
ecma_°rög_t
 *
°rög_p
)

233 #ifde‡
JMEM_STATS


234 
	`jmem_°©s_‰ì_°rög_byãs
 ( (
ecma_°rög_t
));

237 
	`jmem_poﬁs_‰ì
 (
°rög_p
,  (
ecma_°rög_t
));

238 
	}
}

245 
ölöe
 
ecma_°rög_t
 * 
__©å_Æways_ölöe___


246 
	$ecma_Æloc_°rög_buf„r
 (
size_t
 
size
)

248 #ifde‡
JMEM_STATS


249 
	`jmem_°©s_Æloˇã_°rög_byãs
 (
size
);

252 
ecma_°rög_t
 * 
ªs
 = 
	`jmem_hóp_Æloc_block
 (
size
);

253  
ªs
;

254 
	}
}

259 
ölöe
 
__©å_Æways_ölöe___


260 
	$ecma_dóŒoc_°rög_buf„r
 (
ecma_°rög_t
 *
°rög_p
,

261 
size_t
 
size
)

263 #ifde‡
JMEM_STATS


264 
	`jmem_°©s_‰ì_°rög_byãs
 (
size
);

267 
	`jmem_hóp_‰ì_block
 (
°rög_p
, 
size
);

268 
	}
}

275 
ölöe
 
ecma_gëãr_£âî_poöãrs_t
 * 
__©å_Æways_ölöe___


276 
	$ecma_Æloc_gëãr_£âî_poöãrs
 ()

278 #ifde‡
JMEM_STATS


279 
	`jmem_°©s_Æloˇã_¥›îty_byãs
 ( (
ecma_¥›îty_∑ú_t
));

282 
ecma_gëãr_£âî_poöãrs_t
 * 
ªs
 = (ecma_gëãr_£âî_poöãrs_à*Ë
	`jmem_poﬁs_Æloc
 ( (ecma_getter_setter_pointers_t));

283  
ªs
;

284 
	}
}

289 
ölöe
 
__©å_Æways_ölöe___


290 
	$ecma_dóŒoc_gëãr_£âî_poöãrs
 (
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_poöãrs_p
)

293 #ifde‡
JMEM_STATS


294 
	`jmem_°©s_‰ì_¥›îty_byãs
 ( (
ecma_¥›îty_∑ú_t
));

297 
	`jmem_poﬁs_‰ì
 (
gëãr_£âî_poöãrs_p
,  (
ecma_gëãr_£âî_poöãrs_t
));

298 
	}
}

305 
ölöe
 
ecma_¥›îty_∑ú_t
 * 
__©å_Æways_ölöe___


306 
	$ecma_Æloc_¥›îty_∑ú
 ()

308 #ifde‡
JMEM_STATS


309 
	`jmem_°©s_Æloˇã_¥›îty_byãs
 ( (
ecma_¥›îty_∑ú_t
));

313 
	`add_fuŒ_bôwidth_size
(4);

315 
size_t
 
size_to_Æloˇã
 = (
ecma_¥›îty_∑ú_t
);

317 #ifde‡
SEG_FULLBIT_ADDRESS_ALLOC


318 
size_to_Æloˇã
 += 4;

321 
ecma_¥›îty_∑ú_t
 * 
ªs
 = 
	`jmem_hóp_Æloc_block
 (
size_to_Æloˇã
);

322  
ªs
;

323 
	}
}

328 
ölöe
 
__©å_Æways_ölöe___


329 
	$ecma_dóŒoc_¥›îty_∑ú
 (
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
)

331 #ifde‡
JMEM_STATS


332 
	`jmem_°©s_‰ì_¥›îty_byãs
 ( (
ecma_¥›îty_∑ú_t
));

336 
	`sub_fuŒ_bôwidth_size
(4);

338 
size_t
 
size_to_‰ì
 = (
ecma_¥›îty_∑ú_t
);

340 #ifde‡
SEG_FULLBIT_ADDRESS_ALLOC


341 
size_to_‰ì
 += 4;

344 
	`jmem_hóp_‰ì_block
 (
¥›îty_∑ú_p
, 
size_to_‰ì
);

346 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-alloc.h

16 #i‚de‡
ECMA_ALLOC_H


17 
	#ECMA_ALLOC_H


	)

19 
	~"ecma-globÆs.h
"

33 
ecma_obje˘_t
 *
ecma_Æloc_obje˘
 ();

38 
ecma_dóŒoc_obje˘
 (
ecma_obje˘_t
 *
obje˘_p
);

45 
ecma_exãnded_obje˘_t
 *
ecma_Æloc_exãnded_obje˘
 (
size_t
 
size
);

50 
ecma_dóŒoc_exãnded_obje˘
 (
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
, 
size_t
 
size
);

57 
ecma_numbî_t
 *
ecma_Æloc_numbî
 ();

62 
ecma_dóŒoc_numbî
 (
ecma_numbî_t
 *
numbî_p
);

69 
ecma_cﬁÀ˘i⁄_hódî_t
 *
ecma_Æloc_cﬁÀ˘i⁄_hódî
 ();

74 
ecma_dóŒoc_cﬁÀ˘i⁄_hódî
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_hódî_p
);

81 
ecma_cﬁÀ˘i⁄_chunk_t
 *
ecma_Æloc_cﬁÀ˘i⁄_chunk
 ();

86 
ecma_dóŒoc_cﬁÀ˘i⁄_chunk
 (
ecma_cﬁÀ˘i⁄_chunk_t
 *
cﬁÀ˘i⁄_chunk_p
);

93 
ecma_°rög_t
 *
ecma_Æloc_°rög
 ();

98 
ecma_dóŒoc_°rög
 (
ecma_°rög_t
 *
°rög_p
);

105 
ecma_°rög_t
 *
ecma_Æloc_°rög_buf„r
 (
size_t
 
size
);

110 
ecma_dóŒoc_°rög_buf„r
 (
ecma_°rög_t
 *
°rög_p
, 
size_t
 
size
);

117 
ecma_gëãr_£âî_poöãrs_t
 *
ecma_Æloc_gëãr_£âî_poöãrs
 ();

122 
ecma_dóŒoc_gëãr_£âî_poöãrs
 (
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_poöãrs_p
);

129 
ecma_¥›îty_∑ú_t
 *
ecma_Æloc_¥›îty_∑ú
 ();

134 
ecma_dóŒoc_¥›îty_∑ú
 (
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
);

	@deps/jerry/jerry-core/ecma/base/ecma-gc.c

20 
	~"ecma-Æloc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-lˇche.h
"

25 
	~"ecma-¥›îty-hashm≠.h
"

26 
	~"jc⁄ãxt.h
"

27 
	~"jπ.h
"

28 
	~"jπ-libc-ö˛udes.h
"

29 
	~"jπ-bô-fõlds.h
"

30 
	~"ª-compûî.h
"

31 
	~"vm-deföes.h
"

32 
	~"vm-°ack.h
"

34 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


35 
	~"ecma-ty≥d¨øy-obje˘.h
"

37 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


38 
	~"ecma-¥omi£-obje˘.h
"

41 
	~"jmem-¥ofûî.h
"

65 
ecma_gc_m¨k
 (
ecma_obje˘_t
 *
obje˘_p
);

66 
ecma_gc_swìp
 (
ecma_obje˘_t
 *
obje˘_p
);

71 
ölöe
 
ecma_obje˘_t
 *

72 
	$ecma_gc_gë_obje˘_√xt
 (
ecma_obje˘_t
 *
obje˘_p
)

74 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

76  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
, 
obje˘_p
->
gc_√xt_˝
);

77 
	}
}

82 
ölöe
 

83 
	$ecma_gc_£t_obje˘_√xt
 (
ecma_obje˘_t
 *
obje˘_p
,

84 
ecma_obje˘_t
 *
√xt_obje˘_p
)

86 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

88 
	`ECMA_SET_POINTER
 (
obje˘_p
->
gc_√xt_˝
, 
√xt_obje˘_p
);

89 
	}
}

94 
ölöe
 
boﬁ


95 
	$ecma_gc_is_obje˘_visôed
 (
ecma_obje˘_t
 *
obje˘_p
)

97 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

99 
boﬁ
 
Êag_vÆue
 = (
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_FLAG_GC_VISITED
) != 0;

101  
Êag_vÆue
 !
	`JERRY_CONTEXT
 (
ecma_gc_visôed_Êù_Êag
);

102 
	}
}

107 
ölöe
 

108 
	$ecma_gc_£t_obje˘_visôed
 (
ecma_obje˘_t
 *
obje˘_p
,

109 
boﬁ
 
is_visôed
)

111 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

113 i‡(
is_visôed
 !
	`JERRY_CONTEXT
 (
ecma_gc_visôed_Êù_Êag
))

115 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†| 
ECMA_OBJECT_FLAG_GC_VISITED
);

119 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†& ~
ECMA_OBJECT_FLAG_GC_VISITED
);

121 
	}
}

126 
ölöe
 

127 
	$ecma_öô_gc_öfo
 (
ecma_obje˘_t
 *
obje˘_p
)

129 #i‚de‡
GC_ON_ZERO_REFCOUNT


130 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_numbî
)++;

131 
	`JERRY_CONTEXT
 (
ecma_gc_√w_obje˘s
)++;

133 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
ecma_gc_√w_obje˘s
Ë<JERRY_CONTEXT (
ecma_gc_obje˘s_numbî
));

136 
	`JERRY_ASSERT
 (
obje˘_p
->
ty≥_Êags_ªfs
 < 
ECMA_OBJECT_REF_ONE
);

137 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†| 
ECMA_OBJECT_REF_ONE
);

139 
	`ecma_gc_£t_obje˘_√xt
 (
obje˘_p
, 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_WHITE_GRAY
]);

140 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_WHITE_GRAY
] = 
obje˘_p
;

143 
	`ecma_gc_£t_obje˘_visôed
 (
obje˘_p
, 
Ál£
);

144 
	}
}

150 
	$ecma_ªf_obje˘
 (
ecma_obje˘_t
 *
obje˘_p
)

152 i‡(
	`likñy
 (
obje˘_p
->
ty≥_Êags_ªfs
 < 
ECMA_OBJECT_MAX_REF
))

154 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†+ 
ECMA_OBJECT_REF_ONE
);

158 
	`jîry_Áèl
 (
ERR_REF_COUNT_LIMIT
);

160 
	}
}

166 
	$ecma_dîef_obje˘
 (
ecma_obje˘_t
 *
obje˘_p
)

168 
	`JERRY_ASSERT
 (
obje˘_p
->
ty≥_Êags_ªfs
 >
ECMA_OBJECT_REF_ONE
);

169 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†- 
ECMA_OBJECT_REF_ONE
);

171 #ifde‡
GC_ON_ZERO_REFCOUNT


173 if(
obje˘_p
->
ty≥_Êags_ªfs
 < 
ECMA_OBJECT_REF_ONE
) {

174 
	`ecma_gc_swìp
(
obje˘_p
);

177 
	}
}

183 
	$ecma_gc_m¨k_¥›îty
 (
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
,

184 
uöt32_t
 
ödex
)

186 
uöt8_t
 
¥›îty
 = 
¥›îty_∑ú_p
->
hódî
.
ty≥s
[
ödex
];

188 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
))

190 
ECMA_PROPERTY_TYPE_NAMEDDATA
:

192 i‡(
	`ECMA_PROPERTY_GET_NAME_TYPE
 (
¥›îty
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING


193 && 
¥›îty_∑ú_p
->
«mes_˝
[
ödex
] >
LIT_NEED_MARK_MAGIC_STRING__COUNT
)

198 
ecma_vÆue_t
 
vÆue
 = 
¥›îty_∑ú_p
->
vÆues
[
ödex
].value;

200 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
))

202 
ecma_obje˘_t
 *
vÆue_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

204 
	`ecma_gc_£t_obje˘_visôed
 (
vÆue_obj_p
, 
åue
);

208 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
:

210 
ecma_¥›îty_vÆue_t
 *
ac˚ss‹_objs_p
 = 
¥›îty_∑ú_p
->
vÆues
 + 
ödex
;

211 
ecma_obje˘_t
 *
gëãr_obj_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (
ac˚ss‹_objs_p
);

212 
ecma_obje˘_t
 *
£âî_obj_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (
ac˚ss‹_objs_p
);

214 i‡(
gëãr_obj_p
 !
NULL
)

216 
	`ecma_gc_£t_obje˘_visôed
 (
gëãr_obj_p
, 
åue
);

219 i‡(
£âî_obj_p
 !
NULL
)

221 
	`ecma_gc_£t_obje˘_visôed
 (
£âî_obj_p
, 
åue
);

225 
ECMA_PROPERTY_TYPE_SPECIAL
:

227 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_SPECIAL_PROPERTY_TYPE
 (&
¥›îty
Ë=
ECMA_SPECIAL_PROPERTY_DELETED


228 || 
	`ECMA_PROPERTY_GET_SPECIAL_PROPERTY_TYPE
 (&
¥›îty
Ë=
ECMA_SPECIAL_PROPERTY_HASHMAP
);

233 
	`JERRY_UNREACHABLE
 ();

237 
	}
}

243 
	$ecma_gc_m¨k
 (
ecma_obje˘_t
 *
obje˘_p
)

245 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

246 
	`JERRY_ASSERT
 (
	`ecma_gc_is_obje˘_visôed
 (
obje˘_p
));

248 
boﬁ
 
åavî£_¥›îtõs
 = 
åue
;

250 i‡(
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
))

252 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ecma_gë_Àx_ív_ouãr_ª„ªn˚
 (
obje˘_p
);

253 i‡(
Àx_ív_p
 !
NULL
)

255 
	`ecma_gc_£t_obje˘_visôed
 (
Àx_ív_p
, 
åue
);

258 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë!
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

260 
ecma_obje˘_t
 *
bödög_obje˘_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
obje˘_p
);

261 
	`ecma_gc_£t_obje˘_visôed
 (
bödög_obje˘_p
, 
åue
);

263 
åavî£_¥›îtõs
 = 
Ál£
;

268 
ecma_obje˘_t
 *
¥Ÿo_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (
obje˘_p
);

269 i‡(
¥Ÿo_p
 !
NULL
)

271 
	`ecma_gc_£t_obje˘_visôed
 (
¥Ÿo_p
, 
åue
);

274 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
))

276 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


277 
ECMA_OBJECT_TYPE_CLASS
:

279 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

281 i‡(
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_PROMISE_UL
)

284 
ecma_vÆue_t
 
ªsu…
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

286 i‡(
	`ecma_is_vÆue_obje˘
 (
ªsu…
))

288 
	`ecma_gc_£t_obje˘_visôed
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsu…
), 
åue
);

292 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

293 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, ((
ecma_¥omi£_obje˘_t
 *Ë
ext_obje˘_p
)->
fulfûl_ªa˘i⁄s
);

295 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

297 
	`ecma_gc_£t_obje˘_visôed
 (
	`ecma_gë_obje˘_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
), 
åue
);

300 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, ((
ecma_¥omi£_obje˘_t
 *Ë
ext_obje˘_p
)->
ªje˘_ªa˘i⁄s
);

302 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

304 
	`ecma_gc_£t_obje˘_visôed
 (
	`ecma_gë_obje˘_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
), 
åue
);

311 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

313 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

315 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
)

317 
ECMA_PSEUDO_ARRAY_ARGUMENTS
:

319 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

320 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
Àx_ív_˝
);

322 
	`ecma_gc_£t_obje˘_visôed
 (
Àx_ív_p
, 
åue
);

325 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


326 
ECMA_PSEUDO_ARRAY_TYPEDARRAY
:

327 
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO
:

329 
	`ecma_gc_£t_obje˘_visôed
 (
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
obje˘_p
), 
åue
);

335 
	`JERRY_UNREACHABLE
 ();

342 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
:

344 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

346 
ecma_obje˘_t
 *
èrgë_func_obj_p
;

347 
èrgë_func_obj_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_obje˘_t
,

348 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
);

350 
	`ecma_gc_£t_obje˘_visôed
 (
èrgë_func_obj_p
, 
åue
);

352 
ecma_vÆue_t
 
¨gs_Àn_‹_this
 = 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.args_len_or_this;

354 i‡(!
	`ecma_is_vÆue_öãgî_numbî
 (
¨gs_Àn_‹_this
))

356 i‡(
	`ecma_is_vÆue_obje˘
 (
¨gs_Àn_‹_this
))

358 
	`ecma_gc_£t_obje˘_visôed
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨gs_Àn_‹_this
), 
åue
);

363 
ecma_öãgî_vÆue_t
 
¨gs_Àngth
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
¨gs_Àn_‹_this
);

364 
ecma_vÆue_t
 *
¨gs_p
 = (ecma_vÆue_à*Ë(
ext_fun˘i⁄_p
 + 1);

366 
	`JERRY_ASSERT
 (
¨gs_Àngth
 > 0);

368 
ecma_öãgî_vÆue_t
 
i
 = 0; i < 
¨gs_Àngth
; i++)

370 i‡(
	`ecma_is_vÆue_obje˘
 (
¨gs_p
[
i
]))

372 
	`ecma_gc_£t_obje˘_visôed
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨gs_p
[
i
]), 
åue
);

377 
ECMA_OBJECT_TYPE_FUNCTION
:

379 i‡(!
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
))

381 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

383 
ecma_obje˘_t
 *
sc›e_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

384 
ext_func_p
->
u
.
fun˘i⁄
.
sc›e_˝
);

386 
	`ecma_gc_£t_obje˘_visôed
 (
sc›e_p
, 
åue
);

397 i‡(
åavî£_¥›îtõs
)

399 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

401 
¥›_ôî_p
 !
NULL
)

403 
	`JERRY_ASSERT
 (
¥›_ôî_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP


404 || 
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

406 
	`ecma_gc_m¨k_¥›îty
 ((
ecma_¥›îty_∑ú_t
 *Ë
¥›_ôî_p
, 0);

407 
	`ecma_gc_m¨k_¥›îty
 ((
ecma_¥›îty_∑ú_t
 *Ë
¥›_ôî_p
, 1);

409 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

410 
¥›_ôî_p
->
√xt_¥›îty_˝
);

413 
	}
}

419 
	$ecma_gc_‰ì_«tive_poöãr
 (
ecma_¥›îty_t
 *
¥›îty_p
,

420 
lô_magic_°rög_id_t
 
id
)

422 
	`JERRY_ASSERT
 (
¥›îty_p
 !
NULL
);

424 
	`JERRY_ASSERT
 (
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE


425 || 
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
);

427 
ecma_¥›îty_vÆue_t
 *
vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

428 
ecma_«tive_poöãr_t
 *
«tive_poöãr_p
;

430 
«tive_poöãr_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_«tive_poöãr_t
,

431 
vÆue_p
->
vÆue
);

433 i‡(
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE
)

435 i‡(
«tive_poöãr_p
->
u
.
ˇŒback_p
 !
NULL
)

437 
«tive_poöãr_p
->
u
.
	`ˇŒback_p
 ((
uöçå_t
Ë«tive_poöãr_p->
d©a_p
);

442 i‡(
«tive_poöãr_p
->
u
.
öfo_p
 !
NULL
)

444 
ecma_obje˘_«tive_‰ì_ˇŒback_t
 
‰ì_cb
 = 
«tive_poöãr_p
->
u
.
öfo_p
->free_cb;

446 i‡(
‰ì_cb
 !
NULL
)

448 
	`‰ì_cb
 (
«tive_poöãr_p
->
d©a_p
);

452 
	}
}

458 
	$ecma_gc_swìp
 (
ecma_obje˘_t
 *
obje˘_p
)

460 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL


461 #i‚de‡
GC_ON_ZERO_REFCOUNT


462 && !
	`ecma_gc_is_obje˘_visôed
 (
obje˘_p
)

464 && 
obje˘_p
->
ty≥_Êags_ªfs
 < 
ECMA_OBJECT_REF_ONE
);

466 
boﬁ
 
obj_is_nŸ_Àx_ív
 = !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
);

468 i‡(
obj_is_nŸ_Àx_ív


469 || 
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

471 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

473 i‡(
¥›_ôî_p
 !
NULL
 &&Ör›_ôî_p->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

475 
	`ecma_¥›îty_hashm≠_‰ì
 (
obje˘_p
);

476 
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

479 
¥›_ôî_p
 !
NULL
)

481 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

484 
	`JERRY_ASSERT
 (
¥›_ôî_p
->
ty≥s
[0] !
ECMA_PROPERTY_TYPE_DELETED


485 || 
¥›_ôî_p
->
ty≥s
[1] !
ECMA_PROPERTY_TYPE_DELETED
);

487 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
¥›_ôî_p
;

489 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

491 
ecma_¥›îty_t
 *
¥›îty_p
 = (ecma_¥›îty_à*Ë(
¥›_ôî_p
->
ty≥s
 + 
i
);

492 
jmem_˝oöãr_t
 
«me_˝
 = 
¥›_∑ú_p
->
«mes_˝
[
i
];

495 i‡(
	`ECMA_PROPERTY_GET_NAME_TYPE
 (*
¥›îty_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING


496 && (
«me_˝
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE


497 || 
«me_˝
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
))

499 
	`ecma_gc_‰ì_«tive_poöãr
 (
¥›îty_p
, (
lô_magic_°rög_id_t
Ë
«me_˝
);

502 i‡(
¥›_ôî_p
->
ty≥s
[
i
] !
ECMA_PROPERTY_TYPE_DELETED
)

504 
	`ecma_‰ì_¥›îty
 (
obje˘_p
, 
«me_˝
, 
¥›îty_p
);

509 
	`JERRY_ASSERT
 (
¥›_ôî_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_DELETED


510 && 
¥›_ôî_p
->
ty≥s
[1] =
ECMA_PROPERTY_TYPE_DELETED
);

512 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

513 
¥›_ôî_p
->
√xt_¥›îty_˝
);

515 
	`ecma_dóŒoc_¥›îty_∑ú
 (
¥›_∑ú_p
);

519 #i‚de‡
GC_ON_ZERO_REFCOUNT


520 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_numbî
) > 0);

521 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_numbî
)--;

524 i‡(
obj_is_nŸ_Àx_ív
)

526 
ecma_obje˘_ty≥_t
 
obje˘_ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

528 
size_t
 
ext_obje˘_size
 =  (
ecma_exãnded_obje˘_t
);

530 i‡(
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
))

532 
uöt8_t
 
Àngth_™d_bô£t_size
;

534 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_CLASS


535 || 
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_ARRAY
)

537 
ext_obje˘_size
 =  (
ecma_exãnded_buût_ö_obje˘_t
);

538 
Àngth_™d_bô£t_size
 = ((
ecma_exãnded_buût_ö_obje˘_t
 *Ë
obje˘_p
)->
buût_ö
.length_and_bitset_size;

542 
Àngth_™d_bô£t_size
 = ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
)->
u
.
buût_ö
.length_and_bitset_size;

545 
ext_obje˘_size
 +(2 *  (
uöt32_t
)Ë* (
Àngth_™d_bô£t_size
 >> 
ECMA_BUILT_IN_BITSET_SHIFT
);

548 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
)

550 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

552 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
)

555 
LIT_MAGIC_STRING_UNDEFINED
:

556 
LIT_MAGIC_STRING_ARGUMENTS_UL
:

557 
LIT_MAGIC_STRING_BOOLEAN_UL
:

558 
LIT_MAGIC_STRING_ERROR_UL
:

563 
LIT_MAGIC_STRING_STRING_UL
:

564 
LIT_MAGIC_STRING_NUMBER_UL
:

566 
	`ecma_‰ì_vÆue
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

570 
LIT_MAGIC_STRING_DATE_UL
:

572 
ecma_numbî_t
 *
num_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_number_t,

573 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

574 
	`ecma_dóŒoc_numbî
 (
num_p
);

578 
LIT_MAGIC_STRING_REGEXP_UL
:

580 
ecma_compûed_code_t
 *
byãcode_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_compiled_code_t,

581 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

582 i‡(
byãcode_p
 !
NULL
)

584 
	`ecma_byãcode_dîef
 (
byãcode_p
);

588 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


589 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
:

591 
ecma_Àngth_t
 
¨øybuf„r_Àngth
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
Àngth
;

592 
size_t
 
size
 =  (
ecma_exãnded_obje˘_t
Ë+ 
¨øybuf„r_Àngth
;

593 
	`ecma_dóŒoc_exãnded_obje˘
 ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
, 
size
);

598 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


599 
LIT_MAGIC_STRING_PROMISE_UL
:

601 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

602 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (((
ecma_¥omi£_obje˘_t
 *Ë
obje˘_p
)->
fulfûl_ªa˘i⁄s
, 
Ál£
);

603 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (((
ecma_¥omi£_obje˘_t
 *Ë
obje˘_p
)->
ªje˘_ªa˘i⁄s
, 
Ál£
);

604 
	`ecma_dóŒoc_exãnded_obje˘
 ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
,  (
ecma_¥omi£_obje˘_t
));

610 
	`JERRY_UNREACHABLE
 ();

615 
	`ecma_dóŒoc_exãnded_obje˘
 ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
, 
ext_obje˘_size
);

619 i‡(
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
)

620 || 
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_ARRAY


621 || 
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

623 
	`ecma_dóŒoc_exãnded_obje˘
 ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
, 
ext_obje˘_size
);

627 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
)

630 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

632 
	`ecma_byãcode_dîef
 (
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_compûed_code_t
,

633 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
));

635 
	`ecma_dóŒoc_exãnded_obje˘
 (
ext_func_p
,  (
ecma_exãnded_obje˘_t
));

639 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
)

641 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

643 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
)

645 
ECMA_PSEUDO_ARRAY_ARGUMENTS
:

647 
ecma_Àngth_t
 
f‹mÆ_∑øms_numbî
 = 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
;

648 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

650 
ecma_Àngth_t
 
i
 = 0; i < 
f‹mÆ_∑øms_numbî
; i++)

652 i‡(
¨g_LôîÆ_p
[
i
] !
JMEM_CP_NULL
)

654 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¨g_LôîÆ_p
[
i
]);

655 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

659 
size_t
 
f‹mÆ_∑øms_size
 = 
f‹mÆ_∑øms_numbî
 *  (
jmem_˝oöãr_t
);

660 
	`ecma_dóŒoc_exãnded_obje˘
 (
ext_obje˘_p
,  (
ecma_exãnded_obje˘_t
Ë+ 
f‹mÆ_∑øms_size
);

663 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


664 
ECMA_PSEUDO_ARRAY_TYPEDARRAY
:

666 
	`ecma_dóŒoc_exãnded_obje˘
 ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
,

667  (
ecma_exãnded_obje˘_t
));

670 
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO
:

672 
	`ecma_dóŒoc_exãnded_obje˘
 ((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
,

673  (
ecma_exãnded_ty≥d¨øy_obje˘_t
));

679 
	`JERRY_UNREACHABLE
 ();

684 
	`JERRY_UNREACHABLE
 ();

687 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_BOUND_FUNCTION
)

689 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

691 
ecma_vÆue_t
 
¨gs_Àn_‹_this
 = 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.args_len_or_this;

693 i‡(!
	`ecma_is_vÆue_öãgî_numbî
 (
¨gs_Àn_‹_this
))

695 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (
¨gs_Àn_‹_this
);

696 
	`ecma_dóŒoc_exãnded_obje˘
 (
ext_fun˘i⁄_p
,  (
ecma_exãnded_obje˘_t
));

700 
ecma_öãgî_vÆue_t
 
¨gs_Àngth
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
¨gs_Àn_‹_this
);

701 
ecma_vÆue_t
 *
¨gs_p
 = (ecma_vÆue_à*Ë(
ext_fun˘i⁄_p
 + 1);

703 
ecma_öãgî_vÆue_t
 
i
 = 0; i < 
¨gs_Àngth
; i++)

705 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (
¨gs_p
[
i
]);

708 
size_t
 
¨gs_size
 = ((size_tË
¨gs_Àngth
Ë*  (
ecma_vÆue_t
);

709 
	`ecma_dóŒoc_exãnded_obje˘
 (
ext_fun˘i⁄_p
,  (
ecma_exãnded_obje˘_t
Ë+ 
¨gs_size
);

714 
	`ecma_dóŒoc_obje˘
 (
obje˘_p
);

715 
	}
}

721 
	$ecma_gc_run
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
)

723 
	`¥ofûe_gc_°¨t
();

725 #i‚de‡
GC_ON_ZERO_REFCOUNT


726 
	`JERRY_CONTEXT
 (
ecma_gc_√w_obje˘s
) = 0;

729 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_BLACK
] =
NULL
);

732 
ecma_obje˘_t
 *
obj_ôî_p
 = 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_WHITE_GRAY
];

733 
obj_ôî_p
 !
NULL
;

734 
obj_ôî_p
 = 
	`ecma_gc_gë_obje˘_√xt
 (obj_iter_p))

736 
	`JERRY_ASSERT
 (!
	`ecma_gc_is_obje˘_visôed
 (
obj_ôî_p
));

738 i‡(
obj_ôî_p
->
ty≥_Êags_ªfs
 >
ECMA_OBJECT_REF_ONE
)

740 
	`ecma_gc_£t_obje˘_visôed
 (
obj_ôî_p
, 
åue
);

744 
boﬁ
 
m¨ked_™ythög_durög_cuºít_ôî©i⁄
 = 
Ál£
;

748 
m¨ked_™ythög_durög_cuºít_ôî©i⁄
 = 
Ál£
;

750 
ecma_obje˘_t
 *
obj_¥ev_p
 = 
NULL
;

751 
ecma_obje˘_t
 *
obj_ôî_p
 = 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_WHITE_GRAY
];

753 
obj_ôî_p
 !
NULL
)

755 
ecma_obje˘_t
 *
obj_√xt_p
 = 
	`ecma_gc_gë_obje˘_√xt
 (
obj_ôî_p
);

757 i‡(
	`ecma_gc_is_obje˘_visôed
 (
obj_ôî_p
))

760 
	`ecma_gc_£t_obje˘_√xt
 (
obj_ôî_p
, 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_BLACK
]);

761 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_BLACK
] = 
obj_ôî_p
;

763 i‡(
	`likñy
 (
obj_¥ev_p
 !
NULL
))

765 
	`JERRY_ASSERT
 (
	`ecma_gc_gë_obje˘_√xt
 (
obj_¥ev_p
Ë=
obj_ôî_p
);

767 
	`ecma_gc_£t_obje˘_√xt
 (
obj_¥ev_p
, 
obj_√xt_p
);

771 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_WHITE_GRAY
] = 
obj_√xt_p
;

774 
	`ecma_gc_m¨k
 (
obj_ôî_p
);

775 
m¨ked_™ythög_durög_cuºít_ôî©i⁄
 = 
åue
;

779 
obj_¥ev_p
 = 
obj_ôî_p
;

782 
obj_ôî_p
 = 
obj_√xt_p
;

785 
m¨ked_™ythög_durög_cuºít_ôî©i⁄
);

788 
ecma_obje˘_t
 *
obj_ôî_p
 = 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_WHITE_GRAY
];

790 
obj_ôî_p
 !
NULL
)

792 
ecma_obje˘_t
 *
obj_√xt_p
 = 
	`ecma_gc_gë_obje˘_√xt
 (
obj_ôî_p
);

794 
	`JERRY_ASSERT
 (!
	`ecma_gc_is_obje˘_visôed
 (
obj_ôî_p
));

796 
	`ecma_gc_swìp
 (
obj_ôî_p
);

797 
obj_ôî_p
 = 
obj_√xt_p
;

800 i‡(
£vîôy
 =
JMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
)

803 
obj_ôî_p
 = 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_BLACK
];

805 
obj_ôî_p
 !
NULL
)

807 
	`JERRY_ASSERT
 (
	`ecma_gc_is_obje˘_visôed
 (
obj_ôî_p
));

809 i‡(!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_ôî_p
)

810 || 
	`ecma_gë_Àx_ív_ty≥
 (
obj_ôî_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

812 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obj_ôî_p
);

814 i‡(
¥›_ôî_p
 !
NULL
 &&Ör›_ôî_p->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

816 
	`ecma_¥›îty_hashm≠_‰ì
 (
obj_ôî_p
);

820 
obj_ôî_p
 = 
	`ecma_gc_gë_obje˘_√xt
 (obj_iter_p);

825 
ecma_obje˘_t
 *
bœck_obje˘s
 = 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_BLACK
];

826 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
)[
ECMA_GC_COLOR_WHITE_GRAY
] = 
bœck_obje˘s
;

827 
	`JERRY_CONTEXT
 (
ecma_gc_obje˘s_li°s
Ë[
ECMA_GC_COLOR_BLACK
] = 
NULL
;

829 
	`JERRY_CONTEXT
 (
ecma_gc_visôed_Êù_Êag
) = !JERRY_CONTEXT (ecma_gc_visited_flip_flag);

831 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


833 
	`ª_ˇche_gc_run
 ();

836 
	`¥ofûe_gc_íd
();

837 
	}
}

843 
	$ecma_‰ì_unu£d_mem‹y
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
)

845 #ifde‡
JERRY_DEBUGGER


846 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

847 && 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_èû
Ë!
ECMA_NULL_POINTER
)

850 
	`jîry_debuggî_ª˚ive
 (
NULL
);

854 i‡(
£vîôy
 =
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
)

856 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


857 i‡(
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
Ë> 
ECMA_PROP_HASHMAP_ALLOC_ON
)

859 --
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
);

861 
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_œ°_is_hs_gc
Ë
Ál£
;

864 #i‚de‡
GC_ON_ZERO_REFCOUNT


869 
size_t
 
√w_obje˘s_sh¨e
 = 
CONFIG_ECMA_GC_NEW_OBJECTS_SHARE_TO_START_GC
;

871 i‡(
	`JERRY_CONTEXT
 (
ecma_gc_√w_obje˘s
Ë* 
√w_obje˘s_sh¨e
 > JERRY_CONTEXT (
ecma_gc_obje˘s_numbî
))

873 
	`ecma_gc_run
 (
£vîôy
);

879 
	`JERRY_ASSERT
 (
£vîôy
 =
JMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
);

881 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


882 i‡(
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_œ°_is_hs_gc
))

884 
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
Ë
ECMA_PROP_HASHMAP_ALLOC_MAX
;

886 i‡(
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
Ë< 
ECMA_PROP_HASHMAP_ALLOC_MAX
)

888 ++
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
);

889 
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_œ°_is_hs_gc
Ë
åue
;

894 
	`ecma_gc_run
 (
£vîôy
);

896 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-gc.h

16 #i‚de‡
ECMA_GC_H


17 
	#ECMA_GC_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"jmem.h
"

29 
ecma_öô_gc_öfo
 (
ecma_obje˘_t
 *
obje˘_p
);

30 
ecma_ªf_obje˘
 (
ecma_obje˘_t
 *
obje˘_p
);

31 
ecma_dîef_obje˘
 (
ecma_obje˘_t
 *
obje˘_p
);

32 
ecma_gc_run
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
);

33 
ecma_‰ì_unu£d_mem‹y
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
);

	@deps/jerry/jerry-core/ecma/base/ecma-globals.h

16 #i‚de‡
ECMA_GLOBALS_H


17 
	#ECMA_GLOBALS_H


	)

19 
	~"c⁄fig.h
"

20 
	~"jπ.h
"

21 
	~"lô-magic-°rögs.h
"

22 
	~"jmem.h
"

41 #ifde‡
JERRY_CPOINTER_32_BIT


42 
	#ECMA_POINTER_FIELD_WIDTH
 32

	)

44 
	#ECMA_POINTER_FIELD_WIDTH
 16

	)

50 
	#ECMA_NULL_POINTER
 
JMEM_CP_NULL


	)

61 
	mECMA_INIT_EMPTY
 = (0u),

62 
	mECMA_INIT_SHOW_OPCODES
 = (1u << 0),

63 
	mECMA_INIT_SHOW_REGEXP_OPCODES
 = (1u << 1),

64 
	mECMA_INIT_MEM_STATS
 = (1u << 2),

65 
	mECMA_INIT_JMEM_LOGS_ENABLED
 = (1u << 5),

66 } 
	tecma_öô_Êag_t
;

73 
	mECMA_TYPE_DIRECT
,

74 
	mECMA_TYPE_FLOAT
,

75 
	mECMA_TYPE_STRING
,

76 
	mECMA_TYPE_OBJECT
,

77 
	mECMA_TYPE___MAX
 = 
ECMA_TYPE_OBJECT


78 } 
	tecma_ty≥_t
;

91 
	mECMA_SIMPLE_VALUE_EMPTY
,

92 
	mECMA_SIMPLE_VALUE_ARRAY_HOLE
,

93 
	mECMA_SIMPLE_VALUE_FALSE
,

94 
	mECMA_SIMPLE_VALUE_TRUE
,

95 
	mECMA_SIMPLE_VALUE_UNDEFINED
,

96 
	mECMA_SIMPLE_VALUE_NULL
,

97 
	mECMA_SIMPLE_VALUE_NOT_FOUND
,

98 
	mECMA_SIMPLE_VALUE_REGISTER_REF
,

99 
	mECMA_SIMPLE_VALUE__COUNT


100 } 
	tecma_sim∂e_vÆue_t
;

107 
uöt32_t
 
	tecma_vÆue_t
;

112 
öt32_t
 
	tecma_öãgî_vÆue_t
;

114 #i‡
UINTPTR_MAX
 <
UINT32_MAX


119 
	#ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY


	)

126 
	#ECMA_VALUE_TYPE_MASK
 0x3u

	)

131 
	#ECMA_VALUE_ERROR_FLAG
 0x4u

	)

136 
	#ECMA_VALUE_SHIFT
 3

	)

141 
	#ECMA_DIRECT_TYPE_MASK
 ((1u << 
ECMA_VALUE_SHIFT
Ë| 
ECMA_VALUE_TYPE_MASK
)

	)

146 
	#ECMA_DIRECT_TYPE_INTEGER_VALUE
 ((0u << 
ECMA_VALUE_SHIFT
Ë| 
ECMA_TYPE_DIRECT
)

	)

151 
	#ECMA_DIRECT_TYPE_SIMPLE_VALUE
 ((1u << 
ECMA_VALUE_SHIFT
Ë| 
ECMA_TYPE_DIRECT
)

	)

156 
	#ECMA_DIRECT_SHIFT
 4

	)

161 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


162 
	#ECMA_INTEGER_NUMBER_MAX
 0x7fffff

	)

163 
	#ECMA_INTEGER_NUMBER_MAX_SHIFTED
 0x7fffff0

	)

165 
	#ECMA_INTEGER_NUMBER_MAX
 0x7ffffff

	)

166 
	#ECMA_INTEGER_NUMBER_MAX_SHIFTED
 0x7ffffff0

	)

172 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


173 
	#ECMA_INTEGER_NUMBER_MIN
 -0x7fffff

	)

174 
	#ECMA_INTEGER_NUMBER_MIN_SHIFTED
 -0x7fffff0

	)

176 
	#ECMA_INTEGER_NUMBER_MIN
 -0x8000000

	)

177 
	#ECMA_INTEGER_NUMBER_MIN_SHIFTED
 (-0x7ffffff‡- 1Ë

	)

180 #i‡
ECMA_DIRECT_SHIFT
 != 4

187 
	#ECMA_IS_INTEGER_NUMBER
(
num
) \

188 (
ECMA_INTEGER_NUMBER_MIN
 <(
num
Ë&& (numË<
ECMA_INTEGER_NUMBER_MAX
)

	)

193 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


194 
	#ECMA_INTEGER_MULTIPLY_MAX
 0xb50

	)

196 
	#ECMA_INTEGER_MULTIPLY_MAX
 0x2d41

	)

202 
	#ECMA_IS_VALUE_ERROR
(
vÆue
) \

203 (
	`u∆ikñy
 ((
vÆue
 & 
ECMA_VALUE_ERROR_FLAG
Ë!0))

	)

208 
uöçå_t
 
	tecma_exã∫Æ_poöãr_t
;

213 
	$ecma_vÆue_t
 (*
	tecma_vm_exec_°›_ˇŒback_t
Ë(*
	tu£r_p
);

218 (*
	tecma_u£r_c⁄ãxt_deöô_t
Ë(*
	tu£r_c⁄ãxt_p
);

223 
	$ecma_vÆue_t
 (*
	tecma_exã∫Æ_h™dÀr_t
Ë(c⁄° 
	tecma_vÆue_t
 
	tfun˘i⁄_obj
,

224 c⁄° 
	tecma_vÆue_t
 
	tthis_vÆ
,

225 c⁄° 
	tecma_vÆue_t
 
	t¨gs_p
[],

226 c⁄° 
	tecma_Àngth_t
 
	t¨gs_cou¡
);

231 (*
	tecma_obje˘_‰ì_ˇŒback_t
Ë(c⁄° 
	tuöçå_t
 
	t«tive_p
);

236 (*
	tecma_obje˘_«tive_‰ì_ˇŒback_t
Ë(*
	t«tive_p
);

243 
ecma_obje˘_«tive_‰ì_ˇŒback_t
 
‰ì_cb
;

244 } 
	tecma_obje˘_«tive_öfo_t
;

251 *
d©a_p
;

254 
ecma_obje˘_‰ì_ˇŒback_t
 
ˇŒback_p
;

255 
ecma_obje˘_«tive_öfo_t
 *
öfo_p
;

256 } 
u
;

257 } 
	tecma_«tive_poöãr_t
;

264 
ECMA_SPECIAL_PROPERTY_DELETED
,

268 
ECMA_SPECIAL_PROPERTY_HASHMAP
,

270 
ECMA_SPECIAL_PROPERTY__COUNT


271 } 
	tecma_öã∫Æ_¥›îty_id_t
;

278 
ECMA_PROPERTY_NOT_WRITABLE
,

279 
ECMA_PROPERTY_WRITABLE


280 } 
	tecma_¥›îty_wrôabÀ_vÆue_t
;

287 
ECMA_PROPERTY_NOT_ENUMERABLE
,

288 
ECMA_PROPERTY_ENUMERABLE


289 } 
	tecma_¥›îty_íumîabÀ_vÆue_t
;

296 
ECMA_PROPERTY_NOT_CONFIGURABLE
,

297 
ECMA_PROPERTY_CONFIGURABLE


298 } 
	tecma_¥›îty_c⁄figuøbÀ_vÆue_t
;

317 
ECMA_PROPERTY_TYPE_SPECIAL
,

318 
ECMA_PROPERTY_TYPE_NAMEDDATA
,

319 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
,

320 
ECMA_PROPERTY_TYPE_VIRTUAL
,

322 
ECMA_PROPERTY_TYPE__MAX
 = 
ECMA_PROPERTY_TYPE_VIRTUAL
,

323 } 
	tecma_¥›îty_ty≥s_t
;

328 
	#ECMA_PROPERTY_TYPE_MASK
 0x3

	)

333 
	#ECMA_PROPERTY_FLAG_SHIFT
 2

	)

338 
	#ECMA_SPECIAL_PROPERTY_VALUE
(
ty≥
) \

339 ((
uöt8_t
Ë(
ECMA_PROPERTY_TYPE_SPECIAL
 | ((
ty≥
Ë<< 
ECMA_PROPERTY_FLAG_SHIFT
)))

	)

344 
	#ECMA_PROPERTY_TYPE_DELETED
 
	`ECMA_SPECIAL_PROPERTY_VALUE
 (
ECMA_SPECIAL_PROPERTY_DELETED
)

	)

349 
	#ECMA_PROPERTY_TYPE_HASHMAP
 
	`ECMA_SPECIAL_PROPERTY_VALUE
 (
ECMA_SPECIAL_PROPERTY_HASHMAP
)

	)

354 
	#ECMA_PROPERTY_TYPE_NOT_FOUND
 
ECMA_PROPERTY_TYPE_DELETED


	)

359 
	#ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
 
ECMA_PROPERTY_TYPE_HASHMAP


	)

367 
ECMA_PROPERTY_FLAG_CONFIGURABLE
 = 1u << (
ECMA_PROPERTY_FLAG_SHIFT
 + 0),

368 
ECMA_PROPERTY_FLAG_ENUMERABLE
 = 1u << (
ECMA_PROPERTY_FLAG_SHIFT
 + 1),

369 
ECMA_PROPERTY_FLAG_WRITABLE
 = 1u << (
ECMA_PROPERTY_FLAG_SHIFT
 + 2),

370 
ECMA_PROPERTY_FLAG_LCACHED
 = 1u << (
ECMA_PROPERTY_FLAG_SHIFT
 + 3),

371 } 
	tecma_¥›îty_Êags_t
;

376 
	#ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
 \

377 (
ECMA_PROPERTY_FLAG_CONFIGURABLE
 | 
ECMA_PROPERTY_FLAG_ENUMERABLE
 | 
ECMA_PROPERTY_FLAG_WRITABLE
)

	)

382 
	#ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE
 \

383 (
ECMA_PROPERTY_FLAG_CONFIGURABLE
 | 
ECMA_PROPERTY_FLAG_ENUMERABLE
)

	)

388 
	#ECMA_PROPERTY_CONFIGURABLE_WRITABLE
 \

389 (
ECMA_PROPERTY_FLAG_CONFIGURABLE
 | 
ECMA_PROPERTY_FLAG_WRITABLE
)

	)

394 
	#ECMA_PROPERTY_ENUMERABLE_WRITABLE
 \

395 (
ECMA_PROPERTY_FLAG_ENUMERABLE
 | 
ECMA_PROPERTY_FLAG_WRITABLE
)

	)

400 
	#ECMA_PROPERTY_FIXED
 0

	)

405 
	#ECMA_PROPERTY_NAME_TYPE_SHIFT
 (
ECMA_PROPERTY_FLAG_SHIFT
 + 4)

	)

410 
	#ECMA_PROPERTY_NAME_TYPE_STRING
 3

	)

432 
uöt8_t
 
	tecma_¥›îty_t
;

437 
	#ECMA_PROPERTY_PAIR_ITEM_COUNT
 2

	)

444 #ifde‡
JERRY_CPOINTER_32_BIT


445 
jmem_˝oöãr_t
 
√xt_¥›îty_˝
;

447 
ecma_¥›îty_t
 
ty≥s
[
ECMA_PROPERTY_PAIR_ITEM_COUNT
];

449 #ifde‡
JERRY_CPOINTER_32_BIT


450 
uöt16_t
 
∑ddög
;

452 
jmem_˝oöãr_t
 
√xt_¥›îty_˝
;

454 } 
	tecma_¥›îty_hódî_t
;

461 
jmem_˝oöãr_t
 
gëãr_p
;

462 
jmem_˝oöãr_t
 
£âî_p
;

463 } 
	tecma_gëãr_£âî_poöãrs_t
;

470 
ecma_vÆue_t
 
vÆue
;

471 #ifde‡
JERRY_CPOINTER_32_BIT


472 
jmem_˝oöãr_t
 
gëãr_£âî_∑ú_˝
;

474 
ecma_gëãr_£âî_poöãrs_t
 
gëãr_£âî_∑ú
;

476 } 
	tecma_¥›îty_vÆue_t
;

483 
ecma_¥›îty_hódî_t
 
hódî
;

484 
ecma_¥›îty_vÆue_t
 
vÆues
[
ECMA_PROPERTY_PAIR_ITEM_COUNT
];

485 
jmem_˝oöãr_t
 
«mes_˝
[
ECMA_PROPERTY_PAIR_ITEM_COUNT
];

486 } 
	tecma_¥›îty_∑ú_t
;

491 
	#ECMA_PROPERTY_GET_TYPE
(
¥›îty
) \

492 ((
ecma_¥›îty_ty≥s_t
Ë((
¥›îty
Ë& 
ECMA_PROPERTY_TYPE_MASK
))

	)

497 
	#ECMA_PROPERTY_GET_NAME_TYPE
(
¥›îty
) \

498 ((
¥›îty
Ë>> 
ECMA_PROPERTY_NAME_TYPE_SHIFT
)

	)

503 
	#ECMA_PROPERTY_IS_PROPERTY_PAIR
(
¥›îty_hódî_p
) \

504 (
	`ECMA_PROPERTY_GET_TYPE
 ((
¥›îty_hódî_p
)->
ty≥s
[0]Ë!
ECMA_PROPERTY_TYPE_VIRTUAL
 \

505 && (
¥›îty_hódî_p
)->
ty≥s
[0] !
ECMA_PROPERTY_TYPE_HASHMAP
)

	)

510 
	#ECMA_PROPERTY_IS_NAMED_PROPERTY
(
¥›îty
) \

511 (
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë!
ECMA_PROPERTY_TYPE_SPECIAL
)

	)

516 
	#ECMA_PROPERTY_GET_SPECIAL_PROPERTY_TYPE
(
¥›îty_p
) \

517 ((
ecma_öã∫Æ_¥›îty_id_t
Ë(*(
¥›îty_p
Ë>> 
ECMA_PROPERTY_FLAG_SHIFT
))

	)

522 
	#ECMA_PROPERTY_VALUE_ADD_OFFSET
(
¥›îty_p
) \

523 ((
uöçå_t
Ë((((
uöt8_t
 *Ë(
¥›îty_p
)Ë+ ( (
ecma_¥›îty_vÆue_t
Ë* 2 - 1))))

	)

528 
	#ECMA_PROPERTY_VALUE_DATA_PTR
(
¥›îty_p
) \

529 (
	`ECMA_PROPERTY_VALUE_ADD_OFFSET
 (
¥›îty_p
Ë& ~( (
ecma_¥›îty_vÆue_t
Ë- 1))

	)

535 
	#ECMA_PROPERTY_VALUE_PTR
(
¥›îty_p
) \

536 ((
ecma_¥›îty_vÆue_t
 *Ë
	`ECMA_PROPERTY_VALUE_DATA_PTR
 (
¥›îty_p
))

	)

541 
	#ECMA_PROPERTY_SEARCH_DEPTH_LIMIT
 128

	)

549 
ecma_¥›îty_vÆue_t
 *
vÆue_p
;

550 
ecma_vÆue_t
 
vútuÆ_vÆue
;

551 } 
	tecma_¥›îty_ªf_t
;

559 
ecma_¥›îty_ªf_t
 
¥›îty_ªf
;

560 
ecma_¥›îty_t
 *
¥›îty_p
;

561 } 
	tecma_exãnded_¥›îty_ªf_t
;

568 
ECMA_PROPERTY_GET_NO_OPTIONS
 = 0,

569 
ECMA_PROPERTY_GET_VALUE
 = 1u << 0,

570 
ECMA_PROPERTY_GET_EXT_REFERENCE
 = 1u << 1,

571 } 
	tecma_¥›îty_gë_›ti⁄_bôs_t
;

578 
ECMA_OBJECT_TYPE_GENERAL
 = 0,

580 
ECMA_OBJECT_TYPE_CLASS
 = 1,

581 
ECMA_OBJECT_TYPE_FUNCTION
 = 2,

582 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
 = 3,

583 
ECMA_OBJECT_TYPE_ARRAY
 = 4,

584 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
 = 5,

585 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
 = 6,

587 
ECMA_OBJECT_TYPE__MAX
 = 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY


588 } 
	tecma_obje˘_ty≥_t
;

595 
ECMA_PSEUDO_ARRAY_ARGUMENTS
 = 0,

596 
ECMA_PSEUDO_ARRAY_TYPEDARRAY
 = 1,

597 
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO
 = 2,

599 
ECMA_PSEUDO_ARRAY__MAX
 = 
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO


600 } 
	tecma_p£udo_¨øy_ty≥_t
;

612 
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
 = 5,

613 
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND
 = 6,

614 
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
 = 7,

617 
ECMA_LEXICAL_ENVIRONMENT_TYPE_START
 = 
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
,

619 
ECMA_LEXICAL_ENVIRONMENT_TYPE__MAX
 = 
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND


620 } 
	tecma_Àxiˇl_ívú⁄mít_ty≥_t
;

625 
	#ECMA_OBJECT_TYPE_MASK
 0x07u

	)

632 
	#ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 0x08

	)

637 
	#ECMA_OBJECT_FLAG_GC_VISITED
 0x10

	)

642 
	#ECMA_OBJECT_FLAG_EXTENSIBLE
 0x20

	)

647 
	#ECMA_OBJECT_REF_ONE
 (1u << 6)

	)

652 
	#ECMA_OBJECT_MAX_REF
 (0x3ffu << 6)

	)

666 
uöt16_t
 
ty≥_Êags_ªfs
;

669 
jmem_˝oöãr_t
 
gc_√xt_˝
;

672 
jmem_˝oöãr_t
 
¥›îty_li°_‹_bound_obje˘_˝
;

675 
jmem_˝oöãr_t
 
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
;

676 } 
	tecma_obje˘_t
;

683 
uöt8_t
 
id
;

684 
uöt8_t
 
Àngth_™d_bô£t_size
;

686 
uöt16_t
 
routöe_id
;

687 
uöt32_t
 
ö°™tüãd_bô£t
[1];

688 } 
	tecma_buût_ö_¥›s_t
;

693 
	#ECMA_BUILT_IN_BITSET_SHIFT
 5

	)

702 
ecma_obje˘_t
 
obje˘
;

709 
ecma_buût_ö_¥›s_t
 
buût_ö
;

716 
uöt16_t
 
˛ass_id
;

723 
ecma_vÆue_t
 
vÆue
;

724 
uöt32_t
 
Àngth
;

725 } 
u
;

726 } 
˛ass_¥›
;

733 
ecma_vÆue_t
 
sc›e_˝
;

734 
ecma_vÆue_t
 
byãcode_˝
;

735 } 
fun˘i⁄
;

742 
uöt32_t
 
Àngth
;

743 
ecma_¥›îty_t
 
Àngth_¥›
;

744 } 
¨øy
;

751 
uöt8_t
 
ty≥
;

752 
uöt8_t
 
exåa_öfo
;

756 
uöt16_t
 
Àngth
;

757 
uöt16_t
 
˛ass_id
;

758 } 
u1
;

761 
ecma_vÆue_t
 
Àx_ív_˝
;

762 
ecma_vÆue_t
 
¨øybuf„r
;

763 } 
u2
;

764 } 
p£udo_¨øy
;

771 
ecma_vÆue_t
 
èrgë_fun˘i⁄
;

772 
ecma_vÆue_t
 
¨gs_Àn_‹_this
;

773 } 
bound_fun˘i⁄
;

775 
ecma_exã∫Æ_h™dÀr_t
 
exã∫Æ_h™dÀr_cb
;

776 } 
u
;

777 } 
	tecma_exãnded_obje˘_t
;

784 
ecma_exãnded_obje˘_t
 
exãnded_obje˘
;

785 
ecma_buût_ö_¥›s_t
 
buût_ö
;

786 } 
	tecma_exãnded_buût_ö_obje˘_t
;

800 
is_vÆue_deföed
 : 1;

803 
is_gë_deföed
 : 1;

806 
is_£t_deföed
 : 1;

809 
is_wrôabÀ_deföed
 : 1;

812 
is_wrôabÀ
 : 1;

815 
is_íumîabÀ_deföed
 : 1;

818 
is_íumîabÀ
 : 1;

821 
is_c⁄figuøbÀ_deföed
 : 1;

824 
is_c⁄figuøbÀ
 : 1;

827 
ecma_vÆue_t
 
vÆue
;

830 
ecma_obje˘_t
 *
gë_p
;

833 
ecma_obje˘_t
 *
£t_p
;

834 } 
	tecma_¥›îty_des¸ùt‹_t
;

836 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


840 
	tecma_numbî_t
;

841 
	#DOUBLE_TO_ECMA_NUMBER_T
(
vÆue
Ë(
ecma_numbî_t
Ë(vÆue)

	)

846 
	#ECMA_NUMBER_MAX_DIGITS
 (9)

	)

854 
	#ECMA_NUMBER_SIGN_WIDTH
 (1)

	)

862 
	#ECMA_NUMBER_BIASED_EXP_WIDTH
 (8)

	)

870 
	#ECMA_NUMBER_FRACTION_WIDTH
 (23)

	)

871 #ñi‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


875 
	tecma_numbî_t
;

876 
	#DOUBLE_TO_ECMA_NUMBER_T
(
vÆue
Ë
	)
value

881 
	#ECMA_NUMBER_MAX_DIGITS
 (19)

	)

889 
	#ECMA_NUMBER_SIGN_WIDTH
 (1)

	)

897 
	#ECMA_NUMBER_BIASED_EXP_WIDTH
 (11)

	)

905 
	#ECMA_NUMBER_FRACTION_WIDTH
 (52)

	)

911 
	#ECMA_NUMBER_ZERO
 ((
ecma_numbî_t
Ë0)

	)

916 
	#ECMA_NUMBER_ONE
 ((
ecma_numbî_t
Ë1)

	)

921 
	#ECMA_NUMBER_TWO
 ((
ecma_numbî_t
Ë2)

	)

926 
	#ECMA_NUMBER_HALF
 ((
ecma_numbî_t
Ë0.5f)

	)

931 
	#ECMA_NUMBER_MINUS_ONE
 ((
ecma_numbî_t
Ë-1)

	)

936 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


937 
	#ECMA_NUMBER_MIN_VALUE
 (
FLT_MIN
)

	)

938 
	#ECMA_NUMBER_MAX_VALUE
 (
FLT_MAX
)

	)

939 #ñi‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


945 
	#ECMA_NUMBER_MAX_VALUE
 ((
ecma_numbî_t
Ë1.7976931348623157e+308)

	)

951 
	#ECMA_NUMBER_MIN_VALUE
 ((
ecma_numbî_t
Ë5e-324)

	)

957 
	#ECMA_NUMBER_E
 ((
ecma_numbî_t
Ë2.7182818284590452354)

	)

962 
	#ECMA_NUMBER_LN10
 ((
ecma_numbî_t
Ë2.302585092994046)

	)

967 
	#ECMA_NUMBER_LN2
 ((
ecma_numbî_t
Ë0.6931471805599453)

	)

972 
	#ECMA_NUMBER_LOG2E
 ((
ecma_numbî_t
Ë1.4426950408889634)

	)

977 
	#ECMA_NUMBER_LOG10E
 ((
ecma_numbî_t
Ë0.4342944819032518)

	)

982 
	#ECMA_NUMBER_PI
 ((
ecma_numbî_t
Ë3.1415926535897932)

	)

987 
	#ECMA_NUMBER_SQRT_1_2
 ((
ecma_numbî_t
Ë0.7071067811865476)

	)

992 
	#ECMA_NUMBER_SQRT2
 ((
ecma_numbî_t
Ë1.4142135623730951)

	)

997 
	#ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
 64

	)

1002 
	#ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
 10

	)

1007 
	#ECMA_STRING_NOT_ARRAY_INDEX
 
UINT32_MAX


	)

1015 
ecma_Àngth_t
 
unô_numbî
;

1018 
jmem_˝oöãr_t
 
fú°_chunk_˝
;

1021 
jmem_˝oöãr_t
 
œ°_chunk_˝
;

1022 } 
	tecma_cﬁÀ˘i⁄_hódî_t
;

1030 
lô_utf8_byã_t
 
d©a
[  (
uöt64_t
Ë-  (
jmem_˝oöãr_t
) ];

1033 
jmem_˝oöãr_t
 
√xt_chunk_˝
;

1034 } 
	tecma_cﬁÀ˘i⁄_chunk_t
;

1041 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
,

1043 
ECMA_STRING_CONTAINER_MAGIC_STRING
,

1044 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
,

1045 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
,

1047 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
,

1050 
ECMA_STRING_LITERAL_NUMBER
,

1054 
ECMA_STRING_CONTAINER__MAX
 = 
ECMA_STRING_LITERAL_NUMBER


1055 } 
	tecma_°rög_c⁄èöî_t
;

1060 
	#ECMA_STRING_CONTAINER_MASK
 0x7u

	)

1065 
	#ECMA_STRING_REF_ONE
 (1u << 3)

	)

1070 
	#ECMA_STRING_MAX_REF
 (0x1fffu << 3)

	)

1075 
	#ECMA_STRING_SET_REF_TO_ONE
(
ªfs_™d_c⁄èöî
) \

1076 ((
uöt16_t
Ë(((
ªfs_™d_c⁄èöî
Ë& 
ECMA_STRING_CONTAINER_MASK
Ë| 
ECMA_STRING_REF_ONE
))

	)

1081 
	#ECMA_STRING_GET_CONTAINER
(
°rög_desc_p
) \

1082 ((
ecma_°rög_c⁄èöî_t
Ë((
°rög_desc_p
)->
ªfs_™d_c⁄èöî
 & 
ECMA_STRING_CONTAINER_MASK
))

	)

1087 
	#ECMA_STRING_IS_REF_EQUALS_TO_ONE
(
°rög_desc_p
) \

1088 (((
°rög_desc_p
)->
ªfs_™d_c⁄èöî
 >> 3Ë=1)

	)

1096 
uöt16_t
 
ªfs_™d_c⁄èöî
;

1099 
lô_°rög_hash_t
 
hash
;

1111 
uöt16_t
 
size
;

1112 
uöt16_t
 
Àngth
;

1113 } 
utf8_°rög
;

1115 
lô_utf8_size_t
 
l⁄g_utf8_°rög_size
;

1116 
uöt32_t
 
uöt32_numbî
;

1117 
uöt32_t
 
magic_°rög_id
;

1118 
uöt32_t
 
magic_°rög_ex_id
;

1119 
ecma_vÆue_t
 
lô_numbî
;

1120 
uöt32_t
 
comm⁄_uöt32_fõld
;

1121 } 
u
;

1122 } 
	tecma_°rög_t
;

1129 
ecma_°rög_t
 
hódî
;

1130 
lô_utf8_size_t
 
l⁄g_utf8_°rög_Àngth
;

1131 } 
	tecma_l⁄g_°rög_t
;

1138 
uöt16_t
 
size
;

1139 
uöt16_t
 
ªfs
;

1140 
uöt16_t
 
°©us_Êags
;

1145 } 
	tecma_compûed_code_t
;

1157 
ECMA_GC_COLOR_WHITE_GRAY
,

1158 
ECMA_GC_COLOR_BLACK
,

1159 
ECMA_GC_COLOR__COUNT


1160 } 
	tecma_gc_cﬁ‹_t
;

1162 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


1169 
	#ECMA_PROP_HASHMAP_ALLOC_ON
 0

	)

1174 
	#ECMA_PROP_HASHMAP_ALLOC_MAX
 4

	)

1181 
	#ECMA_LIT_STORAGE_VALUE_COUNT
 3

	)

1188 
jmem_˝oöãr_t
 
√xt_˝
;

1189 
jmem_˝oöãr_t
 
vÆues
[
ECMA_LIT_STORAGE_VALUE_COUNT
];

1190 } 
	tecma_lô_°‹age_ôem_t
;

1192 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


1200 
ecma_¥›îty_t
 *
¥›_p
;

1203 
jmem_˝oöãr_t
 
obje˘_˝
;

1206 
jmem_˝oöãr_t
 
¥›_«me_˝
;

1207 } 
	tecma_lˇche_hash_íåy_t
;

1212 
	#ECMA_LCACHE_HASH_ROWS_COUNT
 128

	)

1217 
	#ECMA_LCACHE_HASH_ROW_LENGTH
 2

	)

1221 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


1230 
ecma_exãnded_obje˘_t
 
exãnded_obje˘
;

1231 
ecma_Àngth_t
 
byã_off£t
;

1232 
ecma_Àngth_t
 
¨øy_Àngth
;

1233 } 
	tecma_exãnded_ty≥d¨øy_obje˘_t
;

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-conversion.c

16 
	~<m©h.h
>

18 
	~"ecma-globÆs.h
"

19 
	~"ecma-hñ≥rs.h
"

20 
	~"jπ-libc-ö˛udes.h
"

21 
	~"lô-ch¨-hñ≥rs.h
"

22 
	~"lô-magic-°rögs.h
"

37 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
(
«me
) \

39 
	`JERRY_ASSERT
 (
«me
[0] <
UINT32_MAX
); \

40 
	`JERRY_ASSERT
 (
«me
[1] <
UINT32_MAX
); \

41 
	`JERRY_ASSERT
 (
«me
[2] <
UINT32_MAX
); \

42 
	`JERRY_ASSERT
 (
«me
[3] <
UINT32_MAX
); \

43 }

	)

48 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER
(
«me
Ë
uöt64_t
Çame[4] = { 0, 0, 0, 0 }

	)

53 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ARG
(
«me
Ë
uöt64_t
Çame[4]

	)

58 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_INIT
(
«me
, 
high
, 
mid_high
, 
mid_low
, 
low
) \

60 
«me
[3] = 
high
; \

61 
«me
[2] = 
mid_high
; \

62 
«me
[1] = 
mid_low
; \

63 
«me
[0] = 
low
; \

65 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

66 }

	)

71 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_COPY
(
«me_c›y_to
, 
«me_c›y_‰om
) \

73 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me_c›y_to
); \

74 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me_c›y_‰om
); \

76 
«me_c›y_to
[0] = 
«me_c›y_‰om
[0]; \

77 
«me_c›y_to
[1] = 
«me_c›y_‰om
[1]; \

78 
«me_c›y_to
[2] = 
«me_c›y_‰om
[2]; \

79 
«me_c›y_to
[3] = 
«me_c›y_‰om
[3]; \

80 }

	)

85 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ROUND_HIGH_AND_MIDDLE_TO_UINT64
(
«me
, 
uöt64_v¨
) \

87 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

88 
uöt64_v¨
 = ((
«me
[3] << 32u) | (name[2])) + (((name[1] >> 31u) != 0 ? 1 : 0)); \

89 }

	)

94 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ROUND_MIDDLE_AND_LOW_TO_UINT64
(
«me
, 
uöt64_v¨
) \

96 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

97 
uöt64_v¨
 = (
«me
[1] << 32u) | (name[0]); \

98 }

	)

103 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ARE_EQUAL
(
«me1
, 
«me2
) \

104 ((
«me1
)[0] =(
«me2
[0]) \

105 && (
«me1
)[1] =(
«me2
[1]) \

106 && (
«me1
)[2] =(
«me2
[2]) \

107 && (
«me1
)[3] =(
«me2
[3]))

	)

112 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
(
«me
, 
lowe°_bô
) \

113 ((
lowe°_bô
Ë>96 ? ((
«me
[3] >> ((lowest_bit) - 96)) == 0) : \

114 ((
lowe°_bô
Ë>64 ? (
«me
[3] == 0 \

115 && ((
«me
[2] >> ((
lowe°_bô
) - 64)) == 0)) : \

116 ((
lowe°_bô
Ë>32 ? (
«me
[3] == 0 \

117 && 
«me
[2] =0 && (“ame[1] >> ((
lowe°_bô
) - 32)) == 0)) : \

118 (
«me
[3] =0 &&Çame[2] =0 &&Çame[1] =0 && (“ame[0] >> (
lowe°_bô
)Ë=0)))))

	)

123 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_LOW_BIT_MASK_ZERO
(
«me
, 
highe°_bô
) \

124 ((
highe°_bô
 >96Ë? (
«me
[2] == 0 &&Çame[1] == 0 &&Çame[0] == 0 \

125 && (((
uöt32_t
Ë
«me
[3] << (127 - (
highe°_bô
))) == 0)) : \

126 ((
highe°_bô
 >64Ë? (
«me
[1] == 0 &&Çame[0] == 0 \

127 && (((
uöt32_t
Ë
«me
[2] << (95 - (
highe°_bô
))) == 0)) : \

128 ((
highe°_bô
 >32Ë? (
«me
[0] == 0 \

129 && (((
uöt32_t
Ë
«me
[1] << (63 - (
highe°_bô
))) == 0)) : \

130 (((
uöt32_t
Ë
«me
[0] << (31 - (
highe°_bô
))Ë=0))))

	)

135 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
(
«me
) \

136 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
«me
, 0)

	)

141 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
(
«me
) \

143 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

145 
«me
[3] = (
uöt32_t
) (name[3] << 1u); \

146 
«me
[3] |=Çame[2] >> 31u; \

147 
«me
[2] = (
uöt32_t
) (name[2] << 1u); \

148 
«me
[2] |=Çame[1] >> 31u; \

149 
«me
[1] = (
uöt32_t
) (name[1] << 1u); \

150 
«me
[1] |=Çame[0] >> 31u; \

151 
«me
[0] = (
uöt32_t
) (name[0] << 1u); \

153 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

154 }

	)

159 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_RIGHT_SHIFT
(
«me
) \

161 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

163 
«me
[0] >>= 1u; \

164 
«me
[0] |(
uöt32_t
) (name[1] << 31u); \

165 
«me
[1] >>= 1u; \

166 
«me
[1] |(
uöt32_t
) (name[2] << 31u); \

167 
«me
[2] >>= 1u; \

168 
«me
[2] |(
uöt32_t
) (name[3] << 31u); \

169 
«me
[3] >>= 1u; \

171 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

172 }

	)

177 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_INC
(
«me
) \

179 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

181 
«me
[0] += 1ull; \

182 
«me
[1] += (name[0] >> 32u); \

183 
«me
[0] = (
uöt32_t
)Çame[0]; \

184 
«me
[2] += (name[1] >> 32u); \

185 
«me
[1] = (
uöt32_t
)Çame[1]; \

186 
«me
[3] += (name[2] >> 32u); \

187 
«me
[2] = (
uöt32_t
)Çame[2]; \

189 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

190 }

	)

195 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ADD
(
«me_add_to
, 
«me_to_add
) \

197 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me_add_to
); \

198 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me_to_add
); \

200 
«me_add_to
[0] +
«me_to_add
[0]; \

201 
«me_add_to
[1] +
«me_to_add
[1]; \

202 
«me_add_to
[2] +
«me_to_add
[2]; \

203 
«me_add_to
[3] +
«me_to_add
[3]; \

205 
«me_add_to
[1] += (name_add_to[0] >> 32u); \

206 
«me_add_to
[0] = (
uöt32_t
)Çame_add_to[0]; \

207 
«me_add_to
[2] += (name_add_to[1] >> 32u); \

208 
«me_add_to
[1] = (
uöt32_t
)Çame_add_to[1]; \

209 
«me_add_to
[3] += (name_add_to[2] >> 32u); \

210 
«me_add_to
[2] = (
uöt32_t
)Çame_add_to[2]; \

212 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me_add_to
); \

213 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me_to_add
); \

214 }

	)

219 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_MUL_10
(
«me
) \

221 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

223 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
«me
); \

225 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER
 (
«me
 ## 
_tmp
); \

227 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_COPY
 (
«me
 ## 
_tmp
,Çame); \

229 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
«me
 ## 
_tmp
); \

230 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
«me
 ## 
_tmp
); \

232 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ADD
 (
«me
,Çamê## 
_tmp
); \

234 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

235 }

	)

240 
	#ECMA_NUMBER_CONVERSION_128BIT_INTEGER_DIV_10
(
«me
) \

242 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

245 c⁄° 
uöt64_t
 
div10_p_low
 = 0x9999999aul; \

246 c⁄° 
uöt64_t
 
div10_p_mid
 = 0x99999999ul; \

247 c⁄° 
uöt64_t
 
div10_p_high
 = 0x19999999ul; \

249 
uöt64_t
 
öãrmedüã
[8] = { 0, 0, 0, 0, 0, 0, 0, 0 }; \

250 
uöt64_t
 
l0
, 
l1
, 
l2
, 
l3
, 
m0
, 
m1
, 
m2
, 
m3
, 
h0
, 
h1
, 
h2
, 
h3
; \

251 
l0
 = 
«me
[0] * 
div10_p_low
; \

252 
l1
 = 
«me
[1] * 
div10_p_low
; \

253 
l2
 = 
«me
[2] * 
div10_p_low
; \

254 
l3
 = 
«me
[3] * 
div10_p_low
; \

255 
m0
 = 
«me
[0] * 
div10_p_mid
; \

256 
m1
 = 
«me
[1] * 
div10_p_mid
; \

257 
m2
 = 
«me
[2] * 
div10_p_mid
; \

258 
m3
 = 
«me
[3] * 
div10_p_mid
; \

259 
h0
 = 
«me
[0] * 
div10_p_high
; \

260 
h1
 = 
«me
[1] * 
div10_p_high
; \

261 
h2
 = 
«me
[2] * 
div10_p_high
; \

262 
h3
 = 
«me
[3] * 
div10_p_high
; \

263 
öãrmedüã
[0] +(
uöt32_t
Ë
l0
; \

264 
öãrmedüã
[1] +
l0
 >> 32u; \

266 
öãrmedüã
[1] +(
uöt32_t
Ë
l1
; \

267 
öãrmedüã
[2] +
l1
 >> 32u; \

268 
öãrmedüã
[1] +(
uöt32_t
Ë
m0
; \

269 
öãrmedüã
[2] +
m0
 >> 32u; \

271 
öãrmedüã
[2] +(
uöt32_t
Ë
l2
; \

272 
öãrmedüã
[3] +
l2
 >> 32u; \

273 
öãrmedüã
[2] +(
uöt32_t
Ë
m1
; \

274 
öãrmedüã
[3] +
m1
 >> 32u; \

275 
öãrmedüã
[2] +(
uöt32_t
Ë
m0
; \

276 
öãrmedüã
[3] +
m0
 >> 32u; \

278 
öãrmedüã
[3] +(
uöt32_t
Ë
l3
; \

279 
öãrmedüã
[4] +
l3
 >> 32u; \

280 
öãrmedüã
[3] +(
uöt32_t
Ë
m2
; \

281 
öãrmedüã
[4] +
m2
 >> 32u; \

282 
öãrmedüã
[3] +(
uöt32_t
Ë
m1
; \

283 
öãrmedüã
[4] +
m1
 >> 32u; \

284 
öãrmedüã
[3] +(
uöt32_t
Ë
h0
; \

285 
öãrmedüã
[4] +
h0
 >> 32u; \

287 
öãrmedüã
[4] +(
uöt32_t
Ë
m3
; \

288 
öãrmedüã
[5] +
m3
 >> 32u; \

289 
öãrmedüã
[4] +(
uöt32_t
Ë
m2
; \

290 
öãrmedüã
[5] +
m2
 >> 32u; \

291 
öãrmedüã
[4] +(
uöt32_t
Ë
h1
; \

292 
öãrmedüã
[5] +
h1
 >> 32u; \

294 
öãrmedüã
[5] +(
uöt32_t
Ë
m3
; \

295 
öãrmedüã
[6] +
m3
 >> 32u; \

296 
öãrmedüã
[5] +(
uöt32_t
Ë
h2
; \

297 
öãrmedüã
[6] +
h2
 >> 32u; \

299 
öãrmedüã
[6] +(
uöt32_t
Ë
h3
; \

300 
öãrmedüã
[7] +
h3
 >> 32u; \

302 
öãrmedüã
[1] += intermediate[0] >> 32u; \

303 
öãrmedüã
[0] = (
uöt32_t
) intermediate[0]; \

304 
öãrmedüã
[2] += intermediate[1] >> 32u; \

305 
öãrmedüã
[1] = (
uöt32_t
) intermediate[1]; \

306 
öãrmedüã
[3] += intermediate[2] >> 32u; \

307 
öãrmedüã
[2] = (
uöt32_t
) intermediate[2]; \

308 
öãrmedüã
[4] += intermediate[3] >> 32u; \

309 
öãrmedüã
[3] = (
uöt32_t
) intermediate[3]; \

310 
öãrmedüã
[5] += intermediate[4] >> 32u; \

311 
öãrmedüã
[4] = (
uöt32_t
) intermediate[4]; \

312 
öãrmedüã
[6] += intermediate[5] >> 32u; \

313 
öãrmedüã
[5] = (
uöt32_t
) intermediate[5]; \

314 
öãrmedüã
[7] += intermediate[6] >> 32u; \

315 
öãrmedüã
[6] = (
uöt32_t
) intermediate[6]; \

317 
«me
[0] = 
öãrmedüã
[4]; \

318 
«me
[1] = 
öãrmedüã
[5]; \

319 
«me
[2] = 
öãrmedüã
[6]; \

320 
«me
[3] = 
öãrmedüã
[7]; \

322 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_CHECK_PARTS_ARE_32BIT
 (
«me
); \

323 }

	)

325 
	#EPSILON
 0.0000001

	)

339 
ecma_numbî_t


340 
	$ecma_utf8_°rög_to_numbî
 (c⁄° 
lô_utf8_byã_t
 *
°r_p
,

341 
lô_utf8_size_t
 
°r_size
)

345 i‡(
°r_size
 == 0)

347  
ECMA_NUMBER_ZERO
;

350 c⁄° 
lô_utf8_byã_t
 *
°r_cuº_p
 = 
°r_p
;

351 c⁄° 
lô_utf8_byã_t
 *
°r_íd_p
 = 
°r_p
 + 
°r_size
;

352 
ecma_ch¨_t
 
code_unô
;

354 
°r_cuº_p
 < 
°r_íd_p
)

356 
code_unô
 = 
	`lô_utf8_≥ek_√xt
 (
°r_cuº_p
);

357 i‡(
	`lô_ch¨_is_whôe_•a˚
 (
code_unô
Ë|| 
	`lô_ch¨_is_löe_ãrmö©‹
 (code_unit))

359 
	`lô_utf8_ö¸
 (&
°r_cuº_p
);

367 c⁄° 
lô_utf8_byã_t
 *
begö_p
 = 
°r_cuº_p
;

368 
°r_cuº_p
 = (
lô_utf8_byã_t
 *Ë
°r_íd_p
;

370 
°r_cuº_p
 > 
°r_p
)

372 
code_unô
 = 
	`lô_utf8_≥ek_¥ev
 (
°r_cuº_p
);

373 i‡(
	`lô_ch¨_is_whôe_•a˚
 (
code_unô
Ë|| 
	`lô_ch¨_is_löe_ãrmö©‹
 (code_unit))

375 
	`lô_utf8_de¸
 (&
°r_cuº_p
);

383 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
°r_cuº_p
 - 1;

385 i‡(
begö_p
 > 
íd_p
)

387  
ECMA_NUMBER_ZERO
;

390 i‡((
íd_p
 >
begö_p
 + 2)

391 && 
begö_p
[0] =
LIT_CHAR_0


392 && (
begö_p
[1] =
LIT_CHAR_LOWERCASE_X


393 || 
begö_p
[1] =
LIT_CHAR_UPPERCASE_X
))

396 
begö_p
 += 2;

398 
ecma_numbî_t
 
num
 = 
ECMA_NUMBER_ZERO
;

400 c⁄° 
lô_utf8_byã_t
 * 
ôî_p
 = 
begö_p
;

401 
ôî_p
 <
íd_p
;

402 
ôî_p
++)

404 
öt32_t
 
digô_vÆue
;

406 i‡(*
ôî_p
 >
LIT_CHAR_0


407 && *
ôî_p
 <
LIT_CHAR_9
)

409 
digô_vÆue
 = (*
ôî_p
 - 
LIT_CHAR_0
);

411 i‡(*
ôî_p
 >
LIT_CHAR_LOWERCASE_A


412 && *
ôî_p
 <
LIT_CHAR_LOWERCASE_F
)

414 
digô_vÆue
 = 10 + (*
ôî_p
 - 
LIT_CHAR_LOWERCASE_A
);

416 i‡(*
ôî_p
 >
LIT_CHAR_UPPERCASE_A


417 && *
ôî_p
 <
LIT_CHAR_UPPERCASE_F
)

419 
digô_vÆue
 = 10 + (*
ôî_p
 - 
LIT_CHAR_UPPERCASE_A
);

423  
	`ecma_numbî_make_«n
 ();

426 
num
 =Çum * 16 + (
ecma_numbî_t
Ë
digô_vÆue
;

429  
num
;

432 
boﬁ
 
sign
 = 
Ál£
;

434 i‡(*
begö_p
 =
LIT_CHAR_PLUS
)

436 
begö_p
++;

438 i‡(*
begö_p
 =
LIT_CHAR_MINUS
)

440 
sign
 = 
åue
;

442 
begö_p
++;

445 i‡(
begö_p
 > 
íd_p
)

447  
	`ecma_numbî_make_«n
 ();

451 c⁄° 
lô_utf8_byã_t
 *
öföôy_zt_°r_p
 = 
	`lô_gë_magic_°rög_utf8
 (
LIT_MAGIC_STRING_INFINITY_UL
);

453 
	`JERRY_ASSERT
 (
	`°æí
 ((c⁄° *Ë
öföôy_zt_°r_p
) == 8);

455 i‡((
íd_p
 - 
begö_p
Ë=(8 - 1Ë&& 
	`memcmp
 (
öföôy_zt_°r_p
, begin_p, 8) == 0)

457  
	`ecma_numbî_make_öföôy
 (
sign
);

460 
uöt64_t
 
‰a˘i⁄_uöt64
 = 0;

461 
uöt32_t
 
digôs
 = 0;

462 
öt32_t
 
e
 = 0;

463 
boﬁ
 
digô_£í
 = 
Ál£
;

466 
begö_p
 <
íd_p
)

468 
öt32_t
 
digô_vÆue
;

470 i‡(*
begö_p
 >
LIT_CHAR_0


471 && *
begö_p
 <
LIT_CHAR_9
)

473 
digô_£í
 = 
åue
;

474 
digô_vÆue
 = (*
begö_p
 - 
LIT_CHAR_0
);

481 i‡(
digôs
 !0 || 
digô_vÆue
 != 0)

483 i‡(
digôs
 < 
ECMA_NUMBER_MAX_DIGITS
)

485 
‰a˘i⁄_uöt64
 = fø˘i⁄_uöt64 * 10 + (
uöt32_t
Ë
digô_vÆue
;

486 
digôs
++;

488 i‡(
e
 <= 100000)

491 
e
++;

495 
begö_p
++;

498 i‡(
begö_p
 <
íd_p


499 && *
begö_p
 =
LIT_CHAR_DOT
)

501 
begö_p
++;

503 i‡(!
digô_£í
 && 
begö_p
 > 
íd_p
)

505  
	`ecma_numbî_make_«n
 ();

509 
begö_p
 <
íd_p
)

511 
öt32_t
 
digô_vÆue
;

513 i‡(*
begö_p
 >
LIT_CHAR_0


514 && *
begö_p
 <
LIT_CHAR_9
)

516 
digô_£í
 = 
åue
;

517 
digô_vÆue
 = (*
begö_p
 - 
LIT_CHAR_0
);

524 i‡(
digôs
 < 
ECMA_NUMBER_MAX_DIGITS
)

526 i‡(
digôs
 !0 || 
digô_vÆue
 != 0)

528 
‰a˘i⁄_uöt64
 = fø˘i⁄_uöt64 * 10 + (
uöt32_t
Ë
digô_vÆue
;

529 
digôs
++;

532 
e
--;

535 
begö_p
++;

540 
öt32_t
 
e_ö_lô
 = 0;

541 
boﬁ
 
e_ö_lô_sign
 = 
Ál£
;

543 i‡(
begö_p
 <
íd_p


544 && (*
begö_p
 =
LIT_CHAR_LOWERCASE_E


545 || *
begö_p
 =
LIT_CHAR_UPPERCASE_E
))

547 
begö_p
++;

549 i‡(!
digô_£í
 || 
begö_p
 > 
íd_p
)

551  
	`ecma_numbî_make_«n
 ();

554 i‡(*
begö_p
 =
LIT_CHAR_PLUS
)

556 
begö_p
++;

558 i‡(*
begö_p
 =
LIT_CHAR_MINUS
)

560 
e_ö_lô_sign
 = 
åue
;

561 
begö_p
++;

564 i‡(
begö_p
 > 
íd_p
)

566  
	`ecma_numbî_make_«n
 ();

569 
begö_p
 <
íd_p
)

571 
öt32_t
 
digô_vÆue
;

573 i‡(*
begö_p
 >
LIT_CHAR_0


574 && *
begö_p
 <
LIT_CHAR_9
)

576 
digô_vÆue
 = (*
begö_p
 - 
LIT_CHAR_0
);

580  
	`ecma_numbî_make_«n
 ();

583 
e_ö_lô
 =É_ö_lô * 10 + 
digô_vÆue
;

585 
begö_p
++;

590 i‡(
e_ö_lô_sign
)

592 
e
 -
e_ö_lô
;

596 
e
 +
e_ö_lô
;

599 
boﬁ
 
e_sign
;

601 i‡(
e
 < 0)

603 
e_sign
 = 
åue
;

604 
e
 = -e;

608 
e_sign
 = 
Ál£
;

611 i‡(
begö_p
 <
íd_p
)

613  
	`ecma_numbî_make_«n
 ();

616 
	`JERRY_ASSERT
 (
begö_p
 =
íd_p
 + 1);

618 i‡(
‰a˘i⁄_uöt64
 == 0)

620  
sign
 ? -
ECMA_NUMBER_ZERO
 : ECMA_NUMBER_ZERO;

623 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


624 
öt32_t
 
bö¨y_exp⁄ít
 = 33;

631 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER
 (
‰a˘i⁄_uöt128
);

632 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_INIT
 (
‰a˘i⁄_uöt128
,

634 
‰a˘i⁄_uöt64
 >> 32u,

635 (
uöt32_t
Ë
‰a˘i⁄_uöt64
,

639 
	`JERRY_ASSERT
 (
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 124));

641 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 123))

643 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
‰a˘i⁄_uöt128
);

644 
bö¨y_exp⁄ít
--;

646 
	`JERRY_ASSERT
 (!
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
 (
‰a˘i⁄_uöt128
));

649 i‡(!
e_sign
)

652 
	`JERRY_ASSERT
 (
e
 >= 0);

654 
e
 > 0)

656 
	`JERRY_ASSERT
 (
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 124));

658 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_MUL_10
 (
‰a˘i⁄_uöt128
);

660 
e
--;

663 !
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 124))

665 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_RIGHT_SHIFT
 (
‰a˘i⁄_uöt128
);

667 
bö¨y_exp⁄ít
++;

669 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 123))

671 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
‰a˘i⁄_uöt128
);

673 
bö¨y_exp⁄ít
--;

675 
	`JERRY_ASSERT
 (!
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
 (
‰a˘i⁄_uöt128
));

682 
	`JERRY_ASSERT
 (
e
 != 0);

684 
e
 > 0)

687 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 127))

689 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
‰a˘i⁄_uöt128
);

691 
bö¨y_exp⁄ít
--;

693 
	`JERRY_ASSERT
 (!
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
 (
‰a˘i⁄_uöt128
));

696 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_DIV_10
 (
‰a˘i⁄_uöt128
);

698 
e
--;

702 !
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 124))

704 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_RIGHT_SHIFT
 (
‰a˘i⁄_uöt128
);

706 
bö¨y_exp⁄ít
++;

708 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 123))

710 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
‰a˘i⁄_uöt128
);

712 
bö¨y_exp⁄ít
--;

714 
	`JERRY_ASSERT
 (!
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
 (
‰a˘i⁄_uöt128
));

718 
	`JERRY_ASSERT
 (!
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
 (
‰a˘i⁄_uöt128
));

719 
	`JERRY_ASSERT
 (
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 124));

726 !
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 116 + 1))

728 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_RIGHT_SHIFT
 (
‰a˘i⁄_uöt128
);

730 
bö¨y_exp⁄ít
++;

732 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 116))

734 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_LEFT_SHIFT
 (
‰a˘i⁄_uöt128
);

736 
bö¨y_exp⁄ít
--;

738 
	`JERRY_ASSERT
 (!
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_ZERO
 (
‰a˘i⁄_uöt128
));

741 
	`JERRY_ASSERT
 (
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_IS_HIGH_BIT_MASK_ZERO
 (
‰a˘i⁄_uöt128
, 116 + 1));

743 
	`ECMA_NUMBER_CONVERSION_128BIT_INTEGER_ROUND_HIGH_AND_MIDDLE_TO_UINT64
 (
‰a˘i⁄_uöt128
, 
‰a˘i⁄_uöt64
);

745  
	`ecma_numbî_make_‰om_sign_m™tisß_™d_exp⁄ít
 (
sign
,

746 
‰a˘i⁄_uöt64
,

747 
bö¨y_exp⁄ít
);

748 #ñi‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


750 
ecma_numbî_t
 
num
 = (ecma_numbî_tË(
uöt32_t
Ë
‰a˘i⁄_uöt64
;

752 
ecma_numbî_t
 
m
 = 
e_sign
 ? (ecma_number_t) 0.1 : (ecma_number_t) 10.0;

754 
e
)

756 i‡(
e
 % 2)

758 
num
 *
m
;

761 
m
 *= m;

762 
e
 /= 2;

765  
num
;

767 
	}
}

777 
lô_utf8_size_t


778 
	$ecma_uöt32_to_utf8_°rög
 (
uöt32_t
 
vÆue
,

779 
lô_utf8_byã_t
 *
out_buf„r_p
,

780 
lô_utf8_size_t
 
buf„r_size
)

782 
lô_utf8_byã_t
 *
buf_p
 = 
out_buf„r_p
 + 
buf„r_size
;

786 
	`JERRY_ASSERT
 (
buf_p
 >
out_buf„r_p
);

788 
buf_p
--;

789 *
buf_p
 = (
lô_utf8_byã_t
Ë((
vÆue
 % 10Ë+ 
LIT_CHAR_0
);

790 
vÆue
 /= 10;

792 
vÆue
 != 0);

794 
	`JERRY_ASSERT
 (
buf_p
 >
out_buf„r_p
);

796 
lô_utf8_size_t
 
byãs_c›õd
 = (lô_utf8_size_tË(
out_buf„r_p
 + 
buf„r_size
 - 
buf_p
);

798 i‡(
	`likñy
 (
buf_p
 !
out_buf„r_p
))

800 
	`memmove
 (
out_buf„r_p
, 
buf_p
, 
byãs_c›õd
);

803  
byãs_c›õd
;

804 
	}
}

814 
uöt32_t


815 
	$ecma_numbî_to_uöt32
 (
ecma_numbî_t
 
num
)

817 i‡(
	`ecma_numbî_is_«n
 (
num
)

818 || 
	`ecma_numbî_is_zîo
 (
num
)

819 || 
	`ecma_numbî_is_öföôy
 (
num
))

824 c⁄° 
boﬁ
 
sign
 = 
	`ecma_numbî_is_√g©ive
 (
num
);

825 c⁄° 
ecma_numbî_t
 
abs_num
 = 
sign
 ? 
	`ecma_numbî_√g©e
 (
num
) :Çum;

828 c⁄° 
uöt64_t
 
uöt64_2_pow_32
 = (1ull << 32);

830 c⁄° 
ecma_numbî_t
 
num_2_pow_32
 = (Ë
uöt64_2_pow_32
;

832 
ecma_numbî_t
 
num_ö_uöt32_ønge
;

834 i‡(
abs_num
 >
num_2_pow_32
)

836 
num_ö_uöt32_ønge
 = 
	`ecma_numbî_ˇlc_ªmaödî
 (
abs_num
,

837 
num_2_pow_32
);

841 
num_ö_uöt32_ønge
 = 
abs_num
;

845 
	`JERRY_ASSERT
 (
num_ö_uöt32_ønge
 < 
uöt64_2_pow_32
);

846 
uöt32_t
 
uöt32_num
 = (uöt32_tË
num_ö_uöt32_ønge
;

848 c⁄° 
uöt32_t
 
ªt
 = 
sign
 ? -
uöt32_num
 : uint32_num;

850 #i‚de‡
JERRY_NDEBUG


851 i‡(
sign


852 && 
uöt32_num
 != 0)

854 
	`JERRY_ASSERT
 (
ªt
 =
uöt64_2_pow_32
 - 
uöt32_num
);

858 
	`JERRY_ASSERT
 (
ªt
 =
uöt32_num
);

862  
ªt
;

863 
	}
}

873 
öt32_t


874 
	$ecma_numbî_to_öt32
 (
ecma_numbî_t
 
num
)

876 
uöt32_t
 
uöt32_num
 = 
	`ecma_numbî_to_uöt32
 (
num
);

879 c⁄° 
öt64_t
 
öt64_2_pow_32
 = (1ll << 32);

882 c⁄° 
uöt32_t
 
uöt32_2_pow_31
 = (1ull << 31);

884 
öt32_t
 
ªt
;

886 i‡(
uöt32_num
 >
uöt32_2_pow_31
)

888 
ªt
 = (
öt32_t
Ë(
uöt32_num
 - 
öt64_2_pow_32
);

892 
ªt
 = (
öt32_t
Ë
uöt32_num
;

895 #i‚de‡
JERRY_NDEBUG


896 
öt64_t
 
öt64_num
 = 
uöt32_num
;

898 
	`JERRY_ASSERT
 (
öt64_num
 >= 0);

900 i‡(
öt64_num
 >
uöt32_2_pow_31
)

902 
	`JERRY_ASSERT
 (
ªt
 =
öt64_num
 - 
öt64_2_pow_32
);

906 
	`JERRY_ASSERT
 (
ªt
 =
öt64_num
);

910  
ªt
;

911 
	}
}

922 
lô_utf8_size_t


923 
	$ecma_numbî_to_decimÆ
 (
ecma_numbî_t
 
num
,

924 
lô_utf8_byã_t
 *
out_digôs_p
,

925 
öt32_t
 *
out_decimÆ_exp_p
)

927 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

928 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_zîo
 (
num
));

929 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_öföôy
 (
num
));

930 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_√g©ive
 (
num
));

932  
	`ecma_îrﬁ0_dtﬂ
 ((Ë
num
, 
out_digôs_p
, 
out_decimÆ_exp_p
);

933 
	}
}

940 
ölöe
 
öt32_t
 
__©å_Æways_ölöe___


941 
	$ecma_numbî_of_digôs
 (
vÆ
)

943 
	`JERRY_ASSERT
 (
	`Ábs
 (
	`fmod
 (
vÆ
, 1.0)Ë< 
EPSILON
);

944 
öt32_t
 
exp⁄ít
 = 0;

946 
vÆ
 >= 1.0)

948 
vÆ
 /= 10.0;

949 
exp⁄ít
++;

952  
exp⁄ít
;

953 
	}
}

958 
ölöe
 
__©å_Æways_ölöe___


959 
	$ecma_doubÀ_to_ascii
 (
vÆ
,

960 
lô_utf8_byã_t
 *
buf„r_p
,

961 
öt32_t
 *
exp_p
)

963 
öt32_t
 
ch¨_˙t
 = 0;

964 
öt32_t
 
num_of_digôs
 = 
	`ecma_numbî_of_digôs
 (
vÆ
);

966 
dividî
 = 10.0;

967 
¥ev_ªsiduÆ
;

968 
mod_ªs
 = 
	`fmod
 (
vÆ
, 
dividî
);

970 
buf„r_p
[
num_of_digôs
 - 1 - 
ch¨_˙t
++] = (
lô_utf8_byã_t
Ë((Ë
mod_ªs
 + '0');

971 
dividî
 *= 10.0;

972 
¥ev_ªsiduÆ
 = 
mod_ªs
;

974 
ch¨_˙t
 < 
num_of_digôs
)

976 
mod_ªs
 = 
	`fmod
 (
vÆ
, 
dividî
);

977 
ªsiduÆ
 = 
mod_ªs
 - 
¥ev_ªsiduÆ
;

978 
buf„r_p
[
num_of_digôs
 - 1 - 
ch¨_˙t
++] = (
lô_utf8_byã_t
Ë((Ë(
ªsiduÆ
 / (
dividî
 / 10.0)) + '0');

980 
dividî
 *= 10.0;

981 
¥ev_ªsiduÆ
 = 
mod_ªs
;

984 *
exp_p
 = 
ch¨_˙t
;

985 
	}
}

992 
ölöe
 
lô_utf8_size_t
 
__©å_Æways_ölöe___


993 
	$ecma_doubÀ_to_bö¨y_Êﬂtög_poöt
 (
vÆ
,

994 
lô_utf8_byã_t
 *
buf„r_p
,

995 
öt32_t
 *
exp_p
)

997 
öt32_t
 
i
, 
ch¨_˙t
 = 0;

998 
öãgî_∑π
, 
‰a˘i⁄_∑π
;

1000 
‰a˘i⁄_∑π
 = 
	`fmod
 (
vÆ
, 1.0);

1001 
öãgî_∑π
 = 
	`Êo‹
 (
vÆ
);

1003 
lô_utf8_byã_t
 
öãgî_∑π_buf„r
[
	`ecma_numbî_of_digôs
 (
öãgî_∑π
) + 1];

1005 i‡(
	`Ábs
 (
öãgî_∑π
Ë< 
EPSILON
)

1007 
buf„r_p
[0] = '0';

1008 
ch¨_˙t
++;

1010 i‡(
öãgî_∑π
 < 10e16)

1012 
öãgî_∑π
 > 0.0)

1014 
öãgî_∑π_buf„r
[
ch¨_˙t
++] = (
lô_utf8_byã_t
Ë((Ë
	`fmod
 (
öãgî_∑π
, 10.0) + '0');

1015 
öãgî_∑π
 = 
	`Êo‹
 (integer_part / 10.0);

1018 
i
 = 0; i < 
ch¨_˙t
; i++)

1020 
buf„r_p
[
i
] = 
öãgî_∑π_buf„r
[
ch¨_˙t
 - i - 1];

1025 
	`ecma_doubÀ_to_ascii
 (
vÆ
, 
buf„r_p
, &
ch¨_˙t
);

1028 *
exp_p
 = 
ch¨_˙t
;

1030 
‰a˘i⁄_∑π
 > 0 && 
ch¨_˙t
 < 
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
 - 1)

1032 
‰a˘i⁄_∑π
 *= 10;

1033 
tmp
 = 
‰a˘i⁄_∑π
;

1034 
‰a˘i⁄_∑π
 = 
	`fmod
 (fraction_part, 1.0);

1035 
öãgî_∑π
 = 
	`Êo‹
 (
tmp
);

1036 
buf„r_p
[
ch¨_˙t
++] = (
lô_utf8_byã_t
Ë('0' + (Ë
öãgî_∑π
);

1039 
buf„r_p
[
ch¨_˙t
] = '\0';

1041  (
lô_utf8_size_t
Ë(
ch¨_˙t
 - *
exp_p
);

1042 
	}
}

1053 
lô_utf8_size_t


1054 
	$ecma_numbî_to_bö¨y_Êﬂtög_poöt_numbî
 (
ecma_numbî_t
 
num
,

1055 
lô_utf8_byã_t
 *
out_digôs_p
,

1056 
öt32_t
 *
out_decimÆ_exp_p
)

1058 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

1059 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_zîo
 (
num
));

1060 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_öföôy
 (
num
));

1061 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_√g©ive
 (
num
));

1063  
	`ecma_doubÀ_to_bö¨y_Êﬂtög_poöt
 ((Ë
num
, 
out_digôs_p
, 
out_decimÆ_exp_p
);

1064 
	}
}

1075 
lô_utf8_size_t


1076 
	$ecma_numbî_to_utf8_°rög
 (
ecma_numbî_t
 
num
,

1077 
lô_utf8_byã_t
 *
buf„r_p
,

1078 
lô_utf8_size_t
 
buf„r_size
)

1080 
lô_utf8_byã_t
 *
d°_p
;

1082 i‡(
	`ecma_numbî_is_«n
 (
num
))

1085 
d°_p
 = 
	`lô_c›y_magic_°rög_to_buf„r
 (
LIT_MAGIC_STRING_NAN
, 
buf„r_p
, 
buf„r_size
);

1086  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1089 i‡(
	`ecma_numbî_is_zîo
 (
num
))

1092 *
buf„r_p
 = 
LIT_CHAR_0
;

1093 
	`JERRY_ASSERT
 (1 <
buf„r_size
);

1097 
d°_p
 = 
buf„r_p
;

1099 i‡(
	`ecma_numbî_is_√g©ive
 (
num
))

1102 *
d°_p
++ = 
LIT_CHAR_MINUS
;

1103 
num
 = 
	`ecma_numbî_√g©e
 (num);

1106 i‡(
	`ecma_numbî_is_öföôy
 (
num
))

1109 
d°_p
 = 
	`lô_c›y_magic_°rög_to_buf„r
 (
LIT_MAGIC_STRING_INFINITY_UL
, dst_p,

1110 (
lô_utf8_size_t
Ë(
buf„r_p
 + 
buf„r_size
 - 
d°_p
));

1111 
	`JERRY_ASSERT
 (
d°_p
 <
buf„r_p
 + 
buf„r_size
);

1112  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1115 
	`JERRY_ASSERT
 (
	`ecma_numbî_gë_√xt
 (
	`ecma_numbî_gë_¥ev
 (
num
)) ==Çum);

1118 
uöt32_t
 
num_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num
);

1120 i‡(((
ecma_numbî_t
Ë
num_uöt32
Ë=
num
)

1122 
d°_p
 +
	`ecma_uöt32_to_utf8_°rög
 (
num_uöt32
, d°_p, (
lô_utf8_size_t
Ë(
buf„r_p
 + 
buf„r_size
 - dst_p));

1123 
	`JERRY_ASSERT
 (
d°_p
 <
buf„r_p
 + 
buf„r_size
);

1124  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1128 
öt32_t
 
n
;

1130 
öt32_t
 
k
;

1132 
k
 = (
öt32_t
Ë
	`ecma_numbî_to_decimÆ
 (
num
, 
d°_p
, &
n
);

1134 i‡(
k
 <
n
 &&Ç <= 21)

1137 
d°_p
 +
k
;

1139 
	`mem£t
 (
d°_p
, 
LIT_CHAR_0
, (
size_t
Ë(
n
 - 
k
));

1140 
d°_p
 +
n
 - 
k
;

1142 
	`JERRY_ASSERT
 (
d°_p
 <
buf„r_p
 + 
buf„r_size
);

1143  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1146 i‡(0 < 
n
 &&Ç <= 21)

1149 
	`memmove
 (
d°_p
 + 
n
 + 1, d°_∞+Ç, (
size_t
Ë(
k
 -Ç));

1150 *(
d°_p
 + 
n
Ë
LIT_CHAR_DOT
;

1151 
d°_p
 +
k
 + 1;

1153 
	`JERRY_ASSERT
 (
d°_p
 <
buf„r_p
 + 
buf„r_size
);

1154  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1157 i‡(-6 < 
n
 &&Ç <= 0)

1160 
	`memmove
 (
d°_p
 + 2 - 
n
, d°_p, (
size_t
Ë
k
);

1161 
	`mem£t
 (
d°_p
 + 2, 
LIT_CHAR_0
, (
size_t
Ë-
n
);

1162 *
d°_p
 = 
LIT_CHAR_0
;

1163 *(
d°_p
 + 1Ë
LIT_CHAR_DOT
;

1164 
d°_p
 +
k
 - 
n
 + 2;

1166 
	`JERRY_ASSERT
 (
d°_p
 <
buf„r_p
 + 
buf„r_size
);

1167  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1170 i‡(
k
 == 1)

1173 
d°_p
++;

1178 
	`memmove
 (
d°_p
 + 2, d°_∞+ 1, (
size_t
Ë(
k
 - 1));

1179 *(
d°_p
 + 1Ë
LIT_CHAR_DOT
;

1180 
d°_p
 +
k
 + 1;

1184 *
d°_p
++ = 
LIT_CHAR_LOWERCASE_E
;

1185 *
d°_p
++ = (
n
 >1Ë? 
LIT_CHAR_PLUS
 : 
LIT_CHAR_MINUS
;

1186 
uöt32_t
 
t
 = (uöt32_tË(
n
 >= 1 ? (n - 1) : -(n - 1));

1188 
d°_p
 +
	`ecma_uöt32_to_utf8_°rög
 (
t
, d°_p, (
lô_utf8_size_t
Ë(
buf„r_p
 + 
buf„r_size
 - dst_p));

1190 
	`JERRY_ASSERT
 (
d°_p
 <
buf„r_p
 + 
buf„r_size
);

1192  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

1193 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-errol.c

39 
	~<m©h.h
>

41 
	~"ecma-hñ≥rs.h
"

59 
	#ECMA_NEXT_FLOAT
(
vÆue
Ë(
	`√xè·î
 ((vÆue), 
INFINITY
))

	)

60 
	#ECMA_PREV_FLOAT
(
vÆue
Ë(
	`√xè·î
 ((vÆue), -
INFINITY
))

	)

62 
	#ERROL0_EPSILON
 0.0000001

	)

69 
	mvÆue
;

70 
	moff£t
;

71 } 
	tecma_high_¥ec_t
;

76 
ölöe
 
__©å_Æways_ölöe___


77 
	$ecma_n‹mÆize_high_¥ec_d©a
 (
ecma_high_¥ec_t
 *
hp_d©a_p
)

79 
vÆ
 = 
hp_d©a_p
->
vÆue
;

81 
hp_d©a_p
->
vÆue
 +hp_d©a_p->
off£t
;

82 
hp_d©a_p
->
off£t
 +
vÆ
 - hp_d©a_p->
vÆue
;

83 
	}
}

88 
ölöe
 
__©å_Æways_ölöe___


89 
	$ecma_mu…ùly_high_¥ec_by_10
 (
ecma_high_¥ec_t
 *
hp_d©a_p
)

91 
vÆue
 = 
hp_d©a_p
->value;

93 
hp_d©a_p
->
vÆue
 *= 10.0;

94 
hp_d©a_p
->
off£t
 *= 10.0;

96 
off£t
 = 
hp_d©a_p
->
vÆue
;

98 
off£t
 -
vÆue
 * 8.0;

99 
off£t
 -
vÆue
 * 2.0;

101 
hp_d©a_p
->
off£t
 -= offset;

103 
	`ecma_n‹mÆize_high_¥ec_d©a
 (
hp_d©a_p
);

104 
	}
}

110 
	$ecma_divide_high_¥ec_by_10
 (
ecma_high_¥ec_t
 *
hp_d©a_p
)

112 
vÆue
 = 
hp_d©a_p
->value;

114 
hp_d©a_p
->
vÆue
 /= 10.0;

115 
hp_d©a_p
->
off£t
 /= 10.0;

117 
vÆue
 -
hp_d©a_p
->value * 8.0;

118 
vÆue
 -
hp_d©a_p
->value * 2.0;

120 
hp_d©a_p
->
off£t
 +
vÆue
 / 10.0;

122 
	`ecma_n‹mÆize_high_¥ec_d©a
 (
hp_d©a_p
);

123 
	}
}

130 
ölöe
 
lô_utf8_size_t
 
__©å_Æways_ölöe___


131 
	$ecma_îrﬁ0_dtﬂ
 (
vÆ
,

132 
lô_utf8_byã_t
 *
buf„r_p
,

133 
öt32_t
 *
exp_p
)

135 
powî_of_10
 = 1.0;

136 
öt32_t
 
exp
 = 1;

139 
ecma_high_¥ec_t
 
mid
;

141 
mid
.
vÆue
 = 
vÆ
;

142 
mid
.
off£t
 = 0.0;

144 ((
mid
.
vÆue
 > 10.0Ë|| ((mid.vÆuê=10.0Ë&& (mid.
off£t
 >0.0))Ë&& (
exp
 < 308))

146 
exp
++;

147 
	`ecma_divide_high_¥ec_by_10
 (&
mid
);

148 
powî_of_10
 /= 10.0;

151 ((
mid
.
vÆue
 < 1.0Ë|| ((mid.vÆuê=1.0Ë&& (mid.
off£t
 < 0.0))Ë&& (
exp
 > -307))

153 
exp
--;

154 
	`ecma_mu…ùly_high_¥ec_by_10
 (&
mid
);

155 
powî_of_10
 *= 10.0;

158 
ecma_high_¥ec_t
 
high_bound
, 
low_bound
;

160 
high_bound
.
vÆue
 = 
mid
.value;

161 
high_bound
.
off£t
 = 
mid
.offset;

163 i‡(
	`ECMA_NEXT_FLOAT
 (
vÆ
Ë!
INFINITY
)

165 
high_bound
.
off£t
 +(
	`ECMA_NEXT_FLOAT
 (
vÆ
Ë- vÆË* 
powî_of_10
 / (2.0 + 
ERROL0_EPSILON
);

168 
low_bound
.
vÆue
 = 
mid
.value;

169 
low_bound
.
off£t
 = 
mid
.off£à+ (
	`ECMA_PREV_FLOAT
 (
vÆ
Ë- vÆË* 
powî_of_10
 / (2.0 + 
ERROL0_EPSILON
);

171 
	`ecma_n‹mÆize_high_¥ec_d©a
 (&
high_bound
);

172 
	`ecma_n‹mÆize_high_¥ec_d©a
 (&
low_bound
);

176 
high_bound
.
vÆue
 > 10.0 || (high_bound.vÆuê=10.0 && (high_bound.
off£t
 >= 0.0)))

178 
exp
++;

179 
	`ecma_divide_high_¥ec_by_10
 (&
high_bound
);

180 
	`ecma_divide_high_¥ec_by_10
 (&
low_bound
);

183 
high_bound
.
vÆue
 < 1.0 || (high_bound.vÆuê=1.0 && (high_bound.
off£t
 < 0.0)))

185 
exp
--;

186 
	`ecma_mu…ùly_high_¥ec_by_10
 (&
high_bound
);

187 
	`ecma_mu…ùly_high_¥ec_by_10
 (&
low_bound
);

192 
lô_utf8_byã_t
 *
d°_p
 = 
buf„r_p
;

194 
high_bound
.
vÆue
 !0.0 || high_bound.
off£t
 != 0.0)

196 
uöt8_t
 
high_digô
 = (uöt8_tË
high_bound
.
vÆue
;

198 i‡((
high_bound
.
vÆue
 =
high_digô
Ë&& (high_bound.
off£t
 < 0))

200 
high_digô
 = (
uöt8_t
) (high_digit - 1u);

203 
uöt8_t
 
low_digô
 = (uöt8_tË
low_bound
.
vÆue
;

205 i‡((
low_bound
.
vÆue
 =
low_digô
Ë&& (low_bound.
off£t
 < 0))

207 
low_digô
 = (
uöt8_t
) (low_digit - 1u);

210 i‡(
low_digô
 !
high_digô
)

215 *
d°_p
++ = (
lô_utf8_byã_t
Ë('0' + 
high_digô
);

217 
high_bound
.
vÆue
 -
high_digô
;

218 
	`ecma_mu…ùly_high_¥ec_by_10
 (&
high_bound
);

220 
low_bound
.
vÆue
 -
low_digô
;

221 
	`ecma_mu…ùly_high_¥ec_by_10
 (&
low_bound
);

224 
mdig
 = (
high_bound
.
vÆue
 + 
low_bound
.value) / 2.0 + 0.5;

225 *
d°_p
++ = (
lô_utf8_byã_t
Ë('0' + (
uöt8_t
Ë
mdig
);

227 *
exp_p
 = 
exp
;

229  (
lô_utf8_size_t
Ë(
d°_p
 - 
buf„r_p
);

230 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-external-pointers.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-hñ≥rs.h
"

38 
boﬁ


39 
	$ecma_¸óã_«tive_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

40 
lô_magic_°rög_id_t
 
id
,

42 *
d©a_p
,

43 *
öfo_p
)

45 
	`JERRY_ASSERT
 (
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE


46 || 
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
);

48 
ecma_°rög_t
 
«me
;

49 
	`ecma_öô_ecma_magic_°rög
 (&
«me
, 
id
);

51 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obj_p
, &
«me
);

52 
boﬁ
 
is_√w
 = (
¥›îty_p
 =
NULL
);

54 
ecma_«tive_poöãr_t
 *
«tive_poöãr_p
;

56 i‡(
is_√w
)

58 
ecma_¥›îty_vÆue_t
 *
vÆue_p
;

59 
vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obj_p
, &
«me
, 
ECMA_PROPERTY_FLAG_WRITABLE
, 
NULL
);

61 
«tive_poöãr_p
 = 
	`jmem_hóp_Æloc_block
 ( (
ecma_«tive_poöãr_t
));

63 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
vÆue_p
->
vÆue
, 
«tive_poöãr_p
);

67 
ecma_¥›îty_vÆue_t
 *
vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

69 
«tive_poöãr_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_«tive_poöãr_t
, 
vÆue_p
->
vÆue
);

72 
	`JERRY_ASSERT
 (
	`ECMA_STRING_IS_REF_EQUALS_TO_ONE
 (&
«me
));

74 
«tive_poöãr_p
->
d©a_p
 = data_p;

75 
«tive_poöãr_p
->
u
.
öfo_p
 = info_p;

77  
is_√w
;

78 
	}
}

86 
boﬁ


87 
	$ecma_¸óã_«tive_h™dÀ_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

88 *
h™dÀ_p
,

89 *
‰ì_cb
)

91  
	`ecma_¸óã_«tive_¥›îty
 (
obj_p
,

92 
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE
,

93 
h™dÀ_p
,

94 
‰ì_cb
);

95 
	}
}

103 
boﬁ


104 
	$ecma_¸óã_«tive_poöãr_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

105 *
«tive_p
,

106 *
öfo_p
)

108  
	`ecma_¸óã_«tive_¥›îty
 (
obj_p
,

109 
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
,

110 
«tive_p
,

111 
öfo_p
);

112 
	}
}

125 
ecma_«tive_poöãr_t
 *

126 
	$ecma_gë_«tive_poöãr_vÆue
 (
ecma_obje˘_t
 *
obj_p
,

127 
lô_magic_°rög_id_t
 
id
)

130 
	`JERRY_ASSERT
 (
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE


131 || 
id
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
);

133 
ecma_°rög_t
 
«me
;

134 
	`ecma_öô_ecma_magic_°rög
 (&
«me
, 
id
);

136 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obj_p
, &
«me
);

138 
	`JERRY_ASSERT
 (
	`ECMA_STRING_IS_REF_EQUALS_TO_ONE
 (&
«me
));

140 i‡(
¥›îty_p
 =
NULL
)

142  
NULL
;

145 
ecma_¥›îty_vÆue_t
 *
vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

147  
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_«tive_poöãr_t
, 
vÆue_p
->
vÆue
);

148 
	}
}

154 
	$ecma_‰ì_«tive_poöãr
 (
ecma_¥›îty_t
 *
¥›_p
)

156 
ecma_¥›îty_vÆue_t
 *
vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›_p
);

158 
ecma_«tive_poöãr_t
 *
«tive_poöãr_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_native_pointer_t,

159 
vÆue_p
->
vÆue
);

161 
	`jmem_hóp_‰ì_block
 (
«tive_poöãr_p
,  (
ecma_«tive_poöãr_t
));

162 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-number.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-hñ≥rs.h
"

26 
JERRY_STATIC_ASSERT
 ( (
ecma_vÆue_t
Ë= (
ecma_öãgî_vÆue_t
),

27 
size_of_ecma_vÆue_t_mu°_be_equÆ_to_the_size_of_ecma_öãgî_vÆue_t
);

29 
JERRY_STATIC_ASSERT
 (
ECMA_DIRECT_SHIFT
 =
ECMA_VALUE_SHIFT
 + 1,

30 
cuºíéy_dúe˘ly_ícoded_vÆues_has_⁄e_exåa_Êag
);

32 
JERRY_STATIC_ASSERT
 (((1 << (
ECMA_DIRECT_SHIFT
 - 1)Ë| 
ECMA_TYPE_DIRECT
Ë=
ECMA_DIRECT_TYPE_SIMPLE_VALUE
,

33 
cuºíéy_dúe˘ly_ícoded_vÆues_°¨t_a·î_dúe˘_ty≥_sim∂e_vÆue
);

35 
	#ECMA_NUMBER_SIGN_POS
 (
ECMA_NUMBER_FRACTION_WIDTH
 + \

36 
ECMA_NUMBER_BIASED_EXP_WIDTH
)

	)

38 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


39 
JERRY_STATIC_ASSERT
 ( (
ecma_numbî_t
Ë= (
uöt32_t
),

40 
size_of_ecma_numbî_t_mu°_be_equÆ_to_4_byãs
);

47 
ecma_numbî_t


48 
	$ecma_numbî_∑ck
 (
boﬁ
 
sign
,

49 
uöt32_t
 
bü£d_exp
,

50 
uöt64_t
 
‰a˘i⁄
)

52 
	`JERRY_ASSERT
 ((
bü£d_exp
 & ~((1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1)) == 0);

53 
	`JERRY_ASSERT
 ((
‰a˘i⁄
 & ~((1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
) - 1)) == 0);

55 
uöt32_t
 
∑cked_vÆue
 = (((
sign
 ? 1u : 0uË<< 
ECMA_NUMBER_SIGN_POS
) |

56 (
bü£d_exp
 << 
ECMA_NUMBER_FRACTION_WIDTH
) |

57 ((
uöt32_t
Ë
‰a˘i⁄
));

61 
uöt32_t
 
u32_vÆue
;

62 
ecma_numbî_t
 
Êﬂt_vÆue
;

63 } 
u
;

65 
u
.
u32_vÆue
 = 
∑cked_vÆue
;

67  
u
.
Êﬂt_vÆue
;

68 
	}
}

74 
	$ecma_numbî_u≈ack
 (
ecma_numbî_t
 
num
,

75 
boﬁ
 *
sign_p
,

76 
uöt32_t
 *
bü£d_exp_p
,

77 
uöt64_t
 *
‰a˘i⁄_p
)

81 
uöt32_t
 
u32_vÆue
;

82 
ecma_numbî_t
 
Êﬂt_vÆue
;

83 } 
u
;

85 
u
.
Êﬂt_vÆue
 = 
num
;

87 
uöt32_t
 
∑cked_vÆue
 = 
u
.
u32_vÆue
;

89 i‡(
sign_p
 !
NULL
)

91 *
sign_p
 = ((
∑cked_vÆue
 >> 
ECMA_NUMBER_SIGN_POS
) != 0);

94 i‡(
bü£d_exp_p
 !
NULL
)

96 *
bü£d_exp_p
 = (((
∑cked_vÆue
Ë& ~(1u << 
ECMA_NUMBER_SIGN_POS
)Ë>> 
ECMA_NUMBER_FRACTION_WIDTH
);

99 i‡(
‰a˘i⁄_p
 !
NULL
)

101 *
‰a˘i⁄_p
 = (
∑cked_vÆue
 & ((1u << 
ECMA_NUMBER_FRACTION_WIDTH
) - 1));

103 
	}
}

111 c⁄° 
öt32_t
 
	gecma_numbî_exp⁄ít_büs
 = 127;

113 #ñi‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


114 
JERRY_STATIC_ASSERT
 ( (
ecma_numbî_t
Ë= (
uöt64_t
),

115 
size_of_ecma_numbî_t_mu°_be_equÆ_to_8_byãs
);

122 
ecma_numbî_t


123 
	$ecma_numbî_∑ck
 (
boﬁ
 
sign
,

124 
uöt32_t
 
bü£d_exp
,

125 
uöt64_t
 
‰a˘i⁄
)

127 
uöt64_t
 
∑cked_vÆue
 = (((
sign
 ? 1uŒ : 0uŒË<< 
ECMA_NUMBER_SIGN_POS
) |

128 (((
uöt64_t
Ë
bü£d_exp
Ë<< 
ECMA_NUMBER_FRACTION_WIDTH
) |

129 
‰a˘i⁄
);

131 
	`JERRY_ASSERT
 ((
bü£d_exp
 & ~((1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1)) == 0);

132 
	`JERRY_ASSERT
 ((
‰a˘i⁄
 & ~((1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
) - 1)) == 0);

136 
uöt64_t
 
u64_vÆue
;

137 
ecma_numbî_t
 
Êﬂt_vÆue
;

138 } 
u
;

140 
u
.
u64_vÆue
 = 
∑cked_vÆue
;

142  
u
.
Êﬂt_vÆue
;

143 
	}
}

149 
	$ecma_numbî_u≈ack
 (
ecma_numbî_t
 
num
,

150 
boﬁ
 *
sign_p
,

151 
uöt32_t
 *
bü£d_exp_p
,

152 
uöt64_t
 *
‰a˘i⁄_p
)

156 
uöt64_t
 
u64_vÆue
;

157 
ecma_numbî_t
 
Êﬂt_vÆue
;

158 } 
u
;

159 
u
.
Êﬂt_vÆue
 = 
num
;

161 
uöt64_t
 
∑cked_vÆue
 = 
u
.
u64_vÆue
;

163 i‡(
sign_p
 !
NULL
)

165 *
sign_p
 = ((
∑cked_vÆue
 >> 
ECMA_NUMBER_SIGN_POS
) != 0);

168 i‡(
bü£d_exp_p
 !
NULL
)

170 *
bü£d_exp_p
 = (
uöt32_t
Ë(((
∑cked_vÆue
Ë& ~(1uŒ << 
ECMA_NUMBER_SIGN_POS
)Ë>> 
ECMA_NUMBER_FRACTION_WIDTH
);

173 i‡(
‰a˘i⁄_p
 !
NULL
)

175 *
‰a˘i⁄_p
 = (
∑cked_vÆue
 & ((1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
) - 1));

177 
	}
}

185 c⁄° 
öt32_t
 
	gecma_numbî_exp⁄ít_büs
 = 1023;

194 
uöt64_t


195 
	$ecma_numbî_gë_‰a˘i⁄_fõld
 (
ecma_numbî_t
 
num
)

197 
uöt64_t
 
‰a˘i⁄
;

199 
	`ecma_numbî_u≈ack
 (
num
, 
NULL
, NULL, &
‰a˘i⁄
);

201  
‰a˘i⁄
;

202 
	}
}

209 
uöt32_t


210 
	$ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
ecma_numbî_t
 
num
)

212 
uöt32_t
 
bü£d_exp
;

214 
	`ecma_numbî_u≈ack
 (
num
, 
NULL
, &
bü£d_exp
, NULL);

216  
bü£d_exp
;

217 
	}
}

224 
uöt32_t


225 
	$ecma_numbî_gë_sign_fõld
 (
ecma_numbî_t
 
num
)

227 
boﬁ
 
sign
;

229 
	`ecma_numbî_u≈ack
 (
num
, &
sign
, 
NULL
, NULL);

231  
sign
;

232 
	}
}

241 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


242 
	$ecma_numbî_is_«n
 (
ecma_numbî_t
 
num
)

244 
boﬁ
 
is_«n
 = (
num
 !=Çum);

246 #i‚de‡
JERRY_NDEBUG


247 
uöt32_t
 
bü£d_exp
 = 
	`ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
num
);

248 
uöt64_t
 
‰a˘i⁄
 = 
	`ecma_numbî_gë_‰a˘i⁄_fõld
 (
num
);

251 
boﬁ
 
is_«n_õì754
 = ((
bü£d_exp
 =(1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1)

252 && (
‰a˘i⁄
 != 0));

254 
	`JERRY_ASSERT
 (
is_«n
 =
is_«n_õì754
);

257  
is_«n
;

258 
	}
}

265 
ecma_numbî_t


266 
	$ecma_numbî_make_«n
 ()

268  
	`ecma_numbî_∑ck
 (
Ál£
,

269 (1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1u,

271 
	}
}

279 
ecma_numbî_t


280 
	$ecma_numbî_make_öföôy
 (
boﬁ
 
sign
)

283  
	`ecma_numbî_∑ck
 (
sign
,

284 (1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1u,

286 
	}
}

294 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


295 
	$ecma_numbî_is_√g©ive
 (
ecma_numbî_t
 
num
)

297 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

300  (
	`ecma_numbî_gë_sign_fõld
 (
num
) != 0);

301 
	}
}

309 
boﬁ


310 
	$ecma_numbî_is_zîo
 (
ecma_numbî_t
 
num
)

312 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

314 
boﬁ
 
is_zîo
 = (
num
 =
ECMA_NUMBER_ZERO
);

316 #i‚de‡
JERRY_NDEBUG


318 
boﬁ
 
is_zîo_õì754
 = (
	`ecma_numbî_gë_‰a˘i⁄_fõld
 (
num
) == 0

319 && 
	`ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
num
) == 0);

321 
	`JERRY_ASSERT
 (
is_zîo
 =
is_zîo_õì754
);

324  
is_zîo
;

325 
	}
}

334 
boﬁ


335 
	$ecma_numbî_is_öföôy
 (
ecma_numbî_t
 
num
)

337 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

339 
uöt32_t
 
bü£d_exp
 = 
	`ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
num
);

340 
uöt64_t
 
‰a˘i⁄
 = 
	`ecma_numbî_gë_‰a˘i⁄_fõld
 (
num
);

343  ((
bü£d_exp
 =(1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1)

344 && (
‰a˘i⁄
 == 0));

345 
	}
}

352 
öt32_t


353 
	$ecma_numbî_gë_‰a˘i⁄_™d_exp⁄ít
 (
ecma_numbî_t
 
num
,

354 
uöt64_t
 *
out_‰a˘i⁄_p
,

355 
öt32_t
 *
out_exp⁄ít_p
)

357 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

359 
uöt32_t
 
bü£d_exp
 = 
	`ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
num
);

360 
uöt64_t
 
‰a˘i⁄
 = 
	`ecma_numbî_gë_‰a˘i⁄_fõld
 (
num
);

361 
öt32_t
 
exp⁄ít
;

363 i‡(
	`u∆ikñy
 (
bü£d_exp
 == 0))

366 i‡(
	`ecma_numbî_is_zîo
 (
num
))

368 
exp⁄ít
 = -
ecma_numbî_exp⁄ít_büs
;

372 
exp⁄ít
 = 1 - 
ecma_numbî_exp⁄ít_büs
;

374 !(
‰a˘i⁄
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
)))

376 
	`JERRY_ASSERT
 (
‰a˘i⁄
 != 0);

378 
‰a˘i⁄
 <<= 1;

379 
exp⁄ít
--;

383 i‡(
	`ecma_numbî_is_öföôy
 (
num
))

386 
exp⁄ít
 = (
öt32_t
Ë
bü£d_exp
 - 
ecma_numbî_exp⁄ít_büs
;

388 
	`JERRY_ASSERT
 ((
‰a˘i⁄
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
)) == 0);

389 
‰a˘i⁄
 |1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
;

394 
exp⁄ít
 = (
öt32_t
Ë
bü£d_exp
 - 
ecma_numbî_exp⁄ít_büs
;

396 
	`JERRY_ASSERT
 (
bü£d_exp
 > 0 && bü£d_ex∞< (1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1);

397 
	`JERRY_ASSERT
 ((
‰a˘i⁄
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
)) == 0);

398 
‰a˘i⁄
 |1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
;

401 *
out_‰a˘i⁄_p
 = 
‰a˘i⁄
;

402 *
out_exp⁄ít_p
 = 
exp⁄ít
;

403  
ECMA_NUMBER_FRACTION_WIDTH
;

404 
	}
}

411 
ecma_numbî_t


412 
	$ecma_numbî_make_n‹mÆ_posôive_‰om_‰a˘i⁄_™d_exp⁄ít
 (
uöt64_t
 
‰a˘i⁄
,

413 
öt32_t
 
exp⁄ít
)

415 
uöt32_t
 
bü£d_exp
 = (uöt32_tË(
exp⁄ít
 + 
ecma_numbî_exp⁄ít_büs
);

416 
	`JERRY_ASSERT
 (
bü£d_exp
 > 0 && bü£d_ex∞< (1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1);

417 
	`JERRY_ASSERT
 ((
‰a˘i⁄
 & ~((1uŒ << (
ECMA_NUMBER_FRACTION_WIDTH
 + 1)) - 1)) == 0);

418 
	`JERRY_ASSERT
 ((
‰a˘i⁄
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
)) != 0);

420  
	`ecma_numbî_∑ck
 (
Ál£
,

421 
bü£d_exp
,

422 
‰a˘i⁄
 & ~(1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
));

423 
	}
}

430 
ecma_numbî_t


431 
	$ecma_numbî_make_‰om_sign_m™tisß_™d_exp⁄ít
 (
boﬁ
 
sign
,

433 
uöt64_t
 
m™tisß
,

434 
öt32_t
 
exp⁄ít
)

437 i‡(
m™tisß
 & ~((1uŒ << (
ECMA_NUMBER_FRACTION_WIDTH
 + 1)) - 1))

440 (
m™tisß
 & ~((1uŒ << (
ECMA_NUMBER_FRACTION_WIDTH
 + 1)) - 1)) != 0)

442 
uöt64_t
 
rightmo°_bô
 = (
m™tisß
 & 1);

444 
exp⁄ít
++;

445 
m™tisß
 >>= 1;

447 i‡((
m™tisß
 & ~((1uŒ << (
ECMA_NUMBER_FRACTION_WIDTH
 + 1)) - 1)) == 0)

450 
m™tisß
 +
rightmo°_bô
;

454 
	`JERRY_ASSERT
 (((
m™tisß
 & ~((1uŒ << (
ECMA_NUMBER_FRACTION_WIDTH
 + 1)) - 1)) == 0)

455 || (
m™tisß
 =(1uŒ << (
ECMA_NUMBER_FRACTION_WIDTH
 + 1))));

461 
m™tisß
 != 0

462 && ((
m™tisß
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
)) == 0))

464 
exp⁄ít
--;

465 
m™tisß
 <<= 1;

469 
exp⁄ít
 +
ECMA_NUMBER_FRACTION_WIDTH
 - 1;

471 
öt32_t
 
bü£d_exp_sig√d
 = 
exp⁄ít
 + 
ecma_numbî_exp⁄ít_büs
;

473 i‡(
bü£d_exp_sig√d
 < 1)

476 
bü£d_exp_sig√d
 < 0)

478 
bü£d_exp_sig√d
++;

479 
m™tisß
 >>= 1;

483 
m™tisß
 += 1;

484 
m™tisß
 >>= 1;

487 
bü£d_exp_sig√d
 = 0;

492 
m™tisß
 &~(1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
);

495 
uöt32_t
 
bü£d_exp
 = (uöt32_tË
bü£d_exp_sig√d
;

497 i‡(
bü£d_exp
 >((1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1))

499  
	`ecma_numbî_make_öföôy
 (
sign
);

502 
	`JERRY_ASSERT
 (
bü£d_exp
 < (1u << 
ECMA_NUMBER_BIASED_EXP_WIDTH
) - 1);

503 
	`JERRY_ASSERT
 ((
m™tisß
 & ~((1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
) - 1)) == 0);

505  
	`ecma_numbî_∑ck
 (
sign
,

506 
bü£d_exp
,

507 
m™tisß
);

508 
	}
}

515 
ecma_numbî_t


516 
	$ecma_numbî_gë_¥ev
 (
ecma_numbî_t
 
num
)

518 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

519 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_zîo
 (
num
));

521 i‡(
	`ecma_numbî_is_√g©ive
 (
num
))

523  
	`ecma_numbî_√g©e
 (
	`ecma_numbî_gë_√xt
 (
num
));

526 
uöt32_t
 
bü£d_exp
 = 
	`ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
num
);

527 
uöt64_t
 
‰a˘i⁄
 = 
	`ecma_numbî_gë_‰a˘i⁄_fõld
 (
num
);

529 i‡(
‰a˘i⁄
 =0 && 
bü£d_exp
 != 0)

531 
‰a˘i⁄
 = (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
) - 1;

533 
bü£d_exp
--;

537 
‰a˘i⁄
--;

540  
	`ecma_numbî_∑ck
 (
Ál£
,

541 
bü£d_exp
,

542 
‰a˘i⁄
);

543 
	}
}

550 
ecma_numbî_t


551 
	$ecma_numbî_gë_√xt
 (
ecma_numbî_t
 
num
)

553 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

554 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_öföôy
 (
num
));

556 i‡(
	`ecma_numbî_is_√g©ive
 (
num
))

558  
	`ecma_numbî_√g©e
 (
	`ecma_numbî_gë_¥ev
 (
num
));

561 
uöt32_t
 
bü£d_exp
 = 
	`ecma_numbî_gë_bü£d_exp⁄ít_fõld
 (
num
);

562 
uöt64_t
 
‰a˘i⁄
 = 
	`ecma_numbî_gë_‰a˘i⁄_fõld
 (
num
);

564 
‰a˘i⁄
 |(1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
);

566 
‰a˘i⁄
++;

568 i‡((
‰a˘i⁄
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
)) == 0)

570 
‰a˘i⁄
 >>= 1;

572 
bü£d_exp
++;

575 
	`JERRY_ASSERT
 (
‰a˘i⁄
 & (1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
));

577 
‰a˘i⁄
 &~(1uŒ << 
ECMA_NUMBER_FRACTION_WIDTH
);

579  
	`ecma_numbî_∑ck
 (
Ál£
,

580 
bü£d_exp
,

581 
‰a˘i⁄
);

582 
	}
}

589 
ecma_numbî_t


590 
	$ecma_numbî_√g©e
 (
ecma_numbî_t
 
num
)

592 
ecma_numbî_t
 
√g©ed
 = -
num
;

594 #i‚de‡
JERRY_NDEBUG


595 
boﬁ
 
sign
;

596 
uöt32_t
 
bü£d_exp
;

597 
uöt64_t
 
‰a˘i⁄
;

599 
	`ecma_numbî_u≈ack
 (
num
, &
sign
, &
bü£d_exp
, &
‰a˘i⁄
);

601 
sign
 = !sign;

603 
ecma_numbî_t
 
√g©ed_õì754
 = 
	`ecma_numbî_∑ck
 (
sign
, 
bü£d_exp
, 
‰a˘i⁄
);

605 
	`JERRY_ASSERT
 (
√g©ed
 =
√g©ed_õì754


606 || (
	`ecma_numbî_is_«n
 (
√g©ed
)

607 && 
	`ecma_numbî_is_«n
 (
√g©ed_õì754
)));

610  
√g©ed
;

611 
	}
}

618 
ecma_numbî_t


619 
	$ecma_numbî_åunc
 (
ecma_numbî_t
 
num
)

621 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
num
));

623 
uöt64_t
 
‰a˘i⁄
;

624 
öt32_t
 
exp⁄ít
;

625 c⁄° 
öt32_t
 
dŸ_shi·
 = 
	`ecma_numbî_gë_‰a˘i⁄_™d_exp⁄ít
 (
num
, &
‰a˘i⁄
, &
exp⁄ít
);

626 c⁄° 
boﬁ
 
sign
 = 
	`ecma_numbî_is_√g©ive
 (
num
);

628 i‡(
exp⁄ít
 < 0)

630  
ECMA_NUMBER_ZERO
;

632 i‡(
exp⁄ít
 < 
dŸ_shi·
)

634 
‰a˘i⁄
 &~((1uŒ << (
dŸ_shi·
 - 
exp⁄ít
)) - 1);

636 
ecma_numbî_t
 
tmp
 = 
	`ecma_numbî_make_n‹mÆ_posôive_‰om_‰a˘i⁄_™d_exp⁄ít
 (
‰a˘i⁄
,

637 
exp⁄ít
);

638 i‡(
sign
)

640  
	`ecma_numbî_√g©e
 (
tmp
);

644  
tmp
;

649  
num
;

651 
	}
}

662 
ecma_numbî_t


663 
	$ecma_numbî_ˇlc_ªmaödî
 (
ecma_numbî_t
 
À·_num
,

664 
ecma_numbî_t
 
right_num
)

666 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
À·_num
)

667 && !
	`ecma_numbî_is_zîo
 (
À·_num
)

668 && !
	`ecma_numbî_is_öföôy
 (
À·_num
));

669 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
right_num
)

670 && !
	`ecma_numbî_is_zîo
 (
right_num
)

671 && !
	`ecma_numbî_is_öföôy
 (
right_num
));

673 c⁄° 
ecma_numbî_t
 
q
 = 
	`ecma_numbî_åunc
 (
	`ecma_numbî_divide
 (
À·_num
, 
right_num
));

674 
ecma_numbî_t
 
r
 = 
	`ecma_numbî_sub°ø˘
 (
À·_num
, 
	`ecma_numbî_mu…ùly
 (
right_num
, 
q
));

676 i‡(
	`ecma_numbî_is_zîo
 (
r
)

677 && 
	`ecma_numbî_is_√g©ive
 (
À·_num
))

679 
r
 = 
	`ecma_numbî_√g©e
 (r);

682  
r
;

683 
	}
}

690 
ecma_numbî_t


691 
	$ecma_numbî_add
 (
ecma_numbî_t
 
À·_num
,

692 
ecma_numbî_t
 
right_num
)

694  
À·_num
 + 
right_num
;

695 
	}
}

702 
ecma_numbî_t


703 
	$ecma_numbî_sub°ø˘
 (
ecma_numbî_t
 
À·_num
,

704 
ecma_numbî_t
 
right_num
)

706  
	`ecma_numbî_add
 (
À·_num
, 
	`ecma_numbî_√g©e
 (
right_num
));

707 
	}
}

714 
ecma_numbî_t


715 
	$ecma_numbî_mu…ùly
 (
ecma_numbî_t
 
À·_num
,

716 
ecma_numbî_t
 
right_num
)

718  
À·_num
 * 
right_num
;

719 
	}
}

726 
ecma_numbî_t


727 
	$ecma_numbî_divide
 (
ecma_numbî_t
 
À·_num
,

728 
ecma_numbî_t
 
right_num
)

730  
À·_num
 / 
right_num
;

731 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-string.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-gc.h
"

18 
	~"ecma-globÆs.h
"

19 
	~"ecma-hñ≥rs.h
"

20 
	~"ecma-lˇche.h
"

21 
	~"jπ.h
"

22 
	~"jπ-libc-ö˛udes.h
"

23 
	~"lô-ch¨-hñ≥rs.h
"

24 
	~"lô-magic-°rögs.h
"

33 
JERRY_STATIC_ASSERT
 (
ECMA_STRING_CONTAINER_MASK
 + 1 =
ECMA_STRING_REF_ONE
,

34 
ecma_°rög_ªf_cou¡î_should_°¨t_a·î_the_c⁄èöî_fõld
);

36 
JERRY_STATIC_ASSERT
 (
ECMA_STRING_CONTAINER_MASK
 >
ECMA_STRING_CONTAINER__MAX
,

37 
ecma_°rög_c⁄èöî_ty≥s_mu°_be_lowî_th™_the_c⁄èöî_mask
);

39 
JERRY_STATIC_ASSERT
 ((
ECMA_STRING_MAX_REF
 | 
ECMA_STRING_CONTAINER_MASK
Ë=
UINT16_MAX
,

40 
ecma_°rög_ªf_™d_c⁄èöî_fõlds_should_fûl_the_16_bô_fõld
);

42 
JERRY_STATIC_ASSERT
 (
ECMA_STRING_NOT_ARRAY_INDEX
 =
UINT32_MAX
,

43 
ecma_°rög_nŸ_¨øy_ödex_mu°_be_equÆ_to_uöt32_max
);

46 
ecma_öô_ecma_°rög_‰om_magic_°rög_id
 (
ecma_°rög_t
 *
°rög_p
,

47 
lô_magic_°rög_id_t
 
magic_°rög_id
);

50 
ecma_öô_ecma_°rög_‰om_magic_°rög_ex_id
 (
ecma_°rög_t
 *
°rög_p
,

51 
lô_magic_°rög_ex_id_t
 
magic_°rög_ex_id
);

57 
	$ecma_öô_ecma_°rög_‰om_magic_°rög_id
 (
ecma_°rög_t
 *
°rög_p
,

58 
lô_magic_°rög_id_t
 
magic_°rög_id
)

61 
°rög_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_MAGIC_STRING
 | 
ECMA_STRING_REF_ONE
;

62 
°rög_p
->
hash
 = (
lô_°rög_hash_t
Ë
magic_°rög_id
;

64 
°rög_p
->
u
.
magic_°rög_id
 = magic_string_id;

65 
	}
}

71 
	$ecma_öô_ecma_°rög_‰om_magic_°rög_ex_id
 (
ecma_°rög_t
 *
°rög_p
,

72 
lô_magic_°rög_ex_id_t
 
magic_°rög_ex_id
)

75 
°rög_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
 | 
ECMA_STRING_REF_ONE
;

76 
°rög_p
->
hash
 = (
lô_°rög_hash_t
Ë(
LIT_MAGIC_STRING__COUNT
 + 
magic_°rög_ex_id
);

78 
°rög_p
->
u
.
magic_°rög_ex_id
 = magic_string_ex_id;

79 
	}
}

87 
boﬁ


88 
	$ecma_°rög_to_¨øy_ödex
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

89 
lô_utf8_size_t
 
°rög_size
,

90 
uöt32_t
 *
ªsu…_p
)

92 
	`JERRY_ASSERT
 (
°rög_size
 > 0 && *
°rög_p
 >
LIT_CHAR_0
 && *°rög_∞<
LIT_CHAR_9
);

94 i‡(*
°rög_p
 =
LIT_CHAR_0
)

96 *
ªsu…_p
 = 0;

97  (
°rög_size
 == 1);

100 i‡(
°rög_size
 > 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
)

102  
Ál£
;

105 
uöt32_t
 
ödex
 = 0;

106 c⁄° 
lô_utf8_byã_t
 *
°rög_íd_p
 = 
°rög_p
 + 
°rög_size
;

108 i‡(
°rög_size
 =
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
)

110 
°rög_íd_p
--;

115 i‡(*
°rög_p
 > 
LIT_CHAR_9
 || *°rög_∞< 
LIT_CHAR_0
)

117  
Ál£
;

120 
ödex
 = (ödex * 10Ë+ (
uöt32_t
Ë(*
°rög_p
++ - 
LIT_CHAR_0
);

122 
°rög_p
 < 
°rög_íd_p
);

124 i‡(
°rög_size
 < 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
)

126 *
ªsu…_p
 = 
ödex
;

127  
åue
;

132 i‡(*
°rög_p
 > 
LIT_CHAR_9


133 || *
°rög_p
 < 
LIT_CHAR_0


134 || 
ödex
 > (
UINT32_MAX
 / 10)

135 || (
ödex
 =(
UINT32_MAX
 / 10Ë&& *
°rög_p
 > 
LIT_CHAR_5
))

137  
Ál£
;

140 *
ªsu…_p
 = (
ödex
 * 10Ë+ (
uöt32_t
Ë(*
°rög_p
 - 
LIT_CHAR_0
);

141  
åue
;

142 
	}
}

149 
ecma_°rög_t
 *

150 
	$ecma_√w_ecma_°rög_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

151 
lô_utf8_size_t
 
°rög_size
)

153 
	`JERRY_ASSERT
 (
°rög_p
 !
NULL
 || 
°rög_size
 == 0);

154 
	`JERRY_ASSERT
 (
	`lô_is_vÆid_˚su8_°rög
 (
°rög_p
, 
°rög_size
));

156 
lô_magic_°rög_id_t
 
magic_°rög_id
 = 
	`lô_is_utf8_°rög_magic
 (
°rög_p
, 
°rög_size
);

158 i‡(
magic_°rög_id
 !
LIT_MAGIC_STRING__COUNT
)

160  
	`ecma_gë_magic_°rög
 (
magic_°rög_id
);

163 
	`JERRY_ASSERT
 (
°rög_size
 > 0);

165 i‡(*
°rög_p
 >
LIT_CHAR_0
 && *°rög_∞<
LIT_CHAR_9
)

167 
uöt32_t
 
¨øy_ödex
;

169 i‡(
	`ecma_°rög_to_¨øy_ödex
 (
°rög_p
, 
°rög_size
, &
¨øy_ödex
))

171  
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
¨øy_ödex
);

175 i‡(
	`lô_gë_magic_°rög_ex_cou¡
 () > 0)

177 
lô_magic_°rög_ex_id_t
 
magic_°rög_ex_id
 = 
	`lô_is_ex_utf8_°rög_magic
 (
°rög_p
, 
°rög_size
);

179 i‡(
magic_°rög_ex_id
 < 
	`lô_gë_magic_°rög_ex_cou¡
 ())

181  
	`ecma_gë_magic_°rög_ex
 (
magic_°rög_ex_id
);

185 
ecma_°rög_t
 *
°rög_desc_p
;

186 
lô_utf8_byã_t
 *
d©a_p
;

188 i‡(
	`likñy
 (
°rög_size
 <
UINT16_MAX
))

190 
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (
ecma_°rög_t
Ë+ 
°rög_size
);

192 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

193 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

194 
°rög_desc_p
->
u
.
utf8_°rög
.
size
 = (
uöt16_t
Ë
°rög_size
;

195 
°rög_desc_p
->
u
.
utf8_°rög
.
Àngth
 = (
uöt16_t
Ë
	`lô_utf8_°rög_Àngth
 (
°rög_p
, 
°rög_size
);

197 
d©a_p
 = (
lô_utf8_byã_t
 *Ë(
°rög_desc_p
 + 1);

201 
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (
ecma_l⁄g_°rög_t
Ë+ 
°rög_size
);

203 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

204 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

205 
°rög_desc_p
->
u
.
l⁄g_utf8_°rög_size
 = 
°rög_size
;

207 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_desc_p
 = (ecma_l⁄g_°rög_à*Ë
°rög_desc_p
;

208 
l⁄g_°rög_desc_p
->
l⁄g_utf8_°rög_Àngth
 = 
	`lô_utf8_°rög_Àngth
 (
°rög_p
, 
°rög_size
);

210 
d©a_p
 = (
lô_utf8_byã_t
 *Ë(
l⁄g_°rög_desc_p
 + 1);

213 
°rög_desc_p
->
hash
 = 
	`lô_utf8_°rög_ˇlc_hash
 (
°rög_p
, 
°rög_size
);

214 
	`mem˝y
 (
d©a_p
, 
°rög_p
, 
°rög_size
);

215  
°rög_desc_p
;

216 
	}
}

224 
ecma_°rög_t
 *

225 
	$ecma_√w_ecma_°rög_‰om_utf8_c⁄vîãd_to_˚su8
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

226 
lô_utf8_size_t
 
°rög_size
)

228 
	`JERRY_ASSERT
 (
°rög_p
 !
NULL
 || 
°rög_size
 == 0);

230 
ecma_°rög_t
 *
°rög_desc_p
 = 
NULL
;

232 
ecma_Àngth_t
 
c⁄vîãd_°rög_Àngth
 = 0;

233 
lô_utf8_size_t
 
c⁄vîãd_°rög_size
 = 0;

234 
lô_utf8_size_t
 
pos
 = 0;

237 
pos
 < 
°rög_size
)

239 i‡((
°rög_p
[
pos
] & 
LIT_UTF8_1_BYTE_MASK
Ë=
LIT_UTF8_1_BYTE_MARKER
)

241 
pos
++;

243 i‡((
°rög_p
[
pos
] & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

245 
pos
 += 2;

247 i‡((
°rög_p
[
pos
] & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
)

249 
pos
 += 3;

253 
	`JERRY_ASSERT
 ((
°rög_p
[
pos
] & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
);

254 
pos
 += 4;

255 
c⁄vîãd_°rög_size
 += 2;

256 
c⁄vîãd_°rög_Àngth
++;

259 
c⁄vîãd_°rög_Àngth
++;

262 
	`JERRY_ASSERT
 (
pos
 =
°rög_size
);

264 i‡(
c⁄vîãd_°rög_size
 == 0)

266  
	`ecma_√w_ecma_°rög_‰om_utf8
 (
°rög_p
, 
°rög_size
);

270 
c⁄vîãd_°rög_size
 +
°rög_size
;

272 
	`JERRY_ASSERT
 (
	`lô_is_vÆid_utf8_°rög
 (
°rög_p
, 
°rög_size
));

274 
lô_utf8_byã_t
 *
d©a_p
;

276 i‡(
	`likñy
 (
°rög_size
 <
UINT16_MAX
))

278 
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (
ecma_°rög_t
Ë+ 
c⁄vîãd_°rög_size
);

280 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

281 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

282 
°rög_desc_p
->
u
.
utf8_°rög
.
size
 = (
uöt16_t
Ë
c⁄vîãd_°rög_size
;

283 
°rög_desc_p
->
u
.
utf8_°rög
.
Àngth
 = (
uöt16_t
Ë
c⁄vîãd_°rög_Àngth
;

285 
d©a_p
 = (
lô_utf8_byã_t
 *Ë(
°rög_desc_p
 + 1);

289 
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (
ecma_l⁄g_°rög_t
Ë+ 
c⁄vîãd_°rög_size
);

291 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

292 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

293 
°rög_desc_p
->
u
.
l⁄g_utf8_°rög_size
 = 
c⁄vîãd_°rög_size
;

295 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_desc_p
 = (ecma_l⁄g_°rög_à*Ë
°rög_desc_p
;

296 
l⁄g_°rög_desc_p
->
l⁄g_utf8_°rög_Àngth
 = 
c⁄vîãd_°rög_Àngth
;

298 
d©a_p
 = (
lô_utf8_byã_t
 *Ë(
l⁄g_°rög_desc_p
 + 1);

301 c⁄° 
lô_utf8_byã_t
 *c⁄° 
begö_d©a_p
 = 
d©a_p
;

302 
pos
 = 0;

304 
pos
 < 
°rög_size
)

306 i‡((
°rög_p
[
pos
] & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

309 
uöt32_t
 
ch¨a˘î
 = ((((uöt32_tË
°rög_p
[
pos
++]) & 0x7) << 18);

310 
ch¨a˘î
 |((((
uöt32_t
Ë
°rög_p
[
pos
++]Ë& 
LIT_UTF8_LAST_6_BITS_MASK
) << 12);

311 
ch¨a˘î
 |((((
uöt32_t
Ë
°rög_p
[
pos
++]Ë& 
LIT_UTF8_LAST_6_BITS_MASK
) << 6);

312 
ch¨a˘î
 |(((
uöt32_t
Ë
°rög_p
[
pos
++]Ë& 
LIT_UTF8_LAST_6_BITS_MASK
);

314 
	`JERRY_ASSERT
 (
ch¨a˘î
 >= 0x10000);

315 
ch¨a˘î
 -= 0x10000;

317 
d©a_p
 +
	`lô_ch¨_to_utf8_byãs
 (d©a_p, (
ecma_ch¨_t
Ë(0xd800 | (
ch¨a˘î
 >> 10)));

318 
d©a_p
 +
	`lô_ch¨_to_utf8_byãs
 (d©a_p, (
ecma_ch¨_t
Ë(0xdc00 | (
ch¨a˘î
 & 
LIT_UTF16_LAST_10_BITS_MASK
)));

322 *
d©a_p
++ = 
°rög_p
[
pos
++];

326 
	`JERRY_ASSERT
 (
pos
 =
°rög_size
);

328 
°rög_desc_p
->
hash
 = 
	`lô_utf8_°rög_ˇlc_hash
 (
begö_d©a_p
, 
c⁄vîãd_°rög_size
);

331  
°rög_desc_p
;

332 
	}
}

339 
ecma_°rög_t
 *

340 
	$ecma_√w_ecma_°rög_‰om_code_unô
 (
ecma_ch¨_t
 
code_unô
)

342 
lô_utf8_byã_t
 
lô_utf8_byãs
[
LIT_UTF8_MAX_BYTES_IN_CODE_UNIT
];

343 
lô_utf8_size_t
 
byãs_size
 = 
	`lô_code_unô_to_utf8
 (
code_unô
, 
lô_utf8_byãs
);

345  
	`ecma_√w_ecma_°rög_‰om_utf8
 (
lô_utf8_byãs
, 
byãs_size
);

346 
	}
}

351 
ölöe
 
__©å_Æways_ölöe___


352 
	$ecma_öô_ecma_°rög_‰om_uöt32
 (
ecma_°rög_t
 *
°rög_desc_p
,

353 
uöt32_t
 
uöt32_numbî
)

355 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
 | 
ECMA_STRING_REF_ONE
;

356 
°rög_desc_p
->
hash
 = (
lô_°rög_hash_t
Ë
uöt32_numbî
;

358 
°rög_desc_p
->
u
.
uöt32_numbî
 = uint32_number;

359 
	}
}

365 
	$ecma_öô_ecma_magic_°rög
 (
ecma_°rög_t
 *
°rög_desc_p
,

366 
lô_magic_°rög_id_t
 
id
)

368 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_MAGIC_STRING
 | 
ECMA_STRING_REF_ONE
;

369 
°rög_desc_p
->
hash
 = (
lô_°rög_hash_t
Ë
id
;

371 
°rög_desc_p
->
u
.
magic_°rög_id
 = (
uöt32_t
Ë
id
;

372 
	}
}

377 
ölöe
 
__©å_Æways_ölöe___


378 
	$ecma_öô_ecma_Àngth_°rög
 (
ecma_°rög_t
 *
°rög_desc_p
)

380 
	`ecma_öô_ecma_magic_°rög
 (
°rög_desc_p
, 
LIT_MAGIC_STRING_LENGTH
);

381 
	}
}

388 
ecma_°rög_t
 *

389 
	$ecma_√w_ecma_°rög_‰om_uöt32
 (
uöt32_t
 
uöt32_numbî
)

391 
ecma_°rög_t
 *
°rög_desc_p
 = 
	`ecma_Æloc_°rög
 ();

393 
	`ecma_öô_ecma_°rög_‰om_uöt32
 (
°rög_desc_p
, 
uöt32_numbî
);

394  
°rög_desc_p
;

395 
	}
}

402 
ecma_°rög_t
 *

403 
	$ecma_√w_ecma_°rög_‰om_numbî
 (
ecma_numbî_t
 
num
)

405 
uöt32_t
 
uöt32_num
 = 
	`ecma_numbî_to_uöt32
 (
num
);

406 i‡(
num
 =((
ecma_numbî_t
Ë
uöt32_num
))

408  
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
uöt32_num
);

411 i‡(
	`ecma_numbî_is_«n
 (
num
))

413  
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NAN
);

416 i‡(
	`ecma_numbî_is_öföôy
 (
num
))

418 
lô_magic_°rög_id_t
 
id
 = (
	`ecma_numbî_is_√g©ive
 (
num
Ë? 
LIT_MAGIC_STRING_NEGATIVE_INFINITY_UL


419 : 
LIT_MAGIC_STRING_INFINITY_UL
);

420  
	`ecma_gë_magic_°rög
 (
id
);

423 
lô_utf8_byã_t
 
°r_buf
[
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
];

424 
lô_utf8_size_t
 
°r_size
 = 
	`ecma_numbî_to_utf8_°rög
 (
num
, 
°r_buf
,  (str_buf));

426 
	`JERRY_ASSERT
 (
°r_size
 > 0);

427 #i‚de‡
JERRY_NDEBUG


428 
	`JERRY_ASSERT
 (
	`lô_is_utf8_°rög_magic
 (
°r_buf
, 
°r_size
Ë=
LIT_MAGIC_STRING__COUNT


429 && 
	`lô_is_ex_utf8_°rög_magic
 (
°r_buf
, 
°r_size
Ë=
	`lô_gë_magic_°rög_ex_cou¡
 ());

432 
ecma_°rög_t
 *
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (ecma_°rög_tË+ 
°r_size
);

434 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

435 
°rög_desc_p
->
hash
 = 
	`lô_utf8_°rög_ˇlc_hash
 (
°r_buf
, 
°r_size
);

436 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

437 
°rög_desc_p
->
u
.
utf8_°rög
.
size
 = (
uöt16_t
Ë
°r_size
;

438 
°rög_desc_p
->
u
.
utf8_°rög
.
Àngth
 = (
uöt16_t
Ë
°r_size
;

440 
lô_utf8_byã_t
 *
d©a_p
 = (lô_utf8_byã_à*Ë(
°rög_desc_p
 + 1);

441 
	`mem˝y
 (
d©a_p
, 
°r_buf
, 
°r_size
);

442  
°rög_desc_p
;

443 
	}
}

450 
ecma_°rög_t
 *

451 
	$ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
lô_magic_°rög_id_t
 
id
)

453 
	`JERRY_ASSERT
 (
id
 < 
LIT_MAGIC_STRING__COUNT
);

455 
ecma_°rög_t
 *
°rög_desc_p
 = 
	`ecma_Æloc_°rög
 ();

456 
	`ecma_öô_ecma_°rög_‰om_magic_°rög_id
 (
°rög_desc_p
, 
id
);

458  
°rög_desc_p
;

459 
	}
}

466 
ecma_°rög_t
 *

467 
	$ecma_√w_ecma_°rög_‰om_magic_°rög_ex_id
 (
lô_magic_°rög_ex_id_t
 
id
)

469 
	`JERRY_ASSERT
 (
id
 < 
	`lô_gë_magic_°rög_ex_cou¡
 ());

471 
ecma_°rög_t
 *
°rög_desc_p
 = 
	`ecma_Æloc_°rög
 ();

472 
	`ecma_öô_ecma_°rög_‰om_magic_°rög_ex_id
 (
°rög_desc_p
, 
id
);

474  
°rög_desc_p
;

475 
	}
}

482 
ecma_°rög_t
 *

483 
	$ecma_√w_ecma_Àngth_°rög
 ()

485 
ecma_°rög_t
 *
°rög_desc_p
 = 
	`ecma_Æloc_°rög
 ();

486 
	`ecma_öô_ecma_Àngth_°rög
 (
°rög_desc_p
);

488  
°rög_desc_p
;

489 
	}
}

496 
ecma_°rög_t
 *

497 
	$ecma_c⁄ˇt_ecma_°rögs
 (
ecma_°rög_t
 *
°rög1_p
,

498 
ecma_°rög_t
 *
°rög2_p
)

500 
	`JERRY_ASSERT
 (
°rög1_p
 !
NULL


501 && 
°rög2_p
 !
NULL
);

503 i‡(
	`ecma_°rög_is_em±y
 (
°rög1_p
))

505 
	`ecma_ªf_ecma_°rög
 (
°rög2_p
);

506  
°rög2_p
;

508 i‡(
	`ecma_°rög_is_em±y
 (
°rög2_p
))

510 
	`ecma_ªf_ecma_°rög
 (
°rög1_p
);

511  
°rög1_p
;

514 c⁄° 
lô_utf8_byã_t
 *
utf8_°rög1_p
, *
utf8_°rög2_p
;

515 
lô_utf8_size_t
 
utf8_°rög1_size
, 
utf8_°rög2_size
;

516 
lô_utf8_size_t
 
utf8_°rög1_Àngth
, 
utf8_°rög2_Àngth
;

518 
lô_utf8_byã_t
 
uöt32_to_°rög_buf„r1
[
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
];

519 
lô_utf8_byã_t
 
uöt32_to_°rög_buf„r2
[
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
];

521 
boﬁ
 
°rög1_is_uöt32
 = 
Ál£
;

522 
boﬁ
 
°rög1_ªhash_√eded
 = 
Ál£
;

524 
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
))

526 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

528 
utf8_°rög1_p
 = (
lô_utf8_byã_t
 *Ë(
°rög1_p
 + 1);

529 
utf8_°rög1_size
 = 
°rög1_p
->
u
.
utf8_°rög
.
size
;

530 
utf8_°rög1_Àngth
 = 
°rög1_p
->
u
.
utf8_°rög
.
Àngth
;

533 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

535 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_desc_p
 = (ecma_l⁄g_°rög_à*Ë
°rög1_p
;

537 
utf8_°rög1_p
 = (
lô_utf8_byã_t
 *Ë(
l⁄g_°rög_desc_p
 + 1);

538 
utf8_°rög1_size
 = 
°rög1_p
->
u
.
l⁄g_utf8_°rög_size
;

539 
utf8_°rög1_Àngth
 = 
l⁄g_°rög_desc_p
->
l⁄g_utf8_°rög_Àngth
;

542 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

544 
utf8_°rög1_size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
°rög1_p
->
u
.
uöt32_numbî
,

545 
uöt32_to_°rög_buf„r1
,

546 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
);

547 
utf8_°rög1_p
 = 
uöt32_to_°rög_buf„r1
;

548 
utf8_°rög1_Àngth
 = 
utf8_°rög1_size
;

549 
°rög1_is_uöt32
 = 
åue
;

550 
°rög1_ªhash_√eded
 = 
åue
;

553 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

555 
utf8_°rög1_p
 = 
	`lô_gë_magic_°rög_utf8
 (
°rög1_p
->
u
.
magic_°rög_id
);

556 
utf8_°rög1_size
 = 
	`lô_gë_magic_°rög_size
 (
°rög1_p
->
u
.
magic_°rög_id
);

557 
utf8_°rög1_Àngth
 = 
utf8_°rög1_size
;

558 
°rög1_ªhash_√eded
 = 
åue
;

563 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

565 
utf8_°rög1_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
°rög1_p
->
u
.
magic_°rög_id
);

566 
utf8_°rög1_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
°rög1_p
->
u
.
magic_°rög_id
);

567 
utf8_°rög1_Àngth
 = 
	`lô_utf8_°rög_Àngth
 (
utf8_°rög1_p
, 
utf8_°rög1_size
);

568 
°rög1_ªhash_√eded
 = 
åue
;

573 
	`ECMA_STRING_GET_CONTAINER
 (
°rög2_p
))

575 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

577 
utf8_°rög2_p
 = (
lô_utf8_byã_t
 *Ë(
°rög2_p
 + 1);

578 
utf8_°rög2_size
 = 
°rög2_p
->
u
.
utf8_°rög
.
size
;

579 
utf8_°rög2_Àngth
 = 
°rög2_p
->
u
.
utf8_°rög
.
Àngth
;

582 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

584 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_desc_p
 = (ecma_l⁄g_°rög_à*Ë
°rög2_p
;

586 
utf8_°rög2_p
 = (
lô_utf8_byã_t
 *Ë(
l⁄g_°rög_desc_p
 + 1);

587 
utf8_°rög2_size
 = 
°rög2_p
->
u
.
l⁄g_utf8_°rög_size
;

588 
utf8_°rög2_Àngth
 = 
l⁄g_°rög_desc_p
->
l⁄g_utf8_°rög_Àngth
;

591 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

593 
utf8_°rög2_size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
°rög2_p
->
u
.
uöt32_numbî
,

594 
uöt32_to_°rög_buf„r2
,

595 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
);

596 
utf8_°rög2_p
 = 
uöt32_to_°rög_buf„r2
;

597 
utf8_°rög2_Àngth
 = 
utf8_°rög2_size
;

600 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

602 
utf8_°rög2_p
 = 
	`lô_gë_magic_°rög_utf8
 (
°rög2_p
->
u
.
magic_°rög_id
);

603 
utf8_°rög2_size
 = 
	`lô_gë_magic_°rög_size
 (
°rög2_p
->
u
.
magic_°rög_id
);

604 
utf8_°rög2_Àngth
 = 
utf8_°rög2_size
;

609 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög2_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

611 
utf8_°rög2_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
°rög2_p
->
u
.
magic_°rög_id
);

612 
utf8_°rög2_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
°rög2_p
->
u
.
magic_°rög_id
);

613 
utf8_°rög2_Àngth
 = 
	`lô_utf8_°rög_Àngth
 (
utf8_°rög2_p
, 
utf8_°rög2_size
);

618 
	`JERRY_ASSERT
 (
utf8_°rög1_size
 > 0);

619 
	`JERRY_ASSERT
 (
utf8_°rög2_size
 > 0);

620 
	`JERRY_ASSERT
 (
utf8_°rög1_Àngth
 <
utf8_°rög1_size
);

621 
	`JERRY_ASSERT
 (
utf8_°rög2_Àngth
 <
utf8_°rög2_size
);

623 
lô_utf8_size_t
 
√w_size
 = 
utf8_°rög1_size
 + 
utf8_°rög2_size
;

626 i‡(
√w_size
 < (
utf8_°rög1_size
 | 
utf8_°rög2_size
))

628 
	`jîry_Áèl
 (
ERR_OUT_OF_MEMORY
);

631 
lô_magic_°rög_id_t
 
magic_°rög_id
;

632 
magic_°rög_id
 = 
	`lô_is_utf8_°rög_∑ú_magic
 (
utf8_°rög1_p
,

633 
utf8_°rög1_size
,

634 
utf8_°rög2_p
,

635 
utf8_°rög2_size
);

637 i‡(
magic_°rög_id
 !
LIT_MAGIC_STRING__COUNT
)

639  
	`ecma_gë_magic_°rög
 (
magic_°rög_id
);

642 i‡(
°rög1_is_uöt32
 && 
√w_size
 <
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
)

644 
	`mem˝y
 (
uöt32_to_°rög_buf„r1
 + 
utf8_°rög1_size
,

645 
utf8_°rög2_p
,

646 
utf8_°rög2_size
);

648 
uöt32_t
 
¨øy_ödex
;

650 i‡(
	`ecma_°rög_to_¨øy_ödex
 (
uöt32_to_°rög_buf„r1
, 
√w_size
, &
¨øy_ödex
))

652  
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
¨øy_ödex
);

656 i‡(
	`lô_gë_magic_°rög_ex_cou¡
 () > 0)

658 
lô_magic_°rög_ex_id_t
 
magic_°rög_ex_id
;

659 
magic_°rög_ex_id
 = 
	`lô_is_ex_utf8_°rög_∑ú_magic
 (
utf8_°rög1_p
,

660 
utf8_°rög1_size
,

661 
utf8_°rög2_p
,

662 
utf8_°rög2_size
);

664 i‡(
magic_°rög_ex_id
 < 
	`lô_gë_magic_°rög_ex_cou¡
 ())

666  
	`ecma_gë_magic_°rög_ex
 (
magic_°rög_ex_id
);

670 
ecma_°rög_t
 *
°rög_desc_p
;

671 
lô_utf8_byã_t
 *
d©a_p
;

673 i‡(
	`likñy
 (
√w_size
 <
UINT16_MAX
))

675 
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (
ecma_°rög_t
Ë+ 
√w_size
);

677 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

678 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

679 
°rög_desc_p
->
u
.
utf8_°rög
.
size
 = (
uöt16_t
Ë
√w_size
;

680 
°rög_desc_p
->
u
.
utf8_°rög
.
Àngth
 = (
uöt16_t
Ë(
utf8_°rög1_Àngth
 + 
utf8_°rög2_Àngth
);

682 
d©a_p
 = (
lô_utf8_byã_t
 *Ë(
°rög_desc_p
 + 1);

686 
°rög_desc_p
 = 
	`ecma_Æloc_°rög_buf„r
 ( (
ecma_l⁄g_°rög_t
Ë+ 
√w_size
);

688 
°rög_desc_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
 | 
ECMA_STRING_REF_ONE
;

689 
°rög_desc_p
->
u
.
comm⁄_uöt32_fõld
 = 0;

690 
°rög_desc_p
->
u
.
l⁄g_utf8_°rög_size
 = 
√w_size
;

692 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_desc_p
 = (ecma_l⁄g_°rög_à*Ë
°rög_desc_p
;

693 
l⁄g_°rög_desc_p
->
l⁄g_utf8_°rög_Àngth
 = 
utf8_°rög1_Àngth
 + 
utf8_°rög2_Àngth
;

695 
d©a_p
 = (
lô_utf8_byã_t
 *Ë(
l⁄g_°rög_desc_p
 + 1);

698 
lô_°rög_hash_t
 
hash_°¨t
 = 
°rög1_p
->
hash
;

700 i‡(
°rög1_ªhash_√eded
)

702 
hash_°¨t
 = 
	`lô_utf8_°rög_ˇlc_hash
 (
utf8_°rög1_p
, 
utf8_°rög1_size
);

705 
°rög_desc_p
->
hash
 = 
	`lô_utf8_°rög_hash_comböe
 (
hash_°¨t
, 
utf8_°rög2_p
, 
utf8_°rög2_size
);

707 
	`mem˝y
 (
d©a_p
, 
utf8_°rög1_p
, 
utf8_°rög1_size
);

708 
	`mem˝y
 (
d©a_p
 + 
utf8_°rög1_size
, 
utf8_°rög2_p
, 
utf8_°rög2_size
);

709  
°rög_desc_p
;

710 
	}
}

716 
	$ecma_ªf_ecma_°rög
 (
ecma_°rög_t
 *
°rög_p
)

718 
	`JERRY_ASSERT
 (
°rög_p
 !
NULL
);

719 
	`JERRY_ASSERT
 (
°rög_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
);

721 i‡(
	`likñy
 (
°rög_p
->
ªfs_™d_c⁄èöî
 < 
ECMA_STRING_MAX_REF
))

724 
°rög_p
->
ªfs_™d_c⁄èöî
 = (
uöt16_t
Ë(°rög_p->ªfs_™d_c⁄èöî + 
ECMA_STRING_REF_ONE
);

728 
	`jîry_Áèl
 (
ERR_REF_COUNT_LIMIT
);

730 
	}
}

737 
	$ecma_dîef_ecma_°rög
 (
ecma_°rög_t
 *
°rög_p
)

739 
	`JERRY_ASSERT
 (
°rög_p
 !
NULL
);

740 
	`JERRY_ASSERT
 (
°rög_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
);

743 
°rög_p
->
ªfs_™d_c⁄èöî
 = (
uöt16_t
Ë(°rög_p->ªfs_™d_c⁄èöî - 
ECMA_STRING_REF_ONE
);

745 i‡(
°rög_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
)

750 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
))

752 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

754 #i‚de‡
JERRY_NDEBUG


755 c⁄° 
lô_utf8_byã_t
 *
ch¨s_p
 = (c⁄°Üô_utf8_byã_à*Ë(
°rög_p
 + 1);

757 i‡(*
ch¨s_p
 >
LIT_CHAR_0
 && *ch¨s_∞<
LIT_CHAR_9
)

759 
uöt32_t
 
¨øy_ödex
;

761 
	`JERRY_ASSERT
 (!
	`ecma_°rög_to_¨øy_ödex
 (
ch¨s_p
,

762 
°rög_p
->
u
.
utf8_°rög
.
size
,

763 &
¨øy_ödex
));

767 
	`ecma_dóŒoc_°rög_buf„r
 (
°rög_p
, såög_p->
u
.
utf8_°rög
.
size
 +  (
ecma_°rög_t
));

770 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

772 
	`JERRY_ASSERT
 (
°rög_p
->
u
.
l⁄g_utf8_°rög_size
 > 
UINT16_MAX
);

774 
	`ecma_dóŒoc_°rög_buf„r
 (
°rög_p
, såög_p->
u
.
l⁄g_utf8_°rög_size
 +  (
ecma_l⁄g_°rög_t
));

777 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

778 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

779 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

784 
ECMA_STRING_LITERAL_NUMBER
:

786 
	`ecma_Á°_‰ì_vÆue
 (
°rög_p
->
u
.
lô_numbî
);

791 
	`JERRY_UNREACHABLE
 ();

796 
	`ecma_dóŒoc_°rög
 (
°rög_p
);

797 
	}
}

802 
ecma_numbî_t


803 
	$ecma_°rög_to_numbî
 (c⁄° 
ecma_°rög_t
 *
°r_p
)

805 
	`JERRY_ASSERT
 (
°r_p
 !
NULL
);

807 
	`ECMA_STRING_GET_CONTAINER
 (
°r_p
))

809 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

811  ((
ecma_numbî_t
Ë
°r_p
->
u
.
uöt32_numbî
);

814 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

815 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

816 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

817 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

819 
ecma_numbî_t
 
num
;

821 
	`ECMA_STRING_TO_UTF8_STRING
 (
°r_p
, 
°r_buf„r_p
, 
°r_buf„r_size
);

823 i‡(
°r_buf„r_size
 == 0)

825  
ECMA_NUMBER_ZERO
;

828 
num
 = 
	`ecma_utf8_°rög_to_numbî
 (
°r_buf„r_p
, 
°r_buf„r_size
);

830 
	`ECMA_FINALIZE_UTF8_STRING
 (
°r_buf„r_p
, 
°r_buf„r_size
);

832  
num
;

837 
	`JERRY_UNREACHABLE
 ();

840 
	}
}

848 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___


849 
	$ecma_°rög_gë_¨øy_ödex
 (c⁄° 
ecma_°rög_t
 *
°r_p
)

851 c⁄° 
ecma_°rög_c⁄èöî_t
 
ty≥
 = 
	`ECMA_STRING_GET_CONTAINER
 (
°r_p
);

853 i‡(
ty≥
 =
ECMA_STRING_CONTAINER_UINT32_IN_DESC
)

859  
°r_p
->
u
.
uöt32_numbî
;

862  
ECMA_STRING_NOT_ARRAY_INDEX
;

863 
	}
}

871 
lô_utf8_size_t
 
__©å_ªtu∫_vÆue_should_be_checked___


872 
	$ecma_°rög_c›y_to_˚su8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

873 
lô_utf8_byã_t
 *
buf„r_p
,

875 
lô_utf8_size_t
 
buf„r_size
)

877 
	`JERRY_ASSERT
 (
°rög_desc_p
 !
NULL
);

878 
	`JERRY_ASSERT
 (
°rög_desc_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
);

879 
	`JERRY_ASSERT
 (
buf„r_p
 !
NULL
 || 
buf„r_size
 == 0);

880 
	`JERRY_ASSERT
 (
	`ecma_°rög_gë_size
 (
°rög_desc_p
Ë<
buf„r_size
);

882 
lô_utf8_size_t
 
size
;

884 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_desc_p
))

886 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

888 
size
 = 
°rög_desc_p
->
u
.
utf8_°rög
.size;

889 
	`mem˝y
 (
buf„r_p
, 
°rög_desc_p
 + 1, 
size
);

892 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

894 
size
 = 
°rög_desc_p
->
u
.
l⁄g_utf8_°rög_size
;

895 
	`mem˝y
 (
buf„r_p
, ((
ecma_l⁄g_°rög_t
 *Ë
°rög_desc_p
Ë+ 1, 
size
);

898 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

900 c⁄° 
uöt32_t
 
uöt32_numbî
 = 
°rög_desc_p
->
u
.uint32_number;

901 
size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
uöt32_numbî
, 
buf„r_p
, 
buf„r_size
);

904 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

906 c⁄° 
lô_magic_°rög_id_t
 
id
 = 
°rög_desc_p
->
u
.
magic_°rög_id
;

907 
size
 = 
	`lô_gë_magic_°rög_size
 (
id
);

908 
	`mem˝y
 (
buf„r_p
, 
	`lô_gë_magic_°rög_utf8
 (
id
), 
size
);

913 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_desc_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

915 c⁄° 
lô_magic_°rög_ex_id_t
 
id
 = 
°rög_desc_p
->
u
.
magic_°rög_ex_id
;

916 
size
 = 
	`lô_gë_magic_°rög_ex_size
 (
id
);

917 
	`mem˝y
 (
buf„r_p
, 
	`lô_gë_magic_°rög_ex_utf8
 (
id
), 
size
);

922 
	`JERRY_ASSERT
 (
size
 <
buf„r_size
);

923  
size
;

924 
	}
}

932 
lô_utf8_size_t
 
__©å_ªtu∫_vÆue_should_be_checked___


933 
	$ecma_°rög_c›y_to_utf8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

934 
lô_utf8_byã_t
 *
buf„r_p
,

936 
lô_utf8_size_t
 
buf„r_size
)

938 
	`JERRY_ASSERT
 (
°rög_desc_p
 !
NULL
);

939 
	`JERRY_ASSERT
 (
°rög_desc_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
);

940 
	`JERRY_ASSERT
 (
buf„r_p
 !
NULL
 || 
buf„r_size
 == 0);

941 
	`JERRY_ASSERT
 (
	`ecma_°rög_gë_utf8_size
 (
°rög_desc_p
Ë<
buf„r_size
);

943 
lô_utf8_size_t
 
size
;

945 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_desc_p
))

947 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

949 
size
 = 
	`lô_c⁄vît_˚su8_°rög_to_utf8_°rög
 ((
lô_utf8_byã_t
 *Ë(
°rög_desc_p
 + 1),

950 
°rög_desc_p
->
u
.
utf8_°rög
.
size
,

951 
buf„r_p
,

952 
buf„r_size
);

955 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

957 
size
 = 
	`lô_c⁄vît_˚su8_°rög_to_utf8_°rög
 ((
lô_utf8_byã_t
 *Ë(((
ecma_l⁄g_°rög_t
 *Ë
°rög_desc_p
) + 1),

958 
°rög_desc_p
->
u
.
l⁄g_utf8_°rög_size
,

959 
buf„r_p
,

960 
buf„r_size
);

963 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

965 c⁄° 
uöt32_t
 
uöt32_numbî
 = 
°rög_desc_p
->
u
.uint32_number;

966 
size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
uöt32_numbî
, 
buf„r_p
, 
buf„r_size
);

969 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

971 c⁄° 
lô_magic_°rög_id_t
 
id
 = 
°rög_desc_p
->
u
.
magic_°rög_id
;

972 
size
 = 
	`lô_gë_magic_°rög_size
 (
id
);

973 
	`mem˝y
 (
buf„r_p
, 
	`lô_gë_magic_°rög_utf8
 (
id
), 
size
);

978 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_desc_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

980 c⁄° 
lô_magic_°rög_ex_id_t
 
id
 = 
°rög_desc_p
->
u
.
magic_°rög_ex_id
;

981 
size
 = 
	`lô_c⁄vît_˚su8_°rög_to_utf8_°rög
 (
	`lô_gë_magic_°rög_ex_utf8
 (
id
),

982 
	`lô_gë_magic_°rög_ex_size
 (
id
),

983 
buf„r_p
,

984 
buf„r_size
);

989 
	`JERRY_ASSERT
 (
size
 <
buf„r_size
);

990  
size
;

991 
	}
}

1000 
lô_utf8_size_t


1001 
	$ecma_sub°rög_c›y_to_˚su8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

1002 
ecma_Àngth_t
 
°¨t_pos
,

1003 
ecma_Àngth_t
 
íd_pos
,

1004 
lô_utf8_byã_t
 *
buf„r_p
,

1006 
lô_utf8_size_t
 
buf„r_size
)

1008 
	`JERRY_ASSERT
 (
°rög_desc_p
 !
NULL
);

1009 
	`JERRY_ASSERT
 (
°rög_desc_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
);

1010 
	`JERRY_ASSERT
 (
buf„r_p
 !
NULL
 || 
buf„r_size
 == 0);

1012 
ecma_Àngth_t
 
°rög_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
°rög_desc_p
);

1013 
lô_utf8_size_t
 
size
 = 0;

1015 i‡(
°¨t_pos
 >
°rög_Àngth
 || sèπ_po†>
íd_pos
)

1020 i‡(
íd_pos
 > 
°rög_Àngth
)

1022 
íd_pos
 = 
°rög_Àngth
;

1025 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_desc_p
, 
utf8_°r_p
, 
utf8_°r_size
);

1027 c⁄° 
lô_utf8_byã_t
 *
°¨t_p
 = 
utf8_°r_p
;

1029 i‡(
°rög_Àngth
 =
utf8_°r_size
)

1031 
°¨t_p
 +
°¨t_pos
;

1032 
size
 = 
íd_pos
 - 
°¨t_pos
;

1034 i‡(
size
 > 
buf„r_size
)

1036 
size
 = 
buf„r_size
;

1039 
	`mem˝y
 (
buf„r_p
, 
°¨t_p
, 
size
);

1043 
íd_pos
 -
°¨t_pos
;

1044 
°¨t_pos
--)

1046 
°¨t_p
 +
	`lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (*start_p);

1049 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
°¨t_p
;

1051 
íd_pos
--)

1053 
lô_utf8_size_t
 
code_unô_size
 = 
	`lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (*
íd_p
);

1055 i‡((
size
 + 
code_unô_size
Ë> 
buf„r_size
)

1060 
íd_p
 +
code_unô_size
;

1061 
size
 +
code_unô_size
;

1064 
	`mem˝y
 (
buf„r_p
, 
°¨t_p
, 
size
);

1067 
	`ECMA_FINALIZE_UTF8_STRING
 (
utf8_°r_p
, 
utf8_°r_size
);

1069 
	`JERRY_ASSERT
 (
size
 <
buf„r_size
);

1070  
size
;

1071 
	}
}

1080 
lô_utf8_size_t


1081 
	$ecma_sub°rög_c›y_to_utf8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

1082 
ecma_Àngth_t
 
°¨t_pos
,

1083 
ecma_Àngth_t
 
íd_pos
,

1084 
lô_utf8_byã_t
 *
buf„r_p
,

1086 
lô_utf8_size_t
 
buf„r_size
)

1088 
	`JERRY_ASSERT
 (
°rög_desc_p
 !
NULL
);

1089 
	`JERRY_ASSERT
 (
°rög_desc_p
->
ªfs_™d_c⁄èöî
 >
ECMA_STRING_REF_ONE
);

1090 
	`JERRY_ASSERT
 (
buf„r_p
 !
NULL
 || 
buf„r_size
 == 0);

1092 
lô_utf8_size_t
 
size
 = 0;

1094 
ecma_Àngth_t
 
utf8_°r_Àngth
 = 
	`ecma_°rög_gë_utf8_Àngth
 (
°rög_desc_p
);

1096 i‡(
°¨t_pos
 >
utf8_°r_Àngth
 || sèπ_po†>
íd_pos
)

1101 i‡(
íd_pos
 > 
utf8_°r_Àngth
)

1103 
íd_pos
 = 
utf8_°r_Àngth
;

1106 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_desc_p
, 
˚su8_°r_p
, 
˚su8_°r_size
);

1107 
ecma_Àngth_t
 
˚su8_°r_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
°rög_desc_p
);

1109 i‡(
˚su8_°r_Àngth
 =
˚su8_°r_size
)

1111 
˚su8_°r_p
 +
°¨t_pos
;

1112 
size
 = 
íd_pos
 - 
°¨t_pos
;

1114 i‡(
size
 > 
buf„r_size
)

1116 
size
 = 
buf„r_size
;

1119 
	`mem˝y
 (
buf„r_p
, 
˚su8_°r_p
, 
size
);

1123 c⁄° 
lô_utf8_byã_t
 *
˚su8_íd_pos
 = 
˚su8_°r_p
 + 
˚su8_°r_size
;

1124 
íd_pos
 -
°¨t_pos
;

1126 
°¨t_pos
--)

1128 
ecma_ch¨_t
 
ch
;

1129 
lô_utf8_size_t
 
code_unô_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_°r_p
, &
ch
);

1131 
˚su8_°r_p
 +
code_unô_size
;

1132 i‡((
˚su8_°r_p
 !
˚su8_íd_pos
Ë&& 
	`lô_is_code_poöt_utf16_high_suºog©e
 (
ch
))

1134 
ecma_ch¨_t
 
√xt_ch
;

1135 
lô_utf8_size_t
 
√xt_ch_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_°r_p
, &
√xt_ch
);

1136 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
√xt_ch
))

1138 
	`JERRY_ASSERT
 (
code_unô_size
 =
√xt_ch_size
);

1139 
˚su8_°r_p
 +
code_unô_size
;

1144 c⁄° 
lô_utf8_byã_t
 *
˚su8_pos
 = 
˚su8_°r_p
;

1146 
lô_utf8_byã_t
 *
utf8_pos
 = 
buf„r_p
;

1147 
lô_utf8_byã_t
 *
utf8_íd_pos
 = 
buf„r_p
 + 
buf„r_size
;

1149 
íd_pos
--)

1151 
ecma_ch¨_t
 
ch
;

1152 
lô_utf8_size_t
 
code_unô_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_pos
, &
ch
);

1154 i‡((
size
 + 
code_unô_size
Ë> 
buf„r_size
)

1159 i‡(((
˚su8_pos
 + 
code_unô_size
Ë!
˚su8_íd_pos
Ë&& 
	`lô_is_code_poöt_utf16_high_suºog©e
 (
ch
))

1161 
ecma_ch¨_t
 
√xt_ch
;

1162 
lô_utf8_size_t
 
√xt_ch_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_pos
 + 
code_unô_size
, &
√xt_ch
);

1164 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
√xt_ch
))

1166 
	`JERRY_ASSERT
 (
code_unô_size
 =
√xt_ch_size
);

1168 i‡((
size
 + 
code_unô_size
 + 1Ë> 
buf„r_size
)

1173 
˚su8_pos
 +
√xt_ch_size
;

1175 
lô_code_poöt_t
 
code_poöt
 = 
	`lô_c⁄vît_suºog©e_∑ú_to_code_poöt
 (
ch
, 
√xt_ch
);

1176 
	`lô_code_poöt_to_utf8
 (
code_poöt
, 
utf8_pos
);

1177 
size
 +(
code_unô_size
 + 1);

1181 
	`mem˝y
 (
utf8_pos
, 
˚su8_pos
, 
code_unô_size
);

1182 
size
 +
code_unô_size
;

1187 
	`mem˝y
 (
utf8_pos
, 
˚su8_pos
, 
code_unô_size
);

1188 
size
 +
code_unô_size
;

1191 
utf8_pos
 = 
buf„r_p
 + 
size
;

1192 
˚su8_pos
 +
code_unô_size
;

1195 
	`JERRY_ASSERT
 (
utf8_pos
 <
utf8_íd_pos
);

1198 
	`ECMA_FINALIZE_UTF8_STRING
 (
˚su8_°r_p
, 
˚su8_°r_size
);

1199 
	`JERRY_ASSERT
 (
size
 <
buf„r_size
);

1201  
size
;

1202 
	}
}

1209 
ölöe
 
__©å_Æways_ölöe___


1210 
	$ecma_°rög_to_utf8_byãs
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

1211 
lô_utf8_byã_t
 *
buf„r_p
,

1213 
lô_utf8_size_t
 
buf„r_size
)

1215 c⁄° 
lô_utf8_size_t
 
size
 = 
	`ecma_°rög_c›y_to_˚su8_buf„r
 (
°rög_desc_p
, 
buf„r_p
, 
buf„r_size
);

1216 
	`JERRY_ASSERT
 (
size
 =
buf„r_size
);

1217 
	}
}

1222 c⁄° 
uöt32_t
 
	gnums_wôh_as˚ndög_Àngth
[] =

1239 c⁄° 
uöt32_t
 
	gmax_uöt32_Àn
 = (uöt32_tË( (
nums_wôh_as˚ndög_Àngth
) /  (uint32_t));

1248 
ölöe
 
ecma_Àngth_t
 
__©å_Æways_ölöe___


1249 
	$ecma_°rög_gë_numbî_ö_desc_size
 (c⁄° 
uöt32_t
 
uöt32_numbî
)

1251 
ecma_Àngth_t
 
size
 = 1;

1253 
size
 < 
max_uöt32_Àn
 && 
uöt32_numbî
 >
nums_wôh_as˚ndög_Àngth
[size])

1255 
size
++;

1257  
size
;

1258 
	}
}

1263 
	#ECMA_STRING_IS_ASCII
(
ch¨_p
, 
size
Ë((sizeË=
	`lô_utf8_°rög_Àngth
 ((ch¨_p), (size)))

	)

1271 c⁄° 
lô_utf8_byã_t
 *

1272 
	$ecma_°rög_øw_ch¨s
 (c⁄° 
ecma_°rög_t
 *
°rög_p
,

1273 
lô_utf8_size_t
 *
size_p
,

1274 
boﬁ
 *
is_ascii_p
)

1278 
ecma_Àngth_t
 
Àngth
;

1279 
lô_utf8_size_t
 
size
;

1280 c⁄° 
lô_utf8_byã_t
 *
ªsu…_p
;

1282 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
))

1284 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1286 
size
 = 
°rög_p
->
u
.
utf8_°rög
.size;

1287 
Àngth
 = 
°rög_p
->
u
.
utf8_°rög
.length;

1288 
ªsu…_p
 = (c⁄° 
lô_utf8_byã_t
 *Ë(
°rög_p
 + 1);

1291 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1293 
size
 = 
°rög_p
->
u
.
l⁄g_utf8_°rög_size
;

1294 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_p
 = (ecma_l⁄g_°rög_à*Ë
°rög_p
;

1295 
Àngth
 = 
l⁄g_°rög_p
->
l⁄g_utf8_°rög_Àngth
;

1296 
ªsu…_p
 = (c⁄° 
lô_utf8_byã_t
 *Ë(
l⁄g_°rög_p
 + 1);

1299 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1301 
size
 = (
lô_utf8_size_t
Ë
	`ecma_°rög_gë_numbî_ö_desc_size
 (
°rög_p
->
u
.
uöt32_numbî
);

1304 
	`JERRY_ASSERT
 (
	`ecma_°rög_gë_Àngth
 (
°rög_p
Ë=
size
);

1306 
Àngth
 = 
size
;

1307 
ªsu…_p
 = 
NULL
;

1310 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1312 
size
 = 
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
);

1314 
Àngth
 = 
size
;

1315 
ªsu…_p
 = 
	`lô_gë_magic_°rög_utf8
 (
°rög_p
->
u
.
magic_°rög_id
);

1318 
	`JERRY_ASSERT
 (
	`ECMA_STRING_IS_ASCII
 (
ªsu…_p
, 
size
));

1323 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1325 
size
 = 
	`lô_gë_magic_°rög_ex_size
 (
°rög_p
->
u
.
magic_°rög_ex_id
);

1326 
Àngth
 = 
	`lô_utf8_°rög_Àngth
 (
	`lô_gë_magic_°rög_ex_utf8
 (
°rög_p
->
u
.
magic_°rög_ex_id
),

1327 
	`lô_gë_magic_°rög_ex_size
 (
°rög_p
->
u
.
magic_°rög_ex_id
));

1329 
ªsu…_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
°rög_p
->
u
.
magic_°rög_ex_id
);

1334 *
size_p
 = 
size
;

1335 *
is_ascii_p
 = (
Àngth
 =
size
);

1336  
ªsu…_p
;

1337 
	}
}

1345 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1346 
	$ecma_com∑ª_ecma_°rög_to_magic_id
 (c⁄° 
ecma_°rög_t
 *
°rög_p
,

1347 
lô_magic_°rög_id_t
 
id
)

1349  (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING


1350 && 
°rög_p
->
u
.
magic_°rög_id
 =
id
);

1351 
	}
}

1359 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1360 
	$ecma_°rög_is_em±y
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1362  
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
°rög_p
, 
LIT_MAGIC_STRING__EMPTY
);

1363 
	}
}

1371 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1372 
	$ecma_°rög_is_Àngth
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1374  
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
°rög_p
, 
LIT_MAGIC_STRING_LENGTH
);

1375 
	}
}

1382 
ölöe
 
jmem_˝oöãr_t
 
__©å_Æways_ölöe___


1383 
	$ecma_°rög_to_¥›îty_«me
 (
ecma_°rög_t
 *
¥›_«me_p
,

1384 
ecma_¥›îty_t
 *
«me_ty≥_p
)

1386 
ecma_°rög_c⁄èöî_t
 
c⁄èöî
 = 
	`ECMA_STRING_GET_CONTAINER
 (
¥›_«me_p
);

1388 
c⁄èöî
)

1390 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1391 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1392 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

1394 #ifde‡
JERRY_CPOINTER_32_BIT


1396 *
«me_ty≥_p
 = (
ecma_¥›îty_t
Ë(
c⁄èöî
 << 
ECMA_PROPERTY_NAME_TYPE_SHIFT
);

1397  (
jmem_˝oöãr_t
Ë
¥›_«me_p
->
u
.
comm⁄_uöt32_fõld
;

1401 i‡(
¥›_«me_p
->
u
.
comm⁄_uöt32_fõld
 < (
UINT16_MAX
 + 1))

1403 *
«me_ty≥_p
 = (
ecma_¥›îty_t
Ë(
c⁄èöî
 << 
ECMA_PROPERTY_NAME_TYPE_SHIFT
);

1404  (
jmem_˝oöãr_t
Ë
¥›_«me_p
->
u
.
comm⁄_uöt32_fõld
;

1417 *
«me_ty≥_p
 = 
ECMA_PROPERTY_NAME_TYPE_STRING
 << 
ECMA_PROPERTY_NAME_TYPE_SHIFT
;

1419 
	`ecma_ªf_ecma_°rög
 (
¥›_«me_p
);

1421 
jmem_˝oöãr_t
 
¥›_«me_˝
;

1423 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


1424 
	`¥ofûe_öc_cou¡_of_a_ty≥
(7);

1427 
	`ECMA_SET_NON_NULL_POINTER
 (
¥›_«me_˝
, 
¥›_«me_p
);

1428  
¥›_«me_˝
;

1429 
	}
}

1436 
ecma_°rög_t
 *

1437 
	$ecma_°rög_‰om_¥›îty_«me
 (
ecma_¥›îty_t
 
¥›îty
,

1438 
jmem_˝oöãr_t
 
¥›_«me_˝
)

1443 
	`ECMA_PROPERTY_GET_NAME_TYPE
 (
¥›îty
))

1445 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1447  
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë
¥›_«me_˝
);

1449 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1451  
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 ((
lô_magic_°rög_id_t
Ë
¥›_«me_˝
);

1453 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

1455  
	`ecma_√w_ecma_°rög_‰om_magic_°rög_ex_id
 ((
lô_magic_°rög_ex_id_t
Ë
¥›_«me_˝
);

1459 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_NAME_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_NAME_TYPE_STRING
);

1461 
ecma_°rög_t
 *
¥›_«me_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¥›_«me_˝
);

1462 
	`ecma_ªf_ecma_°rög
 (
¥›_«me_p
);

1463  
¥›_«me_p
;

1466 
	}
}

1473 
ölöe
 
lô_°rög_hash_t
 
__©å_Æways_ölöe___


1474 
	$ecma_°rög_gë_¥›îty_«me_hash
 (
ecma_¥›îty_t
 
¥›îty
,

1475 
jmem_˝oöãr_t
 
¥›_«me_˝
)

1477 
	`ECMA_PROPERTY_GET_NAME_TYPE
 (
¥›îty
))

1479 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

1481  (
lô_°rög_hash_t
Ë(
LIT_MAGIC_STRING__COUNT
 + 
¥›_«me_˝
);

1483 
ECMA_PROPERTY_NAME_TYPE_STRING
:

1485 
ecma_°rög_t
 *
¥›_«me_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¥›_«me_˝
);

1486  
	`ecma_°rög_hash
 (
¥›_«me_p
);

1490  (
lô_°rög_hash_t
Ë
¥›_«me_˝
;

1493 
	}
}

1501 
uöt32_t


1502 
	$ecma_°rög_gë_¥›îty_ödex
 (
ecma_¥›îty_t
 
¥›îty
,

1503 
jmem_˝oöãr_t
 
¥›_«me_˝
)

1505 
	`ECMA_PROPERTY_GET_NAME_TYPE
 (
¥›îty
))

1507 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1509  (
uöt32_t
Ë
¥›_«me_˝
;

1511 #i‚de‡
JERRY_CPOINTER_32_BIT


1512 
ECMA_PROPERTY_NAME_TYPE_STRING
:

1514 
ecma_°rög_t
 *
¥›_«me_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¥›_«me_˝
);

1515  
	`ecma_°rög_gë_¨øy_ödex
 (
¥›_«me_p
);

1520  
ECMA_STRING_NOT_ARRAY_INDEX
;

1523 
	}
}

1531 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1532 
	$ecma_°rög_com∑ª_to_¥›îty_«me
 (
ecma_¥›îty_t
 
¥›îty
,

1533 
jmem_˝oöãr_t
 
¥›_«me_˝
,

1534 c⁄° 
ecma_°rög_t
 *
°rög_p
)

1536 
uöt32_t
 
¥›îty_«me_ty≥
 = 
	`ECMA_PROPERTY_GET_NAME_TYPE
 (
¥›îty
);

1538 
¥›îty_«me_ty≥
)

1540 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1541 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1542 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

1544  (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
¥›îty_«me_ty≥


1545 && 
°rög_p
->
u
.
comm⁄_uöt32_fõld
 =(
uöt32_t
Ë
¥›_«me_˝
);

1549 
	`JERRY_ASSERT
 (
¥›îty_«me_ty≥
 =
ECMA_PROPERTY_NAME_TYPE_STRING
);

1551 
ecma_°rög_t
 *
¥›_«me_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¥›_«me_˝
);

1552  
	`ecma_com∑ª_ecma_°rögs
 (
¥›_«me_p
, 
°rög_p
);

1555 
	}
}

1566 
boﬁ
 
__©å_noölöe___


1567 
	$ecma_com∑ª_ecma_°rögs_l⁄g∑th
 (c⁄° 
ecma_°rög_t
 *
°rög1_p
,

1568 c⁄° 
ecma_°rög_t
 *
°rög2_p
)

1570 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
Ë=ECMA_STRING_GET_CONTAINER (
°rög2_p
));

1572 c⁄° 
lô_utf8_byã_t
 *
utf8_°rög1_p
, *
utf8_°rög2_p
;

1573 
lô_utf8_size_t
 
utf8_°rög1_size
, 
utf8_°rög2_size
;

1575 i‡(
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
Ë=
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
)

1577 
utf8_°rög1_p
 = (
lô_utf8_byã_t
 *Ë(
°rög1_p
 + 1);

1578 
utf8_°rög1_size
 = 
°rög1_p
->
u
.
utf8_°rög
.
size
;

1579 
utf8_°rög2_p
 = (
lô_utf8_byã_t
 *Ë(
°rög2_p
 + 1);

1580 
utf8_°rög2_size
 = 
°rög2_p
->
u
.
utf8_°rög
.
size
;

1584 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
Ë=
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
);

1586 
utf8_°rög1_p
 = (
lô_utf8_byã_t
 *Ë(((
ecma_l⁄g_°rög_t
 *Ë
°rög1_p
) + 1);

1587 
utf8_°rög1_size
 = 
°rög1_p
->
u
.
l⁄g_utf8_°rög_size
;

1588 
utf8_°rög2_p
 = (
lô_utf8_byã_t
 *Ë(((
ecma_l⁄g_°rög_t
 *Ë
°rög2_p
) + 1);

1589 
utf8_°rög2_size
 = 
°rög2_p
->
u
.
l⁄g_utf8_°rög_size
;

1592 i‡(
utf8_°rög1_size
 !
utf8_°rög2_size
)

1594  
Ál£
;

1597  !
	`memcmp
 ((*Ë
utf8_°rög1_p
, (*Ë
utf8_°rög2_p
, 
utf8_°rög1_size
);

1598 
	}
}

1606 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1607 
	$ecma_com∑ª_ecma_°rögs
 (c⁄° 
ecma_°rög_t
 *
°rög1_p
,

1608 c⁄° 
ecma_°rög_t
 *
°rög2_p
)

1610 
	`JERRY_ASSERT
 (
°rög1_p
 !
NULL
 && 
°rög2_p
 != NULL);

1613 i‡(
°rög1_p
 =
°rög2_p
)

1615  
åue
;

1618 i‡(
°rög1_p
->
hash
 !
°rög2_p
->hash)

1620  
Ál£
;

1623 
ecma_°rög_c⁄èöî_t
 
°rög1_c⁄èöî
 = 
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
);

1625 i‡(
°rög1_c⁄èöî
 !
	`ECMA_STRING_GET_CONTAINER
 (
°rög2_p
))

1627  
Ál£
;

1630 i‡(
°rög1_c⁄èöî
 < 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
)

1632  
°rög1_p
->
u
.
comm⁄_uöt32_fõld
 =
°rög2_p
->u.common_uint32_field;

1635  
	`ecma_com∑ª_ecma_°rögs_l⁄g∑th
 (
°rög1_p
, 
°rög2_p
);

1636 
	}
}

1648 
boﬁ


1649 
	$ecma_com∑ª_ecma_°rögs_ªœti⁄Æ
 (c⁄° 
ecma_°rög_t
 *
°rög1_p
,

1650 c⁄° 
ecma_°rög_t
 *
°rög2_p
)

1652 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
°rög1_p
,

1653 
°rög2_p
))

1655  
Ál£
;

1658 c⁄° 
lô_utf8_byã_t
 *
utf8_°rög1_p
, *
utf8_°rög2_p
;

1659 
lô_utf8_size_t
 
utf8_°rög1_size
, 
utf8_°rög2_size
;

1661 
lô_utf8_byã_t
 
uöt32_to_°rög_buf„r1
[
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
];

1662 
lô_utf8_byã_t
 
uöt32_to_°rög_buf„r2
[
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
];

1664 
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
))

1666 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1668 
utf8_°rög1_p
 = (
lô_utf8_byã_t
 *Ë(
°rög1_p
 + 1);

1669 
utf8_°rög1_size
 = 
°rög1_p
->
u
.
utf8_°rög
.
size
;

1672 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1674 
utf8_°rög1_p
 = (
lô_utf8_byã_t
 *Ë(((
ecma_l⁄g_°rög_t
 *Ë
°rög1_p
) + 1);

1675 
utf8_°rög1_size
 = 
°rög1_p
->
u
.
l⁄g_utf8_°rög_size
;

1678 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1680 
utf8_°rög1_size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
°rög1_p
->
u
.
uöt32_numbî
,

1681 
uöt32_to_°rög_buf„r1
,

1682 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
);

1683 
utf8_°rög1_p
 = 
uöt32_to_°rög_buf„r1
;

1686 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1688 
utf8_°rög1_p
 = 
	`lô_gë_magic_°rög_utf8
 (
°rög1_p
->
u
.
magic_°rög_id
);

1689 
utf8_°rög1_size
 = 
	`lô_gë_magic_°rög_size
 (
°rög1_p
->
u
.
magic_°rög_id
);

1694 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög1_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1696 
utf8_°rög1_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
°rög1_p
->
u
.
magic_°rög_id
);

1697 
utf8_°rög1_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
°rög1_p
->
u
.
magic_°rög_id
);

1702 
	`ECMA_STRING_GET_CONTAINER
 (
°rög2_p
))

1704 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1706 
utf8_°rög2_p
 = (
lô_utf8_byã_t
 *Ë(
°rög2_p
 + 1);

1707 
utf8_°rög2_size
 = 
°rög2_p
->
u
.
utf8_°rög
.
size
;

1710 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1712 
utf8_°rög2_p
 = (
lô_utf8_byã_t
 *Ë(((
ecma_l⁄g_°rög_t
 *Ë
°rög2_p
) + 1);

1713 
utf8_°rög2_size
 = 
°rög2_p
->
u
.
l⁄g_utf8_°rög_size
;

1716 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1718 
utf8_°rög2_size
 = 
	`ecma_uöt32_to_utf8_°rög
 (
°rög2_p
->
u
.
uöt32_numbî
,

1719 
uöt32_to_°rög_buf„r2
,

1720 
ECMA_MAX_CHARS_IN_STRINGIFIED_UINT32
);

1721 
utf8_°rög2_p
 = 
uöt32_to_°rög_buf„r2
;

1724 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1726 
utf8_°rög2_p
 = 
	`lô_gë_magic_°rög_utf8
 (
°rög2_p
->
u
.
magic_°rög_id
);

1727 
utf8_°rög2_size
 = 
	`lô_gë_magic_°rög_size
 (
°rög2_p
->
u
.
magic_°rög_id
);

1732 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög2_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1734 
utf8_°rög2_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
°rög2_p
->
u
.
magic_°rög_id
);

1735 
utf8_°rög2_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
°rög2_p
->
u
.
magic_°rög_id
);

1740  
	`lô_com∑ª_utf8_°rögs_ªœti⁄Æ
 (
utf8_°rög1_p
,

1741 
utf8_°rög1_size
,

1742 
utf8_°rög2_p
,

1743 
utf8_°rög2_size
);

1744 
	}
}

1751 
ecma_Àngth_t


1752 
	$ecma_°rög_gë_Àngth
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1754 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
))

1756 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1758  (
ecma_Àngth_t
Ë(
°rög_p
->
u
.
utf8_°rög
.
Àngth
);

1760 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1762  (
ecma_Àngth_t
Ë(((
ecma_l⁄g_°rög_t
 *Ë
°rög_p
)->
l⁄g_utf8_°rög_Àngth
);

1764 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1766  
	`ecma_°rög_gë_numbî_ö_desc_size
 (
°rög_p
->
u
.
uöt32_numbî
);

1768 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1770 
	`JERRY_ASSERT
 (
	`ECMA_STRING_IS_ASCII
 (
	`lô_gë_magic_°rög_utf8
 (
°rög_p
->
u
.
magic_°rög_id
),

1771 
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
)));

1772  
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
);

1776 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1778  
	`lô_utf8_°rög_Àngth
 (
	`lô_gë_magic_°rög_ex_utf8
 (
°rög_p
->
u
.
magic_°rög_ex_id
),

1779 
	`lô_gë_magic_°rög_ex_size
 (
°rög_p
->
u
.
magic_°rög_ex_id
));

1782 
	}
}

1789 
ecma_Àngth_t


1790 
	$ecma_°rög_gë_utf8_Àngth
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1792 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
))

1794 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1796 i‡(
°rög_p
->
u
.
utf8_°rög
.
size
 =(
lô_utf8_size_t
Ë°rög_p->u.utf8_°rög.
Àngth
)

1798  (
ecma_Àngth_t
Ë(
°rög_p
->
u
.
utf8_°rög
.
Àngth
);

1801  
	`lô_gë_utf8_Àngth_of_˚su8_°rög
 ((c⁄° 
lô_utf8_byã_t
 *Ë(
°rög_p
 + 1),

1802 (
lô_utf8_size_t
Ë
°rög_p
->
u
.
utf8_°rög
.
size
);

1804 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1806 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_p
 = (ecma_l⁄g_°rög_à*Ë
°rög_p
;

1807 i‡(
°rög_p
->
u
.
l⁄g_utf8_°rög_size
 =(
lô_utf8_size_t
Ë
l⁄g_°rög_p
->
l⁄g_utf8_°rög_Àngth
)

1809  (
ecma_Àngth_t
Ë(
l⁄g_°rög_p
->
l⁄g_utf8_°rög_Àngth
);

1812  
	`lô_gë_utf8_Àngth_of_˚su8_°rög
 ((c⁄° 
lô_utf8_byã_t
 *Ë(
°rög_p
 + 1),

1813 (
lô_utf8_size_t
Ë
°rög_p
->
u
.
l⁄g_utf8_°rög_size
);

1815 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1817  
	`ecma_°rög_gë_numbî_ö_desc_size
 (
°rög_p
->
u
.
uöt32_numbî
);

1819 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1821 
	`JERRY_ASSERT
 (
	`ECMA_STRING_IS_ASCII
 (
	`lô_gë_magic_°rög_utf8
 (
°rög_p
->
u
.
magic_°rög_id
),

1822 
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
)));

1823  
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
);

1827 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1829  
	`lô_gë_utf8_Àngth_of_˚su8_°rög
 (
	`lô_gë_magic_°rög_ex_utf8
 (
°rög_p
->
u
.
magic_°rög_ex_id
),

1830 
	`lô_gë_magic_°rög_ex_size
 (
°rög_p
->
u
.
magic_°rög_ex_id
));

1833 
	}
}

1840 
lô_utf8_size_t


1841 
	$ecma_°rög_gë_size
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1843 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
))

1845 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1847  (
lô_utf8_size_t
Ë
°rög_p
->
u
.
utf8_°rög
.
size
;

1849 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1851  (
lô_utf8_size_t
Ë
°rög_p
->
u
.
l⁄g_utf8_°rög_size
;

1853 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1855  (
lô_utf8_size_t
Ë
	`ecma_°rög_gë_numbî_ö_desc_size
 (
°rög_p
->
u
.
uöt32_numbî
);

1857 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1859  
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
);

1863 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1864  
	`lô_gë_magic_°rög_ex_size
 (
°rög_p
->
u
.
magic_°rög_ex_id
);

1867 
	}
}

1874 
lô_utf8_size_t


1875 
	$ecma_°rög_gë_utf8_size
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1877 
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
))

1879 
ECMA_STRING_CONTAINER_HEAP_UTF8_STRING
:

1881 i‡(
°rög_p
->
u
.
utf8_°rög
.
size
 =(
lô_utf8_size_t
Ë°rög_p->u.utf8_°rög.
Àngth
)

1883  (
lô_utf8_size_t
Ë
°rög_p
->
u
.
utf8_°rög
.
size
;

1886  
	`lô_gë_utf8_size_of_˚su8_°rög
 ((c⁄° 
lô_utf8_byã_t
 *Ë(
°rög_p
 + 1),

1887 (
lô_utf8_size_t
Ë
°rög_p
->
u
.
utf8_°rög
.
size
);

1889 
ECMA_STRING_CONTAINER_HEAP_LONG_UTF8_STRING
:

1891 
ecma_l⁄g_°rög_t
 *
l⁄g_°rög_p
 = (ecma_l⁄g_°rög_à*Ë
°rög_p
;

1892 i‡(
°rög_p
->
u
.
l⁄g_utf8_°rög_size
 =(
lô_utf8_size_t
Ë
l⁄g_°rög_p
->
l⁄g_utf8_°rög_Àngth
)

1894  (
lô_utf8_size_t
Ë
°rög_p
->
u
.
l⁄g_utf8_°rög_size
;

1897  
	`lô_gë_utf8_size_of_˚su8_°rög
 ((c⁄° 
lô_utf8_byã_t
 *Ë(
°rög_p
 + 1),

1898 (
lô_utf8_size_t
Ë
°rög_p
->
u
.
l⁄g_utf8_°rög_size
);

1900 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

1902  (
lô_utf8_size_t
Ë
	`ecma_°rög_gë_numbî_ö_desc_size
 (
°rög_p
->
u
.
uöt32_numbî
);

1904 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

1906  
	`lô_gë_magic_°rög_size
 (
°rög_p
->
u
.
magic_°rög_id
);

1910 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
);

1912  
	`lô_gë_utf8_size_of_˚su8_°rög
 (
	`lô_gë_magic_°rög_ex_utf8
 (
°rög_p
->
u
.
magic_°rög_ex_id
),

1913 
	`lô_gë_magic_°rög_ex_size
 (
°rög_p
->
u
.
magic_°rög_ex_id
));

1916 
	}
}

1923 
ecma_ch¨_t


1924 
	$ecma_°rög_gë_ch¨_©_pos
 (c⁄° 
ecma_°rög_t
 *
°rög_p
,

1925 
ecma_Àngth_t
 
ödex
)

1927 
	`JERRY_ASSERT
 (
ödex
 < 
	`ecma_°rög_gë_Àngth
 (
°rög_p
));

1929 
lô_utf8_size_t
 
buf„r_size
;

1930 
boﬁ
 
is_ascii
;

1931 c⁄° 
lô_utf8_byã_t
 *
ch¨s_p
 = 
	`ecma_°rög_øw_ch¨s
 (
°rög_p
, &
buf„r_size
, &
is_ascii
);

1933 i‡(
ch¨s_p
 !
NULL
)

1935 i‡(
is_ascii
)

1937  
ch¨s_p
[
ödex
];

1940  
	`lô_utf8_°rög_code_unô_©
 (
ch¨s_p
, 
buf„r_size
, 
ödex
);

1943 
ecma_ch¨_t
 
ch
;

1945 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
utf8_°r_p
, 
buf„r_size
, 
lô_utf8_byã_t
);

1947 
	`ecma_°rög_to_utf8_byãs
 (
°rög_p
, 
utf8_°r_p
, 
buf„r_size
);

1949 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_UINT32_IN_DESC
);

1951 
	`JERRY_ASSERT
 (
is_ascii
);

1953 
ch
 = 
utf8_°r_p
[
ödex
];

1955 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
utf8_°r_p
);

1957  
ch
;

1958 
	}
}

1965 
ecma_°rög_t
 *

1966 
	$ecma_gë_magic_°rög
 (
lô_magic_°rög_id_t
 
id
)

1968  
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
id
);

1969 
	}
}

1976 
ecma_°rög_t
 *

1977 
	$ecma_gë_magic_°rög_ex
 (
lô_magic_°rög_ex_id_t
 
id
)

1979  
	`ecma_√w_ecma_°rög_‰om_magic_°rög_ex_id
 (
id
);

1980 
	}
}

1989 
lô_magic_°rög_id_t


1990 
	$ecma_gë_°rög_magic
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

1992 i‡(
	`ECMA_STRING_GET_CONTAINER
 (
°rög_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING
)

1994  (
lô_magic_°rög_id_t
Ë
°rög_p
->
u
.
magic_°rög_id
;

1997  
LIT_MAGIC_STRING__COUNT
;

1998 
	}
}

2005 
lô_°rög_hash_t


2006 
	$ecma_°rög_hash
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

2008  (
°rög_p
->
hash
);

2009 
	}
}

2016 
ecma_°rög_t
 *

2017 
	$ecma_°rög_sub°r
 (c⁄° 
ecma_°rög_t
 *
°rög_p
,

2018 
ecma_Àngth_t
 
°¨t_pos
,

2019 
ecma_Àngth_t
 
íd_pos
)

2021 c⁄° 
ecma_Àngth_t
 
°rög_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
°rög_p
);

2022 
	`JERRY_ASSERT
 (
°¨t_pos
 <
°rög_Àngth
);

2023 
	`JERRY_ASSERT
 (
íd_pos
 <
°rög_Àngth
);

2025 i‡(
°¨t_pos
 >
íd_pos
)

2027  
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

2030 
ecma_°rög_t
 *
ecma_°rög_p
 = 
NULL
;

2031 
íd_pos
 -
°¨t_pos
;

2033 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
°¨t_p
, 
buf„r_size
);

2035 i‡(
°rög_Àngth
 =
buf„r_size
)

2037 
ecma_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
°¨t_p
 + 
°¨t_pos
,

2038 (
lô_utf8_size_t
Ë
íd_pos
);

2042 
°¨t_pos
--)

2044 
°¨t_p
 +
	`lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (*start_p);

2047 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
°¨t_p
;

2048 
íd_pos
--)

2050 
íd_p
 +
	`lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (*end_p);

2053 
ecma_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
°¨t_p
, (
lô_utf8_size_t
Ë(
íd_p
 - start_p));

2056 
	`ECMA_FINALIZE_UTF8_STRING
 (
°¨t_p
, 
buf„r_size
);

2058  
ecma_°rög_p
;

2059 
	}
}

2066 
ecma_°rög_t
 *

2067 
	$ecma_°rög_åim
 (c⁄° 
ecma_°rög_t
 *
°rög_p
)

2069 
ecma_°rög_t
 *
ªt_°rög_p
;

2071 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
utf8_°r_p
, 
utf8_°r_size
);

2073 i‡(
utf8_°r_size
 > 0)

2075 
ecma_ch¨_t
 
ch
;

2076 
lô_utf8_size_t
 
ªad_size
;

2077 c⁄° 
lô_utf8_byã_t
 *
n⁄ws_°¨t_p
 = 
utf8_°r_p
 + 
utf8_°r_size
;

2078 c⁄° 
lô_utf8_byã_t
 *
cuºít_p
 = 
utf8_°r_p
;

2081 
cuºít_p
 < 
n⁄ws_°¨t_p
)

2083 
ªad_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
cuºít_p
, &
ch
);

2085 i‡(!
	`lô_ch¨_is_whôe_•a˚
 (
ch
)

2086 && !
	`lô_ch¨_is_löe_ãrmö©‹
 (
ch
))

2088 
n⁄ws_°¨t_p
 = 
cuºít_p
;

2092 
cuºít_p
 +
ªad_size
;

2095 
cuºít_p
 = 
utf8_°r_p
 + 
utf8_°r_size
;

2098 
cuºít_p
 > 
utf8_°r_p
)

2100 
ªad_size
 = 
	`lô_ªad_¥ev_code_unô_‰om_utf8
 (
cuºít_p
, &
ch
);

2102 i‡(!
	`lô_ch¨_is_whôe_•a˚
 (
ch
)

2103 && !
	`lô_ch¨_is_löe_ãrmö©‹
 (
ch
))

2108 
cuºít_p
 -
ªad_size
;

2112 i‡(
cuºít_p
 > 
n⁄ws_°¨t_p
)

2114 
ªt_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
n⁄ws_°¨t_p
,

2115 (
lô_utf8_size_t
Ë(
cuºít_p
 - 
n⁄ws_°¨t_p
));

2119 
ªt_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

2124 
ªt_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

2127 
	`ECMA_FINALIZE_UTF8_STRING
 (
utf8_°r_p
, 
utf8_°r_size
);

2129  
ªt_°rög_p
;

2130 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-value.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-gc.h
"

18 
	~"ecma-globÆs.h
"

19 
	~"ecma-hñ≥rs.h
"

20 
	~"jπ.h
"

21 
	~"jπ-bô-fõlds.h
"

22 
	~"vm-deföes.h
"

34 
	#ECMA_VALUE_FULL_MASK
 (
ECMA_VALUE_TYPE_MASK
 | 
ECMA_VALUE_ERROR_FLAG
)

	)

36 
JERRY_STATIC_ASSERT
 (
ECMA_TYPE___MAX
 <
ECMA_VALUE_TYPE_MASK
,

37 
ecma_ty≥s_mu°_be_Àss_th™_mask
);

39 
JERRY_STATIC_ASSERT
 ((
ECMA_VALUE_FULL_MASK
 + 1Ë=(1 << 
ECMA_VALUE_SHIFT
),

40 
ecma_vÆue_∑π_mu°_°¨t_a·î_Êags
);

42 
JERRY_STATIC_ASSERT
 (
ECMA_VALUE_SHIFT
 <
JMEM_ALIGNMENT_LOG
,

43 
ecma_vÆue_shi·_mu°_be_Àss_th™_‹_equÆ_th™_mem_Æignmít_log
);

45 
JERRY_STATIC_ASSERT
 ( (
jmem_˝oöãr_t
Ë< (
ecma_vÆue_t
),

46 
size_of_jmem_˝oöãr_t_mu°_be_Àss_‹_equÆ_to_the_size_of_ecma_vÆue_t
);

48 #ifde‡
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY


50 
JERRY_STATIC_ASSERT
 ( (
uöçå_t
Ë< (
ecma_vÆue_t
),

51 
uöçå_t_mu°_fô_ö_ecma_vÆue_t
);

55 
JERRY_STATIC_ASSERT
 ( (
uöçå_t
Ë>  (
ecma_vÆue_t
),

56 
uöçå_t_mu°_nŸ_fô_ö_ecma_vÆue_t
);

60 
JERRY_STATIC_ASSERT
 ((
ECMA_SIMPLE_VALUE_FALSE
 | 0x1Ë=
ECMA_SIMPLE_VALUE_TRUE


61 && 
ECMA_SIMPLE_VALUE_FALSE
 !
ECMA_SIMPLE_VALUE_TRUE
,

62 
⁄ly_the_lowe°_bô_mu°_be_dif„ª¡_f‹_sim∂e_vÆue_åue_™d_Ál£
);

69 
ölöe
 
ecma_ty≥_t
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


70 
	$ecma_gë_vÆue_ty≥_fõld
 (
ecma_vÆue_t
 
vÆue
)

72  
vÆue
 & 
ECMA_VALUE_TYPE_MASK
;

73 
	}
}

80 
ölöe
 
ecma_vÆue_t
 
__©å_puª___
 
__©å_Æways_ölöe___


81 
	$ecma_poöãr_to_ecma_vÆue
 (c⁄° *
±r
)

83 #ifde‡
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY


85 
uöçå_t
 
uöt_±r
 = (uöçå_tË
±r
;

86 
	`JERRY_ASSERT
 ((
uöt_±r
 & 
ECMA_VALUE_FULL_MASK
) == 0);

87  (
ecma_vÆue_t
Ë
uöt_±r
;

91 
jmem_˝oöãr_t
 
±r_˝
;

92 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


93 
	`¥ofûe_öc_cou¡_of_a_ty≥
(8);

95 
	`ECMA_SET_NON_NULL_POINTER
 (
±r_˝
, 
±r
);

96  ((
ecma_vÆue_t
Ë
±r_˝
Ë<< 
ECMA_VALUE_SHIFT
;

99 
	}
}

106 
ölöe
 * 
__©å_puª___
 
__©å_Æways_ölöe___


107 
	$ecma_gë_poöãr_‰om_ecma_vÆue
 (
ecma_vÆue_t
 
vÆue
)

109 #ifde‡
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY


110  (*Ë(
uöçå_t
Ë((
vÆue
Ë& ~
ECMA_VALUE_FULL_MASK
);

112  
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_numbî_t
,

113 
vÆue
 >> 
ECMA_VALUE_SHIFT
);

115 
	}
}

123 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


124 
	$ecma_is_vÆue_dúe˘
 (
ecma_vÆue_t
 
vÆue
)

126  (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_DIRECT
);

127 
	}
}

135 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


136 
	$ecma_is_vÆue_sim∂e
 (
ecma_vÆue_t
 
vÆue
)

138  (
vÆue
 & 
ECMA_DIRECT_TYPE_MASK
Ë=
ECMA_DIRECT_TYPE_SIMPLE_VALUE
;

139 
	}
}

147 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


148 
	$ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
ecma_vÆue_t
 
vÆue
,

149 
ecma_sim∂e_vÆue_t
 
sim∂e_vÆue
)

151  (
vÆue
 | 
ECMA_VALUE_ERROR_FLAG
Ë=(
	`ecma_make_sim∂e_vÆue
 (
sim∂e_vÆue
) | ECMA_VALUE_ERROR_FLAG);

152 
	}
}

160 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


161 
	$ecma_is_vÆue_em±y
 (
ecma_vÆue_t
 
vÆue
)

163  
	`ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
vÆue
, 
ECMA_SIMPLE_VALUE_EMPTY
);

164 
	}
}

172 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


173 
	$ecma_is_vÆue_undeföed
 (
ecma_vÆue_t
 
vÆue
)

175  
	`ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
vÆue
, 
ECMA_SIMPLE_VALUE_UNDEFINED
);

176 
	}
}

184 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


185 
	$ecma_is_vÆue_nuŒ
 (
ecma_vÆue_t
 
vÆue
)

187  
	`ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
vÆue
, 
ECMA_SIMPLE_VALUE_NULL
);

188 
	}
}

196 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


197 
	$ecma_is_vÆue_boﬁón
 (
ecma_vÆue_t
 
vÆue
)

199  
	`ecma_is_vÆue_åue
 (
vÆue
 | (1 << 
ECMA_DIRECT_SHIFT
));

200 
	}
}

208 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


209 
	$ecma_is_vÆue_åue
 (
ecma_vÆue_t
 
vÆue
)

211  
	`ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
vÆue
, 
ECMA_SIMPLE_VALUE_TRUE
);

212 
	}
}

220 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


221 
	$ecma_is_vÆue_Ál£
 (
ecma_vÆue_t
 
vÆue
)

223  
	`ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
vÆue
, 
ECMA_SIMPLE_VALUE_FALSE
);

224 
	}
}

232 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


233 
	$ecma_is_vÆue_found
 (
ecma_vÆue_t
 
vÆue
)

235  
vÆue
 !
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NOT_FOUND
);

236 
	}
}

244 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


245 
	$ecma_is_vÆue_¨øy_hﬁe
 (
ecma_vÆue_t
 
vÆue
)

247  
	`ecma_is_vÆue_equÆ_to_sim∂e_vÆue
 (
vÆue
, 
ECMA_SIMPLE_VALUE_ARRAY_HOLE
);

248 
	}
}

256 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


257 
	$ecma_is_vÆue_öãgî_numbî
 (
ecma_vÆue_t
 
vÆue
)

259  (
vÆue
 & 
ECMA_DIRECT_TYPE_MASK
Ë=
ECMA_DIRECT_TYPE_INTEGER_VALUE
;

260 
	}
}

268 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


269 
	$ecma_¨e_vÆues_öãgî_numbîs
 (
ecma_vÆue_t
 
fú°_vÆue
,

270 
ecma_vÆue_t
 
£c⁄d_vÆue
)

272 
	`JERRY_STATIC_ASSERT
 (
ECMA_DIRECT_TYPE_INTEGER_VALUE
 == 0,

273 
ecma_dúe˘_ty≥_öãgî_vÆue_mu°_be_zîo
);

275  ((
fú°_vÆue
 | 
£c⁄d_vÆue
Ë& 
ECMA_DIRECT_TYPE_MASK
Ë=
ECMA_DIRECT_TYPE_INTEGER_VALUE
;

276 
	}
}

284 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


285 
	$ecma_is_vÆue_Êﬂt_numbî
 (
ecma_vÆue_t
 
vÆue
)

287  (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_FLOAT
);

288 
	}
}

296 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


297 
	$ecma_is_vÆue_numbî
 (
ecma_vÆue_t
 
vÆue
)

299  (
	`ecma_is_vÆue_öãgî_numbî
 (
vÆue
)

300 || 
	`ecma_is_vÆue_Êﬂt_numbî
 (
vÆue
));

301 
	}
}

309 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


310 
	$ecma_is_vÆue_°rög
 (
ecma_vÆue_t
 
vÆue
)

312  (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_STRING
);

313 
	}
}

321 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


322 
	$ecma_is_vÆue_obje˘
 (
ecma_vÆue_t
 
vÆue
)

324  (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_OBJECT
);

325 
	}
}

332 
	$ecma_check_vÆue_ty≥_is_•ec_deföed
 (
ecma_vÆue_t
 
vÆue
)

334 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_undeföed
 (
vÆue
)

335 || 
	`ecma_is_vÆue_nuŒ
 (
vÆue
)

336 || 
	`ecma_is_vÆue_boﬁón
 (
vÆue
)

337 || 
	`ecma_is_vÆue_numbî
 (
vÆue
)

338 || 
	`ecma_is_vÆue_°rög
 (
vÆue
)

339 || 
	`ecma_is_vÆue_obje˘
 (
vÆue
));

340 
	}
}

345 
ölöe
 
ecma_vÆue_t
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


346 
	$ecma_make_sim∂e_vÆue
 (c⁄° 
ecma_sim∂e_vÆue_t
 
sim∂e_vÆue
)

348  (((
ecma_vÆue_t
Ë(
sim∂e_vÆue
)Ë<< 
ECMA_DIRECT_SHIFT
Ë| 
ECMA_DIRECT_TYPE_SIMPLE_VALUE
;

349 
	}
}

356 
ölöe
 
ecma_vÆue_t
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


357 
	$ecma_make_boﬁón_vÆue
 (
boﬁ
 
boﬁón_vÆue
)

359  
	`ecma_make_sim∂e_vÆue
 (
boﬁón_vÆue
 ? 
ECMA_SIMPLE_VALUE_TRUE


360 : 
ECMA_SIMPLE_VALUE_FALSE
);

361 
	}
}

371 
ölöe
 
ecma_vÆue_t
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


372 
	$ecma_make_öãgî_vÆue
 (
ecma_öãgî_vÆue_t
 
öãgî_vÆue
)

374 
	`JERRY_ASSERT
 (
	`ECMA_IS_INTEGER_NUMBER
 (
öãgî_vÆue
));

376  (((
ecma_vÆue_t
Ë
öãgî_vÆue
Ë<< 
ECMA_DIRECT_SHIFT
Ë| 
ECMA_DIRECT_TYPE_INTEGER_VALUE
;

377 
	}
}

384 
ecma_vÆue_t


385 
	$ecma_¸óã_Êﬂt_numbî
 (
ecma_numbî_t
 
ecma_numbî
)

387 
ecma_numbî_t
 *
ecma_num_p
 = 
	`ecma_Æloc_numbî
 ();

389 *
ecma_num_p
 = 
ecma_numbî
;

391  
	`ecma_poöãr_to_ecma_vÆue
 (
ecma_num_p
Ë| 
ECMA_TYPE_FLOAT
;

392 
	}
}

399 
ölöe
 
ecma_vÆue_t
 
__©å_Æways_ölöe___


400 
	$ecma_make_«n_vÆue
 ()

402  
	`ecma_¸óã_Êﬂt_numbî
 (
	`ecma_numbî_make_«n
 ());

403 
	}
}

410 
ölöe
 
boﬁ
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


411 
	$ecma_is_numbî_equÆ_to_posôive_zîo
 (
ecma_numbî_t
 
ecma_numbî
)

413 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT32


416 
uöt32_t
 
u32_vÆue
;

417 
ecma_numbî_t
 
Êﬂt_vÆue
;

418 } 
u
;

420 
u
.
Êﬂt_vÆue
 = 
ecma_numbî
;

422  
u
.
u32_vÆue
 == 0;

426 
uöt64_t
 
u64_vÆue
;

427 
ecma_numbî_t
 
Êﬂt_vÆue
;

428 } 
u
;

430 
u
.
Êﬂt_vÆue
 = 
ecma_numbî
;

432  
u
.
u64_vÆue
 == 0;

434 
	}
}

441 
ecma_vÆue_t


442 
	$ecma_make_numbî_vÆue
 (
ecma_numbî_t
 
ecma_numbî
)

444 
ecma_öãgî_vÆue_t
 
öãgî_vÆue
 = (ecma_öãgî_vÆue_tË
ecma_numbî
;

446 i‡((
ecma_numbî_t
Ë
öãgî_vÆue
 =
ecma_numbî


447 && ((
öãgî_vÆue
 =0Ë? 
	`ecma_is_numbî_equÆ_to_posôive_zîo
 (
ecma_numbî
)

448 : 
	`ECMA_IS_INTEGER_NUMBER
 (
öãgî_vÆue
)))

450  
	`ecma_make_öãgî_vÆue
 (
öãgî_vÆue
);

453  
	`ecma_¸óã_Êﬂt_numbî
 (
ecma_numbî
);

454 
	}
}

461 
ecma_vÆue_t


462 
	$ecma_make_öt32_vÆue
 (
öt32_t
 
öt32_numbî
)

464 i‡(
	`ECMA_IS_INTEGER_NUMBER
 (
öt32_numbî
))

466  
	`ecma_make_öãgî_vÆue
 ((
ecma_öãgî_vÆue_t
Ë
öt32_numbî
);

469  
	`ecma_¸óã_Êﬂt_numbî
 ((
ecma_numbî_t
Ë
öt32_numbî
);

470 
	}
}

477 
ecma_vÆue_t


478 
	$ecma_make_uöt32_vÆue
 (
uöt32_t
 
uöt32_numbî
)

480 i‡(
uöt32_numbî
 <
ECMA_INTEGER_NUMBER_MAX
)

482  
	`ecma_make_öãgî_vÆue
 ((
ecma_öãgî_vÆue_t
Ë
uöt32_numbî
);

485  
	`ecma_¸óã_Êﬂt_numbî
 ((
ecma_numbî_t
Ë
uöt32_numbî
);

486 
	}
}

491 
ecma_vÆue_t
 
__©å_puª___


492 
	$ecma_make_°rög_vÆue
 (c⁄° 
ecma_°rög_t
 *
ecma_°rög_p
)

494 
	`JERRY_ASSERT
 (
ecma_°rög_p
 !
NULL
);

496  
	`ecma_poöãr_to_ecma_vÆue
 (
ecma_°rög_p
Ë| 
ECMA_TYPE_STRING
;

497 
	}
}

502 
ecma_vÆue_t
 
__©å_puª___


503 
	$ecma_make_obje˘_vÆue
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

505 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

507  
	`ecma_poöãr_to_ecma_vÆue
 (
obje˘_p
Ë| 
ECMA_TYPE_OBJECT
;

508 
	}
}

513 
ecma_vÆue_t
 
__©å_c⁄°___


514 
	$ecma_make_îr‹_vÆue
 (
ecma_vÆue_t
 
vÆue
)

517 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
vÆue
));

519  
vÆue
 | 
ECMA_VALUE_ERROR_FLAG
;

520 
	}
}

525 
ecma_vÆue_t
 
__©å_puª___


526 
	$ecma_make_îr‹_obj_vÆue
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

528  
	`ecma_make_îr‹_vÆue
 (
	`ecma_make_obje˘_vÆue
 (
obje˘_p
));

529 
	}
}

536 
ölöe
 
ecma_öãgî_vÆue_t
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


537 
	$ecma_gë_öãgî_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
)

539 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_öãgî_numbî
 (
vÆue
));

541  ((
ecma_öãgî_vÆue_t
Ë
vÆue
Ë>> 
ECMA_DIRECT_SHIFT
;

542 
	}
}

544 
ölöe
 
ecma_numbî_t
 
__©å_puª___
 
__©å_Æways_ölöe___


545 
	$ecma_gë_Êﬂt_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
)

547 
	`JERRY_ASSERT
 (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_FLOAT
);

549  *(
ecma_numbî_t
 *Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
vÆue
);

550 
	}
}

557 
ecma_numbî_t
 
__©å_puª___


558 
	$ecma_gë_numbî_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
)

560 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
vÆue
))

562  (
ecma_numbî_t
Ë
	`ecma_gë_öãgî_‰om_vÆue
 (
vÆue
);

565  
	`ecma_gë_Êﬂt_‰om_vÆue
 (
vÆue
);

566 
	}
}

573 
ölöe
 
ecma_°rög_t
 *
__©å_puª___
 
__©å_Æways_ölöe___


574 
	$ecma_gë_°rög_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
)

576 
	`JERRY_ASSERT
 (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_STRING
);

578  (
ecma_°rög_t
 *Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
vÆue
);

579 
	}
}

586 
ölöe
 
ecma_obje˘_t
 *
__©å_puª___
 
__©å_Æways_ölöe___


587 
	$ecma_gë_obje˘_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
)

589 
	`JERRY_ASSERT
 (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_OBJECT
);

591  (
ecma_obje˘_t
 *Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
vÆue
);

592 
	}
}

599 
ölöe
 
ecma_vÆue_t
 
__©å_c⁄°___
 
__©å_Æways_ölöe___


600 
	$ecma_övît_boﬁón_vÆue
 (
ecma_vÆue_t
 
vÆue
)

602 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
vÆue
));

604  (
vÆue
 ^ (1 << 
ECMA_DIRECT_SHIFT
));

605 
	}
}

612 
ecma_vÆue_t
 
__©å_c⁄°___


613 
	$ecma_gë_vÆue_‰om_îr‹_vÆue
 (
ecma_vÆue_t
 
vÆue
)

615 
	`JERRY_ASSERT
 (
	`ECMA_IS_VALUE_ERROR
 (
vÆue
));

617 
vÆue
 = (
ecma_vÆue_t
Ë(vÆuê& ~
ECMA_VALUE_ERROR_FLAG
);

619 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
vÆue
));

621  
vÆue
;

622 
	}
}

629 
ecma_vÆue_t


630 
	$ecma_c›y_vÆue
 (
ecma_vÆue_t
 
vÆue
)

632 
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
))

634 
ECMA_TYPE_DIRECT
:

636  
vÆue
;

638 
ECMA_TYPE_FLOAT
:

640 
ecma_numbî_t
 *
num_p
 = (ecma_numbî_à*Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
vÆue
);

642  
	`ecma_¸óã_Êﬂt_numbî
 (*
num_p
);

644 
ECMA_TYPE_STRING
:

646 
	`ecma_ªf_ecma_°rög
 (
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
));

647  
vÆue
;

649 
ECMA_TYPE_OBJECT
:

651 
	`ecma_ªf_obje˘
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
));

652  
vÆue
;

656 
	`JERRY_UNREACHABLE
 ();

657 
	}
}

670 
ölöe
 
ecma_vÆue_t
 
__©å_Æways_ölöe___


671 
	$ecma_Á°_c›y_vÆue
 (
ecma_vÆue_t
 
vÆue
)

673  (
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë=
ECMA_TYPE_DIRECT
Ë? vÆuê: 
	`ecma_c›y_vÆue
 (value);

674 
	}
}

681 
ecma_vÆue_t


682 
	$ecma_c›y_vÆue_if_nŸ_obje˘
 (
ecma_vÆue_t
 
vÆue
)

684 i‡(
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë!
ECMA_TYPE_OBJECT
)

686  
	`ecma_c›y_vÆue
 (
vÆue
);

689  
vÆue
;

690 
	}
}

699 
	$ecma_vÆue_assign_vÆue
 (
ecma_vÆue_t
 *
vÆue_p
,

700 
ecma_vÆue_t
 
ecma_vÆue
)

702 
	`JERRY_STATIC_ASSERT
 (
ECMA_TYPE_DIRECT
 == 0,

703 
ecma_ty≥_dúe˘_mu°_be_zîo_f‹_the_√xt_check
);

705 i‡(*
vÆue_p
 =
ecma_vÆue
)

710 i‡(
	`ecma_gë_vÆue_ty≥_fõld
 (
ecma_vÆue
 || *
vÆue_p
Ë=
ECMA_TYPE_DIRECT
)

712 *
vÆue_p
 = 
ecma_vÆue
;

714 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
ecma_vÆue
)

715 && 
	`ecma_is_vÆue_Êﬂt_numbî
 (*
vÆue_p
))

717 c⁄° 
ecma_numbî_t
 *
num_§c_p
 = (ecma_numbî_à*Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
ecma_vÆue
);

718 
ecma_numbî_t
 *
num_d°_p
 = (ecma_numbî_à*Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (*
vÆue_p
);

720 *
num_d°_p
 = *
num_§c_p
;

724 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (*
vÆue_p
);

725 *
vÆue_p
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
ecma_vÆue
);

727 
	}
}

737 
ecma_vÆue_t


738 
	$ecma_upd©e_Êﬂt_numbî
 (
ecma_vÆue_t
 
Êﬂt_vÆue
,

739 
ecma_numbî_t
 
√w_numbî
)

741 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_Êﬂt_numbî
 (
Êﬂt_vÆue
));

743 
ecma_öãgî_vÆue_t
 
öãgî_numbî
 = (ecma_öãgî_vÆue_tË
√w_numbî
;

744 
ecma_numbî_t
 *
numbî_p
 = (ecma_numbî_à*Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
Êﬂt_vÆue
);

746 i‡((
ecma_numbî_t
Ë
öãgî_numbî
 =
√w_numbî


747 && ((
öãgî_numbî
 =0Ë? 
	`ecma_is_numbî_equÆ_to_posôive_zîo
 (
√w_numbî
)

748 : 
	`ECMA_IS_INTEGER_NUMBER
 (
öãgî_numbî
)))

750 
	`ecma_dóŒoc_numbî
 (
numbî_p
);

751  
	`ecma_make_öãgî_vÆue
 (
öãgî_numbî
);

754 *
numbî_p
 = 
√w_numbî
;

755  
Êﬂt_vÆue
;

756 
	}
}

765 
	$ecma_vÆue_assign_Êﬂt_numbî
 (
ecma_vÆue_t
 *
vÆue_p
,

766 
ecma_numbî_t
 
ecma_numbî
)

768 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (*
vÆue_p
))

770 
ecma_numbî_t
 *
num_d°_p
 = (ecma_numbî_à*Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (*
vÆue_p
);

772 *
num_d°_p
 = 
ecma_numbî
;

776 i‡(
	`ecma_gë_vÆue_ty≥_fõld
 (*
vÆue_p
Ë!
ECMA_TYPE_DIRECT


777 && 
	`ecma_gë_vÆue_ty≥_fõld
 (*
vÆue_p
Ë!
ECMA_TYPE_OBJECT
)

779 
	`ecma_‰ì_vÆue
 (*
vÆue_p
);

782 *
vÆue_p
 = 
	`ecma_¸óã_Êﬂt_numbî
 (
ecma_numbî
);

783 
	}
}

792 
	$ecma_vÆue_assign_numbî
 (
ecma_vÆue_t
 *
vÆue_p
,

793 
ecma_numbî_t
 
ecma_numbî
)

795 
ecma_öãgî_vÆue_t
 
öãgî_vÆue
 = (ecma_öãgî_vÆue_tË
ecma_numbî
;

797 i‡((
ecma_numbî_t
Ë
öãgî_vÆue
 =
ecma_numbî


798 && ((
öãgî_vÆue
 =0Ë? 
	`ecma_is_numbî_equÆ_to_posôive_zîo
 (
ecma_numbî
)

799 : 
	`ECMA_IS_INTEGER_NUMBER
 (
öãgî_vÆue
)))

801 i‡(
	`ecma_gë_vÆue_ty≥_fõld
 (*
vÆue_p
Ë!
ECMA_TYPE_DIRECT


802 && 
	`ecma_gë_vÆue_ty≥_fõld
 (*
vÆue_p
Ë!
ECMA_TYPE_OBJECT
)

804 
	`ecma_‰ì_vÆue
 (*
vÆue_p
);

806 *
vÆue_p
 = 
	`ecma_make_öãgî_vÆue
 (
öãgî_vÆue
);

810 
	`ecma_vÆue_assign_Êﬂt_numbî
 (
vÆue_p
, 
ecma_numbî
);

811 
	}
}

817 
	$ecma_‰ì_vÆue
 (
ecma_vÆue_t
 
vÆue
)

819 
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
))

821 
ECMA_TYPE_DIRECT
:

827 
ECMA_TYPE_FLOAT
:

829 
ecma_numbî_t
 *
numbî_p
 = (ecma_numbî_à*Ë
	`ecma_gë_poöãr_‰om_ecma_vÆue
 (
vÆue
);

830 
	`ecma_dóŒoc_numbî
 (
numbî_p
);

834 
ECMA_TYPE_STRING
:

836 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

837 
	`ecma_dîef_ecma_°rög
 (
°rög_p
);

841 
ECMA_TYPE_OBJECT
:

843 
	`ecma_dîef_obje˘
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
));

847 
	}
}

858 
ölöe
 
__©å_Æways_ölöe___


859 
	$ecma_Á°_‰ì_vÆue
 (
ecma_vÆue_t
 
vÆue
)

861 i‡(
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë!
ECMA_TYPE_DIRECT
)

863 
	`ecma_‰ì_vÆue
 (
vÆue
);

865 
	}
}

871 
	$ecma_‰ì_vÆue_if_nŸ_obje˘
 (
ecma_vÆue_t
 
vÆue
)

873 i‡(
	`ecma_gë_vÆue_ty≥_fõld
 (
vÆue
Ë!
ECMA_TYPE_OBJECT
)

875 
	`ecma_‰ì_vÆue
 (
vÆue
);

877 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers-values-collection.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"jπ.h
"

33 
ecma_cﬁÀ˘i⁄_hódî_t
 *

34 
	$ecma_√w_vÆues_cﬁÀ˘i⁄
 (c⁄° 
ecma_vÆue_t
 
vÆues_buf„r
[],

35 
ecma_Àngth_t
 
vÆues_numbî
,

36 
boﬁ
 
do_ªf_if_obje˘
)

39 
	`JERRY_ASSERT
 (
vÆues_buf„r
 !
NULL
 || 
vÆues_numbî
 == 0);

41 c⁄° 
size_t
 
vÆues_ö_chunk
 = 
	`JERRY_SIZE_OF_STRUCT_MEMBER
 (
ecma_cﬁÀ˘i⁄_chunk_t
, 
d©a
Ë/  (
ecma_vÆue_t
);

43 
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
 = 
	`ecma_Æloc_cﬁÀ˘i⁄_hódî
 ();

45 
hódî_p
->
unô_numbî
 = 
vÆues_numbî
;

47 
jmem_˝oöãr_t
 *
√xt_chunk_˝_p
 = &
hódî_p
->
fú°_chunk_˝
;

48 
ecma_cﬁÀ˘i⁄_chunk_t
 *
œ°_chunk_p
 = 
NULL
;

49 
ecma_vÆue_t
 *
cur_vÆue_buf_ôî_p
 = 
NULL
;

50 
ecma_vÆue_t
 *
cur_vÆue_buf_íd_p
 = 
NULL
;

52 
ecma_Àngth_t
 
vÆue_ödex
 = 0;

53 
vÆue_ödex
 < 
vÆues_numbî
;

54 
vÆue_ödex
++)

56 i‡(
cur_vÆue_buf_ôî_p
 =
cur_vÆue_buf_íd_p
)

58 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_p
 = 
	`ecma_Æloc_cﬁÀ˘i⁄_chunk
 ();

59 
	`ECMA_SET_POINTER
 (*
√xt_chunk_˝_p
, 
chunk_p
);

60 
√xt_chunk_˝_p
 = &
chunk_p
->
√xt_chunk_˝
;

62 
cur_vÆue_buf_ôî_p
 = (
ecma_vÆue_t
 *Ë
chunk_p
->
d©a
;

63 
cur_vÆue_buf_íd_p
 = 
cur_vÆue_buf_ôî_p
 + 
vÆues_ö_chunk
;

65 
œ°_chunk_p
 = 
chunk_p
;

68 
	`JERRY_ASSERT
 (
cur_vÆue_buf_ôî_p
 + 1 <
cur_vÆue_buf_íd_p
);

70 i‡(
do_ªf_if_obje˘
)

72 *
cur_vÆue_buf_ôî_p
++ = 
	`ecma_c›y_vÆue
 (
vÆues_buf„r
[
vÆue_ödex
]);

76 *
cur_vÆue_buf_ôî_p
++ = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
vÆues_buf„r
[
vÆue_ödex
]);

80 *
√xt_chunk_˝_p
 = 
ECMA_NULL_POINTER
;

81 
	`ECMA_SET_POINTER
 (
hódî_p
->
œ°_chunk_˝
, 
œ°_chunk_p
);

83  
hódî_p
;

84 
	}
}

90 
	$ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
,

91 
boﬁ
 
do_dîef_if_obje˘
)

94 
	`JERRY_ASSERT
 (
hódî_p
 !
NULL
);

96 c⁄° 
size_t
 
vÆues_ö_chunk
 = 
	`JERRY_SIZE_OF_STRUCT_MEMBER
 (
ecma_cﬁÀ˘i⁄_chunk_t
, 
d©a
Ë/  (
ecma_vÆue_t
);

98 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_p
 = 
	`ECMA_GET_POINTER
 (ecma_collection_chunk_t,

99 
hódî_p
->
fú°_chunk_˝
);

100 
ecma_Àngth_t
 
vÆue_ödex
 = 0;

102 
chunk_p
 !
NULL
)

104 
	`JERRY_ASSERT
 (
vÆue_ödex
 < 
hódî_p
->
unô_numbî
);

106 
ecma_vÆue_t
 *
cur_vÆue_buf_ôî_p
 = (ecma_vÆue_à*Ë
chunk_p
->
d©a
;

107 
ecma_vÆue_t
 *
cur_vÆue_buf_íd_p
 = 
cur_vÆue_buf_ôî_p
 + 
vÆues_ö_chunk
;

109 
cur_vÆue_buf_ôî_p
 !
cur_vÆue_buf_íd_p


110 && 
vÆue_ödex
 < 
hódî_p
->
unô_numbî
)

112 
	`JERRY_ASSERT
 (
cur_vÆue_buf_ôî_p
 < 
cur_vÆue_buf_íd_p
);

114 i‡(
do_dîef_if_obje˘
)

116 
	`ecma_‰ì_vÆue
 (*
cur_vÆue_buf_ôî_p
);

120 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (*
cur_vÆue_buf_ôî_p
);

123 
cur_vÆue_buf_ôî_p
++;

124 
vÆue_ödex
++;

127 
ecma_cﬁÀ˘i⁄_chunk_t
 *
√xt_chunk_p
 = 
	`ECMA_GET_POINTER
 (ecma_collection_chunk_t,

128 
chunk_p
->
√xt_chunk_˝
);

129 
	`ecma_dóŒoc_cﬁÀ˘i⁄_chunk
 (
chunk_p
);

130 
chunk_p
 = 
√xt_chunk_p
;

133 
	`ecma_dóŒoc_cﬁÀ˘i⁄_hódî
 (
hódî_p
);

134 
	}
}

140 
	$ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
,

141 
ecma_vÆue_t
 
v
,

142 
boﬁ
 
do_ªf_if_obje˘
)

145 c⁄° 
size_t
 
vÆues_ö_chunk
 = 
	`JERRY_SIZE_OF_STRUCT_MEMBER
 (
ecma_cﬁÀ˘i⁄_chunk_t
, 
d©a
Ë/  (
ecma_vÆue_t
);

147 
size_t
 
vÆues_numbî
 = 
hódî_p
->
unô_numbî
;

148 
size_t
 
pos_of_√w_vÆue_ö_chunk
 = 
vÆues_numbî
 % 
vÆues_ö_chunk
;

150 
vÆues_numbî
++;

152 i‡((
ecma_Àngth_t
Ë
vÆues_numbî
 == values_number)

154 
hódî_p
->
unô_numbî
 = (
ecma_Àngth_t
Ë
vÆues_numbî
;

158 
	`jîry_Áèl
 (
ERR_OUT_OF_MEMORY
);

161 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_p
 = 
	`ECMA_GET_POINTER
 (ecma_collection_chunk_t,

162 
hódî_p
->
œ°_chunk_˝
);

164 i‡(
pos_of_√w_vÆue_ö_chunk
 == 0)

168 
chunk_p
 = 
	`ecma_Æloc_cﬁÀ˘i⁄_chunk
 ();

169 
chunk_p
->
√xt_chunk_˝
 = 
ECMA_NULL_POINTER
;

171 i‡(
hódî_p
->
œ°_chunk_˝
 =
ECMA_NULL_POINTER
)

173 
	`JERRY_ASSERT
 (
hódî_p
->
fú°_chunk_˝
 =
ECMA_NULL_POINTER
);

175 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


176 
	`¥ofûe_öc_cou¡_of_a_ty≥
(9);

178 
	`ECMA_SET_NON_NULL_POINTER
 (
hódî_p
->
fú°_chunk_˝
, 
chunk_p
);

182 
ecma_cﬁÀ˘i⁄_chunk_t
 *
œ°_chunk_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_collection_chunk_t,

183 
hódî_p
->
œ°_chunk_˝
);

185 
	`JERRY_ASSERT
 (
œ°_chunk_p
->
√xt_chunk_˝
 =
ECMA_NULL_POINTER
);

187 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


188 
	`¥ofûe_öc_cou¡_of_a_ty≥
(9);

190 
	`ECMA_SET_NON_NULL_POINTER
 (
œ°_chunk_p
->
√xt_chunk_˝
, 
chunk_p
);

193 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


194 
	`¥ofûe_öc_cou¡_of_a_ty≥
(9);

196 
	`ECMA_SET_NON_NULL_POINTER
 (
hódî_p
->
œ°_chunk_˝
, 
chunk_p
);

201 
	`JERRY_ASSERT
 (
chunk_p
 !
NULL
);

204 
ecma_vÆue_t
 *
vÆues_p
 = (ecma_vÆue_à*Ë
chunk_p
->
d©a
;

206 
	`JERRY_ASSERT
 ((
uöt8_t
 *Ë(
vÆues_p
 + 
pos_of_√w_vÆue_ö_chunk
 + 1Ë<(uöt8_à*Ë(
chunk_p
 + 1));

208 i‡(
do_ªf_if_obje˘
)

210 
vÆues_p
[
pos_of_√w_vÆue_ö_chunk
] = 
	`ecma_c›y_vÆue
 (
v
);

214 
vÆues_p
[
pos_of_√w_vÆue_ö_chunk
] = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
v
);

216 
	}
}

225 
	$ecma_ªmove_œ°_vÆue_‰om_vÆues_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
)

227 
	`JERRY_ASSERT
 (
hódî_p
 !
NULL
 && hódî_p->
unô_numbî
 > 0);

229 c⁄° 
size_t
 
vÆues_ö_chunk
 = 
	`JERRY_SIZE_OF_STRUCT_MEMBER
 (
ecma_cﬁÀ˘i⁄_chunk_t
, 
d©a
Ë/  (
ecma_vÆue_t
);

230 
size_t
 
vÆues_numbî
 = 
hódî_p
->
unô_numbî
;

231 
size_t
 
pos_of_vÆue_to_ªmove_ö_chunk
 = (
vÆues_numbî
 - 1uË% 
vÆues_ö_chunk
;

233 
ecma_cﬁÀ˘i⁄_chunk_t
 *
œ°_chunk_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_collection_chunk_t,

234 
hódî_p
->
œ°_chunk_˝
);

236 
ecma_vÆue_t
 *
vÆues_p
 = (ecma_vÆue_à*Ë
œ°_chunk_p
->
d©a
;

237 
	`JERRY_ASSERT
 ((
uöt8_t
 *Ë(
vÆues_p
 + 
pos_of_vÆue_to_ªmove_ö_chunk
 + 1Ë<(uöt8_à*Ë(
œ°_chunk_p
 + 1));

239 
ecma_vÆue_t
 
vÆue_to_ªmove
 = 
vÆues_p
[
pos_of_vÆue_to_ªmove_ö_chunk
];

241 
	`ecma_‰ì_vÆue
 (
vÆue_to_ªmove
);

243 
hódî_p
->
unô_numbî
--;

245 i‡(
pos_of_vÆue_to_ªmove_ö_chunk
 == 0)

247 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_to_ªmove_p
 = 
œ°_chunk_p
;

250 i‡(
hódî_p
->
fú°_chunk_˝
 =hódî_p->
œ°_chunk_˝
)

252 
hódî_p
->
fú°_chunk_˝
 = 
ECMA_NULL_POINTER
;

253 
hódî_p
->
œ°_chunk_˝
 = 
ECMA_NULL_POINTER
;

257 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_ôî_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_collection_chunk_t,

258 
hódî_p
->
fú°_chunk_˝
);

260 
chunk_ôî_p
->
√xt_chunk_˝
 !
hódî_p
->
œ°_chunk_˝
)

262 
chunk_ôî_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_cﬁÀ˘i⁄_chunk_t
,

263 
chunk_ôî_p
->
√xt_chunk_˝
);

266 
ecma_cﬁÀ˘i⁄_chunk_t
 *
√w_œ°_chunk_p
 = 
chunk_ôî_p
;

268 
	`JERRY_ASSERT
 (
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_cﬁÀ˘i⁄_chunk_t
,

269 
√w_œ°_chunk_p
->
√xt_chunk_˝
Ë=
chunk_to_ªmove_p
);

271 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


272 
	`¥ofûe_öc_cou¡_of_a_ty≥
(10);

274 
	`ECMA_SET_NON_NULL_POINTER
 (
hódî_p
->
œ°_chunk_˝
, 
√w_œ°_chunk_p
);

275 
√w_œ°_chunk_p
->
√xt_chunk_˝
 = 
ECMA_NULL_POINTER
;

278 
	`ecma_dóŒoc_cﬁÀ˘i⁄_chunk
 (
chunk_to_ªmove_p
);

280 
	}
}

287 
ecma_cﬁÀ˘i⁄_hódî_t
 *

288 
	$ecma_√w_°rögs_cﬁÀ˘i⁄
 (
ecma_°rög_t
 *
°rög_±rs_buf„r
[],

289 
ecma_Àngth_t
 
°rögs_numbî
)

291 
	`JERRY_ASSERT
 (
°rög_±rs_buf„r
 !
NULL
 || 
°rögs_numbî
 == 0);

293 
ecma_cﬁÀ˘i⁄_hódî_t
 *
√w_cﬁÀ˘i⁄_p
;

295 
√w_cﬁÀ˘i⁄_p
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

297 
ecma_Àngth_t
 
°rög_ödex
 = 0;

298 
°rög_ödex
 < 
°rögs_numbî
;

299 
°rög_ödex
++)

301 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
√w_cﬁÀ˘i⁄_p
,

302 
	`ecma_make_°rög_vÆue
 (
°rög_±rs_buf„r
[
°rög_ödex
]),

303 
Ál£
);

306  
√w_cﬁÀ˘i⁄_p
;

307 
	}
}

313 
	$ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (
ecma_cﬁÀ˘i⁄_ôî©‹_t
 *
ôî©‹_p
,

314 
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_p
)

316 
ôî©‹_p
->
hódî_p
 = 
cﬁÀ˘i⁄_p
;

317 
ôî©‹_p
->
√xt_chunk_˝
 = (
cﬁÀ˘i⁄_p
 !
NULL
 ? cﬁÀ˘i⁄_p->
fú°_chunk_˝
 : 
JMEM_CP_NULL
);

318 
ôî©‹_p
->
cuºít_ödex
 = 0;

319 
ôî©‹_p
->
cuºít_vÆue_p
 = 
NULL
;

320 
ôî©‹_p
->
cuºít_chunk_íd_p
 = 
NULL
;

321 
	}
}

329 
boﬁ


330 
	$ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (
ecma_cﬁÀ˘i⁄_ôî©‹_t
 *
ôî©‹_p
)

332 i‡(
ôî©‹_p
->
hódî_p
 =
NULL


333 || 
	`u∆ikñy
 (
ôî©‹_p
->
hódî_p
->
unô_numbî
 == 0)

334 || 
	`u∆ikñy
 (
ôî©‹_p
->
hódî_p
->
fú°_chunk_˝
 =
JMEM_CP_NULL
))

336  
Ál£
;

339 c⁄° 
size_t
 
vÆues_ö_chunk
 = 
	`JERRY_SIZE_OF_STRUCT_MEMBER
 (
ecma_cﬁÀ˘i⁄_chunk_t
, 
d©a
Ë/  (
ecma_vÆue_t
);

341 i‡(
ôî©‹_p
->
cuºít_vÆue_p
 =
NULL
)

343 
	`JERRY_ASSERT
 (
ôî©‹_p
->
cuºít_ödex
 == 0);

345 
ecma_cﬁÀ˘i⁄_chunk_t
 *
fú°_chunk_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_collection_chunk_t,

346 
ôî©‹_p
->
hódî_p
->
fú°_chunk_˝
);

348 
ôî©‹_p
->
√xt_chunk_˝
 = 
fú°_chunk_p
->next_chunk_cp;

349 
ôî©‹_p
->
cuºít_vÆue_p
 = (
ecma_vÆue_t
 *Ë&
fú°_chunk_p
->
d©a
;

350 
ôî©‹_p
->
cuºít_chunk_íd_p
 = (ôî©‹_p->
cuºít_vÆue_p
 + 
vÆues_ö_chunk
);

354 i‡(
ôî©‹_p
->
cuºít_ödex
 + 1 =ôî©‹_p->
hódî_p
->
unô_numbî
)

356  
Ál£
;

359 
	`JERRY_ASSERT
 (
ôî©‹_p
->
cuºít_ödex
 + 1 < iãøt‹_p->
hódî_p
->
unô_numbî
);

361 
ôî©‹_p
->
cuºít_ödex
++;

362 
ôî©‹_p
->
cuºít_vÆue_p
++;

365 i‡(
ôî©‹_p
->
cuºít_vÆue_p
 =ôî©‹_p->
cuºít_chunk_íd_p
)

367 
ecma_cﬁÀ˘i⁄_chunk_t
 *
√xt_chunk_p
 = 
	`ECMA_GET_POINTER
 (ecma_collection_chunk_t,

368 
ôî©‹_p
->
√xt_chunk_˝
);

369 
	`JERRY_ASSERT
 (
√xt_chunk_p
 !
NULL
);

371 
ôî©‹_p
->
√xt_chunk_˝
 = 
√xt_chunk_p
->next_chunk_cp;

372 
ôî©‹_p
->
cuºít_vÆue_p
 = (
ecma_vÆue_t
 *Ë&
√xt_chunk_p
->
d©a
;

373 
ôî©‹_p
->
cuºít_chunk_íd_p
 = iãøt‹_p->
cuºít_vÆue_p
 + 
vÆues_ö_chunk
;

377 
	`JERRY_ASSERT
 (
ôî©‹_p
->
cuºít_vÆue_p
 < iãøt‹_p->
cuºít_chunk_íd_p
);

380  
åue
;

381 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-gc.h
"

18 
	~"ecma-globÆs.h
"

19 
	~"ecma-hñ≥rs.h
"

20 
	~"ecma-lˇche.h
"

21 
	~"ecma-¥›îty-hashm≠.h
"

22 
	~"jπ-bô-fõlds.h
"

23 
	~"byã-code.h
"

24 
	~"ª-compûî.h
"

25 
	~"ecma-buûtös.h
"

27 #ifde‡
JERRY_DEBUGGER


28 
	~"debuggî.h
"

29 
	~"jc⁄ãxt.h
"

42 
JERRY_STATIC_ASSERT
 (
ECMA_PROPERTY_TYPE_MASK
 >
ECMA_PROPERTY_TYPE__MAX
,

43 
ecma_¥›îty_ty≥s_mu°_be_lowî_th™_the_c⁄èöî_mask
);

48 
JERRY_STATIC_ASSERT
 (
ECMA_OBJECT_TYPE_MASK
 >
ECMA_OBJECT_TYPE__MAX
,

49 
ecma_obje˘_ty≥s_mu°_be_lowî_th™_the_c⁄èöî_mask
);

54 
JERRY_STATIC_ASSERT
 (
ECMA_OBJECT_TYPE_MASK
 >
ECMA_LEXICAL_ENVIRONMENT_TYPE__MAX
,

55 
ecma_Àxiˇl_ívú⁄mít_ty≥s_mu°_be_lowî_th™_the_c⁄èöî_mask
);

60 
JERRY_STATIC_ASSERT
 (
ECMA_OBJECT_TYPE_MASK
 + 1 =
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
,

61 
ecma_buût_ö_Êag_mu°_fﬁlow_the_obje˘_ty≥
);

66 
JERRY_STATIC_ASSERT
 (
ECMA_OBJECT_FLAG_GC_VISITED
 =(
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 << 1),

67 
ecma_gc_visôed_Êag_mu°_fﬁlow_the_buût_ö_Êag
);

72 
JERRY_STATIC_ASSERT
 (
ECMA_OBJECT_FLAG_EXTENSIBLE
 =(
ECMA_OBJECT_FLAG_GC_VISITED
 << 1),

73 
ecma_exãnsibÀ_Êag_mu°_fﬁlow_the_gc_visôed_Êag
);

78 
JERRY_STATIC_ASSERT
 (
ECMA_OBJECT_REF_ONE
 =(
ECMA_OBJECT_FLAG_EXTENSIBLE
 << 1),

79 
ecma_obje˘_ªf_⁄e_mu°_fﬁlow_the_exãnsibÀ_Êag
);

84 
JERRY_STATIC_ASSERT
 ((
ECMA_OBJECT_MAX_REF
 | (
ECMA_OBJECT_REF_ONE
 - 1)Ë=
UINT16_MAX
,

85 
ecma_obje˘_max_ªf_d€s_nŸ_fûl_the_ªmaöög_bôs
);

96 
ecma_obje˘_t
 *

97 
	$ecma_¸óã_obje˘
 (
ecma_obje˘_t
 *
¥ŸŸy≥_obje˘_p
,

98 
size_t
 
ext_obje˘_size
,

99 
ecma_obje˘_ty≥_t
 
ty≥
)

101 
ecma_obje˘_t
 *
√w_obje˘_p
;

103 i‡(
ext_obje˘_size
 > 0)

105 
√w_obje˘_p
 = (
ecma_obje˘_t
 *Ë
	`ecma_Æloc_exãnded_obje˘
 (
ext_obje˘_size
);

109 
√w_obje˘_p
 = 
	`ecma_Æloc_obje˘
 ();

112 
√w_obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(
ty≥
 | 
ECMA_OBJECT_FLAG_EXTENSIBLE
);

114 
	`ecma_öô_gc_öfo
 (
√w_obje˘_p
);

116 
√w_obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
 = 
JMEM_CP_NULL
;

118 
	`ECMA_SET_POINTER
 (
√w_obje˘_p
->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
,

119 
¥ŸŸy≥_obje˘_p
);

121  
√w_obje˘_p
;

122 
	}
}

134 
ecma_obje˘_t
 *

135 
	$ecma_¸óã_de˛_Àx_ív
 (
ecma_obje˘_t
 *
ouãr_Àxiˇl_ívú⁄mít_p
)

137 
ecma_obje˘_t
 *
√w_Àxiˇl_ívú⁄mít_p
 = 
	`ecma_Æloc_obje˘
 ();

139 
uöt16_t
 
ty≥
 = 
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 | 
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
;

140 
√w_Àxiˇl_ívú⁄mít_p
->
ty≥_Êags_ªfs
 = 
ty≥
;

142 
	`ecma_öô_gc_öfo
 (
√w_Àxiˇl_ívú⁄mít_p
);

144 
√w_Àxiˇl_ívú⁄mít_p
->
¥›îty_li°_‹_bound_obje˘_˝
 = 
JMEM_CP_NULL
;

146 
	`ECMA_SET_POINTER
 (
√w_Àxiˇl_ívú⁄mít_p
->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
,

147 
ouãr_Àxiˇl_ívú⁄mít_p
);

149  
√w_Àxiˇl_ívú⁄mít_p
;

150 
	}
}

162 
ecma_obje˘_t
 *

163 
	$ecma_¸óã_obje˘_Àx_ív
 (
ecma_obje˘_t
 *
ouãr_Àxiˇl_ívú⁄mít_p
,

164 
ecma_obje˘_t
 *
bödög_obj_p
,

165 
boﬁ
 
¥ovide_this
)

167 
	`JERRY_ASSERT
 (
bödög_obj_p
 !
NULL


168 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
bödög_obj_p
));

170 
ecma_obje˘_t
 *
√w_Àxiˇl_ívú⁄mít_p
 = 
	`ecma_Æloc_obje˘
 ();

172 
uöt16_t
 
ty≥
;

174 i‡(
¥ovide_this
)

176 
ty≥
 = 
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 | 
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
;

180 
ty≥
 = 
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 | 
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND
;

183 
√w_Àxiˇl_ívú⁄mít_p
->
ty≥_Êags_ªfs
 = 
ty≥
;

185 
	`ecma_öô_gc_öfo
 (
√w_Àxiˇl_ívú⁄mít_p
);

187 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


188 
	`¥ofûe_öc_cou¡_of_a_ty≥
(11);

190 
	`ECMA_SET_NON_NULL_POINTER
 (
√w_Àxiˇl_ívú⁄mít_p
->
¥›îty_li°_‹_bound_obje˘_˝
,

191 
bödög_obj_p
);

193 
	`ECMA_SET_POINTER
 (
√w_Àxiˇl_ívú⁄mít_p
->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
,

194 
ouãr_Àxiˇl_ívú⁄mít_p
);

196  
√w_Àxiˇl_ívú⁄mít_p
;

197 
	}
}

202 
ölöe
 
boﬁ
 
__©å_puª___


203 
	$ecma_is_Àxiˇl_ívú⁄mít
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

205 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

207 
uöt32_t
 
fuŒ_ty≥
 = 
obje˘_p
->
ty≥_Êags_ªfs
 & (
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 | 
ECMA_OBJECT_TYPE_MASK
);

209  
fuŒ_ty≥
 >(
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
 | 
ECMA_LEXICAL_ENVIRONMENT_TYPE_START
);

210 
	}
}

215 
ölöe
 
boﬁ
 
__©å_puª___


216 
	$ecma_gë_obje˘_exãnsibÀ
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

218 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

219 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

221  (
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_FLAG_EXTENSIBLE
) != 0;

222 
	}
}

227 
ölöe
 

228 
	$ecma_£t_obje˘_exãnsibÀ
 (
ecma_obje˘_t
 *
obje˘_p
,

229 
boﬁ
 
is_exãnsibÀ
)

231 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

232 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

234 i‡(
is_exãnsibÀ
)

236 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†| 
ECMA_OBJECT_FLAG_EXTENSIBLE
);

240 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†& ~
ECMA_OBJECT_FLAG_EXTENSIBLE
);

242 
	}
}

247 
ölöe
 
ecma_obje˘_ty≥_t
 
__©å_puª___


248 
	$ecma_gë_obje˘_ty≥
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

250 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

251 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

253  (
ecma_obje˘_ty≥_t
Ë(
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_TYPE_MASK
);

254 
	}
}

259 
ölöe
 
ecma_obje˘_t
 *
__©å_puª___


260 
	$ecma_gë_obje˘_¥ŸŸy≥
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

262 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

263 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

265  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
,

266 
obje˘_p
->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
);

267 
	}
}

274 
ölöe
 
boﬁ
 
__©å_puª___


275 
	$ecma_gë_obje˘_is_buûtö
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

277 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

278 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

280  (
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
) != 0;

281 
	}
}

286 
ölöe
 

287 
	$ecma_£t_obje˘_is_buûtö
 (
ecma_obje˘_t
 *
obje˘_p
)

289 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

290 
	`JERRY_ASSERT
 (!(
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
));

291 
	`JERRY_ASSERT
 ((
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_TYPE_MASK
Ë< 
ECMA_LEXICAL_ENVIRONMENT_TYPE_START
);

293 
obje˘_p
->
ty≥_Êags_ªfs
 = (
uöt16_t
Ë(obje˘_p->ty≥_Êags_ªf†| 
ECMA_OBJECT_FLAG_BUILT_IN_OR_LEXICAL_ENV
);

294 
	}
}

300 
ölöe
 
uöt8_t


301 
	$ecma_gë_obje˘_buûtö_id
 (
ecma_obje˘_t
 *
obje˘_p
)

303 i‡(!
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
))

305  
ECMA_BUILTIN_ID__COUNT
;

308 
ecma_buût_ö_¥›s_t
 *
buût_ö_¥›s_p
;

309 
ecma_obje˘_ty≥_t
 
obje˘_ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

311 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
 || obje˘_ty≥ =
ECMA_OBJECT_TYPE_ARRAY
)

313 
buût_ö_¥›s_p
 = &((
ecma_exãnded_buût_ö_obje˘_t
 *Ë
obje˘_p
)->
buût_ö
;

317 
buût_ö_¥›s_p
 = &((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
)->
u
.
buût_ö
;

320  
buût_ö_¥›s_p
->
id
;

321 
	}
}

326 
ölöe
 
ecma_Àxiˇl_ívú⁄mít_ty≥_t
 
__©å_puª___


327 
	$ecma_gë_Àx_ív_ty≥
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

329 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

330 
	`JERRY_ASSERT
 (
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

332  (
ecma_Àxiˇl_ívú⁄mít_ty≥_t
Ë(
obje˘_p
->
ty≥_Êags_ªfs
 & 
ECMA_OBJECT_TYPE_MASK
);

333 
	}
}

338 
ölöe
 
ecma_obje˘_t
 *
__©å_puª___


339 
	$ecma_gë_Àx_ív_ouãr_ª„ªn˚
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

341 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

342 
	`JERRY_ASSERT
 (
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

344  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
,

345 
obje˘_p
->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
);

346 
	}
}

354 
ölöe
 
ecma_¥›îty_hódî_t
 *
__©å_puª___


355 
	$ecma_gë_¥›îty_li°
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

357 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

358 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
)

359 || 
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
);

361  
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

362 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
);

363 
	}
}

368 
ölöe
 
boﬁ
 
__©å_puª___


369 
	$ecma_gë_Àx_ív_¥ovide_this
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

371 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

372 
	`JERRY_ASSERT
 (
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

373 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


374 || 
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

376  
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
;

377 
	}
}

382 
ölöe
 
ecma_obje˘_t
 *
__©å_puª___


383 
	$ecma_gë_Àx_ív_bödög_obje˘
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
)

385 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

386 
	`JERRY_ASSERT
 (
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

387 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


388 || 
	`ecma_gë_Àx_ív_ty≥
 (
obje˘_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

390  
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_obje˘_t
,

391 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
);

392 
	}
}

400 
ecma_¥›îty_vÆue_t
 *

401 
	$ecma_¸óã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

402 
ecma_°rög_t
 *
«me_p
,

403 
uöt8_t
 
ty≥_™d_Êags
,

404 
ecma_¥›îty_vÆue_t
 
vÆue
,

405 
ecma_¥›îty_t
 **
out_¥›_p
)

408 
	`JERRY_ASSERT
 (
ECMA_PROPERTY_PAIR_ITEM_COUNT
 == 2);

410 
jmem_˝oöãr_t
 *
¥›îty_li°_hód_p
 = &
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
;

412 i‡(*
¥›îty_li°_hód_p
 !
ECMA_NULL_POINTER
)

415 
ecma_¥›îty_hódî_t
 *
fú°_¥›îty_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_property_header_t,

416 *
¥›îty_li°_hód_p
);

417 
boﬁ
 
has_hashm≠
 = 
Ál£
;

419 i‡(
fú°_¥›îty_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

421 
¥›îty_li°_hód_p
 = &
fú°_¥›îty_p
->
√xt_¥›îty_˝
;

422 
fú°_¥›îty_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_¥›îty_hódî_t
,

423 *
¥›îty_li°_hód_p
);

424 
has_hashm≠
 = 
åue
;

427 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
fú°_¥›îty_p
));

429 i‡(
fú°_¥›îty_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_DELETED
)

431 
ecma_¥›îty_∑ú_t
 *
fú°_¥›îty_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
fú°_¥›îty_p
;

433 i‡(
«me_p
 =
NULL
)

435 
fú°_¥›îty_∑ú_p
->
«mes_˝
[0] = 
ECMA_NULL_POINTER
;

439 
ecma_¥›îty_t
 
«me_ty≥
;

440 
fú°_¥›îty_∑ú_p
->
«mes_˝
[0] = 
	`ecma_°rög_to_¥›îty_«me
 (
«me_p
,

441 &
«me_ty≥
);

442 
ty≥_™d_Êags
 = (
ecma_¥›îty_t
Ë—y≥_™d_Êag†| 
«me_ty≥
);

445 
fú°_¥›îty_p
->
ty≥s
[0] = 
ty≥_™d_Êags
;

447 
ecma_¥›îty_t
 *
¥›îty_p
 = 
fú°_¥›îty_p
->
ty≥s
 + 0;

449 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
Ë=
fú°_¥›îty_∑ú_p
->
vÆues
 + 0);

451 i‡(
out_¥›_p
 !
NULL
)

453 *
out_¥›_p
 = 
¥›îty_p
;

456 
fú°_¥›îty_∑ú_p
->
vÆues
[0] = 
vÆue
;

463 i‡(
has_hashm≠
 && 
«me_p
 !
NULL
)

465 
	`ecma_¥›îty_hashm≠_ö£π
 (
obje˘_p
,

466 
«me_p
,

467 
fú°_¥›îty_∑ú_p
,

471  
fú°_¥›îty_∑ú_p
->
vÆues
 + 0;

476 
ecma_¥›îty_∑ú_t
 *
fú°_¥›îty_∑ú_p
 = 
	`ecma_Æloc_¥›îty_∑ú
 ();

480 
¥›îty_li°_hód_p
 = &
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
;

481 
boﬁ
 
has_hashm≠
 = 
Ál£
;

483 i‡(*
¥›îty_li°_hód_p
 !
ECMA_NULL_POINTER
)

485 
ecma_¥›îty_hódî_t
 *
fú°_¥›îty_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_property_header_t,

486 *
¥›îty_li°_hód_p
);

488 i‡(
fú°_¥›îty_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

490 
¥›îty_li°_hód_p
 = &
fú°_¥›îty_p
->
√xt_¥›îty_˝
;

491 
has_hashm≠
 = 
åue
;

496 
fú°_¥›îty_∑ú_p
->
hódî
.
√xt_¥›îty_˝
 = *
¥›îty_li°_hód_p
;

497 
fú°_¥›îty_∑ú_p
->
hódî
.
ty≥s
[0] = 
ECMA_PROPERTY_TYPE_DELETED
;

498 
fú°_¥›îty_∑ú_p
->
«mes_˝
[0] = 
ECMA_NULL_POINTER
;

500 i‡(
«me_p
 =
NULL
)

502 
fú°_¥›îty_∑ú_p
->
«mes_˝
[1] = 
ECMA_NULL_POINTER
;

506 
ecma_¥›îty_t
 
«me_ty≥
;

507 
fú°_¥›îty_∑ú_p
->
«mes_˝
[1] = 
	`ecma_°rög_to_¥›îty_«me
 (
«me_p
,

508 &
«me_ty≥
);

509 
ty≥_™d_Êags
 = (
ecma_¥›îty_t
Ë—y≥_™d_Êag†| 
«me_ty≥
);

512 
fú°_¥›îty_∑ú_p
->
hódî
.
ty≥s
[1] = 
ty≥_™d_Êags
;

514 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


515 
	`¥ofûe_öc_cou¡_of_a_ty≥
(12);

517 
	`ECMA_SET_NON_NULL_POINTER
 (*
¥›îty_li°_hód_p
, &
fú°_¥›îty_∑ú_p
->
hódî
);

519 
ecma_¥›îty_t
 *
¥›îty_p
 = 
fú°_¥›îty_∑ú_p
->
hódî
.
ty≥s
 + 1;

521 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
Ë=
fú°_¥›îty_∑ú_p
->
vÆues
 + 1);

523 i‡(
out_¥›_p
 !
NULL
)

525 *
out_¥›_p
 = 
¥›îty_p
;

528 
fú°_¥›îty_∑ú_p
->
vÆues
[1] = 
vÆue
;

532 i‡(
has_hashm≠
 && 
«me_p
 !
NULL
)

534 
	`ecma_¥›îty_hashm≠_ö£π
 (
obje˘_p
,

535 
«me_p
,

536 
fú°_¥›îty_∑ú_p
,

540  
fú°_¥›îty_∑ú_p
->
vÆues
 + 1;

541 
	}
}

549 
ecma_¥›îty_vÆue_t
 *

550 
	$ecma_¸óã_«med_d©a_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

551 
ecma_°rög_t
 *
«me_p
,

552 
uöt8_t
 
¥›_©åibuãs
,

553 
ecma_¥›îty_t
 **
out_¥›_p
)

556 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
 && 
«me_p
 != NULL);

557 
	`JERRY_ASSERT
 (
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
«me_p
Ë=
NULL
);

558 
	`JERRY_ASSERT
 ((
¥›_©åibuãs
 & ~
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
) == 0);

560 
uöt8_t
 
ty≥_™d_Êags
 = 
ECMA_PROPERTY_TYPE_NAMEDDATA
 | 
¥›_©åibuãs
;

562 
ecma_¥›îty_vÆue_t
 
vÆue
;

563 
vÆue
.vÆuê
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

565  
	`ecma_¸óã_¥›îty
 (
obje˘_p
, 
«me_p
, 
ty≥_™d_Êags
, 
vÆue
, 
out_¥›_p
);

566 
	}
}

573 
ecma_¥›îty_vÆue_t
 *

574 
	$ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

575 
ecma_°rög_t
 *
«me_p
,

576 
ecma_obje˘_t
 *
gë_p
,

577 
ecma_obje˘_t
 *
£t_p
,

578 
uöt8_t
 
¥›_©åibuãs
,

579 
ecma_¥›îty_t
 **
out_¥›_p
)

582 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
 && 
«me_p
 != NULL);

583 
	`JERRY_ASSERT
 (
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
«me_p
Ë=
NULL
);

584 
	`JERRY_ASSERT
 ((
¥›_©åibuãs
 & ~
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE
) == 0);

586 
uöt8_t
 
ty≥_™d_Êags
 = 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
 | 
¥›_©åibuãs
;

588 
ecma_¥›îty_vÆue_t
 
vÆue
;

589 #ifde‡
JERRY_CPOINTER_32_BIT


590 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

591 
gëãr_£âî_∑ú_p
 = 
	`jmem_poﬁs_Æloc
 ( (
ecma_gëãr_£âî_poöãrs_t
));

592 
	`ECMA_SET_POINTER
 (
gëãr_£âî_∑ú_p
->
gëãr_p
, 
gë_p
);

593 
	`ECMA_SET_POINTER
 (
gëãr_£âî_∑ú_p
->
£âî_p
, 
£t_p
);

594 
	`ECMA_SET_POINTER
 (
vÆue
.
gëãr_£âî_∑ú_˝
, 
gëãr_£âî_∑ú_p
);

596 
	`ECMA_SET_POINTER
 (
vÆue
.
gëãr_£âî_∑ú
.
gëãr_p
, 
gë_p
);

597 
	`ECMA_SET_POINTER
 (
vÆue
.
gëãr_£âî_∑ú
.
£âî_p
, 
£t_p
);

600  
	`ecma_¸óã_¥›îty
 (
obje˘_p
, 
«me_p
, 
ty≥_™d_Êags
, 
vÆue
, 
out_¥›_p
);

601 
	}
}

609 
ecma_¥›îty_t
 *

610 
	$ecma_föd_«med_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

611 
ecma_°rög_t
 *
«me_p
)

613 
	`JERRY_ASSERT
 (
obj_p
 !
NULL
);

614 
	`JERRY_ASSERT
 (
«me_p
 !
NULL
);

616 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_lˇche_lookup
 (
obj_p
, 
«me_p
);

618 i‡(
¥›îty_p
 !
NULL
)

620  
¥›îty_p
;

623 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obj_p
);

625 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


626 i‡(
¥›_ôî_p
 !
NULL
 &&Ör›_ôî_p->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

628 
jmem_˝oöãr_t
 
¥›îty_ªÆ_«me_˝
;

629 
¥›îty_p
 = 
	`ecma_¥›îty_hashm≠_föd
 ((
ecma_¥›îty_hashm≠_t
 *Ë
¥›_ôî_p
,

630 
«me_p
,

631 &
¥›îty_ªÆ_«me_˝
);

633 i‡(
¥›îty_p
 !
NULL


634 && !
	`ecma_is_¥›îty_lˇched
 (
¥›îty_p
))

636 
	`ecma_lˇche_ö£π
 (
obj_p
, 
¥›îty_ªÆ_«me_˝
, 
¥›îty_p
);

639  
¥›îty_p
;

643 
¥›îty_p
 = 
NULL
;

644 
jmem_˝oöãr_t
 
¥›îty_«me_˝
 = 
ECMA_NULL_POINTER
;

646 
uöt32_t
 
°ïs
 = 0;

648 
¥›_ôî_p
 !
NULL
)

650 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

652 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
¥›_ôî_p
;

654 
	`JERRY_ASSERT
 (
ECMA_PROPERTY_PAIR_ITEM_COUNT
 == 2);

656 i‡(
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (
¥›_ôî_p
->
ty≥s
[0]))

658 i‡(
	`ecma_°rög_com∑ª_to_¥›îty_«me
 (
¥›_ôî_p
->
ty≥s
[0],

659 
¥›_∑ú_p
->
«mes_˝
[0],

660 
«me_p
))

662 
¥›îty_«me_˝
 = 
¥›_∑ú_p
->
«mes_˝
[0];

663 
¥›îty_p
 = 
¥›_ôî_p
->
ty≥s
 + 0;

668 i‡(
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (
¥›_ôî_p
->
ty≥s
[1]))

670 i‡(
	`ecma_°rög_com∑ª_to_¥›îty_«me
 (
¥›_ôî_p
->
ty≥s
[1],

671 
¥›_∑ú_p
->
«mes_˝
[1],

672 
«me_p
))

674 
¥›îty_«me_˝
 = 
¥›_∑ú_p
->
«mes_˝
[1];

675 
¥›îty_p
 = 
¥›_ôî_p
->
ty≥s
 + 1;

680 
°ïs
++;

682 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

683 
¥›_ôî_p
->
√xt_¥›îty_˝
);

686 i‡(
°ïs
 >(
ECMA_PROPERTY_HASMAP_MINIMUM_SIZE
 / 2))

688 
	`ecma_¥›îty_hashm≠_¸óã
 (
obj_p
);

691 i‡(
¥›îty_p
 !
NULL


692 && !
	`ecma_is_¥›îty_lˇched
 (
¥›îty_p
))

694 
	`ecma_lˇche_ö£π
 (
obj_p
, 
¥›îty_«me_˝
, 
¥›îty_p
);

697  
¥›îty_p
;

698 
	}
}

709 
ecma_¥›îty_vÆue_t
 *

710 
	$ecma_gë_«med_d©a_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

711 
ecma_°rög_t
 *
«me_p
)

713 
	`JERRY_ASSERT
 (
obj_p
 !
NULL
);

714 
	`JERRY_ASSERT
 (
«me_p
 !
NULL
);

716 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obj_p
, 
«me_p
);

718 
	`JERRY_ASSERT
 (
¥›îty_p
 !
NULL


719 && 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
);

721  
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

722 
	}
}

728 
	$ecma_‰ì_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

729 
jmem_˝oöãr_t
 
«me_˝
,

730 
ecma_¥›îty_t
 *
¥›îty_p
)

732 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
 && 
¥›îty_p
 != NULL);

734 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
))

736 
ECMA_PROPERTY_TYPE_NAMEDDATA
:

738 i‡(
	`ECMA_PROPERTY_GET_NAME_TYPE
 (*
¥›îty_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING
)

740 i‡(
«me_˝
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE


741 || 
«me_˝
 =
LIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
)

743 
	`ecma_‰ì_«tive_poöãr
 (
¥›îty_p
);

748 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
)->
vÆue
);

751 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
:

753 #ifde‡
JERRY_CPOINTER_32_BIT


754 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

755 
gëãr_£âî_∑ú_p
 = 
	`ECMA_GET_POINTER
 (
ecma_gëãr_£âî_poöãrs_t
,

756 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
)->
gëãr_£âî_∑ú_˝
);

757 
	`jmem_poﬁs_‰ì
 (
gëãr_£âî_∑ú_p
,  (
ecma_gëãr_£âî_poöãrs_t
));

763 
	`JERRY_UNREACHABLE
 ();

768 i‡(
	`ecma_is_¥›îty_lˇched
 (
¥›îty_p
))

770 
	`ecma_lˇche_övÆid©e
 (
obje˘_p
, 
«me_˝
, 
¥›îty_p
);

773 i‡(
	`ECMA_PROPERTY_GET_NAME_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_NAME_TYPE_STRING
)

775 
ecma_°rög_t
 *
¥›_«me_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
«me_˝
);

776 
	`ecma_dîef_ecma_°rög
 (
¥›_«me_p
);

779 *
¥›îty_p
 = 
ECMA_PROPERTY_TYPE_DELETED
;

780 
	}
}

788 
	$ecma_dñëe_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

789 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
)

791 
ecma_¥›îty_hódî_t
 *
cur_¥›_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

792 
ecma_¥›îty_hódî_t
 *
¥ev_¥›_p
 = 
NULL
;

793 
ecma_¥›îty_hashm≠_dñëe_°©us
 
hashm≠_°©us
 = 
ECMA_PROPERTY_HASHMAP_DELETE_NO_HASHMAP
;

795 i‡(
cur_¥›_p
 !
NULL
 && cur_¥›_p->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

797 
¥ev_¥›_p
 = 
cur_¥›_p
;

798 
cur_¥›_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

799 
cur_¥›_p
->
√xt_¥›îty_˝
);

800 
hashm≠_°©us
 = 
ECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
;

803 
åue
)

805 
	`JERRY_ASSERT
 (
cur_¥›_p
 !
NULL
);

806 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
cur_¥›_p
));

808 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
cur_¥›_p
;

810 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

812 i‡((
¥›_∑ú_p
->
vÆues
 + 
i
Ë=
¥›_vÆue_p
)

814 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (
cur_¥›_p
->
ty≥s
[
i
]Ë!
ECMA_PROPERTY_TYPE_SPECIAL
);

816 i‡(
hashm≠_°©us
 =
ECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
)

818 
hashm≠_°©us
 = 
	`ecma_¥›îty_hashm≠_dñëe
 (
obje˘_p
,

819 
¥›_∑ú_p
->
«mes_˝
[
i
],

820 
cur_¥›_p
->
ty≥s
 + 
i
);

823 
	`ecma_‰ì_¥›îty
 (
obje˘_p
, 
¥›_∑ú_p
->
«mes_˝
[
i
], 
cur_¥›_p
->
ty≥s
 + i);

825 
	`JERRY_ASSERT
 (
ECMA_PROPERTY_PAIR_ITEM_COUNT
 == 2);

827 i‡(
cur_¥›_p
->
ty≥s
[1 - 
i
] !
ECMA_PROPERTY_TYPE_DELETED
)

830 i‡(
hashm≠_°©us
 =
ECMA_PROPERTY_HASHMAP_DELETE_RECREATE_HASHMAP
)

832 
	`ecma_¥›îty_hashm≠_‰ì
 (
obje˘_p
);

833 
	`ecma_¥›îty_hashm≠_¸óã
 (
obje˘_p
);

838 
	`JERRY_ASSERT
 (
cur_¥›_p
->
ty≥s
[
i
] =
ECMA_PROPERTY_TYPE_DELETED
);

840 i‡(
¥ev_¥›_p
 =
NULL
)

842 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
 = 
cur_¥›_p
->
√xt_¥›îty_˝
;

846 
¥ev_¥›_p
->
√xt_¥›îty_˝
 = 
cur_¥›_p
->next_property_cp;

849 
	`ecma_dóŒoc_¥›îty_∑ú
 ((
ecma_¥›îty_∑ú_t
 *Ë
cur_¥›_p
);

851 i‡(
hashm≠_°©us
 =
ECMA_PROPERTY_HASHMAP_DELETE_RECREATE_HASHMAP
)

853 
	`ecma_¥›îty_hashm≠_‰ì
 (
obje˘_p
);

854 
	`ecma_¥›îty_hashm≠_¸óã
 (
obje˘_p
);

860 
¥ev_¥›_p
 = 
cur_¥›_p
;

861 
cur_¥›_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

862 
cur_¥›_p
->
√xt_¥›îty_˝
);

864 
	}
}

873 
uöt32_t


874 
	$ecma_dñëe_¨øy_¥›îtõs
 (
ecma_obje˘_t
 *
obje˘_p
,

875 
uöt32_t
 
√w_Àngth
,

876 
uöt32_t
 
ﬁd_Àngth
)

878 
	`JERRY_ASSERT
 (
√w_Àngth
 < 
ﬁd_Àngth
);

881 
ecma_¥›îty_hódî_t
 *
cuºít_¥›_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

883 i‡(
cuºít_¥›_p
 =
NULL
)

885  
√w_Àngth
;

888 i‡(
cuºít_¥›_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

890 
cuºít_¥›_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

891 
cuºít_¥›_p
->
√xt_¥›îty_˝
);

894 
cuºít_¥›_p
 !
NULL
)

896 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
cuºít_¥›_p
));

898 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
cuºít_¥›_p
;

900 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

902 i‡(
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (
cuºít_¥›_p
->
ty≥s
[
i
])

903 && !
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
cuºít_¥›_p
->
ty≥s
[
i
]))

905 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¥›îty_ödex
 (
cuºít_¥›_p
->
ty≥s
[
i
],

906 
¥›_∑ú_p
->
«mes_˝
[
i
]);

908 i‡(
ödex
 < 
ﬁd_Àngth
 && index >
√w_Àngth
)

910 
	`JERRY_ASSERT
 (
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
);

912 
√w_Àngth
 = 
ödex
 + 1;

914 i‡(
√w_Àngth
 =
ﬁd_Àngth
)

917  
√w_Àngth
;

923 
cuºít_¥›_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

924 
cuºít_¥›_p
->
√xt_¥›îty_˝
);

928 
cuºít_¥›_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

929 
ecma_¥›îty_hódî_t
 *
¥ev_¥›_p
 = 
NULL
;

930 
ecma_¥›îty_hashm≠_dñëe_°©us
 
hashm≠_°©us
 = 
ECMA_PROPERTY_HASHMAP_DELETE_NO_HASHMAP
;

932 i‡(
cuºít_¥›_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

934 
¥ev_¥›_p
 = 
cuºít_¥›_p
;

935 
cuºít_¥›_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

936 
cuºít_¥›_p
->
√xt_¥›îty_˝
);

937 
hashm≠_°©us
 = 
ECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
;

940 
cuºít_¥›_p
 !
NULL
)

942 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
cuºít_¥›_p
;

944 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

946 i‡(
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (
cuºít_¥›_p
->
ty≥s
[
i
])

947 && 
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
cuºít_¥›_p
->
ty≥s
[
i
]))

949 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¥›îty_ödex
 (
cuºít_¥›_p
->
ty≥s
[
i
],

950 
¥›_∑ú_p
->
«mes_˝
[
i
]);

952 i‡(
ödex
 < 
ﬁd_Àngth
 && index >
√w_Àngth
)

954 
	`JERRY_ASSERT
 (
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
);

956 i‡(
hashm≠_°©us
 =
ECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
)

958 
hashm≠_°©us
 = 
	`ecma_¥›îty_hashm≠_dñëe
 (
obje˘_p
,

959 
¥›_∑ú_p
->
«mes_˝
[
i
],

960 
cuºít_¥›_p
->
ty≥s
 + 
i
);

963 
	`ecma_‰ì_¥›îty
 (
obje˘_p
, 
¥›_∑ú_p
->
«mes_˝
[
i
], 
cuºít_¥›_p
->
ty≥s
 + i);

965 
	`JERRY_ASSERT
 (
cuºít_¥›_p
->
ty≥s
[
i
] =
ECMA_PROPERTY_TYPE_DELETED
);

970 i‡(
cuºít_¥›_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_DELETED


971 && 
cuºít_¥›_p
->
ty≥s
[1] =
ECMA_PROPERTY_TYPE_DELETED
)

973 i‡(
¥ev_¥›_p
 =
NULL
)

975 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
 = 
cuºít_¥›_p
->
√xt_¥›îty_˝
;

979 
¥ev_¥›_p
->
√xt_¥›îty_˝
 = 
cuºít_¥›_p
->next_property_cp;

982 
ecma_¥›îty_hódî_t
 *
√xt_¥›_p
 = 
	`ECMA_GET_POINTER
 (ecma_property_header_t,

983 
cuºít_¥›_p
->
√xt_¥›îty_˝
);

984 
	`ecma_dóŒoc_¥›îty_∑ú
 ((
ecma_¥›îty_∑ú_t
 *Ë
cuºít_¥›_p
);

985 
cuºít_¥›_p
 = 
√xt_¥›_p
;

989 
¥ev_¥›_p
 = 
cuºít_¥›_p
;

990 
cuºít_¥›_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

991 
cuºít_¥›_p
->
√xt_¥›îty_˝
);

995 i‡(
hashm≠_°©us
 =
ECMA_PROPERTY_HASHMAP_DELETE_RECREATE_HASHMAP
)

997 
	`ecma_¥›îty_hashm≠_‰ì
 (
obje˘_p
);

998 
	`ecma_¥›îty_hashm≠_¸óã
 (
obje˘_p
);

1001  
√w_Àngth
;

1002 
	}
}

1008 
	$ecma_as£π_obje˘_c⁄èös_the_¥›îty
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
,

1009 c⁄° 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

1010 
ecma_¥›îty_ty≥s_t
 
ty≥
)

1012 #i‚de‡
JERRY_NDEBUG


1013 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

1015 
	`JERRY_ASSERT
 (
¥›_ôî_p
 !
NULL
);

1017 i‡(
¥›_ôî_p
->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

1019 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

1020 
¥›_ôî_p
->
√xt_¥›îty_˝
);

1023 
¥›_ôî_p
 !
NULL
)

1025 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

1027 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
¥›_ôî_p
;

1029 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

1031 i‡((
¥›_∑ú_p
->
vÆues
 + 
i
Ë=
¥›_vÆue_p
)

1033 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (
¥›_∑ú_p
->
hódî
.
ty≥s
[
i
]Ë=
ty≥
);

1038 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

1039 
¥›_ôî_p
->
√xt_¥›îty_˝
);

1042 
	`JERRY_UNREACHABLE
 ();

1045 
	`JERRY_UNUSED
 (
obje˘_p
);

1046 
	`JERRY_UNUSED
 (
¥›_vÆue_p
);

1047 
	`JERRY_UNUSED
 (
ty≥
);

1049 
	}
}

1057 
ölöe
 
__©å_Æways_ölöe___


1058 
	$ecma_«med_d©a_¥›îty_assign_vÆue
 (
ecma_obje˘_t
 *
obj_p
,

1059 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

1060 
ecma_vÆue_t
 
vÆue
)

1062 
	`ecma_as£π_obje˘_c⁄èös_the_¥›îty
 (
obj_p
, 
¥›_vÆue_p
, 
ECMA_PROPERTY_TYPE_NAMEDDATA
);

1064 
	`ecma_vÆue_assign_vÆue
 (&
¥›_vÆue_p
->
vÆue
, value);

1065 
	}
}

1072 
ecma_obje˘_t
 *

1073 
	$ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (c⁄° 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
)

1075 #ifde‡
JERRY_CPOINTER_32_BIT


1076 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

1077 
gëãr_£âî_∑ú_p
 = 
	`ECMA_GET_POINTER
 (
ecma_gëãr_£âî_poöãrs_t
,

1078 
¥›_vÆue_p
->
gëãr_£âî_∑ú_˝
);

1079  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
, 
gëãr_£âî_∑ú_p
->
gëãr_p
);

1081  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
, 
¥›_vÆue_p
->
gëãr_£âî_∑ú
.
gëãr_p
);

1083 
	}
}

1090 
ecma_obje˘_t
 *

1091 
	$ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (c⁄° 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
)

1093 #ifde‡
JERRY_CPOINTER_32_BIT


1094 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

1095 
gëãr_£âî_∑ú_p
 = 
	`ECMA_GET_POINTER
 (
ecma_gëãr_£âî_poöãrs_t
,

1096 
¥›_vÆue_p
->
gëãr_£âî_∑ú_˝
);

1097  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
, 
gëãr_£âî_∑ú_p
->
£âî_p
);

1099  
	`ECMA_GET_POINTER
 (
ecma_obje˘_t
, 
¥›_vÆue_p
->
gëãr_£âî_∑ú
.
£âî_p
);

1101 
	}
}

1107 
	$ecma_£t_«med_ac˚ss‹_¥›îty_gëãr
 (
ecma_obje˘_t
 *
obje˘_p
,

1108 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

1109 
ecma_obje˘_t
 *
gëãr_p
)

1111 
	`ecma_as£π_obje˘_c⁄èös_the_¥›îty
 (
obje˘_p
, 
¥›_vÆue_p
, 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

1113 #ifde‡
JERRY_CPOINTER_32_BIT


1114 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

1115 
gëãr_£âî_∑ú_p
 = 
	`ECMA_GET_POINTER
 (
ecma_gëãr_£âî_poöãrs_t
,

1116 
¥›_vÆue_p
->
gëãr_£âî_∑ú_˝
);

1117 
	`ECMA_SET_POINTER
 (
gëãr_£âî_∑ú_p
->
gëãr_p
, getter_p);

1119 
	`ECMA_SET_POINTER
 (
¥›_vÆue_p
->
gëãr_£âî_∑ú
.
gëãr_p
, getter_p);

1121 
	}
}

1127 
	$ecma_£t_«med_ac˚ss‹_¥›îty_£âî
 (
ecma_obje˘_t
 *
obje˘_p
,

1128 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

1129 
ecma_obje˘_t
 *
£âî_p
)

1131 
	`ecma_as£π_obje˘_c⁄èös_the_¥›îty
 (
obje˘_p
, 
¥›_vÆue_p
, 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

1133 #ifde‡
JERRY_CPOINTER_32_BIT


1134 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

1135 
gëãr_£âî_∑ú_p
 = 
	`ECMA_GET_POINTER
 (
ecma_gëãr_£âî_poöãrs_t
,

1136 
¥›_vÆue_p
->
gëãr_£âî_∑ú_˝
);

1137 
	`ECMA_SET_POINTER
 (
gëãr_£âî_∑ú_p
->
£âî_p
, setter_p);

1139 
	`ECMA_SET_POINTER
 (
¥›_vÆue_p
->
gëãr_£âî_∑ú
.
£âî_p
, setter_p);

1141 
	}
}

1149 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1150 
	$ecma_is_¥›îty_wrôabÀ
 (
ecma_¥›îty_t
 
¥›îty
)

1152 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1153 || 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_VIRTUAL
);

1155  (
¥›îty
 & 
ECMA_PROPERTY_FLAG_WRITABLE
) != 0;

1156 
	}
}

1162 
	$ecma_£t_¥›îty_wrôabÀ_©å
 (
ecma_¥›îty_t
 *
¥›îty_p
,

1163 
boﬁ
 
is_wrôabÀ
)

1165 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
);

1167 i‡(
is_wrôabÀ
)

1169 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞| 
ECMA_PROPERTY_FLAG_WRITABLE
);

1173 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞& ~
ECMA_PROPERTY_FLAG_WRITABLE
);

1175 
	}
}

1183 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1184 
	$ecma_is_¥›îty_íumîabÀ
 (
ecma_¥›îty_t
 
¥›îty
)

1186 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1187 || 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR


1188 || 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_VIRTUAL
);

1190  (
¥›îty
 & 
ECMA_PROPERTY_FLAG_ENUMERABLE
) != 0;

1191 
	}
}

1197 
	$ecma_£t_¥›îty_íumîabÀ_©å
 (
ecma_¥›îty_t
 *
¥›îty_p
,

1198 
boﬁ
 
is_íumîabÀ
)

1200 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1201 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

1203 i‡(
is_íumîabÀ
)

1205 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞| 
ECMA_PROPERTY_FLAG_ENUMERABLE
);

1209 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞& ~
ECMA_PROPERTY_FLAG_ENUMERABLE
);

1211 
	}
}

1219 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1220 
	$ecma_is_¥›îty_c⁄figuøbÀ
 (
ecma_¥›îty_t
 
¥›îty
)

1222 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1223 || 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR


1224 || 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_VIRTUAL
);

1226  (
¥›îty
 & 
ECMA_PROPERTY_FLAG_CONFIGURABLE
) != 0;

1227 
	}
}

1233 
	$ecma_£t_¥›îty_c⁄figuøbÀ_©å
 (
ecma_¥›îty_t
 *
¥›îty_p
,

1234 
boﬁ
 
is_c⁄figuøbÀ
)

1236 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1237 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

1239 i‡(
is_c⁄figuøbÀ
)

1241 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞| 
ECMA_PROPERTY_FLAG_CONFIGURABLE
);

1245 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞& ~
ECMA_PROPERTY_FLAG_CONFIGURABLE
);

1247 
	}
}

1254 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1255 
	$ecma_is_¥›îty_lˇched
 (
ecma_¥›îty_t
 *
¥›îty_p
)

1257 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1258 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

1260  (*
¥›îty_p
 & 
ECMA_PROPERTY_FLAG_LCACHED
) != 0;

1261 
	}
}

1266 
ölöe
 
__©å_Æways_ölöe___


1267 
	$ecma_£t_¥›îty_lˇched
 (
ecma_¥›îty_t
 *
¥›îty_p
,

1268 
boﬁ
 
is_lˇched
)

1270 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1271 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

1273 i‡(
is_lˇched
)

1275 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞| 
ECMA_PROPERTY_FLAG_LCACHED
);

1279 *
¥›îty_p
 = (
uöt8_t
Ë(*¥›îty_∞& ~
ECMA_PROPERTY_FLAG_LCACHED
);

1281 
	}
}

1287 
ecma_¥›îty_des¸ùt‹_t


1288 
	$ecma_make_em±y_¥›îty_des¸ùt‹
 ()

1290 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
;

1292 
¥›_desc
.
is_vÆue_deföed
 = 
Ál£
;

1293 
¥›_desc
.
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1294 
¥›_desc
.
is_wrôabÀ_deföed
 = 
Ál£
;

1295 
¥›_desc
.
is_wrôabÀ
 = 
Ál£
;

1296 
¥›_desc
.
is_íumîabÀ_deföed
 = 
Ál£
;

1297 
¥›_desc
.
is_íumîabÀ
 = 
Ál£
;

1298 
¥›_desc
.
is_c⁄figuøbÀ_deföed
 = 
Ál£
;

1299 
¥›_desc
.
is_c⁄figuøbÀ
 = 
Ál£
;

1300 
¥›_desc
.
is_gë_deföed
 = 
Ál£
;

1301 
¥›_desc
.
gë_p
 = 
NULL
;

1302 
¥›_desc
.
is_£t_deföed
 = 
Ál£
;

1303 
¥›_desc
.
£t_p
 = 
NULL
;

1305  
¥›_desc
;

1306 
	}
}

1313 
	$ecma_‰ì_¥›îty_des¸ùt‹
 (
ecma_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
)

1315 i‡(
¥›_desc_p
->
is_vÆue_deföed
)

1317 
	`ecma_‰ì_vÆue
 (
¥›_desc_p
->
vÆue
);

1320 i‡(
¥›_desc_p
->
is_gë_deföed


1321 && 
¥›_desc_p
->
gë_p
 !
NULL
)

1323 
	`ecma_dîef_obje˘
 (
¥›_desc_p
->
gë_p
);

1326 i‡(
¥›_desc_p
->
is_£t_deföed


1327 && 
¥›_desc_p
->
£t_p
 !
NULL
)

1329 
	`ecma_dîef_obje˘
 (
¥›_desc_p
->
£t_p
);

1332 *
¥›_desc_p
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

1333 
	}
}

1340 
	$ecma_byãcode_ªf
 (
ecma_compûed_code_t
 *
byãcode_p
)

1343 i‡(
byãcode_p
->
ªfs
 >
UINT16_MAX
)

1345 
	`jîry_Áèl
 (
ERR_REF_COUNT_LIMIT
);

1348 
byãcode_p
->
ªfs
++;

1349 
	}
}

1356 
	$ecma_byãcode_dîef
 (
ecma_compûed_code_t
 *
byãcode_p
)

1358 
	`JERRY_ASSERT
 (
byãcode_p
->
ªfs
 > 0);

1360 
byãcode_p
->
ªfs
--;

1362 i‡(
byãcode_p
->
ªfs
 > 0)

1368 i‡(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FUNCTION
)

1370 
jmem_˝oöãr_t
 *
lôîÆ_°¨t_p
 = 
NULL
;

1371 
uöt32_t
 
lôîÆ_íd
;

1372 
uöt32_t
 
c⁄°_lôîÆ_íd
;

1374 i‡(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

1376 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_p
;

1377 
lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(
byã_p
 +  (
cbc_uöt16_¨gumíts_t
));

1379 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byãcode_p
;

1380 
lôîÆ_íd
 = 
¨gs_p
->literal_end;

1381 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

1385 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_p
;

1386 
lôîÆ_°¨t_p
 = (
jmem_˝oöãr_t
 *Ë(
byã_p
 +  (
cbc_uöt8_¨gumíts_t
));

1388 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byãcode_p
;

1389 
lôîÆ_íd
 = 
¨gs_p
->literal_end;

1390 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

1393 
uöt32_t
 
i
 = 
c⁄°_lôîÆ_íd
; i < 
lôîÆ_íd
; i++)

1395 
jmem_˝oöãr_t
 
byãcode_˝oöãr
 = 
lôîÆ_°¨t_p
[
i
];

1396 
ecma_compûed_code_t
 *
byãcode_lôîÆ_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_compiled_code_t,

1397 
byãcode_˝oöãr
);

1400 i‡(
byãcode_lôîÆ_p
 !
byãcode_p
)

1402 
	`ecma_byãcode_dîef
 (
byãcode_lôîÆ_p
);

1406 #ifde‡
JERRY_DEBUGGER


1407 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1408 && !(
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_DEBUGGER_IGNORE
)

1409 && 
	`jîry_debuggî_£nd_fun˘i⁄_˝
 (
JERRY_DEBUGGER_RELEASE_BYTE_CODE_CP
, 
byãcode_p
))

1414 
jîry_debuggî_byã_code_‰ì_t
 *
byã_code_‰ì_p
 = (jîry_debuggî_byã_code_‰ì_à*Ë
byãcode_p
;

1415 
jmem_˝oöãr_t
 
byã_code_‰ì_hód
 = 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_hód
);

1417 
byã_code_‰ì_p
->
¥ev_˝
 = 
ECMA_NULL_POINTER
;

1419 
jmem_˝oöãr_t
 
byã_code_‰ì_˝
;

1420 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
byã_code_‰ì_˝
, 
byã_code_‰ì_p
);

1422 i‡(
byã_code_‰ì_hód
 =
ECMA_NULL_POINTER
)

1424 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_èû
Ë
byã_code_‰ì_˝
;

1428 
jîry_debuggî_byã_code_‰ì_t
 *
fú°_byã_code_‰ì_p
;

1430 
fú°_byã_code_‰ì_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (
jîry_debuggî_byã_code_‰ì_t
,

1431 
byã_code_‰ì_hód
);

1432 
fú°_byã_code_‰ì_p
->
¥ev_˝
 = 
byã_code_‰ì_˝
;

1435 
	`JERRY_CONTEXT
 (
debuggî_byã_code_‰ì_hód
Ë
byã_code_‰ì_˝
;

1440 #ifde‡
JMEM_STATS


1441 
	`jmem_°©s_‰ì_byã_code_byãs
 (((
size_t
Ë
byãcode_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
);

1446 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


1447 
ª_compûed_code_t
 *
ª_byãcode_p
 = (ª_compûed_code_à*Ë
byãcode_p
;

1449 
	`ecma_dîef_ecma_°rög
 (
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_°rög_t
, 
ª_byãcode_p
->
∑âîn_˝
));

1453 
	`jmem_hóp_‰ì_block
 (
byãcode_p
,

1454 ((
size_t
Ë
byãcode_p
->
size
Ë<< 
JMEM_ALIGNMENT_LOG
);

1455 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-helpers.h

16 #i‚de‡
ECMA_HELPERS_H


17 
	#ECMA_HELPERS_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"jmem.h
"

21 
	~"lô-°rögs.h
"

22 
	~"jmem-c⁄fig.h
"

23 
	~"jmem-¥ofûî.h
"

35 
	#ECMA_GET_NON_NULL_POINTER
(
ty≥
, 
fõld
Ë
	`JMEM_CP_GET_NON_NULL_POINTER
 (ty≥, fõld)

	)

40 
	#ECMA_GET_POINTER
(
ty≥
, 
fõld
Ë
	`JMEM_CP_GET_POINTER
 (ty≥, fõld)

	)

46 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


47 
	#ECMA_SET_NON_NULL_POINTER
(
fõld
, 
n⁄_com¥es£d_poöãr
) \

48 
	`¥ofûe_öc_cou¡_of_a_ty≥
(3); \

49 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
fõld
, 
n⁄_com¥es£d_poöãr
)

	)

51 
	#ECMA_SET_NON_NULL_POINTER
(
fõld
, 
n⁄_com¥es£d_poöãr
Ë
	`JMEM_CP_SET_NON_NULL_POINTER
 (field, \

52 
n⁄_com¥es£d_poöãr
)

	)

59 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


60 
	#ECMA_SET_POINTER
(
fõld
, 
n⁄_com¥es£d_poöãr
) \

61 
	`¥ofûe_öc_cou¡_of_a_ty≥
(6); \

62 
	`JMEM_CP_SET_POINTER
 (
fõld
, 
n⁄_com¥es£d_poöãr
)

	)

64 
	#ECMA_SET_POINTER
(
fõld
, 
n⁄_com¥es£d_poöãr
) \

65 
	`JMEM_CP_SET_POINTER
 (
fõld
, 
n⁄_com¥es£d_poöãr
)

	)

71 
	#ECMA_STRING_TO_UTF8_STRING
(
ecma_°r_±r
, \

72 
utf8_±r
, \

73 
utf8_°r_size
) \

74 
lô_utf8_size_t
 
utf8_°r_size
; \

75 
boﬁ
 
utf8_±r
 ## 
mu°_be_‰ìd
; \

76 c⁄° 
lô_utf8_byã_t
 *
utf8_±r
 = 
	`ecma_°rög_øw_ch¨s
 (
ecma_°r_±r
, &
utf8_°r_size
, &utf8_±∏## 
mu°_be_‰ìd
); \

77 
utf8_±r
 ## 
mu°_be_‰ìd
 = 
Ál£
; \

79 i‡(
utf8_±r
 =
NULL
) \

81 
utf8_±r
 = (c⁄° 
lô_utf8_byã_t
 *Ë
	`jmem_hóp_Æloc_block
 (
utf8_°r_size
); \

82 
	`ecma_°rög_to_utf8_byãs
 (
ecma_°r_±r
, (
lô_utf8_byã_t
 *Ë
utf8_±r
, 
utf8_°r_size
); \

83 
utf8_±r
 ## 
mu°_be_‰ìd
 = 
åue
; \

84 }

	)

86 #ifde‡
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY


91 
	#ECMA_SET_INTERNAL_VALUE_POINTER
(
fõld
, 
poöãr
) \

92 (
fõld
Ë((
ecma_vÆue_t
Ë
poöãr
)

	)

97 
	#ECMA_GET_INTERNAL_VALUE_POINTER
(
ty≥
, 
fõld
) \

98 ((
ty≥
 *Ë
fõld
)

	)

106 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


107 
	#ECMA_SET_INTERNAL_VALUE_POINTER
(
fõld
, 
n⁄_com¥es£d_poöãr
) \

108 
	`¥ofûe_öc_cou¡_of_a_ty≥
(4); \

109 
	`ECMA_SET_NON_NULL_POINTER
 (
fõld
, 
n⁄_com¥es£d_poöãr
)

	)

111 
	#ECMA_SET_INTERNAL_VALUE_POINTER
(
fõld
, 
n⁄_com¥es£d_poöãr
) \

112 
	`ECMA_SET_NON_NULL_POINTER
 (
fõld
, 
n⁄_com¥es£d_poöãr
)

	)

118 
	#ECMA_GET_INTERNAL_VALUE_POINTER
(
ty≥
, 
fõld
) \

119 
	`ECMA_GET_POINTER
 (
ty≥
, 
fõld
)

	)

126 
	#ECMA_FINALIZE_UTF8_STRING
(
utf8_±r
, \

127 
utf8_°r_size
) \

128 i‡(
utf8_±r
 ## 
mu°_be_‰ìd
) \

130 
	`JERRY_ASSERT
 (
utf8_±r
 !
NULL
); \

131 
	`jmem_hóp_‰ì_block
 ((*Ë
utf8_±r
, 
utf8_°r_size
); \

132 }

	)

135 
boﬁ
 
	$ecma_is_vÆue_dúe˘
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

136 
boﬁ
 
	$ecma_is_vÆue_sim∂e
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

137 
boﬁ
 
	$ecma_is_vÆue_em±y
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

138 
boﬁ
 
	$ecma_is_vÆue_undeföed
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

139 
boﬁ
 
	$ecma_is_vÆue_nuŒ
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

140 
boﬁ
 
	$ecma_is_vÆue_boﬁón
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

141 
boﬁ
 
	$ecma_is_vÆue_åue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

142 
boﬁ
 
	$ecma_is_vÆue_Ál£
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

143 
boﬁ
 
	$ecma_is_vÆue_found
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

144 
boﬁ
 
	$ecma_is_vÆue_¨øy_hﬁe
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

146 
boﬁ
 
	$ecma_is_vÆue_öãgî_numbî
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

147 
boﬁ
 
	$ecma_¨e_vÆues_öãgî_numbîs
 (
ecma_vÆue_t
 
fú°_vÆue
,Écma_vÆue_à
£c⁄d_vÆue
Ë
__©å_c⁄°___
;

148 
boﬁ
 
	$ecma_is_vÆue_Êﬂt_numbî
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

149 
boﬁ
 
	$ecma_is_vÆue_numbî
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

150 
boﬁ
 
	$ecma_is_vÆue_°rög
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

151 
boﬁ
 
	$ecma_is_vÆue_obje˘
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

153 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
ecma_vÆue_t
 
vÆue
);

155 
ecma_vÆue_t
 
	$ecma_make_sim∂e_vÆue
 (c⁄° 
ecma_sim∂e_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

156 
ecma_vÆue_t
 
	$ecma_make_boﬁón_vÆue
 (
boﬁ
 
boﬁón_vÆue
Ë
__©å_c⁄°___
;

157 
ecma_vÆue_t
 
	$ecma_make_öãgî_vÆue
 (
ecma_öãgî_vÆue_t
 
öãgî_vÆue
Ë
__©å_c⁄°___
;

158 
ecma_vÆue_t
 
	`ecma_make_«n_vÆue
 ();

159 
ecma_vÆue_t
 
	`ecma_make_numbî_vÆue
 (
ecma_numbî_t
 
ecma_numbî
);

160 
ecma_vÆue_t
 
	`ecma_make_öt32_vÆue
 (
öt32_t
 
öt32_numbî
);

161 
ecma_vÆue_t
 
	`ecma_make_uöt32_vÆue
 (
uöt32_t
 
uöt32_numbî
);

162 
ecma_vÆue_t
 
	$ecma_make_°rög_vÆue
 (c⁄° 
ecma_°rög_t
 *
ecma_°rög_p
Ë
__©å_puª___
;

163 
ecma_vÆue_t
 
	$ecma_make_obje˘_vÆue
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

164 
ecma_vÆue_t
 
	$ecma_make_îr‹_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

165 
ecma_vÆue_t
 
	$ecma_make_îr‹_obj_vÆue
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

166 
ecma_öãgî_vÆue_t
 
	$ecma_gë_öãgî_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

167 
ecma_numbî_t
 
	$ecma_gë_Êﬂt_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_puª___
;

168 
ecma_numbî_t
 
	$ecma_gë_numbî_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_puª___
;

169 
ecma_°rög_t
 *
	$ecma_gë_°rög_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_puª___
;

170 
ecma_obje˘_t
 *
	$ecma_gë_obje˘_‰om_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_puª___
;

171 
ecma_vÆue_t
 
	$ecma_gë_vÆue_‰om_îr‹_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

172 
ecma_vÆue_t
 
	$ecma_övît_boﬁón_vÆue
 (
ecma_vÆue_t
 
vÆue
Ë
__©å_c⁄°___
;

173 
ecma_vÆue_t
 
	`ecma_c›y_vÆue
 (ecma_vÆue_à
vÆue
);

174 
ecma_vÆue_t
 
	`ecma_Á°_c›y_vÆue
 (ecma_vÆue_à
vÆue
);

175 
ecma_vÆue_t
 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (ecma_vÆue_à
vÆue
);

176 
ecma_vÆue_t
 
	`ecma_upd©e_Êﬂt_numbî
 (ecma_vÆue_à
Êﬂt_vÆue
, 
ecma_numbî_t
 
√w_numbî
);

177 
	`ecma_vÆue_assign_vÆue
 (
ecma_vÆue_t
 *
vÆue_p
,Écma_vÆue_à
ecma_vÆue
);

178 
	`ecma_vÆue_assign_numbî
 (
ecma_vÆue_t
 *
vÆue_p
, 
ecma_numbî_t
 
ecma_numbî
);

179 
	`ecma_‰ì_vÆue
 (
ecma_vÆue_t
 
vÆue
);

180 
	`ecma_Á°_‰ì_vÆue
 (
ecma_vÆue_t
 
vÆue
);

181 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (
ecma_vÆue_t
 
vÆue
);

184 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
, 
lô_utf8_size_t
 
°rög_size
);

185 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_utf8_c⁄vîãd_to_˚su8
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

186 
lô_utf8_size_t
 
°rög_size
);

187 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_code_unô
 (
ecma_ch¨_t
 
code_unô
);

188 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
uöt32_t
 
uöt32_numbî
);

189 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_numbî
 (
ecma_numbî_t
 
num
);

190 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
lô_magic_°rög_id_t
 
id
);

191 
ecma_°rög_t
 *
	`ecma_√w_ecma_°rög_‰om_magic_°rög_ex_id
 (
lô_magic_°rög_ex_id_t
 
id
);

192 
ecma_°rög_t
 *
	`ecma_√w_ecma_Àngth_°rög
 ();

193 
ecma_°rög_t
 *
	`ecma_c⁄ˇt_ecma_°rögs
 (ecma_°rög_à*
°rög1_p
,Écma_°rög_à*
°rög2_p
);

194 
	`ecma_ªf_ecma_°rög
 (
ecma_°rög_t
 *
°rög_p
);

195 
	`ecma_dîef_ecma_°rög
 (
ecma_°rög_t
 *
°rög_p
);

196 
ecma_numbî_t
 
	`ecma_°rög_to_numbî
 (c⁄° 
ecma_°rög_t
 *
°r_p
);

197 
uöt32_t
 
	`ecma_°rög_gë_¨øy_ödex
 (c⁄° 
ecma_°rög_t
 *
°r_p
);

199 
lô_utf8_size_t
 
__©å_ªtu∫_vÆue_should_be_checked___


200 
	`ecma_°rög_c›y_to_˚su8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

201 
lô_utf8_byã_t
 *
buf„r_p
,

202 
lô_utf8_size_t
 
buf„r_size
);

203 
lô_utf8_size_t
 
__©å_ªtu∫_vÆue_should_be_checked___


204 
	`ecma_°rög_c›y_to_utf8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

205 
lô_utf8_byã_t
 *
buf„r_p
,

206 
lô_utf8_size_t
 
buf„r_size
);

207 
lô_utf8_size_t


208 
	`ecma_sub°rög_c›y_to_˚su8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

209 
ecma_Àngth_t
 
°¨t_pos
,

210 
ecma_Àngth_t
 
íd_pos
,

211 
lô_utf8_byã_t
 *
buf„r_p
,

212 
lô_utf8_size_t
 
buf„r_size
);

213 
lô_utf8_size_t


214 
	`ecma_sub°rög_c›y_to_utf8_buf„r
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
,

215 
ecma_Àngth_t
 
°¨t_pos
,

216 
ecma_Àngth_t
 
íd_pos
,

217 
lô_utf8_byã_t
 *
buf„r_p
,

218 
lô_utf8_size_t
 
buf„r_size
);

219 
	`ecma_°rög_to_utf8_byãs
 (c⁄° 
ecma_°rög_t
 *
°rög_desc_p
, 
lô_utf8_byã_t
 *
buf„r_p
,

220 
lô_utf8_size_t
 
buf„r_size
);

221 c⁄° 
lô_utf8_byã_t
 *
	`ecma_°rög_øw_ch¨s
 (c⁄° 
ecma_°rög_t
 *
°rög_p
, 
lô_utf8_size_t
 *
size_p
, 
boﬁ
 *
is_ascii_p
);

222 
	`ecma_öô_ecma_°rög_‰om_uöt32
 (
ecma_°rög_t
 *
°rög_desc_p
, 
uöt32_t
 
uöt32_numbî
);

223 
	`ecma_öô_ecma_Àngth_°rög
 (
ecma_°rög_t
 *
°rög_desc_p
);

224 
	`ecma_öô_ecma_magic_°rög
 (
ecma_°rög_t
 *
°rög_desc_p
, 
lô_magic_°rög_id_t
 
id
);

225 
boﬁ
 
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (c⁄° 
ecma_°rög_t
 *
°rög_p
, 
lô_magic_°rög_id_t
 
id
);

226 
boﬁ
 
	`ecma_°rög_is_em±y
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

227 
boﬁ
 
	`ecma_°rög_is_Àngth
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

229 
jmem_˝oöãr_t
 
	`ecma_°rög_to_¥›îty_«me
 (
ecma_°rög_t
 *
¥›_«me_p
, 
ecma_¥›îty_t
 *
«me_ty≥_p
);

230 
ecma_°rög_t
 *
	`ecma_°rög_‰om_¥›îty_«me
 (
ecma_¥›îty_t
 
¥›îty
, 
jmem_˝oöãr_t
 
¥›_«me_˝
);

231 
lô_°rög_hash_t
 
	`ecma_°rög_gë_¥›îty_«me_hash
 (
ecma_¥›îty_t
 
¥›îty
, 
jmem_˝oöãr_t
 
¥›_«me_˝
);

232 
uöt32_t
 
	`ecma_°rög_gë_¥›îty_ödex
 (
ecma_¥›îty_t
 
¥›îty
, 
jmem_˝oöãr_t
 
¥›_«me_˝
);

233 
boﬁ
 
	`ecma_°rög_com∑ª_to_¥›îty_«me
 (
ecma_¥›îty_t
 
¥›îty
, 
jmem_˝oöãr_t
 
¥›_«me_˝
,

234 c⁄° 
ecma_°rög_t
 *
°rög_p
);

236 
boﬁ
 
	`ecma_com∑ª_ecma_°rögs
 (c⁄° 
ecma_°rög_t
 *
°rög1_p
, c⁄°Écma_°rög_à*
°rög2_p
);

237 
boﬁ
 
	`ecma_com∑ª_ecma_°rögs_ªœti⁄Æ
 (c⁄° 
ecma_°rög_t
 *
°rög1_p
, c⁄°Écma_°rög_à*
°rög2_p
);

238 
ecma_Àngth_t
 
	`ecma_°rög_gë_Àngth
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

239 
ecma_Àngth_t
 
	`ecma_°rög_gë_utf8_Àngth
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

240 
lô_utf8_size_t
 
	`ecma_°rög_gë_size
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

241 
lô_utf8_size_t
 
	`ecma_°rög_gë_utf8_size
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

242 
ecma_ch¨_t
 
	`ecma_°rög_gë_ch¨_©_pos
 (c⁄° 
ecma_°rög_t
 *
°rög_p
, 
ecma_Àngth_t
 
ödex
);

244 
ecma_°rög_t
 *
	`ecma_gë_magic_°rög
 (
lô_magic_°rög_id_t
 
id
);

245 
ecma_°rög_t
 *
	`ecma_gë_magic_°rög_ex
 (
lô_magic_°rög_ex_id_t
 
id
);

246 
lô_magic_°rög_id_t
 
	`ecma_gë_°rög_magic
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

248 
lô_°rög_hash_t
 
	`ecma_°rög_hash
 (c⁄° 
ecma_°rög_t
 *
°rög_p
);

249 
ecma_°rög_t
 *
	`ecma_°rög_sub°r
 (c⁄°Écma_°rög_à*
°rög_p
, 
ecma_Àngth_t
 
°¨t_pos
,Écma_Àngth_à
íd_pos
);

250 
ecma_°rög_t
 *
	`ecma_°rög_åim
 (c⁄°Écma_°rög_à*
°rög_p
);

253 
ecma_numbî_t
 
	`ecma_numbî_make_«n
 ();

254 
ecma_numbî_t
 
	`ecma_numbî_make_öföôy
 (
boﬁ
 
sign
);

255 
boﬁ
 
	`ecma_numbî_is_«n
 (
ecma_numbî_t
 
num
);

256 
boﬁ
 
	`ecma_numbî_is_√g©ive
 (
ecma_numbî_t
 
num
);

257 
boﬁ
 
	`ecma_numbî_is_zîo
 (
ecma_numbî_t
 
num
);

258 
boﬁ
 
	`ecma_numbî_is_öföôy
 (
ecma_numbî_t
 
num
);

259 
öt32_t


260 
	`ecma_numbî_gë_‰a˘i⁄_™d_exp⁄ít
 (
ecma_numbî_t
 
num
, 
uöt64_t
 *
out_‰a˘i⁄_p
, 
öt32_t
 *
out_exp⁄ít_p
);

261 
ecma_numbî_t


262 
	`ecma_numbî_make_n‹mÆ_posôive_‰om_‰a˘i⁄_™d_exp⁄ít
 (
uöt64_t
 
‰a˘i⁄
, 
öt32_t
 
exp⁄ít
);

263 
ecma_numbî_t


264 
	`ecma_numbî_make_‰om_sign_m™tisß_™d_exp⁄ít
 (
boﬁ
 
sign
, 
uöt64_t
 
m™tisß
, 
öt32_t
 
exp⁄ít
);

265 
ecma_numbî_t
 
	`ecma_numbî_gë_¥ev
 (ecma_numbî_à
num
);

266 
ecma_numbî_t
 
	`ecma_numbî_gë_√xt
 (ecma_numbî_à
num
);

267 
ecma_numbî_t
 
	`ecma_numbî_√g©e
 (ecma_numbî_à
num
);

268 
ecma_numbî_t
 
	`ecma_numbî_åunc
 (ecma_numbî_à
num
);

269 
ecma_numbî_t
 
	`ecma_numbî_ˇlc_ªmaödî
 (ecma_numbî_à
À·_num
,Écma_numbî_à
right_num
);

270 
ecma_numbî_t
 
	`ecma_numbî_add
 (ecma_numbî_à
À·_num
,Écma_numbî_à
right_num
);

271 
ecma_numbî_t
 
	`ecma_numbî_sub°ø˘
 (ecma_numbî_à
À·_num
,Écma_numbî_à
right_num
);

272 
ecma_numbî_t
 
	`ecma_numbî_mu…ùly
 (ecma_numbî_à
À·_num
,Écma_numbî_à
right_num
);

273 
ecma_numbî_t
 
	`ecma_numbî_divide
 (ecma_numbî_à
À·_num
,Écma_numbî_à
right_num
);

274 
lô_utf8_size_t
 
	`ecma_numbî_to_decimÆ
 (
ecma_numbî_t
 
num
, 
lô_utf8_byã_t
 *
out_digôs_p
, 
öt32_t
 *
out_decimÆ_exp_p
);

275 
lô_utf8_size_t
 
	`ecma_numbî_to_bö¨y_Êﬂtög_poöt_numbî
 (
ecma_numbî_t
 
num
,

276 
lô_utf8_byã_t
 *
out_digôs_p
,

277 
öt32_t
 *
out_decimÆ_exp_p
);

280 
ecma_cﬁÀ˘i⁄_hódî_t
 *
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (c⁄° 
ecma_vÆue_t
 
vÆues_buf„r
[], 
ecma_Àngth_t
 
vÆues_numbî
,

281 
boﬁ
 
do_ªf_if_obje˘
);

282 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
, 
boﬁ
 
do_dîef_if_obje˘
);

283 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
, 
ecma_vÆue_t
 
v
, 
boﬁ
 
do_ªf_if_obje˘
);

284 
	`ecma_ªmove_œ°_vÆue_‰om_vÆues_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
);

285 
ecma_cﬁÀ˘i⁄_hódî_t
 *
	`ecma_√w_°rögs_cﬁÀ˘i⁄
 (
ecma_°rög_t
 *
°rög_±rs_buf„r
[],

286 
ecma_Àngth_t
 
°rögs_numbî
);

293 
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
;

294 
jmem_˝oöãr_t
 
√xt_chunk_˝
;

295 
ecma_Àngth_t
 
cuºít_ödex
;

296 c⁄° 
ecma_vÆue_t
 *
cuºít_vÆue_p
;

297 c⁄° 
ecma_vÆue_t
 *
cuºít_chunk_beg_p
;

298 c⁄° 
ecma_vÆue_t
 *
cuºít_chunk_íd_p
;

299 } 
	tecma_cﬁÀ˘i⁄_ôî©‹_t
;

302 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (
ecma_cﬁÀ˘i⁄_ôî©‹_t
 *
ôî©‹_p
, 
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_p
);

303 
boﬁ


304 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (
ecma_cﬁÀ˘i⁄_ôî©‹_t
 *
ôî©‹_p
);

307 
ecma_obje˘_t
 *
	`ecma_¸óã_obje˘
 (ecma_obje˘_à*
¥ŸŸy≥_obje˘_p
, 
size_t
 
ext_obje˘_size
, 
ecma_obje˘_ty≥_t
 
ty≥
);

308 
ecma_obje˘_t
 *
	`ecma_¸óã_de˛_Àx_ív
 (ecma_obje˘_à*
ouãr_Àxiˇl_ívú⁄mít_p
);

309 
ecma_obje˘_t
 *
	`ecma_¸óã_obje˘_Àx_ív
 (ecma_obje˘_à*
ouãr_Àxiˇl_ívú⁄mít_p
,Écma_obje˘_à*
bödög_obj_p
,

310 
boﬁ
 
¥ovide_this
);

311 
boﬁ
 
	$ecma_is_Àxiˇl_ívú⁄mít
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

312 
boﬁ
 
	$ecma_gë_obje˘_exãnsibÀ
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

313 
	`ecma_£t_obje˘_exãnsibÀ
 (
ecma_obje˘_t
 *
obje˘_p
, 
boﬁ
 
is_exãnsibÀ
);

314 
ecma_obje˘_ty≥_t
 
	$ecma_gë_obje˘_ty≥
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

315 
ecma_obje˘_t
 *
	$ecma_gë_obje˘_¥ŸŸy≥
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

316 
boﬁ
 
	$ecma_gë_obje˘_is_buûtö
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

317 
	`ecma_£t_obje˘_is_buûtö
 (
ecma_obje˘_t
 *
obje˘_p
);

318 
uöt8_t
 
	`ecma_gë_obje˘_buûtö_id
 (
ecma_obje˘_t
 *
obje˘_p
);

319 
ecma_Àxiˇl_ívú⁄mít_ty≥_t
 
	$ecma_gë_Àx_ív_ty≥
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

320 
ecma_obje˘_t
 *
	$ecma_gë_Àx_ív_ouãr_ª„ªn˚
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

321 
ecma_¥›îty_hódî_t
 *
	$ecma_gë_¥›îty_li°
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

322 
ecma_obje˘_t
 *
	$ecma_gë_Àx_ív_bödög_obje˘
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

323 
boﬁ
 
	$ecma_gë_Àx_ív_¥ovide_this
 (c⁄° 
ecma_obje˘_t
 *
obje˘_p
Ë
__©å_puª___
;

325 
ecma_¥›îty_vÆue_t
 *

326 
	`ecma_¸óã_«med_d©a_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
«me_p
, 
uöt8_t
 
¥›_©åibuãs
,

327 
ecma_¥›îty_t
 **
out_¥›_p
);

328 
ecma_¥›îty_vÆue_t
 *

329 
	`ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
«me_p
,Écma_obje˘_à*
gë_p
,

330 
ecma_obje˘_t
 *
£t_p
, 
uöt8_t
 
¥›_©åibuãs
, 
ecma_¥›îty_t
 **
out_¥›_p
);

331 
ecma_¥›îty_t
 *

332 
	`ecma_föd_«med_¥›îty
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_°rög_t
 *
«me_p
);

333 
ecma_¥›îty_vÆue_t
 *

334 
	`ecma_gë_«med_d©a_¥›îty
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_°rög_t
 *
«me_p
);

336 
	`ecma_‰ì_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
jmem_˝oöãr_t
 
«me_˝
, 
ecma_¥›îty_t
 *
¥›îty_p
);

338 
	`ecma_dñëe_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
);

339 
uöt32_t
 
	`ecma_dñëe_¨øy_¥›îtõs
 (
ecma_obje˘_t
 *
obje˘_p
, uöt32_à
√w_Àngth
, uöt32_à
ﬁd_Àngth
);

341 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

342 
ecma_vÆue_t
 
vÆue
);

344 
ecma_obje˘_t
 *
	`ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (c⁄° 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
);

345 
ecma_obje˘_t
 *
	`ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (c⁄° 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
);

346 
	`ecma_£t_«med_ac˚ss‹_¥›îty_gëãr
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

347 
ecma_obje˘_t
 *
gëãr_p
);

348 
	`ecma_£t_«med_ac˚ss‹_¥›îty_£âî
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
,

349 
ecma_obje˘_t
 *
£âî_p
);

350 
boﬁ
 
	`ecma_is_¥›îty_wrôabÀ
 (
ecma_¥›îty_t
 
¥›îty
);

351 
	`ecma_£t_¥›îty_wrôabÀ_©å
 (
ecma_¥›îty_t
 *
¥›îty_p
, 
boﬁ
 
is_wrôabÀ
);

352 
boﬁ
 
	`ecma_is_¥›îty_íumîabÀ
 (
ecma_¥›îty_t
 
¥›îty
);

353 
	`ecma_£t_¥›îty_íumîabÀ_©å
 (
ecma_¥›îty_t
 *
¥›îty_p
, 
boﬁ
 
is_íumîabÀ
);

354 
boﬁ
 
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
ecma_¥›îty_t
 
¥›îty
);

355 
	`ecma_£t_¥›îty_c⁄figuøbÀ_©å
 (
ecma_¥›îty_t
 *
¥›îty_p
, 
boﬁ
 
is_c⁄figuøbÀ
);

357 
boﬁ
 
	`ecma_is_¥›îty_lˇched
 (
ecma_¥›îty_t
 *
¥›îty_p
);

358 
	`ecma_£t_¥›îty_lˇched
 (
ecma_¥›îty_t
 *
¥›îty_p
, 
boﬁ
 
is_lˇched
);

360 
ecma_¥›îty_des¸ùt‹_t
 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

361 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (
ecma_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
);

363 
ecma_¥›îty_t
 *
	`ecma_gë_√xt_¥›îty_∑ú
 (
ecma_¥›îty_∑ú_t
 *);

365 
	`ecma_byãcode_ªf
 (
ecma_compûed_code_t
 *
byãcode_p
);

366 
	`ecma_byãcode_dîef
 (
ecma_compûed_code_t
 *
byãcode_p
);

369 
boﬁ
 
	`ecma_¸óã_«tive_h™dÀ_¥›îty
 (
ecma_obje˘_t
 *
obj_p
, *
h™dÀ_p
, *
‰ì_cb
);

370 
boﬁ
 
	`ecma_¸óã_«tive_poöãr_¥›îty
 (
ecma_obje˘_t
 *
obj_p
, *
«tive_p
, *
öfo_p
);

371 
ecma_«tive_poöãr_t
 *
	`ecma_gë_«tive_poöãr_vÆue
 (
ecma_obje˘_t
 *
obj_p
, 
lô_magic_°rög_id_t
 
id
);

372 
	`ecma_‰ì_«tive_poöãr
 (
ecma_¥›îty_t
 *
¥›_p
);

375 
ecma_numbî_t
 
	`ecma_utf8_°rög_to_numbî
 (c⁄° 
lô_utf8_byã_t
 *
°r_p
, 
lô_utf8_size_t
 
°r_size
);

376 
lô_utf8_size_t
 
	`ecma_uöt32_to_utf8_°rög
 (
uöt32_t
 
vÆue
, 
lô_utf8_byã_t
 *
out_buf„r_p
,Üô_utf8_size_à
buf„r_size
);

377 
uöt32_t
 
	`ecma_numbî_to_uöt32
 (
ecma_numbî_t
 
num
);

378 
öt32_t
 
	`ecma_numbî_to_öt32
 (
ecma_numbî_t
 
num
);

379 
lô_utf8_size_t
 
	`ecma_numbî_to_utf8_°rög
 (
ecma_numbî_t
 
num
, 
lô_utf8_byã_t
 *
buf„r_p
,Üô_utf8_size_à
buf„r_size
);

382 
lô_utf8_size_t
 
	`ecma_îrﬁ0_dtﬂ
 (
vÆ
, 
lô_utf8_byã_t
 *
buf„r_p
, 
öt32_t
 *
exp_p
);

	@deps/jerry/jerry-core/ecma/base/ecma-init-finalize.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-gc.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-öô-föÆize.h
"

20 
	~"ecma-lˇche.h
"

21 
	~"ecma-Àx-ív.h
"

22 
	~"ecma-lôîÆ-°‹age.h
"

23 
	~"jmem.h
"

24 
	~"jc⁄ãxt.h
"

37 
	$ecma_öô
 ()

39 
	`ecma_lˇche_öô
 ();

40 
	`ecma_öô_globÆ_Àx_ív
 ();

42 
	`jmem_ªgi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
ecma_‰ì_unu£d_mem‹y
);

44 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


45 
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
Ë
ECMA_PROP_HASHMAP_ALLOC_ON
;

46 
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_œ°_is_hs_gc
Ë
Ál£
;

49 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


50 
	`ecma_job_queue_öô
 ();

52 
	}
}

58 
	$ecma_föÆize
 ()

60 
	`jmem_uƒegi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
ecma_‰ì_unu£d_mem‹y
);

62 
	`ecma_föÆize_globÆ_Àx_ív
 ();

63 
	`ecma_föÆize_buûtös
 ();

64 
	`ecma_gc_run
 (
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
);

65 
	`ecma_föÆize_lô_°‹age
 ();

66 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-init-finalize.h

16 #i‚de‡
ECMA_INIT_FINALIZE_H


17 
	#ECMA_INIT_FINALIZE_H


	)

26 
ecma_öô
 ();

27 
ecma_föÆize
 ();

	@deps/jerry/jerry-core/ecma/base/ecma-lcache.c

16 
	~"ecma-gc.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-lˇche.h
"

20 
	~"jc⁄ãxt.h
"

29 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


34 
	#ECMA_LCACHE_HASH_MASK
 (
ECMA_LCACHE_HASH_ROWS_COUNT
 - 1)

	)

42 
	$ecma_lˇche_öô
 ()

44 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


45 
	`mem£t
 (
	`JERRY_HASH_TABLE_CONTEXT
 (
èbÀ
), 0,  (
jîry_hash_èbÀ_t
));

47 
	}
}

49 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


53 
ölöe
 
__©å_Æways_ölöe___


54 
	$ecma_lˇche_övÆid©e_íåy
 (
ecma_lˇche_hash_íåy_t
 *
íåy_p
)

56 
	`JERRY_ASSERT
 (
íåy_p
 !
NULL
);

57 
	`JERRY_ASSERT
 (
íåy_p
->
obje˘_˝
 !
ECMA_NULL_POINTER
);

58 
	`JERRY_ASSERT
 (
íåy_p
->
¥›_p
 !
NULL
);

60 
íåy_p
->
obje˘_˝
 = 
ECMA_NULL_POINTER
;

61 
	`ecma_£t_¥›îty_lˇched
 (
íåy_p
->
¥›_p
, 
Ál£
);

62 
	}
}

69 
ölöe
 
size_t
 
__©å_Æways_ölöe___


70 
	$ecma_lˇche_row_ödex
 (
jmem_˝oöãr_t
 
obje˘_˝
,

71 
lô_°rög_hash_t
 
«me_hash
)

75  (
size_t
Ë((
«me_hash
 ^ 
obje˘_˝
Ë& 
ECMA_LCACHE_HASH_MASK
);

76 
	}
}

83 
	$ecma_lˇche_ö£π
 (
ecma_obje˘_t
 *
obje˘_p
,

84 
jmem_˝oöãr_t
 
«me_˝
,

85 
ecma_¥›îty_t
 *
¥›_p
)

87 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

88 
	`JERRY_ASSERT
 (
¥›_p
 !
NULL
 && !
	`ecma_is_¥›îty_lˇched
 (prop_p));

89 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


90 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

92 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


93 
jmem_˝oöãr_t
 
obje˘_˝
;

95 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


96 
	`¥ofûe_öc_cou¡_of_a_ty≥
(13);

98 
	`ECMA_SET_NON_NULL_POINTER
 (
obje˘_˝
, 
obje˘_p
);

100 
lô_°rög_hash_t
 
«me_hash
 = 
	`ecma_°rög_gë_¥›îty_«me_hash
 (*
¥›_p
, 
«me_˝
);

101 
size_t
 
row_ödex
 = 
	`ecma_lˇche_row_ödex
 (
obje˘_˝
, 
«me_hash
);

102 
ecma_lˇche_hash_íåy_t
 *
íåõs_p
 = 
	`JERRY_HASH_TABLE_CONTEXT
 (
èbÀ
)[
row_ödex
];

104 
uöt32_t
 
íåy_ödex
;

105 
íåy_ödex
 = 0;É¡ry_ödex < 
ECMA_LCACHE_HASH_ROW_LENGTH
;Éntry_index++)

107 i‡(
íåõs_p
[
íåy_ödex
].
obje˘_˝
 =
ECMA_NULL_POINTER
)

113 i‡(
íåy_ödex
 =
ECMA_LCACHE_HASH_ROW_LENGTH
)

116 
	`ecma_lˇche_övÆid©e_íåy
 (
íåõs_p
 + 
ECMA_LCACHE_HASH_ROW_LENGTH
 - 1);

119 
uöt32_t
 
i
 = 
ECMA_LCACHE_HASH_ROW_LENGTH
 - 1; i > 0; i--)

121 
íåõs_p
[
i
] =Éntries_p[i - 1];

124 
íåy_ödex
 = 0;

127 
ecma_lˇche_hash_íåy_t
 *
íåy_p
 = 
íåõs_p
 + 
íåy_ödex
;

128 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


129 
	`¥ofûe_öc_cou¡_of_a_ty≥
(13);

131 
	`ECMA_SET_NON_NULL_POINTER
 (
íåy_p
->
obje˘_˝
, 
obje˘_p
);

132 
íåy_p
->
¥›_«me_˝
 = 
«me_˝
;

133 
íåy_p
->
¥›_p
 =Örop_p;

135 
	`ecma_£t_¥›îty_lˇched
 (
íåy_p
->
¥›_p
, 
åue
);

137 
	`JERRY_UNUSED
 (
«me_˝
);

139 
	}
}

141 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


148 
ölöe
 
jmem_˝oöãr_t
 
__©å_Æways_ölöe___


149 
	$ecma_°rög_to_lˇche_¥›îty_«me
 (c⁄° 
ecma_°rög_t
 *
¥›_«me_p
,

150 
ecma_¥›îty_t
 *
«me_ty≥_p
)

152 
ecma_°rög_c⁄èöî_t
 
c⁄èöî
 = 
	`ECMA_STRING_GET_CONTAINER
 (
¥›_«me_p
);

154 
c⁄èöî
)

156 
ECMA_STRING_CONTAINER_UINT32_IN_DESC
:

157 
ECMA_STRING_CONTAINER_MAGIC_STRING
:

158 
ECMA_STRING_CONTAINER_MAGIC_STRING_EX
:

160 #ifde‡
JERRY_CPOINTER_32_BIT


162 *
«me_ty≥_p
 = (
ecma_¥›îty_t
Ë
c⁄èöî
;

163  (
jmem_˝oöãr_t
Ë
¥›_«me_p
->
u
.
uöt32_numbî
;

167 i‡(
¥›_«me_p
->
u
.
uöt32_numbî
 < (
UINT16_MAX
 + 1))

169 *
«me_ty≥_p
 = (
ecma_¥›îty_t
Ë
c⁄èöî
;

170  (
jmem_˝oöãr_t
Ë
¥›_«me_p
->
u
.
uöt32_numbî
;

183 *
«me_ty≥_p
 = 
ECMA_PROPERTY_NAME_TYPE_STRING
;

185 
jmem_˝oöãr_t
 
¥›_«me_˝
;

186 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


187 
	`¥ofûe_öc_cou¡_of_a_ty≥
(14);

189 
	`ECMA_SET_NON_NULL_POINTER
 (
¥›_«me_˝
, 
¥›_«me_p
);

190  
¥›_«me_˝
;

191 
	}
}

201 
ölöe
 
ecma_¥›îty_t
 * 
__©å_Æways_ölöe___


202 
	$ecma_lˇche_lookup
 (
ecma_obje˘_t
 *
obje˘_p
,

203 c⁄° 
ecma_°rög_t
 *
¥›_«me_p
)

205 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

206 
	`JERRY_ASSERT
 (
¥›_«me_p
 !
NULL
);

208 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


209 
jmem_˝oöãr_t
 
obje˘_˝
;

210 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


211 
	`¥ofûe_öc_cou¡_of_a_ty≥
(15);

213 
	`ECMA_SET_NON_NULL_POINTER
 (
obje˘_˝
, 
obje˘_p
);

215 
size_t
 
row_ödex
 = 
	`ecma_lˇche_row_ödex
 (
obje˘_˝
, 
	`ecma_°rög_hash
 (
¥›_«me_p
));

216 
ecma_lˇche_hash_íåy_t
 *
íåy_p
 = 
	`JERRY_HASH_TABLE_CONTEXT
 (
èbÀ
Ë[
row_ödex
];

217 
ecma_lˇche_hash_íåy_t
 *
íåy_íd_p
 = 
íåy_p
 + 
ECMA_LCACHE_HASH_ROW_LENGTH
;

219 
ecma_¥›îty_t
 
¥›_«me_ty≥
;

220 
jmem_˝oöãr_t
 
¥›_«me_˝
 = 
	`ecma_°rög_to_lˇche_¥›îty_«me
 (
¥›_«me_p
, &
¥›_«me_ty≥
);

222 
íåy_p
 < 
íåy_íd_p
)

224 i‡(
íåy_p
->
obje˘_˝
 == object_cp

225 && 
íåy_p
->
¥›_«me_˝
 ==Örop_name_cp)

227 
ecma_¥›îty_t
 *
¥›_p
 = 
íåy_p
->prop_p;

229 
	`JERRY_ASSERT
 (
¥›_p
 !
NULL
 && 
	`ecma_is_¥›îty_lˇched
 (prop_p));

231 i‡(
	`ECMA_PROPERTY_GET_NAME_TYPE
 (*
¥›_p
Ë=
¥›_«me_ty≥
)

233  
¥›_p
;

241 
íåy_p
++;

245  
NULL
;

246 
	}
}

252 
	$ecma_lˇche_övÆid©e
 (
ecma_obje˘_t
 *
obje˘_p
,

253 
jmem_˝oöãr_t
 
«me_˝
,

254 
ecma_¥›îty_t
 *
¥›_p
)

256 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL
);

257 
	`JERRY_ASSERT
 (
¥›_p
 !
NULL
 && 
	`ecma_is_¥›îty_lˇched
 (prop_p));

258 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


259 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

261 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


262 
jmem_˝oöãr_t
 
obje˘_˝
;

263 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


264 
	`¥ofûe_öc_cou¡_of_a_ty≥
(16);

266 
	`ECMA_SET_NON_NULL_POINTER
 (
obje˘_˝
, 
obje˘_p
);

268 
lô_°rög_hash_t
 
«me_hash
 = 
	`ecma_°rög_gë_¥›îty_«me_hash
 (*
¥›_p
, 
«me_˝
);

269 
size_t
 
row_ödex
 = 
	`ecma_lˇche_row_ödex
 (
obje˘_˝
, 
«me_hash
);

270 
ecma_lˇche_hash_íåy_t
 *
íåy_p
 = 
	`JERRY_HASH_TABLE_CONTEXT
 (
èbÀ
Ë[
row_ödex
];

272 
uöt32_t
 
íåy_ödex
 = 0;É¡ry_ödex < 
ECMA_LCACHE_HASH_ROW_LENGTH
;Éntry_index++)

274 i‡(
íåy_p
->
obje˘_˝
 !
ECMA_NULL_POINTER
 &&É¡ry_p->
¥›_p
 ==Örop_p)

276 
	`JERRY_ASSERT
 (
íåy_p
->
obje˘_˝
 == object_cp);

278 
	`ecma_lˇche_övÆid©e_íåy
 (
íåy_p
);

281 
íåy_p
++;

285 
	`JERRY_UNREACHABLE
 ();

287 
	`JERRY_UNUSED
 (
«me_˝
);

289 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-lcache.h

16 #i‚de‡
ECMA_LCACHE_H


17 
	#ECMA_LCACHE_H


	)

26 
ecma_lˇche_öô
 ();

27 
ecma_lˇche_ö£π
 (
ecma_obje˘_t
 *
obje˘_p
, 
jmem_˝oöãr_t
 
«me_˝
, 
ecma_¥›îty_t
 *
¥›_p
);

28 
ecma_¥›îty_t
 *
ecma_lˇche_lookup
 (
ecma_obje˘_t
 *
obje˘_p
, c⁄° 
ecma_°rög_t
 *
¥›_«me_p
);

29 
ecma_lˇche_övÆid©e
 (
ecma_obje˘_t
 *
obje˘_p
, 
jmem_˝oöãr_t
 
«me_˝
, 
ecma_¥›îty_t
 *
¥›_p
);

	@deps/jerry/jerry-core/ecma/base/ecma-literal-storage.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-lôîÆ-°‹age.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"jc⁄ãxt.h
"

32 
	$ecma_‰ì_°rög_li°
 (
ecma_lô_°‹age_ôem_t
 *
°rög_li°_p
)

34 
°rög_li°_p
 !
NULL
)

36 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

38 i‡(
°rög_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

40 
ecma_°rög_t
 *
°rög_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

41 
°rög_li°_p
->
vÆues
[
i
]);

43 
	`JERRY_ASSERT
 (
	`ECMA_STRING_IS_REF_EQUALS_TO_ONE
 (
°rög_p
));

44 
	`ecma_dîef_ecma_°rög
 (
°rög_p
);

48 
ecma_lô_°‹age_ôem_t
 *
¥ev_ôem
 = 
°rög_li°_p
;

49 
°rög_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
, såög_li°_p->
√xt_˝
);

50 
	`jmem_poﬁs_‰ì
 (
¥ev_ôem
,  (
ecma_lô_°‹age_ôem_t
));

52 
	}
}

58 
	$ecma_föÆize_lô_°‹age
 ()

60 
	`ecma_‰ì_°rög_li°
 (
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
));

61 
	`ecma_‰ì_°rög_li°
 (
	`JERRY_CONTEXT
 (
numbî_li°_fú°_p
));

62 
	}
}

69 
jmem_˝oöãr_t


70 
	$ecma_föd_‹_¸óã_lôîÆ_°rög
 (c⁄° 
lô_utf8_byã_t
 *
ch¨s_p
,

71 
lô_utf8_size_t
 
size
)

73 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ch¨s_p
, 
size
);

75 
ecma_lô_°‹age_ôem_t
 *
°rög_li°_p
 = 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
);

76 
jmem_˝oöãr_t
 *
em±y_˝oöãr_p
 = 
NULL
;

78 
°rög_li°_p
 !
NULL
)

80 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

82 i‡(
°rög_li°_p
->
vÆues
[
i
] =
JMEM_CP_NULL
)

84 i‡(
em±y_˝oöãr_p
 =
NULL
)

86 
em±y_˝oöãr_p
 = 
°rög_li°_p
->
vÆues
 + 
i
;

91 
ecma_°rög_t
 *
vÆue_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

92 
°rög_li°_p
->
vÆues
[
i
]);

94 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
°rög_p
, 
vÆue_p
))

97 
	`ecma_dîef_ecma_°rög
 (
°rög_p
);

98  
°rög_li°_p
->
vÆues
[
i
];

103 
°rög_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
, såög_li°_p->
√xt_˝
);

106 
jmem_˝oöãr_t
 
ªsu…
;

107 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
ªsu…
, 
°rög_p
);

109 i‡(
em±y_˝oöãr_p
 !
NULL
)

111 *
em±y_˝oöãr_p
 = 
ªsu…
;

112  
ªsu…
;

115 
ecma_lô_°‹age_ôem_t
 *
√w_ôem_p
;

116 
√w_ôem_p
 = (
ecma_lô_°‹age_ôem_t
 *Ë
	`jmem_poﬁs_Æloc
 ( (ecma_lit_storage_item_t));

118 
√w_ôem_p
->
vÆues
[0] = 
ªsu…
;

119 
i
 = 1; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

121 
√w_ôem_p
->
vÆues
[
i
] = 
JMEM_CP_NULL
;

124 
	`JMEM_CP_SET_POINTER
 (
√w_ôem_p
->
√xt_˝
, 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
));

125 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
Ë
√w_ôem_p
;

127  
ªsu…
;

128 
	}
}

135 
jmem_˝oöãr_t


136 
	$ecma_föd_‹_¸óã_lôîÆ_numbî
 (
ecma_numbî_t
 
numbî_¨g
)

138 
ecma_vÆue_t
 
num
 = 
	`ecma_make_numbî_vÆue
 (
numbî_¨g
);

140 
ecma_lô_°‹age_ôem_t
 *
numbî_li°_p
 = 
	`JERRY_CONTEXT
 (
numbî_li°_fú°_p
);

141 
jmem_˝oöãr_t
 *
em±y_˝oöãr_p
 = 
NULL
;

143 
numbî_li°_p
 !
NULL
)

145 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

147 i‡(
numbî_li°_p
->
vÆues
[
i
] =
JMEM_CP_NULL
)

149 i‡(
em±y_˝oöãr_p
 =
NULL
)

151 
em±y_˝oöãr_p
 = 
numbî_li°_p
->
vÆues
 + 
i
;

156 
ecma_°rög_t
 *
vÆue_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

157 
numbî_li°_p
->
vÆues
[
i
]);

159 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
vÆue_p
Ë=
ECMA_STRING_LITERAL_NUMBER
);

161 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
num
))

163 i‡(
vÆue_p
->
u
.
lô_numbî
 =
num
)

165  
numbî_li°_p
->
vÆues
[
i
];

170 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
vÆue_p
->
u
.
lô_numbî
)

171 && 
	`ecma_gë_Êﬂt_‰om_vÆue
 (
vÆue_p
->
u
.
lô_numbî
Ë=ecma_gë_Êﬂt_‰om_vÆuê(
num
))

173 
	`ecma_‰ì_vÆue
 (
num
);

174  
numbî_li°_p
->
vÆues
[
i
];

180 
numbî_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
,Çumbî_li°_p->
√xt_˝
);

183 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_Æloc_°rög
 ();

184 
°rög_p
->
ªfs_™d_c⁄èöî
 = 
ECMA_STRING_REF_ONE
 | 
ECMA_STRING_LITERAL_NUMBER
;

185 
°rög_p
->
u
.
lô_numbî
 = 
num
;

187 
jmem_˝oöãr_t
 
ªsu…
;

188 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
ªsu…
, 
°rög_p
);

190 i‡(
em±y_˝oöãr_p
 !
NULL
)

192 *
em±y_˝oöãr_p
 = 
ªsu…
;

193  
ªsu…
;

196 
ecma_lô_°‹age_ôem_t
 *
√w_ôem_p
;

197 
√w_ôem_p
 = (
ecma_lô_°‹age_ôem_t
 *Ë
	`jmem_poﬁs_Æloc
 ( (ecma_lit_storage_item_t));

199 
√w_ôem_p
->
vÆues
[0] = 
ªsu…
;

200 
i
 = 1; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

202 
√w_ôem_p
->
vÆues
[
i
] = 
JMEM_CP_NULL
;

205 
	`JMEM_CP_SET_POINTER
 (
√w_ôem_p
->
√xt_˝
, 
	`JERRY_CONTEXT
 (
numbî_li°_fú°_p
));

206 
	`JERRY_CONTEXT
 (
numbî_li°_fú°_p
Ë
√w_ôem_p
;

208  
ªsu…
;

209 
	}
}

214 
	#JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
 2

	)

219 
	#JERRY_SNAPSHOT_LITERAL_ALIGNMENT
 (1u << 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
)

	)

221 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


229 
boﬁ


230 
	$ecma_ßve_lôîÆs_f‹_¢≠shŸ
 (
uöt32_t
 *
buf„r_p
,

231 
size_t
 
buf„r_size
,

232 
size_t
 *
ö_out_buf„r_off£t_p
,

233 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 **
out_m≠_p
,

236 
uöt32_t
 *
out_m≠_Àn_p
,

237 
uöt32_t
 *
out_lô_èbÀ_size_p
)

240 
uöt32_t
 
°rög_cou¡
 = 0;

241 
uöt32_t
 
numbî_cou¡
 = 0;

242 
uöt32_t
 
lô_èbÀ_size
 = 2 *  (uint32_t);

244 
ecma_lô_°‹age_ôem_t
 *
°rög_li°_p
 = 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
);

246 
°rög_li°_p
 !
NULL
)

248 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

250 i‡(
°rög_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

252 
ecma_°rög_t
 *
°rög_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

253 
°rög_li°_p
->
vÆues
[
i
]);

255 
lô_èbÀ_size
 +(
uöt32_t
Ë
	`JERRY_ALIGNUP
 ( (
uöt16_t
Ë+ 
	`ecma_°rög_gë_size
 (
°rög_p
),

256 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
);

257 
°rög_cou¡
++;

261 
°rög_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
, såög_li°_p->
√xt_˝
);

264 
ecma_lô_°‹age_ôem_t
 *
numbî_li°_p
 = 
	`JERRY_CONTEXT
 (
numbî_li°_fú°_p
);

266 
numbî_li°_p
 !
NULL
)

268 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

270 i‡(
numbî_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

272 
lô_èbÀ_size
 +(
uöt32_t
Ë (
ecma_numbî_t
);

273 
numbî_cou¡
++;

277 
numbî_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
,Çumbî_li°_p->
√xt_˝
);

281 i‡(*
ö_out_buf„r_off£t_p
 + 
lô_èbÀ_size
 > 
buf„r_size
)

283  
Ál£
;

287 i‡((
lô_èbÀ_size
 >> 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
Ë> 
UINT16_MAX
)

289  
Ál£
;

292 
uöt32_t
 
tŸÆ_cou¡
 = 
°rög_cou¡
 + 
numbî_cou¡
;

293 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
m≠_p
;

295 
m≠_p
 = 
	`jmem_hóp_Æloc_block
 (
tŸÆ_cou¡
 *  (
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
));

298 
	`JERRY_ASSERT
 ((*
ö_out_buf„r_off£t_p
 %  (
uöt32_t
)) == 0);

299 
buf„r_p
 +*
ö_out_buf„r_off£t_p
 /  (
uöt32_t
);

300 *
ö_out_buf„r_off£t_p
 +
lô_èbÀ_size
;

301 *
out_m≠_p
 = 
m≠_p
;

302 *
out_m≠_Àn_p
 = 
tŸÆ_cou¡
;

303 *
out_lô_èbÀ_size_p
 = 
lô_èbÀ_size
;

309 
uöt32_t
 
lôîÆ_off£t
 = 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
;

311 
buf„r_p
[0] = 
°rög_cou¡
;

312 
buf„r_p
[1] = 
numbî_cou¡
;

313 
buf„r_p
 += 2;

315 
°rög_li°_p
 = 
	`JERRY_CONTEXT
 (
°rög_li°_fú°_p
);

317 
uöt16_t
 *
de°ö©i⁄_p
 = (uöt16_à*Ë
buf„r_p
;

319 
°rög_li°_p
 !
NULL
)

321 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

323 i‡(
°rög_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

325 
m≠_p
->
lôîÆ_id
 = 
°rög_li°_p
->
vÆues
[
i
];

326 
m≠_p
->
lôîÆ_off£t
 = (
jmem_˝oöãr_t
Ë÷ôîÆ_off£à>> 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
);

327 
m≠_p
++;

329 
ecma_°rög_t
 *
°rög_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

330 
°rög_li°_p
->
vÆues
[
i
]);

332 
ecma_Àngth_t
 
Àngth
 = 
	`ecma_°rög_gë_size
 (
°rög_p
);

334 *
de°ö©i⁄_p
 = (
uöt16_t
Ë
Àngth
;

335 
	`ecma_°rög_to_utf8_byãs
 (
°rög_p
, ((
lô_utf8_byã_t
 *Ë
de°ö©i⁄_p
Ë+  (
uöt16_t
), 
Àngth
);

337 
Àngth
 = 
	`JERRY_ALIGNUP
 ( (
uöt16_t
) +Üength,

338 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
);

340 
	`JERRY_ASSERT
 ((
Àngth
 %  (
uöt16_t
)) == 0);

341 
de°ö©i⁄_p
 +
Àngth
 /  (
uöt16_t
);

342 
lôîÆ_off£t
 +
Àngth
;

346 
°rög_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
, såög_li°_p->
√xt_˝
);

349 
numbî_li°_p
 = 
	`JERRY_CONTEXT
 (
numbî_li°_fú°_p
);

351 
numbî_li°_p
 !
NULL
)

353 
i
 = 0; i < 
ECMA_LIT_STORAGE_VALUE_COUNT
; i++)

355 i‡(
numbî_li°_p
->
vÆues
[
i
] !
JMEM_CP_NULL
)

357 
m≠_p
->
lôîÆ_id
 = 
numbî_li°_p
->
vÆues
[
i
];

358 
m≠_p
->
lôîÆ_off£t
 = (
jmem_˝oöãr_t
Ë÷ôîÆ_off£à>> 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
);

359 
m≠_p
++;

361 
ecma_°rög_t
 *
vÆue_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

362 
numbî_li°_p
->
vÆues
[
i
]);

364 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
vÆue_p
Ë=
ECMA_STRING_LITERAL_NUMBER
);

366 
ecma_numbî_t
 
num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue_p
->
u
.
lô_numbî
);

367 
	`mem˝y
 (
de°ö©i⁄_p
, &
num
,  (
ecma_numbî_t
));

369 
ecma_Àngth_t
 
Àngth
 = 
	`JERRY_ALIGNUP
 ( (
ecma_numbî_t
),

370 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
);

372 
	`JERRY_ASSERT
 ((
Àngth
 %  (
uöt16_t
)) == 0);

373 
de°ö©i⁄_p
 +
Àngth
 /  (
uöt16_t
);

374 
lôîÆ_off£t
 +
Àngth
;

378 
numbî_li°_p
 = 
	`JMEM_CP_GET_POINTER
 (
ecma_lô_°‹age_ôem_t
,Çumbî_li°_p->
√xt_˝
);

381  
åue
;

382 
	}
}

386 #ifde‡
JERRY_ENABLE_SNAPSHOT_EXEC


396 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


397 
	$ecma_lﬂd_lôîÆs_‰om_buf„r
 (c⁄° 
uöt16_t
 *
buf„r_p
,

398 
uöt32_t
 
lô_èbÀ_size
,

399 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
m≠_p
,

400 
uöt32_t
 
°rög_cou¡
,

401 
uöt32_t
 
numbî_cou¡
)

405 
uöt32_t
 
lôîÆ_off£t
 = 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
;

408 
°rög_cou¡
 > 0)

410 i‡(
lô_èbÀ_size
 < 
lôîÆ_off£t
 +  (
uöt32_t
))

413  
Ál£
;

416 
lô_utf8_size_t
 
Àngth
 = *
buf„r_p
;

417 
lô_utf8_size_t
 
Æig√d_Àngth
 = 
	`JERRY_ALIGNUP
 ( (
uöt16_t
Ë+ 
Àngth
,

418 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
);

420 i‡(
lô_èbÀ_size
 < 
lôîÆ_off£t
 + 
Æig√d_Àngth
)

423  
Ál£
;

426 
m≠_p
->
lôîÆ_id
 = 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (((
lô_utf8_byã_t
 *Ë
buf„r_p
Ë+  (
uöt16_t
), 
Àngth
);

427 
m≠_p
->
lôîÆ_off£t
 = (
jmem_˝oöãr_t
Ë÷ôîÆ_off£à>> 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
);

428 
m≠_p
++;

430 
	`JERRY_ASSERT
 ((
Æig√d_Àngth
 %  (
uöt16_t
)) == 0);

431 
buf„r_p
 +
Æig√d_Àngth
 /  (
uöt16_t
);

432 
lôîÆ_off£t
 +
Æig√d_Àngth
;

434 
°rög_cou¡
--;

438 
numbî_cou¡
 > 0)

440 i‡(
lô_èbÀ_size
 < 
lôîÆ_off£t
 +  (
ecma_numbî_t
))

443  
Ál£
;

446 
ecma_numbî_t
 
num
;

447 
	`mem˝y
 (&
num
, 
buf„r_p
,  (
ecma_numbî_t
));

449 
m≠_p
->
lôîÆ_id
 = 
	`ecma_föd_‹_¸óã_lôîÆ_numbî
 (
num
);

450 
m≠_p
->
lôîÆ_off£t
 = (
jmem_˝oöãr_t
Ë÷ôîÆ_off£à>> 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT_LOG
);

451 
m≠_p
++;

453 
ecma_Àngth_t
 
Àngth
 = 
	`JERRY_ALIGNUP
 ( (
ecma_numbî_t
),

454 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
);

456 
	`JERRY_ASSERT
 ((
Àngth
 %  (
uöt16_t
)) == 0);

457 
buf„r_p
 +
Àngth
 /  (
uöt16_t
);

458 
lôîÆ_off£t
 +
Àngth
;

460 
numbî_cou¡
--;

463  (
lô_èbÀ_size
 =(
lôîÆ_off£t
 + 2 *  (
uöt32_t
Ë- 
JERRY_SNAPSHOT_LITERAL_ALIGNMENT
));

464 
	}
}

472 
boﬁ


473 
	$ecma_lﬂd_lôîÆs_‰om_¢≠shŸ
 (c⁄° 
uöt32_t
 *
buf„r_p
,

474 
uöt32_t
 
lô_èbÀ_size
,

475 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 **
out_m≠_p
,

479 
uöt32_t
 *
out_m≠_Àn_p
)

481 *
out_m≠_p
 = 
NULL
;

483 i‡(
lô_èbÀ_size
 < 2 *  (
uöt32_t
))

486  
Ál£
;

489 
uöt32_t
 
°rög_cou¡
 = 
buf„r_p
[0];

490 
uöt32_t
 
numbî_cou¡
 = 
buf„r_p
[1];

491 
buf„r_p
 += 2;

493 
uöt32_t
 
tŸÆ_cou¡
 = 
°rög_cou¡
 + 
numbî_cou¡
;

494 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 *
m≠_p
;

496 *
out_m≠_Àn_p
 = 
tŸÆ_cou¡
;

498 i‡(
tŸÆ_cou¡
 == 0)

500  
åue
;

503 
m≠_p
 = 
	`jmem_hóp_Æloc_block
 (
tŸÆ_cou¡
 *  (
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
));

504 *
out_m≠_p
 = 
m≠_p
;

506 i‡(
	`ecma_lﬂd_lôîÆs_‰om_buf„r
 ((
uöt16_t
 *Ë
buf„r_p
, 
lô_èbÀ_size
, 
m≠_p
, 
°rög_cou¡
, 
numbî_cou¡
))

508  
åue
;

511 
	`jmem_hóp_‰ì_block
 (
m≠_p
, 
tŸÆ_cou¡
 *  (
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
));

512 *
out_m≠_p
 = 
NULL
;

513  
Ál£
;

514 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-literal-storage.h

16 #i‚de‡
ECMA_LIT_STORAGE_H


17 
	#ECMA_LIT_STORAGE_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"jmem.h
"

21 
	~"lô-globÆs.h
"

35 
jmem_˝oöãr_t
 
	mlôîÆ_id
;

36 
jmem_˝oöãr_t
 
	mlôîÆ_off£t
;

37 } 
	tlô_mem_to_¢≠shŸ_id_m≠_íåy_t
;

39 
ecma_föÆize_lô_°‹age
 ();

41 
jmem_˝oöãr_t
 
ecma_föd_‹_¸óã_lôîÆ_°rög
 (c⁄° 
lô_utf8_byã_t
 *
ch¨s_p
, 
lô_utf8_size_t
 
size
);

42 
jmem_˝oöãr_t
 
ecma_föd_‹_¸óã_lôîÆ_numbî
 (
ecma_numbî_t
 
numbî_¨g
);

44 #ifde‡
JERRY_ENABLE_SNAPSHOT_SAVE


45 
boﬁ


46 
ecma_ßve_lôîÆs_f‹_¢≠shŸ
 (
uöt32_t
 *, 
size_t
, size_t *,

47 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 **, 
uöt32_t
 *, uint32_t *);

50 #ifde‡
JERRY_ENABLE_SNAPSHOT_EXEC


51 
boﬁ


52 
ecma_lﬂd_lôîÆs_‰om_¢≠shŸ
 (c⁄° 
uöt32_t
 *, uint32_t,

53 
lô_mem_to_¢≠shŸ_id_m≠_íåy_t
 **, 
uöt32_t
 *);

	@deps/jerry/jerry-core/ecma/base/ecma-property-hashmap.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-hñ≥rs.h
"

18 
	~"ecma-¥›îty-hashm≠.h
"

19 
	~"jπ-libc-ö˛udes.h
"

20 
	~"jc⁄ãxt.h
"

29 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


34 
	#ECMA_PROPERTY_HASHMAP_GET_TOTAL_SIZE
(
max_¥›îty_cou¡
) \

35 ( (
ecma_¥›îty_hashm≠_t
Ë+ (
max_¥›îty_cou¡
 *  (
jmem_˝oöãr_t
)Ë+ (max_¥›îty_cou¡ >> 3))

	)

40 
	#ECMA_PROPERTY_HASHMAP_NUMBER_OF_STEPS
 8

	)

45 c⁄° 
uöt8_t
 
	gecma_¥›îty_hashm≠_°ïs
[
ECMA_PROPERTY_HASHMAP_NUMBER_OF_STEPS
] 
	gJERRY_CONST_DATA
 =

53 
	#ECMA_PROPERTY_HASHMAP_GET_BIT
(
byã_p
, 
ödex
) \

54 ((
byã_p
)[(
ödex
Ë>> 3] & (1 << ((ödexË& 0x7)))

	)

59 
	#ECMA_PROPERTY_HASHMAP_CLEAR_BIT
(
byã_p
, 
ödex
) \

60 ((
byã_p
)[(
ödex
Ë>> 3] = (
uöt8_t
Ë((byã_p)[(ödexË>> 3] & ~(1 << ((ödexË& 0x7))))

	)

65 
	#ECMA_PROPERTY_HASHMAP_SET_BIT
(
byã_p
, 
ödex
) \

66 ((
byã_p
)[(
ödex
Ë>> 3] = (
uöt8_t
Ë((byã_p)[(ödexË>> 3] | (1 << ((ödexË& 0x7))))

	)

75 
	$ecma_¥›îty_hashm≠_¸óã
 (
ecma_obje˘_t
 *
obje˘_p
)

77 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


78 i‡(
	`JERRY_CONTEXT
 (
ecma_¥›_hashm≠_Æloc_°©e
Ë!
ECMA_PROP_HASHMAP_ALLOC_ON
)

83 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

85 i‡(
¥›_ôî_p
 =
NULL
)

90 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

92 
uöt32_t
 
«med_¥›îty_cou¡
 = 0;

94 
¥›_ôî_p
 !
NULL
)

96 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

98 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

100 
ecma_¥›îty_ty≥s_t
 
ty≥
 = 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›_ôî_p
->
ty≥s
[
i
]);

102 i‡(
ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA
 ||Åy≥ =
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

104 
«med_¥›îty_cou¡
++;

107 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

108 
¥›_ôî_p
->
√xt_¥›îty_˝
);

111 i‡(
«med_¥›îty_cou¡
 < (
ECMA_PROPERTY_HASMAP_MINIMUM_SIZE
 / 2))

117 
uöt32_t
 
max_¥›îty_cou¡
 = 
ECMA_PROPERTY_HASMAP_MINIMUM_SIZE
;

120 
max_¥›îty_cou¡
 < (
«med_¥›îty_cou¡
 + (named_property_count >> 1)))

122 
max_¥›îty_cou¡
 <<= 1;

125 
size_t
 
tŸÆ_size
 = 
	`ECMA_PROPERTY_HASHMAP_GET_TOTAL_SIZE
 (
max_¥›îty_cou¡
);

127 
ecma_¥›îty_hashm≠_t
 *
hashm≠_p
 = (ecma_¥›îty_hashm≠_à*Ë
	`jmem_hóp_Æloc_block_nuŒ_⁄_îr‹
 (
tŸÆ_size
);

129 i‡(
hashm≠_p
 =
NULL
)

134 
	`mem£t
 (
hashm≠_p
, 0, 
tŸÆ_size
);

136 
hashm≠_p
->
hódî
.
ty≥s
[0] = 
ECMA_PROPERTY_TYPE_HASHMAP
;

137 
hashm≠_p
->
hódî
.
ty≥s
[1] = 
ECMA_PROPERTY_TYPE_DELETED
;

138 
hashm≠_p
->
hódî
.
√xt_¥›îty_˝
 = 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
;

139 
hashm≠_p
->
max_¥›îty_cou¡
 = max_property_count;

140 
hashm≠_p
->
nuŒ_cou¡
 = 
max_¥›îty_cou¡
 - 
«med_¥›îty_cou¡
;

141 
hashm≠_p
->
unu£d_cou¡
 = 
max_¥›îty_cou¡
 - 
«med_¥›îty_cou¡
;

143 
jmem_˝oöãr_t
 *
∑ú_li°_p
 = (jmem_˝oöãr_à*Ë(
hashm≠_p
 + 1);

144 
uöt8_t
 *
bôs_p
 = (uöt8_à*Ë(
∑ú_li°_p
 + 
max_¥›îty_cou¡
);

145 
uöt32_t
 
mask
 = 
max_¥›îty_cou¡
 - 1;

147 
uöt8_t
 
shi·_cou¡î
 = 0;

149 i‡(
max_¥›îty_cou¡
 <
LIT_STRING_HASH_LIMIT
)

151 
hashm≠_p
->
hódî
.
ty≥s
[1] = 0;

155 
max_¥›îty_cou¡
 > 
LIT_STRING_HASH_LIMIT
)

157 
shi·_cou¡î
++;

158 
max_¥›îty_cou¡
 >>= 1;

162 
hashm≠_p
->
hódî
.
ty≥s
[1] = 
shi·_cou¡î
;

164 
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

165 
	`ECMA_SET_POINTER
 (
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
, 
hashm≠_p
);

167 
¥›_ôî_p
 !
NULL
)

169 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

171 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

173 i‡(!
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (
¥›_ôî_p
->
ty≥s
[
i
]))

178 
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
¥›_ôî_p
;

180 
uöt32_t
 
íåy_ödex
 = 
	`ecma_°rög_gë_¥›îty_«me_hash
 (
¥›_ôî_p
->
ty≥s
[
i
],

181 
¥›îty_∑ú_p
->
«mes_˝
[
i
]);

182 
uöt32_t
 
°ï
 = 
ecma_¥›îty_hashm≠_°ïs
[
íåy_ödex
 & (
ECMA_PROPERTY_HASHMAP_NUMBER_OF_STEPS
 - 1)];

184 i‡(
mask
 < 
LIT_STRING_HASH_LIMIT
)

186 
íåy_ödex
 &
mask
;

190 
íåy_ödex
 <<
shi·_cou¡î
;

191 
	`JERRY_ASSERT
 (
íåy_ödex
 <
mask
);

194 #i‚de‡
JERRY_NDEBUG


201 
uöt32_t
 
°¨t_íåy_ödex
 = 
íåy_ödex
;

204 
∑ú_li°_p
[
íåy_ödex
] !
ECMA_NULL_POINTER
)

206 
íåy_ödex
 = (íåy_ödex + 
°ï
Ë& 
mask
;

208 #i‚de‡
JERRY_NDEBUG


209 
	`JERRY_ASSERT
 (
íåy_ödex
 !
°¨t_íåy_ödex
);

213 
	`ECMA_SET_POINTER
 (
∑ú_li°_p
[
íåy_ödex
], 
¥›îty_∑ú_p
);

215 i‡(
i
 != 0)

217 
	`ECMA_PROPERTY_HASHMAP_SET_BIT
 (
bôs_p
, 
íåy_ödex
);

221 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

222 
¥›_ôî_p
->
√xt_¥›îty_˝
);

225 
	`JERRY_UNUSED
 (
obje˘_p
);

227 
	}
}

234 
	$ecma_¥›îty_hashm≠_‰ì
 (
ecma_obje˘_t
 *
obje˘_p
)

236 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


238 
ecma_¥›îty_hódî_t
 *
¥›îty_p
 = 
	`ecma_gë_¥›îty_li°
 (
obje˘_p
);

240 
	`JERRY_ASSERT
 (
¥›îty_p
 !
NULL
 &&Ör›îty_p->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
);

242 
ecma_¥›îty_hashm≠_t
 *
hashm≠_p
 = (ecma_¥›îty_hashm≠_à*Ë
¥›îty_p
;

244 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
 = 
¥›îty_p
->
√xt_¥›îty_˝
;

246 
	`jmem_hóp_‰ì_block
 (
hashm≠_p
,

247 
	`ECMA_PROPERTY_HASHMAP_GET_TOTAL_SIZE
 (
hashm≠_p
->
max_¥›îty_cou¡
));

249 
	`JERRY_UNUSED
 (
obje˘_p
);

251 
	}
}

257 
	$ecma_¥›îty_hashm≠_ö£π
 (
ecma_obje˘_t
 *
obje˘_p
,

258 
ecma_°rög_t
 *
«me_p
,

259 
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
,

260 
¥›îty_ödex
)

262 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


263 
ecma_¥›îty_hashm≠_t
 *
hashm≠_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_property_hashmap_t,

264 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
);

266 
	`JERRY_ASSERT
 (
hashm≠_p
->
hódî
.
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
);

269 i‡(
hashm≠_p
->
nuŒ_cou¡
 < (hashm≠_p->
max_¥›îty_cou¡
 >> 3))

271 
	`ecma_¥›îty_hashm≠_‰ì
 (
obje˘_p
);

272 
	`ecma_¥›îty_hashm≠_¸óã
 (
obje˘_p
);

276 
	`JERRY_ASSERT
 (
¥›îty_ödex
 < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
);

278 
uöt32_t
 
íåy_ödex
 = 
«me_p
->
hash
;

279 
uöt32_t
 
°ï
 = 
ecma_¥›îty_hashm≠_°ïs
[
íåy_ödex
 & (
ECMA_PROPERTY_HASHMAP_NUMBER_OF_STEPS
 - 1)];

280 
uöt32_t
 
mask
 = 
hashm≠_p
->
max_¥›îty_cou¡
 - 1;

282 i‡(
mask
 < 
LIT_STRING_HASH_LIMIT
)

284 
íåy_ödex
 &
mask
;

288 
íåy_ödex
 <<
hashm≠_p
->
hódî
.
ty≥s
[1];

291 #i‚de‡
JERRY_NDEBUG


293 
uöt32_t
 
°¨t_íåy_ödex
 = 
íåy_ödex
;

296 
jmem_˝oöãr_t
 *
∑ú_li°_p
 = (jmem_˝oöãr_à*Ë(
hashm≠_p
 + 1);

298 
∑ú_li°_p
[
íåy_ödex
] !
ECMA_NULL_POINTER
)

300 
íåy_ödex
 = (íåy_ödex + 
°ï
Ë& 
mask
;

302 #i‚de‡
JERRY_NDEBUG


303 
	`JERRY_ASSERT
 (
íåy_ödex
 !
°¨t_íåy_ödex
);

307 
	`ECMA_SET_POINTER
 (
∑ú_li°_p
[
íåy_ödex
], 
¥›îty_∑ú_p
);

309 
uöt8_t
 *
bôs_p
 = (uöt8_à*Ë(
∑ú_li°_p
 + 
hashm≠_p
->
max_¥›îty_cou¡
);

310 
bôs_p
 +(
íåy_ödex
 >> 3);

311 
mask
 = (
uöt32_t
Ë(1 << (
íåy_ödex
 & 0x7));

313 i‡(!(*
bôs_p
 & 
mask
))

317 
hashm≠_p
->
nuŒ_cou¡
--;

318 
	`JERRY_ASSERT
 (
hashm≠_p
->
nuŒ_cou¡
 > 0);

321 
hashm≠_p
->
unu£d_cou¡
--;

322 
	`JERRY_ASSERT
 (
hashm≠_p
->
unu£d_cou¡
 > 0);

324 i‡(
¥›îty_ödex
 == 0)

326 *
bôs_p
 = (
uöt8_t
Ë((*bôs_pË& ~
mask
);

330 *
bôs_p
 = (
uöt8_t
Ë((*bôs_pË| 
mask
);

333 
	`JERRY_UNUSED
 (
obje˘_p
);

334 
	`JERRY_UNUSED
 (
«me_p
);

335 
	`JERRY_UNUSED
 (
¥›îty_∑ú_p
);

336 
	`JERRY_UNUSED
 (
¥›îty_ödex
);

338 
	}
}

346 
ecma_¥›îty_hashm≠_dñëe_°©us


347 
	$ecma_¥›îty_hashm≠_dñëe
 (
ecma_obje˘_t
 *
obje˘_p
,

348 
jmem_˝oöãr_t
 
«me_˝
,

349 
ecma_¥›îty_t
 *
¥›îty_p
)

351 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


352 
ecma_¥›îty_hashm≠_t
 *
hashm≠_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_property_hashmap_t,

353 
obje˘_p
->
¥›îty_li°_‹_bound_obje˘_˝
);

355 
	`JERRY_ASSERT
 (
hashm≠_p
->
hódî
.
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
);

357 
hashm≠_p
->
unu£d_cou¡
++;

360 i‡(
hashm≠_p
->
unu£d_cou¡
 > ((hashm≠_p->
max_¥›îty_cou¡
 * 3) >> 2))

362  
ECMA_PROPERTY_HASHMAP_DELETE_RECREATE_HASHMAP
;

365 
uöt32_t
 
íåy_ödex
 = 
	`ecma_°rög_gë_¥›îty_«me_hash
 (*
¥›îty_p
, 
«me_˝
);

366 
uöt32_t
 
°ï
 = 
ecma_¥›îty_hashm≠_°ïs
[
íåy_ödex
 & (
ECMA_PROPERTY_HASHMAP_NUMBER_OF_STEPS
 - 1)];

367 
uöt32_t
 
mask
 = 
hashm≠_p
->
max_¥›îty_cou¡
 - 1;

368 
jmem_˝oöãr_t
 *
∑ú_li°_p
 = (jmem_˝oöãr_à*Ë(
hashm≠_p
 + 1);

369 
uöt8_t
 *
bôs_p
 = (uöt8_à*Ë(
∑ú_li°_p
 + 
hashm≠_p
->
max_¥›îty_cou¡
);

371 i‡(
mask
 < 
LIT_STRING_HASH_LIMIT
)

373 
íåy_ödex
 &
mask
;

377 
íåy_ödex
 <<
hashm≠_p
->
hódî
.
ty≥s
[1];

378 
	`JERRY_ASSERT
 (
íåy_ödex
 <
mask
);

381 #i‚de‡
JERRY_NDEBUG


383 
uöt32_t
 
°¨t_íåy_ödex
 = 
íåy_ödex
;

386 
åue
)

388 i‡(
∑ú_li°_p
[
íåy_ödex
] !
ECMA_NULL_POINTER
)

390 
size_t
 
off£t
 = 0;

392 i‡(
	`ECMA_PROPERTY_HASHMAP_GET_BIT
 (
bôs_p
, 
íåy_ödex
))

394 
off£t
 = 1;

397 
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_property_pair_t,

398 
∑ú_li°_p
[
íåy_ödex
]);

400 i‡((
¥›îty_∑ú_p
->
hódî
.
ty≥s
 + 
off£t
Ë=
¥›îty_p
)

402 
	`JERRY_ASSERT
 (
¥›îty_∑ú_p
->
«mes_˝
[
off£t
] =
«me_˝
);

404 
∑ú_li°_p
[
íåy_ödex
] = 
ECMA_NULL_POINTER
;

405 
	`ECMA_PROPERTY_HASHMAP_SET_BIT
 (
bôs_p
, 
íåy_ödex
);

406  
ECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
;

412 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_HASHMAP_GET_BIT
 (
bôs_p
, 
íåy_ödex
));

415 
íåy_ödex
 = (íåy_ödex + 
°ï
Ë& 
mask
;

417 #i‚de‡
JERRY_NDEBUG


418 
	`JERRY_ASSERT
 (
íåy_ödex
 !
°¨t_íåy_ödex
);

422 
	`JERRY_UNUSED
 (
obje˘_p
);

423 
	`JERRY_UNUSED
 (
«me_˝
);

424 
	`JERRY_UNUSED
 (
¥›îty_p
);

426  
ECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
;

427 
	}
}

429 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


435 
ecma_¥›îty_t
 *

436 
	$ecma_¥›îty_hashm≠_föd
 (
ecma_¥›îty_hashm≠_t
 *
hashm≠_p
,

437 
ecma_°rög_t
 *
«me_p
,

438 
jmem_˝oöãr_t
 *
¥›îty_ªÆ_«me_˝
)

440 #i‚de‡
JERRY_NDEBUG


445 
boﬁ
 
¥›îty_found
 = 
Ál£
;

446 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (ecma_property_header_t,

447 
hashm≠_p
->
hódî
.
√xt_¥›îty_˝
);

449 
¥›_ôî_p
 !
NULL
 && !
¥›îty_found
)

451 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

453 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
¥›_ôî_p
;

455 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

457 i‡(
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (
¥›_ôî_p
->
ty≥s
[
i
]))

459 i‡(
	`ecma_°rög_com∑ª_to_¥›îty_«me
 (
¥›_ôî_p
->
ty≥s
[
i
],

460 
¥›_∑ú_p
->
«mes_˝
[
i
],

461 
«me_p
))

463 
¥›îty_found
 = 
åue
;

469 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

470 
¥›_ôî_p
->
√xt_¥›îty_˝
);

474 
uöt32_t
 
íåy_ödex
 = 
«me_p
->
hash
;

475 
uöt32_t
 
°ï
 = 
ecma_¥›îty_hashm≠_°ïs
[
íåy_ödex
 & (
ECMA_PROPERTY_HASHMAP_NUMBER_OF_STEPS
 - 1)];

476 
uöt32_t
 
mask
 = 
hashm≠_p
->
max_¥›îty_cou¡
 - 1;

477 
jmem_˝oöãr_t
 *
∑ú_li°_p
 = (jmem_˝oöãr_à*Ë(
hashm≠_p
 + 1);

478 
uöt8_t
 *
bôs_p
 = (uöt8_à*Ë(
∑ú_li°_p
 + 
hashm≠_p
->
max_¥›îty_cou¡
);

480 i‡(
mask
 < 
LIT_STRING_HASH_LIMIT
)

482 
íåy_ödex
 &
mask
;

486 
íåy_ödex
 <<
hashm≠_p
->
hódî
.
ty≥s
[1];

487 
	`JERRY_ASSERT
 (
íåy_ödex
 <
mask
);

490 #i‚de‡
JERRY_NDEBUG


492 
uöt32_t
 
°¨t_íåy_ödex
 = 
íåy_ödex
;

495 
åue
)

497 i‡(
∑ú_li°_p
[
íåy_ödex
] !
ECMA_NULL_POINTER
)

499 
size_t
 
off£t
 = 0;

500 i‡(
	`ECMA_PROPERTY_HASHMAP_GET_BIT
 (
bôs_p
, 
íåy_ödex
))

502 
off£t
 = 1;

505 
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_property_pair_t,

506 
∑ú_li°_p
[
íåy_ödex
]);

508 
ecma_¥›îty_t
 *
¥›îty_p
 = 
¥›îty_∑ú_p
->
hódî
.
ty≥s
 + 
off£t
;

510 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_NAMED_PROPERTY
 (*
¥›îty_p
));

512 i‡(
	`ecma_°rög_com∑ª_to_¥›îty_«me
 (*
¥›îty_p
,

513 
¥›îty_∑ú_p
->
«mes_˝
[
off£t
],

514 
«me_p
))

516 #i‚de‡
JERRY_NDEBUG


517 
	`JERRY_ASSERT
 (
¥›îty_found
);

519 *
¥›îty_ªÆ_«me_˝
 = 
¥›îty_∑ú_p
->
«mes_˝
[
off£t
];

520  
¥›îty_p
;

525 i‡(!
	`ECMA_PROPERTY_HASHMAP_GET_BIT
 (
bôs_p
, 
íåy_ödex
))

527 #i‚de‡
JERRY_NDEBUG


528 
	`JERRY_ASSERT
 (!
¥›îty_found
);

530  
NULL
;

535 
íåy_ödex
 = (íåy_ödex + 
°ï
Ë& 
mask
;

537 #i‚de‡
JERRY_NDEBUG


538 
	`JERRY_ASSERT
 (
íåy_ödex
 !
°¨t_íåy_ödex
);

541 
	}
}

	@deps/jerry/jerry-core/ecma/base/ecma-property-hashmap.h

16 #i‚de‡
ECMA_PROPERTY_HASHMAP_H


17 
	#ECMA_PROPERTY_HASHMAP_H


	)

29 
	#ECMA_PROPERTY_HASMAP_MINIMUM_SIZE
 32

	)

36 
ecma_¥›îty_hódî_t
 
	mhódî
;

37 
uöt32_t
 
	mmax_¥›îty_cou¡
;

38 
uöt32_t
 
	mnuŒ_cou¡
;

39 
uöt32_t
 
	munu£d_cou¡
;

54 } 
	tecma_¥›îty_hashm≠_t
;

61 
	mECMA_PROPERTY_HASHMAP_DELETE_NO_HASHMAP
,

62 
	mECMA_PROPERTY_HASHMAP_DELETE_HAS_HASHMAP
,

63 
	mECMA_PROPERTY_HASHMAP_DELETE_RECREATE_HASHMAP
,

64 } 
	tecma_¥›îty_hashm≠_dñëe_°©us
;

66 
ecma_¥›îty_hashm≠_¸óã
 (
ecma_obje˘_t
 *
obje˘_p
);

67 
ecma_¥›îty_hashm≠_‰ì
 (
ecma_obje˘_t
 *
obje˘_p
);

68 
ecma_¥›îty_hashm≠_ö£π
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
«me_p
,

69 
ecma_¥›îty_∑ú_t
 *
¥›îty_∑ú_p
, 
¥›îty_ödex
);

70 
ecma_¥›îty_hashm≠_dñëe_°©us
 
ecma_¥›îty_hashm≠_dñëe
 (
ecma_obje˘_t
 *
obje˘_p
, 
jmem_˝oöãr_t
 
«me_˝
,

71 
ecma_¥›îty_t
 *
¥›îty_p
);

73 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


74 
ecma_¥›îty_t
 *
ecma_¥›îty_hashm≠_föd
 (
ecma_¥›îty_hashm≠_t
 *
hashm≠_p
, 
ecma_°rög_t
 *
«me_p
,

75 
jmem_˝oöãr_t
 *
¥›îty_ªÆ_«me_˝
);

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-com∑ris⁄.h
"

21 
	~"ecma-c⁄vîsi⁄.h
"

22 
	~"ecma-ex˚±i⁄s.h
"

23 
	~"ecma-fun˘i⁄-obje˘.h
"

24 
	~"ecma-gc.h
"

25 
	~"ecma-globÆs.h
"

26 
	~"ecma-hñ≥rs.h
"

27 
	~"ecma-obje˘s.h
"

28 
	~"ecma-°rög-obje˘.h
"

29 
	~"ecma-åy-ˇtch-ma¸o.h
"

30 
	~"jπ.h
"

32 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


34 
	#ECMA_BUILTINS_INTERNAL


	)

35 
	~"ecma-buûtös-öã∫Æ.h
"

37 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-¨øy-¥ŸŸy≥.öc.h"

	)

38 
	#BUILTIN_UNDERSCORED_ID
 
¨øy_¥ŸŸy≥


	)

39 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

57 
ecma_vÆue_t


58 
	$ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
ecma_obje˘_t
 *
obje˘
,

59 
ecma_numbî_t
 
Àngth
)

61 
ecma_vÆue_t
 
ªt_vÆue
;

62 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

64 
ecma_vÆue_t
 
Àngth_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
Àngth
);

65 
ªt_vÆue
 = 
	`ecma_›_obje˘_put
 (
obje˘
,

66 
magic_°rög_Àngth_p
,

67 
Àngth_vÆue
,

68 
åue
),

70 
	`ecma_‰ì_vÆue
 (
Àngth_vÆue
);

71 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

73  
ªt_vÆue
;

74 
	}
}

85 
ecma_vÆue_t


86 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

88 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

91 
	`ECMA_TRY_CATCH
 (
obj_this_vÆue
,

92 
	`ecma_›_to_obje˘
 (
this_¨g
),

93 
ªt_vÆue
);

95 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this_vÆue
);

97 
ecma_°rög_t
 *
joö_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_JOIN
);

100 
	`ECMA_TRY_CATCH
 (
joö_vÆue
,

101 
	`ecma_›_obje˘_gë
 (
obj_p
, 
joö_magic_°rög_p
),

102 
ªt_vÆue
);

104 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
joö_vÆue
))

107 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_obje˘_to_°rög
 (
this_¨g
);

112 
ecma_obje˘_t
 *
joö_func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
joö_vÆue
);

114 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
joö_func_obj_p
, 
this_¨g
, 
NULL
, 0);

117 
	`ECMA_FINALIZE
 (
joö_vÆue
);

119 
	`ecma_dîef_ecma_°rög
 (
joö_magic_°rög_p
);

121 
	`ECMA_FINALIZE
 (
obj_this_vÆue
);

123  
ªt_vÆue
;

124 
	}
}

135 
ecma_vÆue_t


136 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_to_loˇÀ_°rög
 (c⁄° 
ecma_vÆue_t
 
this_¨g
)

138 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

141 
	`ECMA_TRY_CATCH
 (
obj_vÆue
,

142 
	`ecma_›_to_obje˘
 (
this_¨g
),

143 
ªt_vÆue
);

145 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆue
);

147 
ecma_°rög_t
 *
Àngth_magic_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

150 
	`ECMA_TRY_CATCH
 (
Àngth_vÆue
,

151 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_magic_°rög_p
),

152 
ªt_vÆue
);

155 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àngth_numbî
,

156 
Àngth_vÆue
,

157 
ªt_vÆue
);

159 
uöt32_t
 
Àngth
 = 
	`ecma_numbî_to_uöt32
 (
Àngth_numbî
);

162 
ecma_°rög_t
 *
£∑øt‹_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_COMMA_CHAR
);

165 i‡(
Àngth
 == 0)

167 
ecma_°rög_t
 *
em±y_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

168 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
em±y_°rög_p
);

173 
	`ECMA_TRY_CATCH
 (
fú°_vÆue
,

174 
	`ecma_buûtö_hñ≥r_gë_to_loˇÀ_°rög_©_ödex
 (
obj_p
, 0),

175 
ªt_vÆue
);

177 
ecma_°rög_t
 *
ªtu∫_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
fú°_vÆue
);

178 
	`ecma_ªf_ecma_°rög
 (
ªtu∫_°rög_p
);

181 
uöt32_t
 
k
 = 1; 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& (k < 
Àngth
); k++)

183 
ecma_°rög_t
 *
∑π_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ªtu∫_°rög_p
, 
£∑øt‹_°rög_p
);

185 
	`ECMA_TRY_CATCH
 (
√xt_°rög_vÆue
,

186 
	`ecma_buûtö_hñ≥r_gë_to_loˇÀ_°rög_©_ödex
 (
obj_p
, 
k
),

187 
ªt_vÆue
);

189 
ecma_°rög_t
 *
√xt_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
√xt_°rög_vÆue
);

191 
	`ecma_dîef_ecma_°rög
 (
ªtu∫_°rög_p
);

193 
ªtu∫_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
∑π_°rög_p
, 
√xt_°rög_p
);

195 
	`ECMA_FINALIZE
 (
√xt_°rög_vÆue
);

197 
	`ecma_dîef_ecma_°rög
 (
∑π_°rög_p
);

200 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

202 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªtu∫_°rög_p
);

206 
	`ecma_dîef_ecma_°rög
 (
ªtu∫_°rög_p
);

209 
	`ECMA_FINALIZE
 (
fú°_vÆue
);

212 
	`ecma_dîef_ecma_°rög
 (
£∑øt‹_°rög_p
);

214 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àngth_numbî
);

216 
	`ECMA_FINALIZE
 (
Àngth_vÆue
);

218 
	`ecma_dîef_ecma_°rög
 (
Àngth_magic_°rög_p
);

220 
	`ECMA_FINALIZE
 (
obj_vÆue
);

222  
ªt_vÆue
;

223 
	}
}

234 
ecma_vÆue_t


235 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_c⁄ˇt
 (
ecma_vÆue_t
 
this_¨g
,

236 c⁄° 
ecma_vÆue_t
 
¨gs
[],

237 
ecma_Àngth_t
 
¨gs_numbî
)

239 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

242 
	`ECMA_TRY_CATCH
 (
obj_this
,

243 
	`ecma_›_to_obje˘
 (
this_¨g
),

244 
ªt_vÆue
);

247 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (0, 0, 
Ál£
);

248 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

249 
uöt32_t
 
√w_Àngth
 = 0;

252 
	`ECMA_TRY_CATCH
 (
c⁄ˇt_this_vÆue
,

253 
	`ecma_buûtö_hñ≥r_¨øy_c⁄ˇt_vÆue
 (
√w_¨øy_p
, &
√w_Àngth
, 
obj_this
),

254 
ªt_vÆue
);

257 
uöt32_t
 
¨g_ödex
 = 0;

258 
¨g_ödex
 < 
¨gs_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

259 
¨g_ödex
++)

261 
	`ECMA_TRY_CATCH
 (
c⁄ˇt_vÆue
,

262 
	`ecma_buûtö_hñ≥r_¨øy_c⁄ˇt_vÆue
 (
√w_¨øy_p
, &
√w_Àngth
, 
¨gs
[
¨g_ödex
]),

263 
ªt_vÆue
);

264 
	`ECMA_FINALIZE
 (
c⁄ˇt_vÆue
);

267 
	`ECMA_FINALIZE
 (
c⁄ˇt_this_vÆue
);

269 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

271 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

272 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
√w_¨øy_p
, ((
ecma_numbî_t
Ë
√w_Àngth
)),

273 
ªt_vÆue
);

274 
ªt_vÆue
 = 
√w_¨øy
;

275 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

279 
	`ecma_‰ì_vÆue
 (
√w_¨øy
);

282 
	`ECMA_FINALIZE
 (
obj_this
);

284  
ªt_vÆue
;

285 
	}
}

297 
ecma_vÆue_t


298 
	$ecma_›_¨øy_gë_£∑øt‹_°rög
 (
ecma_vÆue_t
 
£∑øt‹
)

300 i‡(
	`ecma_is_vÆue_undeföed
 (
£∑øt‹
))

302 
ecma_°rög_t
 *
comma_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_COMMA_CHAR
);

303  
	`ecma_make_°rög_vÆue
 (
comma_°rög_p
);

307  
	`ecma_›_to_°rög
 (
£∑øt‹
);

309 
	}
}

320 
ecma_vÆue_t


321 
	$ecma_›_¨øy_gë_to_°rög_©_ödex
 (
ecma_obje˘_t
 *
obj_p
,

322 
uöt32_t
 
ödex
)

324 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

325 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

327 
	`ECMA_TRY_CATCH
 (
ödex_vÆue
,

328 
	`ecma_›_obje˘_gë
 (
obj_p
, 
ödex_°rög_p
),

329 
ªt_vÆue
);

331 i‡(
	`ecma_is_vÆue_undeföed
 (
ödex_vÆue
)

332 || 
	`ecma_is_vÆue_nuŒ
 (
ödex_vÆue
))

334 
ecma_°rög_t
 *
em±y_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

335 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
em±y_°rög_p
);

339 
ªt_vÆue
 = 
	`ecma_›_to_°rög
 (
ödex_vÆue
);

342 
	`ECMA_FINALIZE
 (
ödex_vÆue
);

344 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

346  
ªt_vÆue
;

347 
	}
}

358 
ecma_vÆue_t


359 
	$ecma_buûtö_¨øy_¥ŸŸy≥_joö
 (c⁄° 
ecma_vÆue_t
 
this_¨g
,

360 c⁄° 
ecma_vÆue_t
 
£∑øt‹_¨g
)

362 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

365 
	`ECMA_TRY_CATCH
 (
obj_vÆue
,

366 
	`ecma_›_to_obje˘
 (
this_¨g
),

367 
ªt_vÆue
);

369 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆue
);

371 
ecma_°rög_t
 *
Àngth_magic_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

374 
	`ECMA_TRY_CATCH
 (
Àngth_vÆue
,

375 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_magic_°rög_p
),

376 
ªt_vÆue
);

378 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àngth_numbî
,

379 
Àngth_vÆue
,

380 
ªt_vÆue
);

383 
uöt32_t
 
Àngth
 = 
	`ecma_numbî_to_uöt32
 (
Àngth_numbî
);

386 
	`ECMA_TRY_CATCH
 (
£∑øt‹_vÆue
,

387 
	`ecma_›_¨øy_gë_£∑øt‹_°rög
 (
£∑øt‹_¨g
),

388 
ªt_vÆue
);

390 i‡(
Àngth
 == 0)

393 
ecma_°rög_t
 *
em±y_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

394 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
em±y_°rög_p
);

398 
ecma_°rög_t
 *
£∑øt‹_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
£∑øt‹_vÆue
);

401 
	`ECMA_TRY_CATCH
 (
fú°_vÆue
,

402 
	`ecma_›_¨øy_gë_to_°rög_©_ödex
 (
obj_p
, 0),

403 
ªt_vÆue
);

405 
ecma_°rög_t
 *
ªtu∫_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
fú°_vÆue
);

406 
	`ecma_ªf_ecma_°rög
 (
ªtu∫_°rög_p
);

409 
uöt32_t
 
k
 = 1; 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& (k < 
Àngth
); k++)

412 
ecma_°rög_t
 *
∑π_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ªtu∫_°rög_p
, 
£∑øt‹_°rög_p
);

415 
	`ECMA_TRY_CATCH
 (
√xt_°rög_vÆue
,

416 
	`ecma_›_¨øy_gë_to_°rög_©_ödex
 (
obj_p
, 
k
),

417 
ªt_vÆue
);

419 
ecma_°rög_t
 *
√xt_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
√xt_°rög_vÆue
);

421 
	`ecma_dîef_ecma_°rög
 (
ªtu∫_°rög_p
);

424 
ªtu∫_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
∑π_°rög_p
, 
√xt_°rög_p
);

426 
	`ECMA_FINALIZE
 (
√xt_°rög_vÆue
);

428 
	`ecma_dîef_ecma_°rög
 (
∑π_°rög_p
);

431 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

433 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªtu∫_°rög_p
);

437 
	`ecma_dîef_ecma_°rög
 (
ªtu∫_°rög_p
);

440 
	`ECMA_FINALIZE
 (
fú°_vÆue
);

443 
	`ECMA_FINALIZE
 (
£∑øt‹_vÆue
);

445 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àngth_numbî
);

447 
	`ECMA_FINALIZE
 (
Àngth_vÆue
);

449 
	`ecma_dîef_ecma_°rög
 (
Àngth_magic_°rög_p
);

451 
	`ECMA_FINALIZE
 (
obj_vÆue
);

453  
ªt_vÆue
;

454 
	}
}

465 
ecma_vÆue_t


466 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_p›
 (
ecma_vÆue_t
 
this_¨g
)

468 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

471 
	`ECMA_TRY_CATCH
 (
obj_this
,

472 
	`ecma_›_to_obje˘
 (
this_¨g
),

473 
ªt_vÆue
);

475 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

476 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

479 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

480 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

481 
ªt_vÆue
);

483 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

486 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

489 i‡(
Àn
 == 0)

492 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

493 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, 
ECMA_NUMBER_ZERO
),

494 
ªt_vÆue
);

497 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

499 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
)

503 
Àn
--;

505 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
Àn
);

508 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_gë
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

511 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
ödex_°r_p
, 
åue
), 
ªt_vÆue
);

514 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

515 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, ((
ecma_numbî_t
Ë
Àn
)),

516 
ªt_vÆue
);

518 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
gë_vÆue
);

520 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

521 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

522 
	`ECMA_FINALIZE
 (
gë_vÆue
);

524 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

527 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

528 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

529 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

530 
	`ECMA_FINALIZE
 (
obj_this
);

532  
ªt_vÆue
;

533 
	}
}

544 
ecma_vÆue_t


545 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_push
 (
ecma_vÆue_t
 
this_¨g
,

546 c⁄° 
ecma_vÆue_t
 *
¨gumít_li°_p
,

547 
ecma_Àngth_t
 
¨gumíts_numbî
)

549 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

552 
	`ECMA_TRY_CATCH
 (
obj_this_vÆue
, 
	`ecma_›_to_obje˘
 (
this_¨g
), 
ªt_vÆue
);

554 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this_vÆue
);

557 
ecma_°rög_t
 *
Àngth_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

559 
	`ECMA_TRY_CATCH
 (
Àngth_vÆue
, 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_°r_p
), 
ªt_vÆue
);

562 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àngth_v¨
, 
Àngth_vÆue
, 
ªt_vÆue
);

564 
ecma_numbî_t
 
n
 = (”cma_numbî_tË
	`ecma_numbî_to_uöt32
 (
Àngth_v¨
));

567 
uöt32_t
 
ödex
 = 0;

568 
ödex
 < 
¨gumíts_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

569 
ödex
++, 
n
++)

572 
ecma_vÆue_t
 
e_vÆue
 = 
¨gumít_li°_p
[
ödex
];

575 
ecma_°rög_t
 *
n_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
n
);

577 
	`ECMA_TRY_CATCH
 (
put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
n_°r_p
, 
e_vÆue
, 
åue
), 
ªt_vÆue
);

578 
	`ECMA_FINALIZE
 (
put_vÆue
);

580 
	`ecma_dîef_ecma_°rög
 (
n_°r_p
);

584 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

586 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

587 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, 
n
),

588 
ªt_vÆue
);

590 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
n
);

592 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
)

595 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àngth_v¨
);

597 
	`ECMA_FINALIZE
 (
Àngth_vÆue
);

599 
	`ecma_dîef_ecma_°rög
 (
Àngth_°r_p
);

601 
	`ECMA_FINALIZE
 (
obj_this_vÆue
);

603  
ªt_vÆue
;

604 
	}
}

615 
ecma_vÆue_t


616 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ªvî£
 (
ecma_vÆue_t
 
this_¨g
)

618 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

621 
	`ECMA_TRY_CATCH
 (
obj_this
,

622 
	`ecma_›_to_obje˘
 (
this_¨g
),

623 
ªt_vÆue
);

625 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

626 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

629 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

630 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

631 
ªt_vÆue
);

634 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

635 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

638 
uöt32_t
 
middÀ
 = 
Àn
 / 2;

641 
uöt32_t
 
lowî
 = 0;Üowî < 
middÀ
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);Üower++)

644 
uöt32_t
 
uµî
 = 
Àn
 - 
lowî
 - 1;

646 
ecma_°rög_t
 *
uµî_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
uµî
);

647 
ecma_°rög_t
 *
lowî_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
lowî
);

650 
	`ECMA_TRY_CATCH
 (
lowî_vÆue
, 
	`ecma_›_obje˘_gë
 (
obj_p
, 
lowî_°r_p
), 
ªt_vÆue
);

651 
	`ECMA_TRY_CATCH
 (
uµî_vÆue
, 
	`ecma_›_obje˘_gë
 (
obj_p
, 
uµî_°r_p
), 
ªt_vÆue
);

654 
boﬁ
 
lowî_exi°
 = 
	`ecma_›_obje˘_has_¥›îty
 (
obj_p
, 
lowî_°r_p
);

655 
boﬁ
 
uµî_exi°
 = 
	`ecma_›_obje˘_has_¥›îty
 (
obj_p
, 
uµî_°r_p
);

658 i‡(
lowî_exi°
 && 
uµî_exi°
)

660 
	`ECMA_TRY_CATCH
 (
ouãr_put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
lowî_°r_p
, 
uµî_vÆue
, 
åue
), 
ªt_vÆue
);

661 
	`ECMA_TRY_CATCH
 (
ö√r_put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
uµî_°r_p
, 
lowî_vÆue
, 
åue
), 
ªt_vÆue
);

662 
	`ECMA_FINALIZE
 (
ö√r_put_vÆue
);

663 
	`ECMA_FINALIZE
 (
ouãr_put_vÆue
);

666 i‡(!
lowî_exi°
 && 
uµî_exi°
)

668 
	`ECMA_TRY_CATCH
 (
put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
lowî_°r_p
, 
uµî_vÆue
, 
åue
), 
ªt_vÆue
);

669 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
uµî_°r_p
, 
åue
), 
ªt_vÆue
);

670 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

671 
	`ECMA_FINALIZE
 (
put_vÆue
);

674 i‡(
lowî_exi°
 && !
uµî_exi°
)

676 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
lowî_°r_p
, 
åue
), 
ªt_vÆue
);

677 
	`ECMA_TRY_CATCH
 (
put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
uµî_°r_p
, 
lowî_vÆue
, 
åue
), 
ªt_vÆue
);

678 
	`ECMA_FINALIZE
 (
put_vÆue
);

679 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

682 
	`ECMA_FINALIZE
 (
uµî_vÆue
);

683 
	`ECMA_FINALIZE
 (
lowî_vÆue
);

684 
	`ecma_dîef_ecma_°rög
 (
lowî_°r_p
);

685 
	`ecma_dîef_ecma_°rög
 (
uµî_°r_p
);

688 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

691 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
obj_this
);

694 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

695 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

696 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

697 
	`ECMA_FINALIZE
 (
obj_this
);

699  
ªt_vÆue
;

700 
	}
}

711 
ecma_vÆue_t


712 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_shi·
 (
ecma_vÆue_t
 
this_¨g
)

714 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

717 
	`ECMA_TRY_CATCH
 (
obj_this
,

718 
	`ecma_›_to_obje˘
 (
this_¨g
),

719 
ªt_vÆue
);

721 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

722 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

725 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

726 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

727 
ªt_vÆue
);

729 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

732 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

735 i‡(
Àn
 == 0)

737 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

738 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, 
ECMA_NUMBER_ZERO
),

739 
ªt_vÆue
);

741 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

743 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

747 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (0);

750 
	`ECMA_TRY_CATCH
 (
fú°_vÆue
, 
	`ecma_›_obje˘_gë
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

753 
uöt32_t
 
k
 = 1; k < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k++)

756 
ecma_°rög_t
 *
‰om_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
k
);

758 
ecma_°rög_t
 *
to_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
k
 - 1);

761 
	`ECMA_TRY_CATCH
 (
cuº_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
‰om_°r_p
), 
ªt_vÆue
);

763 i‡(
	`ecma_is_vÆue_found
 (
cuº_vÆue
))

766 
	`ECMA_TRY_CATCH
 (
put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
to_°r_p
, 
cuº_vÆue
, 
åue
), 
ªt_vÆue
);

768 
	`ECMA_FINALIZE
 (
put_vÆue
);

773 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
to_°r_p
, 
åue
), 
ªt_vÆue
);

774 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

777 
	`ECMA_FINALIZE
 (
cuº_vÆue
);

779 
	`ecma_dîef_ecma_°rög
 (
to_°r_p
);

780 
	`ecma_dîef_ecma_°rög
 (
‰om_°r_p
);

783 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

785 
Àn
--;

786 
ecma_°rög_t
 *
Àn_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
Àn
);

789 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
Àn_°r_p
, 
åue
), 
ªt_vÆue
);

792 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

793 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, ((
ecma_numbî_t
Ë
Àn
)),

794 
ªt_vÆue
);

796 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
fú°_vÆue
);

798 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

799 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

800 
	`ecma_dîef_ecma_°rög
 (
Àn_°r_p
);

803 
	`ECMA_FINALIZE
 (
fú°_vÆue
);

804 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

807 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

808 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

809 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

810 
	`ECMA_FINALIZE
 (
obj_this
);

812  
ªt_vÆue
;

813 
	}
}

824 
ecma_vÆue_t


825 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¶i˚
 (
ecma_vÆue_t
 
this_¨g
,

826 
ecma_vÆue_t
 
¨g1
,

827 
ecma_vÆue_t
 
¨g2
)

829 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

832 
	`ECMA_TRY_CATCH
 (
obj_this
,

833 
	`ecma_›_to_obje˘
 (
this_¨g
),

834 
ªt_vÆue
);

836 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

837 
ecma_°rög_t
 *
Àngth_magic_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

839 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

840 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_magic_°rög_p
),

841 
ªt_vÆue
);

844 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

847 c⁄° 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

849 
uöt32_t
 
°¨t
 = 0, 
íd
 = 
Àn
;

852 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
°¨t_num
, 
¨g1
, 
ªt_vÆue
);

854 
°¨t
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
°¨t_num
, 
Àn
);

857 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g2
))

859 
íd
 = 
Àn
;

864 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
íd_num
, 
¨g2
, 
ªt_vÆue
);

866 
íd
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
íd_num
, 
Àn
);

868 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
íd_num
);

871 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
°¨t_num
);

873 
	`JERRY_ASSERT
 (
°¨t
 <
Àn
 && 
íd
 <=Üen);

875 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (0, 0, 
Ál£
);

876 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

879 
uöt32_t
 
n
 = 0;

882 
uöt32_t
 
k
 = 
°¨t
; k < 
íd
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k++, 
n
++)

885 
ecma_°rög_t
 *
cuº_idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
k
);

888 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
cuº_idx_°r_p
), 
ªt_vÆue
);

890 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

893 
ecma_°rög_t
 *
to_idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
n
);

897 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

898 
to_idx_°r_p
,

899 
gë_vÆue
,

900 
åue
,

901 
åue
,

902 
åue
,

903 
Ál£
);

904 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

906 
	`ecma_dîef_ecma_°rög
 (
to_idx_°r_p
);

909 
	`ECMA_FINALIZE
 (
gë_vÆue
);

911 
	`ecma_dîef_ecma_°rög
 (
cuº_idx_°r_p
);

914 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

916 
ªt_vÆue
 = 
√w_¨øy
;

920 
	`ecma_‰ì_vÆue
 (
√w_¨øy
);

923 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

924 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

925 
	`ecma_dîef_ecma_°rög
 (
Àngth_magic_°rög_p
);

926 
	`ECMA_FINALIZE
 (
obj_this
);

928  
ªt_vÆue
;

929 
	}
}

940 
ecma_vÆue_t


941 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_s‹t_com∑ª_hñ≥r
 (
ecma_vÆue_t
 
j
,

942 
ecma_vÆue_t
 
k
,

943 
ecma_vÆue_t
 
com∑ª‚
)

951 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

952 
ecma_numbî_t
 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

954 
boﬁ
 
j_is_undef
 = 
	`ecma_is_vÆue_undeföed
 (
j
);

955 
boﬁ
 
k_is_undef
 = 
	`ecma_is_vÆue_undeföed
 (
k
);

957 i‡(
j_is_undef
)

959 i‡(
k_is_undef
)

961 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

965 
ªsu…
 = 
ECMA_NUMBER_ONE
;

970 i‡(
k_is_undef
)

972 
ªsu…
 = 
ECMA_NUMBER_MINUS_ONE
;

976 i‡(
	`ecma_is_vÆue_undeföed
 (
com∑ª‚
))

979 
	`ECMA_TRY_CATCH
 (
j_vÆue
, 
	`ecma_›_to_°rög
 (
j
), 
ªt_vÆue
);

980 
	`ECMA_TRY_CATCH
 (
k_vÆue
, 
	`ecma_›_to_°rög
 (
k
), 
ªt_vÆue
);

981 
ecma_°rög_t
 *
j_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
j_vÆue
);

982 
ecma_°rög_t
 *
k_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
k_vÆue
);

984 i‡(
	`ecma_com∑ª_ecma_°rögs_ªœti⁄Æ
 (
j_°r_p
, 
k_°r_p
))

986 
ªsu…
 = 
ECMA_NUMBER_MINUS_ONE
;

988 i‡(!
	`ecma_com∑ª_ecma_°rögs
 (
j_°r_p
, 
k_°r_p
))

990 
ªsu…
 = 
ECMA_NUMBER_ONE
;

994 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

997 
	`ECMA_FINALIZE
 (
k_vÆue
);

998 
	`ECMA_FINALIZE
 (
j_vÆue
);

1006 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
com∑ª‚
));

1007 
ecma_obje˘_t
 *
com∑ª‚_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
com∑ª‚
);

1009 
ecma_vÆue_t
 
com∑ª_¨gs
[] = {
j
, 
k
};

1011 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
,

1012 
	`ecma_›_fun˘i⁄_ˇŒ
 (
com∑ª‚_obj_p
,

1013 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

1014 
com∑ª_¨gs
,

1016 
ªt_vÆue
);

1018 i‡(!
	`ecma_is_vÆue_numbî
 (
ˇŒ_vÆue
))

1020 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
ªt_num
, 
ˇŒ_vÆue
, 
ªt_vÆue
);

1021 
ªsu…
 = 
ªt_num
;

1022 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
ªt_num
);

1026 
ªsu…
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
ˇŒ_vÆue
);

1029 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

1034 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1036 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
ªsu…
);

1039  
ªt_vÆue
;

1040 
	}
}

1049 
ecma_vÆue_t


1050 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¨øy_to_hóp_hñ≥r
 (
ecma_vÆue_t
 
¨øy
[],

1051 
ödex
,

1052 
right
,

1053 
ecma_vÆue_t
 
com∑ª‚
)

1055 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1058 
chûd
 = 
ödex
 * 2 + 1;

1059 
ecma_vÆue_t
 
sw≠
 = 
¨øy
[
ödex
];

1060 
boﬁ
 
should_bªak
 = 
Ál£
;

1062 
chûd
 <
right
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& !
should_bªak
)

1064 i‡(
chûd
 < 
right
)

1067 
	`ECMA_TRY_CATCH
 (
chûd_com∑ª_vÆue
,

1068 
	`ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_s‹t_com∑ª_hñ≥r
 (
¨øy
[
chûd
],

1069 
¨øy
[
chûd
 + 1],

1070 
com∑ª‚
),

1071 
ªt_vÆue
);

1073 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
chûd_com∑ª_vÆue
));

1076 i‡(
	`ecma_gë_numbî_‰om_vÆue
 (
chûd_com∑ª_vÆue
Ë< 
ECMA_NUMBER_ZERO
)

1078 
chûd
++;

1081 
	`ECMA_FINALIZE
 (
chûd_com∑ª_vÆue
);

1084 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1086 
	`JERRY_ASSERT
 (
chûd
 <
right
);

1089 
	`ECMA_TRY_CATCH
 (
sw≠_com∑ª_vÆue
,

1090 
	`ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_s‹t_com∑ª_hñ≥r
 (
¨øy
[
chûd
],

1091 
sw≠
,

1092 
com∑ª‚
),

1093 
ªt_vÆue
);

1094 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
sw≠_com∑ª_vÆue
));

1096 i‡(
	`ecma_gë_numbî_‰om_vÆue
 (
sw≠_com∑ª_vÆue
Ë<
ECMA_NUMBER_ZERO
)

1099 
should_bªak
 = 
åue
;

1104 
∑ª¡
 = (
chûd
 - 1) / 2;

1105 
	`JERRY_ASSERT
 (
∑ª¡
 >0 &&Ö¨íà<
right
);

1106 
¨øy
[
∑ª¡
] =áºay[
chûd
];

1109 
chûd
 = child * 2 + 1;

1112 
	`ECMA_FINALIZE
 (
sw≠_com∑ª_vÆue
);

1120 
∑ª¡
 = (
chûd
 - 1) / 2;

1121 
	`JERRY_ASSERT
 (
∑ª¡
 >0 &&Ö¨íà<
right
);

1122 
¨øy
[
∑ª¡
] = 
sw≠
;

1124 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1126 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1129  
ªt_vÆue
;

1130 
	}
}

1138 
ecma_vÆue_t


1139 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¨øy_hóp_s‹t_hñ≥r
 (
ecma_vÆue_t
 
¨øy
[],

1140 
right
,

1141 
ecma_vÆue_t
 
com∑ª‚
)

1143 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1146 
i
 = 
right
 / 2; i >0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); i--)

1148 
	`ECMA_TRY_CATCH
 (
vÆue
,

1149 
	`ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¨øy_to_hóp_hñ≥r
 (
¨øy
,

1150 
i
,

1151 
right
,

1152 
com∑ª‚
),

1153 
ªt_vÆue
);

1154 
	`ECMA_FINALIZE
 (
vÆue
);

1158 
i
 = 
right
; i > 0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); i--)

1164 
ecma_vÆue_t
 
sw≠
 = 
¨øy
[0];

1165 
¨øy
[0] =áºay[
i
];

1166 
¨øy
[
i
] = 
sw≠
;

1169 
	`ECMA_TRY_CATCH
 (
vÆue
,

1170 
	`ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¨øy_to_hóp_hñ≥r
 (
¨øy
,

1172 
i
 - 1,

1173 
com∑ª‚
),

1174 
ªt_vÆue
);

1175 
	`ECMA_FINALIZE
 (
vÆue
);

1178  
ªt_vÆue
;

1179 
	}
}

1190 
ecma_vÆue_t


1191 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_s‹t
 (
ecma_vÆue_t
 
this_¨g
,

1192 
ecma_vÆue_t
 
¨g1
)

1195 i‡(!
	`ecma_is_vÆue_undeföed
 (
¨g1
Ë&& !
	`ecma_›_is_ˇŒabÀ
 (arg1))

1197  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Compare function isÇot callable."));

1200 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1202 
	`ECMA_TRY_CATCH
 (
obj_this
,

1203 
	`ecma_›_to_obje˘
 (
this_¨g
),

1204 
ªt_vÆue
);

1206 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

1207 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1209 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

1210 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

1211 
ªt_vÆue
);

1213 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

1215 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

1217 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¨øy_ödex_¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
åue
, 
Ál£
, false);

1219 
uöt32_t
 
deföed_¥›_cou¡
 = 0;

1220 
uöt32_t
 
c›õd_num
 = 0;

1222 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

1223 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¨øy_ödex_¥›s_p
);

1226 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

1227 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1229 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1231 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

1232 
	`JERRY_ASSERT
 (
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
);

1234 i‡(
ödex
 < 
Àn
)

1236 
deföed_¥›_cou¡
++;

1240 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
vÆues_buf„r
, 
deföed_¥›_cou¡
, 
ecma_vÆue_t
);

1242 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¨øy_ödex_¥›s_p
);

1245 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

1246 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1248 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1250 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

1251 
	`JERRY_ASSERT
 (
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
);

1253 i‡(
ödex
 >
Àn
)

1258 
	`ECMA_TRY_CATCH
 (
ödex_vÆue
, 
	`ecma_›_obje˘_gë
 (
obj_p
, 
¥›îty_«me_p
), 
ªt_vÆue
);

1260 
vÆues_buf„r
[
c›õd_num
++] = 
	`ecma_c›y_vÆue
 (
ödex_vÆue
);

1262 
	`ECMA_FINALIZE
 (
ödex_vÆue
);

1265 
	`JERRY_ASSERT
 (
c›õd_num
 =
deföed_¥›_cou¡


1266 || !
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

1269 i‡(
c›õd_num
 > 1 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1271 
	`ECMA_TRY_CATCH
 (
s‹t_vÆue
,

1272 
	`ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¨øy_hóp_s‹t_hñ≥r
 (
vÆues_buf„r
,

1273 ()(
c›õd_num
 - 1),

1274 
¨g1
),

1275 
ªt_vÆue
);

1276 
	`ECMA_FINALIZE
 (
s‹t_vÆue
);

1280 
uöt32_t
 
ödex
 = 0;

1281 
ödex
 < 
c›õd_num
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

1282 
ödex
++)

1284 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

1285 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

1286 
	`ecma_›_obje˘_put
 (
obj_p
, 
ödex_°rög_p
, 
vÆues_buf„r
[
ödex
], 
åue
),

1287 
ªt_vÆue
);

1288 
	`ECMA_FINALIZE
 (
put_vÆue
);

1289 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

1293 
uöt32_t
 
ödex
 = 0; index < 
c›õd_num
; index++)

1295 
	`ecma_‰ì_vÆue
 (
vÆues_buf„r
[
ödex
]);

1298 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
vÆues_buf„r
);

1302 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¨øy_ödex_¥›s_p
);

1304 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

1305 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1307 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1309 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

1310 
	`JERRY_ASSERT
 (
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
);

1312 i‡(
ödex
 >
c›õd_num
 && index < 
Àn
)

1314 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
¥›îty_«me_p
, 
åue
), 
ªt_vÆue
);

1315 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

1319 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¨øy_ödex_¥›s_p
, 
åue
);

1321 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1323 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
this_¨g
);

1326 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

1327 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

1328 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

1329 
	`ECMA_FINALIZE
 (
obj_this
);

1331  
ªt_vÆue
;

1332 
	}
}

1343 
ecma_vÆue_t


1344 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_•li˚
 (
ecma_vÆue_t
 
this_¨g
,

1345 c⁄° 
ecma_vÆue_t
 
¨gs
[],

1346 
ecma_Àngth_t
 
¨gs_numbî
)

1348 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1351 
	`ECMA_TRY_CATCH
 (
obj_this
,

1352 
	`ecma_›_to_obje˘
 (
this_¨g
),

1353 
ªt_vÆue
);

1355 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

1358 
ecma_°rög_t
 *
Àngth_magic_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1360 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

1361 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_magic_°rög_p
),

1362 
ªt_vÆue
);

1365 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
,

1366 
Àn_vÆue
,

1367 
ªt_vÆue
);

1369 c⁄° 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

1371 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (0, 0, 
Ál£
);

1372 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

1374 
uöt32_t
 
°¨t
 = 0;

1375 
uöt32_t
 
dñëe_cou¡
 = 0;

1377 i‡(
¨gs_numbî
 > 0)

1380 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
°¨t_num
,

1381 
¨gs
[0],

1382 
ªt_vÆue
);

1384 
°¨t
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
°¨t_num
, 
Àn
);

1390 i‡(
¨gs_numbî
 == 1)

1392 
dñëe_cou¡
 = 
Àn
 - 
°¨t
;

1397 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
dñëe_num
,

1398 
¨gs
[1],

1399 
ªt_vÆue
);

1401 i‡(!
	`ecma_numbî_is_«n
 (
dñëe_num
))

1403 i‡(
	`ecma_numbî_is_√g©ive
 (
dñëe_num
))

1405 
dñëe_cou¡
 = 0;

1409 
dñëe_cou¡
 = 
	`ecma_numbî_is_öföôy
 (
dñëe_num
Ë? 
Àn
 : 
	`ecma_numbî_to_uöt32
 (delete_num);

1411 i‡(
dñëe_cou¡
 > 
Àn
 - 
°¨t
)

1413 
dñëe_cou¡
 = 
Àn
 - 
°¨t
;

1419 
dñëe_cou¡
 = 0;

1422 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
dñëe_num
);

1425 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
°¨t_num
);

1429 
uöt32_t
 
k
 = 0;

1431 
uöt32_t
 
dñ_ôem_idx
; 
k
 < 
dñëe_cou¡
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k++)

1434 
dñ_ôem_idx
 = 
k
 + 
°¨t
;

1435 
ecma_°rög_t
 *
idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
dñ_ôem_idx
);

1438 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
idx_°r_p
), 
ªt_vÆue
);

1440 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

1444 
ecma_°rög_t
 *
idx_°r_√w_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
k
);

1448 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

1449 
idx_°r_√w_p
,

1450 
gë_vÆue
,

1451 
åue
,

1452 
åue
,

1453 
åue
,

1454 
Ál£
);

1455 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1457 
	`ecma_dîef_ecma_°rög
 (
idx_°r_√w_p
);

1460 
	`ECMA_FINALIZE
 (
gë_vÆue
);

1462 
	`ecma_dîef_ecma_°rög
 (
idx_°r_p
);

1466 
ecma_Àngth_t
 
ôem_cou¡
;

1468 i‡(
¨gs_numbî
 > 2)

1470 
ôem_cou¡
 = (
ecma_Àngth_t
Ë(
¨gs_numbî
 - 2);

1474 
ôem_cou¡
 = 0;

1477 c⁄° 
uöt32_t
 
√w_Àn
 = 
Àn
 - 
dñëe_cou¡
 + 
ôem_cou¡
;

1479 i‡(
ôem_cou¡
 !
dñëe_cou¡
)

1481 
uöt32_t
 
‰om
, 
to
;

1484 i‡(
ôem_cou¡
 < 
dñëe_cou¡
)

1487 
k
 = 
°¨t
; k < (
Àn
 - 
dñëe_cou¡
Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k++)

1489 
‰om
 = 
k
 + 
dñëe_cou¡
;

1490 
ecma_°rög_t
 *
‰om_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
‰om
);

1492 
to
 = 
k
 + 
ôem_cou¡
;

1493 
ecma_°rög_t
 *
to_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
to
);

1496 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
‰om_°r_p
), 
ªt_vÆue
);

1498 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

1501 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

1502 
	`ecma_›_obje˘_put
 (
obj_p
, 
to_°r_p
, 
gë_vÆue
, 
åue
),

1503 
ªt_vÆue
);

1505 
	`ECMA_FINALIZE
 (
put_vÆue
);

1510 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
,

1511 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
to_°r_p
, 
åue
),

1512 
ªt_vÆue
);

1514 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

1517 
	`ECMA_FINALIZE
 (
gë_vÆue
);

1519 
	`ecma_dîef_ecma_°rög
 (
to_°r_p
);

1520 
	`ecma_dîef_ecma_°rög
 (
‰om_°r_p
);

1524 
k
 = 
Àn
; k > 
√w_Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k--)

1526 
ecma_°rög_t
 *
°r_idx_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
k
 - 1);

1527 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
,

1528 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
°r_idx_p
, 
åue
),

1529 
ªt_vÆue
);

1531 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

1532 
	`ecma_dîef_ecma_°rög
 (
°r_idx_p
);

1536 i‡(
ôem_cou¡
 > 
dñëe_cou¡
)

1539 
k
 = 
Àn
 - 
dñëe_cou¡
; k > 
°¨t
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k--)

1541 
‰om
 = 
k
 + 
dñëe_cou¡
 - 1;

1542 
ecma_°rög_t
 *
‰om_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
‰om
);

1544 
to
 = 
k
 + 
ôem_cou¡
 - 1;

1545 
ecma_°rög_t
 *
to_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
to
);

1548 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
‰om_°r_p
), 
ªt_vÆue
);

1550 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

1553 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

1554 
	`ecma_›_obje˘_put
 (
obj_p
, 
to_°r_p
, 
gë_vÆue
, 
åue
),

1555 
ªt_vÆue
);

1557 
	`ECMA_FINALIZE
 (
put_vÆue
);

1562 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
,

1563 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
to_°r_p
, 
åue
),

1564 
ªt_vÆue
);

1566 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

1569 
	`ECMA_FINALIZE
 (
gë_vÆue
);

1571 
	`ecma_dîef_ecma_°rög
 (
to_°r_p
);

1572 
	`ecma_dîef_ecma_°rög
 (
‰om_°r_p
);

1578 
ecma_Àngth_t
 
idx
 = 0;

1579 
ecma_Àngth_t
 
¨g_ödex
 = 2;

1580 
¨g_ödex
 < 
¨gs_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

1581 
¨g_ödex
++, 
idx
++)

1583 
ecma_°rög_t
 *
°r_idx_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë(
°¨t
 + 
idx
));

1584 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

1585 
	`ecma_›_obje˘_put
 (
obj_p
, 
°r_idx_p
, 
¨gs
[
¨g_ödex
], 
åue
),

1586 
ªt_vÆue
);

1588 
	`ECMA_FINALIZE
 (
put_vÆue
);

1589 
	`ecma_dîef_ecma_°rög
 (
°r_idx_p
);

1593 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1595 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

1596 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, ((
ecma_numbî_t
Ë
√w_Àn
)),

1597 
ªt_vÆue
);

1599 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

1602 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1604 
ªt_vÆue
 = 
√w_¨øy
;

1608 
	`ecma_‰ì_vÆue
 (
√w_¨øy
);

1611 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

1612 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

1613 
	`ecma_dîef_ecma_°rög
 (
Àngth_magic_°rög_p
);

1614 
	`ECMA_FINALIZE
 (
obj_this
);

1616  
ªt_vÆue
;

1617 
	}
}

1628 
ecma_vÆue_t


1629 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_unshi·
 (
ecma_vÆue_t
 
this_¨g
,

1630 c⁄° 
ecma_vÆue_t
 
¨gs
[],

1631 
ecma_Àngth_t
 
¨gs_numbî
)

1633 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1636 
	`ECMA_TRY_CATCH
 (
obj_this
,

1637 
	`ecma_›_to_obje˘
 (
this_¨g
),

1638 
ªt_vÆue
);

1640 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

1641 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1644 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

1645 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

1646 
ªt_vÆue
);

1648 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

1651 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

1654 
uöt32_t
 
k
 = 
Àn
; k > 0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); k--)

1657 
ecma_°rög_t
 *
‰om_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
k
 - 1);

1659 
ecma_numbî_t
 
√w_idx
 = (”cma_numbî_tË
k
Ë+ (”cma_numbî_tË
¨gs_numbî
) - 1;

1660 
ecma_°rög_t
 *
to_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
√w_idx
);

1663 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
‰om_°r_p
), 
ªt_vÆue
);

1665 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

1668 
	`ECMA_TRY_CATCH
 (
put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
to_°r_p
, 
gë_vÆue
, 
åue
), 
ªt_vÆue
);

1670 
	`ECMA_FINALIZE
 (
put_vÆue
);

1675 
	`ECMA_TRY_CATCH
 (
dñ_vÆue
, 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
to_°r_p
, 
åue
), 
ªt_vÆue
);

1676 
	`ECMA_FINALIZE
 (
dñ_vÆue
);

1679 
	`ECMA_FINALIZE
 (
gë_vÆue
);

1681 
	`ecma_dîef_ecma_°rög
 (
to_°r_p
);

1682 
	`ecma_dîef_ecma_°rög
 (
‰om_°r_p
);

1685 
uöt32_t
 
¨g_ödex
 = 0;

1686 
¨g_ödex
 < 
¨gs_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

1687 
¨g_ödex
++)

1689 
ecma_°rög_t
 *
to_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
¨g_ödex
);

1691 
	`ECMA_TRY_CATCH
 (
put_vÆue
, 
	`ecma_›_obje˘_put
 (
obj_p
, 
to_°r_p
, 
¨gs
[
¨g_ödex
], 
åue
), 
ªt_vÆue
);

1692 
	`ECMA_FINALIZE
 (
put_vÆue
);

1693 
	`ecma_dîef_ecma_°rög
 (
to_°r_p
);

1696 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1698 
ecma_numbî_t
 
√w_Àn
 = (”cma_numbî_tË
Àn
Ë+ (”cma_numbî_tË
¨gs_numbî
);

1700 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

1701 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
obj_p
, 
√w_Àn
),

1702 
ªt_vÆue
);

1703 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
√w_Àn
);

1705 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

1708 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

1709 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

1710 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

1711 
	`ECMA_FINALIZE
 (
obj_this
);

1713  
ªt_vÆue
;

1714 
	}
}

1725 
ecma_vÆue_t


1726 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ödex_of
 (
ecma_vÆue_t
 
this_¨g
,

1727 
ecma_vÆue_t
 
¨g1
,

1728 
ecma_vÆue_t
 
¨g2
)

1730 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1733 
	`ECMA_TRY_CATCH
 (
obj_this
,

1734 
	`ecma_›_to_obje˘
 (
this_¨g
),

1735 
ªt_vÆue
);

1737 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

1738 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1741 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

1742 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

1743 
ªt_vÆue
);

1745 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

1748 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

1751 i‡(
Àn
 == 0)

1753 
ªt_vÆue
 = 
	`ecma_make_öãgî_vÆue
 (-1);

1758 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_‰om_idx
, 
¨g2
, 
ªt_vÆue
);

1760 
ecma_numbî_t
 
found_ödex
 = 
ECMA_NUMBER_MINUS_ONE
;

1762 
uöt32_t
 
‰om_idx
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
¨g_‰om_idx
, 
Àn
);

1765 i‡(
‰om_idx
 < 
Àn
)

1767 
	`JERRY_ASSERT
 (
‰om_idx
 < 
Àn
);

1769 ; 
‰om_idx
 < 
Àn
 && 
found_ödex
 < 0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); from_idx++)

1771 
ecma_°rög_t
 *
idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
‰om_idx
);

1774 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
idx_°r_p
), 
ªt_vÆue
);

1776 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

1779 i‡(
	`ecma_›_°ri˘_equÆôy_com∑ª
 (
¨g1
, 
gë_vÆue
))

1781 
found_ödex
 = ((
ecma_numbî_t
Ë
‰om_idx
);

1785 
	`ECMA_FINALIZE
 (
gë_vÆue
);

1787 
	`ecma_dîef_ecma_°rög
 (
idx_°r_p
);

1791 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1793 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
found_ödex
);

1796 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_‰om_idx
);

1799 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

1801 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

1803 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

1805 
	`ECMA_FINALIZE
 (
obj_this
);

1807  
ªt_vÆue
;

1808 
	}
}

1819 
ecma_vÆue_t


1820 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_œ°_ödex_of
 (
ecma_vÆue_t
 
this_¨g
,

1821 c⁄° 
ecma_vÆue_t
 
¨gs
[],

1822 
ecma_Àngth_t
 
¨gs_numbî
)

1824 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1825 
ecma_vÆue_t
 
£¨ch_ñemít
 = (
¨gs_numbî
 > 0Ë? 
¨gs
[0] : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1828 
	`ECMA_TRY_CATCH
 (
obj_this
,

1829 
	`ecma_›_to_obje˘
 (
this_¨g
),

1830 
ªt_vÆue
);

1832 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

1833 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1836 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

1837 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

1838 
ªt_vÆue
);

1840 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

1843 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

1845 
ecma_numbî_t
 
num
 = 
ECMA_NUMBER_MINUS_ONE
;

1848 i‡(
Àn
 == 0)

1850 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
num
);

1854 
uöt32_t
 
‰om_idx
 = 
Àn
 - 1;

1857 i‡(
¨gs_numbî
 > 1)

1859 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_‰om_idx
, 
¨gs
[1], 
ªt_vÆue
);

1861 i‡(!
	`ecma_numbî_is_«n
 (
¨g_‰om_idx
))

1864 i‡(
	`ecma_numbî_is_öföôy
 (
¨g_‰om_idx
))

1866 
‰om_idx
 = 
	`ecma_numbî_is_√g©ive
 (
¨g_‰om_idx
Ë? (
uöt32_t
Ë-1 : 
Àn
 - 1;

1870 
öt32_t
 
öt_‰om_idx
 = 
	`ecma_numbî_to_öt32
 (
¨g_‰om_idx
);

1873 i‡(
öt_‰om_idx
 >= 0)

1876 i‡((
uöt32_t
Ë
öt_‰om_idx
 > 
Àn
 - 1)

1878 
‰om_idx
 = 
Àn
 - 1;

1882 
‰om_idx
 = (
uöt32_t
Ë
öt_‰om_idx
;

1888 
öt_‰om_idx
 = -int_from_idx;

1891 i‡((
uöt32_t
Ë
öt_‰om_idx
 <
Àn
)

1893 
‰om_idx
 = 
Àn
 - (
uöt32_t
Ë
öt_‰om_idx
;

1901 
‰om_idx
 = (
uöt32_t
) -1;

1908 
‰om_idx
 = 0;

1911 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_‰om_idx
);

1919 ; 
‰om_idx
 < 
Àn
 && 
num
 < 0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); from_idx--)

1922 
ecma_°rög_t
 *
idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
‰om_idx
);

1925 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
idx_°r_p
), 
ªt_vÆue
);

1927 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

1930 i‡(
	`ecma_›_°ri˘_equÆôy_com∑ª
 (
£¨ch_ñemít
, 
gë_vÆue
))

1932 
num
 = ((
ecma_numbî_t
Ë
‰om_idx
);

1936 
	`ECMA_FINALIZE
 (
gë_vÆue
);

1938 
	`ecma_dîef_ecma_°rög
 (
idx_°r_p
);

1941 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1943 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
num
);

1947 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

1948 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

1949 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

1950 
	`ECMA_FINALIZE
 (
obj_this
);

1952  
ªt_vÆue
;

1953 
	}
}

1964 
ecma_vÆue_t


1965 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_evîy
 (
ecma_vÆue_t
 
this_¨g
,

1966 
ecma_vÆue_t
 
¨g1
,

1967 
ecma_vÆue_t
 
¨g2
)

1969 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1972 
	`ECMA_TRY_CATCH
 (
obj_this
,

1973 
	`ecma_›_to_obje˘
 (
this_¨g
),

1974 
ªt_vÆue
);

1976 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

1977 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1980 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

1981 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

1982 
ªt_vÆue
);

1984 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

1987 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

1990 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
¨g1
))

1992 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

1996 
ecma_vÆue_t
 
cuºít_ödex
;

1997 
ecma_obje˘_t
 *
func_obje˘_p
;

2000 
ecma_vÆue_t
 
to_obje˘_comp
 = 
	`ecma_›_to_obje˘
 (
¨g1
);

2001 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
to_obje˘_comp
));

2003 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
to_obje˘_comp
);

2006 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

2009 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2012 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2014 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

2017 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

2019 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
gë_vÆue
, 
cuºít_ödex
, 
obj_this
 };

2021 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
¨g2
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

2024 i‡(!
	`ecma_›_to_boﬁón
 (
ˇŒ_vÆue
))

2026 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

2029 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

2032 
	`ECMA_FINALIZE
 (
gë_vÆue
);

2034 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2037 
	`ecma_‰ì_vÆue
 (
to_obje˘_comp
);

2039 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2042 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

2046 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2047 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2048 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2049 
	`ECMA_FINALIZE
 (
obj_this
);

2051  
ªt_vÆue
;

2052 
	}
}

2063 
ecma_vÆue_t


2064 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_some
 (
ecma_vÆue_t
 
this_¨g
,

2065 
ecma_vÆue_t
 
¨g1
,

2066 
ecma_vÆue_t
 
¨g2
)

2068 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2071 
	`ECMA_TRY_CATCH
 (
obj_this
,

2072 
	`ecma_›_to_obje˘
 (
this_¨g
),

2073 
ªt_vÆue
);

2075 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

2076 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

2079 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

2080 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

2081 
ªt_vÆue
);

2083 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

2086 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

2089 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
¨g1
))

2091 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

2095 
ecma_vÆue_t
 
cuºít_ödex
;

2096 
ecma_obje˘_t
 *
func_obje˘_p
;

2099 
ecma_vÆue_t
 
to_obje˘_comp
 = 
	`ecma_›_to_obje˘
 (
¨g1
);

2100 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
to_obje˘_comp
));

2102 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
to_obje˘_comp
);

2105 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

2108 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2111 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2113 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

2116 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

2118 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
gë_vÆue
, 
cuºít_ödex
, 
obj_this
 };

2121 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
¨g2
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

2124 i‡(
	`ecma_›_to_boﬁón
 (
ˇŒ_vÆue
))

2126 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

2129 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

2132 
	`ECMA_FINALIZE
 (
gë_vÆue
);

2134 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2137 
	`ecma_‰ì_vÆue
 (
to_obje˘_comp
);

2139 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2142 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

2146 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2147 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2148 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2149 
	`ECMA_FINALIZE
 (
obj_this
);

2151  
ªt_vÆue
;

2152 
	}
}

2163 
ecma_vÆue_t


2164 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_f‹_óch
 (
ecma_vÆue_t
 
this_¨g
,

2165 
ecma_vÆue_t
 
¨g1
,

2166 
ecma_vÆue_t
 
¨g2
)

2168 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2170 
	`ECMA_TRY_CATCH
 (
obj_this
,

2171 
	`ecma_›_to_obje˘
 (
this_¨g
),

2172 
ªt_vÆue
);

2174 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

2175 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

2178 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

2179 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

2180 
ªt_vÆue
);

2182 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

2185 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

2188 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
¨g1
))

2190 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

2194 
ecma_vÆue_t
 
cuºít_ödex
;

2195 
ecma_obje˘_t
 *
func_obje˘_p
;

2198 
ecma_vÆue_t
 
to_obje˘_comp
 = 
	`ecma_›_to_obje˘
 (
¨g1
);

2199 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
to_obje˘_comp
));

2201 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
to_obje˘_comp
);

2204 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

2207 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2210 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2212 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

2215 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

2218 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = {
cuºít_vÆue
, 
cuºít_ödex
, 
obj_this
};

2219 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
¨g2
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

2221 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

2224 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

2226 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2229 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2232 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2235 
	`ecma_‰ì_vÆue
 (
to_obje˘_comp
);

2238 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2239 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2240 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2241 
	`ECMA_FINALIZE
 (
obj_this
);

2243  
ªt_vÆue
;

2244 
	}
}

2255 
ecma_vÆue_t


2256 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_m≠
 (
ecma_vÆue_t
 
this_¨g
,

2257 
ecma_vÆue_t
 
¨g1
,

2258 
ecma_vÆue_t
 
¨g2
)

2260 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2263 
	`ECMA_TRY_CATCH
 (
obj_this
,

2264 
	`ecma_›_to_obje˘
 (
this_¨g
),

2265 
ªt_vÆue
);

2267 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

2268 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

2271 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

2272 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

2273 
ªt_vÆue
);

2275 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

2278 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

2281 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
¨g1
))

2283 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

2287 
ecma_obje˘_t
 *
func_obje˘_p
;

2288 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
¨g1
));

2289 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
);

2294 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (
NULL
, 0, 
Ál£
);

2295 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
√w_¨øy
));

2296 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

2299 
ecma_vÆue_t
 
cuºít_ödex
;

2301 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

2304 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2307 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2309 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

2312 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

2313 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
cuºít_vÆue
, 
cuºít_ödex
, 
obj_this
 };

2315 
	`ECMA_TRY_CATCH
 (
m≠≥d_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
¨g2
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

2319 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

2320 
ödex_°r_p
,

2321 
m≠≥d_vÆue
,

2322 
åue
,

2323 
åue
,

2324 
åue
,

2325 
Ál£
);

2326 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

2328 
	`ECMA_FINALIZE
 (
m≠≥d_vÆue
);

2331 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

2333 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2336 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2338 
	`ECMA_TRY_CATCH
 (
£t_Àngth_vÆue
,

2339 
	`ecma_buûtö_¨øy_¥ŸŸy≥_hñ≥r_£t_Àngth
 (
√w_¨øy_p
, ((
ecma_numbî_t
Ë
Àn
)),

2340 
ªt_vÆue
);

2341 
ªt_vÆue
 = 
√w_¨øy
;

2342 
	`ECMA_FINALIZE
 (
£t_Àngth_vÆue
);

2346 
	`ecma_‰ì_vÆue
 (
√w_¨øy
);

2350 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2351 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2352 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2353 
	`ECMA_FINALIZE
 (
obj_this
);

2355  
ªt_vÆue
;

2356 
	}
}

2367 
ecma_vÆue_t


2368 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_fûãr
 (
ecma_vÆue_t
 
this_¨g
,

2369 
ecma_vÆue_t
 
¨g1
,

2370 
ecma_vÆue_t
 
¨g2
)

2372 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2375 
	`ECMA_TRY_CATCH
 (
obj_this
,

2376 
	`ecma_›_to_obje˘
 (
this_¨g
),

2377 
ªt_vÆue
);

2379 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

2380 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

2383 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

2384 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

2385 
ªt_vÆue
);

2388 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

2390 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

2393 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
¨g1
))

2395 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

2399 
ecma_vÆue_t
 
cuºít_ödex
;

2400 
ecma_obje˘_t
 *
func_obje˘_p
;

2403 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (
NULL
, 0, 
Ál£
);

2404 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
√w_¨øy
));

2405 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

2408 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
¨g1
));

2409 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
);

2412 
uöt32_t
 
√w_¨øy_ödex
 = 0;

2415 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

2418 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2421 
	`ECMA_TRY_CATCH
 (
gë_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2423 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

2426 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

2428 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
gë_vÆue
, 
cuºít_ödex
, 
obj_this
 };

2430 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
¨g2
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

2433 i‡(
	`ecma_›_to_boﬁón
 (
ˇŒ_vÆue
))

2435 
ecma_°rög_t
 *
to_ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
√w_¨øy_ödex
);

2438 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

2439 
to_ödex_°rög_p
,

2440 
gë_vÆue
,

2441 
åue
,

2442 
åue
,

2443 
åue
,

2444 
Ál£
);

2445 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

2447 
	`ecma_dîef_ecma_°rög
 (
to_ödex_°rög_p
);

2448 
√w_¨øy_ödex
++;

2451 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

2454 
	`ECMA_FINALIZE
 (
gë_vÆue
);

2456 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2459 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2462 
ªt_vÆue
 = 
√w_¨øy
;

2466 
	`ecma_‰ì_vÆue
 (
√w_¨øy
);

2470 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2471 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2472 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2473 
	`ECMA_FINALIZE
 (
obj_this
);

2475  
ªt_vÆue
;

2476 
	}
}

2487 
ecma_vÆue_t


2488 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ªdu˚
 (
ecma_vÆue_t
 
this_¨g
,

2489 c⁄° 
ecma_vÆue_t
 
¨gs
[],

2490 
ecma_Àngth_t
 
¨gs_numbî
)

2492 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2493 
ecma_vÆue_t
 
ˇŒback‚
 = (
¨gs_numbî
 > 0Ë? 
¨gs
[0] : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2494 
ecma_vÆue_t
 
öôül_vÆue
 = (
¨gs_numbî
 > 1Ë? 
¨gs
[1] : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2497 
	`ECMA_TRY_CATCH
 (
obj_this
,

2498 
	`ecma_›_to_obje˘
 (
this_¨g
),

2499 
ªt_vÆue
);

2501 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

2502 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

2505 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

2506 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

2507 
ªt_vÆue
);

2509 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

2512 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

2515 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
ˇŒback‚
))

2517 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

2521 
ecma_obje˘_t
 *
func_obje˘_p
;

2523 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ˇŒback‚
));

2524 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇŒback‚
);

2525 
ecma_vÆue_t
 
accumuœt‹
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2528 i‡(
Àn_numbî
 =
ECMA_NUMBER_ZERO
 && 
	`ecma_is_vÆue_undeföed
 (
öôül_vÆue
))

2530 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Initial value cannot be undefined."));

2535 
uöt32_t
 
ödex
 = 0;

2538 i‡(
¨gs_numbî
 > 1)

2540 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
öôül_vÆue
);

2545 
boﬁ
 
k_¥e£¡
 = 
Ál£
;

2548 !
k_¥e£¡
 && 
ödex
 < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2551 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2552 
k_¥e£¡
 = 
åue
;

2555 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2557 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

2559 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
cuºít_vÆue
);

2563 
k_¥e£¡
 = 
Ál£
;

2566 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

2569 
ödex
++;

2571 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2575 i‡(!
k_¥e£¡
)

2577 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("MissingárrayÉlement."));

2581 
ecma_vÆue_t
 
cuºít_ödex
;

2583 ; 
ödex
 < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

2586 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

2589 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2591 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

2594 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

2595 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = {
accumuœt‹
, 
cuºít_vÆue
, 
cuºít_ödex
, 
obj_this
};

2597 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
,

2598 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
,

2599 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

2600 
ˇŒ_¨gs
,

2602 
ªt_vÆue
);

2604 
	`ecma_‰ì_vÆue
 (
accumuœt‹
);

2605 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
ˇŒ_vÆue
);

2607 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

2610 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

2612 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2616 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2618 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
accumuœt‹
);

2622 
	`ecma_‰ì_vÆue
 (
accumuœt‹
);

2625 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2626 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2627 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2628 
	`ECMA_FINALIZE
 (
obj_this
);

2630  
ªt_vÆue
;

2631 
	}
}

2642 
ecma_vÆue_t


2643 
	$ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ªdu˚_right
 (
ecma_vÆue_t
 
this_¨g
,

2644 c⁄° 
ecma_vÆue_t
 
¨gs
[],

2645 
ecma_Àngth_t
 
¨gs_numbî
)

2647 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2648 
ecma_vÆue_t
 
ˇŒback‚
 = (
¨gs_numbî
 > 0Ë? 
¨gs
[0] : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2649 
ecma_vÆue_t
 
öôül_vÆue
 = (
¨gs_numbî
 > 1Ë? 
¨gs
[1] : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2652 
	`ECMA_TRY_CATCH
 (
obj_this
,

2653 
	`ecma_›_to_obje˘
 (
this_¨g
),

2654 
ªt_vÆue
);

2656 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

2657 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

2660 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

2661 
	`ecma_›_obje˘_gë
 (
obj_p
, 
magic_°rög_Àngth_p
),

2662 
ªt_vÆue
);

2664 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

2667 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

2670 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
ˇŒback‚
))

2672 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

2676 
ecma_obje˘_t
 *
func_obje˘_p
;

2678 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ˇŒback‚
));

2679 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇŒback‚
);

2682 i‡(
Àn_numbî
 =
ECMA_NUMBER_ZERO
 && 
	`ecma_is_vÆue_undeföed
 (
öôül_vÆue
))

2684 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Initial value cannot be undefined."));

2688 
ecma_vÆue_t
 
accumuœt‹
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2691 
öt64_t
 
ödex
 = (öt64_tË
Àn
 - 1;

2694 i‡(
¨gs_numbî
 > 1)

2696 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
öôül_vÆue
);

2701 
boﬁ
 
k_¥e£¡
 = 
Ál£
;

2704 !
k_¥e£¡
 && 
ödex
 >0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2707 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë
ödex
);

2708 
k_¥e£¡
 = 
åue
;

2711 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2713 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

2715 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
cuºít_vÆue
);

2719 
k_¥e£¡
 = 
Ál£
;

2722 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

2725 
ödex
--;

2727 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2731 i‡(!
k_¥e£¡
)

2733 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("MissingárrayÉlement."));

2737 
ecma_vÆue_t
 
cuºít_ödex
;

2739 ; 
ödex
 >0 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index--)

2742 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë
ödex
);

2745 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
obj_p
, 
ödex_°r_p
), 
ªt_vÆue
);

2747 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

2750 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 ((
uöt32_t
Ë
ödex
);

2751 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = {
accumuœt‹
, 
cuºít_vÆue
, 
cuºít_ödex
, 
obj_this
};

2753 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
,

2754 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
,

2755 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

2756 
ˇŒ_¨gs
,

2758 
ªt_vÆue
);

2760 
	`ecma_‰ì_vÆue
 (
accumuœt‹
);

2761 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
ˇŒ_vÆue
);

2763 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

2766 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

2768 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

2772 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2774 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
accumuœt‹
);

2777 
	`ecma_‰ì_vÆue
 (
accumuœt‹
);

2781 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

2782 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

2783 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

2784 
	`ECMA_FINALIZE
 (
obj_this
);

2786  
ªt_vÆue
;

2787 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_ARRAY
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

36 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

38 
ECMA_PROPERTY_FLAG_WRITABLE
)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_to_°rög
, 0, 0)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_STRING_UL
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_to_loˇÀ_°rög
, 0, 0)

44 
	$ROUTINE
 (
LIT_MAGIC_STRING_CONCAT
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_c⁄ˇt
, 
NON_FIXED
, 1)

45 
	$ROUTINE
 (
LIT_MAGIC_STRING_JOIN
, 
ecma_buûtö_¨øy_¥ŸŸy≥_joö
, 1, 1)

46 
	$ROUTINE
 (
LIT_MAGIC_STRING_POP
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_p›
, 0, 0)

47 
	$ROUTINE
 (
LIT_MAGIC_STRING_PUSH
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_push
, 
NON_FIXED
, 1)

48 
	$ROUTINE
 (
LIT_MAGIC_STRING_REVERSE
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ªvî£
, 0, 0)

49 
	$ROUTINE
 (
LIT_MAGIC_STRING_SHIFT
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_shi·
, 0, 0)

50 
	$ROUTINE
 (
LIT_MAGIC_STRING_SLICE
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_¶i˚
, 2, 2)

51 
	$ROUTINE
 (
LIT_MAGIC_STRING_SORT
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_s‹t
, 1, 1)

52 
	$ROUTINE
 (
LIT_MAGIC_STRING_SPLICE
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_•li˚
, 
NON_FIXED
, 2)

53 
	$ROUTINE
 (
LIT_MAGIC_STRING_UNSHIFT
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_unshi·
, 
NON_FIXED
, 1)

54 
	$ROUTINE
 (
LIT_MAGIC_STRING_INDEX_OF_UL
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ödex_of
, 2, 1)

55 
	$ROUTINE
 (
LIT_MAGIC_STRING_LAST_INDEX_OF_UL
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_œ°_ödex_of
, 
NON_FIXED
, 1)

56 
	$ROUTINE
 (
LIT_MAGIC_STRING_EVERY
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_evîy
, 2, 1)

57 
	$ROUTINE
 (
LIT_MAGIC_STRING_SOME
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_some
, 2, 1)

58 
	$ROUTINE
 (
LIT_MAGIC_STRING_FOR_EACH_UL
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_f‹_óch
, 2, 1)

59 
	$ROUTINE
 (
LIT_MAGIC_STRING_MAP
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_m≠
, 2, 1)

60 
	$ROUTINE
 (
LIT_MAGIC_STRING_FILTER
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_fûãr
, 2, 1)

61 
	$ROUTINE
 (
LIT_MAGIC_STRING_REDUCE
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ªdu˚
, 
NON_FIXED
, 1)

62 
	$ROUTINE
 (
LIT_MAGIC_STRING_REDUCE_RIGHT_UL
, 
ecma_buûtö_¨øy_¥ŸŸy≥_obje˘_ªdu˚_right
, 
NON_FIXED
, 1)

66 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-¨øy-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-¨øy.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
¨øy


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

56 
ecma_vÆue_t


57 
	$ecma_buûtö_¨øy_obje˘_is_¨øy
 (
ecma_vÆue_t
 
this_¨g
,

58 
ecma_vÆue_t
 
¨g
)

60 
	`JERRY_UNUSED
 (
this_¨g
);

61 
ecma_sim∂e_vÆue_t
 
is_¨øy
 = 
ECMA_SIMPLE_VALUE_FALSE
;

63 i‡(
	`ecma_is_vÆue_obje˘
 (
¨g
))

65 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

67 i‡(
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
Ë=
LIT_MAGIC_STRING_ARRAY_UL
)

69 
is_¨øy
 = 
ECMA_SIMPLE_VALUE_TRUE
;

73  
	`ecma_make_sim∂e_vÆue
 (
is_¨øy
);

74 
	}
}

81 
ecma_vÆue_t


82 
	$ecma_buûtö_¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

83 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

85 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

87  
	`ecma_buûtö_¨øy_di•©ch_c⁄°ru˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

88 
	}
}

95 
ecma_vÆue_t


96 
	$ecma_buûtö_¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

97 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

99 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

101  
	`ecma_›_¸óã_¨øy_obje˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
, 
åue
);

102 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

29 
ECMA_BUILTIN_ID_ARRAY_PROTOTYPE
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

38 
ECMA_PROPERTY_FIXED
)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_ARRAY_UL
, 
ecma_buûtö_¨øy_obje˘_is_¨øy
, 1, 1)

46 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer-prototype.c

16 
	~"ecma-buûtö-hñ≥rs.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-obje˘s.h
"

22 
	~"ecma-¨øybuf„r-obje˘.h
"

23 
	~"ecma-åy-ˇtch-ma¸o.h
"

24 
	~"jπ.h
"

25 
	~"jπ-libc-ö˛udes.h
"

27 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


29 
	#ECMA_BUILTINS_INTERNAL


	)

30 
	~"ecma-buûtös-öã∫Æ.h
"

32 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-¨øybuf„r-¥ŸŸy≥.öc.h"

	)

33 
	#BUILTIN_UNDERSCORED_ID
 
¨øybuf„r_¥ŸŸy≥


	)

34 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

55 
ecma_vÆue_t


56 
	$ecma_buûtö_¨øybuf„r_¥ŸŸy≥_byãÀngth_gëãr
 (
ecma_vÆue_t
 
this_¨g
)

58 i‡(
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

60 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

62 i‡(
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
))

64 
ecma_Àngth_t
 
Àn
 = 
	`ecma_¨øybuf„r_gë_Àngth
 (
obje˘_p
);

66  
	`ecma_make_uöt32_vÆue
 (
Àn
);

70  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá ArrayBuffer object."));

71 
	}
}

82 
ecma_vÆue_t


83 
	$ecma_buûtö_¨øybuf„r_¥ŸŸy≥_obje˘_¶i˚
 (
ecma_vÆue_t
 
this_¨g
,

84 
ecma_vÆue_t
 
¨g1
,

85 
ecma_vÆue_t
 
¨g2
)

87 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

89  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇot object."));

92 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

94 i‡(!
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
))

96  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotán ArrayBuffer object."));

99 
ecma_Àngth_t
 
Àn
 = 
	`ecma_¨øybuf„r_gë_Àngth
 (
obje˘_p
);

101 
ecma_Àngth_t
 
°¨t
 = 0, 
íd
 = 
Àn
;

103 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

105 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
°¨t_num
,

106 
¨g1
,

107 
ªt_vÆue
);

109 
°¨t
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
°¨t_num
, 
Àn
);

111 i‡(!
	`ecma_is_vÆue_undeföed
 (
¨g2
))

113 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
íd_num
,

114 
¨g2
,

115 
ªt_vÆue
);

117 
íd
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
íd_num
, 
Àn
);

119 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
íd_num
);

122 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
°¨t_num
);

124 
	`JERRY_ASSERT
 (
°¨t
 <
Àn
 && 
íd
 <=Üen);

125 
ecma_Àngth_t
 
√w_Àn
 = (
íd
 >
°¨t
) ? (end - start) : 0;

126 
ecma_obje˘_t
 *
√w_¨øybuf„r_p
 = 
	`ecma_¨øybuf„r_√w_obje˘
 (
√w_Àn
);

127 
lô_utf8_byã_t
 *
ﬁd_buf
 = 
	`ecma_¨øybuf„r_gë_buf„r
 (
obje˘_p
);

128 
lô_utf8_byã_t
 *
√w_buf
 = 
	`ecma_¨øybuf„r_gë_buf„r
 (
√w_¨øybuf„r_p
);

130 
	`mem˝y
 (
√w_buf
, 
ﬁd_buf
 + 
°¨t
, 
√w_Àn
);

132  
	`ecma_make_obje˘_vÆue
 (
√w_¨øybuf„r_p
);

133 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


27 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

28 
ECMA_BUILTIN_ID_ARRAYBUFFER
,

29 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

32 
	$ACCESSOR_READ_ONLY
 (
LIT_MAGIC_STRING_BYTE_LENGTH_UL
,

33 
ecma_buûtö_¨øybuf„r_¥ŸŸy≥_byãÀngth_gëãr
,

34 
ECMA_PROPERTY_FIXED
)

38 
	$ROUTINE
 (
LIT_MAGIC_STRING_SLICE
, 
ecma_buûtö_¨øybuf„r_¥ŸŸy≥_obje˘_¶i˚
, 2, 2)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-¨øybuf„r-obje˘.h
"

22 
	~"ecma-åy-ˇtch-ma¸o.h
"

23 
	~"jπ.h
"

25 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


27 
	#ECMA_BUILTINS_INTERNAL


	)

28 
	~"ecma-buûtös-öã∫Æ.h
"

30 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-¨øybuf„r.öc.h"

	)

31 
	#BUILTIN_UNDERSCORED_ID
 
¨øybuf„r


	)

32 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

53 
ecma_vÆue_t


54 
	$ecma_buûtö_¨øybuf„r_obje˘_is_võw
 (
ecma_vÆue_t
 
this_¨g
,

55 
ecma_vÆue_t
 
¨g
)

57 
	`JERRY_UNUSED
 (
this_¨g
);

58 
	`JERRY_UNUSED
 (
¨g
);

62  
	`ecma_make_boﬁón_vÆue
 (
Ál£
);

63 
	}
}

74 
ecma_vÆue_t


75 
	$ecma_buûtö_¨øybuf„r_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

76 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

78 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

80  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Constructor ArrayBufferÑequires 'new'"));

81 
	}
}

88 
ecma_vÆue_t


89 
	$ecma_buûtö_¨øybuf„r_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

90 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

92 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

94  
	`ecma_›_¸óã_¨øybuf„r_obje˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

95 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


27 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

29 
ECMA_PROPERTY_FIXED
)

34 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

35 
ECMA_BUILTIN_ID_ARRAYBUFFER_PROTOTYPE
,

36 
ECMA_PROPERTY_FIXED
)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_VIEW_UL
, 
ecma_buûtö_¨øybuf„r_obje˘_is_võw
, 1, 1)

46 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-boﬁón-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
boﬁón_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

56 
ecma_vÆue_t


57 
	$ecma_buûtö_boﬁón_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

59 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

61 
	`ECMA_TRY_CATCH
 (
vÆue_of_ªt
,

62 
	`ecma_buûtö_boﬁón_¥ŸŸy≥_obje˘_vÆue_of
 (
this_¨g
),

63 
ªt_vÆue
);

65 
ecma_°rög_t
 *
ªt_°r_p
;

67 i‡(
	`ecma_is_vÆue_åue
 (
vÆue_of_ªt
))

69 
ªt_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_TRUE
);

73 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
vÆue_of_ªt
));

75 
ªt_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_FALSE
);

78 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªt_°r_p
);

80 
	`ECMA_FINALIZE
 (
vÆue_of_ªt
);

82  
ªt_vÆue
;

83 
	}
}

94 
ecma_vÆue_t


95 
	$ecma_buûtö_boﬁón_¥ŸŸy≥_obje˘_vÆue_of
 (
ecma_vÆue_t
 
this_¨g
)

97 i‡(
	`ecma_is_vÆue_boﬁón
 (
this_¨g
))

99  
this_¨g
;

101 i‡(
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

103 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

105 i‡(
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_BOOLEAN_UL
))

107 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

109 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
));

111  
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

115  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá Boolean object."));

116 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_BOOLEAN
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

34 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_boﬁón_¥ŸŸy≥_obje˘_to_°rög
, 0, 0)

35 
	$ROUTINE
 (
LIT_MAGIC_STRING_VALUE_OF_UL
, 
ecma_buûtö_boﬁón_¥ŸŸy≥_obje˘_vÆue_of
, 0, 0)

39 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-boﬁón-obje˘.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-boﬁón.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
boﬁón


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_boﬁón_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

58 
ecma_vÆue_t
 
¨g_vÆue
;

60 i‡(
¨gumíts_li°_Àn
 == 0)

62 
¨g_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

66 
¨g_vÆue
 = 
¨gumíts_li°_p
[0];

69  
	`ecma_make_sim∂e_vÆue
 (
	`ecma_›_to_boﬁón
 (
¨g_vÆue
Ë? 
ECMA_SIMPLE_VALUE_TRUE


70 : 
ECMA_SIMPLE_VALUE_FALSE
);

71 
	}
}

78 
ecma_vÆue_t


79 
	$ecma_buûtö_boﬁón_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

80 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

82 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

84 i‡(
¨gumíts_li°_Àn
 == 0)

86  
	`ecma_›_¸óã_boﬁón_obje˘
 (
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
));

90  
	`ecma_›_¸óã_boﬁón_obje˘
 (
¨gumíts_li°_p
[0]);

92 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

29 
ECMA_BUILTIN_ID_BOOLEAN_PROTOTYPE
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date-prototype.c

16 
	~<m©h.h
>

18 
	~"ecma-Æloc.h
"

19 
	~"ecma-buûtö-hñ≥rs.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-fun˘i⁄-obje˘.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

27 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


29 
	#ECMA_BUILTINS_INTERNAL


	)

30 
	~"ecma-buûtös-öã∫Æ.h
"

35 
	#BUILTIN_CUSTOM_DISPATCH


	)

40 
	#BUILTIN_DATE_FUNCTION_IS_UTC
(
buûtö_routöe_id
) \

41 (((
buûtö_routöe_id
Ë- 
ECMA_DATE_PROTOTYPE_GET_FULL_YEAR
Ë& 0x1)

	)

48 
	mECMA_DATE_PROTOTYPE_ROUTINE_START
 = 
ECMA_BUILTIN_ID__COUNT
 - 1,

50 
	mECMA_DATE_PROTOTYPE_GET_FULL_YEAR
,

51 
	mECMA_DATE_PROTOTYPE_GET_UTC_FULL_YEAR
,

52 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


53 
	mECMA_DATE_PROTOTYPE_GET_YEAR
,

54 
	mECMA_DATE_PROTOTYPE_GET_UTC_YEAR
,

56 
	mECMA_DATE_PROTOTYPE_GET_MONTH
,

57 
	mECMA_DATE_PROTOTYPE_GET_UTC_MONTH
,

58 
	mECMA_DATE_PROTOTYPE_GET_DATE
,

59 
	mECMA_DATE_PROTOTYPE_GET_UTC_DATE
,

60 
	mECMA_DATE_PROTOTYPE_GET_DAY
,

61 
	mECMA_DATE_PROTOTYPE_GET_UTC_DAY
,

62 
	mECMA_DATE_PROTOTYPE_GET_HOURS
,

63 
	mECMA_DATE_PROTOTYPE_GET_UTC_HOURS
,

64 
	mECMA_DATE_PROTOTYPE_GET_MINUTES
,

65 
	mECMA_DATE_PROTOTYPE_GET_UTC_MINUTES
,

66 
	mECMA_DATE_PROTOTYPE_GET_SECONDS
,

67 
	mECMA_DATE_PROTOTYPE_GET_UTC_SECONDS
,

68 
	mECMA_DATE_PROTOTYPE_GET_MILLISECONDS
,

69 
	mECMA_DATE_PROTOTYPE_GET_UTC_MILLISECONDS
,

70 
	mECMA_DATE_PROTOTYPE_GET_TIMEZONE_OFFSET
,

71 
	mECMA_DATE_PROTOTYPE_GET_UTC_TIMEZONE_OFFSET
,

73 
	mECMA_DATE_PROTOTYPE_SET_FULL_YEAR
,

74 
	mECMA_DATE_PROTOTYPE_SET_UTC_FULL_YEAR
,

75 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


76 
	mECMA_DATE_PROTOTYPE_SET_YEAR
,

77 
	mECMA_DATE_PROTOTYPE_SET_UTC_YEAR
,

79 
	mECMA_DATE_PROTOTYPE_SET_MONTH
,

80 
	mECMA_DATE_PROTOTYPE_SET_UTC_MONTH
,

81 
	mECMA_DATE_PROTOTYPE_SET_DATE
,

82 
	mECMA_DATE_PROTOTYPE_SET_UTC_DATE
,

83 
	mECMA_DATE_PROTOTYPE_SET_HOURS
,

84 
	mECMA_DATE_PROTOTYPE_SET_UTC_HOURS
,

85 
	mECMA_DATE_PROTOTYPE_SET_MINUTES
,

86 
	mECMA_DATE_PROTOTYPE_SET_UTC_MINUTES
,

87 
	mECMA_DATE_PROTOTYPE_SET_SECONDS
,

88 
	mECMA_DATE_PROTOTYPE_SET_UTC_SECONDS
,

89 
	mECMA_DATE_PROTOTYPE_SET_MILLISECONDS
,

90 
	mECMA_DATE_PROTOTYPE_SET_UTC_MILLISECONDS
,

92 
	mECMA_DATE_PROTOTYPE_TO_STRING
,

93 
	mECMA_DATE_PROTOTYPE_TO_DATE_STRING
,

94 
	mECMA_DATE_PROTOTYPE_TO_TIME_STRING
,

95 
	mECMA_DATE_PROTOTYPE_TO_UTC_STRING
,

96 
	mECMA_DATE_PROTOTYPE_TO_ISO_STRING
,

98 
	mECMA_DATE_PROTOTYPE_GET_TIME
,

99 
	mECMA_DATE_PROTOTYPE_SET_TIME
,

100 
	mECMA_DATE_PROTOTYPE_TO_JSON
,

103 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-d©e-¥ŸŸy≥.öc.h"

	)

104 
	#BUILTIN_UNDERSCORED_ID
 
d©e_¥ŸŸy≥


	)

105 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

126 
ecma_vÆue_t


127 
	$ecma_buûtö_d©e_¥ŸŸy≥_to_js⁄
 (
ecma_vÆue_t
 
this_¨g
)

129 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

132 
	`ECMA_TRY_CATCH
 (
obj
,

133 
	`ecma_›_to_obje˘
 (
this_¨g
),

134 
ªt_vÆue
);

137 
	`ECMA_TRY_CATCH
 (
tv
,

138 
	`ecma_›_to_¥imôive
 (
obj
, 
ECMA_PREFERRED_TYPE_NUMBER
),

139 
ªt_vÆue
);

142 i‡(
	`ecma_is_vÆue_numbî
 (
tv
))

144 
ecma_numbî_t
 
num_vÆue
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
tv
);

146 i‡(
	`ecma_numbî_is_«n
 (
num_vÆue
Ë|| 
	`ecma_numbî_is_öföôy
 (num_value))

148 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

152 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

154 
ecma_°rög_t
 *
to_iso_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_TO_ISO_STRING_UL
);

155 
ecma_obje˘_t
 *
vÆue_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj
);

158 
	`ECMA_TRY_CATCH
 (
to_iso
,

159 
	`ecma_›_obje˘_gë
 (
vÆue_obj_p
, 
to_iso_°r_p
),

160 
ªt_vÆue
);

163 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
to_iso
))

165 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'toISOString' is missing orÇotá function."));

170 
ecma_obje˘_t
 *
to_iso_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
to_iso
);

171 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
to_iso_obj_p
, 
this_¨g
, 
NULL
, 0);

174 
	`ECMA_FINALIZE
 (
to_iso
);

176 
	`ecma_dîef_ecma_°rög
 (
to_iso_°r_p
);

179 
	`ECMA_FINALIZE
 (
tv
);

180 
	`ECMA_FINALIZE
 (
obj
);

182  
ªt_vÆue
;

183 
	}
}

191 
ecma_vÆue_t


192 
	$ecma_buûtö_d©e_¥ŸŸy≥_di•©ch_gë
 (
uöt16_t
 
buûtö_routöe_id
,

194 
ecma_numbî_t
 
d©e_num
)

196 i‡(
	`ecma_numbî_is_«n
 (
d©e_num
))

198 
ecma_°rög_t
 *
«n_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NAN
);

199  
	`ecma_make_°rög_vÆue
 (
«n_°r_p
);

202 
buûtö_routöe_id
)

204 
ECMA_DATE_PROTOTYPE_GET_FULL_YEAR
:

205 
ECMA_DATE_PROTOTYPE_GET_UTC_FULL_YEAR
:

206 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


207 
ECMA_DATE_PROTOTYPE_GET_YEAR
:

210 
d©e_num
 = 
	`ecma_d©e_yór_‰om_time
 (date_num);

212 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


213 i‡(
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_GET_YEAR
)

215 
d©e_num
 -= 1900;

221 
ECMA_DATE_PROTOTYPE_GET_MONTH
:

222 
ECMA_DATE_PROTOTYPE_GET_UTC_MONTH
:

224 
d©e_num
 = 
	`ecma_d©e_m⁄th_‰om_time
 (date_num);

227 
ECMA_DATE_PROTOTYPE_GET_DATE
:

228 
ECMA_DATE_PROTOTYPE_GET_UTC_DATE
:

230 
d©e_num
 = 
	`ecma_d©e_d©e_‰om_time
 (date_num);

233 
ECMA_DATE_PROTOTYPE_GET_DAY
:

234 
ECMA_DATE_PROTOTYPE_GET_UTC_DAY
:

236 
d©e_num
 = 
	`ecma_d©e_wìk_day
 (date_num);

239 
ECMA_DATE_PROTOTYPE_GET_HOURS
:

240 
ECMA_DATE_PROTOTYPE_GET_UTC_HOURS
:

242 
d©e_num
 = 
	`ecma_d©e_hour_‰om_time
 (date_num);

245 
ECMA_DATE_PROTOTYPE_GET_MINUTES
:

246 
ECMA_DATE_PROTOTYPE_GET_UTC_MINUTES
:

248 
d©e_num
 = 
	`ecma_d©e_mö_‰om_time
 (date_num);

251 
ECMA_DATE_PROTOTYPE_GET_SECONDS
:

252 
ECMA_DATE_PROTOTYPE_GET_UTC_SECONDS
:

254 
d©e_num
 = 
	`ecma_d©e_£c_‰om_time
 (date_num);

257 
ECMA_DATE_PROTOTYPE_GET_MILLISECONDS
:

258 
ECMA_DATE_PROTOTYPE_GET_UTC_MILLISECONDS
:

260 
d©e_num
 = 
	`ecma_d©e_ms_‰om_time
 (date_num);

265 
	`JERRY_ASSERT
 (
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_GET_UTC_TIMEZONE_OFFSET
);

266 
d©e_num
 = 
	`ecma_d©e_timez⁄e_off£t
 (date_num);

271  
	`ecma_make_numbî_vÆue
 (
d©e_num
);

272 
	}
}

274 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


279 
	#ECMA_DATE_PROTOTYPE_IS_SET_YEAR_ROUTINE
(
buûtö_routöe_id
) \

280 ((
buûtö_routöe_id
Ë=
ECMA_DATE_PROTOTYPE_SET_FULL_YEAR
 \

281 || (
buûtö_routöe_id
Ë=
ECMA_DATE_PROTOTYPE_SET_UTC_FULL_YEAR
 \

282 || (
buûtö_routöe_id
Ë=
ECMA_DATE_PROTOTYPE_SET_YEAR
)

	)

289 
	#ECMA_DATE_PROTOTYPE_IS_SET_YEAR_ROUTINE
(
buûtö_routöe_id
) \

290 ((
buûtö_routöe_id
Ë=
ECMA_DATE_PROTOTYPE_SET_FULL_YEAR
 \

291 || (
buûtö_routöe_id
Ë=
ECMA_DATE_PROTOTYPE_SET_UTC_FULL_YEAR
)

	)

301 
ecma_vÆue_t


302 
	$ecma_buûtö_d©e_¥ŸŸy≥_di•©ch_£t
 (
uöt16_t
 
buûtö_routöe_id
,

304 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
,

305 
ecma_numbî_t
 
d©e_num
,

306 c⁄° 
ecma_vÆue_t
 
¨gumíts_li°
[],

308 
ecma_Àngth_t
 
¨gumíts_numbî
)

310 
ecma_numbî_t
 
c⁄vîãd_numbî
[4];

311 
ecma_Àngth_t
 
c⁄vîsi⁄s
 = 0;

314 
c⁄vîãd_numbî
[0] = 
	`ecma_numbî_make_«n
 ();

316 
buûtö_routöe_id
)

318 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


319 
ECMA_DATE_PROTOTYPE_SET_YEAR
:

321 
ECMA_DATE_PROTOTYPE_SET_DATE
:

322 
ECMA_DATE_PROTOTYPE_SET_UTC_DATE
:

323 
ECMA_DATE_PROTOTYPE_SET_UTC_MILLISECONDS
:

324 
ECMA_DATE_PROTOTYPE_SET_MILLISECONDS
:

326 
c⁄vîsi⁄s
 = 1;

329 
ECMA_DATE_PROTOTYPE_SET_MONTH
:

330 
ECMA_DATE_PROTOTYPE_SET_UTC_MONTH
:

331 
ECMA_DATE_PROTOTYPE_SET_UTC_SECONDS
:

332 
ECMA_DATE_PROTOTYPE_SET_SECONDS
:

334 
c⁄vîsi⁄s
 = 2;

337 
ECMA_DATE_PROTOTYPE_SET_FULL_YEAR
:

338 
ECMA_DATE_PROTOTYPE_SET_UTC_FULL_YEAR
:

339 
ECMA_DATE_PROTOTYPE_SET_MINUTES
:

340 
ECMA_DATE_PROTOTYPE_SET_UTC_MINUTES
:

342 
c⁄vîsi⁄s
 = 3;

347 
	`JERRY_ASSERT
 (
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_HOURS


348 || 
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_UTC_HOURS
);

349 
c⁄vîsi⁄s
 = 4;

354 i‡(
c⁄vîsi⁄s
 > 
¨gumíts_numbî
)

356 
c⁄vîsi⁄s
 = 
¨gumíts_numbî
;

359 
ecma_Àngth_t
 
i
 = 0; i < 
c⁄vîsi⁄s
; i++)

361 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_to_numbî
 (
¨gumíts_li°
[
i
]);

363 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

365  
vÆue
;

368 
c⁄vîãd_numbî
[
i
] = 
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue
);

369 
	`ecma_‰ì_vÆue
 (
vÆue
);

372 
ecma_numbî_t
 
day_∑π
;

373 
ecma_numbî_t
 
time_∑π
;

375 i‡(
buûtö_routöe_id
 <
ECMA_DATE_PROTOTYPE_SET_UTC_DATE
)

377 i‡(
	`ecma_numbî_is_«n
 (
d©e_num
))

379 i‡(
	`ECMA_DATE_PROTOTYPE_IS_SET_YEAR_ROUTINE
 (
buûtö_routöe_id
))

381 
d©e_num
 = 
ECMA_NUMBER_ZERO
;

385  
	`ecma_make_numbî_vÆue
 (
d©e_num
);

389 
time_∑π
 = 
	`ecma_d©e_time_wôhö_day
 (
d©e_num
);

391 
ecma_numbî_t
 
yór
 = 
	`ecma_d©e_yór_‰om_time
 (
d©e_num
);

392 
ecma_numbî_t
 
m⁄th
 = 
	`ecma_d©e_m⁄th_‰om_time
 (
d©e_num
);

393 
ecma_numbî_t
 
day
 = 
	`ecma_d©e_d©e_‰om_time
 (
d©e_num
);

395 
buûtö_routöe_id
)

397 
ECMA_DATE_PROTOTYPE_SET_FULL_YEAR
:

398 
ECMA_DATE_PROTOTYPE_SET_UTC_FULL_YEAR
:

400 
yór
 = 
c⁄vîãd_numbî
[0];

401 i‡(
c⁄vîsi⁄s
 >= 2)

403 
m⁄th
 = 
c⁄vîãd_numbî
[1];

405 i‡(
c⁄vîsi⁄s
 >= 3)

407 
day
 = 
c⁄vîãd_numbî
[2];

411 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


412 
ECMA_DATE_PROTOTYPE_SET_YEAR
:

414 
yór
 = 
c⁄vîãd_numbî
[0];

415 i‡(
yór
 >= 0 && year <= 99)

417 
yór
 += 1900;

422 
ECMA_DATE_PROTOTYPE_SET_MONTH
:

423 
ECMA_DATE_PROTOTYPE_SET_UTC_MONTH
:

425 
m⁄th
 = 
c⁄vîãd_numbî
[0];

426 i‡(
c⁄vîsi⁄s
 >= 2)

428 
day
 = 
c⁄vîãd_numbî
[1];

434 
	`JERRY_ASSERT
 (
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_DATE


435 || 
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_UTC_DATE
);

436 
day
 = 
c⁄vîãd_numbî
[0];

441 
day_∑π
 = 
	`ecma_d©e_make_day
 (
yór
, 
m⁄th
, 
day
);

443 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


444 i‡(
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_YEAR
)

446 
buûtö_routöe_id
 = 
ECMA_DATE_PROTOTYPE_SET_UTC_YEAR
;

448 i‡(
	`ecma_numbî_is_«n
 (
c⁄vîãd_numbî
[0]))

450 
day_∑π
 = 0;

451 
time_∑π
 = 
c⁄vîãd_numbî
[0];

458 i‡(
	`ecma_numbî_is_«n
 (
d©e_num
))

460  
	`ecma_make_numbî_vÆue
 (
d©e_num
);

463 
day_∑π
 = 
	`ecma_d©e_day
 (
d©e_num
);

465 
ecma_numbî_t
 
hour
 = 
	`ecma_d©e_hour_‰om_time
 (
d©e_num
);

466 
ecma_numbî_t
 
mö
 = 
	`ecma_d©e_mö_‰om_time
 (
d©e_num
);

467 
ecma_numbî_t
 
£c
 = 
	`ecma_d©e_£c_‰om_time
 (
d©e_num
);

468 
ecma_numbî_t
 
ms
 = 
	`ecma_d©e_ms_‰om_time
 (
d©e_num
);

470 
buûtö_routöe_id
)

472 
ECMA_DATE_PROTOTYPE_SET_HOURS
:

473 
ECMA_DATE_PROTOTYPE_SET_UTC_HOURS
:

475 
hour
 = 
c⁄vîãd_numbî
[0];

476 i‡(
c⁄vîsi⁄s
 >= 2)

478 
mö
 = 
c⁄vîãd_numbî
[1];

480 i‡(
c⁄vîsi⁄s
 >= 3)

482 
£c
 = 
c⁄vîãd_numbî
[2];

484 i‡(
c⁄vîsi⁄s
 >= 4)

486 
ms
 = 
c⁄vîãd_numbî
[3];

490 
ECMA_DATE_PROTOTYPE_SET_MINUTES
:

491 
ECMA_DATE_PROTOTYPE_SET_UTC_MINUTES
:

493 
mö
 = 
c⁄vîãd_numbî
[0];

494 i‡(
c⁄vîsi⁄s
 >= 2)

496 
£c
 = 
c⁄vîãd_numbî
[1];

498 i‡(
c⁄vîsi⁄s
 >= 3)

500 
ms
 = 
c⁄vîãd_numbî
[2];

504 
ECMA_DATE_PROTOTYPE_SET_UTC_SECONDS
:

505 
ECMA_DATE_PROTOTYPE_SET_SECONDS
:

507 
£c
 = 
c⁄vîãd_numbî
[0];

508 i‡(
c⁄vîsi⁄s
 >= 2)

510 
ms
 = 
c⁄vîãd_numbî
[1];

516 
	`JERRY_ASSERT
 (
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_UTC_MILLISECONDS


517 || 
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_MILLISECONDS
);

518 
ms
 = 
c⁄vîãd_numbî
[0];

523 
time_∑π
 = 
	`ecma_d©e_make_time
 (
hour
, 
mö
, 
£c
, 
ms
);

526 
boﬁ
 
is_utc
 = 
	`BUILTIN_DATE_FUNCTION_IS_UTC
 (
buûtö_routöe_id
);

528 
ecma_numbî_t
 
fuŒ_d©e
 = 
	`ecma_d©e_make_d©e
 (
day_∑π
, 
time_∑π
);

530 i‡(!
is_utc
)

532 
fuŒ_d©e
 = 
	`ecma_d©e_utc
 (full_date);

535 
fuŒ_d©e
 = 
	`ecma_d©e_time_˛ù
 (full_date);

537 *
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_numbî_t
, 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
Ë
fuŒ_d©e
;

539  
	`ecma_make_numbî_vÆue
 (
fuŒ_d©e
);

540 
	}
}

542 #unde‡
ECMA_DATE_PROTOTYPE_IS_SET_YEAR_ROUTINE


550 
ecma_vÆue_t


551 
	$ecma_buûtö_d©e_¥ŸŸy≥_di•©ch_routöe
 (
uöt16_t
 
buûtö_routöe_id
,

553 
ecma_vÆue_t
 
this_¨g
,

554 c⁄° 
ecma_vÆue_t
 
¨gumíts_li°
[],

556 
ecma_Àngth_t
 
¨gumíts_numbî
)

558 i‡(
	`u∆ikñy
 (
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_TO_JSON
))

560  
	`ecma_buûtö_d©e_¥ŸŸy≥_to_js⁄
 (
this_¨g
);

563 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
)

564 || !
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
), 
LIT_MAGIC_STRING_DATE_UL
))

566  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Date objectÉxpected"));

569 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

571 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

572 
ecma_numbî_t
 *
¥im_vÆue_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_number_t,

573 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

575 i‡(
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_GET_TIME
)

577  
	`ecma_make_numbî_vÆue
 (*
¥im_vÆue_p
);

580 i‡(
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_SET_TIME
)

582 
ecma_vÆue_t
 
time
 = (
¨gumíts_numbî
 >1 ? 
¨gumíts_li°
[0]

583 : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
));

585 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

588 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
time_num
, 
time
, 
ªt_vÆue
);

589 *
¥im_vÆue_p
 = 
	`ecma_d©e_time_˛ù
 (
time_num
);

591 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
time_num
);

592 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
time_num
);

594  
ªt_vÆue
;

597 i‡(
buûtö_routöe_id
 <
ECMA_DATE_PROTOTYPE_SET_UTC_MILLISECONDS
)

599 
ecma_numbî_t
 
this_num
 = *
¥im_vÆue_p
;

601 i‡(!
	`BUILTIN_DATE_FUNCTION_IS_UTC
 (
buûtö_routöe_id
))

603 
this_num
 +
	`ecma_d©e_loˇl_time_z⁄e
 (this_num);

606 i‡(
buûtö_routöe_id
 <
ECMA_DATE_PROTOTYPE_GET_UTC_TIMEZONE_OFFSET
)

608  
	`ecma_buûtö_d©e_¥ŸŸy≥_di•©ch_gë
 (
buûtö_routöe_id
, 
this_num
);

611  
	`ecma_buûtö_d©e_¥ŸŸy≥_di•©ch_£t
 (
buûtö_routöe_id
,

612 
ext_obje˘_p
,

613 
this_num
,

614 
¨gumíts_li°
,

615 
¨gumíts_numbî
);

618 i‡(
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_TO_ISO_STRING
)

620 i‡(
	`ecma_numbî_is_«n
 (*
¥im_vÆue_p
Ë|| 
	`ecma_numbî_is_öföôy
 (*prim_value_p))

622  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Date must beá finiteÇumber."));

625  
	`ecma_d©e_vÆue_to_iso_°rög
 (*
¥im_vÆue_p
);

628 i‡(
	`ecma_numbî_is_«n
 (*
¥im_vÆue_p
))

630 
ecma_°rög_t
 *
magic_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INVALID_DATE_UL
);

631  
	`ecma_make_°rög_vÆue
 (
magic_°r_p
);

634 
buûtö_routöe_id
)

636 
ECMA_DATE_PROTOTYPE_TO_STRING
:

638  
	`ecma_d©e_vÆue_to_°rög
 (*
¥im_vÆue_p
);

640 
ECMA_DATE_PROTOTYPE_TO_DATE_STRING
:

642  
	`ecma_d©e_vÆue_to_d©e_°rög
 (*
¥im_vÆue_p
);

644 
ECMA_DATE_PROTOTYPE_TO_TIME_STRING
:

646  
	`ecma_d©e_vÆue_to_time_°rög
 (*
¥im_vÆue_p
);

650 
	`JERRY_ASSERT
 (
buûtö_routöe_id
 =
ECMA_DATE_PROTOTYPE_TO_UTC_STRING
);

651  
	`ecma_d©e_vÆue_to_utc_°rög
 (*
¥im_vÆue_p
);

654 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


24 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

25 
ECMA_BUILTIN_ID_DATE
,

26 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

28 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_STRING
, 0, 0)

29 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_DATE_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_DATE_STRING
, 0, 0)

30 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_TIME_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_TIME_STRING
, 0, 0)

31 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_STRING
, 0, 0)

32 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_DATE_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_DATE_STRING
, 0, 0)

33 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_TIME_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_TIME_STRING
, 0, 0)

34 
	$ROUTINE
 (
LIT_MAGIC_STRING_VALUE_OF_UL
, 
ECMA_DATE_PROTOTYPE_GET_TIME
, 0, 0)

35 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_TIME_UL
, 
ECMA_DATE_PROTOTYPE_GET_TIME
, 0, 0)

36 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_FULL_YEAR_UL
, 
ECMA_DATE_PROTOTYPE_GET_FULL_YEAR
, 0, 0)

37 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_FULL_YEAR_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_FULL_YEAR
, 0, 0)

38 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_MONTH_UL
, 
ECMA_DATE_PROTOTYPE_GET_MONTH
, 0, 0)

39 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_MONTH_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_MONTH
, 0, 0)

40 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_DATE_UL
, 
ECMA_DATE_PROTOTYPE_GET_DATE
, 0, 0)

41 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_DATE_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_DATE
, 0, 0)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_DAY_UL
, 
ECMA_DATE_PROTOTYPE_GET_DAY
, 0, 0)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_DAY_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_DAY
, 0, 0)

44 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_HOURS_UL
, 
ECMA_DATE_PROTOTYPE_GET_HOURS
, 0, 0)

45 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_HOURS_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_HOURS
, 0, 0)

46 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_MINUTES_UL
, 
ECMA_DATE_PROTOTYPE_GET_MINUTES
, 0, 0)

47 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_MINUTES_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_MINUTES
, 0, 0)

48 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_SECONDS_UL
, 
ECMA_DATE_PROTOTYPE_GET_SECONDS
, 0, 0)

49 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_SECONDS_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_SECONDS
, 0, 0)

50 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_MILLISECONDS_UL
, 
ECMA_DATE_PROTOTYPE_GET_MILLISECONDS
, 0, 0)

51 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_UTC_MILLISECONDS_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_MILLISECONDS
, 0, 0)

52 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_TIMEZONE_OFFSET_UL
, 
ECMA_DATE_PROTOTYPE_GET_UTC_TIMEZONE_OFFSET
, 0, 0)

53 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_TIME_UL
, 
ECMA_DATE_PROTOTYPE_SET_TIME
, 1, 1)

54 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_MILLISECONDS_UL
, 
ECMA_DATE_PROTOTYPE_SET_MILLISECONDS
, 1, 1)

55 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_MILLISECONDS_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_MILLISECONDS
, 1, 1)

56 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_SECONDS_UL
, 
ECMA_DATE_PROTOTYPE_SET_SECONDS
, 2, 2)

57 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_SECONDS_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_SECONDS
, 2, 2)

58 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_MINUTES_UL
, 
ECMA_DATE_PROTOTYPE_SET_MINUTES
, 
NON_FIXED
, 3)

59 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_MINUTES_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_MINUTES
, 
NON_FIXED
, 3)

60 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_HOURS_UL
, 
ECMA_DATE_PROTOTYPE_SET_HOURS
, 
NON_FIXED
, 4)

61 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_HOURS_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_HOURS
, 
NON_FIXED
, 4)

62 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_DATE_UL
, 
ECMA_DATE_PROTOTYPE_SET_DATE
, 1, 1)

63 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_DATE_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_DATE
, 1, 1)

64 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_MONTH_UL
, 
ECMA_DATE_PROTOTYPE_SET_MONTH
, 2, 2)

65 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_MONTH_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_MONTH
, 2, 2)

66 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_FULL_YEAR_UL
, 
ECMA_DATE_PROTOTYPE_SET_FULL_YEAR
, 
NON_FIXED
, 3)

67 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_UTC_FULL_YEAR_UL
, 
ECMA_DATE_PROTOTYPE_SET_UTC_FULL_YEAR
, 
NON_FIXED
, 3)

68 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_UTC_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_UTC_STRING
, 0, 0)

69 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_ISO_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_ISO_STRING
, 0, 0)

70 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_JSON_UL
, 
ECMA_DATE_PROTOTYPE_TO_JSON
, 1, 1)

72 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


74 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_YEAR_UL
, 
ECMA_DATE_PROTOTYPE_GET_YEAR
, 0, 0)

75 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_YEAR_UL
, 
ECMA_DATE_PROTOTYPE_SET_YEAR
, 1, 1)

76 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_GMT_STRING_UL
, 
ECMA_DATE_PROTOTYPE_TO_UTC_STRING
, 0, 0)

82 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtö-hñ≥rs.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-åy-ˇtch-ma¸o.h
"

24 
	~"lô-ch¨-hñ≥rs.h
"

26 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


28 
	#ECMA_BUILTINS_INTERNAL


	)

29 
	~"ecma-buûtös-öã∫Æ.h
"

31 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-d©e.öc.h"

	)

32 
	#BUILTIN_UNDERSCORED_ID
 
d©e


	)

33 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

50 
ecma_numbî_t


51 
	$ecma_d©e_∑r£_d©e_ch¨s
 (c⁄° 
lô_utf8_byã_t
 **
°r_p
,

52 c⁄° 
lô_utf8_byã_t
 *
°r_íd_p
,

53 
uöt32_t
 
num_of_ch¨s
)

55 
	`JERRY_ASSERT
 (
num_of_ch¨s
 > 0);

56 c⁄° 
lô_utf8_byã_t
 *
°r_°¨t_p
 = *
°r_p
;

58 
num_of_ch¨s
--)

60 i‡(*
°r_p
 >
°r_íd_p
 || !
	`lô_ch¨_is_decimÆ_digô
 (
	`lô_utf8_ªad_√xt
 (str_p)))

62  
	`ecma_numbî_make_«n
 ();

66  
	`ecma_utf8_°rög_to_numbî
 (
°r_°¨t_p
, (
lô_utf8_size_t
Ë(*
°r_p
 - str_start_p));

67 
	}
}

78 
ecma_vÆue_t


79 
	$ecma_d©e_c⁄°ru˘_hñ≥r
 (c⁄° 
ecma_vÆue_t
 *
¨gs
,

80 
ecma_Àngth_t
 
¨gs_Àn
)

82 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

83 
ecma_numbî_t
 
¥im_vÆue
 = 
	`ecma_numbî_make_«n
 ();

85 
	`ECMA_TRY_CATCH
 (
yór_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[0]), 
ªt_vÆue
);

86 
	`ECMA_TRY_CATCH
 (
m⁄th_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[1]), 
ªt_vÆue
);

88 
ecma_numbî_t
 
yór
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
yór_vÆue
);

89 
ecma_numbî_t
 
m⁄th
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
m⁄th_vÆue
);

90 
ecma_numbî_t
 
d©e
 = 
ECMA_NUMBER_ONE
;

91 
ecma_numbî_t
 
hours
 = 
ECMA_NUMBER_ZERO
;

92 
ecma_numbî_t
 
möuãs
 = 
ECMA_NUMBER_ZERO
;

93 
ecma_numbî_t
 
£c⁄ds
 = 
ECMA_NUMBER_ZERO
;

94 
ecma_numbî_t
 
mûli£c⁄ds
 = 
ECMA_NUMBER_ZERO
;

97 i‡(
¨gs_Àn
 >3 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

99 
	`ECMA_TRY_CATCH
 (
d©e_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[2]), 
ªt_vÆue
);

100 
d©e
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
d©e_vÆue
);

101 
	`ECMA_FINALIZE
 (
d©e_vÆue
);

105 i‡(
¨gs_Àn
 >4 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

107 
	`ECMA_TRY_CATCH
 (
hours_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[3]), 
ªt_vÆue
);

108 
hours
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
hours_vÆue
);

109 
	`ECMA_FINALIZE
 (
hours_vÆue
);

113 i‡(
¨gs_Àn
 >5 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

115 
	`ECMA_TRY_CATCH
 (
möuãs_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[4]), 
ªt_vÆue
);

116 
möuãs
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
möuãs_vÆue
);

117 
	`ECMA_FINALIZE
 (
möuãs_vÆue
);

121 i‡(
¨gs_Àn
 >6 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

123 
	`ECMA_TRY_CATCH
 (
£c⁄ds_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[5]), 
ªt_vÆue
);

124 
£c⁄ds
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
£c⁄ds_vÆue
);

125 
	`ECMA_FINALIZE
 (
£c⁄ds_vÆue
);

129 i‡(
¨gs_Àn
 >7 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

131 
	`ECMA_TRY_CATCH
 (
mûli£c⁄ds_vÆue
, 
	`ecma_›_to_numbî
 (
¨gs
[6]), 
ªt_vÆue
);

132 
mûli£c⁄ds
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
mûli£c⁄ds_vÆue
);

133 
	`ECMA_FINALIZE
 (
mûli£c⁄ds_vÆue
);

136 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

138 i‡(!
	`ecma_numbî_is_«n
 (
yór
))

141 
ecma_numbî_t
 
y
 = 
	`ecma_numbî_åunc
 (
yór
);

143 i‡(
y
 >= 0 && y <= 99)

145 
yór
 = 1900 + 
y
;

149 
¥im_vÆue
 = 
	`ecma_d©e_make_d©e
 (
	`ecma_d©e_make_day
 (
yór
,

150 
m⁄th
,

151 
d©e
),

152 
	`ecma_d©e_make_time
 (
hours
,

153 
möuãs
,

154 
£c⁄ds
,

155 
mûli£c⁄ds
));

158 
	`ECMA_FINALIZE
 (
m⁄th_vÆue
);

159 
	`ECMA_FINALIZE
 (
yór_vÆue
);

161 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

163 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
¥im_vÆue
);

166  
ªt_vÆue
;

167 
	}
}

179 
ecma_vÆue_t


180 
	$ecma_buûtö_d©e_∑r£
 (
ecma_vÆue_t
 
this_¨g
,

181 
ecma_vÆue_t
 
¨g
)

183 
	`JERRY_UNUSED
 (
this_¨g
);

184 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

185 
ecma_numbî_t
 
d©e_num
 = 
	`ecma_numbî_make_«n
 ();

188 
	`ECMA_TRY_CATCH
 (
d©e_°r_vÆue
,

189 
	`ecma_›_to_°rög
 (
¨g
),

190 
ªt_vÆue
);

192 
ecma_°rög_t
 *
d©e_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
d©e_°r_vÆue
);

194 
	`ECMA_STRING_TO_UTF8_STRING
 (
d©e_°r_p
, 
d©e_°¨t_p
, 
d©e_°¨t_size
);

196 c⁄° 
lô_utf8_byã_t
 *
d©e_°r_cuº_p
 = 
d©e_°¨t_p
;

197 c⁄° 
lô_utf8_byã_t
 *
d©e_°r_íd_p
 = 
d©e_°¨t_p
 + 
d©e_°¨t_size
;

200 
ecma_numbî_t
 
yór
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 4);

202 i‡(!
	`ecma_numbî_is_«n
 (
yór
)

203 && 
yór
 >= 0)

205 
ecma_numbî_t
 
m⁄th
 = 
ECMA_NUMBER_ONE
;

206 
ecma_numbî_t
 
day
 = 
ECMA_NUMBER_ONE
;

207 
ecma_numbî_t
 
time
 = 
ECMA_NUMBER_ZERO
;

210 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


211 && *
d©e_°r_cuº_p
 == '-')

214 
d©e_°r_cuº_p
++;

215 
m⁄th
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

217 i‡(
m⁄th
 > 12 || month < 1)

219 
m⁄th
 = 
	`ecma_numbî_make_«n
 ();

224 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


225 && *
d©e_°r_cuº_p
 == '-')

228 
d©e_°r_cuº_p
++;

229 
day
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

231 i‡(
day
 < 1 || day > 31)

233 
day
 = 
	`ecma_numbî_make_«n
 ();

238 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


239 && *
d©e_°r_cuº_p
 == 'T')

242 
d©e_°r_cuº_p
++;

244 
ecma_numbî_t
 
hours
 = 
ECMA_NUMBER_ZERO
;

245 
ecma_numbî_t
 
möuãs
 = 
ECMA_NUMBER_ZERO
;

246 
ecma_numbî_t
 
£c⁄ds
 = 
ECMA_NUMBER_ZERO
;

247 
ecma_numbî_t
 
mûli£c⁄ds
 = 
ECMA_NUMBER_ZERO
;

249 
ecma_Àngth_t
 
ªmaöög_Àngth
 = 
	`lô_utf8_°rög_Àngth
 (
d©e_°r_cuº_p
,

250 (
lô_utf8_size_t
Ë(
d©e_°r_íd_p
 - 
d©e_°r_cuº_p
));

252 i‡(
ªmaöög_Àngth
 >= 5)

255 
hours
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

257 i‡(
hours
 < 0 || hours > 24)

259 
hours
 = 
	`ecma_numbî_make_«n
 ();

261 i‡(
hours
 == 24)

263 
hours
 = 
ECMA_NUMBER_ZERO
;

267 
d©e_°r_cuº_p
++;

269 
möuãs
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

271 i‡(
möuãs
 < 0 || minutes > 59)

273 
möuãs
 = 
	`ecma_numbî_make_«n
 ();

277 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


278 && *
d©e_°r_cuº_p
 == ':')

281 
d©e_°r_cuº_p
++;

282 
£c⁄ds
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

284 i‡(
£c⁄ds
 < 0 || seconds > 59)

286 
£c⁄ds
 = 
	`ecma_numbî_make_«n
 ();

290 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


291 && *
d©e_°r_cuº_p
 == '.')

294 
d©e_°r_cuº_p
++;

295 
mûli£c⁄ds
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 3);

297 i‡(
mûli£c⁄ds
 < 0)

299 
mûli£c⁄ds
 = 
	`ecma_numbî_make_«n
 ();

304 
time
 = 
	`ecma_d©e_make_time
 (
hours
, 
möuãs
, 
£c⁄ds
, 
mûli£c⁄ds
);

308 
time
 = 
	`ecma_numbî_make_«n
 ();

312 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


313 && *
d©e_°r_cuº_p
 == 'Z'

314 && !
	`ecma_numbî_is_«n
 (
time
))

316 
d©e_°r_cuº_p
++;

317 
time
 = 
	`ecma_d©e_make_time
 (
hours
, 
möuãs
, 
£c⁄ds
, 
mûli£c⁄ds
);

319 i‡(
d©e_°r_cuº_p
 < 
d©e_°r_íd_p


320 && (*
d©e_°r_cuº_p
 == '+' || *date_str_curr_p == '-'))

322 
ecma_Àngth_t
 
ªmaöög_d©e_Àngth
;

323 
ªmaöög_d©e_Àngth
 = 
	`lô_utf8_°rög_Àngth
 (
d©e_°r_cuº_p
,

324 (
lô_utf8_size_t
Ë(
d©e_°r_íd_p
 - 
d©e_°r_cuº_p
)) - 1;

326 i‡(
ªmaöög_d©e_Àngth
 == 5)

328 
boﬁ
 
is_√g©ive
 = 
Ál£
;

330 i‡(*
d©e_°r_cuº_p
 == '-')

332 
is_√g©ive
 = 
åue
;

336 
d©e_°r_cuº_p
++;

339 
hours
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

341 i‡(
hours
 < 0 || hours > 24)

343 
hours
 = 
	`ecma_numbî_make_«n
 ();

345 i‡(
hours
 == 24)

347 
hours
 = 
ECMA_NUMBER_ZERO
;

351 
d©e_°r_cuº_p
++;

353 
möuãs
 = 
	`ecma_d©e_∑r£_d©e_ch¨s
 (&
d©e_°r_cuº_p
, 
d©e_°r_íd_p
, 2);

355 i‡(
möuãs
 < 0 || minutes > 59)

357 
möuãs
 = 
	`ecma_numbî_make_«n
 ();

360 i‡(
is_√g©ive
)

362 
time
 +
	`ecma_d©e_make_time
 (
hours
, 
möuãs
, 
ECMA_NUMBER_ZERO
, ECMA_NUMBER_ZERO);

366 
time
 -
	`ecma_d©e_make_time
 (
hours
, 
möuãs
, 
ECMA_NUMBER_ZERO
, ECMA_NUMBER_ZERO);

372 i‡(
d©e_°r_cuº_p
 >
d©e_°r_íd_p
)

374 
ecma_numbî_t
 
d©e
 = 
	`ecma_d©e_make_day
 (
yór
, 
m⁄th
 - 1, 
day
);

375 
d©e_num
 = 
	`ecma_d©e_make_d©e
 (
d©e
, 
time
);

379 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
d©e_num
);

381 
	`ECMA_FINALIZE_UTF8_STRING
 (
d©e_°¨t_p
, 
d©e_°¨t_size
);

382 
	`ECMA_FINALIZE
 (
d©e_°r_vÆue
);

384  
ªt_vÆue
;

385 
	}
}

396 
ecma_vÆue_t


397 
	$ecma_buûtö_d©e_utc
 (
ecma_vÆue_t
 
this_¨g
,

398 c⁄° 
ecma_vÆue_t
 
¨gs
[],

399 
ecma_Àngth_t
 
¨gs_numbî
)

401 
	`JERRY_UNUSED
 (
this_¨g
);

402 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

404 i‡(
¨gs_numbî
 < 2)

410  
	`ecma_make_numbî_vÆue
 (
	`ecma_numbî_make_«n
 ());

413 
	`ECMA_TRY_CATCH
 (
time_vÆue
, 
	`ecma_d©e_c⁄°ru˘_hñ≥r
 (
¨gs
, 
¨gs_numbî
), 
ªt_vÆue
);

415 
ecma_numbî_t
 
time
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
time_vÆue
);

416 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
	`ecma_d©e_time_˛ù
 (
time
));

418 
	`ECMA_FINALIZE
 (
time_vÆue
);

420  
ªt_vÆue
;

421 
	}
}

432 
ecma_vÆue_t


433 
	$ecma_buûtö_d©e_now
 (
ecma_vÆue_t
 
this_¨g
)

435 
	`JERRY_UNUSED
 (
this_¨g
);

436  
	`ecma_make_numbî_vÆue
 (
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`jîry_p‹t_gë_cuºít_time
 ()));

437 
	}
}

447 
ecma_vÆue_t


448 
	$ecma_buûtö_d©e_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

449 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

451 
	`JERRY_UNUSED
 (
¨gumíts_li°_p
);

452 
	`JERRY_UNUSED
 (
¨gumíts_li°_Àn
);

453 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

455 
	`ECMA_TRY_CATCH
 (
now_vÆ
,

456 
	`ecma_buûtö_d©e_now
 (
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
)),

457 
ªt_vÆue
);

459 
ªt_vÆue
 = 
	`ecma_d©e_vÆue_to_°rög
 (
	`ecma_gë_numbî_‰om_vÆue
 (
now_vÆ
));

461 
	`ECMA_FINALIZE
 (
now_vÆ
);

463  
ªt_vÆue
;

464 
	}
}

474 
ecma_vÆue_t


475 
	$ecma_buûtö_d©e_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

476 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

478 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

479 
ecma_numbî_t
 
¥im_vÆue_num
 = 
ECMA_NUMBER_ZERO
;

481 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_DATE_PROTOTYPE
);

482 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

483  (
ecma_exãnded_obje˘_t
),

484 
ECMA_OBJECT_TYPE_CLASS
);

486 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

487 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_UNDEFINED
;

489 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

491 i‡(
¨gumíts_li°_Àn
 == 0)

493 
	`ECMA_TRY_CATCH
 (
∑r£_ªs_vÆue
,

494 
	`ecma_buûtö_d©e_now
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)),

495 
ªt_vÆue
);

497 
¥im_vÆue_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
∑r£_ªs_vÆue
);

499 
	`ECMA_FINALIZE
 (
∑r£_ªs_vÆue
)

501 i‡(
¨gumíts_li°_Àn
 == 1)

503 
	`ECMA_TRY_CATCH
 (
¥im_comp_vÆue
,

504 
	`ecma_›_to_¥imôive
 (
¨gumíts_li°_p
[0], 
ECMA_PREFERRED_TYPE_NUMBER
),

505 
ªt_vÆue
);

507 i‡(
	`ecma_is_vÆue_°rög
 (
¥im_comp_vÆue
))

509 
	`ECMA_TRY_CATCH
 (
∑r£_ªs_vÆue
,

510 
	`ecma_buûtö_d©e_∑r£
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
), 
¥im_comp_vÆue
),

511 
ªt_vÆue
);

513 
¥im_vÆue_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
∑r£_ªs_vÆue
);

515 
	`ECMA_FINALIZE
 (
∑r£_ªs_vÆue
);

519 
	`ECMA_TRY_CATCH
 (
¥im_vÆue
, 
	`ecma_›_to_numbî
 (
¨gumíts_li°_p
[0]), 
ªt_vÆue
);

521 
¥im_vÆue_num
 = 
	`ecma_d©e_time_˛ù
 (
	`ecma_gë_numbî_‰om_vÆue
 (
¥im_vÆue
));

523 
	`ECMA_FINALIZE
 (
¥im_vÆue
);

526 
	`ECMA_FINALIZE
 (
¥im_comp_vÆue
);

530 
	`ECMA_TRY_CATCH
 (
time_vÆue
,

531 
	`ecma_d©e_c⁄°ru˘_hñ≥r
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
),

532 
ªt_vÆue
);

534 
ecma_numbî_t
 
time
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
time_vÆue
);

535 
¥im_vÆue_num
 = 
	`ecma_d©e_time_˛ù
 (
	`ecma_d©e_utc
 (
time
));

537 
	`ECMA_FINALIZE
 (
time_vÆue
);

540 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

542 i‡(!
	`ecma_numbî_is_«n
 (
¥im_vÆue_num
Ë&& 
	`ecma_numbî_is_öföôy
 (prim_value_num))

544 
¥im_vÆue_num
 = 
	`ecma_numbî_make_«n
 ();

547 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_DATE_UL
;

549 
ecma_numbî_t
 *
d©e_num_p
 = 
	`ecma_Æloc_numbî
 ();

550 *
d©e_num_p
 = 
¥im_vÆue_num
;

551 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
, 
d©e_num_p
);

553 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obj_p
);

557 
	`JERRY_ASSERT
 (
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
));

558 
	`ecma_dîef_obje˘
 (
obj_p
);

561  
ªt_vÆue
;

562 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

26 
ECMA_BUILTIN_ID_DATE_PROTOTYPE
,

27 
ECMA_PROPERTY_FIXED
)

29 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

31 
ECMA_PROPERTY_FIXED
)

33 
	$ROUTINE
 (
LIT_MAGIC_STRING_PARSE
, 
ecma_buûtö_d©e_∑r£
, 1, 1)

34 
	$ROUTINE
 (
LIT_MAGIC_STRING_UTC_U
, 
ecma_buûtö_d©e_utc
, 
NON_FIXED
, 7)

35 
	$ROUTINE
 (
LIT_MAGIC_STRING_NOW
, 
ecma_buûtö_d©e_now
, 0, 0)

39 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

27 
	~"lô-magic-°rögs.h
"

29 
	#ECMA_BUILTINS_INTERNAL


	)

30 
	~"ecma-buûtös-öã∫Æ.h
"

32 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-îr‹-¥ŸŸy≥.öc.h"

	)

33 
	#BUILTIN_UNDERSCORED_ID
 
îr‹_¥ŸŸy≥


	)

34 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

55 
ecma_vÆue_t


56 
	$ecma_buûtö_îr‹_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

58 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

61 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

63 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotán object."));

67 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

68 
ecma_°rög_t
 *
«me_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NAME
);

70 
	`ECMA_TRY_CATCH
 (
«me_gë_ªt_vÆue
,

71 
	`ecma_›_obje˘_gë
 (
obj_p
, 
«me_magic_°rög_p
),

72 
ªt_vÆue
);

74 
ecma_vÆue_t
 
«me_to_°r_com∂ëi⁄
;

76 i‡(
	`ecma_is_vÆue_undeföed
 (
«me_gë_ªt_vÆue
))

78 
ecma_°rög_t
 *
îr‹_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_ERROR_UL
);

80 
«me_to_°r_com∂ëi⁄
 = 
	`ecma_make_°rög_vÆue
 (
îr‹_magic_°rög_p
);

84 
«me_to_°r_com∂ëi⁄
 = 
	`ecma_›_to_°rög
 (
«me_gë_ªt_vÆue
);

87 i‡(
	`u∆ikñy
 (
	`ECMA_IS_VALUE_ERROR
 (
«me_to_°r_com∂ëi⁄
)))

89 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
«me_to_°r_com∂ëi⁄
);

93 
ecma_°rög_t
 *
mesßge_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MESSAGE
);

95 
	`ECMA_TRY_CATCH
 (
msg_gë_ªt_vÆue
,

96 
	`ecma_›_obje˘_gë
 (
obj_p
, 
mesßge_magic_°rög_p
),

97 
ªt_vÆue
);

99 
ecma_vÆue_t
 
msg_to_°r_com∂ëi⁄
;

101 i‡(
	`ecma_is_vÆue_undeföed
 (
msg_gë_ªt_vÆue
))

103 
ecma_°rög_t
 *
em±y_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

105 
msg_to_°r_com∂ëi⁄
 = 
	`ecma_make_°rög_vÆue
 (
em±y_magic_°rög_p
);

109 
msg_to_°r_com∂ëi⁄
 = 
	`ecma_›_to_°rög
 (
msg_gë_ªt_vÆue
);

112 i‡(
	`u∆ikñy
 (
	`ECMA_IS_VALUE_ERROR
 (
msg_to_°r_com∂ëi⁄
)))

114 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
msg_to_°r_com∂ëi⁄
);

118 
ecma_°rög_t
 *
«me_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
«me_to_°r_com∂ëi⁄
);

119 
ecma_°rög_t
 *
msg_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
msg_to_°r_com∂ëi⁄
);

121 
ecma_°rög_t
 *
ªt_°r_p
;

123 i‡(
	`ecma_°rög_is_em±y
 (
«me_°rög_p
))

125 
ªt_°r_p
 = 
msg_°rög_p
;

126 
	`ecma_ªf_ecma_°rög
 (
ªt_°r_p
);

128 i‡(
	`ecma_°rög_is_em±y
 (
msg_°rög_p
))

130 
ªt_°r_p
 = 
«me_°rög_p
;

131 
	`ecma_ªf_ecma_°rög
 (
ªt_°r_p
);

135 c⁄° 
lô_utf8_size_t
 
«me_size
 = 
	`ecma_°rög_gë_size
 (
«me_°rög_p
);

136 c⁄° 
lô_utf8_size_t
 
msg_size
 = 
	`ecma_°rög_gë_size
 (
msg_°rög_p
);

137 c⁄° 
lô_utf8_size_t
 
cﬁ⁄_size
 = 
	`lô_gë_magic_°rög_size
 (
LIT_MAGIC_STRING_COLON_CHAR
);

138 c⁄° 
lô_utf8_size_t
 
•a˚_size
 = 
	`lô_gë_magic_°rög_size
 (
LIT_MAGIC_STRING_SPACE_CHAR
);

139 c⁄° 
lô_utf8_size_t
 
size
 = 
«me_size
 + 
msg_size
 + 
cﬁ⁄_size
 + 
•a˚_size
;

141 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ªt_°r_buf„r
, 
size
, 
lô_utf8_byã_t
);

142 
lô_utf8_byã_t
 *
ªt_°r_buf„r_p
 = 
ªt_°r_buf„r
;

144 
lô_utf8_size_t
 
byãs
 = 
	`ecma_°rög_c›y_to_˚su8_buf„r
 (
«me_°rög_p
, 
ªt_°r_buf„r_p
, 
«me_size
);

145 
	`JERRY_ASSERT
 (
byãs
 =
«me_size
);

146 
ªt_°r_buf„r_p
 =Ñë_°r_buf„r_∞+ 
byãs
;

147 
	`JERRY_ASSERT
 (
ªt_°r_buf„r_p
 <
ªt_°r_buf„r
 + 
size
);

149 
ªt_°r_buf„r_p
 = 
	`lô_c›y_magic_°rög_to_buf„r
 (
LIT_MAGIC_STRING_COLON_CHAR
,

150 
ªt_°r_buf„r_p
,

151 
cﬁ⁄_size
);

152 
	`JERRY_ASSERT
 (
ªt_°r_buf„r_p
 <
ªt_°r_buf„r
 + 
size
);

154 
ªt_°r_buf„r_p
 = 
	`lô_c›y_magic_°rög_to_buf„r
 (
LIT_MAGIC_STRING_SPACE_CHAR
,

155 
ªt_°r_buf„r_p
,

156 
•a˚_size
);

157 
	`JERRY_ASSERT
 (
ªt_°r_buf„r_p
 <
ªt_°r_buf„r
 + 
size
);

159 
byãs
 = 
	`ecma_°rög_c›y_to_˚su8_buf„r
 (
msg_°rög_p
, 
ªt_°r_buf„r_p
, 
msg_size
);

160 
	`JERRY_ASSERT
 (
byãs
 =
msg_size
);

161 
ªt_°r_buf„r_p
 =Ñë_°r_buf„r_∞+ 
byãs
;

162 
	`JERRY_ASSERT
 (
ªt_°r_buf„r_p
 =
ªt_°r_buf„r
 + 
size
);

164 
ªt_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ªt_°r_buf„r
,

165 
size
);

167 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ªt_°r_buf„r
);

170 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªt_°r_p
);

173 
	`ecma_‰ì_vÆue
 (
msg_to_°r_com∂ëi⁄
);

175 
	`ECMA_FINALIZE
 (
msg_gë_ªt_vÆue
);

177 
	`ecma_dîef_ecma_°rög
 (
mesßge_magic_°rög_p
);

180 
	`ecma_‰ì_vÆue
 (
«me_to_°r_com∂ëi⁄
);

182 
	`ECMA_FINALIZE
 (
«me_gë_ªt_vÆue
);

184 
	`ecma_dîef_ecma_°rög
 (
«me_magic_°rög_p
);

187  
ªt_vÆue
;

188 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

27 
ECMA_BUILTIN_ID_ERROR
,

28 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

31 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

32 
LIT_MAGIC_STRING_ERROR_UL
,

33 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

36 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

37 
LIT_MAGIC_STRING__EMPTY
,

38 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_îr‹_¥ŸŸy≥_obje˘_to_°rög
, 0, 0)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 
	#ECMA_BUILTINS_INTERNAL


	)

29 
	~"ecma-buûtös-öã∫Æ.h
"

31 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-îr‹.öc.h"

	)

32 
	#BUILTIN_UNDERSCORED_ID
 
îr‹


	)

33 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

50 
ecma_vÆue_t


51 
	$ecma_buûtö_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

52 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

54  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_COMMON
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66  
	`ecma_buûtö_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

67 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

28 
ECMA_PROPERTY_FIXED
)

34 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

35 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

36 
ECMA_PROPERTY_FIXED
)

38 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-evÆîr‹-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
evÆ_îr‹_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_EVAL_ERROR
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

33 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

34 
LIT_MAGIC_STRING_EVAL_ERROR_UL
,

35 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

38 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

39 
LIT_MAGIC_STRING__EMPTY
,

40 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-evÆîr‹.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
evÆ_îr‹


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_evÆ_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_EVAL
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

57 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_evÆ_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

66 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

68  
	`ecma_buûtö_evÆ_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

69 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_EVAL_ERROR_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtö-hñ≥rs.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-fun˘i⁄-obje˘.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-åy-ˇtch-ma¸o.h
"

27 
	~"jπ.h
"

29 
	#ECMA_BUILTINS_INTERNAL


	)

30 
	~"ecma-buûtös-öã∫Æ.h
"

32 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-fun˘i⁄-¥ŸŸy≥.öc.h"

	)

33 
	#BUILTIN_UNDERSCORED_ID
 
fun˘i⁄_¥ŸŸy≥


	)

34 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

55 
ecma_vÆue_t


56 
	$ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

58 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

60 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
this_¨g
))

62 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá function."));

66 
ecma_°rög_t
 *
fun˘i⁄_to_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__FUNCTION_TO_STRING
);

67 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
fun˘i⁄_to_°rög_p
);

69  
ªt_vÆue
;

70 
	}
}

81 
ecma_vÆue_t


82 
	$ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_≠∂y
 (
ecma_vÆue_t
 
this_¨g
,

83 
ecma_vÆue_t
 
¨g1
,

84 
ecma_vÆue_t
 
¨g2
)

86 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

89 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
this_¨g
))

91 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá function."));

95 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

98 i‡(
	`ecma_is_vÆue_nuŒ
 (
¨g2
Ë|| 
	`ecma_is_vÆue_undeföed
 (arg2))

100 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
, 
¨g1
, 
NULL
, 0);

105 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g2
))

107 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

111 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g2
);

112 
ecma_°rög_t
 *
Àngth_magic_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

115 
	`ECMA_TRY_CATCH
 (
Àngth_vÆue
,

116 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_magic_°rög_p
),

117 
ªt_vÆue
);

119 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àngth_numbî
,

120 
Àngth_vÆue
,

121 
ªt_vÆue
);

124 c⁄° 
uöt32_t
 
Àngth
 = 
	`ecma_numbî_to_uöt32
 (
Àngth_numbî
);

127 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
¨gumíts_li°_p
, 
Àngth
, 
ecma_vÆue_t
);

128 
uöt32_t
 
œ°_ödex
 = 0;

131 
uöt32_t
 
ödex
 = 0;

132 
ödex
 < 
Àngth
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

133 
ödex
++)

135 
ecma_°rög_t
 *
cuº_idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

137 
	`ECMA_TRY_CATCH
 (
gë_vÆue
,

138 
	`ecma_›_obje˘_gë
 (
obj_p
, 
cuº_idx_°r_p
),

139 
ªt_vÆue
);

141 
¨gumíts_li°_p
[
ödex
] = 
	`ecma_c›y_vÆue
 (
gë_vÆue
);

142 
œ°_ödex
 = 
ödex
 + 1;

144 
	`ECMA_FINALIZE
 (
gë_vÆue
);

145 
	`ecma_dîef_ecma_°rög
 (
cuº_idx_°r_p
);

148 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

150 
	`JERRY_ASSERT
 (
œ°_ödex
 =
Àngth
);

151 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
,

152 
¨g1
,

153 
¨gumíts_li°_p
,

154 
Àngth
);

157 
uöt32_t
 
ödex
 = 0; index < 
œ°_ödex
; index++)

159 
	`ecma_‰ì_vÆue
 (
¨gumíts_li°_p
[
ödex
]);

162 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
¨gumíts_li°_p
);

164 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àngth_numbî
);

165 
	`ECMA_FINALIZE
 (
Àngth_vÆue
);

166 
	`ecma_dîef_ecma_°rög
 (
Àngth_magic_°rög_p
);

171  
ªt_vÆue
;

172 
	}
}

183 
ecma_vÆue_t


184 
	$ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_ˇŒ
 (
ecma_vÆue_t
 
this_¨g
,

185 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

186 
ecma_Àngth_t
 
¨gumíts_numbî
)

188 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
this_¨g
))

190  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá function."));

194 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

196 i‡(
¨gumíts_numbî
 == 0)

199  
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
,

200 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

201 
NULL
,

206  
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
,

207 
¨gumíts_li°_p
[0],

208 
¨gumíts_li°_p
 + 1,

209 (
ecma_Àngth_t
Ë(
¨gumíts_numbî
 - 1u));

212 
	}
}

223 
ecma_vÆue_t


224 
	$ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_böd
 (
ecma_vÆue_t
 
this_¨g
,

225 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

226 
ecma_Àngth_t
 
¨gumíts_numbî
)

228 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

231 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
this_¨g
))

233 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá function."));

238 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
);

240 
ecma_Àngth_t
 
¨gs_Àngth
 = 
¨gumíts_numbî
;

241 
ecma_obje˘_t
 *
fun˘i⁄_p
;

242 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
;

244 i‡(
¨gumíts_numbî
 == 0

245 || (
¨gumíts_numbî
 =1 && !
	`ecma_is_vÆue_öãgî_numbî
 (
¨gumíts_li°_p
[0])))

247 
¨gs_Àngth
 = 1;

249 
fun˘i⁄_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

250  (
ecma_exãnded_obje˘_t
),

251 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

254 
ext_fun˘i⁄_p
 = (
ecma_exãnded_obje˘_t
 *Ë
fun˘i⁄_p
;

255 
ecma_obje˘_t
 *
this_¨g_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

256 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
,

257 
this_¨g_obj_p
);

259 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
¨gs_Àn_‹_this
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

261 i‡(
¨gumíts_numbî
 != 0)

263 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
¨gs_Àn_‹_this
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
¨gumíts_li°_p
[0]);

268 
	`JERRY_ASSERT
 (
¨gumíts_numbî
 > 0);

270 
size_t
 
obj_size
 =  (
ecma_exãnded_obje˘_t
Ë+ (
¨gs_Àngth
 *  (
ecma_vÆue_t
));

272 
fun˘i⁄_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

273 
obj_size
,

274 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

277 
ext_fun˘i⁄_p
 = (
ecma_exãnded_obje˘_t
 *Ë
fun˘i⁄_p
;

278 
ecma_obje˘_t
 *
this_¨g_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

279 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
,

280 
this_¨g_obj_p
);

284 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
¨gs_Àn_‹_this
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

285 
ecma_vÆue_t
 *
¨gs_p
 = (ecma_vÆue_à*Ë(
ext_fun˘i⁄_p
 + 1);

287 
ecma_Àngth_t
 
i
 = 0; i < 
¨gumíts_numbî
; i++)

289 *
¨gs_p
++ = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
¨gumíts_li°_p
[
i
]);

292 
ecma_vÆue_t
 
¨gs_Àn_‹_this
 = 
	`ecma_make_öãgî_vÆue
 ((
ecma_öãgî_vÆue_t
Ë
¨gs_Àngth
);

293 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
¨gs_Àn_‹_this
 =árgs_len_or_this;

296 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

305 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
fun˘i⁄_p
);

308  
ªt_vÆue
;

309 
	}
}

316 
ecma_vÆue_t


317 
	$ecma_buûtö_fun˘i⁄_¥ŸŸy≥_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

318 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

320 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

322  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

323 
	}
}

330 
ecma_vÆue_t


331 
	$ecma_buûtö_fun˘i⁄_¥ŸŸy≥_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

332 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

334 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

336  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'Function.prototype' isÇotá constructor."));

337 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

27 
ECMA_BUILTIN_ID_FUNCTION
,

28 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

34 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

36 
ECMA_PROPERTY_FIXED
)

40 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_to_°rög
, 0, 0)

41 
	$ROUTINE
 (
LIT_MAGIC_STRING_APPLY
, 
ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_≠∂y
, 2, 2)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_CALL
, 
ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_ˇŒ
, 
NON_FIXED
, 1)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_BIND
, 
ecma_buûtö_fun˘i⁄_¥ŸŸy≥_obje˘_böd
, 
NON_FIXED
, 1)

45 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-c⁄vîsi⁄.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-evÆ.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-fun˘i⁄-obje˘.h
"

22 
	~"ecma-Àx-ív.h
"

23 
	~"ecma-åy-ˇtch-ma¸o.h
"

24 
	~"lô-magic-°rögs.h
"

25 
	~"js-∑r£r.h
"

27 
	#ECMA_BUILTINS_INTERNAL


	)

28 
	~"ecma-buûtös-öã∫Æ.h
"

30 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-fun˘i⁄.öc.h"

	)

31 
	#BUILTIN_UNDERSCORED_ID
 
fun˘i⁄


	)

32 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

49 
ecma_vÆue_t


50 
	$ecma_buûtö_fun˘i⁄_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

51 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

53 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

55  
	`ecma_buûtö_fun˘i⁄_di•©ch_c⁄°ru˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

56 
	}
}

67 
ecma_vÆue_t


68 
	$ecma_buûtö_fun˘i⁄_hñ≥r_gë_fun˘i⁄_ex¥essi⁄
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

69 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

71 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

73 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

75 
ecma_°rög_t
 *
À·_∑ª¡hesis_°r_p
, *
right_∑ª¡hesis_°r_p
;

76 
ecma_°rög_t
 *
À·_bø˚_°r_p
, *
right_bø˚_°r_p
;

77 
ecma_°rög_t
 *
comma_°r_p
;

78 
ecma_°rög_t
 *
fun˘i⁄_kw_°r_p
, *
em±y_°r_p
;

79 
ecma_°rög_t
 *
ex¥_°r_p
, *
c⁄ˇãd_°r_p
;

81 
À·_∑ª¡hesis_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING_LEFT_PARENTHESIS_CHAR
);

82 
right_∑ª¡hesis_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING_RIGHT_PARENTHESIS_CHAR
);

84 
À·_bø˚_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING_LEFT_BRACE_CHAR
);

85 
right_bø˚_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING_RIGHT_BRACE_CHAR
);

87 
comma_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_COMMA_CHAR
);

89 
fun˘i⁄_kw_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING_FUNCTION
);

90 
em±y_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING__EMPTY
);

93 
ecma_Àngth_t
 
numbî_of_fun˘i⁄_¨gs
 = (
¨gumíts_li°_Àn
 == 0 ? 0 :árguments_list_len - 1);

95 
ex¥_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
À·_∑ª¡hesis_°r_p
, 
fun˘i⁄_kw_°r_p
);

97 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
À·_∑ª¡hesis_°r_p
);

98 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

99 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

101 
ecma_Àngth_t
 
idx
 = 0;

102 
idx
 < 
numbî_of_fun˘i⁄_¨gs
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

103 
idx
++)

105 
	`ECMA_TRY_CATCH
 (
°r_¨g_vÆue
,

106 
	`ecma_›_to_°rög
 (
¨gumíts_li°_p
[
idx
]),

107 
ªt_vÆue
);

109 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_¨g_vÆue
);

111 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
°r_p
);

112 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

113 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

115 i‡(
idx
 < 
numbî_of_fun˘i⁄_¨gs
 - 1)

117 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
comma_°r_p
);

118 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

119 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

122 
	`ECMA_FINALIZE
 (
°r_¨g_vÆue
);

125 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

127 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
right_∑ª¡hesis_°r_p
);

128 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

129 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

131 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
À·_bø˚_°r_p
);

132 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

133 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

135 i‡(
¨gumíts_li°_Àn
 != 0)

137 
	`ECMA_TRY_CATCH
 (
°r_¨g_vÆue
,

138 
	`ecma_›_to_°rög
 (
¨gumíts_li°_p
[
¨gumíts_li°_Àn
 - 1]),

139 
ªt_vÆue
);

141 
ecma_°rög_t
 *
body_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_¨g_vÆue
);

143 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
body_°r_p
);

144 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

145 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

147 
	`ECMA_FINALIZE
 (
°r_¨g_vÆue
);

150 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
right_bø˚_°r_p
);

151 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

152 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

154 
c⁄ˇãd_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ex¥_°r_p
, 
right_∑ª¡hesis_°r_p
);

155 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

156 
ex¥_°r_p
 = 
c⁄ˇãd_°r_p
;

159 
	`ecma_dîef_ecma_°rög
 (
À·_∑ª¡hesis_°r_p
);

160 
	`ecma_dîef_ecma_°rög
 (
right_∑ª¡hesis_°r_p
);

161 
	`ecma_dîef_ecma_°rög
 (
À·_bø˚_°r_p
);

162 
	`ecma_dîef_ecma_°rög
 (
right_bø˚_°r_p
);

163 
	`ecma_dîef_ecma_°rög
 (
comma_°r_p
);

164 
	`ecma_dîef_ecma_°rög
 (
fun˘i⁄_kw_°r_p
);

165 
	`ecma_dîef_ecma_°rög
 (
em±y_°r_p
);

167 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

169 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ex¥_°r_p
);

173 
	`ecma_dîef_ecma_°rög
 (
ex¥_°r_p
);

176  
ªt_vÆue
;

177 
	}
}

187 
ecma_vÆue_t


188 
	$ecma_buûtö_fun˘i⁄_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

189 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

191 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

193 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

195 
	`ECMA_TRY_CATCH
 (
¨gumíts_vÆue
,

196 
	`ecma_buûtö_fun˘i⁄_hñ≥r_gë_fun˘i⁄_ex¥essi⁄
 (
¨gumíts_li°_p
,

197 
¨gumíts_li°_Àn
),

198 
ªt_vÆue
);

200 
ecma_°rög_t
 *
fun˘i⁄_ex¥essi⁄_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¨gumíts_vÆue
);

202 
ªt_vÆue
 = 
	`ecma_›_evÆ
 (
fun˘i⁄_ex¥essi⁄_p
, 
Ál£
, false);

204 
	`ECMA_FINALIZE
 (
¨gumíts_vÆue
);

206  
ªt_vÆue
;

207 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

27 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

28 
ECMA_PROPERTY_FIXED
)

34 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

36 
ECMA_PROPERTY_FIXED
)

38 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-global.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-evÆ.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-åy-ˇtch-ma¸o.h
"

25 
	~"jπ.h
"

26 
	~"lô-ch¨-hñ≥rs.h
"

27 
	~"lô-magic-°rögs.h
"

28 
	~"lô-°rögs.h
"

29 
	~"vm.h
"

30 
	~"jπ-libc-ö˛udes.h
"

31 
	~"jπ-bô-fõlds.h
"

33 
	#ECMA_BUILTINS_INTERNAL


	)

34 
	~"ecma-buûtös-öã∫Æ.h
"

36 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-globÆ.öc.h"

	)

37 
	#BUILTIN_UNDERSCORED_ID
 
globÆ


	)

38 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

59 
ecma_vÆue_t


60 
	$ecma_buûtö_globÆ_obje˘_evÆ
 (
ecma_vÆue_t
 
this_¨g
,

61 
ecma_vÆue_t
 
x
)

63 
	`JERRY_UNUSED
 (
this_¨g
);

64 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

66 
boﬁ
 
is_dúe˘_evÆ
 = 
	`vm_is_dúe˘_evÆ_f‹m_ˇŒ
 ();

69 
boﬁ
 
is_ˇŒed_‰om_°ri˘_mode_code
;

70 i‡(
is_dúe˘_evÆ
)

72 
is_ˇŒed_‰om_°ri˘_mode_code
 = 
	`vm_is_°ri˘_mode
 ();

76 
is_ˇŒed_‰om_°ri˘_mode_code
 = 
Ál£
;

79 i‡(!
	`ecma_is_vÆue_°rög
 (
x
))

82 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
x
);

87 
ªt_vÆue
 = 
	`ecma_›_evÆ
 (
	`ecma_gë_°rög_‰om_vÆue
 (
x
),

88 
is_dúe˘_evÆ
,

89 
is_ˇŒed_‰om_°ri˘_mode_code
);

92  
ªt_vÆue
;

93 
	}
}

104 
ecma_vÆue_t


105 
	$ecma_buûtö_globÆ_obje˘_∑r£_öt
 (
ecma_vÆue_t
 
this_¨g
,

106 
ecma_vÆue_t
 
°rög
,

107 
ecma_vÆue_t
 
ødix
)

109 
	`JERRY_UNUSED
 (
this_¨g
);

110 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

113 
	`ECMA_TRY_CATCH
 (
°rög_v¨
, 
	`ecma_›_to_°rög
 (
°rög
), 
ªt_vÆue
);

115 
ecma_°rög_t
 *
numbî_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög_v¨
);

116 
	`ECMA_STRING_TO_UTF8_STRING
 (
numbî_°r_p
, 
°rög_buff
, 
°rög_buff_size
);

118 i‡(
°rög_buff_size
 > 0)

120 c⁄° 
lô_utf8_byã_t
 *
°rög_cuº_p
 = (lô_utf8_byã_à*Ë
°rög_buff
;

121 c⁄° 
lô_utf8_byã_t
 *
°rög_íd_p
 = 
°rög_buff
 + 
°rög_buff_size
;

125 c⁄° 
lô_utf8_byã_t
 *
°¨t_p
 = 
°rög_íd_p
;

126 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
°¨t_p
;

128 
°rög_cuº_p
 < 
°rög_íd_p
)

130 
ecma_ch¨_t
 
cuºít_ch¨
 = 
	`lô_utf8_ªad_√xt
 (&
°rög_cuº_p
);

132 i‡(!
	`lô_ch¨_is_whôe_•a˚
 (
cuºít_ch¨
)

133 && !
	`lô_ch¨_is_löe_ãrmö©‹
 (
cuºít_ch¨
))

135 
	`lô_utf8_de¸
 (&
°rög_cuº_p
);

136 
°¨t_p
 = 
°rög_cuº_p
;

141 i‡(
°rög_cuº_p
 < 
°rög_íd_p
)

144 
sign
 = 1;

147 
ecma_ch¨_t
 
cuºít
 = 
	`lô_utf8_ªad_√xt
 (&
°rög_cuº_p
);

148 i‡(
cuºít
 =
LIT_CHAR_MINUS
)

150 
sign
 = -1;

154 i‡(
cuºít
 =
LIT_CHAR_MINUS
 || cuºíà=
LIT_CHAR_PLUS
)

156 
°¨t_p
 = 
°rög_cuº_p
;

157 i‡(
°rög_cuº_p
 < 
°rög_íd_p
)

159 
cuºít
 = 
	`lô_utf8_ªad_√xt
 (&
°rög_cuº_p
);

164 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
ødix_num
, 
ødix
, 
ªt_vÆue
);

165 
öt32_t
 
ød
 = 
	`ecma_numbî_to_öt32
 (
ødix_num
);

168 
boﬁ
 
°rù_¥efix
 = 
åue
;

171 i‡(
ød
 != 0)

174 i‡(
ød
 < 2 ||Ñad > 36)

176 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

179 i‡(
ød
 != 16)

181 
°rù_¥efix
 = 
Ál£
;

187 
ød
 = 10;

190 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

193 i‡(
°rù_¥efix
)

195 i‡(
íd_p
 - 
°¨t_p
 >2 && 
cuºít
 =
LIT_CHAR_0
)

197 
ecma_ch¨_t
 
√xt
 = *
°rög_cuº_p
;

198 i‡(
√xt
 =
LIT_CHAR_LOWERCASE_X
 ||Çexà=
LIT_CHAR_UPPERCASE_X
)

201 
°¨t_p
 = ++
°rög_cuº_p
;

202 
ød
 = 16;

208 
°rög_cuº_p
 = 
°¨t_p
;

209 
°rög_cuº_p
 < 
°rög_íd_p
)

211 
ecma_ch¨_t
 
cuºít_ch¨
 = *
°rög_cuº_p
++;

212 
öt32_t
 
cuºít_numbî
;

214 i‡((
cuºít_ch¨
 >
LIT_CHAR_LOWERCASE_A
 && cuºít_ch¨ <
LIT_CHAR_LOWERCASE_Z
))

216 
cuºít_numbî
 = 
cuºít_ch¨
 - 
LIT_CHAR_LOWERCASE_A
 + 10;

218 i‡((
cuºít_ch¨
 >
LIT_CHAR_UPPERCASE_A
 && cuºít_ch¨ <
LIT_CHAR_UPPERCASE_Z
))

220 
cuºít_numbî
 = 
cuºít_ch¨
 - 
LIT_CHAR_UPPERCASE_A
 + 10;

222 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
cuºít_ch¨
))

224 
cuºít_numbî
 = 
cuºít_ch¨
 - 
LIT_CHAR_0
;

229 
cuºít_numbî
 = 
ød
;

232 i‡(!(
cuºít_numbî
 < 
ød
))

234 
íd_p
 = --
°rög_cuº_p
;

240 i‡(
íd_p
 =
°¨t_p
)

242 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

246 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

248 
ecma_numbî_t
 
vÆue
 = 
ECMA_NUMBER_ZERO
;

249 
ecma_numbî_t
 
mu…ùlõr
 = 1.0f;

252 
°rög_cuº_p
 = 
íd_p
;

254 
°rög_cuº_p
 > 
°¨t_p
)

256 
ecma_ch¨_t
 
cuºít_ch¨
 = *(--
°rög_cuº_p
);

257 
ecma_numbî_t
 
cuºít_numbî
 = 
ECMA_NUMBER_MINUS_ONE
;

259 i‡((
cuºít_ch¨
 >
LIT_CHAR_LOWERCASE_A
 && cuºít_ch¨ <
LIT_CHAR_LOWERCASE_Z
))

261 
cuºít_numbî
 = (
ecma_numbî_t
Ë
cuºít_ch¨
 - 
LIT_CHAR_LOWERCASE_A
 + 10;

263 i‡((
cuºít_ch¨
 >
LIT_CHAR_UPPERCASE_A
 && cuºít_ch¨ <
LIT_CHAR_UPPERCASE_Z
))

265 
cuºít_numbî
 = (
ecma_numbî_t
Ë
cuºít_ch¨
 - 
LIT_CHAR_UPPERCASE_A
 + 10;

267 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
cuºít_ch¨
))

269 
cuºít_numbî
 = (
ecma_numbî_t
Ë
cuºít_ch¨
 - 
LIT_CHAR_0
;

273 
	`JERRY_UNREACHABLE
 ();

276 
vÆue
 +
cuºít_numbî
 * 
mu…ùlõr
;

277 
mu…ùlõr
 *(
ecma_numbî_t
Ë
ød
;

281 i‡(
sign
 < 0)

283 
vÆue
 *(
ecma_numbî_t
Ë
sign
;

286 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
vÆue
);

289 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
ødix_num
);

293 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

299 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

302 
	`ECMA_FINALIZE_UTF8_STRING
 (
°rög_buff
, 
°rög_buff_size
);

303 
	`ECMA_FINALIZE
 (
°rög_v¨
);

304  
ªt_vÆue
;

305 
	}
}

316 
ecma_vÆue_t


317 
	$ecma_buûtö_globÆ_obje˘_∑r£_Êﬂt
 (
ecma_vÆue_t
 
this_¨g
,

318 
ecma_vÆue_t
 
°rög
)

320 
	`JERRY_UNUSED
 (
this_¨g
);

321 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

324 
	`ECMA_TRY_CATCH
 (
°rög_v¨
, 
	`ecma_›_to_°rög
 (
°rög
), 
ªt_vÆue
);

326 
ecma_°rög_t
 *
numbî_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög_v¨
);

327 
	`ECMA_STRING_TO_UTF8_STRING
 (
numbî_°r_p
, 
°rög_buff
, 
°rög_buff_size
);

329 i‡(
°rög_buff_size
 > 0)

331 c⁄° 
lô_utf8_byã_t
 *
°r_cuº_p
 = 
°rög_buff
;

332 c⁄° 
lô_utf8_byã_t
 *
°r_íd_p
 = 
°rög_buff
 + 
°rög_buff_size
;

334 c⁄° 
lô_utf8_byã_t
 *
°¨t_p
 = 
°r_íd_p
;

335 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
°r_íd_p
;

338 
°r_cuº_p
 < 
°r_íd_p
)

340 
ecma_ch¨_t
 
cuºít_ch¨
 = 
	`lô_utf8_ªad_√xt
 (&
°r_cuº_p
);

342 i‡(!
	`lô_ch¨_is_whôe_•a˚
 (
cuºít_ch¨
)

343 && !
	`lô_ch¨_is_löe_ãrmö©‹
 (
cuºít_ch¨
))

345 
	`lô_utf8_de¸
 (&
°r_cuº_p
);

346 
°¨t_p
 = 
°r_cuº_p
;

351 
boﬁ
 
sign
 = 
Ál£
;

352 
ecma_ch¨_t
 
cuºít
;

354 i‡(
°r_cuº_p
 < 
°r_íd_p
)

357 
cuºít
 = *
°r_cuº_p
;

358 i‡(
cuºít
 =
LIT_CHAR_MINUS
)

360 
sign
 = 
åue
;

363 i‡(
cuºít
 =
LIT_CHAR_MINUS
 || cuºíà=
LIT_CHAR_PLUS
)

366 
°¨t_p
 = ++
°r_cuº_p
;

370 c⁄° 
lô_utf8_byã_t
 *
öföôy_°r_p
 = 
	`lô_gë_magic_°rög_utf8
 (
LIT_MAGIC_STRING_INFINITY_UL
);

371 
lô_utf8_byã_t
 *
öföôy_°r_cuº_p
 = (lô_utf8_byã_à*Ë
öföôy_°r_p
;

372 
lô_utf8_byã_t
 *
öföôy_°r_íd_p
 = 
öföôy_°r_cuº_p
 +  (*
öföôy_°r_p
);

375 
°r_cuº_p
 < 
°r_íd_p


376 && *
°r_cuº_p
++ =*
öföôy_°r_cuº_p
++)

378 i‡(
öföôy_°r_cuº_p
 =
öföôy_°r_íd_p
)

381 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
	`ecma_numbî_make_öföôy
 (
sign
));

387 
°r_cuº_p
 = 
°¨t_p
;

389 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& 
°r_cuº_p
 < 
°r_íd_p
)

391 
cuºít
 = *
°r_cuº_p
;

393 
boﬁ
 
has_whﬁe_∑π
 = 
Ál£
;

394 
boﬁ
 
has_‰a˘i⁄_∑π
 = 
Ál£
;

397 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
cuºít
))

399 
has_whﬁe_∑π
 = 
åue
;

400 
°r_cuº_p
++;

402 
°r_cuº_p
 < 
°r_íd_p
)

404 
cuºít
 = *
°r_cuº_p
++;

405 i‡(!
	`lô_ch¨_is_decimÆ_digô
 (
cuºít
))

407 
°r_cuº_p
--;

415 
íd_p
 = 
°r_cuº_p
;

416 i‡(
°r_cuº_p
 < 
°r_íd_p
)

418 
cuºít
 = *
°r_cuº_p
;

421 i‡(
cuºít
 =
LIT_CHAR_DOT
)

423 
°r_cuº_p
++;

425 i‡(
°r_cuº_p
 < 
°r_íd_p
)

427 
cuºít
 = *
°r_cuº_p
;

429 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
cuºít
))

431 
has_‰a˘i⁄_∑π
 = 
åue
;

434 
°r_cuº_p
 < 
°r_íd_p
)

436 
cuºít
 = *
°r_cuº_p
++;

437 i‡(!
	`lô_ch¨_is_decimÆ_digô
 (
cuºít
))

439 
°r_cuº_p
--;

445 
íd_p
 = 
°r_cuº_p
;

452 i‡(
°r_cuº_p
 < 
°r_íd_p
)

454 
cuºít
 = *
°r_cuº_p
++;

458 i‡((
cuºít
 =
LIT_CHAR_LOWERCASE_E
 || cuºíà=
LIT_CHAR_UPPERCASE_E
)

459 && (
has_whﬁe_∑π
 || 
has_‰a˘i⁄_∑π
)

460 && 
°r_cuº_p
 < 
°r_íd_p
)

462 
cuºít
 = *
°r_cuº_p
++;

465 i‡((
cuºít
 =
LIT_CHAR_PLUS
 || cuºíà=
LIT_CHAR_MINUS
)

466 && 
°r_cuº_p
 < 
°r_íd_p
)

468 
cuºít
 = *
°r_cuº_p
++;

471 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
cuºít
))

474 
°r_cuº_p
 < 
°r_íd_p
)

476 
cuºít
 = *
°r_cuº_p
++;

477 i‡(!
	`lô_ch¨_is_decimÆ_digô
 (
cuºít
))

479 
°r_cuº_p
--;

485 
íd_p
 = 
°r_cuº_p
;

490 i‡(
°¨t_p
 =
íd_p
)

492 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

497 
ecma_numbî_t
 
ªt_num
 = 
	`ecma_utf8_°rög_to_numbî
 (
°¨t_p
,

498 (
lô_utf8_size_t
Ë(
íd_p
 - 
°¨t_p
));

500 i‡(
sign
)

502 
ªt_num
 *
ECMA_NUMBER_MINUS_ONE
;

505 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
ªt_num
);

509 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

511 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

517 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

520 
	`ECMA_FINALIZE_UTF8_STRING
 (
°rög_buff
, 
°rög_buff_size
);

521 
	`ECMA_FINALIZE
 (
°rög_v¨
);

523  
ªt_vÆue
;

524 
	}
}

535 
ecma_vÆue_t


536 
	$ecma_buûtö_globÆ_obje˘_is_«n
 (
ecma_vÆue_t
 
this_¨g
,

537 
ecma_vÆue_t
 
¨g
)

539 
	`JERRY_UNUSED
 (
this_¨g
);

540 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

542 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨g
, 
ªt_vÆue
);

544 
boﬁ
 
is_«n
 = 
	`ecma_numbî_is_«n
 (
¨g_num
);

546 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
is_«n
 ? 
ECMA_SIMPLE_VALUE_TRUE


547 : 
ECMA_SIMPLE_VALUE_FALSE
);

549 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

551  
ªt_vÆue
;

552 
	}
}

563 
ecma_vÆue_t


564 
	$ecma_buûtö_globÆ_obje˘_is_föôe
 (
ecma_vÆue_t
 
this_¨g
,

565 
ecma_vÆue_t
 
¨g
)

567 
	`JERRY_UNUSED
 (
this_¨g
);

568 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

570 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨g
, 
ªt_vÆue
);

572 
boﬁ
 
is_föôe
 = !(
	`ecma_numbî_is_«n
 (
¨g_num
)

573 || 
	`ecma_numbî_is_öföôy
 (
¨g_num
));

575 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
is_föôe
 ? 
ECMA_SIMPLE_VALUE_TRUE


576 : 
ECMA_SIMPLE_VALUE_FALSE
);

578 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

580  
ªt_vÆue
;

581 
	}
}

588 
boﬁ


589 
	$ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
uöt32_t
 
ch¨a˘î
,

590 c⁄° 
uöt8_t
 *
bô£t
)

592 
	`JERRY_ASSERT
 (
ch¨a˘î
 < 128);

593  (
bô£t
[
ch¨a˘î
 >> 3] & (1u << (character & 0x7))) != 0;

594 
	}
}

601 c⁄° 
uöt8_t
 
	gu√sˇ≥d_uri_£t
[16] =

612 c⁄° 
uöt8_t
 
	gu√sˇ≥d_uri_comp⁄ít_£t
[16] =

621 
	#URI_ENCODED_BYTE_SIZE
 (3)

	)

627 
	#URI_DECODE_ORIGINAL_BYTE
 0

	)

628 
	#URI_DECODE_DECODED_BYTE
 1

	)

636 
ecma_vÆue_t


637 
	$ecma_buûtö_globÆ_obje˘_decode_uri_hñ≥r
 (
ecma_vÆue_t
 
uri
,

638 c⁄° 
uöt8_t
 *
ª£rved_uri_bô£t
)

640 
	`JERRY_UNUSED
 (
uri
);

641 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

643 
	`ECMA_TRY_CATCH
 (
°rög
,

644 
	`ecma_›_to_°rög
 (
uri
),

645 
ªt_vÆue
);

647 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
°rög
));

649 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög
);

650 
lô_utf8_size_t
 
öput_size
 = 
	`ecma_°rög_gë_size
 (
öput_°rög_p
);

652 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
öput_°¨t_p
,

653 
öput_size
 + 1,

654 
lô_utf8_byã_t
);

656 
	`ecma_°rög_to_utf8_byãs
 (
öput_°rög_p
, 
öput_°¨t_p
, 
öput_size
);

658 
öput_°¨t_p
[
öput_size
] = 
LIT_BYTE_NULL
;

660 
lô_utf8_byã_t
 *
öput_ch¨_p
 = 
öput_°¨t_p
;

661 
lô_utf8_byã_t
 *
öput_íd_p
 = 
öput_°¨t_p
 + 
öput_size
;

662 
lô_utf8_size_t
 
ouçut_size
 = 0;

669 
öput_ch¨_p
 < 
öput_íd_p
)

676 i‡(*
öput_ch¨_p
 != '%')

678 
ouçut_size
++;

679 
öput_ch¨_p
++;

683 
ecma_ch¨_t
 
decoded_byã
;

685 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
öput_ch¨_p
 + 1, 2, &
decoded_byã
))

687 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid hexadecimal value."));

691 
öput_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

693 i‡(
decoded_byã
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

699 i‡(
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
decoded_byã
, 
ª£rved_uri_bô£t
)

700 && !
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
decoded_byã
, 
u√sˇ≥d_uri_comp⁄ít_£t
))

702 
ouçut_size
 +
URI_ENCODED_BYTE_SIZE
;

706 
ouçut_size
++;

709 i‡((
decoded_byã
 & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

711 
ouçut_size
 += 3;

715 
ouçut_size
++;

719 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

721 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ouçut_°¨t_p
,

722 
ouçut_size
,

723 
lô_utf8_byã_t
);

725 
öput_ch¨_p
 = 
öput_°¨t_p
;

726 
lô_utf8_byã_t
 *
ouçut_ch¨_p
 = 
ouçut_°¨t_p
;

728 
öput_ch¨_p
 < 
öput_íd_p
)

731 i‡(*
öput_ch¨_p
 != '%')

733 *
ouçut_ch¨_p
 = *
öput_ch¨_p
;

734 
ouçut_ch¨_p
++;

735 
öput_ch¨_p
++;

739 
ecma_ch¨_t
 
decoded_byã
;

741 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
öput_ch¨_p
 + 1, 2, &
decoded_byã
))

743 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid hexadecimal value."));

747 
öput_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

749 i‡(
decoded_byã
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

751 i‡(
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
decoded_byã
, 
ª£rved_uri_bô£t
)

752 && !
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
decoded_byã
, 
u√sˇ≥d_uri_comp⁄ít_£t
))

754 *
ouçut_ch¨_p
 = '%';

755 
ouçut_ch¨_p
++;

756 
öput_ch¨_p
 -= 2;

760 *
ouçut_ch¨_p
++ = (
lô_utf8_byã_t
Ë
decoded_byã
;

765 
uöt32_t
 
byãs_cou¡
;

767 i‡((
decoded_byã
 & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

769 
byãs_cou¡
 = 2;

771 i‡((
decoded_byã
 & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
)

773 
byãs_cou¡
 = 3;

775 i‡((
decoded_byã
 & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

777 
byãs_cou¡
 = 4;

781 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid UTF8 character."));

785 
lô_utf8_byã_t
 
o˘ës
[
LIT_UTF8_MAX_BYTES_IN_CODE_POINT
];

786 
o˘ës
[0] = (
lô_utf8_byã_t
Ë
decoded_byã
;

787 
boﬁ
 
is_vÆid
 = 
åue
;

789 
uöt32_t
 
i
 = 1; i < 
byãs_cou¡
; i++)

791 i‡(
öput_ch¨_p
 >
öput_íd_p
 || *input_char_p != '%')

793 
is_vÆid
 = 
Ál£
;

798 
ecma_ch¨_t
 
chr
;

800 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
öput_ch¨_p
 + 1, 2, &
chr
)

801 || ((
chr
 & 
LIT_UTF8_EXTRA_BYTE_MASK
Ë!
LIT_UTF8_EXTRA_BYTE_MARKER
))

803 
is_vÆid
 = 
Ál£
;

807 
o˘ës
[
i
] = (
lô_utf8_byã_t
Ë
chr
;

808 
öput_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

812 i‡(!
is_vÆid


813 || !
	`lô_is_vÆid_utf8_°rög
 (
o˘ës
, 
byãs_cou¡
))

815 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid UTF8 string."));

819 
lô_code_poöt_t
 
˝
;

820 
	`lô_ªad_code_poöt_‰om_utf8
 (
o˘ës
, 
byãs_cou¡
, &
˝
);

822 i‡(
	`lô_is_code_poöt_utf16_high_suºog©e
 (
˝
)

823 || 
	`lô_is_code_poöt_utf16_low_suºog©e
 (
˝
))

825 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid UTF8 codepoint."));

829 
ouçut_ch¨_p
 +
	`lô_code_poöt_to_˚su8
 (
˝
, output_char_p);

833 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

835 
	`JERRY_ASSERT
 (
ouçut_°¨t_p
 + 
ouçut_size
 =
ouçut_ch¨_p
);

837 i‡(
	`lô_is_vÆid_˚su8_°rög
 (
ouçut_°¨t_p
, 
ouçut_size
))

839 
ecma_°rög_t
 *
ouçut_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ouçut_°¨t_p
, 
ouçut_size
);

840 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ouçut_°rög_p
);

844 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid CESU8 string."));

848 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ouçut_°¨t_p
);

851 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
öput_°¨t_p
);

853 
	`ECMA_FINALIZE
 (
°rög
);

854  
ªt_vÆue
;

855 
	}
}

866 
ecma_vÆue_t


867 
	$ecma_buûtö_globÆ_obje˘_decode_uri
 (
ecma_vÆue_t
 
this_¨g
,

868 
ecma_vÆue_t
 
ícoded_uri
)

870 
	`JERRY_UNUSED
 (
this_¨g
);

871  
	`ecma_buûtö_globÆ_obje˘_decode_uri_hñ≥r
 (
ícoded_uri
, 
u√sˇ≥d_uri_£t
);

872 
	}
}

883 
ecma_vÆue_t


884 
	$ecma_buûtö_globÆ_obje˘_decode_uri_comp⁄ít
 (
ecma_vÆue_t
 
this_¨g
,

885 
ecma_vÆue_t
 
ícoded_uri_comp⁄ít
)

888 
	`JERRY_UNUSED
 (
this_¨g
);

889  
	`ecma_buûtö_globÆ_obje˘_decode_uri_hñ≥r
 (
ícoded_uri_comp⁄ít
, 
u√sˇ≥d_uri_comp⁄ít_£t
);

890 
	}
}

896 
	$ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
lô_utf8_byã_t
 *
de°_p
,

897 
uöt32_t
 
byã
)

899 
	`JERRY_ASSERT
 (
byã
 < 256);

901 
de°_p
[0] = 
LIT_CHAR_PERCENT
;

902 
ecma_ch¨_t
 
hex_digô
 = (ecma_ch¨_tË(
byã
 >> 4);

903 
de°_p
[1] = (
lô_utf8_byã_t
Ë((
hex_digô
 > 9) ? (hex_digit + ('A' - 10)) : (hex_digit + '0'));

904 
hex_digô
 = (
lô_utf8_byã_t
Ë(
byã
 & 0xf);

905 
de°_p
[2] = (
lô_utf8_byã_t
Ë((
hex_digô
 > 9) ? (hex_digit + ('A' - 10)) : (hex_digit + '0'));

906 
	}
}

914 
ecma_vÆue_t


915 
	$ecma_buûtö_globÆ_obje˘_ícode_uri_hñ≥r
 (
ecma_vÆue_t
 
uri
,

916 c⁄° 
uöt8_t
 *
u√sˇ≥d_uri_bô£t_p
)

918 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

920 
	`ECMA_TRY_CATCH
 (
°rög
,

921 
	`ecma_›_to_°rög
 (
uri
),

922 
ªt_vÆue
);

924 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
°rög
));

926 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög
);

927 
lô_utf8_size_t
 
öput_size
 = 
	`ecma_°rög_gë_size
 (
öput_°rög_p
);

929 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
öput_°¨t_p
,

930 
öput_size
,

931 
lô_utf8_byã_t
);

933 
	`ecma_°rög_to_utf8_byãs
 (
öput_°rög_p
, 
öput_°¨t_p
, 
öput_size
);

940 
lô_utf8_byã_t
 *
öput_ch¨_p
 = 
öput_°¨t_p
;

941 c⁄° 
lô_utf8_byã_t
 *
öput_íd_p
 = 
öput_°¨t_p
 + 
öput_size
;

942 
lô_utf8_size_t
 
ouçut_Àngth
 = 0;

943 
lô_code_poöt_t
 
˝
;

944 
ecma_ch¨_t
 
ch
;

945 
lô_utf8_byã_t
 
o˘ës
[
LIT_UTF8_MAX_BYTES_IN_CODE_POINT
];

946 
	`mem£t
 (
o˘ës
, 
LIT_BYTE_NULL
, 
LIT_UTF8_MAX_BYTES_IN_CODE_POINT
);

948 
öput_ch¨_p
 < 
öput_íd_p
)

951 
öput_ch¨_p
 +
	`lô_ªad_code_unô_‰om_utf8
 (öput_ch¨_p, &
ch
);

953 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
ch
))

955 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Unicode surrogateÖair missing."));

959 
˝
 = 
ch
;

961 i‡(
	`lô_is_code_poöt_utf16_high_suºog©e
 (
ch
))

963 i‡(
öput_ch¨_p
 =
öput_íd_p
)

965 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Unicode surrogateÖair missing."));

969 
ecma_ch¨_t
 
√xt_ch
;

970 
lô_utf8_size_t
 
ªad_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
öput_ch¨_p
, &
√xt_ch
);

972 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
√xt_ch
))

974 
˝
 = 
	`lô_c⁄vît_suºog©e_∑ú_to_code_poöt
 (
ch
, 
√xt_ch
);

975 
öput_ch¨_p
 +
ªad_size
;

979 
ªt_vÆue
 = 
	`ecma_øi£_uri_îr‹
 (
	`ECMA_ERR_MSG
 ("Unicode surrogateÖair missing."));

984 
lô_utf8_size_t
 
utf_size
 = 
	`lô_code_poöt_to_utf8
 (
˝
, 
o˘ës
);

986 i‡(
utf_size
 == 1)

988 i‡(
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
o˘ës
[0], 
u√sˇ≥d_uri_bô£t_p
))

990 
ouçut_Àngth
++;

994 
ouçut_Àngth
 +
URI_ENCODED_BYTE_SIZE
;

999 
ouçut_Àngth
 +
utf_size
 * 
URI_ENCODED_BYTE_SIZE
;

1003 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1005 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ouçut_°¨t_p
,

1006 
ouçut_Àngth
,

1007 
lô_utf8_byã_t
);

1009 
lô_utf8_byã_t
 *
ouçut_ch¨_p
 = 
ouçut_°¨t_p
;

1010 
öput_ch¨_p
 = 
öput_°¨t_p
;

1012 
öput_ch¨_p
 < 
öput_íd_p
)

1015 
öput_ch¨_p
 +
	`lô_ªad_code_unô_‰om_utf8
 (öput_ch¨_p, &
ch
);

1016 
˝
 = 
ch
;

1018 i‡(
	`lô_is_code_poöt_utf16_high_suºog©e
 (
ch
))

1020 
ecma_ch¨_t
 
√xt_ch
;

1021 
lô_utf8_size_t
 
ªad_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
öput_ch¨_p
, &
√xt_ch
);

1023 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
√xt_ch
))

1025 
˝
 = 
	`lô_c⁄vît_suºog©e_∑ú_to_code_poöt
 (
ch
, 
√xt_ch
);

1026 
öput_ch¨_p
 +
ªad_size
;

1030 
lô_utf8_size_t
 
utf_size
 = 
	`lô_code_poöt_to_utf8
 (
˝
, 
o˘ës
);

1032 i‡(
utf_size
 == 1)

1034 i‡(
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 (
o˘ës
[0], 
u√sˇ≥d_uri_bô£t_p
))

1036 *
ouçut_ch¨_p
++ = 
o˘ës
[0];

1040 
	`ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
ouçut_ch¨_p
, 
o˘ës
[0]);

1041 
ouçut_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

1046 
uöt32_t
 
i
 = 0; i < 
utf_size
; i++)

1048 
	`ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
ouçut_ch¨_p
, 
o˘ës
[
i
]);

1049 
ouçut_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

1054 
	`JERRY_ASSERT
 (
ouçut_°¨t_p
 + 
ouçut_Àngth
 =
ouçut_ch¨_p
);

1056 
ecma_°rög_t
 *
ouçut_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ouçut_°¨t_p
, 
ouçut_Àngth
);

1058 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ouçut_°rög_p
);

1060 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ouçut_°¨t_p
);

1063 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
öput_°¨t_p
);

1065 
	`ECMA_FINALIZE
 (
°rög
);

1066  
ªt_vÆue
;

1067 
	}
}

1078 
ecma_vÆue_t


1079 
	$ecma_buûtö_globÆ_obje˘_ícode_uri
 (
ecma_vÆue_t
 
this_¨g
,

1080 
ecma_vÆue_t
 
uri
)

1082 
	`JERRY_UNUSED
 (
this_¨g
);

1083  
	`ecma_buûtö_globÆ_obje˘_ícode_uri_hñ≥r
 (
uri
, 
u√sˇ≥d_uri_£t
);

1084 
	}
}

1095 
ecma_vÆue_t


1096 
	$ecma_buûtö_globÆ_obje˘_ícode_uri_comp⁄ít
 (
ecma_vÆue_t
 
this_¨g
,

1097 
ecma_vÆue_t
 
uri_comp⁄ít
)

1099 
	`JERRY_UNUSED
 (
this_¨g
);

1100  
	`ecma_buûtö_globÆ_obje˘_ícode_uri_hñ≥r
 (
uri_comp⁄ít
, 
u√sˇ≥d_uri_comp⁄ít_£t
);

1101 
	}
}

1103 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


1108 
	#ECMA_ESCAPE_MAXIMUM_BYTE_VALUE
 (255)

	)

1113 
	#ECMA_ESCAPE_ENCODED_UNICODE_CHARACTER_SIZE
 (6)

	)

1121 c⁄° 
uöt8_t
 
	gecma_esˇ≥_£t
[16] =

1136 
ecma_vÆue_t


1137 
	$ecma_buûtö_globÆ_obje˘_esˇ≥
 (
ecma_vÆue_t
 
this_¨g
,

1138 
ecma_vÆue_t
 
¨g
)

1140 
	`JERRY_UNUSED
 (
this_¨g
);

1141 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1143 
	`ECMA_TRY_CATCH
 (
°rög
,

1144 
	`ecma_›_to_°rög
 (
¨g
),

1145 
ªt_vÆue
);

1147 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög
);

1148 
lô_utf8_size_t
 
öput_size
 = 
	`ecma_°rög_gë_size
 (
öput_°rög_p
);

1150 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
öput_°¨t_p
,

1151 
öput_size
,

1152 
lô_utf8_byã_t
);

1154 
	`ecma_°rög_to_utf8_byãs
 (
öput_°rög_p
, 
öput_°¨t_p
, 
öput_size
);

1160 c⁄° 
lô_utf8_byã_t
 *
öput_cuº_p
 = 
öput_°¨t_p
;

1161 c⁄° 
lô_utf8_byã_t
 *
öput_íd_p
 = 
öput_°¨t_p
 + 
öput_size
;

1162 
lô_utf8_size_t
 
ouçut_Àngth
 = 0;

1164 
öput_cuº_p
 < 
öput_íd_p
)

1166 
ecma_ch¨_t
 
chr
 = 
	`lô_utf8_ªad_√xt
 (&
öput_cuº_p
);

1168 i‡(
chr
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

1170 i‡(
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 ((
uöt32_t
Ë
chr
, 
ecma_esˇ≥_£t
))

1172 
ouçut_Àngth
++;

1176 
ouçut_Àngth
 +
URI_ENCODED_BYTE_SIZE
;

1179 i‡(
chr
 > 
ECMA_ESCAPE_MAXIMUM_BYTE_VALUE
)

1181 
ouçut_Àngth
 +
ECMA_ESCAPE_ENCODED_UNICODE_CHARACTER_SIZE
;

1185 
ouçut_Àngth
 +
URI_ENCODED_BYTE_SIZE
;

1189 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ouçut_°¨t_p
,

1190 
ouçut_Àngth
,

1191 
lô_utf8_byã_t
);

1193 
lô_utf8_byã_t
 *
ouçut_ch¨_p
 = 
ouçut_°¨t_p
;

1195 
öput_cuº_p
 = 
öput_°¨t_p
;

1197 
öput_cuº_p
 < 
öput_íd_p
)

1199 
ecma_ch¨_t
 
chr
 = 
	`lô_utf8_ªad_√xt
 (&
öput_cuº_p
);

1201 i‡(
chr
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

1203 i‡(
	`ecma_buûtö_globÆ_obje˘_ch¨a˘î_is_ö
 ((
uöt32_t
Ë
chr
, 
ecma_esˇ≥_£t
))

1205 *
ouçut_ch¨_p
 = (
lô_utf8_byã_t
Ë
chr
;

1206 
ouçut_ch¨_p
++;

1210 
	`ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
ouçut_ch¨_p
, (
lô_utf8_byã_t
Ë
chr
);

1211 
ouçut_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

1214 i‡(
chr
 > 
ECMA_ESCAPE_MAXIMUM_BYTE_VALUE
)

1221 
	`ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
ouçut_ch¨_p
 + 3, (
lô_utf8_byã_t
Ë(
chr
 & 0xff));

1222 
	`ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
ouçut_ch¨_p
 + 1, (
lô_utf8_byã_t
Ë(
chr
 >> 
JERRY_BITSINBYTE
));

1223 
ouçut_ch¨_p
[0] = 
LIT_CHAR_PERCENT
;

1224 
ouçut_ch¨_p
[1] = 
LIT_CHAR_LOWERCASE_U
;

1225 
ouçut_ch¨_p
 +
ECMA_ESCAPE_ENCODED_UNICODE_CHARACTER_SIZE
;

1229 
	`ecma_buûtö_globÆ_obje˘_byã_to_hex
 (
ouçut_ch¨_p
, (
lô_utf8_byã_t
Ë
chr
);

1230 
ouçut_ch¨_p
 +
URI_ENCODED_BYTE_SIZE
;

1234 
	`JERRY_ASSERT
 (
ouçut_°¨t_p
 + 
ouçut_Àngth
 =
ouçut_ch¨_p
);

1236 
ecma_°rög_t
 *
ouçut_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ouçut_°¨t_p
, 
ouçut_Àngth
);

1238 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ouçut_°rög_p
);

1240 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ouçut_°¨t_p
);

1242 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
öput_°¨t_p
);

1244 
	`ECMA_FINALIZE
 (
°rög
);

1245  
ªt_vÆue
;

1246 
	}
}

1257 
ecma_vÆue_t


1258 
	$ecma_buûtö_globÆ_obje˘_u√sˇ≥
 (
ecma_vÆue_t
 
this_¨g
,

1259 
ecma_vÆue_t
 
¨g
)

1261 
	`JERRY_UNUSED
 (
this_¨g
);

1262 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1265 
	`ECMA_TRY_CATCH
 (
°rög
, 
	`ecma_›_to_°rög
 (
¨g
), 
ªt_vÆue
);

1266 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög
);

1268 
lô_utf8_size_t
 
öput_size
 = 
	`ecma_°rög_gë_size
 (
öput_°rög_p
);

1271 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
öput_°¨t_p
, 
öput_size
, 
lô_utf8_byã_t
);

1272 
	`ecma_°rög_to_utf8_byãs
 (
öput_°rög_p
, 
öput_°¨t_p
, 
öput_size
);

1274 c⁄° 
lô_utf8_byã_t
 *
öput_cuº_p
 = 
öput_°¨t_p
;

1275 c⁄° 
lô_utf8_byã_t
 *
öput_íd_p
 = 
öput_°¨t_p
 + 
öput_size
;

1282 
lô_utf8_byã_t
 *
ouçut_ch¨_p
 = 
öput_°¨t_p
;

1293 
uöt8_t
 
°©us
 = 0;

1294 
ecma_ch¨_t
 
hex_digôs
 = 0;

1296 
öput_cuº_p
 < 
öput_íd_p
)

1299 
ecma_ch¨_t
 
chr
 = 
	`lô_utf8_ªad_√xt
 (&
öput_cuº_p
);

1302 i‡(
°©us
 =0 && 
chr
 =
LIT_CHAR_PERCENT
)

1305 
°©us
 = 1;

1308 i‡(
°©us
 =1 && 
chr
 =
LIT_CHAR_LOWERCASE_U
)

1311 
°©us
 = 4;

1313 i‡(
°©us
 > 0 && 
	`lô_ch¨_is_hex_digô
 (
chr
))

1316 
hex_digôs
 = (
ecma_ch¨_t
Ë(hex_digô†* 16 + (ecma_ch¨_tË
	`lô_ch¨_hex_to_öt
 (
chr
));

1317 
°©us
++;

1321 i‡(
°©us
 == 8 || status == 3)

1323 
ouçut_ch¨_p
 -(
°©us
 == 3) ? 2 : 5;

1324 
°©us
 = 0;

1325 
chr
 = 
hex_digôs
;

1326 
hex_digôs
 = 0;

1330 
lô_utf8_size_t
 
lô_size
 = 
	`lô_code_unô_to_utf8
 (
chr
, 
ouçut_ch¨_p
);

1331 
ouçut_ch¨_p
 +
lô_size
;

1332 
	`JERRY_ASSERT
 (
ouçut_ch¨_p
 <
öput_cuº_p
);

1335 
lô_utf8_size_t
 
ouçut_Àngth
 = (lô_utf8_size_tË(
ouçut_ch¨_p
 - 
öput_°¨t_p
);

1336 
ecma_°rög_t
 *
ouçut_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
öput_°¨t_p
, 
ouçut_Àngth
);

1337 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ouçut_°rög_p
);

1339 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
öput_°¨t_p
);

1341 
	`ECMA_FINALIZE
 (
°rög
);

1342  
ªt_vÆue
;

1343 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-global.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$SIMPLE_VALUE
 (
LIT_MAGIC_STRING_UNDEFINED
,

27 
ECMA_SIMPLE_VALUE_UNDEFINED
,

28 
ECMA_PROPERTY_FIXED
)

34 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_NAN
,

35 
ECMA_BUILTIN_NUMBER_NAN
,

36 
ECMA_PROPERTY_FIXED
)

39 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_INFINITY_UL
,

40 
ECMA_BUILTIN_NUMBER_POSITIVE_INFINITY
,

41 
ECMA_PROPERTY_FIXED
)

47 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_OBJECT_UL
,

48 
ECMA_BUILTIN_ID_OBJECT
,

49 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

52 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_FUNCTION_UL
,

53 
ECMA_BUILTIN_ID_FUNCTION
,

54 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

57 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


58 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_ARRAY_UL
,

59 
ECMA_BUILTIN_ID_ARRAY
,

60 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

63 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


65 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_STRING_UL
,

66 
ECMA_BUILTIN_ID_STRING
,

67 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

70 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


72 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_BOOLEAN_UL
,

73 
ECMA_BUILTIN_ID_BOOLEAN
,

74 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

77 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


79 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_NUMBER_UL
,

80 
ECMA_BUILTIN_ID_NUMBER
,

81 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

84 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


86 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_DATE_UL
,

87 
ECMA_BUILTIN_ID_DATE
,

88 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

91 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


93 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_REGEXP_UL
,

94 
ECMA_BUILTIN_ID_REGEXP
,

95 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

99 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_ERROR_UL
,

100 
ECMA_BUILTIN_ID_ERROR
,

101 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

103 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


106 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_EVAL_ERROR_UL
,

107 
ECMA_BUILTIN_ID_EVAL_ERROR
,

108 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

111 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_RANGE_ERROR_UL
,

112 
ECMA_BUILTIN_ID_RANGE_ERROR
,

113 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

116 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_REFERENCE_ERROR_UL
,

117 
ECMA_BUILTIN_ID_REFERENCE_ERROR
,

118 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

121 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_SYNTAX_ERROR_UL
,

122 
ECMA_BUILTIN_ID_SYNTAX_ERROR
,

123 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

126 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_TYPE_ERROR_UL
,

127 
ECMA_BUILTIN_ID_TYPE_ERROR
,

128 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

131 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_URI_ERROR_UL
,

132 
ECMA_BUILTIN_ID_URI_ERROR
,

133 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

136 #i‚de‡
CONFIG_DISABLE_MATH_BUILTIN


138 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_MATH_UL
,

139 
ECMA_BUILTIN_ID_MATH
,

140 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

143 #i‚de‡
CONFIG_DISABLE_JSON_BUILTIN


145 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_JSON_U
,

146 
ECMA_BUILTIN_ID_JSON
,

147 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

150 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


151 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
,

152 
ECMA_BUILTIN_ID_ARRAYBUFFER
,

153 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

155 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_INT8_ARRAY_UL
,

156 
ECMA_BUILTIN_ID_INT8ARRAY
,

157 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

159 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_UINT8_ARRAY_UL
,

160 
ECMA_BUILTIN_ID_UINT8ARRAY
,

161 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

163 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_INT16_ARRAY_UL
,

164 
ECMA_BUILTIN_ID_INT16ARRAY
,

165 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

167 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_UINT16_ARRAY_UL
,

168 
ECMA_BUILTIN_ID_UINT16ARRAY
,

169 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

171 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_INT32_ARRAY_UL
,

172 
ECMA_BUILTIN_ID_INT32ARRAY
,

173 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

175 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_UINT32_ARRAY_UL
,

176 
ECMA_BUILTIN_ID_UINT32ARRAY
,

177 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

179 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
,

180 
ECMA_BUILTIN_ID_FLOAT32ARRAY
,

181 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

183 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


184 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
,

185 
ECMA_BUILTIN_ID_FLOAT64ARRAY
,

186 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

189 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
,

190 
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY
,

191 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

194 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


195 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROMISE_UL
,

196 
ECMA_BUILTIN_ID_PROMISE
,

197 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

203 
	$ROUTINE
 (
LIT_MAGIC_STRING_EVAL
, 
ecma_buûtö_globÆ_obje˘_evÆ
, 1, 1)

204 
	$ROUTINE
 (
LIT_MAGIC_STRING_PARSE_FLOAT
, 
ecma_buûtö_globÆ_obje˘_∑r£_Êﬂt
, 1, 1)

205 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_NAN
, 
ecma_buûtö_globÆ_obje˘_is_«n
, 1, 1)

206 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_FINITE
, 
ecma_buûtö_globÆ_obje˘_is_föôe
, 1, 1)

207 
	$ROUTINE
 (
LIT_MAGIC_STRING_DECODE_URI
, 
ecma_buûtö_globÆ_obje˘_decode_uri
, 1, 1)

208 
	$ROUTINE
 (
LIT_MAGIC_STRING_DECODE_URI_COMPONENT
, 
ecma_buûtö_globÆ_obje˘_decode_uri_comp⁄ít
, 1, 1)

209 
	$ROUTINE
 (
LIT_MAGIC_STRING_ENCODE_URI
, 
ecma_buûtö_globÆ_obje˘_ícode_uri
, 1, 1)

210 
	$ROUTINE
 (
LIT_MAGIC_STRING_ENCODE_URI_COMPONENT
, 
ecma_buûtö_globÆ_obje˘_ícode_uri_comp⁄ít
, 1, 1)

211 
	$ROUTINE
 (
LIT_MAGIC_STRING_PARSE_INT
, 
ecma_buûtö_globÆ_obje˘_∑r£_öt
, 2, 2)

213 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


214 
	$ROUTINE
 (
LIT_MAGIC_STRING_ESCAPE
, 
ecma_buûtö_globÆ_obje˘_esˇ≥
, 1, 1)

215 
	$ROUTINE
 (
LIT_MAGIC_STRING_UNESCAPE
, 
ecma_buûtö_globÆ_obje˘_u√sˇ≥
, 1, 1)

218 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-date.c

16 
	~<m©h.h
>

18 
	~"ecma-Æloc.h
"

19 
	~"ecma-buûtö-hñ≥rs.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-åy-ˇtch-ma¸o.h
"

25 
	~"lô-ch¨-hñ≥rs.h
"

27 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


44 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


45 
	$ecma_d©e_day
 (
ecma_numbî_t
 
time
)

47 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

49  (
ecma_numbî_t
Ë
	`Êo‹
 (
time
 / 
ECMA_DATE_MS_PER_DAY
);

50 
	}
}

60 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


61 
	$ecma_d©e_time_wôhö_day
 (
ecma_numbî_t
 
time
)

63 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

65  (
ecma_numbî_t
Ë
	`fmod
 (
time
, 
ECMA_DATE_MS_PER_DAY
);

66 
	}
}

76 
ecma_numbî_t


77 
	$ecma_d©e_day_‰om_yór
 (
ecma_numbî_t
 
yór
)

79 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
yór
));

81  (
ecma_numbî_t
Ë(365 * (
yór
 - 1970)

82 + 
	`Êo‹
 ((
yór
 - 1969) / 4)

83 - 
	`Êo‹
 ((
yór
 - 1901) / 100)

84 + 
	`Êo‹
 ((
yór
 - 1601) / 400));

85 
	}
}

95 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


96 
	$ecma_d©e_time_‰om_yór
 (
ecma_numbî_t
 
yór
)

98 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
yór
));

100  
ECMA_DATE_MS_PER_DAY
 * 
	`ecma_d©e_day_‰om_yór
 (
yór
);

101 
	}
}

111 
ecma_numbî_t


112 
	$ecma_d©e_yór_‰om_time
 (
ecma_numbî_t
 
time
)

114 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

119 
ecma_numbî_t
 
yór
 = (ecma_number_t) (1970 + 285616);

120 
ecma_numbî_t
 
lowî_yór_bound¨y
 = (ecma_number_t) (1970 - 285616);

122 i‡(
	`ecma_d©e_time_‰om_yór
 (
yór
Ë< 
time
 ||Écma_d©e_time_‰om_yó∏(
lowî_yór_bound¨y
) >Åime)

124  
	`ecma_numbî_make_«n
 ();

127 
	`ecma_d©e_time_‰om_yór
 (
yór
Ë> 
time
)

129 
ecma_numbî_t
 
yór_bound¨y
 = (ecma_numbî_tË
	`Êo‹
 (
lowî_yór_bound¨y
 + (
yór
 -Üower_year_boundary) / 2);

130 i‡(
	`ecma_d©e_time_‰om_yór
 (
yór_bound¨y
Ë> 
time
)

132 
yór
 = 
yór_bound¨y
;

136 
lowî_yór_bound¨y
 = 
yór_bound¨y
;

139 
yór
--;

142  
yór
;

143 
	}
}

155 
	$ecma_d©e_ö_À≠_yór
 (
ecma_numbî_t
 
yór
)

157 
mod_400
 = (Ë
	`fmod
 (
	`Êo‹
 (
yór
), 400);

159 
	`JERRY_ASSERT
 (
mod_400
 >= -399 && mod_400 <= 399);

161 i‡((
mod_400
 % 4) != 0)

166 i‡((
mod_400
 % 100) != 0)

171 i‡(
mod_400
 != 0)

177 
	}
}

182 c⁄° 
öt16_t
 
	gecma_d©e_m⁄th_íd_day
[10] =

195 
ecma_numbî_t


196 
	$ecma_d©e_m⁄th_‰om_time
 (
ecma_numbî_t
 
time
)

198 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

200 
ecma_numbî_t
 
yór
 = 
	`ecma_d©e_yór_‰om_time
 (
time
);

202 i‡(
	`ecma_numbî_is_«n
 (
yór
))

204  
	`ecma_numbî_make_«n
 ();

207 
day_wôhö_yór
 = (Ë(
	`ecma_d©e_day
 (
time
Ë- 
	`ecma_d©e_day_‰om_yór
 (
yór
));

209 
	`JERRY_ASSERT
 (
day_wôhö_yór
 >= 0);

211 i‡(
day_wôhö_yór
 <= 30)

216 
day_wôhö_yór
 -
	`ecma_d©e_ö_À≠_yór
 (
yór
);

218 
	`JERRY_ASSERT
 (
day_wôhö_yór
 < 365);

220 
i
 = 0; i < 10; i++)

222 i‡(
day_wôhö_yór
 <
ecma_d©e_m⁄th_íd_day
[
i
])

224  
i
 + 1;

229 
	}
}

239 
ecma_numbî_t


240 
	$ecma_d©e_d©e_‰om_time
 (
ecma_numbî_t
 
time
)

242 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

244 
ecma_numbî_t
 
yór
 = 
	`ecma_d©e_yór_‰om_time
 (
time
);

246 i‡(
	`ecma_numbî_is_«n
 (
yór
))

248  
	`ecma_numbî_make_«n
 ();

251 
day_wôhö_yór
 = (Ë(
	`ecma_d©e_day
 (
time
Ë- 
	`ecma_d©e_day_‰om_yór
 (
yór
));

253 
	`JERRY_ASSERT
 (
day_wôhö_yór
 >= 0);

255 i‡(
day_wôhö_yór
 <= 30)

257  
day_wôhö_yór
 + 1;

260 
À≠_yór
 = 
	`ecma_d©e_ö_À≠_yór
 (
yór
);

262 i‡(
day_wôhö_yór
 <58 + 
À≠_yór
)

264  
day_wôhö_yór
 - 30;

267 
day_wôhö_yór
 -
À≠_yór
;

269 
	`JERRY_ASSERT
 (
day_wôhö_yór
 < 365);

271 
i
 = 1; i < 10; i++)

273 i‡(
day_wôhö_yór
 <
ecma_d©e_m⁄th_íd_day
[
i
])

275  
day_wôhö_yór
 - 
ecma_d©e_m⁄th_íd_day
[
i
 - 1];

279  
day_wôhö_yór
 - 333;

280 
	}
}

294 
ecma_numbî_t


295 
	$ecma_d©e_wìk_day
 (
ecma_numbî_t
 
time
)

297 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

299 
ecma_numbî_t
 
wìk_day
 = (ecma_numbî_tË
	`fmod
 ((
	`ecma_d©e_day
 (
time
) + 4), 7);

301  (
wìk_day
 < 0) ? (7 + week_day) : week_day;

302 
	}
}

312 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


313 
	$ecma_d©e_loˇl_tza
 (
jîry_time_z⁄e_t
 *
tz
)

315  
tz
->
off£t
 * -
ECMA_DATE_MS_PER_MINUTE
;

316 
	}
}

326 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


327 
	$ecma_d©e_daylight_ßvög_è
 (
jîry_time_z⁄e_t
 *
tz
,

328 
ecma_numbî_t
 
time
)

330 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

336  
tz
->
daylight_ßvög_time
 * 
ECMA_DATE_MS_PER_HOUR
;

337 
	}
}

347 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


348 
	$ecma_d©e_loˇl_time_z⁄e
 (
ecma_numbî_t
 
time
)

350 
jîry_time_z⁄e_t
 
tz
;

352 i‡(
	`ecma_numbî_is_«n
 (
time
)

353 || !
	`jîry_p‹t_gë_time_z⁄e
 (&
tz
))

355  
	`ecma_numbî_make_«n
 ();

358  
	`ecma_d©e_loˇl_tza
 (&
tz
Ë+ 
	`ecma_d©e_daylight_ßvög_è
 (&tz, 
time
);

359 
	}
}

369 
ecma_numbî_t


370 
	$ecma_d©e_utc
 (
ecma_numbî_t
 
time
)

372 
jîry_time_z⁄e_t
 
tz
;

374 i‡(
	`ecma_numbî_is_«n
 (
time
)

375 || !
	`jîry_p‹t_gë_time_z⁄e
 (&
tz
))

377  
	`ecma_numbî_make_«n
 ();

380 
ecma_numbî_t
 
sim∂e_utc_time
 = 
time
 - 
	`ecma_d©e_loˇl_tza
 (&
tz
);

381  
sim∂e_utc_time
 - 
	`ecma_d©e_daylight_ßvög_è
 (&
tz
, simple_utc_time);

382 
	}
}

392 
ecma_numbî_t


393 
	$ecma_d©e_hour_‰om_time
 (
ecma_numbî_t
 
time
)

395 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

397 
ecma_numbî_t
 
hour
 = (ecma_numbî_tË
	`fmod
 (
	`Êo‹
 (
time
 / 
ECMA_DATE_MS_PER_HOUR
),

398 
ECMA_DATE_HOURS_PER_DAY
);

399  (
hour
 < 0Ë? 
ECMA_DATE_HOURS_PER_DAY
 + hour : hour;

400 
	}
}

410 
ecma_numbî_t


411 
	$ecma_d©e_mö_‰om_time
 (
ecma_numbî_t
 
time
)

413 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

415 
ecma_numbî_t
 
mö
 = (ecma_numbî_tË
	`fmod
 (
	`Êo‹
 (
time
 / 
ECMA_DATE_MS_PER_MINUTE
),

416 
ECMA_DATE_MINUTES_PER_HOUR
);

417  (
mö
 < 0Ë? 
ECMA_DATE_MINUTES_PER_HOUR
 + min : min;

418 
	}
}

428 
ecma_numbî_t


429 
	$ecma_d©e_£c_‰om_time
 (
ecma_numbî_t
 
time
)

431 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

433 
ecma_numbî_t
 
£c
 = (ecma_numbî_tË
	`fmod
 (
	`Êo‹
 (
time
 / 
ECMA_DATE_MS_PER_SECOND
),

434 
ECMA_DATE_SECONDS_PER_MINUTE
);

435  (
£c
 < 0Ë? 
ECMA_DATE_SECONDS_PER_MINUTE
 + sec : sec;

436 
	}
}

446 
ecma_numbî_t


447 
	$ecma_d©e_ms_‰om_time
 (
ecma_numbî_t
 
time
)

449 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

451 
ecma_numbî_t
 
mûli
 = (ecma_numbî_tË
	`fmod
 (
time
, 
ECMA_DATE_MS_PER_SECOND
);

452  (
mûli
 < 0Ë? 
ECMA_DATE_MS_PER_SECOND
 + milli : milli;

453 
	}
}

463 
ecma_numbî_t


464 
	$ecma_d©e_make_time
 (
ecma_numbî_t
 
hour
,

465 
ecma_numbî_t
 
mö
,

466 
ecma_numbî_t
 
£c
,

467 
ecma_numbî_t
 
ms
)

469 i‡(
	`ecma_numbî_is_«n
 (
hour
)

470 || 
	`ecma_numbî_is_«n
 (
mö
)

471 || 
	`ecma_numbî_is_«n
 (
£c
)

472 || 
	`ecma_numbî_is_«n
 (
ms
)

473 || 
	`ecma_numbî_is_öföôy
 (
hour
)

474 || 
	`ecma_numbî_is_öföôy
 (
mö
)

475 || 
	`ecma_numbî_is_öföôy
 (
£c
)

476 || 
	`ecma_numbî_is_öföôy
 (
ms
))

478  
	`ecma_numbî_make_«n
 ();

482 
ecma_numbî_t
 
h
 = 
	`ecma_numbî_åunc
 (
hour
);

483 
ecma_numbî_t
 
m
 = 
	`ecma_numbî_åunc
 (
mö
);

484 
ecma_numbî_t
 
s
 = 
	`ecma_numbî_åunc
 (
£c
);

485 
ecma_numbî_t
 
mûli
 = 
	`ecma_numbî_åunc
 (
ms
);

487  (
h
 * 
ECMA_DATE_MS_PER_HOUR


488 + 
m
 * 
ECMA_DATE_MS_PER_MINUTE


489 + 
s
 * 
ECMA_DATE_MS_PER_SECOND


490 + 
mûli
);

491 
	}
}

501 
ecma_numbî_t


502 
	$ecma_d©e_make_day
 (
ecma_numbî_t
 
yór
,

503 
ecma_numbî_t
 
m⁄th
,

504 
ecma_numbî_t
 
d©e
)

507 i‡(
	`ecma_numbî_is_«n
 (
yór
)

508 || 
	`ecma_numbî_is_«n
 (
m⁄th
)

509 || 
	`ecma_numbî_is_«n
 (
d©e
)

510 || 
	`ecma_numbî_is_öföôy
 (
yór
)

511 || 
	`ecma_numbî_is_öföôy
 (
m⁄th
)

512 || 
	`ecma_numbî_is_öföôy
 (
d©e
))

514  
	`ecma_numbî_make_«n
 ();

518 
ecma_numbî_t
 
y
 = 
	`ecma_numbî_åunc
 (
yór
);

519 
ecma_numbî_t
 
m
 = 
	`ecma_numbî_åunc
 (
m⁄th
);

520 
ecma_numbî_t
 
dt
 = 
	`ecma_numbî_åunc
 (
d©e
);

522 
ecma_numbî_t
 
ym
 = 
y
 + (ecma_numbî_tË
	`Êo‹
 (
m
 / 12);

524 
ecma_numbî_t
 
mn
 = (ecma_numbî_tË
	`fmod
 (
m
, 12);

525 
mn
 = (mn < 0) ? 12 + mn : mn;

528 
ecma_numbî_t
 
time
 = 
	`ecma_d©e_time_‰om_yór
 (
ym
);

535 i‡(!
	`ecma_numbî_is_«n
 (
time
)

536 && 
	`ecma_d©e_yór_‰om_time
 (
time
Ë=
ym
)

539 
time
 +31 * 
mn
 * 
ECMA_DATE_MS_PER_DAY
;

542 
time
 +((
ecma_numbî_t
Ë1.0 - 
	`ecma_d©e_d©e_‰om_time
 (time)Ë* 
ECMA_DATE_MS_PER_DAY
;

544 i‡(!
	`ecma_numbî_is_«n
 (
time
)

545 && 
	`ecma_d©e_m⁄th_‰om_time
 (
time
Ë=
mn


546 && 
	`ecma_d©e_d©e_‰om_time
 (
time
) == 1)

549  
	`ecma_d©e_day
 (
time
Ë+ 
dt
 - ((
ecma_numbî_t
) 1.0);

553  
	`ecma_numbî_make_«n
 ();

554 
	}
}

564 
ecma_numbî_t


565 
	$ecma_d©e_make_d©e
 (
ecma_numbî_t
 
day
,

566 
ecma_numbî_t
 
time
)

568 i‡(
	`ecma_numbî_is_«n
 (
day
)

569 || 
	`ecma_numbî_is_«n
 (
time
))

571  
	`ecma_numbî_make_«n
 ();

574 
ecma_numbî_t
 
ªsu…
 = 
day
 * 
ECMA_DATE_MS_PER_DAY
 + 
time
;

576 i‡(
	`ecma_numbî_is_öföôy
 (
ªsu…
))

578  
	`ecma_numbî_make_«n
 ();

581  
ªsu…
;

582 
	}
}

592 
ecma_numbî_t


593 
	$ecma_d©e_time_˛ù
 (
ecma_numbî_t
 
time
)

595 i‡(
	`ecma_numbî_is_«n
 (
time
)

596 || 
	`ecma_numbî_is_öföôy
 (
time
)

597 || 
	`Ábs
 (
time
Ë> 
ECMA_DATE_MAX_VALUE
)

599  
	`ecma_numbî_make_«n
 ();

602  
	`ecma_numbî_åunc
 (
time
);

603 
	}
}

613 
ölöe
 
ecma_numbî_t
 
__©å_Æways_ölöe___


614 
	$ecma_d©e_timez⁄e_off£t
 (
ecma_numbî_t
 
time
)

616 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
time
));

618  (-
	`ecma_d©e_loˇl_time_z⁄e
 (
time
)Ë/ 
ECMA_DATE_MS_PER_MINUTE
;

619 
	}
}

627 
ecma_vÆue_t


628 
	$ecma_d©e_to_°rög_f‹m©
 (
ecma_numbî_t
 
d©ëime_numbî
,

629 c⁄° *
f‹m©_p
)

631 c⁄° *
day_«mes_p
[8] =

636 c⁄° *
m⁄th_«mes_p
[13] =

641 c⁄° 
uöt32_t
 
d©e_buf„r_Àngth
 = 34;

642 
lô_utf8_byã_t
 
d©e_buf„r
[
d©e_buf„r_Àngth
];

644 
lô_utf8_byã_t
 *
de°_p
 = 
d©e_buf„r
;

646 *
f‹m©_p
 !
LIT_CHAR_NULL
)

648 i‡(*
f‹m©_p
 !
LIT_CHAR_DOLLAR_SIGN
)

650 *
de°_p
++ = (
lô_utf8_byã_t
Ë*
f‹m©_p
++;

654 
f‹m©_p
++;

656 c⁄° *
°r_p
 = 
NULL
;

657 
öt32_t
 
numbî
 = 0;

658 
öt32_t
 
numbî_Àngth
 = 0;

660 *
f‹m©_p
)

662 
LIT_CHAR_UPPERCASE_Y
:

664 
numbî
 = (
öt32_t
Ë
	`ecma_d©e_yór_‰om_time
 (
d©ëime_numbî
);

665 
numbî_Àngth
 = 4;

668 
LIT_CHAR_UPPERCASE_M
:

670 
öt32_t
 
m⁄th
 = (öt32_tË
	`ecma_d©e_m⁄th_‰om_time
 (
d©ëime_numbî
);

672 
	`JERRY_ASSERT
 (
m⁄th
 >= 0 && month <= 11);

674 
°r_p
 = 
m⁄th_«mes_p
[
m⁄th
];

677 
LIT_CHAR_UPPERCASE_O
:

682 
numbî
 = ((
öt32_t
Ë
	`ecma_d©e_m⁄th_‰om_time
 (
d©ëime_numbî
)) + 1;

683 
numbî_Àngth
 = 2;

686 
LIT_CHAR_UPPERCASE_D
:

688 
numbî
 = (
öt32_t
Ë
	`ecma_d©e_d©e_‰om_time
 (
d©ëime_numbî
);

689 
numbî_Àngth
 = 2;

692 
LIT_CHAR_UPPERCASE_W
:

694 
öt32_t
 
day
 = (öt32_tË
	`ecma_d©e_wìk_day
 (
d©ëime_numbî
);

696 
	`JERRY_ASSERT
 (
day
 >= 0 && day <= 6);

698 
°r_p
 = 
day_«mes_p
[
day
];

701 
LIT_CHAR_LOWERCASE_H
:

703 
numbî
 = (
öt32_t
Ë
	`ecma_d©e_hour_‰om_time
 (
d©ëime_numbî
);

704 
numbî_Àngth
 = 2;

707 
LIT_CHAR_LOWERCASE_M
:

709 
numbî
 = (
öt32_t
Ë
	`ecma_d©e_mö_‰om_time
 (
d©ëime_numbî
);

710 
numbî_Àngth
 = 2;

713 
LIT_CHAR_LOWERCASE_S
:

715 
numbî
 = (
öt32_t
Ë
	`ecma_d©e_£c_‰om_time
 (
d©ëime_numbî
);

716 
numbî_Àngth
 = 2;

719 
LIT_CHAR_LOWERCASE_I
:

721 
numbî
 = (
öt32_t
Ë
	`ecma_d©e_ms_‰om_time
 (
d©ëime_numbî
);

722 
numbî_Àngth
 = 3;

725 
LIT_CHAR_LOWERCASE_Z
:

727 
öt32_t
 
time_z⁄e
 = (öt32_tË
	`ecma_d©e_loˇl_time_z⁄e
 (
d©ëime_numbî
);

729 i‡(
time_z⁄e
 >= 0)

731 *
de°_p
++ = 
LIT_CHAR_PLUS
;

735 *
de°_p
++ = 
LIT_CHAR_MINUS
;

736 
time_z⁄e
 = -time_zone;

739 
numbî
 = 
time_z⁄e
 / (
öt32_t
Ë
ECMA_DATE_MS_PER_HOUR
;

740 
numbî_Àngth
 = 2;

743 
LIT_CHAR_UPPERCASE_Z
:

745 
öt32_t
 
time_z⁄e
 = (öt32_tË
	`ecma_d©e_loˇl_time_z⁄e
 (
d©ëime_numbî
);

747 i‡(
time_z⁄e
 < 0)

749 
time_z⁄e
 = -time_zone;

752 
numbî
 = 
time_z⁄e
 % (
öt32_t
Ë
ECMA_DATE_MS_PER_HOUR
;

753 
numbî_Àngth
 = 2;

758 
	`JERRY_UNREACHABLE
 ();

763 
f‹m©_p
++;

765 i‡(
°r_p
 !
NULL
)

770 *
de°_p
++ = (
lô_utf8_byã_t
Ë*
°r_p
++;

772 *
°r_p
 !
LIT_CHAR_NULL
);

778 
	`JERRY_ASSERT
 (
numbî_Àngth
 > 0);

780 
de°_p
 +
numbî_Àngth
;

781 
lô_utf8_byã_t
 *
buf„r_p
 = 
de°_p
;

785 
buf„r_p
--;

786 *
buf„r_p
 = (
lô_utf8_byã_t
Ë((
numbî
 % 10Ë+ (
öt32_t
Ë
LIT_CHAR_0
);

787 
numbî
 /= 10;

789 --
numbî_Àngth
);

792 
	`JERRY_ASSERT
 (
de°_p
 <
d©e_buf„r
 + 
d©e_buf„r_Àngth
);

794  
	`ecma_make_°rög_vÆue
 (
	`ecma_√w_ecma_°rög_‰om_utf8
 (
d©e_buf„r
,

795 (
lô_utf8_size_t
Ë(
de°_p
 - 
d©e_buf„r
)));

796 
	}
}

808 
ecma_vÆue_t


809 
	$ecma_d©e_vÆue_to_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
)

811 
d©ëime_numbî
 +
	`ecma_d©e_loˇl_time_z⁄e
 (datetime_number);

812  
	`ecma_d©e_to_°rög_f‹m©
 (
d©ëime_numbî
, "$W $M $D $Y $h:$m:$s GMT$z:$Z");

813 
	}
}

824 
ecma_vÆue_t


825 
	$ecma_d©e_vÆue_to_utc_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
)

827  
	`ecma_d©e_to_°rög_f‹m©
 (
d©ëime_numbî
, "$W, $D $M $Y $h:$m:$s GMT");

828 
	}
}

839 
ecma_vÆue_t


840 
	$ecma_d©e_vÆue_to_iso_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
)

842  
	`ecma_d©e_to_°rög_f‹m©
 (
d©ëime_numbî
, "$Y-$O-$DT$h:$m:$s.$iZ");

843 
	}
}

854 
ecma_vÆue_t


855 
	$ecma_d©e_vÆue_to_d©e_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
)

857  
	`ecma_d©e_to_°rög_f‹m©
 (
d©ëime_numbî
, "$Y-$O-$D");

858 
	}
}

869 
ecma_vÆue_t


870 
	$ecma_d©e_vÆue_to_time_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
)

872  
	`ecma_d©e_to_°rög_f‹m©
 (
d©ëime_numbî
, "$h:$m:$s.$i");

873 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-error.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

40 
ecma_vÆue_t


41 
	$ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
,

42 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

43 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

45 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

47 i‡(
¨gumíts_li°_Àn
 != 0

48 && !
	`ecma_is_vÆue_undeföed
 (
¨gumíts_li°_p
[0]))

50 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

52 
	`ECMA_TRY_CATCH
 (
msg_°r_vÆue
,

53 
	`ecma_›_to_°rög
 (
¨gumíts_li°_p
[0]),

54 
ªt_vÆue
);

56 
ecma_°rög_t
 *
mesßge_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
msg_°r_vÆue
);

57 
ecma_obje˘_t
 *
√w_îr‹_obje˘_p
 = 
	`ecma_√w_°™d¨d_îr‹_wôh_mesßge
 (
îr‹_ty≥
,

58 
mesßge_°rög_p
);

59 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
√w_îr‹_obje˘_p
);

61 
	`ECMA_FINALIZE
 (
msg_°r_vÆue
);

63  
ªt_vÆue
;

67 
ecma_obje˘_t
 *
√w_îr‹_obje˘_p
 = 
	`ecma_√w_°™d¨d_îr‹
 (
îr‹_ty≥
);

69  
	`ecma_make_obje˘_vÆue
 (
√w_îr‹_obje˘_p
);

71 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-json.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-hñ≥rs.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"lô-ch¨-hñ≥rs.h
"

37 
boﬁ


38 
	$ecma_has_obje˘_vÆue_ö_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_p
,

39 
ecma_vÆue_t
 
obje˘_vÆue
)

41 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
obje˘_vÆue
));

43 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obje˘_vÆue
);

45 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî©‹
;

46 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî©‹
, 
cﬁÀ˘i⁄_p
);

48 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî©‹
))

50 
ecma_vÆue_t
 
vÆue
 = *
ôî©‹
.
cuºít_vÆue_p
;

51 
ecma_obje˘_t
 *
cuºít_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

53 i‡(
cuºít_p
 =
obj_p
)

55  
åue
;

59  
Ál£
;

60 
	}
}

70 
boﬁ


71 
	$ecma_has_°rög_vÆue_ö_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_p
,

72 
ecma_vÆue_t
 
°rög_vÆue
)

74 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
°rög_vÆue
));

76 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög_vÆue
);

78 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî©‹
;

79 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî©‹
, 
cﬁÀ˘i⁄_p
);

81 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî©‹
))

83 
ecma_vÆue_t
 
vÆue
 = *
ôî©‹
.
cuºít_vÆue_p
;

84 
ecma_°rög_t
 *
cuºít_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

86 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
cuºít_p
, 
°rög_p
))

88  
åue
;

92  
Ál£
;

93 
	}
}

108 
ecma_°rög_t
 *

109 
	$ecma_buûtö_hñ≥r_js⁄_¸óã_£∑øãd_¥›îtõs
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
,

110 
ecma_°rög_t
 *
£∑øt‹_p
)

112 
ecma_°rög_t
 *
¥›îtõs_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

113 
ecma_°rög_t
 *
tmp_°r_p
;

115 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî©‹
;

116 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî©‹
, 
∑πül_p
);

118 
uöt32_t
 
ödex
 = 0;

120 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî©‹
))

122 
ecma_vÆue_t
 
«me_vÆue
 = *
ôî©‹
.
cuºít_vÆue_p
;

123 
ecma_°rög_t
 *
cuºít_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
«me_vÆue
);

125 i‡(
ödex
 == 0)

127 
ödex
++;

129 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥›îtõs_°r_p
, 
cuºít_p
);

130 
	`ecma_dîef_ecma_°rög
 (
¥›îtõs_°r_p
);

131 
¥›îtõs_°r_p
 = 
tmp_°r_p
;

135 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥›îtõs_°r_p
, 
£∑øt‹_p
);

136 
	`ecma_dîef_ecma_°rög
 (
¥›îtõs_°r_p
);

137 
¥›îtõs_°r_p
 = 
tmp_°r_p
;

139 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥›îtõs_°r_p
, 
cuºít_p
);

140 
	`ecma_dîef_ecma_°rög
 (
¥›îtõs_°r_p
);

141 
¥›îtõs_°r_p
 = 
tmp_°r_p
;

144  
¥›îtõs_°r_p
;

145 
	}
}

160 
ecma_vÆue_t


161 
	$ecma_buûtö_hñ≥r_js⁄_¸óã_f‹m©ãd_js⁄
 (
ecma_°rög_t
 *
À·_bøckë_p
,

162 
ecma_°rög_t
 *
right_bøckë_p
,

163 
ecma_°rög_t
 *
°ïback_p
,

164 
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
,

165 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
)

168 
ecma_°rög_t
 *
comma_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_COMMA_CHAR
);

169 
ecma_°rög_t
 *
löe_„ed_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NEW_LINE_CHAR
);

170 
ecma_°rög_t
 *
¥›îtõs_°r_p
;

171 
ecma_°rög_t
 *
£∑øt‹_p
;

174 
ecma_°rög_t
 *
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
comma_°r_p
, 
löe_„ed_p
);

175 
	`ecma_dîef_ecma_°rög
 (
comma_°r_p
);

176 
£∑øt‹_p
 = 
tmp_°r_p
;

178 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
£∑øt‹_p
, 
c⁄ãxt_p
->
ödít_°r_p
);

179 
	`ecma_dîef_ecma_°rög
 (
£∑øt‹_p
);

180 
£∑øt‹_p
 = 
tmp_°r_p
;

183 
¥›îtõs_°r_p
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_£∑øãd_¥›îtõs
 (
∑πül_p
, 
£∑øt‹_p
);

184 
	`ecma_dîef_ecma_°rög
 (
£∑øt‹_p
);

187 
ecma_°rög_t
 *
föÆ_°r_p
;

189 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
À·_bøckë_p
, 
löe_„ed_p
);

190 
föÆ_°r_p
 = 
tmp_°r_p
;

192 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
föÆ_°r_p
, 
c⁄ãxt_p
->
ödít_°r_p
);

193 
	`ecma_dîef_ecma_°rög
 (
föÆ_°r_p
);

194 
föÆ_°r_p
 = 
tmp_°r_p
;

196 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
föÆ_°r_p
, 
¥›îtõs_°r_p
);

197 
	`ecma_dîef_ecma_°rög
 (
föÆ_°r_p
);

198 
	`ecma_dîef_ecma_°rög
 (
¥›îtõs_°r_p
);

199 
föÆ_°r_p
 = 
tmp_°r_p
;

201 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
föÆ_°r_p
, 
löe_„ed_p
);

202 
	`ecma_dîef_ecma_°rög
 (
löe_„ed_p
);

203 
	`ecma_dîef_ecma_°rög
 (
föÆ_°r_p
);

204 
föÆ_°r_p
 = 
tmp_°r_p
;

206 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
föÆ_°r_p
, 
°ïback_p
);

207 
	`ecma_dîef_ecma_°rög
 (
föÆ_°r_p
);

208 
föÆ_°r_p
 = 
tmp_°r_p
;

210 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
föÆ_°r_p
, 
right_bøckë_p
);

211 
	`ecma_dîef_ecma_°rög
 (
föÆ_°r_p
);

212 
föÆ_°r_p
 = 
tmp_°r_p
;

214  
	`ecma_make_°rög_vÆue
 (
föÆ_°r_p
);

215 
	}
}

230 
ecma_vÆue_t


231 
	$ecma_buûtö_hñ≥r_js⁄_¸óã_n⁄_f‹m©ãd_js⁄
 (
ecma_°rög_t
 *
À·_bøckë_p
,

232 
ecma_°rög_t
 *
right_bøckë_p
,

233 
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
)

236 
ecma_°rög_t
 *
comma_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_COMMA_CHAR
);

237 
ecma_°rög_t
 *
¥›îtõs_°r_p
;

238 
ecma_°rög_t
 *
tmp_°r_p
;

241 
¥›îtõs_°r_p
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_£∑øãd_¥›îtõs
 (
∑πül_p
, 
comma_°r_p
);

242 
	`ecma_dîef_ecma_°rög
 (
comma_°r_p
);

245 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
À·_bøckë_p
, 
¥›îtõs_°r_p
);

246 
	`ecma_dîef_ecma_°rög
 (
¥›îtõs_°r_p
);

247 
¥›îtõs_°r_p
 = 
tmp_°r_p
;

249 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥›îtõs_°r_p
, 
right_bøckë_p
);

250 
	`ecma_dîef_ecma_°rög
 (
¥›îtõs_°r_p
);

251 
¥›îtõs_°r_p
 = 
tmp_°r_p
;

253  
	`ecma_make_°rög_vÆue
 (
¥›îtõs_°r_p
);

254 
	}
}

268 
ecma_°rög_t
 *

269 
	$ecma_buûtö_hñ≥r_js⁄_¸óã_hex_digô_ecma_°rög
 (
uöt8_t
 
vÆue
)

272 
ecma_°rög_t
 *
hex_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

274 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
hex_buff
, 4, 
lô_utf8_byã_t
);

276 
uöt32_t
 
i
 = 0; i < 4; i++)

278 
uöt8_t
 
ªmaödî
 = 
vÆue
 % 16;

279 
lô_utf8_byã_t
 
ch
 = ' ';

281 i‡(
ªmaödî
 < 10)

283 
ch
 = (
lô_utf8_byã_t
Ë(
LIT_CHAR_0
 + 
ªmaödî
);

287 
uöt8_t
 
a
 = (uöt8_tË(
ªmaödî
 - 10);

288 
ch
 = (
lô_utf8_byã_t
Ë(
LIT_CHAR_LOWERCASE_A
 + 
a
);

291 
hex_buff
[3 - 
i
] = 
ch
;

293 
vÆue
 = value / 16;

296 
	`ecma_dîef_ecma_°rög
 (
hex_°r_p
);

297 
hex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((
lô_utf8_byã_t
 *Ë
hex_buff
, 4);

299 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
hex_buff
);

301 
	`JERRY_ASSERT
 (
	`ecma_°rög_gë_Àngth
 (
hex_°r_p
));

303  
hex_°r_p
;

304 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-macro-defines.inc.h

16 #i‚de‡
SIMPLE_VALUE


17 
	#SIMPLE_VALUE
(
«me
, 
sim∂e_vÆue
, 
¥›_©åibuãs
)

	)

20 #i‚de‡
NUMBER_VALUE


21 
	#NUMBER_VALUE
(
«me
, 
numbî_vÆue
, 
¥›_©åibuãs
)

	)

24 #i‚de‡
STRING_VALUE


25 
	#STRING_VALUE
(
«me
, 
magic_°rög_id
, 
¥›_©åibuãs
)

	)

28 #i‚de‡
OBJECT_VALUE


29 
	#OBJECT_VALUE
(
«me
, 
obj_buûtö_id
, 
¥›_©åibuãs
)

	)

32 #i‚de‡
ROUTINE


33 
	#ROUTINE
(
«me
, 
c_fun˘i⁄_«me
, 
¨gs_numbî
, 
Àngth_¥›_vÆue
)

	)

36 #i‚de‡
ACCESSOR_READ_WRITE


37 
	#ACCESSOR_READ_WRITE
(
«me
, 
c_gëãr_func_«me
, 
c_£âî_func_«me
, 
¥›_©åibuãs
)

	)

40 #i‚de‡
ACCESSOR_READ_ONLY


41 
	#ACCESSOR_READ_ONLY
(
«me
, 
c_gëãr_func_«me
, 
¥›_©åibuãs
)

	)

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-macro-undefs.inc.h

16 #unde‡
SIMPLE_VALUE


17 #unde‡
NUMBER_VALUE


18 #unde‡
STRING_VALUE


19 #unde‡
OBJECT_VALUE


20 #unde‡
ROUTINE


21 #unde‡
ACCESSOR_READ_WRITE


22 #unde‡
ACCESSOR_READ_ONLY


	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers.c

16 
	~"ecma-buûtö-hñ≥rs.h
"

18 
	~"ecma-Æloc.h
"

19 
	~"ecma-¨øy-obje˘.h
"

20 
	~"ecma-buûtös.h
"

21 
	~"ecma-c⁄vîsi⁄.h
"

22 
	~"ecma-fun˘i⁄-obje˘.h
"

23 
	~"ecma-ex˚±i⁄s.h
"

24 
	~"ecma-hñ≥rs.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-åy-ˇtch-ma¸o.h
"

27 
	~"lô-magic-°rögs.h
"

50 
ecma_vÆue_t


51 
	$ecma_buûtö_hñ≥r_obje˘_to_°rög
 (c⁄° 
ecma_vÆue_t
 
this_¨g
)

53 
lô_magic_°rög_id_t
 
ty≥_°rög
;

55 i‡(
	`ecma_is_vÆue_undeföed
 (
this_¨g
))

57 
ty≥_°rög
 = 
LIT_MAGIC_STRING_UNDEFINED_UL
;

59 i‡(
	`ecma_is_vÆue_nuŒ
 (
this_¨g
))

61 
ty≥_°rög
 = 
LIT_MAGIC_STRING_NULL_UL
;

65 
ecma_vÆue_t
 
obj_this
 = 
	`ecma_›_to_obje˘
 (
this_¨g
);

67 i‡(
	`ECMA_IS_VALUE_ERROR
 (
obj_this
))

69  
obj_this
;

72 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
obj_this
));

74 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

76 
ty≥_°rög
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
);

78 
	`ecma_‰ì_vÆue
 (
obj_this
);

81 
ecma_°rög_t
 *
ªt_°rög_p
;

86 c⁄° 
lô_utf8_size_t
 
buf„r_size
 = 27;

87 
lô_utf8_byã_t
 
°r_buf„r
[
buf„r_size
];

89 
lô_utf8_byã_t
 *
buf„r_±r
 = 
°r_buf„r
;

91 c⁄° 
lô_magic_°rög_id_t
 
magic_°rög_ids
[] =

93 
LIT_MAGIC_STRING_LEFT_SQUARE_CHAR
,

94 
LIT_MAGIC_STRING_OBJECT
,

95 
LIT_MAGIC_STRING_SPACE_CHAR
,

96 
ty≥_°rög
,

97 
LIT_MAGIC_STRING_RIGHT_SQUARE_CHAR


100 
uöt32_t
 
i
 = 0; i <  (
magic_°rög_ids
Ë/  (
lô_magic_°rög_id_t
); ++i)

102 
buf„r_±r
 = 
	`lô_c›y_magic_°rög_to_buf„r
 (
magic_°rög_ids
[
i
], buffer_ptr,

103 (
lô_utf8_size_t
Ë((
°r_buf„r
 + 
buf„r_size
Ë- 
buf„r_±r
));

104 
	`JERRY_ASSERT
 (
buf„r_±r
 <
°r_buf„r
 + 
buf„r_size
);

107 
ªt_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
°r_buf„r
, (
lô_utf8_size_t
Ë(
buf„r_±r
 - str_buffer));

109  
	`ecma_make_°rög_vÆue
 (
ªt_°rög_p
);

110 
	}
}

121 
ecma_vÆue_t


122 
	$ecma_buûtö_hñ≥r_gë_to_loˇÀ_°rög_©_ödex
 (
ecma_obje˘_t
 *
obj_p
,

123 
uöt32_t
 
ödex
)

125 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

126 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

128 
	`ECMA_TRY_CATCH
 (
ödex_vÆue
,

129 
	`ecma_›_obje˘_gë
 (
obj_p
, 
ödex_°rög_p
),

130 
ªt_vÆue
);

132 i‡(
	`ecma_is_vÆue_undeföed
 (
ödex_vÆue
Ë|| 
	`ecma_is_vÆue_nuŒ
 (index_value))

134 
ecma_°rög_t
 *
ªtu∫_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

135 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªtu∫_°rög_p
);

139 
	`ECMA_TRY_CATCH
 (
ödex_obj_vÆue
,

140 
	`ecma_›_to_obje˘
 (
ödex_vÆue
),

141 
ªt_vÆue
);

143 
ecma_obje˘_t
 *
ödex_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ödex_obj_vÆue
);

144 
ecma_°rög_t
 *
loˇÀ_°rög_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_TO_LOCALE_STRING_UL
);

146 
	`ECMA_TRY_CATCH
 (
to_loˇÀ_vÆue
,

147 
	`ecma_›_obje˘_gë
 (
ödex_obj_p
, 
loˇÀ_°rög_magic_°rög_p
),

148 
ªt_vÆue
);

150 i‡(
	`ecma_›_is_ˇŒabÀ
 (
to_loˇÀ_vÆue
))

152 
ecma_obje˘_t
 *
loˇÀ_func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
to_loˇÀ_vÆue
);

153 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
,

154 
	`ecma_›_fun˘i⁄_ˇŒ
 (
loˇÀ_func_obj_p
,

155 
	`ecma_make_obje˘_vÆue
 (
ödex_obj_p
),

156 
NULL
,

158 
ªt_vÆue
);

159 
ªt_vÆue
 = 
	`ecma_›_to_°rög
 (
ˇŒ_vÆue
);

160 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

165 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'toLocaleString' is missing orÇotá function."));

168 
	`ECMA_FINALIZE
 (
to_loˇÀ_vÆue
);

170 
	`ecma_dîef_ecma_°rög
 (
loˇÀ_°rög_magic_°rög_p
);

172 
	`ECMA_FINALIZE
 (
ödex_obj_vÆue
);

175 
	`ECMA_FINALIZE
 (
ödex_vÆue
);

177 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

179  
ªt_vÆue
;

180 
	}
}

193 
ecma_vÆue_t


194 
	$ecma_buûtö_hñ≥r_obje˘_gë_¥›îtõs
 (
ecma_obje˘_t
 *
obj_p
,

195 
boﬁ
 
⁄ly_íumîabÀ_¥›îtõs
)

197 
	`JERRY_ASSERT
 (
obj_p
 !
NULL
);

199 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (
NULL
, 0, 
Ál£
);

200 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
√w_¨øy
));

201 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

203 
uöt32_t
 
ödex
 = 0;

205 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
,

206 
Ál£
,

207 
⁄ly_íumîabÀ_¥›îtõs
,

208 
Ál£
);

210 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

211 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

213 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

215 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

217 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

218 
ödex_°rög_p
,

219 *
ôî
.
cuºít_vÆue_p
,

220 
åue
,

221 
åue
,

222 
åue
,

223 
Ál£
);

225 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

227 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

229 
ödex
++;

232 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

234  
√w_¨øy
;

235 
	}
}

259 
uöt32_t


260 
	$ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
ecma_numbî_t
 
ödex
,

261 
uöt32_t
 
Àngth
)

263 
uöt32_t
 
n‹m_ödex
;

265 i‡(!
	`ecma_numbî_is_«n
 (
ödex
))

268 i‡(
	`ecma_numbî_is_zîo
 (
ödex
))

270 
n‹m_ödex
 = 0;

272 i‡(
	`ecma_numbî_is_öföôy
 (
ödex
))

274 
n‹m_ödex
 = 
	`ecma_numbî_is_√g©ive
 (
ödex
Ë? 0 : 
Àngth
;

278 i‡(
	`ecma_numbî_is_√g©ive
 (
ödex
))

280 
ecma_numbî_t
 
ödex_√g
 = 
	`ecma_numbî_√g©e
 (
ödex
);

282 i‡(
ödex_√g
 > 
Àngth
)

284 
n‹m_ödex
 = 0;

288 
n‹m_ödex
 = 
Àngth
 - 
	`ecma_numbî_to_uöt32
 (
ödex_√g
);

293 i‡(
ödex
 > 
Àngth
)

295 
n‹m_ödex
 = 
Àngth
;

299 
n‹m_ödex
 = 
	`ecma_numbî_to_uöt32
 (
ödex
);

306 
n‹m_ödex
 = 0;

309  
n‹m_ödex
;

310 
	}
}

324 
ecma_vÆue_t


325 
	$ecma_buûtö_hñ≥r_¨øy_c⁄ˇt_vÆue
 (
ecma_obje˘_t
 *
obj_p
,

326 
uöt32_t
 *
Àngth_p
,

327 
ecma_vÆue_t
 
vÆue
)

329 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

332 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
)

333 && (
	`ecma_obje˘_gë_˛ass_«me
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
)Ë=
LIT_MAGIC_STRING_ARRAY_UL
))

335 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

337 
	`ECMA_TRY_CATCH
 (
¨g_Àn_vÆue
,

338 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
),

339 
magic_°rög_Àngth_p
),

340 
ªt_vÆue
);

341 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_Àn_numbî
, 
¨g_Àn_vÆue
, 
ªt_vÆue
);

343 
uöt32_t
 
¨g_Àn
 = 
	`ecma_numbî_to_uöt32
 (
¨g_Àn_numbî
);

346 
uöt32_t
 
¨øy_ödex
 = 0;

347 
¨øy_ödex
 < 
¨g_Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

348 
¨øy_ödex
++)

350 
ecma_°rög_t
 *
¨øy_ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
¨øy_ödex
);

353 
	`ECMA_TRY_CATCH
 (
gë_vÆue
,

354 
	`ecma_›_obje˘_föd
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
),

355 
¨øy_ödex_°rög_p
),

356 
ªt_vÆue
);

358 i‡(
	`ecma_is_vÆue_found
 (
gë_vÆue
))

361 
ecma_°rög_t
 *
√w_¨øy_ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (*
Àngth_p
 + 
¨øy_ödex
);

365 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
obj_p
,

366 
√w_¨øy_ödex_°rög_p
,

367 
gë_vÆue
,

368 
åue
,

369 
åue
,

370 
åue
,

371 
Ál£
);

373 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

374 
	`ecma_dîef_ecma_°rög
 (
√w_¨øy_ödex_°rög_p
);

377 
	`ECMA_FINALIZE
 (
gë_vÆue
);

379 
	`ecma_dîef_ecma_°rög
 (
¨øy_ödex_°rög_p
);

382 *
Àngth_p
 +
¨g_Àn
;

384 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_Àn_numbî
);

385 
	`ECMA_FINALIZE
 (
¨g_Àn_vÆue
);

386 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

390 
ecma_°rög_t
 *
√w_¨øy_ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((*
Àngth_p
)++);

394 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
obj_p
,

395 
√w_¨øy_ödex_°rög_p
,

396 
vÆue
,

397 
åue
,

398 
åue
,

399 
åue
,

400 
Ál£
);

402 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

404 
	`ecma_dîef_ecma_°rög
 (
√w_¨øy_ödex_°rög_p
);

407 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

409 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

412  
ªt_vÆue
;

413 
	}
}

432 
uöt32_t


433 
	$ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
ecma_numbî_t
 
ödex
,

434 
uöt32_t
 
Àngth
,

435 
boﬁ
 
«n_to_zîo
)

437 
uöt32_t
 
n‹m_ödex
 = 0;

439 i‡(
	`ecma_numbî_is_«n
 (
ödex
))

441 i‡(!
«n_to_zîo
)

443 
n‹m_ödex
 = 
Àngth
;

446 i‡(!
	`ecma_numbî_is_√g©ive
 (
ödex
))

448 i‡(
	`ecma_numbî_is_öföôy
 (
ödex
))

450 
n‹m_ödex
 = 
Àngth
;

454 
n‹m_ödex
 = 
	`ecma_numbî_to_uöt32
 (
ödex
);

456 i‡(
n‹m_ödex
 > 
Àngth
)

458 
n‹m_ödex
 = 
Àngth
;

463  
n‹m_ödex
;

464 
	}
}

481 
ecma_vÆue_t


482 
	$ecma_buûtö_hñ≥r_°rög_¥ŸŸy≥_obje˘_ödex_of
 (
ecma_vÆue_t
 
this_¨g
,

483 
ecma_vÆue_t
 
¨g1
,

484 
ecma_vÆue_t
 
¨g2
,

485 
boﬁ
 
fú°_ödex
)

487 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

490 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

491 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

492 
ªt_vÆue
);

495 
	`ECMA_TRY_CATCH
 (
to_°r_vÆ
,

496 
	`ecma_›_to_°rög
 (
this_¨g
),

497 
ªt_vÆue
);

500 
	`ECMA_TRY_CATCH
 (
£¨ch_°r_vÆ
,

501 
	`ecma_›_to_°rög
 (
¨g1
),

502 
ªt_vÆue
);

505 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
pos_num
,

506 
¨g2
,

507 
ªt_vÆue
);

510 
ecma_°rög_t
 *
‹igöÆ_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°r_vÆ
);

511 c⁄° 
ecma_Àngth_t
 
‹igöÆ_Àn
 = 
	`ecma_°rög_gë_Àngth
 (
‹igöÆ_°r_p
);

514 
ecma_Àngth_t
 
°¨t
 = 
	`ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
pos_num
, 
‹igöÆ_Àn
, 
fú°_ödex
);

517 
ecma_°rög_t
 *
£¨ch_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
£¨ch_°r_vÆ
);

519 
ecma_numbî_t
 
ªt_num
 = 
ECMA_NUMBER_MINUS_ONE
;

522 
ecma_Àngth_t
 
ödex_of
 = 0;

523 i‡(
	`ecma_buûtö_hñ≥r_°rög_föd_ödex
 (
‹igöÆ_°r_p
, 
£¨ch_°r_p
, 
fú°_ödex
, 
°¨t
, &
ödex_of
))

525 
ªt_num
 = ((
ecma_numbî_t
Ë
ödex_of
);

528 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
ªt_num
);

530 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
pos_num
);

531 
	`ECMA_FINALIZE
 (
£¨ch_°r_vÆ
);

532 
	`ECMA_FINALIZE
 (
to_°r_vÆ
);

533 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

535  
ªt_vÆue
;

536 
	}
}

555 
boﬁ


556 
	$ecma_buûtö_hñ≥r_°rög_föd_ödex
 (
ecma_°rög_t
 *
‹igöÆ_°r_p
,

557 
ecma_°rög_t
 *
£¨ch_°r_p
,

558 
boﬁ
 
fú°_ödex
,

559 
ecma_Àngth_t
 
°¨t_pos
,

560 
ecma_Àngth_t
 *
ªt_ödex_p
)

562 
boﬁ
 
m©ch_found
 = 
Ál£
;

563 c⁄° 
ecma_Àngth_t
 
‹igöÆ_Àn
 = 
	`ecma_°rög_gë_Àngth
 (
‹igöÆ_°r_p
);

564 c⁄° 
ecma_Àngth_t
 
£¨ch_Àn
 = 
	`ecma_°rög_gë_Àngth
 (
£¨ch_°r_p
);

566 i‡(
£¨ch_Àn
 <
‹igöÆ_Àn
)

568 i‡(!
£¨ch_Àn
)

570 
m©ch_found
 = 
åue
;

571 *
ªt_ödex_p
 = 
fú°_ödex
 ? 0 : 
‹igöÆ_Àn
;

576 
	`ECMA_STRING_TO_UTF8_STRING
 (
‹igöÆ_°r_p
, 
‹igöÆ_°r_utf8_p
, 
‹igöÆ_°r_size
);

578 
ecma_Àngth_t
 
ödex
 = 
°¨t_pos
;

580 c⁄° 
lô_utf8_byã_t
 *
‹igöÆ_°r_cuº_p
 = 
‹igöÆ_°r_utf8_p
;

581 
ecma_Àngth_t
 
idx
 = 0; idx < 
ödex
; idx++)

583 
	`lô_utf8_ö¸
 (&
‹igöÆ_°r_cuº_p
);

587 
	`ECMA_STRING_TO_UTF8_STRING
 (
£¨ch_°r_p
, 
£¨ch_°r_utf8_p
, 
£¨ch_°r_size
);

589 c⁄° 
lô_utf8_byã_t
 *
£¨ch_°r_cuº_p
 = 
£¨ch_°r_utf8_p
;

592 
boﬁ
 
£¨chög
 = 
åue
;

593 
ecma_ch¨_t
 
fú°_ch¨
 = 
	`lô_utf8_ªad_√xt
 (&
£¨ch_°r_cuº_p
);

594 
£¨chög
)

597 
ecma_Àngth_t
 
m©ch_Àn
 = 0;

598 c⁄° 
lô_utf8_byã_t
 *
°‹ed_‹igöÆ_°r_cuº_p
 = 
‹igöÆ_°r_cuº_p
;

600 i‡(
m©ch_Àn
 < 
£¨ch_Àn
 &&

601 
ödex
 + 
m©ch_Àn
 < 
‹igöÆ_Àn
 &&

602 
	`lô_utf8_ªad_√xt
 (&
‹igöÆ_°r_cuº_p
Ë=
fú°_ch¨
)

604 c⁄° 
lô_utf8_byã_t
 *
√°ed_£¨ch_°r_cuº_p
 = 
£¨ch_°r_cuº_p
;

605 
m©ch_Àn
++;

607 
m©ch_Àn
 < 
£¨ch_Àn
 &&

608 
ödex
 + 
m©ch_Àn
 < 
‹igöÆ_Àn
 &&

609 
	`lô_utf8_ªad_√xt
 (&
‹igöÆ_°r_cuº_p
Ë=lô_utf8_ªad_√xà(&
√°ed_£¨ch_°r_cuº_p
))

611 
m©ch_Àn
++;

616 i‡(
m©ch_Àn
 =
£¨ch_Àn
)

618 
m©ch_found
 = 
åue
;

619 *
ªt_ödex_p
 = 
ödex
;

626 
‹igöÆ_°r_cuº_p
 = 
°‹ed_‹igöÆ_°r_cuº_p
;

628 i‡(
fú°_ödex
)

630 i‡((
£¨chög
 = (
ödex
 <
‹igöÆ_Àn
 - 
£¨ch_Àn
)))

632 
	`lô_utf8_ö¸
 (&
‹igöÆ_°r_cuº_p
);

633 
ödex
++;

638 i‡((
£¨chög
 = (
ödex
 > 0)))

640 
	`lô_utf8_de¸
 (&
‹igöÆ_°r_cuº_p
);

641 
ödex
--;

647 
	`ECMA_FINALIZE_UTF8_STRING
 (
£¨ch_°r_utf8_p
, 
£¨ch_°r_size
);

648 
	`ECMA_FINALIZE_UTF8_STRING
 (
‹igöÆ_°r_utf8_p
, 
‹igöÆ_°r_size
);

652  
m©ch_found
;

653 
	}
}

665 
ecma_vÆue_t


666 
	$ecma_buûtö_hñ≥r_def_¥›
 (
ecma_obje˘_t
 *
obj_p
,

667 
ecma_°rög_t
 *
ödex_p
,

668 
ecma_vÆue_t
 
vÆue
,

669 
boﬁ
 
wrôabÀ
,

670 
boﬁ
 
íumîabÀ
,

671 
boﬁ
 
c⁄figuøbÀ
,

672 
boﬁ
 
is_throw
)

674 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

676 
¥›_desc
.
is_vÆue_deföed
 = 
åue
;

677 
¥›_desc
.
vÆue
 = value;

679 
¥›_desc
.
is_wrôabÀ_deföed
 = 
åue
;

680 
¥›_desc
.
is_wrôabÀ
 = 
wrôabÀ
;

682 
¥›_desc
.
is_íumîabÀ_deföed
 = 
åue
;

683 
¥›_desc
.
is_íumîabÀ
 = 
íumîabÀ
;

685 
¥›_desc
.
is_c⁄figuøbÀ_deföed
 = 
åue
;

686 
¥›_desc
.
is_c⁄figuøbÀ
 = 
c⁄figuøbÀ
;

688  
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

689 
ödex_p
,

690 &
¥›_desc
,

691 
is_throw
);

692 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers.h

16 #i‚de‡
ECMA_BUILTIN_HELPERS_H


17 
	#ECMA_BUILTIN_HELPERS_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

29 
ecma_vÆue_t


30 
ecma_buûtö_hñ≥r_obje˘_to_°rög
 (c⁄° 
ecma_vÆue_t
 
this_¨g
);

31 
ecma_vÆue_t


32 
ecma_buûtö_hñ≥r_gë_to_loˇÀ_°rög_©_ödex
 (
ecma_obje˘_t
 *
obj_p
, 
uöt32_t
 
ödex
);

33 
ecma_vÆue_t


34 
ecma_buûtö_hñ≥r_obje˘_gë_¥›îtõs
 (
ecma_obje˘_t
 *
obj_p
, 
boﬁ
 
⁄ly_íumîabÀ_¥›îtõs
);

35 
ecma_vÆue_t


36 
ecma_buûtö_hñ≥r_¨øy_c⁄ˇt_vÆue
 (
ecma_obje˘_t
 *
obj_p
, 
uöt32_t
 *
Àngth_p
, 
ecma_vÆue_t
 
vÆue
);

37 
uöt32_t


38 
ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
ecma_numbî_t
 
ödex
, 
uöt32_t
 
Àngth
);

39 
uöt32_t


40 
ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
ecma_numbî_t
 
ödex
, 
uöt32_t
 
Àngth
, 
boﬁ
 
«n_to_zîo
);

41 
ecma_vÆue_t


42 
ecma_buûtö_hñ≥r_°rög_¥ŸŸy≥_obje˘_ödex_of
 (
ecma_vÆue_t
 
this_¨g
,Écma_vÆue_à
¨g1
,

43 
ecma_vÆue_t
 
¨g2
, 
boﬁ
 
fú°_ödex
);

44 
boﬁ


45 
ecma_buûtö_hñ≥r_°rög_föd_ödex
 (
ecma_°rög_t
 *
‹igöÆ_°r_p
,Écma_°rög_à*
£¨ch_°r_p
, 
boﬁ
 
fú°_ödex
,

46 
ecma_Àngth_t
 
°¨t_pos
,Écma_Àngth_à*
ªt_ödex_p
);

47 
ecma_vÆue_t


48 
ecma_buûtö_hñ≥r_def_¥›
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_°rög_t
 *
ödex_p
, 
ecma_vÆue_t
 
vÆue
,

49 
boﬁ
 
wrôabÀ
, boﬁ 
íumîabÀ
, boﬁ 
c⁄figuøbÀ
, boﬁ 
is_throw
);

51 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


61 
	#ECMA_DATE_HOURS_PER_DAY
 ((
ecma_numbî_t
Ë24)

	)

64 
	#ECMA_DATE_MINUTES_PER_HOUR
 ((
ecma_numbî_t
Ë60)

	)

67 
	#ECMA_DATE_SECONDS_PER_MINUTE
 ((
ecma_numbî_t
Ë60)

	)

70 
	#ECMA_DATE_MS_PER_SECOND
 ((
ecma_numbî_t
Ë1000)

	)

73 
	#ECMA_DATE_MS_PER_MINUTE
 (
ECMA_DATE_MS_PER_SECOND
 * 
ECMA_DATE_SECONDS_PER_MINUTE
)

	)

76 
	#ECMA_DATE_MS_PER_HOUR
 (
ECMA_DATE_MS_PER_MINUTE
 * 
ECMA_DATE_MINUTES_PER_HOUR
)

	)

79 
	#ECMA_DATE_MS_PER_DAY
 (
ECMA_DATE_MS_PER_HOUR
 * 
ECMA_DATE_HOURS_PER_DAY
)

	)

85 
	#ECMA_DATE_MAX_VALUE
 8.64e15

	)

92 
	mECMA_DATE_UTC
,

93 
	mECMA_DATE_LOCAL


94 } 
	tecma_d©e_timez⁄e_t
;

97 
ecma_numbî_t
 
ecma_d©e_day
 (ecma_numbî_à
time
);

98 
ecma_numbî_t
 
ecma_d©e_time_wôhö_day
 (ecma_numbî_à
time
);

99 
ecma_numbî_t
 
ecma_d©e_yór_‰om_time
 (ecma_numbî_à
time
);

100 
ecma_numbî_t
 
ecma_d©e_m⁄th_‰om_time
 (ecma_numbî_à
time
);

101 
ecma_numbî_t
 
ecma_d©e_d©e_‰om_time
 (ecma_numbî_à
time
);

102 
ecma_numbî_t
 
ecma_d©e_wìk_day
 (ecma_numbî_à
time
);

103 
ecma_numbî_t
 
ecma_d©e_loˇl_time_z⁄e
 (ecma_numbî_à
time
);

104 
ecma_numbî_t
 
ecma_d©e_utc
 (ecma_numbî_à
time
);

105 
ecma_numbî_t
 
ecma_d©e_hour_‰om_time
 (ecma_numbî_à
time
);

106 
ecma_numbî_t
 
ecma_d©e_mö_‰om_time
 (ecma_numbî_à
time
);

107 
ecma_numbî_t
 
ecma_d©e_£c_‰om_time
 (ecma_numbî_à
time
);

108 
ecma_numbî_t
 
ecma_d©e_ms_‰om_time
 (ecma_numbî_à
time
);

109 
ecma_numbî_t
 
ecma_d©e_make_time
 (ecma_numbî_à
hour
,Écma_numbî_à
mö
,Écma_numbî_à
£c
,Écma_numbî_à
ms
);

110 
ecma_numbî_t
 
ecma_d©e_make_day
 (ecma_numbî_à
yór
,Écma_numbî_à
m⁄th
,Écma_numbî_à
d©e
);

111 
ecma_numbî_t
 
ecma_d©e_make_d©e
 (ecma_numbî_à
day
,Écma_numbî_à
time
);

112 
ecma_numbî_t
 
ecma_d©e_time_˛ù
 (ecma_numbî_à
time
);

113 
ecma_numbî_t
 
ecma_d©e_timez⁄e_off£t
 (ecma_numbî_à
time
);

115 
ecma_vÆue_t
 
ecma_d©e_vÆue_to_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
);

116 
ecma_vÆue_t
 
ecma_d©e_vÆue_to_utc_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
);

117 
ecma_vÆue_t
 
ecma_d©e_vÆue_to_iso_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
);

118 
ecma_vÆue_t
 
ecma_d©e_vÆue_to_d©e_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
);

119 
ecma_vÆue_t
 
ecma_d©e_vÆue_to_time_°rög
 (
ecma_numbî_t
 
d©ëime_numbî
);

131 
ecma_cﬁÀ˘i⁄_hódî_t
 *
	m¥›îty_li°_p
;

134 
ecma_cﬁÀ˘i⁄_hódî_t
 *
	moccuªn˚_°ack_p
;

137 
ecma_°rög_t
 *
	mödít_°r_p
;

140 
ecma_°rög_t
 *
	mg≠_°r_p
;

143 
ecma_obje˘_t
 *
	mª∂a˚r_fun˘i⁄_p
;

144 } 
	tecma_js⁄_°rögify_c⁄ãxt_t
;

146 
boﬁ
 
ecma_has_obje˘_vÆue_ö_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_p
, 
ecma_vÆue_t
 
obje˘_vÆue
);

147 
boﬁ
 
ecma_has_°rög_vÆue_ö_cﬁÀ˘i⁄
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
cﬁÀ˘i⁄_p
, 
ecma_vÆue_t
 
°rög_vÆue
);

149 
ecma_°rög_t
 *

150 
ecma_buûtö_hñ≥r_js⁄_¸óã_hex_digô_ecma_°rög
 (
uöt8_t
 
vÆue
);

151 
ecma_°rög_t
 *

152 
ecma_buûtö_hñ≥r_js⁄_¸óã_£∑øãd_¥›îtõs
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
, 
ecma_°rög_t
 *
£∑øt‹_p
);

153 
ecma_vÆue_t


154 
ecma_buûtö_hñ≥r_js⁄_¸óã_f‹m©ãd_js⁄
 (
ecma_°rög_t
 *
À·_bøckë_p
,Écma_°rög_à*
right_bøckë_p
,

155 
ecma_°rög_t
 *
°ïback_p
, 
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
,

156 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
);

157 
ecma_vÆue_t


158 
ecma_buûtö_hñ≥r_js⁄_¸óã_n⁄_f‹m©ãd_js⁄
 (
ecma_°rög_t
 *
À·_bøckë_p
,Écma_°rög_à*
right_bøckë_p
,

159 
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
);

163 
ecma_vÆue_t


164 
ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
, c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

165 
ecma_Àngth_t
 
¨gumíts_li°_Àn
);

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-internal-routines-template.inc.h

16 #i‚de‡
BUILTIN_UNDERSCORED_ID


20 #i‚de‡
BUILTIN_INC_HEADER_NAME


24 
	~"ecma-obje˘s.h
"

26 
	#PASTE__
(
x
, 
y
Ëx ## 
	)
y

27 
	#PASTE_
(
x
, 
y
Ë
	`PASTE__
 (x, y)

	)

28 
	#PASTE
(
x
, 
y
Ë
	`PASTE_
 (x, y)

	)

30 
	#PROPERTY_DESCRIPTOR_LIST_NAME
 \

31 
	`PASTE
 (PASTE (
ecma_buûtö_
, 
BUILTIN_UNDERSCORED_ID
), 
_¥›îty_des¸ùt‹_li°
)

	)

32 
	#DISPATCH_ROUTINE_ROUTINE_NAME
 \

33 
	`PASTE
 (PASTE (
ecma_buûtö_
, 
BUILTIN_UNDERSCORED_ID
), 
_di•©ch_routöe
)

	)

35 #i‚de‡
BUILTIN_CUSTOM_DISPATCH


37 
	#ROUTINE_ARG
(
n
Ë, 
ecma_vÆue_t
 
¨g
 ## 
	)
n

38 
	#ROUTINE_ARG_LIST_0
 
ecma_vÆue_t
 
this_¨g


	)

39 
	#ROUTINE_ARG_LIST_1
 
ROUTINE_ARG_LIST_0
 
	`ROUTINE_ARG
(1)

	)

40 
	#ROUTINE_ARG_LIST_2
 
ROUTINE_ARG_LIST_1
 
	`ROUTINE_ARG
(2)

	)

41 
	#ROUTINE_ARG_LIST_3
 
ROUTINE_ARG_LIST_2
 
	`ROUTINE_ARG
(3)

	)

42 
	#ROUTINE_ARG_LIST_NON_FIXED
 
ROUTINE_ARG_LIST_0
, \

43 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_li°_Àn


	)

44 
	#ROUTINE
(
«me
, 
c_fun˘i⁄_«me
, 
¨gs_numbî
, 
Àngth_¥›_vÆue
) \

45 
ecma_vÆue_t
 
	`c_fun˘i⁄_«me
 (
ROUTINE_ARG_LIST_
 ## 
¨gs_numbî
);

	)

46 
	#ACCESSOR_READ_WRITE
(
«me
, 
c_gëãr_func_«me
, 
c_£âî_func_«me
, 
¥›_©åibuãs
) \

47 
ecma_vÆue_t
 
	`c_gëãr_func_«me
 (
ROUTINE_ARG_LIST_0
); \

48 
ecma_vÆue_t
 
	`c_£âî_func_«me
 (
ROUTINE_ARG_LIST_1
);

	)

49 
	#ACCESSOR_READ_ONLY
(
«me
, 
c_gëãr_func_«me
, 
¥›_©åibuãs
) \

50 
ecma_vÆue_t
 
	`c_gëãr_func_«me
 (
ROUTINE_ARG_LIST_0
);

	)

51 #ö˛udê
BUILTIN_INC_HEADER_NAME


52 #unde‡
ROUTINE_ARG_LIST_NON_FIXED


53 #unde‡
ROUTINE_ARG_LIST_3


54 #unde‡
ROUTINE_ARG_LIST_2


55 #unde‡
ROUTINE_ARG_LIST_1


56 #unde‡
ROUTINE_ARG_LIST_0


57 #unde‡
ROUTINE_ARG


64 
PASTE
 (
ECMA_ROUTINE_START_
, 
BUILTIN_UNDERSCORED_ID
Ë
ECMA_BUILTIN_ID__COUNT
 - 1,

65 
	#ROUTINE
(
«me
, 
c_fun˘i⁄_«me
, 
¨gs_numbî
, 
Àngth_¥›_vÆue
) \

66 
ECMA_ROUTINE_
 ## 
«me
 ## 
c_fun˘i⁄_«me
,

	)

67 
	#ACCESSOR_READ_WRITE
(
«me
, 
c_gëãr_func_«me
, 
c_£âî_func_«me
, 
¥›_©åibuãs
) \

68 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_gëãr_func_«me
, \

69 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_£âî_func_«me
,

	)

70 
	#ACCESSOR_READ_ONLY
(
«me
, 
c_gëãr_func_«me
, 
¥›_©åibuãs
) \

71 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_gëãr_func_«me
,

	)

72 #ö˛udê
BUILTIN_INC_HEADER_NAME


80 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 
	gPROPERTY_DESCRIPTOR_LIST_NAME
[] =

82 #i‚de‡
BUILTIN_CUSTOM_DISPATCH


83 
	#ROUTINE
(
«me
, 
c_fun˘i⁄_«me
, 
¨gs_numbî
, 
Àngth_¥›_vÆue
) \

85 
«me
, \

86 
ECMA_BUILTIN_PROPERTY_ROUTINE
, \

87 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
, \

88 
	`ECMA_ROUTINE_VALUE
 (
ECMA_ROUTINE_
 ## 
«me
 ## 
c_fun˘i⁄_«me
, 
Àngth_¥›_vÆue
) \

89 },

	)

91 
	#ROUTINE
(
«me
, 
c_fun˘i⁄_«me
, 
¨gs_numbî
, 
Àngth_¥›_vÆue
) \

93 
«me
, \

94 
ECMA_BUILTIN_PROPERTY_ROUTINE
, \

95 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
, \

96 
	`ECMA_ROUTINE_VALUE
 (
c_fun˘i⁄_«me
, 
Àngth_¥›_vÆue
) \

97 },

	)

99 
	#OBJECT_VALUE
(
«me
, 
obj_buûtö_id
, 
¥›_©åibuãs
) \

101 
«me
, \

102 
ECMA_BUILTIN_PROPERTY_OBJECT
, \

103 
¥›_©åibuãs
, \

104 
obj_buûtö_id
 \

105 },

	)

106 
	#SIMPLE_VALUE
(
«me
, 
sim∂e_vÆue
, 
¥›_©åibuãs
) \

108 
«me
, \

109 
ECMA_BUILTIN_PROPERTY_SIMPLE
, \

110 
¥›_©åibuãs
, \

111 
sim∂e_vÆue
 \

112 },

	)

113 
	#NUMBER_VALUE
(
«me
, 
numbî_vÆue
, 
¥›_©åibuãs
) \

115 
«me
, \

116 
ECMA_BUILTIN_PROPERTY_NUMBER
, \

117 
¥›_©åibuãs
, \

118 
numbî_vÆue
 \

119 },

	)

120 
	#STRING_VALUE
(
«me
, 
magic_°rög_id
, 
¥›_©åibuãs
) \

122 
«me
, \

123 
ECMA_BUILTIN_PROPERTY_STRING
, \

124 
¥›_©åibuãs
, \

125 
magic_°rög_id
 \

126 },

	)

127 
	#ACCESSOR_READ_WRITE
(
«me
, 
c_gëãr_«me
, 
c_£âî_«me
, 
¥›_©åibuãs
) \

129 
«me
, \

130 
ECMA_BUILTIN_PROPERTY_ACCESSOR_READ_WRITE
, \

131 
¥›_©åibuãs
, \

132 
	`ECMA_ACCESSOR_READ_WRITE
 (
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_gëãr_«me
, ECMA_ACCESSOR_ ##Çamê## 
c_£âî_«me
) \

133 },

	)

134 
	#ACCESSOR_READ_ONLY
(
«me
, 
c_gëãr_func_«me
, 
¥›_©åibuãs
) \

136 
«me
, \

137 
ECMA_BUILTIN_PROPERTY_ACCESSOR_READ_ONLY
, \

138 
¥›_©åibuãs
, \

139 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_gëãr_func_«me
 \

140 },

	)

141 #ö˛udê
BUILTIN_INC_HEADER_NAME


143 
LIT_MAGIC_STRING__COUNT
,

144 
ECMA_BUILTIN_PROPERTY_END
,

150 #i‚de‡
BUILTIN_CUSTOM_DISPATCH


158 
ecma_vÆue_t


159 
	$DISPATCH_ROUTINE_ROUTINE_NAME
 (
uöt16_t
 
buûtö_routöe_id
,

161 
ecma_vÆue_t
 
this_¨g_vÆue
,

163 c⁄° 
ecma_vÆue_t
 
¨gumíts_li°
[],

165 
ecma_Àngth_t
 
¨gumíts_numbî
)

169 
	`JERRY_UNUSED
 (
this_¨g_vÆue
);

170 
	`JERRY_UNUSED
 (
¨gumíts_li°
);

171 
	`JERRY_UNUSED
 (
¨gumíts_numbî
);

173 
buûtö_routöe_id
)

175 
	#ROUTINE_ARG
(
n
Ë(
¨gumíts_numbî
 >¿? 
¨gumíts_li°
[n - 1] \

176 : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
))

	)

177 
	#ROUTINE_ARG_LIST_0


	)

178 
	#ROUTINE_ARG_LIST_1
 , 
	`ROUTINE_ARG
(1)

	)

179 
	#ROUTINE_ARG_LIST_2
 
ROUTINE_ARG_LIST_1
, 
	`ROUTINE_ARG
(2)

	)

180 
	#ROUTINE_ARG_LIST_3
 
ROUTINE_ARG_LIST_2
, 
	`ROUTINE_ARG
(3)

	)

181 
	#ROUTINE_ARG_LIST_NON_FIXED
 , 
¨gumíts_li°
, 
¨gumíts_numbî


	)

182 
	#ROUTINE
(
«me
, 
c_fun˘i⁄_«me
, 
¨gs_numbî
, 
Àngth_¥›_vÆue
) \

183 
ECMA_ROUTINE_
 ## 
«me
 ## 
c_fun˘i⁄_«me
: \

185  
	`c_fun˘i⁄_«me
 (
this_¨g_vÆue
 
ROUTINE_ARG_LIST_
 ## 
¨gs_numbî
); \

186 }

	)

187 
	#ACCESSOR_READ_WRITE
(
«me
, 
c_gëãr_func_«me
, 
c_£âî_func_«me
, 
¥›_©åibuãs
) \

188 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_gëãr_func_«me
: \

190  
	`c_gëãr_func_«me
(
this_¨g_vÆue
); \

192 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_£âî_func_«me
: \

194  
	`c_£âî_func_«me
(
this_¨g_vÆue
 
ROUTINE_ARG_LIST_1
); \

195 }

	)

196 
	#ACCESSOR_READ_ONLY
(
«me
, 
c_gëãr_func_«me
, 
¥›_©åibuãs
) \

197 
ECMA_ACCESSOR_
 ## 
«me
 ## 
c_gëãr_func_«me
: \

199  
	`c_gëãr_func_«me
(
this_¨g_vÆue
); \

200 }

	)

201 #ö˛udê
BUILTIN_INC_HEADER_NAME


202 #unde‡
ROUTINE_ARG


203 #unde‡
ROUTINE_ARG_LIST_0


204 #unde‡
ROUTINE_ARG_LIST_1


205 #unde‡
ROUTINE_ARG_LIST_2


206 #unde‡
ROUTINE_ARG_LIST_3


207 #unde‡
ROUTINE_ARG_LIST_NON_FIXED


211 
	`JERRY_UNREACHABLE
 ();

214 
	}
}

218 #unde‡
BUILTIN_INC_HEADER_NAME


219 #unde‡
BUILTIN_CUSTOM_DISPATCH


220 #unde‡
BUILTIN_UNDERSCORED_ID


221 #unde‡
DISPATCH_ROUTINE_ROUTINE_NAME


222 #unde‡
ECMA_BUILTIN_PROPERTY_NAME_INDEX


223 #unde‡
PASTE__


224 #unde‡
PASTE_


225 #unde‡
PASTE


226 #unde‡
PROPERTY_DESCRIPTOR_LIST_NAME


	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-json.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-fun˘i⁄-obje˘.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-globÆs.h
"

24 
	~"ecma-hñ≥rs.h
"

25 
	~"ecma-buûtö-hñ≥rs.h
"

26 
	~"ecma-obje˘s.h
"

27 
	~"ecma-obje˘s-gíîÆ.h
"

28 
	~"ecma-åy-ˇtch-ma¸o.h
"

29 
	~"jπ.h
"

30 
	~"jπ-libc-ö˛udes.h
"

31 
	~"lô-ch¨-hñ≥rs.h
"

32 
	~"lô-globÆs.h
"

34 #i‚de‡
CONFIG_DISABLE_JSON_BUILTIN


36 
	#ECMA_BUILTINS_INTERNAL


	)

37 
	~"ecma-buûtös-öã∫Æ.h
"

39 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-js⁄.öc.h"

	)

40 
	#BUILTIN_UNDERSCORED_ID
 
js⁄


	)

41 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

58 
	mövÆid_tokí
,

59 
	míd_tokí
,

60 
	mnumbî_tokí
,

61 
	m°rög_tokí
,

62 
	mnuŒ_tokí
,

63 
	måue_tokí
,

64 
	mÁl£_tokí
,

65 
	mÀ·_bø˚_tokí
,

66 
	mright_bø˚_tokí
,

67 
	mÀ·_squ¨e_tokí
,

68 
	mcomma_tokí
,

69 
	mcﬁ⁄_tokí


70 } 
	tecma_js⁄_tokí_ty≥_t
;

77 
ecma_js⁄_tokí_ty≥_t
 
	mty≥
;

78 c⁄° 
lô_utf8_byã_t
 *
	mcuºít_p
;

79 c⁄° 
lô_utf8_byã_t
 *
	míd_p
;

86 
ecma_°rög_t
 *
	m°rög_p
;

87 
ecma_numbî_t
 
	mnumbî
;

88 } 
	mu
;

89 } 
	tecma_js⁄_tokí_t
;

96 
boﬁ


97 
	$ecma_buûtö_js⁄_check_id
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

98 c⁄° 
lô_utf8_byã_t
 *
íd_p
,

99 c⁄° *
°rög_id_p
)

104 
	`JERRY_ASSERT
 (*
°rög_p
 =*
°rög_id_p
);

106 
°rög_p
++;

107 
°rög_id_p
++;

109 
°rög_p
 < 
íd_p
)

111 i‡(*
°rög_id_p
 =
LIT_CHAR_NULL
)

120  
åue
;

123 i‡(*
°rög_p
 !*
°rög_id_p
)

125  
Ál£
;

128 
°rög_p
++;

129 
°rög_id_p
++;

132  (*
°rög_id_p
 =
LIT_CHAR_NULL
);

133 
	}
}

139 
	$ecma_buûtö_js⁄_∑r£_°rög
 (
ecma_js⁄_tokí_t
 *
tokí_p
)

141 c⁄° 
lô_utf8_byã_t
 *
cuºít_p
 = 
tokí_p
->current_p;

142 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
tokí_p
->end_p;

143 
boﬁ
 
has_esˇ≥_£quí˚
 = 
Ál£
;

144 
lô_utf8_size_t
 
buf„r_size
 = 0;

147 
åue
)

149 i‡(
cuºít_p
 >
íd_p
 || *current_p <= 0x1f)

154 i‡(*
cuºít_p
 =
LIT_CHAR_DOUBLE_QUOTE
)

159 i‡(*
cuºít_p
 =
LIT_CHAR_BACKSLASH
)

161 
cuºít_p
++;

162 
has_esˇ≥_£quí˚
 = 
åue
;

164 *
cuºít_p
)

166 
LIT_CHAR_DOUBLE_QUOTE
:

167 
LIT_CHAR_SLASH
:

168 
LIT_CHAR_BACKSLASH
:

169 
LIT_CHAR_LOWERCASE_B
:

170 
LIT_CHAR_LOWERCASE_F
:

171 
LIT_CHAR_LOWERCASE_N
:

172 
LIT_CHAR_LOWERCASE_R
:

173 
LIT_CHAR_LOWERCASE_T
:

177 
LIT_CHAR_LOWERCASE_U
:

179 
ecma_ch¨_t
 
code_unô
;

181 i‡(!(
	`lô_ªad_code_unô_‰om_hex
 (
cuºít_p
 + 1, 4, &
code_unô
)))

186 
cuºít_p
 += 5;

188 
lô_utf8_byã_t
 
ch¨_buf„r
[
LIT_UTF8_MAX_BYTES_IN_CODE_UNIT
];

189 
buf„r_size
 +
	`lô_code_unô_to_utf8
 (
code_unô
, 
ch¨_buf„r
);

199 
buf„r_size
++;

200 
cuºít_p
++;

203 
tokí_p
->
ty≥
 = 
°rög_tokí
;

205 i‡(!
has_esˇ≥_£quí˚
)

207 
tokí_p
->
u
.
°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (tokí_p->
cuºít_p
, 
buf„r_size
);

208 
tokí_p
->
cuºít_p
 = current_p + 1;

212 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
buf„r_p
, 
buf„r_size
, 
lô_utf8_byã_t
);

214 
lô_utf8_byã_t
 *
wrôe_p
 = 
buf„r_p
;

215 
cuºít_p
 = 
tokí_p
->current_p;

217 *
cuºít_p
 !
LIT_CHAR_DOUBLE_QUOTE
)

219 i‡(*
cuºít_p
 =
LIT_CHAR_BACKSLASH
)

221 
cuºít_p
++;

223 
lô_utf8_byã_t
 
•ecül_ch¨a˘î
;

225 *
cuºít_p
)

227 
LIT_CHAR_LOWERCASE_B
:

229 
•ecül_ch¨a˘î
 = 
LIT_CHAR_BS
;

232 
LIT_CHAR_LOWERCASE_F
:

234 
•ecül_ch¨a˘î
 = 
LIT_CHAR_FF
;

237 
LIT_CHAR_LOWERCASE_N
:

239 
•ecül_ch¨a˘î
 = 
LIT_CHAR_LF
;

242 
LIT_CHAR_LOWERCASE_R
:

244 
•ecül_ch¨a˘î
 = 
LIT_CHAR_CR
;

247 
LIT_CHAR_LOWERCASE_T
:

249 
•ecül_ch¨a˘î
 = 
LIT_CHAR_TAB
;

252 
LIT_CHAR_LOWERCASE_U
:

254 
ecma_ch¨_t
 
code_unô
;

256 
	`lô_ªad_code_unô_‰om_hex
 (
cuºít_p
 + 1, 4, &
code_unô
);

258 
cuºít_p
 += 5;

259 
wrôe_p
 +
	`lô_code_unô_to_utf8
 (
code_unô
, write_p);

264 
•ecül_ch¨a˘î
 = *
cuºít_p
;

269 *
wrôe_p
++ = 
•ecül_ch¨a˘î
;

270 
cuºít_p
++;

274 *
wrôe_p
++ = *
cuºít_p
++;

277 
	`JERRY_ASSERT
 (
wrôe_p
 =
buf„r_p
 + 
buf„r_size
);

279 
tokí_p
->
u
.
°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
buf„r_p
, 
buf„r_size
);

281 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
buf„r_p
);

283 
tokí_p
->
cuºít_p
 = current_p + 1;

284 
	}
}

290 
	$ecma_buûtö_js⁄_∑r£_numbî
 (
ecma_js⁄_tokí_t
 *
tokí_p
)

292 c⁄° 
lô_utf8_byã_t
 *
cuºít_p
 = 
tokí_p
->current_p;

293 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
tokí_p
->end_p;

294 c⁄° 
lô_utf8_byã_t
 *
°¨t_p
 = 
cuºít_p
;

296 
	`JERRY_ASSERT
 (
cuºít_p
 < 
íd_p
);

298 i‡(*
cuºít_p
 =
LIT_CHAR_MINUS
)

300 
cuºít_p
++;

303 i‡(
cuºít_p
 >
íd_p
)

308 i‡(*
cuºít_p
 =
LIT_CHAR_0
)

310 
cuºít_p
++;

312 i‡(
cuºít_p
 < 
íd_p
 && 
	`lô_ch¨_is_decimÆ_digô
 (*current_p))

317 i‡(
	`lô_ch¨_is_decimÆ_digô
 (*
cuºít_p
))

321 
cuºít_p
++;

323 
cuºít_p
 < 
íd_p
 && 
	`lô_ch¨_is_decimÆ_digô
 (*current_p));

326 i‡(
cuºít_p
 < 
íd_p
 && *cuºít_∞=
LIT_CHAR_DOT
)

328 
cuºít_p
++;

330 i‡(
cuºít_p
 >
íd_p
 || !
	`lô_ch¨_is_decimÆ_digô
 (*current_p))

337 
cuºít_p
++;

339 
cuºít_p
 < 
íd_p
 && 
	`lô_ch¨_is_decimÆ_digô
 (*current_p));

342 i‡(
cuºít_p
 < 
íd_p
 && (*cuºít_∞=
LIT_CHAR_LOWERCASE_E
 || *cuºít_∞=
LIT_CHAR_UPPERCASE_E
))

344 
cuºít_p
++;

346 i‡(
cuºít_p
 < 
íd_p
 && (*cuºít_∞=
LIT_CHAR_PLUS
 || *cuºít_∞=
LIT_CHAR_MINUS
))

348 
cuºít_p
++;

351 i‡(
cuºít_p
 >
íd_p
 || !
	`lô_ch¨_is_decimÆ_digô
 (*current_p))

358 
cuºít_p
++;

360 
cuºít_p
 < 
íd_p
 && 
	`lô_ch¨_is_decimÆ_digô
 (*current_p));

363 
tokí_p
->
ty≥
 = 
numbî_tokí
;

364 
tokí_p
->
u
.
numbî
 = 
	`ecma_utf8_°rög_to_numbî
 (
°¨t_p
, (
lô_utf8_size_t
Ë(
cuºít_p
 - start_p));

366 
tokí_p
->
cuºít_p
 = current_p;

367 
	}
}

376 
	$ecma_buûtö_js⁄_∑r£_√xt_tokí
 (
ecma_js⁄_tokí_t
 *
tokí_p
,

377 
boﬁ
 
∑r£_°rög
)

379 c⁄° 
lô_utf8_byã_t
 *
cuºít_p
 = 
tokí_p
->current_p;

380 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
tokí_p
->end_p;

381 
tokí_p
->
ty≥
 = 
övÆid_tokí
;

383 
cuºít_p
 < 
íd_p


384 && (*
cuºít_p
 =
LIT_CHAR_SP


385 || *
cuºít_p
 =
LIT_CHAR_CR


386 || *
cuºít_p
 =
LIT_CHAR_LF


387 || *
cuºít_p
 =
LIT_CHAR_TAB
))

389 
cuºít_p
++;

392 i‡(
cuºít_p
 =
íd_p
)

394 
tokí_p
->
ty≥
 = 
íd_tokí
;

398 *
cuºít_p
)

400 
LIT_CHAR_LEFT_BRACE
:

402 
tokí_p
->
ty≥
 = 
À·_bø˚_tokí
;

403 
tokí_p
->
cuºít_p
 = current_p + 1;

406 
LIT_CHAR_RIGHT_BRACE
:

408 
tokí_p
->
ty≥
 = 
right_bø˚_tokí
;

409 
tokí_p
->
cuºít_p
 = current_p + 1;

412 
LIT_CHAR_LEFT_SQUARE
:

414 
tokí_p
->
ty≥
 = 
À·_squ¨e_tokí
;

415 
tokí_p
->
cuºít_p
 = current_p + 1;

418 
LIT_CHAR_COMMA
:

420 
tokí_p
->
ty≥
 = 
comma_tokí
;

421 
tokí_p
->
cuºít_p
 = current_p + 1;

424 
LIT_CHAR_COLON
:

426 
tokí_p
->
ty≥
 = 
cﬁ⁄_tokí
;

427 
tokí_p
->
cuºít_p
 = current_p + 1;

430 
LIT_CHAR_DOUBLE_QUOTE
:

432 i‡(
∑r£_°rög
)

434 
tokí_p
->
cuºít_p
 = current_p + 1;

435 
	`ecma_buûtö_js⁄_∑r£_°rög
 (
tokí_p
);

439 
LIT_CHAR_LOWERCASE_N
:

441 i‡(
	`ecma_buûtö_js⁄_check_id
 (
cuºít_p
, 
tokí_p
->
íd_p
, "null"))

443 
tokí_p
->
ty≥
 = 
nuŒ_tokí
;

444 
tokí_p
->
cuºít_p
 = current_p + 4;

449 
LIT_CHAR_LOWERCASE_T
:

451 i‡(
	`ecma_buûtö_js⁄_check_id
 (
cuºít_p
, 
tokí_p
->
íd_p
, "true"))

453 
tokí_p
->
ty≥
 = 
åue_tokí
;

454 
tokí_p
->
cuºít_p
 = current_p + 4;

459 
LIT_CHAR_LOWERCASE_F
:

461 i‡(
	`ecma_buûtö_js⁄_check_id
 (
cuºít_p
, 
tokí_p
->
íd_p
, "false"))

463 
tokí_p
->
ty≥
 = 
Ál£_tokí
;

464 
tokí_p
->
cuºít_p
 = current_p + 5;

471 i‡(*
cuºít_p
 =
LIT_CHAR_MINUS
 || 
	`lô_ch¨_is_decimÆ_digô
 (*current_p))

473 
tokí_p
->
cuºít_p
 = current_p;

474 
	`ecma_buûtö_js⁄_∑r£_numbî
 (
tokí_p
);

480 
	}
}

489 
boﬁ


490 
	$ecma_buûtö_js⁄_check_right_squ¨e_tokí
 (
ecma_js⁄_tokí_t
 *
tokí_p
)

492 c⁄° 
lô_utf8_byã_t
 *
cuºít_p
 = 
tokí_p
->current_p;

493 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
tokí_p
->end_p;

498 
cuºít_p
 < 
íd_p


499 && (*
cuºít_p
 =
LIT_CHAR_SP


500 || *
cuºít_p
 =
LIT_CHAR_CR


501 || *
cuºít_p
 =
LIT_CHAR_LF


502 || *
cuºít_p
 =
LIT_CHAR_TAB
))

504 
cuºít_p
++;

507 
tokí_p
->
cuºít_p
 = current_p;

509 i‡(
cuºít_p
 < 
íd_p
 && *cuºít_∞=
LIT_CHAR_RIGHT_SQUARE
)

511 
tokí_p
->
cuºít_p
 = current_p + 1;

512  
åue
;

515  
Ál£
;

516 
	}
}

524 
	$ecma_buûtö_js⁄_deföe_vÆue_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

525 
ecma_°rög_t
 *
¥›îty_«me_p
,

526 
ecma_vÆue_t
 
vÆue
)

528 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
obj_p
,

529 
¥›îty_«me_p
,

530 
vÆue
,

531 
åue
,

532 
åue
,

533 
åue
,

534 
Ál£
);

536 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∂ëi⁄_vÆue
));

537 
	}
}

547 
ecma_vÆue_t


548 
	$ecma_buûtö_js⁄_∑r£_vÆue
 (
ecma_js⁄_tokí_t
 *
tokí_p
)

550 
	`ecma_buûtö_js⁄_∑r£_√xt_tokí
 (
tokí_p
, 
åue
);

552 
tokí_p
->
ty≥
)

554 
numbî_tokí
:

556  
	`ecma_make_numbî_vÆue
 (
tokí_p
->
u
.
numbî
);

558 
°rög_tokí
:

560  
	`ecma_make_°rög_vÆue
 (
tokí_p
->
u
.
°rög_p
);

562 
nuŒ_tokí
:

564  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

566 
åue_tokí
:

568  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

570 
Ál£_tokí
:

572  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

574 
À·_bø˚_tokí
:

576 
boﬁ
 
∑r£_comma
 = 
Ál£
;

577 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

579 
åue
)

581 
	`ecma_buûtö_js⁄_∑r£_√xt_tokí
 (
tokí_p
, !
∑r£_comma
);

583 i‡(
tokí_p
->
ty≥
 =
right_bø˚_tokí
)

585  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

588 i‡(
∑r£_comma
)

590 i‡(
tokí_p
->
ty≥
 !
comma_tokí
)

595 
	`ecma_buûtö_js⁄_∑r£_√xt_tokí
 (
tokí_p
, 
åue
);

598 i‡(
tokí_p
->
ty≥
 !
°rög_tokí
)

603 
ecma_°rög_t
 *
«me_p
 = 
tokí_p
->
u
.
°rög_p
;

605 
	`ecma_buûtö_js⁄_∑r£_√xt_tokí
 (
tokí_p
, 
Ál£
);

607 i‡(
tokí_p
->
ty≥
 !
cﬁ⁄_tokí
)

609 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

613 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_buûtö_js⁄_∑r£_vÆue
 (
tokí_p
);

615 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue
))

617 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

621 
	`ecma_buûtö_js⁄_deföe_vÆue_¥›îty
 (
obje˘_p
, 
«me_p
, 
vÆue
);

622 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

623 
	`ecma_‰ì_vÆue
 (
vÆue
);

625 
∑r£_comma
 = 
åue
;

631 
	`ecma_dîef_obje˘
 (
obje˘_p
);

632  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

634 
À·_squ¨e_tokí
:

636 
boﬁ
 
∑r£_comma
 = 
Ál£
;

637 
uöt32_t
 
Àngth
 = 0;

639 
ecma_vÆue_t
 
¨øy_c⁄°ru˘i⁄
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (
NULL
, 0, 
Ál£
);

640 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
¨øy_c⁄°ru˘i⁄
));

642 
ecma_obje˘_t
 *
¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øy_c⁄°ru˘i⁄
);

644 
åue
)

646 i‡(
	`ecma_buûtö_js⁄_check_right_squ¨e_tokí
 (
tokí_p
))

648  
	`ecma_make_obje˘_vÆue
 (
¨øy_p
);

651 i‡(
∑r£_comma
)

653 
	`ecma_buûtö_js⁄_∑r£_√xt_tokí
 (
tokí_p
, 
Ál£
);

655 i‡(
tokí_p
->
ty≥
 !
comma_tokí
)

661 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_buûtö_js⁄_∑r£_vÆue
 (
tokí_p
);

663 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue
))

668 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
Àngth
);

670 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
¨øy_p
,

671 
ödex_°r_p
,

672 
vÆue
,

673 
åue
,

674 
åue
,

675 
åue
,

676 
Ál£
);

678 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

680 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

682 
	`ecma_‰ì_vÆue
 (
vÆue
);

684 
Àngth
++;

685 
∑r£_comma
 = 
åue
;

691 
	`ecma_dîef_obje˘
 (
¨øy_p
);

692  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

696  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

699 
	}
}

710 
ecma_vÆue_t


711 
	$ecma_buûtö_js⁄_wÆk
 (
ecma_obje˘_t
 *
ªvivî_p
,

712 
ecma_obje˘_t
 *
hﬁdî_p
,

713 
ecma_°rög_t
 *
«me_p
)

715 
	`JERRY_ASSERT
 (
ªvivî_p
);

716 
	`JERRY_ASSERT
 (
hﬁdî_p
);

717 
	`JERRY_ASSERT
 (
«me_p
);

719 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

721 
	`ECMA_TRY_CATCH
 (
vÆue_gë
,

722 
	`ecma_›_obje˘_gë
 (
hﬁdî_p
, 
«me_p
),

723 
ªt_vÆue
);

725 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue_gë
))

727 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue_gë
);

729 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obje˘_p
, 
Ál£
, 
åue
, false);

731 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

732 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

734 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

735 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

737 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

739 
	`ECMA_TRY_CATCH
 (
vÆue_wÆk
,

740 
	`ecma_buûtö_js⁄_wÆk
 (
ªvivî_p
,

741 
obje˘_p
,

742 
¥›îty_«me_p
),

743 
ªt_vÆue
);

749 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue_wÆk
))

751 
ecma_vÆue_t
 
dñëe_vÆ
 = 
	`ecma_›_gíîÆ_obje˘_dñëe
 (
obje˘_p
,

752 
¥›îty_«me_p
,

753 
Ál£
);

754 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
dñëe_vÆ
));

758 
	`ecma_buûtö_js⁄_deföe_vÆue_¥›îty
 (
obje˘_p
,

759 
¥›îty_«me_p
,

760 
vÆue_wÆk
);

763 
	`ECMA_FINALIZE
 (
vÆue_wÆk
);

766 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

769 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

771 
ecma_vÆue_t
 
¨gumíts_li°
[2];

773 
¨gumíts_li°
[0] = 
	`ecma_make_°rög_vÆue
 (
«me_p
);

774 
¨gumíts_li°
[1] = 
vÆue_gë
;

779 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
ªvivî_p
,

780 
	`ecma_make_obje˘_vÆue
 (
hﬁdî_p
),

781 
¨gumíts_li°
,

786 
	`JERRY_ASSERT
 (
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
));

789 
	`ECMA_FINALIZE
 (
vÆue_gë
);

791  
ªt_vÆue
;

792 
	}
}

803 
ecma_vÆue_t


804 
	$ecma_buûtö_js⁄_∑r£
 (
ecma_vÆue_t
 
this_¨g
,

805 
ecma_vÆue_t
 
¨g1
,

806 
ecma_vÆue_t
 
¨g2
)

808 
	`JERRY_UNUSED
 (
this_¨g
);

809 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

811 
	`ECMA_TRY_CATCH
 (
°rög
,

812 
	`ecma_›_to_°rög
 (
¨g1
),

813 
ªt_vÆue
);

815 c⁄° 
ecma_°rög_t
 *
°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög
);

817 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
°r_°¨t_p
, 
°rög_size
);

819 
ecma_js⁄_tokí_t
 
tokí
;

820 
tokí
.
cuºít_p
 = 
°r_°¨t_p
;

821 
tokí
.
íd_p
 = 
°r_°¨t_p
 + 
°rög_size
;

823 
ecma_vÆue_t
 
föÆ_ªsu…
 = 
	`ecma_buûtö_js⁄_∑r£_vÆue
 (&
tokí
);

825 i‡(!
	`ecma_is_vÆue_undeföed
 (
föÆ_ªsu…
))

827 
	`ecma_buûtö_js⁄_∑r£_√xt_tokí
 (&
tokí
, 
Ál£
);

829 i‡(
tokí
.
ty≥
 !
íd_tokí
)

831 
	`ecma_‰ì_vÆue
 (
föÆ_ªsu…
);

832 
föÆ_ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

836 i‡(
	`ecma_is_vÆue_undeföed
 (
föÆ_ªsu…
))

838 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("JSON stringÖarseÉrror."));

842 i‡(
	`ecma_›_is_ˇŒabÀ
 (
¨g2
))

844 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

845 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

847 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
;

848 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

849 
«me_p
,

850 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
,

851 
NULL
);

853 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
obje˘_p
, 
¥›_vÆue_p
, 
föÆ_ªsu…
);

854 
	`ecma_‰ì_vÆue
 (
föÆ_ªsu…
);

856 
ªt_vÆue
 = 
	`ecma_buûtö_js⁄_wÆk
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g2
),

857 
obje˘_p
,

858 
«me_p
);

859 
	`ecma_dîef_obje˘
 (
obje˘_p
);

860 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

864 
ªt_vÆue
 = 
föÆ_ªsu…
;

868 
	`ECMA_FINALIZE_UTF8_STRING
 (
°r_°¨t_p
, 
°rög_size
);

870 
	`ECMA_FINALIZE
 (
°rög
);

871  
ªt_vÆue
;

872 
	}
}

874 
ecma_vÆue_t


875 
ecma_buûtö_js⁄_°r
 (
ecma_°rög_t
 *
key_p
, 
ecma_obje˘_t
 *
hﬁdî_p
, 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
);

877 
ecma_vÆue_t


878 
ecma_buûtö_js⁄_obje˘
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
);

880 
ecma_vÆue_t


881 
ecma_buûtö_js⁄_¨øy
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
);

892 
ecma_vÆue_t


893 
	$ecma_buûtö_js⁄_°rögify
 (
ecma_vÆue_t
 
this_¨g
,

894 
ecma_vÆue_t
 
¨g1
,

895 
ecma_vÆue_t
 
¨g2
,

896 
ecma_vÆue_t
 
¨g3
)

898 
	`JERRY_UNUSED
 (
this_¨g
);

899 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

901 
ecma_js⁄_°rögify_c⁄ãxt_t
 
c⁄ãxt
;

904 
c⁄ãxt
.
occuªn˚_°ack_p
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

907 
c⁄ãxt
.
ödít_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

910 
c⁄ãxt
.
¥›îty_li°_p
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

912 
c⁄ãxt
.
ª∂a˚r_fun˘i⁄_p
 = 
NULL
;

915 i‡(
	`ecma_is_vÆue_obje˘
 (
¨g2
))

917 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g2
);

920 i‡(
	`ecma_›_is_ˇŒabÀ
 (
¨g2
))

922 
c⁄ãxt
.
ª∂a˚r_fun˘i⁄_p
 = 
obj_p
;

925 i‡(
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
Ë=
LIT_MAGIC_STRING_ARRAY_UL
)

927 
ecma_°rög_t
 *
Àngth_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

929 
	`ECMA_TRY_CATCH
 (
¨øy_Àngth
,

930 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_°r_p
),

931 
ªt_vÆue
);

933 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨øy_Àngth_num
,

934 
¨øy_Àngth
,

935 
ªt_vÆue
);

937 
uöt32_t
 
ödex
 = 0;

940 (
ödex
 < 
	`ecma_numbî_to_uöt32
 (
¨øy_Àngth_num
)Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

942 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

944 
	`ECMA_TRY_CATCH
 (
vÆue
,

945 
	`ecma_›_obje˘_gë
 (
obj_p
, 
ödex_°r_p
),

946 
ªt_vÆue
);

949 
ecma_vÆue_t
 
ôem
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

952 i‡(
	`ecma_is_vÆue_°rög
 (
vÆue
))

954 
ôem
 = 
	`ecma_c›y_vÆue
 (
vÆue
);

957 i‡(
	`ecma_is_vÆue_numbî
 (
vÆue
))

959 
	`ECMA_TRY_CATCH
 (
°r_vÆ
,

960 
	`ecma_›_to_°rög
 (
vÆue
),

961 
ªt_vÆue
);

963 
ôem
 = 
	`ecma_c›y_vÆue
 (
°r_vÆ
);

965 
	`ECMA_FINALIZE
 (
°r_vÆ
);

968 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
))

970 
ecma_obje˘_t
 *
obj_vÆ_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

971 
lô_magic_°rög_id_t
 
˛ass_«me
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_vÆ_p
);

974 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_NUMBER_UL


975 || 
˛ass_«me
 =
LIT_MAGIC_STRING_STRING_UL
)

977 
	`ECMA_TRY_CATCH
 (
vÆ
,

978 
	`ecma_›_to_°rög
 (
vÆue
),

979 
ªt_vÆue
);

981 
ôem
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

983 
	`ECMA_FINALIZE
 (
vÆ
);

988 i‡(!
	`ecma_is_vÆue_undeföed
 (
ôem
))

990 i‡(!
	`ecma_has_°rög_vÆue_ö_cﬁÀ˘i⁄
 (
c⁄ãxt
.
¥›îty_li°_p
, 
ôem
))

992 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt
.
¥›îty_li°_p
, 
ôem
, 
åue
);

993 
	`ecma_dîef_ecma_°rög
 (
	`ecma_gë_°rög_‰om_vÆue
 (
ôem
));

997 
	`ecma_‰ì_vÆue
 (
ôem
);

1001 
	`ECMA_FINALIZE
 (
vÆue
);

1003 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

1005 
ödex
++;

1008 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨øy_Àngth_num
);

1009 
	`ECMA_FINALIZE
 (
¨øy_Àngth
);

1011 
	`ecma_dîef_ecma_°rög
 (
Àngth_°r_p
);

1015 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1017 
ecma_vÆue_t
 
•a˚
 = 
	`ecma_c›y_vÆue
 (
¨g3
);

1020 i‡(
	`ecma_is_vÆue_obje˘
 (
¨g3
))

1022 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g3
);

1023 
lô_magic_°rög_id_t
 
˛ass_«me
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
);

1026 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_NUMBER_UL
)

1028 
	`ECMA_TRY_CATCH
 (
vÆ
,

1029 
	`ecma_›_to_numbî
 (
¨g3
),

1030 
ªt_vÆue
);

1032 
	`ecma_‰ì_vÆue
 (
•a˚
);

1033 
•a˚
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1035 
	`ECMA_FINALIZE
 (
vÆ
);

1038 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_STRING_UL
)

1040 
	`ECMA_TRY_CATCH
 (
vÆ
,

1041 
	`ecma_›_to_°rög
 (
¨g3
),

1042 
ªt_vÆue
);

1044 
	`ecma_‰ì_vÆue
 (
•a˚
);

1045 
•a˚
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1047 
	`ECMA_FINALIZE
 (
vÆ
);

1051 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1054 i‡(
	`ecma_is_vÆue_numbî
 (
•a˚
))

1056 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨øy_Àngth_num
,

1057 
¨g3
,

1058 
ªt_vÆue
);

1061 
öt32_t
 
num_of_•a˚s
 = 
	`ecma_numbî_to_öt32
 (
¨øy_Àngth_num
);

1062 
num_of_•a˚s
 = (num_of_spaces > 10) ? 10 :Çum_of_spaces;

1065 i‡(
num_of_•a˚s
 < 1)

1067 
c⁄ãxt
.
g≠_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

1071 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
•a˚_buff
, 
num_of_•a˚s
, );

1073 
öt32_t
 
i
 = 0; i < 
num_of_•a˚s
; i++)

1075 
•a˚_buff
[
i
] = 
LIT_CHAR_SP
;

1078 
c⁄ãxt
.
g≠_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((
lô_utf8_byã_t
 *Ë
•a˚_buff
,

1079 (
lô_utf8_size_t
Ë
num_of_•a˚s
);

1081 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
•a˚_buff
);

1084 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨øy_Àngth_num
);

1087 i‡(
	`ecma_is_vÆue_°rög
 (
•a˚
))

1089 
ecma_°rög_t
 *
•a˚_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
•a˚
);

1090 
ecma_Àngth_t
 
num_of_ch¨s
 = 
	`ecma_°rög_gë_Àngth
 (
•a˚_°r_p
);

1092 i‡(
num_of_ch¨s
 < 10)

1094 
	`ecma_ªf_ecma_°rög
 (
•a˚_°r_p
);

1095 
c⁄ãxt
.
g≠_°r_p
 = 
•a˚_°r_p
;

1099 
c⁄ãxt
.
g≠_°r_p
 = 
	`ecma_°rög_sub°r
 (
•a˚_°r_p
, 0, 10);

1105 
c⁄ãxt
.
g≠_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

1109 
	`ecma_‰ì_vÆue
 (
•a˚
);

1111 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1114 
ecma_obje˘_t
 *
obj_wøµî_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

1115 
ecma_°rög_t
 *
em±y_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

1118 
ecma_vÆue_t
 
put_comp_vÆ
 = 
	`ecma_›_obje˘_put
 (
obj_wøµî_p
,

1119 
em±y_°r_p
,

1120 
¨g1
,

1121 
Ál£
);

1123 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp_vÆ
));

1124 
	`ecma_‰ì_vÆue
 (
put_comp_vÆ
);

1127 
	`ECMA_TRY_CATCH
 (
°r_vÆ
,

1128 
	`ecma_buûtö_js⁄_°r
 (
em±y_°r_p
, 
obj_wøµî_p
, &
c⁄ãxt
),

1129 
ªt_vÆue
);

1131 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
°r_vÆ
);

1133 
	`ECMA_FINALIZE
 (
°r_vÆ
);

1135 
	`ecma_dîef_obje˘
 (
obj_wøµî_p
);

1136 
	`ecma_dîef_ecma_°rög
 (
em±y_°r_p
);

1139 
	`ecma_dîef_ecma_°rög
 (
c⁄ãxt
.
g≠_°r_p
);

1142 
	`ecma_dîef_ecma_°rög
 (
c⁄ãxt
.
ödít_°r_p
);

1144 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt
.
¥›îty_li°_p
, 
åue
);

1145 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt
.
occuªn˚_°ack_p
, 
åue
);

1147  
ªt_vÆue
;

1148 
	}
}

1159 
ecma_vÆue_t


1160 
	$ecma_buûtö_js⁄_quŸe
 (
ecma_°rög_t
 *
°rög_p
)

1163 
ecma_°rög_t
 *
quŸe_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_DOUBLE_QUOTE_CHAR
);

1164 
	`ecma_ªf_ecma_°rög
 (
quŸe_°r_p
);

1165 
ecma_°rög_t
 *
¥odu˘_°r_p
 = 
quŸe_°r_p
;

1166 
ecma_°rög_t
 *
tmp_°r_p
;

1168 
	`ECMA_STRING_TO_UTF8_STRING
 (
°rög_p
, 
°rög_buff
, 
°rög_buff_size
);

1170 c⁄° 
lô_utf8_byã_t
 *
°r_p
 = 
°rög_buff
;

1171 c⁄° 
lô_utf8_byã_t
 *
°r_íd_p
 = 
°rög_buff
 + 
°rög_buff_size
;

1173 
°r_p
 < 
°r_íd_p
)

1175 
ecma_ch¨_t
 
cuºít_ch¨
 = 
	`lô_utf8_ªad_√xt
 (&
°r_p
);

1178 i‡(
cuºít_ch¨
 =
LIT_CHAR_BACKSLASH
 || cuºít_ch¨ =
LIT_CHAR_DOUBLE_QUOTE
)

1180 
ecma_°rög_t
 *
back¶ash_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_BACKSLASH_CHAR
);

1183 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
back¶ash_°r_p
);

1184 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1185 
	`ecma_dîef_ecma_°rög
 (
back¶ash_°r_p
);

1186 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1189 
ecma_°rög_t
 *
cuºít_ch¨_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_code_unô
 (
cuºít_ch¨
);

1191 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
cuºít_ch¨_°r_p
);

1192 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1193 
	`ecma_dîef_ecma_°rög
 (
cuºít_ch¨_°r_p
);

1194 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1197 i‡(
cuºít_ch¨
 =
LIT_CHAR_BS


1198 || 
cuºít_ch¨
 =
LIT_CHAR_FF


1199 || 
cuºít_ch¨
 =
LIT_CHAR_LF


1200 || 
cuºít_ch¨
 =
LIT_CHAR_CR


1201 || 
cuºít_ch¨
 =
LIT_CHAR_TAB
)

1203 
ecma_°rög_t
 *
back¶ash_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_BACKSLASH_CHAR
);

1206 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
back¶ash_°r_p
);

1207 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1208 
	`ecma_dîef_ecma_°rög
 (
back¶ash_°r_p
);

1209 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1212 
lô_utf8_byã_t
 
abbªv
 = 
LIT_CHAR_SP
;

1214 
cuºít_ch¨
)

1216 
LIT_CHAR_BS
:

1218 
abbªv
 = 
LIT_CHAR_LOWERCASE_B
;

1221 
LIT_CHAR_FF
:

1223 
abbªv
 = 
LIT_CHAR_LOWERCASE_F
;

1226 
LIT_CHAR_LF
:

1228 
abbªv
 = 
LIT_CHAR_LOWERCASE_N
;

1231 
LIT_CHAR_CR
:

1233 
abbªv
 = 
LIT_CHAR_LOWERCASE_R
;

1236 
LIT_CHAR_TAB
:

1238 
abbªv
 = 
LIT_CHAR_LOWERCASE_T
;

1244 
ecma_°rög_t
 *
abbªv_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (&
abbªv
, 1);

1246 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
abbªv_°r_p
);

1247 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1248 
	`ecma_dîef_ecma_°rög
 (
abbªv_°r_p
);

1249 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1252 i‡(
cuºít_ch¨
 < 
LIT_CHAR_SP
)

1254 
ecma_°rög_t
 *
back¶ash_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_BACKSLASH_CHAR
);

1257 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
back¶ash_°r_p
);

1258 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1259 
	`ecma_dîef_ecma_°rög
 (
back¶ash_°r_p
);

1260 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1263 
lô_utf8_byã_t
 
u_ch
 = 
LIT_CHAR_LOWERCASE_U
;

1264 
ecma_°rög_t
 *
u_ch_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (&
u_ch
, 1);

1266 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
u_ch_°r_p
);

1267 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1268 
	`ecma_dîef_ecma_°rög
 (
u_ch_°r_p
);

1269 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1272 
ecma_°rög_t
 *
hex_°r_p
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_hex_digô_ecma_°rög
 ((
uöt8_t
Ë
cuºít_ch¨
);

1275 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
hex_°r_p
);

1276 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1277 
	`ecma_dîef_ecma_°rög
 (
hex_°r_p
);

1278 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1283 
ecma_°rög_t
 *
cuºít_ch¨_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_code_unô
 (
cuºít_ch¨
);

1285 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
cuºít_ch¨_°r_p
);

1286 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1287 
	`ecma_dîef_ecma_°rög
 (
cuºít_ch¨_°r_p
);

1288 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1292 
	`ECMA_FINALIZE_UTF8_STRING
 (
°rög_buff
, 
°rög_buff_size
);

1295 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
¥odu˘_°r_p
, 
quŸe_°r_p
);

1296 
	`ecma_dîef_ecma_°rög
 (
¥odu˘_°r_p
);

1297 
	`ecma_dîef_ecma_°rög
 (
quŸe_°r_p
);

1298 
¥odu˘_°r_p
 = 
tmp_°r_p
;

1301  
	`ecma_make_°rög_vÆue
 (
¥odu˘_°r_p
);

1302 
	}
}

1313 
ecma_vÆue_t


1314 
	$ecma_buûtö_js⁄_°r
 (
ecma_°rög_t
 *
key_p
,

1315 
ecma_obje˘_t
 *
hﬁdî_p
,

1316 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
)

1318 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1321 
	`ECMA_TRY_CATCH
 (
vÆue
,

1322 
	`ecma_›_obje˘_gë
 (
hﬁdî_p
, 
key_p
),

1323 
ªt_vÆue
);

1325 
ecma_vÆue_t
 
my_vÆ
 = 
	`ecma_c›y_vÆue
 (
vÆue
);

1328 i‡(
	`ecma_is_vÆue_obje˘
 (
my_vÆ
))

1330 
ecma_obje˘_t
 *
vÆue_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
my_vÆ
);

1331 
ecma_°rög_t
 *
to_js⁄_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_TO_JSON_UL
);

1334 
	`ECMA_TRY_CATCH
 (
toJSON
,

1335 
	`ecma_›_obje˘_gë
 (
vÆue_obj_p
, 
to_js⁄_°r_p
),

1336 
ªt_vÆue
);

1339 i‡(
	`ecma_›_is_ˇŒabÀ
 (
toJSON
))

1341 
ecma_vÆue_t
 
key_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
key_p
);

1342 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
key_vÆue
 };

1343 
ecma_obje˘_t
 *
toJSON_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
toJSON
);

1345 
	`ECMA_TRY_CATCH
 (
func_ªt_vÆ
,

1346 
	`ecma_›_fun˘i⁄_ˇŒ
 (
toJSON_obj_p
, 
my_vÆ
, 
ˇŒ_¨gs
, 1),

1347 
ªt_vÆue
);

1349 
	`ecma_‰ì_vÆue
 (
my_vÆ
);

1350 
my_vÆ
 = 
	`ecma_c›y_vÆue
 (
func_ªt_vÆ
);

1352 
	`ECMA_FINALIZE
 (
func_ªt_vÆ
);

1355 
	`ECMA_FINALIZE
 (
toJSON
);

1357 
	`ecma_dîef_ecma_°rög
 (
to_js⁄_°r_p
);

1361 i‡(
c⁄ãxt_p
->
ª∂a˚r_fun˘i⁄_p
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1363 
ecma_vÆue_t
 
hﬁdî_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
hﬁdî_p
);

1364 
ecma_vÆue_t
 
key_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
key_p
);

1365 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
key_vÆue
, 
my_vÆ
 };

1367 
	`ECMA_TRY_CATCH
 (
func_ªt_vÆ
,

1368 
	`ecma_›_fun˘i⁄_ˇŒ
 (
c⁄ãxt_p
->
ª∂a˚r_fun˘i⁄_p
, 
hﬁdî_vÆue
, 
ˇŒ_¨gs
, 2),

1369 
ªt_vÆue
);

1371 
	`ecma_‰ì_vÆue
 (
my_vÆ
);

1372 
my_vÆ
 = 
	`ecma_c›y_vÆue
 (
func_ªt_vÆ
);

1374 
	`ECMA_FINALIZE
 (
func_ªt_vÆ
);

1378 i‡(
	`ecma_is_vÆue_obje˘
 (
my_vÆ
Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1380 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
my_vÆ
);

1381 
lô_magic_°rög_id_t
 
˛ass_«me
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
);

1384 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_NUMBER_UL
)

1386 
	`ECMA_TRY_CATCH
 (
vÆ
,

1387 
	`ecma_›_to_numbî
 (
my_vÆ
),

1388 
ªt_vÆue
);

1390 
	`ecma_‰ì_vÆue
 (
my_vÆ
);

1391 
my_vÆ
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1393 
	`ECMA_FINALIZE
 (
vÆ
);

1396 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_STRING_UL
)

1398 
	`ECMA_TRY_CATCH
 (
vÆ
,

1399 
	`ecma_›_to_°rög
 (
my_vÆ
),

1400 
ªt_vÆue
);

1402 
	`ecma_‰ì_vÆue
 (
my_vÆ
);

1403 
my_vÆ
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1405 
	`ECMA_FINALIZE
 (
vÆ
);

1408 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_BOOLEAN_UL
)

1410 
	`ECMA_TRY_CATCH
 (
vÆ
,

1411 
	`ecma_›_to_¥imôive
 (
my_vÆ
, 
ECMA_PREFERRED_TYPE_NO
),

1412 
ªt_vÆue
);

1414 
	`ecma_‰ì_vÆue
 (
my_vÆ
);

1415 
my_vÆ
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1417 
	`ECMA_FINALIZE
 (
vÆ
);

1421 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1424 i‡(
	`ecma_is_vÆue_nuŒ
 (
my_vÆ
Ë|| 
	`ecma_is_vÆue_boﬁón
 (my_val))

1426 
ªt_vÆue
 = 
	`ecma_›_to_°rög
 (
my_vÆ
);

1427 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
));

1430 i‡(
	`ecma_is_vÆue_°rög
 (
my_vÆ
))

1432 
ecma_°rög_t
 *
vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
my_vÆ
);

1433 
ªt_vÆue
 = 
	`ecma_buûtö_js⁄_quŸe
 (
vÆue_°r_p
);

1436 i‡(
	`ecma_is_vÆue_numbî
 (
my_vÆ
))

1438 
ecma_numbî_t
 
num_vÆue_p
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
my_vÆ
);

1441 i‡(!
	`ecma_numbî_is_«n
 (
num_vÆue_p
Ë&& !
	`ecma_numbî_is_öföôy
 (num_value_p))

1443 
ªt_vÆue
 = 
	`ecma_›_to_°rög
 (
my_vÆ
);

1444 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
));

1449 
ecma_°rög_t
 *
nuŒ_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NULL
);

1450 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
nuŒ_°r_p
);

1454 i‡(
	`ecma_is_vÆue_obje˘
 (
my_vÆ
Ë&& !
	`ecma_›_is_ˇŒabÀ
 (my_val))

1456 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
my_vÆ
);

1457 
lô_magic_°rög_id_t
 
˛ass_«me
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
);

1460 i‡(
˛ass_«me
 =
LIT_MAGIC_STRING_ARRAY_UL
)

1462 
	`ECMA_TRY_CATCH
 (
vÆ
,

1463 
	`ecma_buûtö_js⁄_¨øy
 (
obj_p
, 
c⁄ãxt_p
),

1464 
ªt_vÆue
);

1466 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1468 
	`ECMA_FINALIZE
 (
vÆ
);

1473 
	`ECMA_TRY_CATCH
 (
vÆ
,

1474 
	`ecma_buûtö_js⁄_obje˘
 (
obj_p
, 
c⁄ãxt_p
),

1475 
ªt_vÆue
);

1477 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
vÆ
);

1479 
	`ECMA_FINALIZE
 (
vÆ
);

1485 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1489 
	`ecma_‰ì_vÆue
 (
my_vÆ
);

1490 
	`ECMA_FINALIZE
 (
vÆue
);

1492  
ªt_vÆue
;

1493 
	}
}

1504 
ecma_vÆue_t


1505 
	$ecma_buûtö_js⁄_obje˘
 (
ecma_obje˘_t
 *
obj_p
,

1506 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
)

1508 
ecma_vÆue_t
 
obj_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obj_p
);

1511 i‡(
	`ecma_has_obje˘_vÆue_ö_cﬁÀ˘i⁄
 (
c⁄ãxt_p
->
occuªn˚_°ack_p
, 
obj_vÆue
))

1513  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("The structure is cyclical."));

1516 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1519 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt_p
->
occuªn˚_°ack_p
, 
obj_vÆue
, 
åue
);

1522 
ecma_°rög_t
 *
°ïback_p
 = 
c⁄ãxt_p
->
ödít_°r_p
;

1525 
c⁄ãxt_p
->
ödít_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (c⁄ãxt_p->ödít_°r_p, c⁄ãxt_p->
g≠_°r_p
);

1527 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›îty_keys_p
;

1530 i‡(
c⁄ãxt_p
->
¥›îty_li°_p
->
unô_numbî
 > 0)

1532 
¥›îty_keys_p
 = 
c⁄ãxt_p
->
¥›îty_li°_p
;

1537 
¥›îty_keys_p
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
åue
);

1539 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
Ál£
, 
åue
, false);

1541 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

1542 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

1544 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1546 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1548 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obj_p
,

1549 
¥›îty_«me_p
,

1550 
NULL
,

1551 
ECMA_PROPERTY_GET_NO_OPTIONS
);

1553 
	`JERRY_ASSERT
 (
	`ecma_is_¥›îty_íumîabÀ
 (
¥›îty
));

1555 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
)

1557 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
¥›îty_keys_p
, *
ôî
.
cuºít_vÆue_p
, 
åue
);

1561 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

1565 
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
åue
);

1568 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî©‹
;

1569 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî©‹
, 
¥›îty_keys_p
);

1571 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî©‹
Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1573 
ecma_vÆue_t
 
vÆue
 = *
ôî©‹
.
cuºít_vÆue_p
;

1574 
ecma_°rög_t
 *
key_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

1577 
	`ECMA_TRY_CATCH
 (
°r_vÆ
,

1578 
	`ecma_buûtö_js⁄_°r
 (
key_p
, 
obj_p
, 
c⁄ãxt_p
),

1579 
ªt_vÆue
);

1582 i‡(!
	`ecma_is_vÆue_undeföed
 (
°r_vÆ
))

1584 
ecma_°rög_t
 *
cﬁ⁄_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_COLON_CHAR
);

1585 
ecma_°rög_t
 *
vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_vÆ
);

1586 
ecma_°rög_t
 *
tmp_°r_p
;

1589 
ecma_vÆue_t
 
°r_comp_vÆ
 = 
	`ecma_buûtö_js⁄_quŸe
 (
key_p
);

1590 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
°r_comp_vÆ
));

1592 
ecma_°rög_t
 *
membî_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_comp_vÆ
);

1595 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
membî_°r_p
, 
cﬁ⁄_p
);

1596 
	`ecma_‰ì_vÆue
 (
°r_comp_vÆ
);

1597 
	`ecma_dîef_ecma_°rög
 (
cﬁ⁄_p
);

1598 
membî_°r_p
 = 
tmp_°r_p
;

1601 i‡(!
	`ecma_°rög_is_em±y
 (
c⁄ãxt_p
->
g≠_°r_p
))

1603 
ecma_°rög_t
 *
•a˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SPACE_CHAR
);

1605 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
membî_°r_p
, 
•a˚_°r_p
);

1606 
	`ecma_dîef_ecma_°rög
 (
membî_°r_p
);

1607 
	`ecma_dîef_ecma_°rög
 (
•a˚_°r_p
);

1608 
membî_°r_p
 = 
tmp_°r_p
;

1612 
tmp_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
membî_°r_p
, 
vÆue_°r_p
);

1613 
	`ecma_dîef_ecma_°rög
 (
membî_°r_p
);

1614 
membî_°r_p
 = 
tmp_°r_p
;

1617 
ecma_vÆue_t
 
membî_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
membî_°r_p
);

1618 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
∑πül_p
, 
membî_vÆue
, 
åue
);

1619 
	`ecma_dîef_ecma_°rög
 (
membî_°r_p
);

1622 
	`ECMA_FINALIZE
 (
°r_vÆ
);

1625 i‡(
c⁄ãxt_p
->
¥›îty_li°_p
->
unô_numbî
 == 0)

1627 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›îty_keys_p
, 
åue
);

1630 i‡(!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1632 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
∑πül_p
, 
åue
);

1633 
	`ecma_dîef_ecma_°rög
 (
°ïback_p
);

1634  
ªt_vÆue
;

1638 i‡(
∑πül_p
->
unô_numbî
 == 0)

1640 
ecma_°rög_t
 *
À·_bø˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LEFT_BRACE_CHAR
);

1641 
ecma_°rög_t
 *
right_bø˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_RIGHT_BRACE_CHAR
);

1643 
ecma_°rög_t
 *
föÆ_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
À·_bø˚_°r_p
, 
right_bø˚_°r_p
);

1644 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
föÆ_°r_p
);

1646 
	`ecma_dîef_ecma_°rög
 (
À·_bø˚_°r_p
);

1647 
	`ecma_dîef_ecma_°rög
 (
right_bø˚_°r_p
);

1653 i‡(
	`ecma_°rög_is_em±y
 (
c⁄ãxt_p
->
g≠_°r_p
))

1655 
ecma_°rög_t
 *
À·_bø˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LEFT_BRACE_CHAR
);

1656 
ecma_°rög_t
 *
right_bø˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_RIGHT_BRACE_CHAR
);

1658 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_n⁄_f‹m©ãd_js⁄
 (
À·_bø˚_°r_p
,

1659 
right_bø˚_°r_p
,

1660 
∑πül_p
);

1662 
	`ecma_dîef_ecma_°rög
 (
À·_bø˚_°r_p
);

1663 
	`ecma_dîef_ecma_°rög
 (
right_bø˚_°r_p
);

1668 
ecma_°rög_t
 *
À·_bø˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LEFT_BRACE_CHAR
);

1669 
ecma_°rög_t
 *
right_bø˚_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_RIGHT_BRACE_CHAR
);

1671 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_f‹m©ãd_js⁄
 (
À·_bø˚_°r_p
,

1672 
right_bø˚_°r_p
,

1673 
°ïback_p
,

1674 
∑πül_p
,

1675 
c⁄ãxt_p
);

1677 
	`ecma_dîef_ecma_°rög
 (
À·_bø˚_°r_p
);

1678 
	`ecma_dîef_ecma_°rög
 (
right_bø˚_°r_p
);

1682 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
∑πül_p
, 
åue
);

1685 
	`ecma_ªmove_œ°_vÆue_‰om_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt_p
->
occuªn˚_°ack_p
);

1688 
	`ecma_dîef_ecma_°rög
 (
c⁄ãxt_p
->
ödít_°r_p
);

1689 
c⁄ãxt_p
->
ödít_°r_p
 = 
°ïback_p
;

1692  
ªt_vÆue
;

1693 
	}
}

1704 
ecma_vÆue_t


1705 
	$ecma_buûtö_js⁄_¨øy
 (
ecma_obje˘_t
 *
obj_p
,

1706 
ecma_js⁄_°rögify_c⁄ãxt_t
 *
c⁄ãxt_p
)

1708 
ecma_vÆue_t
 
obj_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obj_p
);

1711 i‡(
	`ecma_has_obje˘_vÆue_ö_cﬁÀ˘i⁄
 (
c⁄ãxt_p
->
occuªn˚_°ack_p
, 
obj_vÆue
))

1713  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("The structure is cyclical."));

1716 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1719 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt_p
->
occuªn˚_°ack_p
, 
obj_vÆue
, 
åue
);

1722 
ecma_°rög_t
 *
°ïback_p
 = 
c⁄ãxt_p
->
ödít_°r_p
;

1725 
c⁄ãxt_p
->
ödít_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (c⁄ãxt_p->ödít_°r_p, c⁄ãxt_p->
g≠_°r_p
);

1728 
ecma_cﬁÀ˘i⁄_hódî_t
 *
∑πül_p
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
åue
);

1730 
ecma_°rög_t
 *
Àngth_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1733 
	`ECMA_TRY_CATCH
 (
¨øy_Àngth
,

1734 
	`ecma_›_obje˘_gë
 (
obj_p
, 
Àngth_°r_p
),

1735 
ªt_vÆue
);

1737 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨øy_Àngth_num
,

1738 
¨øy_Àngth
,

1739 
ªt_vÆue
);

1742 
uöt32_t
 
ödex
 = 0;

1743 
ödex
 < 
	`ecma_numbî_to_uöt32
 (
¨øy_Àngth_num
Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

1744 
ödex
++)

1748 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

1750 
	`ECMA_TRY_CATCH
 (
°r_vÆ
,

1751 
	`ecma_buûtö_js⁄_°r
 (
ödex_°r_p
, 
obj_p
, 
c⁄ãxt_p
),

1752 
ªt_vÆue
);

1755 i‡(
	`ecma_is_vÆue_undeföed
 (
°r_vÆ
))

1757 
ecma_°rög_t
 *
nuŒ_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NULL
);

1758 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
∑πül_p
, 
	`ecma_make_°rög_vÆue
 (
nuŒ_°r_p
), 
åue
);

1759 
	`ecma_dîef_ecma_°rög
 (
nuŒ_°r_p
);

1764 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
∑πül_p
, 
°r_vÆ
, 
åue
);

1767 
	`ECMA_FINALIZE
 (
°r_vÆ
);

1768 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

1771 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1774 i‡(
∑πül_p
->
unô_numbî
 == 0)

1776 
ecma_°rög_t
 *
À·_squ¨e_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LEFT_SQUARE_CHAR
);

1777 
ecma_°rög_t
 *
right_squ¨e_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_RIGHT_SQUARE_CHAR
);

1779 
ecma_°rög_t
 *
föÆ_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
À·_squ¨e_°r_p
, 
right_squ¨e_°r_p
);

1780 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
föÆ_°r_p
);

1782 
	`ecma_dîef_ecma_°rög
 (
À·_squ¨e_°r_p
);

1783 
	`ecma_dîef_ecma_°rög
 (
right_squ¨e_°r_p
);

1789 i‡(
	`ecma_°rög_is_em±y
 (
c⁄ãxt_p
->
g≠_°r_p
))

1791 
ecma_°rög_t
 *
À·_squ¨e_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LEFT_SQUARE_CHAR
);

1792 
ecma_°rög_t
 *
right_squ¨e_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_RIGHT_SQUARE_CHAR
);

1794 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_n⁄_f‹m©ãd_js⁄
 (
À·_squ¨e_°r_p
,

1795 
right_squ¨e_°r_p
,

1796 
∑πül_p
);

1798 
	`ecma_dîef_ecma_°rög
 (
À·_squ¨e_°r_p
);

1799 
	`ecma_dîef_ecma_°rög
 (
right_squ¨e_°r_p
);

1804 
ecma_°rög_t
 *
À·_squ¨e_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LEFT_SQUARE_CHAR
);

1805 
ecma_°rög_t
 *
right_squ¨e_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_RIGHT_SQUARE_CHAR
);

1807 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_js⁄_¸óã_f‹m©ãd_js⁄
 (
À·_squ¨e_°r_p
,

1808 
right_squ¨e_°r_p
,

1809 
°ïback_p
,

1810 
∑πül_p
,

1811 
c⁄ãxt_p
);

1813 
	`ecma_dîef_ecma_°rög
 (
À·_squ¨e_°r_p
);

1814 
	`ecma_dîef_ecma_°rög
 (
right_squ¨e_°r_p
);

1819 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨øy_Àngth_num
);

1820 
	`ECMA_FINALIZE
 (
¨øy_Àngth
);

1822 
	`ecma_dîef_ecma_°rög
 (
Àngth_°r_p
);

1823 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
∑πül_p
, 
åue
);

1826 
	`ecma_ªmove_œ°_vÆue_‰om_vÆues_cﬁÀ˘i⁄
 (
c⁄ãxt_p
->
occuªn˚_°ack_p
);

1829 
	`ecma_dîef_ecma_°rög
 (
c⁄ãxt_p
->
ödít_°r_p
);

1830 
c⁄ãxt_p
->
ödít_°r_p
 = 
°ïback_p
;

1833  
ªt_vÆue
;

1834 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-json.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_JSON_BUILTIN


26 
	$ROUTINE
 (
LIT_MAGIC_STRING_PARSE
, 
ecma_buûtö_js⁄_∑r£
, 2, 2)

27 
	$ROUTINE
 (
LIT_MAGIC_STRING_STRINGIFY
, 
ecma_buûtö_js⁄_°rögify
, 3, 3)

31 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-math.c

16 
	~<m©h.h
>

18 
	~"ecma-Æloc.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-c⁄vîsi⁄.h
"

21 
	~"ecma-ex˚±i⁄s.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-globÆs.h
"

24 
	~"ecma-hñ≥rs.h
"

25 
	~"ecma-numbî-¨ôhmëic.h
"

26 
	~"ecma-obje˘s.h
"

27 
	~"ecma-obje˘s-gíîÆ.h
"

28 
	~"ecma-åy-ˇtch-ma¸o.h
"

29 
	~"jπ.h
"

30 
	~"jπ-libc-ö˛udes.h
"

32 #i‚de‡
CONFIG_DISABLE_MATH_BUILTIN


34 
	#ECMA_BUILTINS_INTERNAL


	)

35 
	~"ecma-buûtös-öã∫Æ.h
"

40 
	#BUILTIN_CUSTOM_DISPATCH


	)

47 
	mECMA_MATH_OBJECT_ROUTINE_START
 = 
ECMA_BUILTIN_ID__COUNT
 - 1,

49 
	mECMA_MATH_OBJECT_ABS
,

50 
	mECMA_MATH_OBJECT_ACOS
,

51 
	mECMA_MATH_OBJECT_ASIN
,

52 
	mECMA_MATH_OBJECT_ATAN
,

53 
	mECMA_MATH_OBJECT_CEIL
,

54 
	mECMA_MATH_OBJECT_COS
,

55 
	mECMA_MATH_OBJECT_EXP
,

56 
	mECMA_MATH_OBJECT_FLOOR
,

57 
	mECMA_MATH_OBJECT_LOG
,

58 
	mECMA_MATH_OBJECT_ROUND
,

59 
	mECMA_MATH_OBJECT_SIN
,

60 
	mECMA_MATH_OBJECT_SQRT
,

61 
	mECMA_MATH_OBJECT_TAN
,

63 
	mECMA_MATH_OBJECT_ATAN2
,

64 
	mECMA_MATH_OBJECT_POW
,

66 
	mECMA_MATH_OBJECT_MAX
,

67 
	mECMA_MATH_OBJECT_MIN
,

69 
	mECMA_MATH_OBJECT_RANDOM
,

72 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-m©h.öc.h"

	)

73 
	#BUILTIN_UNDERSCORED_ID
 
m©h


	)

74 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

96 
ecma_vÆue_t


97 
	$ecma_buûtö_m©h_obje˘_max_mö
 (
boﬁ
 
is_max
,

98 c⁄° 
ecma_vÆue_t
 *
¨g
,

99 
ecma_Àngth_t
 
¨gs_numbî
)

101 
ecma_numbî_t
 
ªsu…_num
 = 
	`ecma_numbî_make_öföôy
 (
is_max
);

103 
¨gs_numbî
 > 0)

105 
ecma_numbî_t
 
¨g_num
;

107 i‡(
	`ecma_is_vÆue_numbî
 (*
¨g
))

109 
¨g_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (*
¨g
);

113 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_to_numbî
 (*
¨g
);

115 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

117  
vÆue
;

120 
¨g_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue
);

122 
	`ecma_Á°_‰ì_vÆue
 (
vÆue
);

125 i‡(
	`u∆ikñy
 (
	`ecma_numbî_is_«n
 (
¨g_num
)))

127 
ªsu…_num
 = 
¨g_num
;

131 i‡(
	`ecma_numbî_is_zîo
 (
¨g_num
)

132 && 
	`ecma_numbî_is_zîo
 (
ªsu…_num
))

134 
boﬁ
 
is_√g©ive
 = 
	`ecma_numbî_is_√g©ive
 (
¨g_num
);

136 i‡(
is_max
 ? !
is_√g©ive
 : is_negative)

138 
ªsu…_num
 = 
¨g_num
;

143 i‡(
is_max
 ? (
¨g_num
 > 
ªsu…_num
) : (arg_num <Ñesult_num))

145 
ªsu…_num
 = 
¨g_num
;

149 
¨g
++;

150 
¨gs_numbî
--;

153  
	`ecma_make_numbî_vÆue
 (
ªsu…_num
);

154 
	}
}

165 
ecma_vÆue_t


166 
	$ecma_buûtö_m©h_obje˘_øndom
 ()

168 c⁄° 
ecma_numbî_t
 
ønd_max
 = (ecma_numbî_tË
RAND_MAX
;

169 c⁄° 
ecma_numbî_t
 
ønd_max_mö_1
 = (ecma_numbî_tË(
RAND_MAX
 - 1);

171  
	`ecma_make_numbî_vÆue
 (((
ecma_numbî_t
Ë
	`ønd
 ()Ë/ 
ønd_max
 * 
ønd_max_mö_1
 /Ñand_max);

172 
	}
}

180 
ecma_vÆue_t


181 
	$ecma_buûtö_m©h_di•©ch_routöe
 (
uöt16_t
 
buûtö_routöe_id
,

183 
ecma_vÆue_t
 
this_¨g
,

184 c⁄° 
ecma_vÆue_t
 
¨gumíts_li°
[],

186 
ecma_Àngth_t
 
¨gumíts_numbî
)

188 
	`JERRY_UNUSED
 (
this_¨g
);

190 i‡(
buûtö_routöe_id
 <
ECMA_MATH_OBJECT_POW
)

192 
ecma_numbî_t
 
x
 = 
	`ecma_numbî_make_«n
 ();

193 
ecma_numbî_t
 
y
 = 
	`ecma_numbî_make_«n
 ();

195 i‡(
¨gumíts_numbî
 >= 1)

197 i‡(
	`ecma_is_vÆue_numbî
 (
¨gumíts_li°
[0]))

199 
x
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
¨gumíts_li°
[0]);

203 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_to_numbî
 (
¨gumíts_li°
[0]);

205 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

207  
vÆue
;

210 
x
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue
);

212 
	`ecma_Á°_‰ì_vÆue
 (
vÆue
);

216 i‡(
buûtö_routöe_id
 >
ECMA_MATH_OBJECT_ATAN2
)

218 i‡(
¨gumíts_numbî
 >= 2)

220 i‡(
	`ecma_is_vÆue_numbî
 (
¨gumíts_li°
[1]))

222 
y
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
¨gumíts_li°
[1]);

226 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_to_numbî
 (
¨gumíts_li°
[1]);

228 i‡(
	`ECMA_IS_VALUE_ERROR
 (
vÆue
))

230  
vÆue
;

233 
y
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue
);

235 
	`ecma_Á°_‰ì_vÆue
 (
vÆue
);

240 
buûtö_routöe_id
)

242 
ECMA_MATH_OBJECT_ABS
:

244 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`Ábs
 (x));

247 
ECMA_MATH_OBJECT_ACOS
:

249 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`acos
 (x));

252 
ECMA_MATH_OBJECT_ASIN
:

254 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`asö
 (x));

257 
ECMA_MATH_OBJECT_ATAN
:

259 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`©™
 (x));

262 
ECMA_MATH_OBJECT_CEIL
:

264 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`˚û
 (x));

267 
ECMA_MATH_OBJECT_COS
:

269 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`cos
 (x));

272 
ECMA_MATH_OBJECT_EXP
:

274 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`exp
 (x));

277 
ECMA_MATH_OBJECT_FLOOR
:

279 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`Êo‹
 (x));

282 
ECMA_MATH_OBJECT_LOG
:

284 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`log
 (x));

287 
ECMA_MATH_OBJECT_ROUND
:

289 i‡(
	`ecma_numbî_is_«n
 (
x
)

290 || 
	`ecma_numbî_is_zîo
 (
x
)

291 || 
	`ecma_numbî_is_öföôy
 (
x
))

295 i‡(
	`ecma_numbî_is_√g©ive
 (
x
)

296 && 
x
 >-
ECMA_NUMBER_HALF
)

298 
x
 = 
	`ecma_numbî_√g©e
 (
ECMA_NUMBER_ZERO
);

302 c⁄° 
ecma_numbî_t
 
up_hÆf
 = 
x
 + 
ECMA_NUMBER_HALF
;

303 c⁄° 
ecma_numbî_t
 
down_hÆf
 = 
x
 - 
ECMA_NUMBER_HALF
;

304 c⁄° 
ecma_numbî_t
 
up_rounded
 = 
up_hÆf
 - 
	`ecma_›_numbî_ªmaödî
 (up_hÆf, 
ECMA_NUMBER_ONE
);

305 c⁄° 
ecma_numbî_t
 
down_rounded
 = 
down_hÆf
 - 
	`ecma_›_numbî_ªmaödî
 (down_hÆf, 
ECMA_NUMBER_ONE
);

307 i‡(
up_rounded
 - 
x
 <x - 
down_rounded
)

309 
x
 = 
up_rounded
;

313 
x
 = 
down_rounded
;

318 
ECMA_MATH_OBJECT_SIN
:

320 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`sö
 (x));

323 
ECMA_MATH_OBJECT_SQRT
:

325 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`sqπ
 (x));

328 
ECMA_MATH_OBJECT_TAN
:

330 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`èn
 (x));

333 
ECMA_MATH_OBJECT_ATAN2
:

335 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`©™2
 (x, 
y
));

338 
ECMA_MATH_OBJECT_POW
:

340 i‡(
	`ecma_numbî_is_«n
 (
y
) ||

341 (
	`ecma_numbî_is_öföôy
 (
y
Ë&& (
x
 == 1.0 || x == -1.0)))

344 
x
 = 
	`ecma_numbî_make_«n
 ();

348 
x
 = 
	`DOUBLE_TO_ECMA_NUMBER_T
 (
	`pow
 (x, 
y
));

354  
	`ecma_make_numbî_vÆue
 (
x
);

357 i‡(
buûtö_routöe_id
 <
ECMA_MATH_OBJECT_MIN
)

359  
	`ecma_buûtö_m©h_obje˘_max_mö
 (
buûtö_routöe_id
 =
ECMA_MATH_OBJECT_MAX
,

360 
¨gumíts_li°
,

361 
¨gumíts_numbî
);

365 
	`JERRY_ASSERT
 (
buûtö_routöe_id
 =
ECMA_MATH_OBJECT_RANDOM
);

367  
	`ecma_buûtö_m©h_obje˘_øndom
 ();

368 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-math.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_MATH_BUILTIN


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_E_U
,

29 
ECMA_BUILTIN_NUMBER_E
,

30 
ECMA_PROPERTY_FIXED
)

33 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LN10_U
,

34 
ECMA_BUILTIN_NUMBER_LN10
,

35 
ECMA_PROPERTY_FIXED
)

38 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LN2_U
,

39 
ECMA_BUILTIN_NUMBER_LN2
,

40 
ECMA_PROPERTY_FIXED
)

43 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LOG2E_U
,

44 
ECMA_BUILTIN_NUMBER_LOG2E
,

45 
ECMA_PROPERTY_FIXED
)

48 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LOG10E_U
,

49 
ECMA_BUILTIN_NUMBER_LOG10E
,

50 
ECMA_PROPERTY_FIXED
)

53 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_PI_U
,

54 
ECMA_BUILTIN_NUMBER_PI
,

55 
ECMA_PROPERTY_FIXED
)

58 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_SQRT1_2_U
,

59 
ECMA_BUILTIN_NUMBER_SQRT_1_2
,

60 
ECMA_PROPERTY_FIXED
)

63 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_SQRT2_U
,

64 
ECMA_BUILTIN_NUMBER_SQRT2
,

65 
ECMA_PROPERTY_FIXED
)

69 
	$ROUTINE
 (
LIT_MAGIC_STRING_ABS
, 
ECMA_MATH_OBJECT_ABS
, 1, 1)

70 
	$ROUTINE
 (
LIT_MAGIC_STRING_ACOS
, 
ECMA_MATH_OBJECT_ACOS
, 1, 1)

71 
	$ROUTINE
 (
LIT_MAGIC_STRING_ASIN
, 
ECMA_MATH_OBJECT_ASIN
, 1, 1)

72 
	$ROUTINE
 (
LIT_MAGIC_STRING_ATAN
, 
ECMA_MATH_OBJECT_ATAN
, 1, 1)

73 
	$ROUTINE
 (
LIT_MAGIC_STRING_ATAN2
, 
ECMA_MATH_OBJECT_ATAN2
, 2, 2)

74 
	$ROUTINE
 (
LIT_MAGIC_STRING_CEIL
, 
ECMA_MATH_OBJECT_CEIL
, 1, 1)

75 
	$ROUTINE
 (
LIT_MAGIC_STRING_COS
, 
ECMA_MATH_OBJECT_COS
, 1, 1)

76 
	$ROUTINE
 (
LIT_MAGIC_STRING_EXP
, 
ECMA_MATH_OBJECT_EXP
, 1, 1)

77 
	$ROUTINE
 (
LIT_MAGIC_STRING_FLOOR
, 
ECMA_MATH_OBJECT_FLOOR
, 1, 1)

78 
	$ROUTINE
 (
LIT_MAGIC_STRING_LOG
, 
ECMA_MATH_OBJECT_LOG
, 1, 1)

79 
	$ROUTINE
 (
LIT_MAGIC_STRING_MAX
, 
ECMA_MATH_OBJECT_MAX
, 
NON_FIXED
, 2)

80 
	$ROUTINE
 (
LIT_MAGIC_STRING_MIN
, 
ECMA_MATH_OBJECT_MIN
, 
NON_FIXED
, 2)

81 
	$ROUTINE
 (
LIT_MAGIC_STRING_POW
, 
ECMA_MATH_OBJECT_POW
, 2, 2)

82 
	$ROUTINE
 (
LIT_MAGIC_STRING_RANDOM
, 
ECMA_MATH_OBJECT_RANDOM
, 0, 0)

83 
	$ROUTINE
 (
LIT_MAGIC_STRING_ROUND
, 
ECMA_MATH_OBJECT_ROUND
, 1, 1)

84 
	$ROUTINE
 (
LIT_MAGIC_STRING_SIN
, 
ECMA_MATH_OBJECT_SIN
, 1, 1)

85 
	$ROUTINE
 (
LIT_MAGIC_STRING_SQRT
, 
ECMA_MATH_OBJECT_SQRT
, 1, 1)

86 
	$ROUTINE
 (
LIT_MAGIC_STRING_TAN
, 
ECMA_MATH_OBJECT_TAN
, 1, 1)

90 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number-prototype.c

16 
	~<m©h.h
>

18 
	~"ecma-Æloc.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-c⁄vîsi⁄.h
"

21 
	~"ecma-ex˚±i⁄s.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-globÆs.h
"

24 
	~"ecma-hñ≥rs.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-°rög-obje˘.h
"

27 
	~"ecma-åy-ˇtch-ma¸o.h
"

28 
	~"jπ.h
"

29 
	~"jπ-libc-ö˛udes.h
"

31 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


33 
	#ECMA_BUILTINS_INTERNAL


	)

34 
	~"ecma-buûtös-öã∫Æ.h
"

36 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-numbî-¥ŸŸy≥.öc.h"

	)

37 
	#BUILTIN_UNDERSCORED_ID
 
numbî_¥ŸŸy≥


	)

38 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

55 
lô_utf8_size_t


56 
	$ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_to_°rög
 (
lô_utf8_byã_t
 *
digôs_p
,

57 
lô_utf8_size_t
 
num_digôs
,

58 
öt32_t
 
exp⁄ít
,

59 
lô_utf8_byã_t
 *
to_digôs_p
,

60 
lô_utf8_size_t
 
to_num_digôs
)

62 
lô_utf8_byã_t
 *
p
 = 
to_digôs_p
;

64 i‡(
exp⁄ít
 <= 0)

67 *
p
++ = '0';

68 
to_num_digôs
--;

70 i‡(
to_num_digôs
 > 0)

72 *
p
++ = '.';

75 
i
 = 0; i < -
exp⁄ít
 && 
to_num_digôs
 > 0; i++)

77 *
p
++ = '0';

78 
to_num_digôs
--;

85 
lô_utf8_size_t
 
to_c›y
 = 
	`JERRY_MIN
 (
num_digôs
, 
to_num_digôs
);

86 
to_c›y
 = 
	`JERRY_MIN
 (to_c›y, (
lô_utf8_size_t
Ë
exp⁄ít
);

87 
	`memmove
 (
p
, 
digôs_p
, (
size_t
Ë
to_c›y
);

88 
p
 +
to_c›y
;

89 
to_num_digôs
 -
to_c›y
;

90 
digôs_p
 +
to_c›y
;

91 
num_digôs
 -
to_c›y
;

92 
exp⁄ít
 -(
öt32_t
Ë
to_c›y
;

95 
exp⁄ít
 > 0 && 
to_num_digôs
 > 0)

97 
	`JERRY_ASSERT
 (
num_digôs
 == 0);

98 *
p
++ = '0';

99 
to_num_digôs
--;

100 
exp⁄ít
--;

103 i‡(
to_num_digôs
 > 0)

105 *
p
++ = '.';

109 i‡(
to_num_digôs
 > 0)

112 
lô_utf8_size_t
 
to_c›y
 = 
	`JERRY_MIN
 (
num_digôs
, 
to_num_digôs
);

113 
	`memmove
 (
p
, 
digôs_p
, (
size_t
Ë
to_c›y
);

114 
p
 +
to_c›y
;

115 
to_num_digôs
 -
to_c›y
;

118 
to_num_digôs
 > 0)

120 *
p
++ = '0';

121 
to_num_digôs
--;

125  (
lô_utf8_size_t
Ë(
p
 - 
to_digôs_p
);

126 
	}
}

128 
ölöe
 
lô_utf8_size_t
 
__©å_Æways_ölöe___


129 
	$ecma_buûtö_bö¨y_Êﬂtög_numbî_to_°rög
 (
lô_utf8_byã_t
 *
digôs_p
,

131 
lô_utf8_size_t
 
num_digôs
,

132 
öt32_t
 
exp⁄ít
,

133 
lô_utf8_byã_t
 *
to_digôs_p
,

134 
lô_utf8_size_t
 
to_num_digôs
)

136 
lô_utf8_byã_t
 *
p
 = 
to_digôs_p
;

138 
exp⁄ít
 > 0)

140 *
p
++ = *
digôs_p
++;

141 
exp⁄ít
--;

142 
to_num_digôs
--;

145 i‡(
to_num_digôs
 > 0)

147 *
p
++ = '.';

150 i‡(
to_num_digôs
 > 0)

153 
to_num_digôs
 > 0)

155 *
p
++ = 
num_digôs
 =1 ? '0' : *
digôs_p
++;

156 
to_num_digôs
--;

160  (
lô_utf8_size_t
Ë(
p
 - 
to_digôs_p
);

161 
	}
}

168 
ölöe
 
lô_utf8_size_t
 
__©å_Æways_ölöe___


169 
	$ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_round
 (
lô_utf8_byã_t
 *
digôs_p
,

171 
lô_utf8_size_t
 
num_digôs
,

172 
öt32_t
 
round_num
,

173 
öt32_t
 *
exp⁄ít_p
,

174 
boﬁ
 
zîo
)

176 i‡(
round_num
 < 1)

181 i‡((
lô_utf8_size_t
Ë
round_num
 >
num_digôs
 || 
zîo
)

183  
num_digôs
;

186 i‡(
digôs_p
[
round_num
] >= '5')

188 
digôs_p
[
round_num
] = '0';

190 
i
 = 1;

193 ; 
i
 <
round_num
; i++)

195 i‡(++
digôs_p
[
round_num
 - 
i
] <= '9')

199 
digôs_p
[
round_num
 - 
i
] = '0';

203 i‡(
i
 > 
round_num
)

205 
	`memmove
 (
digôs_p
 + 1, digôs_p, 
num_digôs
);

206 
digôs_p
[0] = '1';

207 *
exp⁄ít_p
 += 1;

211  (
lô_utf8_size_t
Ë
round_num
;

212 
	}
}

223 
ecma_vÆue_t


224 
	$ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
,

225 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

226 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

228 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

230 
	`ECMA_TRY_CATCH
 (
this_vÆue
, 
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_vÆue_of
 (
this_¨g
), 
ªt_vÆue
);

231 
ecma_numbî_t
 
this_¨g_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
this_vÆue
);

233 i‡(
¨gumíts_li°_Àn
 == 0

234 || 
	`ecma_numbî_is_«n
 (
this_¨g_numbî
)

235 || 
	`ecma_numbî_is_öföôy
 (
this_¨g_numbî
)

236 || 
	`ecma_numbî_is_zîo
 (
this_¨g_numbî
)

237 || (
¨gumíts_li°_Àn
 > 0 && 
	`ecma_is_vÆue_undeföed
 (
¨gumíts_li°_p
[0])))

239 
ecma_°rög_t
 *
ªt_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
this_¨g_numbî
);

241 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªt_°r_p
);

245 c⁄° 
lô_utf8_byã_t
 
digô_ch¨s
[36] =

253 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨gumíts_li°_p
[0], 
ªt_vÆue
);

255 
uöt32_t
 
ødix
 = 
	`ecma_numbî_to_uöt32
 (
¨g_num
);

257 i‡(
ødix
 < 2 ||Ñadix > 36)

259 
ªt_vÆue
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Radix must be between 2ánd 36."));

261 i‡(
ødix
 == 10)

263 
ecma_°rög_t
 *
ªt_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
this_¨g_numbî
);

265 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªt_°r_p
);

269 
buff_size
 = 0;

271 
boﬁ
 
is_numbî_√g©ive
 = 
Ál£
;

272 i‡(
	`ecma_numbî_is_√g©ive
 (
this_¨g_numbî
))

275 
this_¨g_numbî
 = -this_arg_number;

276 
is_numbî_√g©ive
 = 
åue
;

279 
buff_size
 += 1;

283 
lô_utf8_byã_t
 
digôs
[
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
];

284 
öt32_t
 
exp⁄ít
;

285 
lô_utf8_size_t
 
digô_cou¡
 = 
	`ecma_numbî_to_decimÆ
 (
this_¨g_numbî
, 
digôs
, &
exp⁄ít
);

294 
exp⁄ít
 =Éxp⁄íà- (
öt32_t
Ë
digô_cou¡
;

297 
magnôude
;

298 
ªquúed_digôs
;

299 i‡(
exp⁄ít
 >= 0)

306 
magnôude
 = 0;

307 
cou¡î
 = 
this_¨g_numbî
;

308 
cou¡î
 >
ødix
)

310 
cou¡î
 /
ødix
;

311 
magnôude
++;

318 
ªquúed_digôs
 = 
magnôude
 + 1;

328 
magnôude
 = (Ë
	`Êo‹
 ((
	`log
 (10Ë/Üog (
ødix
)Ë* -
exp⁄ít
);

335 
ªquúed_digôs
 = 
magnôude
 + 
ECMA_NUMBER_FRACTION_WIDTH
 + 1;

342 
buff_size
 += 2;

350 i‡(
exp⁄ít
 > 0)

352 
i
 = 0; i < 
magnôude
; i++)

354 
this_¨g_numbî
 /(
ecma_numbî_t
Ë
ødix
;

357 i‡(
exp⁄ít
 < 0)

359 
i
 = 0; i < 
magnôude
; i++)

361 
this_¨g_numbî
 *(
ecma_numbî_t
Ë
ødix
;

366 
uöt64_t
 
whﬁe
 = (uöt64_tË
this_¨g_numbî
;

367 
ecma_numbî_t
 
‰a˘i⁄
 = 
this_¨g_numbî
 - (ecma_numbî_tË
whﬁe
;

369 
boﬁ
 
should_round
 = 
Ál£
;

370 i‡(!
	`ecma_numbî_is_zîo
 (
‰a˘i⁄
Ë&& 
exp⁄ít
 >= 0)

377 
ªquúed_digôs
 += 1;

378 
should_round
 = 
åue
;

382 
buff_size
 +
ªquúed_digôs
;

383 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
buff
, 
buff_size
, 
lô_utf8_byã_t
);

384 
buff_ödex
 = 0;

387 
whﬁe
 > 0)

389 
	`JERRY_ASSERT
 (
buff_ödex
 < 
buff_size
 && buff_ödex < 
ªquúed_digôs
);

390 
buff
[
buff_ödex
++] = (
lô_utf8_byã_t
Ë(
whﬁe
 % 
ødix
);

391 
whﬁe
 /
ødix
;

395 
i
 = 0; i < 
buff_ödex
 / 2; i++)

397 
lô_utf8_byã_t
 
sw≠
 = 
buff
[
i
];

398 
buff
[
i
] = buff[
buff_ödex
 - i - 1];

399 
buff
[
buff_ödex
 - 
i
 - 1] = 
sw≠
;

406 
poöt
 = 
exp⁄ít
 >0 ? 
magnôude
 + 1: 
buff_ödex
 - magnitude;

408 i‡(
poöt
 < 0)

414 
	`JERRY_ASSERT
 (
exp⁄ít
 < 0);

415 
ªquúed_digôs
 +
poöt
;

418 
	`JERRY_ASSERT
 (
ªquúed_digôs
 <
buff_size
);

421 
buff_ödex
 < 
ªquúed_digôs
)

423 
‰a˘i⁄
 *(
ecma_numbî_t
Ë
ødix
;

424 
lô_utf8_byã_t
 
digô
 = (lô_utf8_byã_tË
	`Êo‹
 (
‰a˘i⁄
);

426 
buff
[
buff_ödex
++] = 
digô
;

427 
‰a˘i⁄
 -(
ecma_numbî_t
Ë
	`Êo‹
 (fraction);

430 i‡(
should_round
)

433 
buff_ödex
--;

434 i‡(
buff
[
buff_ödex
] > 
ødix
 / 2)

437 
buff
[
buff_ödex
 - 1]++;

440 
i
 = 
buff_ödex
 - 1; i > 0 && 
buff
[i] >
ødix
; i--)

442 
buff
[
i
] = (
lô_utf8_byã_t
Ë(buff[i] - 
ødix
);

443 
buff
[
i
 - 1]++;

446 i‡(
buff
[0] >
ødix
)

453 
	`memmove
 (
buff
 + 1, buff, (
size_t
Ë
buff_ödex
);

454 
buff_ödex
++;

455 
buff
[0] = 1;

461 
buff_ödex
 - 1 > 
poöt
 && 
buff
[buff_index - 1] == 0)

463 
buff_ödex
--;

467 i‡(
poöt
 <= 0)

470 
zîo_cou¡
 = -
poöt
 + 1;

471 
	`memmove
 (
buff
 + 
zîo_cou¡
, buff, (
size_t
Ë
buff_ödex
);

472 
buff_ödex
 +
zîo_cou¡
;

474 
i
 = 0; i < 
zîo_cou¡
; i++)

476 
buff
[
i
] = 0;

480 
poöt
 = 1;

484 
i
 = 0; i < 
buff_ödex
; i++)

486 
buff
[
i
] = 
digô_ch¨s
[buff[i]];

490 i‡(
poöt
 < 
buff_ödex
)

492 
	`memmove
 (
buff
 + 
poöt
 + 1, buf‡+Öoöt, (
size_t
Ë(
buff_ödex
 -Öoint));

493 
buff
[
poöt
] = '.';

494 
buff_ödex
++;

498 i‡(
is_numbî_√g©ive
)

500 
	`memmove
 (
buff
 + 1, buff, (
size_t
Ë
buff_ödex
);

501 
buff
[0] = '-';

502 
buff_ödex
++;

505 
	`JERRY_ASSERT
 (
buff_ödex
 <
buff_size
);

506 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
buff
, (
lô_utf8_size_t
Ë
buff_ödex
);

507 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
°r_p
);

508 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
buff
);

510 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

512 
	`ECMA_FINALIZE
 (
this_vÆue
);

513  
ªt_vÆue
;

514 
	}
}

525 
ecma_vÆue_t


526 
	$ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_loˇÀ_°rög
 (
ecma_vÆue_t
 
this_¨g
)

528  
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_°rög
 (
this_¨g
, 
NULL
, 0);

529 
	}
}

540 
ecma_vÆue_t


541 
	$ecma_buûtö_numbî_¥ŸŸy≥_obje˘_vÆue_of
 (
ecma_vÆue_t
 
this_¨g
)

543 i‡(
	`ecma_is_vÆue_numbî
 (
this_¨g
))

545  
	`ecma_c›y_vÆue
 (
this_¨g
);

547 i‡(
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

549 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

551 i‡(
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_NUMBER_UL
))

553 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

555 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
));

557  
	`ecma_c›y_vÆue
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

561  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá Number orá Number object."));

562 
	}
}

573 
ecma_vÆue_t


574 
	$ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_fixed
 (
ecma_vÆue_t
 
this_¨g
,

575 
ecma_vÆue_t
 
¨g
)

577 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

579 
	`ECMA_TRY_CATCH
 (
this_vÆue
, 
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_vÆue_of
 (
this_¨g
), 
ªt_vÆue
);

580 
ecma_numbî_t
 
this_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
this_vÆue
);

582 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨g
, 
ªt_vÆue
);

585 i‡(
¨g_num
 <= -1 ||árg_num >= 21)

587 
ªt_vÆue
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Fraction digits must be between 0ánd 20."));

592 i‡(
	`ecma_numbî_is_«n
 (
this_num
))

594 
ecma_°rög_t
 *
«n_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NAN
);

595 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
«n_°r_p
);

600 
boﬁ
 
is_√g©ive
 = 
Ál£
;

601 i‡(
	`ecma_numbî_is_√g©ive
 (
this_num
))

603 
is_√g©ive
 = 
	`ecma_numbî_is_zîo
 (
this_num
Ë? 
Ál£
 : 
åue
;

604 
this_num
 *= -1;

608 i‡(
	`ecma_numbî_is_öföôy
 (
this_num
))

610 
ecma_°rög_t
 *
öföôy_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INFINITY_UL
);

612 i‡(
is_√g©ive
)

614 
ecma_°rög_t
 *
√g_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((c⁄° 
lô_utf8_byã_t
 *) "-", 1);

615 
ecma_°rög_t
 *
√g_öf_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
√g_°r_p
, 
öföôy_°r_p
);

616 
	`ecma_dîef_ecma_°rög
 (
öföôy_°r_p
);

617 
	`ecma_dîef_ecma_°rög
 (
√g_°r_p
);

618 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
√g_öf_°r_p
);

622 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
öföôy_°r_p
);

628 
lô_utf8_byã_t
 
digôs
[
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
];

629 
lô_utf8_size_t
 
num_digôs
;

630 
öt32_t
 
exp⁄ít
;

631 
öt32_t
 
‰ac_digôs
 = 
	`ecma_numbî_to_öt32
 (
¨g_num
);

633 i‡(!
	`ecma_numbî_is_zîo
 (
this_num
))

635 
num_digôs
 = 
	`ecma_numbî_to_bö¨y_Êﬂtög_poöt_numbî
 (
this_num
, 
digôs
, &
exp⁄ít
);

639 
öt32_t
 
i
 = 0; i <
‰ac_digôs
; i++)

641 
digôs
[
i
] = '0';

643 
num_digôs
 = (
lô_utf8_size_t
Ë
‰ac_digôs
 + 1;

644 
exp⁄ít
 = 1;

648 i‡(
exp⁄ít
 > 21)

650 
ªt_vÆue
 = 
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_°rög
 (
this_¨g
, 
NULL
, 0);

656 
num_digôs
 = 
	`ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_round
 (
digôs
,

657 
num_digôs
 + 1,

658 
exp⁄ít
 + 
‰ac_digôs
,

659 &
exp⁄ít
,

660 
	`ecma_numbî_is_zîo
 (
this_num
Ë? 
åue
 : 
Ál£
);

663 
buf„r_size
 = (
exp⁄ít
 > 0Ë?Éxp⁄íà+ 
‰ac_digôs
 + 2 : frac_digits + 3;

665 i‡(
is_√g©ive
)

667 
buf„r_size
++;

670 
	`JERRY_ASSERT
 (
buf„r_size
 > 0);

671 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
buff
, 
buf„r_size
, 
lô_utf8_byã_t
);

673 
lô_utf8_byã_t
 *
p
 = 
buff
;

675 i‡(
is_√g©ive
)

677 *
p
++ = '-';

680 
lô_utf8_size_t
 
to_num_digôs
 = ((
exp⁄ít
 > 0Ë? (lô_utf8_size_tË”xp⁄íà+ 
‰ac_digôs
)

681 : (
lô_utf8_size_t
Ë(
‰ac_digôs
 + 1));

682 
p
 +
	`ecma_buûtö_bö¨y_Êﬂtög_numbî_to_°rög
 (
digôs
,

683 
num_digôs
,

684 
exp⁄ít
,

685 
p
,

686 
to_num_digôs
);

688 
	`JERRY_ASSERT
 (
p
 - 
buff
 < 
buf„r_size
);

690 *
p
 = 0;

691 
ecma_°rög_t
 *
°r
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
buff
, (
lô_utf8_size_t
Ë(
p
 - buff));

693 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
°r
);

694 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
buff
);

700 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

701 
	`ECMA_FINALIZE
 (
this_vÆue
);

702  
ªt_vÆue
;

703 
	}
}

714 
ecma_vÆue_t


715 
	$ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_exp⁄ítül
 (
ecma_vÆue_t
 
this_¨g
,

716 
ecma_vÆue_t
 
¨g
)

718 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

721 
	`ECMA_TRY_CATCH
 (
this_vÆue
, 
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_vÆue_of
 (
this_¨g
), 
ªt_vÆue
);

722 
ecma_numbî_t
 
this_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
this_vÆue
);

724 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨g
, 
ªt_vÆue
);

727 i‡(
¨g_num
 <= -1.0 ||árg_num >= 21.0)

729 
ªt_vÆue
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Fraction digits must be between 0ánd 20."));

734 i‡(
	`ecma_numbî_is_«n
 (
this_num
))

736 
ecma_°rög_t
 *
«n_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NAN
);

737 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
«n_°r_p
);

742 
boﬁ
 
is_√g©ive
 = 
Ál£
;

743 i‡(
	`ecma_numbî_is_√g©ive
 (
this_num
Ë&& !
	`ecma_numbî_is_zîo
 (this_num))

745 
is_√g©ive
 = 
åue
;

746 
this_num
 *= -1;

750 i‡(
	`ecma_numbî_is_öföôy
 (
this_num
))

752 
ecma_°rög_t
 *
öföôy_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INFINITY_UL
);

754 i‡(
is_√g©ive
)

756 
ecma_°rög_t
 *
√g_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MINUS_CHAR
);

757 
ecma_°rög_t
 *
√g_öf_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
√g_°r_p
, 
öföôy_°r_p
);

758 
	`ecma_dîef_ecma_°rög
 (
öföôy_°r_p
);

759 
	`ecma_dîef_ecma_°rög
 (
√g_°r_p
);

760 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
√g_öf_°r_p
);

764 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
öföôy_°r_p
);

770 
lô_utf8_byã_t
 
digôs
[
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
];

771 
lô_utf8_size_t
 
num_digôs
;

772 
öt32_t
 
exp⁄ít
;

774 i‡(!
	`ecma_numbî_is_zîo
 (
this_num
))

776 
num_digôs
 = 
	`ecma_numbî_to_decimÆ
 (
this_num
, 
digôs
, &
exp⁄ít
);

780 
digôs
[0] = '0';

781 
num_digôs
 = 1;

782 
exp⁄ít
 = 1;

785 
öt32_t
 
‰ac_digôs
;

786 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g
))

788 
‰ac_digôs
 = (
öt32_t
Ë
num_digôs
 - 1;

792 
‰ac_digôs
 = 
	`ecma_numbî_to_öt32
 (
¨g_num
);

795 
num_digôs
 = 
	`ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_round
 (
digôs
,Çum_digôs, 
‰ac_digôs
 + 1, &
exp⁄ít
, 
Ál£
);

798 
buf„r_size
 = 
‰ac_digôs
 + 2 + 5 + 1;

800 i‡(
is_√g©ive
)

803 
buf„r_size
++;

806 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
buff
, 
buf„r_size
, 
lô_utf8_byã_t
);

808 
lô_utf8_byã_t
 *
a˘uÆ_ch¨_p
 = 
buff
;

810 i‡(
is_√g©ive
)

812 *
a˘uÆ_ch¨_p
++ = '-';

815 
a˘uÆ_ch¨_p
 +
	`ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_to_°rög
 (
digôs
,

816 
num_digôs
,

818 
a˘uÆ_ch¨_p
,

819 (
lô_utf8_size_t
Ë(
‰ac_digôs
 + 1));

821 *
a˘uÆ_ch¨_p
++ = 'e';

823 
exp⁄ít
--;

824 i‡(
exp⁄ít
 < 0)

826 
exp⁄ít
 *= -1;

827 *
a˘uÆ_ch¨_p
++ = '-';

831 *
a˘uÆ_ch¨_p
++ = '+';

835 
a˘uÆ_ch¨_p
 +
	`ecma_uöt32_to_utf8_°rög
 ((
uöt32_t
Ë
exp⁄ít
,áctual_char_p, 3);

837 
	`JERRY_ASSERT
 (
a˘uÆ_ch¨_p
 - 
buff
 < 
buf„r_size
);

838 *
a˘uÆ_ch¨_p
 = '\0';

839 
ecma_°rög_t
 *
°r
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
buff
, (
lô_utf8_size_t
Ë(
a˘uÆ_ch¨_p
 - buff));

840 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
°r
);

841 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
buff
);

846 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

847 
	`ECMA_FINALIZE
 (
this_vÆue
);

848  
ªt_vÆue
;

849 
	}
}

860 
ecma_vÆue_t


861 
	$ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_¥ecisi⁄
 (
ecma_vÆue_t
 
this_¨g
,

862 
ecma_vÆue_t
 
¨g
)

864 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

867 
	`ECMA_TRY_CATCH
 (
this_vÆue
, 
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_vÆue_of
 (
this_¨g
), 
ªt_vÆue
);

868 
ecma_numbî_t
 
this_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
this_vÆue
);

871 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g
))

873 
ªt_vÆue
 = 
	`ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_°rög
 (
this_¨g
, 
NULL
, 0);

878 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨g
, 
ªt_vÆue
);

881 i‡(
	`ecma_numbî_is_«n
 (
this_num
))

883 
ecma_°rög_t
 *
«n_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NAN
);

884 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
«n_°r_p
);

889 
boﬁ
 
is_√g©ive
 = 
Ál£
;

890 i‡(
	`ecma_numbî_is_√g©ive
 (
this_num
Ë&& !
	`ecma_numbî_is_zîo
 (this_num))

892 
is_√g©ive
 = 
åue
;

893 
this_num
 *= -1;

897 i‡(
	`ecma_numbî_is_öföôy
 (
this_num
))

899 
ecma_°rög_t
 *
öföôy_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INFINITY_UL
);

901 i‡(
is_√g©ive
)

903 
ecma_°rög_t
 *
√g_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MINUS_CHAR
);

904 
ecma_°rög_t
 *
√g_öf_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
√g_°r_p
, 
öföôy_°r_p
);

905 
	`ecma_dîef_ecma_°rög
 (
öföôy_°r_p
);

906 
	`ecma_dîef_ecma_°rög
 (
√g_°r_p
);

907 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
√g_öf_°r_p
);

911 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
öföôy_°r_p
);

915 i‡(
¨g_num
 < 1.0 ||árg_num >= 22.0)

917 
ªt_vÆue
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Precision must be between 1ánd 21."));

922 
lô_utf8_byã_t
 
digôs
[
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
];

923 
lô_utf8_size_t
 
num_digôs
;

924 
öt32_t
 
exp⁄ít
;

926 i‡(!
	`ecma_numbî_is_zîo
 (
this_num
))

928 
num_digôs
 = 
	`ecma_numbî_to_decimÆ
 (
this_num
, 
digôs
, &
exp⁄ít
);

932 
digôs
[0] = '0';

933 
num_digôs
 = 1;

934 
exp⁄ít
 = 1;

937 
öt32_t
 
¥ecisi⁄
 = 
	`ecma_numbî_to_öt32
 (
¨g_num
);

939 
num_digôs
 = 
	`ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_round
 (
digôs
,Çum_digôs, 
¥ecisi⁄
, &
exp⁄ít
, 
Ál£
);

941 
buf„r_size
;

942 i‡(
exp⁄ít
 < -5 ||Éxp⁄íà> 
¥ecisi⁄
)

945 
buf„r_size
 = 
¥ecisi⁄
 + 1 + 5 + 1;

947 i‡(
exp⁄ít
 <= 0)

950 
buf„r_size
 = -
exp⁄ít
 + 2 + 
¥ecisi⁄
 + 1;

955 
buf„r_size
 = 
¥ecisi⁄
 + 1 + 1;

958 i‡(
is_√g©ive
)

960 
buf„r_size
++;

963 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
buff
, 
buf„r_size
, 
lô_utf8_byã_t
);

964 
lô_utf8_byã_t
 *
a˘uÆ_ch¨_p
 = 
buff
;

966 i‡(
is_√g©ive
)

968 *
a˘uÆ_ch¨_p
++ = '-';

972 i‡(
exp⁄ít
 < -5 ||Éxp⁄íà> 
¥ecisi⁄
)

974 
a˘uÆ_ch¨_p
 +
	`ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_to_°rög
 (
digôs
,

975 
num_digôs
,

977 
a˘uÆ_ch¨_p
,

978 (
lô_utf8_size_t
Ë
¥ecisi⁄
);

980 *
a˘uÆ_ch¨_p
++ = 'e';

982 
exp⁄ít
--;

983 i‡(
exp⁄ít
 < 0)

985 
exp⁄ít
 *= -1;

986 *
a˘uÆ_ch¨_p
++ = '-';

990 *
a˘uÆ_ch¨_p
++ = '+';

994 
a˘uÆ_ch¨_p
 +
	`ecma_uöt32_to_utf8_°rög
 ((
uöt32_t
Ë
exp⁄ít
,áctual_char_p, 3);

999 
lô_utf8_size_t
 
to_num_digôs
 = ((
exp⁄ít
 <0Ë? (lô_utf8_size_tË(1 -Éxp⁄íà+ 
¥ecisi⁄
)

1000 : (
lô_utf8_size_t
Ë
¥ecisi⁄
);

1001 
a˘uÆ_ch¨_p
 +
	`ecma_buûtö_numbî_¥ŸŸy≥_hñ≥r_to_°rög
 (
digôs
,

1002 
num_digôs
,

1003 
exp⁄ít
,

1004 
a˘uÆ_ch¨_p
,

1005 
to_num_digôs
);

1009 
	`JERRY_ASSERT
 (
a˘uÆ_ch¨_p
 - 
buff
 < 
buf„r_size
);

1010 *
a˘uÆ_ch¨_p
 = '\0';

1011 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
buff
, (
lô_utf8_size_t
Ë(
a˘uÆ_ch¨_p
 - buff));

1013 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
°r_p
);

1014 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
buff
);

1017 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

1019 
	`ECMA_FINALIZE
 (
this_vÆue
);

1021  
ªt_vÆue
;

1022 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_NUMBER
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

34 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_°rög
, 
NON_FIXED
, 1)

35 
	$ROUTINE
 (
LIT_MAGIC_STRING_VALUE_OF_UL
, 
ecma_buûtö_numbî_¥ŸŸy≥_obje˘_vÆue_of
, 0, 0)

36 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_STRING_UL
, 
ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_loˇÀ_°rög
, 0, 0)

37 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_FIXED_UL
, 
ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_fixed
, 1, 1)

38 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_EXPONENTIAL_UL
, 
ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_exp⁄ítül
, 1, 1)

39 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_PRECISION_UL
, 
ecma_buûtö_numbî_¥ŸŸy≥_obje˘_to_¥ecisi⁄
, 1, 1)

43 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-numbî-obje˘.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-numbî.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
numbî


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_numbî_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

58 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

60 i‡(
¨gumíts_li°_Àn
 == 0)

62 
ªt_vÆue
 = 
	`ecma_make_öãgî_vÆue
 (0);

66 
ªt_vÆue
 = 
	`ecma_›_to_numbî
 (
¨gumíts_li°_p
[0]);

69  
ªt_vÆue
;

70 
	}
}

77 
ecma_vÆue_t


78 
	$ecma_buûtö_numbî_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

79 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

81 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

83 i‡(
¨gumíts_li°_Àn
 == 0)

85 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_¸óã_numbî_obje˘
 (
	`ecma_make_öãgî_vÆue
 (0));

86  
com∂ëi⁄
;

90  
	`ecma_›_¸óã_numbî_obje˘
 (
¨gumíts_li°_p
[0]);

92 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

33 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_NAN
,

34 
ECMA_BUILTIN_NUMBER_NAN
,

35 
ECMA_PROPERTY_FIXED
)

38 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_MAX_VALUE_U
,

39 
ECMA_BUILTIN_NUMBER_MAX
,

40 
ECMA_PROPERTY_FIXED
)

43 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_MIN_VALUE_U
,

44 
ECMA_BUILTIN_NUMBER_MIN
,

45 
ECMA_PROPERTY_FIXED
)

48 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_POSITIVE_INFINITY_U
,

49 
ECMA_BUILTIN_NUMBER_POSITIVE_INFINITY
,

50 
ECMA_PROPERTY_FIXED
)

53 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_NEGATIVE_INFINITY_U
,

54 
ECMA_BUILTIN_NUMBER_NEGATIVE_INFINITY
,

55 
ECMA_PROPERTY_FIXED
)

61 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

62 
ECMA_BUILTIN_ID_NUMBER_PROTOTYPE
,

63 
ECMA_PROPERTY_FIXED
)

67 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtö-hñ≥rs.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-fun˘i⁄-obje˘.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-globÆs.h
"

24 
	~"ecma-hñ≥rs.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-°rög-obje˘.h
"

27 
	~"ecma-åy-ˇtch-ma¸o.h
"

28 
	~"jπ.h
"

30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-obje˘-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
obje˘_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

56 
ecma_vÆue_t


57 
	$ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

59  
	`ecma_buûtö_hñ≥r_obje˘_to_°rög
 (
this_¨g
);

60 
	}
}

71 
ecma_vÆue_t


72 
	$ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_vÆue_of
 (
ecma_vÆue_t
 
this_¨g
)

74  
	`ecma_›_to_obje˘
 (
this_¨g
);

75 
	}
}

86 
ecma_vÆue_t


87 
	$ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_to_loˇÀ_°rög
 (
ecma_vÆue_t
 
this_¨g
)

89 
ecma_vÆue_t
 
ªtu∫_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

91 
	`ECMA_TRY_CATCH
 (
obj_vÆ
,

92 
	`ecma_›_to_obje˘
 (
this_¨g
),

93 
ªtu∫_vÆue
);

95 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
);

96 
ecma_°rög_t
 *
to_°rög_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_TO_STRING_UL
);

99 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

100 
	`ecma_›_obje˘_gë
 (
obj_p
, 
to_°rög_magic_°rög_p
),

101 
ªtu∫_vÆue
);

104 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
to_°rög_vÆ
))

106 
ªtu∫_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'toString is missing orÇotá function.'"));

111 
ecma_obje˘_t
 *
to_°rög_func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
to_°rög_vÆ
);

112 
ªtu∫_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
to_°rög_func_obj_p
, 
this_¨g
, 
NULL
, 0);

114 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

116 
	`ecma_dîef_ecma_°rög
 (
to_°rög_magic_°rög_p
);

118 
	`ECMA_FINALIZE
 (
obj_vÆ
);

120  
ªtu∫_vÆue
;

121 
	}
}

132 
ecma_vÆue_t


133 
	$ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_has_own_¥›îty
 (
ecma_vÆue_t
 
this_¨g
,

134 
ecma_vÆue_t
 
¨g
)

136 
ecma_vÆue_t
 
ªtu∫_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

139 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

140 
	`ecma_›_to_°rög
 (
¨g
),

141 
ªtu∫_vÆue
);

144 
	`ECMA_TRY_CATCH
 (
obj_vÆ
,

145 
	`ecma_›_to_obje˘
 (
this_¨g
),

146 
ªtu∫_vÆue
);

148 
ecma_°rög_t
 *
¥›îty_«me_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

150 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
);

153 
ªtu∫_vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
	`ecma_›_obje˘_has_own_¥›îty
 (
obj_p
, 
¥›îty_«me_°rög_p
));

155 
	`ECMA_FINALIZE
 (
obj_vÆ
);

157 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

159  
ªtu∫_vÆue
;

160 
	}
}

171 
ecma_vÆue_t


172 
	$ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_is_¥ŸŸy≥_of
 (
ecma_vÆue_t
 
this_¨g
,

173 
ecma_vÆue_t
 
¨g
)

176 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

178  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

181 
ecma_vÆue_t
 
ªtu∫_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

184 
	`ECMA_TRY_CATCH
 (
obj_vÆue
,

185 
	`ecma_›_to_obje˘
 (
this_¨g
),

186 
ªtu∫_vÆue
);

188 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆue
);

191 
	`ECMA_TRY_CATCH
 (
v_obj_vÆue
,

192 
	`ecma_›_to_obje˘
 (
¨g
),

193 
ªtu∫_vÆue
);

195 
ecma_obje˘_t
 *
v_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
v_obj_vÆue
);

197 
boﬁ
 
is_¥ŸŸy≥_of
 = 
	`ecma_›_obje˘_is_¥ŸŸy≥_of
 (
obj_p
, 
v_obj_p
);

198 
ªtu∫_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
is_¥ŸŸy≥_of
 ? 
ECMA_SIMPLE_VALUE_TRUE


199 : 
ECMA_SIMPLE_VALUE_FALSE
);

200 
	`ECMA_FINALIZE
 (
v_obj_vÆue
);

202 
	`ECMA_FINALIZE
 (
obj_vÆue
);

204  
ªtu∫_vÆue
;

205 
	}
}

216 
ecma_vÆue_t


217 
	$ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_¥›îty_is_íumîabÀ
 (
ecma_vÆue_t
 
this_¨g
,

218 
ecma_vÆue_t
 
¨g
)

220 
ecma_vÆue_t
 
ªtu∫_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

223 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

224 
	`ecma_›_to_°rög
 (
¨g
),

225 
ªtu∫_vÆue
);

228 
	`ECMA_TRY_CATCH
 (
obj_vÆ
,

229 
	`ecma_›_to_obje˘
 (
this_¨g
),

230 
ªtu∫_vÆue
);

232 
ecma_°rög_t
 *
¥›îty_«me_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

234 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆ
);

237 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obj_p
,

238 
¥›îty_«me_°rög_p
,

239 
NULL
,

240 
ECMA_PROPERTY_GET_NO_OPTIONS
);

243 i‡(
¥›îty
 !
ECMA_PROPERTY_TYPE_NOT_FOUND
 &&Ör›îty !
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
)

245 
boﬁ
 
is_íumîabÀ
 = 
	`ecma_is_¥›îty_íumîabÀ
 (
¥›îty
);

247 
ªtu∫_vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
is_íumîabÀ
);

251 
ªtu∫_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

254 
	`ECMA_FINALIZE
 (
obj_vÆ
);

256 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

258  
ªtu∫_vÆue
;

259 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

27 
ECMA_BUILTIN_ID_OBJECT
,

28 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

32 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_to_°rög
, 0, 0)

33 
	$ROUTINE
 (
LIT_MAGIC_STRING_VALUE_OF_UL
, 
ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_vÆue_of
, 0, 0)

34 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_STRING_UL
, 
ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_to_loˇÀ_°rög
, 0, 0)

35 
	$ROUTINE
 (
LIT_MAGIC_STRING_HAS_OWN_PROPERTY_UL
, 
ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_has_own_¥›îty
, 1, 1)

36 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_PROTOTYPE_OF_UL
, 
ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_is_¥ŸŸy≥_of
, 1, 1)

37 
	$ROUTINE
 (
LIT_MAGIC_STRING_PROPERTY_IS_ENUMERABLE_UL
, 
ecma_buûtö_obje˘_¥ŸŸy≥_obje˘_¥›îty_is_íumîabÀ
, 1, 1)

39 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-c⁄vîsi⁄.h
"

21 
	~"ecma-ex˚±i⁄s.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-globÆs.h
"

24 
	~"ecma-hñ≥rs.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-obje˘s-gíîÆ.h
"

27 
	~"ecma-åy-ˇtch-ma¸o.h
"

28 
	~"jπ.h
"

30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-obje˘.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
obje˘


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_obje˘_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

58 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

60 i‡(
¨gumíts_li°_Àn
 == 0

61 || 
	`ecma_is_vÆue_undeföed
 (
¨gumíts_li°_p
[0])

62 || 
	`ecma_is_vÆue_nuŒ
 (
¨gumíts_li°_p
[0]))

64 
ªt_vÆue
 = 
	`ecma_buûtö_obje˘_di•©ch_c⁄°ru˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

68 
ªt_vÆue
 = 
	`ecma_›_to_obje˘
 (
¨gumíts_li°_p
[0]);

71  
ªt_vÆue
;

72 
	}
}

79 
ecma_vÆue_t


80 
	$ecma_buûtö_obje˘_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

81 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

83 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

85 i‡(
¨gumíts_li°_Àn
 == 0)

87 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

89  
	`ecma_make_obje˘_vÆue
 (
obj_p
);

93  
	`ecma_›_¸óã_obje˘_obje˘_¨g
 (
¨gumíts_li°_p
[0]);

95 
	}
}

106 
ecma_vÆue_t


107 
	$ecma_buûtö_obje˘_obje˘_gë_¥ŸŸy≥_of
 (
ecma_vÆue_t
 
this_¨g
,

108 
ecma_vÆue_t
 
¨g
)

110 
	`JERRY_UNUSED
 (
this_¨g
);

111 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

114 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

116 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

121 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

122 
ecma_obje˘_t
 *
¥ŸŸy≥_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (
obj_p
);

124 i‡(
¥ŸŸy≥_p
)

126 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
¥ŸŸy≥_p
);

127 
	`ecma_ªf_obje˘
 (
¥ŸŸy≥_p
);

131 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

135  
ªt_vÆue
;

136 
	}
}

138 #i‚de‡
CONFIG_DISABLE_ES2015_BUILTIN


145 
boﬁ


146 
	$ecma_£t_¥ŸŸy≥_of
 (
ecma_vÆue_t
 
o_vÆue
,

147 
ecma_vÆue_t
 
v_vÆue
)

150 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
o_vÆue
));

151 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
v_vÆue
Ë|| 
	`ecma_is_vÆue_nuŒ
 (v_value));

153 
ecma_obje˘_t
 *
o_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
o_vÆue
);

154 
ecma_obje˘_t
 *
v_p
 = 
	`ecma_is_vÆue_nuŒ
 (
v_vÆue
Ë? 
NULL
 : 
	`ecma_gë_obje˘_‰om_vÆue
 (v_value);

157 i‡(
v_p
 =
	`ecma_gë_obje˘_¥ŸŸy≥
 (
o_p
))

159  
åue
;

163 i‡(!
	`ecma_gë_obje˘_exãnsibÀ
 (
o_p
))

165  
Ál£
;

169 
ecma_obje˘_t
 *
p_p
 = 
v_p
;

170 
åue
)

173 i‡(
p_p
 =
NULL
)

179 i‡(
p_p
 =
o_p
)

181  
Ál£
;

188 
p_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (p_p);

192 
	`ECMA_SET_POINTER
 (
o_p
->
¥ŸŸy≥_‹_ouãr_ª„ªn˚_˝
, 
v_p
);

195  
åue
;

196 
	}
}

207 
ecma_vÆue_t


208 
	$ecma_buûtö_obje˘_obje˘_£t_¥ŸŸy≥_of
 (
ecma_vÆue_t
 
this_¨g
,

209 
ecma_vÆue_t
 
¨g1
,

210 
ecma_vÆue_t
 
¨g2
)

212 
	`JERRY_UNUSED
 (
this_¨g
);

213 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

216 
	`ECMA_TRY_CATCH
 (
unu£d_vÆue
,

217 
	`ecma_›_check_obje˘_c€rcibÀ
 (
¨g1
),

218 
ªt_vÆue
);

221 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g2
Ë&& !
	`ecma_is_vÆue_nuŒ
 (arg2))

223 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("proto isÇeither ObjectÇor Null."));

228 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g1
))

230 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g1
);

235 
boﬁ
 
°©us
 = 
	`ecma_£t_¥ŸŸy≥_of
 (
¨g1
, 
¨g2
);

241 i‡(!
°©us
)

243 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("cannot setÖrototype."));

248 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g1
);

253 
	`ECMA_FINALIZE
 (
unu£d_vÆue
);

255  
ªt_vÆue
;

256 
	}
}

268 
ecma_vÆue_t


269 
	$ecma_buûtö_obje˘_obje˘_gë_own_¥›îty_«mes
 (
ecma_vÆue_t
 
this_¨g
,

270 
ecma_vÆue_t
 
¨g
)

272 
	`JERRY_UNUSED
 (
this_¨g
);

273 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

275 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

278 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

282 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

284 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_obje˘_gë_¥›îtõs
 (
obj_p
, 
Ál£
);

287  
ªt_vÆue
;

288 
	}
}

299 
ecma_vÆue_t


300 
	$ecma_buûtö_obje˘_obje˘_£Æ
 (
ecma_vÆue_t
 
this_¨g
,

301 
ecma_vÆue_t
 
¨g
)

303 
	`JERRY_UNUSED
 (
this_¨g
);

304 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

307 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

309 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

314 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

316 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
Ál£
, false, false);

318 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

319 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

321 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

322 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

324 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

327 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
;

329 i‡(!
	`ecma_›_obje˘_gë_own_¥›îty_des¸ùt‹
 (
obj_p
, 
¥›îty_«me_p
, &
¥›_desc
))

335 
¥›_desc
.
is_c⁄figuøbÀ
 = 
Ál£
;

338 
	`ECMA_TRY_CATCH
 (
deföe_own_¥›_ªt
,

339 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

340 
¥›îty_«me_p
,

341 &
¥›_desc
,

342 
åue
),

343 
ªt_vÆue
);

344 
	`ECMA_FINALIZE
 (
deföe_own_¥›_ªt
);

346 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (&
¥›_desc
);

349 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

351 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

354 
	`ecma_£t_obje˘_exãnsibÀ
 (
obj_p
, 
Ál£
);

357 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g
);

361  
ªt_vÆue
;

362 
	}
}

373 
ecma_vÆue_t


374 
	$ecma_buûtö_obje˘_obje˘_‰ìze
 (
ecma_vÆue_t
 
this_¨g
,

375 
ecma_vÆue_t
 
¨g
)

377 
	`JERRY_UNUSED
 (
this_¨g
);

378 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

381 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

383 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

388 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

390 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
Ál£
, false, false);

393 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

394 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

396 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

397 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

399 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

402 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
;

404 i‡(!
	`ecma_›_obje˘_gë_own_¥›îty_des¸ùt‹
 (
obj_p
, 
¥›îty_«me_p
, &
¥›_desc
))

410 i‡(
¥›_desc
.
is_wrôabÀ_deföed
 &&Ör›_desc.
is_wrôabÀ
)

412 
¥›_desc
.
is_wrôabÀ
 = 
Ál£
;

416 
¥›_desc
.
is_c⁄figuøbÀ
 = 
Ál£
;

419 
	`ECMA_TRY_CATCH
 (
deföe_own_¥›_ªt
,

420 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

421 
¥›îty_«me_p
,

422 &
¥›_desc
,

423 
åue
),

424 
ªt_vÆue
);

425 
	`ECMA_FINALIZE
 (
deföe_own_¥›_ªt
);

427 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (&
¥›_desc
);

430 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

432 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

435 
	`ecma_£t_obje˘_exãnsibÀ
 (
obj_p
, 
Ál£
);

438 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g
);

442  
ªt_vÆue
;

443 
	}
}

454 
ecma_vÆue_t


455 
	$ecma_buûtö_obje˘_obje˘_¥evít_exãnsi⁄s
 (
ecma_vÆue_t
 
this_¨g
,

456 
ecma_vÆue_t
 
¨g
)

458 
	`JERRY_UNUSED
 (
this_¨g
);

459 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

461 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

463 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

467 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

468 
	`ecma_£t_obje˘_exãnsibÀ
 (
obj_p
, 
Ál£
);

470 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g
);

473  
ªt_vÆue
;

474 
	}
}

485 
ecma_vÆue_t


486 
	$ecma_buûtö_obje˘_obje˘_is_£Æed
 (
ecma_vÆue_t
 
this_¨g
,

487 
ecma_vÆue_t
 
¨g
)

489 
	`JERRY_UNUSED
 (
this_¨g
);

490 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

493 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

495 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

499 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

501 
boﬁ
 
is_£Æed
;

504 i‡(
	`ecma_gë_obje˘_exãnsibÀ
 (
obj_p
))

506 
is_£Æed
 = 
Ál£
;

511 
is_£Æed
 = 
åue
;

514 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
Ál£
, false, false);

516 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

517 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

519 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

521 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

524 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obj_p
,

525 
¥›îty_«me_p
,

526 
NULL
,

527 
ECMA_PROPERTY_GET_NO_OPTIONS
);

530 i‡(
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
¥›îty
))

532 
is_£Æed
 = 
Ál£
;

537 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

541 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
is_£Æed
 ? 
ECMA_SIMPLE_VALUE_TRUE


542 : 
ECMA_SIMPLE_VALUE_FALSE
);

545  
ªt_vÆue
;

546 
	}
}

557 
ecma_vÆue_t


558 
	$ecma_buûtö_obje˘_obje˘_is_‰ozí
 (
ecma_vÆue_t
 
this_¨g
,

559 
ecma_vÆue_t
 
¨g
)

561 
	`JERRY_UNUSED
 (
this_¨g
);

562 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

565 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

567 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

571 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

573 
boﬁ
 
is_‰ozí
;

576 i‡(
	`ecma_gë_obje˘_exãnsibÀ
 (
obj_p
))

578 
is_‰ozí
 = 
Ál£
;

582 
is_‰ozí
 = 
åue
;

585 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›s_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
Ál£
, false, false);

587 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

588 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›s_p
);

590 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

592 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

595 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obj_p
,

596 
¥›îty_«me_p
,

597 
NULL
,

598 
ECMA_PROPERTY_GET_NO_OPTIONS
);

601 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë!
ECMA_PROPERTY_TYPE_NAMEDACCESSOR


602 && 
	`ecma_is_¥›îty_wrôabÀ
 (
¥›îty
))

604 
is_‰ozí
 = 
Ál£
;

609 i‡(
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
¥›îty
))

611 
is_‰ozí
 = 
Ál£
;

616 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›s_p
, 
åue
);

620 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
is_‰ozí
 ? 
ECMA_SIMPLE_VALUE_TRUE


621 : 
ECMA_SIMPLE_VALUE_FALSE
);

624  
ªt_vÆue
;

625 
	}
}

636 
ecma_vÆue_t


637 
	$ecma_buûtö_obje˘_obje˘_is_exãnsibÀ
 (
ecma_vÆue_t
 
this_¨g
,

638 
ecma_vÆue_t
 
¨g
)

640 
	`JERRY_UNUSED
 (
this_¨g
);

641 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

643 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

645 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

649 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

651 
boﬁ
 
exãnsibÀ
 = 
	`ecma_gë_obje˘_exãnsibÀ
 (
obj_p
);

653 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
exãnsibÀ
 ? 
ECMA_SIMPLE_VALUE_TRUE


654 : 
ECMA_SIMPLE_VALUE_FALSE
);

657  
ªt_vÆue
;

658 
	}
}

669 
ecma_vÆue_t


670 
	$ecma_buûtö_obje˘_obje˘_keys
 (
ecma_vÆue_t
 
this_¨g
,

671 
ecma_vÆue_t
 
¨g
)

673 
	`JERRY_UNUSED
 (
this_¨g
);

674 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

676 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g
))

679 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

683 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
);

685 
ªt_vÆue
 = 
	`ecma_buûtö_hñ≥r_obje˘_gë_¥›îtõs
 (
obj_p
, 
åue
);

688  
ªt_vÆue
;

689 
	}
}

700 
ecma_vÆue_t


701 
	$ecma_buûtö_obje˘_obje˘_gë_own_¥›îty_des¸ùt‹
 (
ecma_vÆue_t
 
this_¨g
,

702 
ecma_vÆue_t
 
¨g1
,

703 
ecma_vÆue_t
 
¨g2
)

705 
	`JERRY_UNUSED
 (
this_¨g
);

706 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

709 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g1
))

711 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

712  
ªt_vÆue
;

715 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
);

718 
	`ECMA_TRY_CATCH
 (
«me_°r_vÆue
,

719 
	`ecma_›_to_°rög
 (
¨g2
),

720 
ªt_vÆue
);

722 
ecma_°rög_t
 *
«me_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
«me_°r_vÆue
);

725 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
;

727 i‡(
	`ecma_›_obje˘_gë_own_¥›îty_des¸ùt‹
 (
obj_p
, 
«me_°r_p
, &
¥›_desc
))

730 
ecma_obje˘_t
 *
desc_obj_p
 = 
	`ecma_›_‰om_¥›îty_des¸ùt‹
 (&
¥›_desc
);

732 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (&
¥›_desc
);

734 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
desc_obj_p
);

738 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

741 
	`ECMA_FINALIZE
 (
«me_°r_vÆue
);

743  
ªt_vÆue
;

744 
	}
}

755 
ecma_vÆue_t


756 
	$ecma_buûtö_obje˘_obje˘_¸óã
 (
ecma_vÆue_t
 
this_¨g
,

757 
ecma_vÆue_t
 
¨g1
,

758 
ecma_vÆue_t
 
¨g2
)

760 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

763 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g1
Ë&& !
	`ecma_is_vÆue_nuŒ
 (arg1))

765 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

769 
ecma_obje˘_t
 *
obj_p
 = 
NULL
;

771 i‡(!
	`ecma_is_vÆue_nuŒ
 (
¨g1
))

773 
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
);

776 
ecma_obje˘_t
 *
ªsu…_obj_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg_™d_£t_¥ŸŸy≥
 (
obj_p
);

779 i‡(!
	`ecma_is_vÆue_undeföed
 (
¨g2
))

781 
	`ECMA_TRY_CATCH
 (
obj
,

782 
	`ecma_buûtö_obje˘_obje˘_deföe_¥›îtõs
 (
this_¨g
,

783 
	`ecma_make_obje˘_vÆue
 (
ªsu…_obj_p
),

784 
¨g2
),

785 
ªt_vÆue
);

786 
	`ECMA_FINALIZE
 (
obj
);

790 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

792 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
	`ecma_make_obje˘_vÆue
 (
ªsu…_obj_p
));

795 
	`ecma_dîef_obje˘
 (
ªsu…_obj_p
);

798  
ªt_vÆue
;

799 
	}
}

810 
ecma_vÆue_t


811 
	$ecma_buûtö_obje˘_obje˘_deföe_¥›îtõs
 (
ecma_vÆue_t
 
this_¨g
,

812 
ecma_vÆue_t
 
¨g1
,

813 
ecma_vÆue_t
 
¨g2
)

815 
	`JERRY_UNUSED
 (
this_¨g
);

816 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

819 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g1
))

821 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

825 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
);

828 
	`ECMA_TRY_CATCH
 (
¥›s
,

829 
	`ecma_›_to_obje˘
 (
¨g2
),

830 
ªt_vÆue
);

832 
ecma_obje˘_t
 *
¥›s_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥›s
);

834 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›_«mes_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
¥›s_p
, 
Ál£
, 
åue
, false);

835 
uöt32_t
 
¥›îty_numbî
 = 
¥›_«mes_p
->
unô_numbî
;

837 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

838 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›_«mes_p
);

841 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
¥›îty_des¸ùt‹s
, 
¥›îty_numbî
, 
ecma_¥›îty_des¸ùt‹_t
);

843 
uöt32_t
 
¥›îty_des¸ùt‹_numbî
 = 0;

845 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
)

846 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

849 
	`ECMA_TRY_CATCH
 (
desc_obj
,

850 
	`ecma_›_obje˘_gë
 (
¥›s_p
, 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
)),

851 
ªt_vÆue
);

854 
	`ECMA_TRY_CATCH
 (
c⁄v_ªsu…
,

855 
	`ecma_›_to_¥›îty_des¸ùt‹
 (
desc_obj
,

856 &
¥›îty_des¸ùt‹s
[
¥›îty_des¸ùt‹_numbî
]),

857 
ªt_vÆue
);

859 
¥›îty_des¸ùt‹_numbî
++;

861 
	`ECMA_FINALIZE
 (
c⁄v_ªsu…
);

862 
	`ECMA_FINALIZE
 (
desc_obj
);

866 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›_«mes_p
);

867 
uöt32_t
 
ödex
 = 0;

868 
ödex
 < 
¥›îty_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

869 
ödex
++)

871 
boﬁ
 
is_√xt
 = 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
);

872 
	`JERRY_ASSERT
 (
is_√xt
);

874 
	`ECMA_TRY_CATCH
 (
deföe_own_¥›_ªt
,

875 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

876 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
),

877 &
¥›îty_des¸ùt‹s
[
ödex
],

878 
åue
),

879 
ªt_vÆue
);

881 
	`ECMA_FINALIZE
 (
deföe_own_¥›_ªt
);

885 
uöt32_t
 
ödex
 = 0;

886 
ödex
 < 
¥›îty_des¸ùt‹_numbî
;

887 
ödex
++)

889 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (&
¥›îty_des¸ùt‹s
[
ödex
]);

892 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
¥›îty_des¸ùt‹s
);

894 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›_«mes_p
, 
åue
);

897 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

899 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g1
);

902 
	`ECMA_FINALIZE
 (
¥›s
);

905  
ªt_vÆue
;

906 
	}
}

917 
ecma_vÆue_t


918 
	$ecma_buûtö_obje˘_obje˘_deföe_¥›îty
 (
ecma_vÆue_t
 
this_¨g
,

919 
ecma_vÆue_t
 
¨g1
,

920 
ecma_vÆue_t
 
¨g2
,

921 
ecma_vÆue_t
 
¨g3
)

923 
	`JERRY_UNUSED
 (
this_¨g
);

924 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

926 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨g1
))

928 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument isÇotán object."));

932 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
);

934 
	`ECMA_TRY_CATCH
 (
«me_°r_vÆue
,

935 
	`ecma_›_to_°rög
 (
¨g2
),

936 
ªt_vÆue
);

938 
ecma_°rög_t
 *
«me_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
«me_°r_vÆue
);

940 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
;

942 
	`ECMA_TRY_CATCH
 (
c⁄v_ªsu…
,

943 
	`ecma_›_to_¥›îty_des¸ùt‹
 (
¨g3
, &
¥›_desc
),

944 
ªt_vÆue
);

946 
	`ECMA_TRY_CATCH
 (
deföe_own_¥›_ªt
,

947 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

948 
«me_°r_p
,

949 &
¥›_desc
,

950 
åue
),

951 
ªt_vÆue
);

953 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g1
);

955 
	`ECMA_FINALIZE
 (
deföe_own_¥›_ªt
);

956 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (&
¥›_desc
);

957 
	`ECMA_FINALIZE
 (
c⁄v_ªsu…
);

958 
	`ECMA_FINALIZE
 (
«me_°r_vÆue
);

961  
ªt_vÆue
;

962 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

26 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

28 
ECMA_PROPERTY_FIXED
)

34 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

35 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

36 
ECMA_PROPERTY_FIXED
)

40 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_PROTOTYPE_OF_UL
, 
ecma_buûtö_obje˘_obje˘_gë_¥ŸŸy≥_of
, 1, 1)

41 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_OWN_PROPERTY_NAMES_UL
, 
ecma_buûtö_obje˘_obje˘_gë_own_¥›îty_«mes
, 1, 1)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_SEAL
, 
ecma_buûtö_obje˘_obje˘_£Æ
, 1, 1)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_FREEZE
, 
ecma_buûtö_obje˘_obje˘_‰ìze
, 1, 1)

44 
	$ROUTINE
 (
LIT_MAGIC_STRING_PREVENT_EXTENSIONS_UL
, 
ecma_buûtö_obje˘_obje˘_¥evít_exãnsi⁄s
, 1, 1)

45 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_SEALED_UL
, 
ecma_buûtö_obje˘_obje˘_is_£Æed
, 1, 1)

46 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_FROZEN_UL
, 
ecma_buûtö_obje˘_obje˘_is_‰ozí
, 1, 1)

47 
	$ROUTINE
 (
LIT_MAGIC_STRING_IS_EXTENSIBLE
, 
ecma_buûtö_obje˘_obje˘_is_exãnsibÀ
, 1, 1)

48 
	$ROUTINE
 (
LIT_MAGIC_STRING_KEYS
, 
ecma_buûtö_obje˘_obje˘_keys
, 1, 1)

49 
	$ROUTINE
 (
LIT_MAGIC_STRING_GET_OWN_PROPERTY_DESCRIPTOR_UL
, 
ecma_buûtö_obje˘_obje˘_gë_own_¥›îty_des¸ùt‹
, 2, 2)

50 
	$ROUTINE
 (
LIT_MAGIC_STRING_CREATE
, 
ecma_buûtö_obje˘_obje˘_¸óã
, 2, 2)

51 
	$ROUTINE
 (
LIT_MAGIC_STRING_DEFINE_PROPERTIES_UL
, 
ecma_buûtö_obje˘_obje˘_deföe_¥›îtõs
, 2, 2)

52 
	$ROUTINE
 (
LIT_MAGIC_STRING_DEFINE_PROPERTY_UL
, 
ecma_buûtö_obje˘_obje˘_deföe_¥›îty
, 3, 3)

54 #i‚de‡
CONFIG_DISABLE_ES2015_BUILTIN


55 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET_PROTOTYPE_OF_UL
, 
ecma_buûtö_obje˘_obje˘_£t_¥ŸŸy≥_of
, 2, 2)

58 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise-prototype.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-¥omi£-obje˘.h
"

19 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


21 
	#ECMA_BUILTINS_INTERNAL


	)

22 
	~"ecma-buûtös-öã∫Æ.h
"

24 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-¥omi£-¥ŸŸy≥.öc.h"

	)

25 
	#BUILTIN_UNDERSCORED_ID
 
¥omi£_¥ŸŸy≥


	)

26 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

46 
ecma_vÆue_t


47 
	$ecma_buûtö_¥omi£_¥ŸŸy≥_thí
 (
ecma_vÆue_t
 
this_¨g
,

48 
ecma_vÆue_t
 
⁄_fulfûÀd
,

49 
ecma_vÆue_t
 
⁄_ªje˘ed
)

51  
	`ecma_¥omi£_thí
 (
this_¨g
,

52 
⁄_fulfûÀd
,

53 
⁄_ªje˘ed
);

54 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_¥omi£_¥ŸŸy≥_ˇtch
 (
ecma_vÆue_t
 
this_¨g
,

66 
ecma_vÆue_t
 
⁄_ªje˘ed
)

68  
	`ecma_¥omi£_thí
 (
this_¨g
,

69 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

70 
⁄_ªje˘ed
);

71 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise-prototype.inc.h

16 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


23 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

24 
ECMA_BUILTIN_ID_PROMISE
,

25 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

27 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

29 
ECMA_PROPERTY_FLAG_WRITABLE
)

31 
	$ROUTINE
 (
LIT_MAGIC_STRING_THEN
, 
ecma_buûtö_¥omi£_¥ŸŸy≥_thí
, 2, 2)

32 
	$ROUTINE
 (
LIT_MAGIC_STRING_CATCH
, 
ecma_buûtö_¥omi£_¥ŸŸy≥_ˇtch
, 1, 1)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise.c

16 
	~"ecma-¨øy-obje˘.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-fun˘i⁄-obje˘.h
"

19 
	~"ecma-gc.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-numbî-obje˘.h
"

22 
	~"ecma-¥omi£-obje˘.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-¥omi£.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
¥omi£


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

49 
ecma_vÆue_t


50 
	$ecma_buûtö_¥omi£_ªje˘_‹_ªsﬁve
 (
ecma_vÆue_t
 
this_¨g
,

51 
ecma_vÆue_t
 
¨gumít
,

52 
boﬁ
 
is_ªsﬁve
)

54 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

56  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotán object."));

59 
uöt8_t
 
buûtö_id
 = 
	`ecma_gë_obje˘_buûtö_id
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
));

61 i‡(
buûtö_id
 !
ECMA_BUILTIN_ID_PROMISE
)

63  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotÅhe Promise constructor."));

66 i‡(
is_ªsﬁve


67 && 
	`ecma_is_vÆue_obje˘
 (
¨gumít
)

68 && 
	`ecma_is_¥omi£
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨gumít
)))

70  
	`ecma_c›y_vÆue
 (
¨gumít
);

74 
ecma_vÆue_t
 
ˇ∑bûôy
 = 
	`ecma_¥omi£_√w_ˇ∑bûôy
 ();

76 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ˇ∑bûôy
))

78  
ˇ∑bûôy
;

81 
ecma_°rög_t
 *
°r
;

83 i‡(
is_ªsﬁve
)

85 
°r
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

89 
°r
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

92 
ecma_vÆue_t
 
func
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r
);

93 
	`ecma_dîef_ecma_°rög
 (
°r
);

95 
ecma_vÆue_t
 
ˇŒ_ªt
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
func
),

96 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

97 &
¨gumít
,

100 
	`ecma_‰ì_vÆue
 (
func
);

102 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ˇŒ_ªt
))

104  
ˇŒ_ªt
;

107 
	`ecma_‰ì_vÆue
 (
ˇŒ_ªt
);

109 
ecma_°rög_t
 *
°r_¥omi£
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_PROMISE
);

110 
ecma_vÆue_t
 
¥omi£_√w
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_¥omi£
);

111 
	`ecma_dîef_ecma_°rög
 (
°r_¥omi£
);

112 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

114  
¥omi£_√w
;

115 
	}
}

126 
ölöe
 
ecma_vÆue_t


127 
	$ecma_buûtö_¥omi£_ªje˘_abru±
 (
ecma_vÆue_t
 
abru±_vÆue
,

128 
ecma_vÆue_t
 
ˇ∑bûôy
)

130 
ecma_vÆue_t
 
ªas⁄
 = 
	`ecma_gë_vÆue_‰om_îr‹_vÆue
 (
abru±_vÆue
);

131 
ecma_°rög_t
 *
°r_ªje˘
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

132 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_ªje˘
);

133 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

135 
ecma_vÆue_t
 
ˇŒ_ªt
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªje˘
),

136 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

137 &
ªas⁄
,

139 
	`ecma_‰ì_vÆue
 (
ªje˘
);

141 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ˇŒ_ªt
))

143  
ˇŒ_ªt
;

146 
	`ecma_‰ì_vÆue
 (
ˇŒ_ªt
);

148 
ecma_°rög_t
 *
°r_¥omi£
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_PROMISE
);

149 
ecma_vÆue_t
 
¥omi£_√w
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_¥omi£
);

150 
	`ecma_dîef_ecma_°rög
 (
°r_¥omi£
);

152  
¥omi£_√w
;

153 
	}
}

164 
ecma_vÆue_t


165 
	$ecma_buûtö_¥omi£_ªje˘
 (
ecma_vÆue_t
 
this_¨g
,

166 
ecma_vÆue_t
 
ªas⁄
)

168  
	`ecma_buûtö_¥omi£_ªje˘_‹_ªsﬁve
 (
this_¨g
, 
ªas⁄
, 
Ál£
);

169 
	}
}

180 
ecma_vÆue_t


181 
	$ecma_buûtö_¥omi£_ªsﬁve
 (
ecma_vÆue_t
 
this_¨g
,

182 
ecma_vÆue_t
 
¨gumít
)

184  
	`ecma_buûtö_¥omi£_ªje˘_‹_ªsﬁve
 (
this_¨g
, 
¨gumít
, 
åue
);

185 
	}
}

196 
ölöe
 
ecma_vÆue_t


197 
	$ecma_buûtö_¥omi£_do_ø˚
 (
ecma_vÆue_t
 
¨øy
,

198 
ecma_vÆue_t
 
ˇ∑bûôy
,

199 
ecma_vÆue_t
 
˘‹
)

201 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ˇ∑bûôy
)

202 && 
	`ecma_is_vÆue_obje˘
 (
¨øy
)

203 && 
	`ecma_is_vÆue_obje˘
 (
˘‹
));

204 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_buûtö_id
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
˘‹
)Ë=
ECMA_BUILTIN_ID_PROMISE
);

205 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øy
)Ë=
ECMA_OBJECT_TYPE_ARRAY
);

207 
ecma_vÆue_t
 
ªt
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

208 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

209 
ecma_obje˘_t
 *
¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øy
);

210 
ecma_vÆue_t
 
Àn_vÆue
 = 
	`ecma_›_obje˘_gë
 (
¨øy_p
, 
magic_°rög_Àngth_p
);

211 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

212 
ecma_Àngth_t
 
Àn
 = (ecma_Àngth_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
Àn_vÆue
);

213 
	`ecma_Á°_‰ì_vÆue
 (
Àn_vÆue
);

215 
ecma_°rög_t
 *
°r_¥omi£
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_PROMISE
);

216 
ecma_°rög_t
 *
°r_ªsﬁve
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

217 
ecma_°rög_t
 *
°r_ªje˘
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

219 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

220 
°r_ªsﬁve
);

221 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

222 
°r_ªje˘
);

224 
ecma_Àngth_t
 
ödex
 = 0; index <
Àn
; index++)

227 i‡(
ödex
 =
Àn
)

229 
ªt
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_¥omi£
);

234 
ecma_°rög_t
 *
°r_ödex
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

235 
ecma_vÆue_t
 
¨øy_ôem
 = 
	`ecma_›_obje˘_gë
 (
¨øy_p
, 
°r_ödex
);

236 
	`ecma_dîef_ecma_°rög
 (
°r_ödex
);

239 
ecma_vÆue_t
 
√xt_¥omi£
 = 
	`ecma_buûtö_¥omi£_ªsﬁve
 (
˘‹
, 
¨øy_ôem
);

240 
	`ecma_‰ì_vÆue
 (
¨øy_ôem
);

243 i‡(
	`ECMA_IS_VALUE_ERROR
 (
√xt_¥omi£
))

245 
ªt
 = 
√xt_¥omi£
;

250 
ecma_vÆue_t
 
thí_ªsu…
 = 
	`ecma_¥omi£_thí
 (
√xt_¥omi£
, 
ªsﬁve
, 
ªje˘
);

251 
	`ecma_‰ì_vÆue
 (
√xt_¥omi£
);

254 i‡(
	`ECMA_IS_VALUE_ERROR
 (
thí_ªsu…
))

256 
ªt
 = 
thí_ªsu…
;

260 
	`ecma_‰ì_vÆue
 (
thí_ªsu…
);

263 
	`ecma_‰ì_vÆue
 (
ªje˘
);

264 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

265 
	`ecma_dîef_ecma_°rög
 (
°r_¥omi£
);

266 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

267 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

269 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_em±y
 (
ªt
));

271  
ªt
;

272 
	}
}

279 
ecma_Àngth_t


280 
	$ecma_buûtö_¥omi£_ªmaöög_öc_‹_dec
 (
ecma_vÆue_t
 
ªmaöög
,

281 
boﬁ
 
is_öc
)

283 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ªmaöög
));

285 
ecma_obje˘_t
 *
ªmaöög_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ªmaöög
);

286 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
ªmaöög_p
;

288 
	`JERRY_ASSERT
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_NUMBER_UL
);

290 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_öãgî_numbî
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
));

292 
ecma_Àngth_t
 
cuºít
 = (ecma_Àngth_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

294 i‡(
is_öc
)

296 
cuºít
++;

300 
cuºít
--;

303 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
cuºít
);

305  
cuºít
;

306 
	}
}

316 
ecma_vÆue_t


317 
	$ecma_buûtö_¥omi£_Æl_h™dÀr
 (c⁄° 
ecma_vÆue_t
 
fun˘i⁄
,

318 c⁄° 
ecma_vÆue_t
 
this
,

319 c⁄° 
ecma_vÆue_t
 
¨gv
[],

320 c⁄° 
ecma_Àngth_t
 
¨gc
)

322 
	`JERRY_UNUSED
 (
this
);

323 
	`JERRY_UNUSED
 (
¨gc
);

325 
ecma_vÆue_t
 
ªt
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

327 
ecma_obje˘_t
 *
fun˘i⁄_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
fun˘i⁄
);

328 
ecma_°rög_t
 *
°r_Æªady_ˇŒed
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_ALREADY_CALLED
);

329 
ecma_vÆue_t
 
Æªady_ˇŒed
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, 
°r_Æªady_ˇŒed
);

331 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
Æªady_ˇŒed
));

334 i‡(
	`ecma_is_vÆue_åue
 (
Æªady_ˇŒed
))

336 
	`ecma_Á°_‰ì_vÆue
 (
Æªady_ˇŒed
);

337 
	`ecma_dîef_ecma_°rög
 (
°r_Æªady_ˇŒed
);

339  
ªt
;

343 
	`ecma_›_obje˘_put
 (
fun˘i⁄_p
,

344 
°r_Æªady_ˇŒed
,

345 
	`ecma_make_boﬁón_vÆue
 (
åue
),

346 
Ál£
);

348 
ecma_°rög_t
 *
°r_ödex
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_INDEX
);

349 
ecma_°rög_t
 *
°r_vÆue
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_VALUE
);

350 
ecma_°rög_t
 *
°r_ˇ∑bûôy
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_CAPABILITY
);

351 
ecma_°rög_t
 *
°r_ªmaöög
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REMAINING_ELEMENT
);

354 
ecma_vÆue_t
 
ödex_vÆ
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, 
°r_ödex
);

355 
ecma_vÆue_t
 
vÆue_¨øy
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, 
°r_vÆue
);

356 
ecma_vÆue_t
 
ˇ∑bûôy
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, 
°r_ˇ∑bûôy
);

357 
ecma_vÆue_t
 
ªmaöög
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, 
°r_ªmaöög
);

359 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_öãgî_numbî
 (
ödex_vÆ
));

362 
ecma_°rög_t
 *
ödex_°r
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë
	`ecma_gë_öãgî_‰om_vÆue
 (
ödex_vÆ
));

364 
	`ecma_›_obje˘_put
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue_¨øy
),

365 
ödex_°r
,

366 
¨gv
[0],

367 
Ál£
);

368 
	`ecma_dîef_ecma_°rög
 (
ödex_°r
);

371 i‡(
	`ecma_buûtö_¥omi£_ªmaöög_öc_‹_dec
 (
ªmaöög
, 
Ál£
) == 0)

373 
ecma_°rög_t
 *
°r_ªsﬁve
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

374 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

375 
°r_ªsﬁve
);

376 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

377 
ªt
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsﬁve
),

378 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

379 &
vÆue_¨øy
,

381 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

384 
	`ecma_‰ì_vÆue
 (
ªmaöög
);

385 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

386 
	`ecma_‰ì_vÆue
 (
vÆue_¨øy
);

387 
	`ecma_Á°_‰ì_vÆue
 (
ödex_vÆ
);

388 
	`ecma_Á°_‰ì_vÆue
 (
Æªady_ˇŒed
);

389 
	`ecma_dîef_ecma_°rög
 (
°r_Æªady_ˇŒed
);

390 
	`ecma_dîef_ecma_°rög
 (
°r_ödex
);

391 
	`ecma_dîef_ecma_°rög
 (
°r_vÆue
);

392 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

393 
	`ecma_dîef_ecma_°rög
 (
°r_ªmaöög
);

395  
ªt
;

396 
	}
}

407 
ölöe
 
ecma_vÆue_t


408 
	$ecma_buûtö_¥omi£_do_Æl
 (
ecma_vÆue_t
 
¨øy
,

409 
ecma_vÆue_t
 
ˇ∑bûôy
,

410 
ecma_vÆue_t
 
˘‹
)

412 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ˇ∑bûôy
)

413 && 
	`ecma_is_vÆue_obje˘
 (
¨øy
)

414 && 
	`ecma_is_vÆue_obje˘
 (
˘‹
));

415 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_buûtö_id
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
˘‹
)Ë=
ECMA_BUILTIN_ID_PROMISE
);

416 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øy
)Ë=
ECMA_OBJECT_TYPE_ARRAY
);

418 
ecma_vÆue_t
 
ªt
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

419 
ecma_°rög_t
 *
magic_°rög_Àngth_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

420 
ecma_obje˘_t
 *
¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øy
);

421 
ecma_vÆue_t
 
Àn_vÆue
 = 
	`ecma_›_obje˘_gë
 (
¨øy_p
, 
magic_°rög_Àngth_p
);

422 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_Àngth_p
);

423 
ecma_Àngth_t
 
Àn
 = (ecma_Àngth_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
Àn_vÆue
);

424 
	`ecma_Á°_‰ì_vÆue
 (
Àn_vÆue
);

426 
ecma_°rög_t
 *
°r_¥omi£
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_PROMISE
);

427 
ecma_°rög_t
 *
°r_ªsﬁve
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

428 
ecma_°rög_t
 *
°r_ªje˘
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

429 
ecma_°rög_t
 *
°r_Æªady_ˇŒed
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_ALREADY_CALLED
);

430 
ecma_°rög_t
 *
°r_ödex
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_INDEX
);

431 
ecma_°rög_t
 *
°r_vÆue
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_VALUE
);

432 
ecma_°rög_t
 *
°r_ˇ∑bûôy
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_CAPABILITY
);

433 
ecma_°rög_t
 *
°r_ªmaöög
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REMAINING_ELEMENT
);

435 
ecma_vÆue_t
 
undeföed_vÆ
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

437 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

438 
°r_ªsﬁve
);

439 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

440 
°r_ªje˘
);

442 
ecma_vÆue_t
 
ªsu…_¨øy_Àngth_vÆ
 = 
	`ecma_make_uöt32_vÆue
 (0);

443 
ecma_vÆue_t
 
vÆue_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (&
ªsu…_¨øy_Àngth_vÆ
, 1, 
åue
);

444 
	`ecma_‰ì_vÆue
 (
ªsu…_¨øy_Àngth_vÆ
);

446 
ecma_vÆue_t
 
ªmaöög
 = 
	`ecma_›_¸óã_numbî_obje˘
 (
	`ecma_make_öãgî_vÆue
 (1));

448 
ecma_Àngth_t
 
ödex
 = 0;

451 
åue
)

453 
	`JERRY_ASSERT
 (
ödex
 <
Àn
);

455 i‡(
ödex
 =
Àn
)

458 i‡(
	`ecma_buûtö_¥omi£_ªmaöög_öc_‹_dec
 (
ªmaöög
, 
Ál£
) == 0)

461 
ecma_vÆue_t
 
ªsﬁve_ªt
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsﬁve
),

462 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

463 &
vÆue_¨øy
,

466 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsﬁve_ªt
))

468 
ªt
 = 
ªsﬁve_ªt
;

474 
ªt
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_¥omi£
);

479 
ecma_°rög_t
 *
ödex_°r
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

480 
ecma_vÆue_t
 
¨øy_ôem
 = 
	`ecma_›_obje˘_gë
 (
¨øy_p
, 
ödex_°r
);

481 
	`ecma_›_obje˘_put
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue_¨øy
),

482 
ödex_°r
,

483 
undeföed_vÆ
,

484 
Ál£
);

485 
	`ecma_dîef_ecma_°rög
 (
ödex_°r
);

487 
ecma_vÆue_t
 
√xt_¥omi£
 = 
	`ecma_buûtö_¥omi£_ªsﬁve
 (
˘‹
, 
¨øy_ôem
);

488 
	`ecma_‰ì_vÆue
 (
¨øy_ôem
);

491 i‡(
	`ECMA_IS_VALUE_ERROR
 (
√xt_¥omi£
))

493 
ªt
 = 
√xt_¥omi£
;

498 
ecma_obje˘_t
 *
ªs_ñe_p
;

499 
ªs_ñe_p
 = 
	`ecma_›_¸óã_exã∫Æ_fun˘i⁄_obje˘
 (
ecma_buûtö_¥omi£_Æl_h™dÀr
);

501 
	`ecma_›_obje˘_put
 (
ªs_ñe_p
,

502 
°r_Æªady_ˇŒed
,

503 
	`ecma_make_boﬁón_vÆue
 (
Ál£
),

504 
Ál£
);

506 
	`ecma_›_obje˘_put
 (
ªs_ñe_p
,

507 
°r_ödex
,

508 
	`ecma_make_uöt32_vÆue
 (
ödex
),

509 
Ál£
);

511 
	`ecma_›_obje˘_put
 (
ªs_ñe_p
,

512 
°r_vÆue
,

513 
vÆue_¨øy
,

514 
Ál£
);

516 
	`ecma_›_obje˘_put
 (
ªs_ñe_p
,

517 
°r_ˇ∑bûôy
,

518 
ˇ∑bûôy
,

519 
Ál£
);

521 
	`ecma_›_obje˘_put
 (
ªs_ñe_p
,

522 
°r_ªmaöög
,

523 
ªmaöög
,

524 
Ál£
);

527 
	`ecma_buûtö_¥omi£_ªmaöög_öc_‹_dec
 (
ªmaöög
, 
åue
);

529 
ecma_vÆue_t
 
thí_ªsu…
 = 
	`ecma_¥omi£_thí
 (
√xt_¥omi£
,

530 
	`ecma_make_obje˘_vÆue
 (
ªs_ñe_p
),

531 
ªje˘
);

532 
	`ecma_dîef_obje˘
 (
ªs_ñe_p
);

533 
	`ecma_‰ì_vÆue
 (
√xt_¥omi£
);

536 i‡(
	`ECMA_IS_VALUE_ERROR
 (
thí_ªsu…
))

538 
ªt
 = 
thí_ªsu…
;

542 
	`ecma_‰ì_vÆue
 (
thí_ªsu…
);

543 
ödex
 ++;

546 
	`ecma_‰ì_vÆue
 (
ªje˘
);

547 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

548 
	`ecma_‰ì_vÆue
 (
ªmaöög
);

549 
	`ecma_‰ì_vÆue
 (
vÆue_¨øy
);

550 
	`ecma_dîef_ecma_°rög
 (
°r_Æªady_ˇŒed
);

551 
	`ecma_dîef_ecma_°rög
 (
°r_ödex
);

552 
	`ecma_dîef_ecma_°rög
 (
°r_vÆue
);

553 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

554 
	`ecma_dîef_ecma_°rög
 (
°r_ªmaöög
);

555 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

556 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

557 
	`ecma_dîef_ecma_°rög
 (
°r_¥omi£
);

559 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_em±y
 (
ªt
));

561  
ªt
;

562 
	}
}

570 
ecma_vÆue_t


571 
	$ecma_buûtö_¥omi£_ø˚_‹_Æl
 (
ecma_vÆue_t
 
this_¨g
,

572 
ecma_vÆue_t
 
¨øy
,

573 
boﬁ
 
is_ø˚
)

575 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

577  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotán object."));

580 
uöt8_t
 
buûtö_id
 = 
	`ecma_gë_obje˘_buûtö_id
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
));

582 i‡(
buûtö_id
 !
ECMA_BUILTIN_ID_PROMISE
)

584  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotÅhe Promise constructor."));

587 
ecma_vÆue_t
 
ˇ∑bûôy
 = 
	`ecma_¥omi£_√w_ˇ∑bûôy
 ();

588 
ecma_vÆue_t
 
ªt
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

590 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨øy
)

591 || 
	`ecma_gë_obje˘_ty≥
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øy
)Ë!
ECMA_OBJECT_TYPE_ARRAY
)

593 
ecma_vÆue_t
 
îr‹
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Secondárgument isÇotánárray."));

594 
ªt
 = 
	`ecma_buûtö_¥omi£_ªje˘_abru±
 (
îr‹
, 
ˇ∑bûôy
);

595 
	`ecma_‰ì_vÆue
 (
îr‹
);

596 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

598  
ªt
;

601 i‡(
is_ø˚
)

603 
ªt
 = 
	`ecma_buûtö_¥omi£_do_ø˚
 (
¨øy
, 
ˇ∑bûôy
, 
this_¨g
);

607 
ªt
 = 
	`ecma_buûtö_¥omi£_do_Æl
 (
¨øy
, 
ˇ∑bûôy
, 
this_¨g
);

610 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt
))

612 
ªt
 = 
	`ecma_gë_vÆue_‰om_îr‹_vÆue
 (ret);

615 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

617  
ªt
;

618 
	}
}

629 
ecma_vÆue_t


630 
	$ecma_buûtö_¥omi£_ø˚
 (
ecma_vÆue_t
 
this_¨g
,

631 
ecma_vÆue_t
 
¨øy
)

633  
	`ecma_buûtö_¥omi£_ø˚_‹_Æl
 (
this_¨g
, 
¨øy
, 
åue
);

634 
	}
}

645 
ecma_vÆue_t


646 
	$ecma_buûtö_¥omi£_Æl
 (
ecma_vÆue_t
 
this_¨g
,

647 
ecma_vÆue_t
 
¨øy
)

649  
	`ecma_buûtö_¥omi£_ø˚_‹_Æl
 (
this_¨g
, 
¨øy
, 
Ál£
);

650 
	}
}

661 
ecma_vÆue_t


662 
	$ecma_buûtö_¥omi£_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

663 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

665 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

667  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Constructor PromiseÑequires 'new'."));

668 
	}
}

675 
ecma_vÆue_t


676 
	$ecma_buûtö_¥omi£_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

677 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

679 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

681 i‡(
¨gumíts_li°_Àn
 =0 || !
	`ecma_›_is_ˇŒabÀ
 (
¨gumíts_li°_p
[0]))

683  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("FirstÖarameter must be callable."));

686  
	`ecma_›_¸óã_¥omi£_obje˘
 (
¨gumíts_li°_p
[0], 
ECMA_PROMISE_EXECUTOR_FUNCTION
);

687 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


27 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

29 
ECMA_PROPERTY_FIXED
)

34 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

35 
ECMA_BUILTIN_ID_PROMISE_PROTOTYPE
,

36 
ECMA_PROPERTY_FIXED
)

40 
	$ROUTINE
 (
LIT_MAGIC_STRING_REJECT
, 
ecma_buûtö_¥omi£_ªje˘
, 1, 1)

41 
	$ROUTINE
 (
LIT_MAGIC_STRING_RESOLVE
, 
ecma_buûtö_¥omi£_ªsﬁve
, 1, 1)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_RACE
, 
ecma_buûtö_¥omi£_ø˚
, 1, 1)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_ALL
, 
ecma_buûtö_¥omi£_Æl
, 1, 1)

47 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-øngìº‹-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ønge_îr‹_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_RANGE_ERROR
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

33 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

34 
LIT_MAGIC_STRING_RANGE_ERROR_UL
,

35 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

38 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

39 
LIT_MAGIC_STRING__EMPTY
,

40 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-øngìº‹.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ønge_îr‹


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_ønge_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_RANGE
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

57 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_ønge_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

66 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

68  
	`ecma_buûtö_ønge_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

69 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_RANGE_ERROR_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ª„ªn˚îr‹-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ª„ªn˚_îr‹_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_REFERENCE_ERROR
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

33 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

34 
LIT_MAGIC_STRING_REFERENCE_ERROR_UL
,

35 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

38 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

39 
LIT_MAGIC_STRING__EMPTY
,

40 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ª„ªn˚îr‹.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ª„ªn˚_îr‹


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_ª„ªn˚_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_REFERENCE
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

57 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_ª„ªn˚_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

66 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

68  
	`ecma_buûtö_ª„ªn˚_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

69 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_REFERENCE_ERROR_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


27 
	~"ecma-ªgexp-obje˘.h
"

28 
	~"ª-compûî.h
"

30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ªgexp-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ªgexp_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

47 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


60 
ecma_vÆue_t


61 
	$ecma_buûtö_ªgexp_¥ŸŸy≥_compûe
 (
ecma_vÆue_t
 
this_¨g
,

62 
ecma_vÆue_t
 
∑âîn_¨g
,

63 
ecma_vÆue_t
 
Êags_¨g
)

65 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

67 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
)

68 || !
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
), 
LIT_MAGIC_STRING_REGEXP_UL
))

70 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Incomplete RegExpÅype"));

74 
uöt16_t
 
Êags
 = 0;

76 i‡(
	`ecma_is_vÆue_obje˘
 (
∑âîn_¨g
)

77 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
∑âîn_¨g
), 
LIT_MAGIC_STRING_REGEXP_UL
))

79 i‡(!
	`ecma_is_vÆue_undeföed
 (
Êags_¨g
))

81 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalidárgument of RegExp compile."));

86 
ecma_obje˘_t
 *
èrgë_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
∑âîn_¨g
);

89 
ecma_°rög_t
 *
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SOURCE
);

90 
ecma_vÆue_t
 
sour˚_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
èrgë_p
, 
magic_°rög_p
);

91 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

92 
ecma_°rög_t
 *
∑âîn_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
sour˚_vÆue
);

95 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GLOBAL
);

96 
ecma_vÆue_t
 
globÆ_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
èrgë_p
, 
magic_°rög_p
);

97 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

99 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
globÆ_vÆue
));

101 i‡(
	`ecma_is_vÆue_åue
 (
globÆ_vÆue
))

103 
Êags
 |
RE_FLAG_GLOBAL
;

106 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_IGNORECASE_UL
);

107 
ecma_vÆue_t
 
ign‹e_ˇ£_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
èrgë_p
, 
magic_°rög_p
);

108 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

110 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ign‹e_ˇ£_vÆue
));

112 i‡(
	`ecma_is_vÆue_åue
 (
ign‹e_ˇ£_vÆue
))

114 
Êags
 |
RE_FLAG_IGNORE_CASE
;

117 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MULTILINE
);

118 
ecma_vÆue_t
 
mu…ûöe_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
èrgë_p
, 
magic_°rög_p
);

119 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

121 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
mu…ûöe_vÆue
));

123 i‡(
	`ecma_is_vÆue_åue
 (
mu…ûöe_vÆue
))

125 
Êags
 |
RE_FLAG_MULTILINE
;

128 
	`ECMA_TRY_CATCH
 (
obj_this
, 
	`ecma_›_to_obje˘
 (
this_¨g
), 
ªt_vÆue
);

129 
ecma_obje˘_t
 *
this_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

132 
ecma_vÆue_t
 *
bc_¥›_p
 = &(((
ecma_exãnded_obje˘_t
 *Ë
this_obj_p
)->
u
.
˛ass_¥›
.u.
vÆue
);

136 c⁄° 
ª_compûed_code_t
 *
√w_bc_p
 = 
NULL
;

137 
ecma_vÆue_t
 
bc_comp
 = 
	`ª_compûe_byãcode
 (&
√w_bc_p
, 
∑âîn_°rög_p
, 
Êags
);

139 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
bc_comp
));

141 
	`ecma_dîef_ecma_°rög
 (
∑âîn_°rög_p
);

143 
ª_compûed_code_t
 *
ﬁd_bc_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ª_compûed_code_t, *
bc_¥›_p
);

145 i‡(
ﬁd_bc_p
 !
NULL
)

148 
	`ecma_byãcode_dîef
 ((
ecma_compûed_code_t
 *Ë
ﬁd_bc_p
);

151 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (*
bc_¥›_p
, 
√w_bc_p
);

153 
	`ª_öôülize_¥›s
 (
this_obj_p
, 
∑âîn_°rög_p
, 
Êags
);

155 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

157 
	`ECMA_FINALIZE
 (
obj_this
);

162 
ecma_°rög_t
 *
∑âîn_°rög_p
 = 
NULL
;

165 i‡(!
	`ecma_is_vÆue_undeföed
 (
∑âîn_¨g
))

167 
	`ECMA_TRY_CATCH
 (
ªgexp_°r_vÆue
,

168 
	`ecma_›_to_°rög
 (
∑âîn_¨g
),

169 
ªt_vÆue
);

171 i‡(
	`ecma_°rög_is_em±y
 (
	`ecma_gë_°rög_‰om_vÆue
 (
ªgexp_°r_vÆue
)))

173 
∑âîn_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
);

177 
∑âîn_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ªgexp_°r_vÆue
);

178 
	`ecma_ªf_ecma_°rög
 (
∑âîn_°rög_p
);

181 
	`ECMA_FINALIZE
 (
ªgexp_°r_vÆue
);

185 
∑âîn_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
);

189 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& !
	`ecma_is_vÆue_undeföed
 (
Êags_¨g
))

191 
	`ECMA_TRY_CATCH
 (
Êags_°r_vÆue
,

192 
	`ecma_›_to_°rög
 (
Êags_¨g
),

193 
ªt_vÆue
);

195 
	`ECMA_TRY_CATCH
 (
Êags_dummy
,

196 
	`ª_∑r£_ªgexp_Êags
 (
	`ecma_gë_°rög_‰om_vÆue
 (
Êags_°r_vÆue
), &
Êags
),

197 
ªt_vÆue
);

198 
	`ECMA_FINALIZE
 (
Êags_dummy
);

199 
	`ECMA_FINALIZE
 (
Êags_°r_vÆue
);

202 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

204 
	`ECMA_TRY_CATCH
 (
obj_this
, 
	`ecma_›_to_obje˘
 (
this_¨g
), 
ªt_vÆue
);

205 
ecma_obje˘_t
 *
this_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

207 
ecma_vÆue_t
 *
bc_¥›_p
 = &(((
ecma_exãnded_obje˘_t
 *Ë
this_obj_p
)->
u
.
˛ass_¥›
.u.
vÆue
);

210 c⁄° 
ª_compûed_code_t
 *
√w_bc_p
 = 
NULL
;

211 
	`ECMA_TRY_CATCH
 (
bc_dummy
,

212 
	`ª_compûe_byãcode
 (&
√w_bc_p
, 
∑âîn_°rög_p
, 
Êags
),

213 
ªt_vÆue
);

215 
ª_compûed_code_t
 *
ﬁd_bc_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ª_compûed_code_t, *
bc_¥›_p
);

217 i‡(
ﬁd_bc_p
 !
NULL
)

220 
	`ecma_byãcode_dîef
 ((
ecma_compûed_code_t
 *Ë
ﬁd_bc_p
);

223 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (*
bc_¥›_p
, 
√w_bc_p
);

224 
	`ª_öôülize_¥›s
 (
this_obj_p
, 
∑âîn_°rög_p
, 
Êags
);

225 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

227 
	`ECMA_FINALIZE
 (
bc_dummy
);

229 
	`ECMA_FINALIZE
 (
obj_this
);

232 i‡(
∑âîn_°rög_p
 !
NULL
)

234 
	`ecma_dîef_ecma_°rög
 (
∑âîn_°rög_p
);

239  
ªt_vÆue
;

240 
	}
}

255 
ecma_vÆue_t


256 
	$ecma_buûtö_ªgexp_¥ŸŸy≥_exec
 (
ecma_vÆue_t
 
this_¨g
,

257 
ecma_vÆue_t
 
¨g
)

259 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

261 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
)

262 || !
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
), 
LIT_MAGIC_STRING_REGEXP_UL
))

264 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Incomplete RegExpÅype"));

268 
	`ECMA_TRY_CATCH
 (
obj_this
, 
	`ecma_›_to_obje˘
 (
this_¨g
), 
ªt_vÆue
);

270 
	`ECMA_TRY_CATCH
 (
öput_°r_vÆue
,

271 
	`ecma_›_to_°rög
 (
¨g
),

272 
ªt_vÆue
);

274 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

275 
ecma_vÆue_t
 *
byãcode_¥›_p
 = &(((
ecma_exãnded_obje˘_t
 *Ë
obj_p
)->
u
.
˛ass_¥›
.u.
vÆue
);

277 *
byãcode_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (, *
byãcode_¥›_p
);

279 i‡(
byãcode_p
 =
NULL
)

282 
ecma_°rög_t
 *
ˇ±uª_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

284 
ecma_vÆue_t
 
¨gumíts_li°
[1];

285 
¨gumíts_li°
[0] = 
	`ecma_make_°rög_vÆue
 (
ˇ±uª_°r_p
);

287 
ªt_vÆue
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (
¨gumíts_li°
, 1, 
Ál£
);

289 
	`ecma_dîef_ecma_°rög
 (
ˇ±uª_°r_p
);

291 
	`ª_£t_ªsu…_¨øy_¥›îtõs
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªt_vÆue
),

292 
	`ecma_gë_°rög_‰om_vÆue
 (
öput_°r_vÆue
),

298 
ªt_vÆue
 = 
	`ecma_ªgexp_exec_hñ≥r
 (
obj_this
, 
öput_°r_vÆue
, 
Ál£
);

301 
	`ECMA_FINALIZE
 (
öput_°r_vÆue
);

302 
	`ECMA_FINALIZE
 (
obj_this
);

305  
ªt_vÆue
;

306 
	}
}

319 
ecma_vÆue_t


320 
	$ecma_buûtö_ªgexp_¥ŸŸy≥_ã°
 (
ecma_vÆue_t
 
this_¨g
,

321 
ecma_vÆue_t
 
¨g
)

323 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

325 
	`ECMA_TRY_CATCH
 (
m©ch_vÆue
,

326 
	`ecma_buûtö_ªgexp_¥ŸŸy≥_exec
 (
this_¨g
, 
¨g
),

327 
ªt_vÆue
);

329 
ªt_vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (!
	`ecma_is_vÆue_nuŒ
 (
m©ch_vÆue
));

331 
	`ECMA_FINALIZE
 (
m©ch_vÆue
);

333  
ªt_vÆue
;

334 
	}
}

345 
ecma_vÆue_t


346 
	$ecma_buûtö_ªgexp_¥ŸŸy≥_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

348 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

350 i‡(!
	`ecma_is_vÆue_obje˘
 (
this_¨g
)

351 || !
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
), 
LIT_MAGIC_STRING_REGEXP_UL
))

353 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Incomplete RegExpÅype"));

357 
	`ECMA_TRY_CATCH
 (
obj_this
,

358 
	`ecma_›_to_obje˘
 (
this_¨g
),

359 
ªt_vÆue
);

361 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_this
);

364 
ecma_°rög_t
 *
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SOURCE
);

365 
ecma_vÆue_t
 
sour˚_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
obj_p
, 
magic_°rög_p
);

366 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

368 
ecma_°rög_t
 *
§c_£p_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SLASH_CHAR
);

369 
ecma_°rög_t
 *
sour˚_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
sour˚_vÆue
);

370 
ecma_°rög_t
 *
ouçut_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
§c_£p_°r_p
, 
sour˚_°r_p
);

371 
	`ecma_dîef_ecma_°rög
 (
sour˚_°r_p
);

373 
ecma_°rög_t
 *
c⁄ˇt_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ouçut_°r_p
, 
§c_£p_°r_p
);

374 
	`ecma_dîef_ecma_°rög
 (
§c_£p_°r_p
);

375 
	`ecma_dîef_ecma_°rög
 (
ouçut_°r_p
);

376 
ouçut_°r_p
 = 
c⁄ˇt_p
;

379 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GLOBAL
);

380 
ecma_vÆue_t
 
globÆ_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
obj_p
, 
magic_°rög_p
);

381 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

383 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
globÆ_vÆue
));

385 i‡(
	`ecma_is_vÆue_åue
 (
globÆ_vÆue
))

387 
ecma_°rög_t
 *
g_Êag_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_G_CHAR
);

388 
c⁄ˇt_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ouçut_°r_p
, 
g_Êag_°r_p
);

389 
	`ecma_dîef_ecma_°rög
 (
ouçut_°r_p
);

390 
	`ecma_dîef_ecma_°rög
 (
g_Êag_°r_p
);

391 
ouçut_°r_p
 = 
c⁄ˇt_p
;

395 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_IGNORECASE_UL
);

396 
ecma_vÆue_t
 
ign‹e_ˇ£_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
obj_p
, 
magic_°rög_p
);

397 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

399 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ign‹e_ˇ£_vÆue
));

401 i‡(
	`ecma_is_vÆue_åue
 (
ign‹e_ˇ£_vÆue
))

403 
ecma_°rög_t
 *
ic_Êag_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_I_CHAR
);

404 
c⁄ˇt_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ouçut_°r_p
, 
ic_Êag_°r_p
);

405 
	`ecma_dîef_ecma_°rög
 (
ouçut_°r_p
);

406 
	`ecma_dîef_ecma_°rög
 (
ic_Êag_°r_p
);

407 
ouçut_°r_p
 = 
c⁄ˇt_p
;

411 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MULTILINE
);

412 
ecma_vÆue_t
 
mu…ûöe_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
obj_p
, 
magic_°rög_p
);

413 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

415 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
mu…ûöe_vÆue
));

417 i‡(
	`ecma_is_vÆue_åue
 (
mu…ûöe_vÆue
))

419 
ecma_°rög_t
 *
m_Êag_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_M_CHAR
);

420 
c⁄ˇt_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ouçut_°r_p
, 
m_Êag_°r_p
);

421 
	`ecma_dîef_ecma_°rög
 (
ouçut_°r_p
);

422 
	`ecma_dîef_ecma_°rög
 (
m_Êag_°r_p
);

423 
ouçut_°r_p
 = 
c⁄ˇt_p
;

426 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ouçut_°r_p
);

428 
	`ECMA_FINALIZE
 (
obj_this
);

431  
ªt_vÆue
;

432 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_REGEXP
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_SOURCE
,

31 
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$SIMPLE_VALUE
 (
LIT_MAGIC_STRING_GLOBAL
,

36 
ECMA_SIMPLE_VALUE_FALSE
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$SIMPLE_VALUE
 (
LIT_MAGIC_STRING_IGNORECASE_UL
,

41 
ECMA_SIMPLE_VALUE_FALSE
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$SIMPLE_VALUE
 (
LIT_MAGIC_STRING_MULTILINE
,

46 
ECMA_SIMPLE_VALUE_FALSE
,

47 
ECMA_PROPERTY_FIXED
)

50 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LASTINDEX_UL
,

52 
ECMA_PROPERTY_FLAG_WRITABLE
)

54 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


55 
	$ROUTINE
 (
LIT_MAGIC_STRING_COMPILE
, 
ecma_buûtö_ªgexp_¥ŸŸy≥_compûe
, 2, 1)

57 
	$ROUTINE
 (
LIT_MAGIC_STRING_EXEC
, 
ecma_buûtö_ªgexp_¥ŸŸy≥_exec
, 1, 1)

58 
	$ROUTINE
 (
LIT_MAGIC_STRING_TEST
, 
ecma_buûtö_ªgexp_¥ŸŸy≥_ã°
, 1, 1)

59 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_ªgexp_¥ŸŸy≥_to_°rög
, 0, 0)

63 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-obje˘s.h
"

22 
	~"ecma-ªgexp-obje˘.h
"

23 
	~"ecma-åy-ˇtch-ma¸o.h
"

25 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


27 
	#ECMA_BUILTINS_INTERNAL


	)

28 
	~"ecma-buûtös-öã∫Æ.h
"

30 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ªgexp.öc.h"

	)

31 
	#BUILTIN_UNDERSCORED_ID
 
ªgexp


	)

32 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

50 
ecma_vÆue_t


51 
	$ecma_buûtö_ªgexp_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

52 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

54  
	`ecma_buûtö_ªgexp_di•©ch_c⁄°ru˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

55 
	}
}

63 
ecma_vÆue_t


64 
	$ecma_buûtö_ªgexp_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

65 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

67 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

68 
ecma_vÆue_t
 
∑âîn_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

69 
ecma_vÆue_t
 
Êags_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

71 i‡(
¨gumíts_li°_Àn
 > 0)

74 
∑âîn_vÆue
 = 
¨gumíts_li°_p
[0];

76 i‡(
¨gumíts_li°_Àn
 > 1)

78 
Êags_vÆue
 = 
¨gumíts_li°_p
[1];

82 i‡(
	`ecma_is_vÆue_obje˘
 (
∑âîn_vÆue
)

83 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
∑âîn_vÆue
), 
LIT_MAGIC_STRING_REGEXP_UL
))

85 i‡(
	`ecma_is_vÆue_undeföed
 (
Êags_vÆue
))

87 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
∑âîn_vÆue
);

91 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalidárgument of RegExp call."));

96 
ecma_°rög_t
 *
∑âîn_°rög_p
 = 
NULL
;

97 
ecma_°rög_t
 *
Êags_°rög_p
 = 
NULL
;

99 i‡(!
	`ecma_is_vÆue_undeföed
 (
∑âîn_vÆue
))

101 
	`ECMA_TRY_CATCH
 (
ªgexp_°r_vÆue
,

102 
	`ecma_›_to_°rög
 (
∑âîn_vÆue
),

103 
ªt_vÆue
);

105 i‡(
	`ecma_°rög_is_em±y
 (
	`ecma_gë_°rög_‰om_vÆue
 (
ªgexp_°r_vÆue
)))

107 
∑âîn_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
);

111 
∑âîn_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ªgexp_°r_vÆue
);

112 
	`ecma_ªf_ecma_°rög
 (
∑âîn_°rög_p
);

115 
	`ECMA_FINALIZE
 (
ªgexp_°r_vÆue
);

119 
∑âîn_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
);

122 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& !
	`ecma_is_vÆue_undeföed
 (
Êags_vÆue
))

124 
	`ECMA_TRY_CATCH
 (
Êags_°r_vÆue
,

125 
	`ecma_›_to_°rög
 (
Êags_vÆue
),

126 
ªt_vÆue
);

128 
Êags_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
Êags_°r_vÆue
);

129 
	`ecma_ªf_ecma_°rög
 (
Êags_°rög_p
);

131 
	`ECMA_FINALIZE
 (
Êags_°r_vÆue
);

134 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

136 
ªt_vÆue
 = 
	`ecma_›_¸óã_ªgexp_obje˘
 (
∑âîn_°rög_p
, 
Êags_°rög_p
);

139 i‡(
∑âîn_°rög_p
 !
NULL
)

141 
	`ecma_dîef_ecma_°rög
 (
∑âîn_°rög_p
);

144 i‡(
Êags_°rög_p
 !
NULL
)

146 
	`ecma_dîef_ecma_°rög
 (
Êags_°rög_p
);

150  
ªt_vÆue
;

151 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

31 
ECMA_BUILTIN_ID_REGEXP_PROTOTYPE
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-c⁄vîsi⁄.h
"

21 
	~"ecma-ex˚±i⁄s.h
"

22 
	~"ecma-fun˘i⁄-obje˘.h
"

23 
	~"ecma-gc.h
"

24 
	~"ecma-globÆs.h
"

25 
	~"ecma-hñ≥rs.h
"

26 
	~"ecma-obje˘s.h
"

27 
	~"ecma-°rög-obje˘.h
"

28 
	~"ecma-åy-ˇtch-ma¸o.h
"

29 
	~"jπ.h
"

30 
	~"jπ-libc-ö˛udes.h
"

31 
	~"lô-ch¨-hñ≥rs.h
"

33 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


34 
	~"ecma-ªgexp-obje˘.h
"

37 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


39 
	#ECMA_BUILTINS_INTERNAL


	)

40 
	~"ecma-buûtös-öã∫Æ.h
"

42 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-°rög-¥ŸŸy≥.öc.h"

	)

43 
	#BUILTIN_UNDERSCORED_ID
 
°rög_¥ŸŸy≥


	)

44 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

65 
ecma_vÆue_t


66 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_°rög
 (
ecma_vÆue_t
 
this_¨g
)

68 i‡(
	`ecma_is_vÆue_°rög
 (
this_¨g
))

70  
	`ecma_c›y_vÆue
 (
this_¨g
);

72 i‡(
	`ecma_is_vÆue_obje˘
 (
this_¨g
))

74 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

76 i‡(
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_STRING_UL
))

78 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

80 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
));

82  
	`ecma_c›y_vÆue
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

86  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá String orá String object."));

87 
	}
}

98 
ecma_vÆue_t


99 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_vÆue_of
 (
ecma_vÆue_t
 
this_¨g
)

101  
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_°rög
 (
this_¨g
);

102 
	}
}

113 
ecma_vÆue_t


114 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ch¨_©
 (
ecma_vÆue_t
 
this_¨g
,

115 
ecma_vÆue_t
 
¨g
)

117 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

120 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

121 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

122 
ªt_vÆue
);

125 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

126 
	`ecma_›_to_°rög
 (
this_¨g
),

127 
ªt_vÆue
);

130 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
ödex_num
,

131 
¨g
,

132 
ªt_vÆue
);

135 
ecma_°rög_t
 *
‹igöÆ_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

136 c⁄° 
ecma_Àngth_t
 
Àn
 = 
	`ecma_°rög_gë_Àngth
 (
‹igöÆ_°rög_p
);

139 i‡(
ödex_num
 < 0 || index_num >
Àn
 || !len)

141 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
));

146 
ecma_ch¨_t
 
√w_ecma_ch¨
 = 
	`ecma_°rög_gë_ch¨_©_pos
 (
‹igöÆ_°rög_p
, 
	`ecma_numbî_to_uöt32
 (
ödex_num
));

147 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
	`ecma_√w_ecma_°rög_‰om_code_unô
 (
√w_ecma_ch¨
));

150 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
ödex_num
);

152 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

153 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

155  
ªt_vÆue
;

156 
	}
}

167 
ecma_vÆue_t


168 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ch¨_code_©
 (
ecma_vÆue_t
 
this_¨g
,

169 
ecma_vÆue_t
 
¨g
)

171 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

174 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

175 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

176 
ªt_vÆue
);

179 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

180 
	`ecma_›_to_°rög
 (
this_¨g
),

181 
ªt_vÆue
);

184 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
ödex_num
,

185 
¨g
,

186 
ªt_vÆue
);

189 
ecma_°rög_t
 *
‹igöÆ_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

190 c⁄° 
ecma_Àngth_t
 
Àn
 = 
	`ecma_°rög_gë_Àngth
 (
‹igöÆ_°rög_p
);

194 i‡(
ödex_num
 < 0 || index_num >
Àn
 || (
	`ecma_numbî_is_«n
 (index_num) && !len))

196 
ªt_vÆue
 = 
	`ecma_make_«n_vÆue
 ();

207 
	`JERRY_ASSERT
 (
	`ecma_numbî_is_«n
 (
ödex_num
Ë|| 
	`ecma_numbî_to_uöt32
 (ödex_numË=
	`ecma_numbî_åunc
 (index_num));

209 
ecma_ch¨_t
 
√w_ecma_ch¨
 = 
	`ecma_°rög_gë_ch¨_©_pos
 (
‹igöÆ_°rög_p
, 
	`ecma_numbî_to_uöt32
 (
ödex_num
));

210 
ªt_vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
√w_ecma_ch¨
);

213 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
ödex_num
);

215 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

216 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

218  
ªt_vÆue
;

219 
	}
}

230 
ecma_vÆue_t


231 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄ˇt
 (
ecma_vÆue_t
 
this_¨g
,

232 c⁄° 
ecma_vÆue_t
 *
¨gumít_li°_p
,

233 
ecma_Àngth_t
 
¨gumíts_numbî
)

235 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

238 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

239 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

240 
ªt_vÆue
);

243 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

244 
	`ecma_›_to_°rög
 (
this_¨g
),

245 
ªt_vÆue
);

251 
ecma_°rög_t
 *
°rög_to_ªtu∫
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

252 
	`ecma_ªf_ecma_°rög
 (
°rög_to_ªtu∫
);

255 
uöt32_t
 
¨g_ödex
 = 0;

256 
¨g_ödex
 < 
¨gumíts_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

257 ++
¨g_ödex
)

261 
ecma_°rög_t
 *
°rög_ãmp
 = 
°rög_to_ªtu∫
;

263 
	`ECMA_TRY_CATCH
 (
gë_¨g_°rög
,

264 
	`ecma_›_to_°rög
 (
¨gumít_li°_p
[
¨g_ödex
]),

265 
ªt_vÆue
);

267 
°rög_to_ªtu∫
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (°rög_to_ªtu∫, 
	`ecma_gë_°rög_‰om_vÆue
 (
gë_¨g_°rög
));

269 
	`ecma_dîef_ecma_°rög
 (
°rög_ãmp
);

271 
	`ECMA_FINALIZE
 (
gë_¨g_°rög
);

275 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

277 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
°rög_to_ªtu∫
);

281 
	`ecma_dîef_ecma_°rög
 (
°rög_to_ªtu∫
);

284 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

285 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

287  
ªt_vÆue
;

288 
	}
}

299 
ecma_vÆue_t


300 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ödex_of
 (
ecma_vÆue_t
 
this_¨g
,

301 
ecma_vÆue_t
 
¨g1
,

302 
ecma_vÆue_t
 
¨g2
)

304  
	`ecma_buûtö_hñ≥r_°rög_¥ŸŸy≥_obje˘_ödex_of
 (
this_¨g
, 
¨g1
, 
¨g2
, 
åue
);

305 
	}
}

316 
ecma_vÆue_t


317 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_œ°_ödex_of
 (
ecma_vÆue_t
 
this_¨g
,

318 
ecma_vÆue_t
 
¨g1
,

319 
ecma_vÆue_t
 
¨g2
)

321  
	`ecma_buûtö_hñ≥r_°rög_¥ŸŸy≥_obje˘_ödex_of
 (
this_¨g
, 
¨g1
, 
¨g2
, 
Ál£
);

322 
	}
}

333 
ecma_vÆue_t


334 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_loˇÀ_com∑ª
 (
ecma_vÆue_t
 
this_¨g
,

335 
ecma_vÆue_t
 
¨g
)

337 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

340 
	`ECMA_TRY_CATCH
 (
this_check_c€rcibÀ_vÆ
,

341 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

342 
ªt_vÆue
);

345 
	`ECMA_TRY_CATCH
 (
this_to_°rög_vÆ
,

346 
	`ecma_›_to_°rög
 (
this_¨g
),

347 
ªt_vÆue
);

350 
	`ECMA_TRY_CATCH
 (
¨g_to_°rög_vÆ
,

351 
	`ecma_›_to_°rög
 (
¨g
),

352 
ªt_vÆue
);

354 
ecma_°rög_t
 *
this_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
this_to_°rög_vÆ
);

355 
ecma_°rög_t
 *
¨g_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¨g_to_°rög_vÆ
);

357 
ecma_numbî_t
 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

359 i‡(
	`ecma_com∑ª_ecma_°rögs_ªœti⁄Æ
 (
this_°rög_p
, 
¨g_°rög_p
))

361 
ªsu…
 = 
ECMA_NUMBER_MINUS_ONE
;

363 i‡(!
	`ecma_com∑ª_ecma_°rögs
 (
this_°rög_p
, 
¨g_°rög_p
))

365 
ªsu…
 = 
ECMA_NUMBER_ONE
;

369 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

372 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
ªsu…
);

374 
	`ECMA_FINALIZE
 (
¨g_to_°rög_vÆ
);

375 
	`ECMA_FINALIZE
 (
this_to_°rög_vÆ
);

376 
	`ECMA_FINALIZE
 (
this_check_c€rcibÀ_vÆ
);

378  
ªt_vÆue
;

379 
	}
}

381 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


392 
ecma_vÆue_t


393 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_m©ch
 (
ecma_vÆue_t
 
this_¨g
,

394 
ecma_vÆue_t
 
¨g
)

396 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

399 
	`ECMA_TRY_CATCH
 (
this_check_c€rcibÀ_vÆue
,

400 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

401 
ªt_vÆue
);

404 
	`ECMA_TRY_CATCH
 (
this_to_°rög_vÆue
,

405 
	`ecma_›_to_°rög
 (
this_¨g
),

406 
ªt_vÆue
);

408 
ecma_vÆue_t
 
ªgexp_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

410 i‡(
	`ecma_is_vÆue_obje˘
 (
¨g
)

411 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g
), 
LIT_MAGIC_STRING_REGEXP_UL
))

413 
ªgexp_vÆue
 = 
	`ecma_c›y_vÆue
 (
¨g
);

418 
ecma_vÆue_t
 
ªgexp_¨gumíts
[1] = { 
¨g
 };

419 
	`ECMA_TRY_CATCH
 (
√w_ªgexp_vÆue
,

420 
	`ecma_buûtö_ªgexp_di•©ch_c⁄°ru˘
 (
ªgexp_¨gumíts
, 1),

421 
ªt_vÆue
);

423 
ªgexp_vÆue
 = 
	`ecma_c›y_vÆue
 (
√w_ªgexp_vÆue
);

425 
	`ECMA_FINALIZE
 (
√w_ªgexp_vÆue
);

428 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

430 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_em±y
 (
ªgexp_vÆue
));

431 
ecma_obje˘_t
 *
ªgexp_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ªgexp_vÆue
);

432 
ecma_°rög_t
 *
globÆ_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GLOBAL
);

435 
	`ECMA_TRY_CATCH
 (
globÆ_vÆue
,

436 
	`ecma_›_obje˘_gë
 (
ªgexp_obj_p
, 
globÆ_°rög_p
),

437 
ªt_vÆue
);

439 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
globÆ_vÆue
));

441 i‡(
	`ecma_is_vÆue_Ál£
 (
globÆ_vÆue
))

444 
ªt_vÆue
 = 
	`ecma_ªgexp_exec_hñ≥r
 (
ªgexp_vÆue
, 
this_to_°rög_vÆue
, 
Ál£
);

449 
ecma_°rög_t
 *
ödex_zîo_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (0);

451 
ecma_°rög_t
 *
œ°_ödex_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

453 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

454 
	`ecma_›_obje˘_put
 (
ªgexp_obj_p
,

455 
œ°_ödex_°rög_p
,

456 
	`ecma_make_öãgî_vÆue
 (0),

457 
åue
),

458 
ªt_vÆue
);

461 
	`ECMA_TRY_CATCH
 (
√w_¨øy_vÆue
,

462 
	`ecma_›_¸óã_¨øy_obje˘
 (
NULL
, 0, 
Ál£
),

463 
ªt_vÆue
);

465 
ecma_obje˘_t
 *
√w_¨øy_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy_vÆue
);

468 
ecma_numbî_t
 
¥evious_œ°_ödex
 = 0;

470 
uöt32_t
 
n
 = 0;

472 
boﬁ
 
œ°_m©ch
 = 
åue
;

475 
œ°_m©ch
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

478 
	`ECMA_TRY_CATCH
 (
exec_vÆue
,

479 
	`ecma_ªgexp_exec_hñ≥r
 (
ªgexp_vÆue
, 
this_to_°rög_vÆue
, 
Ál£
),

480 
ªt_vÆue
);

482 i‡(
	`ecma_is_vÆue_nuŒ
 (
exec_vÆue
))

485 
œ°_m©ch
 = 
Ál£
;

490 
	`ECMA_TRY_CATCH
 (
this_ödex_vÆue
,

491 
	`ecma_›_obje˘_gë
 (
ªgexp_obj_p
, 
œ°_ödex_°rög_p
),

492 
ªt_vÆue
);

494 
	`ECMA_TRY_CATCH
 (
this_ödex_numbî
,

495 
	`ecma_›_to_numbî
 (
this_ödex_vÆue
),

496 
ªt_vÆue
);

498 
ecma_numbî_t
 
this_ödex
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
this_ödex_numbî
);

501 i‡(
this_ödex
 =
¥evious_œ°_ödex
)

504 
	`ECMA_TRY_CATCH
 (
ödex_put_vÆue
,

505 
	`ecma_›_obje˘_put
 (
ªgexp_obj_p
,

506 
œ°_ödex_°rög_p
,

507 
	`ecma_make_numbî_vÆue
 (
this_ödex
 + 1),

508 
åue
),

509 
ªt_vÆue
);

512 
¥evious_œ°_ödex
 = 
this_ödex
 + 1;

514 
	`ECMA_FINALIZE
 (
ödex_put_vÆue
);

519 
¥evious_œ°_ödex
 = 
this_ödex
;

522 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

525 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
exec_vÆue
));

526 
ecma_obje˘_t
 *
exec_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
exec_vÆue
);

528 
	`ECMA_TRY_CATCH
 (
m©ch_°rög_vÆue
,

529 
	`ecma_›_obje˘_gë
 (
exec_obj_p
, 
ödex_zîo_°rög_p
),

530 
ªt_vÆue
);

532 
ecma_°rög_t
 *
cuºít_ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
n
);

535 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_obj_p
,

536 
cuºít_ödex_°r_p
,

537 
m©ch_°rög_vÆue
,

538 
åue
,

539 
åue
,

540 
åue
,

541 
Ál£
);

543 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

545 
	`ecma_dîef_ecma_°rög
 (
cuºít_ödex_°r_p
);

548 
n
++;

550 
	`ECMA_FINALIZE
 (
m©ch_°rög_vÆue
);

553 
	`ECMA_FINALIZE
 (
this_ödex_numbî
);

555 
	`ECMA_FINALIZE
 (
this_ödex_vÆue
);

558 
	`ECMA_FINALIZE
 (
exec_vÆue
);

561 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

563 i‡(
n
 == 0)

566 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

571 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
√w_¨øy_vÆue
);

575 
	`ECMA_FINALIZE
 (
√w_¨øy_vÆue
);

577 
	`ECMA_FINALIZE
 (
put_vÆue
);

579 
	`ecma_dîef_ecma_°rög
 (
œ°_ödex_°rög_p
);

580 
	`ecma_dîef_ecma_°rög
 (
ödex_zîo_°rög_p
);

583 
	`ECMA_FINALIZE
 (
globÆ_vÆue
);

585 
	`ecma_dîef_ecma_°rög
 (
globÆ_°rög_p
);

587 
	`ecma_‰ì_vÆue
 (
ªgexp_vÆue
);

590 
	`ECMA_FINALIZE
 (
this_to_°rög_vÆue
);

592 
	`ECMA_FINALIZE
 (
this_check_c€rcibÀ_vÆue
);

594  
ªt_vÆue
;

595 
	}
}

604 
boﬁ
 
	mis_ªgexp
;

605 
boﬁ
 
	mis_globÆ
;

606 
boﬁ
 
	mis_ª∂a˚_ˇŒabÀ
;

607 
ecma_vÆue_t
 
	möput_°rög
;

608 
ecma_Àngth_t
 
	möput_Àngth
;

609 
ecma_vÆue_t
 
	mªgexp_‹_£¨ch_°rög
;

611 
ecma_Àngth_t
 
	mm©ch_°¨t
;

612 
ecma_Àngth_t
 
	mm©ch_íd
;

615 
ecma_obje˘_t
 *
	mª∂a˚_fun˘i⁄_p
;

618 
ecma_°rög_t
 *
	mª∂a˚_°rög_p
;

619 
lô_utf8_byã_t
 *
	mª∂a˚_°r_cuº_p
;

620 } 
	tecma_buûtö_ª∂a˚_£¨ch_˘x_t
;

629 
ecma_°rög_t
 *

630 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (
ecma_°rög_t
 *
ba£_°rög_p
,

631 
ecma_°rög_t
 *
≠≥nded_°rög_p
,

632 
ecma_Àngth_t
 
°¨t
,

633 
ecma_Àngth_t
 
íd
,

634 
boﬁ
 
‰ì_ba£_°rög
)

636 
ecma_°rög_t
 *
ªt_°rög_p
;

638 
	`JERRY_ASSERT
 (
°¨t
 <
íd
);

639 
	`JERRY_ASSERT
 (
íd
 <
	`ecma_°rög_gë_Àngth
 (
≠≥nded_°rög_p
));

641 i‡(
°¨t
 < 
íd
)

643 
ecma_°rög_t
 *
sub°rög_p
 = 
	`ecma_°rög_sub°r
 (
≠≥nded_°rög_p
, 
°¨t
, 
íd
);

644 
ªt_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ba£_°rög_p
, 
sub°rög_p
);

646 
	`ecma_dîef_ecma_°rög
 (
sub°rög_p
);

647 i‡(
‰ì_ba£_°rög
)

649 
	`ecma_dîef_ecma_°rög
 (
ba£_°rög_p
);

652 i‡(
‰ì_ba£_°rög
)

654 
ªt_°rög_p
 = 
ba£_°rög_p
;

658 
ªt_°rög_p
 = 
ba£_°rög_p
;

659 
	`ecma_ªf_ecma_°rög
 (
ªt_°rög_p
);

662  
ªt_°rög_p
;

663 
	}
}

671 
ecma_vÆue_t


672 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_m©ch
 (
ecma_buûtö_ª∂a˚_£¨ch_˘x_t
 *
c⁄ãxt_p
)

675 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

677 
c⁄ãxt_p
->
m©ch_°¨t
 = 0;

678 
c⁄ãxt_p
->
m©ch_íd
 = 0;

680 i‡(
c⁄ãxt_p
->
is_ªgexp
)

682 
	`ECMA_TRY_CATCH
 (
m©ch_vÆue
,

683 
	`ecma_ªgexp_exec_hñ≥r
 (
c⁄ãxt_p
->
ªgexp_‹_£¨ch_°rög
,

684 
c⁄ãxt_p
->
öput_°rög
,

685 
Ál£
),

686 
ªt_vÆue
);

688 i‡(!
	`ecma_is_vÆue_nuŒ
 (
m©ch_vÆue
))

690 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
m©ch_vÆue
));

692 
ecma_obje˘_t
 *
m©ch_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
m©ch_vÆue
);

693 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INDEX
);

694 
ecma_°rög_t
 *
zîo_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (0);

696 
	`ECMA_TRY_CATCH
 (
ödex_vÆue
,

697 
	`ecma_›_obje˘_gë
 (
m©ch_obje˘_p
, 
ödex_°rög_p
),

698 
ªt_vÆue
);

700 
	`ECMA_TRY_CATCH
 (
ªsu…_°rög_vÆue
,

701 
	`ecma_›_obje˘_gë
 (
m©ch_obje˘_p
, 
zîo_°rög_p
),

702 
ªt_vÆue
);

707 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
ödex_vÆue
));

708 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
ªsu…_°rög_vÆue
));

712 
ecma_°rög_t
 *
ªsu…_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ªsu…_°rög_vÆue
);

713 
ecma_numbî_t
 
ödex_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
ödex_vÆue
);

715 
c⁄ãxt_p
->
m©ch_°¨t
 = (
ecma_Àngth_t
Ë(
ödex_numbî
);

716 
c⁄ãxt_p
->
m©ch_íd
 = c⁄ãxt_p->
m©ch_°¨t
 + (
ecma_Àngth_t
Ë
	`ecma_°rög_gë_Àngth
 (
ªsu…_°rög_p
);

718 
	`JERRY_ASSERT
 ((
ecma_Àngth_t
Ë
	`ecma_numbî_to_uöt32
 (
ödex_numbî
Ë=
c⁄ãxt_p
->
m©ch_°¨t
);

720 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
m©ch_vÆue
);

722 
	`ECMA_FINALIZE
 (
ªsu…_°rög_vÆue
);

723 
	`ECMA_FINALIZE
 (
ödex_vÆue
);

724 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

725 
	`ecma_dîef_ecma_°rög
 (
zîo_°rög_p
);

729 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

732 
	`ECMA_FINALIZE
 (
m©ch_vÆue
);

736 
	`JERRY_ASSERT
 (!
c⁄ãxt_p
->
is_globÆ
);

738 
ecma_°rög_t
 *
£¨ch_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
c⁄ãxt_p
->
ªgexp_‹_£¨ch_°rög
);

739 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
c⁄ãxt_p
->
öput_°rög
);

741 
ecma_Àngth_t
 
ödex_of
 = 0;

742 i‡(
	`ecma_buûtö_hñ≥r_°rög_föd_ödex
 (
öput_°rög_p
, 
£¨ch_°rög_p
, 
åue
, 0, &
ödex_of
))

744 
ecma_vÆue_t
 
¨gumíts_li°_p
[1] = { 
c⁄ãxt_p
->
ªgexp_‹_£¨ch_°rög
 };

745 
	`ECMA_TRY_CATCH
 (
√w_¨øy_vÆue
,

746 
	`ecma_›_¸óã_¨øy_obje˘
 (
¨gumíts_li°_p
, 1, 
Ál£
),

747 
ªt_vÆue
);

749 
c⁄ãxt_p
->
m©ch_°¨t
 = 
ödex_of
;

750 
c⁄ãxt_p
->
m©ch_íd
 = 
ödex_of
 + 
	`ecma_°rög_gë_Àngth
 (
£¨ch_°rög_p
);

752 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
√w_¨øy_vÆue
);

754 
	`ECMA_FINALIZE
 (
√w_¨øy_vÆue
);

758 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

762  
ªt_vÆue
;

763 
	}
}

771 
ecma_vÆue_t


772 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_gë_°rög
 (
ecma_buûtö_ª∂a˚_£¨ch_˘x_t
 *
c⁄ãxt_p
,

774 
ecma_vÆue_t
 
m©ch_vÆue
)

776 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

777 
ecma_°rög_t
 *
Àngth_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

778 
ecma_obje˘_t
 *
m©ch_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
m©ch_vÆue
);

780 
	`ECMA_TRY_CATCH
 (
m©ch_Àngth_vÆue
,

781 
	`ecma_›_obje˘_gë
 (
m©ch_obje˘_p
, 
Àngth_°rög_p
),

782 
ªt_vÆue
);

784 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
m©ch_Àngth_vÆue
));

786 
ecma_numbî_t
 
m©ch_Àngth_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
m©ch_Àngth_vÆue
);

787 
ecma_Àngth_t
 
m©ch_Àngth
 = (ecma_Àngth_tË(
m©ch_Àngth_numbî
);

789 
	`JERRY_ASSERT
 ((
ecma_Àngth_t
Ë
	`ecma_numbî_to_uöt32
 (
m©ch_Àngth_numbî
Ë=
m©ch_Àngth
);

790 
	`JERRY_ASSERT
 (
m©ch_Àngth
 >= 1);

792 i‡(
c⁄ãxt_p
->
is_ª∂a˚_ˇŒabÀ
)

794 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
¨gumíts_li°
,

795 
m©ch_Àngth
 + 2,

796 
ecma_vÆue_t
);

800 
ecma_Àngth_t
 
vÆues_c›õd
 = 0;

802 
ecma_Àngth_t
 
i
 = 0;

803 (
i
 < 
m©ch_Àngth
Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

804 
i
++)

806 
ecma_°rög_t
 *
ödex_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
i
);

807 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
,

808 
	`ecma_›_obje˘_gë
 (
m©ch_obje˘_p
, 
ödex_p
),

809 
ªt_vÆue
);

811 
¨gumíts_li°
[
i
] = 
	`ecma_c›y_vÆue
 (
cuºít_vÆue
);

812 
vÆues_c›õd
++;

814 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

815 
	`ecma_dîef_ecma_°rög
 (
ödex_p
);

818 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

820 
¨gumíts_li°
[
m©ch_Àngth
] = 
	`ecma_make_uöt32_vÆue
 (
c⁄ãxt_p
->
m©ch_°¨t
);

821 
¨gumíts_li°
[
m©ch_Àngth
 + 1] = 
	`ecma_c›y_vÆue
 (
c⁄ãxt_p
->
öput_°rög
);

823 
	`ECMA_TRY_CATCH
 (
ªsu…_vÆue
,

824 
	`ecma_›_fun˘i⁄_ˇŒ
 (
c⁄ãxt_p
->
ª∂a˚_fun˘i⁄_p
,

825 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

826 
¨gumíts_li°
,

827 
m©ch_Àngth
 + 2),

828 
ªt_vÆue
);

830 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆue
,

831 
	`ecma_›_to_°rög
 (
ªsu…_vÆue
),

832 
ªt_vÆue
);

834 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
to_°rög_vÆue
);

836 
	`ECMA_FINALIZE
 (
to_°rög_vÆue
);

837 
	`ECMA_FINALIZE
 (
ªsu…_vÆue
);

839 
	`ecma_‰ì_vÆue
 (
¨gumíts_li°
[
m©ch_Àngth
 + 1]);

842 
ecma_Àngth_t
 
i
 = 0; i < 
vÆues_c›õd
; i++)

844 
	`ecma_‰ì_vÆue
 (
¨gumíts_li°
[
i
]);

847 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
¨gumíts_li°
);

865 
ecma_°rög_t
 *
ªsu…_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

867 
ecma_Àngth_t
 
¥evious_°¨t
 = 0;

868 
ecma_Àngth_t
 
cuºít_posôi⁄
 = 0;

870 
lô_utf8_byã_t
 *
ª∂a˚_°r_cuº_p
 = 
c⁄ãxt_p
->replace_str_curr_p;

871 
lô_utf8_byã_t
 *
ª∂a˚_°r_íd_p
 = 
ª∂a˚_°r_cuº_p
 + 
	`ecma_°rög_gë_size
 (
c⁄ãxt_p
->
ª∂a˚_°rög_p
);

873 
ª∂a˚_°r_cuº_p
 < 
ª∂a˚_°r_íd_p
)

875 
ecma_ch¨_t
 
a˘i⁄
 = 
LIT_CHAR_NULL
;

877 i‡(*
ª∂a˚_°r_cuº_p
 !
LIT_CHAR_DOLLAR_SIGN
)

880 i‡((*
ª∂a˚_°r_cuº_p
 & 
LIT_UTF8_EXTRA_BYTE_MASK
Ë!
LIT_UTF8_EXTRA_BYTE_MARKER
)

882 
cuºít_posôi⁄
++;

884 
ª∂a˚_°r_cuº_p
++;

888 
ª∂a˚_°r_cuº_p
++;

890 i‡(
ª∂a˚_°r_cuº_p
 < 
ª∂a˚_°r_íd_p
)

892 
a˘i⁄
 = *
ª∂a˚_°r_cuº_p
;

894 i‡(
a˘i⁄
 =
LIT_CHAR_DOLLAR_SIGN
)

896 
cuºít_posôi⁄
++;

898 i‡(
a˘i⁄
 >
LIT_CHAR_0
 &&á˘i⁄ <
LIT_CHAR_9
)

900 
uöt32_t
 
ödex
 = 0;

902 
ödex
 = (
uöt32_t
Ë(
a˘i⁄
 - 
LIT_CHAR_0
);

904 i‡(
ödex
 >
m©ch_Àngth
)

906 
a˘i⁄
 = 
LIT_CHAR_NULL
;

908 i‡(
ödex
 =0 || 
m©ch_Àngth
 > 10)

910 
ª∂a˚_°r_cuº_p
++;

912 i‡(
ª∂a˚_°r_cuº_p
 < 
ª∂a˚_°r_íd_p
)

914 
ecma_ch¨_t
 
√xt_ch¨a˘î
 = *
ª∂a˚_°r_cuº_p
;

916 i‡(
√xt_ch¨a˘î
 >
LIT_CHAR_0
 &&Çext_ch¨a˘î <
LIT_CHAR_9
)

918 
uöt32_t
 
fuŒ_ödex
 = 
ödex
 * 10 + (uöt32_tË(
√xt_ch¨a˘î
 - 
LIT_CHAR_0
);

919 i‡(
fuŒ_ödex
 > 0 && fuŒ_ödex < 
m©ch_Àngth
)

921 
ödex
 = 
m©ch_Àngth
;

926 
ª∂a˚_°r_cuº_p
--;

928 i‡(
ödex
 == 0)

930 
a˘i⁄
 = 
LIT_CHAR_NULL
;

934 i‡(
a˘i⁄
 !
LIT_CHAR_AMPERSAND


935 && 
a˘i⁄
 !
LIT_CHAR_GRAVE_ACCENT


936 && 
a˘i⁄
 !
LIT_CHAR_SINGLE_QUOTE
)

938 
a˘i⁄
 = 
LIT_CHAR_NULL
;

942 i‡(
a˘i⁄
 !
LIT_CHAR_NULL
)

944 
ªsu…_°rög_p
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (result_string_p,

945 
c⁄ãxt_p
->
ª∂a˚_°rög_p
,

946 
¥evious_°¨t
,

947 
cuºít_posôi⁄
,

948 
åue
);

949 
ª∂a˚_°r_cuº_p
++;

950 
cuºít_posôi⁄
++;

952 i‡(
a˘i⁄
 =
LIT_CHAR_DOLLAR_SIGN
)

954 
cuºít_posôi⁄
--;

956 i‡(
a˘i⁄
 =
LIT_CHAR_GRAVE_ACCENT
)

958 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
c⁄ãxt_p
->
öput_°rög
);

959 
ªsu…_°rög_p
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (result_string_p,

960 
öput_°rög_p
,

962 
c⁄ãxt_p
->
m©ch_°¨t
,

963 
åue
);

965 i‡(
a˘i⁄
 =
LIT_CHAR_SINGLE_QUOTE
)

967 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
c⁄ãxt_p
->
öput_°rög
);

968 
ªsu…_°rög_p
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (result_string_p,

969 
öput_°rög_p
,

970 
c⁄ãxt_p
->
m©ch_íd
,

971 
c⁄ãxt_p
->
öput_Àngth
,

972 
åue
);

977 
uöt32_t
 
ödex
 = 0;

979 
	`JERRY_ASSERT
 (
a˘i⁄
 =
LIT_CHAR_AMPERSAND
 || (a˘i⁄ >
LIT_CHAR_0
 &&á˘i⁄ <
LIT_CHAR_9
));

981 i‡(
a˘i⁄
 >
LIT_CHAR_0
 &&á˘i⁄ <
LIT_CHAR_9
)

983 
ödex
 = (
uöt32_t
Ë(
a˘i⁄
 - 
LIT_CHAR_0
);

985 i‡((
m©ch_Àngth
 > 10 || 
ödex
 == 0)

986 && 
ª∂a˚_°r_cuº_p
 < 
ª∂a˚_°r_íd_p
)

988 
a˘i⁄
 = *
ª∂a˚_°r_cuº_p
;

989 i‡(
a˘i⁄
 >
LIT_CHAR_0
 &&á˘i⁄ <
LIT_CHAR_9
)

991 
uöt32_t
 
fuŒ_ödex
 = 
ödex
 * 10 + (uöt32_tË(
a˘i⁄
 - 
LIT_CHAR_0
);

992 i‡(
fuŒ_ödex
 < 
m©ch_Àngth
)

994 
ödex
 = 
fuŒ_ödex
;

995 
ª∂a˚_°r_cuº_p
++;

996 
cuºít_posôi⁄
++;

1000 
	`JERRY_ASSERT
 (
ödex
 > 0 && index < 
m©ch_Àngth
);

1003 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

1005 
	`ECMA_TRY_CATCH
 (
subm©ch_vÆue
,

1006 
	`ecma_›_obje˘_gë
 (
m©ch_obje˘_p
, 
ödex_°rög_p
),

1007 
ªt_vÆue
);

1010 i‡(!
	`ecma_is_vÆue_undeföed
 (
subm©ch_vÆue
))

1012 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
subm©ch_vÆue
));

1013 
ecma_°rög_t
 *
subm©ch_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
subm©ch_vÆue
);

1015 
ecma_°rög_t
 *
≠≥nded_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ªsu…_°rög_p
, 
subm©ch_°rög_p
);

1016 
	`ecma_dîef_ecma_°rög
 (
ªsu…_°rög_p
);

1017 
ªsu…_°rög_p
 = 
≠≥nded_°rög_p
;

1020 
	`ECMA_FINALIZE
 (
subm©ch_vÆue
);

1021 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

1023 i‡(!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1029 
cuºít_posôi⁄
++;

1030 
¥evious_°¨t
 = 
cuºít_posôi⁄
;

1034 
cuºít_posôi⁄
++;

1038 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1040 
ªsu…_°rög_p
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (result_string_p,

1041 
c⁄ãxt_p
->
ª∂a˚_°rög_p
,

1042 
¥evious_°¨t
,

1043 
cuºít_posôi⁄
,

1044 
åue
);

1046 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªsu…_°rög_p
);

1050 
	`ECMA_FINALIZE
 (
m©ch_Àngth_vÆue
);

1051 
	`ecma_dîef_ecma_°rög
 (
Àngth_°rög_p
);

1053  
ªt_vÆue
;

1054 
	}
}

1062 
ecma_vÆue_t


1063 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_lo›
 (
ecma_buûtö_ª∂a˚_£¨ch_˘x_t
 *
c⁄ãxt_p
)

1066 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1067 
ecma_Àngth_t
 
¥evious_°¨t
 = 0;

1068 
boﬁ
 
c⁄töue_m©ch
 = 
åue
;

1070 
ecma_°rög_t
 *
ªsu…_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

1071 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
c⁄ãxt_p
->
öput_°rög
);

1073 
c⁄töue_m©ch
)

1075 
c⁄töue_m©ch
 = 
Ál£
;

1076 
	`ECMA_TRY_CATCH
 (
m©ch_vÆue
,

1077 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_m©ch
 (
c⁄ãxt_p
),

1078 
ªt_vÆue
);

1080 i‡(!
	`ecma_is_vÆue_nuŒ
 (
m©ch_vÆue
))

1082 
ªsu…_°rög_p
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (result_string_p,

1083 
öput_°rög_p
,

1084 
¥evious_°¨t
,

1085 
c⁄ãxt_p
->
m©ch_°¨t
,

1086 
åue
);

1088 
	`ECMA_TRY_CATCH
 (
°rög_vÆue
,

1089 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_gë_°rög
 (
c⁄ãxt_p
, 
m©ch_vÆue
),

1090 
ªt_vÆue
);

1092 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
°rög_vÆue
));

1094 
ecma_°rög_t
 *
≠≥nded_°rög_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
ªsu…_°rög_p
,

1095 
	`ecma_gë_°rög_‰om_vÆue
 (
°rög_vÆue
));

1097 
	`ecma_dîef_ecma_°rög
 (
ªsu…_°rög_p
);

1098 
ªsu…_°rög_p
 = 
≠≥nded_°rög_p
;

1100 
	`ECMA_FINALIZE
 (
°rög_vÆue
);

1102 
¥evious_°¨t
 = 
c⁄ãxt_p
->
m©ch_íd
;

1104 i‡(
c⁄ãxt_p
->
is_globÆ


1105 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
)

1106 && 
c⁄ãxt_p
->
m©ch_°¨t
 =c⁄ãxt_p->
m©ch_íd
)

1108 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
is_ªgexp
);

1110 i‡(
c⁄ãxt_p
->
m©ch_íd
 =c⁄ãxt_p->
öput_Àngth
)

1113 
c⁄ãxt_p
->
is_globÆ
 = 
Ál£
;

1117 
ecma_°rög_t
 *
œ°_ödex_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

1118 
ecma_obje˘_t
 *
ªgexp_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
c⁄ãxt_p
->
ªgexp_‹_£¨ch_°rög
);

1120 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

1121 
	`ecma_›_obje˘_put
 (
ªgexp_obj_p
,

1122 
œ°_ödex_°rög_p
,

1123 
	`ecma_make_uöt32_vÆue
 (
c⁄ãxt_p
->
m©ch_íd
 + 1),

1124 
åue
),

1125 
ªt_vÆue
);

1127 
	`ECMA_FINALIZE
 (
put_vÆue
);

1128 
	`ecma_dîef_ecma_°rög
 (
œ°_ödex_°rög_p
);

1133 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1135 i‡(!
c⁄ãxt_p
->
is_globÆ
 || 
	`ecma_is_vÆue_nuŒ
 (
m©ch_vÆue
))

1138 
ecma_°rög_t
 *
≠≥nded_°rög_p
;

1139 
≠≥nded_°rög_p
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_≠≥nd_sub°r
 (
ªsu…_°rög_p
,

1140 
öput_°rög_p
,

1141 
¥evious_°¨t
,

1142 
c⁄ãxt_p
->
öput_Àngth
,

1143 
Ál£
);

1145 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
≠≥nded_°rög_p
);

1149 
c⁄töue_m©ch
 = 
åue
;

1153 
	`ECMA_FINALIZE
 (
m©ch_vÆue
);

1156 
	`ecma_dîef_ecma_°rög
 (
ªsu…_°rög_p
);

1157  
ªt_vÆue
;

1158 
	}
}

1169 
ecma_vÆue_t


1170 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_maö
 (
ecma_buûtö_ª∂a˚_£¨ch_˘x_t
 *
c⁄ãxt_p
,

1172 
ecma_vÆue_t
 
ª∂a˚_vÆue
)

1174 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1176 i‡(
	`ecma_›_is_ˇŒabÀ
 (
ª∂a˚_vÆue
))

1178 
c⁄ãxt_p
->
is_ª∂a˚_ˇŒabÀ
 = 
åue
;

1179 
c⁄ãxt_p
->
ª∂a˚_fun˘i⁄_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ª∂a˚_vÆue
);

1181 
ªt_vÆue
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_lo›
 (
c⁄ãxt_p
);

1185 
c⁄ãxt_p
->
is_ª∂a˚_ˇŒabÀ
 = 
Ál£
;

1187 
	`ECMA_TRY_CATCH
 (
to_°rög_ª∂a˚_vÆ
,

1188 
	`ecma_›_to_°rög
 (
ª∂a˚_vÆue
),

1189 
ªt_vÆue
);

1191 
ecma_°rög_t
 *
ª∂a˚_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_ª∂a˚_vÆ
);

1193 
	`ECMA_STRING_TO_UTF8_STRING
 (
ª∂a˚_°rög_p
, 
ª∂a˚_°¨t_p
, 
ª∂a˚_°¨t_size
);

1195 
c⁄ãxt_p
->
ª∂a˚_°rög_p
 =Ñeplace_string_p;

1196 
c⁄ãxt_p
->
ª∂a˚_°r_cuº_p
 = (
lô_utf8_byã_t
 *Ë
ª∂a˚_°¨t_p
;

1198 
ªt_vÆue
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_lo›
 (
c⁄ãxt_p
);

1200 
	`ECMA_FINALIZE_UTF8_STRING
 (
ª∂a˚_°¨t_p
, 
ª∂a˚_°¨t_size
);

1201 
	`ECMA_FINALIZE
 (
to_°rög_ª∂a˚_vÆ
);

1204  
ªt_vÆue
;

1205 
	}
}

1239 
ecma_vÆue_t


1240 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚
 (
ecma_vÆue_t
 
this_¨g
,

1241 
ecma_vÆue_t
 
£¨ch_vÆue
,

1242 
ecma_vÆue_t
 
ª∂a˚_vÆue
)

1244 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1247 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

1248 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

1249 
ªt_vÆue
);

1252 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆue
,

1253 
	`ecma_›_to_°rög
 (
this_¨g
),

1254 
ªt_vÆue
);

1256 
ecma_buûtö_ª∂a˚_£¨ch_˘x_t
 
c⁄ãxt
;

1258 i‡(
	`ecma_is_vÆue_obje˘
 (
£¨ch_vÆue
)

1259 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
£¨ch_vÆue
), 
LIT_MAGIC_STRING_REGEXP_UL
))

1261 
ecma_obje˘_t
 *
ªgexp_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
£¨ch_vÆue
);

1262 
ecma_°rög_t
 *
globÆ_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GLOBAL
);

1264 
	`ECMA_TRY_CATCH
 (
globÆ_vÆue
,

1265 
	`ecma_›_obje˘_gë
 (
ªgexp_obj_p
, 
globÆ_°rög_p
),

1266 
ªt_vÆue
);

1268 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
globÆ_vÆue
));

1270 
c⁄ãxt
.
is_ªgexp
 = 
åue
;

1271 
c⁄ãxt
.
is_globÆ
 = 
	`ecma_is_vÆue_åue
 (
globÆ_vÆue
);

1272 
c⁄ãxt
.
öput_°rög
 = 
to_°rög_vÆue
;

1273 
c⁄ãxt
.
öput_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆue
));

1274 
c⁄ãxt
.
ªgexp_‹_£¨ch_°rög
 = 
£¨ch_vÆue
;

1276 i‡(
c⁄ãxt
.
is_globÆ
)

1278 
ecma_°rög_t
 *
œ°_ödex_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

1280 
	`ECMA_TRY_CATCH
 (
put_vÆue
,

1281 
	`ecma_›_obje˘_put
 (
ªgexp_obj_p
,

1282 
œ°_ödex_°rög_p
,

1283 
	`ecma_make_öãgî_vÆue
 (0),

1284 
åue
),

1285 
ªt_vÆue
);

1287 
	`ECMA_FINALIZE
 (
put_vÆue
);

1288 
	`ecma_dîef_ecma_°rög
 (
œ°_ödex_°rög_p
);

1291 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1293 
ªt_vÆue
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_maö
 (&
c⁄ãxt
, 
ª∂a˚_vÆue
);

1296 
	`ECMA_FINALIZE
 (
globÆ_vÆue
);

1297 
	`ecma_dîef_ecma_°rög
 (
globÆ_°rög_p
);

1301 
	`ECMA_TRY_CATCH
 (
to_°rög_£¨ch_vÆ
,

1302 
	`ecma_›_to_°rög
 (
£¨ch_vÆue
),

1303 
ªt_vÆue
);

1305 
c⁄ãxt
.
is_ªgexp
 = 
Ál£
;

1306 
c⁄ãxt
.
is_globÆ
 = 
Ál£
;

1307 
c⁄ãxt
.
öput_°rög
 = 
to_°rög_vÆue
;

1308 
c⁄ãxt
.
öput_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆue
));

1309 
c⁄ãxt
.
ªgexp_‹_£¨ch_°rög
 = 
to_°rög_£¨ch_vÆ
;

1311 
ªt_vÆue
 = 
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚_maö
 (&
c⁄ãxt
, 
ª∂a˚_vÆue
);

1313 
	`ECMA_FINALIZE
 (
to_°rög_£¨ch_vÆ
);

1316 
	`ECMA_FINALIZE
 (
to_°rög_vÆue
);

1317 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

1319  
ªt_vÆue
;

1320 
	}
}

1331 
ecma_vÆue_t


1332 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_£¨ch
 (
ecma_vÆue_t
 
this_¨g
,

1333 
ecma_vÆue_t
 
ªgexp_¨g
)

1335 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1338 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆue
,

1339 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

1340 
ªt_vÆue
);

1343 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆue
,

1344 
	`ecma_›_to_°rög
 (
this_¨g
),

1345 
ªt_vÆue
);

1347 
ecma_vÆue_t
 
ªgexp_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1350 i‡(
	`ecma_is_vÆue_obje˘
 (
ªgexp_¨g
)

1351 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªgexp_¨g
), 
LIT_MAGIC_STRING_REGEXP_UL
))

1353 
ªgexp_vÆue
 = 
	`ecma_c›y_vÆue
 (
ªgexp_¨g
);

1358 
ecma_vÆue_t
 
ªgexp_¨gumíts
[1] = { 
ªgexp_¨g
 };

1360 
	`ECMA_TRY_CATCH
 (
√w_ªgexp_vÆue
,

1361 
	`ecma_buûtö_ªgexp_di•©ch_c⁄°ru˘
 (
ªgexp_¨gumíts
, 1),

1362 
ªt_vÆue
);

1364 
ªgexp_vÆue
 = 
	`ecma_c›y_vÆue
 (
√w_ªgexp_vÆue
);

1366 
	`ECMA_FINALIZE
 (
√w_ªgexp_vÆue
);

1370 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1372 
	`ECMA_TRY_CATCH
 (
m©ch_ªsu…
,

1373 
	`ecma_ªgexp_exec_hñ≥r
 (
ªgexp_vÆue
, 
to_°rög_vÆue
, 
åue
),

1374 
ªt_vÆue
);

1376 
ecma_numbî_t
 
off£t
 = -1;

1378 i‡(!
	`ecma_is_vÆue_nuŒ
 (
m©ch_ªsu…
))

1380 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
m©ch_ªsu…
));

1382 
ecma_obje˘_t
 *
m©ch_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
m©ch_ªsu…
);

1383 
ecma_°rög_t
 *
ödex_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INDEX
);

1385 
	`ECMA_TRY_CATCH
 (
ödex_vÆue
,

1386 
	`ecma_›_obje˘_gë
 (
m©ch_obje˘_p
, 
ödex_°rög_p
),

1387 
ªt_vÆue
);

1389 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
ödex_vÆue
));

1391 
off£t
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
ödex_vÆue
);

1393 
	`ECMA_FINALIZE
 (
ödex_vÆue
);

1394 
	`ecma_dîef_ecma_°rög
 (
ödex_°rög_p
);

1397 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1399 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
off£t
);

1402 
	`ECMA_FINALIZE
 (
m©ch_ªsu…
);

1403 
	`ecma_‰ì_vÆue
 (
ªgexp_vÆue
);

1406 
	`ECMA_FINALIZE
 (
to_°rög_vÆue
);

1407 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆue
);

1410  
ªt_vÆue
;

1411 
	}
}

1424 
ecma_vÆue_t


1425 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_¶i˚
 (
ecma_vÆue_t
 
this_¨g
,

1426 
ecma_vÆue_t
 
¨g1
,

1427 
ecma_vÆue_t
 
¨g2
)

1429 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1432 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

1433 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

1434 
ªt_vÆue
);

1437 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

1438 
	`ecma_›_to_°rög
 (
this_¨g
),

1439 
ªt_vÆue
);

1442 
ecma_°rög_t
 *
gë_°rög_vÆ
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

1444 c⁄° 
ecma_Àngth_t
 
Àn
 = 
	`ecma_°rög_gë_Àngth
 (
gë_°rög_vÆ
);

1447 
ecma_Àngth_t
 
°¨t
 = 0, 
íd
 = 
Àn
;

1449 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
°¨t_num
,

1450 
¨g1
,

1451 
ªt_vÆue
);

1453 
°¨t
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
°¨t_num
, 
Àn
);

1456 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g2
))

1458 
íd
 = 
Àn
;

1462 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
íd_num
,

1463 
¨g2
,

1464 
ªt_vÆue
);

1466 
íd
 = 
	`ecma_buûtö_hñ≥r_¨øy_ödex_n‹mÆize
 (
íd_num
, 
Àn
);

1468 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
íd_num
);

1471 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
°¨t_num
);

1473 
	`JERRY_ASSERT
 (
°¨t
 <
Àn
 && 
íd
 <=Üen);

1475 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1478 
ecma_°rög_t
 *
√w_°r_p
 = 
	`ecma_°rög_sub°r
 (
gë_°rög_vÆ
, 
°¨t
, 
íd
);

1479 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
√w_°r_p
);

1482 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

1483 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

1485  
ªt_vÆue
;

1486 
	}
}

1498 
ecma_vÆue_t


1499 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_•lô
 (
ecma_vÆue_t
 
this_¨g
,

1500 
ecma_vÆue_t
 
¨g1
,

1501 
ecma_vÆue_t
 
¨g2
)

1503 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1506 
	`ECMA_TRY_CATCH
 (
this_check_c€rcibÀ_vÆ
,

1507 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

1508 
ªt_vÆue
);

1511 
	`ECMA_TRY_CATCH
 (
this_to_°rög_vÆ
,

1512 
	`ecma_›_to_°rög
 (
this_¨g
),

1513 
ªt_vÆue
);

1516 
ecma_vÆue_t
 
√w_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (0, 0, 
Ál£
);

1519 
ecma_Àngth_t
 
limô
 = 0;

1521 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g2
))

1523 
limô
 = (
uöt32_t
) -1;

1527 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
limô_num
, 
¨g2
, 
ªt_vÆue
);

1529 
limô
 = 
	`ecma_numbî_to_uöt32
 (
limô_num
);

1531 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
limô_num
);

1534 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& 
limô
 != 0)

1537 
ecma_obje˘_t
 *
√w_¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_¨øy
);

1540 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g1
))

1542 
ecma_°rög_t
 *
zîo_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
ECMA_NUMBER_ZERO
);

1544 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

1545 
zîo_°r_p
,

1546 
this_to_°rög_vÆ
,

1547 
åue
,

1548 
åue
,

1549 
åue
,

1550 
Ál£
);

1552 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1554 
	`ecma_dîef_ecma_°rög
 (
zîo_°r_p
);

1559 
ecma_vÆue_t
 
£∑øt‹
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1561 
boﬁ
 
£∑øt‹_is_ªgexp
 = 
Ál£
;

1563 i‡(
	`ecma_is_vÆue_obje˘
 (
¨g1
)

1564 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g1
), 
LIT_MAGIC_STRING_REGEXP_UL
))

1566 
£∑øt‹_is_ªgexp
 = 
åue
;

1567 
£∑øt‹
 = 
	`ecma_c›y_vÆue
 (
¨g1
);

1571 
	`ECMA_TRY_CATCH
 (
£∑øt‹_to_°rög_vÆ
,

1572 
	`ecma_›_to_°rög
 (
¨g1
),

1573 
ªt_vÆue
);

1575 
£∑øt‹
 = 
	`ecma_c›y_vÆue
 (
£∑øt‹_to_°rög_vÆ
);

1577 
	`ECMA_FINALIZE
 (
£∑øt‹_to_°rög_vÆ
);

1580 c⁄° 
ecma_°rög_t
 *
this_to_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
this_to_°rög_vÆ
);

1583 i‡(
	`ecma_°rög_is_em±y
 (
this_to_°rög_p
Ë&& 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1585 
boﬁ
 
should_ªtu∫
 = 
Ál£
;

1587 i‡(
£∑øt‹_is_ªgexp
)

1589 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


1590 
ecma_vÆue_t
 
ªgexp_vÆue
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
£∑øt‹
);

1591 
ecma_°rög_t
 *
sub°r_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

1592 
ecma_vÆue_t
 
m©ch_ªsu…
;

1593 
m©ch_ªsu…
 = 
	`ecma_ªgexp_exec_hñ≥r
 (
ªgexp_vÆue
, 
	`ecma_make_°rög_vÆue
 (
sub°r_°r_p
), 
åue
);

1594 
should_ªtu∫
 = !
	`ecma_is_vÆue_nuŒ
 (
m©ch_ªsu…
);

1596 
	`ecma_dîef_ecma_°rög
 (
sub°r_°r_p
);

1597 
	`ecma_‰ì_vÆue
 (
m©ch_ªsu…
);

1599  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("REGEXP separator is disabled in split method."));

1604 
ecma_°rög_t
 *
£∑øt‹_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
£∑øt‹
);

1606 i‡(
	`ecma_°rög_gë_Àngth
 (
£∑øt‹_°r_p
) == 0)

1608 
should_ªtu∫
 = 
åue
;

1612 i‡(!
should_ªtu∫
)

1615 
ecma_°rög_t
 *
zîo_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
ECMA_NUMBER_ZERO
);

1617 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

1618 
zîo_°r_p
,

1619 
this_to_°rög_vÆ
,

1620 
åue
,

1621 
åue
,

1622 
åue
,

1623 
Ál£
);

1625 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1626 
	`ecma_dîef_ecma_°rög
 (
zîo_°r_p
);

1632 
ecma_Àngth_t
 
√w_¨øy_Àngth
 = 0;

1635 
ecma_Àngth_t
 
°¨t_pos
 = 0;

1638 
ecma_Àngth_t
 
cuº_pos
 = 
°¨t_pos
;

1640 
boﬁ
 
£∑øt‹_is_em±y
 = 
Ál£
;

1641 
boﬁ
 
should_ªtu∫
 = 
Ál£
;

1644 c⁄° 
ecma_Àngth_t
 
°rög_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
this_to_°rög_p
);

1646 
cuº_pos
 < 
°rög_Àngth
 && !
should_ªtu∫
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1648 
ecma_vÆue_t
 
m©ch_ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

1650 i‡(
£∑øt‹_is_ªgexp
)

1652 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


1653 
ecma_vÆue_t
 
ªgexp_vÆue
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
£∑øt‹
);

1654 
ecma_°rög_t
 *
sub°r_°r_p
 = 
	`ecma_°rög_sub°r
 (
this_to_°rög_p
, 
cuº_pos
, 
°rög_Àngth
);

1655 
m©ch_ªsu…
 = 
	`ecma_ªgexp_exec_hñ≥r
 (
ªgexp_vÆue
, 
	`ecma_make_°rög_vÆue
 (
sub°r_°r_p
), 
åue
);

1656 
	`ecma_dîef_ecma_°rög
 (
sub°r_°r_p
);

1658  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("REGEXP separator is disabled in split method."));

1663 
ecma_°rög_t
 *
£∑øt‹_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
£∑øt‹
);

1664 
ecma_Àngth_t
 
£∑øt‹_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
£∑øt‹_°r_p
);

1666 i‡(
cuº_pos
 + 
£∑øt‹_Àngth
 <
°rög_Àngth
)

1668 
boﬁ
 
is_dif„ª¡
 = 
Ál£
;

1669 
ecma_Àngth_t
 
i
 = 0; i < 
£∑øt‹_Àngth
 && !
is_dif„ª¡
; i++)

1671 
ecma_ch¨_t
 
ch¨_‰om_°rög
 = 
	`ecma_°rög_gë_ch¨_©_pos
 (
this_to_°rög_p
, 
cuº_pos
 + 
i
);

1672 
ecma_ch¨_t
 
ch¨_‰om_£∑øt‹
 = 
	`ecma_°rög_gë_ch¨_©_pos
 (
£∑øt‹_°r_p
, 
i
);

1673 
is_dif„ª¡
 = (
ch¨_‰om_°rög
 !
ch¨_‰om_£∑øt‹
);

1676 i‡(!
is_dif„ª¡
)

1679 
m©ch_ªsu…
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (0, 0, 
Ál£
);

1684 i‡(
	`ecma_is_vÆue_nuŒ
 (
m©ch_ªsu…
Ë|| 
	`ECMA_IS_VALUE_ERROR
 (match_result))

1686 
cuº_pos
++;

1690 
ecma_obje˘_t
 *
m©ch_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
m©ch_ªsu…
);

1691 
ecma_°rög_t
 *
zîo_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
ECMA_NUMBER_ZERO
);

1692 
ecma_°rög_t
 *
magic_ödex_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INDEX
);

1693 
ecma_¥›îty_vÆue_t
 *
ödex_¥›_vÆue_p
;

1696 i‡(
£∑øt‹_is_ªgexp
)

1698 
ödex_¥›_vÆue_p
 = 
	`ecma_gë_«med_d©a_¥›îty
 (
m©ch_obj_p
, 
magic_ödex_°r_p
);

1699 
ecma_numbî_t
 
ödex_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
ödex_¥›_vÆue_p
->
vÆue
);

1700 
	`ecma_vÆue_assign_numbî
 (&
ödex_¥›_vÆue_p
->
vÆue
, 
ödex_num
 + (
ecma_numbî_t
Ë
cuº_pos
);

1704 
ecma_°rög_t
 *
£∑øt‹_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
£∑øt‹
);

1706 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
m©ch_obj_p
,

1707 
zîo_°r_p
,

1708 
	`ecma_make_°rög_vÆue
 (
£∑øt‹_°r_p
),

1709 
åue
,

1710 
åue
,

1711 
åue
,

1712 
åue
);

1713 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1715 
ödex_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
m©ch_obj_p
,

1716 
magic_ödex_°r_p
,

1717 
ECMA_PROPERTY_FLAG_WRITABLE
,

1718 
NULL
);

1719 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
m©ch_obj_p
,

1720 
ödex_¥›_vÆue_p
,

1721 
	`ecma_make_uöt32_vÆue
 (
cuº_pos
));

1725 
	`ecma_dîef_ecma_°rög
 (
magic_ödex_°r_p
);

1727 
ecma_vÆue_t
 
m©ch_comp_vÆue
 = 
	`ecma_›_obje˘_gë
 (
m©ch_obj_p
, 
zîo_°r_p
);

1728 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
m©ch_comp_vÆue
));

1730 
ecma_°rög_t
 *
m©ch_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
m©ch_comp_vÆue
);

1731 
ecma_Àngth_t
 
m©ch_°r_Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
m©ch_°r_p
);

1733 
ecma_°rög_t
 *
magic_em±y_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING__EMPTY
);

1734 
£∑øt‹_is_em±y
 = 
	`ecma_com∑ª_ecma_°rögs
 (
magic_em±y_°r_p
, 
m©ch_°r_p
);

1736 
	`ecma_dîef_ecma_°rög
 (
magic_em±y_°r_p
);

1737 
	`ecma_‰ì_vÆue
 (
m©ch_comp_vÆue
);

1738 
	`ecma_dîef_ecma_°rög
 (
zîo_°r_p
);

1740 
ecma_numbî_t
 
ödex_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
ödex_¥›_vÆue_p
->
vÆue
);

1741 
	`JERRY_ASSERT
 (
ödex_num
 >= 0);

1744 
uöt32_t
 
íd_pos
 = 
	`ecma_numbî_to_uöt32
 (
ödex_num
);

1746 i‡(
£∑øt‹_is_em±y
)

1748 
íd_pos
 = 
cuº_pos
 + 1;

1752 
ecma_°rög_t
 *
sub°r_°r_p
 = 
	`ecma_°rög_sub°r
 (
this_to_°rög_p
,

1753 
°¨t_pos
,

1754 
íd_pos
);

1756 
ecma_°rög_t
 *
¨øy_Àngth_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
√w_¨øy_Àngth
);

1758 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

1759 
¨øy_Àngth_°r_p
,

1760 
	`ecma_make_°rög_vÆue
 (
sub°r_°r_p
),

1761 
åue
,

1762 
åue
,

1763 
åue
,

1764 
Ál£
);

1766 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1769 
√w_¨øy_Àngth
++;

1772 i‡(
√w_¨øy_Àngth
 =
limô
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1774 
should_ªtu∫
 = 
åue
;

1778 
°¨t_pos
 = 
íd_pos
 + 
m©ch_°r_Àngth
;

1779 
ecma_°rög_t
 *
magic_Àngth_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1781 
	`ECMA_TRY_CATCH
 (
¨øy_Àngth_vÆ
,

1782 
	`ecma_›_obje˘_gë
 (
m©ch_obj_p
, 
magic_Àngth_°r_p
),

1783 
ªt_vÆue
);

1785 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨øy_Àngth_num
, 
¨øy_Àngth_vÆ
, 
ªt_vÆue
);

1788 c⁄° 
uöt32_t
 
m©ch_ªsu…_¨øy_Àngth
 = 
	`ecma_numbî_to_uöt32
 (
¨øy_Àngth_num
) - 1;

1791 
uöt32_t
 
i
 = 0;

1794 
i
 < 
m©ch_ªsu…_¨øy_Àngth
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1797 
i
++;

1798 
ecma_°rög_t
 *
idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
i
);

1799 
ecma_°rög_t
 *
√w_¨øy_idx_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
√w_¨øy_Àngth
);

1801 
m©ch_comp_vÆue
 = 
	`ecma_›_obje˘_gë
 (
m©ch_obj_p
, 
idx_°r_p
);

1803 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
m©ch_comp_vÆue
));

1806 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

1807 
√w_¨øy_idx_°r_p
,

1808 
m©ch_comp_vÆue
,

1809 
åue
,

1810 
åue
,

1811 
åue
,

1812 
Ál£
);

1814 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1817 
√w_¨øy_Àngth
++;

1820 i‡(
√w_¨øy_Àngth
 =
limô
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1822 
should_ªtu∫
 = 
åue
;

1825 
	`ecma_‰ì_vÆue
 (
m©ch_comp_vÆue
);

1826 
	`ecma_dîef_ecma_°rög
 (
√w_¨øy_idx_°r_p
);

1827 
	`ecma_dîef_ecma_°rög
 (
idx_°r_p
);

1831 
cuº_pos
 = 
°¨t_pos
;

1833 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨øy_Àngth_num
);

1834 
	`ECMA_FINALIZE
 (
¨øy_Àngth_vÆ
);

1835 
	`ecma_dîef_ecma_°rög
 (
magic_Àngth_°r_p
);

1836 
	`ecma_dîef_ecma_°rög
 (
¨øy_Àngth_°r_p
);

1837 
	`ecma_dîef_ecma_°rög
 (
sub°r_°r_p
);

1840 
	`ecma_‰ì_vÆue
 (
m©ch_ªsu…
);

1844 i‡(!
should_ªtu∫
 && !
£∑øt‹_is_em±y
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1847 
ecma_°rög_t
 *
sub°r_°r_p
;

1848 
sub°r_°r_p
 = 
	`ecma_°rög_sub°r
 (
this_to_°rög_p
,

1849 
°¨t_pos
,

1850 
°rög_Àngth
);

1853 
ecma_°rög_t
 *
¨øy_Àngth_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
√w_¨øy_Àngth
);

1855 
ecma_vÆue_t
 
put_comp
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
√w_¨øy_p
,

1856 
¨øy_Àngth_°rög_p
,

1857 
	`ecma_make_°rög_vÆue
 (
sub°r_°r_p
),

1858 
åue
,

1859 
åue
,

1860 
åue
,

1861 
Ál£
);

1863 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
put_comp
));

1865 
	`ecma_dîef_ecma_°rög
 (
¨øy_Àngth_°rög_p
);

1866 
	`ecma_dîef_ecma_°rög
 (
sub°r_°r_p
);

1870 
	`ecma_‰ì_vÆue
 (
£∑øt‹
);

1874 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1876 
ªt_vÆue
 = 
√w_¨øy
;

1880 
	`ecma_‰ì_vÆue
 (
√w_¨øy
);

1883 
	`ECMA_FINALIZE
 (
this_to_°rög_vÆ
);

1884 
	`ECMA_FINALIZE
 (
this_check_c€rcibÀ_vÆ
);

1886  
ªt_vÆue
;

1887 
	}
}

1898 
ecma_vÆue_t


1899 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_sub°rög
 (
ecma_vÆue_t
 
this_¨g
,

1900 
ecma_vÆue_t
 
¨g1
,

1901 
ecma_vÆue_t
 
¨g2
)

1903 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1906 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

1907 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

1908 
ªt_vÆue
);

1911 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

1912 
	`ecma_›_to_°rög
 (
this_¨g
),

1913 
ªt_vÆue
);

1916 
ecma_°rög_t
 *
‹igöÆ_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

1918 c⁄° 
ecma_Àngth_t
 
Àn
 = 
	`ecma_°rög_gë_Àngth
 (
‹igöÆ_°rög_p
);

1921 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
°¨t_num
,

1922 
¨g1
,

1923 
ªt_vÆue
);

1925 
ecma_Àngth_t
 
°¨t
 = 0, 
íd
 = 
Àn
;

1927 
°¨t
 = 
	`ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
°¨t_num
, 
Àn
, 
åue
);

1930 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g2
))

1932 
íd
 = 
Àn
;

1936 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
íd_num
,

1937 
¨g2
,

1938 
ªt_vÆue
);

1940 
íd
 = 
	`ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
íd_num
, 
Àn
, 
åue
);

1942 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
íd_num
);

1945 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1947 
	`JERRY_ASSERT
 (
°¨t
 <
Àn
 && 
íd
 <=Üen);

1950 
uöt32_t
 
‰om
 = 
°¨t
 < 
íd
 ? start :Énd;

1953 
uöt32_t
 
to
 = 
°¨t
 > 
íd
 ? start :Énd;

1956 
ecma_°rög_t
 *
√w_°r_p
 = 
	`ecma_°rög_sub°r
 (
‹igöÆ_°rög_p
, 
‰om
, 
to
);

1957 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
√w_°r_p
);

1960 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
°¨t_num
);

1962 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

1963 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

1965  
ªt_vÆue
;

1966 
	}
}

1974 
ecma_vÆue_t


1975 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄vîsi⁄_hñ≥r
 (
ecma_vÆue_t
 
this_¨g
,

1976 
boﬁ
 
lowî_ˇ£
)

1979 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1982 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

1983 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

1984 
ªt_vÆue
);

1987 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

1988 
	`ecma_›_to_°rög
 (
this_¨g
),

1989 
ªt_vÆue
);

1992 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

1994 
	`ECMA_STRING_TO_UTF8_STRING
 (
öput_°rög_p
, 
öput_°¨t_p
, 
öput_°¨t_size
);

2001 
lô_utf8_size_t
 
ouçut_Àngth
 = 0;

2002 c⁄° 
lô_utf8_byã_t
 *
öput_°r_cuº_p
 = 
öput_°¨t_p
;

2003 c⁄° 
lô_utf8_byã_t
 *
öput_°r_íd_p
 = 
öput_°¨t_p
 + 
öput_°¨t_size
;

2005 
öput_°r_cuº_p
 < 
öput_°r_íd_p
)

2007 
ecma_ch¨_t
 
ch¨a˘î
 = 
	`lô_utf8_ªad_√xt
 (&
öput_°r_cuº_p
);

2008 
ecma_ch¨_t
 
ch¨a˘î_buf„r
[
LIT_MAXIMUM_OTHER_CASE_LENGTH
];

2009 
ecma_Àngth_t
 
ch¨a˘î_Àngth
;

2010 
lô_utf8_byã_t
 
utf8_byã_buf„r
[
LIT_CESU8_MAX_BYTES_IN_CODE_POINT
];

2012 i‡(
lowî_ˇ£
)

2014 
ch¨a˘î_Àngth
 = 
	`lô_ch¨_to_lowî_ˇ£
 (
ch¨a˘î
,

2015 
ch¨a˘î_buf„r
,

2016 
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

2020 
ch¨a˘î_Àngth
 = 
	`lô_ch¨_to_uµî_ˇ£
 (
ch¨a˘î
,

2021 
ch¨a˘î_buf„r
,

2022 
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

2025 
	`JERRY_ASSERT
 (
ch¨a˘î_Àngth
 >1 && ch¨a˘î_Àngth <
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

2027 
ecma_Àngth_t
 
i
 = 0; i < 
ch¨a˘î_Àngth
; i++)

2029 
ouçut_Àngth
 +
	`lô_code_unô_to_utf8
 (
ch¨a˘î_buf„r
[
i
], 
utf8_byã_buf„r
);

2035 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ouçut_°¨t_p
,

2036 
ouçut_Àngth
,

2037 
lô_utf8_byã_t
);

2039 
lô_utf8_byã_t
 *
ouçut_ch¨_p
 = 
ouçut_°¨t_p
;

2042 
öput_°r_cuº_p
 = 
öput_°¨t_p
;

2044 
öput_°r_cuº_p
 < 
öput_°r_íd_p
)

2046 
ecma_ch¨_t
 
ch¨a˘î
 = 
	`lô_utf8_ªad_√xt
 (&
öput_°r_cuº_p
);

2047 
ecma_ch¨_t
 
ch¨a˘î_buf„r
[
LIT_MAXIMUM_OTHER_CASE_LENGTH
];

2048 
ecma_Àngth_t
 
ch¨a˘î_Àngth
;

2050 i‡(
lowî_ˇ£
)

2052 
ch¨a˘î_Àngth
 = 
	`lô_ch¨_to_lowî_ˇ£
 (
ch¨a˘î
,

2053 
ch¨a˘î_buf„r
,

2054 
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

2058 
ch¨a˘î_Àngth
 = 
	`lô_ch¨_to_uµî_ˇ£
 (
ch¨a˘î
,

2059 
ch¨a˘î_buf„r
,

2060 
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

2063 
	`JERRY_ASSERT
 (
ch¨a˘î_Àngth
 >1 && ch¨a˘î_Àngth <
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

2065 
ecma_Àngth_t
 
i
 = 0; i < 
ch¨a˘î_Àngth
; i++)

2067 
ouçut_ch¨_p
 +
	`lô_code_unô_to_utf8
 (
ch¨a˘î_buf„r
[
i
], output_char_p);

2071 
	`JERRY_ASSERT
 (
ouçut_°¨t_p
 + 
ouçut_Àngth
 =
ouçut_ch¨_p
);

2073 
ecma_°rög_t
 *
ouçut_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ouçut_°¨t_p
, 
ouçut_Àngth
);

2075 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ouçut_°rög_p
);

2077 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ouçut_°¨t_p
);

2078 
	`ECMA_FINALIZE_UTF8_STRING
 (
öput_°¨t_p
, 
öput_°¨t_size
);

2080 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

2081 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

2083  
ªt_vÆue
;

2084 
	}
}

2095 
ecma_vÆue_t


2096 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_lowî_ˇ£
 (
ecma_vÆue_t
 
this_¨g
)

2098  
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄vîsi⁄_hñ≥r
 (
this_¨g
, 
åue
);

2099 
	}
}

2110 
ecma_vÆue_t


2111 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_loˇÀ_lowî_ˇ£
 (
ecma_vÆue_t
 
this_¨g
)

2113  
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄vîsi⁄_hñ≥r
 (
this_¨g
, 
åue
);

2114 
	}
}

2125 
ecma_vÆue_t


2126 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_uµî_ˇ£
 (
ecma_vÆue_t
 
this_¨g
)

2128  
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄vîsi⁄_hñ≥r
 (
this_¨g
, 
Ál£
);

2129 
	}
}

2140 
ecma_vÆue_t


2141 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_loˇÀ_uµî_ˇ£
 (
ecma_vÆue_t
 
this_¨g
)

2143  
	`ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄vîsi⁄_hñ≥r
 (
this_¨g
, 
Ál£
);

2144 
	}
}

2155 
ecma_vÆue_t


2156 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_åim
 (
ecma_vÆue_t
 
this_¨g
)

2158 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2161 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

2162 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

2163 
ªt_vÆue
);

2166 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
,

2167 
	`ecma_›_to_°rög
 (
this_¨g
),

2168 
ªt_vÆue
);

2170 
ecma_°rög_t
 *
‹igöÆ_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

2172 
ecma_°rög_t
 *
åimmed_°rög_p
 = 
	`ecma_°rög_åim
 (
‹igöÆ_°rög_p
);

2173 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
åimmed_°rög_p
);

2175 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

2176 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

2178  
ªt_vÆue
;

2179 
	}
}

2181 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


2192 
ecma_vÆue_t


2193 
	$ecma_buûtö_°rög_¥ŸŸy≥_obje˘_sub°r
 (
ecma_vÆue_t
 
this_¨g
,

2194 
ecma_vÆue_t
 
°¨t
,

2195 
ecma_vÆue_t
 
Àngth
)

2197 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

2199 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_vÆ
,

2200 
	`ecma_›_check_obje˘_c€rcibÀ
 (
this_¨g
),

2201 
ªt_vÆue
);

2204 
	`ECMA_TRY_CATCH
 (
to_°rög_vÆ
, 
	`ecma_›_to_°rög
 (
this_¨g
), 
ªt_vÆue
);

2205 
ecma_°rög_t
 *
this_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°rög_vÆ
);

2208 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
°¨t_num
, 
°¨t
, 
ªt_vÆue
);

2209 i‡(
	`ecma_numbî_is_«n
 (
°¨t_num
))

2211 
°¨t_num
 = 0;

2215 
ecma_numbî_t
 
Àngth_num
 = 
	`ecma_numbî_make_öföôy
 (
Ál£
);

2216 i‡(!
	`ecma_is_vÆue_undeföed
 (
Àngth
))

2218 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn
, 
Àngth
, 
ªt_vÆue
);

2219 
Àngth_num
 = 
	`ecma_numbî_is_«n
 (
Àn
) ? 0 :Üen;

2221 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn
);

2224 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

2227 
ecma_numbî_t
 
this_Àn
 = (ecma_numbî_tË
	`ecma_°rög_gë_Àngth
 (
this_°rög_p
);

2230 
ecma_numbî_t
 
‰om_num
 = (
°¨t_num
 < 0Ë? 
	`JERRY_MAX
 (
this_Àn
 + start_num, 0) : start_num;

2231 
uöt32_t
 
‰om
 = 
	`ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
‰om_num
, 
	`ecma_numbî_to_uöt32
 (
this_Àn
), 
åue
);

2234 
ecma_numbî_t
 
to_num
 = 
	`JERRY_MAX
 (
	`JERRY_MIN
 (JERRY_MAX (
Àngth_num
, 0), 
this_Àn
 - 
‰om_num
), 0);

2235 
uöt32_t
 
to
 = 
‰om
 + 
	`ecma_buûtö_hñ≥r_°rög_ödex_n‹mÆize
 (
to_num
, 
	`ecma_numbî_to_uöt32
 (
this_Àn
), 
åue
);

2238 
ecma_°rög_t
 *
√w_°r_p
 = 
	`ecma_°rög_sub°r
 (
this_°rög_p
, 
‰om
, 
to
);

2239 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
√w_°r_p
);

2242 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
°¨t_num
);

2243 
	`ECMA_FINALIZE
 (
to_°rög_vÆ
);

2244 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_vÆ
);

2246  
ªt_vÆue
;

2247 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_STRING
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

36 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

38 
ECMA_PROPERTY_FIXED
)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_STRING_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_°rög
, 0, 0)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_VALUE_OF_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_vÆue_of
, 0, 0)

44 
	$ROUTINE
 (
LIT_MAGIC_STRING_CONCAT
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_c⁄ˇt
, 
NON_FIXED
, 1)

45 
	$ROUTINE
 (
LIT_MAGIC_STRING_SLICE
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_¶i˚
, 2, 2)

46 
	$ROUTINE
 (
LIT_MAGIC_STRING_INDEX_OF_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ödex_of
, 2, 1)

47 
	$ROUTINE
 (
LIT_MAGIC_STRING_LAST_INDEX_OF_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_œ°_ödex_of
, 2, 1)

48 
	$ROUTINE
 (
LIT_MAGIC_STRING_CHAR_AT_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ch¨_©
, 1, 1)

49 
	$ROUTINE
 (
LIT_MAGIC_STRING_CHAR_CODE_AT_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ch¨_code_©
, 1, 1)

50 
	$ROUTINE
 (
LIT_MAGIC_STRING_LOCALE_COMPARE_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_loˇÀ_com∑ª
, 1, 1)

52 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


53 
	$ROUTINE
 (
LIT_MAGIC_STRING_MATCH
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_m©ch
, 1, 1)

54 
	$ROUTINE
 (
LIT_MAGIC_STRING_REPLACE
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_ª∂a˚
, 2, 2)

55 
	$ROUTINE
 (
LIT_MAGIC_STRING_SEARCH
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_£¨ch
, 1, 1)

58 
	$ROUTINE
 (
LIT_MAGIC_STRING_SPLIT
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_•lô
, 2, 2)

59 
	$ROUTINE
 (
LIT_MAGIC_STRING_SUBSTRING
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_sub°rög
, 2, 2)

60 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOWER_CASE_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_lowî_ˇ£
, 0, 0)

61 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_LOWER_CASE_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_loˇÀ_lowî_ˇ£
, 0, 0)

62 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_UPPER_CASE_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_uµî_ˇ£
, 0, 0)

63 
	$ROUTINE
 (
LIT_MAGIC_STRING_TO_LOCALE_UPPER_CASE_UL
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_to_loˇÀ_uµî_ˇ£
, 0, 0)

64 
	$ROUTINE
 (
LIT_MAGIC_STRING_TRIM
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_åim
, 0, 0)

66 #i‚de‡
CONFIG_DISABLE_ANNEXB_BUILTIN


67 
	$ROUTINE
 (
LIT_MAGIC_STRING_SUBSTR
, 
ecma_buûtö_°rög_¥ŸŸy≥_obje˘_sub°r
, 2, 2)

72 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-°rög.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
°rög


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

56 
ecma_vÆue_t


57 
	$ecma_buûtö_°rög_obje˘_‰om_ch¨_code
 (
ecma_vÆue_t
 
this_¨g
,

58 c⁄° 
ecma_vÆue_t
 
¨gs
[],

59 
ecma_Àngth_t
 
¨gs_numbî
)

61 
	`JERRY_UNUSED
 (
this_¨g
);

62 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

63 
ecma_°rög_t
 *
ªt_°rög_p
 = 
NULL
;

65 i‡(
¨gs_numbî
 == 0)

67 
ªt_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

71 
lô_utf8_size_t
 
utf8_buf_size
 = 
¨gs_numbî
 * 
LIT_CESU8_MAX_BYTES_IN_CODE_UNIT
;

73 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
utf8_buf_p
,

74 
utf8_buf_size
,

75 
lô_utf8_byã_t
);

77 
lô_utf8_size_t
 
utf8_buf_u£d
 = 0;

79 
ecma_Àngth_t
 
¨g_ödex
 = 0;

80 
¨g_ödex
 < 
¨gs_numbî
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
);

81 
¨g_ödex
++)

83 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
¨g_num
, 
¨gs
[
¨g_ödex
], 
ªt_vÆue
);

85 
uöt32_t
 
uöt32_ch¨_code
 = 
	`ecma_numbî_to_uöt32
 (
¨g_num
);

86 
ecma_ch¨_t
 
code_unô
 = (
uöt16_t
Ë
uöt32_ch¨_code
;

88 
	`JERRY_ASSERT
 (
utf8_buf_u£d
 <
utf8_buf_size
 - 
LIT_UTF8_MAX_BYTES_IN_CODE_UNIT
);

89 
utf8_buf_u£d
 +
	`lô_code_unô_to_utf8
 (
code_unô
, 
utf8_buf_p
 + utf8_buf_used);

90 
	`JERRY_ASSERT
 (
utf8_buf_u£d
 <
utf8_buf_size
);

92 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
¨g_num
);

95 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

97 
ªt_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
utf8_buf_p
, 
utf8_buf_u£d
);

100 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
utf8_buf_p
);

103 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

105 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ªt_°rög_p
);

108  
ªt_vÆue
;

109 
	}
}

116 
ecma_vÆue_t


117 
	$ecma_buûtö_°rög_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

118 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

120 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

122 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

124 i‡(
¨gumíts_li°_Àn
 == 0)

126 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING__EMPTY
);

127 
ecma_vÆue_t
 
°r_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
°r_p
);

129 
ªt_vÆue
 = 
°r_vÆue
;

133 
ªt_vÆue
 = 
	`ecma_›_to_°rög
 (
¨gumíts_li°_p
[0]);

136  
ªt_vÆue
;

137 
	}
}

144 
ecma_vÆue_t


145 
	$ecma_buûtö_°rög_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

146 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

148 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

150  
	`ecma_›_¸óã_°rög_obje˘
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

151 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_STRING_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	$ROUTINE
 (
LIT_MAGIC_STRING_FROM_CHAR_CODE_UL
, 
ecma_buûtö_°rög_obje˘_‰om_ch¨_code
, 
NON_FIXED
, 1)

46 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-sy¡axîr‹-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
sy¡ax_îr‹_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_SYNTAX_ERROR
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

33 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

34 
LIT_MAGIC_STRING_SYNTAX_ERROR_UL
,

35 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

38 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

39 
LIT_MAGIC_STRING__EMPTY
,

40 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-sy¡axîr‹.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
sy¡ax_îr‹


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_sy¡ax_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_SYNTAX
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

57 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_sy¡ax_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

66 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

68  
	`ecma_buûtö_sy¡ax_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

69 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_SYNTAX_ERROR_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-type-error-thrower.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-åy-ˇtch-ma¸o.h
"

25 
	~"jπ.h
"

27 
	#ECMA_BUILTINS_INTERNAL


	)

28 
	~"ecma-buûtös-öã∫Æ.h
"

30 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ty≥-îr‹-throwî.öc.h"

	)

31 
	#BUILTIN_UNDERSCORED_ID
 
ty≥_îr‹_throwî


	)

32 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_ty≥_îr‹_throwî_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

59  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (""));

60 
	}
}

70 
ecma_vÆue_t


71 
	$ecma_buûtö_ty≥_îr‹_throwî_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

72 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

74 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

77  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 (""));

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-type-error-thrower.inc.h

22 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

27 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

29 
ECMA_PROPERTY_FIXED
)

31 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ty≥îr‹-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ty≥_îr‹_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_TYPE_ERROR
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

33 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

34 
LIT_MAGIC_STRING_TYPE_ERROR_UL
,

35 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

38 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

39 
LIT_MAGIC_STRING__EMPTY
,

40 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ty≥îr‹.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
ty≥_îr‹


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_ty≥_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_TYPE
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

57 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_ty≥_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

66 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

68  
	`ecma_buûtö_ty≥_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

69 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_TYPE_ERROR_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror-prototype.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-°rög-obje˘.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-urõº‹-¥ŸŸy≥.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
uri_îr‹_¥ŸŸy≥


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

29 
ECMA_BUILTIN_ID_URI_ERROR
,

30 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

33 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

34 
LIT_MAGIC_STRING_URI_ERROR_UL
,

35 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

38 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_MESSAGE
,

39 
LIT_MAGIC_STRING__EMPTY
,

40 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

44 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-buûtö-hñ≥rs.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-åy-ˇtch-ma¸o.h
"

26 
	~"jπ.h
"

28 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


30 
	#ECMA_BUILTINS_INTERNAL


	)

31 
	~"ecma-buûtös-öã∫Æ.h
"

33 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-urõº‹.öc.h"

	)

34 
	#BUILTIN_UNDERSCORED_ID
 
uri_îr‹


	)

35 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

52 
ecma_vÆue_t


53 
	$ecma_buûtö_uri_îr‹_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

54 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

56  
	`ecma_buûtö_hñ≥r_îr‹_di•©ch_ˇŒ
 (
ECMA_ERROR_URI
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

57 
	}
}

64 
ecma_vÆue_t


65 
	$ecma_buûtö_uri_îr‹_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

66 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

68  
	`ecma_buûtö_uri_îr‹_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
);

69 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


28 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

30 
ECMA_PROPERTY_FIXED
)

36 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

37 
ECMA_BUILTIN_ID_URI_ERROR_PROTOTYPE
,

38 
ECMA_PROPERTY_FIXED
)

42 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins-internal.h

16 #i‚de‡
ECMA_BUILTINS_INTERNAL_H


17 
	#ECMA_BUILTINS_INTERNAL_H


	)

19 #i‚de‡
ECMA_BUILTINS_INTERNAL


23 
	~"ecma-buûtös.h
"

24 
	~"ecma-globÆs.h
"

31 
	mECMA_BUILTIN_PROPERTY_SIMPLE
,

32 
	mECMA_BUILTIN_PROPERTY_NUMBER
,

33 
	mECMA_BUILTIN_PROPERTY_STRING
,

34 
	mECMA_BUILTIN_PROPERTY_OBJECT
,

35 
	mECMA_BUILTIN_PROPERTY_ROUTINE
,

36 
	mECMA_BUILTIN_PROPERTY_ACCESSOR_READ_WRITE
,

37 
	mECMA_BUILTIN_PROPERTY_ACCESSOR_READ_ONLY
,

38 
	mECMA_BUILTIN_PROPERTY_END
,

39 } 
	tecma_buûtö_¥›îty_ty≥_t
;

46 
	mECMA_BUILTIN_NUMBER_MAX
 = 256,

47 
	mECMA_BUILTIN_NUMBER_MIN
,

48 
	mECMA_BUILTIN_NUMBER_E
,

49 
	mECMA_BUILTIN_NUMBER_PI
,

50 
	mECMA_BUILTIN_NUMBER_LN10
,

51 
	mECMA_BUILTIN_NUMBER_LN2
,

52 
	mECMA_BUILTIN_NUMBER_LOG2E
,

53 
	mECMA_BUILTIN_NUMBER_LOG10E
,

54 
	mECMA_BUILTIN_NUMBER_SQRT2
,

55 
	mECMA_BUILTIN_NUMBER_SQRT_1_2
,

56 
	mECMA_BUILTIN_NUMBER_NAN
,

57 
	mECMA_BUILTIN_NUMBER_POSITIVE_INFINITY
,

58 
	mECMA_BUILTIN_NUMBER_NEGATIVE_INFINITY
,

59 } 
	tecma_buûtö_numbî_ty≥_t
;

66 
uöt16_t
 
	mmagic_°rög_id
;

67 
uöt8_t
 
	mty≥
;

68 
uöt8_t
 
	m©åibuãs
;

69 
uöt16_t
 
	mvÆue
;

70 } 
	tecma_buûtö_¥›îty_des¸ùt‹_t
;

72 
	#BUILTIN
(
buûtö_id
, \

73 
obje˘_ty≥
, \

74 
obje˘_¥ŸŸy≥_buûtö_id
, \

75 
is_exãnsibÀ
, \

76 
is_°©ic
, \

77 
lowîˇ£_«me
) \

78 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 \

79 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
_¥›îty_des¸ùt‹_li°
[]; \

80 
ecma_vÆue_t
 \

81 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
	`_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *, \

82 
ecma_Àngth_t
); \

83 
ecma_vÆue_t
 \

84 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
	`_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *, \

85 
ecma_Àngth_t
); \

86 
ecma_vÆue_t
 \

87 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
	`_di•©ch_routöe
 (
uöt16_t
 
buûtö_routöe_id
, \

88 
ecma_vÆue_t
 
this_¨g_vÆue
, \

89 c⁄° 
ecma_vÆue_t
 [], \

90 
ecma_Àngth_t
);

	)

91 
	~"ecma-buûtös.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-obje˘s.h
"

22 
	~"jc⁄ãxt.h
"

23 
	~"jπ-bô-fõlds.h
"

25 
	#ECMA_BUILTINS_INTERNAL


	)

26 
	~"ecma-buûtös-öã∫Æ.h
"

35 
ecma_ö°™tüã_buûtö
 (
ecma_buûtö_id_t
 
id
);

40 c⁄° 
	tecma_buûtö_¥›îty_des¸ùt‹_t
 *
	tecma_buûtö_¥›îty_li°_ª„ªn˚_t
;

45 c⁄° 
ecma_buûtö_¥›îty_li°_ª„ªn˚_t
 
	gecma_buûtö_¥›îty_li°_ª„ªn˚s
[] =

47 
	#BUILTIN
(
buûtö_id
, \

48 
obje˘_ty≥
, \

49 
obje˘_¥ŸŸy≥_buûtö_id
, \

50 
is_exãnsibÀ
, \

51 
is_°©ic
, \

52 
lowîˇ£_«me
) \

53 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
_¥›îty_des¸ùt‹_li°
,

	)

54 
	~"ecma-buûtös.öc.h
"

62 
size_t


63 
	$ecma_buûtö_gë_¥›îty_cou¡
 (
ecma_buûtö_id_t
 
buûtö_id
)

65 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 *
¥›îty_li°_p
 = 
ecma_buûtö_¥›îty_li°_ª„ªn˚s
[
buûtö_id
];

67 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 *
cuº_¥›îty_p
 = 
¥›îty_li°_p
;

69 
cuº_¥›îty_p
->
magic_°rög_id
 !
LIT_MAGIC_STRING__COUNT
)

71 
cuº_¥›îty_p
++;

74  (
size_t
Ë(
cuº_¥›îty_p
 - 
¥›îty_li°_p
);

75 
	}
}

80 
boﬁ


81 
	$ecma_buûtö_is
 (
ecma_obje˘_t
 *
obj_p
,

82 
ecma_buûtö_id_t
 
buûtö_id
)

84 
	`JERRY_ASSERT
 (
obj_p
 !
NULL
 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (obj_p));

85 
	`JERRY_ASSERT
 (
buûtö_id
 < 
ECMA_BUILTIN_ID__COUNT
);

87 i‡(
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
] =
NULL
)

91  
Ál£
;

95  (
obj_p
 =
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
]);

97 
	}
}

104 
ecma_obje˘_t
 *

105 
	$ecma_buûtö_gë
 (
ecma_buûtö_id_t
 
buûtö_id
)

107 
	`JERRY_ASSERT
 (
buûtö_id
 < 
ECMA_BUILTIN_ID__COUNT
);

109 i‡(
	`u∆ikñy
 (
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
] =
NULL
))

111 
	`ecma_ö°™tüã_buûtö
 (
buûtö_id
);

114 
	`ecma_ªf_obje˘
 (
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
]);

116  
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
];

117 
	}
}

125 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


126 
	$ecma_buûtö_fun˘i⁄_is_routöe
 (
ecma_obje˘_t
 *
func_obj_p
)

128 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION
);

129 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_is_buûtö
 (
func_obj_p
));

131 
ecma_exãnded_obje˘_t
 *
ext_func_obj_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

132  (
ext_func_obj_p
->
u
.
buût_ö
.
routöe_id
 >
ECMA_BUILTIN_ID__COUNT
);

133 
	}
}

140 
ecma_obje˘_t
 *

141 
	$ecma_buûtö_öô_obje˘
 (
ecma_buûtö_id_t
 
obj_buûtö_id
,

142 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
,

143 
ecma_obje˘_ty≥_t
 
obj_ty≥
,

144 
boﬁ
 
is_exãnsibÀ
)

146 
boﬁ
 
is_exãnded_buût_ö
 = (
obj_ty≥
 =
ECMA_OBJECT_TYPE_CLASS


147 || 
obj_ty≥
 =
ECMA_OBJECT_TYPE_ARRAY
);

149 
size_t
 
ext_obje˘_size
 = (
is_exãnded_buût_ö
 ?  (
ecma_exãnded_buût_ö_obje˘_t
)

150 :  (
ecma_exãnded_obje˘_t
));

152 
size_t
 
¥›îty_cou¡
 = 
	`ecma_buûtö_gë_¥›îty_cou¡
 (
obj_buûtö_id
);

154 i‡(
¥›îty_cou¡
 > 32)

158 
	`JERRY_ASSERT
 (
¥›îty_cou¡
 <= (32 + 64));

160 
ext_obje˘_size
 + (
uöt32_t
) * 2;

163 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
, 
ext_obje˘_size
, 
obj_ty≥
);

165 i‡(!
is_exãnsibÀ
)

167 
	`ecma_£t_obje˘_exãnsibÀ
 (
obj_p
, 
Ál£
);

176 
	`ecma_£t_obje˘_is_buûtö
 (
obj_p
);

177 
ecma_buût_ö_¥›s_t
 *
buût_ö_¥›s_p
;

179 i‡(
is_exãnded_buût_ö
)

181 
buût_ö_¥›s_p
 = &((
ecma_exãnded_buût_ö_obje˘_t
 *Ë
obj_p
)->
buût_ö
;

185 
buût_ö_¥›s_p
 = &((
ecma_exãnded_obje˘_t
 *Ë
obj_p
)->
u
.
buût_ö
;

188 
buût_ö_¥›s_p
->
id
 = 
obj_buûtö_id
;

189 
buût_ö_¥›s_p
->
routöe_id
 = 
obj_buûtö_id
;

190 
buût_ö_¥›s_p
->
ö°™tüãd_bô£t
[0] = 0;

192 i‡(
¥›îty_cou¡
 > 32)

194 
buût_ö_¥›s_p
->
Àngth_™d_bô£t_size
 = 1 << 
ECMA_BUILT_IN_BITSET_SHIFT
;

196 
uöt32_t
 *
ö°™tüãd_bô£t_p
 = 
buût_ö_¥›s_p
->
ö°™tüãd_bô£t
;

197 
ö°™tüãd_bô£t_p
[1] = 0;

198 
ö°™tüãd_bô£t_p
[2] = 0;

202 
buût_ö_¥›s_p
->
Àngth_™d_bô£t_size
 = 0;

206 
obj_buûtö_id
)

208 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


209 
ECMA_BUILTIN_ID_ARRAY_PROTOTYPE
:

211 
	`JERRY_ASSERT
 (
obj_ty≥
 =
ECMA_OBJECT_TYPE_ARRAY
);

212 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

214 
ext_obje˘_p
->
u
.
¨øy
.
Àngth
 = 0;

215 
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
 = 
ECMA_PROPERTY_FLAG_WRITABLE
 | 
ECMA_PROPERTY_TYPE_VIRTUAL
;

220 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


221 
ECMA_BUILTIN_ID_STRING_PROTOTYPE
:

223 
	`JERRY_ASSERT
 (
obj_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
);

224 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

226 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_STRING_UL
;

227 
ecma_°rög_t
 *
¥im_¥›_°r_vÆue_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

228 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_°rög_vÆue
 (
¥im_¥›_°r_vÆue_p
);

233 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


234 
ECMA_BUILTIN_ID_NUMBER_PROTOTYPE
:

236 
	`JERRY_ASSERT
 (
obj_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
);

237 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

239 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_NUMBER_UL
;

240 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_öãgî_vÆue
 (0);

245 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


246 
ECMA_BUILTIN_ID_BOOLEAN_PROTOTYPE
:

248 
	`JERRY_ASSERT
 (
obj_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
);

249 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

251 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_BOOLEAN_UL
;

252 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

257 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


258 
ECMA_BUILTIN_ID_DATE_PROTOTYPE
:

260 
	`JERRY_ASSERT
 (
obj_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
);

261 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

263 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_DATE_UL
;

265 
ecma_numbî_t
 *
¥im_¥›_num_vÆue_p
 = 
	`ecma_Æloc_numbî
 ();

266 *
¥im_¥›_num_vÆue_p
 = 
	`ecma_numbî_make_«n
 ();

267 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
, 
¥im_¥›_num_vÆue_p
);

272 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


273 
ECMA_BUILTIN_ID_REGEXP_PROTOTYPE
:

275 
	`JERRY_ASSERT
 (
obj_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
);

276 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

278 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_REGEXP_UL
;

279 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
ECMA_NULL_POINTER
;

285 
	`JERRY_ASSERT
 (
obj_ty≥
 !
ECMA_OBJECT_TYPE_CLASS
);

290  
obj_p
;

291 
	}
}

297 
	$ecma_ö°™tüã_buûtö
 (
ecma_buûtö_id_t
 
id
)

299 
id
)

301 
	#BUILTIN
(
buûtö_id
, \

302 
obje˘_ty≥
, \

303 
obje˘_¥ŸŸy≥_buûtö_id
, \

304 
is_exãnsibÀ
, \

305 
is_°©ic
, \

306 
lowîˇ£_«me
) \

307 
buûtö_id
: \

309 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
] =
NULL
); \

311 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
; \

312 i‡(
obje˘_¥ŸŸy≥_buûtö_id
 =
ECMA_BUILTIN_ID__COUNT
) \

314 
¥ŸŸy≥_obj_p
 = 
NULL
; \

318 i‡(
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
obje˘_¥ŸŸy≥_buûtö_id
] =
NULL
) \

320 
	`ecma_ö°™tüã_buûtö
 (
obje˘_¥ŸŸy≥_buûtö_id
); \

322 
¥ŸŸy≥_obj_p
 = 
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
obje˘_¥ŸŸy≥_buûtö_id
]; \

323 
	`JERRY_ASSERT
 (
¥ŸŸy≥_obj_p
 !
NULL
); \

326 
ecma_obje˘_t
 *
buûtö_obj_p
 = 
	`ecma_buûtö_öô_obje˘
 (
buûtö_id
, \

327 
¥ŸŸy≥_obj_p
, \

328 
obje˘_ty≥
, \

329 
is_exãnsibÀ
); \

330 
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
buûtö_id
] = 
buûtö_obj_p
; \

333 }

	)

334 
	~"ecma-buûtös.öc.h
"

338 
	`JERRY_ASSERT
 (
id
 < 
ECMA_BUILTIN_ID__COUNT
);

340 
	`JERRY_UNREACHABLE
 ();

343 
	}
}

349 
	$ecma_föÆize_buûtös
 ()

351 
ecma_buûtö_id_t
 
id
 = (ecma_builtin_id_t) 0;

352 
id
 < 
ECMA_BUILTIN_ID__COUNT
;

353 
id
 = (
ecma_buûtö_id_t
) (id + 1))

355 i‡(
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
id
] !
NULL
)

357 
	`ecma_dîef_obje˘
 (
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
id
]);

358 
	`JERRY_CONTEXT
 (
ecma_buûtö_obje˘s
)[
id
] = 
NULL
;

361 
	}
}

370 
ecma_obje˘_t
 *

371 
	$ecma_buûtö_make_fun˘i⁄_obje˘_f‹_routöe
 (
ecma_buûtö_id_t
 
buûtö_id
,

372 
uöt16_t
 
routöe_id
,

374 
uöt8_t
 
Àngth_¥›_vÆue
)

376 
	`JERRY_ASSERT
 (
Àngth_¥›_vÆue
 < (1 << 
ECMA_BUILT_IN_BITSET_SHIFT
));

378 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
);

380 
size_t
 
ext_obje˘_size
 =  (
ecma_exãnded_obje˘_t
);

382 
size_t
 
¥›îty_cou¡
 = 
	`ecma_buûtö_gë_¥›îty_cou¡
 (
buûtö_id
);

384 i‡(
¥›îty_cou¡
 > 32)

388 
	`JERRY_ASSERT
 (
¥›îty_cou¡
 <= (32 + 64));

390 
ext_obje˘_size
 + (
uöt32_t
) * 2;

393 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

394 
ext_obje˘_size
,

395 
ECMA_OBJECT_TYPE_FUNCTION
);

397 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

399 
	`ecma_£t_obje˘_is_buûtö
 (
func_obj_p
);

401 
	`JERRY_ASSERT
 (
routöe_id
 >
ECMA_BUILTIN_ID__COUNT
);

403 
ecma_exãnded_obje˘_t
 *
ext_func_obj_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

404 
ext_func_obj_p
->
u
.
buût_ö
.
id
 = 
buûtö_id
;

405 
ext_func_obj_p
->
u
.
buût_ö
.
routöe_id
 =Ñoutine_id;

406 
ext_func_obj_p
->
u
.
buût_ö
.
ö°™tüãd_bô£t
[0] = 0;

408 i‡(
¥›îty_cou¡
 > 32)

410 
Àngth_¥›_vÆue
 = (
uöt8_t
Ë÷ígth_¥›_vÆuê| (1 << 
ECMA_BUILT_IN_BITSET_SHIFT
));

412 
uöt32_t
 *
ö°™tüãd_bô£t_p
 = 
ext_func_obj_p
->
u
.
buût_ö
.
ö°™tüãd_bô£t
;

413 
ö°™tüãd_bô£t_p
[1] = 0;

414 
ö°™tüãd_bô£t_p
[2] = 0;

417 
ext_func_obj_p
->
u
.
buût_ö
.
Àngth_™d_bô£t_size
 = 
Àngth_¥›_vÆue
;

419  
func_obj_p
;

420 
	}
}

427 
ecma_obje˘_t
 *

428 
	$ecma_buûtö_make_fun˘i⁄_obje˘_f‹_gëãr_ac˚ss‹
 (
ecma_buûtö_id_t
 
buûtö_id
,

429 
uöt16_t
 
routöe_id
)

432  
	`ecma_buûtö_make_fun˘i⁄_obje˘_f‹_routöe
 (
buûtö_id
, 
routöe_id
, 0);

433 
	}
}

440 
ecma_obje˘_t
 *

441 
	$ecma_buûtö_make_fun˘i⁄_obje˘_f‹_£âî_ac˚ss‹
 (
ecma_buûtö_id_t
 
buûtö_id
,

442 
uöt16_t
 
routöe_id
)

445  
	`ecma_buûtö_make_fun˘i⁄_obje˘_f‹_routöe
 (
buûtö_id
, 
routöe_id
, 1);

446 
	}
}

456 
ecma_¥›îty_t
 *

457 
	$ecma_buûtö_åy_to_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

458 
ecma_°rög_t
 *
°rög_p
)

460 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
));

462 i‡(
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION


463 && 
	`ecma_buûtö_fun˘i⁄_is_routöe
 (
obje˘_p
))

465 i‡(
	`ecma_°rög_is_Àngth
 (
°rög_p
))

475 
ecma_¥›îty_t
 *
Àn_¥›_p
;

476 
ecma_¥›îty_vÆue_t
 *
Àn_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

477 
°rög_p
,

478 
ECMA_PROPERTY_FIXED
,

479 &
Àn_¥›_p
);

481 
ecma_exãnded_obje˘_t
 *
ext_obj_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

483 
uöt8_t
 
Àngth
 = 
ext_obj_p
->
u
.
buût_ö
.
Àngth_™d_bô£t_size
 & ((1 << 
ECMA_BUILT_IN_BITSET_SHIFT
) - 1);

485 
Àn_¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_öãgî_vÆue
 (
Àngth
);

487  
Àn_¥›_p
;

490  
NULL
;

493 
lô_magic_°rög_id_t
 
magic_°rög_id
 = 
	`ecma_gë_°rög_magic
 (
°rög_p
);

495 i‡(
magic_°rög_id
 =
LIT_MAGIC_STRING__COUNT
)

497  
NULL
;

500 
ecma_buût_ö_¥›s_t
 *
buût_ö_¥›s_p
;

501 
ecma_obje˘_ty≥_t
 
obje˘_ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

503 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
 || obje˘_ty≥ =
ECMA_OBJECT_TYPE_ARRAY
)

505 
buût_ö_¥›s_p
 = &((
ecma_exãnded_buût_ö_obje˘_t
 *Ë
obje˘_p
)->
buût_ö
;

509 
buût_ö_¥›s_p
 = &((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
)->
u
.
buût_ö
;

512 
ecma_buûtö_id_t
 
buûtö_id
 = (ecma_buûtö_id_tË
buût_ö_¥›s_p
->
id
;

514 
	`JERRY_ASSERT
 (
buûtö_id
 < 
ECMA_BUILTIN_ID__COUNT
);

515 
	`JERRY_ASSERT
 (
	`ecma_buûtö_is
 (
obje˘_p
, 
buûtö_id
));

517 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 *
¥›îty_li°_p
 = 
ecma_buûtö_¥›îty_li°_ª„ªn˚s
[
buûtö_id
];

519 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 *
cuº_¥›îty_p
 = 
¥›îty_li°_p
;

521 
cuº_¥›îty_p
->
magic_°rög_id
 != magic_string_id)

523 i‡(
cuº_¥›îty_p
->
magic_°rög_id
 =
LIT_MAGIC_STRING__COUNT
)

525  
NULL
;

527 
cuº_¥›îty_p
++;

530 
uöt32_t
 
ödex
 = (uöt32_tË(
cuº_¥›îty_p
 - 
¥›îty_li°_p
);

532 
uöt32_t
 *
bô£t_p
 = 
buût_ö_¥›s_p
->
ö°™tüãd_bô£t
 + (
ödex
 >> 5);

534 
uöt32_t
 
bô_f‹_ödex
 = (uöt32_tË(1u << (
ödex
 & 0x1f));

536 i‡(*
bô£t_p
 & 
bô_f‹_ödex
)

539  
NULL
;

542 *
bô£t_p
 |
bô_f‹_ödex
;

544 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

545 
boﬁ
 
is_ac˚ss‹
 = 
Ál£
;

546 
ecma_obje˘_t
 *
gëãr_p
 = 
NULL
;

547 
ecma_obje˘_t
 *
£âî_p
 = 
NULL
;

549 
cuº_¥›îty_p
->
ty≥
)

551 
ECMA_BUILTIN_PROPERTY_SIMPLE
:

553 
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
cuº_¥›îty_p
->value);

556 
ECMA_BUILTIN_PROPERTY_NUMBER
:

558 
ecma_numbî_t
 
num
 = 0.0;

560 i‡(
cuº_¥›îty_p
->
vÆue
 < 
ECMA_BUILTIN_NUMBER_MAX
)

562 
num
 = 
cuº_¥›îty_p
->
vÆue
;

564 i‡(
cuº_¥›îty_p
->
vÆue
 < 
ECMA_BUILTIN_NUMBER_NAN
)

566 c⁄° 
ecma_numbî_t
 
buûtö_numbî_li°
[] =

568 
ECMA_NUMBER_MAX_VALUE
,

569 
ECMA_NUMBER_MIN_VALUE
,

570 
ECMA_NUMBER_E
,

571 
ECMA_NUMBER_PI
,

572 
ECMA_NUMBER_LN10
,

573 
ECMA_NUMBER_LN2
,

574 
ECMA_NUMBER_LOG2E
,

575 
ECMA_NUMBER_LOG10E
,

576 
ECMA_NUMBER_SQRT2
,

577 
ECMA_NUMBER_SQRT_1_2


580 
num
 = 
buûtö_numbî_li°
[
cuº_¥›îty_p
->
vÆue
 - 
ECMA_BUILTIN_NUMBER_MAX
];

584 
cuº_¥›îty_p
->
vÆue
)

586 
ECMA_BUILTIN_NUMBER_NAN
:

588 
num
 = 
	`ecma_numbî_make_«n
 ();

591 
ECMA_BUILTIN_NUMBER_POSITIVE_INFINITY
:

593 
num
 = 
	`ecma_numbî_make_öföôy
 (
Ál£
);

596 
ECMA_BUILTIN_NUMBER_NEGATIVE_INFINITY
:

598 
num
 = 
	`ecma_numbî_make_öföôy
 (
åue
);

603 
	`JERRY_UNREACHABLE
 ();

609 
vÆue
 = 
	`ecma_make_numbî_vÆue
 (
num
);

612 
ECMA_BUILTIN_PROPERTY_STRING
:

614 
vÆue
 = 
	`ecma_make_°rög_vÆue
 (
	`ecma_gë_magic_°rög
 (
cuº_¥›îty_p
->value));

617 
ECMA_BUILTIN_PROPERTY_OBJECT
:

619 
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
	`ecma_buûtö_gë
 (
cuº_¥›îty_p
->value));

622 
ECMA_BUILTIN_PROPERTY_ROUTINE
:

624 
ecma_obje˘_t
 *
func_obj_p
;

625 
func_obj_p
 = 
	`ecma_buûtö_make_fun˘i⁄_obje˘_f‹_routöe
 (
buûtö_id
,

626 
	`ECMA_GET_ROUTINE_ID
 (
cuº_¥›îty_p
->
vÆue
),

627 
	`ECMA_GET_ROUTINE_LENGTH
 (
cuº_¥›îty_p
->
vÆue
));

628 
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
func_obj_p
);

631 
ECMA_BUILTIN_PROPERTY_ACCESSOR_READ_WRITE
:

633 
is_ac˚ss‹
 = 
åue
;

634 
uöt16_t
 
gëãr_id
 = 
	`ECMA_ACCESSOR_READ_WRITE_GET_GETTER_ID
 (
cuº_¥›îty_p
->
vÆue
);

635 
uöt16_t
 
£âî_id
 = 
	`ECMA_ACCESSOR_READ_WRITE_GET_SETTER_ID
 (
cuº_¥›îty_p
->
vÆue
);

636 
gëãr_p
 = 
	`ecma_buûtö_make_fun˘i⁄_obje˘_f‹_gëãr_ac˚ss‹
 (
buûtö_id
, 
gëãr_id
);

637 
£âî_p
 = 
	`ecma_buûtö_make_fun˘i⁄_obje˘_f‹_£âî_ac˚ss‹
 (
buûtö_id
, 
£âî_id
);

640 
ECMA_BUILTIN_PROPERTY_ACCESSOR_READ_ONLY
:

642 
is_ac˚ss‹
 = 
åue
;

643 
gëãr_p
 = 
	`ecma_buûtö_make_fun˘i⁄_obje˘_f‹_gëãr_ac˚ss‹
 (
buûtö_id
,

644 
cuº_¥›îty_p
->
vÆue
);

649 
	`JERRY_UNREACHABLE
 ();

650  
NULL
;

654 
ecma_¥›îty_t
 *
¥›_p
;

656 i‡(
is_ac˚ss‹
)

658 
	`ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
obje˘_p
,

659 
°rög_p
,

660 
gëãr_p
,

661 
£âî_p
,

662 
cuº_¥›îty_p
->
©åibuãs
,

663 &
¥›_p
);

665 i‡(
£âî_p
)

667 
	`ecma_dîef_obje˘
 (
£âî_p
);

669 i‡(
gëãr_p
)

671 
	`ecma_dîef_obje˘
 (
gëãr_p
);

676 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

677 
°rög_p
,

678 
cuº_¥›îty_p
->
©åibuãs
,

679 &
¥›_p
);

680 
¥›_vÆue_p
->
vÆue
 = value;

683 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
))

685 
	`ecma_‰ì_vÆue
 (
vÆue
);

689  
¥›_p
;

690 
	}
}

699 
	$ecma_buûtö_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obje˘_p
,

700 
boﬁ
 
£∑øã_íumîabÀ
,

706 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

707 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
)

710 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
));

712 i‡(
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION


713 && 
	`ecma_buûtö_fun˘i⁄_is_routöe
 (
obje˘_p
))

715 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_íumîabÀ_p
 = 
maö_cﬁÀ˘i⁄_p
;

716 
	`JERRY_UNUSED
 (
f‹_íumîabÀ_p
);

718 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = 
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p
 : 
maö_cﬁÀ˘i⁄_p
;

721 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

722 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

723 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

727 
ecma_buût_ö_¥›s_t
 *
buût_ö_¥›s_p
;

728 
ecma_obje˘_ty≥_t
 
obje˘_ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

730 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_CLASS
 || obje˘_ty≥ =
ECMA_OBJECT_TYPE_ARRAY
)

732 
buût_ö_¥›s_p
 = &((
ecma_exãnded_buût_ö_obje˘_t
 *Ë
obje˘_p
)->
buût_ö
;

736 
buût_ö_¥›s_p
 = &((
ecma_exãnded_obje˘_t
 *Ë
obje˘_p
)->
u
.
buût_ö
;

739 
ecma_buûtö_id_t
 
buûtö_id
 = (ecma_buûtö_id_tË
buût_ö_¥›s_p
->
id
;

741 
	`JERRY_ASSERT
 (
buûtö_id
 < 
ECMA_BUILTIN_ID__COUNT
);

742 
	`JERRY_ASSERT
 (
	`ecma_buûtö_is
 (
obje˘_p
, 
buûtö_id
));

744 c⁄° 
ecma_buûtö_¥›îty_des¸ùt‹_t
 *
cuº_¥›îty_p
 = 
ecma_buûtö_¥›îty_li°_ª„ªn˚s
[
buûtö_id
];

746 
ecma_Àngth_t
 
ödex
 = 0;

747 
uöt32_t
 *
bô£t_p
 = 
buût_ö_¥›s_p
->
ö°™tüãd_bô£t
;

749 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = (
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p


750 : 
maö_cﬁÀ˘i⁄_p
);

752 
cuº_¥›îty_p
->
magic_°rög_id
 !
LIT_MAGIC_STRING__COUNT
)

754 i‡(
ödex
 == 32)

756 
bô£t_p
++;

757 
ödex
 = 0;

760 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_gë_magic_°rög
 (
cuº_¥›îty_p
->
magic_°rög_id
);

762 
uöt32_t
 
bô_f‹_ödex
 = (uöt32_tË1u << 
ödex
;

764 i‡(!(*
bô£t_p
 & 
bô_f‹_ödex
Ë|| 
	`ecma_›_obje˘_has_own_¥›îty
 (
obje˘_p
, 
«me_p
))

766 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
,

767 
	`ecma_make_°rög_vÆue
 (
«me_p
),

768 
åue
);

771 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

773 
cuº_¥›îty_p
++;

774 
ödex
++;

777 
	}
}

785 
ecma_vÆue_t


786 
	$ecma_buûtö_di•©ch_routöe
 (
ecma_buûtö_id_t
 
buûtö_obje˘_id
,

787 
uöt16_t
 
buûtö_routöe_id
,

790 
ecma_vÆue_t
 
this_¨g_vÆue
,

791 c⁄° 
ecma_vÆue_t
 
¨gumíts_li°
[],

792 
ecma_Àngth_t
 
¨gumíts_numbî
)

794 
buûtö_obje˘_id
)

796 
	#BUILTIN
(
buûtö_id
, \

797 
obje˘_ty≥
, \

798 
obje˘_¥ŸŸy≥_buûtö_id
, \

799 
is_exãnsibÀ
, \

800 
is_°©ic
, \

801 
lowîˇ£_«me
) \

802 
buûtö_id
: \

804  
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
	`_di•©ch_routöe
 (
buûtö_routöe_id
, \

805 
this_¨g_vÆue
, \

806 
¨gumíts_li°
, \

807 
¨gumíts_numbî
); \

808 }

	)

809 
	~"ecma-buûtös.öc.h
"

811 
ECMA_BUILTIN_ID__COUNT
:

813 
	`JERRY_UNREACHABLE
 ();

818 
	`JERRY_UNREACHABLE
 ();

822 
	`JERRY_UNREACHABLE
 ();

823 
	}
}

830 
ecma_vÆue_t


831 
	$ecma_buûtö_di•©ch_ˇŒ
 (
ecma_obje˘_t
 *
obj_p
,

832 
ecma_vÆue_t
 
this_¨g_vÆue
,

833 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

834 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

836 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION
);

837 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_is_buûtö
 (
obj_p
));

839 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

840 
ecma_exãnded_obje˘_t
 *
ext_obj_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

842 i‡(
	`ecma_buûtö_fun˘i⁄_is_routöe
 (
obj_p
))

844 
ªt_vÆue
 = 
	`ecma_buûtö_di•©ch_routöe
 (
ext_obj_p
->
u
.
buût_ö
.
id
,

845 
ext_obj_p
->
u
.
buût_ö
.
routöe_id
,

846 
this_¨g_vÆue
,

847 
¨gumíts_li°_p
,

848 
¨gumíts_li°_Àn
);

852 (
ecma_buûtö_id_t
Ë
ext_obj_p
->
u
.
buût_ö
.
id
)

854 
	#BUILTIN
(
buûtö_id
, \

855 
obje˘_ty≥
, \

856 
obje˘_¥ŸŸy≥_buûtö_id
, \

857 
is_exãnsibÀ
, \

858 
is_°©ic
, \

859 
lowîˇ£_«me
) \

860 
buûtö_id
: \

862 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
) \

864 
ªt_vÆue
 = 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
	`_di•©ch_ˇŒ
 (
¨gumíts_li°_p
, \

865 
¨gumíts_li°_Àn
); \

868 }

	)

869 
	~"ecma-buûtös.öc.h
"

871 
ECMA_BUILTIN_ID__COUNT
:

873 
	`JERRY_UNREACHABLE
 ();

878 
	`JERRY_UNREACHABLE
 ();

883 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

885  
ªt_vÆue
;

886 
	}
}

893 
ecma_vÆue_t


894 
	$ecma_buûtö_di•©ch_c⁄°ru˘
 (
ecma_obje˘_t
 *
obj_p
,

895 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

896 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

898 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION
);

899 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_is_buûtö
 (
obj_p
));

901 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

903 
ecma_exãnded_obje˘_t
 *
ext_obj_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

905 
ext_obj_p
->
u
.
buût_ö
.
id
)

907 
	#BUILTIN
(
buûtö_id
, \

908 
obje˘_ty≥
, \

909 
obje˘_¥ŸŸy≥_buûtö_id
, \

910 
is_exãnsibÀ
, \

911 
is_°©ic
, \

912 
lowîˇ£_«me
) \

913 
buûtö_id
: \

915 i‡(
obje˘_ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
) \

917 
ªt_vÆue
 = 
ecma_buûtö_
 ## 
lowîˇ£_«me
 ## 
	`_di•©ch_c⁄°ru˘
 (
¨gumíts_li°_p
, \

918 
¨gumíts_li°_Àn
); \

921 }

	)

922 
	~"ecma-buûtös.öc.h
"

924 
ECMA_BUILTIN_ID__COUNT
:

926 
	`JERRY_UNREACHABLE
 ();

931 
	`JERRY_UNREACHABLE
 ();

935 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

937  
ªt_vÆue
;

938 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins.h

16 #i‚de‡
ECMA_BUILTINS_H


17 
	#ECMA_BUILTINS_H


	)

19 
	~"ecma-globÆs.h
"

26 
	#BUILTIN
(
buûtö_id
, \

27 
obje˘_ty≥
, \

28 
obje˘_¥ŸŸy≥_buûtö_id
, \

29 
is_exãnsibÀ
, \

30 
is_°©ic
, \

31 
lowîˇ£_«me
) \

32 
buûtö_id
,

	)

33 
	~"ecma-buûtös.öc.h
"

34 
	mECMA_BUILTIN_ID__COUNT


35 } 
	tecma_buûtö_id_t
;

40 
	#ECMA_ROUTINE_VALUE
(
id
, 
Àngth
Ë(((idË<< 4Ë|Üígth)

	)

45 
	#ECMA_GET_ROUTINE_LENGTH
(
vÆue
Ë((
uöt8_t
Ë((vÆueË& 0xf))

	)

50 
	#ECMA_GET_ROUTINE_ID
(
vÆue
Ë((
uöt16_t
Ë((vÆueË>> 4))

	)

55 
	#ECMA_ACCESSOR_READ_WRITE
(
gëãr
, 
£âî
Ë(((gëãrË<< 8Ë| (£âî))

	)

60 
	#ECMA_ACCESSOR_READ_WRITE_GET_SETTER_ID
(
vÆue
Ë((
uöt16_t
Ë((vÆueË& 0xff))

	)

65 
	#ECMA_ACCESSOR_READ_WRITE_GET_GETTER_ID
(
vÆue
Ë((
uöt16_t
Ë((vÆueË>> 8))

	)

68 
ecma_föÆize_buûtös
 ();

70 
ecma_vÆue_t


71 
ecma_buûtö_di•©ch_ˇŒ
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_vÆue_t
 
this_¨g_vÆue
,

72 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_li°_Àn
);

73 
ecma_vÆue_t


74 
ecma_buûtö_di•©ch_c⁄°ru˘
 (
ecma_obje˘_t
 *
obj_p
,

75 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_li°_Àn
);

76 
ecma_¥›îty_t
 *

77 
ecma_buûtö_åy_to_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
°rög_p
);

79 
ecma_buûtö_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obje˘_p
,

80 
boﬁ
 
£∑øã_íumîabÀ
,

81 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

82 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
);

83 
boﬁ


84 
ecma_buûtö_is
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_buûtö_id_t
 
buûtö_id
);

85 
ecma_obje˘_t
 *

86 
ecma_buûtö_gë
 (
ecma_buûtö_id_t
 
buûtö_id
);

87 
boﬁ


88 
ecma_buûtö_fun˘i⁄_is_routöe
 (
ecma_obje˘_t
 *
func_obj_p
);

	@deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins.inc.h

20 
	$BUILTIN
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

21 
ECMA_OBJECT_TYPE_GENERAL
,

22 
ECMA_BUILTIN_ID__COUNT
 ,

23 
åue
,

24 
åue
,

25 
obje˘_¥ŸŸy≥
)

28 
	$BUILTIN
 (
ECMA_BUILTIN_ID_OBJECT
,

29 
ECMA_OBJECT_TYPE_FUNCTION
,

30 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

31 
åue
,

32 
åue
,

33 
obje˘
)

35 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


37 
	$BUILTIN
 (
ECMA_BUILTIN_ID_ARRAY_PROTOTYPE
,

38 
ECMA_OBJECT_TYPE_ARRAY
,

39 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

40 
åue
,

41 
åue
,

42 
¨øy_¥ŸŸy≥
)

45 
	$BUILTIN
 (
ECMA_BUILTIN_ID_ARRAY
,

46 
ECMA_OBJECT_TYPE_FUNCTION
,

47 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

48 
åue
,

49 
åue
,

50 
¨øy
)

53 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


55 
	$BUILTIN
 (
ECMA_BUILTIN_ID_STRING_PROTOTYPE
,

56 
ECMA_OBJECT_TYPE_CLASS
,

57 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

58 
åue
,

59 
åue
,

60 
°rög_¥ŸŸy≥
)

63 
	$BUILTIN
 (
ECMA_BUILTIN_ID_STRING
,

64 
ECMA_OBJECT_TYPE_FUNCTION
,

65 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

66 
åue
,

67 
åue
,

68 
°rög
)

71 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


73 
	$BUILTIN
 (
ECMA_BUILTIN_ID_BOOLEAN_PROTOTYPE
,

74 
ECMA_OBJECT_TYPE_CLASS
,

75 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

76 
åue
,

77 
åue
,

78 
boﬁón_¥ŸŸy≥
)

81 
	$BUILTIN
 (
ECMA_BUILTIN_ID_BOOLEAN
,

82 
ECMA_OBJECT_TYPE_FUNCTION
,

83 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

84 
åue
,

85 
åue
,

86 
boﬁón
)

89 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


91 
	$BUILTIN
 (
ECMA_BUILTIN_ID_NUMBER_PROTOTYPE
,

92 
ECMA_OBJECT_TYPE_CLASS
,

93 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

94 
åue
,

95 
åue
,

96 
numbî_¥ŸŸy≥
)

99 
	$BUILTIN
 (
ECMA_BUILTIN_ID_NUMBER
,

100 
ECMA_OBJECT_TYPE_FUNCTION
,

101 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

102 
åue
,

103 
åue
,

104 
numbî
)

108 
	$BUILTIN
 (
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

109 
ECMA_OBJECT_TYPE_FUNCTION
,

110 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

111 
åue
,

112 
åue
,

113 
fun˘i⁄_¥ŸŸy≥
)

116 
	$BUILTIN
 (
ECMA_BUILTIN_ID_FUNCTION
,

117 
ECMA_OBJECT_TYPE_FUNCTION
,

118 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

119 
åue
,

120 
åue
,

121 
fun˘i⁄
)

123 #i‚de‡
CONFIG_DISABLE_MATH_BUILTIN


125 
	$BUILTIN
 (
ECMA_BUILTIN_ID_MATH
,

126 
ECMA_OBJECT_TYPE_GENERAL
,

127 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

128 
åue
,

129 
åue
,

130 
m©h
)

133 #i‚de‡
CONFIG_DISABLE_JSON_BUILTIN


135 
	$BUILTIN
 (
ECMA_BUILTIN_ID_JSON
,

136 
ECMA_OBJECT_TYPE_GENERAL
,

137 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

138 
åue
,

139 
åue
,

140 
js⁄
)

143 #i‚de‡
CONFIG_DISABLE_DATE_BUILTIN


145 
	$BUILTIN
 (
ECMA_BUILTIN_ID_DATE_PROTOTYPE
,

146 
ECMA_OBJECT_TYPE_CLASS
,

147 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

148 
åue
,

149 
åue
,

150 
d©e_¥ŸŸy≥
)

153 
	$BUILTIN
 (
ECMA_BUILTIN_ID_DATE
,

154 
ECMA_OBJECT_TYPE_FUNCTION
,

155 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

156 
åue
,

157 
åue
,

158 
d©e
)

161 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


163 
	$BUILTIN
 (
ECMA_BUILTIN_ID_REGEXP_PROTOTYPE
,

164 
ECMA_OBJECT_TYPE_CLASS
,

165 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

166 
åue
,

167 
åue
,

168 
ªgexp_¥ŸŸy≥
)

171 
	$BUILTIN
 (
ECMA_BUILTIN_ID_REGEXP
,

172 
ECMA_OBJECT_TYPE_FUNCTION
,

173 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

174 
åue
,

175 
åue
,

176 
ªgexp
)

180 
	$BUILTIN
 (
ECMA_BUILTIN_ID_ERROR
,

181 
ECMA_OBJECT_TYPE_FUNCTION
,

182 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

183 
åue
,

184 
åue
,

185 
îr‹
)

188 
	$BUILTIN
 (
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

189 
ECMA_OBJECT_TYPE_GENERAL
,

190 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

191 
åue
,

192 
åue
,

193 
îr‹_¥ŸŸy≥
)

195 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


197 
	$BUILTIN
 (
ECMA_BUILTIN_ID_EVAL_ERROR_PROTOTYPE
,

198 
ECMA_OBJECT_TYPE_GENERAL
,

199 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

200 
åue
,

201 
åue
,

202 
evÆ_îr‹_¥ŸŸy≥
)

205 
	$BUILTIN
 (
ECMA_BUILTIN_ID_EVAL_ERROR
,

206 
ECMA_OBJECT_TYPE_FUNCTION
,

207 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

208 
åue
,

209 
åue
,

210 
evÆ_îr‹
)

213 
	$BUILTIN
 (
ECMA_BUILTIN_ID_RANGE_ERROR_PROTOTYPE
,

214 
ECMA_OBJECT_TYPE_GENERAL
,

215 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

216 
åue
,

217 
åue
,

218 
ønge_îr‹_¥ŸŸy≥
)

221 
	$BUILTIN
 (
ECMA_BUILTIN_ID_RANGE_ERROR
,

222 
ECMA_OBJECT_TYPE_FUNCTION
,

223 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

224 
åue
,

225 
åue
,

226 
ønge_îr‹
)

229 
	$BUILTIN
 (
ECMA_BUILTIN_ID_REFERENCE_ERROR_PROTOTYPE
,

230 
ECMA_OBJECT_TYPE_GENERAL
,

231 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

232 
åue
,

233 
åue
,

234 
ª„ªn˚_îr‹_¥ŸŸy≥
)

237 
	$BUILTIN
 (
ECMA_BUILTIN_ID_REFERENCE_ERROR
,

238 
ECMA_OBJECT_TYPE_FUNCTION
,

239 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

240 
åue
,

241 
åue
,

242 
ª„ªn˚_îr‹
)

245 
	$BUILTIN
 (
ECMA_BUILTIN_ID_SYNTAX_ERROR_PROTOTYPE
,

246 
ECMA_OBJECT_TYPE_GENERAL
,

247 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

248 
åue
,

249 
åue
,

250 
sy¡ax_îr‹_¥ŸŸy≥
)

253 
	$BUILTIN
 (
ECMA_BUILTIN_ID_SYNTAX_ERROR
,

254 
ECMA_OBJECT_TYPE_FUNCTION
,

255 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

256 
åue
,

257 
åue
,

258 
sy¡ax_îr‹
)

261 
	$BUILTIN
 (
ECMA_BUILTIN_ID_TYPE_ERROR_PROTOTYPE
,

262 
ECMA_OBJECT_TYPE_GENERAL
,

263 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

264 
åue
,

265 
åue
,

266 
ty≥_îr‹_¥ŸŸy≥
)

269 
	$BUILTIN
 (
ECMA_BUILTIN_ID_TYPE_ERROR
,

270 
ECMA_OBJECT_TYPE_FUNCTION
,

271 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

272 
åue
,

273 
åue
,

274 
ty≥_îr‹
)

277 
	$BUILTIN
 (
ECMA_BUILTIN_ID_URI_ERROR_PROTOTYPE
,

278 
ECMA_OBJECT_TYPE_GENERAL
,

279 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
,

280 
åue
,

281 
åue
,

282 
uri_îr‹_¥ŸŸy≥
)

285 
	$BUILTIN
 (
ECMA_BUILTIN_ID_URI_ERROR
,

286 
ECMA_OBJECT_TYPE_FUNCTION
,

287 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

288 
åue
,

289 
åue
,

290 
uri_îr‹
)

294 
	$BUILTIN
 (
ECMA_BUILTIN_ID_TYPE_ERROR_THROWER
,

295 
ECMA_OBJECT_TYPE_FUNCTION
,

296 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

297 
Ál£
,

298 
åue
,

299 
ty≥_îr‹_throwî
)

301 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


304 
	$BUILTIN
 (
ECMA_BUILTIN_ID_ARRAYBUFFER_PROTOTYPE
,

305 
ECMA_OBJECT_TYPE_GENERAL
,

306 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

307 
åue
,

308 
åue
,

309 
¨øybuf„r_¥ŸŸy≥
)

312 
	$BUILTIN
 (
ECMA_BUILTIN_ID_ARRAYBUFFER
,

313 
ECMA_OBJECT_TYPE_FUNCTION
,

314 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

315 
åue
,

316 
åue
,

317 
¨øybuf„r
)

320 
	$BUILTIN
 (
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

321 
ECMA_OBJECT_TYPE_GENERAL
,

322 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

323 
åue
,

324 
åue
,

325 
ty≥d¨øy_¥ŸŸy≥
)

328 
	$BUILTIN
 (
ECMA_BUILTIN_ID_TYPEDARRAY
,

329 
ECMA_OBJECT_TYPE_FUNCTION
,

330 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

331 
åue
,

332 
åue
,

333 
ty≥d¨øy
)

335 
	$BUILTIN
 (
ECMA_BUILTIN_ID_INT8ARRAY_PROTOTYPE
,

336 
ECMA_OBJECT_TYPE_GENERAL
,

337 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

338 
åue
,

339 
åue
,

340 
öt8¨øy_¥ŸŸy≥
)

342 
	$BUILTIN
 (
ECMA_BUILTIN_ID_INT8ARRAY
,

343 
ECMA_OBJECT_TYPE_FUNCTION
,

344 
ECMA_BUILTIN_ID_TYPEDARRAY
,

345 
åue
,

346 
åue
,

347 
öt8¨øy
)

349 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT8ARRAY_PROTOTYPE
,

350 
ECMA_OBJECT_TYPE_GENERAL
,

351 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

352 
åue
,

353 
åue
,

354 
uöt8¨øy_¥ŸŸy≥
)

356 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT8ARRAY
,

357 
ECMA_OBJECT_TYPE_FUNCTION
,

358 
ECMA_BUILTIN_ID_TYPEDARRAY
,

359 
åue
,

360 
åue
,

361 
uöt8¨øy
)

363 
	$BUILTIN
 (
ECMA_BUILTIN_ID_INT16ARRAY_PROTOTYPE
,

364 
ECMA_OBJECT_TYPE_GENERAL
,

365 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

366 
åue
,

367 
åue
,

368 
öt16¨øy_¥ŸŸy≥
)

370 
	$BUILTIN
 (
ECMA_BUILTIN_ID_INT16ARRAY
,

371 
ECMA_OBJECT_TYPE_FUNCTION
,

372 
ECMA_BUILTIN_ID_TYPEDARRAY
,

373 
åue
,

374 
åue
,

375 
öt16¨øy
)

377 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT16ARRAY_PROTOTYPE
,

378 
ECMA_OBJECT_TYPE_GENERAL
,

379 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

380 
åue
,

381 
åue
,

382 
uöt16¨øy_¥ŸŸy≥
)

384 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT16ARRAY
,

385 
ECMA_OBJECT_TYPE_FUNCTION
,

386 
ECMA_BUILTIN_ID_TYPEDARRAY
,

387 
åue
,

388 
åue
,

389 
uöt16¨øy
)

391 
	$BUILTIN
 (
ECMA_BUILTIN_ID_INT32ARRAY_PROTOTYPE
,

392 
ECMA_OBJECT_TYPE_GENERAL
,

393 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

394 
åue
,

395 
åue
,

396 
öt32¨øy_¥ŸŸy≥
)

398 
	$BUILTIN
 (
ECMA_BUILTIN_ID_INT32ARRAY
,

399 
ECMA_OBJECT_TYPE_FUNCTION
,

400 
ECMA_BUILTIN_ID_TYPEDARRAY
,

401 
åue
,

402 
åue
,

403 
öt32¨øy
)

405 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT32ARRAY_PROTOTYPE
,

406 
ECMA_OBJECT_TYPE_GENERAL
,

407 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

408 
åue
,

409 
åue
,

410 
uöt32¨øy_¥ŸŸy≥
)

412 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT32ARRAY
,

413 
ECMA_OBJECT_TYPE_FUNCTION
,

414 
ECMA_BUILTIN_ID_TYPEDARRAY
,

415 
åue
,

416 
åue
,

417 
uöt32¨øy
)

419 
	$BUILTIN
 (
ECMA_BUILTIN_ID_FLOAT32ARRAY_PROTOTYPE
,

420 
ECMA_OBJECT_TYPE_GENERAL
,

421 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

422 
åue
,

423 
åue
,

424 
Êﬂt32¨øy_¥ŸŸy≥
)

426 
	$BUILTIN
 (
ECMA_BUILTIN_ID_FLOAT32ARRAY
,

427 
ECMA_OBJECT_TYPE_FUNCTION
,

428 
ECMA_BUILTIN_ID_TYPEDARRAY
,

429 
åue
,

430 
åue
,

431 
Êﬂt32¨øy
)

433 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


434 
	$BUILTIN
 (
ECMA_BUILTIN_ID_FLOAT64ARRAY_PROTOTYPE
,

435 
ECMA_OBJECT_TYPE_GENERAL
,

436 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

437 
åue
,

438 
åue
,

439 
Êﬂt64¨øy_¥ŸŸy≥
)

441 
	$BUILTIN
 (
ECMA_BUILTIN_ID_FLOAT64ARRAY
,

442 
ECMA_OBJECT_TYPE_FUNCTION
,

443 
ECMA_BUILTIN_ID_TYPEDARRAY
,

444 
åue
,

445 
åue
,

446 
Êﬂt64¨øy
)

449 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY_PROTOTYPE
,

450 
ECMA_OBJECT_TYPE_GENERAL
,

451 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

452 
åue
,

453 
åue
,

454 
uöt8˛am≥d¨øy_¥ŸŸy≥
)

456 
	$BUILTIN
 (
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY
,

457 
ECMA_OBJECT_TYPE_FUNCTION
,

458 
ECMA_BUILTIN_ID_TYPEDARRAY
,

459 
åue
,

460 
åue
,

461 
uöt8˛am≥d¨øy
)

465 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


467 
	$BUILTIN
 (
ECMA_BUILTIN_ID_PROMISE_PROTOTYPE
,

468 
ECMA_OBJECT_TYPE_GENERAL
,

469 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

470 
åue
,

471 
åue
,

472 
¥omi£_¥ŸŸy≥
)

474 
	$BUILTIN
 (
ECMA_BUILTIN_ID_PROMISE
,

475 
ECMA_OBJECT_TYPE_FUNCTION
,

476 
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
,

477 
åue
,

478 
åue
,

479 
¥omi£
)

484 
	$BUILTIN
 (
ECMA_BUILTIN_ID_GLOBAL
,

485 
ECMA_OBJECT_TYPE_GENERAL
,

486 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
,

487 
åue
,

488 
åue
,

489 
globÆ
)

491 #unde‡
BUILTIN


	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-Êﬂt32¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
Êﬂt32¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_FLOAT32ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-Êﬂt32¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
Êﬂt32¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_Êﬂt32¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Float32Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_Êﬂt32¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FLOAT32ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_FLOAT32ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


19 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


21 
	#ECMA_BUILTINS_INTERNAL


	)

22 
	~"ecma-buûtös-öã∫Æ.h
"

24 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-Êﬂt64¨øy-¥ŸŸy≥.öc.h"

	)

25 
	#BUILTIN_UNDERSCORED_ID
 
Êﬂt64¨øy_¥ŸŸy≥


	)

26 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


23 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


26 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

27 
ECMA_BUILTIN_ID_FLOAT64ARRAY
,

28 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

31 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

33 
ECMA_PROPERTY_FIXED
)

38 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


27 
	#ECMA_BUILTINS_INTERNAL


	)

28 
	~"ecma-buûtös-öã∫Æ.h
"

30 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-Êﬂt64¨øy.öc.h"

	)

31 
	#BUILTIN_UNDERSCORED_ID
 
Êﬂt64¨øy


	)

32 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

49 
ecma_vÆue_t


50 
	$ecma_buûtö_Êﬂt64¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

51 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

53 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

55  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Float64Array cannot be directly called"));

56 
	}
}

63 
ecma_vÆue_t


64 
	$ecma_buûtö_Êﬂt64¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

65 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

67 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

69 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FLOAT64ARRAY_PROTOTYPE
);

70 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

71 
¨gumíts_li°_Àn
,

72 
¥ŸŸy≥_obj_p
,

74 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
);

76 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

78  
vÆ
;

79 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


23 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


26 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

28 
ECMA_PROPERTY_FIXED
)

31 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

33 
ECMA_PROPERTY_FIXED
)

36 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

38 
ECMA_PROPERTY_FIXED
)

41 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

42 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
,

43 
ECMA_PROPERTY_FIXED
)

46 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

47 
ECMA_BUILTIN_ID_FLOAT64ARRAY_PROTOTYPE
,

48 
ECMA_PROPERTY_FIXED
)

53 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-öt16¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
öt16¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_INT16ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-öt16¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
öt16¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_öt16¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Int16Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_öt16¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT16ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_INT16_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_INT16_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_INT16ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-öt32¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
öt32¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_INT32ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-öt32¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
öt32¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_öt32¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Int32Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_öt32¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT32ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_INT32_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_INT32_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_INT32ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-öt8¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
öt8¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_INT8ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-öt8¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
öt8¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_öt8¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Int8Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_öt8¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT8ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_INT8_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_INT8_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_INT8ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.c

16 
	~"ecma-buûtö-hñ≥rs.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-obje˘s.h
"

22 
	~"ecma-c⁄vîsi⁄.h
"

23 
	~"ecma-fun˘i⁄-obje˘.h
"

24 
	~"ecma-ty≥d¨øy-obje˘.h
"

25 
	~"ecma-¨øybuf„r-obje˘.h
"

26 
	~"ecma-åy-ˇtch-ma¸o.h
"

27 
	~"jπ.h
"

28 
	~"jπ-libc-ö˛udes.h
"

29 
	~"ecma-gc.h
"

30 
	~"jmem.h
"

32 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


34 
	#ECMA_BUILTINS_INTERNAL


	)

35 
	~"ecma-buûtös-öã∫Æ.h
"

37 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ty≥d¨øy-¥ŸŸy≥.öc.h"

	)

38 
	#BUILTIN_UNDERSCORED_ID
 
ty≥d¨øy_¥ŸŸy≥


	)

39 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

60 
ecma_vÆue_t


61 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_buf„r_gëãr
 (
ecma_vÆue_t
 
this_¨g
)

63 i‡(
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

65 
ecma_obje˘_t
 *
ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

66 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
ty≥d¨øy_p
);

67 
	`ecma_ªf_obje˘
 (
obj_p
);

69  
	`ecma_make_obje˘_vÆue
 (
obj_p
);

72  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

73 
	}
}

84 
ecma_vÆue_t


85 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_byãÀngth_gëãr
 (
ecma_vÆue_t
 
this_¨g
)

87 i‡(
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

89 
ecma_obje˘_t
 *
ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

90 
uöt8_t
 
shi·
 = 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
ty≥d¨øy_p
);

92  
	`ecma_make_uöt32_vÆue
 (
	`ecma_ty≥d¨øy_gë_Àngth
 (
ty≥d¨øy_p
Ë<< 
shi·
);

95  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

96 
	}
}

107 
ecma_vÆue_t


108 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_byãoff£t_gëãr
 (
ecma_vÆue_t
 
this_¨g
)

110 i‡(
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

112 
ecma_obje˘_t
 *
ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

114  
	`ecma_make_uöt32_vÆue
 (
	`ecma_ty≥d¨øy_gë_off£t
 (
ty≥d¨øy_p
));

117  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

118 
	}
}

129 
ecma_vÆue_t


130 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_Àngth_gëãr
 (
ecma_vÆue_t
 
this_¨g
)

132 i‡(
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

134 
ecma_obje˘_t
 *
ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

136  
	`ecma_make_uöt32_vÆue
 (
	`ecma_ty≥d¨øy_gë_Àngth
 (
ty≥d¨øy_p
));

139  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

140 
	}
}

147 
	mTYPEDARRAY_ROUTINE_EVERY
,

148 
	mTYPEDARRAY_ROUTINE_SOME
,

149 
	mTYPEDARRAY_ROUTINE_FOREACH
,

150 
	mTYPEDARRAY_ROUTINE__COUNT


151 } 
	tty≥d¨øy_routöe_mode
;

160 
ecma_vÆue_t


161 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_exec_routöe
 (
ecma_vÆue_t
 
this_¨g
,

162 
ecma_vÆue_t
 
cb_func_vÆ
,

163 
ecma_vÆue_t
 
cb_this_¨g
,

164 
ty≥d¨øy_routöe_mode
 
mode
)

166 
	`JERRY_ASSERT
 (
mode
 < 
TYPEDARRAY_ROUTINE__COUNT
);

168 i‡(!
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

170  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

173 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
cb_func_vÆ
))

175  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

178 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

179 
uöt32_t
 
Àn
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

180 
ecma_obje˘_t
 *
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
cb_func_vÆ
);

181 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

183 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

185 
ecma_vÆue_t
 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

186 
ecma_vÆue_t
 
gë_vÆue
 = 
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obj_p
, 
ödex
);

188 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
gë_vÆue
));

190 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
gë_vÆue
, 
cuºít_ödex
, 
this_¨g
 };

192 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
cb_this_¨g
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

194 i‡(
mode
 =
TYPEDARRAY_ROUTINE_EVERY
)

196 i‡(!
	`ecma_›_to_boﬁón
 (
ˇŒ_vÆue
))

198 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

201 i‡(
mode
 =
TYPEDARRAY_ROUTINE_SOME
)

203 i‡(
	`ecma_›_to_boﬁón
 (
ˇŒ_vÆue
))

205 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

209 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

211 
	`ecma_Á°_‰ì_vÆue
 (
cuºít_ödex
);

212 
	`ecma_Á°_‰ì_vÆue
 (
gë_vÆue
);

215 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

217 i‡(
mode
 =
TYPEDARRAY_ROUTINE_EVERY
)

219 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

221 i‡(
mode
 =
TYPEDARRAY_ROUTINE_SOME
)

223 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

227 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

231  
ªt_vÆue
;

232 
	}
}

243 
ecma_vÆue_t


244 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_evîy
 (
ecma_vÆue_t
 
this_¨g
,

245 
ecma_vÆue_t
 
cb_func_vÆ
,

246 
ecma_vÆue_t
 
cb_this_¨g
)

248  
	`ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_exec_routöe
 (
this_¨g
,

249 
cb_func_vÆ
,

250 
cb_this_¨g
,

251 
TYPEDARRAY_ROUTINE_EVERY
);

252 
	}
}

263 
ecma_vÆue_t


264 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_some
 (
ecma_vÆue_t
 
this_¨g
,

265 
ecma_vÆue_t
 
cb_func_vÆ
,

266 
ecma_vÆue_t
 
cb_this_¨g
)

268  
	`ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_exec_routöe
 (
this_¨g
,

269 
cb_func_vÆ
,

270 
cb_this_¨g
,

271 
TYPEDARRAY_ROUTINE_SOME
);

272 
	}
}

283 
ecma_vÆue_t


284 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_f‹_óch
 (
ecma_vÆue_t
 
this_¨g
,

285 
ecma_vÆue_t
 
cb_func_vÆ
,

286 
ecma_vÆue_t
 
cb_this_¨g
)

288  
	`ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_exec_routöe
 (
this_¨g
,

289 
cb_func_vÆ
,

290 
cb_this_¨g
,

291 
TYPEDARRAY_ROUTINE_FOREACH
);

292 
	}
}

303 
ecma_vÆue_t


304 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_m≠
 (
ecma_vÆue_t
 
this_¨g
,

305 
ecma_vÆue_t
 
cb_func_vÆ
,

306 
ecma_vÆue_t
 
cb_this_¨g
)

308 i‡(!
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

310  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

313 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
cb_func_vÆ
))

315  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

318 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

319 
uöt32_t
 
Àn
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

320 
ecma_obje˘_t
 *
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
cb_func_vÆ
);

321 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

323 
ecma_vÆue_t
 
√w_ty≥d¨øy
 = 
	`ecma_›_¸óã_ty≥d¨øy_wôh_ty≥_™d_Àngth
 (
obj_p
, 
Àn
);

325 i‡(
	`ECMA_IS_VALUE_ERROR
 (
√w_ty≥d¨øy
))

327  
√w_ty≥d¨øy
;

330 
ecma_obje˘_t
 *
√w_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_ty≥d¨øy
);

332 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

334 
ecma_vÆue_t
 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

335 
ecma_vÆue_t
 
gë_vÆue
 = 
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obj_p
, 
ödex
);

336 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
gë_vÆue
, 
cuºít_ödex
, 
this_¨g
 };

338 
	`ECMA_TRY_CATCH
 (
m≠≥d_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
cb_this_¨g
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

340 
boﬁ
 
£t_°©us
 = 
	`ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
√w_obj_p
, 
ödex
, 
m≠≥d_vÆue
);

342 i‡(!
£t_°©us
)

344 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("error inÅypedarray set"));

347 
	`ECMA_FINALIZE
 (
m≠≥d_vÆue
);

349 
	`ecma_Á°_‰ì_vÆue
 (
cuºít_ödex
);

350 
	`ecma_Á°_‰ì_vÆue
 (
gë_vÆue
);

353 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

355 
ªt_vÆue
 = 
√w_ty≥d¨øy
;

359 
	`ecma_‰ì_vÆue
 (
√w_ty≥d¨øy
);

362  
ªt_vÆue
;

363 
	}
}

372 
ecma_vÆue_t


373 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚_wôh_dúe˘i⁄
 (
ecma_vÆue_t
 
this_¨g
,

374 
ecma_vÆue_t
 
cb_func_vÆ
,

375 
ecma_vÆue_t
 
öôül_vÆ
,

376 
boﬁ
 
is_right
)

378 i‡(!
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

380  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

383 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
cb_func_vÆ
))

385  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

388 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

389 
uöt32_t
 
Àn
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

391 i‡(
Àn
 == 0)

393 i‡(
	`ecma_is_vÆue_undeföed
 (
öôül_vÆ
))

395  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Initial value cannot be undefined."));

398  
	`ecma_c›y_vÆue
 (
öôül_vÆ
);

401 
	`JERRY_ASSERT
 (
Àn
 > 0);

403 
ecma_vÆue_t
 
accumuœt‹
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

404 
uöt32_t
 
ödex
 = 
is_right
 ? (
Àn
 - 1) : 0;

406 i‡(
	`ecma_is_vÆue_undeföed
 (
öôül_vÆ
))

408 
accumuœt‹
 = 
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obj_p
, 
ödex
);

410 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
accumuœt‹
));

412 i‡(
is_right
)

414 i‡(
ödex
 == 0)

416  
accumuœt‹
;

419 
ödex
--;

423 
ödex
++;

425 i‡(
ödex
 =
Àn
)

427  
accumuœt‹
;

433 
accumuœt‹
 = 
	`ecma_c›y_vÆue
 (
öôül_vÆ
);

436 
ecma_obje˘_t
 *
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
cb_func_vÆ
);

438 
åue
)

440 
ecma_vÆue_t
 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

441 
ecma_vÆue_t
 
gë_vÆue
 = 
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obj_p
, 
ödex
);

442 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
accumuœt‹
, 
gë_vÆue
, 
cuºít_ödex
, 
this_¨g
 };

444 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
gë_vÆue
));

446 
ecma_vÆue_t
 
ˇŒ_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
,

447 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

448 
ˇŒ_¨gs
,

451 
	`ecma_Á°_‰ì_vÆue
 (
accumuœt‹
);

452 
	`ecma_Á°_‰ì_vÆue
 (
gë_vÆue
);

453 
	`ecma_Á°_‰ì_vÆue
 (
cuºít_ödex
);

455 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ˇŒ_vÆue
))

457  
ˇŒ_vÆue
;

460 
accumuœt‹
 = 
ˇŒ_vÆue
;

462 i‡(
is_right
)

464 i‡(
ödex
 == 0)

469 
ödex
--;

473 
ödex
++;

475 i‡(
ödex
 =
Àn
)

482  
accumuœt‹
;

483 
	}
}

494 
ecma_vÆue_t


495 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚
 (
ecma_vÆue_t
 
this_¨g
,

496 
ecma_vÆue_t
 
cb_func_vÆ
,

497 
ecma_vÆue_t
 
öôül_vÆ
)

499  
	`ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚_wôh_dúe˘i⁄
 (
this_¨g
,

500 
cb_func_vÆ
,

501 
öôül_vÆ
,

502 
Ál£
);

503 
	}
}

514 
ecma_vÆue_t


515 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚_right
 (
ecma_vÆue_t
 
this_¨g
,

516 
ecma_vÆue_t
 
cb_func_vÆ
,

517 
ecma_vÆue_t
 
öôül_vÆ
)

519  
	`ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚_wôh_dúe˘i⁄
 (
this_¨g
,

520 
cb_func_vÆ
,

521 
öôül_vÆ
,

522 
åue
);

523 
	}
}

534 
ecma_vÆue_t


535 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_fûãr
 (
ecma_vÆue_t
 
this_¨g
,

536 
ecma_vÆue_t
 
cb_func_vÆ
,

537 
ecma_vÆue_t
 
cb_this_¨g
)

539 i‡(!
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

541  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

544 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
cb_func_vÆ
))

546  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Callback function isÇot callable."));

549 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

550 
uöt32_t
 
Àn
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

551 
lô_utf8_byã_t
 *
buf„r_p
 = 
	`ecma_ty≥d¨øy_gë_buf„r
 (
obj_p
);

552 
uöt8_t
 
shi·
 = 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
obj_p
);

553 
uöt8_t
 
ñemít_size
 = (uöt8_tË(1 << 
shi·
);

554 
ecma_obje˘_t
 *
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
cb_func_vÆ
);

555 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

557 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
∑ss_vÆue_li°_p
, 
Àn
 * 
ñemít_size
, 
lô_utf8_byã_t
);

559 
lô_utf8_byã_t
 *
∑ss_vÆue_p
 = 
∑ss_vÆue_li°_p
;

561 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

563 
ecma_vÆue_t
 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

564 
ecma_vÆue_t
 
gë_vÆue
 = 
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obj_p
, 
ödex
);

566 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
gë_vÆue
));

568 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
gë_vÆue
, 
cuºít_ödex
, 
this_¨g
 };

570 
	`ECMA_TRY_CATCH
 (
ˇŒ_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
cb_this_¨g
, 
ˇŒ_¨gs
, 3), 
ªt_vÆue
);

572 i‡(
	`ecma_›_to_boﬁón
 (
ˇŒ_vÆue
))

574 
	`mem˝y
 (
∑ss_vÆue_p
, 
buf„r_p
, 
ñemít_size
);

575 
∑ss_vÆue_p
 +
ñemít_size
;

578 
buf„r_p
 +
ñemít_size
;

580 
	`ECMA_FINALIZE
 (
ˇŒ_vÆue
);

582 
	`ecma_Á°_‰ì_vÆue
 (
cuºít_ödex
);

583 
	`ecma_Á°_‰ì_vÆue
 (
gë_vÆue
);

586 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

588 
uöt32_t
 
∑ss_num
 = (uöt32_tË((
∑ss_vÆue_p
 - 
∑ss_vÆue_li°_p
Ë>> 
shi·
);

590 
ªt_vÆue
 = 
	`ecma_›_¸óã_ty≥d¨øy_wôh_ty≥_™d_Àngth
 (
obj_p
, 
∑ss_num
);

593 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

595 
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ªt_vÆue
);

597 
	`JERRY_ASSERT
 (
	`ecma_ty≥d¨øy_gë_off£t
 (
obj_p
) == 0);

599 
	`mem˝y
 (
	`ecma_ty≥d¨øy_gë_buf„r
 (
obj_p
),

600 
∑ss_vÆue_li°_p
,

601 (
size_t
Ë(
∑ss_vÆue_p
 - 
∑ss_vÆue_li°_p
));

605 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
∑ss_vÆue_li°_p
);

607  
ªt_vÆue
;

608 
	}
}

619 
ecma_vÆue_t


620 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªvî£
 (
ecma_vÆue_t
 
this_¨g
)

622 i‡(!
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

624  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

627 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

628 
uöt32_t
 
Àn
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

629 
lô_utf8_byã_t
 *
buf„r_p
 = 
	`ecma_ty≥d¨øy_gë_buf„r
 (
obj_p
);

630 
uöt8_t
 
shi·
 = 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
obj_p
);

631 
uöt8_t
 
ñemít_size
 = (uöt8_tË(1 << 
shi·
);

632 
uöt32_t
 
middÀ
 = (
Àn
 / 2Ë<< 
shi·
;

633 
uöt32_t
 
buf„r_œ°
 = (
Àn
 << 
shi·
Ë- 
ñemít_size
;

635 
uöt32_t
 
lowî
 = 0;Üowî < 
middÀ
;Üowî +
ñemít_size
)

637 
uöt32_t
 
uµî
 = 
buf„r_œ°
 - 
lowî
;

638 
lô_utf8_byã_t
 *
lowî_p
 = 
buf„r_p
 + 
lowî
;

639 
lô_utf8_byã_t
 *
uµî_p
 = 
buf„r_p
 + 
uµî
;

641 
lô_utf8_byã_t
 
tmp
[8];

642 
	`mem˝y
 (&
tmp
[0], 
lowî_p
, 
ñemít_size
);

643 
	`mem˝y
 (
lowî_p
, 
uµî_p
, 
ñemít_size
);

644 
	`mem˝y
 (
uµî_p
, &
tmp
[0], 
ñemít_size
);

647  
	`ecma_c›y_vÆue
 (
this_¨g
);

648 
	}
}

658 
ecma_vÆue_t


659 
	$ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_£t
 (
ecma_vÆue_t
 
this_¨g
,

660 
ecma_vÆue_t
 
¨r_vÆ
,

661 
ecma_vÆue_t
 
off£t_vÆ
)

664 i‡(
	`ecma_is_ty≥d¨øy
 (
¨r_vÆ
))

667  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("TypedArray.set(typedArray [,offset]) isÇot supported."));

671 i‡(!
	`ecma_is_ty≥d¨øy
 (
this_¨g
))

673  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument 'this' isÇotá TypedArray."));

677 
ecma_vÆue_t
 
ªt_vÆ
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

678 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
èrgë_off£t_num
, 
off£t_vÆ
, 
ªt_vÆ
);

679 i‡(
	`ecma_numbî_is_«n
 (
èrgë_off£t_num
))

681 
èrgë_off£t_num
 = 0;

683 i‡(
èrgë_off£t_num
 <-1.0 ||Å¨gë_off£t_num >(Ë
UINT32_MAX
 + 0.5)

685  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid offset"));

687 
uöt32_t
 
èrgë_off£t_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
èrgë_off£t_num
);

690 
ecma_obje˘_t
 *
ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

691 
ecma_Àngth_t
 
èrgë_Àngth
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
ty≥d¨øy_p
);

694 
uöt8_t
 
shi·
 = 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
ty≥d¨øy_p
);

695 
uöt8_t
 
ñemít_size
 = (uöt8_tË(1 << 
shi·
);

698 
lô_magic_°rög_id_t
 
èrgë_˛ass_id
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
ty≥d¨øy_p
);

701 
lô_utf8_byã_t
 *
èrgë_buf„r_p
 = 
	`ecma_ty≥d¨øy_gë_buf„r
 (
ty≥d¨øy_p
);

704 
	`ECMA_TRY_CATCH
 (
sour˚_obj
, 
	`ecma_›_to_obje˘
 (
¨r_vÆ
), 
ªt_vÆ
);

707 
ecma_°rög_t
 
Àngth_°r
;

708 
	`ecma_öô_ecma_Àngth_°rög
 (&
Àngth_°r
);

709 
ecma_obje˘_t
 *
sour˚_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
sour˚_obj
);

710 
	`ECMA_TRY_CATCH
 (
sour˚_Àngth
,

711 
	`ecma_›_obje˘_gë
 (
sour˚_obj_p
, &
Àngth_°r
),

712 
ªt_vÆ
);

713 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
sour˚_Àngth_num
, 
sour˚_Àngth
, 
ªt_vÆ
);

714 i‡(
	`ecma_numbî_is_«n
 (
sour˚_Àngth_num
) || source_length_num <= 0)

716 
sour˚_Àngth_num
 = 0;

718 
uöt32_t
 
sour˚_Àngth_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
sour˚_Àngth_num
);

719 i‡((
ecma_numbî_t
Ë
sour˚_Àngth_uöt32
 !
sour˚_Àngth_num
)

721  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid sourceÜength"));

725 i‡((
öt64_t
Ë
sour˚_Àngth_uöt32
 + 
èrgë_off£t_uöt32
 > 
èrgë_Àngth
)

727 
ªt_vÆ
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidÑange of index"));

731 
uöt32_t
 
èrgë_byã_ödex
 = 
èrgë_off£t_uöt32
 * 
ñemít_size
;

732 
uöt32_t
 
k
 = 0;

733 
k
 < 
sour˚_Àngth_uöt32
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆ
))

735 
ecma_°rög_t
 
k_°r
;

736 
	`ecma_öô_ecma_°rög_‰om_uöt32
 (&
k_°r
, 
k
);

737 
	`ECMA_TRY_CATCH
 (
ñem
,

738 
	`ecma_›_obje˘_gë
 (
sour˚_obj_p
, &
k_°r
),

739 
ªt_vÆ
);

740 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
ñem_num
, 
ñem
, 
ªt_vÆ
);

741 
	`ecma_£t_ty≥d¨øy_ñemít
 (
èrgë_buf„r_p
 + 
èrgë_byã_ödex
, 
ñem_num
, 
èrgë_˛ass_id
);

742 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
ñem_num
);

743 
	`ECMA_FINALIZE
 (
ñem
);

744 
k
++;

745 
èrgë_byã_ödex
 +
ñemít_size
;

748 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
sour˚_Àngth_num
);

749 
	`ECMA_FINALIZE
 (
sour˚_Àngth
);

750 
	`ECMA_FINALIZE
 (
sour˚_obj
);

751 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
èrgë_off£t_num
);

753 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆ
))

755 
ªt_vÆ
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

757  
ªt_vÆ
;

758 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_TYPEDARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

31 
	$ACCESSOR_READ_ONLY
 (
LIT_MAGIC_STRING_BUFFER
,

32 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_buf„r_gëãr
,

33 
ECMA_PROPERTY_FIXED
)

35 
	$ACCESSOR_READ_ONLY
 (
LIT_MAGIC_STRING_BYTE_LENGTH_UL
,

36 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_byãÀngth_gëãr
,

37 
ECMA_PROPERTY_FIXED
)

39 
	$ACCESSOR_READ_ONLY
 (
LIT_MAGIC_STRING_BYTE_OFFSET_UL
,

40 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_byãoff£t_gëãr
,

41 
ECMA_PROPERTY_FIXED
)

44 
	$ACCESSOR_READ_ONLY
 (
LIT_MAGIC_STRING_LENGTH
,

45 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_Àngth_gëãr
,

46 
ECMA_PROPERTY_FIXED
)

48 
	$ROUTINE
 (
LIT_MAGIC_STRING_EVERY
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_evîy
, 2, 1)

49 
	$ROUTINE
 (
LIT_MAGIC_STRING_SOME
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_some
, 2, 1)

50 
	$ROUTINE
 (
LIT_MAGIC_STRING_FOR_EACH_UL
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_f‹_óch
, 2, 1)

51 
	$ROUTINE
 (
LIT_MAGIC_STRING_MAP
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_m≠
, 2, 1)

52 
	$ROUTINE
 (
LIT_MAGIC_STRING_REDUCE
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚
, 2, 1)

53 
	$ROUTINE
 (
LIT_MAGIC_STRING_REDUCE_RIGHT_UL
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªdu˚_right
, 2, 1)

54 
	$ROUTINE
 (
LIT_MAGIC_STRING_FILTER
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_fûãr
, 2, 1)

55 
	$ROUTINE
 (
LIT_MAGIC_STRING_REVERSE
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_ªvî£
, 0, 0)

56 
	$ROUTINE
 (
LIT_MAGIC_STRING_SET
, 
ecma_buûtö_ty≥d¨øy_¥ŸŸy≥_£t
, 2, 1)

60 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"ecma-åy-ˇtch-ma¸o.h
"

23 
	~"ecma-fun˘i⁄-obje˘.h
"

24 
	~"jπ.h
"

26 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


28 
	#ECMA_BUILTINS_INTERNAL


	)

29 
	~"ecma-buûtös-öã∫Æ.h
"

31 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-ty≥d¨øy.öc.h"

	)

32 
	#BUILTIN_UNDERSCORED_ID
 
ty≥d¨øy


	)

33 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

54 
ecma_vÆue_t


55 
	$ecma_buûtö_ty≥d¨øy_‰om
 (
ecma_vÆue_t
 
this_¨g
,

56 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

57 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

59 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

61 i‡(!
	`ecma_is_c⁄°ru˘‹
 (
this_¨g
))

63  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotá constructor."));

66 
ecma_vÆue_t
 
sour˚
;

67 
ecma_vÆue_t
 
m≠_‚
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

68 
ecma_vÆue_t
 
this_ö_‚
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

70 i‡(
¨gumíts_li°_Àn
 == 0)

72  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("no sourceárgument"));

75 
sour˚
 = 
¨gumíts_li°_p
[0];

77 i‡(
¨gumíts_li°_Àn
 > 1)

79 
m≠_‚
 = 
¨gumíts_li°_p
[1];

81 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
m≠_‚
))

83  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("mapfnárgument isÇot callable"));

86 i‡(
¨gumíts_li°_Àn
 > 2)

88 
this_ö_‚
 = 
¨gumíts_li°_p
[2];

92 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
this_¨g
);

94 
uöt8_t
 
buûtö_id
 = 
	`ecma_gë_obje˘_buûtö_id
 (
obj_p
);

95 
ecma_obje˘_t
 *
¥Ÿo_p
;

96 
uöt8_t
 
ñemít_size_shi·
;

97 
lô_magic_°rög_id_t
 
˛ass_id
;

99 
buûtö_id
)

101 
ECMA_BUILTIN_ID_INT8ARRAY
:

103 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT8ARRAY_PROTOTYPE
);

104 
ñemít_size_shi·
 = 0;

105 
˛ass_id
 = 
LIT_MAGIC_STRING_INT8_ARRAY_UL
;

108 
ECMA_BUILTIN_ID_UINT8ARRAY
:

110 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT8ARRAY_PROTOTYPE
);

111 
ñemít_size_shi·
 = 0;

112 
˛ass_id
 = 
LIT_MAGIC_STRING_UINT8_ARRAY_UL
;

115 
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY
:

117 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY_PROTOTYPE
);

118 
ñemít_size_shi·
 = 0;

119 
˛ass_id
 = 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
;

122 
ECMA_BUILTIN_ID_INT16ARRAY
:

124 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT16ARRAY_PROTOTYPE
);

125 
ñemít_size_shi·
 = 1;

126 
˛ass_id
 = 
LIT_MAGIC_STRING_INT16_ARRAY_UL
;

129 
ECMA_BUILTIN_ID_UINT16ARRAY
:

131 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT16ARRAY_PROTOTYPE
);

132 
ñemít_size_shi·
 = 1;

133 
˛ass_id
 = 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
;

136 
ECMA_BUILTIN_ID_INT32ARRAY
:

138 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT32ARRAY_PROTOTYPE
);

139 
ñemít_size_shi·
 = 2;

140 
˛ass_id
 = 
LIT_MAGIC_STRING_INT32_ARRAY_UL
;

143 
ECMA_BUILTIN_ID_UINT32ARRAY
:

145 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT32ARRAY_PROTOTYPE
);

146 
ñemít_size_shi·
 = 2;

147 
˛ass_id
 = 
LIT_MAGIC_STRING_UINT32_ARRAY_UL
;

150 
ECMA_BUILTIN_ID_FLOAT32ARRAY
:

152 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FLOAT32ARRAY_PROTOTYPE
);

153 
ñemít_size_shi·
 = 2;

154 
˛ass_id
 = 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
;

157 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


158 
ECMA_BUILTIN_ID_FLOAT64ARRAY
:

160 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FLOAT64ARRAY_PROTOTYPE
);

161 
ñemít_size_shi·
 = 3;

162 
˛ass_id
 = 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
;

168  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotáÅypedarray constructor"));

172 
	`ecma_dîef_obje˘
 (
¥Ÿo_p
);

174  
	`ecma_›_ty≥d¨øy_‰om
 (
sour˚
,

175 
m≠_‚
,

176 
this_ö_‚
,

177 
¥Ÿo_p
,

178 
ñemít_size_shi·
,

179 
˛ass_id
);

181 
	}
}

192 
ecma_vÆue_t


193 
	$ecma_buûtö_ty≥d¨øy_of
 (
ecma_vÆue_t
 
this_¨g
,

194 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

195 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

197 
	`JERRY_UNUSED
 (
this_¨g
);

198 
	`JERRY_UNUSED
 (
¨gumíts_li°_p
);

199 
	`JERRY_UNUSED
 (
¨gumíts_li°_Àn
);

203  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

204 
	}
}

214 
ecma_vÆue_t


215 
	$ecma_buûtö_ty≥d¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

216 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

218 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

220  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("TypedArray intrinstic cannot be directly called"));

221 
	}
}

231 
ecma_vÆue_t


232 
	$ecma_buûtö_ty≥d¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

233 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

235 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

237  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("TypedArray intrinstic cannot be called byá 'new'Éxpression"));

238 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

31 
LIT_MAGIC_STRING_TYPED_ARRAY_UL
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

36 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
,

37 
ECMA_PROPERTY_FIXED
)

43 
	$ROUTINE
 (
LIT_MAGIC_STRING_FROM
, 
ecma_buûtö_ty≥d¨øy_‰om
, 
NON_FIXED
, 1)

46 
	$ROUTINE
 (
LIT_MAGIC_STRING_OF
, 
ecma_buûtö_ty≥d¨øy_of
, 
NON_FIXED
, 0)

50 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt16¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
uöt16¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_UINT16ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt16¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
uöt16¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_uöt16¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Uint16Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_uöt16¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT16ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_UINT16ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt32¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
uöt32¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_UINT32ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt32¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
uöt32¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_uöt32¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Uint32Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_uöt32¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT32ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_UINT32_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_UINT32_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_UINT32ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt8¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
uöt8¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_UINT8ARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt8¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
uöt8¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_uöt8¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Uint8Array cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_uöt8¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT8ARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_UINT8_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_UINT8_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_UINT8ARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray-prototype.c

16 
	~"ecma-buûtös.h
"

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	#ECMA_BUILTINS_INTERNAL


	)

21 
	~"ecma-buûtös-öã∫Æ.h
"

23 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt8˛am≥d¨øy-¥ŸŸy≥.öc.h"

	)

24 
	#BUILTIN_UNDERSCORED_ID
 
uöt8˛am≥d¨øy_¥ŸŸy≥


	)

25 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray-prototype.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_CONSTRUCTOR
,

26 
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY
,

27 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

36 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-ty≥d¨øy-obje˘.h
"

22 
	~"jπ.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


26 
	#ECMA_BUILTINS_INTERNAL


	)

27 
	~"ecma-buûtös-öã∫Æ.h
"

29 
	#BUILTIN_INC_HEADER_NAME
 "ecma-buûtö-uöt8˛am≥d¨øy.öc.h"

	)

30 
	#BUILTIN_UNDERSCORED_ID
 
uöt8˛am≥d¨øy


	)

31 
	~"ecma-buûtö-öã∫Æ-routöes-ãm∂©e.öc.h
"

48 
ecma_vÆue_t


49 
	$ecma_buûtö_uöt8˛am≥d¨øy_di•©ch_ˇŒ
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

50 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

52 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

54  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Uint8ClampedArray cannot be directly called"));

55 
	}
}

62 
ecma_vÆue_t


63 
	$ecma_buûtö_uöt8˛am≥d¨øy_di•©ch_c⁄°ru˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

64 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

66 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

68 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY_PROTOTYPE
);

69 
ecma_vÆue_t
 
vÆ
 = 
	`ecma_›_¸óã_ty≥d¨øy
 (
¨gumíts_li°_p
,

70 
¨gumíts_li°_Àn
,

71 
¥ŸŸy≥_obj_p
,

73 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
);

75 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

77  
vÆ
;

78 
	}
}

	@deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray.inc.h

20 
	~"ecma-buûtö-hñ≥rs-ma¸o-deföes.öc.h
"

22 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


25 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

27 
ECMA_PROPERTY_FIXED
)

30 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
,

32 
ECMA_PROPERTY_FIXED
)

35 
	$NUMBER_VALUE
 (
LIT_MAGIC_STRING_LENGTH
,

37 
ECMA_PROPERTY_FIXED
)

40 
	$STRING_VALUE
 (
LIT_MAGIC_STRING_NAME
,

41 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
,

42 
ECMA_PROPERTY_FIXED
)

45 
	$OBJECT_VALUE
 (
LIT_MAGIC_STRING_PROTOTYPE
,

46 
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY_PROTOTYPE
,

47 
ECMA_PROPERTY_FIXED
)

51 
	~"ecma-buûtö-hñ≥rs-ma¸o-undefs.öc.h
"

	@deps/jerry/jerry-core/ecma/operations/ecma-array-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-numbî-¨ôhmëic.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-obje˘s-gíîÆ.h
"

44 
ecma_vÆue_t


45 
	$ecma_›_¸óã_¨øy_obje˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

47 
ecma_Àngth_t
 
¨gumíts_li°_Àn
,

48 
boﬁ
 
is_åót_sögÀ_¨g_as_Àngth
)

55 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 == 0

56 || 
¨gumíts_li°_p
 !
NULL
);

58 
uöt32_t
 
Àngth
;

59 c⁄° 
ecma_vÆue_t
 *
¨øy_ôems_p
;

60 
ecma_Àngth_t
 
¨øy_ôems_cou¡
;

62 i‡(
is_åót_sögÀ_¨g_as_Àngth


63 && 
¨gumíts_li°_Àn
 == 1

64 && 
	`ecma_is_vÆue_numbî
 (
¨gumíts_li°_p
[0]))

66 
ecma_numbî_t
 
num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
¨gumíts_li°_p
[0]);

67 
uöt32_t
 
num_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num
);

69 i‡(
num
 !((
ecma_numbî_t
Ë
num_uöt32
))

71  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidárrayÜength."));

75 
Àngth
 = 
num_uöt32
;

76 
¨øy_ôems_p
 = 
NULL
;

77 
¨øy_ôems_cou¡
 = 0;

82 
Àngth
 = 
¨gumíts_li°_Àn
;

83 
¨øy_ôems_p
 = 
¨gumíts_li°_p
;

84 
¨øy_ôems_cou¡
 = 
¨gumíts_li°_Àn
;

87 #i‚de‡
CONFIG_DISABLE_ARRAY_BUILTIN


88 
ecma_obje˘_t
 *
¨øy_¥ŸŸy≥_obje˘_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_ARRAY_PROTOTYPE
);

90 
ecma_obje˘_t
 *
¨øy_¥ŸŸy≥_obje˘_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

93 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¨øy_¥ŸŸy≥_obje˘_p
,

94  (
ecma_exãnded_obje˘_t
),

95 
ECMA_OBJECT_TYPE_ARRAY
);

97 
	`ecma_dîef_obje˘
 (
¨øy_¥ŸŸy≥_obje˘_p
);

105 
ecma_exãnded_obje˘_t
 *
ext_obj_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

106 
ext_obj_p
->
u
.
¨øy
.
Àngth
 =Üength;

107 
ext_obj_p
->
u
.
¨øy
.
Àngth_¥›
 = 
ECMA_PROPERTY_FLAG_WRITABLE
 | 
ECMA_PROPERTY_TYPE_VIRTUAL
;

109 
uöt32_t
 
ödex
 = 0;

110 
ödex
 < 
¨øy_ôems_cou¡
;

111 
ödex
++)

113 i‡(
	`ecma_is_vÆue_¨øy_hﬁe
 (
¨øy_ôems_p
[
ödex
]))

118 
ecma_°rög_t
 *
ôem_«me_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

120 
	`ecma_buûtö_hñ≥r_def_¥›
 (
obje˘_p
,

121 
ôem_«me_°rög_p
,

122 
¨øy_ôems_p
[
ödex
],

123 
åue
,

124 
åue
,

125 
åue
,

126 
Ál£
);

128 
	`ecma_dîef_ecma_°rög
 (
ôem_«me_°rög_p
);

131  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

132 
	}
}

140 
ecma_vÆue_t


141 
	$ecma_›_¨øy_obje˘_£t_Àngth
 (
ecma_obje˘_t
 *
obje˘_p
,

142 
ecma_vÆue_t
 
√w_vÆue
,

143 
uöt32_t
 
Êags
)

145 
boﬁ
 
is_throw
 = (
Êags
 & 
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_IS_THROW
);

147 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_to_numbî
 (
√w_vÆue
);

149 i‡(
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄
))

151  
com∂ëi⁄
;

154 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄
)

155 && 
	`ecma_is_vÆue_numbî
 (
com∂ëi⁄
));

157 
ecma_numbî_t
 
√w_Àn_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
com∂ëi⁄
);

159 
	`ecma_‰ì_vÆue
 (
com∂ëi⁄
);

161 i‡(
	`ecma_is_vÆue_obje˘
 (
√w_vÆue
))

163 
ecma_vÆue_t
 
com∑ªd_num_vÆ
 = 
	`ecma_›_to_numbî
 (
√w_vÆue
);

165 i‡(
	`ECMA_IS_VALUE_ERROR
 (
com∑ªd_num_vÆ
))

167  
com∑ªd_num_vÆ
;

170 
√w_Àn_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
com∑ªd_num_vÆ
);

171 
	`ecma_‰ì_vÆue
 (
com∑ªd_num_vÆ
);

174 
uöt32_t
 
√w_Àn_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
√w_Àn_num
);

176 i‡(((
ecma_numbî_t
Ë
√w_Àn_uöt32
Ë!
√w_Àn_num
)

178  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidárrayÜength."));

181 i‡(
Êags
 & 
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_REJECT
)

183  
	`ecma_ªje˘
 (
is_throw
);

186 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

188 
uöt32_t
 
ﬁd_Àn_uöt32
 = 
ext_obje˘_p
->
u
.
¨øy
.
Àngth
;

190 i‡(
√w_Àn_num
 =
ﬁd_Àn_uöt32
)

193 i‡(
Êags
 & 
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE_DEFINED
)

195 i‡(!(
Êags
 & 
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE
))

197 
uöt8_t
 
√w_¥›_vÆue
 = (uöt8_tË(
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
 & ~
ECMA_PROPERTY_FLAG_WRITABLE
);

198 
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
 = 
√w_¥›_vÆue
;

200 i‡(!
	`ecma_is_¥›îty_wrôabÀ
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
))

202  
	`ecma_ªje˘
 (
is_throw
);

205  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

207 i‡(!
	`ecma_is_¥›îty_wrôabÀ
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
))

209  
	`ecma_ªje˘
 (
is_throw
);

212 
uöt32_t
 
cuºít_Àn_uöt32
 = 
√w_Àn_uöt32
;

214 i‡(
√w_Àn_uöt32
 < 
ﬁd_Àn_uöt32
)

216 
cuºít_Àn_uöt32
 = 
	`ecma_dñëe_¨øy_¥›îtõs
 (
obje˘_p
, 
√w_Àn_uöt32
, 
ﬁd_Àn_uöt32
);

219 
ext_obje˘_p
->
u
.
¨øy
.
Àngth
 = 
cuºít_Àn_uöt32
;

221 i‡((
Êags
 & 
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE_DEFINED
)

222 && !(
Êags
 & 
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE
))

224 
uöt8_t
 
√w_¥›_vÆue
 = (uöt8_tË(
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
 & ~
ECMA_PROPERTY_FLAG_WRITABLE
);

225 
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
 = 
√w_¥›_vÆue
;

228 i‡(
cuºít_Àn_uöt32
 =
√w_Àn_uöt32
)

230  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

232  
	`ecma_ªje˘
 (
is_throw
);

233 
	}
}

245 
ecma_vÆue_t


246 
	$ecma_›_¨øy_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

247 
ecma_°rög_t
 *
¥›îty_«me_p
,

248 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
,

249 
boﬁ
 
is_throw
)

251 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

253 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_c⁄figuøbÀ_deföed
 || !¥›îty_desc_p->
is_c⁄figuøbÀ
);

254 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_íumîabÀ_deföed
 || !¥›îty_desc_p->
is_íumîabÀ
);

255 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_wrôabÀ_deföed
 || !¥›îty_desc_p->
is_wrôabÀ
);

257 
uöt32_t
 
Êags
 = 0;

259 i‡(
is_throw
)

261 
Êags
 |
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_IS_THROW
;

265 i‡(
¥›îty_desc_p
->
is_c⁄figuøbÀ


266 || 
¥›îty_desc_p
->
is_íumîabÀ


267 || 
¥›îty_desc_p
->
is_gë_deföed


268 || 
¥›îty_desc_p
->
is_£t_deföed
)

270 
Êags
 |
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_REJECT
;

273 i‡(
¥›îty_desc_p
->
is_wrôabÀ_deföed
)

275 
Êags
 |
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE_DEFINED
;

278 i‡(
¥›îty_desc_p
->
is_wrôabÀ
)

280 
Êags
 |
ECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE
;

283 i‡(
¥›îty_desc_p
->
is_vÆue_deföed
)

285  
	`ecma_›_¨øy_obje˘_£t_Àngth
 (
obje˘_p
, 
¥›îty_desc_p
->
vÆue
, 
Êags
);

288 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

289 
ecma_vÆue_t
 
Àngth_vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth
);

291 
ecma_vÆue_t
 
ªsu…
 = 
	`ecma_›_¨øy_obje˘_£t_Àngth
 (
obje˘_p
, 
Àngth_vÆue
, 
Êags
);

293 
	`ecma_Á°_‰ì_vÆue
 (
Àngth_vÆue
);

294  
ªsu…
;

297 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

299 i‡(
ödex
 =
ECMA_STRING_NOT_ARRAY_INDEX
)

301  
	`ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
, 
¥›îty_desc_p
, 
is_throw
);

304 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

306 
boﬁ
 
upd©e_Àngth
 = (
ödex
 >
ext_obje˘_p
->
u
.
¨øy
.
Àngth
);

308 i‡(
upd©e_Àngth
 && !
	`ecma_is_¥›îty_wrôabÀ
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
))

310  
	`ecma_ªje˘
 (
is_throw
);

313 
ecma_vÆue_t
 
com∂ëôi⁄
 = 
	`ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
obje˘_p
,

314 
¥›îty_«me_p
,

315 
¥›îty_desc_p
,

316 
Ál£
);

317 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∂ëôi⁄
));

319 i‡(
	`ecma_is_vÆue_Ál£
 (
com∂ëôi⁄
))

321  
	`ecma_ªje˘
 (
is_throw
);

324 i‡(
upd©e_Àngth
)

326 
ext_obje˘_p
->
u
.
¨øy
.
Àngth
 = 
ödex
 + 1;

329  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

330 
	}
}

338 
	$ecma_›_¨øy_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
,

339 
boﬁ
 
£∑øã_íumîabÀ
,

346 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

348 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
)

352 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_ARRAY
);

354 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = 
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p
 : 
maö_cﬁÀ˘i⁄_p
;

356 
ecma_°rög_t
 *
Àngth_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

357 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
Àngth_°r_p
), 
åue
);

358 
	`ecma_dîef_ecma_°rög
 (
Àngth_°r_p
);

359 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-array-object.h

16 #i‚de‡
ECMA_ARRAY_OBJECT_H


17 
	#ECMA_ARRAY_OBJECT_H


	)

19 
	~"ecma-globÆs.h
"

33 
	mECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_IS_THROW
 = 1u << 0,

34 
	mECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_REJECT
 = 1u << 1,

36 
	mECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE_DEFINED
 = 1u << 2,

38 
	mECMA_ARRAY_OBJECT_SET_LENGTH_FLAG_WRITABLE
 = 1u << 3,

40 } 
	tecma_¨øy_obje˘_£t_Àngth_Êags_t
;

42 
ecma_vÆue_t


43 
ecma_›_¸óã_¨øy_obje˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_li°_Àn
,

44 
boﬁ
 
is_åót_sögÀ_¨g_as_Àngth
);

46 
ecma_vÆue_t


47 
ecma_›_¨øy_obje˘_£t_Àngth
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_vÆue_t
 
√w_vÆue
, 
uöt32_t
 
Êags
);

49 
ecma_vÆue_t


50 
ecma_›_¨øy_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

51 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
, 
boﬁ
 
is_throw
);

54 
ecma_›_¨øy_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
, 
boﬁ
 
£∑øã_íumîabÀ
,

55 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

56 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
);

	@deps/jerry/jerry-core/ecma/operations/ecma-arraybuffer-object.c

16 
	~"ecma-¨øybuf„r-obje˘.h
"

17 
	~"ecma-åy-ˇtch-ma¸o.h
"

18 
	~"ecma-obje˘s.h
"

19 
	~"ecma-buûtös.h
"

20 
	~"ecma-ex˚±i⁄s.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"jmem.h
"

26 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


45 
ecma_obje˘_t
 *

46 
	$ecma_¨øybuf„r_√w_obje˘
 (
ecma_Àngth_t
 
Àngth
)

48 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_ARRAYBUFFER_PROTOTYPE
);

49 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

50  (
ecma_exãnded_obje˘_t
Ë+ 
Àngth
,

51 
ECMA_OBJECT_TYPE_CLASS
);

52 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

53 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

54 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
;

55 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
Àngth
 =Üength;

57 
lô_utf8_byã_t
 *
buf
 = (lô_utf8_byã_à*Ë(
ext_obje˘_p
 + 1);

58 
	`mem£t
 (
buf
, 0, 
Àngth
);

60  
obje˘_p
;

61 
	}
}

71 
ecma_vÆue_t


72 
	$ecma_›_¸óã_¨øybuf„r_obje˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

74 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

76 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

78 
ecma_numbî_t
 
Àngth_num
 = 0;

80 i‡(
¨gumíts_li°_Àn
 > 0)

83 i‡(
	`ecma_is_vÆue_numbî
 (
¨gumíts_li°_p
[0]))

85 
Àngth_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
¨gumíts_li°_p
[0]);

89 
ecma_vÆue_t
 
to_numbî_vÆue
 = 
	`ecma_›_to_numbî
 (
¨gumíts_li°_p
[0]);

91 i‡(
	`ECMA_IS_VALUE_ERROR
 (
to_numbî_vÆue
))

93  
to_numbî_vÆue
;

96 
Àngth_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
to_numbî_vÆue
);

98 
	`ecma_‰ì_vÆue
 (
to_numbî_vÆue
);

101 i‡(
	`ecma_numbî_is_«n
 (
Àngth_num
))

103 
Àngth_num
 = 0;

106 c⁄° 
uöt32_t
 
maximum_size_ö_byã
 = 
UINT32_MAX
 -  (
ecma_exãnded_obje˘_t
Ë- 
JMEM_ALIGNMENT
 + 1;

108 i‡(
Àngth_num
 <-1.0 ||Üígth_num > (Ë
maximum_size_ö_byã
 + 0.5)

110  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid ArrayBufferÜength."));

114 
uöt32_t
 
Àngth_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
Àngth_num
);

116  
	`ecma_make_obje˘_vÆue
 (
	`ecma_¨øybuf„r_√w_obje˘
 (
Àngth_uöt32
));

117 
	}
}

128 
boﬁ


129 
	$ecma_is_¨øybuf„r
 (
ecma_vÆue_t
 
èrgë
)

131  (
	`ecma_is_vÆue_obje˘
 (
èrgë
)

132 && 
	`ecma_obje˘_˛ass_is
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
èrgë
),

133 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
));

134 
	}
}

141 
ecma_Àngth_t
 
__©å_puª___


142 
	$ecma_¨øybuf„r_gë_Àngth
 (
ecma_obje˘_t
 *
obje˘_p
)

144 
	`JERRY_ASSERT
 (
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
));

146 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

147  
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
Àngth
;

148 
	}
}

155 
ölöe
 
lô_utf8_byã_t
 * 
__©å_puª___
 
__©å_Æways_ölöe___


156 
	$ecma_¨øybuf„r_gë_buf„r
 (
ecma_obje˘_t
 *
obje˘_p
)

158 
	`JERRY_ASSERT
 (
	`ecma_obje˘_˛ass_is
 (
obje˘_p
, 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
));

160 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

161  (
lô_utf8_byã_t
 *Ë(
ext_obje˘_p
 + 1);

162 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-arraybuffer-object.h

16 #i‚de‡
ECMA_ARRAYBUFFER_OBJECT_H


17 
	#ECMA_ARRAYBUFFER_OBJECT_H


	)

19 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	~"ecma-globÆs.h
"

29 
ecma_vÆue_t


30 
ecma_›_¸óã_¨øybuf„r_obje˘
 (c⁄° 
ecma_vÆue_t
 *, 
ecma_Àngth_t
);

35 
ecma_obje˘_t
 *

36 
ecma_¨øybuf„r_√w_obje˘
 (
ecma_Àngth_t
 
Àngh
);

37 
lô_utf8_byã_t
 *

38 
	$ecma_¨øybuf„r_gë_buf„r
 (
ecma_obje˘_t
 *
obj_p
Ë
__©å_puª___
;

39 
ecma_Àngth_t


40 
	$ecma_¨øybuf„r_gë_Àngth
 (
ecma_obje˘_t
 *
obj_p
Ë
__©å_puª___
;

41 
boﬁ


42 
	`ecma_is_¨øybuf„r
 (
ecma_vÆue_t
 
vÆ
);

	@deps/jerry/jerry-core/ecma/operations/ecma-boolean-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-boﬁón-obje˘.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-obje˘s-gíîÆ.h
"

41 
ecma_vÆue_t


42 
	$ecma_›_¸óã_boﬁón_obje˘
 (
ecma_vÆue_t
 
¨g
)

44 
boﬁ
 
boﬁón_vÆue
 = 
	`ecma_›_to_boﬁón
 (
¨g
);

46 #i‚de‡
CONFIG_DISABLE_BOOLEAN_BUILTIN


47 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_BOOLEAN_PROTOTYPE
);

49 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

52 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

53  (
ecma_exãnded_obje˘_t
),

54 
ECMA_OBJECT_TYPE_CLASS
);

56 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

58 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

59 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_BOOLEAN_UL
;

60 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
boﬁón_vÆue
);

62  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

63 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-boolean-object.h

16 #i‚de‡
ECMA_BOOLEAN_OBJECT_H


17 
	#ECMA_BOOLEAN_OBJECT_H


	)

19 
	~"ecma-globÆs.h
"

28 
ecma_vÆue_t
 
ecma_›_¸óã_boﬁón_obje˘
 (ecma_vÆue_à
¨g
);

	@deps/jerry/jerry-core/ecma/operations/ecma-comparison.c

16 
	~"ecma-com∑ris⁄.h
"

17 
	~"ecma-c⁄vîsi⁄.h
"

18 
	~"ecma-globÆs.h
"

19 
	~"ecma-åy-ˇtch-ma¸o.h
"

20 
	~"jπ.h
"

37 
ecma_vÆue_t


38 
	$ecma_›_ab°ø˘_equÆôy_com∑ª
 (
ecma_vÆue_t
 
x
,

39 
ecma_vÆue_t
 
y
)

41 i‡(
x
 =
y
)

43  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

46 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
x
, 
y
))

49  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

52 i‡(
	`ecma_is_vÆue_numbî
 (
x
))

54 i‡(
	`ecma_is_vÆue_numbî
 (
y
))

57 
ecma_numbî_t
 
x_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
x
);

58 
ecma_numbî_t
 
y_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
y
);

60 
boﬁ
 
is_x_equÆ_to_y
 = (
x_num
 =
y_num
);

62 #i‚de‡
JERRY_NDEBUG


63 
boﬁ
 
is_x_equÆ_to_y_check
;

65 i‡(
	`ecma_numbî_is_«n
 (
x_num
)

66 || 
	`ecma_numbî_is_«n
 (
y_num
))

68 
is_x_equÆ_to_y_check
 = 
Ál£
;

70 i‡(
x_num
 =
y_num


71 || (
	`ecma_numbî_is_zîo
 (
x_num
)

72 && 
	`ecma_numbî_is_zîo
 (
y_num
)))

74 
is_x_equÆ_to_y_check
 = 
åue
;

78 
is_x_equÆ_to_y_check
 = 
Ál£
;

81 
	`JERRY_ASSERT
 (
is_x_equÆ_to_y
 =
is_x_equÆ_to_y_check
);

84  
	`ecma_make_boﬁón_vÆue
 (
is_x_equÆ_to_y
);

88 
ecma_vÆue_t
 
tmp
 = 
x
;

89 
x
 = 
y
;

90 
y
 = 
tmp
;

93 i‡(
	`ecma_is_vÆue_°rög
 (
x
))

95 i‡(
	`ecma_is_vÆue_°rög
 (
y
))

98 
ecma_°rög_t
 *
x_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
x
);

99 
ecma_°rög_t
 *
y_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
y
);

101 
boﬁ
 
is_equÆ
 = 
	`ecma_com∑ª_ecma_°rögs
 (
x_°r_p
, 
y_°r_p
);

103  
	`ecma_make_boﬁón_vÆue
 (
is_equÆ
);

106 i‡(
	`ecma_is_vÆue_numbî
 (
y
))

109 
ecma_vÆue_t
 
x_num_vÆue
 = 
	`ecma_›_to_numbî
 (
x
);

111 i‡(
	`ECMA_IS_VALUE_ERROR
 (
x_num_vÆue
))

113  
x_num_vÆue
;

116 
ecma_vÆue_t
 
com∑ª_ªsu…
 = 
	`ecma_›_ab°ø˘_equÆôy_com∑ª
 (
x_num_vÆue
, 
y
);

118 
	`ecma_‰ì_vÆue
 (
x_num_vÆue
);

119  
com∑ª_ªsu…
;

123 
ecma_vÆue_t
 
tmp
 = 
x
;

124 
x
 = 
y
;

125 
y
 = 
tmp
;

128 i‡(
	`ecma_is_vÆue_boﬁón
 (
y
))

130 i‡(
	`ecma_is_vÆue_boﬁón
 (
x
))

134  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

138  
	`ecma_›_ab°ø˘_equÆôy_com∑ª
 (
x
, 
	`ecma_make_öãgî_vÆue
 (
	`ecma_is_vÆue_åue
 (
y
) ? 1 : 0));

141 i‡(
	`ecma_is_vÆue_obje˘
 (
x
))

143 i‡(
	`ecma_is_vÆue_°rög
 (
y
)

144 || 
	`ecma_is_vÆue_numbî
 (
y
))

147 
ecma_vÆue_t
 
x_¥im_vÆue
 = 
	`ecma_›_to_¥imôive
 (
x
, 
ECMA_PREFERRED_TYPE_NO
);

149 i‡(
	`ECMA_IS_VALUE_ERROR
 (
x_¥im_vÆue
))

151  
x_¥im_vÆue
;

154 
ecma_vÆue_t
 
com∑ª_ªsu…
 = 
	`ecma_›_ab°ø˘_equÆôy_com∑ª
 (
x_¥im_vÆue
, 
y
);

156 
	`ecma_‰ì_vÆue
 (
x_¥im_vÆue
);

157  
com∑ª_ªsu…
;

162  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

165 i‡(
	`ecma_is_vÆue_boﬁón
 (
x
))

168  
	`ecma_›_ab°ø˘_equÆôy_com∑ª
 (
	`ecma_make_öãgî_vÆue
 (
	`ecma_is_vÆue_åue
 (
x
Ë? 1 : 0), 
y
);

171 i‡(
	`ecma_is_vÆue_undeföed
 (
x
)

172 || 
	`ecma_is_vÆue_nuŒ
 (
x
))

176 
boﬁ
 
is_equÆ
 = 
	`ecma_is_vÆue_undeföed
 (
y
Ë|| 
	`ecma_is_vÆue_nuŒ
 (y);

178  
	`ecma_make_boﬁón_vÆue
 (
is_equÆ
);

181  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

182 
	}
}

192 
boﬁ


193 
	$ecma_›_°ri˘_equÆôy_com∑ª
 (
ecma_vÆue_t
 
x
,

194 
ecma_vÆue_t
 
y
)

196 i‡(
	`ecma_is_vÆue_dúe˘
 (
x
)

197 || 
	`ecma_is_vÆue_dúe˘
 (
y
)

198 || 
	`ecma_is_vÆue_obje˘
 (
x
)

199 || 
	`ecma_is_vÆue_obje˘
 (
y
))

201 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_dúe˘
 (
x
)

202 || 
	`ecma_is_vÆue_undeföed
 (
x
)

203 || 
	`ecma_is_vÆue_nuŒ
 (
x
)

204 || 
	`ecma_is_vÆue_boﬁón
 (
x
)

205 || 
	`ecma_is_vÆue_öãgî_numbî
 (
x
));

207 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_dúe˘
 (
y
)

208 || 
	`ecma_is_vÆue_undeföed
 (
y
)

209 || 
	`ecma_is_vÆue_nuŒ
 (
y
)

210 || 
	`ecma_is_vÆue_boﬁón
 (
y
)

211 || 
	`ecma_is_vÆue_öãgî_numbî
 (
y
));

213 i‡((
x
 !
	`ecma_make_öãgî_vÆue
 (0Ë|| !
	`ecma_is_vÆue_Êﬂt_numbî
 (
y
))

214 && (
y
 !
	`ecma_make_öãgî_vÆue
 (0Ë|| !
	`ecma_is_vÆue_Êﬂt_numbî
 (
x
)))

216  (
x
 =
y
);

222 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
x
Ë|| 
	`ecma_is_vÆue_°rög
 (x));

223 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_numbî
 (
y
Ë|| 
	`ecma_is_vÆue_°rög
 (y));

225 i‡(
	`ecma_is_vÆue_°rög
 (
x
))

227 i‡(!
	`ecma_is_vÆue_°rög
 (
y
))

229  
Ál£
;

232 
ecma_°rög_t
 *
x_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
x
);

233 
ecma_°rög_t
 *
y_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
y
);

235  
	`ecma_com∑ª_ecma_°rögs
 (
x_°r_p
, 
y_°r_p
);

238 i‡(!
	`ecma_is_vÆue_numbî
 (
y
))

240  
Ál£
;

243 
ecma_numbî_t
 
x_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
x
);

244 
ecma_numbî_t
 
y_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
y
);

246 
boﬁ
 
is_x_equÆ_to_y
 = (
x_num
 =
y_num
);

248 #i‚de‡
JERRY_NDEBUG


249 
boﬁ
 
is_x_equÆ_to_y_check
;

251 i‡(
	`ecma_numbî_is_«n
 (
x_num
)

252 || 
	`ecma_numbî_is_«n
 (
y_num
))

254 
is_x_equÆ_to_y_check
 = 
Ál£
;

256 i‡(
x_num
 =
y_num


257 || (
	`ecma_numbî_is_zîo
 (
x_num
)

258 && 
	`ecma_numbî_is_zîo
 (
y_num
)))

260 
is_x_equÆ_to_y_check
 = 
åue
;

264 
is_x_equÆ_to_y_check
 = 
Ál£
;

267 
	`JERRY_ASSERT
 (
is_x_equÆ_to_y
 =
is_x_equÆ_to_y_check
);

270  
is_x_equÆ_to_y
;

271 
	}
}

281 
ecma_vÆue_t


282 
	$ecma_›_ab°ø˘_ªœti⁄Æ_com∑ª
 (
ecma_vÆue_t
 
x
,

283 
ecma_vÆue_t
 
y
,

284 
boﬁ
 
À·_fú°
)

286 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

289 
	`ECMA_TRY_CATCH
 (
¥im_fú°_c⁄vîãd_vÆue
,

290 
	`ecma_›_to_¥imôive
 (
x
, 
ECMA_PREFERRED_TYPE_NUMBER
),

291 
ªt_vÆue
);

292 
	`ECMA_TRY_CATCH
 (
¥im_£c⁄d_c⁄vîãd_vÆue
,

293 
	`ecma_›_to_¥imôive
 (
y
, 
ECMA_PREFERRED_TYPE_NUMBER
),

294 
ªt_vÆue
);

296 c⁄° 
ecma_vÆue_t
 
px
 = 
À·_fú°
 ? 
¥im_fú°_c⁄vîãd_vÆue
 : 
¥im_£c⁄d_c⁄vîãd_vÆue
;

297 c⁄° 
ecma_vÆue_t
 
py
 = 
À·_fú°
 ? 
¥im_£c⁄d_c⁄vîãd_vÆue
 : 
¥im_fú°_c⁄vîãd_vÆue
;

299 c⁄° 
boﬁ
 
is_px_°rög
 = 
	`ecma_is_vÆue_°rög
 (
px
);

300 c⁄° 
boﬁ
 
is_py_°rög
 = 
	`ecma_is_vÆue_°rög
 (
py
);

302 i‡(!(
is_px_°rög
 && 
is_py_°rög
))

307 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
nx
, 
px
, 
ªt_vÆue
);

308 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
ny
, 
py
, 
ªt_vÆue
);

311 i‡(
	`ecma_numbî_is_«n
 (
nx
)

312 || 
	`ecma_numbî_is_«n
 (
ny
))

315 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

319 
boﬁ
 
is_x_Àss_th™_y
 = (
nx
 < 
ny
);

321 #i‚de‡
JERRY_NDEBUG


322 
boﬁ
 
is_x_Àss_th™_y_check
;

324 i‡(
nx
 =
ny


325 || (
	`ecma_numbî_is_zîo
 (
nx
)

326 && 
	`ecma_numbî_is_zîo
 (
ny
)))

329 
is_x_Àss_th™_y_check
 = 
Ál£
;

331 i‡(
	`ecma_numbî_is_öföôy
 (
nx
)

332 && !
	`ecma_numbî_is_√g©ive
 (
nx
))

335 
is_x_Àss_th™_y_check
 = 
Ál£
;

337 i‡(
	`ecma_numbî_is_öföôy
 (
ny
)

338 && !
	`ecma_numbî_is_√g©ive
 (
ny
))

341 
is_x_Àss_th™_y_check
 = 
åue
;

343 i‡(
	`ecma_numbî_is_öföôy
 (
ny
)

344 && 
	`ecma_numbî_is_√g©ive
 (
ny
))

347 
is_x_Àss_th™_y_check
 = 
Ál£
;

349 i‡(
	`ecma_numbî_is_öföôy
 (
nx
)

350 && 
	`ecma_numbî_is_√g©ive
 (
nx
))

353 
is_x_Àss_th™_y_check
 = 
åue
;

358 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
nx
)

359 && !
	`ecma_numbî_is_öföôy
 (
nx
));

360 
	`JERRY_ASSERT
 (!
	`ecma_numbî_is_«n
 (
ny
)

361 && !
	`ecma_numbî_is_öföôy
 (
ny
));

362 
	`JERRY_ASSERT
 (!(
	`ecma_numbî_is_zîo
 (
nx
)

363 && 
	`ecma_numbî_is_zîo
 (
ny
)));

365 i‡(
nx
 < 
ny
)

367 
is_x_Àss_th™_y_check
 = 
åue
;

371 
is_x_Àss_th™_y_check
 = 
Ál£
;

375 
	`JERRY_ASSERT
 (
is_x_Àss_th™_y_check
 =
is_x_Àss_th™_y
);

378 
ªt_vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
is_x_Àss_th™_y
);

381 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
ny
);

382 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
nx
);

386 
	`JERRY_ASSERT
 (
is_px_°rög
 && 
is_py_°rög
);

388 
ecma_°rög_t
 *
°r_x_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
px
);

389 
ecma_°rög_t
 *
°r_y_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
py
);

391 
boﬁ
 
is_px_Àss
 = 
	`ecma_com∑ª_ecma_°rögs_ªœti⁄Æ
 (
°r_x_p
, 
°r_y_p
);

393 
ªt_vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
is_px_Àss
);

396 
	`ECMA_FINALIZE
 (
¥im_£c⁄d_c⁄vîãd_vÆue
);

397 
	`ECMA_FINALIZE
 (
¥im_fú°_c⁄vîãd_vÆue
);

399  
ªt_vÆue
;

400 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-comparison.h

16 #i‚de‡
ECMA_COMPARISON_H


17 
	#ECMA_COMPARISON_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

29 
ecma_vÆue_t
 
ecma_›_ab°ø˘_equÆôy_com∑ª
 (ecma_vÆue_à
x
,Écma_vÆue_à
y
);

30 
boﬁ
 
ecma_›_°ri˘_equÆôy_com∑ª
 (
ecma_vÆue_t
 
x
,Écma_vÆue_à
y
);

31 
ecma_vÆue_t
 
ecma_›_ab°ø˘_ªœti⁄Æ_com∑ª
 (ecma_vÆue_à
x
,Écma_vÆue_à
y
, 
boﬁ
 
À·_fú°
);

	@deps/jerry/jerry-core/ecma/operations/ecma-conversion.c

20 
	~"ecma-Æloc.h
"

21 
	~"ecma-boﬁón-obje˘.h
"

22 
	~"ecma-c⁄vîsi⁄.h
"

23 
	~"ecma-ex˚±i⁄s.h
"

24 
	~"ecma-fun˘i⁄-obje˘.h
"

25 
	~"ecma-gc.h
"

26 
	~"ecma-globÆs.h
"

27 
	~"ecma-hñ≥rs.h
"

28 
	~"ecma-numbî-obje˘.h
"

29 
	~"ecma-obje˘s.h
"

30 
	~"ecma-obje˘s-gíîÆ.h
"

31 
	~"ecma-°rög-obje˘.h
"

32 
	~"ecma-åy-ˇtch-ma¸o.h
"

33 
	~"jπ-libc-ö˛udes.h
"

51 
ecma_vÆue_t


52 
	$ecma_›_check_obje˘_c€rcibÀ
 (
ecma_vÆue_t
 
vÆue
)

54 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

56 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue
)

57 || 
	`ecma_is_vÆue_nuŒ
 (
vÆue
))

59  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument cannot be convertedÅoán object."));

63  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

65 
	}
}

76 
boﬁ


77 
	$ecma_›_ßme_vÆue
 (
ecma_vÆue_t
 
x
,

78 
ecma_vÆue_t
 
y
)

80 c⁄° 
boﬁ
 
is_x_undeföed
 = 
	`ecma_is_vÆue_undeföed
 (
x
);

81 c⁄° 
boﬁ
 
is_x_nuŒ
 = 
	`ecma_is_vÆue_nuŒ
 (
x
);

82 c⁄° 
boﬁ
 
is_x_boﬁón
 = 
	`ecma_is_vÆue_boﬁón
 (
x
);

83 c⁄° 
boﬁ
 
is_x_numbî
 = 
	`ecma_is_vÆue_numbî
 (
x
);

84 c⁄° 
boﬁ
 
is_x_°rög
 = 
	`ecma_is_vÆue_°rög
 (
x
);

85 c⁄° 
boﬁ
 
is_x_obje˘
 = 
	`ecma_is_vÆue_obje˘
 (
x
);

87 c⁄° 
boﬁ
 
is_y_undeföed
 = 
	`ecma_is_vÆue_undeföed
 (
y
);

88 c⁄° 
boﬁ
 
is_y_nuŒ
 = 
	`ecma_is_vÆue_nuŒ
 (
y
);

89 c⁄° 
boﬁ
 
is_y_boﬁón
 = 
	`ecma_is_vÆue_boﬁón
 (
y
);

90 c⁄° 
boﬁ
 
is_y_numbî
 = 
	`ecma_is_vÆue_numbî
 (
y
);

91 c⁄° 
boﬁ
 
is_y_°rög
 = 
	`ecma_is_vÆue_°rög
 (
y
);

92 c⁄° 
boﬁ
 
is_y_obje˘
 = 
	`ecma_is_vÆue_obje˘
 (
y
);

94 c⁄° 
boﬁ
 
is_ty≥s_equÆ
 = ((
is_x_undeföed
 && 
is_y_undeföed
)

95 || (
is_x_nuŒ
 && 
is_y_nuŒ
)

96 || (
is_x_boﬁón
 && 
is_y_boﬁón
)

97 || (
is_x_numbî
 && 
is_y_numbî
)

98 || (
is_x_°rög
 && 
is_y_°rög
)

99 || (
is_x_obje˘
 && 
is_y_obje˘
));

101 i‡(!
is_ty≥s_equÆ
)

103  
Ál£
;

105 i‡(
is_x_undeföed
 || 
is_x_nuŒ
)

107  
åue
;

109 i‡(
is_x_numbî
)

111 
ecma_numbî_t
 
x_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
x
);

112 
ecma_numbî_t
 
y_num
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
y
);

114 
boﬁ
 
is_x_«n
 = 
	`ecma_numbî_is_«n
 (
x_num
);

115 
boﬁ
 
is_y_«n
 = 
	`ecma_numbî_is_«n
 (
y_num
);

117 i‡(
is_x_«n
 || 
is_y_«n
)

126  (
is_x_«n
 && 
is_y_«n
);

128 i‡(
	`ecma_numbî_is_zîo
 (
x_num
)

129 && 
	`ecma_numbî_is_zîo
 (
y_num
)

130 && 
	`ecma_numbî_is_√g©ive
 (
x_num
Ë!ecma_numbî_is_√g©ivê(
y_num
))

132  
Ál£
;

136  (
x_num
 =
y_num
);

139 i‡(
is_x_°rög
)

141 
ecma_°rög_t
 *
x_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
x
);

142 
ecma_°rög_t
 *
y_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
y
);

144  
	`ecma_com∑ª_ecma_°rögs
 (
x_°r_p
, 
y_°r_p
);

146 i‡(
is_x_boﬁón
)

148  (
	`ecma_is_vÆue_åue
 (
x
Ë=ecma_is_vÆue_åuê(
y
));

152 
	`JERRY_ASSERT
 (
is_x_obje˘
);

154  (
	`ecma_gë_obje˘_‰om_vÆue
 (
x
Ë=ecma_gë_obje˘_‰om_vÆuê(
y
));

156 
	}
}

167 
ecma_vÆue_t


168 
	$ecma_›_to_¥imôive
 (
ecma_vÆue_t
 
vÆue
,

169 
ecma_¥e„ºed_ty≥_höt_t
 
¥e„ºed_ty≥
)

171 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

173 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
))

175 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

177  
	`ecma_›_obje˘_deÁu…_vÆue
 (
obj_p
, 
¥e„ºed_ty≥
);

181  
	`ecma_c›y_vÆue
 (
vÆue
);

183 
	}
}

194 
boﬁ


195 
	$ecma_›_to_boﬁón
 (
ecma_vÆue_t
 
vÆue
)

197 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

199 i‡(
	`ecma_is_vÆue_sim∂e
 (
vÆue
))

201 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
vÆue
)

202 || 
	`ecma_is_vÆue_undeföed
 (
vÆue
)

203 || 
	`ecma_is_vÆue_nuŒ
 (
vÆue
));

205  
	`ecma_is_vÆue_åue
 (
vÆue
);

208 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
vÆue
))

210  (
vÆue
 !
	`ecma_make_öãgî_vÆue
 (0));

213 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
vÆue
))

215 
ecma_numbî_t
 
num
 = 
	`ecma_gë_Êﬂt_‰om_vÆue
 (
vÆue
);

217  (!
	`ecma_numbî_is_«n
 (
num
Ë&& !
	`ecma_numbî_is_zîo
 (num));

220 i‡(
	`ecma_is_vÆue_°rög
 (
vÆue
))

222 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

224  !
	`ecma_°rög_is_em±y
 (
°r_p
);

227 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
vÆue
));

229  
åue
;

230 
	}
}

241 
ecma_vÆue_t


242 
	$ecma_›_to_numbî
 (
ecma_vÆue_t
 
vÆue
)

244 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

246 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
vÆue
))

248  
vÆue
;

250 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
vÆue
))

252  
	`ecma_c›y_vÆue
 (
vÆue
);

254 i‡(
	`ecma_is_vÆue_°rög
 (
vÆue
))

256 
ecma_°rög_t
 *
°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

257  
	`ecma_make_numbî_vÆue
 (
	`ecma_°rög_to_numbî
 (
°r_p
));

259 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
))

261 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

263 
	`ECMA_TRY_CATCH
 (
¥imôive_vÆue
,

264 
	`ecma_›_to_¥imôive
 (
vÆue
, 
ECMA_PREFERRED_TYPE_NUMBER
),

265 
ªt_vÆue
);

267 
ªt_vÆue
 = 
	`ecma_›_to_numbî
 (
¥imôive_vÆue
);

269 
	`ECMA_FINALIZE
 (
¥imôive_vÆue
);

271  
ªt_vÆue
;

275 
öt16_t
 
num
 = 0;

277 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue
))

279  
	`ecma_make_«n_vÆue
 ();

281 i‡(
	`ecma_is_vÆue_nuŒ
 (
vÆue
))

283 
num
 = 0;

287 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
vÆue
));

289 i‡(
	`ecma_is_vÆue_åue
 (
vÆue
))

291 
num
 = 1;

295 
num
 = 0;

299  
	`ecma_make_öãgî_vÆue
 (
num
);

301 
	}
}

312 
ecma_vÆue_t


313 
	$ecma_›_to_°rög
 (
ecma_vÆue_t
 
vÆue
)

315 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

317 i‡(
	`u∆ikñy
 (
	`ecma_is_vÆue_obje˘
 (
vÆue
)))

319 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

321 
	`ECMA_TRY_CATCH
 (
¥im_vÆue
,

322 
	`ecma_›_to_¥imôive
 (
vÆue
, 
ECMA_PREFERRED_TYPE_STRING
),

323 
ªt_vÆue
);

325 
ªt_vÆue
 = 
	`ecma_›_to_°rög
 (
¥im_vÆue
);

327 
	`ECMA_FINALIZE
 (
¥im_vÆue
);

329  
ªt_vÆue
;

333 
ecma_°rög_t
 *
ªs_p
 = 
NULL
;

335 i‡(
	`ecma_is_vÆue_°rög
 (
vÆue
))

337 
ªs_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
vÆue
);

338 
	`ecma_ªf_ecma_°rög
 (
ªs_p
);

340 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
vÆue
))

342 
ecma_öãgî_vÆue_t
 
num
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
vÆue
);

344 i‡(
num
 < 0)

346 
ªs_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 ((
ecma_numbî_t
Ë
num
);

350 
ªs_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 ((
uöt32_t
Ë
num
);

353 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
vÆue
))

355 
ecma_numbî_t
 
num
 = 
	`ecma_gë_Êﬂt_‰om_vÆue
 (
vÆue
);

356 
ªs_p
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
num
);

358 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue
))

360 
ªs_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_UNDEFINED
);

362 i‡(
	`ecma_is_vÆue_nuŒ
 (
vÆue
))

364 
ªs_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NULL
);

368 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
vÆue
));

370 i‡(
	`ecma_is_vÆue_åue
 (
vÆue
))

372 
ªs_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_TRUE
);

376 
ªs_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_FALSE
);

380  
	`ecma_make_°rög_vÆue
 (
ªs_p
);

382 
	}
}

393 
ecma_vÆue_t


394 
	$ecma_›_to_obje˘
 (
ecma_vÆue_t
 
vÆue
)

396 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

398 i‡(
	`ecma_is_vÆue_numbî
 (
vÆue
))

400  
	`ecma_›_¸óã_numbî_obje˘
 (
vÆue
);

402 i‡(
	`ecma_is_vÆue_°rög
 (
vÆue
))

404  
	`ecma_›_¸óã_°rög_obje˘
 (&
vÆue
, 1);

406 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
))

408  
	`ecma_c›y_vÆue
 (
vÆue
);

412 i‡(
	`ecma_is_vÆue_undeföed
 (
vÆue
)

413 || 
	`ecma_is_vÆue_nuŒ
 (
vÆue
))

415  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Argument cannot be convertedÅoán object."));

419 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
vÆue
));

421  
	`ecma_›_¸óã_boﬁón_obje˘
 (
vÆue
);

424 
	}
}

434 
ecma_obje˘_t
 *

435 
	$ecma_›_‰om_¥›îty_des¸ùt‹
 (c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
§c_¥›_desc_p
)

438 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

440 
ecma_vÆue_t
 
com∂ëi⁄
;

441 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

443 
¥›_desc
.
is_vÆue_deföed
 = 
åue
;

445 
¥›_desc
.
is_wrôabÀ_deföed
 = 
åue
;

446 
¥›_desc
.
is_wrôabÀ
 = 
åue
;

448 
¥›_desc
.
is_íumîabÀ_deföed
 = 
åue
;

449 
¥›_desc
.
is_íumîabÀ
 = 
åue
;

451 
¥›_desc
.
is_c⁄figuøbÀ_deföed
 = 
åue
;

452 
¥›_desc
.
is_c⁄figuøbÀ
 = 
åue
;

456 i‡(
§c_¥›_desc_p
->
is_vÆue_deföed


457 || 
§c_¥›_desc_p
->
is_wrôabÀ_deföed
)

459 
	`JERRY_ASSERT
 (
¥›_desc
.
is_vÆue_deföed
 &&Ör›_desc.
is_wrôabÀ_deföed
);

462 
¥›_desc
.
vÆue
 = 
§c_¥›_desc_p
->value;

464 
ecma_°rög_t
 *
vÆue_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_VALUE
);

465 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

466 
vÆue_magic_°rög_p
,

467 &
¥›_desc
,

468 
Ál£
);

469 
	`ecma_dîef_ecma_°rög
 (
vÆue_magic_°rög_p
);

470 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

473 c⁄° 
boﬁ
 
is_wrôabÀ
 = (
§c_¥›_desc_p
->is_writable);

474 
¥›_desc
.
vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
is_wrôabÀ
);

476 
ecma_°rög_t
 *
wrôabÀ_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_WRITABLE
);

477 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

478 
wrôabÀ_magic_°rög_p
,

479 &
¥›_desc
,

480 
Ál£
);

481 
	`ecma_dîef_ecma_°rög
 (
wrôabÀ_magic_°rög_p
);

482 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

487 
	`JERRY_ASSERT
 (
§c_¥›_desc_p
->
is_gë_deföed


488 || 
§c_¥›_desc_p
->
is_£t_deföed
);

491 i‡(
§c_¥›_desc_p
->
gë_p
 =
NULL
)

493 
¥›_desc
.
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

497 
¥›_desc
.
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
§c_¥›_desc_p
->
gë_p
);

500 
ecma_°rög_t
 *
gë_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GET
);

501 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

502 
gë_magic_°rög_p
,

503 &
¥›_desc
,

504 
Ál£
);

505 
	`ecma_dîef_ecma_°rög
 (
gë_magic_°rög_p
);

506 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

509 i‡(
§c_¥›_desc_p
->
£t_p
 =
NULL
)

511 
¥›_desc
.
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

515 
¥›_desc
.
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
§c_¥›_desc_p
->
£t_p
);

518 
ecma_°rög_t
 *
£t_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SET
);

519 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

520 
£t_magic_°rög_p
,

521 &
¥›_desc
,

522 
Ál£
);

523 
	`ecma_dîef_ecma_°rög
 (
£t_magic_°rög_p
);

524 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

527 c⁄° 
boﬁ
 
is_íumîabÀ
 = 
§c_¥›_desc_p
->is_enumerable;

528 
¥›_desc
.
vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
is_íumîabÀ
);

530 
ecma_°rög_t
 *
íumîabÀ_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_ENUMERABLE
);

531 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

532 
íumîabÀ_magic_°rög_p
,

533 &
¥›_desc
,

534 
Ál£
);

535 
	`ecma_dîef_ecma_°rög
 (
íumîabÀ_magic_°rög_p
);

536 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

538 c⁄° 
boﬁ
 
is_c⁄figuøbÀ
 = 
§c_¥›_desc_p
->is_configurable;

539 
¥›_desc
.
vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
is_c⁄figuøbÀ
);

541 
ecma_°rög_t
 *
c⁄figuøbÀ_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CONFIGURABLE
);

542 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

543 
c⁄figuøbÀ_magic_°rög_p
,

544 &
¥›_desc
,

545 
Ál£
);

546 
	`ecma_dîef_ecma_°rög
 (
c⁄figuøbÀ_magic_°rög_p
);

547 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

549  
obj_p
;

550 
	}
}

561 
ecma_vÆue_t


562 
	$ecma_›_to_¥›îty_des¸ùt‹
 (
ecma_vÆue_t
 
obj_vÆue
,

563 
ecma_¥›îty_des¸ùt‹_t
 *
out_¥›_desc_p
)

567 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

570 i‡(!
	`ecma_is_vÆue_obje˘
 (
obj_vÆue
))

572 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedán object."));

576 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆue
);

579 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

582 
ecma_°rög_t
 *
íumîabÀ_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_ENUMERABLE
);

584 
	`ECMA_TRY_CATCH
 (
íumîabÀ_¥›_vÆue
,

585 
	`ecma_›_obje˘_föd
 (
obj_p
, 
íumîabÀ_magic_°rög_p
),

586 
ªt_vÆue
);

588 i‡(
	`ecma_is_vÆue_found
 (
íumîabÀ_¥›_vÆue
))

590 
¥›_desc
.
is_íumîabÀ_deföed
 = 
åue
;

591 
¥›_desc
.
is_íumîabÀ
 = 
	`ecma_›_to_boﬁón
 (
íumîabÀ_¥›_vÆue
);

594 
	`ECMA_FINALIZE
 (
íumîabÀ_¥›_vÆue
);

596 
	`ecma_dîef_ecma_°rög
 (
íumîabÀ_magic_°rög_p
);

598 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

600 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

603 
ecma_°rög_t
 *
c⁄figuøbÀ_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CONFIGURABLE
);

605 
	`ECMA_TRY_CATCH
 (
c⁄figuøbÀ_¥›_vÆue
,

606 
	`ecma_›_obje˘_föd
 (
obj_p
, 
c⁄figuøbÀ_magic_°rög_p
),

607 
ªt_vÆue
);

609 i‡(
	`ecma_is_vÆue_found
 (
c⁄figuøbÀ_¥›_vÆue
))

611 
¥›_desc
.
is_c⁄figuøbÀ_deföed
 = 
åue
;

612 
¥›_desc
.
is_c⁄figuøbÀ
 = 
	`ecma_›_to_boﬁón
 (
c⁄figuøbÀ_¥›_vÆue
);

615 
	`ECMA_FINALIZE
 (
c⁄figuøbÀ_¥›_vÆue
);

617 
	`ecma_dîef_ecma_°rög
 (
c⁄figuøbÀ_magic_°rög_p
);

620 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

622 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

625 
ecma_°rög_t
 *
vÆue_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_VALUE
);

627 
	`ECMA_TRY_CATCH
 (
vÆue_¥›_vÆue
,

628 
	`ecma_›_obje˘_föd
 (
obj_p
, 
vÆue_magic_°rög_p
),

629 
ªt_vÆue
);

631 i‡(
	`ecma_is_vÆue_found
 (
vÆue_¥›_vÆue
))

633 
¥›_desc
.
is_vÆue_deföed
 = 
åue
;

634 
¥›_desc
.
vÆue
 = 
	`ecma_c›y_vÆue
 (
vÆue_¥›_vÆue
);

637 
	`ECMA_FINALIZE
 (
vÆue_¥›_vÆue
);

639 
	`ecma_dîef_ecma_°rög
 (
vÆue_magic_°rög_p
);

642 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

644 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

647 
ecma_°rög_t
 *
wrôabÀ_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_WRITABLE
);

649 
	`ECMA_TRY_CATCH
 (
wrôabÀ_¥›_vÆue
,

650 
	`ecma_›_obje˘_föd
 (
obj_p
, 
wrôabÀ_magic_°rög_p
),

651 
ªt_vÆue
);

653 i‡(
	`ecma_is_vÆue_found
 (
wrôabÀ_¥›_vÆue
))

655 
¥›_desc
.
is_wrôabÀ_deföed
 = 
åue
;

656 
¥›_desc
.
is_wrôabÀ
 = 
	`ecma_›_to_boﬁón
 (
wrôabÀ_¥›_vÆue
);

659 
	`ECMA_FINALIZE
 (
wrôabÀ_¥›_vÆue
);

661 
	`ecma_dîef_ecma_°rög
 (
wrôabÀ_magic_°rög_p
);

664 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

666 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

669 
ecma_°rög_t
 *
gë_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GET
);

671 
	`ECMA_TRY_CATCH
 (
gë_¥›_vÆue
,

672 
	`ecma_›_obje˘_föd
 (
obj_p
, 
gë_magic_°rög_p
),

673 
ªt_vÆue
);

675 i‡(
	`ecma_is_vÆue_found
 (
gë_¥›_vÆue
))

677 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
gë_¥›_vÆue
)

678 && !
	`ecma_is_vÆue_undeföed
 (
gë_¥›_vÆue
))

680 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá function."));

684 
¥›_desc
.
is_gë_deföed
 = 
åue
;

686 i‡(
	`ecma_is_vÆue_undeföed
 (
gë_¥›_vÆue
))

688 
¥›_desc
.
gë_p
 = 
NULL
;

692 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
gë_¥›_vÆue
));

694 
ecma_obje˘_t
 *
gë_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
gë_¥›_vÆue
);

695 
	`ecma_ªf_obje˘
 (
gë_p
);

697 
¥›_desc
.
gë_p
 = get_p;

702 
	`ECMA_FINALIZE
 (
gë_¥›_vÆue
);

704 
	`ecma_dîef_ecma_°rög
 (
gë_magic_°rög_p
);

707 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

709 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

712 
ecma_°rög_t
 *
£t_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SET
);

714 
	`ECMA_TRY_CATCH
 (
£t_¥›_vÆue
,

715 
	`ecma_›_obje˘_föd
 (
obj_p
, 
£t_magic_°rög_p
),

716 
ªt_vÆue
);

718 i‡(
	`ecma_is_vÆue_found
 (
£t_¥›_vÆue
))

720 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
£t_¥›_vÆue
)

721 && !
	`ecma_is_vÆue_undeföed
 (
£t_¥›_vÆue
))

723 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá function."));

727 
¥›_desc
.
is_£t_deföed
 = 
åue
;

729 i‡(
	`ecma_is_vÆue_undeföed
 (
£t_¥›_vÆue
))

731 
¥›_desc
.
£t_p
 = 
NULL
;

735 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
£t_¥›_vÆue
));

737 
ecma_obje˘_t
 *
£t_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
£t_¥›_vÆue
);

738 
	`ecma_ªf_obje˘
 (
£t_p
);

740 
¥›_desc
.
£t_p
 = set_p;

745 
	`ECMA_FINALIZE
 (
£t_¥›_vÆue
);

747 
	`ecma_dîef_ecma_°rög
 (
£t_magic_°rög_p
);

750 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

752 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

755 i‡(
¥›_desc
.
is_gë_deföed


756 || 
¥›_desc
.
is_£t_deföed
)

758 i‡(
¥›_desc
.
is_vÆue_deföed


759 || 
¥›_desc
.
is_wrôabÀ_deföed
)

761 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Accessors cannot be writable."));

766 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

768 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

772 
	`ecma_‰ì_¥›îty_des¸ùt‹
 (&
¥›_desc
);

775 *
out_¥›_desc_p
 = 
¥›_desc
;

778  
ªt_vÆue
;

779 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-conversion.h

16 #i‚de‡
ECMA_CONVERSION_H


17 
	#ECMA_CONVERSION_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

35 
	mECMA_PREFERRED_TYPE_NO
,

36 
	mECMA_PREFERRED_TYPE_NUMBER
,

37 
	mECMA_PREFERRED_TYPE_STRING


38 } 
	tecma_¥e„ºed_ty≥_höt_t
;

40 
ecma_vÆue_t
 
ecma_›_check_obje˘_c€rcibÀ
 (ecma_vÆue_à
vÆue
);

41 
boﬁ
 
ecma_›_ßme_vÆue
 (
ecma_vÆue_t
 
x
,Écma_vÆue_à
y
);

42 
ecma_vÆue_t
 
ecma_›_to_¥imôive
 (ecma_vÆue_à
vÆue
, 
ecma_¥e„ºed_ty≥_höt_t
 
¥e„ºed_ty≥
);

43 
boﬁ
 
ecma_›_to_boﬁón
 (
ecma_vÆue_t
 
vÆue
);

44 
ecma_vÆue_t
 
ecma_›_to_numbî
 (ecma_vÆue_à
vÆue
);

45 
ecma_vÆue_t
 
ecma_›_to_°rög
 (ecma_vÆue_à
vÆue
);

46 
ecma_vÆue_t
 
ecma_›_to_obje˘
 (ecma_vÆue_à
vÆue
);

48 
ecma_obje˘_t
 *
ecma_›_‰om_¥›îty_des¸ùt‹
 (c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
§c_¥›_desc_p
);

49 
ecma_vÆue_t
 
ecma_›_to_¥›îty_des¸ùt‹
 (ecma_vÆue_à
obj_vÆue
, 
ecma_¥›îty_des¸ùt‹_t
 *
out_¥›_desc_p
);

	@deps/jerry/jerry-core/ecma/operations/ecma-eval.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-evÆ.h
"

19 
	~"ecma-gc.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-hñ≥rs.h
"

22 
	~"ecma-Àx-ív.h
"

23 
	~"js-∑r£r.h
"

24 
	~"vm.h
"

42 
ecma_vÆue_t


43 
	$ecma_›_evÆ
 (
ecma_°rög_t
 *
code_p
,

44 
boﬁ
 
is_dúe˘
,

45 
boﬁ
 
is_ˇŒed_‰om_°ri˘_mode_code
)

47 
ecma_vÆue_t
 
ªt_vÆue
;

49 
lô_utf8_size_t
 
ch¨s_num
 = 
	`ecma_°rög_gë_size
 (
code_p
);

50 i‡(
ch¨s_num
 == 0)

52 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

56 
	`ECMA_STRING_TO_UTF8_STRING
 (
code_p
, 
code_utf8_buf„r_p
, 
code_utf8_buf„r_size
);

58 
ªt_vÆue
 = 
	`ecma_›_evÆ_ch¨s_buf„r
 (
code_utf8_buf„r_p
,

59 
ch¨s_num
,

60 
is_dúe˘
,

61 
is_ˇŒed_‰om_°ri˘_mode_code
);

63 
	`ECMA_FINALIZE_UTF8_STRING
 (
code_utf8_buf„r_p
, 
code_utf8_buf„r_size
);

66  
ªt_vÆue
;

67 
	}
}

78 
ecma_vÆue_t


79 
	$ecma_›_evÆ_ch¨s_buf„r
 (c⁄° 
lô_utf8_byã_t
 *
code_p
,

80 
size_t
 
code_buf„r_size
,

81 
boﬁ
 
is_dúe˘
,

82 
boﬁ
 
is_ˇŒed_‰om_°ri˘_mode_code
)

84 #i‡
JERRY_JS_PARSER


85 
	`JERRY_ASSERT
 (
code_p
 !
NULL
);

87 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

89 
boﬁ
 
is_°ri˘_ˇŒ
 = (
is_dúe˘
 && 
is_ˇŒed_‰om_°ri˘_mode_code
);

91 
ecma_vÆue_t
 
∑r£_°©us
 = 
	`∑r£r_∑r£_s¸ùt
 (
code_p
,

92 
code_buf„r_size
,

93 
is_°ri˘_ˇŒ
,

94 &
byãcode_d©a_p
);

96 i‡(
	`ECMA_IS_VALUE_ERROR
 (
∑r£_°©us
))

98  
∑r£_°©us
;

101  
	`vm_run_evÆ
 (
byãcode_d©a_p
, 
is_dúe˘
);

103 
	`JERRY_UNUSED
 (
code_p
);

104 
	`JERRY_UNUSED
 (
code_buf„r_size
);

105 
	`JERRY_UNUSED
 (
is_dúe˘
);

106 
	`JERRY_UNUSED
 (
is_ˇŒed_‰om_°ri˘_mode_code
);

108  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("TheÖarser has been disabled."));

110 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-eval.h

16 #i‚de‡
ECMA_EVAL_H


17 
	#ECMA_EVAL_H


	)

19 
	~"ecma-globÆs.h
"

28 
ecma_vÆue_t


29 
ecma_›_evÆ
 (
ecma_°rög_t
 *
code_p
, 
boﬁ
 
is_dúe˘
, boﬁ 
is_ˇŒed_‰om_°ri˘_mode_code
);

31 
ecma_vÆue_t


32 
ecma_›_evÆ_ch¨s_buf„r
 (c⁄° 
lô_utf8_byã_t
 *
code_p
, 
size_t
 
code_buf„r_size
, 
boﬁ
 
is_dúe˘
,

33 
boﬁ
 
is_ˇŒed_‰om_°ri˘_mode_code
);

	@deps/jerry/jerry-core/ecma/operations/ecma-exceptions.c

16 
	~<°d¨g.h
>

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"jπ.h
"

39 
ecma_obje˘_t
 *

40 
	$ecma_√w_°™d¨d_îr‹
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
)

42 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


43 
ecma_buûtö_id_t
 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID__COUNT
;

45 
îr‹_ty≥
)

47 
ECMA_ERROR_COMMON
:

49 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
;

53 
ECMA_ERROR_EVAL
:

55 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_EVAL_ERROR_PROTOTYPE
;

59 
ECMA_ERROR_RANGE
:

61 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_RANGE_ERROR_PROTOTYPE
;

65 
ECMA_ERROR_REFERENCE
:

67 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_REFERENCE_ERROR_PROTOTYPE
;

71 
ECMA_ERROR_TYPE
:

73 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_TYPE_ERROR_PROTOTYPE
;

77 
ECMA_ERROR_URI
:

79 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_URI_ERROR_PROTOTYPE
;

83 
ECMA_ERROR_SYNTAX
:

85 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_SYNTAX_ERROR_PROTOTYPE
;

90 
	`JERRY_UNUSED
 (
îr‹_ty≥
);

91 
ecma_buûtö_id_t
 
¥ŸŸy≥_id
 = 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
;

94 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
¥ŸŸy≥_id
);

96 
ecma_obje˘_t
 *
√w_îr‹_obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

97  (
ecma_exãnded_obje˘_t
),

98 
ECMA_OBJECT_TYPE_CLASS
);

100 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

102 ((
ecma_exãnded_obje˘_t
 *Ë
√w_îr‹_obj_p
)->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_ERROR_UL
;

104  
√w_îr‹_obj_p
;

105 
	}
}

113 
ecma_obje˘_t
 *

114 
	$ecma_√w_°™d¨d_îr‹_wôh_mesßge
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
,

115 
ecma_°rög_t
 *
mesßge_°rög_p
)

117 
ecma_obje˘_t
 *
√w_îr‹_obj_p
 = 
	`ecma_√w_°™d¨d_îr‹
 (
îr‹_ty≥
);

119 
ecma_°rög_t
 *
mesßge_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MESSAGE
);

121 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
;

122 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
√w_îr‹_obj_p
,

123 
mesßge_magic_°rög_p
,

124 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
,

125 
NULL
);

126 
	`ecma_dîef_ecma_°rög
 (
mesßge_magic_°rög_p
);

128 
	`ecma_ªf_ecma_°rög
 (
mesßge_°rög_p
);

129 
¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_°rög_vÆue
 (
mesßge_°rög_p
);

131  
√w_îr‹_obj_p
;

132 
	}
}

140 
ecma_vÆue_t


141 
	$ecma_øi£_°™d¨d_îr‹
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
,

142 c⁄° 
lô_utf8_byã_t
 *
msg_p
)

144 
ecma_obje˘_t
 *
îr‹_obj_p
;

146 i‡(
msg_p
 !
NULL
)

148 
ecma_°rög_t
 *
îr‹_msg_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
msg_p
,

149 
	`lô_zt_utf8_°rög_size
 (
msg_p
));

150 
îr‹_obj_p
 = 
	`ecma_√w_°™d¨d_îr‹_wôh_mesßge
 (
îr‹_ty≥
, 
îr‹_msg_p
);

151 
	`ecma_dîef_ecma_°rög
 (
îr‹_msg_p
);

155 
îr‹_obj_p
 = 
	`ecma_√w_°™d¨d_îr‹
 (
îr‹_ty≥
);

158  
	`ecma_make_îr‹_obj_vÆue
 (
îr‹_obj_p
);

159 
	}
}

161 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


169 
ecma_vÆue_t


170 
	$ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
,

171 c⁄° *
f‹m©
,

174 
	`JERRY_ASSERT
 (
f‹m©
 !
NULL
);

176 
ecma_°rög_t
 *
îr‹_msg_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

177 
ecma_°rög_t
 *
°rög1_p
;

178 
ecma_°rög_t
 *
°rög2_p
;

180 c⁄° *
°¨t_p
 = 
f‹m©
;

181 c⁄° *
íd_p
 = 
f‹m©
;

183 
va_li°
 
¨gs
;

185 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

187 *
íd_p
)

189 i‡(*
íd_p
 == '%')

192 i‡(
íd_p
 > 
°¨t_p
)

194 
°rög1_p
 = 
îr‹_msg_p
;

195 
°rög2_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((c⁄° 
lô_utf8_byã_t
 *Ë
°¨t_p
,

196 (
lô_utf8_size_t
Ë(
íd_p
 - 
°¨t_p
));

197 
îr‹_msg_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
°rög1_p
, 
°rög2_p
);

198 
	`ecma_dîef_ecma_°rög
 (
°rög1_p
);

199 
	`ecma_dîef_ecma_°rög
 (
°rög2_p
);

203 
ecma_°rög_t
 *
¨g_°rög_p
;

204 c⁄° 
ecma_vÆue_t
 
¨g_vÆ
 = 
	`va_¨g
 (
¨gs
,Écma_value_t);

205 i‡(
	`u∆ikñy
 (
	`ecma_is_vÆue_obje˘
 (
¨g_vÆ
)))

207 
ecma_obje˘_t
 *
¨g_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨g_vÆ
);

208 
lô_magic_°rög_id_t
 
˛ass_«me
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
¨g_obje˘_p
);

209 
¨g_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
˛ass_«me
);

213 
ecma_vÆue_t
 
°r_vÆ
 = 
	`ecma_›_to_°rög
 (
¨g_vÆ
);

214 
¨g_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_vÆ
);

218 
°rög1_p
 = 
îr‹_msg_p
;

219 
°rög2_p
 = 
¨g_°rög_p
;

220 
îr‹_msg_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
°rög1_p
, 
°rög2_p
);

221 
	`ecma_dîef_ecma_°rög
 (
°rög1_p
);

222 
	`ecma_dîef_ecma_°rög
 (
°rög2_p
);

224 
°¨t_p
 = 
íd_p
 + 1;

227 
íd_p
++;

230 
	`va_íd
 (
¨gs
);

233 i‡(
°¨t_p
 < 
íd_p
)

235 
°rög1_p
 = 
îr‹_msg_p
;

236 
°rög2_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 ((c⁄° 
lô_utf8_byã_t
 *Ë
°¨t_p
,

237 (
lô_utf8_size_t
Ë(
íd_p
 - 
°¨t_p
));

238 
îr‹_msg_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
°rög1_p
, 
°rög2_p
);

239 
	`ecma_dîef_ecma_°rög
 (
°rög1_p
);

240 
	`ecma_dîef_ecma_°rög
 (
°rög2_p
);

243 
ecma_obje˘_t
 *
îr‹_obj_p
 = 
	`ecma_√w_°™d¨d_îr‹_wôh_mesßge
 (
îr‹_ty≥
, 
îr‹_msg_p
);

244 
	`ecma_dîef_ecma_°rög
 (
îr‹_msg_p
);

245  
	`ecma_make_îr‹_obj_vÆue
 (
îr‹_obj_p
);

246 
	}
}

256 
ecma_vÆue_t


257 
	$ecma_øi£_comm⁄_îr‹
 (c⁄° *
msg_p
)

259  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_COMMON
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

260 
	}
}

270 
ecma_vÆue_t


271 
	$ecma_øi£_evÆ_îr‹
 (c⁄° *
msg_p
)

273  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_EVAL
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

274 
	}
}

284 
ecma_vÆue_t


285 
	$ecma_øi£_ønge_îr‹
 (c⁄° *
msg_p
)

287  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_RANGE
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

288 
	}
}

298 
ecma_vÆue_t


299 
	$ecma_øi£_ª„ªn˚_îr‹
 (c⁄° *
msg_p
)

301  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_REFERENCE
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

302 
	}
}

312 
ecma_vÆue_t


313 
	$ecma_øi£_sy¡ax_îr‹
 (c⁄° *
msg_p
)

315  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_SYNTAX
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

316 
	}
}

326 
ecma_vÆue_t


327 
	$ecma_øi£_ty≥_îr‹
 (c⁄° *
msg_p
)

329  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_TYPE
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

330 
	}
}

340 
ecma_vÆue_t


341 
	$ecma_øi£_uri_îr‹
 (c⁄° *
msg_p
)

343  
	`ecma_øi£_°™d¨d_îr‹
 (
ECMA_ERROR_URI
, (c⁄° 
lô_utf8_byã_t
 *Ë
msg_p
);

344 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-exceptions.h

16 #i‚de‡
ECMA_EXCEPTIONS_H


17 
	#ECMA_EXCEPTIONS_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"jπ.h
"

29 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


30 
	#ECMA_ERR_MSG
(
msg
Ë
	)
msg

32 
	#ECMA_ERR_MSG
(
msg
Ë
NULL


	)

42 
	mECMA_ERROR_COMMON
,

43 
	mECMA_ERROR_EVAL
,

44 
	mECMA_ERROR_RANGE
,

45 
	mECMA_ERROR_REFERENCE
,

46 
	mECMA_ERROR_SYNTAX
,

47 
	mECMA_ERROR_TYPE
,

48 
	mECMA_ERROR_URI


49 } 
	tecma_°™d¨d_îr‹_t
;

51 
ecma_obje˘_t
 *
ecma_√w_°™d¨d_îr‹
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
);

52 
ecma_obje˘_t
 *
ecma_√w_°™d¨d_îr‹_wôh_mesßge
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
, 
ecma_°rög_t
 *
mesßge_°rög_p
);

53 
ecma_vÆue_t
 
ecma_øi£_°™d¨d_îr‹
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
, c⁄° 
lô_utf8_byã_t
 *
msg_p
);

54 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


55 
ecma_vÆue_t
 
ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ecma_°™d¨d_îr‹_t
 
îr‹_ty≥
, c⁄° *
msg_p
, ...);

57 
ecma_vÆue_t
 
ecma_øi£_comm⁄_îr‹
 (c⁄° *
msg_p
);

58 
ecma_vÆue_t
 
ecma_øi£_evÆ_îr‹
 (c⁄° *
msg_p
);

59 
ecma_vÆue_t
 
ecma_øi£_ønge_îr‹
 (c⁄° *
msg_p
);

60 
ecma_vÆue_t
 
ecma_øi£_ª„ªn˚_îr‹
 (c⁄° *
msg_p
);

61 
ecma_vÆue_t
 
ecma_øi£_sy¡ax_îr‹
 (c⁄° *
msg_p
);

62 
ecma_vÆue_t
 
ecma_øi£_ty≥_îr‹
 (c⁄° *
msg_p
);

63 
ecma_vÆue_t
 
ecma_øi£_uri_îr‹
 (c⁄° *
msg_p
);

	@deps/jerry/jerry-core/ecma/operations/ecma-function-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtö-hñ≥rs.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-fun˘i⁄-obje˘.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-Àx-ív.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-obje˘s-gíîÆ.h
"

26 
	~"ecma-obje˘s-¨gumíts.h
"

27 
	~"ecma-åy-ˇtch-ma¸o.h
"

28 
	~"jc⁄ãxt.h
"

45 
boﬁ


46 
	$ecma_›_is_ˇŒabÀ
 (
ecma_vÆue_t
 
vÆue
)

48 i‡(!
	`ecma_is_vÆue_obje˘
 (
vÆue
))

50  
Ál£
;

53 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

55 
	`JERRY_ASSERT
 (
obj_p
 !
NULL
);

56 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

58  (
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION


59 || 
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION


60 || 
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

61 
	}
}

69 
boﬁ


70 
	$ecma_is_c⁄°ru˘‹
 (
ecma_vÆue_t
 
vÆue
)

72 i‡(!
	`ecma_is_vÆue_obje˘
 (
vÆue
))

74  
Ál£
;

77 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

79 
	`JERRY_ASSERT
 (
obj_p
 !
NULL
);

80 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

82 i‡(
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION
)

84  (!
	`ecma_gë_obje˘_is_buûtö
 (
obj_p
)

85 || !
	`ecma_buûtö_fun˘i⁄_is_routöe
 (
obj_p
));

88  (
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_BOUND_FUNCTION


89 || 
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
);

90 
	}
}

99 
ecma_obje˘_t
 *

100 
	$ecma_›_¸óã_fun˘i⁄_obje˘
 (
ecma_obje˘_t
 *
sc›e_p
,

101 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
)

104 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
);

106 
ecma_obje˘_t
 *
func_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

107  (
ecma_exãnded_obje˘_t
),

108 
ECMA_OBJECT_TYPE_FUNCTION
);

110 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

126 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
func_p
;

129 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_func_p
->
u
.
fun˘i⁄
.
sc›e_˝
, 
sc›e_p
);

132 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
, 
byãcode_d©a_p
);

133 
	`ecma_byãcode_ªf
 ((
ecma_compûed_code_t
 *Ë
byãcode_d©a_p
);

142  
func_p
;

143 
	}
}

154 
ecma_obje˘_t
 *

155 
	$ecma_›_¸óã_exã∫Æ_fun˘i⁄_obje˘
 (
ecma_exã∫Æ_h™dÀr_t
 
h™dÀr_cb
)

157 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FUNCTION_PROTOTYPE
);

159 
ecma_obje˘_t
 *
fun˘i⁄_obj_p
;

160 
fun˘i⁄_obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

161  (
ecma_exãnded_obje˘_t
),

162 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
);

164 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

172 
ecma_exãnded_obje˘_t
 *
ext_func_obj_p
 = (ecma_exãnded_obje˘_à*Ë
fun˘i⁄_obj_p
;

173 
ext_func_obj_p
->
u
.
exã∫Æ_h™dÀr_cb
 = 
h™dÀr_cb
;

175  
fun˘i⁄_obj_p
;

176 
	}
}

188 
ecma_vÆue_t


189 
	$ecma_›_fun˘i⁄_has_ö°™˚
 (
ecma_obje˘_t
 *
func_obj_p
,

190 
ecma_vÆue_t
 
vÆue
)

192 
	`JERRY_ASSERT
 (
func_obj_p
 !
NULL


193 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
func_obj_p
));

195 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

197 i‡(
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION


198 || 
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

200 i‡(!
	`ecma_is_vÆue_obje˘
 (
vÆue
))

202  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

205 
ecma_obje˘_t
 *
v_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

207 
ecma_°rög_t
 *
¥ŸŸy≥_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_PROTOTYPE
);

209 
	`ECMA_TRY_CATCH
 (
¥ŸŸy≥_obj_vÆue
,

210 
	`ecma_›_obje˘_gë
 (
func_obj_p
, 
¥ŸŸy≥_magic_°rög_p
),

211 
ªt_vÆue
);

213 i‡(!
	`ecma_is_vÆue_obje˘
 (
¥ŸŸy≥_obj_vÆue
))

215 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("ObjectÉxpected."));

219 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥ŸŸy≥_obj_vÆue
);

220 
	`JERRY_ASSERT
 (
¥ŸŸy≥_obj_p
 !
NULL
);

224 
v_obj_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (v_obj_p);

226 i‡(
v_obj_p
 =
NULL
)

228 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

232 i‡(
v_obj_p
 =
¥ŸŸy≥_obj_p
)

234 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

238 } 
åue
);

241 
	`ECMA_FINALIZE
 (
¥ŸŸy≥_obj_vÆue
);

243 
	`ecma_dîef_ecma_°rög
 (
¥ŸŸy≥_magic_°rög_p
);

247 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

250 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

252 
ecma_obje˘_t
 *
èrgë_func_obj_p
;

253 
èrgë_func_obj_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_obje˘_t
,

254 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
);

257 
ªt_vÆue
 = 
	`ecma_›_obje˘_has_ö°™˚
 (
èrgë_func_obj_p
, 
vÆue
);

260  
ªt_vÆue
;

261 
	}
}

273 
ecma_vÆue_t


274 
	$ecma_›_fun˘i⁄_ˇŒ
 (
ecma_obje˘_t
 *
func_obj_p
,

275 
ecma_vÆue_t
 
this_¨g_vÆue
,

276 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

277 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

279 
	`JERRY_ASSERT
 (
func_obj_p
 !
NULL


280 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
func_obj_p
));

281 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
	`ecma_make_obje˘_vÆue
 (
func_obj_p
)));

283 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

285 i‡(
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION
)

287 i‡(
	`u∆ikñy
 (
	`ecma_gë_obje˘_is_buûtö
 (
func_obj_p
)))

289 
ªt_vÆue
 = 
	`ecma_buûtö_di•©ch_ˇŒ
 (
func_obj_p
,

290 
this_¨g_vÆue
,

291 
¨gumíts_li°_p
,

292 
¨gumíts_li°_Àn
);

297 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

299 
ecma_obje˘_t
 *
sc›e_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

300 
ext_func_p
->
u
.
fun˘i⁄
.
sc›e_˝
);

303 
ecma_vÆue_t
 
this_bödög
;

304 
boﬁ
 
is_°ri˘
;

305 
boﬁ
 
is_no_Àx_ív
;

307 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

308 
byãcode_d©a_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (c⁄° 
ecma_compûed_code_t
,

309 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
);

311 
is_°ri˘
 = (
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
Ë? 
åue
 : 
Ál£
;

312 
is_no_Àx_ív
 = (
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_LEXICAL_ENV_NOT_NEEDED
Ë? 
åue
 : 
Ál£
;

315 i‡(
is_°ri˘
)

317 
this_bödög
 = 
	`ecma_c›y_vÆue
 (
this_¨g_vÆue
);

319 i‡(
	`ecma_is_vÆue_undeföed
 (
this_¨g_vÆue
)

320 || 
	`ecma_is_vÆue_nuŒ
 (
this_¨g_vÆue
))

323 
this_bödög
 = 
	`ecma_make_obje˘_vÆue
 (
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_GLOBAL
));

328 
this_bödög
 = 
	`ecma_›_to_obje˘
 (
this_¨g_vÆue
);

330 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
this_bödög
));

334 
ecma_obje˘_t
 *
loˇl_ív_p
;

335 i‡(
is_no_Àx_ív
)

337 
loˇl_ív_p
 = 
sc›e_p
;

341 
loˇl_ív_p
 = 
	`ecma_¸óã_de˛_Àx_ív
 (
sc›e_p
);

342 i‡(
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_ARGUMENTS_NEEDED
)

344 
	`ecma_›_¸óã_¨gumíts_obje˘
 (
func_obj_p
,

345 
loˇl_ív_p
,

346 
¨gumíts_li°_p
,

347 
¨gumíts_li°_Àn
,

348 
byãcode_d©a_p
);

352 
ªt_vÆue
 = 
	`vm_run
 (
byãcode_d©a_p
,

353 
this_bödög
,

354 
loˇl_ív_p
,

355 
Ál£
,

356 
¨gumíts_li°_p
,

357 
¨gumíts_li°_Àn
);

359 i‡(!
is_no_Àx_ív
)

361 
	`ecma_dîef_obje˘
 (
loˇl_ív_p
);

364 
	`ecma_‰ì_vÆue
 (
this_bödög
);

367 i‡(
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

369 
ecma_exãnded_obje˘_t
 *
ext_func_obj_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

371 
ªt_vÆue
 = 
ext_func_obj_p
->
u
.
	`exã∫Æ_h™dÀr_cb
 (
	`ecma_make_obje˘_vÆue
 (
func_obj_p
),

372 
this_¨g_vÆue
,

373 
¨gumíts_li°_p
,

374 
¨gumíts_li°_Àn
);

378 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

379 
	`JERRY_CONTEXT
 (
is_dúe˘_evÆ_f‹m_ˇŒ
Ë
Ál£
;

382 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

384 
ecma_obje˘_t
 *
èrgë_func_obj_p
;

385 
èrgë_func_obj_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_obje˘_t
,

386 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
);

389 
ecma_vÆue_t
 
¨gs_Àn_‹_this
 = 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.args_len_or_this;

390 
ecma_vÆue_t
 
bound_this_vÆue
;

391 
ecma_Àngth_t
 
¨gs_Àngth
;

393 i‡(!
	`ecma_is_vÆue_öãgî_numbî
 (
¨gs_Àn_‹_this
))

395 
bound_this_vÆue
 = 
¨gs_Àn_‹_this
;

396 
¨gs_Àngth
 = 1;

400 
bound_this_vÆue
 = *(
ecma_vÆue_t
 *Ë(
ext_fun˘i⁄_p
 + 1);

401 
¨gs_Àngth
 = (
ecma_Àngth_t
Ë
	`ecma_gë_öãgî_‰om_vÆue
 (
¨gs_Àn_‹_this
);

404 
	`JERRY_ASSERT
 (
¨gs_Àngth
 > 0);

406 i‡(
¨gs_Àngth
 > 1)

408 
¨gs_Àngth
--;

409 
ecma_Àngth_t
 
mîged_¨gs_li°_Àn
 = 
¨gs_Àngth
 + 
¨gumíts_li°_Àn
;

411 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
mîged_¨gs_li°_p
, 
mîged_¨gs_li°_Àn
, 
ecma_vÆue_t
);

413 
ecma_vÆue_t
 *
¨gs_p
 = (ecma_vÆue_à*Ë(
ext_fun˘i⁄_p
 + 1);

415 
	`mem˝y
 (
mîged_¨gs_li°_p
, 
¨gs_p
 + 1, 
¨gs_Àngth
 *  (
ecma_vÆue_t
));

416 
	`mem˝y
 (
mîged_¨gs_li°_p
 + 
¨gs_Àngth
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
 *  (
ecma_vÆue_t
));

419 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
èrgë_func_obj_p
,

420 
bound_this_vÆue
,

421 
mîged_¨gs_li°_p
,

422 
mîged_¨gs_li°_Àn
);

424 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
mîged_¨gs_li°_p
);

429 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
èrgë_func_obj_p
,

430 
bound_this_vÆue
,

431 
¨gumíts_li°_p
,

432 
¨gumíts_li°_Àn
);

436 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

438  
ªt_vÆue
;

439 
	}
}

449 
ecma_vÆue_t


450 
	$ecma_›_fun˘i⁄_c⁄°ru˘_sim∂e_‹_exã∫Æ
 (
ecma_obje˘_t
 *
func_obj_p
,

451 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

452 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

454 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION


455 || 
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
);

457 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

459 
ecma_°rög_t
 *
¥ŸŸy≥_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_PROTOTYPE
);

462 
	`ECMA_TRY_CATCH
 (
func_obj_¥ŸŸy≥_¥›_vÆue
,

463 
	`ecma_›_obje˘_gë
 (
func_obj_p
,

464 
¥ŸŸy≥_magic_°rög_p
),

465 
ªt_vÆue
);

468 
ecma_obje˘_t
 *
obj_p
;

469 i‡(
	`ecma_is_vÆue_obje˘
 (
func_obj_¥ŸŸy≥_¥›_vÆue
))

472 
obj_p
 = 
	`ecma_¸óã_obje˘
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
func_obj_¥ŸŸy≥_¥›_vÆue
),

474 
ECMA_OBJECT_TYPE_GENERAL
);

479 
ecma_obje˘_t
 *
¥ŸŸy≥_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

481 
obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_p
, 0, 
ECMA_OBJECT_TYPE_GENERAL
);

483 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_p
);

496 
	`ECMA_TRY_CATCH
 (
ˇŒ_com∂ëi⁄
,

497 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
,

498 
	`ecma_make_obje˘_vÆue
 (
obj_p
),

499 
¨gumíts_li°_p
,

500 
¨gumíts_li°_Àn
),

501 
ªt_vÆue
);

504 i‡(
	`ecma_is_vÆue_obje˘
 (
ˇŒ_com∂ëi⁄
))

506 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
ˇŒ_com∂ëi⁄
);

511 
	`ecma_ªf_obje˘
 (
obj_p
);

512 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obj_p
);

515 
	`ECMA_FINALIZE
 (
ˇŒ_com∂ëi⁄
);

517 
	`ecma_dîef_obje˘
 (
obj_p
);

519 
	`ECMA_FINALIZE
 (
func_obj_¥ŸŸy≥_¥›_vÆue
);

521 
	`ecma_dîef_ecma_°rög
 (
¥ŸŸy≥_magic_°rög_p
);

523  
ªt_vÆue
;

524 
	}
}

535 
ecma_vÆue_t


536 
	$ecma_›_fun˘i⁄_c⁄°ru˘
 (
ecma_obje˘_t
 *
func_obj_p
,

537 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

538 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

540 
	`JERRY_ASSERT
 (
func_obj_p
 !
NULL


541 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
func_obj_p
));

542 
	`JERRY_ASSERT
 (
	`ecma_is_c⁄°ru˘‹
 (
	`ecma_make_obje˘_vÆue
 (
func_obj_p
)));

544 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

546 i‡(
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_FUNCTION
)

548 i‡(
	`u∆ikñy
 (
	`ecma_gë_obje˘_is_buûtö
 (
func_obj_p
)

549 && !
	`ecma_buûtö_fun˘i⁄_is_routöe
 (
func_obj_p
)))

551 
ªt_vÆue
 = 
	`ecma_buûtö_di•©ch_c⁄°ru˘
 (
func_obj_p
,

552 
¨gumíts_li°_p
,

553 
¨gumíts_li°_Àn
);

557 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_c⁄°ru˘_sim∂e_‹_exã∫Æ
 (
func_obj_p
,

558 
¨gumíts_li°_p
,

559 
¨gumíts_li°_Àn
);

562 i‡(
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

564 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_c⁄°ru˘_sim∂e_‹_exã∫Æ
 (
func_obj_p
,

565 
¨gumíts_li°_p
,

566 
¨gumíts_li°_Àn
);

570 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
func_obj_p
Ë=
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

573 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
 = (ecma_exãnded_obje˘_à*Ë
func_obj_p
;

575 
ecma_obje˘_t
 *
èrgë_func_obj_p
;

576 
èrgë_func_obj_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_obje˘_t
,

577 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
);

580 i‡(!
	`ecma_is_c⁄°ru˘‹
 (
	`ecma_make_obje˘_vÆue
 (
èrgë_func_obj_p
)))

582 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá constructor."));

587 
ecma_vÆue_t
 
¨gs_Àn_‹_this
 = 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.args_len_or_this;

589 
ecma_Àngth_t
 
¨gs_Àngth
 = 1;

591 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
¨gs_Àn_‹_this
))

593 
¨gs_Àngth
 = (
ecma_Àngth_t
Ë
	`ecma_gë_öãgî_‰om_vÆue
 (
¨gs_Àn_‹_this
);

596 
	`JERRY_ASSERT
 (
¨gs_Àngth
 > 0);

598 i‡(
¨gs_Àngth
 > 1)

600 
ecma_vÆue_t
 *
¨gs_p
 = (ecma_vÆue_à*Ë(
ext_fun˘i⁄_p
 + 1);

602 
¨gs_Àngth
--;

603 
ecma_Àngth_t
 
mîged_¨gs_li°_Àn
 = 
¨gs_Àngth
 + 
¨gumíts_li°_Àn
;

605 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
mîged_¨gs_li°_p
, 
mîged_¨gs_li°_Àn
, 
ecma_vÆue_t
);

607 
	`mem˝y
 (
mîged_¨gs_li°_p
, 
¨gs_p
 + 1, 
¨gs_Àngth
 *  (
ecma_vÆue_t
));

608 
	`mem˝y
 (
mîged_¨gs_li°_p
 + 
¨gs_Àngth
, 
¨gumíts_li°_p
, 
¨gumíts_li°_Àn
 *  (
ecma_vÆue_t
));

611 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_c⁄°ru˘
 (
èrgë_func_obj_p
,

612 
mîged_¨gs_li°_p
,

613 
mîged_¨gs_li°_Àn
);

615 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
mîged_¨gs_li°_p
);

620 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_c⁄°ru˘
 (
èrgë_func_obj_p
,

621 
¨gumíts_li°_p
,

622 
¨gumíts_li°_Àn
);

627  
ªt_vÆue
;

628 
	}
}

641 
ecma_¥›îty_t
 *

642 
	$ecma_›_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

643 
ecma_°rög_t
 *
¥›îty_«me_p
)

645 
	`JERRY_ASSERT
 (!
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
));

647 i‡(
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
¥›îty_«me_p
, 
LIT_MAGIC_STRING_PROTOTYPE
))

652 
ecma_obje˘_t
 *
¥Ÿo_obje˘_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

655 
ecma_°rög_t
 
magic_°rög_c⁄°ru˘‹
;

656 
	`ecma_öô_ecma_magic_°rög
 (&
magic_°rög_c⁄°ru˘‹
, 
LIT_MAGIC_STRING_CONSTRUCTOR
);

658 
ecma_¥›îty_vÆue_t
 *
c⁄°ru˘‹_¥›_vÆue_p
;

659 
c⁄°ru˘‹_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
¥Ÿo_obje˘_p
,

660 &
magic_°rög_c⁄°ru˘‹
,

661 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
,

662 
NULL
);

664 
c⁄°ru˘‹_¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

667 
ecma_¥›îty_t
 *
¥ŸŸy≥_¥›_p
;

668 
ecma_¥›îty_vÆue_t
 *
¥ŸŸy≥_¥›_vÆue_p
;

669 
¥ŸŸy≥_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

670 
¥›îty_«me_p
,

671 
ECMA_PROPERTY_FLAG_WRITABLE
,

672 &
¥ŸŸy≥_¥›_p
);

674 
¥ŸŸy≥_¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
¥Ÿo_obje˘_p
);

676 
	`ecma_dîef_obje˘
 (
¥Ÿo_obje˘_p
);

678  
¥ŸŸy≥_¥›_p
;

681 i‡(
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
¥›îty_«me_p
, 
LIT_MAGIC_STRING_CALLER
)

682 || 
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
¥›îty_«me_p
, 
LIT_MAGIC_STRING_ARGUMENTS
))

684 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

686 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

687 
byãcode_d©a_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (c⁄° 
ecma_compûed_code_t
,

688 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
);

690 i‡(
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
)

692 
ecma_obje˘_t
 *
throwî_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_TYPE_ERROR_THROWER
);

694 
ecma_¥›îty_t
 *
ˇŒî_¥›_p
;

696 
	`ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
obje˘_p
,

697 
¥›îty_«me_p
,

698 
throwî_p
,

699 
throwî_p
,

700 
ECMA_PROPERTY_FIXED
,

701 &
ˇŒî_¥›_p
);

703 
	`ecma_dîef_obje˘
 (
throwî_p
);

704  
ˇŒî_¥›_p
;

708  
NULL
;

709 
	}
}

720 
ecma_¥›îty_t
 *

721 
	$ecma_›_exã∫Æ_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

722 
ecma_°rög_t
 *
¥›îty_«me_p
)

724 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
Ë=
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
);

726 i‡(
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
¥›îty_«me_p
, 
LIT_MAGIC_STRING_PROTOTYPE
))

728 
ecma_¥›îty_t
 *
¥ŸŸy≥_¥›_p
;

729 
ecma_¥›îty_vÆue_t
 *
¥ŸŸy≥_¥›_vÆue_p
;

730 
¥ŸŸy≥_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

731 
¥›îty_«me_p
,

732 
ECMA_PROPERTY_FLAG_WRITABLE
,

733 &
¥ŸŸy≥_¥›_p
);

735 
¥ŸŸy≥_¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

736  
¥ŸŸy≥_¥›_p
;

739  
NULL
;

740 
	}
}

751 
ecma_¥›îty_t
 *

752 
	$ecma_›_bound_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

753 
ecma_°rög_t
 *
¥›îty_«me_p
)

755 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
Ë=
ECMA_OBJECT_TYPE_BOUND_FUNCTION
);

757 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

759 
ecma_exãnded_obje˘_t
 *
ext_fun˘i⁄_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

760 
ecma_obje˘_t
 *
èrgë_func_obj_p
;

761 
èrgë_func_obj_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (
ecma_obje˘_t
,

762 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.
èrgë_fun˘i⁄
);

764 
ecma_öãgî_vÆue_t
 
Àngth
 = 0;

766 i‡(
	`ecma_obje˘_gë_˛ass_«me
 (
èrgë_func_obj_p
Ë=
LIT_MAGIC_STRING_FUNCTION_UL
)

769 
ecma_vÆue_t
 
gë_Àn_vÆue
 = 
	`ecma_›_obje˘_gë
 (
èrgë_func_obj_p
, 
¥›îty_«me_p
);

771 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
gë_Àn_vÆue
));

772 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_öãgî_numbî
 (
gë_Àn_vÆue
));

774 
ecma_vÆue_t
 
¨gs_Àn_‹_this
 = 
ext_fun˘i⁄_p
->
u
.
bound_fun˘i⁄
.args_len_or_this;

775 
ecma_öãgî_vÆue_t
 
¨gs_Àngth
 = 1;

777 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
¨gs_Àn_‹_this
))

779 
¨gs_Àngth
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
¨gs_Àn_‹_this
);

782 
Àngth
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
gë_Àn_vÆue
Ë- (
¨gs_Àngth
 - 1);

784 i‡(
Àngth
 < 0)

786 
Àngth
 = 0;

790 
ecma_¥›îty_t
 *
Àn_¥›_p
;

791 
ecma_¥›îty_vÆue_t
 *
Àn_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

792 
¥›îty_«me_p
,

793 
ECMA_PROPERTY_FIXED
,

794 &
Àn_¥›_p
);

796 
Àn_¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_öãgî_vÆue
 (
Àngth
);

797  
Àn_¥›_p
;

800 i‡(
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
¥›îty_«me_p
, 
LIT_MAGIC_STRING_CALLER
)

801 || 
	`ecma_com∑ª_ecma_°rög_to_magic_id
 (
¥›îty_«me_p
, 
LIT_MAGIC_STRING_ARGUMENTS
))

803 
ecma_obje˘_t
 *
throwî_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_TYPE_ERROR_THROWER
);

805 
ecma_¥›îty_t
 *
ˇŒî_¥›_p
;

807 
	`ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
obje˘_p
,

808 
¥›îty_«me_p
,

809 
throwî_p
,

810 
throwî_p
,

811 
ECMA_PROPERTY_FIXED
,

812 &
ˇŒî_¥›_p
);

814 
	`ecma_dîef_obje˘
 (
throwî_p
);

815  
ˇŒî_¥›_p
;

818  
NULL
;

819 
	}
}

829 
	$ecma_›_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obje˘_p
,

830 
boﬁ
 
£∑øã_íumîabÀ
,

837 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

838 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
)

842 
	`JERRY_UNUSED
 (
maö_cﬁÀ˘i⁄_p
);

844 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = 
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p
 : 
maö_cﬁÀ˘i⁄_p
;

847 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

848 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

849 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

852 
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_PROTOTYPE
);

853 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

854 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

856 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

858 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

859 
byãcode_d©a_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (c⁄° 
ecma_compûed_code_t
,

860 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
);

862 i‡(
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
)

865 
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CALLER
);

866 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

867 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

870 
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_ARGUMENTS
);

871 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

872 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

874 
	}
}

884 
	$ecma_›_exã∫Æ_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
boﬁ
 
£∑øã_íumîabÀ
,

892 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

894 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
)

897 
	`JERRY_UNUSED
 (
maö_cﬁÀ˘i⁄_p
);

899 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = 
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p
 : 
maö_cﬁÀ˘i⁄_p
;

902 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_PROTOTYPE
);

903 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

904 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

905 
	}
}

915 
	$ecma_›_bound_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
boﬁ
 
£∑øã_íumîabÀ
,

923 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

925 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
)

929 
	`JERRY_UNUSED
 (
maö_cﬁÀ˘i⁄_p
);

931 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = 
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p
 : 
maö_cﬁÀ˘i⁄_p
;

934 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

935 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

936 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

939 
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CALLER
);

940 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

941 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

944 
«me_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_ARGUMENTS
);

945 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

946 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

947 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-function-object.h

16 #i‚de‡
ECMA_FUNCTION_OBJECT_H


17 
	#ECMA_FUNCTION_OBJECT_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"vm.h
"

29 
boﬁ
 
ecma_›_is_ˇŒabÀ
 (
ecma_vÆue_t
 
vÆue
);

30 
boﬁ
 
ecma_is_c⁄°ru˘‹
 (
ecma_vÆue_t
 
vÆue
);

32 
ecma_obje˘_t
 *

33 
ecma_›_¸óã_fun˘i⁄_obje˘
 (
ecma_obje˘_t
 *
sc›e_p
, c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
);

35 
ecma_obje˘_t
 *

36 
ecma_›_¸óã_exã∫Æ_fun˘i⁄_obje˘
 (
ecma_exã∫Æ_h™dÀr_t
 
h™dÀr_cb
);

38 
ecma_vÆue_t


39 
ecma_›_fun˘i⁄_ˇŒ
 (
ecma_obje˘_t
 *
func_obj_p
, 
ecma_vÆue_t
 
this_¨g_vÆue
,

40 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_li°_Àn
);

42 
ecma_vÆue_t


43 
ecma_›_fun˘i⁄_c⁄°ru˘
 (
ecma_obje˘_t
 *
func_obj_p
, c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

44 
ecma_Àngth_t
 
¨gumíts_li°_Àn
);

46 
ecma_vÆue_t


47 
ecma_›_fun˘i⁄_has_ö°™˚
 (
ecma_obje˘_t
 *
func_obj_p
, 
ecma_vÆue_t
 
vÆue
);

49 
ecma_¥›îty_t
 *

50 
ecma_›_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

52 
ecma_¥›îty_t
 *

53 
ecma_›_exã∫Æ_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

55 
ecma_¥›îty_t
 *

56 
ecma_›_bound_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

59 
ecma_›_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obje˘_p
,

60 
boﬁ
 
£∑øã_íumîabÀ
,

61 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

62 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
);

65 
ecma_›_exã∫Æ_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
boﬁ
 
£∑øã_íumîabÀ
,

66 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

67 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
);

70 
ecma_›_bound_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
boﬁ
 
£∑øã_íumîabÀ
,

71 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

72 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
);

	@deps/jerry/jerry-core/ecma/operations/ecma-get-put-value.c

20 
	~"ecma-buûtös.h
"

21 
	~"ecma-ex˚±i⁄s.h
"

22 
	~"ecma-gc.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-Àx-ív.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-fun˘i⁄-obje˘.h
"

27 
	~"ecma-obje˘s-gíîÆ.h
"

28 
	~"ecma-åy-ˇtch-ma¸o.h
"

45 
ecma_vÆue_t


46 
	$ecma_›_gë_vÆue_Àx_ív_ba£
 (
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
,

47 
ecma_°rög_t
 *
v¨_«me_°rög_p
,

48 
boﬁ
 
is_°ri˘
)

50 c⁄° 
boﬁ
 
is_uƒesﬁvabÀ_ª„ªn˚
 = (
ªf_ba£_Àx_ív_p
 =
NULL
);

53 i‡(
	`u∆ikñy
 (
is_uƒesﬁvabÀ_ª„ªn˚
))

55 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


56 
ecma_vÆue_t
 
v¨_«me_vÆ
 = 
	`ecma_make_°rög_vÆue
 (
v¨_«me_°rög_p
);

57 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ECMA_ERROR_REFERENCE
,

59 
v¨_«me_vÆ
);

61 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_ª„ªn˚_îr‹
 (
NULL
);

63  
îr‹_vÆue
;

67 
	`JERRY_ASSERT
 (
ªf_ba£_Àx_ív_p
 !
NULL


68 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
ªf_ba£_Àx_ív_p
));

71  
	`ecma_›_gë_bödög_vÆue
 (
ªf_ba£_Àx_ív_p
,

72 
v¨_«me_°rög_p
,

73 
is_°ri˘
);

74 
	}
}

84 
ecma_vÆue_t


85 
	$ecma_›_gë_vÆue_obje˘_ba£
 (
ecma_vÆue_t
 
ba£_vÆue
,

86 
ecma_°rög_t
 *
¥›îty_«me_p
)

88 i‡(
	`ecma_is_vÆue_obje˘
 (
ba£_vÆue
))

90 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ba£_vÆue
);

91 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


92 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

94  
	`ecma_›_obje˘_gë
 (
obj_p
, 
¥›îty_«me_p
);

97 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ba£_vÆue
)

98 || 
	`ecma_is_vÆue_numbî
 (
ba£_vÆue
)

99 || 
	`ecma_is_vÆue_°rög
 (
ba£_vÆue
));

101 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

103 
	`ECMA_TRY_CATCH
 (
obje˘_ba£
, 
	`ecma_›_to_obje˘
 (
ba£_vÆue
), 
ªt_vÆue
);

105 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obje˘_ba£
);

106 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL


107 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

109 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

112 
max_dïth
 = 
ECMA_PROPERTY_SEARCH_DEPTH_LIMIT
;

116 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_obje˘_föd_own
 (
ba£_vÆue
, 
obje˘_p
, 
¥›îty_«me_p
);

118 i‡(
	`ecma_is_vÆue_found
 (
vÆue
))

120 
ªt_vÆue
 = 
vÆue
;

124 i‡(--
max_dïth
 == 0)

129 
obje˘_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (object_p);

131 
obje˘_p
 !
NULL
);

133 
	`ECMA_FINALIZE
 (
obje˘_ba£
);

135  
ªt_vÆue
;

136 
	}
}

146 
ecma_vÆue_t


147 
	$ecma_›_put_vÆue_Àx_ív_ba£
 (
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
,

148 
ecma_°rög_t
 *
v¨_«me_°rög_p
,

149 
boﬁ
 
is_°ri˘
,

150 
ecma_vÆue_t
 
vÆue
)

152 c⁄° 
boﬁ
 
is_uƒesﬁvabÀ_ª„ªn˚
 = (
ªf_ba£_Àx_ív_p
 =
NULL
);

155 i‡(
	`u∆ikñy
 (
is_uƒesﬁvabÀ_ª„ªn˚
))

158 i‡(
is_°ri˘
)

160 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


161 
ecma_vÆue_t
 
v¨_«me_vÆ
 = 
	`ecma_make_°rög_vÆue
 (
v¨_«me_°rög_p
);

162 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ECMA_ERROR_REFERENCE
,

164 
v¨_«me_vÆ
);

166 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_ª„ªn˚_îr‹
 (
NULL
);

168  
îr‹_vÆue
;

173 
ecma_obje˘_t
 *
globÆ_obje˘_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_GLOBAL
);

175 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_obje˘_put
 (
globÆ_obje˘_p
,

176 
v¨_«me_°rög_p
,

177 
vÆue
,

178 
Ál£
);

180 
	`ecma_dîef_obje˘
 (
globÆ_obje˘_p
);

182 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∂ëi⁄
));

184  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

189 
	`JERRY_ASSERT
 (
ªf_ba£_Àx_ív_p
 !
NULL


190 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
ªf_ba£_Àx_ív_p
));

193  
	`ecma_›_£t_muèbÀ_bödög
 (
ªf_ba£_Àx_ív_p
,

194 
v¨_«me_°rög_p
,

195 
vÆue
,

196 
is_°ri˘
);

197 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-jobqueue.c

16 
	~"ecma-fun˘i⁄-obje˘.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-jobqueue.h
"

20 
	~"ecma-obje˘s.h
"

21 
	~"ecma-¥omi£-obje˘.h
"

22 
	~"jc⁄ãxt.h
"

24 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


38 
ecma_vÆue_t
 
	mªa˘i⁄
;

39 
ecma_vÆue_t
 
	m¨gumít
;

40 } 
	tecma_job_¥omi£_ªa˘i⁄_t
;

47 
ecma_vÆue_t
 
	m¥omi£
;

48 
ecma_vÆue_t
 
	mthíabÀ
;

49 
ecma_vÆue_t
 
	mthí
;

50 } 
	tecma_job_¥omi£_ªsﬁve_thíabÀ_t
;

55 
	$ecma_job_queue_öô
 ()

57 
	`JERRY_CONTEXT
 (
job_queue_hód_p
Ë
NULL
;

58 
	`JERRY_CONTEXT
 (
job_queue_èû_p
Ë
NULL
;

59 
	}
}

66 
ecma_job_¥omi£_ªa˘i⁄_t
 *

67 
	$ecma_¸óã_¥omi£_ªa˘i⁄_job
 (
ecma_vÆue_t
 
ªa˘i⁄
,

68 
ecma_vÆue_t
 
¨gumít
)

70 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ªa˘i⁄
));

72 
ecma_job_¥omi£_ªa˘i⁄_t
 *
job_p
;

73 
job_p
 = (
ecma_job_¥omi£_ªa˘i⁄_t
 *Ë
	`jmem_hóp_Æloc_block
 ( (ecma_job_promise_reaction_t));

74 
job_p
->
ªa˘i⁄
 = 
	`ecma_c›y_vÆue
 (reaction);

75 
job_p
->
¨gumít
 = 
	`ecma_c›y_vÆue
 (argument);

77  
job_p
;

78 
	}
}

84 
	$ecma_‰ì_¥omi£_ªa˘i⁄_job
 (
ecma_job_¥omi£_ªa˘i⁄_t
 *
job_p
)

86 
	`JERRY_ASSERT
 (
job_p
 !
NULL
);

88 
	`ecma_‰ì_vÆue
 (
job_p
->
ªa˘i⁄
);

89 
	`ecma_‰ì_vÆue
 (
job_p
->
¨gumít
);

91 
	`jmem_hóp_‰ì_block
 (
job_p
,  (
ecma_job_¥omi£_ªa˘i⁄_t
));

92 
	}
}

99 
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
 *

100 
	$ecma_¸óã_¥omi£_ªsﬁve_thíabÀ_job
 (
ecma_vÆue_t
 
¥omi£
,

101 
ecma_vÆue_t
 
thíabÀ
,

102 
ecma_vÆue_t
 
thí
)

104 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
)));

105 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
thíabÀ
));

106 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
thí
));

108 
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
 *
job_p
;

109 
job_p
 = (
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
 *Ë
	`jmem_hóp_Æloc_block
 ( (ecma_job_promise_resolve_thenable_t));

111 
job_p
->
¥omi£
 = 
	`ecma_c›y_vÆue
 (promise);

112 
job_p
->
thíabÀ
 = 
	`ecma_c›y_vÆue
 (thenable);

113 
job_p
->
thí
 = 
	`ecma_c›y_vÆue
 (then);

115  
job_p
;

116 
	}
}

122 
	$ecma_‰ì_¥omi£_ªsﬁve_thíabÀ_job
 (
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
 *
job_p
)

125 
	`JERRY_ASSERT
 (
job_p
 !
NULL
);

127 
	`ecma_‰ì_vÆue
 (
job_p
->
¥omi£
);

128 
	`ecma_‰ì_vÆue
 (
job_p
->
thíabÀ
);

129 
	`ecma_‰ì_vÆue
 (
job_p
->
thí
);

131 
	`jmem_hóp_‰ì_block
 (
job_p
,  (
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
));

132 
	}
}

142 
ecma_vÆue_t


143 
	$ecma_¥o˚ss_¥omi£_ªa˘i⁄_job
 (*
obj_p
)

145 
ecma_job_¥omi£_ªa˘i⁄_t
 *
job_p
 = (ecma_job_¥omi£_ªa˘i⁄_à*Ë
obj_p
;

146 
ecma_obje˘_t
 *
ªa˘i⁄_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
job_p
->
ªa˘i⁄
);

148 
ecma_°rög_t
 *
°r_ˇ∑bûôy
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_CAPABILITY
);

149 
ecma_°rög_t
 *
°r_h™dÀr
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_HANDLER
);

150 
ecma_°rög_t
 *
°r_ªsﬁve
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

151 
ecma_°rög_t
 *
°r_ªje˘
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

154 
ecma_vÆue_t
 
ˇ∑bûôy
 = 
	`ecma_›_obje˘_gë
 (
ªa˘i⁄_p
, 
°r_ˇ∑bûôy
);

156 
ecma_vÆue_t
 
h™dÀr
 = 
	`ecma_›_obje˘_gë
 (
ªa˘i⁄_p
, 
°r_h™dÀr
);

158 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
h™dÀr
Ë|| 
	`ecma_›_is_ˇŒabÀ
 (handler));

160 
ecma_vÆue_t
 
h™dÀr_ªsu…
;

162 i‡(
	`ecma_is_vÆue_boﬁón
 (
h™dÀr
))

165 
h™dÀr_ªsu…
 = 
	`ecma_c›y_vÆue
 (
job_p
->
¨gumít
);

170 
h™dÀr_ªsu…
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
h™dÀr
),

171 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

172 &(
job_p
->
¨gumít
),

176 
ecma_vÆue_t
 
°©us
;

178 i‡(
	`ecma_is_vÆue_Ál£
 (
h™dÀr
Ë|| 
	`ECMA_IS_VALUE_ERROR
 (
h™dÀr_ªsu…
))

180 i‡(
	`ECMA_IS_VALUE_ERROR
 (
h™dÀr_ªsu…
))

182 
h™dÀr_ªsu…
 = 
	`ecma_gë_vÆue_‰om_îr‹_vÆue
 (handler_result);

186 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_ªje˘
);

188 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
ªje˘
));

190 
°©us
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªje˘
),

191 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

192 &
h™dÀr_ªsu…
,

194 
	`ecma_‰ì_vÆue
 (
ªje˘
);

199 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_ªsﬁve
);

201 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
ªsﬁve
));

203 
°©us
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsﬁve
),

204 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

205 &
h™dÀr_ªsu…
,

207 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

210 
	`ecma_‰ì_vÆue
 (
h™dÀr_ªsu…
);

211 
	`ecma_‰ì_vÆue
 (
h™dÀr
);

212 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

213 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

214 
	`ecma_dîef_ecma_°rög
 (
°r_h™dÀr
);

215 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

216 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

217 
	`ecma_‰ì_¥omi£_ªa˘i⁄_job
 (
job_p
);

219  
°©us
;

220 
	}
}

230 
ecma_vÆue_t


231 
	$ecma_¥o˚ss_¥omi£_ªsﬁve_thíabÀ_job
 (*
obj_p
)

233 
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
 *
job_p
 = (ecma_job_¥omi£_ªsﬁve_thíabÀ_à*Ë
obj_p
;

234 
ecma_obje˘_t
 *
¥omi£_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
job_p
->
¥omi£
);

235 
ecma_°rög_t
 
°r_ªsﬁve
, 
°r_ªje˘
;

236 
	`ecma_öô_ecma_magic_°rög
 (&
°r_ªsﬁve
, 
LIT_INTERNAL_MAGIC_STRING_RESOLVE_FUNCTION
);

237 
	`ecma_öô_ecma_magic_°rög
 (&
°r_ªje˘
, 
LIT_INTERNAL_MAGIC_STRING_REJECT_FUNCTION
);

239 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
¥omi£_p
, &
°r_ªsﬁve
);

240 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
¥omi£_p
, &
°r_ªje˘
);

242 
ecma_vÆue_t
 
¨gv
[] = { 
ªsﬁve
, 
ªje˘
 };

243 
ecma_vÆue_t
 
ªt
;

244 
ecma_vÆue_t
 
thí_ˇŒ_ªsu…
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
job_p
->
thí
),

245 
job_p
->
thíabÀ
,

246 
¨gv
,

249 
ªt
 = 
thí_ˇŒ_ªsu…
;

251 i‡(
	`ECMA_IS_VALUE_ERROR
 (
thí_ˇŒ_ªsu…
))

253 
ªt
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªje˘
),

254 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

255 &
thí_ˇŒ_ªsu…
,

258 
	`ecma_‰ì_vÆue
 (
thí_ˇŒ_ªsu…
);

261 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

262 
	`ecma_‰ì_vÆue
 (
ªje˘
);

263 
	`ecma_‰ì_¥omi£_ªsﬁve_thíabÀ_job
 (
job_p
);

265  
ªt
;

266 
	}
}

272 
	$ecma_íqueue_job
 (
ecma_job_h™dÀr_t
 
h™dÀr
,

273 *
job_p
)

275 
ecma_job_queueôem_t
 *
ôem_p
 = 
	`jmem_hóp_Æloc_block
 ( (ecma_job_queueitem_t));

276 
ôem_p
->
job_p
 = job_p;

277 
ôem_p
->
h™dÀr
 = handler;

278 
ôem_p
->
√xt_p
 = 
NULL
;

280 i‡(
	`JERRY_CONTEXT
 (
job_queue_hód_p
Ë=
NULL
)

282 
	`JERRY_CONTEXT
 (
job_queue_hód_p
Ë
ôem_p
;

283 
	`JERRY_CONTEXT
 (
job_queue_èû_p
Ë
ôem_p
;

287 
	`JERRY_CONTEXT
 (
job_queue_èû_p
)->
√xt_p
 = 
ôem_p
;

288 
	`JERRY_CONTEXT
 (
job_queue_èû_p
Ë
ôem_p
;

290 
	}
}

296 
	$ecma_íqueue_¥omi£_ªa˘i⁄_job
 (
ecma_vÆue_t
 
ªa˘i⁄
,

297 
ecma_vÆue_t
 
¨gumít
)

299 
ecma_job_¥omi£_ªa˘i⁄_t
 *
job_p
 = 
	`ecma_¸óã_¥omi£_ªa˘i⁄_job
 (
ªa˘i⁄
, 
¨gumít
);

300 
	`ecma_íqueue_job
 (
ecma_¥o˚ss_¥omi£_ªa˘i⁄_job
, 
job_p
);

301 
	}
}

307 
	$ecma_íqueue_¥omi£_ªsﬁve_thíabÀ_job
 (
ecma_vÆue_t
 
¥omi£
,

308 
ecma_vÆue_t
 
thíabÀ
,

309 
ecma_vÆue_t
 
thí
)

311 
ecma_job_¥omi£_ªsﬁve_thíabÀ_t
 *
job_p
 = 
	`ecma_¸óã_¥omi£_ªsﬁve_thíabÀ_job
 (
¥omi£
,

312 
thíabÀ
,

313 
thí
);

314 
	`ecma_íqueue_job
 (
ecma_¥o˚ss_¥omi£_ªsﬁve_thíabÀ_job
, 
job_p
);

315 
	}
}

324 
ecma_vÆue_t


325 
	$ecma_¥o˚ss_Æl_íqueued_jobs
 ()

327 
ecma_vÆue_t
 
ªt
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

329 
	`JERRY_CONTEXT
 (
job_queue_hód_p
Ë!
NULL
 && !
	`ECMA_IS_VALUE_ERROR
 (
ªt
))

331 
ecma_job_queueôem_t
 *
ôem_p
 = 
	`JERRY_CONTEXT
 (
job_queue_hód_p
);

332 
	`JERRY_CONTEXT
 (
job_queue_hód_p
ËJERRY_CONTEXT (job_queue_hód_p)->
√xt_p
;

334 *
job_p
 = 
ôem_p
->job_p;

335 
ecma_job_h™dÀr_t
 
h™dÀr
 = 
ôem_p
->handler;

336 
	`jmem_hóp_‰ì_block
 (
ôem_p
,  (
ecma_job_queueôem_t
));

338 
	`ecma_‰ì_vÆue
 (
ªt
);

339 
ªt
 = 
	`h™dÀr
 (
job_p
);

342  
ªt
;

343 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-jobqueue.h

16 #i‚de‡
ECMA_JOB_QUEUE_H


17 
	#ECMA_JOB_QUEUE_H


	)

19 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


31 
	$ecma_vÆue_t
 (*
	tecma_job_h™dÀr_t
Ë(*
	tjob_p
);

36 
	secma_job_queueôem_t


38 
ecma_job_queueôem_t
 *
√xt_p
;

39 
ecma_job_h™dÀr_t
 
h™dÀr
;

40 *
job_p
;

41 } 
	tecma_job_queueôem_t
;

43 
	`ecma_job_queue_öô
 ();

45 
	`ecma_íqueue_¥omi£_ªa˘i⁄_job
 (
ecma_vÆue_t
 
ªa˘i⁄
,Écma_vÆue_à
¨gumít
);

46 
	`ecma_íqueue_¥omi£_ªsﬁve_thíabÀ_job
 (
ecma_vÆue_t
 
¥omi£
,Écma_vÆue_à
thíabÀ
,Écma_vÆue_à
thí
);

48 
ecma_vÆue_t
 
	`ecma_¥o˚ss_Æl_íqueued_jobs
 ();

	@deps/jerry/jerry-core/ecma/operations/ecma-lex-env.c

16 
	~"ecma-buûtö-hñ≥rs.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-gc.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-hñ≥rs.h
"

22 
	~"ecma-Àx-ív.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"jc⁄ãxt.h
"

40 
	$ecma_öô_globÆ_Àx_ív
 ()

42 #ifde‡
CONFIG_ECMA_GLOBAL_ENVIRONMENT_DECLARATIVE


43 
	`JERRY_CONTEXT
 (
ecma_globÆ_Àx_ív_p
Ë
	`ecma_¸óã_de˛_Àx_ív
 (
NULL
);

45 
ecma_obje˘_t
 *
glob_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_GLOBAL
);

47 
	`JERRY_CONTEXT
 (
ecma_globÆ_Àx_ív_p
Ë
	`ecma_¸óã_obje˘_Àx_ív
 (
NULL
, 
glob_obj_p
, 
Ál£
);

49 
	`ecma_dîef_obje˘
 (
glob_obj_p
);

51 
	}
}

57 
	$ecma_föÆize_globÆ_Àx_ív
 ()

59 
	`ecma_dîef_obje˘
 (
	`JERRY_CONTEXT
 (
ecma_globÆ_Àx_ív_p
));

60 
	`JERRY_CONTEXT
 (
ecma_globÆ_Àx_ív_p
Ë
NULL
;

61 
	}
}

69 
ecma_obje˘_t
 *

70 
	$ecma_gë_globÆ_ívú⁄mít
 ()

72  
	`JERRY_CONTEXT
 (
ecma_globÆ_Àx_ív_p
);

73 
	}
}

86 
boﬁ


87 
	$ecma_›_has_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
,

88 
ecma_°rög_t
 *
«me_p
)

90 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


91 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

93 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

95 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
Àx_ív_p
, 
«me_p
);

97  (
¥›îty_p
 !
NULL
);

101 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


102 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

104 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

106  
	`ecma_›_obje˘_has_¥›îty
 (
bödög_obj_p
, 
«me_p
);

108 
	}
}

118 
ecma_vÆue_t


119 
	$ecma_›_¸óã_muèbÀ_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
,

120 
ecma_°rög_t
 *
«me_p
,

121 
boﬁ
 
is_dñëabÀ
)

123 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


124 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

125 
	`JERRY_ASSERT
 (
«me_p
 !
NULL
);

127 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

129 
uöt8_t
 
¥›_©åibuãs
 = 
ECMA_PROPERTY_FLAG_WRITABLE
;

131 i‡(
is_dñëabÀ
)

133 
¥›_©åibuãs
 = (
uöt8_t
Ë’r›_©åibuã†| 
ECMA_PROPERTY_FLAG_CONFIGURABLE
);

136 
	`ecma_¸óã_«med_d©a_¥›îty
 (
Àx_ív_p
,

137 
«me_p
,

138 
¥›_©åibuãs
,

139 
NULL
);

143 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


144 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

146 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

148 
ecma_vÆue_t
 
com∂ëi⁄
;

149 
com∂ëi⁄
 = 
	`ecma_buûtö_hñ≥r_def_¥›
 (
bödög_obj_p
,

150 
«me_p
,

151 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

152 
åue
,

153 
åue
,

154 
is_dñëabÀ
,

155 
åue
);

157 i‡(
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄
))

159  
com∂ëi⁄
;

163 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∂ëi⁄
));

167  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

168 
	}
}

178 
ecma_vÆue_t


179 
	$ecma_›_£t_muèbÀ_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
,

180 
ecma_°rög_t
 *
«me_p
,

181 
ecma_vÆue_t
 
vÆue
,

182 
boﬁ
 
is_°ri˘
)

184 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


185 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

186 
	`JERRY_ASSERT
 (
«me_p
 !
NULL
);

188 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

190 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
Àx_ív_p
, 
«me_p
);

192 
	`JERRY_ASSERT
 (
¥›îty_p
 !
NULL


193 && 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
);

195 i‡(
	`ecma_is_¥›îty_wrôabÀ
 (*
¥›îty_p
))

197 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
Àx_ív_p
, 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
), 
vÆue
);

199 i‡(
is_°ri˘
)

201  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Binding cannot be set."));

206 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


207 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

209 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

211 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_obje˘_put
 (
bödög_obj_p
,

212 
«me_p
,

213 
vÆue
,

214 
is_°ri˘
);

216 i‡(
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄
))

218  
com∂ëi⁄
;

222 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∂ëi⁄
));

226  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

227 
	}
}

237 
ecma_vÆue_t


238 
	$ecma_›_gë_bödög_vÆue
 (
ecma_obje˘_t
 *
Àx_ív_p
,

239 
ecma_°rög_t
 *
«me_p
,

240 
boﬁ
 
is_°ri˘
)

242 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


243 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

244 
	`JERRY_ASSERT
 (
«me_p
 !
NULL
);

246 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

248 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
 = 
	`ecma_gë_«med_d©a_¥›îty
 (
Àx_ív_p
, 
«me_p
);

250  
	`ecma_c›y_vÆue
 (
¥›_vÆue_p
->
vÆue
);

254 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


255 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

257 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

259 
ecma_vÆue_t
 
ªsu…
 = 
	`ecma_›_obje˘_föd
 (
bödög_obj_p
, 
«me_p
);

261 i‡(!
	`ecma_is_vÆue_found
 (
ªsu…
))

263 i‡(
is_°ri˘
)

265 
ªsu…
 = 
	`ecma_øi£_ª„ªn˚_îr‹
 (
	`ECMA_ERR_MSG
 ("Binding doesÇotÉxist or is uninitialised."));

269 
ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

273  
ªsu…
;

275 
	}
}

286 
ecma_vÆue_t


287 
	$ecma_›_dñëe_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
,

288 
ecma_°rög_t
 *
«me_p
)

290 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


291 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

292 
	`JERRY_ASSERT
 (
«me_p
 !
NULL
);

295 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

297 
ecma_¥›îty_t
 *
¥›_p
 = 
	`ecma_föd_«med_¥›îty
 (
Àx_ív_p
, 
«me_p
);

298 
ecma_sim∂e_vÆue_t
 
ªt_vÆ
;

300 i‡(
¥›_p
 =
NULL
)

302 
ªt_vÆ
 = 
ECMA_SIMPLE_VALUE_TRUE
;

306 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
);

308 i‡(!
	`ecma_is_¥›îty_c⁄figuøbÀ
 (*
¥›_p
))

310 
ªt_vÆ
 = 
ECMA_SIMPLE_VALUE_FALSE
;

314 
	`ecma_dñëe_¥›îty
 (
Àx_ív_p
, 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›_p
));

316 
ªt_vÆ
 = 
ECMA_SIMPLE_VALUE_TRUE
;

320  
	`ecma_make_sim∂e_vÆue
 (
ªt_vÆ
);

324 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


325 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

327 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

329  
	`ecma_›_obje˘_dñëe
 (
bödög_obj_p
, 
«me_p
, 
Ál£
);

331 
	}
}

341 
ecma_vÆue_t


342 
	$ecma_›_im∂icô_this_vÆue
 (
ecma_obje˘_t
 *
Àx_ív_p
)

344 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


345 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

347 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

349  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

353 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


354 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

356 i‡(
	`ecma_gë_Àx_ív_¥ovide_this
 (
Àx_ív_p
))

358 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

359 
	`ecma_ªf_obje˘
 (
bödög_obj_p
);

361  
	`ecma_make_obje˘_vÆue
 (
bödög_obj_p
);

365  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

368 
	}
}

376 
	$ecma_›_¸óã_immuèbÀ_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
,

377 
ecma_°rög_t
 *
«me_p
,

378 
ecma_vÆue_t
 
vÆue
)

380 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


381 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

382 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
);

388 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
Àx_ív_p
,

389 
«me_p
,

390 
ECMA_PROPERTY_FIXED
,

391 
NULL
);

393 
¥›_vÆue_p
->
vÆue
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (value);

394 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-lex-env.h

16 #i‚de‡
ECMA_LEX_ENV_H


17 
	#ECMA_LEX_ENV_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-ª„ªn˚.h
"

21 
	~"jπ.h
"

33 
ecma_öô_globÆ_Àx_ív
 ();

34 
ecma_föÆize_globÆ_Àx_ív
 ();

35 
ecma_obje˘_t
 *
ecma_gë_globÆ_ívú⁄mít
 ();

42 
ecma_vÆue_t
 
ecma_›_gë_vÆue_Àx_ív_ba£
 (
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
, 
ecma_°rög_t
 *
v¨_«me_°rög_p
,

43 
boﬁ
 
is_°ri˘
);

44 
ecma_vÆue_t
 
ecma_›_gë_vÆue_obje˘_ba£
 (ecma_vÆue_à
ba£_vÆue
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

45 
ecma_vÆue_t
 
ecma_›_put_vÆue_Àx_ív_ba£
 (
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
, 
ecma_°rög_t
 *
v¨_«me_°rög_p
,

46 
boﬁ
 
is_°ri˘
, 
ecma_vÆue_t
 
vÆue
);

49 
boﬁ
 
ecma_›_has_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
);

50 
ecma_vÆue_t
 
ecma_›_¸óã_muèbÀ_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
, 
boﬁ
 
is_dñëabÀ
);

51 
ecma_vÆue_t
 
ecma_›_£t_muèbÀ_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
,Écma_vÆue_à
vÆue
,

52 
boﬁ
 
is_°ri˘
);

53 
ecma_vÆue_t
 
ecma_›_gë_bödög_vÆue
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
, 
boﬁ
 
is_°ri˘
);

54 
ecma_vÆue_t
 
ecma_›_dñëe_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
);

55 
ecma_vÆue_t
 
ecma_›_im∂icô_this_vÆue
 (
ecma_obje˘_t
 *
Àx_ív_p
);

58 
ecma_›_¸óã_immuèbÀ_bödög
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
, 
ecma_vÆue_t
 
vÆue
);

60 
ecma_obje˘_t
 *
ecma_›_¸óã_globÆ_ívú⁄mít
 (ecma_object_t *);

	@deps/jerry/jerry-core/ecma/operations/ecma-number-arithmetic.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-hñ≥rs.h
"

18 
	~"ecma-numbî-¨ôhmëic.h
"

35 
ecma_numbî_t


36 
	$ecma_›_numbî_ªmaödî
 (
ecma_numbî_t
 
À·_num
,

37 
ecma_numbî_t
 
right_num
)

39 i‡(
	`ecma_numbî_is_«n
 (
À·_num
)

40 || 
	`ecma_numbî_is_«n
 (
right_num
)

41 || 
	`ecma_numbî_is_öföôy
 (
À·_num
)

42 || 
	`ecma_numbî_is_zîo
 (
right_num
))

44  
	`ecma_numbî_make_«n
 ();

46 i‡(
	`ecma_numbî_is_öföôy
 (
right_num
)

47 || (
	`ecma_numbî_is_zîo
 (
À·_num
)

48 && !
	`ecma_numbî_is_zîo
 (
right_num
)))

50  
À·_num
;

53  
	`ecma_numbî_ˇlc_ªmaödî
 (
À·_num
, 
right_num
);

54 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-number-arithmetic.h

16 #i‚de‡
ECMA_NUMBER_ARITHMETIC_H


17 
	#ECMA_NUMBER_ARITHMETIC_H


	)

19 
	~"ecma-globÆs.h
"

28 
ecma_numbî_t
 
ecma_›_numbî_ªmaödî
 (ecma_numbî_à
À·_num
,Écma_numbî_à
right_num
);

	@deps/jerry/jerry-core/ecma/operations/ecma-number-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-gc.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-hñ≥rs.h
"

22 
	~"ecma-numbî-obje˘.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-obje˘s-gíîÆ.h
"

41 
ecma_vÆue_t


42 
	$ecma_›_¸óã_numbî_obje˘
 (
ecma_vÆue_t
 
¨g
)

44 
ecma_vÆue_t
 
c⁄v_to_num_com∂ëi⁄
 = 
	`ecma_›_to_numbî
 (
¨g
);

46 i‡(
	`ECMA_IS_VALUE_ERROR
 (
c⁄v_to_num_com∂ëi⁄
))

48  
c⁄v_to_num_com∂ëi⁄
;

51 #i‚de‡
CONFIG_DISABLE_NUMBER_BUILTIN


52 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_NUMBER_PROTOTYPE
);

54 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

57 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

58  (
ecma_exãnded_obje˘_t
),

59 
ECMA_OBJECT_TYPE_CLASS
);

61 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

63 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

64 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_NUMBER_UL
;

67 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
c⁄v_to_num_com∂ëi⁄
;

69  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

70 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-number-object.h

16 #i‚de‡
ECMA_NUMBER_OBJECT_H


17 
	#ECMA_NUMBER_OBJECT_H


	)

19 
	~"ecma-globÆs.h
"

28 
ecma_vÆue_t
 
ecma_›_¸óã_numbî_obje˘
 (ecma_vÆue_à
¨g
);

	@deps/jerry/jerry-core/ecma/operations/ecma-objects-arguments.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtö-hñ≥rs.h
"

18 
	~"ecma-buûtös.h
"

19 
	~"ecma-fun˘i⁄-obje˘.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-lˇche.h
"

24 
	~"ecma-Àx-ív.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-obje˘s-¨gumíts.h
"

27 
	~"ecma-obje˘s-gíîÆ.h
"

28 
	~"ecma-åy-ˇtch-ma¸o.h
"

29 
	~"jπ.h
"

44 
	$ecma_›_¸óã_¨gumíts_obje˘
 (
ecma_obje˘_t
 *
func_obj_p
,

45 
ecma_obje˘_t
 *
Àx_ív_p
,

47 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

48 
ecma_Àngth_t
 
¨gumíts_numbî
,

49 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
)

51 
boﬁ
 
is_°ri˘
 = (
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
) != 0;

53 
ecma_Àngth_t
 
f‹mÆ_∑øms_numbî
;

54 
jmem_˝oöãr_t
 *
lôîÆ_p
;

56 i‡(
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

58 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byãcode_d©a_p
;

59 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_d©a_p
;

61 
f‹mÆ_∑øms_numbî
 = 
¨gs_p
->
¨gumít_íd
;

62 
lôîÆ_p
 = (
jmem_˝oöãr_t
 *Ë(
byã_p
 +  (
cbc_uöt16_¨gumíts_t
));

66 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byãcode_d©a_p
;

67 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_d©a_p
;

69 
f‹mÆ_∑øms_numbî
 = 
¨gs_p
->
¨gumít_íd
;

70 
lôîÆ_p
 = (
jmem_˝oöãr_t
 *Ë(
byã_p
 +  (
cbc_uöt8_¨gumíts_t
));

73 
ecma_obje˘_t
 *
¥ŸŸy≥_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

75 
ecma_obje˘_t
 *
obj_p
;

77 i‡(!
is_°ri˘
 && 
¨gumíts_numbî
 > 0 && 
f‹mÆ_∑øms_numbî
 > 0)

79 
size_t
 
f‹mÆ_∑øms_size
 = 
f‹mÆ_∑øms_numbî
 *  (
jmem_˝oöãr_t
);

81 
obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_p
,

82  (
ecma_exãnded_obje˘_t
Ë+ 
f‹mÆ_∑øms_size
,

83 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
);

85 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

87 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 = 
ECMA_PSEUDO_ARRAY_ARGUMENTS
;

89 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
Àx_ív_˝
, 
Àx_ív_p
);

91 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
 = (
uöt16_t
Ë
f‹mÆ_∑øms_numbî
;

93 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

95 
	`mem˝y
 (
¨g_LôîÆ_p
, 
lôîÆ_p
, 
f‹mÆ_∑øms_size
);

97 
ecma_Àngth_t
 
i
 = 0; i < 
f‹mÆ_∑øms_numbî
; i++)

99 i‡(
¨g_LôîÆ_p
[
i
] !
JMEM_CP_NULL
)

101 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¨g_LôîÆ_p
[
i
]);

102 
	`ecma_ªf_ecma_°rög
 (
«me_p
);

108 
obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_p
,  (
ecma_exãnded_obje˘_t
), 
ECMA_OBJECT_TYPE_CLASS
);

110 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

111 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_ARGUMENTS_UL
;

114 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_p
);

116 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
;

119 
ecma_Àngth_t
 
ödx
 = 0;

120 
ödx
 < 
¨gumíts_numbî
;

121 
ödx
++)

123 
ecma_°rög_t
 *
ödx_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödx
);

125 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obj_p
,

126 
ödx_°rög_p
,

127 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
,

128 
NULL
);

130 
¥›_vÆue_p
->
vÆue
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
¨gumíts_li°_p
[
ödx
]);

132 
	`ecma_dîef_ecma_°rög
 (
ödx_°rög_p
);

136 
ecma_°rög_t
 *
Àngth_magic_°rög_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

138 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obj_p
,

139 
Àngth_magic_°rög_p
,

140 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
,

141 
NULL
);

143 
¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
¨gumíts_numbî
);

145 
	`ecma_dîef_ecma_°rög
 (
Àngth_magic_°rög_p
);

147 
ecma_¥›îty_des¸ùt‹_t
 
¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

150 i‡(!
is_°ri˘
)

152 
ecma_°rög_t
 *
ˇŒì_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CALLEE
);

154 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obj_p
,

155 
ˇŒì_magic_°rög_p
,

156 
ECMA_PROPERTY_CONFIGURABLE_WRITABLE
,

157 
NULL
);

159 
¥›_vÆue_p
->
vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
func_obj_p
);

161 
	`ecma_dîef_ecma_°rög
 (
ˇŒì_magic_°rög_p
);

165 
ecma_obje˘_t
 *
throwî_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_TYPE_ERROR_THROWER
);

168 
¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

170 
¥›_desc
.
is_gë_deföed
 = 
åue
;

171 
¥›_desc
.
gë_p
 = 
throwî_p
;

173 
¥›_desc
.
is_£t_deföed
 = 
åue
;

174 
¥›_desc
.
£t_p
 = 
throwî_p
;

176 
¥›_desc
.
is_íumîabÀ_deföed
 = 
åue
;

177 
¥›_desc
.
is_íumîabÀ
 = 
Ál£
;

179 
¥›_desc
.
is_c⁄figuøbÀ_deföed
 = 
åue
;

180 
¥›_desc
.
is_c⁄figuøbÀ
 = 
Ál£
;

183 
ecma_°rög_t
 *
ˇŒì_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CALLEE
);

185 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

186 
ˇŒì_magic_°rög_p
,

187 &
¥›_desc
,

188 
Ál£
);

190 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

191 
	`ecma_dîef_ecma_°rög
 (
ˇŒì_magic_°rög_p
);

193 
ecma_°rög_t
 *
ˇŒî_magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_CALLER
);

194 
com∂ëi⁄
 = 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
obj_p
,

195 
ˇŒî_magic_°rög_p
,

196 &
¥›_desc
,

197 
Ál£
);

198 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_åue
 (
com∂ëi⁄
));

199 
	`ecma_dîef_ecma_°rög
 (
ˇŒî_magic_°rög_p
);

201 
	`ecma_dîef_obje˘
 (
throwî_p
);

204 
ecma_°rög_t
 *
¨gumíts_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_ARGUMENTS
);

206 i‡(
is_°ri˘
)

208 
	`ecma_›_¸óã_immuèbÀ_bödög
 (
Àx_ív_p
,

209 
¨gumíts_°rög_p
,

210 
	`ecma_make_obje˘_vÆue
 (
obj_p
));

214 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_¸óã_muèbÀ_bödög
 (
Àx_ív_p
,

215 
¨gumíts_°rög_p
,

216 
Ál£
);

217 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
com∂ëi⁄
));

219 
com∂ëi⁄
 = 
	`ecma_›_£t_muèbÀ_bödög
 (
Àx_ív_p
,

220 
¨gumíts_°rög_p
,

221 
	`ecma_make_obje˘_vÆue
 (
obj_p
),

222 
Ál£
);

224 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
com∂ëi⁄
));

227 
	`ecma_dîef_ecma_°rög
 (
¨gumíts_°rög_p
);

228 
	`ecma_dîef_obje˘
 (
obj_p
);

229 
	}
}

241 
ecma_vÆue_t


242 
	$ecma_›_¨gumíts_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

243 
ecma_°rög_t
 *
¥›îty_«me_p
,

244 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
,

246 
boﬁ
 
is_throw
)

249 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
obje˘_p
,

250 
¥›îty_«me_p
,

251 
¥›îty_desc_p
,

252 
is_throw
);

254 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

256  
ªt_vÆue
;

259 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

261 i‡(
ödex
 =
ECMA_STRING_NOT_ARRAY_INDEX
)

263  
ªt_vÆue
;

266 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

268 i‡(
ödex
 >
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
)

270  
ªt_vÆue
;

273 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

275 i‡(
¨g_LôîÆ_p
[
ödex
] =
JMEM_CP_NULL
)

277  
ªt_vÆue
;

280 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¨g_LôîÆ_p
[
ödex
]);

282 i‡(
¥›îty_desc_p
->
is_gë_deföed


283 || 
¥›îty_desc_p
->
is_£t_deföed
)

285 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

286 
¨g_LôîÆ_p
[
ödex
] = 
JMEM_CP_NULL
;

290 i‡(
¥›îty_desc_p
->
is_vÆue_deföed
)

293 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

294 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
Àx_ív_˝
);

296 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_›_£t_muèbÀ_bödög
 (
Àx_ív_p
,

297 
«me_p
,

298 
¥›îty_desc_p
->
vÆue
,

299 
åue
);

301 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
com∂ëi⁄
));

304 i‡(
¥›îty_desc_p
->
is_wrôabÀ_deföed


305 && !
¥›îty_desc_p
->
is_wrôabÀ
)

307 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

308 
¨g_LôîÆ_p
[
ödex
] = 
JMEM_CP_NULL
;

312  
ªt_vÆue
;

313 
	}
}

325 
ecma_vÆue_t


326 
	$ecma_›_¨gumíts_obje˘_dñëe
 (
ecma_obje˘_t
 *
obje˘_p
,

327 
ecma_°rög_t
 *
¥›îty_«me_p
,

328 
boﬁ
 
is_throw
)

331 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_gíîÆ_obje˘_dñëe
 (
obje˘_p
, 
¥›îty_«me_p
, 
is_throw
);

333 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

335  
ªt_vÆue
;

338 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªt_vÆue
));

340 i‡(
	`ecma_is_vÆue_åue
 (
ªt_vÆue
))

342 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

344 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

346 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

348 i‡(
ödex
 < 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
)

350 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

352 i‡(
¨g_LôîÆ_p
[
ödex
] !
JMEM_CP_NULL
)

354 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
¨g_LôîÆ_p
[
ödex
]);

355 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

356 
¨g_LôîÆ_p
[
ödex
] = 
JMEM_CP_NULL
;

361 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

364  
ªt_vÆue
;

365 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-objects-arguments.h

16 #i‚de‡
ECMA_OBJECTS_ARGUMENTS_H


17 
	#ECMA_OBJECTS_ARGUMENTS_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

23 
ecma_›_¸óã_¨gumíts_obje˘
 (
ecma_obje˘_t
 *
func_obj_p
,Écma_obje˘_à*
Àx_ív_p
,

24 c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_numbî
,

25 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
);

27 
ecma_vÆue_t


28 
ecma_›_¨gumíts_obje˘_dñëe
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
, 
boﬁ
 
is_throw
);

29 
ecma_vÆue_t


30 
ecma_›_¨gumíts_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

31 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
, 
boﬁ
 
is_throw
);

	@deps/jerry/jerry-core/ecma/operations/ecma-objects-general.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-fun˘i⁄-obje˘.h
"

19 
	~"ecma-gc.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-hñ≥rs.h
"

22 
	~"ecma-obje˘s.h
"

23 
	~"ecma-obje˘s-gíîÆ.h
"

24 
	~"ecma-åy-ˇtch-ma¸o.h
"

39 
ecma_vÆue_t


40 
	$ecma_ªje˘
 (
boﬁ
 
is_throw
)

42 i‡(
is_throw
)

44  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidárgumentÅype."));

48  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

50 
	}
}

59 
ecma_obje˘_t
 *

60 
	$ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ()

62 
ecma_obje˘_t
 *
obje˘_¥ŸŸy≥_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

65 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg_™d_£t_¥ŸŸy≥
 (
obje˘_¥ŸŸy≥_p
);

67 
	`ecma_dîef_obje˘
 (
obje˘_¥ŸŸy≥_p
);

69  
obj_p
;

70 
	}
}

79 
ecma_vÆue_t


80 
	$ecma_›_¸óã_obje˘_obje˘_¨g
 (
ecma_vÆue_t
 
vÆue
)

82 
	`ecma_check_vÆue_ty≥_is_•ec_deföed
 (
vÆue
);

84 i‡(
	`ecma_is_vÆue_obje˘
 (
vÆue
)

85 || 
	`ecma_is_vÆue_numbî
 (
vÆue
)

86 || 
	`ecma_is_vÆue_°rög
 (
vÆue
)

87 || 
	`ecma_is_vÆue_boﬁón
 (
vÆue
))

90  
	`ecma_›_to_obje˘
 (
vÆue
);

95 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_undeföed
 (
vÆue
)

96 || 
	`ecma_is_vÆue_nuŒ
 (
vÆue
));

98 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

100  
	`ecma_make_obje˘_vÆue
 (
obj_p
);

102 
	}
}

112 
ecma_obje˘_t
 *

113 
	$ecma_›_¸óã_obje˘_obje˘_nﬂrg_™d_£t_¥ŸŸy≥
 (
ecma_obje˘_t
 *
obje˘_¥ŸŸy≥_p
)

117 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_¸óã_obje˘
 (
obje˘_¥ŸŸy≥_p
, 0, 
ECMA_OBJECT_TYPE_GENERAL
);

127  
obj_p
;

128 
	}
}

140 
ecma_vÆue_t


141 
	$ecma_›_gíîÆ_obje˘_dñëe
 (
ecma_obje˘_t
 *
obj_p
,

142 
ecma_°rög_t
 *
¥›îty_«me_p
,

143 
boﬁ
 
is_throw
)

145 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


146 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

147 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

150 
ecma_¥›îty_ªf_t
 
¥›îty_ªf
;

152 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obj_p
,

153 
¥›îty_«me_p
,

154 &
¥›îty_ªf
,

155 
ECMA_PROPERTY_GET_NO_OPTIONS
);

158 i‡(
¥›îty
 =
ECMA_PROPERTY_TYPE_NOT_FOUND
 ||Ör›îty =
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
)

160  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

164 i‡(
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
¥›îty
))

167 
	`ecma_dñëe_¥›îty
 (
obj_p
, 
¥›îty_ªf
.
vÆue_p
);

170  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

172 i‡(
is_throw
)

175  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá configurableÖroperty."));

180  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

183 
	`JERRY_UNREACHABLE
 ();

184 
	}
}

196 
ecma_vÆue_t


197 
	$ecma_›_gíîÆ_obje˘_deÁu…_vÆue
 (
ecma_obje˘_t
 *
obj_p
,

198 
ecma_¥e„ºed_ty≥_höt_t
 
höt
)

200 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


201 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

203 i‡(
höt
 =
ECMA_PREFERRED_TYPE_NO
)

205 i‡(
	`ecma_obje˘_˛ass_is
 (
obj_p
, 
LIT_MAGIC_STRING_DATE_UL
))

207 
höt
 = 
ECMA_PREFERRED_TYPE_STRING
;

211 
höt
 = 
ECMA_PREFERRED_TYPE_NUMBER
;

215 
uöt32_t
 
i
 = 1; i <= 2; i++)

217 
lô_magic_°rög_id_t
 
fun˘i⁄_«me_magic_°rög_id
;

219 i‡((
i
 =1 && 
höt
 =
ECMA_PREFERRED_TYPE_STRING
)

220 || (
i
 =2 && 
höt
 =
ECMA_PREFERRED_TYPE_NUMBER
))

222 
fun˘i⁄_«me_magic_°rög_id
 = 
LIT_MAGIC_STRING_TO_STRING_UL
;

226 
fun˘i⁄_«me_magic_°rög_id
 = 
LIT_MAGIC_STRING_VALUE_OF_UL
;

229 
ecma_°rög_t
 *
fun˘i⁄_«me_p
 = 
	`ecma_gë_magic_°rög
 (
fun˘i⁄_«me_magic_°rög_id
);

231 
ecma_vÆue_t
 
fun˘i⁄_vÆue_gë_com∂ëi⁄
 = 
	`ecma_›_obje˘_gë
 (
obj_p
, 
fun˘i⁄_«me_p
);

233 
	`ecma_dîef_ecma_°rög
 (
fun˘i⁄_«me_p
);

235 i‡(
	`ECMA_IS_VALUE_ERROR
 (
fun˘i⁄_vÆue_gë_com∂ëi⁄
))

237  
fun˘i⁄_vÆue_gë_com∂ëi⁄
;

240 
ecma_vÆue_t
 
ˇŒ_com∂ëi⁄
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

242 i‡(
	`ecma_›_is_ˇŒabÀ
 (
fun˘i⁄_vÆue_gë_com∂ëi⁄
))

244 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
fun˘i⁄_vÆue_gë_com∂ëi⁄
);

246 
ˇŒ_com∂ëi⁄
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
,

247 
	`ecma_make_obje˘_vÆue
 (
obj_p
),

248 
NULL
,

252 
	`ecma_‰ì_vÆue
 (
fun˘i⁄_vÆue_gë_com∂ëi⁄
);

254 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ˇŒ_com∂ëi⁄
)

255 || (!
	`ecma_is_vÆue_em±y
 (
ˇŒ_com∂ëi⁄
)

256 && !
	`ecma_is_vÆue_obje˘
 (
ˇŒ_com∂ëi⁄
)))

258  
ˇŒ_com∂ëi⁄
;

261 
	`ecma_‰ì_vÆue
 (
ˇŒ_com∂ëi⁄
);

264  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidárgumentÅype in [[DefaultValue]]."));

265 
	}
}

270 
	#ECMA_PROPERTY_TYPE_GENERIC
 
ECMA_PROPERTY_TYPE_SPECIAL


	)

282 
ecma_vÆue_t


283 
	$ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

284 
ecma_°rög_t
 *
¥›îty_«me_p
,

285 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
,

287 
boﬁ
 
is_throw
)

289 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL


290 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

291 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

293 
ecma_¥›îty_ty≥s_t
 
¥›îty_desc_ty≥
 = 
ECMA_PROPERTY_TYPE_GENERIC
;

295 i‡(
¥›îty_desc_p
->
is_vÆue_deföed


296 || 
¥›îty_desc_p
->
is_wrôabÀ_deföed
)

299 
	`JERRY_ASSERT
 (!
¥›îty_desc_p
->
is_gë_deföed


300 && !
¥›îty_desc_p
->
is_£t_deföed
);

301 
¥›îty_desc_ty≥
 = 
ECMA_PROPERTY_TYPE_NAMEDDATA
;

303 i‡(
¥›îty_desc_p
->
is_gë_deföed


304 || 
¥›îty_desc_p
->
is_£t_deföed
)

306 
¥›îty_desc_ty≥
 = 
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
;

311 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_c⁄figuøbÀ_deföed
 || !¥›îty_desc_p->
is_c⁄figuøbÀ
);

312 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_íumîabÀ_deföed
 || !¥›îty_desc_p->
is_íumîabÀ
);

313 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_wrôabÀ_deföed
 || !¥›îty_desc_p->
is_wrôabÀ
);

316 
ecma_exãnded_¥›îty_ªf_t
 
ext_¥›îty_ªf
 = { .
¥›îty_ªf
.
vÆue_p
 = 
NULL
, .
¥›îty_p
 = NULL };

317 
ecma_¥›îty_t
 
cuºít_¥›
;

319 
cuºít_¥›
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obje˘_p
,

320 
¥›îty_«me_p
,

321 &
ext_¥›îty_ªf
.
¥›îty_ªf
,

322 
ECMA_PROPERTY_GET_VALUE
 | 
ECMA_PROPERTY_GET_EXT_REFERENCE
);

324 i‡(
cuºít_¥›
 =
ECMA_PROPERTY_TYPE_NOT_FOUND
 || cuºít_¥› =
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
)

327 i‡(!
	`ecma_gë_obje˘_exãnsibÀ
 (
obje˘_p
))

330  
	`ecma_ªje˘
 (
is_throw
);

335 i‡(
¥›îty_desc_ty≥
 !
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

339 
	`JERRY_ASSERT
 (
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_GENERIC


340 || 
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA
);

342 
uöt8_t
 
¥›_©åibuãs
 = 0;

344 i‡(
¥›îty_desc_p
->
is_c⁄figuøbÀ
)

346 
¥›_©åibuãs
 = (
uöt8_t
Ë’r›_©åibuã†| 
ECMA_PROPERTY_FLAG_CONFIGURABLE
);

348 i‡(
¥›îty_desc_p
->
is_íumîabÀ
)

350 
¥›_©åibuãs
 = (
uöt8_t
Ë’r›_©åibuã†| 
ECMA_PROPERTY_FLAG_ENUMERABLE
);

352 i‡(
¥›îty_desc_p
->
is_wrôabÀ
)

354 
¥›_©åibuãs
 = (
uöt8_t
Ë’r›_©åibuã†| 
ECMA_PROPERTY_FLAG_WRITABLE
);

357 
ecma_¥›îty_vÆue_t
 *
√w_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

358 
¥›îty_«me_p
,

359 
¥›_©åibuãs
,

360 
NULL
);

362 
	`JERRY_ASSERT
 (
¥›îty_desc_p
->
is_vÆue_deföed


363 || 
	`ecma_is_vÆue_undeföed
 (
¥›îty_desc_p
->
vÆue
));

365 
√w_¥›_vÆue_p
->
vÆue
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
¥›îty_desc_p
->value);

371 
uöt8_t
 
¥›_©åibuãs
 = 0;

373 i‡(
¥›îty_desc_p
->
is_c⁄figuøbÀ
)

375 
¥›_©åibuãs
 = (
uöt8_t
Ë’r›_©åibuã†| 
ECMA_PROPERTY_FLAG_CONFIGURABLE
);

377 i‡(
¥›îty_desc_p
->
is_íumîabÀ
)

379 
¥›_©åibuãs
 = (
uöt8_t
Ë’r›_©åibuã†| 
ECMA_PROPERTY_FLAG_ENUMERABLE
);

382 
	`ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
obje˘_p
,

383 
¥›îty_«me_p
,

384 
¥›îty_desc_p
->
gë_p
,

385 
¥›îty_desc_p
->
£t_p
,

386 
¥›_©åibuãs
,

387 
NULL
);

390  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

394 
ecma_¥›îty_ty≥s_t
 
cuºít_¥›îty_ty≥
 = 
	`ECMA_PROPERTY_GET_TYPE
 (
cuºít_¥›
);

395 c⁄° 
boﬁ
 
is_cuºít_c⁄figuøbÀ
 = 
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
cuºít_¥›
);

397 
	`JERRY_ASSERT
 (
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA


398 || 
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDACCESSOR


399 || 
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_VIRTUAL
);

402 i‡(!
is_cuºít_c⁄figuøbÀ


403 && (
¥›îty_desc_p
->
is_c⁄figuøbÀ


404 || (
¥›îty_desc_p
->
is_íumîabÀ_deföed


405 && (
¥›îty_desc_p
->
is_íumîabÀ
 !
	`ecma_is_¥›îty_íumîabÀ
 (
cuºít_¥›
)))))

407 i‡(
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_VIRTUAL
)

409 
	`ecma_‰ì_vÆue
 (
ext_¥›îty_ªf
.
¥›îty_ªf
.
vútuÆ_vÆue
);

411  
	`ecma_ªje˘
 (
is_throw
);

414 i‡(
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_VIRTUAL
)

416 
	`JERRY_ASSERT
 (!
is_cuºít_c⁄figuøbÀ
 && !
	`ecma_is_¥›îty_wrôabÀ
 (
cuºít_¥›
));

418 
ecma_vÆue_t
 
ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

420 i‡(
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDACCESSOR


421 || 
¥›îty_desc_p
->
is_wrôabÀ


422 || (
¥›îty_desc_p
->
is_vÆue_deföed


423 && !
	`ecma_›_ßme_vÆue
 (
¥›îty_desc_p
->
vÆue
,

424 
ext_¥›îty_ªf
.
¥›îty_ªf
.
vútuÆ_vÆue
)))

426 
ªsu…
 = 
	`ecma_ªje˘
 (
is_throw
);

429 
	`ecma_‰ì_vÆue
 (
ext_¥›îty_ªf
.
¥›îty_ªf
.
vútuÆ_vÆue
);

430  
ªsu…
;

434 i‡(
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_GENERIC
)

438 i‡(
	`likñy
 (
¥›îty_desc_ty≥
 =
cuºít_¥›îty_ty≥
))

441 i‡(
	`u∆ikñy
 (!
is_cuºít_c⁄figuøbÀ
))

443 i‡(
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA
)

446 i‡(!
	`ecma_is_¥›îty_wrôabÀ
 (
cuºít_¥›
)

447 && (
¥›îty_desc_p
->
is_wrôabÀ


448 || (
¥›îty_desc_p
->
is_vÆue_deföed


449 && !
	`ecma_›_ßme_vÆue
 (
¥›îty_desc_p
->
vÆue
,

450 
ext_¥›îty_ªf
.
¥›îty_ªf
.
vÆue_p
->
vÆue
))))

452  
	`ecma_ªje˘
 (
is_throw
);

460 
ecma_¥›îty_vÆue_t
 *
vÆue_p
 = 
ext_¥›îty_ªf
.
¥›îty_ªf
.value_p;

462 i‡((
¥›îty_desc_p
->
is_gë_deföed


463 && 
¥›îty_desc_p
->
gë_p
 !
	`ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (
vÆue_p
))

464 || (
¥›îty_desc_p
->
is_£t_deföed


465 && 
¥›îty_desc_p
->
£t_p
 !
	`ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (
vÆue_p
)))

468  
	`ecma_ªje˘
 (
is_throw
);

476 i‡(!
is_cuºít_c⁄figuøbÀ
)

479  
	`ecma_ªje˘
 (
is_throw
);

482 
ecma_¥›îty_vÆue_t
 *
vÆue_p
 = 
ext_¥›îty_ªf
.
¥›îty_ªf
.value_p;

484 i‡(
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

486 
	`JERRY_ASSERT
 (
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA
);

487 
	`ecma_‰ì_vÆue_if_nŸ_obje˘
 (
vÆue_p
->
vÆue
);

489 #ifde‡
JERRY_CPOINTER_32_BIT


490 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

491 
gëãr_£âî_∑ú_p
 = 
	`jmem_poﬁs_Æloc
 ( (
ecma_gëãr_£âî_poöãrs_t
));

492 
gëãr_£âî_∑ú_p
->
gëãr_p
 = 
JMEM_CP_NULL
;

493 
gëãr_£âî_∑ú_p
->
£âî_p
 = 
JMEM_CP_NULL
;

494 
	`ECMA_SET_POINTER
 (
vÆue_p
->
gëãr_£âî_∑ú_˝
, 
gëãr_£âî_∑ú_p
);

496 
vÆue_p
->
gëãr_£âî_∑ú
.
gëãr_p
 = 
JMEM_CP_NULL
;

497 
vÆue_p
->
gëãr_£âî_∑ú
.
£âî_p
 = 
JMEM_CP_NULL
;

502 
	`JERRY_ASSERT
 (
cuºít_¥›îty_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

503 #ifde‡
JERRY_CPOINTER_32_BIT


504 
ecma_gëãr_£âî_poöãrs_t
 *
gëãr_£âî_∑ú_p
;

505 
gëãr_£âî_∑ú_p
 = 
	`ECMA_GET_POINTER
 (
ecma_gëãr_£âî_poöãrs_t
,

506 
vÆue_p
->
gëãr_£âî_∑ú_˝
);

507 
	`jmem_poﬁs_‰ì
 (
gëãr_£âî_∑ú_p
,  (
ecma_gëãr_£âî_poöãrs_t
));

509 
vÆue_p
->
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

513 
ecma_¥›îty_t
 
¥›_Êags
 = *(
ext_¥›îty_ªf
.
¥›îty_p
);

514 
¥›_Êags
 = (
ecma_¥›îty_t
Ë’r›_Êag†& ~(
ECMA_PROPERTY_TYPE_MASK
 | 
ECMA_PROPERTY_FLAG_WRITABLE
));

515 
¥›_Êags
 = (
ecma_¥›îty_t
Ë’r›_Êag†| 
¥›îty_desc_ty≥
);

516 *(
ext_¥›îty_ªf
.
¥›îty_p
Ë
¥›_Êags
;

520 i‡(
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA
)

522 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
ext_¥›îty_ªf
.
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
);

524 i‡(
¥›îty_desc_p
->
is_vÆue_deföed
)

526 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
obje˘_p
,

527 
ext_¥›îty_ªf
.
¥›îty_ªf
.
vÆue_p
,

528 
¥›îty_desc_p
->
vÆue
);

531 i‡(
¥›îty_desc_p
->
is_wrôabÀ_deföed
)

533 
	`ecma_£t_¥›îty_wrôabÀ_©å
 (
ext_¥›îty_ªf
.
¥›îty_p
, 
¥›îty_desc_p
->
is_wrôabÀ
);

536 i‡(
¥›îty_desc_ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

538 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
ext_¥›îty_ªf
.
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

540 i‡(
¥›îty_desc_p
->
is_gë_deföed
)

542 
	`ecma_£t_«med_ac˚ss‹_¥›îty_gëãr
 (
obje˘_p
,

543 
ext_¥›îty_ªf
.
¥›îty_ªf
.
vÆue_p
,

544 
¥›îty_desc_p
->
gë_p
);

547 i‡(
¥›îty_desc_p
->
is_£t_deföed
)

549 
	`ecma_£t_«med_ac˚ss‹_¥›îty_£âî
 (
obje˘_p
,

550 
ext_¥›îty_ªf
.
¥›îty_ªf
.
vÆue_p
,

551 
¥›îty_desc_p
->
£t_p
);

555 i‡(
¥›îty_desc_p
->
is_íumîabÀ_deföed
)

557 
	`ecma_£t_¥›îty_íumîabÀ_©å
 (
ext_¥›îty_ªf
.
¥›îty_p
, 
¥›îty_desc_p
->
is_íumîabÀ
);

560 i‡(
¥›îty_desc_p
->
is_c⁄figuøbÀ_deföed
)

562 
	`ecma_£t_¥›îty_c⁄figuøbÀ_©å
 (
ext_¥›îty_ªf
.
¥›îty_p
, 
¥›îty_desc_p
->
is_c⁄figuøbÀ
);

565  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

566 
	}
}

568 #unde‡
ECMA_PROPERTY_TYPE_GENERIC


	@deps/jerry/jerry-core/ecma/operations/ecma-objects-general.h

16 #i‚de‡
ECMA_OBJECTS_GENERAL_H


17 
	#ECMA_OBJECTS_GENERAL_H


	)

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-globÆs.h
"

29 
ecma_vÆue_t
 
ecma_ªje˘
 (
boﬁ
 
is_throw
);

30 
ecma_obje˘_t
 *
ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

31 
ecma_vÆue_t
 
ecma_›_¸óã_obje˘_obje˘_¨g
 (ecma_vÆue_à
vÆue
);

32 
ecma_obje˘_t
 *
ecma_›_¸óã_obje˘_obje˘_nﬂrg_™d_£t_¥ŸŸy≥
 (ecma_obje˘_à*
obje˘_¥ŸŸy≥_p
);

34 
ecma_vÆue_t
 
ecma_›_gíîÆ_obje˘_dñëe
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
, 
boﬁ
 
is_throw
);

35 
ecma_vÆue_t
 
ecma_›_gíîÆ_obje˘_deÁu…_vÆue
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_¥e„ºed_ty≥_höt_t
 
höt
);

36 
ecma_vÆue_t
 
ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

37 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
,

38 
boﬁ
 
is_throw
);

	@deps/jerry/jerry-core/ecma/operations/ecma-objects.c

16 
	~"ecma-¨øy-obje˘.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-fun˘i⁄-obje˘.h
"

23 
	~"ecma-lˇche.h
"

24 
	~"ecma-Àx-ív.h
"

25 
	~"ecma-°rög-obje˘.h
"

26 
	~"ecma-obje˘s-¨gumíts.h
"

27 
	~"ecma-obje˘s-gíîÆ.h
"

28 
	~"ecma-obje˘s.h
"

30 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


31 
	~"ecma-ty≥d¨øy-obje˘.h
"

44 
	#ECMA_OBJECT_HASH_BITMAP_SIZE
 256

	)

51 #i‚de‡
JERRY_NDEBUG


52 
	#JERRY_ASSERT_OBJECT_TYPE_IS_VALID
(
ty≥
) \

53 
	`JERRY_ASSERT
 (
ty≥
 =
ECMA_OBJECT_TYPE_GENERAL
 \

54 || 
ty≥
 =
ECMA_OBJECT_TYPE_CLASS
 \

55 || 
ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
 \

56 || 
ty≥
 =
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
 \

57 || 
ty≥
 =
ECMA_OBJECT_TYPE_ARRAY
 \

58 || 
ty≥
 =
ECMA_OBJECT_TYPE_BOUND_FUNCTION
 \

59 || 
ty≥
 =
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
);

	)

61 
	#JERRY_ASSERT_OBJECT_TYPE_IS_VALID
(
ty≥
)

	)

73 
ecma_¥›îty_t


74 
	$ecma_›_obje˘_gë_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

75 
ecma_°rög_t
 *
¥›îty_«me_p
,

76 
ecma_¥›îty_ªf_t
 *
¥›îty_ªf_p
,

77 
uöt32_t
 
›ti⁄s
)

79 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL


80 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

81 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

82 
	`JERRY_ASSERT
 (
›ti⁄s
 =
ECMA_PROPERTY_GET_NO_OPTIONS
 || 
¥›îty_ªf_p
 !
NULL
);

84 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

86 
ty≥
)

88 
ECMA_OBJECT_TYPE_CLASS
:

90 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

92 i‡(
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_STRING_UL
)

94 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

96 i‡(
›ti⁄s
 & 
ECMA_PROPERTY_GET_VALUE
)

98 
ecma_vÆue_t
 
¥im_vÆue_p
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

99 
ecma_°rög_t
 *
¥im_vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥im_vÆue_p
);

101 
ecma_Àngth_t
 
Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
¥im_vÆue_°r_p
);

102 
¥›îty_ªf_p
->
vútuÆ_vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
Àngth
);

105  
ECMA_PROPERTY_TYPE_VIRTUAL
;

108 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

110 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

112 
ecma_vÆue_t
 
¥im_vÆue_p
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

113 
ecma_°rög_t
 *
¥im_vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥im_vÆue_p
);

115 i‡(
ödex
 < 
	`ecma_°rög_gë_Àngth
 (
¥im_vÆue_°r_p
))

117 i‡(
›ti⁄s
 & 
ECMA_PROPERTY_GET_VALUE
)

119 
ecma_ch¨_t
 
ch¨_©_idx
 = 
	`ecma_°rög_gë_ch¨_©_pos
 (
¥im_vÆue_°r_p
, 
ödex
);

120 
ecma_°rög_t
 *
ch¨_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_code_unô
 (
ch¨_©_idx
);

121 
¥›îty_ªf_p
->
vútuÆ_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ch¨_°r_p
);

124  
ECMA_PROPERTY_FLAG_ENUMERABLE
 | 
ECMA_PROPERTY_TYPE_VIRTUAL
;

130 
ECMA_OBJECT_TYPE_ARRAY
:

132 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

134 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

136 i‡(
›ti⁄s
 & 
ECMA_PROPERTY_GET_VALUE
)

138 
¥›îty_ªf_p
->
vútuÆ_vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth
);

141  
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
;

145 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


146 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

149 i‡(
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obje˘_p
)))

151 i‡(
	`ECMA_STRING_GET_CONTAINER
 (
¥›îty_«me_p
Ë=
ECMA_STRING_CONTAINER_UINT32_IN_DESC
)

153 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obje˘_p
, 
¥›îty_«me_p
->
u
.
uöt32_numbî
);

155 i‡(!
	`ecma_is_vÆue_undeföed
 (
vÆue
))

157 i‡(
›ti⁄s
 & 
ECMA_PROPERTY_GET_VALUE
)

159 
¥›îty_ªf_p
->
vútuÆ_vÆue
 = 
vÆue
;

163 
	`ecma_Á°_‰ì_vÆue
 (
vÆue
);

166  
ECMA_PROPERTY_ENUMERABLE_WRITABLE
 | 
ECMA_PROPERTY_TYPE_VIRTUAL
;

169  
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
;

172 
ecma_numbî_t
 
num
 = 
	`ecma_°rög_to_numbî
 (
¥›îty_«me_p
);

173 
ecma_°rög_t
 *
num_to_°r
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
num
);

175 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
¥›îty_«me_p
, 
num_to_°r
))

177 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

179  
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
;

182 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

194 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

196 i‡(
¥›îty_p
 =
NULL
)

198 i‡(
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
))

200 
¥›îty_p
 = 
	`ecma_buûtö_åy_to_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

202 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
)

204 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

206 i‡(
›ti⁄s
 & 
ECMA_PROPERTY_GET_VALUE
)

209 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

211 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

212 
byãcode_d©a_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (c⁄° 
ecma_compûed_code_t
,

213 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
);

215 
uöt32_t
 
Àn
;

216 i‡(
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

218 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byãcode_d©a_p
;

219 
Àn
 = 
¨gs_p
->
¨gumít_íd
;

223 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byãcode_d©a_p
;

224 
Àn
 = 
¨gs_p
->
¨gumít_íd
;

227 
¥›îty_ªf_p
->
vútuÆ_vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
Àn
);

230  
ECMA_PROPERTY_TYPE_VIRTUAL
;

234 
¥›îty_p
 = 
	`ecma_›_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

236 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

238 
¥›îty_p
 = 
	`ecma_›_exã∫Æ_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

240 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_BOUND_FUNCTION
)

242 
¥›îty_p
 = 
	`ecma_›_bound_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

245 i‡(
¥›îty_p
 =
NULL
)

247  
ECMA_PROPERTY_TYPE_NOT_FOUND
;

250 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_PSEUDO_ARRAY


251 && 
¥›îty_ªf_p
 !
NULL
)

253 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

255 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_ARGUMENTS
)

257 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

259 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

261 i‡(
ödex
 < 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
)

263 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

265 i‡(
¨g_LôîÆ_p
[
ödex
] !
JMEM_CP_NULL
)

267 
ecma_°rög_t
 *
¨g_«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

268 
¨g_LôîÆ_p
[
ödex
]);

270 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

271 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
Àx_ív_˝
);

273 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


274 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

276 
ecma_vÆue_t
 
bödög_vÆue
 = 
	`ecma_›_gë_bödög_vÆue
 (
Àx_ív_p
, 
¨g_«me_p
, 
åue
);

278 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
obje˘_p
,

279 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
),

280 
bödög_vÆue
);

281 
	`ecma_‰ì_vÆue
 (
bödög_vÆue
);

288 i‡(
›ti⁄s
 & 
ECMA_PROPERTY_GET_EXT_REFERENCE
)

290 ((
ecma_exãnded_¥›îty_ªf_t
 *Ë
¥›îty_ªf_p
)->
¥›îty_p
 =Öroperty_p;

293 i‡(
¥›îty_ªf_p
 !
NULL
)

295 
¥›îty_ªf_p
->
vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

298  *
¥›îty_p
;

299 
	}
}

310 
ecma_¥›îty_t


311 
	$ecma_›_obje˘_gë_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

312 
ecma_°rög_t
 *
¥›îty_«me_p
,

313 
ecma_¥›îty_ªf_t
 *
¥›îty_ªf_p
,

314 
uöt32_t
 
›ti⁄s
)

317 
max_dïth
 = 
ECMA_PROPERTY_SEARCH_DEPTH_LIMIT
;

321 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obje˘_p
,

322 
¥›îty_«me_p
,

323 
¥›îty_ªf_p
,

324 
›ti⁄s
);

326 i‡(
¥›îty
 !
ECMA_PROPERTY_TYPE_NOT_FOUND
 &&Ör›îty !
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
)

328  
¥›îty
;

331 i‡(--
max_dïth
 =0 || 
¥›îty
 =
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
)

336 
obje˘_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (object_p);

338 
obje˘_p
 !
NULL
);

340  
ECMA_PROPERTY_TYPE_NOT_FOUND
;

341 
	}
}

349 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


350 
	$ecma_›_obje˘_has_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

351 
ecma_°rög_t
 *
¥›îty_«me_p
)

353 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obje˘_p
,

354 
¥›îty_«me_p
,

355 
NULL
,

356 
ECMA_PROPERTY_GET_NO_OPTIONS
);

358  
¥›îty
 !
ECMA_PROPERTY_TYPE_NOT_FOUND
 &&Ör›îty !
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
;

359 
	}
}

367 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


368 
	$ecma_›_obje˘_has_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
,

369 
ecma_°rög_t
 *
¥›îty_«me_p
)

371 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_¥›îty
 (
obje˘_p
,

372 
¥›îty_«me_p
,

373 
NULL
,

374 
ECMA_PROPERTY_GET_NO_OPTIONS
);

375  
¥›îty
 !
ECMA_PROPERTY_TYPE_NOT_FOUND
;

376 
	}
}

387 
ecma_vÆue_t


388 
	$ecma_›_obje˘_föd_own
 (
ecma_vÆue_t
 
ba£_vÆue
,

389 
ecma_obje˘_t
 *
obje˘_p
,

390 
ecma_°rög_t
 *
¥›îty_«me_p
)

392 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL


393 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

394 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

396 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

398 
ty≥
)

400 
ECMA_OBJECT_TYPE_CLASS
:

402 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

404 i‡(
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_STRING_UL
)

406 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

408 
ecma_vÆue_t
 
¥im_vÆue_p
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

410 
ecma_°rög_t
 *
¥im_vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥im_vÆue_p
);

411 
ecma_Àngth_t
 
Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
¥im_vÆue_°r_p
);

413  
	`ecma_make_uöt32_vÆue
 (
Àngth
);

416 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

418 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

420 
ecma_vÆue_t
 
¥im_vÆue_p
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

422 
ecma_°rög_t
 *
¥im_vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥im_vÆue_p
);

424 i‡(
ödex
 < 
	`ecma_°rög_gë_Àngth
 (
¥im_vÆue_°r_p
))

426 
ecma_ch¨_t
 
ch¨_©_idx
 = 
	`ecma_°rög_gë_ch¨_©_pos
 (
¥im_vÆue_°r_p
, 
ödex
);

427  
	`ecma_make_°rög_vÆue
 (
	`ecma_√w_ecma_°rög_‰om_code_unô
 (
ch¨_©_idx
));

434 
ECMA_OBJECT_TYPE_ARRAY
:

436 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

438 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

440  
	`ecma_make_uöt32_vÆue
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth
);

444 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

446 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

448 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_ARGUMENTS
)

450 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

452 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

454 i‡(
ödex
 < 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
)

456 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

458 i‡(
¨g_LôîÆ_p
[
ödex
] !
JMEM_CP_NULL
)

460 
ecma_°rög_t
 *
¨g_«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

461 
¨g_LôîÆ_p
[
ödex
]);

463 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

464 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
Àx_ív_˝
);

466 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


467 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

469  
	`ecma_›_gë_bödög_vÆue
 (
Àx_ív_p
, 
¨g_«me_p
, 
åue
);

474 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


476 i‡(
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obje˘_p
)))

478 i‡(
	`ECMA_STRING_GET_CONTAINER
 (
¥›îty_«me_p
Ë=
ECMA_STRING_CONTAINER_UINT32_IN_DESC
)

480  
	`ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
obje˘_p
, 
¥›îty_«me_p
->
u
.
uöt32_numbî
);

483 
ecma_numbî_t
 
num
 = 
	`ecma_°rög_to_numbî
 (
¥›îty_«me_p
);

484 
ecma_°rög_t
 *
num_to_°r
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
num
);

486 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
¥›îty_«me_p
, 
num_to_°r
))

488 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

490  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

493 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

505 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

507 i‡(
¥›îty_p
 =
NULL
)

509 i‡(
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
))

511 
¥›îty_p
 = 
	`ecma_buûtö_åy_to_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

513 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
)

515 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

518 
ecma_exãnded_obje˘_t
 *
ext_func_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

520 c⁄° 
ecma_compûed_code_t
 *
byãcode_d©a_p
;

521 
byãcode_d©a_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (c⁄° 
ecma_compûed_code_t
,

522 
ext_func_p
->
u
.
fun˘i⁄
.
byãcode_˝
);

524 
uöt32_t
 
Àn
;

525 i‡(
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

527 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byãcode_d©a_p
;

528 
Àn
 = 
¨gs_p
->
¨gumít_íd
;

532 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byãcode_d©a_p
;

533 
Àn
 = 
¨gs_p
->
¨gumít_íd
;

536  
	`ecma_make_uöt32_vÆue
 (
Àn
);

540 
¥›îty_p
 = 
	`ecma_›_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

542 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

544 
¥›îty_p
 = 
	`ecma_›_exã∫Æ_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

546 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_BOUND_FUNCTION
)

548 
¥›îty_p
 = 
	`ecma_›_bound_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

551 i‡(
¥›îty_p
 =
NULL
)

553  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NOT_FOUND
);

557 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

559 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
)

561  
	`ecma_Á°_c›y_vÆue
 (
¥›_vÆue_p
->
vÆue
);

564 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

566 
ecma_obje˘_t
 *
gëãr_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (
¥›_vÆue_p
);

568 i‡(
gëãr_p
 =
NULL
)

570  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

573  
	`ecma_›_fun˘i⁄_ˇŒ
 (
gëãr_p
, 
ba£_vÆue
, 
NULL
, 0);

574 
	}
}

585 
ecma_vÆue_t


586 
	$ecma_›_obje˘_föd
 (
ecma_obje˘_t
 *
obje˘_p
,

587 
ecma_°rög_t
 *
¥›îty_«me_p
)

590 
max_dïth
 = 
ECMA_PROPERTY_SEARCH_DEPTH_LIMIT
;

592 
ecma_vÆue_t
 
ba£_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

595 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_obje˘_föd_own
 (
ba£_vÆue
, 
obje˘_p
, 
¥›îty_«me_p
);

597 i‡(
	`ecma_is_vÆue_found
 (
vÆue
))

599  
vÆue
;

602 i‡(--
max_dïth
 == 0)

607 
obje˘_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (object_p);

609 
obje˘_p
 !
NULL
);

611  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NOT_FOUND
);

612 
	}
}

622 
ölöe
 
ecma_vÆue_t
 
__©å_Æways_ölöe___


623 
	$ecma_›_obje˘_gë_own_d©a_¥›
 (
ecma_obje˘_t
 *
obje˘_p
,

624 
ecma_°rög_t
 *
¥›îty_«me_p
)

626 
ecma_vÆue_t
 
ªsu…
 = 
	`ecma_›_obje˘_föd_own
 (
	`ecma_make_obje˘_vÆue
 (
obje˘_p
),

627 
obje˘_p
,

628 
¥›îty_«me_p
);

630 #i‚de‡
JERRY_NDEBUG


633 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obje˘_p
,

634 
¥›îty_«me_p
);

636 
	`JERRY_ASSERT
 (
¥›îty_p
 !
NULL


637 && 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


638 && !
	`ecma_is_¥›îty_c⁄figuøbÀ
 (*
¥›îty_p
));

641  
ªsu…
;

642 
	}
}

653 
ecma_vÆue_t


654 
	$ecma_›_obje˘_gë
 (
ecma_obje˘_t
 *
obje˘_p
,

655 
ecma_°rög_t
 *
¥›îty_«me_p
)

658 
max_dïth
 = 
ECMA_PROPERTY_SEARCH_DEPTH_LIMIT
;

660 
ecma_vÆue_t
 
ba£_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

663 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_›_obje˘_föd_own
 (
ba£_vÆue
, 
obje˘_p
, 
¥›îty_«me_p
);

665 i‡(
	`ecma_is_vÆue_found
 (
vÆue
))

667  
vÆue
;

670 i‡(--
max_dïth
 == 0)

675 
obje˘_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (object_p);

677 
obje˘_p
 !
NULL
);

679  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

680 
	}
}

700 
ecma_vÆue_t


701 
	$ecma_›_obje˘_put
 (
ecma_obje˘_t
 *
obje˘_p
,

702 
ecma_°rög_t
 *
¥›îty_«me_p
,

703 
ecma_vÆue_t
 
vÆue
,

704 
boﬁ
 
is_throw
)

706 
	`JERRY_ASSERT
 (
obje˘_p
 !
NULL


707 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
));

708 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

710 
ecma_obje˘_t
 *
£âî_p
 = 
NULL
;

711 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

713 
ty≥
)

715 
ECMA_OBJECT_TYPE_ARRAY
:

717 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

719 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

721 i‡(
	`ecma_is_¥›îty_wrôabÀ
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
))

723  
	`ecma_›_¨øy_obje˘_£t_Àngth
 (
obje˘_p
, 
vÆue
, 0);

726  
	`ecma_ªje˘
 (
is_throw
);

730 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

732 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

734 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_ARGUMENTS
)

736 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

738 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

740 i‡(
ödex
 < 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
Àngth
)

742 
jmem_˝oöãr_t
 *
¨g_LôîÆ_p
 = (jmem_˝oöãr_à*Ë(
ext_obje˘_p
 + 1);

744 i‡(
¨g_LôîÆ_p
[
ödex
] !
JMEM_CP_NULL
)

746 
ecma_°rög_t
 *
¨g_«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

747 
¨g_LôîÆ_p
[
ödex
]);

749 
ecma_obje˘_t
 *
Àx_ív_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (ecma_object_t,

750 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
Àx_ív_˝
);

752 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL


753 && 
	`ecma_is_Àxiˇl_ívú⁄mít
 (
Àx_ív_p
));

755 
	`ecma_›_£t_muèbÀ_bödög
 (
Àx_ív_p
, 
¨g_«me_p
, 
vÆue
, 
åue
);

756  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

761 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


763 i‡(
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obje˘_p
)))

765 i‡(
	`ECMA_STRING_GET_CONTAINER
 (
¥›îty_«me_p
Ë=
ECMA_STRING_CONTAINER_UINT32_IN_DESC
)

767 
boﬁ
 
£t_°©us
 = 
	`ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
obje˘_p
, 
¥›îty_«me_p
->
u
.
uöt32_numbî
, 
vÆue
);

769 i‡(
£t_°©us
)

771  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

774  
	`ecma_ªje˘
 (
is_throw
);

777 
ecma_numbî_t
 
num
 = 
	`ecma_°rög_to_numbî
 (
¥›îty_«me_p
);

778 
ecma_°rög_t
 *
num_to_°r
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
num
);

780 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
¥›îty_«me_p
, 
num_to_°r
))

782 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

784  
	`ecma_ªje˘
 (
is_throw
);

787 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

798 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

800 i‡(
¥›îty_p
 =
NULL
)

802 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_CLASS
)

804 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

806 i‡(
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_STRING_UL
)

808 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

810 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

812 
ecma_vÆue_t
 
¥im_vÆue_p
 = 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
;

813 
ecma_°rög_t
 *
¥im_vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥im_vÆue_p
);

815 i‡(
ödex
 < 
	`ecma_°rög_gë_Àngth
 (
¥im_vÆue_°r_p
))

817  
	`ecma_ªje˘
 (
is_throw
);

823 i‡(
	`ecma_gë_obje˘_is_buûtö
 (
obje˘_p
))

825 
¥›îty_p
 = 
	`ecma_buûtö_åy_to_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

827 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_FUNCTION
)

829 i‡(
	`ecma_°rög_is_Àngth
 (
¥›îty_«me_p
))

831  
	`ecma_ªje˘
 (
is_throw
);

835 
¥›îty_p
 = 
	`ecma_›_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

837 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
)

839 
¥›îty_p
 = 
	`ecma_›_exã∫Æ_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

841 i‡(
ty≥
 =
ECMA_OBJECT_TYPE_BOUND_FUNCTION
)

843 
¥›îty_p
 = 
	`ecma_›_bound_fun˘i⁄_åy_to_œzy_ö°™tüã_¥›îty
 (
obje˘_p
, 
¥›îty_«me_p
);

847 i‡(
¥›îty_p
 !
NULL
)

849 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
)

851 i‡(
	`ecma_is_¥›îty_wrôabÀ
 (*
¥›îty_p
))

855 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
obje˘_p
,

856 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
),

857 
vÆue
);

858  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

863 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

865 
£âî_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
));

870 
ecma_obje˘_t
 *
¥Ÿo_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (
obje˘_p
);

871 
boﬁ
 
¸óã_√w_¥›îty
 = 
åue
;

873 i‡(
¥Ÿo_p
 !
NULL
)

875 
ecma_¥›îty_ªf_t
 
¥›îty_ªf
 = { 
NULL
 };

877 
ecma_¥›îty_t
 
öhîôed_¥›îty
 = 
	`ecma_›_obje˘_gë_¥›îty
 (
¥Ÿo_p
,

878 
¥›îty_«me_p
,

879 &
¥›îty_ªf
,

880 
ECMA_PROPERTY_GET_NO_OPTIONS
);

882 i‡(
öhîôed_¥›îty
 !
ECMA_PROPERTY_TYPE_NOT_FOUND
)

884 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (
öhîôed_¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

886 
£âî_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (
¥›îty_ªf
.
vÆue_p
);

887 
¸óã_√w_¥›îty
 = 
Ál£
;

891 
¸óã_√w_¥›îty
 = 
	`ecma_is_¥›îty_wrôabÀ
 (
öhîôed_¥›îty
);

896 i‡(
¸óã_√w_¥›îty


897 && 
	`ecma_gë_obje˘_exãnsibÀ
 (
obje˘_p
))

899 c⁄° 
ecma_obje˘_ty≥_t
 
obj_ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
);

901 i‡(
obj_ty≥
 =
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
)

903 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

905 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_ARGUMENTS
)

907  
	`ecma_buûtö_hñ≥r_def_¥›
 (
obje˘_p
,

908 
¥›îty_«me_p
,

909 
vÆue
,

910 
åue
,

911 
åue
,

912 
åue
,

913 
is_throw
);

917 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
¥›îty_«me_p
);

919 i‡(
obj_ty≥
 =
ECMA_OBJECT_TYPE_ARRAY


920 && 
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

922 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

924 i‡(
ödex
 < 
UINT32_MAX


925 && 
ödex
 >
ext_obje˘_p
->
u
.
¨øy
.
Àngth
)

927 i‡(!
	`ecma_is_¥›îty_wrôabÀ
 (
ext_obje˘_p
->
u
.
¨øy
.
Àngth_¥›
))

929  
	`ecma_ªje˘
 (
is_throw
);

932 
ext_obje˘_p
->
u
.
¨øy
.
Àngth
 = 
ödex
 + 1;

936 
ecma_¥›îty_vÆue_t
 *
√w_¥›_vÆue_p
;

937 
√w_¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

938 
¥›îty_«me_p
,

939 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
,

940 
NULL
);

942 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_undeföed
 (
√w_¥›_vÆue_p
->
vÆue
));

943 
√w_¥›_vÆue_p
->
vÆue
 = 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (value);

944  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

948 i‡(
£âî_p
 =
NULL
)

950  
	`ecma_ªje˘
 (
is_throw
);

953 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
£âî_p
,

954 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
),

955 &
vÆue
,

958 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

960 
	`ecma_Á°_‰ì_vÆue
 (
ªt_vÆue
);

961 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

964  
ªt_vÆue
;

965 
	}
}

979 
ecma_vÆue_t


980 
	$ecma_›_obje˘_dñëe
 (
ecma_obje˘_t
 *
obj_p
,

981 
ecma_°rög_t
 *
¥›îty_«me_p
,

982 
boﬁ
 
is_throw
)

984 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


985 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

986 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

988 c⁄° 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obj_p
);

990 
ty≥
)

992 
ECMA_OBJECT_TYPE_GENERAL
:

993 
ECMA_OBJECT_TYPE_CLASS
:

994 
ECMA_OBJECT_TYPE_FUNCTION
:

995 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
:

996 
ECMA_OBJECT_TYPE_ARRAY
:

997 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
:

999  
	`ecma_›_gíîÆ_obje˘_dñëe
 (
obj_p
,

1000 
¥›îty_«me_p
,

1001 
is_throw
);

1004 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

1006 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

1008 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_ARGUMENTS
)

1010  
	`ecma_›_¨gumíts_obje˘_dñëe
 (
obj_p
,

1011 
¥›îty_«me_p
,

1012 
is_throw
);

1016  
	`ecma_›_gíîÆ_obje˘_dñëe
 (
obj_p
,

1017 
¥›îty_«me_p
,

1018 
is_throw
);

1025 
	`JERRY_ASSERT
 (
Ál£
);

1027  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

1030 
	}
}

1041 
ecma_vÆue_t


1042 
	$ecma_›_obje˘_deÁu…_vÆue
 (
ecma_obje˘_t
 *
obj_p
,

1043 
ecma_¥e„ºed_ty≥_höt_t
 
höt
)

1045 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


1046 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

1048 
	`JERRY_ASSERT_OBJECT_TYPE_IS_VALID
 (
	`ecma_gë_obje˘_ty≥
 (
obj_p
));

1066  
	`ecma_›_gíîÆ_obje˘_deÁu…_vÆue
 (
obj_p
, 
höt
);

1067 
	}
}

1078 
ecma_vÆue_t


1079 
	$ecma_›_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obj_p
,

1080 
ecma_°rög_t
 *
¥›îty_«me_p
,

1081 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
,

1083 
boﬁ
 
is_throw
)

1085 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


1086 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

1087 
	`JERRY_ASSERT
 (
¥›îty_«me_p
 !
NULL
);

1089 c⁄° 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obj_p
);

1091 
ty≥
)

1093 
ECMA_OBJECT_TYPE_GENERAL
:

1094 
ECMA_OBJECT_TYPE_CLASS
:

1095 
ECMA_OBJECT_TYPE_FUNCTION
:

1096 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
:

1097 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
:

1099  
	`ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
obj_p
,

1100 
¥›îty_«me_p
,

1101 
¥›îty_desc_p
,

1102 
is_throw
);

1105 
ECMA_OBJECT_TYPE_ARRAY
:

1107  
	`ecma_›_¨øy_obje˘_deföe_own_¥›îty
 (
obj_p
,

1108 
¥›îty_«me_p
,

1109 
¥›îty_desc_p
,

1110 
is_throw
);

1113 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

1115 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

1117 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_ARGUMENTS
)

1119  
	`ecma_›_¨gumíts_obje˘_deföe_own_¥›îty
 (
obj_p
,

1120 
¥›îty_«me_p
,

1121 
¥›îty_desc_p
,

1122 
is_throw
);

1124 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


1126 i‡(
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)))

1128 i‡(
	`ECMA_STRING_GET_CONTAINER
 (
¥›îty_«me_p
Ë=
ECMA_STRING_CONTAINER_UINT32_IN_DESC
)

1130 
boﬁ
 
deföe_°©us
 = 
	`ecma_›_ty≥d¨øy_deföe_ödex_¥›
 (
obj_p
,

1131 
¥›îty_«me_p
->
u
.
uöt32_numbî
,

1132 
¥›îty_desc_p
);

1134 i‡(
deföe_°©us
)

1136  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

1139  
	`ecma_ªje˘
 (
is_throw
);

1142 
ecma_numbî_t
 
num
 = 
	`ecma_°rög_to_numbî
 (
¥›îty_«me_p
);

1143 
ecma_°rög_t
 *
num_to_°r
 = 
	`ecma_√w_ecma_°rög_‰om_numbî
 (
num
);

1145 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
¥›îty_«me_p
, 
num_to_°r
))

1147 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

1149  
	`ecma_ªje˘
 (
is_throw
);

1152 
	`ecma_dîef_ecma_°rög
 (
num_to_°r
);

1155  
	`ecma_›_gíîÆ_obje˘_deföe_own_¥›îty
 (
obj_p
,

1156 
¥›îty_«me_p
,

1157 
¥›îty_desc_p
,

1158 
is_throw
);

1165 
	`JERRY_ASSERT
 (
Ál£
);

1169 
	`JERRY_UNREACHABLE
 ();

1171  
	`ecma_ªje˘
 (
is_throw
);

1172 
	}
}

1187 
boﬁ


1188 
	$ecma_›_obje˘_gë_own_¥›îty_des¸ùt‹
 (
ecma_obje˘_t
 *
obje˘_p
,

1189 
ecma_°rög_t
 *
¥›îty_«me_p
,

1190 
ecma_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
)

1192 
ecma_¥›îty_ªf_t
 
¥›îty_ªf
;

1194 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
obje˘_p
,

1195 
¥›îty_«me_p
,

1196 &
¥›îty_ªf
,

1197 
ECMA_PROPERTY_GET_VALUE
);

1199 i‡(
¥›îty
 =
ECMA_PROPERTY_TYPE_NOT_FOUND
 ||Ör›îty =
ECMA_PROPERTY_TYPE_NOT_FOUND_AND_STOP
)

1201  
Ál£
;

1204 *
¥›_desc_p
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

1206 
¥›_desc_p
->
is_íumîabÀ
 = 
	`ecma_is_¥›îty_íumîabÀ
 (
¥›îty
);

1207 
¥›_desc_p
->
is_íumîabÀ_deföed
 = 
åue
;

1208 
¥›_desc_p
->
is_c⁄figuøbÀ
 = 
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
¥›îty
);

1209 
¥›_desc_p
->
is_c⁄figuøbÀ_deföed
 = 
åue
;

1211 
ecma_¥›îty_ty≥s_t
 
ty≥
 = 
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
);

1213 i‡(
ty≥
 !
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

1215 i‡(
ty≥
 =
ECMA_PROPERTY_TYPE_NAMEDDATA
)

1217 
¥›_desc_p
->
vÆue
 = 
	`ecma_c›y_vÆue
 (
¥›îty_ªf
.
vÆue_p
->value);

1221 
	`JERRY_ASSERT
 (
ty≥
 =
ECMA_PROPERTY_TYPE_VIRTUAL
);

1222 
¥›_desc_p
->
vÆue
 = 
¥›îty_ªf
.
vútuÆ_vÆue
;

1225 
¥›_desc_p
->
is_vÆue_deföed
 = 
åue
;

1226 
¥›_desc_p
->
is_wrôabÀ
 = 
	`ecma_is_¥›îty_wrôabÀ
 (
¥›îty
);

1227 
¥›_desc_p
->
is_wrôabÀ_deföed
 = 
åue
;

1231 
¥›_desc_p
->
gë_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (
¥›îty_ªf
.
vÆue_p
);

1232 
¥›_desc_p
->
is_gë_deföed
 = 
åue
;

1234 i‡(
¥›_desc_p
->
gë_p
 !
NULL
)

1236 
	`ecma_ªf_obje˘
 (
¥›_desc_p
->
gë_p
);

1239 
¥›_desc_p
->
£t_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_£âî
 (
¥›îty_ªf
.
vÆue_p
);

1240 
¥›_desc_p
->
is_£t_deföed
 = 
åue
;

1242 i‡(
¥›_desc_p
->
£t_p
 !
NULL
)

1244 
	`ecma_ªf_obje˘
 (
¥›_desc_p
->
£t_p
);

1248  
åue
;

1249 
	}
}

1257 
ecma_vÆue_t


1258 
	$ecma_›_obje˘_has_ö°™˚
 (
ecma_obje˘_t
 *
obj_p
,

1259 
ecma_vÆue_t
 
vÆue
)

1261 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


1262 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

1264 c⁄° 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obj_p
);

1266 
ty≥
)

1268 
ECMA_OBJECT_TYPE_GENERAL
:

1269 
ECMA_OBJECT_TYPE_CLASS
:

1270 
ECMA_OBJECT_TYPE_ARRAY
:

1271 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

1273  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá function object."));

1276 
ECMA_OBJECT_TYPE_FUNCTION
:

1277 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
:

1278 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
:

1280  
	`ecma_›_fun˘i⁄_has_ö°™˚
 (
obj_p
, 
vÆue
);

1285 
	`JERRY_UNREACHABLE
 ();

1289 
	}
}

1300 
boﬁ


1301 
	$ecma_›_obje˘_is_¥ŸŸy≥_of
 (
ecma_obje˘_t
 *
ba£_p
,

1302 
ecma_obje˘_t
 *
èrgë_p
)

1306 
èrgë_p
 = 
	`ecma_gë_obje˘_¥ŸŸy≥
 (target_p);

1307 i‡(
èrgë_p
 =
NULL
)

1309  
Ál£
;

1311 i‡(
èrgë_p
 =
ba£_p
)

1313  
åue
;

1315 } 
åue
);

1316 
	}
}

1332 
ecma_cﬁÀ˘i⁄_hódî_t
 *

1333 
	$ecma_›_obje˘_gë_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
,

1334 
boﬁ
 
is_¨øy_ödi˚s_⁄ly
,

1336 
boﬁ
 
is_íumîabÀ_⁄ly
,

1337 
boﬁ
 
is_wôh_¥ŸŸy≥_chaö
)

1340 
	`JERRY_ASSERT
 (
obj_p
 !
NULL


1341 && !
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

1343 
ecma_cﬁÀ˘i⁄_hódî_t
 *
ªt_p
 = 
	`ecma_√w_°rögs_cﬁÀ˘i⁄
 (
NULL
, 0);

1344 
ecma_cﬁÀ˘i⁄_hódî_t
 *
skù≥d_n⁄_íumîabÀ_p
 = 
	`ecma_√w_°rögs_cﬁÀ˘i⁄
 (
NULL
, 0);

1346 c⁄° 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obj_p
);

1347 c⁄° 
boﬁ
 
obj_is_buûtö
 = 
	`ecma_gë_obje˘_is_buûtö
 (
obj_p
);

1349 c⁄° 
size_t
 
bôm≠_row_size
 =  (
uöt32_t
Ë* 
JERRY_BITSINBYTE
;

1350 
uöt32_t
 
«mes_hashes_bôm≠
[
ECMA_OBJECT_HASH_BITMAP_SIZE
 / 
bôm≠_row_size
];

1352 
	`mem£t
 (
«mes_hashes_bôm≠
, 0,  (names_hashes_bitmap));

1354 
ecma_obje˘_t
 *
¥ŸŸy≥_chaö_ôî_p
 = 
obj_p
;

1355 
¥ŸŸy≥_chaö_ôî_p
 !
NULL
;

1356 
¥ŸŸy≥_chaö_ôî_p
 = 
is_wôh_¥ŸŸy≥_chaö
 ? 
	`ecma_gë_obje˘_¥ŸŸy≥
 (prototype_chain_iter_p)

1357 : 
NULL
)

1359 
ecma_Àngth_t
 
°rög_«med_¥›îtõs_cou¡
 = 0;

1360 
ecma_Àngth_t
 
¨øy_ödex_«med_¥›îtõs_cou¡
 = 0;

1362 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›_«mes_p
 = 
	`ecma_√w_°rögs_cﬁÀ˘i⁄
 (
NULL
, 0);

1364 i‡(
obj_is_buûtö
)

1366 
	`ecma_buûtö_li°_œzy_¥›îty_«mes
 (
obj_p
,

1367 
is_íumîabÀ_⁄ly
,

1368 
¥›_«mes_p
,

1369 
skù≥d_n⁄_íumîabÀ_p
);

1373 
ty≥
)

1375 
ECMA_OBJECT_TYPE_GENERAL
:

1379 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

1381 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


1382 i‡(
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)))

1384 
	`ecma_›_ty≥d¨øy_li°_œzy_¥›îty_«mes
 (
obj_p
, 
¥›_«mes_p
);

1389 
ECMA_OBJECT_TYPE_FUNCTION
:

1391 
	`ecma_›_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
obj_p
,

1392 
is_íumîabÀ_⁄ly
,

1393 
¥›_«mes_p
,

1394 
skù≥d_n⁄_íumîabÀ_p
);

1397 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
:

1399 
	`ecma_›_exã∫Æ_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
is_íumîabÀ_⁄ly
,

1400 
¥›_«mes_p
,

1401 
skù≥d_n⁄_íumîabÀ_p
);

1404 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
:

1406 
	`ecma_›_bound_fun˘i⁄_li°_œzy_¥›îty_«mes
 (
is_íumîabÀ_⁄ly
,

1407 
¥›_«mes_p
,

1408 
skù≥d_n⁄_íumîabÀ_p
);

1411 
ECMA_OBJECT_TYPE_CLASS
:

1413 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

1415 i‡(
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_STRING_UL
)

1417 
	`ecma_›_°rög_li°_œzy_¥›îty_«mes
 (
obj_p
,

1418 
is_íumîabÀ_⁄ly
,

1419 
¥›_«mes_p
,

1420 
skù≥d_n⁄_íumîabÀ_p
);

1425 
ECMA_OBJECT_TYPE_ARRAY
:

1427 
	`ecma_›_¨øy_li°_œzy_¥›îty_«mes
 (
obj_p
,

1428 
is_íumîabÀ_⁄ly
,

1429 
¥›_«mes_p
,

1430 
skù≥d_n⁄_íumîabÀ_p
);

1435 
	`JERRY_UNREACHABLE
 ();

1441 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

1442 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›_«mes_p
);

1444 
uöt32_t
 
own_«mes_hashes_bôm≠
[
ECMA_OBJECT_HASH_BITMAP_SIZE
 / 
bôm≠_row_size
];

1445 
	`mem£t
 (
own_«mes_hashes_bôm≠
, 0,  (own_names_hashes_bitmap));

1447 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1449 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1451 
uöt8_t
 
hash
 = (uöt8_tË
«me_p
->hash;

1452 
uöt32_t
 
bôm≠_row
 = (uöt32_tË(
hash
 / 
bôm≠_row_size
);

1453 
uöt32_t
 
bôm≠_cﬁumn
 = (uöt32_tË(
hash
 % 
bôm≠_row_size
);

1455 i‡((
own_«mes_hashes_bôm≠
[
bôm≠_row
] & (1u << 
bôm≠_cﬁumn
)) == 0)

1457 
own_«mes_hashes_bôm≠
[
bôm≠_row
] |(1u << 
bôm≠_cﬁumn
);

1461 
ecma_¥›îty_hódî_t
 *
¥›_ôî_p
 = 
	`ecma_gë_¥›îty_li°
 (
¥ŸŸy≥_chaö_ôî_p
);

1463 i‡(
¥›_ôî_p
 !
NULL
 &&Ör›_ôî_p->
ty≥s
[0] =
ECMA_PROPERTY_TYPE_HASHMAP
)

1465 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

1466 
¥›_ôî_p
->
√xt_¥›îty_˝
);

1469 
¥›_ôî_p
 !
NULL
)

1471 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_IS_PROPERTY_PAIR
 (
¥›_ôî_p
));

1473 
i
 = 0; i < 
ECMA_PROPERTY_PAIR_ITEM_COUNT
; i++)

1475 
ecma_¥›îty_t
 *
¥›îty_p
 = 
¥›_ôî_p
->
ty≥s
 + 
i
;

1477 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


1478 || 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

1480 
ecma_¥›îty_∑ú_t
 *
¥›_∑ú_p
 = (ecma_¥›îty_∑ú_à*Ë
¥›_ôî_p
;

1482 i‡(
	`ECMA_PROPERTY_GET_NAME_TYPE
 (*
¥›îty_p
Ë=
ECMA_STRING_CONTAINER_MAGIC_STRING


1483 && 
¥›_∑ú_p
->
«mes_˝
[
i
] >
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
)

1489 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_°rög_‰om_¥›îty_«me
 (*
¥›îty_p
,

1490 
¥›_∑ú_p
->
«mes_˝
[
i
]);

1492 i‡(!(
is_íumîabÀ_⁄ly
 && !
	`ecma_is_¥›îty_íumîabÀ
 (*
¥›îty_p
)))

1494 
uöt8_t
 
hash
 = (uöt8_tË
«me_p
->hash;

1495 
uöt32_t
 
bôm≠_row
 = (uöt32_tË(
hash
 / 
bôm≠_row_size
);

1496 
uöt32_t
 
bôm≠_cﬁumn
 = (uöt32_tË(
hash
 % 
bôm≠_row_size
);

1498 
boﬁ
 
is_add
 = 
åue
;

1500 i‡((
own_«mes_hashes_bôm≠
[
bôm≠_row
] & (1u << 
bôm≠_cﬁumn
)) != 0)

1502 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›_«mes_p
);

1504 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1506 
ecma_°rög_t
 *
«me2_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1508 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
«me_p
, 
«me2_p
))

1510 
is_add
 = 
Ál£
;

1516 i‡(
is_add
)

1518 
own_«mes_hashes_bôm≠
[
bôm≠_row
] |(1u << 
bôm≠_cﬁumn
);

1520 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
¥›_«mes_p
,

1521 
	`ecma_make_°rög_vÆue
 (
«me_p
),

1522 
åue
);

1527 
	`JERRY_ASSERT
 (
is_íumîabÀ_⁄ly
 && !
	`ecma_is_¥›îty_íumîabÀ
 (*
¥›îty_p
));

1529 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
skù≥d_n⁄_íumîabÀ_p
,

1530 
	`ecma_make_°rög_vÆue
 (
«me_p
),

1531 
åue
);

1534 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

1538 
¥›_ôî_p
 = 
	`ECMA_GET_POINTER
 (
ecma_¥›îty_hódî_t
,

1539 
¥›_ôî_p
->
√xt_¥›îty_˝
);

1542 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›_«mes_p
);

1543 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1545 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1547 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
«me_p
);

1549 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

1552 
¨øy_ödex_«med_¥›îtõs_cou¡
++;

1554 i‡(!
is_¨øy_ödi˚s_⁄ly
)

1556 
°rög_«med_¥›îtõs_cou¡
++;

1561 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
«mes_p
,

1562 
¨øy_ödex_«med_¥›îtõs_cou¡
 + 
°rög_«med_¥›îtõs_cou¡
,

1563 
ecma_°rög_t
 *);

1564 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
¨øy_ödex_«mes_p
, 
¨øy_ödex_«med_¥›îtõs_cou¡
, 
uöt32_t
);

1566 
uöt32_t
 
«me_pos
 = 
¨øy_ödex_«med_¥›îtõs_cou¡
 + 
°rög_«med_¥›îtõs_cou¡
;

1567 
uöt32_t
 
¨øy_ödex_«me_pos
 = 0;

1569 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
¥›_«mes_p
);

1570 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1572 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1574 
uöt32_t
 
ödex
 = 
	`ecma_°rög_gë_¨øy_ödex
 (
«me_p
);

1576 i‡(
ödex
 !
ECMA_STRING_NOT_ARRAY_INDEX
)

1578 
	`JERRY_ASSERT
 (
¨øy_ödex_«me_pos
 < 
¨øy_ödex_«med_¥›îtõs_cou¡
);

1580 
uöt32_t
 
ö£πi⁄_pos
 = 0;

1581 
ö£πi⁄_pos
 < 
¨øy_ödex_«me_pos


1582 && 
ödex
 < 
¨øy_ödex_«mes_p
[
ö£πi⁄_pos
])

1584 
ö£πi⁄_pos
++;

1587 i‡(
ö£πi⁄_pos
 =
¨øy_ödex_«me_pos
)

1589 
¨øy_ödex_«mes_p
[
¨øy_ödex_«me_pos
++] = 
ödex
;

1593 
	`JERRY_ASSERT
 (
ö£πi⁄_pos
 < 
¨øy_ödex_«me_pos
);

1594 
	`JERRY_ASSERT
 (
ödex
 >
¨øy_ödex_«mes_p
[
ö£πi⁄_pos
]);

1596 
uöt32_t
 
move_pos
 = 
¨øy_ödex_«me_pos
++;

1598 
move_pos
 > 
ö£πi⁄_pos
)

1600 
¨øy_ödex_«mes_p
[
move_pos
] =árray_index_names_p[move_pos - 1u];

1602 
move_pos
--;

1605 
¨øy_ödex_«mes_p
[
ö£πi⁄_pos
] = 
ödex
;

1608 i‡(!
is_¨øy_ödi˚s_⁄ly
)

1615 
	`JERRY_ASSERT
 (
«me_pos
 > 0

1616 && 
«me_pos
 <
¨øy_ödex_«med_¥›îtõs_cou¡
 + 
°rög_«med_¥›îtõs_cou¡
);

1617 
	`ecma_ªf_ecma_°rög
 (
«me_p
);

1618 
«mes_p
[--
«me_pos
] = 
«me_p
;

1622 
uöt32_t
 
i
 = 0; i < 
¨øy_ödex_«med_¥›îtõs_cou¡
; i++)

1624 
	`JERRY_ASSERT
 (
«me_pos
 > 0

1625 && 
«me_pos
 <
¨øy_ödex_«med_¥›îtõs_cou¡
 + 
°rög_«med_¥›îtõs_cou¡
);

1626 
«mes_p
[--
«me_pos
] = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
¨øy_ödex_«mes_p
[
i
]);

1629 
	`JERRY_ASSERT
 (
«me_pos
 == 0);

1631 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
¨øy_ödex_«mes_p
);

1633 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥›_«mes_p
, 
åue
);

1637 
uöt32_t
 
i
 = 0;

1638 
i
 < 
¨øy_ödex_«med_¥›îtõs_cou¡
 + 
°rög_«med_¥›îtõs_cou¡
;

1639 
i
++)

1641 
boﬁ
 
is_≠≥nd
 = 
åue
;

1643 
ecma_°rög_t
 *
«me_p
 = 
«mes_p
[
i
];

1645 
uöt8_t
 
hash
 = (uöt8_tË
«me_p
->hash;

1646 
uöt32_t
 
bôm≠_row
 = (uöt32_tË(
hash
 / 
bôm≠_row_size
);

1647 
uöt32_t
 
bôm≠_cﬁumn
 = (uöt32_tË(
hash
 % 
bôm≠_row_size
);

1649 i‡((
«mes_hashes_bôm≠
[
bôm≠_row
] & (1u << 
bôm≠_cﬁumn
)) == 0)

1652 
«mes_hashes_bôm≠
[
bôm≠_row
] |(1u << 
bôm≠_cﬁumn
);

1657 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
ªt_p
);

1659 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1661 
ecma_°rög_t
 *
ôî_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1663 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
«me_p
, 
ôî_«me_p
))

1665 
is_≠≥nd
 = 
Ál£
;

1671 i‡(
is_≠≥nd
)

1673 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
skù≥d_n⁄_íumîabÀ_p
);

1674 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

1676 
ecma_°rög_t
 *
ôî_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*
ôî
.
cuºít_vÆue_p
);

1678 i‡(
	`ecma_com∑ª_ecma_°rögs
 (
«me_p
, 
ôî_«me_p
))

1680 
is_≠≥nd
 = 
Ál£
;

1686 i‡(
is_≠≥nd
)

1688 
	`JERRY_ASSERT
 ((
«mes_hashes_bôm≠
[
bôm≠_row
] & (1u << 
bôm≠_cﬁumn
)) != 0);

1690 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
ªt_p
, 
	`ecma_make_°rög_vÆue
 (
«mes_p
[
i
]), 
åue
);

1693 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

1696 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
«mes_p
);

1699 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
skù≥d_n⁄_íumîabÀ_p
, 
åue
);

1701  
ªt_p
;

1702 
	}
}

1707 
ölöe
 
boﬁ


1708 
	$ecma_obje˘_check_˛ass_«me_is_obje˘
 (
ecma_obje˘_t
 *
obj_p
)

1710 #i‚de‡
JERRY_NDEBUG


1711  (
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_GLOBAL
)

1712 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


1713 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_PROMISE_PROTOTYPE
)

1715 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


1716 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_ARRAYBUFFER_PROTOTYPE
)

1717 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_TYPEDARRAY_PROTOTYPE
)

1718 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_INT8ARRAY_PROTOTYPE
)

1719 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_UINT8ARRAY_PROTOTYPE
)

1720 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_INT16ARRAY_PROTOTYPE
)

1721 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_UINT16ARRAY_PROTOTYPE
)

1722 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_INT32ARRAY_PROTOTYPE
)

1723 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_UINT32ARRAY_PROTOTYPE
)

1724 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_FLOAT32ARRAY_PROTOTYPE
)

1725 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY_PROTOTYPE
)

1726 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


1727 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_FLOAT64ARRAY_PROTOTYPE
)

1730 || 
	`ecma_buûtö_is
 (
obj_p
, 
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
));

1732 
	`JERRY_UNUSED
 (
obj_p
);

1733  
åue
;

1735 
	}
}

1742 
lô_magic_°rög_id_t


1743 
	$ecma_obje˘_gë_˛ass_«me
 (
ecma_obje˘_t
 *
obj_p
)

1745 
ecma_obje˘_ty≥_t
 
ty≥
 = 
	`ecma_gë_obje˘_ty≥
 (
obj_p
);

1747 
ty≥
)

1749 
ECMA_OBJECT_TYPE_ARRAY
:

1751  
LIT_MAGIC_STRING_ARRAY_UL
;

1753 
ECMA_OBJECT_TYPE_CLASS
:

1755 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

1756  
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
;

1758 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
:

1760 
ecma_exãnded_obje˘_t
 *
ext_obj_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

1762 
ext_obj_p
->
u
.
p£udo_¨øy
.
ty≥
)

1764 
ECMA_PSEUDO_ARRAY_ARGUMENTS
:

1766  
LIT_MAGIC_STRING_ARGUMENTS_UL
;

1768 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


1769 
ECMA_PSEUDO_ARRAY_TYPEDARRAY
:

1770 
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO
:

1772  
ext_obj_p
->
u
.
p£udo_¨øy
.
u1
.
˛ass_id
;

1777 
	`JERRY_UNREACHABLE
 ();

1781 
	`JERRY_UNREACHABLE
 ();

1784 
ECMA_OBJECT_TYPE_FUNCTION
:

1785 
ECMA_OBJECT_TYPE_EXTERNAL_FUNCTION
:

1786 
ECMA_OBJECT_TYPE_BOUND_FUNCTION
:

1788  
LIT_MAGIC_STRING_FUNCTION_UL
;

1792 
	`JERRY_ASSERT
 (
ty≥
 =
ECMA_OBJECT_TYPE_GENERAL
);

1794 i‡(
	`ecma_gë_obje˘_is_buûtö
 (
obj_p
))

1796 
ecma_exãnded_obje˘_t
 *
ext_obj_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

1798 
ext_obj_p
->
u
.
buût_ö
.
id
)

1800 #i‚de‡
CONFIG_DISABLE_MATH_BUILTIN


1801 
ECMA_BUILTIN_ID_MATH
:

1803  
LIT_MAGIC_STRING_MATH_UL
;

1806 #i‚de‡
CONFIG_DISABLE_JSON_BUILTIN


1807 
ECMA_BUILTIN_ID_JSON
:

1809  
LIT_MAGIC_STRING_JSON_U
;

1812 #i‚de‡
CONFIG_DISABLE_ERROR_BUILTINS


1813 
ECMA_BUILTIN_ID_EVAL_ERROR_PROTOTYPE
:

1814 
ECMA_BUILTIN_ID_RANGE_ERROR_PROTOTYPE
:

1815 
ECMA_BUILTIN_ID_REFERENCE_ERROR_PROTOTYPE
:

1816 
ECMA_BUILTIN_ID_SYNTAX_ERROR_PROTOTYPE
:

1817 
ECMA_BUILTIN_ID_TYPE_ERROR_PROTOTYPE
:

1818 
ECMA_BUILTIN_ID_URI_ERROR_PROTOTYPE
:

1820 
ECMA_BUILTIN_ID_ERROR_PROTOTYPE
:

1822  
LIT_MAGIC_STRING_ERROR_UL
;

1826 
	`JERRY_ASSERT
 (
	`ecma_obje˘_check_˛ass_«me_is_obje˘
 (
obj_p
));

1828  
LIT_MAGIC_STRING_OBJECT_UL
;

1834  
LIT_MAGIC_STRING_OBJECT_UL
;

1838 
	}
}

1846 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


1847 
	$ecma_obje˘_˛ass_is
 (
ecma_obje˘_t
 *
obje˘_p
,

1848 
uöt32_t
 
˛ass_id
)

1850 i‡(
	`ecma_gë_obje˘_ty≥
 (
obje˘_p
Ë=
ECMA_OBJECT_TYPE_CLASS
)

1852 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

1854 i‡(
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 == class_id)

1856  
åue
;

1860  
Ál£
;

1861 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-objects.h

16 #i‚de‡
ECMA_OBJECTS_H


17 
	#ECMA_OBJECTS_H


	)

19 
	~"ecma-c⁄vîsi⁄.h
"

20 
	~"ecma-globÆs.h
"

29 
ecma_¥›îty_t
 
ecma_›_obje˘_gë_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

30 
ecma_¥›îty_ªf_t
 *
¥›îty_ªf_p
, 
uöt32_t
 
›ti⁄s
);

31 
ecma_¥›îty_t
 
ecma_›_obje˘_gë_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

32 
ecma_¥›îty_ªf_t
 *
¥›îty_ªf_p
, 
uöt32_t
 
›ti⁄s
);

33 
boﬁ
 
ecma_›_obje˘_has_own_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

34 
boﬁ
 
ecma_›_obje˘_has_¥›îty
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

35 
ecma_vÆue_t
 
ecma_›_obje˘_föd_own
 (ecma_vÆue_à
ba£_vÆue
, 
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

36 
ecma_vÆue_t
 
ecma_›_obje˘_föd
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

37 
ecma_vÆue_t
 
ecma_›_obje˘_gë_own_d©a_¥›
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

38 
ecma_vÆue_t
 
ecma_›_obje˘_gë
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
);

39 
ecma_vÆue_t
 
ecma_›_obje˘_put
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,Écma_vÆue_à
vÆue
,

40 
boﬁ
 
is_throw
);

41 
ecma_vÆue_t
 
ecma_›_obje˘_dñëe
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
, 
boﬁ
 
is_throw
);

42 
ecma_vÆue_t
 
ecma_›_obje˘_deÁu…_vÆue
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_¥e„ºed_ty≥_höt_t
 
höt
);

43 
ecma_vÆue_t
 
ecma_›_obje˘_deföe_own_¥›îty
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

44 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
, 
boﬁ
 
is_throw
);

45 
boﬁ
 
ecma_›_obje˘_gë_own_¥›îty_des¸ùt‹
 (
ecma_obje˘_t
 *
obje˘_p
, 
ecma_°rög_t
 *
¥›îty_«me_p
,

46 
ecma_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
);

47 
ecma_vÆue_t
 
ecma_›_obje˘_has_ö°™˚
 (
ecma_obje˘_t
 *
obj_p
,Écma_vÆue_à
vÆue
);

48 
boﬁ
 
ecma_›_obje˘_is_¥ŸŸy≥_of
 (
ecma_obje˘_t
 *
ba£_p
,Écma_obje˘_à*
èrgë_p
);

49 
ecma_cﬁÀ˘i⁄_hódî_t
 * 
ecma_›_obje˘_gë_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
, 
boﬁ
 
is_¨øy_ödi˚s_⁄ly
,

50 
boﬁ
 
is_íumîabÀ_⁄ly
, boﬁ 
is_wôh_¥ŸŸy≥_chaö
);

52 
lô_magic_°rög_id_t
 
ecma_obje˘_gë_˛ass_«me
 (
ecma_obje˘_t
 *
obj_p
);

53 
boﬁ
 
ecma_obje˘_˛ass_is
 (
ecma_obje˘_t
 *
obje˘_p
, 
uöt32_t
 
˛ass_id
);

	@deps/jerry/jerry-core/ecma/operations/ecma-promise-object.c

16 
	~"ecma-boﬁón-obje˘.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-fun˘i⁄-obje˘.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-hñ≥rs.h
"

23 
	~"ecma-jobqueue.h
"

24 
	~"ecma-obje˘s.h
"

25 
	~"ecma-obje˘s-gíîÆ.h
"

26 
	~"ecma-¥omi£-obje˘.h
"

28 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


43 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


44 
	$ecma_is_¥omi£
 (
ecma_obje˘_t
 *
obj_p
)

46  
	`ecma_obje˘_˛ass_is
 (
obj_p
, 
LIT_MAGIC_STRING_PROMISE_UL
);

47 
	}
}

55 
ölöe
 
ecma_vÆue_t


56 
	$ecma_¥omi£_gë_ªsu…
 (
ecma_obje˘_t
 *
obj_p
)

58 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
obj_p
));

60 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

62  
	`ecma_c›y_vÆue
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

63 
	}
}

68 
ölöe
 
__©å_Æways_ölöe___


69 
	$ecma_¥omi£_£t_ªsu…
 (
ecma_obje˘_t
 *
obj_p
,

70 
ecma_vÆue_t
 
ªsu…
)

72 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
obj_p
));

74 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

76 
	`JERRY_ASSERT
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 =
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
));

78 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
ªsu…
;

79 
	}
}

86 
ölöe
 
uöt8_t
 
__©å_Æways_ölöe___


87 
	$ecma_¥omi£_gë_°©e
 (
ecma_obje˘_t
 *
obj_p
)

89 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
obj_p
));

91  ((
ecma_¥omi£_obje˘_t
 *Ë
obj_p
)->
°©e
;

92 
	}
}

97 
ölöe
 
__©å_Æways_ölöe___


98 
	$ecma_¥omi£_£t_°©e
 (
ecma_obje˘_t
 *
obj_p
,

99 
uöt8_t
 
°©e
)

101 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
obj_p
));

103 ((
ecma_¥omi£_obje˘_t
 *Ë
obj_p
)->
°©e
 = state;

104 
	}
}

111 
boﬁ


112 
	$ecma_gë_Æªady_ªsﬁved_boﬁ_vÆue
 (
ecma_vÆue_t
 
Æªady_ªsﬁved
)

114 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
Æªady_ªsﬁved
));

116 
ecma_obje˘_t
 *
Æªady_ªsﬁved_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
Æªady_ªsﬁved
);

117 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
Æªady_ªsﬁved_p
;

119 
	`JERRY_ASSERT
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_BOOLEAN_UL
);

121  
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 =
	`ecma_make_boﬁón_vÆue
 (
åue
);

122 
	}
}

128 
	$ecma_£t_Æªady_ªsﬁved_vÆue
 (
ecma_vÆue_t
 
Æªady_ªsﬁved
,

129 
boﬁ
 
vÆue
)

131 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
Æªady_ªsﬁved
));

133 
ecma_obje˘_t
 *
Æªady_ªsﬁved_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
Æªady_ªsﬁved
);

134 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
Æªady_ªsﬁved_p
;

136 
	`JERRY_ASSERT
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_BOOLEAN_UL
);

138 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (value);

139 
	}
}

147 
	$ecma_¥omi£_åiggî_ªa˘i⁄s
 (
ecma_cﬁÀ˘i⁄_hódî_t
 *
ªa˘i⁄s
,

148 
ecma_vÆue_t
 
vÆue
)

150 
ecma_cﬁÀ˘i⁄_ôî©‹_t
 
ôî
;

151 
	`ecma_cﬁÀ˘i⁄_ôî©‹_öô
 (&
ôî
, 
ªa˘i⁄s
);

153 
	`ecma_cﬁÀ˘i⁄_ôî©‹_√xt
 (&
ôî
))

155 
	`ecma_íqueue_¥omi£_ªa˘i⁄_job
 (*
ôî
.
cuºít_vÆue_p
, 
vÆue
);

158 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
ªa˘i⁄s
, 
Ál£
);

159 
	}
}

167 
	$ecma_ªje˘_¥omi£
 (
ecma_vÆue_t
 
¥omi£
,

168 
ecma_vÆue_t
 
ªas⁄
)

170 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
);

172 
	`JERRY_ASSERT
 (
	`ecma_¥omi£_gë_°©e
 (
obj_p
Ë=
ECMA_PROMISE_STATE_PENDING
);

174 
	`ecma_¥omi£_£t_°©e
 (
obj_p
, 
ECMA_PROMISE_STATE_REJECTED
);

175 
	`ecma_¥omi£_£t_ªsu…
 (
obj_p
, 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
ªas⁄
));

176 
ecma_¥omi£_obje˘_t
 *
¥omi£_p
 = (ecma_¥omi£_obje˘_à*Ë
obj_p
;

177 
	`ecma_¥omi£_åiggî_ªa˘i⁄s
 (
¥omi£_p
->
ªje˘_ªa˘i⁄s
, 
ªas⁄
);

178 
¥omi£_p
->
ªje˘_ªa˘i⁄s
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

180 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥omi£_p
->
fulfûl_ªa˘i⁄s
, 
Ál£
);

181 
¥omi£_p
->
fulfûl_ªa˘i⁄s
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

182 
	}
}

190 
	$ecma_fulfûl_¥omi£
 (
ecma_vÆue_t
 
¥omi£
,

191 
ecma_vÆue_t
 
vÆue
)

193 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
);

195 
	`JERRY_ASSERT
 (
	`ecma_¥omi£_gë_°©e
 (
obj_p
Ë=
ECMA_PROMISE_STATE_PENDING
);

197 
	`ecma_¥omi£_£t_°©e
 (
obj_p
, 
ECMA_PROMISE_STATE_FULFILLED
);

198 
	`ecma_¥omi£_£t_ªsu…
 (
obj_p
, 
	`ecma_c›y_vÆue_if_nŸ_obje˘
 (
vÆue
));

199 
ecma_¥omi£_obje˘_t
 *
¥omi£_p
 = (ecma_¥omi£_obje˘_à*Ë
obj_p
;

200 
	`ecma_¥omi£_åiggî_ªa˘i⁄s
 (
¥omi£_p
->
fulfûl_ªa˘i⁄s
, 
vÆue
);

201 
¥omi£_p
->
fulfûl_ªa˘i⁄s
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

203 
	`ecma_‰ì_vÆues_cﬁÀ˘i⁄
 (
¥omi£_p
->
ªje˘_ªa˘i⁄s
, 
Ál£
);

204 
¥omi£_p
->
ªje˘_ªa˘i⁄s
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

205 
	}
}

214 
ecma_vÆue_t


215 
	$ecma_¥omi£_ªje˘_h™dÀr
 (c⁄° 
ecma_vÆue_t
 
fun˘i⁄
,

216 c⁄° 
ecma_vÆue_t
 
this
,

217 c⁄° 
ecma_vÆue_t
 
¨gv
[],

218 c⁄° 
ecma_Àngth_t
 
¨gc
)

220 
	`JERRY_UNUSED
 (
this
);

222 
ecma_°rög_t
 
°r_¥omi£
;

223 
ecma_°rög_t
 
°r_Æªady_ªsﬁved
;

224 
	`ecma_öô_ecma_magic_°rög
 (&
°r_¥omi£
, 
LIT_INTERNAL_MAGIC_STRING_PROMISE
);

225 
	`ecma_öô_ecma_magic_°rög
 (&
°r_Æªady_ªsﬁved
, 
LIT_INTERNAL_MAGIC_STRING_ALREADY_RESOLVED
);

226 
ecma_obje˘_t
 *
fun˘i⁄_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
fun˘i⁄
);

228 
ecma_vÆue_t
 
¥omi£
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, &
°r_¥omi£
);

230 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
)));

232 
ecma_vÆue_t
 
Æªady_ªsﬁved
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, &
°r_Æªady_ªsﬁved
);

235 i‡(
	`ecma_gë_Æªady_ªsﬁved_boﬁ_vÆue
 (
Æªady_ªsﬁved
))

237 
	`ecma_‰ì_vÆue
 (
¥omi£
);

238 
	`ecma_‰ì_vÆue
 (
Æªady_ªsﬁved
);

239  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

243 
	`ecma_£t_Æªady_ªsﬁved_vÆue
 (
Æªady_ªsﬁved
, 
åue
);

246 
ecma_vÆue_t
 
ªje˘_vÆue
 = (
¨gc
 =0Ë? 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
Ë: 
¨gv
[0];

247 
	`ecma_ªje˘_¥omi£
 (
¥omi£
, 
ªje˘_vÆue
);

248 
	`ecma_‰ì_vÆue
 (
¥omi£
);

249 
	`ecma_‰ì_vÆue
 (
Æªady_ªsﬁved
);

250  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

251 
	}
}

260 
ecma_vÆue_t


261 
	$ecma_¥omi£_ªsﬁve_h™dÀr
 (c⁄° 
ecma_vÆue_t
 
fun˘i⁄
,

262 c⁄° 
ecma_vÆue_t
 
this
,

263 c⁄° 
ecma_vÆue_t
 
¨gv
[],

264 c⁄° 
ecma_Àngth_t
 
¨gc
)

266 
	`JERRY_UNUSED
 (
this
);

268 
ecma_°rög_t
 
°r_¥omi£
;

269 
ecma_°rög_t
 
°r_Æªady_ªsﬁved
;

270 
	`ecma_öô_ecma_magic_°rög
 (&
°r_¥omi£
, 
LIT_INTERNAL_MAGIC_STRING_PROMISE
);

271 
	`ecma_öô_ecma_magic_°rög
 (&
°r_Æªady_ªsﬁved
, 
LIT_INTERNAL_MAGIC_STRING_ALREADY_RESOLVED
);

272 
ecma_obje˘_t
 *
fun˘i⁄_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
fun˘i⁄
);

274 
ecma_vÆue_t
 
¥omi£
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, &
°r_¥omi£
);

276 
	`JERRY_ASSERT
 (
	`ecma_is_¥omi£
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
)));

278 
ecma_vÆue_t
 
Æªady_ªsﬁved
 = 
	`ecma_›_obje˘_gë
 (
fun˘i⁄_p
, &
°r_Æªady_ªsﬁved
);

281 i‡(
	`ecma_gë_Æªady_ªsﬁved_boﬁ_vÆue
 (
Æªady_ªsﬁved
))

283 
íd_of_ªsﬁve_fun˘i⁄
;

287 
	`ecma_£t_Æªady_ªsﬁved_vÆue
 (
Æªady_ªsﬁved
, 
åue
);

290 i‡(
¨gc
 == 0)

292 
	`ecma_fulfûl_¥omi£
 (
¥omi£
, 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
));

293 
íd_of_ªsﬁve_fun˘i⁄
;

297 i‡(
¨gv
[0] =
¥omi£
)

299 
ecma_obje˘_t
 *
îr‹_p
 = 
	`ecma_√w_°™d¨d_îr‹
 (
ECMA_ERROR_TYPE
);

300 
	`ecma_ªje˘_¥omi£
 (
¥omi£
, 
	`ecma_make_obje˘_vÆue
 (
îr‹_p
));

301 
	`ecma_dîef_obje˘
 (
îr‹_p
);

302 
íd_of_ªsﬁve_fun˘i⁄
;

306 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨gv
[0]))

308 
	`ecma_fulfûl_¥omi£
 (
¥omi£
, 
¨gv
[0]);

309 
íd_of_ªsﬁve_fun˘i⁄
;

313 
ecma_°rög_t
 *
°r_thí
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING_THEN
);

314 
ecma_vÆue_t
 
thí
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
¨gv
[0]), 
°r_thí
);

316 i‡(
	`ECMA_IS_VALUE_ERROR
 (
thí
))

319 
	`ecma_ªje˘_¥omi£
 (
¥omi£
, 
thí
);

321 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
thí
))

324 
	`ecma_fulfûl_¥omi£
 (
¥omi£
, 
¨gv
[0]);

329 
	`ecma_íqueue_¥omi£_ªsﬁve_thíabÀ_job
 (
¥omi£
, 
¨gv
[0], 
thí
);

332 
	`ecma_dîef_ecma_°rög
 (
°r_thí
);

333 
	`ecma_‰ì_vÆue
 (
thí
);

335 
íd_of_ªsﬁve_fun˘i⁄
:

336 
	`ecma_‰ì_vÆue
 (
¥omi£
);

337 
	`ecma_‰ì_vÆue
 (
Æªady_ªsﬁved
);

338  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

339 
	}
}

349 
ecma_vÆue_t


350 
	$ecma_ˇŒ_buûtö_execut‹
 (
ecma_obje˘_t
 *
execut‹_p
,

351 
ecma_vÆue_t
 
ªsﬁve_func
,

352 
ecma_vÆue_t
 
ªje˘_func
)

354 
ecma_°rög_t
 *
°r_ˇ∑bûôy
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_CAPABILITY
);

355 
ecma_°rög_t
 *
°r_ªsﬁve
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

356 
ecma_°rög_t
 *
°r_ªje˘
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

359 
ecma_vÆue_t
 
ˇ∑bûôy
 = 
	`ecma_›_obje˘_gë
 (
execut‹_p
, 
°r_ˇ∑bûôy
);

361 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_ªsﬁve
);

363 i‡(
ªsﬁve
 !
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
))

365 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

366 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

367 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

368 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

369 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

371  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'resolve' function should be undefined."));

375 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
), 
°r_ªje˘
);

377 i‡(
ªje˘
 !
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
))

379 
	`ecma_‰ì_vÆue
 (
ªje˘
);

380 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

381 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

382 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

383 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

385  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'reject' function should be undefined."));

389 
	`ecma_›_obje˘_put
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

390 
°r_ªsﬁve
,

391 
ªsﬁve_func
,

392 
Ál£
);

394 
	`ecma_›_obje˘_put
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ˇ∑bûôy
),

395 
°r_ªje˘
,

396 
ªje˘_func
,

397 
Ál£
);

399 
	`ecma_‰ì_vÆue
 (
ˇ∑bûôy
);

400 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

401 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

402 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

404  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

405 
	}
}

414 
ecma_¥omi£_ªsﬁvög_fun˘i⁄s_t
 *

415 
	$ecma_¥omi£_¸óã_ªsﬁvög_fun˘i⁄s
 (
ecma_obje˘_t
 *
obje˘_p
)

418 
ecma_vÆue_t
 
Æªady_ªsﬁved
 = 
	`ecma_›_¸óã_boﬁón_obje˘
 (
	`ecma_make_boﬁón_vÆue
 (
Ál£
));

420 
ecma_°rög_t
 
°r_¥omi£
;

421 
ecma_°rög_t
 
°r_Æªady_ªsﬁved
;

422 
	`ecma_öô_ecma_magic_°rög
 (&
°r_¥omi£
, 
LIT_INTERNAL_MAGIC_STRING_PROMISE
);

423 
	`ecma_öô_ecma_magic_°rög
 (&
°r_Æªady_ªsﬁved
, 
LIT_INTERNAL_MAGIC_STRING_ALREADY_RESOLVED
);

425 
ecma_obje˘_t
 *
ªsﬁve_p
;

426 
ªsﬁve_p
 = 
	`ecma_›_¸óã_exã∫Æ_fun˘i⁄_obje˘
 (
ecma_¥omi£_ªsﬁve_h™dÀr
);

429 
	`ecma_›_obje˘_put
 (
ªsﬁve_p
,

430 &
°r_¥omi£
,

431 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
),

432 
Ál£
);

434 
	`ecma_›_obje˘_put
 (
ªsﬁve_p
,

435 &
°r_Æªady_ªsﬁved
,

436 
Æªady_ªsﬁved
,

437 
Ál£
);

439 
ecma_obje˘_t
 *
ªje˘_p
;

440 
ªje˘_p
 = 
	`ecma_›_¸óã_exã∫Æ_fun˘i⁄_obje˘
 (
ecma_¥omi£_ªje˘_h™dÀr
);

442 
	`ecma_›_obje˘_put
 (
ªje˘_p
,

443 &
°r_¥omi£
,

444 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
),

445 
Ál£
);

447 
	`ecma_›_obje˘_put
 (
ªje˘_p
,

448 &
°r_Æªady_ªsﬁved
,

449 
Æªady_ªsﬁved
,

450 
Ál£
);

453 
ecma_¥omi£_ªsﬁvög_fun˘i⁄s_t
 *
funcs
 = 
	`jmem_hóp_Æloc_block
 ( (ecma_promise_resolving_functions_t));

454 
funcs
->
ªsﬁve
 = 
	`ecma_make_obje˘_vÆue
 (
ªsﬁve_p
);

455 
funcs
->
ªje˘
 = 
	`ecma_make_obje˘_vÆue
 (
ªje˘_p
);

457 
	`ecma_‰ì_vÆue
 (
Æªady_ªsﬁved
);

459  
funcs
;

460 
	}
}

466 
	$ecma_¥omi£_‰ì_ªsﬁvög_fun˘i⁄s
 (
ecma_¥omi£_ªsﬁvög_fun˘i⁄s_t
 *
funcs
)

468 
	`ecma_‰ì_vÆue
 (
funcs
->
ªsﬁve
);

469 
	`ecma_‰ì_vÆue
 (
funcs
->
ªje˘
);

470 
	`jmem_hóp_‰ì_block
 (
funcs
,  (
ecma_¥omi£_ªsﬁvög_fun˘i⁄s_t
));

471 
	}
}

481 
ecma_vÆue_t


482 
	$ecma_›_¸óã_¥omi£_obje˘
 (
ecma_vÆue_t
 
execut‹
,

483 
ecma_¥omi£_execut‹_ty≥_t
 
ty≥
)

486 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_PROMISE_PROTOTYPE
);

487 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

488  (
ecma_¥omi£_obje˘_t
),

489 
ECMA_OBJECT_TYPE_CLASS
);

490 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

491 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

492 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_PROMISE_UL
;

493 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

494 
ecma_¥omi£_obje˘_t
 *
¥omi£_obje˘_p
 = (ecma_¥omi£_obje˘_à*Ë
obje˘_p
;

495 
¥omi£_obje˘_p
->
fulfûl_ªa˘i⁄s
 = 
NULL
;

496 
¥omi£_obje˘_p
->
ªje˘_ªa˘i⁄s
 = 
NULL
;

499 
	`ecma_¥omi£_£t_°©e
 (
obje˘_p
, 
ECMA_PROMISE_STATE_PENDING
);

501 
¥omi£_obje˘_p
->
fulfûl_ªa˘i⁄s
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

502 
¥omi£_obje˘_p
->
ªje˘_ªa˘i⁄s
 = 
	`ecma_√w_vÆues_cﬁÀ˘i⁄
 (
NULL
, 0, 
Ál£
);

504 
ecma_¥omi£_ªsﬁvög_fun˘i⁄s_t
 *
funcs
 = 
	`ecma_¥omi£_¸óã_ªsﬁvög_fun˘i⁄s
 (
obje˘_p
);

506 
ecma_°rög_t
 
°r_ªsﬁve
, 
°r_ªje˘
;

507 
	`ecma_öô_ecma_magic_°rög
 (&
°r_ªsﬁve
, 
LIT_INTERNAL_MAGIC_STRING_RESOLVE_FUNCTION
);

508 
	`ecma_öô_ecma_magic_°rög
 (&
°r_ªje˘
, 
LIT_INTERNAL_MAGIC_STRING_REJECT_FUNCTION
);

509 
	`ecma_›_obje˘_put
 (
obje˘_p
,

510 &
°r_ªsﬁve
,

511 
funcs
->
ªsﬁve
,

512 
Ál£
);

513 
	`ecma_›_obje˘_put
 (
obje˘_p
,

514 &
°r_ªje˘
,

515 
funcs
->
ªje˘
,

516 
Ál£
);

519 
ecma_vÆue_t
 
com∂ëi⁄
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

521 i‡(
ty≥
 =
ECMA_PROMISE_EXECUTOR_FUNCTION
)

523 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
execut‹
));

525 
ecma_vÆue_t
 
¨gv
[] = { 
funcs
->
ªsﬁve
, funcs->
ªje˘
 };

526 
com∂ëi⁄
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
execut‹
),

527 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

528 
¨gv
,

531 i‡(
ty≥
 =
ECMA_PROMISE_EXECUTOR_OBJECT
)

533 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
execut‹
));

535 
com∂ëi⁄
 = 
	`ecma_ˇŒ_buûtö_execut‹
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
execut‹
),

536 
funcs
->
ªsﬁve
,

537 
funcs
->
ªje˘
);

541 
	`JERRY_ASSERT
 (
ty≥
 =
ECMA_PROMISE_EXECUTOR_EMPTY
);

542 
	`JERRY_UNUSED
 (
execut‹
);

545 
ecma_vÆue_t
 
°©us
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

547 i‡(
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄
))

550 
com∂ëi⁄
 = 
	`ecma_gë_vÆue_‰om_îr‹_vÆue
 (completion);

551 
°©us
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
funcs
->
ªje˘
),

552 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
),

553 &
com∂ëi⁄
,

557 
	`ecma_¥omi£_‰ì_ªsﬁvög_fun˘i⁄s
 (
funcs
);

558 
	`ecma_‰ì_vÆue
 (
com∂ëi⁄
);

561 i‡(
	`ECMA_IS_VALUE_ERROR
 (
°©us
))

563 
	`ecma_dîef_obje˘
 (
obje˘_p
);

564  
°©us
;

568 
	`ecma_‰ì_vÆue
 (
°©us
);

570  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

571 
	}
}

581 
ecma_vÆue_t


582 
	$ecma_¥omi£_√w_ˇ∑bûôy
 ()

585 
ecma_obje˘_t
 *
ˇ∑bûôy_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

586 
ecma_°rög_t
 *
°r_ˇ∑bûôy
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_CAPABILITY
);

587 
ecma_°rög_t
 *
°r_¥omi£
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_PROMISE
);

589 
ecma_obje˘_t
 *
execut‹_p
;

590 
execut‹_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

591 
ecma_vÆue_t
 
execut‹
 = 
	`ecma_make_obje˘_vÆue
 (
execut‹_p
);

593 
	`ecma_›_obje˘_put
 (
execut‹_p
,

594 
°r_ˇ∑bûôy
,

595 
	`ecma_make_obje˘_vÆue
 (
ˇ∑bûôy_p
),

596 
Ál£
);

599 
ecma_vÆue_t
 
¥omi£
 = 
	`ecma_›_¸óã_¥omi£_obje˘
 (
execut‹
, 
ECMA_PROMISE_EXECUTOR_OBJECT
);

602 
	`ecma_›_obje˘_put
 (
ˇ∑bûôy_p
,

603 
°r_¥omi£
,

604 
¥omi£
,

605 
Ál£
);

607 
	`ecma_dîef_obje˘
 (
execut‹_p
);

608 
	`ecma_dîef_ecma_°rög
 (
°r_¥omi£
);

609 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

611 i‡(
	`ECMA_IS_VALUE_ERROR
 (
¥omi£
))

613 
	`ecma_‰ì_vÆue
 (
¥omi£
);

614 
	`ecma_dîef_obje˘
 (
ˇ∑bûôy_p
);

615  
¥omi£
;

618 
	`ecma_‰ì_vÆue
 (
¥omi£
);

620 
ecma_°rög_t
 *
°r_ªsﬁve
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_RESOLVE
);

621 
ecma_vÆue_t
 
ªsﬁve
 = 
	`ecma_›_obje˘_gë
 (
ˇ∑bûôy_p
, 
°r_ªsﬁve
);

622 
	`ecma_dîef_ecma_°rög
 (
°r_ªsﬁve
);

624 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
ªsﬁve
))

626 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

627 
	`ecma_dîef_obje˘
 (
ˇ∑bûôy_p
);

628  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'resolve'Öarameter must be callable."));

631 
	`ecma_‰ì_vÆue
 (
ªsﬁve
);

633 
ecma_°rög_t
 *
°r_ªje˘
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_REJECT
);

634 
ecma_vÆue_t
 
ªje˘
 = 
	`ecma_›_obje˘_gë
 (
ˇ∑bûôy_p
, 
°r_ªje˘
);

635 
	`ecma_dîef_ecma_°rög
 (
°r_ªje˘
);

637 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
ªje˘
))

639 
	`ecma_‰ì_vÆue
 (
ªje˘
);

640 
	`ecma_dîef_obje˘
 (
ˇ∑bûôy_p
);

641  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'reject'Öarameter must be callable."));

644 
	`ecma_‰ì_vÆue
 (
ªje˘
);

646  
	`ecma_make_obje˘_vÆue
 (
ˇ∑bûôy_p
);

647 
	}
}

658 
ecma_vÆue_t


659 
	$ecma_¥omi£_do_thí
 (
ecma_vÆue_t
 
¥omi£
,

660 
ecma_vÆue_t
 
⁄_fulfûÀd
,

661 
ecma_vÆue_t
 
⁄_ªje˘ed
,

662 
ecma_vÆue_t
 
ªsu…_ˇ∑bûôy
)

664 
ecma_°rög_t
 *
°r_ˇ∑bûôy
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_CAPABILITY
);

665 
ecma_°rög_t
 *
°r_h™dÀr
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_HANDLER
);

666 
ecma_°rög_t
 *
°r_¥omi£
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ECMA_PROMISE_PROPERTY_PROMISE
);

669 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
⁄_fulfûÀd
))

671 
⁄_fulfûÀd
 = 
	`ecma_make_boﬁón_vÆue
 (
åue
);

675 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
⁄_ªje˘ed
))

677 
⁄_ªje˘ed
 = 
	`ecma_make_boﬁón_vÆue
 (
Ál£
);

681 
ecma_obje˘_t
 *
fulfûl_ªa˘i⁄_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

682 
ecma_obje˘_t
 *
ªje˘_ªa˘i⁄_p
 = 
	`ecma_›_¸óã_obje˘_obje˘_nﬂrg
 ();

683 
	`ecma_›_obje˘_put
 (
fulfûl_ªa˘i⁄_p
,

684 
°r_ˇ∑bûôy
,

685 
ªsu…_ˇ∑bûôy
,

686 
Ál£
);

687 
	`ecma_›_obje˘_put
 (
fulfûl_ªa˘i⁄_p
,

688 
°r_h™dÀr
,

689 
⁄_fulfûÀd
,

690 
Ál£
);

692 
	`ecma_›_obje˘_put
 (
ªje˘_ªa˘i⁄_p
,

693 
°r_ˇ∑bûôy
,

694 
ªsu…_ˇ∑bûôy
,

695 
Ál£
);

696 
	`ecma_›_obje˘_put
 (
ªje˘_ªa˘i⁄_p
,

697 
°r_h™dÀr
,

698 
⁄_ªje˘ed
,

699 
Ál£
);

701 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
);

702 
ecma_¥omi£_obje˘_t
 *
¥omi£_p
 = (ecma_¥omi£_obje˘_à*Ë
obj_p
;

704 i‡(
	`ecma_¥omi£_gë_°©e
 (
obj_p
Ë=
ECMA_PROMISE_STATE_PENDING
)

707 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
¥omi£_p
->
fulfûl_ªa˘i⁄s
,

708 
	`ecma_make_obje˘_vÆue
 (
fulfûl_ªa˘i⁄_p
),

709 
Ál£
);

711 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
¥omi£_p
->
ªje˘_ªa˘i⁄s
,

712 
	`ecma_make_obje˘_vÆue
 (
ªje˘_ªa˘i⁄_p
),

713 
Ál£
);

715 i‡(
	`ecma_¥omi£_gë_°©e
 (
obj_p
Ë=
ECMA_PROMISE_STATE_FULFILLED
)

718 
ecma_vÆue_t
 
vÆue
 = 
	`ecma_¥omi£_gë_ªsu…
 (
obj_p
);

719 
	`ecma_íqueue_¥omi£_ªa˘i⁄_job
 (
	`ecma_make_obje˘_vÆue
 (
fulfûl_ªa˘i⁄_p
), 
vÆue
);

720 
	`ecma_‰ì_vÆue
 (
vÆue
);

725 
ecma_vÆue_t
 
ªas⁄
 = 
	`ecma_¥omi£_gë_ªsu…
 (
obj_p
);

726 
	`ecma_íqueue_¥omi£_ªa˘i⁄_job
 (
	`ecma_make_obje˘_vÆue
 (
ªje˘_ªa˘i⁄_p
), 
ªas⁄
);

727 
	`ecma_‰ì_vÆue
 (
ªas⁄
);

731 
ecma_vÆue_t
 
ªt
 = 
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsu…_ˇ∑bûôy
), 
°r_¥omi£
);

733 
	`ecma_dîef_obje˘
 (
fulfûl_ªa˘i⁄_p
);

734 
	`ecma_dîef_obje˘
 (
ªje˘_ªa˘i⁄_p
);

735 
	`ecma_dîef_ecma_°rög
 (
°r_ˇ∑bûôy
);

736 
	`ecma_dîef_ecma_°rög
 (
°r_h™dÀr
);

737 
	`ecma_dîef_ecma_°rög
 (
°r_¥omi£
);

738  
ªt
;

739 
	}
}

748 
ecma_vÆue_t


749 
	$ecma_¥omi£_thí
 (
ecma_vÆue_t
 
¥omi£
,

750 
ecma_vÆue_t
 
⁄_fulfûÀd
,

751 
ecma_vÆue_t
 
⁄_ªje˘ed
)

753 i‡(!
	`ecma_is_vÆue_obje˘
 (
¥omi£
))

755  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotán object."));

758 
ecma_obje˘_t
 *
obj
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¥omi£
);

760 i‡(!
	`ecma_is_¥omi£
 (
obj
))

762  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("'this' isÇotá Promise."));

765 
ecma_vÆue_t
 
ªsu…_ˇ∑bûôy
 = 
	`ecma_¥omi£_√w_ˇ∑bûôy
 ();

767 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…_ˇ∑bûôy
))

769  
ªsu…_ˇ∑bûôy
;

772 
ecma_vÆue_t
 
ªt
 = 
	`ecma_¥omi£_do_thí
 (
¥omi£
, 
⁄_fulfûÀd
, 
⁄_ªje˘ed
, 
ªsu…_ˇ∑bûôy
);

773 
	`ecma_‰ì_vÆue
 (
ªsu…_ˇ∑bûôy
);

775  
ªt
;

776 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-promise-object.h

16 #i‚de‡
ECMA_PROMISE_OBJECT_H


17 
	#ECMA_PROMISE_OBJECT_H


	)

19 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


20 
	~"ecma-globÆs.h
"

34 
	mECMA_PROMISE_STATE_PENDING
,

35 
	mECMA_PROMISE_STATE_FULFILLED
,

36 
	mECMA_PROMISE_STATE_REJECTED
,

37 
	mECMA_PROMISE_STATE__COUNT


38 } 
	tecma_¥omi£_°©e_t
;

45 
	mECMA_PROMISE_EXECUTOR_FUNCTION
,

46 
	mECMA_PROMISE_EXECUTOR_OBJECT
,

47 
	mECMA_PROMISE_EXECUTOR_EMPTY


48 } 
	tecma_¥omi£_execut‹_ty≥_t
;

55 
ecma_vÆue_t
 
	mªsﬁve
;

56 
ecma_vÆue_t
 
	mªje˘
;

57 } 
	tecma_¥omi£_ªsﬁvög_fun˘i⁄s_t
;

65 
ecma_exãnded_obje˘_t
 
	mecma_exãnded_obje˘_t
;

66 
uöt8_t
 
	m°©e
;

67 
ecma_cﬁÀ˘i⁄_hódî_t
 *
	mfulfûl_ªa˘i⁄s
;

68 
ecma_cﬁÀ˘i⁄_hódî_t
 *
	mªje˘_ªa˘i⁄s
;

69 } 
	tecma_¥omi£_obje˘_t
;

77 
	mECMA_PROMISE_PROPERTY_PROMISE
,

78 
	mECMA_PROMISE_PROPERTY_RESOLVE
,

79 
	mECMA_PROMISE_PROPERTY_REJECT
,

80 
	mECMA_PROMISE_PROPERTY_CAPABILITY
,

81 
	mECMA_PROMISE_PROPERTY_HANDLER
,

82 
	mECMA_PROMISE_PROPERTY_ALREADY_CALLED
,

83 
	mECMA_PROMISE_PROPERTY_INDEX
,

84 
	mECMA_PROMISE_PROPERTY_VALUE
,

85 
	mECMA_PROMISE_PROPERTY_REMAINING_ELEMENT


86 } 
	tecma_¥omi£_¥›îty_symbﬁic_c⁄°™t_t
;

88 
boﬁ
 
ecma_is_¥omi£
 (
ecma_obje˘_t
 *
obj_p
);

89 
ecma_vÆue_t
 
ecma_¥omi£_gë_ªsu…
 (
ecma_obje˘_t
 *
obj_p
);

90 
ecma_¥omi£_£t_ªsu…
 (
ecma_obje˘_t
 *
obj_p
, 
ecma_vÆue_t
 
ªsu…
);

91 
uöt8_t
 
ecma_¥omi£_gë_°©e
 (
ecma_obje˘_t
 *
obj_p
);

92 
ecma_¥omi£_£t_°©e
 (
ecma_obje˘_t
 *
obj_p
, 
uöt8_t
 
°©e
);

93 
ecma_vÆue_t


94 
ecma_›_¸óã_¥omi£_obje˘
 (
ecma_vÆue_t
 
execut‹
, 
ecma_¥omi£_execut‹_ty≥_t
 
ty≥
);

95 
ecma_vÆue_t
 
ecma_¥omi£_√w_ˇ∑bûôy
 ();

96 
ecma_vÆue_t


97 
ecma_¥omi£_thí
 (
ecma_vÆue_t
 
¥omi£
,

98 
ecma_vÆue_t
 
⁄_fulfûÀd
,

99 
ecma_vÆue_t
 
⁄_ªje˘ed
);

	@deps/jerry/jerry-core/ecma/operations/ecma-reference.c

16 
	~"ecma-ex˚±i⁄s.h
"

17 
	~"ecma-fun˘i⁄-obje˘.h
"

18 
	~"ecma-gc.h
"

19 
	~"ecma-globÆs.h
"

20 
	~"ecma-hñ≥rs.h
"

21 
	~"ecma-lˇche.h
"

22 
	~"ecma-Àx-ív.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-ª„ªn˚.h
"

25 
	~"jπ.h
"

41 
ecma_obje˘_t
 *

42 
	$ecma_›_ªsﬁve_ª„ªn˚_ba£
 (
ecma_obje˘_t
 *
Àx_ív_p
,

43 
ecma_°rög_t
 *
«me_p
)

45 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL
);

47 
ecma_obje˘_t
 *
Àx_ív_ôî_p
 = 
Àx_ív_p
;

49 
Àx_ív_ôî_p
 !
NULL
)

51 i‡(
	`ecma_›_has_bödög
 (
Àx_ív_ôî_p
, 
«me_p
))

53  
Àx_ív_ôî_p
;

56 
Àx_ív_ôî_p
 = 
	`ecma_gë_Àx_ív_ouãr_ª„ªn˚
 (lex_env_iter_p);

59  
NULL
;

60 
	}
}

67 
ecma_vÆue_t


68 
	$ecma_›_ªsﬁve_ª„ªn˚_vÆue
 (
ecma_obje˘_t
 *
Àx_ív_p
,

69 
ecma_°rög_t
 *
«me_p
)

71 
	`JERRY_ASSERT
 (
Àx_ív_p
 !
NULL
);

73 
Àx_ív_p
 !
NULL
)

75 i‡(
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_DECLARATIVE
)

77 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
Àx_ív_p
, 
«me_p
);

79 i‡(
¥›îty_p
 !
NULL
)

81  
	`ecma_Á°_c›y_vÆue
 (
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
)->
vÆue
);

86 
	`JERRY_ASSERT
 (
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_OBJECT_BOUND


87 || 
	`ecma_gë_Àx_ív_ty≥
 (
Àx_ív_p
Ë=
ECMA_LEXICAL_ENVIRONMENT_THIS_OBJECT_BOUND
);

89 
ecma_obje˘_t
 *
bödög_obj_p
 = 
	`ecma_gë_Àx_ív_bödög_obje˘
 (
Àx_ív_p
);

91 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_lˇche_lookup
 (
bödög_obj_p
, 
«me_p
);

93 i‡(
¥›îty_p
 !
NULL
)

95 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

97 i‡(
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
)

99  
	`ecma_Á°_c›y_vÆue
 (
¥›_vÆue_p
->
vÆue
);

102 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
);

104 
ecma_obje˘_t
 *
gëãr_p
 = 
	`ecma_gë_«med_ac˚ss‹_¥›îty_gëãr
 (
¥›_vÆue_p
);

106 i‡(
gëãr_p
 =
NULL
)

108  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

111 
ecma_vÆue_t
 
ba£_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
bödög_obj_p
);

112  
	`ecma_›_fun˘i⁄_ˇŒ
 (
gëãr_p
, 
ba£_vÆue
, 
NULL
, 0);

115 
ecma_vÆue_t
 
¥›_vÆue
 = 
	`ecma_›_obje˘_föd
 (
bödög_obj_p
, 
«me_p
);

117 i‡(
	`ecma_is_vÆue_found
 (
¥›_vÆue
))

119  
¥›_vÆue
;

123 
Àx_ív_p
 = 
	`ecma_gë_Àx_ív_ouãr_ª„ªn˚
 (lex_env_p);

126 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


127 
ecma_vÆue_t
 
«me_vÆ
 = 
	`ecma_make_°rög_vÆue
 (
«me_p
);

128 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ECMA_ERROR_REFERENCE
,

130 
«me_vÆ
);

132 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_ª„ªn˚_îr‹
 (
NULL
);

134  
îr‹_vÆue
;

135 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-reference.h

16 #i‚de‡
ECMA_REFERENCE_H


17 
	#ECMA_REFERENCE_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"jπ.h
"

29 
ecma_obje˘_t
 *
ecma_›_ªsﬁve_ª„ªn˚_ba£
 (ecma_obje˘_à*
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
);

30 
ecma_vÆue_t
 
ecma_›_ªsﬁve_ª„ªn˚_vÆue
 (
ecma_obje˘_t
 *
Àx_ív_p
, 
ecma_°rög_t
 *
«me_p
);

	@deps/jerry/jerry-core/ecma/operations/ecma-regexp-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-¨øy-obje˘.h
"

18 
	~"ecma-buûtö-hñ≥rs.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-gc.h
"

21 
	~"ecma-globÆs.h
"

22 
	~"ecma-obje˘s.h
"

23 
	~"ecma-ªgexp-obje˘.h
"

24 
	~"ecma-åy-ˇtch-ma¸o.h
"

25 
	~"jπ-libc-ö˛udes.h
"

26 
	~"lô-ch¨-hñ≥rs.h
"

27 
	~"ª-compûî.h
"

29 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


31 
	#ECMA_BUILTINS_INTERNAL


	)

32 
	~"ecma-buûtös-öã∫Æ.h
"

54 
	#RE_GLOBAL_START_IDX
 0

	)

55 
	#RE_GLOBAL_END_IDX
 1

	)

60 
	#RE_IS_CAPTURE_GROUP
(
x
Ë(((xË< 
RE_OP_NON_CAPTURE_GROUP_START
Ë? 1 : 0)

	)

72 
ecma_vÆue_t


73 
	$ª_∑r£_ªgexp_Êags
 (
ecma_°rög_t
 *
Êags_°r_p
,

74 
uöt16_t
 *
Êags_p
)

76 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

78 
	`ECMA_STRING_TO_UTF8_STRING
 (
Êags_°r_p
, 
Êags_°¨t_p
, 
Êags_°¨t_size
);

80 c⁄° 
lô_utf8_byã_t
 *
Êags_°r_cuº_p
 = 
Êags_°¨t_p
;

81 c⁄° 
lô_utf8_byã_t
 *
Êags_°r_íd_p
 = 
Êags_°¨t_p
 + 
Êags_°¨t_size
;

83 
Êags_°r_cuº_p
 < 
Êags_°r_íd_p


84 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

86 *
Êags_°r_cuº_p
++)

90 i‡(*
Êags_p
 & 
RE_FLAG_GLOBAL
)

92 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid RegExp flags."));

94 *
Êags_p
 |
RE_FLAG_GLOBAL
;

99 i‡(*
Êags_p
 & 
RE_FLAG_IGNORE_CASE
)

101 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid RegExp flags."));

103 *
Êags_p
 |
RE_FLAG_IGNORE_CASE
;

108 i‡(*
Êags_p
 & 
RE_FLAG_MULTILINE
)

110 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid RegExp flags."));

112 *
Êags_p
 |
RE_FLAG_MULTILINE
;

117 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid RegExp flags."));

123 
	`ECMA_FINALIZE_UTF8_STRING
 (
Êags_°¨t_p
, 
Êags_°¨t_size
);

125  
ªt_vÆue
;

126 
	}
}

132 
	$ª_£t_d©a_¥›îty
 (
ecma_obje˘_t
 *
ª_obje˘_p
,

133 
ecma_°rög_t
 *
¥›îty_«me_p
,

134 
uöt8_t
 
¥›_©åibuãs
,

135 
ecma_vÆue_t
 
vÆue
)

137 
ecma_¥›îty_ªf_t
 
¥›îty_ªf
;

138 
ecma_¥›îty_t
 
¥›îty
 = 
	`ecma_›_obje˘_gë_own_¥›îty
 (
ª_obje˘_p
,

139 
¥›îty_«me_p
,

140 &
¥›îty_ªf
,

141 
ECMA_PROPERTY_GET_VALUE
);

143 i‡(
¥›îty
 =
ECMA_PROPERTY_TYPE_NOT_FOUND
)

145 
¥›îty_ªf
.
vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
ª_obje˘_p
,

146 
¥›îty_«me_p
,

147 
¥›_©åibuãs
,

148 
NULL
);

152 
	`JERRY_ASSERT
 (
	`ECMA_PROPERTY_GET_TYPE
 (
¥›îty
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA


153 && !
	`ecma_is_¥›îty_c⁄figuøbÀ
 (
¥›îty
));

156 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
ª_obje˘_p
, 
¥›îty_ªf
.
vÆue_p
, 
vÆue
);

157 
	}
}

163 
	$ª_öôülize_¥›s
 (
ecma_obje˘_t
 *
ª_obj_p
,

164 
ecma_°rög_t
 *
sour˚_p
,

165 
uöt16_t
 
Êags
)

168 
ecma_°rög_t
 *
magic_°rög_p
;

170 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_SOURCE
);

171 
	`ª_£t_d©a_¥›îty
 (
ª_obj_p
,

172 
magic_°rög_p
,

173 
ECMA_PROPERTY_FIXED
,

174 
	`ecma_make_°rög_vÆue
 (
sour˚_p
));

175 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

178 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_GLOBAL
);

179 
	`ª_£t_d©a_¥›îty
 (
ª_obj_p
,

180 
magic_°rög_p
,

181 
ECMA_PROPERTY_FIXED
,

182 
	`ecma_make_boﬁón_vÆue
 (
Êags
 & 
RE_FLAG_GLOBAL
));

183 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

186 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_IGNORECASE_UL
);

187 
	`ª_£t_d©a_¥›îty
 (
ª_obj_p
,

188 
magic_°rög_p
,

189 
ECMA_PROPERTY_FIXED
,

190 
	`ecma_make_boﬁón_vÆue
 (
Êags
 & 
RE_FLAG_IGNORE_CASE
));

191 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

194 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_MULTILINE
);

195 
	`ª_£t_d©a_¥›îty
 (
ª_obj_p
,

196 
magic_°rög_p
,

197 
ECMA_PROPERTY_FIXED
,

198 
	`ecma_make_boﬁón_vÆue
 (
Êags
 & 
RE_FLAG_MULTILINE
));

199 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

202 
magic_°rög_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

203 
	`ª_£t_d©a_¥›îty
 (
ª_obj_p
,

204 
magic_°rög_p
,

205 
ECMA_PROPERTY_FLAG_WRITABLE
,

206 
	`ecma_make_öãgî_vÆue
 (0));

207 
	`ecma_dîef_ecma_°rög
 (
magic_°rög_p
);

208 
	}
}

218 
ecma_vÆue_t


219 
	$ecma_›_¸óã_ªgexp_obje˘_‰om_byãcode
 (
ª_compûed_code_t
 *
byãcode_p
)

221 
	`JERRY_ASSERT
 (
byãcode_p
 !
NULL
);

223 
ecma_obje˘_t
 *
ª_¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_REGEXP_PROTOTYPE
);

225 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
ª_¥ŸŸy≥_obj_p
,

226  (
ecma_exãnded_obje˘_t
),

227 
ECMA_OBJECT_TYPE_CLASS
);

229 
	`ecma_dîef_obje˘
 (
ª_¥ŸŸy≥_obj_p
);

231 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

234 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_REGEXP_UL
;

237 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
, 
byãcode_p
);

238 
	`ecma_byãcode_ªf
 ((
ecma_compûed_code_t
 *Ë
byãcode_p
);

241 
	`ª_öôülize_¥›s
 (
obje˘_p
,

242 
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_°rög_t
, 
byãcode_p
->
∑âîn_˝
),

243 
byãcode_p
->
hódî
.
°©us_Êags
);

245  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

246 
	}
}

258 
ecma_vÆue_t


259 
	$ecma_›_¸óã_ªgexp_obje˘
 (
ecma_°rög_t
 *
∑âîn_p
,

260 
ecma_°rög_t
 *
Êags_°r_p
)

262 
	`JERRY_ASSERT
 (
∑âîn_p
 !
NULL
);

263 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

264 
uöt16_t
 
Êags
 = 0;

266 i‡(
Êags_°r_p
 !
NULL
)

268 
	`ECMA_TRY_CATCH
 (
em±y
, 
	`ª_∑r£_ªgexp_Êags
 (
Êags_°r_p
, &
Êags
), 
ªt_vÆue
);

269 
	`ECMA_FINALIZE
 (
em±y
);

271 i‡(!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

273  
ªt_vÆue
;

277 
ecma_obje˘_t
 *
ª_¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_REGEXP_PROTOTYPE
);

279 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
ª_¥ŸŸy≥_obj_p
,

280  (
ecma_exãnded_obje˘_t
),

281 
ECMA_OBJECT_TYPE_CLASS
);

283 
	`ecma_dîef_obje˘
 (
ª_¥ŸŸy≥_obj_p
);

285 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

286 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_UNDEFINED
;

288 
	`ª_öôülize_¥›s
 (
obje˘_p
, 
∑âîn_p
, 
Êags
);

291 c⁄° 
ª_compûed_code_t
 *
bc_p
 = 
NULL
;

292 
	`ECMA_TRY_CATCH
 (
em±y
, 
	`ª_compûe_byãcode
 (&
bc_p
, 
∑âîn_p
, 
Êags
), 
ªt_vÆue
);

295 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_REGEXP_UL
;

296 
	`ECMA_SET_INTERNAL_VALUE_POINTER
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
, 
bc_p
);

298 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

300 
	`ECMA_FINALIZE
 (
em±y
);

302 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

304 
	`ecma_dîef_obje˘
 (
obje˘_p
);

307  
ªt_vÆue
;

308 
	}
}

317 
ölöe
 
ecma_ch¨_t
 
__©å_Æways_ölöe___


318 
	$ª_ˇn⁄iˇlize
 (
ecma_ch¨_t
 
ch
,

319 
boﬁ
 
is_ign‹eˇ£
)

321 
ecma_ch¨_t
 
ªt_vÆue
 = 
ch
;

323 i‡(
is_ign‹eˇ£
)

325 i‡(
ch
 < 128)

328 i‡(
ch
 >
LIT_CHAR_LOWERCASE_A
 && ch <
LIT_CHAR_LOWERCASE_Z
)

330 
ªt_vÆue
 = (
ecma_ch¨_t
Ë(
ch
 - (
LIT_CHAR_LOWERCASE_A
 - 
LIT_CHAR_UPPERCASE_A
));

336 
ecma_ch¨_t
 
u
[
LIT_MAXIMUM_OTHER_CASE_LENGTH
];

337 
ecma_Àngth_t
 
size
 = 
	`lô_ch¨_to_uµî_ˇ£
 (
ch
, 
u
, 
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

340 i‡(
size
 == 1)

343 
ecma_ch¨_t
 
cu
 = 
u
[0];

345 i‡(
cu
 >= 128)

348 
ªt_vÆue
 = 
cu
;

354  
ªt_vÆue
;

355 
	}
}

369 
ecma_vÆue_t


370 
	$ª_m©ch_ªgexp
 (
ª_m©chî_˘x_t
 *
ª_˘x_p
,

371 
uöt8_t
 *
bc_p
,

372 c⁄° 
lô_utf8_byã_t
 *
°r_p
,

373 c⁄° 
lô_utf8_byã_t
 **
out_°r_p
)

375 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

376 
ª_›code_t
 
›
;

378 c⁄° 
lô_utf8_byã_t
 *
°r_cuº_p
 = 
°r_p
;

380 (
›
 = 
	`ª_gë_›code
 (&
bc_p
)))

382 
›
)

384 
RE_OP_MATCH
:

386 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_MATCH: match\n");

387 *
out_°r_p
 = 
°r_cuº_p
;

388 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

389  
ªt_vÆue
;

391 
RE_OP_CHAR
:

393 i‡(
°r_cuº_p
 >
ª_˘x_p
->
öput_íd_p
)

395  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

398 
boﬁ
 
is_ign‹eˇ£
 = 
ª_˘x_p
->
Êags
 & 
RE_FLAG_IGNORE_CASE
;

399 
ecma_ch¨_t
 
ch1
 = (ecma_ch¨_tË
	`ª_gë_ch¨
 (&
bc_p
);

400 
ecma_ch¨_t
 
ch2
 = 
	`ª_ˇn⁄iˇlize
 (
	`lô_utf8_ªad_√xt
 (&
°r_cuº_p
), 
is_ign‹eˇ£
);

401 
	`JERRY_TRACE_MSG
 ("Ch¨a˘î m©chög %dÅÿ%d: ", 
ch1
, 
ch2
);

403 i‡(
ch1
 !
ch2
)

405 
	`JERRY_TRACE_MSG
 ("fail\n");

406  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

409 
	`JERRY_TRACE_MSG
 ("match\n");

413 
RE_OP_PERIOD
:

415 i‡(
°r_cuº_p
 >
ª_˘x_p
->
öput_íd_p
)

417  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

420 
ecma_ch¨_t
 
ch
 = 
	`lô_utf8_ªad_√xt
 (&
°r_cuº_p
);

421 
	`JERRY_TRACE_MSG
 ("Pîiod m©chög '.'Åÿ%u: ", (Ë
ch
);

423 i‡(
	`lô_ch¨_is_löe_ãrmö©‹
 (
ch
))

425 
	`JERRY_TRACE_MSG
 ("fail\n");

426  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

429 
	`JERRY_TRACE_MSG
 ("match\n");

432 
RE_OP_ASSERT_START
:

434 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_ASSERT_START: ");

436 i‡(
°r_cuº_p
 <
ª_˘x_p
->
öput_°¨t_p
)

438 
	`JERRY_TRACE_MSG
 ("match\n");

442 i‡(!(
ª_˘x_p
->
Êags
 & 
RE_FLAG_MULTILINE
))

444 
	`JERRY_TRACE_MSG
 ("fail\n");

445  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

448 i‡(
	`lô_ch¨_is_löe_ãrmö©‹
 (
	`lô_utf8_≥ek_¥ev
 (
°r_cuº_p
)))

450 
	`JERRY_TRACE_MSG
 ("match\n");

454 
	`JERRY_TRACE_MSG
 ("fail\n");

455  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

457 
RE_OP_ASSERT_END
:

459 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_ASSERT_END: ");

461 i‡(
°r_cuº_p
 >
ª_˘x_p
->
öput_íd_p
)

463 
	`JERRY_TRACE_MSG
 ("match\n");

467 i‡(!(
ª_˘x_p
->
Êags
 & 
RE_FLAG_MULTILINE
))

469 
	`JERRY_TRACE_MSG
 ("fail\n");

470  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

473 i‡(
	`lô_ch¨_is_löe_ãrmö©‹
 (
	`lô_utf8_≥ek_√xt
 (
°r_cuº_p
)))

475 
	`JERRY_TRACE_MSG
 ("match\n");

479 
	`JERRY_TRACE_MSG
 ("fail\n");

480  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

482 
RE_OP_ASSERT_WORD_BOUNDARY
:

483 
RE_OP_ASSERT_NOT_WORD_BOUNDARY
:

485 
boﬁ
 
is_w‹dch¨_À·
, 
is_w‹dch¨_right
;

487 i‡(
°r_cuº_p
 <
ª_˘x_p
->
öput_°¨t_p
)

489 
is_w‹dch¨_À·
 = 
Ál£
;

493 
is_w‹dch¨_À·
 = 
	`lô_ch¨_is_w‹d_ch¨
 (
	`lô_utf8_≥ek_¥ev
 (
°r_cuº_p
));

496 i‡(
°r_cuº_p
 >
ª_˘x_p
->
öput_íd_p
)

498 
is_w‹dch¨_right
 = 
Ál£
;

502 
is_w‹dch¨_right
 = 
	`lô_ch¨_is_w‹d_ch¨
 (
	`lô_utf8_≥ek_√xt
 (
°r_cuº_p
));

505 i‡(
›
 =
RE_OP_ASSERT_WORD_BOUNDARY
)

507 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_ASSERT_WORD_BOUNDARY: ");

508 i‡(
is_w‹dch¨_À·
 =
is_w‹dch¨_right
)

510 
	`JERRY_TRACE_MSG
 ("fail\n");

511  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

516 
	`JERRY_ASSERT
 (
›
 =
RE_OP_ASSERT_NOT_WORD_BOUNDARY
);

517 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_ASSERT_NOT_WORD_BOUNDARY: ");

519 i‡(
is_w‹dch¨_À·
 !
is_w‹dch¨_right
)

521 
	`JERRY_TRACE_MSG
 ("fail\n");

522  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

526 
	`JERRY_TRACE_MSG
 ("match\n");

529 
RE_OP_LOOKAHEAD_POS
:

530 
RE_OP_LOOKAHEAD_NEG
:

532 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

533 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

535 
uöt32_t
 
¨øy_size
 = 
ª_˘x_p
->
num_of_ˇ±uªs
 +Ñe_˘x_p->
num_of_n⁄_ˇ±uªs
;

536 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ßved_bck_p
, 
¨øy_size
, 
lô_utf8_byã_t
 *);

538 
size_t
 
size
 = (size_tË(
¨øy_size
Ë*  (
lô_utf8_byã_t
 *);

539 
	`mem˝y
 (
ßved_bck_p
, 
ª_˘x_p
->
ßved_p
, 
size
);

543 
uöt32_t
 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

545 i‡(!
sub_°r_p
)

547 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

548 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

553 
bc_p
 +
off£t
;

555 
	`ª_gë_›code
 (&
bc_p
Ë=
RE_OP_ALTERNATIVE
);

557 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

559 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_LOOKAHEAD_POS/NEG: ");

560 
	`ecma_‰ì_vÆue
 (
m©ch_vÆue
);

561 i‡((
›
 =
RE_OP_LOOKAHEAD_POS
 && 
sub_°r_p
)

562 || (
›
 =
RE_OP_LOOKAHEAD_NEG
 && !
sub_°r_p
))

564 
	`JERRY_TRACE_MSG
 ("match\n");

565 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

569 
	`JERRY_TRACE_MSG
 ("fail\n");

570 
m©ch_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

574 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

576 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

578 *
out_°r_p
 = 
sub_°r_p
;

582 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
m©ch_vÆue
));

584 
	`mem˝y
 (
ª_˘x_p
->
ßved_p
, 
ßved_bck_p
, 
size
);

588 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ßved_bck_p
);

589  
m©ch_vÆue
;

591 
RE_OP_CHAR_CLASS
:

592 
RE_OP_INV_CHAR_CLASS
:

594 
uöt32_t
 
num_of_ønges
;

595 
boﬁ
 
is_m©ch
;

597 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_CHAR_CLASS/RE_OP_INV_CHAR_CLASS, ");

598 i‡(
°r_cuº_p
 >
ª_˘x_p
->
öput_íd_p
)

600 
	`JERRY_TRACE_MSG
 ("fail\n");

601  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

604 
boﬁ
 
is_ign‹eˇ£
 = 
ª_˘x_p
->
Êags
 & 
RE_FLAG_IGNORE_CASE
;

605 
ecma_ch¨_t
 
cuº_ch
 = 
	`ª_ˇn⁄iˇlize
 (
	`lô_utf8_ªad_√xt
 (&
°r_cuº_p
), 
is_ign‹eˇ£
);

607 
num_of_ønges
 = 
	`ª_gë_vÆue
 (&
bc_p
);

608 
is_m©ch
 = 
Ál£
;

610 
num_of_ønges
)

612 
ecma_ch¨_t
 
ch1
 = 
	`ª_ˇn⁄iˇlize
 (
	`ª_gë_ch¨
 (&
bc_p
), 
is_ign‹eˇ£
);

613 
ecma_ch¨_t
 
ch2
 = 
	`ª_ˇn⁄iˇlize
 (
	`ª_gë_ch¨
 (&
bc_p
), 
is_ign‹eˇ£
);

614 
	`JERRY_TRACE_MSG
 ("num_of_ranges=%u, ch1=%u, ch2=%u, curr_ch=%u; ",

615 (Ë
num_of_ønges
, (Ë
ch1
,

616 (Ë
ch2
, (Ë
cuº_ch
);

618 i‡(
cuº_ch
 >
ch1
 && cuº_ch <
ch2
)

621 
is_m©ch
 = 
åue
;

623 
num_of_ønges
--;

626 i‡(
›
 =
RE_OP_CHAR_CLASS
)

628 i‡(!
is_m©ch
)

630 
	`JERRY_TRACE_MSG
 ("fail\n");

631  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

636 
	`JERRY_ASSERT
 (
›
 =
RE_OP_INV_CHAR_CLASS
);

637 i‡(
is_m©ch
)

639 
	`JERRY_TRACE_MSG
 ("fail\n");

640  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

643 
	`JERRY_TRACE_MSG
 ("match\n");

646 
RE_OP_BACKREFERENCE
:

648 
uöt32_t
 
backªf_idx
;

650 
backªf_idx
 = 
	`ª_gë_vÆue
 (&
bc_p
);

651 
	`JERRY_TRACE_MSG
 ("Execuã RE_OP_BACKREFERENCE (idx: %u): ", (Ë
backªf_idx
);

652 
backªf_idx
 *= 2;

653 
	`JERRY_ASSERT
 (
backªf_idx
 >2 && backªf_idx + 1 < 
ª_˘x_p
->
num_of_ˇ±uªs
);

655 i‡(!
ª_˘x_p
->
ßved_p
[
backªf_idx
] || !re_ctx_p->saved_p[backref_idx + 1])

657 
	`JERRY_TRACE_MSG
 ("match\n");

661 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
ª_˘x_p
->
ßved_p
[
backªf_idx
];

663 
sub_°r_p
 < 
ª_˘x_p
->
ßved_p
[
backªf_idx
 + 1])

665 
ecma_ch¨_t
 
ch1
, 
ch2
;

667 i‡(
°r_cuº_p
 >
ª_˘x_p
->
öput_íd_p
)

669 
	`JERRY_TRACE_MSG
 ("fail\n");

670  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

673 
ch1
 = 
	`lô_utf8_ªad_√xt
 (&
sub_°r_p
);

674 
ch2
 = 
	`lô_utf8_ªad_√xt
 (&
°r_cuº_p
);

676 i‡(
ch1
 !
ch2
)

678 
	`JERRY_TRACE_MSG
 ("fail\n");

679  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

682 
	`JERRY_TRACE_MSG
 ("match\n");

685 
RE_OP_SAVE_AT_START
:

687 
uöt8_t
 *
ﬁd_bc_p
;

689 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_SAVE_AT_START\n");

690 c⁄° 
lô_utf8_byã_t
 *
ﬁd_°¨t_p
 = 
ª_˘x_p
->
ßved_p
[
RE_GLOBAL_START_IDX
];

691 
ª_˘x_p
->
ßved_p
[
RE_GLOBAL_START_IDX
] = 
°r_cuº_p
;

695 
uöt32_t
 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

696 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

697 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

699 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

701 *
out_°r_p
 = 
sub_°r_p
;

702  
m©ch_vÆue
;

704 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

706  
m©ch_vÆue
;

709 
bc_p
 +
off£t
;

710 
ﬁd_bc_p
 = 
bc_p
;

712 
	`ª_gë_›code
 (&
bc_p
Ë=
RE_OP_ALTERNATIVE
);

713 
bc_p
 = 
ﬁd_bc_p
;

715 
ª_˘x_p
->
ßved_p
[
RE_GLOBAL_START_IDX
] = 
ﬁd_°¨t_p
;

716  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

718 
RE_OP_SAVE_AND_MATCH
:

720 
	`JERRY_TRACE_MSG
 ("End ofÖattern isÑeached: match\n");

721 
ª_˘x_p
->
ßved_p
[
RE_GLOBAL_END_IDX
] = 
°r_cuº_p
;

722 *
out_°r_p
 = 
°r_cuº_p
;

723  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

725 
RE_OP_ALTERNATIVE
:

730 
uöt32_t
 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

731 
	`JERRY_TRACE_MSG
 ("Execute RE_OP_ALTERNATIVE");

732 
bc_p
 +
off£t
;

734 *
bc_p
 =
RE_OP_ALTERNATIVE
)

736 
	`JERRY_TRACE_MSG
 (", jump: %u", (Ë
off£t
);

737 
bc_p
++;

738 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

739 
bc_p
 +
off£t
;

742 
	`JERRY_TRACE_MSG
 ("\n");

745 
RE_OP_CAPTURE_NON_GREEDY_ZERO_GROUP_START
:

746 
RE_OP_NON_CAPTURE_NON_GREEDY_ZERO_GROUP_START
:

752 
uöt32_t
 
°¨t_idx
, 
ôî_idx
, 
off£t
;

753 c⁄° 
lô_utf8_byã_t
 *
ﬁd_°¨t_p
 = 
NULL
;

754 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

755 
uöt8_t
 *
ﬁd_bc_p
;

757 
ﬁd_bc_p
 = 
bc_p
;

758 
°¨t_idx
 = 
	`ª_gë_vÆue
 (&
bc_p
);

759 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

761 i‡(
	`RE_IS_CAPTURE_GROUP
 (
›
))

763 
	`JERRY_ASSERT
 (
°¨t_idx
 <
ª_˘x_p
->
num_of_ˇ±uªs
 / 2);

764 
ôî_idx
 = 
°¨t_idx
 - 1;

765 
°¨t_idx
 *= 2;

767 
ﬁd_°¨t_p
 = 
ª_˘x_p
->
ßved_p
[
°¨t_idx
];

768 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
°r_cuº_p
;

772 
	`JERRY_ASSERT
 (
°¨t_idx
 < 
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
);

773 
ôî_idx
 = 
°¨t_idx
 + (
ª_˘x_p
->
num_of_ˇ±uªs
 / 2) - 1;

774 
°¨t_idx
 +
ª_˘x_p
->
num_of_ˇ±uªs
;

776 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] = 0;

779 
bc_p
 +
off£t
;

782 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

784 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

786 *
out_°r_p
 = 
sub_°r_p
;

787  
m©ch_vÆue
;

789 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

791  
m©ch_vÆue
;

793 i‡(
	`RE_IS_CAPTURE_GROUP
 (
›
))

795 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
ﬁd_°¨t_p
;

798 
bc_p
 = 
ﬁd_bc_p
;

801 
RE_OP_CAPTURE_GROUP_START
:

802 
RE_OP_CAPTURE_GREEDY_ZERO_GROUP_START
:

803 
RE_OP_NON_CAPTURE_GROUP_START
:

804 
RE_OP_NON_CAPTURE_GREEDY_ZERO_GROUP_START
:

806 
uöt32_t
 
°¨t_idx
, 
ôî_idx
, 
ﬁd_ôî©i⁄_˙t
, 
off£t
;

807 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

808 
uöt8_t
 *
ﬁd_bc_p
;

809 
uöt8_t
 *
íd_bc_p
 = 
NULL
;

810 
°¨t_idx
 = 
	`ª_gë_vÆue
 (&
bc_p
);

812 i‡(
›
 !
RE_OP_CAPTURE_GROUP_START


813 && 
›
 !
RE_OP_NON_CAPTURE_GROUP_START
)

815 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

816 
íd_bc_p
 = 
bc_p
 + 
off£t
;

819 i‡(
	`RE_IS_CAPTURE_GROUP
 (
›
))

821 
	`JERRY_ASSERT
 (
°¨t_idx
 <
ª_˘x_p
->
num_of_ˇ±uªs
 / 2);

822 
ôî_idx
 = 
°¨t_idx
 - 1;

823 
°¨t_idx
 *= 2;

827 
	`JERRY_ASSERT
 (
°¨t_idx
 < 
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
);

828 
ôî_idx
 = 
°¨t_idx
 + (
ª_˘x_p
->
num_of_ˇ±uªs
 / 2) - 1;

829 
°¨t_idx
 +
ª_˘x_p
->
num_of_ˇ±uªs
;

832 c⁄° 
lô_utf8_byã_t
 *
ﬁd_°¨t_p
 = 
ª_˘x_p
->
ßved_p
[
°¨t_idx
];

833 
ﬁd_ôî©i⁄_˙t
 = 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
];

834 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
°r_cuº_p
;

835 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] = 0;

839 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

840 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

842 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

844 *
out_°r_p
 = 
sub_°r_p
;

845  
m©ch_vÆue
;

847 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

849  
m©ch_vÆue
;

852 
bc_p
 +
off£t
;

853 
ﬁd_bc_p
 = 
bc_p
;

855 
	`ª_gë_›code
 (&
bc_p
Ë=
RE_OP_ALTERNATIVE
);

856 
bc_p
 = 
ﬁd_bc_p
;

857 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] = 
ﬁd_ôî©i⁄_˙t
;

860 i‡(
›
 =
RE_OP_CAPTURE_GREEDY_ZERO_GROUP_START


861 || 
›
 =
RE_OP_NON_CAPTURE_GREEDY_ZERO_GROUP_START
)

863 
	`JERRY_ASSERT
 (
íd_bc_p
);

864 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
íd_bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

866 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

868 *
out_°r_p
 = 
sub_°r_p
;

869  
m©ch_vÆue
;

871 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

873  
m©ch_vÆue
;

877 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
ﬁd_°¨t_p
;

878  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

880 
RE_OP_CAPTURE_NON_GREEDY_GROUP_END
:

881 
RE_OP_NON_CAPTURE_NON_GREEDY_GROUP_END
:

883 
uöt32_t
 
íd_idx
, 
ôî_idx
, 
mö
, 
max
;

884 
uöt8_t
 *
ﬁd_bc_p
;

890 
ﬁd_bc_p
 = 
bc_p
;

891 
íd_idx
 = 
	`ª_gë_vÆue
 (&
bc_p
);

892 
mö
 = 
	`ª_gë_vÆue
 (&
bc_p
);

893 
max
 = 
	`ª_gë_vÆue
 (&
bc_p
);

894 
	`ª_gë_vÆue
 (&
bc_p
);

896 i‡(
	`RE_IS_CAPTURE_GROUP
 (
›
))

898 
	`JERRY_ASSERT
 (
íd_idx
 <
ª_˘x_p
->
num_of_ˇ±uªs
 / 2);

899 
ôî_idx
 = 
íd_idx
 - 1;

900 
íd_idx
 = (end_idx * 2) + 1;

904 
	`JERRY_ASSERT
 (
íd_idx
 <
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
);

905 
ôî_idx
 = 
íd_idx
 + (
ª_˘x_p
->
num_of_ˇ±uªs
 / 2) - 1;

906 
íd_idx
 +
ª_˘x_p
->
num_of_ˇ±uªs
;

909 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
]++;

911 i‡(
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] >
mö


912 && 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] <
max
)

914 c⁄° 
lô_utf8_byã_t
 *
ﬁd_íd_p
 = 
ª_˘x_p
->
ßved_p
[
íd_idx
];

915 
ª_˘x_p
->
ßved_p
[
íd_idx
] = 
°r_cuº_p
;

917 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

918 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

920 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

922 *
out_°r_p
 = 
sub_°r_p
;

923  
m©ch_vÆue
;

925 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

927  
m©ch_vÆue
;

930 
ª_˘x_p
->
ßved_p
[
íd_idx
] = 
ﬁd_íd_p
;

932 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
]--;

933 
bc_p
 = 
ﬁd_bc_p
;

938 
RE_OP_CAPTURE_GREEDY_GROUP_END
:

939 
RE_OP_NON_CAPTURE_GREEDY_GROUP_END
:

941 
uöt32_t
 
°¨t_idx
, 
íd_idx
, 
ôî_idx
, 
mö
, 
max
, 
off£t
;

942 c⁄° 
lô_utf8_byã_t
 *
ﬁd_°¨t_p
 = 
NULL
;

943 c⁄° 
lô_utf8_byã_t
 *
ﬁd_íd_p
 = 
NULL
;

944 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

945 
uöt8_t
 *
ﬁd_bc_p
;

947 
íd_idx
 = 
	`ª_gë_vÆue
 (&
bc_p
);

948 
mö
 = 
	`ª_gë_vÆue
 (&
bc_p
);

949 
max
 = 
	`ª_gë_vÆue
 (&
bc_p
);

950 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

952 i‡(
	`RE_IS_CAPTURE_GROUP
 (
›
))

954 
	`JERRY_ASSERT
 (
íd_idx
 <
ª_˘x_p
->
num_of_ˇ±uªs
 / 2);

955 
ôî_idx
 = 
íd_idx
 - 1;

956 
°¨t_idx
 = 
íd_idx
 * 2;

957 
íd_idx
 = 
°¨t_idx
 + 1;

961 
	`JERRY_ASSERT
 (
íd_idx
 <
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
);

962 
ôî_idx
 = 
íd_idx
 + (
ª_˘x_p
->
num_of_ˇ±uªs
 / 2) - 1;

963 
íd_idx
 +
ª_˘x_p
->
num_of_ˇ±uªs
;

964 
°¨t_idx
 = 
íd_idx
;

968 i‡(
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] >
mö


969 && 
°r_cuº_p
=
ª_˘x_p
->
ßved_p
[
°¨t_idx
])

971  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

974 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
]++;

976 
ﬁd_bc_p
 = 
bc_p
;

977 
ﬁd_íd_p
 = 
ª_˘x_p
->
ßved_p
[
íd_idx
];

978 
ª_˘x_p
->
ßved_p
[
íd_idx
] = 
°r_cuº_p
;

980 i‡(
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] < 
max
)

982 
bc_p
 -
off£t
;

983 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

985 
ﬁd_°¨t_p
 = 
ª_˘x_p
->
ßved_p
[
°¨t_idx
];

986 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
°r_cuº_p
;

987 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

989 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

991 *
out_°r_p
 = 
sub_°r_p
;

992  
m©ch_vÆue
;

994 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

996  
m©ch_vÆue
;

999 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
ﬁd_°¨t_p
;

1002 
bc_p
 +
off£t
;

1003 *
bc_p
 =
RE_OP_ALTERNATIVE
)

1005 
bc_p
++;

1006 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1008 
ﬁd_°¨t_p
 = 
ª_˘x_p
->
ßved_p
[
°¨t_idx
];

1009 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
°r_cuº_p
;

1011 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

1013 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1015 *
out_°r_p
 = 
sub_°r_p
;

1016  
m©ch_vÆue
;

1018 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

1020  
m©ch_vÆue
;

1023 
ª_˘x_p
->
ßved_p
[
°¨t_idx
] = 
ﬁd_°¨t_p
;

1024 
bc_p
 +
off£t
;

1028 i‡(
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] >
mö


1029 && 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
] <
max
)

1032 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
ﬁd_bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

1034 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1036 *
out_°r_p
 = 
sub_°r_p
;

1037  
m©ch_vÆue
;

1039 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

1041  
m©ch_vÆue
;

1046 
ª_˘x_p
->
ßved_p
[
íd_idx
] = 
ﬁd_íd_p
;

1047 
ª_˘x_p
->
num_of_ôî©i⁄s_p
[
ôî_idx
]--;

1048  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

1050 
RE_OP_NON_GREEDY_ITERATOR
:

1052 
uöt32_t
 
mö
, 
max
, 
off£t
, 
num_of_ôî
;

1053 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

1055 
mö
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1056 
max
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1058 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1059 
	`JERRY_TRACE_MSG
 ("Non-greedy iterator, min=%lu, max=%lu, offset=%ld\n",

1060 (Ë
mö
, (Ë
max
, (Ë
off£t
);

1062 
num_of_ôî
 = 0;

1063 
num_of_ôî
 <
max
)

1065 i‡(
num_of_ôî
 >
mö
)

1067 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
 + 
off£t
, 
°r_cuº_p
, &
sub_°r_p
);

1069 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1071 *
out_°r_p
 = 
sub_°r_p
;

1072  
m©ch_vÆue
;

1074 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

1076  
m©ch_vÆue
;

1080 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

1082 i‡(!
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1084 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

1086  
m©ch_vÆue
;

1092 
°r_cuº_p
 = 
sub_°r_p
;

1093 
num_of_ôî
++;

1095  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

1097 
RE_OP_GREEDY_ITERATOR
:

1099 
uöt32_t
 
mö
, 
max
, 
off£t
, 
num_of_ôî
;

1100 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

1102 
mö
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1103 
max
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1105 
off£t
 = 
	`ª_gë_vÆue
 (&
bc_p
);

1106 
	`JERRY_TRACE_MSG
 ("Greedy iterator, min=%lu, max=%lu, offset=%ld\n",

1107 (Ë
mö
, (Ë
max
, (Ë
off£t
);

1109 
num_of_ôî
 = 0;

1111 
num_of_ôî
 < 
max
)

1113 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
, 
°r_cuº_p
, &
sub_°r_p
);

1115 i‡(!
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1117 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

1119  
m©ch_vÆue
;

1125 
°r_cuº_p
 = 
sub_°r_p
;

1126 
num_of_ôî
++;

1129 
num_of_ôî
 >
mö
)

1131 
ecma_vÆue_t
 
m©ch_vÆue
 = 
	`ª_m©ch_ªgexp
 (
ª_˘x_p
, 
bc_p
 + 
off£t
, 
°r_cuº_p
, &
sub_°r_p
);

1133 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1135 *
out_°r_p
 = 
sub_°r_p
;

1136  
m©ch_vÆue
;

1138 i‡(
	`ECMA_IS_VALUE_ERROR
 (
m©ch_vÆue
))

1140  
m©ch_vÆue
;

1143 i‡(
num_of_ôî
 =
mö
)

1148 
	`lô_utf8_ªad_¥ev
 (&
°r_cuº_p
);

1149 
num_of_ôî
--;

1151  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

1155 
	`JERRY_TRACE_MSG
 ("UNKNOWN opcodê(%u)!\n", (Ë
›
);

1156  
	`ecma_øi£_comm⁄_îr‹
 (
	`ECMA_ERR_MSG
 ("Unknown RegExp opcode."));

1161 
	`JERRY_UNREACHABLE
 ();

1162  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

1163 
	}
}

1169 
	$ª_£t_ªsu…_¨øy_¥›îtõs
 (
ecma_obje˘_t
 *
¨øy_obj_p
,

1170 
ecma_°rög_t
 *
öput_°r_p
,

1171 
uöt32_t
 
num_of_ñemíts
,

1172 
öt32_t
 
ödex
)

1175 
ecma_°rög_t
 *
ªsu…_¥›_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INDEX
);

1177 
	`ecma_buûtö_hñ≥r_def_¥›
 (
¨øy_obj_p
,

1178 
ªsu…_¥›_°r_p
,

1179 
	`ecma_make_öt32_vÆue
 (
ödex
),

1180 
åue
,

1181 
åue
,

1182 
åue
,

1183 
åue
);

1185 
	`ecma_dîef_ecma_°rög
 (
ªsu…_¥›_°r_p
);

1188 
ªsu…_¥›_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_INPUT
);

1190 
	`ecma_buûtö_hñ≥r_def_¥›
 (
¨øy_obj_p
,

1191 
ªsu…_¥›_°r_p
,

1192 
	`ecma_make_°rög_vÆue
 (
öput_°r_p
),

1193 
åue
,

1194 
åue
,

1195 
åue
,

1196 
åue
);

1198 
	`ecma_dîef_ecma_°rög
 (
ªsu…_¥›_°r_p
);

1201 
ªsu…_¥›_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

1203 
ecma_¥›îty_des¸ùt‹_t
 
¨øy_ôem_¥›_desc
 = 
	`ecma_make_em±y_¥›îty_des¸ùt‹
 ();

1204 
¨øy_ôem_¥›_desc
.
is_vÆue_deföed
 = 
åue
;

1206 
¨øy_ôem_¥›_desc
.
vÆue
 = 
	`ecma_make_uöt32_vÆue
 (
num_of_ñemíts
);

1208 
	`ecma_›_obje˘_deföe_own_¥›îty
 (
¨øy_obj_p
,

1209 
ªsu…_¥›_°r_p
,

1210 &
¨øy_ôem_¥›_desc
,

1211 
åue
);

1213 
	`ecma_dîef_ecma_°rög
 (
ªsu…_¥›_°r_p
);

1214 
	}
}

1229 
ecma_vÆue_t


1230 
	$ecma_ªgexp_exec_hñ≥r
 (
ecma_vÆue_t
 
ªgexp_vÆue
,

1231 
ecma_vÆue_t
 
öput_°rög
,

1232 
boﬁ
 
ign‹e_globÆ
)

1234 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

1236 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
ªgexp_vÆue
));

1237 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
öput_°rög
));

1239 
ecma_obje˘_t
 *
ªgexp_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ªgexp_vÆue
);

1241 
	`JERRY_ASSERT
 (
	`ecma_obje˘_˛ass_is
 (
ªgexp_obje˘_p
, 
LIT_MAGIC_STRING_REGEXP_UL
));

1243 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
ªgexp_obje˘_p
;

1244 
ª_compûed_code_t
 *
bc_p
 = 
	`ECMA_GET_INTERNAL_VALUE_POINTER
 (re_compiled_code_t,

1245 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

1247 i‡(
bc_p
 =
NULL
)

1249  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("IncompatibleÅype"));

1252 
ecma_°rög_t
 *
öput_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
öput_°rög
);

1253 
	`ECMA_STRING_TO_UTF8_STRING
 (
öput_°rög_p
, 
öput_buf„r_p
, 
öput_buf„r_size
);

1255 
ª_m©chî_˘x_t
 
ª_˘x
;

1256 c⁄° 
lô_utf8_byã_t
 *
öput_cuº_p
 = 
öput_buf„r_p
;

1258 
ª_˘x
.
öput_°¨t_p
 = 
öput_cuº_p
;

1259 c⁄° 
lô_utf8_byã_t
 *
öput_íd_p
 = 
ª_˘x
.
öput_°¨t_p
 + 
öput_buf„r_size
;

1260 
ª_˘x
.
öput_íd_p
 = input_end_p;

1263 
ª_˘x
.
Êags
 = 
bc_p
->
hódî
.
°©us_Êags
;

1265 i‡(
ign‹e_globÆ
)

1267 
ª_˘x
.
Êags
 &(
uöt16_t
Ë~
RE_FLAG_GLOBAL
;

1270 
	`JERRY_TRACE_MSG
 ("Exec with flags [global: %d, ignoreCase: %d, multiline: %d]\n",

1271 
ª_˘x
.
Êags
 & 
RE_FLAG_GLOBAL
,

1272 
ª_˘x
.
Êags
 & 
RE_FLAG_IGNORE_CASE
,

1273 
ª_˘x
.
Êags
 & 
RE_FLAG_MULTILINE
);

1275 
ª_˘x
.
num_of_ˇ±uªs
 = 
bc_p
->num_of_captures;

1276 
	`JERRY_ASSERT
 (
ª_˘x
.
num_of_ˇ±uªs
 % 2 == 0);

1277 
ª_˘x
.
num_of_n⁄_ˇ±uªs
 = 
bc_p
->num_of_non_captures;

1279 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
ßved_p
, 
ª_˘x
.
num_of_ˇ±uªs
 +Ñe_˘x.
num_of_n⁄_ˇ±uªs
, c⁄° 
lô_utf8_byã_t
 *);

1281 
uöt32_t
 
i
 = 0; i < 
ª_˘x
.
num_of_ˇ±uªs
 +Ñe_˘x.
num_of_n⁄_ˇ±uªs
; i++)

1283 
ßved_p
[
i
] = 
NULL
;

1285 
ª_˘x
.
ßved_p
 = saved_p;

1287 
uöt32_t
 
num_of_ôî_Àngth
 = (
ª_˘x
.
num_of_ˇ±uªs
 / 2Ë+ (ª_˘x.
num_of_n⁄_ˇ±uªs
 - 1);

1288 
	`JMEM_DEFINE_LOCAL_ARRAY
 (
num_of_ôî_p
, 
num_of_ôî_Àngth
, 
uöt32_t
);

1290 
uöt32_t
 
i
 = 0; i < 
num_of_ôî_Àngth
; i++)

1292 
num_of_ôî_p
[
i
] = 0u;

1295 
boﬁ
 
is_m©ch
 = 
Ál£
;

1296 
ª_˘x
.
num_of_ôî©i⁄s_p
 = 
num_of_ôî_p
;

1297 
öt32_t
 
ödex
 = 0;

1298 
ecma_Àngth_t
 
öput_°r_Àn
;

1300 
öput_°r_Àn
 = 
	`lô_utf8_°rög_Àngth
 (
öput_buf„r_p
, 
öput_buf„r_size
);

1302 i‡(
öput_buf„r_p
 && (
ª_˘x
.
Êags
 & 
RE_FLAG_GLOBAL
))

1304 
ecma_°rög_t
 *
magic_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

1305 
ecma_vÆue_t
 
œ°ödex_vÆue
 = 
	`ecma_›_obje˘_gë_own_d©a_¥›
 (
ªgexp_obje˘_p
, 
magic_°r_p
);

1307 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
œ°ödex_num
, 
œ°ödex_vÆue
, 
ªt_vÆue
)

1309 
ödex
 = 
	`ecma_numbî_to_öt32
 (
œ°ödex_num
);

1311 i‡(
öput_cuº_p
 < 
öput_íd_p


1312 && 
ödex
 <(
öt32_t
Ë
öput_°r_Àn


1313 && 
ödex
 > 0)

1315 
i
 = 0; i < 
ödex
; i++)

1317 
	`lô_utf8_ö¸
 (&
öput_cuº_p
);

1321 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
œ°ödex_num
);

1323 
	`ecma_Á°_‰ì_vÆue
 (
œ°ödex_vÆue
);

1325 
	`ecma_dîef_ecma_°rög
 (
magic_°r_p
);

1329 c⁄° 
lô_utf8_byã_t
 *
sub_°r_p
 = 
NULL
;

1330 
uöt8_t
 *
bc_°¨t_p
 = (uöt8_à*Ë(
bc_p
 + 1);

1332 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1334 i‡(
ödex
 < 0 || index > (
öt32_t
Ë
öput_°r_Àn
)

1336 i‡(
ª_˘x
.
Êags
 & 
RE_FLAG_GLOBAL
)

1338 
ecma_°rög_t
 *
magic_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

1339 
	`ecma_›_obje˘_put
 (
ªgexp_obje˘_p
, 
magic_°r_p
, 
	`ecma_make_öãgî_vÆue
 (0), 
åue
);

1340 
	`ecma_dîef_ecma_°rög
 (
magic_°r_p
);

1343 
is_m©ch
 = 
Ál£
;

1348 
	`ECMA_TRY_CATCH
 (
m©ch_vÆue
, 
	`ª_m©ch_ªgexp
 (&
ª_˘x
,

1349 
bc_°¨t_p
,

1350 
öput_cuº_p
,

1351 &
sub_°r_p
),

1352 
ªt_vÆue
);

1354 i‡(
	`ecma_is_vÆue_åue
 (
m©ch_vÆue
))

1356 
is_m©ch
 = 
åue
;

1360 i‡(
öput_cuº_p
 < 
öput_íd_p
)

1362 
	`lô_utf8_ö¸
 (&
öput_cuº_p
);

1364 
ödex
++;

1366 
	`ECMA_FINALIZE
 (
m©ch_vÆue
);

1370 i‡(
öput_cuº_p
 && (
ª_˘x
.
Êags
 & 
RE_FLAG_GLOBAL
))

1372 
ecma_°rög_t
 *
magic_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_LASTINDEX_UL
);

1373 
ecma_numbî_t
 
œ°ödex_num
;

1375 i‡(
sub_°r_p
 !
NULL


1376 && 
öput_buf„r_p
 !
NULL
)

1378 
œ°ödex_num
 = (
ecma_numbî_t
Ë
	`lô_utf8_°rög_Àngth
 (
öput_buf„r_p
,

1379 (
lô_utf8_size_t
Ë(
sub_°r_p
 - 
öput_buf„r_p
));

1383 
œ°ödex_num
 = 
ECMA_NUMBER_ZERO
;

1386 
	`ecma_›_obje˘_put
 (
ªgexp_obje˘_p
, 
magic_°r_p
, 
	`ecma_make_numbî_vÆue
 (
œ°ödex_num
), 
åue
);

1387 
	`ecma_dîef_ecma_°rög
 (
magic_°r_p
);

1391 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

1393 i‡(
is_m©ch
)

1395 
ecma_vÆue_t
 
ªsu…_¨øy
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (0, 0, 
Ál£
);

1396 
ecma_obje˘_t
 *
ªsu…_¨øy_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsu…_¨øy
);

1398 
ecma_°rög_t
 *
öput_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
öput_buf„r_p
, 
öput_buf„r_size
);

1399 
	`ª_£t_ªsu…_¨øy_¥›îtõs
 (
ªsu…_¨øy_obj_p
, 
öput_°r_p
, 
ª_˘x
.
num_of_ˇ±uªs
 / 2, 
ödex
);

1400 
	`ecma_dîef_ecma_°rög
 (
öput_°r_p
);

1402 
uöt32_t
 
i
 = 0; i < 
ª_˘x
.
num_of_ˇ±uªs
; i += 2)

1404 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
i
 / 2);

1405 
ecma_vÆue_t
 
ˇ±uª_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1407 i‡(((
ª_˘x
.
ßved_p
[
i
] &&Ñe_ctx.saved_p[i + 1])

1408 && 
ª_˘x
.
ßved_p
[
i
 + 1] >=Ñe_ctx.saved_p[i]))

1410 
ecma_Àngth_t
 
ˇ±uª_°r_Àn
;

1411 
ˇ±uª_°r_Àn
 = (
ecma_Àngth_t
Ë(
ª_˘x
.
ßved_p
[
i
 + 1] -Ñe_ctx.saved_p[i]);

1412 
ecma_°rög_t
 *
ˇ±uª_°r_p
;

1414 i‡(
ˇ±uª_°r_Àn
 > 0)

1416 
ˇ±uª_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ª_˘x
.
ßved_p
[
i
], 
ˇ±uª_°r_Àn
);

1420 
ˇ±uª_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING__EMPTY
);

1423 
ˇ±uª_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ˇ±uª_°r_p
);

1426 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
;

1427 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
ªsu…_¨øy_obj_p
,

1428 
ödex_°r_p
,

1429 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
,

1430 
NULL
);

1431 
¥›_vÆue_p
->
vÆue
 = 
ˇ±uª_vÆue
;

1433 
	`JERRY_ASSERT
 (!
	`ecma_is_vÆue_obje˘
 (
ˇ±uª_vÆue
));

1434 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

1437 
ªt_vÆue
 = 
ªsu…_¨øy
;

1441 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

1445 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
num_of_ôî_p
);

1446 
	`JMEM_FINALIZE_LOCAL_ARRAY
 (
ßved_p
);

1447 
	`ECMA_FINALIZE_UTF8_STRING
 (
öput_buf„r_p
, 
öput_buf„r_size
);

1449  
ªt_vÆue
;

1450 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-regexp-object.h

16 #i‚de‡
ECMA_REGEXP_OBJECT_H


17 
	#ECMA_REGEXP_OBJECT_H


	)

19 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


21 
	~"ecma-globÆs.h
"

22 
	~"ª-compûî.h
"

36 
	mRE_FLAG_GLOBAL
 = (1u << 1),

37 
	mRE_FLAG_IGNORE_CASE
 = (1u << 2),

38 
	mRE_FLAG_MULTILINE
 = (1u << 3)

39 } 
	tª_Êags_t
;

46 c⁄° 
lô_utf8_byã_t
 **
	mßved_p
;

47 c⁄° 
lô_utf8_byã_t
 *
	möput_°¨t_p
;

48 c⁄° 
lô_utf8_byã_t
 *
	möput_íd_p
;

49 
uöt32_t
 
	mnum_of_ˇ±uªs
;

50 
uöt32_t
 
	mnum_of_n⁄_ˇ±uªs
;

51 
uöt32_t
 *
	mnum_of_ôî©i⁄s_p
;

52 
uöt16_t
 
	mÊags
;

53 } 
	tª_m©chî_˘x_t
;

55 
ecma_vÆue_t
 
ecma_›_¸óã_ªgexp_obje˘_‰om_byãcode
 (
ª_compûed_code_t
 *
byãcode_p
);

56 
ecma_vÆue_t
 
ecma_›_¸óã_ªgexp_obje˘
 (
ecma_°rög_t
 *
∑âîn_p
,Écma_°rög_à*
Êags_°r_p
);

57 
ecma_vÆue_t
 
ecma_ªgexp_exec_hñ≥r
 (ecma_vÆue_à
ªgexp_vÆue
,Écma_vÆue_à
öput_°rög
, 
boﬁ
 
ign‹e_globÆ
);

58 
ecma_ch¨_t
 
ª_ˇn⁄iˇlize
 (ecma_ch¨_à
ch
, 
boﬁ
 
is_ign‹eˇ£
);

59 
ª_£t_ªsu…_¨øy_¥›îtõs
 (
ecma_obje˘_t
 *
¨øy_obj_p
, 
ecma_°rög_t
 *
öput_°r_p
, 
uöt32_t
 
num_of_ñemíts
,

60 
öt32_t
 
ödex
);

61 
ecma_vÆue_t
 
ª_∑r£_ªgexp_Êags
 (
ecma_°rög_t
 *
Êags_°r_p
, 
uöt16_t
 *
Êags_p
);

62 
ª_öôülize_¥›s
 (
ecma_obje˘_t
 *
ª_obj_p
, 
ecma_°rög_t
 *
sour˚_p
, 
uöt16_t
 
Êags
);

	@deps/jerry/jerry-core/ecma/operations/ecma-string-object.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-gc.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-hñ≥rs.h
"

22 
	~"ecma-obje˘s.h
"

23 
	~"ecma-obje˘s-gíîÆ.h
"

24 
	~"ecma-°rög-obje˘.h
"

41 
ecma_vÆue_t


42 
	$ecma_›_¸óã_°rög_obje˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

44 
ecma_Àngth_t
 
¨gumíts_li°_Àn
)

46 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 == 0

47 || 
¨gumíts_li°_p
 !
NULL
);

49 
ecma_°rög_t
 *
¥im_¥›_°r_vÆue_p
;

51 i‡(
¨gumíts_li°_Àn
 == 0)

53 
¥im_¥›_°r_vÆue_p
 = 
	`ecma_√w_ecma_°rög_‰om_magic_°rög_id
 (
LIT_MAGIC_STRING__EMPTY
);

57 
ecma_vÆue_t
 
to_°r_¨g_vÆue
 = 
	`ecma_›_to_°rög
 (
¨gumíts_li°_p
[0]);

59 i‡(
	`ECMA_IS_VALUE_ERROR
 (
to_°r_¨g_vÆue
))

61  
to_°r_¨g_vÆue
;

65 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
to_°r_¨g_vÆue
));

66 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
to_°r_¨g_vÆue
));

68 
¥im_¥›_°r_vÆue_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
to_°r_¨g_vÆue
);

72 #i‚de‡
CONFIG_DISABLE_STRING_BUILTIN


73 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_STRING_PROTOTYPE
);

75 
ecma_obje˘_t
 *
¥ŸŸy≥_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

78 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_obj_p
,

79  (
ecma_exãnded_obje˘_t
),

80 
ECMA_OBJECT_TYPE_CLASS
);

82 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_obj_p
);

84 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

85 
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 = 
LIT_MAGIC_STRING_STRING_UL
;

86 
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
 = 
	`ecma_make_°rög_vÆue
 (
¥im_¥›_°r_vÆue_p
);

88  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

89 
	}
}

97 
	$ecma_›_°rög_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
,

98 
boﬁ
 
£∑øã_íumîabÀ
,

105 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

107 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
)

111 
	`JERRY_ASSERT
 (
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_CLASS
);

113 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_íumîabÀ_p
 = 
maö_cﬁÀ˘i⁄_p
;

115 
ecma_cﬁÀ˘i⁄_hódî_t
 *
f‹_n⁄_íumîabÀ_p
 = 
£∑øã_íumîabÀ
 ? 
n⁄_íum_cﬁÀ˘i⁄_p
 : 
maö_cﬁÀ˘i⁄_p
;

117 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

118 
	`JERRY_ASSERT
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.
˛ass_id
 =
LIT_MAGIC_STRING_STRING_UL
);

120 
ecma_°rög_t
 *
¥im_vÆue_°r_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ext_obje˘_p
->
u
.
˛ass_¥›
.u.
vÆue
);

122 
ecma_Àngth_t
 
Àngth
 = 
	`ecma_°rög_gë_Àngth
 (
¥im_vÆue_°r_p
);

124 
ecma_Àngth_t
 
i
 = 0; i < 
Àngth
; i++)

126 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
i
);

129 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

131 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

134 
ecma_°rög_t
 *
Àngth_°r_p
 = 
	`ecma_√w_ecma_Àngth_°rög
 ();

135 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
f‹_n⁄_íumîabÀ_p
, 
	`ecma_make_°rög_vÆue
 (
Àngth_°r_p
), 
åue
);

136 
	`ecma_dîef_ecma_°rög
 (
Àngth_°r_p
);

137 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-string-object.h

16 #i‚de‡
ECMA_STRING_OBJECT_H


17 
	#ECMA_STRING_OBJECT_H


	)

19 
	~"ecma-globÆs.h
"

28 
ecma_vÆue_t


29 
ecma_›_¸óã_°rög_obje˘
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
, 
ecma_Àngth_t
 
¨gumíts_li°_Àn
);

32 
ecma_›_°rög_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
,

33 
boﬁ
 
£∑øã_íumîabÀ
,

34 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
,

35 
ecma_cﬁÀ˘i⁄_hódî_t
 *
n⁄_íum_cﬁÀ˘i⁄_p
);

	@deps/jerry/jerry-core/ecma/operations/ecma-try-catch-macro.h

16 #i‚de‡
ECMA_TRY_CATCH_MACRO_H


17 
	#ECMA_TRY_CATCH_MACRO_H


	)

19 
	~"ecma-hñ≥rs.h
"

32 
	#ECMA_TRY_CATCH
(
v¨
, 
›
, 
ªtu∫_vÆue
) \

33 
	`JERRY_ASSERT
 (
ªtu∫_vÆue
 =
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
)); \

34 
ecma_vÆue_t
 
v¨
 ## 
_com∂ëi⁄
 = 
›
; \

35 i‡(
	`ECMA_IS_VALUE_ERROR
 (
v¨
 ## 
_com∂ëi⁄
)) \

37 
ªtu∫_vÆue
 = 
v¨
 ## 
_com∂ëi⁄
; \

41 
ecma_vÆue_t
 
v¨
 = v¨ ## 
_com∂ëi⁄
; \

42 
	`JERRY_UNUSED
 (
v¨
);

	)

52 
	#ECMA_FINALIZE
(
v¨
) \

53 
	`ecma_‰ì_vÆue
 (
v¨
 ## 
_com∂ëi⁄
); \

54 }

	)

67 
	#ECMA_OP_TO_NUMBER_TRY_CATCH
(
num_v¨
, 
vÆue
, 
ªtu∫_vÆue
) \

68 
	`JERRY_ASSERT
 (
ªtu∫_vÆue
 =
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
)); \

69 
ecma_numbî_t
 
num_v¨
 = 
	`ecma_numbî_make_«n
 (); \

70 i‡(
	`ecma_is_vÆue_numbî
 (
vÆue
)) \

72 
num_v¨
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue
); \

76 
	`ECMA_TRY_CATCH
 (
to_numbî_vÆue
, \

77 
	`ecma_›_to_numbî
 (
vÆue
), \

78 
ªtu∫_vÆue
); \

80 
num_v¨
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
to_numbî_vÆue
); \

82 
	`ECMA_FINALIZE
 (
to_numbî_vÆue
); \

85 i‡(
	`ecma_is_vÆue_em±y
 (
ªtu∫_vÆue
)) \

86 {

	)

95 
	#ECMA_OP_TO_NUMBER_FINALIZE
(
num_v¨
) } \

98 
	`JERRY_ASSERT
 (
	`ecma_numbî_is_«n
 (
num_v¨
)); \

99 }

	)

	@deps/jerry/jerry-core/ecma/operations/ecma-typedarray-object.c

16 
	~<m©h.h
>

18 
	~"ecma-ty≥d¨øy-obje˘.h
"

19 
	~"ecma-¨øybuf„r-obje˘.h
"

20 
	~"ecma-fun˘i⁄-obje˘.h
"

21 
	~"ecma-buûtö-hñ≥rs.h
"

22 
	~"ecma-åy-ˇtch-ma¸o.h
"

23 
	~"ecma-obje˘s.h
"

24 
	~"ecma-buûtös.h
"

25 
	~"ecma-ex˚±i⁄s.h
"

26 
	~"ecma-gc.h
"

27 
	~"ecma-globÆs.h
"

28 
	~"ecma-hñ≥rs.h
"

30 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


44 
	#GET_ELEMENT
(
ty≥
, 
loˇti⁄
) \

45 ((
ecma_numbî_t
Ë(*((
ty≥
 *Ë
loˇti⁄
)));

	)

52 
ecma_numbî_t


53 
	$ecma_gë_ty≥d¨øy_ñemít
 (
lô_utf8_byã_t
 *
§c
,

54 
lô_magic_°rög_id_t
 
˛ass_id
)

56 
˛ass_id
)

58 
LIT_MAGIC_STRING_INT8_ARRAY_UL
:

60  
	`GET_ELEMENT
 (
öt8_t
, 
§c
);

62 
LIT_MAGIC_STRING_UINT8_ARRAY_UL
:

63 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
:

65  
	`GET_ELEMENT
 (
uöt8_t
, 
§c
);

67 
LIT_MAGIC_STRING_INT16_ARRAY_UL
:

69  
	`GET_ELEMENT
 (
öt16_t
, 
§c
);

71 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
:

73  
	`GET_ELEMENT
 (
uöt16_t
, 
§c
);

75 
LIT_MAGIC_STRING_INT32_ARRAY_UL
:

77  
	`GET_ELEMENT
 (
öt32_t
, 
§c
);

79 
LIT_MAGIC_STRING_UINT32_ARRAY_UL
:

81  
	`GET_ELEMENT
 (
uöt32_t
, 
§c
);

83 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
:

85  
	`GET_ELEMENT
 (, 
§c
);

87 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


88 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
:

90  
	`GET_ELEMENT
 (, 
§c
);

95 
	`JERRY_UNREACHABLE
 ();

99 
	}
}

101 #unde‡
GET_ELEMENT


107 
	$ecma_£t_ty≥d¨øy_ñemít
 (
lô_utf8_byã_t
 *
d°_p
,

108 
ecma_numbî_t
 
vÆue
,

109 
lô_magic_°rög_id_t
 
˛ass_id
)

111 
˛ass_id
)

113 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
:

115 
uöt8_t
 
˛am≥d
;

117 i‡(
vÆue
 > 255)

119 
˛am≥d
 = 255;

121 i‡(
vÆue
 <= 0)

123 
˛am≥d
 = 0;

127 
˛am≥d
 = (
uöt8_t
Ë
vÆue
;

129 i‡(
˛am≥d
 + 0.5 < 
vÆue


130 || (
˛am≥d
 + 0.5 =
vÆue
 && (clamped % 2) == 1))

132 
˛am≥d
 ++;

135 *((
uöt8_t
 *Ë
d°_p
Ë
˛am≥d
;

138 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
:

140 *((*Ë
d°_p
Ë(Ë
vÆue
;

143 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


144 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
:

146 *((*Ë
d°_p
Ë(Ë
vÆue
;

156 
uöt32_t
 
uöt32_vÆue
 = 0;

158 i‡(!
	`ecma_numbî_is_«n
 (
vÆue
Ë&& !
	`ecma_numbî_is_öföôy
 (value))

160 
boﬁ
 
is_√g©ive
 = 
Ál£
;

162 i‡(
vÆue
 < 0)

164 
is_√g©ive
 = 
åue
;

165 
vÆue
 = -value;

168 i‡(
vÆue
 > ((
ecma_numbî_t
) 0xffffffff))

170 
vÆue
 = (
ecma_numbî_t
Ë(
	`fmod
 (value, (ecma_number_t) 0x100000000));

173 
uöt32_vÆue
 = (
uöt32_t
Ë
vÆue
;

175 i‡(
is_√g©ive
)

177 
uöt32_vÆue
 = (
uöt32_t
Ë(-(
öt32_t
) uint32_value);

181 
˛ass_id
)

183 
LIT_MAGIC_STRING_INT8_ARRAY_UL
:

185 *((
öt8_t
 *Ë
d°_p
Ë(öt8_tË
uöt32_vÆue
;

188 
LIT_MAGIC_STRING_UINT8_ARRAY_UL
:

190 *((
uöt8_t
 *Ë
d°_p
Ë(uöt8_tË
uöt32_vÆue
;

193 
LIT_MAGIC_STRING_INT16_ARRAY_UL
:

195 *((
öt16_t
 *Ë
d°_p
Ë(öt16_tË
uöt32_vÆue
;

198 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
:

200 *((
uöt16_t
 *Ë
d°_p
Ë(uöt16_tË
uöt32_vÆue
;

203 
LIT_MAGIC_STRING_INT32_ARRAY_UL
:

205 *((
öt32_t
 *Ë
d°_p
Ë(öt32_tË
uöt32_vÆue
;

208 
LIT_MAGIC_STRING_UINT32_ARRAY_UL
:

210 *((
uöt32_t
 *Ë
d°_p
Ë
uöt32_vÆue
;

215 
	`JERRY_UNREACHABLE
 ();

218 
	}
}

228 
ecma_vÆue_t


229 
	$ecma_ty≥d¨øy_¸óã_obje˘_wôh_Àngth
 (
ecma_Àngth_t
 
¨øy_Àngth
,

230 
ecma_obje˘_t
 *
¥Ÿo_p
,

231 
uöt8_t
 
ñemít_size_shi·
,

232 
lô_magic_°rög_id_t
 
˛ass_id
)

234 i‡(
¨øy_Àngth
 > (
UINT32_MAX
 >> 
ñemít_size_shi·
))

236  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("MaximumÅypedarray size isÑeached."));

239 
ecma_Àngth_t
 
byã_Àngth
 = 
¨øy_Àngth
 << 
ñemít_size_shi·
;

241 i‡(
byã_Àngth
 > 
UINT32_MAX
 -  (
ecma_exãnded_obje˘_t
Ë- 
JMEM_ALIGNMENT
 + 1)

243  
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("MaximumÅypedarray size isÑeached."));

246 
ecma_vÆue_t
 
√w_¨øybuf„r_p
 = 
	`ecma_make_obje˘_vÆue
 (
	`ecma_¨øybuf„r_√w_obje˘
 (
byã_Àngth
));

247 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥Ÿo_p
,

248  (
ecma_exãnded_obje˘_t
),

249 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
);

251 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

252 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
˛ass_id
 = class_id;

253 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 = 
ECMA_PSEUDO_ARRAY_TYPEDARRAY
;

254 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
exåa_öfo
 = 
ñemít_size_shi·
;

255 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
¨øybuf„r
 = 
√w_¨øybuf„r_p
;

257 
	`ecma_‰ì_vÆue
 (
√w_¨øybuf„r_p
);

259  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

260 
	}
}

270 
ecma_vÆue_t


271 
	$ecma_ty≥d¨øy_¸óã_obje˘_wôh_buf„r
 (
ecma_obje˘_t
 *
¨øybuf„r_p
,

272 
ecma_Àngth_t
 
byã_off£t
,

273 
ecma_Àngth_t
 
¨øy_Àngth
,

274 
ecma_obje˘_t
 *
¥Ÿo_p
,

275 
uöt8_t
 
ñemít_size_shi·
,

276 
lô_magic_°rög_id_t
 
˛ass_id
)

278 
ecma_Àngth_t
 
ex≥˘ed_Àngth
 = (
	`ecma_¨øybuf„r_gë_Àngth
 (
¨øybuf„r_p
Ë>> 
ñemít_size_shi·
);

280 
boﬁ
 
√eds_ext_ty≥d¨øy_obj
 = (
byã_off£t
 !0 || 
¨øy_Àngth
 !
ex≥˘ed_Àngth
);

282 
size_t
 
obje˘_size
 = (
√eds_ext_ty≥d¨øy_obj
 ?  (
ecma_exãnded_ty≥d¨øy_obje˘_t
)

283 :  (
ecma_exãnded_obje˘_t
));

285 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_¸óã_obje˘
 (
¥Ÿo_p
, 
obje˘_size
, 
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
);

287 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obje˘_p
;

288 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.
˛ass_id
 = class_id;

289 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 = 
ECMA_PSEUDO_ARRAY_TYPEDARRAY
;

290 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
exåa_öfo
 = 
ñemít_size_shi·
;

291 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
¨øybuf„r
 = 
	`ecma_make_obje˘_vÆue
 (
¨øybuf„r_p
);

293 i‡(
√eds_ext_ty≥d¨øy_obj
)

295 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 = 
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO
;

297 
ecma_exãnded_ty≥d¨øy_obje˘_t
 *
ty≥d¨øy_öfo_p
 = (ecma_exãnded_ty≥d¨øy_obje˘_à*Ë
obje˘_p
;

298 
ty≥d¨øy_öfo_p
->
¨øy_Àngth
 =árray_length;

299 
ty≥d¨øy_öfo_p
->
byã_off£t
 = byte_offset;

302  
	`ecma_make_obje˘_vÆue
 (
obje˘_p
);

303 
	}
}

313 
ecma_vÆue_t


314 
	$ecma_ty≥d¨øy_¸óã_obje˘_wôh_ty≥d¨øy
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
,

315 
ecma_obje˘_t
 *
¥Ÿo_p
,

316 
uöt8_t
 
ñemít_size_shi·
,

317 
lô_magic_°rög_id_t
 
˛ass_id
)

319 
ecma_Àngth_t
 
¨øy_Àngth
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
ty≥d¨øy_p
);

321 
ecma_vÆue_t
 
√w_ty≥d¨øy
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_Àngth
 (
¨øy_Àngth
,

322 
¥Ÿo_p
,

323 
ñemít_size_shi·
,

324 
˛ass_id
);

326 i‡(
	`ECMA_IS_VALUE_ERROR
 (
√w_ty≥d¨øy
))

328  
√w_ty≥d¨øy
;

331 
ecma_obje˘_t
 *
√w_ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_ty≥d¨øy
);

333 
ecma_obje˘_t
 *
§c_¨øybuf„r_p
 = 
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
ty≥d¨øy_p
);

334 
lô_utf8_byã_t
 *
§c_buf_p
 = 
	`ecma_¨øybuf„r_gë_buf„r
 (
§c_¨øybuf„r_p
);

336 
ecma_obje˘_t
 *
d°_¨øybuf„r_p
 = 
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
√w_ty≥d¨øy_p
);

337 
lô_utf8_byã_t
 *
d°_buf_p
 = 
	`ecma_¨øybuf„r_gë_buf„r
 (
d°_¨øybuf„r_p
);

339 
§c_buf_p
 +
	`ecma_ty≥d¨øy_gë_off£t
 (
ty≥d¨øy_p
);

341 
lô_magic_°rög_id_t
 
§c_˛ass_id
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
ty≥d¨øy_p
);

343 i‡(
§c_˛ass_id
 =
˛ass_id
)

345 
	`mem˝y
 (
d°_buf_p
, 
§c_buf_p
, 
¨øy_Àngth
 << 
ñemít_size_shi·
);

349 
uöt32_t
 
§c_ñemít_size
 = 1u << 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
ty≥d¨øy_p
);

350 
uöt32_t
 
d°_ñemít_size
 = 1u << 
ñemít_size_shi·
;

352 
uöt32_t
 
i
 = 0; i < 
¨øy_Àngth
; i++)

355 
ecma_numbî_t
 
tmp
 = 
	`ecma_gë_ty≥d¨øy_ñemít
 (
§c_buf_p
, 
§c_˛ass_id
);

356 
	`ecma_£t_ty≥d¨øy_ñemít
 (
d°_buf_p
, 
tmp
, 
˛ass_id
);

358 
§c_buf_p
 +
§c_ñemít_size
;

359 
d°_buf_p
 +
d°_ñemít_size
;

363  
√w_ty≥d¨øy
;

364 
	}
}

374 
ecma_vÆue_t


375 
	$ecma_›_ty≥d¨øy_‰om
 (
ecma_vÆue_t
 
ôems_vÆ
,

376 
ecma_vÆue_t
 
m≠_‚_vÆ
,

377 
ecma_vÆue_t
 
this_vÆ
,

378 
ecma_obje˘_t
 *
¥Ÿo_p
,

379 
uöt8_t
 
ñemít_size_shi·
,

380 
lô_magic_°rög_id_t
 
˛ass_id
)

382 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

385 
	`JERRY_ASSERT
 (
	`ecma_›_is_ˇŒabÀ
 (
m≠_‚_vÆ
Ë|| 
	`ecma_is_vÆue_undeföed
 (map_fn_val));

387 
ecma_obje˘_t
 *
func_obje˘_p
 = 
NULL
;

388 i‡(!
	`ecma_is_vÆue_undeföed
 (
m≠_‚_vÆ
))

390 
func_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
m≠_‚_vÆ
);

394 
	`ECMA_TRY_CATCH
 (
¨øylike_obje˘_vÆ
,

395 
	`ecma_›_to_obje˘
 (
ôems_vÆ
),

396 
ªt_vÆue
);

398 
ecma_obje˘_t
 *
¨øylike_obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨øylike_obje˘_vÆ
);

401 
ecma_°rög_t
 
magic_°rög_Àngth
;

402 
	`ecma_öô_ecma_Àngth_°rög
 (&
magic_°rög_Àngth
);

404 
	`ECMA_TRY_CATCH
 (
Àn_vÆue
,

405 
	`ecma_›_obje˘_gë
 (
¨øylike_obje˘_p
, &
magic_°rög_Àngth
),

406 
ªt_vÆue
);

408 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
Àn_numbî
, 
Àn_vÆue
, 
ªt_vÆue
);

410 
uöt32_t
 
Àn
 = 
	`ecma_numbî_to_uöt32
 (
Àn_numbî
);

413 
ecma_vÆue_t
 
√w_ty≥d¨øy
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_Àngth
 (
Àn
,

414 
¥Ÿo_p
,

415 
ñemít_size_shi·
,

416 
˛ass_id
);

418 i‡(
	`ECMA_IS_VALUE_ERROR
 (
√w_ty≥d¨øy
))

420 
ªt_vÆue
 = 
	`ecma_c›y_vÆue
 (
√w_ty≥d¨øy
);

423 
ecma_obje˘_t
 *
√w_ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
√w_ty≥d¨øy
);

426 
ecma_vÆue_t
 
cuºít_ödex
;

428 
uöt32_t
 
ödex
 = 0; index < 
Àn
 && 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
); index++)

431 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
ödex
);

434 
	`ECMA_TRY_CATCH
 (
cuºít_vÆue
, 
	`ecma_›_obje˘_föd
 (
¨øylike_obje˘_p
, 
ödex_°r_p
), 
ªt_vÆue
);

436 i‡(
	`ecma_is_vÆue_found
 (
cuºít_vÆue
))

438 i‡(
func_obje˘_p
 !
NULL
)

441 
cuºít_ödex
 = 
	`ecma_make_uöt32_vÆue
 (
ödex
);

442 
ecma_vÆue_t
 
ˇŒ_¨gs
[] = { 
cuºít_vÆue
, 
cuºít_ödex
};

444 
	`ECMA_TRY_CATCH
 (
m≠≥d_vÆue
, 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obje˘_p
, 
this_vÆ
, 
ˇŒ_¨gs
, 2), 
ªt_vÆue
);

446 
boﬁ
 
£t_°©us
 = 
	`ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
√w_ty≥d¨øy_p
, 
ödex
, 
m≠≥d_vÆue
);

448 i‡(!
£t_°©us
)

450 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidárgumentÅype."));;

453 
	`ECMA_FINALIZE
 (
m≠≥d_vÆue
);

458 
boﬁ
 
£t_°©us
 = 
	`ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
√w_ty≥d¨øy_p
, 
ödex
, 
cuºít_vÆue
);

460 i‡(!
£t_°©us
)

462 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidárgumentÅype."));;

467 
	`ECMA_FINALIZE
 (
cuºít_vÆue
);

469 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

472 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

474 
ªt_vÆue
 = 
	`ecma_make_obje˘_vÆue
 (
√w_ty≥d¨øy_p
);

478 
	`ecma_dîef_obje˘
 (
√w_ty≥d¨øy_p
);

481 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
Àn_numbî
);

482 
	`ECMA_FINALIZE
 (
Àn_vÆue
);

483 
	`ECMA_FINALIZE
 (
¨øylike_obje˘_vÆ
);

485  
ªt_vÆue
;

486 
	}
}

493 
ölöe
 
ecma_obje˘_t
 * 
__©å_Æways_ölöe___


494 
	$ecma_ty≥d¨øy_gë_¨øybuf„r
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
)

496 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
ty≥d¨øy_p
)));

498 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
ty≥d¨øy_p
;

500  
	`ecma_gë_obje˘_‰om_vÆue
 (
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
¨øybuf„r
);

501 
	}
}

508 
uöt8_t


509 
	$ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
)

511 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
ty≥d¨øy_p
)));

513 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
ty≥d¨øy_p
;

515  
ext_obje˘_p
->
u
.
p£udo_¨øy
.
exåa_öfo
;

516 
	}
}

524 
ecma_Àngth_t


525 
	$ecma_ty≥d¨øy_gë_Àngth
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
)

527 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
ty≥d¨øy_p
)));

529 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
ty≥d¨øy_p
;

531 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_TYPEDARRAY
)

533 
ecma_obje˘_t
 *
¨øybuf„r_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u2
.
¨øybuf„r
);

534 
ecma_Àngth_t
 
buf„r_Àngth
 = 
	`ecma_¨øybuf„r_gë_Àngth
 (
¨øybuf„r_p
);

535 
uöt8_t
 
shi·
 = 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
exåa_öfo
;

537  
buf„r_Àngth
 >> 
shi·
;

540 
ecma_exãnded_ty≥d¨øy_obje˘_t
 *
öfo_p
 = (ecma_exãnded_ty≥d¨øy_obje˘_à*Ë
ext_obje˘_p
;

542  
öfo_p
->
¨øy_Àngth
;

543 
	}
}

550 
ecma_Àngth_t


551 
	$ecma_ty≥d¨øy_gë_off£t
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
)

553 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
ty≥d¨øy_p
)));

555 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
ty≥d¨øy_p
;

557 i‡(
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_TYPEDARRAY
)

562 
ecma_exãnded_ty≥d¨øy_obje˘_t
 *
öfo_p
 = (ecma_exãnded_ty≥d¨øy_obje˘_à*Ë
ext_obje˘_p
;

564  
öfo_p
->
byã_off£t
;

565 
	}
}

572 
lô_utf8_byã_t
 *

573 
	$ecma_ty≥d¨øy_gë_buf„r
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
)

575 
ecma_obje˘_t
 *
¨øybuf„r_p
 = 
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
ty≥d¨øy_p
);

577  
	`ecma_¨øybuf„r_gë_buf„r
 (
¨øybuf„r_p
Ë+ 
	`ecma_ty≥d¨øy_gë_off£t
 (
ty≥d¨øy_p
);

578 
	}
}

591 
ecma_vÆue_t


592 
	$ecma_›_¸óã_ty≥d¨øy
 (c⁄° 
ecma_vÆue_t
 *
¨gumíts_li°_p
,

593 
ecma_Àngth_t
 
¨gumíts_li°_Àn
,

594 
ecma_obje˘_t
 *
¥Ÿo_p
,

595 
uöt8_t
 
ñemít_size_shi·
,

596 
lô_magic_°rög_id_t
 
˛ass_id
)

598 
	`JERRY_ASSERT
 (
¨gumíts_li°_Àn
 =0 || 
¨gumíts_li°_p
 !
NULL
);

600 
ecma_vÆue_t
 
ªt
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

602 i‡(
¨gumíts_li°_Àn
 == 0)

605 
ªt
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_Àngth
 (0, 
¥Ÿo_p
, 
ñemít_size_shi·
, 
˛ass_id
);

607 i‡(!
	`ecma_is_vÆue_obje˘
 (
¨gumíts_li°_p
[0]))

610 i‡(
	`ecma_is_vÆue_undeföed
 (
¨gumíts_li°_p
[0]))

612  
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("lengthárgument is undefined"));

615 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num
, 
¨gumíts_li°_p
[0], 
ªt
);

617 
uöt32_t
 
Àngth
 = 
	`ecma_numbî_to_uöt32
 (
num
);

619 i‡(
num
 !((
ecma_numbî_t
Ë
Àngth
))

621 
ªt
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidÅypedarrayÜength."));

625 
ªt
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_Àngth
 (
Àngth
,

626 
¥Ÿo_p
,

627 
ñemít_size_shi·
,

628 
˛ass_id
);

631 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num
);

633 i‡(
	`ecma_is_vÆue_obje˘
 (
¨gumíts_li°_p
[0]))

635 i‡(
	`ecma_is_ty≥d¨øy
 (
¨gumíts_li°_p
[0]))

638 
ecma_obje˘_t
 *
ty≥d¨øy_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨gumíts_li°_p
[0]);

639 
ªt
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_ty≥d¨øy
 (
ty≥d¨øy_p
,

640 
¥Ÿo_p
,

641 
ñemít_size_shi·
,

642 
˛ass_id
);

644 i‡(
	`ecma_is_¨øybuf„r
 (
¨gumíts_li°_p
[0]))

647 
ecma_obje˘_t
 *
¨øybuf„r_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
¨gumíts_li°_p
[0]);

648 
ecma_vÆue_t
 
¨g2
 = ((
¨gumíts_li°_Àn
 > 1Ë? 
¨gumíts_li°_p
[1]

649 : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
));

651 
ecma_vÆue_t
 
¨g3
 = ((
¨gumíts_li°_Àn
 > 2Ë? 
¨gumíts_li°_p
[2]

652 : 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
));

654 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num2
, 
¨g2
, 
ªt
);

656 
uöt32_t
 
off£t
 = 
	`ecma_numbî_to_uöt32
 (
num2
);

658 i‡(
	`ecma_numbî_is_√g©ive
 (
	`ecma_numbî_to_öt32
 (
num2
)Ë|| (
off£t
 % (
uöt32_t
Ë(1 << 
ñemít_size_shi·
) != 0))

660 
ªt
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid offset."));

664 
ecma_Àngth_t
 
buf_byã_Àngth
 = 
	`ecma_¨øybuf„r_gë_Àngth
 (
¨øybuf„r_p
);

665 
ecma_Àngth_t
 
√w_byã_Àngth
 = 0;

667 i‡(
	`ecma_is_vÆue_undeföed
 (
¨g3
))

669 i‡(
buf_byã_Àngth
 % (
uöt32_t
Ë(1 << 
ñemít_size_shi·
) != 0)

671 
ªt
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidÜength."));

673 i‡(
buf_byã_Àngth
 < 
off£t
)

675 
ªt
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidÜength."));

679 
√w_byã_Àngth
 = (
ecma_Àngth_t
Ë(
buf_byã_Àngth
 - 
off£t
);

684 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num3
, 
¨g3
, 
ªt
);

685 
öt32_t
 
√w_Àngth
 = 
	`ecma_numbî_to_öt32
 (
num3
);

686 
√w_Àngth
 = (new_length > 0) ?Çew_length : 0;

688 i‡((
uöt32_t
Ë
√w_Àngth
 > (
UINT32_MAX
 >> 
ñemít_size_shi·
))

690 
ªt
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("MaximumÅypedarray size isÑeached."));

694 
√w_byã_Àngth
 = (
ecma_Àngth_t
Ë
√w_Àngth
 << 
ñemít_size_shi·
;

696 i‡(
√w_byã_Àngth
 + 
off£t
 > 
buf_byã_Àngth
)

698 
ªt
 = 
	`ecma_øi£_ønge_îr‹
 (
	`ECMA_ERR_MSG
 ("InvalidÜength."));

702 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num3
);

705 i‡(
	`ecma_is_vÆue_em±y
 (
ªt
))

707 
ecma_Àngth_t
 
¨øy_Àngth
 = 
√w_byã_Àngth
 >> 
ñemít_size_shi·
;

708 
ªt
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_buf„r
 (
¨øybuf„r_p
,

709 
off£t
,

710 
¨øy_Àngth
,

711 
¥Ÿo_p
,

712 
ñemít_size_shi·
,

713 
˛ass_id
);

717 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num2
);

722 
ecma_vÆue_t
 
undef
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

723 
ªt
 = 
	`ecma_›_ty≥d¨øy_‰om
 (
¨gumíts_li°_p
[0],

724 
undef
,

725 
undef
,

726 
¥Ÿo_p
,

727 
ñemít_size_shi·
,

728 
˛ass_id
);

732  
ªt
;

733 
	}
}

741 
boﬁ


742 
	$ecma_is_ty≥d¨øy
 (
ecma_vÆue_t
 
vÆue
)

744 i‡(!
	`ecma_is_vÆue_obje˘
 (
vÆue
))

746  
Ál£
;

749 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vÆue
);

751 i‡(
	`ecma_gë_obje˘_ty≥
 (
obj_p
Ë=
ECMA_OBJECT_TYPE_PSEUDO_ARRAY
)

753 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

755  ((
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_TYPEDARRAY
)

756 || (
ext_obje˘_p
->
u
.
p£udo_¨øy
.
ty≥
 =
ECMA_PSEUDO_ARRAY_TYPEDARRAY_WITH_INFO
));

759  
Ál£
;

760 
	}
}

768 
	$ecma_›_ty≥d¨øy_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
,

769 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
)

772 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)));

774 
ecma_Àngth_t
 
¨øy_Àngth
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

776 
ecma_Àngth_t
 
i
 = 0; i < 
¨øy_Àngth
; i++)

778 
ecma_°rög_t
 *
«me_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
i
);

780 
	`ecma_≠≥nd_to_vÆues_cﬁÀ˘i⁄
 (
maö_cﬁÀ˘i⁄_p
, 
	`ecma_make_°rög_vÆue
 (
«me_p
), 
åue
);

782 
	`ecma_dîef_ecma_°rög
 (
«me_p
);

784 
	}
}

794 
ecma_vÆue_t


795 
	$ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
ecma_obje˘_t
 *
obj_p
,

796 
uöt32_t
 
ödex
)

798 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)));

800 
ecma_Àngth_t
 
¨øy_Àngth
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

802 i‡(
ödex
 >
¨øy_Àngth
)

804  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

807 
ecma_obje˘_t
 *
¨øybuf„r_p
 = 
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
obj_p
);

808 
ecma_Àngth_t
 
off£t
 = 
	`ecma_ty≥d¨øy_gë_off£t
 (
obj_p
);

809 
uöt8_t
 
shi·
 = 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
obj_p
);

810 
ecma_Àngth_t
 
byã_pos
 = (
ödex
 << 
shi·
Ë+ 
off£t
;

811 
lô_magic_°rög_id_t
 
˛ass_id
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
);

812 
lô_utf8_byã_t
 *
èrgë_p
 = 
	`ecma_¨øybuf„r_gë_buf„r
 (
¨øybuf„r_p
Ë+ 
byã_pos
;

813 
ecma_numbî_t
 
vÆue
 = 
	`ecma_gë_ty≥d¨øy_ñemít
 (
èrgë_p
, 
˛ass_id
);

815  
	`ecma_make_numbî_vÆue
 (
vÆue
);

816 
	}
}

825 
boﬁ


826 
	$ecma_›_ty≥d¨øy_deföe_ödex_¥›
 (
ecma_obje˘_t
 *
obj_p
,

827 
uöt32_t
 
ödex
,

828 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
)

831 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)));

833 
ecma_Àngth_t
 
¨øy_Àngth
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

835 i‡(
ödex
 >
¨øy_Àngth
)

837  
Ál£
;

840 i‡(
¥›îty_desc_p
->
is_gë_deföed


841 || 
¥›îty_desc_p
->
is_£t_deföed
)

843  
Ál£
;

846 i‡((
¥›îty_desc_p
->
is_c⁄figuøbÀ_deföed
 &&Ör›îty_desc_p->
is_c⁄figuøbÀ
)

847 || (
¥›îty_desc_p
->
is_íumîabÀ_deföed
 && !¥›îty_desc_p->
is_íumîabÀ
)

848 || (
¥›îty_desc_p
->
is_wrôabÀ_deföed
 && !¥›îty_desc_p->
is_wrôabÀ
))

850  
Ál£
;

853 i‡(
¥›îty_desc_p
->
is_vÆue_deföed
)

855  
	`ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
obj_p
, 
ödex
, 
¥›îty_desc_p
->
vÆue
);

858  
åue
;

859 
	}
}

868 
boﬁ


869 
	$ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
ecma_obje˘_t
 *
obj_p
,

870 
uöt32_t
 
ödex
,

871 
ecma_vÆue_t
 
vÆue
)

873 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)));

875 
ecma_Àngth_t
 
¨øy_Àngth
 = 
	`ecma_ty≥d¨øy_gë_Àngth
 (
obj_p
);

877 i‡(
ödex
 >
¨øy_Àngth
)

879  
Ál£
;

882 
ecma_vÆue_t
 
îr‹
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

884 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
vÆue_num
, 
vÆue
, 
îr‹
);

886 
ecma_obje˘_t
 *
¨øybuf„r_p
 = 
	`ecma_ty≥d¨øy_gë_¨øybuf„r
 (
obj_p
);

887 
ecma_Àngth_t
 
off£t
 = 
	`ecma_ty≥d¨øy_gë_off£t
 (
obj_p
);

888 
uöt8_t
 
shi·
 = 
	`ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
obj_p
);

889 
ecma_Àngth_t
 
byã_pos
 = (
ödex
 << 
shi·
Ë+ 
off£t
;

890 
lô_magic_°rög_id_t
 
˛ass_id
 = 
	`ecma_obje˘_gë_˛ass_«me
 (
obj_p
);

891 
lô_utf8_byã_t
 *
èrgë_p
 = 
	`ecma_¨øybuf„r_gë_buf„r
 (
¨øybuf„r_p
Ë+ 
byã_pos
;

892 
	`ecma_£t_ty≥d¨øy_ñemít
 (
èrgë_p
, 
vÆue_num
, 
˛ass_id
);

894 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
vÆue_num
);

896 i‡(
	`ecma_is_vÆue_em±y
 (
îr‹
))

898  
åue
;

901  
Ál£
;

902 
	}
}

910 
ecma_vÆue_t


911 
	$ecma_›_¸óã_ty≥d¨øy_wôh_ty≥_™d_Àngth
 (
ecma_obje˘_t
 *
obj_p
,

913 
ecma_Àngth_t
 
¨øy_Àngth
)

915 
	`JERRY_ASSERT
 (
	`ecma_is_ty≥d¨øy
 (
	`ecma_make_obje˘_vÆue
 (
obj_p
)));

917 
ecma_exãnded_obje˘_t
 *
ext_obje˘_p
 = (ecma_exãnded_obje˘_à*Ë
obj_p
;

918 
lô_magic_°rög_id_t
 
˛ass_id
 = 
ext_obje˘_p
->
u
.
p£udo_¨øy
.
u1
.class_id;

919 
ecma_obje˘_t
 *
¥Ÿo_p
;

920 
uöt8_t
 
ñemít_size_shi·
 = 0;

922 
˛ass_id
)

924 
LIT_MAGIC_STRING_INT8_ARRAY_UL
:

926 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT8ARRAY_PROTOTYPE
);

927 
ñemít_size_shi·
 = 0;

930 
LIT_MAGIC_STRING_UINT8_ARRAY_UL
:

932 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT8ARRAY_PROTOTYPE
);

933 
ñemít_size_shi·
 = 0;

936 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
:

938 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT8CLAMPEDARRAY_PROTOTYPE
);

939 
ñemít_size_shi·
 = 0;

942 
LIT_MAGIC_STRING_INT16_ARRAY_UL
:

944 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT16ARRAY_PROTOTYPE
);

945 
ñemít_size_shi·
 = 1;

948 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
:

950 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT16ARRAY_PROTOTYPE
);

951 
ñemít_size_shi·
 = 1;

954 
LIT_MAGIC_STRING_INT32_ARRAY_UL
:

956 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_INT32ARRAY_PROTOTYPE
);

957 
ñemít_size_shi·
 = 2;

960 
LIT_MAGIC_STRING_UINT32_ARRAY_UL
:

962 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_UINT32ARRAY_PROTOTYPE
);

963 
ñemít_size_shi·
 = 2;

966 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
:

968 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FLOAT32ARRAY_PROTOTYPE
);

969 
ñemít_size_shi·
 = 2;

972 #i‡
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64


973 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
:

975 
¥Ÿo_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_FLOAT64ARRAY_PROTOTYPE
);

976 
ñemít_size_shi·
 = 3;

982 
	`JERRY_UNREACHABLE
 ();

986 
ecma_vÆue_t
 
√w_obj
 = 
	`ecma_ty≥d¨øy_¸óã_obje˘_wôh_Àngth
 (
¨øy_Àngth
,

987 
¥Ÿo_p
,

988 
ñemít_size_shi·
,

989 
˛ass_id
);

991 
	`ecma_dîef_obje˘
 (
¥Ÿo_p
);

993  
√w_obj
;

994 
	}
}

	@deps/jerry/jerry-core/ecma/operations/ecma-typedarray-object.h

16 #i‚de‡
ECMA_TYPEDARRAY_OBJECT_H


17 
	#ECMA_TYPEDARRAY_OBJECT_H


	)

18 #i‚de‡
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN


20 
	~"ecma-globÆs.h
"

29 
ecma_vÆue_t
 
ecma_›_ty≥d¨øy_‰om
 (ecma_vÆue_à
ôems_vÆ
,

30 
ecma_vÆue_t
 
m≠_‚_vÆ
,

31 
ecma_vÆue_t
 
this_vÆ
,

32 
ecma_obje˘_t
 *
¥Ÿo_p
,

33 
uöt8_t
 
ñemít_size_shi·
,

34 
lô_magic_°rög_id_t
 
˛ass_id
);

35 
ecma_Àngth_t
 
ecma_ty≥d¨øy_gë_Àngth
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
);

36 
ecma_Àngth_t
 
ecma_ty≥d¨øy_gë_off£t
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
);

37 
lô_utf8_byã_t
 *
ecma_ty≥d¨øy_gë_buf„r
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
);

38 
uöt8_t
 
ecma_ty≥d¨øy_gë_ñemít_size_shi·
 (
ecma_obje˘_t
 *
ty≥d¨øy_p
);

39 
ecma_obje˘_t
 *
ecma_ty≥d¨øy_gë_¨øybuf„r
 (ecma_obje˘_à*
ty≥d¨øy_p
);

40 
ecma_vÆue_t
 
ecma_›_¸óã_ty≥d¨øy
 (c⁄°Écma_vÆue_à*
¨gumíts_li°_p
,

41 
ecma_Àngth_t
 
¨gumíts_li°_Àn
,

42 
ecma_obje˘_t
 *
¥Ÿo_p
,

43 
uöt8_t
 
ñemít_size_shi·
,

44 
lô_magic_°rög_id_t
 
˛ass_id
);

45 
boﬁ
 
ecma_is_ty≥d¨øy
 (
ecma_vÆue_t
 
èrgë
);

46 
ecma_£t_ty≥d¨øy_ñemít
 (
lô_utf8_byã_t
 *
d°_p
,

47 
ecma_numbî_t
 
vÆue
,

48 
lô_magic_°rög_id_t
 
˛ass_id
);

49 
ecma_numbî_t
 
ecma_gë_ty≥d¨øy_ñemít
 (
lô_utf8_byã_t
 *
§c
,

50 
lô_magic_°rög_id_t
 
˛ass_id
);

51 
ecma_›_ty≥d¨øy_li°_œzy_¥›îty_«mes
 (
ecma_obje˘_t
 *
obj_p
,

52 
ecma_cﬁÀ˘i⁄_hódî_t
 *
maö_cﬁÀ˘i⁄_p
);

53 
ecma_vÆue_t
 
ecma_›_ty≥d¨øy_gë_ödex_¥›
 (
ecma_obje˘_t
 *
obj_p
, 
uöt32_t
 
ödex
);

54 
boﬁ
 
ecma_›_ty≥d¨øy_deföe_ödex_¥›
 (
ecma_obje˘_t
 *
obj_p
,

55 
uöt32_t
 
ödex
,

56 c⁄° 
ecma_¥›îty_des¸ùt‹_t
 *
¥›îty_desc_p
);

57 
boﬁ
 
ecma_›_ty≥d¨øy_£t_ödex_¥›
 (
ecma_obje˘_t
 *
obj_p
, 
uöt32_t
 
ödex
, 
ecma_vÆue_t
 
vÆue
);

58 
ecma_vÆue_t
 
ecma_›_¸óã_ty≥d¨øy_wôh_ty≥_™d_Àngth
 (
ecma_obje˘_t
 *
obj_p
,

59 
ecma_Àngth_t
 
¨øy_Àngth
);

	@deps/jerry/jerry-core/include/jerry-api.h

16 #i‚de‡
JERRY_API_H


17 
	#JERRY_API_H


	)

19 #¥agm®
mesßge
 ("using jerry-api.h directly is deprecated,Ölease use jerryscript.h")

21 
	~"jîrys¸ùt.h
"

	@deps/jerry/jerry-core/include/jerry-board-config-example.h

16 #i‚de‡
JERRY_BOARD_CONFIG_H


17 
	#JERRY_BOARD_CONFIG_H


	)

19 
	#PROF_MODE_ARTIK053


	)

	@deps/jerry/jerry-core/include/jerry-port.h

16 #i‚de‡
JERRY_PORT_H


17 
	#JERRY_PORT_H


	)

19 #¥agm®
mesßge
 ("using jerry-port.h directly is deprecated,Ölease use jerryscript-port.h")

21 
	~"jîrys¸ùt-p‹t.h
"

	@deps/jerry/jerry-core/include/jerryscript-core.h

16 #i‚de‡
JERRYSCRIPT_CORE_H


17 
	#JERRYSCRIPT_CORE_H


	)

19 
	~<°dboﬁ.h
>

20 
	~<°ddef.h
>

21 
	~<°döt.h
>

23 #ifde‡
__˝lu•lus


28 #ifde‡
__GNUC__


29 
	#JERRY_DEPRECATED_API
 
	`__©åibuã__
((
dïªˇãd
))

	)

32 
	#JERRY_DEPRECATED_API


	)

42 
	#JERRY_API_MAJOR_VERSION
 1

	)

47 
	#JERRY_API_MINOR_VERSION
 0

	)

54 
JERRY_INIT_EMPTY
 = (0u),

55 
JERRY_INIT_SHOW_OPCODES
 = (1u << 0),

56 
JERRY_INIT_SHOW_REGEXP_OPCODES
 = (1u << 1),

57 
JERRY_INIT_MEM_STATS
 = (1u << 2),

58 
JERRY_INIT_MEM_STATS_SEPARATE
 = (1u << 3),

59 
JERRY_INIT_DEBUGGER
 = (1u << 4),

60 
JERRY_INIT_JMEM_LOGS_ENABLED
 = (1u << 5),

61 } 
	tjîry_öô_Êag_t
;

68 
JERRY_ERROR_COMMON
,

69 
JERRY_ERROR_EVAL
,

70 
JERRY_ERROR_RANGE
,

71 
JERRY_ERROR_REFERENCE
,

72 
JERRY_ERROR_SYNTAX
,

73 
JERRY_ERROR_TYPE
,

74 
JERRY_ERROR_URI


75 } 
	tjîry_îr‹_t
;

82 
JERRY_FEATURE_CPOINTER_32_BIT
,

83 
JERRY_FEATURE_ERROR_MESSAGES
,

84 
JERRY_FEATURE_JS_PARSER
,

85 
JERRY_FEATURE_MEM_STATS
,

86 
JERRY_FEATURE_PARSER_DUMP
,

87 
JERRY_FEATURE_REGEXP_DUMP
,

88 
JERRY_FEATURE_SNAPSHOT_SAVE
,

89 
JERRY_FEATURE_SNAPSHOT_EXEC
,

90 
JERRY_FEATURE_DEBUGGER
,

91 
JERRY_FEATURE_VM_EXEC_STOP
,

92 
JERRY_FEATURE__COUNT


93 } 
	tjîry_„©uª_t
;

98 
uöt8_t
 
	tjîry_ch¨_t
;

103 
jîry_ch¨_t
 *
	tjîry_ch¨_±r_t
;

108 
uöt32_t
 
	tjîry_size_t
;

113 
uöt32_t
 
	tjîry_Àngth_t
;

118 
uöt32_t
 
	tjîry_vÆue_t
;

126 
boﬁ
 
is_vÆue_deföed
;

129 
boﬁ
 
is_gë_deföed
;

132 
boﬁ
 
is_£t_deföed
;

135 
boﬁ
 
is_wrôabÀ_deföed
;

138 
boﬁ
 
is_wrôabÀ
;

141 
boﬁ
 
is_íumîabÀ_deföed
;

144 
boﬁ
 
is_íumîabÀ
;

147 
boﬁ
 
is_c⁄figuøbÀ_deföed
;

150 
boﬁ
 
is_c⁄figuøbÀ
;

153 
jîry_vÆue_t
 
vÆue
;

156 
jîry_vÆue_t
 
gëãr
;

159 
jîry_vÆue_t
 
£âî
;

160 } 
	tjîry_¥›îty_des¸ùt‹_t
;

168 
size_t
 
vîsi⁄
;

169 
size_t
 
size
;

170 
size_t
 
Æloˇãd_byãs
;

171 
size_t
 
≥ak_Æloˇãd_byãs
;

172 
size_t
 
ª£rved
[4];

173 } 
	tjîry_hóp_°©s_t
;

178 
jîry_vÆue_t
 (*
	tjîry_exã∫Æ_h™dÀr_t
Ë(c⁄° 
	tjîry_vÆue_t
 
	tfun˘i⁄_obj
,

179 c⁄° 
	tjîry_vÆue_t
 
	tthis_vÆ
,

180 c⁄° 
	tjîry_vÆue_t
 
	t¨gs_p
[],

181 c⁄° 
	tjîry_Àngth_t
 
	t¨gs_cou¡
);

186 (*
jîry_obje˘_‰ì_ˇŒback_t
Ë(c⁄° 
	tuöçå_t
 
	t«tive_p
);

191 (*
jîry_obje˘_«tive_‰ì_ˇŒback_t
Ë(*
	t«tive_p
);

204 
jîry_vÆue_t
 (*
	tjîry_vm_exec_°›_ˇŒback_t
Ë(*
	tu£r_p
);

209 
boﬁ
 (*
	tjîry_obje˘_¥›îty_f‹óch_t
Ë(c⁄° 
	tjîry_vÆue_t
 
	t¥›îty_«me
,

210 c⁄° 
	tjîry_vÆue_t
 
	t¥›îty_vÆue
,

211 *
	tu£r_d©a_p
);

218 (*
öô_cb
) (*);

219 (*
deöô_cb
) (*);

220 
size_t
 
byãs_√eded
;

221 } 
	tjîry_c⁄ãxt_d©a_m™agî_t
;

226 *(*
	tjîry_ö°™˚_Æloc_t
Ë(
	tsize_t
 
	tsize
, *
	tcb_d©a_p
);

233 
jîry_obje˘_«tive_‰ì_ˇŒback_t
 
‰ì_cb
;

234 } 
	tjîry_obje˘_«tive_öfo_t
;

239 
jîry_ö°™˚_t
 
	tjîry_ö°™˚_t
;

244 
jîry_öô
 (
jîry_öô_Êag_t
 
Êags
);

245 
jîry_˛ónup
 ();

246 
jîry_ªgi°î_magic_°rögs
 (c⁄° 
jîry_ch¨_±r_t
 *
ex_°r_ôems_p
, 
uöt32_t
 
cou¡
,

247 c⁄° 
jîry_Àngth_t
 *
°r_Àngths_p
);

248 
jîry_gë_mem‹y_limôs
 (
size_t
 *
out_d©a_bss_brk_limô_p
, size_à*
out_°ack_limô_p
);

249 
jîry_gc
 ();

250 *
jîry_gë_c⁄ãxt_d©a
 (c⁄° 
jîry_c⁄ãxt_d©a_m™agî_t
 *
m™agî_p
);

252 
boﬁ
 
jîry_gë_mem‹y_°©s
 (
jîry_hóp_°©s_t
 *
out_°©s_p
);

257 
boﬁ
 
jîry_run_sim∂e
 (c⁄° 
jîry_ch¨_t
 *
s¸ùt_sour˚_p
, 
size_t
 
s¸ùt_sour˚_size
, 
jîry_öô_Êag_t
 
Êags
);

258 
jîry_vÆue_t
 
jîry_∑r£
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
, 
size_t
 
sour˚_size
, 
boﬁ
 
is_°ri˘
);

259 
jîry_vÆue_t
 
jîry_∑r£_«med_ªsour˚
 (c⁄° 
jîry_ch¨_t
 *
«me_p
, 
size_t
 
«me_Àngth
,

260 c⁄° 
jîry_ch¨_t
 *
sour˚_p
, 
size_t
 
sour˚_size
, 
boﬁ
 
is_°ri˘
);

261 
jîry_vÆue_t
 
jîry_run
 (c⁄° jîry_vÆue_à
func_vÆ
);

262 
jîry_vÆue_t
 
jîry_evÆ
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
, 
size_t
 
sour˚_size
, 
boﬁ
 
is_°ri˘
);

264 
jîry_vÆue_t
 
jîry_run_Æl_íqueued_jobs
 ();

269 
jîry_vÆue_t
 
jîry_gë_globÆ_obje˘
 ();

274 
boﬁ
 
jîry_vÆue_is_¨øy
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

275 
boﬁ
 
jîry_vÆue_is_boﬁón
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

276 
boﬁ
 
jîry_vÆue_is_c⁄°ru˘‹
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

277 
boﬁ
 
jîry_vÆue_is_fun˘i⁄
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

278 
boﬁ
 
jîry_vÆue_is_numbî
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

279 
boﬁ
 
jîry_vÆue_is_nuŒ
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

280 
boﬁ
 
jîry_vÆue_is_obje˘
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

281 
boﬁ
 
jîry_vÆue_is_¥omi£
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

282 
boﬁ
 
jîry_vÆue_is_°rög
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

283 
boﬁ
 
jîry_vÆue_is_undeföed
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

288 
boﬁ
 
jîry_is_„©uª_íabÀd
 (c⁄° 
jîry_„©uª_t
 
„©uª
);

293 
boﬁ
 
jîry_vÆue_has_îr‹_Êag
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

294 
jîry_vÆue_˛ór_îr‹_Êag
 (
jîry_vÆue_t
 *
vÆue_p
);

295 
jîry_vÆue_£t_îr‹_Êag
 (
jîry_vÆue_t
 *
vÆue_p
);

300 
boﬁ
 
jîry_gë_boﬁón_vÆue
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

301 
jîry_gë_numbî_vÆue
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

306 
jîry_size_t
 
jîry_gë_°rög_size
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

307 
jîry_size_t
 
jîry_gë_utf8_°rög_size
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

308 
jîry_Àngth_t
 
jîry_gë_°rög_Àngth
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

309 
jîry_Àngth_t
 
jîry_gë_utf8_°rög_Àngth
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

310 
jîry_size_t
 
jîry_°rög_to_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
, 
jîry_ch¨_t
 *
buf„r_p
, jîry_size_à
buf„r_size
);

311 
jîry_size_t
 
jîry_°rög_to_utf8_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

312 
jîry_ch¨_t
 *
buf„r_p
,

313 
jîry_size_t
 
buf„r_size
);

314 
jîry_size_t
 
jîry_sub°rög_to_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

315 
jîry_Àngth_t
 
°¨t_pos
,

316 
jîry_Àngth_t
 
íd_pos
,

317 
jîry_ch¨_t
 *
buf„r_p
,

318 
jîry_size_t
 
buf„r_size
);

319 
jîry_size_t
 
jîry_sub°rög_to_utf8_ch¨_buf„r
 (c⁄° 
jîry_vÆue_t
 
vÆue
,

320 
jîry_Àngth_t
 
°¨t_pos
,

321 
jîry_Àngth_t
 
íd_pos
,

322 
jîry_ch¨_t
 *
buf„r_p
,

323 
jîry_size_t
 
buf„r_size
);

328 
uöt32_t
 
jîry_gë_¨øy_Àngth
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

333 
boﬁ
 
jîry_vÆue_to_boﬁón
 (c⁄° 
jîry_vÆue_t
 
vÆue
);

334 
jîry_vÆue_t
 
jîry_vÆue_to_numbî
 (c⁄° jîry_vÆue_à
vÆue
);

335 
jîry_vÆue_t
 
jîry_vÆue_to_obje˘
 (c⁄° jîry_vÆue_à
vÆue
);

336 
jîry_vÆue_t
 
jîry_vÆue_to_¥imôive
 (c⁄° jîry_vÆue_à
vÆue
);

337 
jîry_vÆue_t
 
jîry_vÆue_to_°rög
 (c⁄° jîry_vÆue_à
vÆue
);

342 
jîry_vÆue_t
 
jîry_acquúe_vÆue
 (jîry_vÆue_à
vÆue
);

347 
jîry_ªÀa£_vÆue
 (
jîry_vÆue_t
 
vÆue
);

352 
jîry_vÆue_t
 
jîry_¸óã_¨øy
 (
uöt32_t
 
size
);

353 
jîry_vÆue_t
 
jîry_¸óã_boﬁón
 (
boﬁ
 
vÆue
);

354 
jîry_vÆue_t
 
jîry_¸óã_îr‹
 (
jîry_îr‹_t
 
îr‹_ty≥
, c⁄° 
jîry_ch¨_t
 *
mesßge_p
);

355 
jîry_vÆue_t
 
jîry_¸óã_îr‹_sz
 (
jîry_îr‹_t
 
îr‹_ty≥
, c⁄° 
jîry_ch¨_t
 *
mesßge_p
,

356 
jîry_size_t
 
mesßge_size
);

357 
jîry_vÆue_t
 
jîry_¸óã_exã∫Æ_fun˘i⁄
 (
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
);

358 
jîry_vÆue_t
 
jîry_¸óã_numbî
 (
vÆue
);

359 
jîry_vÆue_t
 
jîry_¸óã_numbî_öföôy
 (
boﬁ
 
sign
);

360 
jîry_vÆue_t
 
jîry_¸óã_numbî_«n
 ();

361 
jîry_vÆue_t
 
jîry_¸óã_nuŒ
 ();

362 
jîry_vÆue_t
 
jîry_¸óã_obje˘
 ();

363 
jîry_vÆue_t
 
jîry_¸óã_¥omi£
 ();

364 
jîry_vÆue_t
 
jîry_¸óã_°rög_‰om_utf8
 (c⁄° 
jîry_ch¨_t
 *
°r_p
);

365 
jîry_vÆue_t
 
jîry_¸óã_°rög_sz_‰om_utf8
 (c⁄° 
jîry_ch¨_t
 *
°r_p
, 
jîry_size_t
 
°r_size
);

366 
jîry_vÆue_t
 
jîry_¸óã_°rög
 (c⁄° 
jîry_ch¨_t
 *
°r_p
);

367 
jîry_vÆue_t
 
jîry_¸óã_°rög_sz
 (c⁄° 
jîry_ch¨_t
 *
°r_p
, 
jîry_size_t
 
°r_size
);

368 
jîry_vÆue_t
 
jîry_¸óã_undeföed
 ();

373 
jîry_vÆue_t
 
jîry_has_¥›îty
 (c⁄° jîry_vÆue_à
obj_vÆ
, c⁄° jîry_vÆue_à
¥›_«me_vÆ
);

374 
jîry_vÆue_t
 
jîry_has_own_¥›îty
 (c⁄° jîry_vÆue_à
obj_vÆ
, c⁄° jîry_vÆue_à
¥›_«me_vÆ
);

375 
boﬁ
 
jîry_dñëe_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
, c⁄° jîry_vÆue_à
¥›_«me_vÆ
);

376 
boﬁ
 
jîry_dñëe_¥›îty_by_ödex
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
, 
uöt32_t
 
ödex
);

378 
jîry_vÆue_t
 
jîry_gë_¥›îty
 (c⁄° jîry_vÆue_à
obj_vÆ
, c⁄° jîry_vÆue_à
¥›_«me_vÆ
);

379 
jîry_vÆue_t
 
jîry_gë_¥›îty_by_ödex
 (c⁄° jîry_vÆue_à
obj_vÆ
, 
uöt32_t
 
ödex
);

380 
jîry_vÆue_t
 
jîry_£t_¥›îty
 (c⁄° jîry_vÆue_à
obj_vÆ
, c⁄° jîry_vÆue_à
¥›_«me_vÆ
,

381 c⁄° 
jîry_vÆue_t
 
vÆue_to_£t
);

382 
jîry_vÆue_t
 
jîry_£t_¥›îty_by_ödex
 (c⁄° jîry_vÆue_à
obj_vÆ
, 
uöt32_t
 
ödex
,

383 c⁄° 
jîry_vÆue_t
 
vÆue_to_£t
);

385 
jîry_öô_¥›îty_des¸ùt‹_fõlds
 (
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
);

386 
jîry_vÆue_t
 
jîry_deföe_own_¥›îty
 (c⁄° jîry_vÆue_à
obj_vÆ
,

387 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
,

388 c⁄° 
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
);

390 
boﬁ
 
jîry_gë_own_¥›îty_des¸ùt‹
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

391 c⁄° 
jîry_vÆue_t
 
¥›_«me_vÆ
,

392 
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
);

393 
jîry_‰ì_¥›îty_des¸ùt‹_fõlds
 (c⁄° 
jîry_¥›îty_des¸ùt‹_t
 *
¥›_desc_p
);

395 
jîry_vÆue_t
 
jîry_ˇŒ_fun˘i⁄
 (c⁄° jîry_vÆue_à
func_obj_vÆ
, c⁄° jîry_vÆue_à
this_vÆ
,

396 c⁄° 
jîry_vÆue_t
 
¨gs_p
[], 
jîry_size_t
 
¨gs_cou¡
);

397 
jîry_vÆue_t
 
jîry_c⁄°ru˘_obje˘
 (c⁄° jîry_vÆue_à
func_obj_vÆ
, c⁄° jîry_vÆue_à
¨gs_p
[],

398 
jîry_size_t
 
¨gs_cou¡
);

400 
jîry_vÆue_t
 
jîry_gë_obje˘_keys
 (c⁄° jîry_vÆue_à
obj_vÆ
);

401 
jîry_vÆue_t
 
jîry_gë_¥ŸŸy≥
 (c⁄° jîry_vÆue_à
obj_vÆ
);

402 
jîry_vÆue_t
 
jîry_£t_¥ŸŸy≥
 (c⁄° jîry_vÆue_à
obj_vÆ
, c⁄° jîry_vÆue_à
¥Ÿo_obj_vÆ
);

404 
JERRY_DEPRECATED_API


405 
boﬁ
 
jîry_gë_obje˘_«tive_h™dÀ
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
, 
uöçå_t
 *
out_h™dÀ_p
);

406 
JERRY_DEPRECATED_API


407 
jîry_£t_obje˘_«tive_h™dÀ
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
, 
uöçå_t
 
h™dÀ_p
,

408 
jîry_obje˘_‰ì_ˇŒback_t
 
‰ìcb_p
);

410 
boﬁ
 
jîry_gë_obje˘_«tive_poöãr
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

411 **
out_«tive_poöãr_p
,

412 c⁄° 
jîry_obje˘_«tive_öfo_t
 **
out_poöãr_öfo_p
);

413 
jîry_£t_obje˘_«tive_poöãr
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

414 *
«tive_poöãr_p
,

415 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
«tive_öfo_p
);

417 
boﬁ
 
jîry_f‹óch_obje˘_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
, 
jîry_obje˘_¥›îty_f‹óch_t
 
f‹óch_p
,

418 *
u£r_d©a_p
);

423 
jîry_vÆue_t
 
jîry_ªsﬁve_‹_ªje˘_¥omi£
 (jîry_vÆue_à
¥omi£
, jîry_vÆue_à
¨gumít
, 
boﬁ
 
is_ªsﬁve
);

428 
boﬁ
 
jîry_is_vÆid_utf8_°rög
 (c⁄° 
jîry_ch¨_t
 *
utf8_buf_p
, 
jîry_size_t
 
buf_size
);

429 
boﬁ
 
jîry_is_vÆid_˚su8_°rög
 (c⁄° 
jîry_ch¨_t
 *
˚su8_buf_p
, 
jîry_size_t
 
buf_size
);

434 
jîry_ö°™˚_t
 *
jîry_¸óã_ö°™˚
 (
uöt32_t
 
hóp_size
, 
jîry_ö°™˚_Æloc_t
 
Æloc
, *
cb_d©a_p
);

439 
jîry_£t_vm_exec_°›_ˇŒback
 (
jîry_vm_exec_°›_ˇŒback_t
 
°›_cb
, *
u£r_p
, 
uöt32_t
 
‰equícy
);

442 
jîry_wûl_˛ónup
();

448 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-core/include/jerryscript-debugger.h

16 #i‚de‡
JERRYSCRIPT_DEBUGGER_H


17 
	#JERRYSCRIPT_DEBUGGER_H


	)

19 
	~<°dboﬁ.h
>

21 #ifde‡
__˝lu•lus


35 
JERRY_DEBUGGER_SOURCE_RECEIVE_FAILED
 = 0,

36 
JERRY_DEBUGGER_SOURCE_RECEIVED
 = 1,

37 
JERRY_DEBUGGER_SOURCE_END
 = 2,

38 } 
	tjîry_debuggî_waô_™d_run_ty≥_t
;

43 
jîry_debuggî_öô
 (
uöt16_t
 
p‹t
);

44 
boﬁ
 
jîry_debuggî_is_c⁄√˘ed
 ();

45 
jîry_debuggî_°›
 ();

46 
jîry_debuggî_c⁄töue
 ();

47 
jîry_debuggî_°›_©_bªakpoöt
 (
boﬁ
 
íabÀ_°›_©_bªakpoöt
);

48 
jîry_debuggî_waô_™d_run_ty≥_t
 
jîry_debuggî_waô_™d_run_˛õ¡_sour˚
 (
jîry_vÆue_t
 *
ªtu∫_vÆue
);

49 
jîry_debuggî_£nd_ouçut
 (
jîry_ch¨_t
 
buf„r
[], 
jîry_size_t
 
°r_size
, 
uöt8_t
 
ty≥
);

55 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-core/include/jerryscript-port.h

16 #i‚de‡
JERRYSCRIPT_PORT_H


17 
	#JERRYSCRIPT_PORT_H


	)

19 
	~<°dboﬁ.h
>

20 
	~<°döt.h
>

21 
	~<°dio.h
>

23 #ifde‡
__˝lu•lus


48 
ERR_OUT_OF_MEMORY
 = 10,

49 
ERR_SYSCALL
 = 11,

50 
ERR_REF_COUNT_LIMIT
 = 12,

51 
ERR_FAILED_INTERNAL_ASSERTION
 = 120

52 } 
	tjîry_Áèl_code_t
;

65 
jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
Ë
__©åibuã__
((
n‹ëu∫
));

77 
JERRY_LOG_LEVEL_ERROR
,

78 
JERRY_LOG_LEVEL_WARNING
,

79 
JERRY_LOG_LEVEL_DEBUG
,

80 
JERRY_LOG_LEVEL_TRACE


81 } 
	tjîry_log_Àvñ_t
;

99 
jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
, c⁄° *
f‹m©
, ...Ë
__©åibuã__
 ((f‹m© (
¥ötf
, 2, 3)));

110 
off£t
;

111 
daylight_ßvög_time
;

112 } 
	tjîry_time_z⁄e_t
;

120 
boﬁ
 
jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
);

127 
jîry_p‹t_gë_cuºít_time
 ();

139 
jîry_ö°™˚_t
 *
jîry_p‹t_gë_cuºít_ö°™˚
 ();

145 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-core/include/jerryscript-snapshot.h

16 #i‚de‡
JERRYSCRIPT_SNAPSHOT_H


17 
	#JERRYSCRIPT_SNAPSHOT_H


	)

19 
	~"jîrys¸ùt-c‹e.h
"

21 #ifde‡
__˝lu•lus


33 
size_t
 
jîry_∑r£_™d_ßve_¢≠shŸ
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
, size_à
sour˚_size
, 
boﬁ
 
is_f‹_globÆ
,

34 
boﬁ
 
is_°ri˘
, 
uöt32_t
 *
buf„r_p
, 
size_t
 
buf„r_size
);

35 
jîry_vÆue_t
 
jîry_exec_¢≠shŸ
 (c⁄° 
uöt32_t
 *
¢≠shŸ_p
, 
size_t
 
¢≠shŸ_size
, 
boﬁ
 
c›y_byãcode
);

36 
size_t
 
jîry_∑r£_™d_ßve_lôîÆs
 (c⁄° 
jîry_ch¨_t
 *
sour˚_p
, size_à
sour˚_size
, 
boﬁ
 
is_°ri˘
,

37 
uöt32_t
 *
buf„r_p
, 
size_t
 
buf„r_size
, 
boﬁ
 
is_c_f‹m©
);

43 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-core/include/jerryscript.h

16 #i‚de‡
JERRYSCRIPT_H


17 
	#JERRYSCRIPT_H


	)

19 
	~"jîrys¸ùt-c‹e.h
"

20 
	~"jîrys¸ùt-debuggî.h
"

21 
	~"jîrys¸ùt-¢≠shŸ.h
"

	@deps/jerry/jerry-core/jcontext/jcontext.c

16 
	~"jc⁄ãxt.h
"

22 #i‚de‡
JERRY_ENABLE_EXTERNAL_CONTEXT


26 
jîry_c⁄ãxt_t
 
	gjîry_globÆ_c⁄ãxt
;

31 #i‚de‡
JERRY_HEAP_SECTION_ATTR


32 
	#JERRY_GLOBAL_HEAP_SECTION


	)

34 
	#JERRY_GLOBAL_HEAP_SECTION
 
	`__©åibuã__
 ((
	`£˘i⁄
 (
JERRY_HEAP_SECTION_ATTR
)))

	)

37 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


41 
jmem_hóp_t
 
jîry_globÆ_hóp
 
__©åibuã__
 ((
	$Æig√d
 (
JMEM_ALIGNMENT
))Ë
JERRY_GLOBAL_HEAP_SECTION
;

44 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


49 
jîry_hash_èbÀ_t
 
jîry_globÆ_hash_èbÀ
;

	@deps/jerry/jerry-core/jcontext/jcontext.h

19 #i‚de‡
JCONTEXT_H


20 
	#JCONTEXT_H


	)

22 
	~"debuggî.h
"

23 
	~"ecma-buûtös.h
"

24 
	~"ecma-jobqueue.h
"

25 
	~"jîrys¸ùt-p‹t.h
"

26 
	~"jmem.h
"

27 
	~"jmem-c⁄fig.h
"

28 
	~"ª-byãcode.h
"

29 
	~"vm-deföes.h
"

30 
	~"jîrys¸ùt.h
"

32 
	~"jmem-hóp-£gmíãd-rm≠-rb-node.h
"

33 
	~<sys/time.h
>

42 
	#JERRY_CONTEXT_FIRST_MEMBER
 
ecma_buûtö_obje˘s


	)

47 
	sjîry_c⁄ãxt_d©a_hódî


49 
jîry_c⁄ãxt_d©a_hódî
 *
	m√xt_p
;

50 c⁄° 
jîry_c⁄ãxt_d©a_m™agî_t
 *
	mm™agî_p
;

51 } 
	tjîry_c⁄ãxt_d©a_hódî_t
;

53 
	#JERRY_CONTEXT_DATA_HEADER_USER_DATA
(
ôem_p
) \

54 ((
uöt8_t
 *Ë(
ôem_p
 + 1))

	)

65 
ecma_obje˘_t
 *
	mecma_buûtö_obje˘s
[
ECMA_BUILTIN_ID__COUNT
];

66 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


67 c⁄° 
ª_compûed_code_t
 *
	mª_ˇche
[
RE_CACHE_SIZE
];

69 
ecma_obje˘_t
 *
	mecma_gc_obje˘s_li°s
[
ECMA_GC_COLOR__COUNT
];

71 
jmem_hóp_‰ì_t
 *
	mjmem_hóp_li°_skù_p
;

72 
jmem_poﬁs_chunk_t
 *
	mjmem_‰ì_8_byã_chunk_p
;

73 #i‡
deföed
(
JERRY_CPOINTER_32_BIT
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

74 
jmem_poﬁs_chunk_t
 *
	mjmem_‰ì_16_byã_chunk_p
;

76 
jmem_‰ì_unu£d_mem‹y_ˇŒback_t
 
	mjmem_‰ì_unu£d_mem‹y_ˇŒback
;

77 c⁄° 
lô_utf8_byã_t
 **
	mlô_magic_°rög_ex_¨øy
;

78 c⁄° 
lô_utf8_size_t
 *
	mlô_magic_°rög_ex_sizes
;

79 
ecma_lô_°‹age_ôem_t
 *
	m°rög_li°_fú°_p
;

80 
ecma_lô_°‹age_ôem_t
 *
	mnumbî_li°_fú°_p
;

81 
ecma_obje˘_t
 *
	mecma_globÆ_Àx_ív_p
;

82 
vm_‰ame_˘x_t
 *
	mvm_t›_c⁄ãxt_p
;

83 
jîry_c⁄ãxt_d©a_hódî_t
 *
	mc⁄ãxt_d©a_p
;

84 
size_t
 
	mecma_gc_obje˘s_numbî
;

85 
size_t
 
	mecma_gc_√w_obje˘s
;

87 
size_t
 
	mjmem_hóp_blocks_size
;

88 
size_t
 
	mjmem_fuŒ_bôwidth_poöãr_ovîhód
;

89 
size_t
 
	mjmem_Æloˇãd_hóp_size
;

90 
size_t
 
	mjmem_sy°em_Æloˇt‹_mëad©a_size
;

91 
size_t
 
	mjmem_£gmít_Æloˇt‹_mëad©a_size
;

92 
uöt32_t
 
	mjmem_hóp_Æloˇãd_blocks_cou¡
;

94 
size_t
 
	mjmem_hóp_limô
;

96 
uöt32_t
 
	mlô_magic_°rög_ex_cou¡
;

97 
uöt32_t
 
	mjîry_öô_Êags
;

98 
uöt8_t
 
	mecma_gc_visôed_Êù_Êag
;

99 
uöt8_t
 
	mis_dúe˘_evÆ_f‹m_ˇŒ
;

100 
uöt8_t
 
	mjîry_≠i_avaûabÀ
;

102 #i‚de‡
CONFIG_ECMA_PROPERTY_HASHMAP_DISABLE


103 
uöt8_t
 
	mecma_¥›_hashm≠_Æloc_°©e
;

105 
boﬁ
 
	mecma_¥›_hashm≠_Æloc_œ°_is_hs_gc
;

108 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


109 
uöt8_t
 
	mª_ˇche_idx
;

112 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


113 
ecma_job_queueôem_t
 *
	mjob_queue_hód_p
;

114 
ecma_job_queueôem_t
 *
	mjob_queue_èû_p
;

117 #ifde‡
JERRY_VM_EXEC_STOP


118 
uöt32_t
 
	mvm_exec_°›_‰equícy
;

119 
uöt32_t
 
	mvm_exec_°›_cou¡î
;

120 *
	mvm_exec_°›_u£r_p
;

121 
ecma_vm_exec_°›_ˇŒback_t
 
	mvm_exec_°›_cb
;

125 #ifde‡
JERRY_DEBUGGER


126 
uöt8_t
 
	mdebuggî_£nd_buf„r
[
JERRY_DEBUGGER_MAX_BUFFER_SIZE
];

127 
uöt8_t
 
	mdebuggî_ª˚ive_buf„r
[
JERRY_DEBUGGER_MAX_BUFFER_SIZE
];

128 
vm_‰ame_˘x_t
 *
	mdebuggî_°›_c⁄ãxt
;

129 
jmem_˝oöãr_t
 
	mdebuggî_byã_code_‰ì_hód
;

130 
jmem_˝oöãr_t
 
	mdebuggî_byã_code_‰ì_èû
;

131 
uöt8_t
 
	mdebuggî_Êags
;

132 
uöt8_t
 
	mdebuggî_mesßge_dñay
;

133 
uöt16_t
 
	mdebuggî_ª˚ive_buf„r_off£t
;

134 
	mdebuggî_c⁄√˘i⁄
;

135 
uöt16_t
 
	mdebuggî_p‹t
;

138 #ifde‡
JMEM_STATS


139 
jmem_hóp_°©s_t
 
	mjmem_hóp_°©s
;

142 #ifde‡
JERRY_VALGRIND_FREYA


143 
uöt8_t
 
	mvÆgröd_‰eya_mempoﬁ_ªque°
;

147 #i‡
deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë&& deföed(
DE_SLAB
)

148 
	mnum_Æloˇãd_¶abs
;

149 
boﬁ
 
	mis_¶ab_Æloˇãd
[
DE_MAX_NUM_SLABS
];

150 
	mnum_Æloˇãd_¶Ÿs
[
DE_MAX_NUM_SLABS
];

151 
	m˝2si_rm≠
[
JMEM_HEAP_SIZE
 / 
JMEM_ALIGNMENT
];

154 #ifde‡
JMEM_PROFILE


156 
timevÆ
 
	mtimevÆ_js_°¨t
;

157 #ifde‡
PROF_SIZE__PERIOD_USEC


158 
timevÆ
 
	mjsu±ime_ª˚¡_tŸÆ_size_¥öt
;

160 #ifde‡
PROF_SEGMENT_UTILIZATION__PERIOD_USEC


161 
timevÆ
 
	mjsu±ime_ª˚¡_£gutû_¥öt
;

164 #ifde‡
PROF_TIME


165 
	#PROFILER_TIME_ENTRY
(
x
Ë
timevÆ
 x##
_time
; x##
_cou¡


	)

167 
timevÆ
 
	mtimevÆ_u±ime
;

168 
timevÆ
 
	mtimevÆ_Æloc
;

169 
timevÆ
 
	mtimevÆ_‰ì
;

170 
timevÆ
 
	mtimevÆ_com¥essi⁄
;

171 
timevÆ
 
	mtimevÆ_decom¥essi⁄
;

172 
timevÆ
 
	mtimevÆ_gc
;

174 
PROFILER_TIME_ENTRY
(
Æloc
);

175 
PROFILER_TIME_ENTRY
(
‰ì
);

176 
PROFILER_TIME_ENTRY
(
gc
);

177 
PROFILER_TIME_ENTRY
(
decom¥essi⁄
);

178 
PROFILER_TIME_ENTRY
(
com¥essi⁄_rmc_hô
);

179 
PROFILER_TIME_ENTRY
(
com¥essi⁄_fifo_hô
);

180 
PROFILER_TIME_ENTRY
(
com¥essi⁄_föÆ_miss
);

183 
	mª˚¡_com¥essi⁄_ty≥
;

185 #ifde‡
PROF_PMU


186 
	#PROFILER_PMU_ENTRY
(
x
) \

187 
x
##
_cy˛es
; \

188 
x
##
_pmu_cou¡


	)

190 
	mdecom¥essi⁄_cy˛es_vÆ
;

191 
	mcom¥essi⁄_cy˛es_vÆ
;

193 
PROFILER_PMU_ENTRY
(
decom¥essi⁄
);

194 
PROFILER_PMU_ENTRY
(
com¥essi⁄_rmc_hô
);

195 
PROFILER_PMU_ENTRY
(
com¥essi⁄_fifo_hô
);

196 
PROFILER_PMU_ENTRY
(
com¥essi⁄_föÆ_miss
);

199 #ifde‡
PROF_JSOBJECT_ALLOCATION


201 
	mjsobje˘_cou¡
[
PROF_JSOBJECT_ALLOCATION__MAX_SIZE


202 / 
JMEM_ALIGNMENT
];

205 #ifde‡
PROF_CPTL_RMC_HIT_RATIO


207 
	m˝é_rmc_ac˚ss_cou¡
;

208 
	m˝é_rmc_miss_cou¡
;

211 #ifde‡
PROF_CPTL_ACCESS


212 
	m˝é_ac˚ss_cou¡
;

213 
	mcom¥essi⁄_lookup_dïth
;

216 #ifde‡
PROF_CPTL_ACCESS_SIMUL


217 
uöt32_t
 
	m˝é_ac˚ss_hô_cou¡_comp
;

218 
uöt32_t
 
	m˝é_ac˚ss_hô_cou¡_decomp
;

219 
	m˝é_ac˚ss_£t_hódî_comp
;

220 
	m˝é_ac˚ss_£t_hódî_decomp
;

221 
	m˝é_ac˚ss_£t_ages_comp
[
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
];

222 
	m˝é_ac˚ss_£t_ages_decomp
[
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
];

223 
	m˝é_ac˚ss_£t_íåõs_comp
[
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
];

224 
	m˝é_ac˚ss_£t_íåõs_decomp
[
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
];

227 #ifde‡
PROF_COUNT


228 
	m¥of_cou¡
[
PROF_COUNT__MAX_TYPES
];

232 } 
	tjîry_c⁄ãxt_t
;

236 #i‡
deföed
(
PROF_CPTL_ACCESS
)

237 
	#CLEAR_LOOKUP_DEPTH
(Ë
	`JERRY_CONTEXT
(
com¥essi⁄_lookup_dïth
Ë0

	)

238 
	#GET_LOOKUP_DEPTH
(Ë
	`JERRY_CONTEXT
(
com¥essi⁄_lookup_dïth
)

	)

239 
	#INCREASE_LOOKUP_DEPTH
() \

240 
	`JERRY_CONTEXT
(
com¥essi⁄_lookup_dïth
Ë
	`GET_LOOKUP_DEPTH
(Ë+ 1

	)

242 
	#CLEAR_LOOKUP_DEPTH
()

	)

243 
	#GET_LOOKUP_DEPTH
()

	)

244 
	#INCREASE_LOOKUP_DEPTH
()

	)

247 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


253 
ecma_lˇche_hash_íåy_t
 
	mèbÀ
[
ECMA_LCACHE_HASH_ROWS_COUNT
][
ECMA_LCACHE_HASH_ROW_LENGTH
];

254 } 
	tjîry_hash_èbÀ_t
;

257 #ifde‡
JERRY_ENABLE_EXTERNAL_CONTEXT


259 #i‚de‡
JERRY_GET_CURRENT_INSTANCE


264 
	#JERRY_GET_CURRENT_INSTANCE
(Ë(
	`jîry_p‹t_gë_cuºít_ö°™˚
 ())

	)

273 
jmem_hóp_‰ì_t
 
	mfú°
;

274 
uöt8_t
 
	m¨ó
[];

276 } 
	tjmem_hóp_t
;

281 
	sjîry_ö°™˚_t


283 
jîry_c⁄ãxt_t
 
	mc⁄ãxt
;

284 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


285 
jmem_hóp_t
 *
	mhóp_p
;

286 
uöt32_t
 
	mhóp_size
;

288 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


289 
uöt8_t
 *
	mlˇche_p
;

293 
	#JERRY_CONTEXT
(
fõld
Ë(
	`JERRY_GET_CURRENT_INSTANCE
 ()->
c⁄ãxt
.fõld)

	)

295 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


297 
ölöe
 
jmem_hóp_t
 * 
__©å_Æways_ölöe___


298 
	$jîry_c⁄ãxt_gë_cuºít_hóp
 ()

300  
	`JERRY_GET_CURRENT_INSTANCE
 ()->
hóp_p
;

301 
	}
}

303 
	#JERRY_HEAP_CONTEXT
(
fõld
Ë(
	`jîry_c⁄ãxt_gë_cuºít_hóp
 ()->fõld)

	)

305 #ifde‡
JMEM_HEAP_SIZE


309 
	#JMEM_HEAP_SIZE
 (
	`JERRY_GET_CURRENT_INSTANCE
 ()->
hóp_size
)

	)

311 
	#JMEM_HEAP_AREA_SIZE
 (
	`JERRY_GET_CURRENT_INSTANCE
 ()->
hóp_size
 - 
JMEM_ALIGNMENT
)

	)

315 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


317 
ölöe
 
jîry_hash_èbÀ_t
 * 
__©å_Æways_ölöe___


318 
	$jîry_c⁄ãxt_gë_cuºít_lˇche
 ()

320  (
jîry_hash_èbÀ_t
 *Ë(
	`JERRY_GET_CURRENT_INSTANCE
 ()->
lˇche_p
);

321 
	}
}

323 
	#JERRY_HASH_TABLE_CONTEXT
(
fõld
Ë(
	`jîry_c⁄ãxt_gë_cuºít_lˇche
 ()->fõld)

	)

336 
	#JMEM_HEAP_AREA_SIZE
 (
JMEM_HEAP_SIZE
 - 
JMEM_ALIGNMENT
)

	)

352 
jmem_hóp_‰ì_t
 
	mfú°
;

353 #ifde‡
JMEM_SEGMENTED_HEAP


355 
uöt8_t
 *
	m¨ó
[
SEG_NUM_SEGMENTS
 + 1];

356 
jmem_£gmít_t
 
	m£gmíts
[
SEG_NUM_SEGMENTS
];

357 
uöt32_t
 
	m£gmíts_cou¡
;

360 
uöt32_t
 
	mcomp_i_off£t
;

361 
uöt8_t
 *
	mcomp_i_ßddr
;

364 #i‡
deföed
(
SEG_RMAP_CACHE
)

365 #i‡
SEG_RMAP_CACHE_SIZE
 == 1

366 
uöt8_t
 *
	mrmc_sögÀ_ba£_addr
;

367 
uöt32_t
 
	mrmc_sögÀ_sidx
;

369 
uöt8_t
 *
	mrmc_èbÀ_ba£_addr
[
SEG_RMAP_CACHE_SIZE
];

370 
uöt32_t
 
	mrmc_èbÀ_sidx
[
SEG_RMAP_CACHE_SIZE
];

373 #i‡(
SEG_RMAP_CACHE_SIZE
 > 
SEG_RMAP_CACHE_SET_SIZE
)

375 
uöt32_t
 
	mrmc_èg
;

377 #i‡(
SEG_RMAP_CACHE_SET_SIZE
 != 1)

379 
uöt32_t
 
	mrmc_èbÀ_evi˘i⁄_hódîs
[
SEG_RMAP_CACHE_WAYS
];

381 #ñi‡(
SEG_RMAP_CACHE_SIZE
 =
SEG_RMAP_CACHE_SET_SIZE
)

383 
uöt32_t
 
	mrmc_èbÀ_evi˘i⁄_hódî
;

389 #i‡
deföed
(
SEG_RMAP_BINSEARCH
)

391 
rb_roŸ
 
	m£gmít_rm≠_rb_roŸ
;

394 #i‡
deföed
(
SEG_RMAP_2LEVEL_SEARCH
)

396 
uöt8_t
 *
	mfc_èbÀ_ba£_addr
[
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
];

397 
uöt32_t
 
	mfc_èbÀ_sidx
[
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
];

398 
	mfc_èbÀ_evi˘i⁄_hódî
;

399 
uöt32_t
 
	mfc_èbÀ_vÆid_cou¡
;

404 
uöt8_t
 
	m¨ó
[
JMEM_HEAP_AREA_SIZE
];

406 } 
	tjmem_hóp_t
;

411 
jîry_c⁄ãxt_t
 
jîry_globÆ_c⁄ãxt
;

413 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


417 
jmem_hóp_t
 
jîry_globÆ_hóp
;

420 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


425 
jîry_hash_èbÀ_t
 
jîry_globÆ_hash_èbÀ
;

432 
	#JERRY_CONTEXT
(
fõld
Ë(
jîry_globÆ_c⁄ãxt
.fõld)

	)

434 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


438 
	#JERRY_HEAP_CONTEXT
(
fõld
Ë(
jîry_globÆ_hóp
.fõld)

	)

442 #i‚de‡
CONFIG_ECMA_LCACHE_DISABLE


447 
	#JERRY_HASH_TABLE_CONTEXT
(
fõld
Ë(
jîry_globÆ_hash_èbÀ
.fõld)

	)

	@deps/jerry/jerry-core/jmem/dynamic/jmem-heap-dynamic-emul-slab.c

16 
	~"jmem-hóp-dy«mic-emul-¶ab.h
"

17 
	~"jc⁄ãxt.h
"

18 
	~"jmem-¥ofûî.h
"

20 #i‡
deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë&& deföed(
DE_SLAB
)

22 *
	$Æloc_a_block_‰om_¶ab
(
size_t
 
size
) {

24 
¶ab_ödex
;

25 
boﬁ
 
is_¶ab_found
 = 
Ál£
;

26 
¶ab_ödex
 = 0; sœb_ödex < 
DE_MAX_NUM_SLABS
; slab_index++) {

27 
boﬁ
 
is_Æloˇãd
 = 
	`JERRY_CONTEXT
(
is_¶ab_Æloˇãd
[
¶ab_ödex
]);

28 
num_Æloˇãd_¶Ÿs
 = 
	`JERRY_CONTEXT
“um_Æloˇãd_¶Ÿs[
¶ab_ödex
]);

29 i‡(!
is_Æloˇãd
) {

32 i‡(
num_Æloˇãd_¶Ÿs
 + 1 < 
DE_NUM_SLOTS_PER_SLAB
) {

33 
is_¶ab_found
 = 
åue
;

38 i‡(!
is_¶ab_found
) {

39 
¶ab_ödex
 = 
	`Æloc_a_¶ab_£gmít
();

43 *
block_addªss
 = 
	`jmem_hóp_Æloc_block_smÆl_obje˘
(
size
);

46 
jmem_˝oöãr_t
 
block_˝
 = 
	`jmem_com¥ess_poöãr
(
block_addªss
);

47 
	`JERRY_CONTEXT
(
˝2si_rm≠
[
block_˝
]Ë
¶ab_ödex
;

48 
	`JERRY_CONTEXT
(
num_Æloˇãd_¶Ÿs
[
¶ab_ödex
]) += 1;

50  
block_addªss
;

51 
	}
}

53 
	$‰ì_a_block_‰om_¶ab
(*
block_addªss
, 
size_t
 
size
) {

55 
	`jmem_hóp_‰ì_block_smÆl_obje˘
(
block_addªss
, 
size
);

58 
jmem_˝oöãr_t
 
block_˝
 = 
	`jmem_com¥ess_poöãr
(
block_addªss
);

59 
¶ab_ödex
 = 
	`JERRY_CONTEXT
(
˝2si_rm≠
[
block_˝
]);

61 
	`JERRY_CONTEXT
(
num_Æloˇãd_¶Ÿs
[
¶ab_ödex
]) -= 1;

65 i‡(
	`JERRY_CONTEXT
(
num_Æloˇãd_¶Ÿs
[
¶ab_ödex
]) == 0) {

66 
	`‰ì_a_¶ab_£gmít
(
¶ab_ödex
);

70 
	}
}

72 
	$Æloc_a_¶ab_£gmít
() {

74 
¶ab_ödex
;

75 
boﬁ
 
is_¶ab_ödex_found
 = 
Ál£
;

76 
¶ab_ödex
 = 0; sœb_ödex < 
DE_MAX_NUM_SLABS
; slab_index++) {

77 
boﬁ
 
is_Æloˇãd
 = 
	`JERRY_CONTEXT
(
is_¶ab_Æloˇãd
[
¶ab_ödex
]);

78 i‡(!
is_Æloˇãd
) {

79 
is_¶ab_ödex_found
 = 
åue
;

83 
	`JERRY_ASSERT
(
is_¶ab_ödex_found
);

86 
size_t
 
Æloˇãd_size
 =

87 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+ 
DE_SLAB_SEGMENT_SIZE
;

88 i‡(
Æloˇãd_size
 > 
JMEM_HEAP_SIZE
) {

89 
	`¥ötf
("GC on slab segmentálloc\n");

90 
	`¥öt_£gmít_utûüzti⁄_¥ofûe_bef‹e_gc
(

91 
DE_SLAB_SEGMENT_SIZE
);

92 
	`jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
(
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
);

93 
	`¥öt_£gmít_utûüzti⁄_¥ofûe_a·î_gc
(

94 
DE_SLAB_SEGMENT_SIZE
);

98 
	`JERRY_CONTEXT
(
is_¶ab_Æloˇãd
[
¶ab_ödex
]Ë
åue
;

99 
	`JERRY_CONTEXT
(
num_Æloˇãd_¶abs
)++;

102 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
DE_SLAB_SEGMENT_SIZE
;

103 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

104 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

107  
¶ab_ödex
;

108 
	}
}

110 
	$‰ì_a_¶ab_£gmít
(
¶ab_ödex
) {

112 
	`JERRY_CONTEXT
(
is_¶ab_Æloˇãd
[
¶ab_ödex
]Ë
Ál£
;

113 
	`JERRY_CONTEXT
(
num_Æloˇãd_¶abs
)--;

116 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë-
DE_SLAB_SEGMENT_SIZE
;

117 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) -=

118 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

119 
	}
}

121 
deföed
(
DE_SLAB
) */

	@deps/jerry/jerry-core/jmem/dynamic/jmem-heap-dynamic-emul-slab.h

16 #i‚de‡
JMEM_HEAP_DYNAMIC_HEAP_EMUL_SLAB_H


17 
	#JMEM_HEAP_DYNAMIC_HEAP_EMUL_SLAB_H


	)

19 
	~"jmem-c⁄fig.h
"

20 
	~"jc⁄ãxt.h
"

22 #i‡
deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë&& deföed(
DE_SLAB
)

23 *
Æloc_a_block_‰om_¶ab
(
size_t
 
size
);

24 
‰ì_a_block_‰om_¶ab
(*
block_addªss
, 
size_t
 
size
);

25 
Æloc_a_¶ab_£gmít
();

26 
‰ì_a_¶ab_£gmít
(
¶ab_ödex
);

29 
deföed
(
DE_SLAB
) */

	@deps/jerry/jerry-core/jmem/jmem-allocator-internal.h

16 #i‚de‡
JMEM_ALLOCATOR_INTERNAL_H


17 
	#JMEM_ALLOCATOR_INTERNAL_H


	)

19 #i‚de‡
JMEM_ALLOCATOR_INTERNAL


27 #ifde‡
JMEM_STATS


28 
jmem_hóp_°©s_ª£t_≥ak
 ();

29 
jmem_hóp_°©s_¥öt
 ();

32 
jmem_hóp_öô
 ();

33 
jmem_hóp_föÆize
 ();

34 
boﬁ
 
jmem_is_hóp_poöãr
 (c⁄° *
poöãr
);

36 
jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
);

42 #ifde‡
JMEM_STATS


43 
jmem_poﬁs_°©s_¥öt
 ();

46 
jmem_poﬁs_föÆize
 ();

47 
jmem_poﬁs_cﬁÀ˘_em±y
 ();

	@deps/jerry/jerry-core/jmem/jmem-allocator.c

19 
	~"ecma-globÆs.h
"

20 
	~"jc⁄ãxt.h
"

21 
	~"jmem.h
"

22 
	~"jπ-libc-ö˛udes.h
"

24 
	#JMEM_ALLOCATOR_INTERNAL


	)

25 
	~"jmem-Æloˇt‹-öã∫Æ.h
"

26 
	~"jmem-hóp-£gmíãd.h
"

27 
	~"jmem-¥ofûî.h
"

33 
	$jmem_öô
 ()

35 
	`jmem_hóp_öô
 ();

36 
	}
}

42 
	$jmem_föÆize
 ()

44 
	`jmem_poﬁs_föÆize
 ();

46 #ifde‡
JMEM_STATS


47 i‡(
	`JERRY_CONTEXT
 (
jîry_öô_Êags
Ë& 
ECMA_INIT_MEM_STATS
)

49 
	`jmem_°©s_¥öt
 ();

53 
	`jmem_hóp_föÆize
 ();

54 
	}
}

61 
ölöe
 
jmem_˝oöãr_t
 
__©å_puª___
 
__©å_Æways_ölöe___


62 
	$jmem_com¥ess_poöãr
 (c⁄° *
poöãr_p
)

64 
	`JERRY_ASSERT
 (
poöãr_p
 !
NULL
);

65 
	`JERRY_ASSERT
 (
	`jmem_is_hóp_poöãr
 (
poöãr_p
));

67 
uöçå_t
 
uöt_±r
 = (uöçå_tË
poöãr_p
;

69 
	`JERRY_ASSERT
 (
uöt_±r
 % 
JMEM_ALIGNMENT
 == 0);

71 #i‡!
	`deföed
 (
JERRY_SYSTEM_ALLOCATOR
)

72 #i‡
	`deföed
 (
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY
Ë&& deföed (
JERRY_CPOINTER_32_BIT
)

73 
	`JERRY_ASSERT
 (((
jmem_˝oöãr_t
Ë
uöt_±r
) == uint_ptr);

76 #ifde‡
JMEM_SEGMENTED_HEAP


77 
uöt_±r
 = (
uöçå_t
)
	`JMEM_COMPRESS_POINTER_INTERNAL
(
poöãr_p
);

79 
	`¥ofûe_com¥essi⁄_°¨t
();

80 
	`¥ofûe_com¥essi⁄_cy˛es_°¨t
();

81 
uöt_±r
 -(
uöçå_t
Ë&
	`JERRY_HEAP_CONTEXT
 (
fú°
);

82 
	`¥ofûe_com¥essi⁄_cy˛es_íd
(0);

83 
	`¥ofûe_com¥essi⁄_íd
(0);

85 
uöt_±r
 >>
JMEM_ALIGNMENT_LOG
;

88 #ifde‡
JERRY_CPOINTER_32_BIT


89 
	`JERRY_ASSERT
 (
uöt_±r
 <
UINT32_MAX
);

91 
	`JERRY_ASSERT
 (
uöt_±r
 <
UINT16_MAX
);

93 
	`JERRY_ASSERT
 (
uöt_±r
 !
JMEM_CP_NULL
);

96  (
jmem_˝oöãr_t
Ë
uöt_±r
;

97 
	}
}

104 
ölöe
 * 
__©å_puª___
 
__©å_Æways_ölöe___


105 
	$jmem_decom¥ess_poöãr
 (
uöçå_t
 
com¥es£d_poöãr
)

107 
	`JERRY_ASSERT
 (
com¥es£d_poöãr
 !
JMEM_CP_NULL
);

109 
uöçå_t
 
uöt_±r
 = 
com¥es£d_poöãr
;

111 
	`JERRY_ASSERT
 (((
jmem_˝oöãr_t
Ë
uöt_±r
) == uint_ptr);

113 #i‡!
	`deföed
 (
JERRY_SYSTEM_ALLOCATOR
)

114 #i‡
	`deföed
 (
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY
Ë&& deföed (
JERRY_CPOINTER_32_BIT
)

115 
	`JERRY_ASSERT
 (
uöt_±r
 % 
JMEM_ALIGNMENT
 == 0);

117 
uöt_±r
 <<
JMEM_ALIGNMENT_LOG
;

118 #ifde‡
JMEM_SEGMENTED_HEAP


119 
uöt_±r
 = (
uöçå_t
)
	`JMEM_DECOMPRESS_POINTER_INTERNAL
((
uöt32_t
)uint_ptr);

121 
	`¥ofûe_decom¥essi⁄_°¨t
();

122 
	`¥ofûe_decom¥essi⁄_cy˛es_°¨t
();

123 
uöt_±r
 +(
uöçå_t
Ë&
	`JERRY_HEAP_CONTEXT
 (
fú°
);

124 
	`¥ofûe_decom¥essi⁄_cy˛es_íd
();

125 
	`¥ofûe_decom¥essi⁄_íd
();

129 
	`JERRY_ASSERT
 (
	`jmem_is_hóp_poöãr
 ((*Ë
uöt_±r
));

132  (*Ë
uöt_±r
;

133 
	}
}

139 
	$jmem_ªgi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback_t
 
ˇŒback
)

142 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback
Ë=
NULL
);

144 
	`JERRY_CONTEXT
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback
Ë
ˇŒback
;

145 
	}
}

151 
	$jmem_uƒegi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback_t
 
ˇŒback
)

154 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback
Ë=
ˇŒback
);

156 
	`JERRY_CONTEXT
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback
Ë
NULL
;

157 
	}
}

163 
	$jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
)

165 i‡(
	`JERRY_CONTEXT
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback
Ë!
NULL
)

167 
	`JERRY_CONTEXT
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback
Ë(
£vîôy
);

170 
	`jmem_poﬁs_cﬁÀ˘_em±y
 ();

172 #ifde‡
JMEM_SEGMENTED_HEAP


173 
	`‰ì_em±y_£gmít_groups
 ();

175 
	}
}

177 #ifde‡
JMEM_STATS


182 
	$jmem_°©s_¥öt
 ()

184 
	`jmem_hóp_°©s_¥öt
 ();

185 
	}
}

191 
	$jmem_°©s_Æloˇã_byã_code_byãs
 (
size_t
 
byã_code_size
)

193 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

195 
hóp_°©s
->
byã_code_byãs
 +
byã_code_size
;

197 i‡(
hóp_°©s
->
byã_code_byãs
 >hóp_°©s->
≥ak_byã_code_byãs
)

199 
hóp_°©s
->
≥ak_byã_code_byãs
 = hóp_°©s->
byã_code_byãs
;

201 
	}
}

207 
	$jmem_°©s_‰ì_byã_code_byãs
 (
size_t
 
byã_code_size
)

209 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

211 
	`JERRY_ASSERT
 (
hóp_°©s
->
byã_code_byãs
 >
byã_code_size
);

213 
hóp_°©s
->
byã_code_byãs
 -
byã_code_size
;

214 
	}
}

220 
	$jmem_°©s_Æloˇã_°rög_byãs
 (
size_t
 
°rög_size
)

222 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

224 
hóp_°©s
->
°rög_byãs
 +
°rög_size
;

226 i‡(
hóp_°©s
->
°rög_byãs
 >hóp_°©s->
≥ak_°rög_byãs
)

228 
hóp_°©s
->
≥ak_°rög_byãs
 = hóp_°©s->
°rög_byãs
;

230 
	}
}

236 
	$jmem_°©s_‰ì_°rög_byãs
 (
size_t
 
°rög_size
)

238 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

240 
	`JERRY_ASSERT
 (
hóp_°©s
->
°rög_byãs
 >
°rög_size
);

242 
hóp_°©s
->
°rög_byãs
 -
°rög_size
;

243 
	}
}

249 
	$jmem_°©s_Æloˇã_obje˘_byãs
 (
size_t
 
obje˘_size
)

251 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

253 
hóp_°©s
->
obje˘_byãs
 +
obje˘_size
;

255 i‡(
hóp_°©s
->
obje˘_byãs
 >hóp_°©s->
≥ak_obje˘_byãs
)

257 
hóp_°©s
->
≥ak_obje˘_byãs
 = hóp_°©s->
obje˘_byãs
;

259 
	}
}

265 
	$jmem_°©s_‰ì_obje˘_byãs
 (
size_t
 
obje˘_size
)

267 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

269 
	`JERRY_ASSERT
 (
hóp_°©s
->
obje˘_byãs
 >
obje˘_size
);

271 
hóp_°©s
->
obje˘_byãs
 -
obje˘_size
;

272 
	}
}

278 
	$jmem_°©s_Æloˇã_¥›îty_byãs
 (
size_t
 
¥›îty_size
)

280 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

282 
hóp_°©s
->
¥›îty_byãs
 +
¥›îty_size
;

284 i‡(
hóp_°©s
->
¥›îty_byãs
 >hóp_°©s->
≥ak_¥›îty_byãs
)

286 
hóp_°©s
->
≥ak_¥›îty_byãs
 = hóp_°©s->
¥›îty_byãs
;

288 
	}
}

294 
	$jmem_°©s_‰ì_¥›îty_byãs
 (
size_t
 
¥›îty_size
)

296 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
 (
jmem_hóp_°©s
);

298 
	`JERRY_ASSERT
 (
hóp_°©s
->
¥›îty_byãs
 >
¥›îty_size
);

300 
hóp_°©s
->
¥›îty_byãs
 -
¥›îty_size
;

301 
	}
}

	@deps/jerry/jerry-core/jmem/jmem-config.h

17 #i‚de‡
JMEM_CONFIG_H


18 
	#JMEM_CONFIG_H


	)

20 
	~"jîry-bﬂrd-c⁄fig.h
"

21 
	~"c⁄fig.h
"

27 
	#SEG_SEGMENT_SIZE
 2048

	)

28 
	#SEG_SEGMENT_SHIFT
 11

	)

32 
	#JMEM_SEGMENTED_HEAP


35 

	)

38 #i‡
deföed
(
JMEM_SYSTEM_ALLOCATOR
)

39 
	#JMEM_DYNAMIC_HEAP_REAL


41 

	)

42 #ñi‡
deföed
(
JMEM_SEGMENTED_HEAP
)

44 
	#SEG_FULLBIT_ADDRESS_ALLOC


45 

	)

47 
	#SEG_RMAP_CACHE


49 
	#SEG_RMAP_BINSEARCH


51 

	)

52 #ñi‡
deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

53 
	#DE_SLAB


54 

	)

56 
	#JMEM_STATIC_HEAP


58 

	)

62 #ifde‡
SEG_RMAP_CACHE


63 
	#SEG_RMAP_CACHE_SIZE
 16

64 
	#SEG_RMAP_CACHE_SET_SIZE
 1

65 
	#SEG_RMAP_CACHE_WAYS
 (
SEG_RMAP_CACHE_SIZE
 / 
SEG_RMAP_CACHE_SET_SIZE
)

	)

69 #ifde‡
SEG_RMAP_2LEVEL_SEARCH


70 
	#SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
 4

72 

	)

74 
	#JMEM_PROFILE


	)

76 #ifde‡
JMEM_PROFILE


78 
	#PROF_TIME


	)

79 
	#PROF_PMU


	)

83 
	#PROF_COUNT


84 

	)

86 #ifde‡
PROF_SIZE


87 
	#PROF_SIZE__PERIOD_USEC
 (100 * 1000)

	)

91 #ifde‡
PROF_TIME


96 
	#PROF_TIME__DECOMPRESSION


97 
	#PROF_TIME__COMPRESSION


98 

	)

99 #ifde‡
PROF_TIME__COMPRESSION


100 
	#PROF_TIME__COMPRESSION_DETAILED


	)

106 #ifde‡
PROF_PMU


107 
	#PROF_PMU__DECOMPRESSION_CYCLES


108 
	#PROF_PMU__COMPRESSION_CYCLES


110 

	)

111 #ifde‡
PROF_PMU__COMPRESSION_CYCLES


112 
	#PROF_PMU__COMPRESSION_CYCLES_DETAILED


	)

116 #ifde‡
PROF_CPTL


118 
	#PROF_CPTL_ACCESS


	)

121 #ifde‡
PROF_CPTL_ACCESS_SIMUL


122 
	#PROF_CPTL_ACCESS_SIMUL_SET_SIZE
 2

	)

123 
	#PROF_CPTL_ACCESS_SIMUL_LRU


126 

	)

128 #ifde‡
PROF_SEGMENT


129 
	#PROF_SEGMENT_UTILIZATION__ABSOLUTE


	)

132 
	#PROF_SEGMENT_UTILIZATION__BEFORE_GC


	)

133 
	#PROF_SEGMENT_UTILIZATION__AFTER_GC


	)

138 #ifde‡
PROF_JSOBJECT


139 
	#PROF_JSOBJECT_ALLOCATION


	)

140 
	#PROF_JSOBJECT_ALLOCATION__MAX_SIZE
 1024

	)

144 #ifde‡
PROF_COUNT


145 
	#PROF_COUNT__MAX_TYPES
 10

146 

	)

147 
	#PROF_COUNT__COMPRESSION_CALLERS


	)

148 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


149 #unde‡
PROF_COUNT__MAX_TYPES


150 
	#PROF_COUNT__MAX_TYPES
 19

	)

	@deps/jerry/jerry-core/jmem/jmem-heap.c

20 
	~"jc⁄ãxt.h
"

21 
	~"jmem.h
"

22 
	~"jπ-bô-fõlds.h
"

23 
	~"jπ-libc-ö˛udes.h
"

25 
	~"jmem-hóp-£gmíãd.h
"

26 
	#JMEM_ALLOCATOR_INTERNAL


	)

27 
	~"jmem-Æloˇt‹-öã∫Æ.h
"

28 
	~"jmem-hóp-dy«mic-emul-¶ab.h
"

29 
	~"jmem-¥ofûî.h
"

41 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


45 
ölöe
 
jmem_hóp_‰ì_t
 *
__©å_Æways_ölöe___
 
__©å_puª___


46 
	$jmem_hóp_gë_ªgi⁄_íd
(
jmem_hóp_‰ì_t
 *
cuº_p
)

48  (
jmem_hóp_‰ì_t
 *)((
uöt8_t
 *)
cuº_p
 + cuº_p->
size
);

49 
	}
}

52 #i‚de‡
JERRY_ENABLE_EXTERNAL_CONTEXT


56 
JERRY_STATIC_ASSERT
(

57 (
jmem_hóp_t
Ë<
JMEM_HEAP_SIZE
,

58 
size_of_mem_hóp_mu°_be_Àss_th™_‹_equÆ_to_MEM_HEAP_SIZE
);

61 #ifde‡
JMEM_STATS


63 #ifde‡
JERRY_SYSTEM_ALLOCATOR


64 #îr‹ 
Mem‹y
 
°©i°ics
 (
JMEM_STATS
Ë
¨e
 
nŸ
 
suµ‹ãd


67 
jmem_hóp_°©_öô
();

68 
jmem_hóp_°©_Æloc
(
size_t
 
num
);

69 
jmem_hóp_°©_‰ì
(
size_t
 
num
);

70 
jmem_hóp_°©_skù
();

71 
jmem_hóp_°©_n⁄skù
();

72 
jmem_hóp_°©_Æloc_ôî
();

73 
jmem_hóp_°©_‰ì_ôî
();

75 
	#JMEM_HEAP_STAT_INIT
(Ë
	`jmem_hóp_°©_öô
()

	)

76 
	#JMEM_HEAP_STAT_ALLOC
(
v1
Ë
	`jmem_hóp_°©_Æloc
(v1)

	)

77 
	#JMEM_HEAP_STAT_FREE
(
v1
Ë
	`jmem_hóp_°©_‰ì
(v1)

	)

78 
	#JMEM_HEAP_STAT_SKIP
(Ë
	`jmem_hóp_°©_skù
()

	)

79 
	#JMEM_HEAP_STAT_NONSKIP
(Ë
	`jmem_hóp_°©_n⁄skù
()

	)

80 
	#JMEM_HEAP_STAT_ALLOC_ITER
(Ë
	`jmem_hóp_°©_Æloc_ôî
()

	)

81 
	#JMEM_HEAP_STAT_FREE_ITER
(Ë
	`jmem_hóp_°©_‰ì_ôî
()

	)

83 
	#JMEM_HEAP_STAT_INIT
()

	)

84 
	#JMEM_HEAP_STAT_ALLOC
(
v1
)

	)

85 
	#JMEM_HEAP_STAT_FREE
(
v1
)

	)

86 
	#JMEM_HEAP_STAT_SKIP
()

	)

87 
	#JMEM_HEAP_STAT_NONSKIP
()

	)

88 
	#JMEM_HEAP_STAT_ALLOC_ITER
()

	)

89 
	#JMEM_HEAP_STAT_FREE_ITER
()

	)

92 
ölöe
 
	$jmem_hóp_¥öt_Æloˇt‹_ty≥
() {

94 
	`¥ötf
("\nIoT.js Memory Optimization Options\n");

95 
	`¥ötf
(">> Maximum JavaScript heap size: %dKB (%dB)\n",

96 (
JMEM_HEAP_AREA_SIZE
 / 1024), JMEM_HEAP_AREA_SIZE);

99 #i‡
	`deföed
(
JERRY_CPOINTER_32_BIT
) \

100 || 
	`deföed
(
SEG_FULLBIT_ADDRESS_ALLOC
) \

101 || 
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

102 
	`¥ötf
(">> Addressing: Full-bitwidth\n");

103 #ñi‡
	`deföed
(
JMEM_SEGMENTED_HEAP
)

104 
	`¥ötf
(">> Addressing: Multiple base compressed (MBCA)\n");

106 
	`¥ötf
(">> Addressing: Single base compressed (SBCA)\n");

110 #i‡
	`deföed
(
JERRY_SYSTEM_ALLOCATOR
)

111 
	`¥ötf
(">> Allocator: dynamic objectállocation\n");

112 #ñi‡
	`deföed
(
JMEM_SEGMENTED_HEAP
)

113 
	`¥ötf
(">> Allocator: dynamic segmentállocation (DSA)\n");

114 #ñi‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

115 
	`¥ötf
(">> Allocator:Émulated dynamic objectállocation\n");

117 
	`¥ötf
(">> Allocator: static heapÑeservation\n");

121 #i‡
	`deföed
(
JERRY_SYSTEM_ALLOCATOR
)

123 #ñi‡
	`deföed
(
JMEM_SEGMENTED_HEAP
)

125 
	`¥ötf
(">>>> Segmíàsize: %dB\n", 
SEG_SEGMENT_SIZE
);

126 
	`¥ötf
(">>>> Max segmíàcou¡: %d\n", 
SEG_NUM_SEGMENTS
);

129 #i‡
	`deföed
(
SEG_RMAP_CACHE
)

130 
	`¥ötf
(">>>> MBCAT FastÖath:Ñeverse map cache (RMC)\n");

131 #i‡
SEG_RMAP_CACHE_SET_SIZE
 == 1

132 
	`¥ötf
(">>>>>> Dúe˘-m≠≥d, cachêsize: %d\n", 
SEG_RMAP_CACHE_SIZE
);

133 #ñi‡
SEG_RMAP_CACHE_SIZE
 =
SEG_RMAP_CACHE_SET_SIZE


134 
	`¥ötf
(">>>>>> FuŒy-assocütive, cachêsize: %d\n", 
SEG_RMAP_CACHE_SIZE
);

135 #ñi‡
SEG_RMAP_CACHE_SIZE
 > 
SEG_RMAP_CACHE_SET_SIZE


136 
	`¥ötf
(">>>>>> %d-wayássociative, cache size: %d, set size: %d\n",

137 
SEG_RMAP_CACHE_WAYS
, 
SEG_RMAP_CACHE_SIZE
, 
SEG_RMAP_CACHE_SET_SIZE
);

139 
	`¥ötf
(">>>>>> Invalid RMC setting, cache size: %d, set size: %d\n",

140 
SEG_RMAP_CACHE_SIZE
, 
SEG_RMAP_CACHE_SET_SIZE
);

143 
	`¥ötf
(">>>> MBCAT FastÖath:Çone\n");

147 #i‡
	`deföed
(
SEG_RMAP_BINSEARCH
)

148 
	`¥ötf
(">>>> MBCAT SlowÖath: binary search based onÑeverse mapÅree (RMT)\n");

149 #ñi‡
	`deföed
(
SEG_RMAP_2LEVEL_SEARCH
)

150 
	`¥ötf
(">>>> MBCAT SlowÖath: 2-level search (FIFO cache size: %d)\n",

151 
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
);

153 
	`¥ötf
(">>>> MBCAT SlowÖath:Üinear search based on segment baseÅable\n");

156 #ñi‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

158 #i‡
	`deföed
(
DE_SLAB
)

159 
	`¥ötf
(">>>> SlabÉnabled\n");

164 
	}
}

166 
ölöe
 
	$jmem_hóp_öô_fú°_‰ì_ªgi⁄
() {

168 #ifde‡
JMEM_SEGMENTED_HEAP


169 
jmem_hóp_‰ì_t
 *c⁄° 
ªgi⁄_p
 =

170 (
jmem_hóp_‰ì_t
 *)(
	`JERRY_HEAP_CONTEXT
(
¨ó
[0]Ë+ 
JMEM_ALIGNMENT
);

171 
ªgi⁄_p
->
size
 = 
SEG_SEGMENT_SIZE
 - 
JMEM_ALIGNMENT
;

173 
jmem_hóp_‰ì_t
 *c⁄° 
ªgi⁄_p
 =

174 (
jmem_hóp_‰ì_t
 *)
	`JERRY_HEAP_CONTEXT
(
¨ó
);

175 
ªgi⁄_p
->
size
 = 
JMEM_HEAP_AREA_SIZE
;

177 
ªgi⁄_p
->
√xt_off£t
 = 
JMEM_HEAP_END_OF_LIST
;

180 
	`JERRY_HEAP_CONTEXT
(
fú°
).
size
 = 0;

181 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
 =

182 
	`JMEM_COMPRESS_POINTER_INTERNAL
(
ªgi⁄_p
);

183 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


184 
	`¥ofûe_öc_cou¡_of_a_ty≥
(1);

186 
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
Ë&
	`JERRY_HEAP_CONTEXT
(
fú°
);

187 
	}
}

189 
ölöe
 
	$jmem_hóp_öô_size_mërics
() {

191 #i‡
	`deföed
(
JMEM_STATIC_HEAP
)

192 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë
JMEM_HEAP_SIZE
;

194 #i‡
	`deföed
(
JMEM_SEGMENTED_HEAP
)

195 
	`JERRY_CONTEXT
(
jmem_£gmít_Æloˇt‹_mëad©a_size
) =

196 
SEG_NUM_SEGMENTS
 * 
SEG_METADATA_SIZE_PER_SEGMENT
;

198 
	}
}

203 
	$jmem_hóp_öô
() {

205 #i‚de‡
JERRY_CPOINTER_32_BIT


207 
	`JERRY_ASSERT
(((
UINT16_MAX
 + 1Ë<< 
JMEM_ALIGNMENT_LOG
Ë>
JMEM_HEAP_SIZE
);

209 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


210 
	`JERRY_ASSERT
((
uöçå_t
)
	`JERRY_HEAP_CONTEXT
(
¨ó
Ë% 
JMEM_ALIGNMENT
 == 0);

212 
	`jmem_hóp_¥öt_Æloˇt‹_ty≥
();

214 #i‡!
	`deföed
(
JERRY_SYSTEM_ALLOCATOR
)

215 #i‡
	`deföed
(
JMEM_SEGMENTED_HEAP
)

216 
	`öô_£gmíãd_hóp
();

218 
	`JERRY_CONTEXT
(
jmem_hóp_limô
Ë
CONFIG_MEM_HEAP_DESIRED_LIMIT
;

219 
	`jmem_hóp_öô_fú°_‰ì_ªgi⁄
();

220 
	`jmem_hóp_öô_size_mërics
();

223 
	`öô_¥ofûîs
();

224 
	`JMEM_HEAP_STAT_INIT
();

225 
	}
}

230 
	$jmem_hóp_föÆize
() {

231 
	`föÆize_¥ofûîs
();

233 #ifde‡
JMEM_SEGMENTED_HEAP


234 
	`‰ì_em±y_£gmít_groups
();

235 
	`‰ì_öôül_£gmít_group
();

236 
	`JERRY_ASSERT
(
	`JERRY_HEAP_CONTEXT
(
£gmíts_cou¡
) == 0);

238 
	`JERRY_ASSERT
(
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
) == 0);

239 
	}
}

241 
ölöe
 *
	$jmem_hóp_Æloc_block_öã∫Æ_Á°
(
boﬁ
 
is_smÆl_block
) {

243 
jmem_hóp_‰ì_t
 *
d©a_•a˚_p
 = 
NULL
;

245 
d©a_•a˚_p
 =

246 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
);

250 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë+
JMEM_ALIGNMENT
;

251 
	`JERRY_CONTEXT
(
jmem_hóp_Æloˇãd_blocks_cou¡
)++;

254 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

255 #i‡
	`deföed
(
DE_SLAB
)

257 i‡(!
is_smÆl_block
) {

258 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
JMEM_ALIGNMENT
;

259 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

260 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

264 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
JMEM_ALIGNMENT
;

265 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

266 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

267 
	`JERRY_UNUSED
(
is_smÆl_block
);

270 
	`JERRY_UNUSED
(
is_smÆl_block
);

273 
uöt32_t
 
block_off£t
 = 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
;

274 #ifde‡
JMEM_SEGMENTED_HEAP


276 
uöt32_t
 
sidx
 = 
block_off£t
 / 
SEG_SEGMENT_SIZE
;

277 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]);

278 
£gmít_hódî
->
occupõd_size
 +
JMEM_ALIGNMENT
;

281 
	`JMEM_HEAP_STAT_ALLOC_ITER
();

284 i‡(
d©a_•a˚_p
->
size
 =
JMEM_ALIGNMENT
) {

285 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
 = 
d©a_•a˚_p
->next_offset;

288 
uöt32_t
 
ªmaöög_off£t
 = 
block_off£t
 + 
JMEM_ALIGNMENT
;

289 
jmem_hóp_‰ì_t
 *
ªmaöög_p
 =

290 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
ªmaöög_off£t
);

291 
ªmaöög_p
->
size
 = 
d©a_•a˚_p
->sizê- 
JMEM_ALIGNMENT
;

292 
ªmaöög_p
->
√xt_off£t
 = 
d©a_•a˚_p
->next_offset;

293 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
 = 
ªmaöög_off£t
;

297 i‡(
	`u∆ikñy
(
d©a_•a˚_p
 =
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
))) {

298 
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
) =

299 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
);

301  
d©a_•a˚_p
;

302 
	}
}

304 
ölöe
 *
	$jmem_hóp_Æloc_block_öã∫Æ_¶ow
(

305 c⁄° 
size_t
 
ªquúed_size
, 
boﬁ
 
is_smÆl_block
) {

307 
jmem_hóp_‰ì_t
 *
d©a_•a˚_p
 = 
NULL
;

308 
uöt32_t
 
cuºít_off£t
 = 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
;

309 
jmem_hóp_‰ì_t
 *
¥ev_p
 = &
	`JERRY_HEAP_CONTEXT
(
fú°
);

310 
cuºít_off£t
 !
JMEM_HEAP_END_OF_LIST
) {

311 
jmem_hóp_‰ì_t
 *
cuºít_p
 =

312 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
cuºít_off£t
);

314 
	`JMEM_HEAP_STAT_ALLOC_ITER
();

316 c⁄° 
uöt32_t
 
√xt_off£t
 = 
cuºít_p
->next_offset;

327 i‡(
cuºít_p
->
size
 >
ªquúed_size
) {

329 
d©a_•a˚_p
 = 
cuºít_p
;

332 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë+
ªquúed_size
;

333 
	`JERRY_CONTEXT
(
jmem_hóp_Æloˇãd_blocks_cou¡
)++;

335 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

336 #i‡
	`deföed
(
DE_SLAB
)

338 i‡(!
is_smÆl_block
) {

339 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
ªquúed_size
;

340 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

341 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

345 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
ªquúed_size
;

346 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

347 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

348 
	`JERRY_UNUSED
(
is_smÆl_block
);

351 
	`JERRY_UNUSED
(
is_smÆl_block
);

355 #ifde‡
JMEM_SEGMENTED_HEAP


356 
size_to_Æloc
 = ()
ªquúed_size
;

357 
uöt32_t
 
block_°¨t_off£t
 = 
cuºít_off£t
;

358 
uöt32_t
 
block_íd_off£t
 =

359 
block_°¨t_off£t
 + (
uöt32_t
)
size_to_Æloc
 - 
JMEM_ALIGNMENT
;

360 
uöt32_t
 
‰agmít_°¨t_off£t
 = 
block_°¨t_off£t
;

361 
size_to_Æloc
 > 0) {

362 
uöt32_t
 
sidx
 = 
‰agmít_°¨t_off£t
 / 
SEG_SEGMENT_SIZE
;

363 
uöt32_t
 
£gmít_íd_off£t
 =

364 (
sidx
 + 1Ë* 
SEG_SEGMENT_SIZE
 - 
JMEM_ALIGNMENT
;

365 
uöt32_t
 
‰agmít_íd_off£t
;

366 i‡(
block_íd_off£t
 < 
£gmít_íd_off£t
) {

367 
‰agmít_íd_off£t
 = 
block_íd_off£t
;

369 
‰agmít_íd_off£t
 = 
£gmít_íd_off£t
;

371 
uöt32_t
 
size_to_Æloc_ö_£gmít
 =

372 
‰agmít_íd_off£t
 - 
‰agmít_°¨t_off£t
 + 
JMEM_ALIGNMENT
;

374 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]);

375 
£gmít_hódî
->
occupõd_size
 +
size_to_Æloc_ö_£gmít
;

377 
size_to_Æloc
 -()
size_to_Æloc_ö_£gmít
;

379 
‰agmít_°¨t_off£t
 = 
‰agmít_íd_off£t
 + 
JMEM_ALIGNMENT
;

384 i‡(
cuºít_p
->
size
 > 
ªquúed_size
) {

386 
jmem_hóp_‰ì_t
 *c⁄° 
ªmaöög_p
 =

387 (
jmem_hóp_‰ì_t
 *)((
uöt8_t
 *)
cuºít_p
 + 
ªquúed_size
);

390 
ªmaöög_p
->
size
 = 
cuºít_p
->sizê- (
uöt32_t
)
ªquúed_size
;

391 
ªmaöög_p
->
√xt_off£t
 =Çext_offset;

394 #ifde‡
JMEM_SEGMENTED_HEAP


395 
¥ev_p
->
√xt_off£t
 = 
cuºít_off£t
 + (
uöt32_t
)
ªquúed_size
;

397 
¥ev_p
->
√xt_off£t
 = 
	`JMEM_COMPRESS_POINTER_INTERNAL
(
ªmaöög_p
);

403 
¥ev_p
->
√xt_off£t
 =Çext_offset;

406 
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
Ë
¥ev_p
;

413 
¥ev_p
 = 
cuºít_p
;

414 
cuºít_off£t
 = 
√xt_off£t
;

416  
d©a_•a˚_p
;

417 
	}
}

419 
ölöe
 *
	$jmem_hóp_Æloc_block_öã∫Æ_dy«mic_ªÆ
(

420 c⁄° 
size_t
 
size
, 
boﬁ
 
is_smÆl_block
) {

421 *
d©a_•a˚_p
 = 
	`mÆloc
(
size
);

423 
size_t
 
Æig√d_size
 = 
size
 + 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

424 
Æig√d_size
 = (◊lig√d_sizê+ 
SYSTEM_ALLOCATOR_ALIGN_BYTES
 - 1) /

425 
SYSTEM_ALLOCATOR_ALIGN_BYTES
) *

426 
SYSTEM_ALLOCATOR_ALIGN_BYTES
;

428 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë+
size
;

429 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+
Æig√d_size
;

430 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

431 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

432 
	`JERRY_CONTEXT
(
jmem_hóp_Æloˇãd_blocks_cou¡
)++;

433 
	`JERRY_UNUSED
(
is_smÆl_block
);

434  
d©a_•a˚_p
;

435 
	}
}

446 
__©å_hŸ___
 *
	$jmem_hóp_Æloc_block_öã∫Æ
(c⁄° 
size_t
 
size
,

447 
boﬁ
 
is_smÆl_block
) {

448 
	`¥ofûe_Æloc_°¨t
();

450 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


452 c⁄° 
size_t
 
ªquúed_size
 =

453 ((
size
 + 
JMEM_ALIGNMENT
 - 1) / JMEM_ALIGNMENT) * JMEM_ALIGNMENT;

455 
jmem_hóp_‰ì_t
 *
d©a_•a˚_p
 = 
NULL
;

456 i‡(
ªquúed_size
 =
JMEM_ALIGNMENT
 &&

457 
	`likñy
(
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
 !
JMEM_HEAP_END_OF_LIST
)) {

458 
d©a_•a˚_p
 = 
	`jmem_hóp_Æloc_block_öã∫Æ_Á°
(
is_smÆl_block
);

460 
d©a_•a˚_p
 =

461 
	`jmem_hóp_Æloc_block_öã∫Æ_¶ow
(
ªquúed_size
, 
is_smÆl_block
);

465 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
) >=

466 
	`JERRY_CONTEXT
(
jmem_hóp_limô
)) {

467 
	`JERRY_CONTEXT
(
jmem_hóp_limô
Ë+
CONFIG_MEM_HEAP_DESIRED_LIMIT
;

469 i‡(
	`u∆ikñy
(!
d©a_•a˚_p
)) {

471 
	`¥ofûe_Æloc_íd
();

472  
NULL
;

475 
	`JMEM_HEAP_STAT_ALLOC
(
size
);

476 
	`¥ofûe_Æloc_íd
();

477  (*)
d©a_•a˚_p
;

479 *
d©a_•a˚_p
 =

480 
	`jmem_hóp_Æloc_block_öã∫Æ_dy«mic_ªÆ
(
size
, 
is_smÆl_block
);

481 
	`¥ofûe_Æloc_íd
();

482  
d©a_•a˚_p
;

484 
	}
}

500 *
	$jmem_hóp_gc_™d_Æloc_block
(

501 c⁄° 
size_t
 
ªquúed_size
,

502 
boﬁ
 
ªt_nuŒ_⁄_îr‹
,

504 
boﬁ
 
is_smÆl_block
)

506 i‡(
	`u∆ikñy
(
ªquúed_size
 == 0)) {

507  
NULL
;

509 
size_t
 
size
 =

510 (
ªquúed_size
 + 
JMEM_ALIGNMENT
 - 1) / JMEM_ALIGNMENT * JMEM_ALIGNMENT;

512 #ifde‡
JMEM_GC_BEFORE_EACH_ALLOC


514 #ifde‡
PRINT_GC_BEHAVIOR


515 
	`¥ötf
("GC 0: beforeÉachálloc\n");

517 
	`jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
(
JMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
);

521 #i‡
	`deföed
(
JMEM_STATIC_HEAP
Ë|| deföed(
JMEM_SEGMENTED_HEAP
)

522 
size_t
 
Æloˇãd_size
 = 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë+ 
size
;

524 
size_t
 
Æloˇãd_size
 = 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë+ 
size
;

525 #i‡
	`deföed
(
DE_SLAB
)

526 i‡(
is_smÆl_block
)

527 
Æloˇãd_size
 -
size
;

531 #ifde‡
JMEM_LAZY_GC


532 i‡(
Æloˇãd_size
 > 
JMEM_HEAP_SIZE
) {

534 i‡(
Æloˇãd_size
 > 
	`JERRY_CONTEXT
(
jmem_hóp_limô
)) {

536 #ifde‡
PRINT_GC_BEHAVIOR


537 
	`¥ötf
("GC 1:Éxpected over-size\n");

539 
	`¥öt_£gmít_utûüzti⁄_¥ofûe_bef‹e_gc
(
size
);

540 
	`jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
(
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
);

541 
	`¥öt_£gmít_utûüzti⁄_¥ofûe_a·î_gc
(
size
);

543 *
d©a_•a˚_p
 =

544 
	`jmem_hóp_Æloc_block_öã∫Æ
(
size
, 
is_smÆl_block
);

545 i‡(
	`likñy
(
d©a_•a˚_p
 !
NULL
)) {

546 
	`¥öt_tŸÆ_size_¥ofûe_⁄_Æloc
();

547 
	`¥ofûe_jsobje˘_öc_Æloˇti⁄
(
size
);

548  
d©a_•a˚_p
;

551 #ifde‡
JMEM_SEGMENTED_HEAP


553 
	`¥öt_£gmít_utûiz©i⁄_¥ofûe_bef‹e_£gÆloc
(
size
);

554 i‡(
	`Æloc_a_£gmít_group
(
size
Ë!
NULL
) {

555 
d©a_•a˚_p
 =

556 
	`jmem_hóp_Æloc_block_öã∫Æ
(
size
, 
is_smÆl_block
);

558  
d©a_•a˚_p
;

561 
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
 =

562 
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
;

563 
£vîôy
 <
JMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
;

564 
£vîôy
 = (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
)(severity + 1)) {

565 #ifde‡
PRINT_GC_BEHAVIOR


566 
	`¥ötf
("GC 2: failed dueÅo fragmentation.ÑetryÅo GC (severity=%d)\n",

567 ()
£vîôy
);

570 
	`¥öt_£gmít_utûüzti⁄_¥ofûe_bef‹e_gc
(

571 
size
);

572 
	`jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
(
£vîôy
);

573 
	`¥öt_£gmít_utûüzti⁄_¥ofûe_a·î_gc
(

574 
size
);

575 
d©a_•a˚_p
 =

576 
	`jmem_hóp_Æloc_block_öã∫Æ
(
size
, 
is_smÆl_block
);

577 i‡(
	`likñy
(
d©a_•a˚_p
 !
NULL
)) {

578 
	`¥öt_tŸÆ_size_¥ofûe_⁄_Æloc
();

579 
	`¥ofûe_jsobje˘_öc_Æloˇti⁄
(

580 
size
);

581  
d©a_•a˚_p
;

585 #ifde‡
JMEM_SEGMENTED_HEAP


587 
	`¥öt_£gmít_utûiz©i⁄_¥ofûe_bef‹e_£gÆloc
(
size
);

588 i‡(
	`Æloc_a_£gmít_group
(
size
Ë!
NULL
) {

589 
d©a_•a˚_p
 =

590 
	`jmem_hóp_Æloc_block_öã∫Æ
(
size
, 
is_smÆl_block
);

592  
d©a_•a˚_p
;

597 i‡(!
ªt_nuŒ_⁄_îr‹
) {

598 
	`jîry_Áèl
(
ERR_OUT_OF_MEMORY
);

600  
d©a_•a˚_p
;

601 
	}
}

614 
ölöe
 *
__©å_hŸ___
 
__©å_Æways_ölöe___


615 
	$jmem_hóp_Æloc_block
(c⁄° 
size_t
 
size
)

617 *
ªt
 = 
	`jmem_hóp_gc_™d_Æloc_block
(
size
, 
Ál£
, false);

618  
ªt
;

619 
	}
}

633 
ölöe
 *
__©å_hŸ___
 
__©å_Æways_ölöe___


634 
	$jmem_hóp_Æloc_block_nuŒ_⁄_îr‹
(

635 c⁄° 
size_t
 
size
)

637 *
ªt
 = 
	`jmem_hóp_gc_™d_Æloc_block
(
size
, 
åue
, 
Ál£
);

638  
ªt
;

639 
	}
}

644 
__©å_hŸ___
 
	$jmem_hóp_‰ì_block_öã∫Æ
(

645 *
±r
,

646 c⁄° 
size_t
 
size
,

647 
boﬁ
 
is_smÆl_obje˘
)

649 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


650 
	`¥ofûe_‰ì_°¨t
();

653 
	`JERRY_ASSERT
(
	`jmem_is_hóp_poöãr
(
±r
));

654 
	`JERRY_ASSERT
(
size
 > 0);

655 
	`JERRY_ASSERT
(
	`JERRY_CONTEXT
(
jmem_hóp_limô
) >=

656 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
));

658 
	`JMEM_HEAP_STAT_FREE_ITER
();

660 
jmem_hóp_‰ì_t
 *
block_p
 = (jmem_hóp_‰ì_à*)
±r
;

661 
jmem_hóp_‰ì_t
 *
¥ev_p
;

662 
jmem_hóp_‰ì_t
 *
√xt_p
;

663 
uöt32_t
 
√xt_˝
;

665 #ifde‡
JMEM_SEGMENTED_HEAP


666 
uöt32_t
 
boff£t
 = 
	`JMEM_COMPRESS_POINTER_INTERNAL
(
block_p
);

667 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


668 
	`¥ofûe_öc_cou¡_of_a_ty≥
(1);

670 
uöt32_t
 
skù_off£t
 =

671 
	`JMEM_COMPRESS_POINTER_INTERNAL
(
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
));

672 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


673 
	`¥ofûe_öc_cou¡_of_a_ty≥
(1);

675 
boﬁ
 
is_skù_ok
 = 
boff£t
 > 
skù_off£t
;

677 
boﬁ
 
is_skù_ok
 = 
block_p
 > 
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
);

679 i‡(
is_skù_ok
) {

680 
¥ev_p
 = 
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
);

681 
	`JMEM_HEAP_STAT_SKIP
();

683 
¥ev_p
 = &
	`JERRY_HEAP_CONTEXT
(
fú°
);

684 
	`JMEM_HEAP_STAT_NONSKIP
();

688 #ifde‡
JMEM_SEGMENTED_HEAP


689 c⁄° 
uöt32_t
 
block_off£t
 = 
boff£t
;

691 c⁄° 
uöt32_t
 
block_off£t
 = 
	`JMEM_COMPRESS_POINTER_INTERNAL
(
block_p
);

695 
¥ev_p
->
√xt_off£t
 < 
block_off£t
) {

696 
√xt_˝
 = 
¥ev_p
->
√xt_off£t
;

697 
√xt_p
 = 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
√xt_˝
);

700 
¥ev_p
 = 
√xt_p
;

702 
	`JMEM_HEAP_STAT_FREE_ITER
();

705 
√xt_˝
 = 
¥ev_p
->
√xt_off£t
;

706 
√xt_p
 = 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
√xt_˝
);

709 c⁄° 
size_t
 
Æig√d_size
 =

710 (
size
 + 
JMEM_ALIGNMENT
 - 1) / JMEM_ALIGNMENT * JMEM_ALIGNMENT;

713 i‡(
	`jmem_hóp_gë_ªgi⁄_íd
(
¥ev_p
Ë=
block_p
) {

715 
¥ev_p
->
size
 +(
uöt32_t
)
Æig√d_size
;

716 
block_p
 = 
¥ev_p
;

718 
block_p
->
size
 = (
uöt32_t
)
Æig√d_size
;

719 
¥ev_p
->
√xt_off£t
 = 
block_off£t
;

723 i‡(
	`jmem_hóp_gë_ªgi⁄_íd
(
block_p
Ë=
√xt_p
) {

725 
block_p
->
size
 +
√xt_p
->size;

726 
block_p
->
√xt_off£t
 = 
√xt_p
->next_offset;

728 
block_p
->
√xt_off£t
 = 
√xt_˝
;

731 
	`JERRY_CONTEXT
(
jmem_hóp_li°_skù_p
Ë
¥ev_p
;

733 #ifde‡
JMEM_SEGMENTED_HEAP


734 
size_to_‰ì
 = ()
Æig√d_size
;

735 
uöt32_t
 
block_°¨t_off£t
 = 
block_off£t
;

736 
uöt32_t
 
block_íd_off£t
 =

737 
block_°¨t_off£t
 + (
uöt32_t
)
size_to_‰ì
 - 
JMEM_ALIGNMENT
;

738 
uöt32_t
 
‰agmít_°¨t_off£t
 = 
block_°¨t_off£t
;

739 
size_to_‰ì
 > 0) {

740 
uöt32_t
 
sidx
 = 
‰agmít_°¨t_off£t
 / 
SEG_SEGMENT_SIZE
;

741 
uöt32_t
 
£gmít_íd_off£t
 =

742 (
sidx
 + 1Ë* 
SEG_SEGMENT_SIZE
 - 
JMEM_ALIGNMENT
;

743 
uöt32_t
 
‰agmít_íd_off£t
;

744 i‡(
block_íd_off£t
 < 
£gmít_íd_off£t
) {

745 
‰agmít_íd_off£t
 = 
block_íd_off£t
;

747 
‰agmít_íd_off£t
 = 
£gmít_íd_off£t
;

749 
uöt32_t
 
size_to_‰ì_ö_£gmít
 =

750 
‰agmít_íd_off£t
 - 
‰agmít_°¨t_off£t
 + 
JMEM_ALIGNMENT
;

752 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]);

753 
£gmít_hódî
->
occupõd_size
 -
size_to_‰ì_ö_£gmít
;

755 
size_to_‰ì
 -()
size_to_‰ì_ö_£gmít
;

757 
‰agmít_°¨t_off£t
 = 
‰agmít_íd_off£t
 + 
JMEM_ALIGNMENT
;

765 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë-
Æig√d_size
;

766 
	`JERRY_CONTEXT
(
jmem_hóp_Æloˇãd_blocks_cou¡
)--;

769 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
)

770 #i‡
	`deföed
(
DE_SLAB
)

772 i‡(!
is_smÆl_obje˘
) {

773 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë-
Æig√d_size
;

774 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) -=

775 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

779 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë-
Æig√d_size
;

780 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) -=

781 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

782 
	`JERRY_UNUSED
(
is_smÆl_obje˘
);

785 
	`JERRY_UNUSED
(
is_smÆl_obje˘
);

788 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë+ 
CONFIG_MEM_HEAP_DESIRED_LIMIT
 <=

789 
	`JERRY_CONTEXT
(
jmem_hóp_limô
)) {

790 
	`JERRY_CONTEXT
(
jmem_hóp_limô
Ë-
CONFIG_MEM_HEAP_DESIRED_LIMIT
;

795 
	`JMEM_HEAP_STAT_FREE
(
size
);

797 
	`¥öt_tŸÆ_size_¥ofûe_⁄_Æloc
();

798 
	`¥öt_£gmít_utûiz©i⁄_¥ofûe_a·î_‰ì
(
size
);

801 
	`¥ofûe_‰ì_íd
();

804 
	`JERRY_UNUSED
(
is_smÆl_obje˘
);

805 
	`‰ì
(
±r
);

808 
size_t
 
Æig√d_size
 = 
size
 + 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

809 
Æig√d_size
 = (◊lig√d_sizê+ 
SYSTEM_ALLOCATOR_ALIGN_BYTES
 - 1) /

810 
SYSTEM_ALLOCATOR_ALIGN_BYTES
) *

811 
SYSTEM_ALLOCATOR_ALIGN_BYTES
;

812 
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
Ë-
size
;

813 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë-
Æig√d_size
;

814 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) -=

815 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

816 
	`JERRY_CONTEXT
(
jmem_hóp_Æloˇãd_blocks_cou¡
)--;

818 
	`¥öt_tŸÆ_size_¥ofûe_⁄_Æloc
();

819 
	`¥ofûe_‰ì_íd
();

821 
	}
}

826 
__©å_hŸ___
 
	$jmem_hóp_‰ì_block
(

827 *
±r
,

828 c⁄° 
size_t
 
size
)

830 
	`jmem_hóp_‰ì_block_öã∫Æ
(
±r
, 
size
, 
Ál£
);

831 
	}
}

833 
ölöe
 *
__©å_hŸ___
 
__©å_Æways_ölöe___


834 
	$jmem_hóp_Æloc_block_smÆl_obje˘
(c⁄° 
size_t
 
size
) {

835 *
ªt
 = 
	`jmem_hóp_gc_™d_Æloc_block
(
size
, 
Ál£
, 
åue
);

836  
ªt
;

837 
	}
}

838 
ölöe
 
__©å_hŸ___
 
__©å_Æways_ölöe___


839 
	$jmem_hóp_‰ì_block_smÆl_obje˘
(*
±r
, c⁄° 
size_t
 
size
) {

840 
	`jmem_hóp_‰ì_block_öã∫Æ
(
±r
, 
size
, 
åue
);

841 
	}
}

843 #i‚de‡
JERRY_NDEBUG


853 
boﬁ
 
	$jmem_is_hóp_poöãr
(c⁄° *
poöãr
)

855 
boﬁ
 
is_hóp_poöãr
;

856 #i‚de‡
JERRY_SYSTEM_ALLOCATOR


857 #ifde‡
JMEM_SEGMENTED_HEAP


859 
is_hóp_poöãr
 = 
poöãr
 !
NULL
;

861 
is_hóp_poöãr
 =

862 ((
uöt8_t
 *)
poöãr
 >
	`JERRY_HEAP_CONTEXT
(
¨ó
) &&

863 (
uöt8_t
 *)
poöãr
 <(
	`JERRY_HEAP_CONTEXT
(
¨ó
Ë+ 
JMEM_HEAP_AREA_SIZE
));

866 
	`JERRY_UNUSED
(
poöãr
);

867 
is_hóp_poöãr
 = 
åue
;

869  
is_hóp_poöãr
;

870 
	}
}

873 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___


874 
	$°©ic_com¥ess_poöãr_öã∫Æ
(
jmem_hóp_‰ì_t
 *
p
) {

875 
	`¥ofûe_com¥essi⁄_°¨t
();

876 
	`¥ofûe_com¥essi⁄_cy˛es_°¨t
();

877 
uöt32_t
 
˝
 = (uöt32_t)(
p
Ë- (uöt32_t)(
	`JERRY_HEAP_CONTEXT
(
¨ó
));

878 
	`¥ofûe_com¥essi⁄_cy˛es_íd
(0);

879 
	`¥ofûe_com¥essi⁄_íd
(0);

880  
˝
;

881 
	}
}

882 
ölöe
 
jmem_hóp_‰ì_t
 
__©å_Æways_ölöe___
 *

883 
	$°©ic_decom¥ess_poöãr_öã∫Æ
(
uöt32_t
 
˝
) {

884 
	`¥ofûe_decom¥essi⁄_°¨t
();

885 
	`¥ofûe_decom¥essi⁄_cy˛es_°¨t
();

886 
jmem_hóp_‰ì_t
 *
p
 = ((jmem_hóp_‰ì_à*)(
	`JERRY_HEAP_CONTEXT
(
¨ó
Ë+ (
˝
)));

887 
	`¥ofûe_decom¥essi⁄_cy˛es_íd
();

888 
	`¥ofûe_decom¥essi⁄_íd
();

889  
p
;

890 
	}
}

892 #ifde‡
JMEM_STATS


896 
	$jmem_hóp_gë_°©s
(

897 
jmem_hóp_°©s_t
 *
out_hóp_°©s_p
)

899 
	`JERRY_ASSERT
(
out_hóp_°©s_p
 !
NULL
);

901 *
out_hóp_°©s_p
 = 
	`JERRY_CONTEXT
(
jmem_hóp_°©s
);

902 
	}
}

907 
	$jmem_hóp_°©s_¥öt
() {

908 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
(
jmem_hóp_°©s
);

910 
	`JERRY_DEBUG_MSG
(

929 
hóp_°©s
->
size
, hóp_°©s->
Æloˇãd_byãs
,

930 
hóp_°©s
->
≥ak_Æloˇãd_byãs
, hóp_°©s->
wa°e_byãs
,

931 
hóp_°©s
->
≥ak_wa°e_byãs
, hóp_°©s->
byã_code_byãs
,

932 
hóp_°©s
->
≥ak_byã_code_byãs
, hóp_°©s->
°rög_byãs
,

933 
hóp_°©s
->
≥ak_°rög_byãs
, hóp_°©s->
obje˘_byãs
,

934 
hóp_°©s
->
≥ak_obje˘_byãs
, hóp_°©s->
¥›îty_byãs
,

935 
hóp_°©s
->
≥ak_¥›îty_byãs
,

936 
hóp_°©s
->
skù_cou¡
 / hóp_°©s->
n⁄skù_cou¡
,

937 
hóp_°©s
->
skù_cou¡
 % hóp_°©s->
n⁄skù_cou¡
 * 10000 /

938 
hóp_°©s
->
n⁄skù_cou¡
,

939 
hóp_°©s
->
Æloc_ôî_cou¡
 / hóp_°©s->
Æloc_cou¡
,

940 
hóp_°©s
->
Æloc_ôî_cou¡
 % hóp_°©s->
Æloc_cou¡
 * 10000 /

941 
hóp_°©s
->
Æloc_cou¡
,

942 
hóp_°©s
->
‰ì_ôî_cou¡
 / hóp_°©s->
‰ì_cou¡
,

943 
hóp_°©s
->
‰ì_ôî_cou¡
 % hóp_°©s->
‰ì_cou¡
 * 10000 /

944 
hóp_°©s
->
‰ì_cou¡
);

945 
	}
}

950 
	$jmem_hóp_°©_öô
() {

951 
	`JERRY_CONTEXT
(
jmem_hóp_°©s
).
size
 = 
JMEM_HEAP_AREA_SIZE
;

952 
	}
}

957 
	$jmem_hóp_°©_Æloc
(
size_t
 
size
)

959 c⁄° 
size_t
 
Æig√d_size
 =

960 (
size
 + 
JMEM_ALIGNMENT
 - 1) / JMEM_ALIGNMENT * JMEM_ALIGNMENT;

961 c⁄° 
size_t
 
wa°e_byãs
 = 
Æig√d_size
 - 
size
;

963 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
(
jmem_hóp_°©s
);

965 
hóp_°©s
->
Æloˇãd_byãs
 +
Æig√d_size
;

966 
hóp_°©s
->
wa°e_byãs
 += waste_bytes;

967 
hóp_°©s
->
Æloc_cou¡
++;

969 i‡(
hóp_°©s
->
Æloˇãd_byãs
 > hóp_°©s->
≥ak_Æloˇãd_byãs
) {

970 
hóp_°©s
->
≥ak_Æloˇãd_byãs
 = hóp_°©s->
Æloˇãd_byãs
;

973 i‡(
hóp_°©s
->
wa°e_byãs
 > hóp_°©s->
≥ak_wa°e_byãs
) {

974 
hóp_°©s
->
≥ak_wa°e_byãs
 = hóp_°©s->
wa°e_byãs
;

976 
	}
}

981 
	$jmem_hóp_°©_‰ì
(
size_t
 
size
)

983 c⁄° 
size_t
 
Æig√d_size
 =

984 (
size
 + 
JMEM_ALIGNMENT
 - 1) / JMEM_ALIGNMENT * JMEM_ALIGNMENT;

985 c⁄° 
size_t
 
wa°e_byãs
 = 
Æig√d_size
 - 
size
;

987 
jmem_hóp_°©s_t
 *
hóp_°©s
 = &
	`JERRY_CONTEXT
(
jmem_hóp_°©s
);

989 
hóp_°©s
->
‰ì_cou¡
++;

990 
hóp_°©s
->
Æloˇãd_byãs
 -
Æig√d_size
;

991 
hóp_°©s
->
wa°e_byãs
 -= waste_bytes;

992 
	}
}

997 
	$jmem_hóp_°©_skù
() {

998 
	`JERRY_CONTEXT
(
jmem_hóp_°©s
).
skù_cou¡
++;

999 
	}
}

1004 
	$jmem_hóp_°©_n⁄skù
() {

1005 
	`JERRY_CONTEXT
(
jmem_hóp_°©s
).
n⁄skù_cou¡
++;

1006 
	}
}

1011 
	$jmem_hóp_°©_Æloc_ôî
() {

1012 
	`JERRY_CONTEXT
(
jmem_hóp_°©s
).
Æloc_ôî_cou¡
++;

1013 
	}
}

1018 
	$jmem_hóp_°©_‰ì_ôî
() {

1019 
	`JERRY_CONTEXT
(
jmem_hóp_°©s
).
‰ì_ôî_cou¡
++;

1020 
	}
}

	@deps/jerry/jerry-core/jmem/jmem-poolman.c

20 
	~"jc⁄ãxt.h
"

21 
	~"jmem.h
"

22 
	~"jπ-libc-ö˛udes.h
"

24 
	#JMEM_ALLOCATOR_INTERNAL


	)

25 
	~"jmem.h
"

26 
	~"jmem-Æloˇt‹-öã∫Æ.h
"

27 
	~"jmem-c⁄fig.h
"

28 
	~"jmem-hóp-dy«mic-emul-¶ab.h
"

40 #ifde‡
JERRY_VALGRIND


41 
	~"memcheck.h
"

43 
	#VALGRIND_NOACCESS_SPACE
(
p
, 
s
Ë
	`VALGRIND_MAKE_MEM_NOACCESS
(’), (s))

	)

44 
	#VALGRIND_UNDEFINED_SPACE
(
p
, 
s
Ë
	`VALGRIND_MAKE_MEM_UNDEFINED
(’), (s))

	)

45 
	#VALGRIND_DEFINED_SPACE
(
p
, 
s
Ë
	`VALGRIND_MAKE_MEM_DEFINED
(’), (s))

	)

47 
	#VALGRIND_NOACCESS_SPACE
(
p
, 
s
)

	)

48 
	#VALGRIND_UNDEFINED_SPACE
(
p
, 
s
)

	)

49 
	#VALGRIND_DEFINED_SPACE
(
p
, 
s
)

	)

52 #ifde‡
JERRY_VALGRIND_FREYA


53 
	~"memcheck.h
"

55 
	#VALGRIND_FREYA_MALLOCLIKE_SPACE
(
p
, 
s
) \

56 
	`VALGRIND_MALLOCLIKE_BLOCK
((
p
), (
s
), 0, 0)

	)

57 
	#VALGRIND_FREYA_FREELIKE_SPACE
(
p
Ë
	`VALGRIND_FREELIKE_BLOCK
(’), 0)

	)

59 
	#VALGRIND_FREYA_MALLOCLIKE_SPACE
(
p
, 
s
)

	)

60 
	#VALGRIND_FREYA_FREELIKE_SPACE
(
p
)

	)

66 
	$jmem_poﬁs_föÆize
() {

67 
	`jmem_poﬁs_cﬁÀ˘_em±y
();

69 
	`JERRY_ASSERT
(
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
Ë=
NULL
);

70 #i‡
	`deföed
(
JERRY_CPOINTER_32_BIT
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

71 
	`JERRY_ASSERT
(
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
Ë=
NULL
);

73 
	}
}

75 
ölöe
 *
__©å_hŸ___
 
__©å_Æways_ölöe___


76 
	$jmem_hóp_Æloc_block_f‹_poﬁ
(
size_t
 
size
) {

77 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë&& deföed(
DE_SLAB
)

79 
	`JERRY_UNUSED
(
size
);

80  
	`Æloc_a_block_‰om_¶ab
(
size
);

83  
	`jmem_hóp_Æloc_block_smÆl_obje˘
(
size
);

85 
	}
}

87 
ölöe
 
__©å_hŸ___
 
__©å_Æways_ölöe___


88 
	$jmem_hóp_‰ì_block_f‹_poﬁ
(* 
±r
, 
size_t
 
size
) {

89 #i‡
	`deföed
(
JMEM_DYNAMIC_HEAP_EMUL
Ë&& deföed(
DE_SLAB
)

91 
	`‰ì_a_block_‰om_¶ab
(
±r
, 
size
);

94 
	`jmem_hóp_‰ì_block_smÆl_obje˘
(
±r
, 
size
);

96 
	}
}

104 
ölöe
 *
__©å_hŸ___
 
__©å_Æways_ölöe___


105 
	$jmem_poﬁs_Æloc
(
size_t
 
size
)

107 #ifde‡
JMEM_GC_BEFORE_EACH_ALLOC


108 
	`jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
(
JMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
);

111 i‡(
size
 <= 8) {

112 i‡(
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
Ë!
NULL
) {

113 c⁄° 
jmem_poﬁs_chunk_t
 *c⁄° 
chunk_p
 =

114 
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
);

116 
	`VALGRIND_DEFINED_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

118 
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
Ë
chunk_p
->
√xt_p
;

120 
	`VALGRIND_UNDEFINED_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

122  (*)
chunk_p
;

124  (*)
	`jmem_hóp_Æloc_block_f‹_poﬁ
(8);

128 #i‡
	`deföed
(
JERRY_CPOINTER_32_BIT
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

129 
	`JERRY_ASSERT
(
size
 <= 16);

131 i‡(
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
Ë!
NULL
) {

132 c⁄° 
jmem_poﬁs_chunk_t
 *c⁄° 
chunk_p
 =

133 
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
);

135 
	`VALGRIND_DEFINED_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

137 
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
Ë
chunk_p
->
√xt_p
;

139 
	`VALGRIND_UNDEFINED_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

141  (*)
chunk_p
;

143  (*)
	`jmem_hóp_Æloc_block_f‹_poﬁ
(16);

146 
	`JERRY_UNREACHABLE
();

147  
NULL
;

149 
	}
}

154 
ölöe
 
__©å_hŸ___
 
__©å_Æways_ölöe___


155 
	$jmem_poﬁs_‰ì
(*
chunk_p
,

156 
size_t
 
size
)

158 
	`JERRY_ASSERT
(
chunk_p
 !
NULL
);

160 
jmem_poﬁs_chunk_t
 *c⁄° 
chunk_to_‰ì_p
 = (jmem_poﬁs_chunk_à*)
chunk_p
;

162 
	`VALGRIND_DEFINED_SPACE
(
chunk_to_‰ì_p
, 
size
);

164 i‡(
size
 <= 8) {

165 
chunk_to_‰ì_p
->
√xt_p
 = 
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
);

166 
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
Ë
chunk_to_‰ì_p
;

168 #i‡
	`deföed
(
JERRY_CPOINTER_32_BIT
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

169 
	`JERRY_ASSERT
(
size
 <= 16);

171 
chunk_to_‰ì_p
->
√xt_p
 = 
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
);

172 
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
Ë
chunk_to_‰ì_p
;

174 
	`JERRY_UNREACHABLE
();

178 
	`VALGRIND_NOACCESS_SPACE
(
chunk_to_‰ì_p
, 
size
);

179 
	}
}

184 
	$jmem_poﬁs_cﬁÀ˘_em±y
() {

185 
jmem_poﬁs_chunk_t
 *
chunk_p
 = 
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
);

186 
	`JERRY_CONTEXT
(
jmem_‰ì_8_byã_chunk_p
Ë
NULL
;

188 
chunk_p
) {

189 
	`VALGRIND_DEFINED_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

190 
jmem_poﬁs_chunk_t
 *c⁄° 
√xt_p
 = 
chunk_p
->next_p;

191 
	`VALGRIND_NOACCESS_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

193 
	`jmem_hóp_‰ì_block_f‹_poﬁ
(
chunk_p
, 8);

194 
chunk_p
 = 
√xt_p
;

197 #i‡
	`deföed
(
JERRY_CPOINTER_32_BIT
Ë|| deföed(
SEG_FULLBIT_ADDRESS_ALLOC
)

198 
chunk_p
 = 
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
);

199 
	`JERRY_CONTEXT
(
jmem_‰ì_16_byã_chunk_p
Ë
NULL
;

201 
chunk_p
) {

202 
	`VALGRIND_DEFINED_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

203 
jmem_poﬁs_chunk_t
 *c⁄° 
√xt_p
 = 
chunk_p
->next_p;

204 
	`VALGRIND_NOACCESS_SPACE
(
chunk_p
, (
jmem_poﬁs_chunk_t
));

206 
	`jmem_hóp_‰ì_block_f‹_poﬁ
(
chunk_p
, 16);

207 
chunk_p
 = 
√xt_p
;

210 
	}
}

212 #unde‡
VALGRIND_NOACCESS_SPACE


213 #unde‡
VALGRIND_UNDEFINED_SPACE


214 #unde‡
VALGRIND_DEFINED_SPACE


215 #unde‡
VALGRIND_FREYA_MALLOCLIKE_SPACE


216 #unde‡
VALGRIND_FREYA_FREELIKE_SPACE


	@deps/jerry/jerry-core/jmem/jmem.h

16 #i‚de‡
JMEM_H


17 
	#JMEM_H


	)

19 
	~"jπ.h
"

20 
	~"jmem-c⁄fig.h
"

21 
	~"jmem-¥ofûî.h
"

30 #i‚de‡
JERRY_ENABLE_EXTERNAL_CONTEXT


34 
	#JMEM_HEAP_SIZE
 ((
size_t
Ë(
CONFIG_MEM_HEAP_AREA_SIZE
))

	)

38 
	#SEG_NUM_SEGMENTS
 (
JMEM_HEAP_SIZE
 / 
SEG_SEGMENT_SIZE
)

	)

39 
	#SEG_METADATA_SIZE_PER_SEGMENT
 (32)

	)

42 
	#DE_SLAB_SLOT_SIZE
 (16)

	)

43 
	#DE_NUM_SLOTS_PER_SLAB
 (512)

	)

44 
	#DE_SLAB_SEGMENT_SIZE
 (
DE_SLAB_SLOT_SIZE
 * 
DE_NUM_SLOTS_PER_SLAB
)

	)

45 
	#DE_MAX_NUM_SLABS
 (
JMEM_HEAP_SIZE
 / 
DE_SLAB_SEGMENT_SIZE
)

	)

48 
	#SYSTEM_ALLOCATOR_METADATA_SIZE
 8

	)

49 
	#SYSTEM_ALLOCATOR_ALIGN_BYTES
 8

	)

51 #ifde‡
JMEM_SEGMENTED_HEAP


57 
uöt32_t
 
	mgroup_num_£gmíts
;

60 
size_t
 
	moccupõd_size
;

62 } 
	tjmem_£gmít_t
;

69 
	#JMEM_ALIGNMENT_LOG
 3

	)

74 
	#JMEM_CP_NULL
 ((
jmem_˝oöãr_t
Ë0)

	)

79 
	#JMEM_ALIGNMENT
 (1u << 
JMEM_ALIGNMENT_LOG
)

	)

104 #ifde‡
JERRY_CPOINTER_32_BIT


105 
uöt32_t
 
	tjmem_˝oöãr_t
;

107 
uöt16_t
 
	tjmem_˝oöãr_t
;

121 
	mJMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
,

122 
	mJMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
,

123 } 
	tjmem_‰ì_unu£d_mem‹y_£vîôy_t
;

128 
	sjmem_poﬁs_chunk_t


130 
jmem_poﬁs_chunk_t
 *
	m√xt_p
;

131 } 
	tjmem_poﬁs_chunk_t
;

138 
uöt32_t
 
	m√xt_off£t
;

139 
uöt32_t
 
	msize
;

140 } 
	tjmem_hóp_‰ì_t
;

142 
jmem_öô
 ();

143 
jmem_föÆize
 ();

145 *
jmem_hóp_Æloc_block
 (c⁄° 
size_t
 
size
);

146 *
jmem_hóp_Æloc_block_nuŒ_⁄_îr‹
 (c⁄° 
size_t
 
size
);

147 
jmem_hóp_‰ì_block
 (*
±r
, c⁄° 
size_t
 
size
);

149 *
jmem_hóp_Æloc_block_smÆl_obje˘
 (c⁄° 
size_t
 
size
);

150 
jmem_hóp_‰ì_block_smÆl_obje˘
 (*
±r
, c⁄° 
size_t
 
size
);

156 
	#JMEM_HEAP_END_OF_LIST
 ((
uöt32_t
Ë
JMEM_HEAP_SIZE
)

	)

157 
	#JMEM_HEAP_END_OF_LIST_UINT32
 ((
uöt32_t
Ë
JMEM_HEAP_SIZE
)

	)

162 #ifde‡
ECMA_VALUE_CAN_STORE_UINTPTR_VALUE_DIRECTLY


165 
	#JMEM_COMPRESS_POINTER_INTERNAL
(
p
Ë((
uöt32_t
Ë’))

	)

166 
	#JMEM_DECOMPRESS_POINTER_INTERNAL
(
u
Ë((
jmem_hóp_‰ì_t
 *Ë(u))

	)

169 #ifde‡
JMEM_SEGMENTED_HEAP


171 
uöt32_t
 
˝é_com¥ess_poöãr_öã∫Æ
(
jmem_hóp_‰ì_t
 *
p
);

172 
jmem_hóp_‰ì_t
 *
˝é_decom¥ess_poöãr_öã∫Æ
(
uöt32_t
 
u
);

173 
	#JMEM_COMPRESS_POINTER_INTERNAL
(
p
Ë
	`˝é_com¥ess_poöãr_öã∫Æ
’)

	)

174 
	#JMEM_DECOMPRESS_POINTER_INTERNAL
(
u
Ë
	`˝é_decom¥ess_poöãr_öã∫Æ
(u)

	)

177 
uöt32_t
 
°©ic_com¥ess_poöãr_öã∫Æ
(
jmem_hóp_‰ì_t
 *
p
);

178 
jmem_hóp_‰ì_t
 *
°©ic_decom¥ess_poöãr_öã∫Æ
(
uöt32_t
 
u
);

179 
	#JMEM_COMPRESS_POINTER_INTERNAL
(
p
Ë
	`°©ic_com¥ess_poöãr_öã∫Æ
’)

	)

180 
	#JMEM_DECOMPRESS_POINTER_INTERNAL
(
u
Ë
	`°©ic_decom¥ess_poöãr_öã∫Æ
(u)

	)

185 #ifde‡
JMEM_STATS


191 
size_t
 
	msize
;

193 
size_t
 
	mÆloˇãd_byãs
;

194 
size_t
 
	m≥ak_Æloˇãd_byãs
;

196 
size_t
 
	mwa°e_byãs
;

197 
size_t
 
	m≥ak_wa°e_byãs
;

199 
size_t
 
	mbyã_code_byãs
;

200 
size_t
 
	m≥ak_byã_code_byãs
;

202 
size_t
 
	m°rög_byãs
;

203 
size_t
 
	m≥ak_°rög_byãs
;

205 
size_t
 
	mobje˘_byãs
;

206 
size_t
 
	m≥ak_obje˘_byãs
;

208 
size_t
 
	m¥›îty_byãs
;

209 
size_t
 
	m≥ak_¥›îty_byãs
;

211 
size_t
 
	mskù_cou¡
;

212 
size_t
 
	mn⁄skù_cou¡
;

215 
size_t
 
	mÆloc_cou¡
;

216 
size_t
 
	m‰ì_cou¡
;

217 
size_t
 
	mÆloc_ôî_cou¡
;

218 
size_t
 
	m‰ì_ôî_cou¡
;

219 } 
	tjmem_hóp_°©s_t
;

221 
jmem_°©s_¥öt
 ();

222 
jmem_°©s_Æloˇã_byã_code_byãs
 (
size_t
 
¥›îty_size
);

223 
jmem_°©s_‰ì_byã_code_byãs
 (
size_t
 
¥›îty_size
);

224 
jmem_°©s_Æloˇã_°rög_byãs
 (
size_t
 
°rög_size
);

225 
jmem_°©s_‰ì_°rög_byãs
 (
size_t
 
°rög_size
);

226 
jmem_°©s_Æloˇã_obje˘_byãs
 (
size_t
 
obje˘_size
);

227 
jmem_°©s_‰ì_obje˘_byãs
 (
size_t
 
°rög_size
);

228 
jmem_°©s_Æloˇã_¥›îty_byãs
 (
size_t
 
¥›îty_size
);

229 
jmem_°©s_‰ì_¥›îty_byãs
 (
size_t
 
¥›îty_size
);

231 
jmem_hóp_gë_°©s
 (
jmem_hóp_°©s_t
 *);

234 
jmem_˝oöãr_t
 
	$jmem_com¥ess_poöãr
 (c⁄° *
poöãr_p
Ë
__©å_puª___
;

235 *
	$jmem_decom¥ess_poöãr
 (
uöçå_t
 
com¥es£d_poöãr
Ë
__©å_puª___
;

240 (*
	tjmem_‰ì_unu£d_mem‹y_ˇŒback_t
Ë(
	tjmem_‰ì_unu£d_mem‹y_£vîôy_t
);

242 
	`jmem_ªgi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback_t
 
ˇŒback
);

243 
	`jmem_uƒegi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
jmem_‰ì_unu£d_mem‹y_ˇŒback_t
 
ˇŒback
);

245 
	`jmem_run_‰ì_unu£d_mem‹y_ˇŒbacks
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
);

255 
	#JMEM_DEFINE_LOCAL_ARRAY
(
v¨_«me
, 
numbî
, 
ty≥
) \

257 
size_t
 
v¨_«me
 ## 
___size
 = (size_tË(
numbî
Ë*  (
ty≥
); \

258 
ty≥
 *
v¨_«me
 = (ty≥ *Ë(
	`jmem_hóp_Æloc_block
 (v¨_«mê## 
___size
));

	)

264 
	#JMEM_FINALIZE_LOCAL_ARRAY
(
v¨_«me
) \

265 i‡(
v¨_«me
 !
NULL
) \

267 
	`JERRY_ASSERT
 (
v¨_«me
 ## 
___size
 != 0); \

269 
	`jmem_hóp_‰ì_block
 (
v¨_«me
, v¨_«mê## 
___size
); \

273 
	`JERRY_ASSERT
 (
v¨_«me
 ## 
___size
 == 0); \

275 
	}

	)
}

280 
	#JMEM_CP_GET_NON_NULL_POINTER
(
ty≥
, 
˝_vÆue
) \

281 ((
ty≥
 *Ë(
	`jmem_decom¥ess_poöãr
 (
˝_vÆue
)))

	)

286 
	#JMEM_CP_GET_POINTER
(
ty≥
, 
˝_vÆue
) \

287 (((
	`u∆ikñy
 ((
˝_vÆue
Ë=
JMEM_CP_NULL
)Ë? 
NULL
 : 
	`JMEM_CP_GET_NON_NULL_POINTER
 (
ty≥
, cp_vÆue)))

	)

293 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


294 
	#JMEM_CP_SET_NON_NULL_POINTER
(
˝_vÆue
, 
n⁄_com¥es£d_poöãr
) \

295 
	`¥ofûe_öc_cou¡_of_a_ty≥
(2); \

296 (
˝_vÆue
Ë
	`jmem_com¥ess_poöãr
 (
n⁄_com¥es£d_poöãr
)

	)

298 
	#JMEM_CP_SET_NON_NULL_POINTER
(
˝_vÆue
, 
n⁄_com¥es£d_poöãr
) \

299 (
˝_vÆue
Ë
	`jmem_com¥ess_poöãr
 (
n⁄_com¥es£d_poöãr
)

	)

306 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


307 
	#JMEM_CP_SET_POINTER
(
˝_vÆue
, 
n⁄_com¥es£d_poöãr
) \

310 *
±r_vÆue
 = (*Ë
n⁄_com¥es£d_poöãr
; \

312 i‡(
	`u∆ikñy
 ((
±r_vÆue
Ë=
NULL
)) \

314 (
˝_vÆue
Ë
JMEM_CP_NULL
; \

318 
	`¥ofûe_öc_cou¡_of_a_ty≥
(5); \

319 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
˝_vÆue
, 
±r_vÆue
); \

321 } 
Ál£
);

	)

323 
	#JMEM_CP_SET_POINTER
(
˝_vÆue
, 
n⁄_com¥es£d_poöãr
) \

326 *
±r_vÆue
 = (*Ë
n⁄_com¥es£d_poöãr
; \

328 i‡(
	`u∆ikñy
 ((
±r_vÆue
Ë=
NULL
)) \

330 (
˝_vÆue
Ë
JMEM_CP_NULL
; \

334 
	`JMEM_CP_SET_NON_NULL_POINTER
 (
˝_vÆue
, 
±r_vÆue
); \

336 } 
Ál£
);

	)

344 *
jmem_poﬁs_Æloc
 (
size_t
 
size
);

345 
jmem_poﬁs_‰ì
 (*
chunk_p
, 
size_t
 
size
);

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-common-internal.h

18 #i‚de‡
JMEM_PROFILER_COMMON_H


19 
	#JMEM_PROFILER_COMMON_H


	)

21 
	~"jc⁄ãxt.h
"

22 
	~"jmem-c⁄fig.h
"

23 
	~"jπ.h
"

25 
	#CHECK_LOGGING_ENABLED
() \

26 i‡(!(
	`JERRY_CONTEXT
(
jîry_öô_Êags
Ë& 
ECMA_INIT_JMEM_LOGS_ENABLED
)) \

27 

	)

30 
gë_js_u±ime
(
timevÆ
 *
js_u±ime
);

31 
gë_timevÆ_diff_u£c
(
timevÆ
 *
¥i‹
, timevÆ *
po°
);

34 
öô_size_¥ofûî
();

37 
öô_£gmít_¥ofûî
();

40 
öô_time_¥ofûî
();

43 
öô_pmu_¥ofûî
();

46 
öô_˝é_¥ofûî
();

49 
öô_cou¡_¥ofûe
();

55 #ifde‡
PROF_MODE_ARTIK053


56 
	#PROF_TOTAL_SIZE_FILENAME
 "/m¡/tŸÆ_size.log"

	)

57 
	#PROF_SEGMENT_UTILIZATION_FILENAME
 "/m¡/£gmít_utûiz©i⁄.log"

	)

58 
	#PROF_TIME_FILENAME
 "/m¡/time.log"

	)

59 
	#PROF_PMU_FILENAME
 "/m¡/pmu.log"

	)

60 
	#PROF_JSOBJECT_ALLOCATION_FILENAME
 "/m¡/obje˘_Æloˇti⁄.log"

	)

61 
	#PROF_CPTL_FILENAME
 "/m¡/˝é.log"

	)

62 
	#PROF_CPTL_ACCESS_FILENAME
 "/m¡/˝é_ac˚ss.log"

	)

63 
	#PROF_COUNT_FILENAME
 "/m¡/cou¡.log"

	)

65 
	#PROF_TOTAL_SIZE_FILENAME
 "tŸÆ_size.log"

	)

66 
	#PROF_SEGMENT_UTILIZATION_FILENAME
 "£gmít_utûiz©i⁄.log"

	)

67 
	#PROF_TIME_FILENAME
 "time.log"

	)

68 
	#PROF_PMU_FILENAME
 "pmu.log"

	)

69 
	#PROF_JSOBJECT_ALLOCATION_FILENAME
 "obje˘_Æloˇti⁄.log"

	)

70 
	#PROF_CPTL_FILENAME
 "˝é.log"

	)

71 
	#PROF_CPTL_ACCESS_FILENAME
 "˝é_ac˚ss.log"

	)

72 
	#PROF_COUNT_FILENAME
 "cou¡.log"

	)

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-common.c

16 
	~<°dio.h
>

17 
	~<sys/time.h
>

19 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

20 
	~"jmem-¥ofûî.h
"

22 
ölöe
 
__©å_Æways_ölöe___
 
	$öô_¥ofûîs
() {

23 #i‡
	`deföed
(
JMEM_PROFILE
)

24 
	`CHECK_LOGGING_ENABLED
();

25 
	`gëtimeofday
(&
	`JERRY_CONTEXT
(
timevÆ_js_°¨t
), 
NULL
);

26 
	`öô_size_¥ofûî
();

27 
	`öô_£gmít_¥ofûî
();

28 
	`öô_time_¥ofûî
();

29 
	`öô_˝é_¥ofûî
();

30 
	`öô_pmu_¥ofûî
();

32 
	}
}

34 
ölöe
 
__©å_Æways_ölöe___
 
	$föÆize_¥ofûîs
() {

35 #i‡
	`deföed
(
JMEM_PROFILE
)

36 
	`CHECK_LOGGING_ENABLED
();

37 
	`¥öt_time_¥ofûe
();

38 
	`¥öt_tŸÆ_size_¥ofûe_föÆly
();

39 
	`¥öt_£gmít_utûiz©i⁄_¥ofûe_föÆly
();

40 
	`¥öt_jsobje˘_Æloˇti⁄_¥ofûe
();

41 
	`¥öt_˝é_¥ofûe_rmc_hô_øtio
();

42 
	`¥öt_cou¡_¥ofûe
();

43 
	`¥öt_pmu_¥ofûe
();

45 
	}
}

47 
ölöe
 
__©å_Æways_ölöe___


48 
	$gë_timevÆ_diff_u£c
(
timevÆ
 *
¥i‹
, timevÆ *
po°
) {

49 
timevÆ_diff_u£c
 = (
po°
->
tv_£c
 - 
¥i‹
->tv_sec) * 1000 * 1000 +

50 (
po°
->
tv_u£c
 - 
¥i‹
->tv_usec);

51  
timevÆ_diff_u£c
;

52 
	}
}

54 
ölöe
 
__©å_Æways_ölöe___
 
	$gë_js_u±ime
(
timevÆ
 *
js_u±ime
) {

55 #i‡
	`deföed
(
JMEM_PROFILE
)

56 
	`gëtimeofday
(
js_u±ime
, 
NULL
);

58 i‡(
js_u±ime
->
tv_u£c
 < 
	`JERRY_CONTEXT
(
timevÆ_js_°¨t
).tv_usec) {

59 
js_u±ime
->
tv_u£c
 += 1000000;

60 
js_u±ime
->
tv_£c
 -= 1;

62 
js_u±ime
->
tv_u£c
 -
	`JERRY_CONTEXT
(
timevÆ_js_°¨t
).tv_usec;

63 
js_u±ime
->
tv_£c
 -
	`JERRY_CONTEXT
(
timevÆ_js_°¨t
).tv_sec;

65 
	`JERRY_UNUSED
(
js_u±ime
);

67 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-count.c

16 
	~<°dio.h
>

17 
	~<sys/time.h
>

19 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

20 
	~"jmem-¥ofûî.h
"

23 
ölöe
 
__©å_Æways_ölöe___
 
	$öô_cou¡_¥ofûe
() {

24 #i‡
	`deföed
(
PROF_COUNT
)

25 
	`CHECK_LOGGING_ENABLED
();

26 
ty≥
 = 0;Åy≥ < 
PROF_COUNT__MAX_TYPES
;Åype++) {

27 
	`JERRY_CONTEXT
(
¥of_cou¡
[
ty≥
]) = 0;

30 
	}
}

32 
ölöe
 
__©å_Æways_ölöe___
 
	$¥öt_cou¡_¥ofûe
() {

33 #i‡
	`deföed
(
PROF_COUNT
)

34 
	`CHECK_LOGGING_ENABLED
();

35 
FILE
 *
Â
 = 
	`f›í
(
PROF_COUNT_FILENAME
, "a");

36 
ty≥
 = 0;Åy≥ < 
PROF_COUNT__MAX_TYPES
;Åype++) {

37 i‡(
ty≥
 > 0) {

38 
	`Ârötf
(
Â
, ",");

40 
	`Ârötf
(
Â
, "%d", 
	`JERRY_CONTEXT
(
¥of_cou¡
[
ty≥
]));

42 
	`Ârötf
(
Â
, "\n");

44 
	`fÊush
(
Â
);

45 
	`f˛o£
(
Â
);

47 
	}
}

48 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_öc_cou¡_of_a_ty≥
(
ty≥
) {

49 #i‡
	`deföed
(
PROF_COUNT
)

50 
	`CHECK_LOGGING_ENABLED
();

51 
	`JERRY_CONTEXT
(
¥of_cou¡
[
ty≥
])++;

53 
	`JERRY_UNUSED
(
ty≥
);

55 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-cptl.c

16 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

17 
	~"jmem-¥ofûî.h
"

18 
	~"jπ.h
"

19 
	~"£t-ˇche-simuœt‹.h
"

21 
	$öô_˝é_¥ofûî
() {

22 #i‡
	`deföed
(
PROF_CPTL
)

23 
	`CHECK_LOGGING_ENABLED
();

25 #i‡
	`deföed
(
PROF_CPTL_RMC_HIT_RATIO
)

26 
	`JERRY_CONTEXT
(
˝é_rmc_ac˚ss_cou¡
) = 0;

27 
	`JERRY_CONTEXT
(
˝é_rmc_miss_cou¡
) = 0;

30 #i‡
	`deföed
(
PROF_CPTL_ACCESS
)

31 
FILE
* 
Â
 = 
	`f›í
(
PROF_CPTL_ACCESS_FILENAME
, "w");

33 
	`Ârötf
(
Â
, "CPTL Access Number, Segment Index, Type/Depth, Same Segment\n");

34 
	`fÊush
(
Â
);

35 
	`f˛o£
(
Â
);

37 
	`JERRY_CONTEXT
(
˝é_ac˚ss_cou¡
) = 0;

40 #i‡
	`deföed
(
PROF_CPTL_ACCESS_SIMUL
)

41 
	`JERRY_CONTEXT
(
˝é_ac˚ss_hô_cou¡_comp
) = 0;

42 
	`JERRY_CONTEXT
(
˝é_ac˚ss_hô_cou¡_decomp
) = 0;

43 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_hódî_comp
) = 0;

44 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_hódî_decomp
) = 0;

45 
i
 = 0; i < 
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
; i++) {

46 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_íåõs_comp
[
i
]) = -1;

47 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_íåõs_decomp
[
i
]) = -1;

48 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_ages_comp
[
i
]) = -1;

49 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_ages_decomp
[
i
]) = -1;

54 
	}
}

56 
ölöe
 
__©å_Æways_ölöe___
 
	$¥öt_˝é_¥ofûe_rmc_hô_øtio
() {

57 #i‡
	`deföed
(
SEG_RMAP_CACHE
Ë&& deföed(
PROF_CPTL_RMC_HIT_RATIO
)

58 
	`CHECK_LOGGING_ENABLED
();

59 
FILE
* 
Â
 = 
	`f›í
(
PROF_CPTL_FILENAME
, "a");

61 
rmc_ac˚ss_cou¡_Â
 = ()
	`JERRY_CONTEXT
(
˝é_rmc_ac˚ss_cou¡
);

62 
rmc_miss_cou¡_Â
 = ()
	`JERRY_CONTEXT
(
˝é_rmc_miss_cou¡
);

63 
rmc_hô_øtio
 = 1.0‡- (
rmc_miss_cou¡_Â
 / 
rmc_ac˚ss_cou¡_Â
);

65 
	`Ârötf
(
Â
, "RMC Hit Ratio, RMC Miss Count, RMC Access\n");

66 
	`Ârötf
(
Â
, "%2.3f, %u, %u\n", 
rmc_hô_øtio
,

67 
	`JERRY_CONTEXT
(
˝é_rmc_miss_cou¡
),

68 
	`JERRY_CONTEXT
(
˝é_rmc_ac˚ss_cou¡
));

70 
	`fÊush
(
Â
);

71 
	`f˛o£
(
Â
);

73 
	}
}

75 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_öc_rmc_ac˚ss_cou¡
() {

76 #i‡
	`deföed
(
SEG_RMAP_CACHE
Ë&& deföed(
PROF_CPTL_RMC_HIT_RATIO
)

77 
	`JERRY_CONTEXT
(
˝é_rmc_ac˚ss_cou¡
)++;

79 
	}
}

81 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_öc_rmc_miss_cou¡
() {

82 #i‡
	`deföed
(
SEG_RMAP_CACHE
Ë&& deföed(
PROF_CPTL_RMC_HIT_RATIO
)

83 
	`JERRY_CONTEXT
(
˝é_rmc_miss_cou¡
)++;

85 
	}
}

87 
ölöe
 
__©å_Æways_ölöe___
 
	$¥öt_˝é_ac˚ss
(
uöt32_t
 
sidx
,

88 
ty≥_miss_≥«…y
) {

93 #i‡
	`deföed
(
PROF_CPTL_ACCESS
)

94 
	`CHECK_LOGGING_ENABLED
();

95 
FILE
* 
Â
 = 
	`f›í
(
PROF_CPTL_ACCESS_FILENAME
, "a");

97 #i‡
	`deföed
(
PROF_CPTL_ACCESS_SIMUL
)

98 
uöt32_t
 
c⁄£c_hô_cou¡
 = 
	`simuœã_ˇche
(
sidx
, 
ty≥_miss_≥«…y
);

100 
uöt32_t
 
c⁄£c_hô_cou¡
 = 0;

103 if(
ty≥_miss_≥«…y
 >= 0) {

104 
ty≥_miss_≥«…y
 = ()
	`GET_LOOKUP_DEPTH
();

107 
	`Ârötf
(
Â
, "%u, %u, %d, %u\n", 
	`JERRY_CONTEXT
(
˝é_ac˚ss_cou¡
)++, 
sidx
,

108 
ty≥_miss_≥«…y
, 
c⁄£c_hô_cou¡
);

109 
	`fÊush
(
Â
);

110 
	`f˛o£
(
Â
);

112 
	`JERRY_UNUSED
(
sidx
);

113 
	`JERRY_UNUSED
(
ty≥_miss_≥«…y
);

115 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-jsobject.c

18 
	~<°dio.h
>

19 
	~<sys/time.h
>

21 
	~"jc⁄ãxt.h
"

22 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

23 
	~"jmem-¥ofûî.h
"

24 
	~"jmem.h
"

27 
ölöe
 
__©å_Æways_ölöe___


28 
	$¥ofûe_jsobje˘_öc_Æloˇti⁄
(
size_t
 
jsobje˘_size
) {

29 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_JSOBJECT_ALLOCATION
)

30 
	`CHECK_LOGGING_ENABLED
();

31 
size_t
 
Æig√d_size
 =

32 (
jsobje˘_size
 + 
JMEM_ALIGNMENT
 - 1) / JMEM_ALIGNMENT * JMEM_ALIGNMENT;

34 
uöt32_t
 
ödex
 = (uöt32_t)(
Æig√d_size
 / 
JMEM_ALIGNMENT
) - 1;

35 i‡(
ödex
 >
PROF_JSOBJECT_ALLOCATION__MAX_SIZE
 / 
JMEM_ALIGNMENT
) {

36 
ödex
 = 
PROF_JSOBJECT_ALLOCATION__MAX_SIZE
 / 
JMEM_ALIGNMENT
 - 1;

37 
	`¥ötf
("L¨gêJS obje˘áŒoˇti⁄: %lu\n", (
uöt32_t
)
Æig√d_size
);

39 
	`JERRY_CONTEXT
(
jsobje˘_cou¡
[
ödex
])++;

41 
	`JERRY_UNUSED
(
jsobje˘_size
);

43 
	}
}

45 
ölöe
 
__©å_Æways_ölöe___
 
	$¥öt_jsobje˘_Æloˇti⁄_¥ofûe
() {

46 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_JSOBJECT_ALLOCATION
)

47 
	`CHECK_LOGGING_ENABLED
();

48 
FILE
 *
Â
 = 
	`f›í
(
PROF_JSOBJECT_ALLOCATION_FILENAME
, "a");

50 
uöt32_t
 
ödex
 = 0;

51 
ödex
 < 
PROF_JSOBJECT_ALLOCATION__MAX_SIZE
 / 
JMEM_ALIGNMENT
; index++) {

52 
	`Ârötf
(
Â
, "OA, %lu, %lu\n", ()((
ödex
 + 1Ë* 
JMEM_ALIGNMENT
),

53 ()(
	`JERRY_CONTEXT
(
jsobje˘_cou¡
[
ödex
])));

56 
	`fÊush
(
Â
);

57 
	`f˛o£
(
Â
);

59 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-pmu.c

16 
	~<°dio.h
>

18 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

19 
	~"jmem-¥ofûî.h
"

21 #i‡
deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_PMU
)

22 
__°¨t_pmu_cy˛es_w©ch
(*
cy˛es_w©ch
);

23 
__°›_pmu_cy˛es_w©ch
(*
cy˛es_w©ch
,

24 *
cy˛es
);

28 
ölöe
 
__©å_Æways_ölöe___
 
	$öô_pmu_¥ofûî
() {

29 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_PMU
)

30 
	#INIT_PROFILER_PMU_ENTRY
(
x
) \

31 
	`JERRY_CONTEXT
(
x
##
_cy˛es
) = 0; \

32 
	`JERRY_CONTEXT
(
x
##
_pmu_cou¡
Ë0

	)

34 
	`CHECK_LOGGING_ENABLED
();

35 
	`JERRY_CONTEXT
(
com¥essi⁄_cy˛es_vÆ
) = 0;

36 
	`JERRY_CONTEXT
(
decom¥essi⁄_cy˛es_vÆ
) = 0;

37 
	`INIT_PROFILER_PMU_ENTRY
(
decom¥essi⁄
);

38 
	`INIT_PROFILER_PMU_ENTRY
(
com¥essi⁄_rmc_hô
);

39 
	`INIT_PROFILER_PMU_ENTRY
(
com¥essi⁄_fifo_hô
);

40 
	`INIT_PROFILER_PMU_ENTRY
(
com¥essi⁄_föÆ_miss
);

42 
	}
}

44 
	$¥öt_pmu_¥ofûe
() {

45 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_PMU
)

46 
	#TOTAL_CYCLES
(
x
Ë()
	`JERRY_CONTEXT
(x##
_cy˛es
)

	)

47 
	#AVG_CYCLES
(
x
) \

48 (
	`JERRY_CONTEXT
(
x
##
_pmu_cou¡
) > 0) \

49 ? 
	`TOTAL_CYCLES
(
x
Ë/ ()
	`JERRY_CONTEXT
(x##
_pmu_cou¡
) \

50 : 0

	)

51 
	#AVG_CYCLES3
(
x
, 
y
, 
z
) \

52 (()
	`JERRY_CONTEXT
(
x
##
_pmu_cou¡
) + \

53 ()
	`JERRY_CONTEXT
(
y
##
_pmu_cou¡
) + \

54 ()
	`JERRY_CONTEXT
(
z
##
_pmu_cou¡
) > \

56 ? (
	`TOTAL_CYCLES3
(
x
, 
y
, 
z
)) / \

57 (()
	`JERRY_CONTEXT
(
x
##
_pmu_cou¡
) + \

58 ()
	`JERRY_CONTEXT
(
y
##
_pmu_cou¡
) + \

59 ()
	`JERRY_CONTEXT
(
z
##
_pmu_cou¡
)) \

60 : 0

	)

61 
	#TOTAL_CYCLES3
(
x
, 
y
, 
z
) \

62 (
	`TOTAL_CYCLES
(
x
Ë+ TOTAL_CYCLES(
y
Ë+ TOTAL_CYCLES(
z
))

	)

63 
	#PRINT_PMU_HEADER
(
Â
Ë
	`Ârötf
(Â, "PMU")

	)

64 
	#PRINT_CYCLES
(
Â
, 
x
Ë
	`Ârötf
(Â, ", %Œu", x)

	)

65 
	#PRINT_AVG_CYCLES
(
Â
, 
x
Ë
	`Ârötf
(Â, ", %Œu", 
	`AVG_CYCLES
(x))

	)

66 
	#PRINT_AVG_CYCLES3
(
Â
, 
x
, 
y
, 
z
) \

67 
	`Ârötf
(
Â
, ", %Œu", 
	`AVG_CYCLES3
(
x
, 
y
, 
z
))

	)

68 
	#PRINT_TOTAL_CYCLES
(
Â
, 
x
Ë
	`Ârötf
(Â, ", %Œu", 
	`TOTAL_CYCLES
(x))

	)

69 
	#PRINT_TOTAL_CYCLES3
(
Â
, 
x
, 
y
, 
z
) \

70 
	`Ârötf
(
Â
, ", %Œu", 
	`TOTAL_CYCLES3
(
x
, 
y
, 
z
))

	)

71 
	#PRINT_PMU_TAIL
(
Â
Ë
	`Ârötf
(Â, "\n")

	)

73 
	`CHECK_LOGGING_ENABLED
();

74 
FILE
 *
Â
 = 
	`f›í
(
PROF_PMU_FILENAME
, "a");

76 
	`PRINT_PMU_HEADER
(
Â
);

77 
	`PRINT_AVG_CYCLES
(
Â
, 
decom¥essi⁄
);

78 
	`PRINT_AVG_CYCLES3
(
Â
, 
com¥essi⁄_rmc_hô
, 
com¥essi⁄_fifo_hô
,

79 
com¥essi⁄_föÆ_miss
);

80 
	`PRINT_AVG_CYCLES
(
Â
, 
com¥essi⁄_rmc_hô
);

81 
	`PRINT_AVG_CYCLES
(
Â
, 
com¥essi⁄_fifo_hô
);

82 
	`PRINT_AVG_CYCLES
(
Â
, 
com¥essi⁄_föÆ_miss
);

83 
	`PRINT_TOTAL_CYCLES
(
Â
, 
decom¥essi⁄
);

84 
	`PRINT_TOTAL_CYCLES3
(
Â
, 
com¥essi⁄_rmc_hô
, 
com¥essi⁄_fifo_hô
,

85 
com¥essi⁄_föÆ_miss
);

86 
	`PRINT_TOTAL_CYCLES
(
Â
, 
com¥essi⁄_rmc_hô
);

87 
	`PRINT_TOTAL_CYCLES
(
Â
, 
com¥essi⁄_fifo_hô
);

88 
	`PRINT_TOTAL_CYCLES
(
Â
, 
com¥essi⁄_föÆ_miss
);

89 
	`PRINT_PMU_TAIL
(
Â
);

90 
	`fÊush
(
Â
);

91 
	`f˛o£
(
Â
);

93 
	}
}

95 
__©å_Æways_ölöe___
 
	$¥ofûe_com¥essi⁄_cy˛es_°¨t
() {

96 #i‡
	`deföed
(
PROF_PMU__COMPRESSION_CYCLES
)

97 
	`CHECK_LOGGING_ENABLED
();

98 
	`__°¨t_pmu_cy˛es_w©ch
(&
	`JERRY_CONTEXT
(
com¥essi⁄_cy˛es_vÆ
));

100 
	}
}

101 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_com¥essi⁄_cy˛es_íd
(
ty≥
) {

102 #i‡
	`deföed
(
PROF_PMU__COMPRESSION_CYCLES
)

103 
	`CHECK_LOGGING_ENABLED
();

104 i‡(
ty≥
 == 0) {

105 
	`JERRY_CONTEXT
(
com¥essi⁄_rmc_hô_pmu_cou¡
)++;

106 
	`__°›_pmu_cy˛es_w©ch
(&
	`JERRY_CONTEXT
(
com¥essi⁄_cy˛es_vÆ
),

107 &
	`JERRY_CONTEXT
(
com¥essi⁄_rmc_hô_cy˛es
));

108 } i‡(
ty≥
 == 1) {

109 
	`JERRY_CONTEXT
(
com¥essi⁄_fifo_hô_pmu_cou¡
)++;

110 
	`__°›_pmu_cy˛es_w©ch
(&
	`JERRY_CONTEXT
(
com¥essi⁄_cy˛es_vÆ
),

111 &
	`JERRY_CONTEXT
(
com¥essi⁄_fifo_hô_cy˛es
));

112 } i‡(
ty≥
 == 2) {

113 
	`JERRY_CONTEXT
(
com¥essi⁄_föÆ_miss_pmu_cou¡
)++;

114 
	`__°›_pmu_cy˛es_w©ch
(&
	`JERRY_CONTEXT
(
com¥essi⁄_cy˛es_vÆ
),

115 &
	`JERRY_CONTEXT
(
com¥essi⁄_föÆ_miss_cy˛es
));

117 
	`¥ötf
("InvÆidárgumíàtÿ¥ofûe_com¥essi⁄_íd: %d\n", 
ty≥
);

120 
	`JERRY_UNUSED
(
ty≥
);

122 
	}
}

124 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_decom¥essi⁄_cy˛es_°¨t
() {

125 #i‡
	`deföed
(
PROF_PMU__DECOMPRESSION_CYCLES
)

126 
	`CHECK_LOGGING_ENABLED
();

127 
	`JERRY_CONTEXT
(
decom¥essi⁄_pmu_cou¡
)++;

128 
	`__°¨t_pmu_cy˛es_w©ch
(&
	`JERRY_CONTEXT
(
decom¥essi⁄_cy˛es_vÆ
));

130 
	}
}

131 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_decom¥essi⁄_cy˛es_íd
() {

132 #i‡
	`deföed
(
PROF_PMU__DECOMPRESSION_CYCLES
)

133 
	`CHECK_LOGGING_ENABLED
();

134 
	`__°›_pmu_cy˛es_w©ch
(&
	`JERRY_CONTEXT
(
decom¥essi⁄_cy˛es_vÆ
),

135 &
	`JERRY_CONTEXT
(
decom¥essi⁄_cy˛es
));

137 
	}
}

140 #i‡
deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_PMU
)

141 
ölöe
 
	$¨m_pmu_ªad_cy˛es
() {

142 #i‡
	`deföed
(
__GNUC__
Ë&& deföed(
__ARM_ARCH_7A__
)

143 
r
 = 0;

144 
__asm__
 vﬁ©ûe("mr¯p15, 0, %0, c9, c13, 0" : "Ù"(
r
));

145  
r
;

149 
	}
}

151 
	$__°¨t_pmu_cy˛es_w©ch
(*
cy˛es_w©ch
) {

152 *
cy˛es_w©ch
 = ()
	`¨m_pmu_ªad_cy˛es
();

153 
	}
}

154 
	$__°›_pmu_cy˛es_w©ch
(*
cy˛es_w©ch
,

155 *
cy˛es
) {

156 
cuº_cy˛es
;

157 
cuº_cy˛es
 = ()
	`¨m_pmu_ªad_cy˛es
();

158 *
cy˛es
 +(
cuº_cy˛es
 - *
cy˛es_w©ch
);

159 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-segment.c

16 
	~<°dio.h
>

17 
	~<sys/time.h
>

19 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

20 
	~"jmem-¥ofûî.h
"

22 
__¥öt_£gmít_utûiz©i⁄_¥ofûe
(c⁄° *
ty≥
,

23 
size_t
 
jsobje˘_size
);

25 
ölöe
 
__©å_Æways_ölöe___
 
	$öô_£gmít_¥ofûî
() {

26 #i‡
	`deföed
(
JMEM_PROFILE
)

27 
	`CHECK_LOGGING_ENABLED
();

28 #i‡
	`deföed
(
PROF_SEGMENT_UTILIZATION__PERIOD_USEC
)

29 
FILE
 *
Â2
 = 
	`f›í
(
PROF_SEGMENT_UTILIZATION_FILENAME
, "w");

30 
	`Ârötf
(
Â2
, "Timestamp (s), JSObject Size (s)");

31 
uöt32_t
 
£gmít_idx
 = 0; segmít_idx < 
SEG_NUM_SEGMENTS
;

32 
£gmít_idx
++) {

33 
	`Ârötf
(
Â2
, ", S%lu", ()
£gmít_idx
);

35 
	`Ârötf
(
Â2
, "\n");

36 
	`fÊush
(
Â2
);

37 
	`f˛o£
(
Â2
);

38 
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_£gutû_¥öt
).
tv_£c
 = 0;

39 
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_£gutû_¥öt
).
tv_u£c
 = 0;

42 
	}
}

44 
ölöe
 
__©å_Æways_ölöe___


45 
	$¥öt_£gmít_utûiz©i⁄_¥ofûe_a·î_‰ì
(
size_t
 
jsobje˘_size
) {

46 #i‡
	`deföed
(
PROF_SEGMENT_UTILIZATION__AFTER_FREE_BLOCK
)

47 #i‡
	`deföed
(
PROF_SEGMENT_UTILIZATION__PERIOD_USEC
)

48 
	`CHECK_LOGGING_ENABLED
();

49 
timevÆ
 
js_u±ime
;

50 
	`gë_js_u±ime
(&
js_u±ime
);

51 
timevÆ_diff_ö_u£c
 =

52 
	`gë_timevÆ_diff_u£c
(&
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_£gutû_¥öt
),

53 &
js_u±ime
);

54 i‡(
timevÆ_diff_ö_u£c
 > 
PROF_SEGMENT_UTILIZATION__PERIOD_USEC
) {

55 
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_£gutû_¥öt
Ë
js_u±ime
;

56 
	`__¥öt_£gmít_utûiz©i⁄_¥ofûe
("AFB", 
jsobje˘_size
);

59 
	`__¥öt_£gmít_utûiz©i⁄_¥ofûe
("AFB", 
jsobje˘_size
);

62 
	`JERRY_UNUSED
(
jsobje˘_size
);

64 
	}
}

66 
ölöe
 
__©å_Æways_ölöe___


67 
	$¥öt_£gmít_utûiz©i⁄_¥ofûe_bef‹e_£gÆloc
(
size_t
 
jsobje˘_size
) {

68 #i‡
	`deföed
(
PROF_SEGMENT_UTILIZATION__BEFORE_ADD_SEGMENT
)

69 
	`CHECK_LOGGING_ENABLED
();

70 
	`__¥öt_£gmít_utûiz©i⁄_¥ofûe
("BAS", 
jsobje˘_size
);

72 
	`JERRY_UNUSED
(
jsobje˘_size
);

74 
	}
}

76 
ölöe
 
__©å_Æways_ölöe___


77 
	$¥öt_£gmít_utûüzti⁄_¥ofûe_bef‹e_gc
(
size_t
 
jsobje˘_size
) {

78 #i‡
	`deföed
(
PROF_SEGMENT_UTILIZATION__BEFORE_GC
)

79 
	`CHECK_LOGGING_ENABLED
();

80 
	`__¥öt_£gmít_utûiz©i⁄_¥ofûe
("BGC", 
jsobje˘_size
);

82 
	`JERRY_UNUSED
(
jsobje˘_size
);

84 
	}
}

86 
ölöe
 
__©å_Æways_ölöe___


87 
	$¥öt_£gmít_utûüzti⁄_¥ofûe_a·î_gc
(
size_t
 
jsobje˘_size
) {

88 #i‡
	`deföed
(
PROF_SEGMENT_UTILIZATION__AFTER_GC
)

89 
	`CHECK_LOGGING_ENABLED
();

90 
	`__¥öt_£gmít_utûiz©i⁄_¥ofûe
("AGC", 
jsobje˘_size
);

92 
	`JERRY_UNUSED
(
jsobje˘_size
);

94 
	}
}

96 
ölöe
 
__©å_Æways_ölöe___


97 
	$¥öt_£gmít_utûiz©i⁄_¥ofûe_föÆly
() {

98 
	`CHECK_LOGGING_ENABLED
();

99 
	`__¥öt_£gmít_utûiz©i⁄_¥ofûe
("F", 0);

100 
	}
}

102 
ölöe
 
__©å_Æways_ölöe___


103 
	$__¥öt_£gmít_utûiz©i⁄_¥ofûe
(c⁄° *
hódî
, 
size_t
 
jsobje˘_size
) {

104 #i‡
	`deföed
(
JMEM_SEGMENTED_HEAP
Ë&& deföed(
JMEM_PROFILE
) && \

105 
	`deföed
(
PROF_SEGMENT
)

106 
	`CHECK_LOGGING_ENABLED
();

107 
timevÆ
 
js_u±ime
;

108 
	`gë_js_u±ime
(&
js_u±ime
);

110 
FILE
 *
Â
 = 
	`f›í
(
PROF_SEGMENT_UTILIZATION_FILENAME
, "a");

111 
	`Ârötf
(
Â
, "%†%lu, %lu.%06lu", 
hódî
, ()
jsobje˘_size
,

112 
js_u±ime
.
tv_£c
, js_u±ime.
tv_u£c
);

114 
uöt32_t
 
£gmít_idx
 = 0; segmít_idx < 
SEG_NUM_SEGMENTS
;

115 
£gmít_idx
++) {

116 
jmem_£gmít_t
 *
£gmít
 = &(
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
£gmít_idx
]));

117 #ifde‡
PROF_SEGMENT_UTILIZATION__ABSOLUTE


118 i‡(
	`JERRY_HEAP_CONTEXT
(
¨ó
[
£gmít_idx
]Ë!
NULL
) {

119 
	`Ârötf
(
Â
, ", %5d", 
£gmít
->
occupõd_size
);

121 
	`Ârötf
(
Â
, ", -");

124 i‡(
	`JERRY_HEAP_CONTEXT
(
¨ó
[
£gmít_idx
]Ë!
NULL
) {

125 
utûiz©i⁄
 =

126 ()
£gmít
->
occupõd_size
 / ()
SEG_SEGMENT_SIZE
 * 100.0f;

127 
	`Ârötf
(
Â
, ", %2.02f", 
utûiz©i⁄
);

129 
	`Ârötf
(
Â
, ", -");

133 
	`Ârötf
(
Â
, "\n");

135 
	`fÊush
(
Â
);

136 
	`f˛o£
(
Â
);

138 * 
	`deföed
(
PROF_SEGMENT
) \

140 
	`JERRY_UNUSED
(
hódî
);

141 
	`JERRY_UNUSED
(
jsobje˘_size
);

143 * !
	`deföed
(
PROF_SEGMENT
) \

145 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-size.c

16 
	~<°dio.h
>

17 
	~<sys/time.h
>

19 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

20 
	~"jmem-¥ofûî.h
"

22 
__¥öt_tŸÆ_size_¥ofûe
();

25 
ölöe
 
__©å_Æways_ölöe___
 
	$öô_size_¥ofûî
() {

26 #i‡
	`deföed
(
JMEM_PROFILE
)

27 
	`CHECK_LOGGING_ENABLED
();

28 #i‡
	`deföed
(
PROF_SIZE__PERIOD_USEC
)

29 
FILE
 *
Â1
 = 
	`f›í
(
PROF_TOTAL_SIZE_FILENAME
, "w");

30 
	`Ârötf
(
Â1
,

34 
	`fÊush
(
Â1
);

35 
	`f˛o£
(
Â1
);

36 
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_tŸÆ_size_¥öt
).
tv_£c
 = 0;

37 
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_tŸÆ_size_¥öt
).
tv_u£c
 = 0;

40 
	}
}

42 
ölöe
 
__©å_Æways_ölöe___
 
	$¥öt_tŸÆ_size_¥ofûe_⁄_Æloc
() {

43 #i‡
	`deföed
(
PROF_SIZE__PERIOD_USEC
)

44 
	`CHECK_LOGGING_ENABLED
();

45 
timevÆ
 
js_u±ime
;

46 
	`gë_js_u±ime
(&
js_u±ime
);

47 
timevÆ_diff_ö_u£c
 =

48 
	`gë_timevÆ_diff_u£c
(&
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_tŸÆ_size_¥öt
),

49 &
js_u±ime
);

50 i‡(
timevÆ_diff_ö_u£c
 > 
PROF_SIZE__PERIOD_USEC
) {

51 
	`JERRY_CONTEXT
(
jsu±ime_ª˚¡_tŸÆ_size_¥öt
Ë
js_u±ime
;

52 
	`__¥öt_tŸÆ_size_¥ofûe
();

55 
	`__¥öt_tŸÆ_size_¥ofûe
();

57 
	}
}

59 
ölöe
 
__©å_Æways_ölöe___
 
	$¥öt_tŸÆ_size_¥ofûe_föÆly
() {

60 
	`CHECK_LOGGING_ENABLED
();

61 
	`__¥öt_tŸÆ_size_¥ofûe
();

62 
	}
}

64 
ölöe
 
__©å_Æways_ölöe___
 
	$__¥öt_tŸÆ_size_¥ofûe
() {

65 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_SIZE
)

66 
	`CHECK_LOGGING_ENABLED
();

67 
FILE
 *
Â
 = 
	`f›í
(
PROF_TOTAL_SIZE_FILENAME
, "a");

69 
timevÆ
 
js_u±ime
;

70 
	`gë_js_u±ime
(&
js_u±ime
);

71 
uöt32_t
 
blocks_size
 = (uöt32_t)
	`JERRY_CONTEXT
(
jmem_hóp_blocks_size
);

72 
uöt32_t
 
fuŒ_bw_oh
 =

73 (
uöt32_t
)
	`JERRY_CONTEXT
(
jmem_fuŒ_bôwidth_poöãr_ovîhód
);

74 
uöt32_t
 
Æloc_hóp_size
 = (uöt32_t)
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
);

75 
uöt32_t
 
syßŒoc_mëa_size
 =

76 (
uöt32_t
)
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
);

77 
uöt32_t
 
£gmít_mëa_size
 =

78 (
uöt32_t
)
	`JERRY_CONTEXT
(
jmem_£gmít_Æloˇt‹_mëad©a_size
);

80 
	`Ârötf
(
Â
, "%lu.%06lu, %lu, %lu, %lu, %lu, %lu\n", 
js_u±ime
.
tv_£c
,

81 
js_u±ime
.
tv_u£c
, 
blocks_size
, 
fuŒ_bw_oh
, 
Æloc_hóp_size
,

82 
syßŒoc_mëa_size
, 
£gmít_mëa_size
);

83 
	`fÊush
(
Â
);

84 
	`f˛o£
(
Â
);

86 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler-time.c

16 
	~<°dio.h
>

17 
	~<sys/time.h
>

19 
	~"jmem-¥ofûî-comm⁄-öã∫Æ.h
"

20 
	~"jmem-¥ofûî.h
"

22 #i‡
deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_TIME
)

23 
__check_w©ch
(
timevÆ
 *
timî
);

24 
__°›_w©ch
(
timevÆ
 *
timî
, timevÆ *
t
);

28 
ölöe
 
__©å_Æways_ölöe___
 
	$öô_time_¥ofûî
() {

29 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_TIME
)

30 
	#INIT_PROFILER_TIME_ENTRY
(
x
) \

31 
	`JERRY_CONTEXT
(
x
##
_time
).
tv_£c
 = 0; \

32 
	`JERRY_CONTEXT
(
x
##
_time
).
tv_u£c
 = 0

	)

34 
	`CHECK_LOGGING_ENABLED
();

35 
	`__check_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_u±ime
));

36 
	`INIT_PROFILER_TIME_ENTRY
(
Æloc
);

37 
	`INIT_PROFILER_TIME_ENTRY
(
‰ì
);

38 
	`INIT_PROFILER_TIME_ENTRY
(
gc
);

39 
	`INIT_PROFILER_TIME_ENTRY
(
decom¥essi⁄
);

40 
	`INIT_PROFILER_TIME_ENTRY
(
com¥essi⁄_rmc_hô
);

41 
	`INIT_PROFILER_TIME_ENTRY
(
com¥essi⁄_fifo_hô
);

42 
	`INIT_PROFILER_TIME_ENTRY
(
com¥essi⁄_föÆ_miss
);

44 
	}
}

46 
	#SEC_IN_US
 (1000 * 1000)

	)

47 
	#SEC_IN_NS
 (1000 * 1000 * 1000)

	)

48 
	#US_IN_NS
 (1000)

	)

50 #i‡
deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_TIME
)

51 
ölöe
 
	$gë_u±ime_ns
() {

52 
timevÆ
 
u±ime
;

53 
u±ime
.
tv_£c
 = 0;

54 
u±ime
.
tv_u£c
 = 0;

55 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_u±ime
), &
u±ime
);

56 
u±ime_ns
 =

57 (()
u±ime
.
tv_£c
 * 
SEC_IN_NS
 +

58 ()
u±ime
.
tv_u£c
 * 
US_IN_NS
);

59  
u±ime_ns
;

60 
	}
}

63 
	$¥öt_time_¥ofûe
() {

64 #i‡
	`deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_TIME
)

65 
	#TOTAL_TIME
(
x
) \

66 (()
	`JERRY_CONTEXT
(
x
##
_time
.
tv_£c
Ë* 
SEC_IN_NS
 + \

67 ()
	`JERRY_CONTEXT
(
x
##
_time
.
tv_u£c
Ë* 
US_IN_NS
)

	)

68 
	#AVG_TIME
(
x
) \

69 (
	`JERRY_CONTEXT
(
x
##
_cou¡
) > 0) \

70 ? 
	`TOTAL_TIME
(
x
Ë/ ()
	`JERRY_CONTEXT
(x##
_cou¡
) \

71 : 0

	)

72 
	#AVG_TIME3
(
x
, 
y
, 
z
) \

73 (()
	`JERRY_CONTEXT
(
x
##
_cou¡
) \

74 + ()
	`JERRY_CONTEXT
(
y
##
_cou¡
) \

75 + ()
	`JERRY_CONTEXT
(
z
##
_cou¡
) > 0) \

76 ? (
	`TOTAL_TIME3
(
x
,
y
,
z
)) \

77 / (()
	`JERRY_CONTEXT
(
x
##
_cou¡
) + \

78 ()
	`JERRY_CONTEXT
(
y
##
_cou¡
) + \

79 ()
	`JERRY_CONTEXT
(
z
##
_cou¡
)Ë: 0

	)

80 
	#TOTAL_TIME3
(
x
, 
y
, 
z
Ë(
	`TOTAL_TIME
(x) + TOTAL_TIME(y) \

81 + 
	`TOTAL_TIME
(
z
))

	)

82 
	#PRINT_TIME_HEADER
(
Â
Ë
	`Ârötf
(Â, "Time")

	)

83 
	#PRINT_TIME
(
Â
, 
x
Ë
	`Ârötf
(Â, ", %Œu", x)

	)

84 
	#PRINT_AVG_TIME
(
Â
, 
x
Ë
	`Ârötf
(Â, ", %Œu", 
	`AVG_TIME
(x))

	)

85 
	#PRINT_AVG_TIME3
(
Â
, 
x
, 
y
, 
z
Ë
	`Ârötf
(Â, ", %Œu", 
	`AVG_TIME3
(x, y, z))

	)

86 
	#PRINT_TOTAL_TIME
(
Â
, 
x
Ë
	`Ârötf
(Â, ", %Œu", 
	`TOTAL_TIME
(x))

	)

87 
	#PRINT_TOTAL_TIME3
(
Â
, 
x
, 
y
, 
z
Ë
	`Ârötf
(Â, ", %Œu", 
	`TOTAL_TIME3
(x, y, z))

	)

88 
	#PRINT_TIME_TAIL
(
Â
Ë
	`Ârötf
(Â, "\n")

	)

90 
	`CHECK_LOGGING_ENABLED
();

91 
FILE
 *
Â
 = 
	`f›í
(
PROF_TIME_FILENAME
, "a");

93 
	`PRINT_TIME_HEADER
(
Â
);

94 
	`PRINT_TIME
(
Â
, 
	`gë_u±ime_ns
());

95 
	`PRINT_AVG_TIME
(
Â
, 
Æloc
);

96 
	`PRINT_AVG_TIME
(
Â
, 
‰ì
);

97 
	`PRINT_AVG_TIME
(
Â
, 
gc
);

98 
	`PRINT_AVG_TIME
(
Â
, 
decom¥essi⁄
);

99 
	`PRINT_AVG_TIME3
(
Â
, 
com¥essi⁄_rmc_hô
, 
com¥essi⁄_fifo_hô
, 
com¥essi⁄_föÆ_miss
);

100 
	`PRINT_AVG_TIME
(
Â
, 
com¥essi⁄_rmc_hô
);

101 
	`PRINT_AVG_TIME
(
Â
, 
com¥essi⁄_fifo_hô
);

102 
	`PRINT_AVG_TIME
(
Â
, 
com¥essi⁄_föÆ_miss
);

103 
	`PRINT_TOTAL_TIME
(
Â
, 
Æloc
);

104 
	`PRINT_TOTAL_TIME
(
Â
, 
‰ì
);

105 
	`PRINT_TOTAL_TIME
(
Â
, 
gc
);

106 
	`PRINT_TOTAL_TIME
(
Â
, 
decom¥essi⁄
);

107 
	`PRINT_TOTAL_TIME3
(
Â
, 
com¥essi⁄_rmc_hô
, 
com¥essi⁄_fifo_hô
, 
com¥essi⁄_föÆ_miss
);

108 
	`PRINT_TOTAL_TIME
(
Â
, 
com¥essi⁄_rmc_hô
);

109 
	`PRINT_TOTAL_TIME
(
Â
, 
com¥essi⁄_fifo_hô
);

110 
	`PRINT_TOTAL_TIME
(
Â
, 
com¥essi⁄_föÆ_miss
);

111 
	`PRINT_TIME_TAIL
(
Â
);

112 
	`fÊush
(
Â
);

113 
	`f˛o£
(
Â
);

115 
	}
}

117 
__©å_Æways_ölöe___
 
	$¥ofûe_Æloc_°¨t
() {

118 #i‡
	`deföed
(
PROF_TIME__ALLOC
)

119 
	`CHECK_LOGGING_ENABLED
();

120 
	`JERRY_CONTEXT
(
Æloc_cou¡
)++;

121 
	`__check_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_Æloc
));

123 
	}
}

124 
__©å_Æways_ölöe___
 
	$¥ofûe_Æloc_íd
() {

125 #i‡
	`deföed
(
PROF_TIME__ALLOC
)

126 
	`CHECK_LOGGING_ENABLED
();

127 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_Æloc
), &JERRY_CONTEXT(
Æloc_time
));

129 
	}
}

131 
__©å_Æways_ölöe___
 
	$¥ofûe_‰ì_°¨t
() {

132 #i‡
	`deföed
(
PROF_TIME__FREE
)

133 
	`CHECK_LOGGING_ENABLED
();

134 
	`JERRY_CONTEXT
(
‰ì_cou¡
)++;

135 
	`__check_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_‰ì
));

137 
	}
}

138 
__©å_Æways_ölöe___
 
	$¥ofûe_‰ì_íd
() {

139 #i‡
	`deföed
(
PROF_TIME__FREE
)

140 
	`CHECK_LOGGING_ENABLED
();

141 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_‰ì
), &JERRY_CONTEXT(
‰ì_time
));

143 
	}
}

145 
__©å_Æways_ölöe___
 
	$¥ofûe_com¥essi⁄_°¨t
() {

146 #i‡
	`deföed
(
PROF_TIME__COMPRESSION
)

147 
	`CHECK_LOGGING_ENABLED
();

148 
	`__check_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_com¥essi⁄
));

150 
	}
}

151 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_com¥essi⁄_íd
(
ty≥
) {

152 #i‡
	`deföed
(
PROF_TIME__COMPRESSION
)

153 
	`CHECK_LOGGING_ENABLED
();

154 i‡(
ty≥
 == 0) {

155 
	`JERRY_CONTEXT
(
com¥essi⁄_rmc_hô_cou¡
)++;

156 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_com¥essi⁄
),

157 &
	`JERRY_CONTEXT
(
com¥essi⁄_rmc_hô_time
));

158 } i‡(
ty≥
 == 1) {

159 
	`JERRY_CONTEXT
(
com¥essi⁄_fifo_hô_cou¡
)++;

160 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_com¥essi⁄
),

161 &
	`JERRY_CONTEXT
(
com¥essi⁄_fifo_hô_time
));

162 } i‡(
ty≥
 == 2) {

163 
	`JERRY_CONTEXT
(
com¥essi⁄_föÆ_miss_cou¡
)++;

164 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_com¥essi⁄
),

165 &
	`JERRY_CONTEXT
(
com¥essi⁄_föÆ_miss_time
));

167 
	`¥ötf
("InvÆidárgumíàtÿ¥ofûe_com¥essi⁄_íd: %d\n", 
ty≥
);

170 
	`JERRY_UNUSED
(
ty≥
);

172 
	}
}

174 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_decom¥essi⁄_°¨t
() {

175 #i‡
	`deföed
(
PROF_TIME__DECOMPRESSION
)

176 
	`CHECK_LOGGING_ENABLED
();

177 
	`JERRY_CONTEXT
(
decom¥essi⁄_cou¡
)++;

178 
	`__check_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_decom¥essi⁄
));

180 
	}
}

181 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_decom¥essi⁄_íd
() {

182 #i‡
	`deföed
(
PROF_TIME__DECOMPRESSION
)

183 
	`CHECK_LOGGING_ENABLED
();

184 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_decom¥essi⁄
),

185 &
	`JERRY_CONTEXT
(
decom¥essi⁄_time
));

187 
	}
}

189 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_gc_°¨t
() {

190 #i‡
	`deföed
(
PROF_TIME__GC
)

191 
	`CHECK_LOGGING_ENABLED
();

192 
	`JERRY_CONTEXT
(
gc_cou¡
)++;

193 
	`__check_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_gc
));

195 
	}
}

196 
ölöe
 
__©å_Æways_ölöe___
 
	$¥ofûe_gc_íd
() {

197 #i‡
	`deföed
(
PROF_TIME__GC
)

198 
	`CHECK_LOGGING_ENABLED
();

199 
	`__°›_w©ch
(&
	`JERRY_CONTEXT
(
timevÆ_gc
), &JERRY_CONTEXT(
gc_time
));

201 
	}
}

204 #i‡
deföed
(
JMEM_PROFILE
Ë&& deföed(
PROF_TIME
)

205 
	$__check_w©ch
(
timevÆ
 *
timî
) {

206 
	`gëtimeofday
(
timî
, 
NULL
);

207 
	}
}

208 
	$__°›_w©ch
(
timevÆ
 *
timî
, timevÆ *
t
) {

209 
timevÆ
 
cuº_time
;

211 
	`gëtimeofday
(&
cuº_time
, 
NULL
);

213 
cuº_time
.
tv_u£c
 -
timî
->tv_usec;

214 i‡(
cuº_time
.
tv_u£c
 < 0) {

215 
cuº_time
.
tv_u£c
 += 1000000;

216 
cuº_time
.
tv_£c
 -= 1;

218 
cuº_time
.
tv_£c
 -
timî
->tv_sec;

219 
	`JERRY_ASSERT
(
cuº_time
.
tv_£c
 >0 && cuº_time.
tv_u£c
 >= 0);

221 
t
->
tv_£c
 +
cuº_time
.tv_sec;

222 
t
->
tv_u£c
 +
cuº_time
.tv_usec;

224 i‡(
t
->
tv_u£c
 > 1000000) {

225 
t
->
tv_£c
 += 1;

226 
t
->
tv_u£c
 -= 1000000;

228 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/jmem-profiler.h

18 #i‚de‡
JMEM_PROFILER_H


19 
	#JMEM_PROFILER_H


	)

21 
	~"jπ.h
"

23 
öô_¥ofûîs
();

24 
föÆize_¥ofûîs
();

27 
¥öt_tŸÆ_size_¥ofûe_⁄_Æloc
();

28 
¥öt_tŸÆ_size_¥ofûe_föÆly
();

31 
¥öt_time_¥ofûe
();

32 
¥ofûe_Æloc_°¨t
();

33 
¥ofûe_Æloc_íd
();

34 
¥ofûe_‰ì_°¨t
();

35 
¥ofûe_‰ì_íd
();

36 
¥ofûe_com¥essi⁄_°¨t
();

37 
¥ofûe_com¥essi⁄_íd
(
ty≥
);

38 
¥ofûe_decom¥essi⁄_°¨t
();

39 
¥ofûe_decom¥essi⁄_íd
();

40 
¥ofûe_gc_°¨t
();

41 
¥ofûe_gc_íd
();

44 
¥öt_pmu_¥ofûe
();

45 
¥ofûe_com¥essi⁄_cy˛es_°¨t
();

46 
¥ofûe_com¥essi⁄_cy˛es_íd
(
ty≥
);

47 
¥ofûe_decom¥essi⁄_cy˛es_°¨t
();

48 
¥ofûe_decom¥essi⁄_cy˛es_íd
();

51 
¥öt_£gmít_utûiz©i⁄_¥ofûe_a·î_‰ì
(
size_t
 
jsobje˘_size
);

52 
¥öt_£gmít_utûiz©i⁄_¥ofûe_bef‹e_£gÆloc
(

53 
size_t
 
jsobje˘_size
);

54 
¥öt_£gmít_utûüzti⁄_¥ofûe_bef‹e_gc
(
size_t
 
jsobje˘_size
);

55 
¥öt_£gmít_utûüzti⁄_¥ofûe_a·î_gc
(
size_t
 
jsobje˘_size
);

56 
¥öt_£gmít_utûiz©i⁄_¥ofûe_föÆly
();

59 
¥öt_jsobje˘_Æloˇti⁄_¥ofûe
();

60 
¥ofûe_jsobje˘_öc_Æloˇti⁄
(
size_t
 
jsobje˘_size
);

64 
¥öt_˝é_¥ofûe_rmc_hô_øtio
();

65 
¥ofûe_öc_rmc_ac˚ss_cou¡
();

66 
¥ofûe_öc_rmc_miss_cou¡
();

67 
¥öt_˝é_ac˚ss
(
uöt32_t
 
sidx
, 
ty≥_dïth
);

70 
¥öt_cou¡_¥ofûe
();

71 
¥ofûe_öc_cou¡_of_a_ty≥
(
ty≥_miss_≥«…y
);

	@deps/jerry/jerry-core/jmem/profiler/set-cache-simulator.c

16 
	~"£t-ˇche-simuœt‹.h
"

17 
	~"jc⁄ãxt.h
"

18 
	~"jmem-c⁄fig.h
"

19 
	~"jπ.h
"

21 #i‡
deföed
(
PROF_CPTL_ACCESS_SIMUL
)

22 
uöt32_t
 
simuœã_ˇche_öã∫Æ
(uöt32_à
sidx
, * 
£t_íåõs
,

23 * 
£t_ages
, * 
£t_hódî
,

24 
uöt32_t
* 
hô_cou¡
);

27 
uöt32_t
 
	$simuœã_ˇche
(
uöt32_t
 
sidx
, 
ty≥
) {

28 #i‡
	`deföed
(
PROF_CPTL_ACCESS_SIMUL
)

29 i‡(
ty≥
 < 0) {

31  
	`simuœã_ˇche_öã∫Æ
(
sidx
,

32 
	`JERRY_CONTEXT
(

33 
˝é_ac˚ss_£t_íåõs_decomp
),

34 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_ages_decomp
),

35 &
	`JERRY_CONTEXT
(

36 
˝é_ac˚ss_£t_hódî_decomp
),

37 &
	`JERRY_CONTEXT
(

38 
˝é_ac˚ss_hô_cou¡_decomp
));

41  
	`simuœã_ˇche_öã∫Æ
(
sidx
,

42 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_íåõs_comp
),

43 
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_ages_comp
),

44 &
	`JERRY_CONTEXT
(
˝é_ac˚ss_£t_hódî_comp
),

45 &
	`JERRY_CONTEXT
(
˝é_ac˚ss_hô_cou¡_comp
));

48 
	`JERRY_UNUSED
(
sidx
);

49 
	`JERRY_UNUSED
(
ty≥
);

52 
	}
}

54 #i‡
deföed
(
PROF_CPTL_ACCESS_SIMUL
)

55 
uöt32_t
 
	$simuœã_ˇche_öã∫Æ
(
uöt32_t
 
sidx
, * 
£t_íåõs
, * 
£t_ages
,

56 * 
£t_hódî
, 
uöt32_t
* 
hô_cou¡
) {

57 
uöt32_t
 
c⁄£c_hô_cou¡
 = 0;

59 
hô_ödex
 = -1;

60 
i
 = 0; i < 
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
; i++) {

61 i‡(()
sidx
 =
£t_íåõs
[
i
]) {

62 
hô_ödex
 = 
i
;

67 #ifde‡
PROF_CPTL_ACCESS_SIMUL_LRU


68 i‡(
hô_ödex
 >= 0) {

70 
£t_ages
[
hô_ödex
] = 0;

73 i‡(
hô_ödex
 < 0) {

75 #ifde‡
PROF_CPTL_ACCESS_SIMUL_LRU


77 
max_age
 = -1;

78 
max_age_ödex
 = 0;

79 
i
 = 0; i < 
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
; i++) {

80 i‡(
max_age
 < 
£t_ages
[
i
]) {

81 
max_age
 = 
£t_ages
[
i
];

82 
max_age_ödex
 = 
i
;

85 
£t_íåõs
[
max_age_ödex
] = ()
sidx
;

86 
£t_ages
[
max_age_ödex
] = 0;

87 
	`JERRY_UNUSED
(
£t_hódî
);

90 
hódî_ödex
 = *
£t_hódî
;

91 
£t_íåõs
[
hódî_ödex
] = ()
sidx
;

92 *
£t_hódî
 = (
hódî_ödex
 + 1Ë% 
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
;

96 #ifde‡
PROF_CPTL_ACCESS_SIMUL_LRU


98 
i
 = 0; i < 
PROF_CPTL_ACCESS_SIMUL_SET_SIZE
; i++) {

99 
£t_ages
[
i
]++;

104 i‡(
hô_ödex
 >= 0) {

105 *
hô_cou¡
 = *hit_count + 1;

107 *
hô_cou¡
 = 0;

109 
c⁄£c_hô_cou¡
 = *
hô_cou¡
;

111  
c⁄£c_hô_cou¡
;

112 
	}
}

	@deps/jerry/jerry-core/jmem/profiler/set-cache-simulator.h

17 #i‚de‡
SET_CACHE_SIMULATOR_H


18 
	#SET_CACHE_SIMULATOR_H


	)

20 
	~"jπ.h
"

23 
uöt32_t
 
simuœã_ˇche
(uöt32_à
sidx
, 
ty≥
);

	@deps/jerry/jerry-core/jmem/segmented/cptl-rmap-cache.c

16 
	~"˝é-rm≠-ˇche.h
"

18 
	~"jc⁄ãxt.h
"

19 
	~"jmem-c⁄fig.h
"

20 
	~"jmem-hóp-£gmíãd-rm≠-rb.h
"

21 
	~"jmem-¥ofûî.h
"

22 
	~"jmem.h
"

24 
	$öô_rm≠_ˇche
() {

25 #ifde‡
SEG_RMAP_CACHE


27 #i‡
SEG_RMAP_CACHE_SIZE
 == 1

29 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_ba£_addr
Ë
NULL
;

30 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_sidx
Ë
SEG_NUM_SEGMENTS
;

33 
èg
 = 0;Åag < 
SEG_RMAP_CACHE_SIZE
;Åag++) {

34 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
èg
]Ë
NULL
;

35 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
èg
]Ë
SEG_NUM_SEGMENTS
;

39 
	}
}

41 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___


42 
	$ac˚ss_™d_check_rm≠_ˇche
(
uöt8_t
 *
addr
) {

45 #ifde‡
SEG_RMAP_CACHE


46 #i‡
SEG_RMAP_CACHE_SIZE
 == 1

48 
uöt8_t
 *
ˇched_ba£_addr
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_ba£_addr
);

52 
uöt32_t
 
ªsu…
 = (uöt32_t)
addr
 - (uöt32_t)
ˇched_ba£_addr
;

53 i‡(
ªsu…
 < (
uöt32_t
)
SEG_SEGMENT_SIZE
) {

54 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë
ªsu…
;

55 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
ˇched_ba£_addr
;

57 
uöt32_t
 
ˇched_sidx
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_sidx
);

58  
ˇched_sidx
;

60  
SEG_NUM_SEGMENTS
;

62 #ñi‡
SEG_RMAP_CACHE_SET_SIZE
 == 1

64 
	`JERRY_HEAP_CONTEXT
(
rmc_èg
) =

65 ((
uöt32_t
)
addr
 >> 
SEG_SEGMENT_SHIFT
Ë% 
SEG_RMAP_CACHE_WAYS
;

66 
uöt32_t
 
èg
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èg
);

67 
uöt8_t
 *
ˇched_ba£_addr
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
èg
]);

71 
uöt32_t
 
ªsu…
 = (uöt32_t)
addr
 - (uöt32_t)
ˇched_ba£_addr
;

72 i‡(
	`likñy
(
ªsu…
 < (
uöt32_t
)
SEG_SEGMENT_SIZE
)) {

73 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë
ªsu…
;

74 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
ˇched_ba£_addr
;

76 
uöt32_t
 
ˇched_sidx
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
èg
]);

77  
ˇched_sidx
;

79  
SEG_NUM_SEGMENTS
;

81 #ñi‡
SEG_RMAP_CACHE_SIZE
 =
SEG_RMAP_CACHE_SET_SIZE


83 
i
 = 0; i < 
SEG_RMAP_CACHE_SIZE
; i++) {

84 
uöt8_t
 *
ˇched_ba£_addr
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
i
]);

87 
uöt32_t
 
ªsu…
 = (uöt32_t)
addr
 - (uöt32_t)
ˇched_ba£_addr
;

88 i‡(
	`likñy
(
ªsu…
 < (
uöt32_t
)
SEG_SEGMENT_SIZE
)) {

89 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë
ªsu…
;

90 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
ˇched_ba£_addr
;

92 
uöt32_t
 
ˇched_sidx
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
i
]);

93  
ˇched_sidx
;

96  
SEG_NUM_SEGMENTS
;

97 #ñi‡
SEG_RMAP_CACHE_SIZE
 > 
SEG_RMAP_CACHE_SET_SIZE


99 
	`JERRY_HEAP_CONTEXT
(
rmc_èg
) =

100 ((
uöt32_t
)
addr
 >> 
SEG_SEGMENT_SHIFT
Ë% 
SEG_RMAP_CACHE_WAYS
;

101 
uöt32_t
 
èg
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èg
);

102 
i_‰om
 = ()
èg
 * 
SEG_RMAP_CACHE_SET_SIZE
;

103 
i_to
 = (()
èg
 + 1Ë* 
SEG_RMAP_CACHE_SET_SIZE
;

104 
i
 = 
i_‰om
; i < 
i_to
; i++) {

105 
uöt8_t
 *
ˇched_ba£_addr
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
i
]);

108 
uöt32_t
 
ªsu…
 = (uöt32_t)
addr
 - (uöt32_t)
ˇched_ba£_addr
;

109 i‡(
	`likñy
(
ªsu…
 < (
uöt32_t
)
SEG_SEGMENT_SIZE
)) {

110 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë
ªsu…
;

111 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
ˇched_ba£_addr
;

113 
uöt32_t
 
ˇched_sidx
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
i
]);

114  
ˇched_sidx
;

117  
SEG_NUM_SEGMENTS
;

120 
	`JERRY_UNUSED
(
addr
);

122  
SEG_NUM_SEGMENTS
;

125 
	`JERRY_UNUSED
(
addr
);

127  
NULL
;

129 
	}
}

131 
ölöe
 
__©å_Æways_ölöe___
 
	$upd©e_rm≠_ˇche
(
uöt32_t
 
sidx
) {

135 #ifde‡
SEG_RMAP_CACHE


136 #i‡
SEG_RMAP_CACHE_SIZE
 == 1

138 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_ba£_addr
ËJERRY_HEAP_CONTEXT(
comp_i_ßddr
);

140 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_sidx
Ë
sidx
;

141 #ñi‡
SEG_RMAP_CACHE_SET_SIZE
 == 1

143 
uöt32_t
 
èg
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èg
);

144 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
èg
]) =

145 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
);

147 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
èg
]Ë
sidx
;

148 #ñi‡
SEG_RMAP_CACHE_SIZE
 =
SEG_RMAP_CACHE_SET_SIZE


150 
uöt32_t
 
evi˘i⁄_hódî
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_evi˘i⁄_hódî
);

151 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_evi˘i⁄_hódî
) =

152 (
evi˘i⁄_hódî
 + 1Ë% 
SEG_RMAP_CACHE_SET_SIZE
;

153 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
evi˘i⁄_hódî
]) =

154 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
);

156 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
evi˘i⁄_hódî
]Ë
sidx
;

157 #ñi‡
SEG_RMAP_CACHE_SIZE
 > 
SEG_RMAP_CACHE_SET_SIZE


159 
uöt32_t
 
èg
 = 
	`JERRY_HEAP_CONTEXT
(
rmc_èg
);

160 
uöt32_t
 
way_evi˘i⁄_hódî
 =

161 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_evi˘i⁄_hódîs
[
èg
]);

162 
uöt32_t
 
evi˘i⁄_hódî
 =

163 
èg
 * 
SEG_RMAP_CACHE_SET_SIZE
 + 
way_evi˘i⁄_hódî
;

164 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_evi˘i⁄_hódîs
[
èg
]) =

165 (
way_evi˘i⁄_hódî
 + 1Ë% 
SEG_RMAP_CACHE_SET_SIZE
;

166 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
evi˘i⁄_hódî
]) =

167 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
);

169 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
evi˘i⁄_hódî
]Ë
sidx
;

173 
	`JERRY_UNUSED
(
sidx
);

177 
	`JERRY_UNUSED
(
sidx
);

179 
	}
}

181 
ölöe
 
__©å_Æways_ölöe___
 
	$övÆid©e_rm≠_ˇche_íåy
(
uöt32_t
 
sidx
) {

183 #ifde‡
SEG_RMAP_CACHE


184 #i‡
SEG_RMAP_CACHE_SIZE
 == 1

186 i‡(
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_sidx
Ë=
sidx
) {

187 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_ba£_addr
) = 0;

188 
	`JERRY_HEAP_CONTEXT
(
rmc_sögÀ_sidx
) = 0;

192 
i
 = 0; i < 
SEG_RMAP_CACHE_SIZE
; i++) {

193 i‡(
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
i
]Ë=
sidx
) {

194 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_ba£_addr
[
i
]) = 0;

195 
	`JERRY_HEAP_CONTEXT
(
rmc_èbÀ_sidx
[
i
]) = 0;

200 
	`JERRY_UNUSED
(
sidx
);

201  
NULL
;

203 
	}
}

	@deps/jerry/jerry-core/jmem/segmented/cptl-rmap-cache.h

16 #i‚de‡
CPTL_RMAP_CACHE_H


17 
	#CPTL_RMAP_CACHE_H


	)

19 
	~"jπ.h
"

21 
öô_rm≠_ˇche
();

22 
uöt32_t
 
ac˚ss_™d_check_rm≠_ˇche
(
uöt8_t
 *
addr
);

24 
upd©e_rm≠_ˇche
(
uöt32_t
 
sidx
);

26 
övÆid©e_rm≠_ˇche_íåy
(
uöt32_t
 
sidx
);

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-cptl.c

16 
	~"jmem-hóp-£gmíãd-˝é.h
"

18 
	~"jc⁄ãxt.h
"

19 
	~"jmem-c⁄fig.h
"

20 
	~"jmem-hóp-£gmíãd-rm≠-rb.h
"

21 
	~"jmem-¥ofûî.h
"

22 
	~"jmem.h
"

24 
	~"˝é-rm≠-ˇche.h
"

26 #i‡
deföed
(
JMEM_SEGMENTED_HEAP
)

28 
	$öô_˝é
() {

30 
uöt32_t
 
sidx
 = 0; sidx < 
SEG_NUM_SEGMENTS
; sidx++) {

31 
	`JERRY_HEAP_CONTEXT
(
¨ó
[
sidx
]Ë(
uöt8_t
 *)
NULL
;

33 
	`JERRY_HEAP_CONTEXT
(
¨ó
[
SEG_NUM_SEGMENTS
]Ë(
uöt8_t
 *)
JMEM_HEAP_END_OF_LIST
;

36 #ifde‡
SEG_RMAP_BINSEARCH


37 
	`JERRY_HEAP_CONTEXT
(
£gmít_rm≠_rb_roŸ
).
rb_node
 = 
NULL
;

41 #ifde‡
SEG_RMAP_2LEVEL_SEARCH


42 
i
 = 0; i < 
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
; i++) {

43 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_sidx
[
i
]Ë
SEG_NUM_SEGMENTS
;

44 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_ba£_addr
[
i
]Ë
NULL
;

46 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_evi˘i⁄_hódî
) = 0;

50 #ifde‡
SEG_RMAP_CACHE


51 
	`öô_rm≠_ˇche
();

53 
	}
}

58 
ölöe
 
uöt32_t
 
__©åibuã__
((
hŸ
))

59 
	$˝é_com¥ess_poöãr_öã∫Æ
(
jmem_hóp_‰ì_t
 *
p
) {

60 
uöt32_t
 
˝
;

61 
uöt32_t
 
sidx
;

63 #i‡
	`deföed
(
PROF_TIME__COMPRESSION_DETAILED
) || \

64 
	`deföed
(
PROF_PMU__COMPRESSION_CYCLES_DETAILED
)

65 
	`JERRY_CONTEXT
(
ª˚¡_com¥essi⁄_ty≥
) = 0;

67 
	`¥ofûe_com¥essi⁄_°¨t
();

68 
	`¥ofûe_com¥essi⁄_cy˛es_°¨t
();

69 
sidx
 = 
	`addr_to_ßddr_™d_sidx
((
uöt8_t
 *)
p
);

70 i‡(
	`likñy
(
sidx
 < 
SEG_NUM_SEGMENTS
)) {

71 
˝
 = 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë+ (
sidx
 << 
SEG_SEGMENT_SHIFT
);

72 } i‡(
p
 =(
uöt8_t
 *)&
	`JERRY_HEAP_CONTEXT
(
fú°
)) {

73 
˝
 = 0;

75 
˝
 = (
uöt32_t
)
JMEM_HEAP_END_OF_LIST_UINT32
;

77 #i‡
	`deföed
(
PROF_TIME__COMPRESSION_DETAILED
) || \

78 
	`deföed
(
PROF_PMU__COMPRESSION_CYCLES_DETAILED
)

79 
	`¥ofûe_com¥essi⁄_cy˛es_íd
(
	`JERRY_CONTEXT
(
ª˚¡_com¥essi⁄_ty≥
));

80 
	`¥ofûe_com¥essi⁄_íd
(
	`JERRY_CONTEXT
(
ª˚¡_com¥essi⁄_ty≥
));

82 
	`¥ofûe_com¥essi⁄_cy˛es_íd
(0);

83 
	`¥ofûe_com¥essi⁄_íd
(0);

86 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


87 
	`¥ofûe_öc_cou¡_of_a_ty≥
(0);

89  
˝
;

90 
	}
}

94 
ölöe
 
jmem_hóp_‰ì_t
 *
__©åibuã__
((
hŸ
))

95 
	$˝é_decom¥ess_poöãr_öã∫Æ
(
uöt32_t
 
˝
) {

96 
jmem_hóp_‰ì_t
 *
p
;

97 
	`¥ofûe_decom¥essi⁄_°¨t
();

98 
	`¥ofûe_decom¥essi⁄_cy˛es_°¨t
();

100 
p
 = (
jmem_hóp_‰ì_t
 *)((
uöçå_t
)
	`sidx_to_addr
(
˝
 >> 
SEG_SEGMENT_SHIFT
) +

101 (
uöçå_t
)(
˝
 & (
SEG_SEGMENT_SIZE
 - 1)));

105 
	`¥ofûe_decom¥essi⁄_cy˛es_íd
();

106 
	`¥ofûe_decom¥essi⁄_íd
();

107  
p
;

108 
	}
}

114 
ölöe
 
uöt8_t
 *
__©åibuã__
((
hŸ
)Ë
	$sidx_to_addr
(
uöt32_t
 
sidx
) {

115 
uöt8_t
 *
addr
 = 
	`JERRY_HEAP_CONTEXT
(
¨ó
[
sidx
]);

116 
	`¥öt_˝é_ac˚ss
(
sidx
, -1);

117  
addr
;

118 
	}
}

121 #i‡
deföed
(
SEG_RMAP_BINSEARCH
)

122 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___
 
	$bö¨y_£¨ch
(
uöt8_t
 *
addr
) {

124 
£g_rm≠_node_t
 *
node
 =

125 
	`£gmít_rm≠_lookup
(&
	`JERRY_HEAP_CONTEXT
(
£gmít_rm≠_rb_roŸ
), 
addr
);

126 i‡(
node
 =
NULL
) {

127  
SEG_NUM_SEGMENTS
;

129 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
node
->
ba£_addr
;

130  
node
->
sidx
;

132 
	}
}

134 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___
 
	$löór_£¨ch
(
uöt8_t
 *
addr
) {

136 
uöt32_t
 
sidx
 = 0; sidx < 
SEG_NUM_SEGMENTS
; sidx++) {

137 
	`INCREASE_LOOKUP_DEPTH
();

138 
uöt8_t
 *
ßddr
 = 
	`JERRY_HEAP_CONTEXT
(
¨ó
[
sidx
]);

139 
uöt32_t
 
ªsu…
 = (uöt32_t)
addr
 - (uöt32_t)
ßddr
;

140 i‡(
ªsu…
 < (
uöt32_t
)
SEG_SEGMENT_SIZE
) {

141 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë(
uöt32_t
)
ªsu…
;

142 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
ßddr
;

143  
sidx
;

146  
SEG_NUM_SEGMENTS
;

147 
	}
}

149 #i‡
deföed
(
SEG_RMAP_2LEVEL_SEARCH
)

150 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___
 
	$two_Àvñ_£¨ch
(
uöt8_t
 *
addr
) {

152 
uöt32_t
 
sidx
 = 
SEG_NUM_SEGMENTS
;

154 
i
 = 0; i < 
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
; i++) {

155 i‡(
i
 =
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_evi˘i⁄_hódî
))

157 
	`INCREASE_LOOKUP_DEPTH
();

158 
uöt8_t
 *
ßddr
 = 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_ba£_addr
[
i
]);

159 
uöt32_t
 
ªsu…
 = (uöt32_t)
addr
 - (uöt32_t)
ßddr
;

160 i‡(
ªsu…
 < (
uöt32_t
)
SEG_SEGMENT_SIZE
) {

162 
sidx
 = 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_sidx
[
i
]);

163 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë(
uöt32_t
)
ªsu…
;

164 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
Ë
ßddr
;

165 #i‡
	`deföed
(
PROF_TIME__COMPRESSION_DETAILED
) || \

166 
	`deföed
(
PROF_PMU__COMPRESSION_CYCLES_DETAILED
)

167 
	`JERRY_CONTEXT
(
ª˚¡_com¥essi⁄_ty≥
) = 1;

169  
sidx
;

175 
sidx
 = 
	`löór_£¨ch
(
addr
);

179 i‡(
sidx
 < 
SEG_NUM_SEGMENTS
) {

180 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_evi˘i⁄_hódî
) =

181 (
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_evi˘i⁄_hódî
) + 1) %

182 
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
;

183 
evi˘i⁄_hódî
 = 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_evi˘i⁄_hódî
);

184 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_ba£_addr
[
evi˘i⁄_hódî
]) =

185 
	`JERRY_HEAP_CONTEXT
(
comp_i_ßddr
);

186 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_sidx
[
evi˘i⁄_hódî
]Ë
sidx
;

189  
sidx
;

190 
	}
}

192 
ölöe
 
__©å_Æways_ölöe___
 
	$övÆid©e_fifo_ˇche_íåy
(
uöt32_t
 
sidx
) {

198 
i
 = 0; i < 
SEG_RMAP_2LEVEL_SEARCH_FIFO_CACHE_SIZE
; i++) {

199 i‡(
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_sidx
[
i
]Ë=
sidx
) {

200 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_ba£_addr
[
i
]Ë
NULL
;

201 
	`JERRY_HEAP_CONTEXT
(
fc_èbÀ_sidx
[
i
]Ë
SEG_NUM_SEGMENTS
;

221 
	}
}

230 
ölöe
 
uöt32_t
 
__©åibuã__
((
hŸ
)Ë
	$addr_to_ßddr_™d_sidx
(
uöt8_t
 *
addr
) {

232 
uöt32_t
 
sidx
;

233 
	`CLEAR_LOOKUP_DEPTH
();

235 
	`¥ofûe_öc_rmc_ac˚ss_cou¡
();

238 #ifde‡
SEG_RMAP_CACHE


239 
sidx
 = 
	`ac˚ss_™d_check_rm≠_ˇche
(
addr
);

240 i‡(
	`likñy
(
sidx
 < 
SEG_NUM_SEGMENTS
)) {

241 
	`¥öt_˝é_ac˚ss
(
sidx
, 0);

242  
sidx
;

247 #i‡
	`deföed
(
PROF_TIME__COMPRESSION_DETAILED
) || \

248 
	`deföed
(
PROF_PMU__COMPRESSION_CYCLES_DETAILED
)

249 
	`JERRY_CONTEXT
(
ª˚¡_com¥essi⁄_ty≥
) = 2;

251 #i‡
	`deföed
(
SEG_RMAP_BINSEARCH
)

253 
sidx
 = 
	`bö¨y_£¨ch
(
addr
);

254 #ñi‡
	`deföed
(
SEG_RMAP_2LEVEL_SEARCH
)

255 
sidx
 = 
	`two_Àvñ_£¨ch
(
addr
);

259 
sidx
 = 
	`löór_£¨ch
(
addr
);

262 #ifde‡
SEG_RMAP_CACHE


263 i‡(
	`likñy
(
sidx
 < 
SEG_NUM_SEGMENTS
)) {

264 
	`upd©e_rm≠_ˇche
(
sidx
);

268 
	`¥ofûe_öc_rmc_miss_cou¡
();

269 
	`¥öt_˝é_ac˚ss
(
sidx
, 0);

270  
sidx
;

271 
	}
}

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-cptl.h

16 #i‚de‡
JMEM_HEAP_SEGMENTED_CPTL_H


17 
	#JMEM_HEAP_SEGMENTED_CPTL_H


	)

19 
	~"jπ.h
"

20 
	~"jmem-c⁄fig.h
"

22 #i‡
deföed
(
JMEM_SEGMENTED_HEAP
)

24 
öô_˝é
();

29 
uöt8_t
 *
sidx_to_addr
(
uöt32_t
 
sidx
);

35 
uöt32_t
 
addr_to_ßddr_™d_sidx
(
uöt8_t
 *
addr
);

37 #ifde‡
SEG_RMAP_2LEVEL_SEARCH


38 
övÆid©e_fifo_ˇche_íåy
(
uöt32_t
 
sidx
);

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-rmap-rb-node.h

16 #i‚de‡
JMEM_HEAP_SEGMENTED_RB_NODE_H


17 
	#JMEM_HEAP_SEGMENTED_RB_NODE_H


	)

19 
	s_rb_node
 {

20 
	mrb_∑ª¡_cﬁ‹
;

21 
	#RB_RED
 0

	)

22 
	#RB_BLACK
 1

	)

23 
_rb_node
 *
	mrb_right
;

24 
_rb_node
 *
	mrb_À·
;

25 } 
	trb_node
;

28 
rb_node
 *
	mrb_node
;

29 } 
	trb_roŸ
;

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-rmap-rb.c

16 
	~"jmem-c⁄fig.h
"

17 
	~"jmem.h
"

18 
	~"jπ.h
"

19 
	~"jc⁄ãxt.h
"

21 
	~<°dlib.h
>

22 
	#MALLOC
(
size
Ë((*)
	`mÆloc
(size))

	)

23 
	#FREE
(
±r
Ë(
	`‰ì
’å))

	)

25 
	~"jmem-hóp-£gmíãd-rm≠-rb.h
"

27 #ifde‡
JMEM_SEGMENTED_HEAP


28 #ifde‡
SEG_RMAP_BINSEARCH


30 
£g_rm≠_node_t
 *
	$£gmít_rm≠_lookup
(
rb_roŸ
 *
roŸ
, 
uöt8_t
 *
addr
) {

31 
rb_node
 *
node
 = 
roŸ
->rb_node;

33 
node
) {

34 
	`INCREASE_LOOKUP_DEPTH
();

35 
£g_rm≠_node_t
 *
cuº_node
 = 
	`c⁄èöî_of
(
node
, seg_rmap_node_t,Çode);

36 
uöt8_t
 *
cuº_addr
 = 
cuº_node
->
ba£_addr
;

37 
öçå_t
 
ªsu…
 = (öçå_t)
addr
 - (öçå_t)
cuº_addr
;

41 i‡(
ªsu…
 >(
öçå_t
)
SEG_SEGMENT_SIZE
) {

42 
node
 =Çode->
rb_right
;

43 } i‡(
ªsu…
 < 0) {

44 
node
 =Çode->
rb_À·
;

46 
	`JERRY_HEAP_CONTEXT
(
comp_i_off£t
Ë(
uöt32_t
)
ªsu…
;

47  (
£g_rm≠_node_t
 *)
node
;

51  (
£g_rm≠_node_t
 *)
NULL
;

52 
	}
}

54 
	$£gmít_rm≠_ö£π
(
rb_roŸ
 *
roŸ
, 
uöt8_t
 *
£gmít_¨ó
, 
uöt32_t
 
sidx
) {

55 
£g_rm≠_node_t
 *
node_to_ö£π
 =

56 (
£g_rm≠_node_t
 *)
	`MALLOC
((seg_rmap_node_t));

57 
node_to_ö£π
->
ba£_addr
 = 
£gmít_¨ó
;

58 
node_to_ö£π
->
sidx
 = sidx;

60 
rb_node
 **
_√w
 = &(
roŸ
->rb_node), *
∑ª¡
 = 
NULL
;

62 *
_√w
) {

63 
£g_rm≠_node_t
 *
node
 = 
	`c⁄èöî_of
(*
_√w
, seg_rmap_node_t,Çode);

64 
öçå_t
 
ªsu…
 =

65 (
öçå_t
)
node_to_ö£π
->
ba£_addr
 - (öçå_t)
node
->base_addr;

67 
∑ª¡
 = *
_√w
;

68 i‡(
ªsu…
 < 0)

69 
_√w
 = &((*_√w)->
rb_À·
);

70 i‡(
ªsu…
 > 0)

71 
_√w
 = &((*_√w)->
rb_right
);

77 
	`rb_lök_node
(&(
node_to_ö£π
->
node
), 
∑ª¡
, 
_√w
);

78 
	`rb_ö£π_cﬁ‹
(&(
node_to_ö£π
->
node
), 
roŸ
);

80 
	}
}

82 
	$£gmít_rm≠_ªmove
(
rb_roŸ
 *
roŸ
, 
uöt8_t
 *
addr
) {

83 
£g_rm≠_node_t
 *
node_to_‰ì
 = 
	`£gmít_rm≠_lookup
(
roŸ
, 
addr
);

86 i‡(
node_to_‰ì
)

87 
	`rb_îa£
(&(
node_to_‰ì
->
node
), 
roŸ
);

89 
	`FREE
(
node_to_‰ì
);

90 
	}
}

92 
	$rb_öô_node
(
rb_node
 *
rb
) {

93 
rb
->
rb_∑ª¡_cﬁ‹
 = 0;

94 
rb
->
rb_right
 = 
NULL
;

95 
rb
->
rb_À·
 = 
NULL
;

96 
	`RB_CLEAR_NODE
(
rb
);

97 
	}
}

99 
	$rb_£t_∑ª¡
(
rb_node
 *
rb
,Ñb_nodê*
p
) {

100 
rb
->
rb_∑ª¡_cﬁ‹
 =

101 (
rb
->
rb_∑ª¡_cﬁ‹
 & ()3Ë| ()
p
;

102 
	}
}

104 
	$rb_£t_cﬁ‹
(
rb_node
 *
rb
, 
cﬁ‹
) {

105 
rb
->
rb_∑ª¡_cﬁ‹
 = (rb->rb_∑ª¡_cﬁ‹ & ()~1Ë| 
cﬁ‹
;

106 
	}
}

108 
	$rb_lök_node
(
rb_node
 *
node
,Ñb_nodê*
∑ª¡
,Ñb_nodê**
rb_lök
) {

109 
node
->
rb_∑ª¡_cﬁ‹
 = ()
∑ª¡
;

110 
node
->
rb_À·
 =Çode->
rb_right
 = 
NULL
;

112 *
rb_lök
 = 
node
;

113 
	}
}

115 
	$rb_ö£π_cﬁ‹
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
) {

116 
rb_node
 *
∑ª¡
, *
g∑ª¡
;

118 (
∑ª¡
 = 
	`rb_∑ª¡
(
node
)Ë&& 
	`rb_is_ªd
(parent)) {

119 
g∑ª¡
 = 
	`rb_∑ª¡
(
∑ª¡
);

121 i‡(
∑ª¡
 =
g∑ª¡
->
rb_À·
) {

123 
rb_node
 *
un˛e
 = 
g∑ª¡
->
rb_right
;

124 i‡(
un˛e
 && 
	`rb_is_ªd
(uncle)) {

125 
	`rb_£t_bœck
(
un˛e
);

126 
	`rb_£t_bœck
(
∑ª¡
);

127 
	`rb_£t_ªd
(
g∑ª¡
);

128 
node
 = 
g∑ª¡
;

133 i‡(
∑ª¡
->
rb_right
 =
node
) {

134 
rb_node
 *
tmp
;

135 
	`__rb_rŸ©e_À·
(
∑ª¡
, 
roŸ
);

136 
tmp
 = 
∑ª¡
;

137 
∑ª¡
 = 
node
;

138 
node
 = 
tmp
;

141 
	`rb_£t_bœck
(
∑ª¡
);

142 
	`rb_£t_ªd
(
g∑ª¡
);

143 
	`__rb_rŸ©e_right
(
g∑ª¡
, 
roŸ
);

146 
rb_node
 *
un˛e
 = 
g∑ª¡
->
rb_À·
;

147 i‡(
un˛e
 && 
	`rb_is_ªd
(uncle)) {

148 
	`rb_£t_bœck
(
un˛e
);

149 
	`rb_£t_bœck
(
∑ª¡
);

150 
	`rb_£t_ªd
(
g∑ª¡
);

151 
node
 = 
g∑ª¡
;

156 i‡(
∑ª¡
->
rb_À·
 =
node
) {

157 
rb_node
 *
tmp
;

158 
	`__rb_rŸ©e_right
(
∑ª¡
, 
roŸ
);

159 
tmp
 = 
∑ª¡
;

160 
∑ª¡
 = 
node
;

161 
node
 = 
tmp
;

164 
	`rb_£t_bœck
(
∑ª¡
);

165 
	`rb_£t_ªd
(
g∑ª¡
);

166 
	`__rb_rŸ©e_À·
(
g∑ª¡
, 
roŸ
);

170 
	`rb_£t_bœck
(
roŸ
->
rb_node
);

171 
	}
}

173 
	$__rb_îa£_cﬁ‹
(
rb_node
 *
node
,Ñb_nodê*
∑ª¡
, 
rb_roŸ
 *
roŸ
) {

174 
rb_node
 *
Ÿhî
;

176 (!
node
 || 
	`rb_is_bœck
“ode)Ë&&Çodê!
roŸ
->
rb_node
) {

177 i‡(
∑ª¡
->
rb_À·
 =
node
) {

178 
Ÿhî
 = 
∑ª¡
->
rb_right
;

179 i‡(
	`rb_is_ªd
(
Ÿhî
)) {

180 
	`rb_£t_bœck
(
Ÿhî
);

181 
	`rb_£t_ªd
(
∑ª¡
);

182 
	`__rb_rŸ©e_À·
(
∑ª¡
, 
roŸ
);

183 
Ÿhî
 = 
∑ª¡
->
rb_right
;

185 i‡((!
Ÿhî
->
rb_À·
 || 
	`rb_is_bœck
(other->rb_left)) &&

186 (!
Ÿhî
->
rb_right
 || 
	`rb_is_bœck
(other->rb_right))) {

187 
	`rb_£t_ªd
(
Ÿhî
);

188 
node
 = 
∑ª¡
;

189 
∑ª¡
 = 
	`rb_∑ª¡
(
node
);

191 i‡(!
Ÿhî
->
rb_right
 || 
	`rb_is_bœck
(other->rb_right)) {

192 
	`rb_£t_bœck
(
Ÿhî
->
rb_À·
);

193 
	`rb_£t_ªd
(
Ÿhî
);

194 
	`__rb_rŸ©e_right
(
Ÿhî
, 
roŸ
);

195 
Ÿhî
 = 
∑ª¡
->
rb_right
;

197 
	`rb_£t_cﬁ‹
(
Ÿhî
, 
	`rb_cﬁ‹
(
∑ª¡
));

198 
	`rb_£t_bœck
(
∑ª¡
);

199 
	`rb_£t_bœck
(
Ÿhî
->
rb_right
);

200 
	`__rb_rŸ©e_À·
(
∑ª¡
, 
roŸ
);

201 
node
 = 
roŸ
->
rb_node
;

205 
Ÿhî
 = 
∑ª¡
->
rb_À·
;

206 i‡(
	`rb_is_ªd
(
Ÿhî
)) {

207 
	`rb_£t_bœck
(
Ÿhî
);

208 
	`rb_£t_ªd
(
∑ª¡
);

209 
	`__rb_rŸ©e_right
(
∑ª¡
, 
roŸ
);

210 
Ÿhî
 = 
∑ª¡
->
rb_À·
;

212 i‡((!
Ÿhî
->
rb_À·
 || 
	`rb_is_bœck
(other->rb_left)) &&

213 (!
Ÿhî
->
rb_right
 || 
	`rb_is_bœck
(other->rb_right))) {

214 
	`rb_£t_ªd
(
Ÿhî
);

215 
node
 = 
∑ª¡
;

216 
∑ª¡
 = 
	`rb_∑ª¡
(
node
);

218 i‡(!
Ÿhî
->
rb_À·
 || 
	`rb_is_bœck
(other->rb_left)) {

219 
	`rb_£t_bœck
(
Ÿhî
->
rb_right
);

220 
	`rb_£t_ªd
(
Ÿhî
);

221 
	`__rb_rŸ©e_À·
(
Ÿhî
, 
roŸ
);

222 
Ÿhî
 = 
∑ª¡
->
rb_À·
;

224 
	`rb_£t_cﬁ‹
(
Ÿhî
, 
	`rb_cﬁ‹
(
∑ª¡
));

225 
	`rb_£t_bœck
(
∑ª¡
);

226 
	`rb_£t_bœck
(
Ÿhî
->
rb_À·
);

227 
	`__rb_rŸ©e_right
(
∑ª¡
, 
roŸ
);

228 
node
 = 
roŸ
->
rb_node
;

233 i‡(
node
)

234 
	`rb_£t_bœck
(
node
);

235 
	}
}

237 
	$rb_îa£
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
) {

238 
rb_node
 *
chûd
, *
∑ª¡
;

239 
cﬁ‹
;

241 i‡(!
node
->
rb_À·
)

242 
chûd
 = 
node
->
rb_right
;

243 i‡(!
node
->
rb_right
)

244 
chûd
 = 
node
->
rb_À·
;

246 
rb_node
 *
ﬁd
 = 
node
, *
À·
;

248 
node
 =Çode->
rb_right
;

249 (
À·
 = 
node
->
rb_À·
Ë!
NULL
)

250 
node
 = 
À·
;

252 i‡(
	`rb_∑ª¡
(
ﬁd
)) {

253 i‡(
	`rb_∑ª¡
(
ﬁd
)->
rb_À·
 == old)

254 
	`rb_∑ª¡
(
ﬁd
)->
rb_À·
 = 
node
;

256 
	`rb_∑ª¡
(
ﬁd
)->
rb_right
 = 
node
;

258 
roŸ
->
rb_node
 = 
node
;

260 
chûd
 = 
node
->
rb_right
;

261 
∑ª¡
 = 
	`rb_∑ª¡
(
node
);

262 
cﬁ‹
 = 
	`rb_cﬁ‹
(
node
);

264 i‡(
∑ª¡
 =
ﬁd
) {

265 
∑ª¡
 = 
node
;

267 i‡(
chûd
)

268 
	`rb_£t_∑ª¡
(
chûd
, 
∑ª¡
);

269 
∑ª¡
->
rb_À·
 = 
chûd
;

271 
node
->
rb_right
 = 
ﬁd
->rb_right;

272 
	`rb_£t_∑ª¡
(
ﬁd
->
rb_right
, 
node
);

275 
node
->
rb_∑ª¡_cﬁ‹
 = 
ﬁd
->rb_parent_color;

276 
node
->
rb_À·
 = 
ﬁd
->rb_left;

277 
	`rb_£t_∑ª¡
(
ﬁd
->
rb_À·
, 
node
);

279 
cﬁ‹
;

282 
∑ª¡
 = 
	`rb_∑ª¡
(
node
);

283 
cﬁ‹
 = 
	`rb_cﬁ‹
(
node
);

285 i‡(
chûd
)

286 
	`rb_£t_∑ª¡
(
chûd
, 
∑ª¡
);

287 i‡(
∑ª¡
) {

288 i‡(
∑ª¡
->
rb_À·
 =
node
)

289 
∑ª¡
->
rb_À·
 = 
chûd
;

291 
∑ª¡
->
rb_right
 = 
chûd
;

293 
roŸ
->
rb_node
 = 
chûd
;

295 
cﬁ‹
:

296 i‡(
cﬁ‹
 =
RB_BLACK
)

297 
	`__rb_îa£_cﬁ‹
(
chûd
, 
∑ª¡
, 
roŸ
);

298 
	}
}

300 
	$__rb_rŸ©e_À·
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
) {

301 
rb_node
 *
right
 = 
node
->
rb_right
;

302 
rb_node
 *
∑ª¡
 = 
	`rb_∑ª¡
(
node
);

304 i‡((
node
->
rb_right
 = 
right
->
rb_À·
))

305 
	`rb_£t_∑ª¡
(
right
->
rb_À·
, 
node
);

306 
right
->
rb_À·
 = 
node
;

308 
	`rb_£t_∑ª¡
(
right
, 
∑ª¡
);

310 i‡(
∑ª¡
) {

311 i‡(
node
 =
∑ª¡
->
rb_À·
)

312 
∑ª¡
->
rb_À·
 = 
right
;

314 
∑ª¡
->
rb_right
 = 
right
;

316 
roŸ
->
rb_node
 = 
right
;

317 
	`rb_£t_∑ª¡
(
node
, 
right
);

318 
	}
}

320 
	$__rb_rŸ©e_right
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
) {

321 
rb_node
 *
À·
 = 
node
->
rb_À·
;

322 
rb_node
 *
∑ª¡
 = 
	`rb_∑ª¡
(
node
);

324 i‡((
node
->
rb_À·
 = 
À·
->
rb_right
))

325 
	`rb_£t_∑ª¡
(
À·
->
rb_right
, 
node
);

326 
À·
->
rb_right
 = 
node
;

328 
	`rb_£t_∑ª¡
(
À·
, 
∑ª¡
);

330 i‡(
∑ª¡
) {

331 i‡(
node
 =
∑ª¡
->
rb_right
)

332 
∑ª¡
->
rb_right
 = 
À·
;

334 
∑ª¡
->
rb_À·
 = 
À·
;

336 
roŸ
->
rb_node
 = 
À·
;

337 
	`rb_£t_∑ª¡
(
node
, 
À·
);

338 
	}
}

340 
rb_node
 *
	$rb_fú°
(c⁄° 
rb_roŸ
 *
roŸ
) {

341 
rb_node
 *
n
;

343 
n
 = 
roŸ
->
rb_node
;

344 i‡(!
n
)

345  
NULL
;

346 
n
->
rb_À·
)

347 
n
 =Ç->
rb_À·
;

348  
n
;

349 
	}
}

351 
rb_node
 *
	$rb_œ°
(c⁄° 
rb_roŸ
 *
roŸ
) {

352 
rb_node
 *
n
;

354 
n
 = 
roŸ
->
rb_node
;

355 i‡(!
n
)

356  
NULL
;

357 
n
->
rb_right
)

358 
n
 =Ç->
rb_right
;

359  
n
;

360 
	}
}

362 
rb_node
 *
	$rb_¥ev
(c⁄° 
rb_node
 *
node
) {

363 
rb_node
 *
∑ª¡
;

365 i‡(
	`rb_∑ª¡
(
node
) ==Çode)

366  
NULL
;

370 i‡(
node
->
rb_À·
) {

371 
node
 =Çode->
rb_À·
;

372 
node
->
rb_right
)

373 
node
 =Çode->
rb_right
;

374  (
rb_node
 *)
node
;

379 (
∑ª¡
 = 
	`rb_∑ª¡
(
node
)Ë&&Çodê=∑ª¡->
rb_À·
)

380 
node
 = 
∑ª¡
;

382  
∑ª¡
;

383 
	}
}

385 
rb_node
 *
	$rb_√xt
(c⁄° 
rb_node
 *
node
) {

386 
rb_node
 *
∑ª¡
;

388 i‡(
	`rb_∑ª¡
(
node
) ==Çode)

389  
NULL
;

393 i‡(
node
->
rb_right
) {

394 
node
 =Çode->
rb_right
;

395 
node
->
rb_À·
)

396 
node
 =Çode->
rb_À·
;

397  (
rb_node
 *)
node
;

406 (
∑ª¡
 = 
	`rb_∑ª¡
(
node
)Ë&&Çodê=∑ª¡->
rb_right
)

407 
node
 = 
∑ª¡
;

409  
∑ª¡
;

410 
	}
}

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-rmap-rb.h

16 #i‚de‡
JMEM_HEAP_SEGMENTED_RB_H


17 
	#JMEM_HEAP_SEGMENTED_RB_H


	)

19 
	~"jmem-c⁄fig.h
"

20 
	~"jmem-hóp-£gmíãd-rm≠-rb-node.h
"

21 
	~"jπ.h
"

23 #ifde‡
JMEM_SEGMENTED_HEAP


24 #ifde‡
SEG_RMAP_BINSEARCH


26 
	#c⁄èöî_of
(
±r
, 
ty≥
, 
membî
) \

27 ((
ty≥
 *)(((*)(
±r
)Ë- ((*)(&(—y≥ *)0)->
membî
))))

	)

29 
	s_£g_node
 {

30 
rb_node
 
	mnode
;

31 
uöt8_t
 *
	mba£_addr
;

32 
uöt32_t
 
	msidx
;

33 } 
	t£g_rm≠_node_t
;

35 
£g_rm≠_node_t
 *
£gmít_rm≠_lookup
(
rb_roŸ
 *
roŸ
, 
uöt8_t
 *
addr
);

36 
£gmít_rm≠_ö£π
(
rb_roŸ
 *
roŸ
, 
uöt8_t
 *
£gmít_¨ó
,

37 
uöt32_t
 
sidx
);

38 
£gmít_rm≠_ªmove
(
rb_roŸ
 *
roŸ
, 
uöt8_t
 *
ba£_addr
);

40 
rb_öô_node
(
rb_node
 *
rb
);

41 
rb_£t_∑ª¡
(
rb_node
 *
rb
,Ñb_nodê*
p
);

42 
rb_£t_cﬁ‹
(
rb_node
 *
rb
, 
cﬁ‹
);

43 
rb_lök_node
(
rb_node
 *
node
,Ñb_nodê*
∑ª¡
,Ñb_nodê**
rb_lök
);

45 
rb_ö£π_cﬁ‹
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
);

46 
__rb_îa£_cﬁ‹
(
rb_node
 *
node
,Ñb_nodê*
∑ª¡
, 
rb_roŸ
 *
roŸ
);

47 
rb_îa£
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
);

48 
__rb_rŸ©e_À·
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
);

49 
__rb_rŸ©e_right
(
rb_node
 *
node
, 
rb_roŸ
 *
roŸ
);

51 
rb_node
 *
rb_fú°
(c⁄° 
rb_roŸ
 *
roŸ
);

52 
rb_node
 *
rb_œ°
(c⁄° 
rb_roŸ
 *
roŸ
);

53 
rb_node
 *
rb_¥ev
(c⁄°Ñb_nodê*
node
);

54 
rb_node
 *
rb_√xt
(c⁄°Ñb_nodê*
node
);

56 
	#RB_ROOT
 \

57 (
rb_roŸ
) { \

58 
NULL
, \

59 }

	)

60 
	#rb_íåy
(
±r
, 
ty≥
, 
membî
Ë
	`c⁄èöî_of
’å,Åy≥, membî)

	)

62 
	#RB_EMPTY_ROOT
(
roŸ
Ë(‘oŸ)->
rb_node
 =
NULL
)

	)

63 
	#RB_EMPTY_NODE
(
node
Ë(
	`rb_∑ª¡
“odeË=node)

	)

64 
	#RB_CLEAR_NODE
(
node
Ë(
	`rb_£t_∑ª¡
“ode,Çode))

	)

66 
	#rb_∑ª¡
(
r
Ë((
rb_node
 *)(‘)->
rb_∑ª¡_cﬁ‹
 & ()~3))

	)

67 
	#rb_cﬁ‹
(
r
Ë(‘)->
rb_∑ª¡_cﬁ‹
 & ()1)

	)

68 
	#rb_is_ªd
(
r
Ë(!
	`rb_cﬁ‹
‘))

	)

69 
	#rb_is_bœck
(
r
Ë
	`rb_cﬁ‹
‘)

	)

70 
	#rb_£t_ªd
(
r
) \

72 (
r
)->
rb_∑ª¡_cﬁ‹
 &= ()~1; \

73 } 0)

	)

74 
	#rb_£t_bœck
(
r
) \

76 (
r
)->
rb_∑ª¡_cﬁ‹
 |= ()1; \

77 } 0)

	)

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented.c

16 
	~"jc⁄ãxt.h
"

17 
	~"jmem.h
"

18 
	~"jπ.h
"

20 
	~<°dlib.h
>

21 
	#MALLOC
(
size
Ë((*)
	`mÆloc
(size))

	)

22 
	#FREE
(
±r
Ë(
	`‰ì
((*Ìå))

	)

24 
	~"jmem-hóp-£gmíãd.h
"

26 
	~"˝é-rm≠-ˇche.h
"

27 
	~"jmem-hóp-£gmíãd-˝é.h
"

28 
	~"jmem-hóp-£gmíãd-rm≠-rb.h
"

30 #ifde‡
JMEM_SEGMENTED_HEAP


33 *
Æloc_a_£gmít_group_öã∫Æ
(
size_t
 
ªquúed_size
,

34 
uöt32_t
 *
°¨t_sidx_out
);

37 
	$öô_£gmíãd_hóp
() {

39 
uöt32_t
 
sidx
 = 0; sidx < 
SEG_NUM_SEGMENTS
; sidx++) {

40 
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]).
occupõd_size
 = 0;

41 
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]).
group_num_£gmíts
 = 0;

45 
	`öô_˝é
();

48 
uöt32_t
 
°¨t_sidx
;

49 
	`Æloc_a_£gmít_group_öã∫Æ
(
JMEM_ALIGNMENT
, &
°¨t_sidx
);

50 
	`JERRY_ASSERT
(
°¨t_sidx
 == 0);

51 
	}
}

53 
uöt32_t
 
	$__föd_√w_£gmít_group_ªgi⁄
(

54 
uöt32_t
 
ªquúed_num_£gmíts
) {

55 
uöt32_t
 
max_°¨t_sidx
 = (uöt32_t)
SEG_NUM_SEGMENTS
 - 
ªquúed_num_£gmíts
;

56 
uöt32_t
 
°¨t_sidx
 = 0; sèπ_sidx <
max_°¨t_sidx
; start_sidx++) {

57 
boﬁ
 
is_√w_¨ó_found
 = 
åue
;

58 
uöt32_t
 
íd_sidx
 = 
°¨t_sidx
 + 
ªquúed_num_£gmíts
 - 1;

59 
uöt32_t
 
sidx
 = 
°¨t_sidx
; sidx <
íd_sidx
; sidx++) {

60 i‡(
	`JERRY_HEAP_CONTEXT
(
¨ó
[
sidx
]Ë!
NULL
) {

61 
is_√w_¨ó_found
 = 
Ál£
;

65 i‡(
is_√w_¨ó_found
) {

66  
°¨t_sidx
;

69  
SEG_NUM_SEGMENTS
;

70 
	}
}

72 
uöt32_t
 
	$gë_ªquúed_num_£gmíts
(
size_t
 
ªquúed_size
) {

73  ((
uöt32_t
)
ªquúed_size
 + 
SEG_SEGMENT_SIZE
 - 
JMEM_ALIGNMENT
) /

74 
SEG_SEGMENT_SIZE
;

75 
	}
}

77 *
	$Æloc_a_£gmít_group_öã∫Æ
(
size_t
 
ªquúed_size
,

78 
uöt32_t
 *
°¨t_sidx_out
) {

80 
uöt32_t
 
ªquúed_num_£gmíts
 = 
	`gë_ªquúed_num_£gmíts
(
ªquúed_size
);

81 
uöt32_t
 
£gmít_group_size
 = 
SEG_SEGMENT_SIZE
 * 
ªquúed_num_£gmíts
;

84 i‡(
	`JERRY_HEAP_CONTEXT
(
£gmíts_cou¡
Ë+ 
ªquúed_num_£gmíts
 >

85 
SEG_NUM_SEGMENTS
)

86  
NULL
;

89 
uöt32_t
 
°¨t_sidx
 = 
	`__föd_√w_£gmít_group_ªgi⁄
(
ªquúed_num_£gmíts
);

90 i‡(
°¨t_sidx
 >
SEG_NUM_SEGMENTS
)

91  
NULL
;

94 
uöt8_t
 *
£gmít_group_¨ó
 = 
	`MALLOC
(
£gmít_group_size
);

95 i‡(
£gmít_group_¨ó
 =
NULL
)

96  
NULL
;

99 
uöt32_t
 
£g_no
 = 0; seg_nÿ< 
ªquúed_num_£gmíts
; seg_no++) {

100 
uöt32_t
 
sidx
 = 
°¨t_sidx
 + 
£g_no
;

102 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]);

103 
uöt8_t
 *
£gmít_¨ó
 = 
£gmít_group_¨ó
 + (
SEG_SEGMENT_SIZE
 * 
£g_no
);

106 
	`JERRY_HEAP_CONTEXT
(
¨ó
[
sidx
]Ë
£gmít_¨ó
;

108 #ifde‡
SEG_RMAP_BINSEARCH


110 
	`£gmít_rm≠_ö£π
(&
	`JERRY_HEAP_CONTEXT
(
£gmít_rm≠_rb_roŸ
), 
£gmít_¨ó
,

111 
sidx
);

115 i‡(
sidx
 =
°¨t_sidx
) {

116 
£gmít_hódî
->
group_num_£gmíts
 = 
ªquúed_num_£gmíts
;

118 
£gmít_hódî
->
group_num_£gmíts
 = 0;

120 
£gmít_hódî
->
occupõd_size
 = 0;

124 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
) +=

125 
SEG_SEGMENT_SIZE
 * 
ªquúed_num_£gmíts
;

126 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) +=

127 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

130 
	`JERRY_HEAP_CONTEXT
(
£gmíts_cou¡
Ë+
ªquúed_num_£gmíts
;

132 *
°¨t_sidx_out
 = 
°¨t_sidx
;

133  (*)
£gmít_group_¨ó
;

134 
	}
}

136 *
	$Æloc_a_£gmít_group
(
size_t
 
ªquúed_size
) {

137 
uöt32_t
 
°¨t_sidx
;

138 
uöt8_t
 *
£gmít_group_¨ó
 =

139 (
uöt8_t
 *)
	`Æloc_a_£gmít_group_öã∫Æ
(
ªquúed_size
, &
°¨t_sidx
);

140 i‡(
£gmít_group_¨ó
 =
NULL
)

141  
NULL
;

142 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
°¨t_sidx
]);

143 
uöt32_t
 
ªquúed_num_£gmíts
 = 
£gmít_hódî
->
group_num_£gmíts
;

146 
jmem_hóp_‰ì_t
 *
¥ev_p
 = &
	`JERRY_HEAP_CONTEXT
(
fú°
);

147 
uöt32_t
 
cuº_off£t
 = 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
;

148 
jmem_hóp_‰ì_t
 *
cuºít_p
 =

149 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
);

150 
uöt32_t
 
£gmít_group_off£t
 =

151 (
uöt32_t
)
°¨t_sidx
 * (uöt32_t)
SEG_SEGMENT_SIZE
;

152 
cuºít_p
 !
JMEM_HEAP_END_OF_LIST
 &&

153 
cuº_off£t
 < 
£gmít_group_off£t
) {

154 
¥ev_p
 = 
cuºít_p
;

155 
cuº_off£t
 = 
cuºít_p
->
√xt_off£t
;

156 
cuºít_p
 = 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
cuº_off£t
);

158 
jmem_hóp_‰ì_t
 *
£gmít_group_ªgi⁄
 =

159 (
jmem_hóp_‰ì_t
 *)
£gmít_group_¨ó
;

160 
£gmít_group_ªgi⁄
->
size
 = 
SEG_SEGMENT_SIZE
 * 
ªquúed_num_£gmíts
;

161 
£gmít_group_ªgi⁄
->
√xt_off£t
 = 
¥ev_p
->next_offset;

162 
¥ev_p
->
√xt_off£t
 = 
£gmít_group_off£t
;

164  (*)
£gmít_group_ªgi⁄
;

165 
	}
}

167 
	$‰ì_em±y_£gmít_groups
() {

169 
uöt32_t
 
°¨t_sidx
 = 1; sèπ_sidx < 
SEG_NUM_SEGMENTS
; start_sidx++) {

171 
jmem_hóp_‰ì_t
 *
£gmít_group_ªgi⁄
 =

172 (
jmem_hóp_‰ì_t
 *)
	`JERRY_HEAP_CONTEXT
(
¨ó
[
°¨t_sidx
]);

173 
jmem_£gmít_t
 *
£gmít_group_hódî
 =

174 &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
°¨t_sidx
]);

175 i‡(
£gmít_group_ªgi⁄
 =
NULL
 ||

176 
£gmít_group_hódî
->
group_num_£gmíts
 == 0)

180 
boﬁ
 
is_‰ì_£gmít_group
 = 
åue
;

181 
uöt32_t
 
íd_sidx
 =

182 
°¨t_sidx
 + 
£gmít_group_hódî
->
group_num_£gmíts
 - 1;

183 
uöt32_t
 
sidx
 = 
°¨t_sidx
; sidx <
íd_sidx
; sidx++) {

184 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]);

185 i‡(
£gmít_hódî
->
occupõd_size
 > 0)

186 
is_‰ì_£gmít_group
 = 
Ál£
;

189 i‡(!
is_‰ì_£gmít_group
)

195 
uöt32_t
 
group_num_£gmíts
 = 
£gmít_group_hódî
->group_num_segments;

197 
	`JERRY_ASSERT
(
£gmít_group_ªgi⁄
->
size
 ==

198 
SEG_SEGMENT_SIZE
 * 
group_num_£gmíts
);

201 
	`JERRY_HEAP_CONTEXT
(
£gmíts_cou¡
Ë-
group_num_£gmíts
;

204 
uöt32_t
 
cuº_off£t
 = 
	`JERRY_HEAP_CONTEXT
(
fú°
).
√xt_off£t
;

205 
jmem_hóp_‰ì_t
 *
cuºít_p
 =

206 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
cuº_off£t
);

207 
jmem_hóp_‰ì_t
 *
¥ev_p
 = &
	`JERRY_HEAP_CONTEXT
(
fú°
);

208 
uöt32_t
 
£gmít_group_off£t
 =

209 (
uöt32_t
)
°¨t_sidx
 * (uöt32_t)
SEG_SEGMENT_SIZE
;

210 
cuºít_p
 !
JMEM_HEAP_END_OF_LIST
 &&

211 
cuº_off£t
 < 
£gmít_group_off£t
) {

212 
¥ev_p
 = 
cuºít_p
;

213 
cuº_off£t
 = 
cuºít_p
->
√xt_off£t
;

214 
cuºít_p
 = 
	`JMEM_DECOMPRESS_POINTER_INTERNAL
(
cuº_off£t
);

216 
	`JERRY_ASSERT
(
cuº_off£t
 =
£gmít_group_off£t
);

217 
¥ev_p
->
√xt_off£t
 = 
cuºít_p
->next_offset;

220 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
) -=

221 
SEG_SEGMENT_SIZE
 * 
group_num_£gmíts
;

222 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) -=

223 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

226 
uöt32_t
 
sidx
 = 
°¨t_sidx
; sidx <
íd_sidx
; sidx++) {

227 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[
sidx
]);

228 
uöt8_t
 *
£gmít_¨ó
 = 
	`sidx_to_addr
(
sidx
);

231 
£gmít_hódî
->
group_num_£gmíts
 = 0;

232 
£gmít_hódî
->
occupõd_size
 = 0;

234 #ifde‡
SEG_RMAP_BINSEARCH


236 
	`£gmít_rm≠_ªmove
(&
	`JERRY_HEAP_CONTEXT
(
£gmít_rm≠_rb_roŸ
),

237 
£gmít_¨ó
);

239 
	`JERRY_UNUSED
(
£gmít_¨ó
);

242 #ifde‡
SEG_RMAP_CACHE


244 
	`övÆid©e_rm≠_ˇche_íåy
(
sidx
);

245 #ifde‡
SEG_RMAP_2LEVEL_SEARCH


246 
	`övÆid©e_fifo_ˇche_íåy
(
sidx
);

251 
	`JERRY_HEAP_CONTEXT
(
¨ó
[
sidx
]Ë
NULL
;

255 
	`FREE
(
£gmít_group_ªgi⁄
);

258 
	}
}

260 
	$‰ì_öôül_£gmít_group
() {

261 
jmem_hóp_‰ì_t
 *
£gmít_group_ªgi⁄
 = 
	`JERRY_HEAP_CONTEXT
(
¨ó
[0]);

262 
jmem_£gmít_t
 *
£gmít_hódî
 = &
	`JERRY_HEAP_CONTEXT
(
£gmíts
[0]);

264 
	`FREE
(
£gmít_group_ªgi⁄
);

267 
	`JERRY_HEAP_CONTEXT
(
£gmíts_cou¡
)--;

270 
£gmít_hódî
->
group_num_£gmíts
 = 0;

271 
£gmít_hódî
->
occupõd_size
 = 0;

273 #ifde‡
SEG_RMAP_BINSEARCH


275 
	`£gmít_rm≠_ªmove
(&
	`JERRY_HEAP_CONTEXT
(
£gmít_rm≠_rb_roŸ
),

276 
£gmít_group_ªgi⁄
);

280 
	`JERRY_CONTEXT
(
jmem_Æloˇãd_hóp_size
Ë-
SEG_SEGMENT_SIZE
;

281 
	`JERRY_CONTEXT
(
jmem_sy°em_Æloˇt‹_mëad©a_size
) -=

282 
SYSTEM_ALLOCATOR_METADATA_SIZE
;

283 
	}
}

	@deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented.h

16 #i‚de‡
JMEM_HEAP_SEGMENTED_H


17 
	#JMEM_HEAP_SEGMENTED_H


	)

19 
	~"jc⁄ãxt.h
"

20 
	~"jmem-c⁄fig.h
"

21 
	~"jπ.h
"

23 #ifde‡
JMEM_SEGMENTED_HEAP


24 
öô_£gmíãd_hóp
();

25 *
Æloc_a_£gmít_group
(
size_t
 
ªquúed_size
);

26 
‰ì_em±y_£gmít_groups
();

27 
‰ì_öôül_£gmít_group
();

	@deps/jerry/jerry-core/jrt/jrt-bit-fields.h

16 #i‚de‡
JRT_BIT_FIELDS_H


17 
	#JRT_BIT_FIELDS_H


	)

28 
	#JRT_EXTRACT_BIT_FIELD
(
ty≥
, 
c⁄èöî
, 
lsb
, 
width
) \

29 (((
c⁄èöî
Ë>> 
lsb
Ë& ((((
ty≥
Ë1Ë<< (
width
)Ë- 1))

	)

41 
	#JRT_SET_BIT_FIELD_VALUE
(
ty≥
, 
c⁄èöî
, 
√w_bô_fõld_vÆue
, 
lsb
, 
width
) \

42 (((
c⁄èöî
Ë& ~(((((
ty≥
Ë1Ë<< (
width
)Ë- 1Ë<< (
lsb
))Ë| ((—y≥Ë
√w_bô_fõld_vÆue
Ë<< (lsb)))

	)

	@deps/jerry/jerry-core/jrt/jrt-fatals.c

20 
	~"jπ.h
"

21 
	~"jπ-libc-ö˛udes.h
"

29 
__n‹ëu∫


30 
	$jîry_Áèl
 (
jîry_Áèl_code_t
 
code
)

32 #i‚de‡
JERRY_NDEBUG


33 
code
)

35 
ERR_OUT_OF_MEMORY
:

37 
	`JERRY_ERROR_MSG
 ("Error: ERR_OUT_OF_MEMORY\n");

40 
ERR_SYSCALL
:

45 
ERR_REF_COUNT_LIMIT
:

47 
	`JERRY_ERROR_MSG
 ("Error: ERR_REF_COUNT_LIMIT\n");

50 
ERR_FAILED_INTERNAL_ASSERTION
:

52 
	`JERRY_ERROR_MSG
 ("Error: ERR_FAILED_INTERNAL_ASSERTION\n");

58 
	`jîry_p‹t_Áèl
 (
code
);

61 
åue
)

64 
	}
}

66 #i‚de‡
JERRY_NDEBUG


70 
__n‹ëu∫


71 
	$jîry_as£π_Áû
 (c⁄° *
as£πi⁄
,

72 c⁄° *
fûe
,

73 c⁄° *
fun˘i⁄
,

74 c⁄° 
uöt32_t
 
löe
)

76 
	`JERRY_ERROR_MSG
 ("ICE: Assertion '%s' failedát %s(%s):%lu.\n",

77 
as£πi⁄
,

78 
fûe
,

79 
fun˘i⁄
,

80 (Ë
löe
);

82 
	`jîry_Áèl
 (
ERR_FAILED_INTERNAL_ASSERTION
);

83 
	}
}

88 
__n‹ëu∫


89 
	$jîry_uƒóchabÀ
 (c⁄° *
fûe
,

90 c⁄° *
fun˘i⁄
,

91 c⁄° 
uöt32_t
 
löe
)

93 
	`JERRY_ERROR_MSG
 ("ICE: Unreachable controlÖathát %s(%s):%lu wasÉxecuted.\n",

94 
fûe
,

95 
fun˘i⁄
,

96 (Ë
löe
);

98 
	`jîry_Áèl
 (
ERR_FAILED_INTERNAL_ASSERTION
);

99 
	}
}

	@deps/jerry/jerry-core/jrt/jrt-libc-includes.h

16 #i‚de‡
JRT_LIBC_INCLUDES_H


17 
	#JRT_LIBC_INCLUDES_H


	)

19 
	~<˘y≥.h
>

20 
	~<£tjmp.h
>

21 
	~<°d¨g.h
>

22 
	~<°dio.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

	@deps/jerry/jerry-core/jrt/jrt-types.h

16 #i‚de‡
JRT_TYPES_H


17 
	#JRT_TYPES_H


	)

19 
	~<Êﬂt.h
>

20 
	~<°dboﬁ.h
>

21 
	~<°ddef.h
>

22 
	~<°döt.h
>

	@deps/jerry/jerry-core/jrt/jrt.h

16 #i‚de‡
JRT_H


17 
	#JRT_H


	)

19 
	~<°dio.h
>

20 
	~<°rög.h
>

22 
	~"jîrys¸ùt-p‹t.h
"

23 
	~"jπ-ty≥s.h
"

28 
	#__n‹ëu∫
 
	`__©åibuã__
((
n‹ëu∫
))

	)

29 
	#__©å_noölöe___
 
	`__©åibuã__
((
noölöe
))

	)

30 
	#__©å_ªtu∫_vÆue_should_be_checked___
 
	`__©åibuã__
((
w¨n_unu£d_ªsu…
))

	)

31 
	#__©å_hŸ___
 
	`__©åibuã__
((
hŸ
))

	)

32 #i‚de‡
__©å_Æways_ölöe___


33 
	#__©å_Æways_ölöe___
 
	`__©åibuã__
((
Æways_ölöe
))

	)

35 #i‚de‡
__©å_c⁄°___


36 
	#__©å_c⁄°___
 
	`__©åibuã__
((c⁄°))

	)

38 #i‚de‡
__©å_puª___


39 
	#__©å_puª___
 
	`__©åibuã__
((
puª
))

	)

45 #ifde‡
__GNUC__


46 
	#likñy
(
x
Ë
	`__buûtö_ex≥˘
(!!(x), 1)

	)

47 
	#u∆ikñy
(
x
Ë
	`__buûtö_ex≥˘
(!!(x), 0)

	)

49 
	#likñy
(
x
Ë(x)

	)

50 
	#u∆ikñy
(
x
Ë(x)

	)

60 #i‚de‡
JERRY_CONST_DATA


61 
	#JERRY_CONST_DATA


	)

67 
	#JERRY_BITSINBYTE
 8

	)

72 
	#JERRY_UNUSED
(
x
Ë((Ë(x))

	)

82 
	#JERRY_STATIC_ASSERT_GLUE_
(
a
, 
b
, 
c
Ë®## b ## 
_
 ## 
	)
c

83 
	#JERRY_STATIC_ASSERT_GLUE
(
a
, 
b
, 
c
Ë
	`JERRY_STATIC_ASSERT_GLUE_
 (a, b, c)

	)

84 
	#JERRY_STATIC_ASSERT
(
x
, 
msg
) \

85 íum { 
	`JERRY_STATIC_ASSERT_GLUE
 (
°©ic_as£πi⁄_Áûed_
, 
__LINE__
, 
msg
Ë1 / (!!(
x
)Ë}

	)

87 #i‚de‡
JERRY_NDEBUG


88 
__n‹ëu∫
 
jîry_as£π_Áû
 (c⁄° *
as£πi⁄
, c⁄° *
fûe
, c⁄° *
fun˘i⁄
, c⁄° 
uöt32_t
 
löe
);

89 
__n‹ëu∫
 
jîry_uƒóchabÀ
 (c⁄° *
fûe
, c⁄° *
fun˘i⁄
, c⁄° 
uöt32_t
 
löe
);

91 
	#JERRY_ASSERT
(
x
) \

94 i‡(
	`u∆ikñy
 (!(
x
))) \

96 
	`jîry_as£π_Áû
 (#x, 
__FILE__
, 
__func__
, 
__LINE__
); \

98 } 0)

	)

100 
	#JERRY_UNREACHABLE
() \

103 
	`jîry_uƒóchabÀ
 (
__FILE__
, 
__func__
, 
__LINE__
); \

104 } 0)

	)

106 
	#JERRY_ASSERT
(
x
) \

109 i‡(
Ál£
) \

111 
	`JERRY_UNUSED
 (
x
); \

113 } 0)

	)

115 #ifde‡
__GNUC__


116 
	#JERRY_UNREACHABLE
(Ë
	`__buûtö_uƒóchabÀ
 ()

	)

118 
	#JERRY_UNREACHABLE
()

	)

125 
__n‹ëu∫
 
jîry_Áèl
 (
jîry_Áèl_code_t
 
code
);

130 
	#JERRY_ERROR_MSG
(...Ë
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, 
__VA_ARGS__
)

	)

131 
	#JERRY_WARNING_MSG
(...Ë
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_WARNING
, 
__VA_ARGS__
)

	)

132 
	#JERRY_DEBUG_MSG
(...Ë
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, 
__VA_ARGS__
)

	)

133 
	#JERRY_TRACE_MSG
(...Ë
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_TRACE
, 
__VA_ARGS__
)

	)

138 
	#JERRY_SIZE_OF_STRUCT_MEMBER
(
°ru˘_«me
, 
membî_«me
Ë (((°ru˘_«mê*Ë
NULL
)->membî_«me)

	)

145 
	#JERRY_ALIGNUP
(
vÆue
, 
Æignmít
Ë(((vÆueË+ (◊lignmítË- 1)Ë& ~(◊lignmítË- 1))

	)

150 
	#JERRY_MIN
(
v1
, 
v2
Ë(((v1Ë< (v2)Ë? (v1Ë: (v2))

	)

151 
	#JERRY_MAX
(
v1
, 
v2
Ë(((v1Ë< (v2)Ë? (v2Ë: (v1))

	)

	@deps/jerry/jerry-core/lit/lit-char-helpers.c

16 
	~"lô-ch¨-hñ≥rs.h
"

17 
	~"lô/lô-unicode-ønges.öc.h
"

18 
	~"lô-°rögs.h
"

20 #i‚de‡
CONFIG_DISABLE_UNICODE_CASE_CONVERSION


21 
	~"lô-unicode-c⁄vîsi⁄s.öc.h
"

24 
	#NUM_OF_ELEMENTS
(
¨øy
Ë( (¨øyË/  (◊ºay)[0]))

	)

33 
boﬁ


34 
	$£¨ch_ch¨_ö_ch¨_¨øy
 (
ecma_ch¨_t
 
c
,

35 c⁄° 
ecma_ch¨_t
 *
¨øy
,

36 
size_of_¨øy
)

38 
bŸtom
 = 0;

39 
t›
 = 
size_of_¨øy
 - 1;

41 
bŸtom
 <
t›
)

43 
middÀ
 = (
bŸtom
 + 
t›
) / 2;

44 
ecma_ch¨_t
 
cuºít
 = 
¨øy
[
middÀ
];

46 i‡(
cuºít
 =
c
)

48  
åue
;

51 i‡(
c
 < 
cuºít
)

53 
t›
 = 
middÀ
 - 1;

57 
bŸtom
 = 
middÀ
 + 1;

61  
Ál£
;

62 
	}
}

72 
boﬁ


73 
	$£¨ch_ch¨_ö_öãrvÆ_¨øy
 (
ecma_ch¨_t
 
c
,

74 c⁄° 
ecma_ch¨_t
 *
¨øy_•
,

75 c⁄° 
uöt8_t
 *
Àngths
,

76 
size_of_¨øy
)

78 
bŸtom
 = 0;

79 
t›
 = 
size_of_¨øy
 - 1;

81 
bŸtom
 <
t›
)

83 
middÀ
 = (
bŸtom
 + 
t›
) / 2;

84 
ecma_ch¨_t
 
cuºít_•
 = 
¨øy_•
[
middÀ
];

86 i‡(
cuºít_•
 <
c
 && c <cuºít_• + 
Àngths
[
middÀ
])

88  
åue
;

91 i‡(
c
 > 
cuºít_•
)

93 
bŸtom
 = 
middÀ
 + 1;

97 
t›
 = 
middÀ
 - 1;

101  
Ál£
;

102 
	}
}

110 
boﬁ


111 
	$lô_ch¨_is_f‹m©_c⁄åﬁ
 (
ecma_ch¨_t
 
c
)

113  (
c
 =
LIT_CHAR_ZWNJ


114 || 
c
 =
LIT_CHAR_ZWJ


115 || 
c
 =
LIT_CHAR_BOM
);

116 
	}
}

125 
boﬁ


126 
	$lô_ch¨_is_whôe_•a˚
 (
ecma_ch¨_t
 
c
)

128 i‡(
c
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

130  (
c
 =
LIT_CHAR_TAB


131 || 
c
 =
LIT_CHAR_VTAB


132 || 
c
 =
LIT_CHAR_FF


133 || 
c
 =
LIT_CHAR_SP
);

137  (
c
 =
LIT_CHAR_NBSP


138 || 
c
 =
LIT_CHAR_BOM


139 || (
c
 >
lô_unicode_£∑øt‹_ch¨_öãrvÆ_•s
[0]

140 && 
c
 <
lô_unicode_£∑øt‹_ch¨_öãrvÆ_•s
[0] + 
lô_unicode_£∑øt‹_ch¨_öãrvÆ_Àngths
[0])

141 || 
	`£¨ch_ch¨_ö_ch¨_¨øy
 (
c
,

142 
lô_unicode_£∑øt‹_ch¨s
,

143 
	`NUM_OF_ELEMENTS
 (
lô_unicode_£∑øt‹_ch¨s
)));

145 
	}
}

153 
boﬁ


154 
	$lô_ch¨_is_löe_ãrmö©‹
 (
ecma_ch¨_t
 
c
)

156  (
c
 =
LIT_CHAR_LF


157 || 
c
 =
LIT_CHAR_CR


158 || 
c
 =
LIT_CHAR_LS


159 || 
c
 =
LIT_CHAR_PS
);

160 
	}
}

180 
boﬁ


181 
	$lô_ch¨_is_unicode_Àâî
 (
ecma_ch¨_t
 
c
)

183  (
	`£¨ch_ch¨_ö_öãrvÆ_¨øy
 (
c
,

184 
lô_unicode_Àâî_öãrvÆ_•s
,

185 
lô_unicode_Àâî_öãrvÆ_Àngths
,

186 
	`NUM_OF_ELEMENTS
 (
lô_unicode_Àâî_öãrvÆ_•s
))

187 || 
	`£¨ch_ch¨_ö_ch¨_¨øy
 (
c
, 
lô_unicode_Àâî_ch¨s
, 
	`NUM_OF_ELEMENTS
 (lit_unicode_letter_chars)));

188 
	}
}

204 
boﬁ


205 
	$lô_ch¨_is_unicode_n⁄_Àâî_idít_∑π
 (
ecma_ch¨_t
 
c
)

207  (
	`£¨ch_ch¨_ö_öãrvÆ_¨øy
 (
c
,

208 
lô_unicode_n⁄_Àâî_idít_∑π_öãrvÆ_•s
,

209 
lô_unicode_n⁄_Àâî_idít_∑π_öãrvÆ_Àngths
,

210 
	`NUM_OF_ELEMENTS
 (
lô_unicode_n⁄_Àâî_idít_∑π_öãrvÆ_•s
))

211 || 
	`£¨ch_ch¨_ö_ch¨_¨øy
 (
c
,

212 
lô_unicode_n⁄_Àâî_idít_∑π_ch¨s
,

213 
	`NUM_OF_ELEMENTS
 (
lô_unicode_n⁄_Àâî_idít_∑π_ch¨s
)));

214 
	}
}

221 
boﬁ


222 
	$lô_ch¨_is_idítifõr_°¨t
 (c⁄° 
uöt8_t
 *
§c_p
)

224 i‡(*
§c_p
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

226  
	`lô_ch¨_is_idítifõr_°¨t_ch¨a˘î
 (*
§c_p
);

232 i‡((*
§c_p
 & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

234  
Ál£
;

237  
	`lô_ch¨_is_idítifõr_°¨t_ch¨a˘î
 (
	`lô_utf8_≥ek_√xt
 (
§c_p
));

238 
	}
}

245 
boﬁ


246 
	$lô_ch¨_is_idítifõr_°¨t_ch¨a˘î
 (
uöt16_t
 
chr
)

249 i‡(
chr
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

251  ((
	`LEXER_TO_ASCII_LOWERCASE
 (
chr
Ë>
LIT_CHAR_LOWERCASE_A


252 && 
	`LEXER_TO_ASCII_LOWERCASE
 (
chr
Ë<
LIT_CHAR_LOWERCASE_Z
)

253 || 
chr
 =
LIT_CHAR_DOLLAR_SIGN


254 || 
chr
 =
LIT_CHAR_UNDERSCORE
);

257  
	`lô_ch¨_is_unicode_Àâî
 (
chr
);

258 
	}
}

265 
boﬁ


266 
	$lô_ch¨_is_idítifõr_∑π
 (c⁄° 
uöt8_t
 *
§c_p
)

268 i‡(*
§c_p
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

270  
	`lô_ch¨_is_idítifõr_∑π_ch¨a˘î
 (*
§c_p
);

276 i‡((*
§c_p
 & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

278  
Ál£
;

281  
	`lô_ch¨_is_idítifõr_∑π_ch¨a˘î
 (
	`lô_utf8_≥ek_√xt
 (
§c_p
));

282 
	}
}

289 
boﬁ


290 
	$lô_ch¨_is_idítifõr_∑π_ch¨a˘î
 (
uöt16_t
 
chr
)

293 i‡(
chr
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

295  ((
	`LEXER_TO_ASCII_LOWERCASE
 (
chr
Ë>
LIT_CHAR_LOWERCASE_A


296 && 
	`LEXER_TO_ASCII_LOWERCASE
 (
chr
Ë<
LIT_CHAR_LOWERCASE_Z
)

297 || (
chr
 >
LIT_CHAR_0
 && ch∏<
LIT_CHAR_9
)

298 || 
chr
 =
LIT_CHAR_DOLLAR_SIGN


299 || 
chr
 =
LIT_CHAR_UNDERSCORE
);

302  (
	`lô_ch¨_is_unicode_Àâî
 (
chr
)

303 || 
	`lô_ch¨_is_unicode_n⁄_Àâî_idít_∑π
 (
chr
));

304 
	}
}

311 
boﬁ


312 
	$lô_ch¨_is_o˘Æ_digô
 (
ecma_ch¨_t
 
c
)

314  (
c
 >
LIT_CHAR_ASCII_OCTAL_DIGITS_BEGIN
 && c <
LIT_CHAR_ASCII_OCTAL_DIGITS_END
);

315 
	}
}

322 
boﬁ


323 
	$lô_ch¨_is_decimÆ_digô
 (
ecma_ch¨_t
 
c
)

325  (
c
 >
LIT_CHAR_ASCII_DIGITS_BEGIN
 && c <
LIT_CHAR_ASCII_DIGITS_END
);

326 
	}
}

333 
boﬁ


334 
	$lô_ch¨_is_hex_digô
 (
ecma_ch¨_t
 
c
)

336  ((
c
 >
LIT_CHAR_ASCII_DIGITS_BEGIN
 && c <
LIT_CHAR_ASCII_DIGITS_END
)

337 || (
	`LEXER_TO_ASCII_LOWERCASE
 (
c
Ë>
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_BEGIN


338 && 
	`LEXER_TO_ASCII_LOWERCASE
 (
c
Ë<
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_END
));

339 
	}
}

346 
uöt32_t


347 
	$lô_ch¨_hex_to_öt
 (
ecma_ch¨_t
 
c
)

350 
	`JERRY_ASSERT
 (
	`lô_ch¨_is_hex_digô
 (
c
));

352 i‡(
c
 >
LIT_CHAR_ASCII_DIGITS_BEGIN
 && c <
LIT_CHAR_ASCII_DIGITS_END
)

354  (
uöt32_t
Ë(
c
 - 
LIT_CHAR_ASCII_DIGITS_BEGIN
);

356 i‡(
c
 >
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_BEGIN
 && c <
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_END
)

358  (
uöt32_t
Ë(
c
 - 
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_BEGIN
 + 10);

362  (
uöt32_t
Ë(
c
 - 
LIT_CHAR_ASCII_UPPERCASE_LETTERS_HEX_BEGIN
 + 10);

364 
	}
}

371 
size_t


372 
	$lô_ch¨_to_utf8_byãs
 (
uöt8_t
 *
d°_p
,

373 
ecma_ch¨_t
 
chr
)

375 i‡(!(
chr
 & ~
LIT_UTF8_1_BYTE_CODE_POINT_MAX
))

378 *
d°_p
 = (
uöt8_t
Ë
chr
;

382 i‡(!(
chr
 & ~
LIT_UTF8_2_BYTE_CODE_POINT_MAX
))

385 *(
d°_p
++Ë(
uöt8_t
Ë(
LIT_UTF8_2_BYTE_MARKER
 | ((
chr
 >> 6Ë& 
LIT_UTF8_LAST_5_BITS_MASK
));

386 *
d°_p
 = (
uöt8_t
Ë(
LIT_UTF8_EXTRA_BYTE_MARKER
 | (
chr
 & 
LIT_UTF8_LAST_6_BITS_MASK
));

390 
	`JERRY_ASSERT
 (!(
chr
 & ~
LIT_UTF8_3_BYTE_CODE_POINT_MAX
));

392 *(
d°_p
++Ë(
uöt8_t
Ë(
LIT_UTF8_3_BYTE_MARKER
 | ((
chr
 >> 12Ë& 
LIT_UTF8_LAST_4_BITS_MASK
));

393 *(
d°_p
++Ë(
uöt8_t
Ë(
LIT_UTF8_EXTRA_BYTE_MARKER
 | ((
chr
 >> 6Ë& 
LIT_UTF8_LAST_6_BITS_MASK
));

394 *
d°_p
 = (
uöt8_t
Ë(
LIT_UTF8_EXTRA_BYTE_MARKER
 | (
chr
 & 
LIT_UTF8_LAST_6_BITS_MASK
));

396 
	}
}

403 
size_t


404 
	$lô_ch¨_gë_utf8_Àngth
 (
ecma_ch¨_t
 
chr
)

406 i‡(!(
chr
 & ~
LIT_UTF8_1_BYTE_CODE_POINT_MAX
))

412 i‡(!(
chr
 & ~
LIT_UTF8_2_BYTE_CODE_POINT_MAX
))

419 
	`JERRY_ASSERT
 (!(
chr
 & ~
LIT_UTF8_3_BYTE_CODE_POINT_MAX
));

421 
	}
}

430 
boﬁ


431 
	$lô_ªad_code_unô_‰om_hex
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,

432 
lô_utf8_size_t
 
numbî_of_ch¨a˘îs
,

433 
ecma_ch¨_±r_t
 
out_code_unô_p
)

435 
ecma_ch¨_t
 
code_unô
 = 
LIT_CHAR_NULL
;

437 
	`JERRY_ASSERT
 (
numbî_of_ch¨a˘îs
 >= 2 &&Çumber_of_characters <= 4);

439 
lô_utf8_size_t
 
i
 = 0; i < 
numbî_of_ch¨a˘îs
; i++)

441 
code_unô
 = (
ecma_ch¨_t
) (code_unit << 4u);

443 i‡(*
buf_p
 >
LIT_CHAR_ASCII_DIGITS_BEGIN


444 && *
buf_p
 <
LIT_CHAR_ASCII_DIGITS_END
)

446 
code_unô
 |(
ecma_ch¨_t
Ë(*
buf_p
 - 
LIT_CHAR_ASCII_DIGITS_BEGIN
);

448 i‡(*
buf_p
 >
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_BEGIN


449 && *
buf_p
 <
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_END
)

451 
code_unô
 |(
ecma_ch¨_t
Ë(*
buf_p
 - (
LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_BEGIN
 - 10));

453 i‡(*
buf_p
 >
LIT_CHAR_ASCII_UPPERCASE_LETTERS_HEX_BEGIN


454 && *
buf_p
 <
LIT_CHAR_ASCII_UPPERCASE_LETTERS_HEX_END
)

456 
code_unô
 |(
ecma_ch¨_t
Ë(*
buf_p
 - (
LIT_CHAR_ASCII_UPPERCASE_LETTERS_HEX_BEGIN
 - 10));

460  
Ál£
;

463 
buf_p
++;

466 *
out_code_unô_p
 = 
code_unô
;

467  
åue
;

468 
	}
}

478 
boﬁ


479 
	$lô_ch¨_is_w‹d_ch¨
 (
ecma_ch¨_t
 
c
)

481  ((
c
 >
LIT_CHAR_ASCII_LOWERCASE_LETTERS_BEGIN
 && c <
LIT_CHAR_ASCII_LOWERCASE_LETTERS_END
)

482 || (
c
 >
LIT_CHAR_ASCII_UPPERCASE_LETTERS_BEGIN
 && c <
LIT_CHAR_ASCII_UPPERCASE_LETTERS_END
)

483 || (
c
 >
LIT_CHAR_ASCII_DIGITS_BEGIN
 && c <
LIT_CHAR_ASCII_DIGITS_END
)

484 || 
c
 =
LIT_CHAR_UNDERSCORE
);

485 
	}
}

487 #i‚de‡
CONFIG_DISABLE_UNICODE_CASE_CONVERSION


495 
ecma_Àngth_t


496 
	$£¨ch_ö_bidúe˘i⁄Æ_c⁄vîsi⁄_èbÀs
 (
ecma_ch¨_t
 
ch¨a˘î
,

497 
ecma_ch¨_t
 *
ouçut_buf„r_p
,

498 
boﬁ
 
is_lowîˇ£
)

501 
numbî_of_ˇ£_ønges
 = 
	`NUM_OF_ELEMENTS
 (
lô_ch¨a˘î_ˇ£_ønges
);

502 
c⁄v_cou¡î
 = 0;

504 
i
 = 0; i < 
numbî_of_ˇ£_ønges
; i++)

506 i‡(
i
 % 2 == 0 && i > 0)

508 
c⁄v_cou¡î
++;

511 
ønge_Àngth
 = 
lô_ch¨a˘î_ˇ£_ønge_Àngths
[
c⁄v_cou¡î
];

512 
ecma_ch¨_t
 
°¨t_poöt
 = 
lô_ch¨a˘î_ˇ£_ønges
[
i
];

514 i‡(
°¨t_poöt
 > 
ch¨a˘î
 || ch¨a˘î >°¨t_poöà+ 
ønge_Àngth
)

519 
ch¨_di°
 = 
ch¨a˘î
 - 
°¨t_poöt
;

521 i‡(
i
 % 2 == 0)

523 
ouçut_buf„r_p
[0] = 
is_lowîˇ£
 ? (
ecma_ch¨_t
Ë(
lô_ch¨a˘î_ˇ£_ønges
[
i
 + 1] + 
ch¨_di°
Ë: 
ch¨a˘î
;

527 
ouçut_buf„r_p
[0] = 
is_lowîˇ£
 ? 
ch¨a˘î
 : (
ecma_ch¨_t
Ë(
lô_ch¨a˘î_ˇ£_ønges
[
i
 - 1] + 
ch¨_di°
);

534 
bŸtom
 = 0;

535 
t›
 = 
	`NUM_OF_ELEMENTS
 (
lô_ch¨a˘î_∑ú_ønges
) - 1;

537 
bŸtom
 <
t›
)

539 
middÀ
 = (
bŸtom
 + 
t›
) / 2;

540 
ecma_ch¨_t
 
cuºít_•
 = 
lô_ch¨a˘î_∑ú_ønges
[
middÀ
];

542 i‡(
cuºít_•
 <
ch¨a˘î
 && ch¨a˘î < cuºít_• + 
lô_ch¨a˘î_∑ú_ønge_Àngths
[
middÀ
])

544 
ch¨_di°
 = 
ch¨a˘î
 - 
cuºít_•
;

546 i‡((
ch¨a˘î
 - 
cuºít_•
) % 2 == 0)

548 
ouçut_buf„r_p
[0] = 
is_lowîˇ£
 ? (
ecma_ch¨_t
Ë(
cuºít_•
 + 
ch¨_di°
 + 1Ë: 
ch¨a˘î
;

552 
ouçut_buf„r_p
[0] = 
is_lowîˇ£
 ? 
ch¨a˘î
 : (
ecma_ch¨_t
Ë(
cuºít_•
 + 
ch¨_di°
 - 1);

558 i‡(
ch¨a˘î
 > 
cuºít_•
)

560 
bŸtom
 = 
middÀ
 + 1;

564 
t›
 = 
middÀ
 - 1;

569 
numbî_of_ch¨a˘î_∑ús
 = 
	`NUM_OF_ELEMENTS
 (
lô_ch¨a˘î_∑ús
);

571 
i
 = 0; i < 
numbî_of_ch¨a˘î_∑ús
; i++)

573 i‡(
ch¨a˘î
 !
lô_ch¨a˘î_∑ús
[
i
])

578 i‡(
i
 % 2 == 0)

580 
ouçut_buf„r_p
[0] = 
is_lowîˇ£
 ? 
lô_ch¨a˘î_∑ús
[
i
 + 1] : 
ch¨a˘î
;

584 
ouçut_buf„r_p
[0] = 
is_lowîˇ£
 ? 
ch¨a˘î
 : 
lô_ch¨a˘î_∑ús
[
i
 - 1];

591 
	}
}

599 
ecma_Àngth_t


600 
	$£¨ch_ö_c⁄vîsi⁄_èbÀ
 (
ecma_ch¨_t
 
ch¨a˘î
,

601 
ecma_ch¨_t
 *
ouçut_buf„r_p
,

602 c⁄° 
ecma_ch¨_t
 *
¨øy
,

603 c⁄° 
uöt8_t
 *
cou¡îs
)

605 
íd_poöt
 = 0;

607 
i
 = 0; i < 3; i++)

609 
°¨t_poöt
 = 
íd_poöt
;

610 
size_of_ˇ£_vÆue
 = 
i
 + 1;

611 
íd_poöt
 +
cou¡îs
[
i
] * (
size_of_ˇ£_vÆue
 + 1);

613 
bŸtom
 = 
°¨t_poöt
;

614 
t›
 = 
íd_poöt
 - 
size_of_ˇ£_vÆue
;

616 
bŸtom
 <
t›
)

618 
middÀ
 = (
bŸtom
 + 
t›
) / 2;

620 
middÀ
 -((middÀ - 
bŸtom
Ë% (
size_of_ˇ£_vÆue
 + 1));

622 
ecma_ch¨_t
 
cuºít
 = 
¨øy
[
middÀ
];

624 i‡(
cuºít
 =
ch¨a˘î
)

626 
ecma_Àngth_t
 
ch¨_£quí˚
 = 1;

628 
size_of_ˇ£_vÆue
)

632 
ouçut_buf„r_p
[2] = 
¨øy
[
middÀ
 + 3];

633 
ch¨_£quí˚
++;

638 
ouçut_buf„r_p
[1] = 
¨øy
[
middÀ
 + 2];

639 
ch¨_£quí˚
++;

644 
ouçut_buf„r_p
[0] = 
¨øy
[
middÀ
 + 1];

645  
ch¨_£quí˚
;

650 i‡(
ch¨a˘î
 < 
cuºít
)

652 
t›
 = 
middÀ
 - (
size_of_ˇ£_vÆue
 + 1);

656 
bŸtom
 = 
middÀ
 + (
size_of_ˇ£_vÆue
 + 1);

662 
	}
}

673 
ecma_Àngth_t


674 
	$lô_ch¨_to_lowî_ˇ£
 (
ecma_ch¨_t
 
ch¨a˘î
,

675 
ecma_ch¨_t
 *
ouçut_buf„r_p
,

676 
ecma_Àngth_t
 
buf„r_size
)

678 
	`JERRY_ASSERT
 (
buf„r_size
 >
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

680 i‡(
ch¨a˘î
 >
LIT_CHAR_UPPERCASE_A
 && ch¨a˘î <
LIT_CHAR_UPPERCASE_Z
)

682 
ouçut_buf„r_p
[0] = (
ecma_ch¨_t
Ë(
ch¨a˘î
 + (
LIT_CHAR_LOWERCASE_A
 - 
LIT_CHAR_UPPERCASE_A
));

686 #i‚de‡
CONFIG_DISABLE_UNICODE_CASE_CONVERSION


688 
ecma_Àngth_t
 
lowîˇ£_£quí˚
 = 
	`£¨ch_ö_bidúe˘i⁄Æ_c⁄vîsi⁄_èbÀs
 (
ch¨a˘î
, 
ouçut_buf„r_p
, 
åue
);

690 i‡(
lowîˇ£_£quí˚
 != 0)

692  
lowîˇ£_£quí˚
;

695 
num_of_lowîˇ£_ønges
 = 
	`NUM_OF_ELEMENTS
 (
lô_lowî_ˇ£_ønges
);

697 
i
 = 0, 
j
 = 0; i < 
num_of_lowîˇ£_ønges
; i += 2, j++)

699 
ønge_Àngth
 = 
lô_lowî_ˇ£_ønge_Àngths
[
j
] - 1;

700 
ecma_ch¨_t
 
°¨t_poöt
 = 
lô_lowî_ˇ£_ønges
[
i
];

702 i‡(
°¨t_poöt
 <
ch¨a˘î
 && ch¨a˘î <°¨t_poöà+ 
ønge_Àngth
)

704 
ouçut_buf„r_p
[0] = (
ecma_ch¨_t
Ë(
lô_lowî_ˇ£_ønges
[
i
 + 1] + (
ch¨a˘î
 - 
°¨t_poöt
));

709 
lowîˇ£_£quí˚
 = 
	`£¨ch_ö_c⁄vîsi⁄_èbÀ
 (
ch¨a˘î
,

710 
ouçut_buf„r_p
,

711 
lô_lowî_ˇ£_c⁄vîsi⁄s
,

712 
lô_lowî_ˇ£_c⁄vîsi⁄_cou¡îs
);

714 i‡(
lowîˇ£_£quí˚
 != 0)

716  
lowîˇ£_£quí˚
;

721 
ouçut_buf„r_p
[0] = 
ch¨a˘î
;

723 
	}
}

733 
ecma_Àngth_t


734 
	$lô_ch¨_to_uµî_ˇ£
 (
ecma_ch¨_t
 
ch¨a˘î
,

735 
ecma_ch¨_t
 *
ouçut_buf„r_p
,

736 
ecma_Àngth_t
 
buf„r_size
)

738 
	`JERRY_ASSERT
 (
buf„r_size
 >
LIT_MAXIMUM_OTHER_CASE_LENGTH
);

740 i‡(
ch¨a˘î
 >
LIT_CHAR_LOWERCASE_A
 && ch¨a˘î <
LIT_CHAR_LOWERCASE_Z
)

742 
ouçut_buf„r_p
[0] = (
ecma_ch¨_t
Ë(
ch¨a˘î
 - (
LIT_CHAR_LOWERCASE_A
 - 
LIT_CHAR_UPPERCASE_A
));

746 #i‚de‡
CONFIG_DISABLE_UNICODE_CASE_CONVERSION


748 
ecma_Àngth_t
 
uµîˇ£_£quí˚
 = 
	`£¨ch_ö_bidúe˘i⁄Æ_c⁄vîsi⁄_èbÀs
 (
ch¨a˘î
, 
ouçut_buf„r_p
, 
Ál£
);

750 i‡(
uµîˇ£_£quí˚
 != 0)

752  
uµîˇ£_£quí˚
;

755 
num_of_uµî_ˇ£_•ecül_ønges
 = 
	`NUM_OF_ELEMENTS
 (
lô_uµî_ˇ£_•ecül_ønges
);

757 
i
 = 0, 
j
 = 0; i < 
num_of_uµî_ˇ£_•ecül_ønges
; i += 3, j++)

759 
ønge_Àngth
 = 
lô_uµî_ˇ£_•ecül_ønge_Àngths
[
j
];

760 
ecma_ch¨_t
 
°¨t_poöt
 = 
lô_uµî_ˇ£_•ecül_ønges
[
i
];

762 i‡(
°¨t_poöt
 <
ch¨a˘î
 && ch¨a˘î <°¨t_poöà+ 
ønge_Àngth
)

764 
ouçut_buf„r_p
[0] = (
ecma_ch¨_t
Ë(
lô_uµî_ˇ£_•ecül_ønges
[
i
 + 1] + (
ch¨a˘î
 - 
°¨t_poöt
));

765 
ouçut_buf„r_p
[1] = (
ecma_ch¨_t
Ë(
lô_uµî_ˇ£_•ecül_ønges
[
i
 + 2]);

770 
uµîˇ£_£quí˚
 = 
	`£¨ch_ö_c⁄vîsi⁄_èbÀ
 (
ch¨a˘î
,

771 
ouçut_buf„r_p
,

772 
lô_uµî_ˇ£_c⁄vîsi⁄s
,

773 
lô_uµî_ˇ£_c⁄vîsi⁄_cou¡îs
);

775 i‡(
uµîˇ£_£quí˚
 != 0)

777  
uµîˇ£_£quí˚
;

782 
ouçut_buf„r_p
[0] = 
ch¨a˘î
;

784 
	}
}

	@deps/jerry/jerry-core/lit/lit-char-helpers.h

16 #i‚de‡
LIT_CHAR_HELPERS_H


17 
	#LIT_CHAR_HELPERS_H


	)

19 
	~"lô-globÆs.h
"

21 
	#LIT_CHAR_UNDEF
 ((
ecma_ch¨_t
Ë0xFFFFË

	)

26 
	#LIT_CHAR_ZWNJ
 ((
ecma_ch¨_t
Ë0x200CË

	)

27 
	#LIT_CHAR_ZWJ
 ((
ecma_ch¨_t
Ë0x200DË

	)

28 
	#LIT_CHAR_BOM
 ((
ecma_ch¨_t
Ë0xFEFFË

	)

30 
boﬁ
 
lô_ch¨_is_f‹m©_c⁄åﬁ
 (
ecma_ch¨_t
 
c
);

35 
	#LIT_CHAR_TAB
 ((
ecma_ch¨_t
Ë0x0009Ë

	)

36 
	#LIT_CHAR_VTAB
 ((
ecma_ch¨_t
Ë0x000BË

	)

37 
	#LIT_CHAR_FF
 ((
ecma_ch¨_t
Ë0x000CË

	)

38 
	#LIT_CHAR_SP
 ((
ecma_ch¨_t
Ë0x0020Ë

	)

39 
	#LIT_CHAR_NBSP
 ((
ecma_ch¨_t
Ë0x00A0Ë

	)

42 
boﬁ
 
lô_ch¨_is_whôe_•a˚
 (
ecma_ch¨_t
 
c
);

47 
	#LIT_CHAR_LF
 ((
ecma_ch¨_t
Ë0x000AË

	)

48 
	#LIT_CHAR_CR
 ((
ecma_ch¨_t
Ë0x000DË

	)

49 
	#LIT_CHAR_LS
 ((
ecma_ch¨_t
Ë0x2028Ë

	)

50 
	#LIT_CHAR_PS
 ((
ecma_ch¨_t
Ë0x2029Ë

	)

52 
boﬁ
 
lô_ch¨_is_löe_ãrmö©‹
 (
ecma_ch¨_t
 
c
);

57 
	#LIT_CHAR_BS
 ((
ecma_ch¨_t
Ë0x0008Ë

	)

63 
	#LIT_CHAR_DOUBLE_QUOTE
 ((
ecma_ch¨_t
Ë'"'Ë

	)

64 
	#LIT_CHAR_SINGLE_QUOTE
 ((
ecma_ch¨_t
Ë'\''Ë

	)

65 
	#LIT_CHAR_BACKSLASH
 ((
ecma_ch¨_t
Ë'\\'Ë

	)

70 
	#LIT_CHAR_SLASH
 ((
ecma_ch¨_t
Ë'/'Ë

	)

71 
	#LIT_CHAR_ASTERISK
 ((
ecma_ch¨_t
Ë'*'Ë

	)

76 
	#LIT_CHAR_DOLLAR_SIGN
 ((
ecma_ch¨_t
Ë'$'Ë

	)

77 
	#LIT_CHAR_UNDERSCORE
 ((
ecma_ch¨_t
Ë'_'Ë

	)

80 
boﬁ
 
lô_ch¨_is_idítifõr_°¨t
 (c⁄° 
uöt8_t
 *
§c_p
);

81 
boﬁ
 
lô_ch¨_is_idítifõr_∑π
 (c⁄° 
uöt8_t
 *
§c_p
);

82 
boﬁ
 
lô_ch¨_is_idítifõr_°¨t_ch¨a˘î
 (
ecma_ch¨_t
 
chr
);

83 
boﬁ
 
lô_ch¨_is_idítifõr_∑π_ch¨a˘î
 (
ecma_ch¨_t
 
chr
);

88 
	#LIT_CHAR_LEFT_BRACE
 ((
ecma_ch¨_t
Ë'{'Ë

	)

89 
	#LIT_CHAR_RIGHT_BRACE
 ((
ecma_ch¨_t
Ë'}'Ë

	)

90 
	#LIT_CHAR_LEFT_PAREN
 ((
ecma_ch¨_t
Ë'('Ë

	)

91 
	#LIT_CHAR_RIGHT_PAREN
 ((
ecma_ch¨_t
Ë')'Ë

	)

92 
	#LIT_CHAR_LEFT_SQUARE
 ((
ecma_ch¨_t
Ë'['Ë

	)

93 
	#LIT_CHAR_RIGHT_SQUARE
 ((
ecma_ch¨_t
Ë']'Ë

	)

94 
	#LIT_CHAR_DOT
 ((
ecma_ch¨_t
Ë'.'Ë

	)

95 
	#LIT_CHAR_SEMICOLON
 ((
ecma_ch¨_t
Ë';'Ë

	)

96 
	#LIT_CHAR_COMMA
 ((
ecma_ch¨_t
Ë','Ë

	)

97 
	#LIT_CHAR_LESS_THAN
 ((
ecma_ch¨_t
Ë'<'Ë

	)

98 
	#LIT_CHAR_GREATER_THAN
 ((
ecma_ch¨_t
Ë'>'Ë

	)

99 
	#LIT_CHAR_EQUALS
 ((
ecma_ch¨_t
Ë'='Ë

	)

100 
	#LIT_CHAR_PLUS
 ((
ecma_ch¨_t
Ë'+'Ë

	)

101 
	#LIT_CHAR_MINUS
 ((
ecma_ch¨_t
Ë'-'Ë

	)

103 
	#LIT_CHAR_PERCENT
 ((
ecma_ch¨_t
Ë'%'Ë

	)

104 
	#LIT_CHAR_AMPERSAND
 ((
ecma_ch¨_t
Ë'&'Ë

	)

105 
	#LIT_CHAR_VLINE
 ((
ecma_ch¨_t
Ë'|'Ë

	)

106 
	#LIT_CHAR_CIRCUMFLEX
 ((
ecma_ch¨_t
Ë'^'Ë

	)

107 
	#LIT_CHAR_EXCLAMATION
 ((
ecma_ch¨_t
Ë'!'Ë

	)

108 
	#LIT_CHAR_TILDE
 ((
ecma_ch¨_t
Ë'~'Ë

	)

109 
	#LIT_CHAR_QUESTION
 ((
ecma_ch¨_t
Ë'?'Ë

	)

110 
	#LIT_CHAR_COLON
 ((
ecma_ch¨_t
Ë':'Ë

	)

115 
	#LIT_CHAR_GRAVE_ACCENT
 ((
ecma_ch¨_t
Ë'`'Ë

	)

120 
	#LIT_CHAR_UPPERCASE_A
 ((
ecma_ch¨_t
Ë'A')

	)

121 
	#LIT_CHAR_UPPERCASE_B
 ((
ecma_ch¨_t
Ë'B')

	)

122 
	#LIT_CHAR_UPPERCASE_C
 ((
ecma_ch¨_t
Ë'C')

	)

123 
	#LIT_CHAR_UPPERCASE_D
 ((
ecma_ch¨_t
Ë'D')

	)

124 
	#LIT_CHAR_UPPERCASE_E
 ((
ecma_ch¨_t
Ë'E')

	)

125 
	#LIT_CHAR_UPPERCASE_F
 ((
ecma_ch¨_t
Ë'F')

	)

126 
	#LIT_CHAR_UPPERCASE_G
 ((
ecma_ch¨_t
Ë'G')

	)

127 
	#LIT_CHAR_UPPERCASE_H
 ((
ecma_ch¨_t
Ë'H')

	)

128 
	#LIT_CHAR_UPPERCASE_I
 ((
ecma_ch¨_t
Ë'I')

	)

129 
	#LIT_CHAR_UPPERCASE_J
 ((
ecma_ch¨_t
Ë'J')

	)

130 
	#LIT_CHAR_UPPERCASE_K
 ((
ecma_ch¨_t
Ë'K')

	)

131 
	#LIT_CHAR_UPPERCASE_L
 ((
ecma_ch¨_t
Ë'L')

	)

132 
	#LIT_CHAR_UPPERCASE_M
 ((
ecma_ch¨_t
Ë'M')

	)

133 
	#LIT_CHAR_UPPERCASE_N
 ((
ecma_ch¨_t
Ë'N')

	)

134 
	#LIT_CHAR_UPPERCASE_O
 ((
ecma_ch¨_t
Ë'O')

	)

135 
	#LIT_CHAR_UPPERCASE_P
 ((
ecma_ch¨_t
Ë'P')

	)

136 
	#LIT_CHAR_UPPERCASE_Q
 ((
ecma_ch¨_t
Ë'Q')

	)

137 
	#LIT_CHAR_UPPERCASE_R
 ((
ecma_ch¨_t
Ë'R')

	)

138 
	#LIT_CHAR_UPPERCASE_S
 ((
ecma_ch¨_t
Ë'S')

	)

139 
	#LIT_CHAR_UPPERCASE_T
 ((
ecma_ch¨_t
Ë'T')

	)

140 
	#LIT_CHAR_UPPERCASE_U
 ((
ecma_ch¨_t
Ë'U')

	)

141 
	#LIT_CHAR_UPPERCASE_V
 ((
ecma_ch¨_t
Ë'V')

	)

142 
	#LIT_CHAR_UPPERCASE_W
 ((
ecma_ch¨_t
Ë'W')

	)

143 
	#LIT_CHAR_UPPERCASE_X
 ((
ecma_ch¨_t
Ë'X')

	)

144 
	#LIT_CHAR_UPPERCASE_Y
 ((
ecma_ch¨_t
Ë'Y')

	)

145 
	#LIT_CHAR_UPPERCASE_Z
 ((
ecma_ch¨_t
Ë'Z')

	)

150 
	#LIT_CHAR_LOWERCASE_A
 ((
ecma_ch¨_t
Ë'a')

	)

151 
	#LIT_CHAR_LOWERCASE_B
 ((
ecma_ch¨_t
Ë'b')

	)

152 
	#LIT_CHAR_LOWERCASE_C
 ((
ecma_ch¨_t
Ë'c')

	)

153 
	#LIT_CHAR_LOWERCASE_D
 ((
ecma_ch¨_t
Ë'd')

	)

154 
	#LIT_CHAR_LOWERCASE_E
 ((
ecma_ch¨_t
Ë'e')

	)

155 
	#LIT_CHAR_LOWERCASE_F
 ((
ecma_ch¨_t
Ë'f')

	)

156 
	#LIT_CHAR_LOWERCASE_G
 ((
ecma_ch¨_t
Ë'g')

	)

157 
	#LIT_CHAR_LOWERCASE_H
 ((
ecma_ch¨_t
Ë'h')

	)

158 
	#LIT_CHAR_LOWERCASE_I
 ((
ecma_ch¨_t
Ë'i')

	)

159 
	#LIT_CHAR_LOWERCASE_J
 ((
ecma_ch¨_t
Ë'j')

	)

160 
	#LIT_CHAR_LOWERCASE_K
 ((
ecma_ch¨_t
Ë'k')

	)

161 
	#LIT_CHAR_LOWERCASE_L
 ((
ecma_ch¨_t
Ë'l')

	)

162 
	#LIT_CHAR_LOWERCASE_M
 ((
ecma_ch¨_t
Ë'm')

	)

163 
	#LIT_CHAR_LOWERCASE_N
 ((
ecma_ch¨_t
Ë'n')

	)

164 
	#LIT_CHAR_LOWERCASE_O
 ((
ecma_ch¨_t
Ë'o')

	)

165 
	#LIT_CHAR_LOWERCASE_P
 ((
ecma_ch¨_t
Ë'p')

	)

166 
	#LIT_CHAR_LOWERCASE_Q
 ((
ecma_ch¨_t
Ë'q')

	)

167 
	#LIT_CHAR_LOWERCASE_R
 ((
ecma_ch¨_t
Ë'r')

	)

168 
	#LIT_CHAR_LOWERCASE_S
 ((
ecma_ch¨_t
Ë's')

	)

169 
	#LIT_CHAR_LOWERCASE_T
 ((
ecma_ch¨_t
Ë't')

	)

170 
	#LIT_CHAR_LOWERCASE_U
 ((
ecma_ch¨_t
Ë'u')

	)

171 
	#LIT_CHAR_LOWERCASE_V
 ((
ecma_ch¨_t
Ë'v')

	)

172 
	#LIT_CHAR_LOWERCASE_W
 ((
ecma_ch¨_t
Ë'w')

	)

173 
	#LIT_CHAR_LOWERCASE_X
 ((
ecma_ch¨_t
Ë'x')

	)

174 
	#LIT_CHAR_LOWERCASE_Y
 ((
ecma_ch¨_t
Ë'y')

	)

175 
	#LIT_CHAR_LOWERCASE_Z
 ((
ecma_ch¨_t
Ë'z')

	)

180 
	#LIT_CHAR_0
 ((
ecma_ch¨_t
Ë'0')

	)

181 
	#LIT_CHAR_1
 ((
ecma_ch¨_t
Ë'1')

	)

182 
	#LIT_CHAR_2
 ((
ecma_ch¨_t
Ë'2')

	)

183 
	#LIT_CHAR_3
 ((
ecma_ch¨_t
Ë'3')

	)

184 
	#LIT_CHAR_4
 ((
ecma_ch¨_t
Ë'4')

	)

185 
	#LIT_CHAR_5
 ((
ecma_ch¨_t
Ë'5')

	)

186 
	#LIT_CHAR_6
 ((
ecma_ch¨_t
Ë'6')

	)

187 
	#LIT_CHAR_7
 ((
ecma_ch¨_t
Ë'7')

	)

188 
	#LIT_CHAR_8
 ((
ecma_ch¨_t
Ë'8')

	)

189 
	#LIT_CHAR_9
 ((
ecma_ch¨_t
Ë'9')

	)

194 
	#LIT_CHAR_ASCII_UPPERCASE_LETTERS_BEGIN
 
LIT_CHAR_UPPERCASE_A


	)

195 
	#LIT_CHAR_ASCII_UPPERCASE_LETTERS_END
 
LIT_CHAR_UPPERCASE_Z


	)

197 
	#LIT_CHAR_ASCII_LOWERCASE_LETTERS_BEGIN
 
LIT_CHAR_LOWERCASE_A


	)

198 
	#LIT_CHAR_ASCII_LOWERCASE_LETTERS_END
 
LIT_CHAR_LOWERCASE_Z


	)

200 
	#LIT_CHAR_ASCII_UPPERCASE_LETTERS_HEX_BEGIN
 
LIT_CHAR_UPPERCASE_A


	)

202 
	#LIT_CHAR_ASCII_UPPERCASE_LETTERS_HEX_END
 
LIT_CHAR_UPPERCASE_F


	)

204 
	#LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_BEGIN
 
LIT_CHAR_LOWERCASE_A


	)

206 
	#LIT_CHAR_ASCII_LOWERCASE_LETTERS_HEX_END
 
LIT_CHAR_LOWERCASE_F


	)

208 
	#LIT_CHAR_ASCII_OCTAL_DIGITS_BEGIN
 
LIT_CHAR_0


	)

209 
	#LIT_CHAR_ASCII_OCTAL_DIGITS_END
 
LIT_CHAR_7


	)

211 
	#LIT_CHAR_ASCII_DIGITS_BEGIN
 
LIT_CHAR_0


	)

212 
	#LIT_CHAR_ASCII_DIGITS_END
 
LIT_CHAR_9


	)

214 
	#LEXER_TO_ASCII_LOWERCASE
(
ch¨a˘î
Ë((ch¨a˘îË| 
LIT_CHAR_SP
)

	)

216 
boﬁ
 
lô_ch¨_is_o˘Æ_digô
 (
ecma_ch¨_t
 
c
);

217 
boﬁ
 
lô_ch¨_is_decimÆ_digô
 (
ecma_ch¨_t
 
c
);

218 
boﬁ
 
lô_ch¨_is_hex_digô
 (
ecma_ch¨_t
 
c
);

219 
uöt32_t
 
lô_ch¨_hex_to_öt
 (
ecma_ch¨_t
 
c
);

220 
size_t
 
lô_ch¨_to_utf8_byãs
 (
uöt8_t
 *
d°_p
, 
ecma_ch¨_t
 
chr
);

221 
size_t
 
lô_ch¨_gë_utf8_Àngth
 (
ecma_ch¨_t
 
chr
);

224 
boﬁ
 
lô_ªad_code_unô_‰om_hex
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
, 
lô_utf8_size_t
 
numbî_of_ch¨a˘îs
,

225 
ecma_ch¨_±r_t
 
out_code_unô_p
);

230 
	#LIT_CHAR_NULL
 ((
ecma_ch¨_t
Ë'\0')

	)

235 
boﬁ
 
lô_ch¨_is_w‹d_ch¨
 (
ecma_ch¨_t
 
c
);

244 
	#LIT_MAXIMUM_OTHER_CASE_LENGTH
 (3)

	)

246 
ecma_Àngth_t
 
lô_ch¨_to_lowî_ˇ£
 (
ecma_ch¨_t
 
ch¨a˘î
,Écma_ch¨_à*
ouçut_buf„r_p
,Écma_Àngth_à
buf„r_size
);

247 
ecma_Àngth_t
 
lô_ch¨_to_uµî_ˇ£
 (
ecma_ch¨_t
 
ch¨a˘î
,Écma_ch¨_à*
ouçut_buf„r_p
,Écma_Àngth_à
buf„r_size
);

	@deps/jerry/jerry-core/lit/lit-globals.h

16 #i‚de‡
LIT_GLOBALS_H


17 
	#LIT_GLOBALS_H


	)

19 
	~"jπ.h
"

74 
uöt16_t
 
	tecma_ch¨_t
;

79 
uöt32_t
 
	tecma_Àngth_t
;

84 
ecma_ch¨_t
 *
	tecma_ch¨_±r_t
;

89 
	#LIT_UTF8_MAX_BYTES_IN_CODE_UNIT
 (3)

	)

94 
	#LIT_UTF8_MAX_BYTES_IN_CODE_POINT
 (4)

	)

99 
	#LIT_CESU8_MAX_BYTES_IN_CODE_UNIT
 (3)

	)

104 
	#LIT_CESU8_MAX_BYTES_IN_CODE_POINT
 (6)

	)

109 
uöt8_t
 
	tlô_utf8_byã_t
;

114 
uöt32_t
 
	tlô_utf8_size_t
;

119 
uöt8_t
 
	tlô_magic_size_t
;

124 
uöt32_t
 
	tlô_code_poöt_t
;

129 
uöt16_t
 
	tlô_°rög_hash_t
;

139 
	#LIT_STRING_HASH_LIMIT
 0x10000u

	)

	@deps/jerry/jerry-core/lit/lit-magic-strings.c

16 
	~"jc⁄ãxt.h
"

17 
	~"lô-magic-°rögs.h
"

18 
	~"lô-°rögs.h
"

26 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___


27 
	$lô_gë_magic_°rög_ex_cou¡
 ()

29  
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_cou¡
);

30 
	}
}

37 c⁄° 
lô_utf8_byã_t
 *

38 
	$lô_gë_magic_°rög_utf8
 (
lô_magic_°rög_id_t
 
id
)

40 c⁄° 
lô_utf8_byã_t
 * c⁄° 
lô_magic_°rögs
[] 
JERRY_CONST_DATA
 =

42 
	#LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
(
size
, 
id
)

	)

43 
	#LIT_MAGIC_STRING_DEF
(
id
, 
utf8_°rög
) \

44 (c⁄° 
lô_utf8_byã_t
 *Ë
utf8_°rög
,

	)

45 
	~"lô-magic-°rögs.öc.h
"

46 #unde‡
LIT_MAGIC_STRING_DEF


47 #unde‡
LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE


50 
	`JERRY_ASSERT
 (
id
 < 
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
);

52  
lô_magic_°rögs
[
id
];

53 
	}
}

60 
lô_utf8_size_t


61 
	$lô_gë_magic_°rög_size
 (
lô_magic_°rög_id_t
 
id
)

63 c⁄° 
lô_magic_size_t
 
lô_magic_°rög_sizes
[] 
JERRY_CONST_DATA
 =

65 
	#LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
(
size
, 
id
)

	)

66 
	#LIT_MAGIC_STRING_DEF
(
id
, 
utf8_°rög
) \

67 (
utf8_°rög
Ë- 1,

	)

68 
	~"lô-magic-°rögs.öc.h
"

69 #unde‡
LIT_MAGIC_STRING_DEF


70 #unde‡
LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE


73 
	`JERRY_ASSERT
 (
id
 < 
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
);

75  
lô_magic_°rög_sizes
[
id
];

76 
	}
}

84 
lô_magic_°rög_id_t


85 
	$lô_gë_magic_°rög_size_block_°¨t
 (
lô_utf8_size_t
 
size
)

87 c⁄° 
lô_magic_°rög_id_t
 
lô_magic_°rög_size_block_°¨ts
[] 
JERRY_CONST_DATA
 =

89 
	#LIT_MAGIC_STRING_DEF
(
id
, 
utf8_°rög
)

	)

90 
	#LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
(
size
, 
id
) \

91 
id
,

	)

92 
	~"lô-magic-°rögs.öc.h
"

93 
LIT_NON_INTERNAL_MAGIC_STRING__COUNT


94 #unde‡
LIT_MAGIC_STRING_DEF


95 #unde‡
LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE


98 
	`JERRY_ASSERT
 (
size
 <( (
lô_magic_°rög_size_block_°¨ts
Ë/  (
lô_magic_°rög_id_t
)));

100  
lô_magic_°rög_size_block_°¨ts
[
size
];

101 
	}
}

108 c⁄° 
lô_utf8_byã_t
 *

109 
	$lô_gë_magic_°rög_ex_utf8
 (
lô_magic_°rög_ex_id_t
 
id
)

111 i‡(
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_¨øy
Ë&& 
id
 < JERRY_CONTEXT (
lô_magic_°rög_ex_cou¡
))

113  
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_¨øy
)[
id
];

116 
	`JERRY_UNREACHABLE
 ();

117 
	}
}

124 
lô_utf8_size_t


125 
	$lô_gë_magic_°rög_ex_size
 (
lô_magic_°rög_ex_id_t
 
id
)

127  
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_sizes
)[
id
];

128 
	}
}

134 
	$lô_magic_°rögs_ex_£t
 (c⁄° 
lô_utf8_byã_t
 **
ex_°r_ôems
,

136 
uöt32_t
 
cou¡
,

137 c⁄° 
lô_utf8_size_t
 *
ex_°r_sizes
)

139 
	`JERRY_ASSERT
 (
ex_°r_ôems
 !
NULL
);

140 
	`JERRY_ASSERT
 (
cou¡
 > 0);

141 
	`JERRY_ASSERT
 (
ex_°r_sizes
 !
NULL
);

143 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_¨øy
Ë=
NULL
);

144 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_cou¡
) == 0);

145 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_sizes
Ë=
NULL
);

148 
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_¨øy
Ë
ex_°r_ôems
;

149 
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_cou¡
Ë
cou¡
;

150 
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_sizes
Ë
ex_°r_sizes
;

152 #i‚de‡
JERRY_NDEBUG


153 
lô_magic_°rög_ex_id_t
 
id
 = (lit_magic_string_ex_id_t) 0;

154 
id
 < 
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_cou¡
);

155 
id
 = (
lô_magic_°rög_ex_id_t
) (id + 1))

157 
lô_utf8_size_t
 
°rög_size
 = 
	`lô_zt_utf8_°rög_size
 (
	`lô_gë_magic_°rög_ex_utf8
 (
id
));

158 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_sizes
)[
id
] =
°rög_size
);

159 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
lô_magic_°rög_ex_sizes
)[
id
] <
LIT_MAGIC_STRING_LENGTH_LIMIT
);

165 i‡(
id
 > 0)

167 c⁄° 
lô_magic_°rög_ex_id_t
 
¥ev_id
 = 
id
 - 1;

168 c⁄° 
lô_utf8_size_t
 
¥ev_°rög_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
¥ev_id
);

169 
	`JERRY_ASSERT
 (
¥ev_°rög_size
 <
°rög_size
);

171 i‡(
¥ev_°rög_size
 =
°rög_size
)

173 c⁄° 
lô_utf8_byã_t
 *
¥ev_ex_°rög_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
¥ev_id
);

174 c⁄° 
lô_utf8_byã_t
 *
cuº_ex_°rög_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
id
);

175 
	`JERRY_ASSERT
 (
	`memcmp
 (
¥ev_ex_°rög_p
, 
cuº_ex_°rög_p
, 
°rög_size
) < 0);

180 
	}
}

188 
lô_magic_°rög_id_t


189 
	$lô_is_utf8_°rög_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

190 
lô_utf8_size_t
 
°rög_size
)

192 i‡(
°rög_size
 > 
	`lô_gë_magic_°rög_size
 (
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
 - 1))

194  
LIT_MAGIC_STRING__COUNT
;

198 
lô_utf8_size_t
 
fú°
 = 
	`lô_gë_magic_°rög_size_block_°¨t
 (
°rög_size
);

199 
lô_utf8_size_t
 
œ°
 = 
	`lô_gë_magic_°rög_size_block_°¨t
 (
°rög_size
 + 1);

201 
fú°
 < 
œ°
)

203 
lô_utf8_size_t
 
middÀ
 = ((
fú°
 + 
œ°
) / 2);

204 
com∑ª
 = 
	`memcmp
 (
	`lô_gë_magic_°rög_utf8
 (
middÀ
), 
°rög_p
, 
°rög_size
);

206 i‡(
com∑ª
 == 0)

208  (
lô_magic_°rög_id_t
Ë
middÀ
;

210 i‡(
com∑ª
 > 0)

212 
œ°
 = 
middÀ
;

216 
fú°
 = 
middÀ
 + 1;

220  
LIT_MAGIC_STRING__COUNT
;

221 
	}
}

229 
lô_magic_°rög_id_t


230 
	$lô_is_utf8_°rög_∑ú_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög1_p
,

231 
lô_utf8_size_t
 
°rög1_size
,

232 c⁄° 
lô_utf8_byã_t
 *
°rög2_p
,

233 
lô_utf8_size_t
 
°rög2_size
)

235 
lô_utf8_size_t
 
tŸÆ_°rög_size
 = 
°rög1_size
 + 
°rög2_size
;

237 i‡(
tŸÆ_°rög_size
 > 
	`lô_gë_magic_°rög_size
 (
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
 - 1))

239  
LIT_MAGIC_STRING__COUNT
;

243 
lô_utf8_size_t
 
fú°
 = 
	`lô_gë_magic_°rög_size_block_°¨t
 (
tŸÆ_°rög_size
);

244 
lô_utf8_size_t
 
œ°
 = 
	`lô_gë_magic_°rög_size_block_°¨t
 (
tŸÆ_°rög_size
 + 1);

246 
fú°
 < 
œ°
)

248 
lô_utf8_size_t
 
middÀ
 = ((
fú°
 + 
œ°
) / 2);

249 c⁄° 
lô_utf8_byã_t
 *
middÀ_°rög_p
 = 
	`lô_gë_magic_°rög_utf8
 (
middÀ
);

251 
com∑ª
 = 
	`memcmp
 (
middÀ_°rög_p
, 
°rög1_p
, 
°rög1_size
);

253 i‡(
com∑ª
 == 0)

255 
com∑ª
 = 
	`memcmp
 (
middÀ_°rög_p
 + 
°rög1_size
, 
°rög2_p
, 
°rög2_size
);

258 i‡(
com∑ª
 == 0)

260  (
lô_magic_°rög_id_t
Ë
middÀ
;

262 i‡(
com∑ª
 > 0)

264 
œ°
 = 
middÀ
;

268 
fú°
 = 
middÀ
 + 1;

272  
LIT_MAGIC_STRING__COUNT
;

273 
	}
}

281 
lô_magic_°rög_ex_id_t


282 
	$lô_is_ex_utf8_°rög_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
,

283 
lô_utf8_size_t
 
°rög_size
)

285 c⁄° 
uöt32_t
 
magic_°rög_ex_cou¡
 = 
	`lô_gë_magic_°rög_ex_cou¡
 ();

287 i‡(
magic_°rög_ex_cou¡
 == 0

288 || 
°rög_size
 > 
	`lô_gë_magic_°rög_ex_size
 (
magic_°rög_ex_cou¡
 - 1))

290  (
lô_magic_°rög_ex_id_t
Ë
magic_°rög_ex_cou¡
;

293 
lô_magic_°rög_ex_id_t
 
fú°
 = 0;

294 
lô_magic_°rög_ex_id_t
 
œ°
 = (lô_magic_°rög_ex_id_tË
magic_°rög_ex_cou¡
;

296 
fú°
 < 
œ°
)

298 c⁄° 
lô_magic_°rög_ex_id_t
 
middÀ
 = (
fú°
 + 
œ°
) / 2;

299 c⁄° 
lô_utf8_byã_t
 *
ext_°rög_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
middÀ
);

300 c⁄° 
lô_utf8_size_t
 
ext_°rög_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
middÀ
);

302 i‡(
°rög_size
 =
ext_°rög_size
)

304 c⁄° 
°rög_com∑ª
 = 
	`memcmp
 (
ext_°rög_p
, 
°rög_p
, 
°rög_size
);

306 i‡(
°rög_com∑ª
 == 0)

308  
middÀ
;

310 i‡(
°rög_com∑ª
 < 0)

312 
fú°
 = 
middÀ
 + 1;

316 
œ°
 = 
middÀ
;

319 i‡(
°rög_size
 > 
ext_°rög_size
)

321 
fú°
 = 
middÀ
 + 1;

325 
œ°
 = 
middÀ
;

329  (
lô_magic_°rög_ex_id_t
Ë
magic_°rög_ex_cou¡
;

330 
	}
}

338 
lô_magic_°rög_ex_id_t


339 
	$lô_is_ex_utf8_°rög_∑ú_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög1_p
,

340 
lô_utf8_size_t
 
°rög1_size
,

341 c⁄° 
lô_utf8_byã_t
 *
°rög2_p
,

342 
lô_utf8_size_t
 
°rög2_size
)

344 c⁄° 
uöt32_t
 
magic_°rög_ex_cou¡
 = 
	`lô_gë_magic_°rög_ex_cou¡
 ();

345 c⁄° 
lô_utf8_size_t
 
tŸÆ_°rög_size
 = 
°rög1_size
 + 
°rög2_size
;

347 i‡(
magic_°rög_ex_cou¡
 == 0

348 || 
tŸÆ_°rög_size
 > 
	`lô_gë_magic_°rög_ex_size
 (
magic_°rög_ex_cou¡
 - 1))

350  (
lô_magic_°rög_ex_id_t
Ë
magic_°rög_ex_cou¡
;

353 
lô_magic_°rög_ex_id_t
 
fú°
 = 0;

354 
lô_magic_°rög_ex_id_t
 
œ°
 = (lô_magic_°rög_ex_id_tË
magic_°rög_ex_cou¡
;

356 
fú°
 < 
œ°
)

358 c⁄° 
lô_magic_°rög_ex_id_t
 
middÀ
 = (
fú°
 + 
œ°
) / 2;

359 c⁄° 
lô_utf8_byã_t
 *
ext_°rög_p
 = 
	`lô_gë_magic_°rög_ex_utf8
 (
middÀ
);

360 c⁄° 
lô_utf8_size_t
 
ext_°rög_size
 = 
	`lô_gë_magic_°rög_ex_size
 (
middÀ
);

362 i‡(
tŸÆ_°rög_size
 =
ext_°rög_size
)

364 
°rög_com∑ª
 = 
	`memcmp
 (
ext_°rög_p
, 
°rög1_p
, 
°rög1_size
);

366 i‡(
°rög_com∑ª
 == 0)

368 
°rög_com∑ª
 = 
	`memcmp
 (
ext_°rög_p
 + 
°rög1_size
, 
°rög2_p
, 
°rög2_size
);

371 i‡(
°rög_com∑ª
 == 0)

373  
middÀ
;

375 i‡(
°rög_com∑ª
 < 0)

377 
fú°
 = 
middÀ
 + 1;

381 
œ°
 = 
middÀ
;

384 i‡(
tŸÆ_°rög_size
 > 
ext_°rög_size
)

386 
fú°
 = 
middÀ
 + 1;

390 
œ°
 = 
middÀ
;

394  (
lô_magic_°rög_ex_id_t
Ë
magic_°rög_ex_cou¡
;

395 
	}
}

405 
lô_utf8_byã_t
 *

406 
	$lô_c›y_magic_°rög_to_buf„r
 (
lô_magic_°rög_id_t
 
id
,

407 
lô_utf8_byã_t
 *
buf„r_p
,

408 
lô_utf8_size_t
 
buf„r_size
)

410 c⁄° 
lô_utf8_byã_t
 *
magic_°rög_byãs_p
 = 
	`lô_gë_magic_°rög_utf8
 (
id
);

411 
lô_utf8_size_t
 
magic_°rög_byãs_cou¡
 = 
	`lô_gë_magic_°rög_size
 (
id
);

413 c⁄° 
lô_utf8_byã_t
 *
°r_ôî_p
 = 
magic_°rög_byãs_p
;

414 
lô_utf8_byã_t
 *
buf_ôî_p
 = 
buf„r_p
;

415 
lô_utf8_size_t
 
byãs_c›õd
 = 0;

417 
magic_°rög_byãs_cou¡
--)

419 
byãs_c›õd
 ++;

420 
	`JERRY_ASSERT
 (
byãs_c›õd
 <
buf„r_size
);

422 *
buf_ôî_p
++ = *
°r_ôî_p
++;

425  
buf_ôî_p
;

426 
	}
}

	@deps/jerry/jerry-core/lit/lit-magic-strings.h

16 #i‚de‡
LIT_MAGIC_STRINGS_H


17 
	#LIT_MAGIC_STRINGS_H


	)

19 
	~"lô-globÆs.h
"

24 
	#LIT_MAGIC_STRING_LENGTH_LIMIT
 32

	)

31 
	#LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
(
size
, 
id
)

	)

32 
	#LIT_MAGIC_STRING_DEF
(
id
, 
ascii_zt_°rög
) \

33 
id
,

	)

34 
	~"lô-magic-°rögs.öc.h
"

35 #unde‡
LIT_MAGIC_STRING_DEF


36 #unde‡
LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE


37 
	mLIT_NON_INTERNAL_MAGIC_STRING__COUNT
,

38 
	mLIT_INTERNAL_MAGIC_STRING_PROMISE
 = 
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
,

40 
	mLIT_INTERNAL_MAGIC_STRING_ALREADY_RESOLVED
,

41 
	mLIT_INTERNAL_MAGIC_STRING_RESOLVE_FUNCTION
,

42 
	mLIT_INTERNAL_MAGIC_STRING_REJECT_FUNCTION
,

43 
	mLIT_NEED_MARK_MAGIC_STRING__COUNT
,

45 
	mLIT_INTERNAL_MAGIC_STRING_NATIVE_HANDLE
 = 
LIT_NEED_MARK_MAGIC_STRING__COUNT
,

47 
	mLIT_INTERNAL_MAGIC_STRING_NATIVE_POINTER
,

48 
	mLIT_MAGIC_STRING__COUNT


49 } 
	tlô_magic_°rög_id_t
;

54 
uöt32_t
 
	tlô_magic_°rög_ex_id_t
;

56 
uöt32_t
 
lô_gë_magic_°rög_ex_cou¡
 ();

58 c⁄° 
lô_utf8_byã_t
 *
lô_gë_magic_°rög_utf8
 (
lô_magic_°rög_id_t
 
id
);

59 
lô_utf8_size_t
 
lô_gë_magic_°rög_size
 (
lô_magic_°rög_id_t
 
id
);

60 
lô_magic_°rög_id_t
 
lô_gë_magic_°rög_size_block_°¨t
 (
lô_utf8_size_t
 
size
);

62 c⁄° 
lô_utf8_byã_t
 *
lô_gë_magic_°rög_ex_utf8
 (
lô_magic_°rög_ex_id_t
 
id
);

63 
lô_utf8_size_t
 
lô_gë_magic_°rög_ex_size
 (
lô_magic_°rög_ex_id_t
 
id
);

65 
lô_magic_°rögs_ex_£t
 (c⁄° 
lô_utf8_byã_t
 **
ex_°r_ôems
, 
uöt32_t
 
cou¡
,

66 c⁄° 
lô_utf8_size_t
 *
ex_°r_sizes
);

68 
lô_magic_°rög_id_t
 
lô_is_utf8_°rög_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
, 
lô_utf8_size_t
 
°rög_size
);

69 
lô_magic_°rög_id_t
 
lô_is_utf8_°rög_∑ú_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög1_p
, 
lô_utf8_size_t
 
°rög1_size
,

70 c⁄° 
lô_utf8_byã_t
 *
°rög2_p
, 
lô_utf8_size_t
 
°rög2_size
);

72 
lô_magic_°rög_ex_id_t
 
lô_is_ex_utf8_°rög_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög_p
, 
lô_utf8_size_t
 
°rög_size
);

73 
lô_magic_°rög_ex_id_t
 
lô_is_ex_utf8_°rög_∑ú_magic
 (c⁄° 
lô_utf8_byã_t
 *
°rög1_p
,

74 
lô_utf8_size_t
 
°rög1_size
,

75 c⁄° 
lô_utf8_byã_t
 *
°rög2_p
,

76 
lô_utf8_size_t
 
°rög2_size
);

78 
lô_utf8_byã_t
 *
lô_c›y_magic_°rög_to_buf„r
 (
lô_magic_°rög_id_t
 
id
,Üô_utf8_byã_à*
buf„r_p
,

79 
lô_utf8_size_t
 
buf„r_size
);

	@deps/jerry/jerry-core/lit/lit-magic-strings.inc.h

20 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING__EMPTY
, "")

21 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NEW_LINE_CHAR
, "\n")

22 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SPACE_CHAR
, " ")

23 #i‡!
deföed
 (
CONFIG_DISABLE_JSON_BUILTIN
)

24 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_DOUBLE_QUOTE_CHAR
, "\"")

26 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LEFT_PARENTHESIS_CHAR
, "(")

27 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RIGHT_PARENTHESIS_CHAR
, ")")

28 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_COMMA_CHAR
, ",")

29 #i‡!
deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

30 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MINUS_CHAR
, "-")

32 #i‡!
deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

33 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SLASH_CHAR
, "/")

35 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_COLON_CHAR
, ":")

36 #i‡!
deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

37 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_E_U
, "E")

39 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LEFT_SQUARE_CHAR
, "[")

40 #i‡!
deföed
 (
CONFIG_DISABLE_JSON_BUILTIN
)

41 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BACKSLASH_CHAR
, "\\")

43 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RIGHT_SQUARE_CHAR
, "]")

44 #i‡!
deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

45 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_G_CHAR
, "g")

46 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_I_CHAR
, "i")

47 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_M_CHAR
, "m")

49 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LEFT_BRACE_CHAR
, "{")

50 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RIGHT_BRACE_CHAR
, "}")

51 #i‡!
deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

52 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PI_U
, "PI")

54 #i‡!
deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

55 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_OF
, "of")

57 #i‡!
deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

58 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LN2_U
, "LN2")

60 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NAN
, "NaN")

61 #i‡!
deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

62 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UTC_U
, "UTC")

64 #i‡!
deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

65 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ABS
, "abs")

67 #i‡!
deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

68 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ALL
, "all")

70 #i‡!
deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

71 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_COS
, "cos")

72 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_EXP
, "exp")

74 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET
, "get")

75 #i‡!
deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

76 
LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LOG
, "log")

78 #i‡!
deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

79 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

80 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MAP
, "map")

82 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

83 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MAX
, "max")

84 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MIN
, "min")

86 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

87 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NOW
, "now")

89 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

90 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_POP
, "pop")

92 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

93 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_POW
, "pow")

95 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET
, "set")

96 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

97 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SIN
, "sin")

98 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TAN
, "tan")

100 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

101 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
, "(?:)")

103 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_DATE_UL
, "Date")

104 #i‡!
	`deföed
 (
CONFIG_DISABLE_JSON_BUILTIN
)

105 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_JSON_U
, "JSON")

107 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

108 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LN10_U
, "LN10")

109 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MATH_UL
, "Math")

111 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NULL_UL
, "Null")

112 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

113 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ACOS
, "acos")

114 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ASIN
, "asin")

115 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ATAN
, "atan")

117 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BIND
, "bind")

118 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CALL
, "call")

119 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

120 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CEIL
, "ceil")

122 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_EVAL
, "eval")

123 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

124 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_EXEC
, "exec")

126 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

127 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FROM
, "from")

129 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

130 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_JOIN
, "join")

132 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_KEYS
, "keys")

133 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NAME
, "name")

134 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NULL
, "null")

135 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

136 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PUSH
, "push")

138 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

139 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RACE
, "race")

141 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SEAL
, "seal")

142 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

143 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

144 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SOME
, "some")

146 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

147 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SORT
, "sort")

149 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

150 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SQRT
, "sqrt")

152 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

153 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TEST
, "test")

155 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

156 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_THEN
, "then")

158 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

159 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TRIM
, "trim")

161 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TRUE
, "true")

162 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ARRAY_UL
, "Array")

163 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ERROR_UL
, "Error")

164 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

165 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LOG2E_U
, "LOG2E")

166 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SQRT2_U
, "SQRT2")

168 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_APPLY
, "apply")

169 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

170 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ATAN2
, "atan2")

172 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

173 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CATCH
, "catch")

175 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

176 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

177 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_EVERY
, "every")

179 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FALSE
, "false")

180 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

181 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FLOOR
, "floor")

183 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
) \

184 || !
	$deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

185 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INDEX
, "index")

187 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

188 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INPUT
, "input")

190 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_NAN
, "isNaN")

191 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_STRING_BUILTIN
)

192 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MATCH
, "match")

194 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
) \

195 || !
	$deföed
 (
CONFIG_DISABLE_JSON_BUILTIN
)

196 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PARSE
, "parse")

198 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

199 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ROUND
, "round")

201 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

202 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SHIFT
, "shift")

204 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

205 || !
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
) \

206 || !
	$deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

207 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SLICE
, "slice")

209 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

210 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SPLIT
, "split")

212 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_VALUE
, "value")

213 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

214 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LOG10E_U
, "LOG10E")

216 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NUMBER_UL
, "Number")

217 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_OBJECT_UL
, "Object")

218 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REGEXP_UL
, "RegExp")

219 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_STRING_UL
, "String")

220 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

221 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BUFFER
, "buffer")

223 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CALLEE
, "callee")

224 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CALLER
, "caller")

225 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

226 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CHAR_AT_UL
, "charAt")

228 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

229 || !
	$deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

230 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CONCAT
, "concat")

232 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CREATE
, "create")

233 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
)

234 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ESCAPE
, "escape")

236 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

237 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

238 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FILTER
, "filter")

240 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FREEZE
, "freeze")

241 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

242 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_DAY_UL
, "getDay")

244 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

245 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GLOBAL
, "global")

247 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

248 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_VIEW_UL
, "isView")

250 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LENGTH
, "length")

251 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NUMBER
, "number")

252 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_OBJECT
, "object")

253 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

254 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RANDOM
, "random")

256 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

257 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

258 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REDUCE
, "reduce")

260 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

261 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REJECT
, "reject")

263 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_STRING_BUILTIN
)

264 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SEARCH
, "search")

266 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

267 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SOURCE
, "source")

269 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

270 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SPLICE
, "splice")

272 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_STRING
, "string")

273 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_STRING_BUILTIN
)

274 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SUBSTR
, "substr")

276 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
) \

277 || !
	$deföed
 (
CONFIG_DISABLE_JSON_BUILTIN
)

278 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_JSON_UL
, "toJSON")

280 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BOOLEAN_UL
, "Boolean")

281 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

282 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PROMISE_UL
, "Promise")

284 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

285 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SQRT1_2_U
, "SQRT1_2")

287 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BOOLEAN
, "boolean")

288 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_REGEXP_BUILTIN
)

289 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_COMPILE
, "compile")

291 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

292 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

293 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FOR_EACH_UL
, "forEach")

295 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

296 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_DATE_UL
, "getDate")

297 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_TIME_UL
, "getTime")

299 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_DATE_BUILTIN
)

300 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_YEAR_UL
, "getYear")

302 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

303 || !
	$deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

304 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INDEX_OF_UL
, "indexOf")

306 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

307 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_ARRAY_UL
, "isArray")

309 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MESSAGE
, "message")

310 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_STRING_BUILTIN
)

311 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REPLACE
, "replace")

313 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN
)

314 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RESOLVE
, "resolve")

316 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

317 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

318 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REVERSE
, "reverse")

320 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

321 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_DATE_UL
, "setDate")

322 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_TIME_UL
, "setTime")

324 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_DATE_BUILTIN
)

325 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_YEAR_UL
, "setYear")

327 #i‡!
	`deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

328 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_FIXED_UL
, "toFixed")

330 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
)

331 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UNSHIFT
, "unshift")

333 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_VALUE_OF_UL
, "valueOf")

334 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FUNCTION_UL
, "Function")

335 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INFINITY_UL
, "Infinity")

336 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

337 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_URI_ERROR_UL
, "URIError")

339 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FUNCTION
, "function")

340 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

341 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_HOURS_UL
, "getHours")

342 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_MONTH_UL
, "getMonth")

344 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_FINITE
, "isFinite")

345 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_FROZEN_UL
, "isFrozen")

346 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_SEALED_UL
, "isSealed")

347 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PARSE_INT
, "parseInt")

348 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

349 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_HOURS_UL
, "setHours")

350 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_MONTH_UL
, "setMonth")

352 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_STRING_UL
, "toString")

353 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
)

354 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UNESCAPE
, "unescape")

356 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_WRITABLE
, "writable")

357 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NEGATIVE_INFINITY_UL
, "-Infinity")

358 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ARGUMENTS_UL
, "Arguments")

359 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

360 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_EVAL_ERROR_UL
, "EvalError")

362 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

363 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INT8_ARRAY_UL
, "Int8Array")

365 #i‡!
	`deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

366 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MAX_VALUE_U
, "MAX_VALUE")

367 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MIN_VALUE_U
, "MIN_VALUE")

369 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

370 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TYPE_ERROR_UL
, "TypeError")

372 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UNDEFINED_UL
, "Undefined")

373 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ARGUMENTS
, "arguments")

374 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_DECODE_URI
, "decodeURI")

375 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ENCODE_URI
, "encodeURI")

376 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

377 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_DAY_UL
, "getUTCDay")

379 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

380 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LASTINDEX_UL
, "lastIndex")

381 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_MULTILINE
, "multiline")

383 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PROTOTYPE
, "prototype")

384 #i‡!
	`deföed
 (
CONFIG_DISABLE_JSON_BUILTIN
)

385 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_STRINGIFY
, "stringify")

387 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

388 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SUBSTRING
, "substring")

390 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UNDEFINED
, "undefined")

391 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

392 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INT16_ARRAY_UL
, "Int16Array")

393 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INT32_ARRAY_UL
, "Int32Array")

395 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

396 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_RANGE_ERROR_UL
, "RangeError")

398 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

399 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TYPED_ARRAY_UL
, "TypedArray")

400 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UINT8_ARRAY_UL
, "Uint8Array")

401 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BYTE_LENGTH_UL
, "byteLength")

402 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BYTE_OFFSET_UL
, "byteOffset")

404 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

405 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CHAR_CODE_AT_UL
, "charCodeAt")

407 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ENUMERABLE
, "enumerable")

408 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

409 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_MINUTES_UL
, "getMinutes")

410 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_SECONDS_UL
, "getSeconds")

411 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_DATE_UL
, "getUTCDate")

413 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

414 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IGNORECASE_UL
, "ignoreCase")

416 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PARSE_FLOAT
, "parseFloat")

417 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

418 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_MINUTES_UL
, "setMinutes")

419 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_SECONDS_UL
, "setSeconds")

420 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_DATE_UL
, "setUTCDate")

422 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

423 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
, "ArrayBuffer")

425 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

426 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SYNTAX_ERROR_UL
, "SyntaxError")

428 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

429 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UINT16_ARRAY_UL
, "Uint16Array")

430 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UINT32_ARRAY_UL
, "Uint32Array")

432 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CONSTRUCTOR
, "constructor")

433 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

434 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_FULL_YEAR_UL
, "getFullYear")

435 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_HOURS_UL
, "getUTCHours")

436 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_MONTH_UL
, "getUTCMonth")

438 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

439 || !
	$deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

440 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LAST_INDEX_OF_UL
, "lastIndexOf")

442 #i‡!
	`deföed
 (
CONFIG_DISABLE_ARRAY_BUILTIN
) \

443 || !
	$deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

444 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REDUCE_RIGHT_UL
, "reduceRight")

446 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

447 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_FULL_YEAR_UL
, "setFullYear")

448 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_HOURS_UL
, "setUTCHours")

449 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_MONTH_UL
, "setUTCMonth")

451 #i‡!
	`deföed
 (
CONFIG_DISABLE_ANNEXB_BUILTIN
Ë&& !deföed (
CONFIG_DISABLE_DATE_BUILTIN
)

452 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_GMT_STRING_UL
, "toGMTString")

454 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

455 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_ISO_STRING_UL
, "toISOString")

457 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

458 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_LOWER_CASE_UL
, "toLowerCase")

460 #i‡!
	`deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

461 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_PRECISION_UL
, "toPrecision")

463 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

464 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_UTC_STRING_UL
, "toUTCString")

466 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

467 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_UPPER_CASE_UL
, "toUpperCase")

469 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

470 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
, "Float32Array")

472 #i‡ 
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64
 && !
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

473 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
, "Float64Array")

475 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

476 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_INVALID_DATE_UL
, "Invalid Date")

478 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_CONFIGURABLE
, "configurable")

479 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

480 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_FROM_CHAR_CODE_UL
, "fromCharCode")

482 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_EXTENSIBLE
, "isExtensible")

483 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

484 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_DATE_STRING_UL
, "toDateString")

485 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_TIME_STRING_UL
, "toTimeString")

486 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_MINUTES_UL
, "getUTCMinutes")

487 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_SECONDS_UL
, "getUTCSeconds")

489 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_IS_PROTOTYPE_OF_UL
, "isPrototypeOf")

490 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

491 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_LOCALE_COMPARE_UL
, "localeCompare")

493 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

494 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_MINUTES_UL
, "setUTCMinutes")

495 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_SECONDS_UL
, "setUTCSeconds")

497 #i‡!
	`deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

498 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_EXPONENTIAL_UL
, "toExponential")

500 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

501 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_REFERENCE_ERROR_UL
, "ReferenceError")

503 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_DEFINE_PROPERTY_UL
, "defineProperty")

504 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_PROTOTYPE_OF_UL
, "getPrototypeOf")

505 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

506 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_FULL_YEAR_UL
, "getUTCFullYear")

508 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_HAS_OWN_PROPERTY_UL
, "hasOwnProperty")

509 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_BUILTIN
)

510 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_PROTOTYPE_OF_UL
, "setPrototypeOf")

512 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

513 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_FULL_YEAR_UL
, "setUTCFullYear")

515 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_LOCALE_STRING_UL
, "toLocaleString")

516 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

517 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_MILLISECONDS_UL
, "getMilliseconds")

518 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_MILLISECONDS_UL
, "setMilliseconds")

520 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_DEFINE_PROPERTIES_UL
, "defineProperties")

521 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

522 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
, "BYTES_PER_ELEMENT")

524 #i‡!
	`deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

525 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_NEGATIVE_INFINITY_U
, "NEGATIVE_INFINITY")

526 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_POSITIVE_INFINITY_U
, "POSITIVE_INFINITY")

528 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

529 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
, "Uint8ClampedArray")

531 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

532 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_TIMEZONE_OFFSET_UL
, "getTimezoneOffset")

534 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PREVENT_EXTENSIONS_UL
, "preventExtensions")

535 #i‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

536 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_LOCALE_LOWER_CASE_UL
, "toLocaleLowerCase")

537 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_LOCALE_UPPER_CASE_UL
, "toLocaleUpperCase")

539 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_DECODE_URI_COMPONENT
, "decodeURIComponent")

540 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_ENCODE_URI_COMPONENT
, "encodeURIComponent")

541 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

542 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_UTC_MILLISECONDS_UL
, "getUTCMilliseconds")

543 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_SET_UTC_MILLISECONDS_UL
, "setUTCMilliseconds")

544 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_LOCALE_DATE_STRING_UL
, "toLocaleDateString")

545 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_TO_LOCALE_TIME_STRING_UL
, "toLocaleTimeString")

547 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_OWN_PROPERTY_NAMES_UL
, "getOwnPropertyNames")

548 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_PROPERTY_IS_ENUMERABLE_UL
, "propertyIsEnumerable")

549 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING_GET_OWN_PROPERTY_DESCRIPTOR_UL
, "getOwnPropertyDescriptor")

550 
	`LIT_MAGIC_STRING_DEF
 (
LIT_MAGIC_STRING__FUNCTION_TO_STRING
, "function(){/*Écmascript */}")

552 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (0, 
LIT_MAGIC_STRING__EMPTY
)

553 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (1, 
LIT_MAGIC_STRING_NEW_LINE_CHAR
)

554 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

555 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (2, 
LIT_MAGIC_STRING_PI_U
)

556 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

557 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (2, 
LIT_MAGIC_STRING_OF
)

558 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

559 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (2, 
LIT_MAGIC_STRING_LN2_U
)

561 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (2, 
LIT_MAGIC_STRING_NAN
)

563 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

564 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (3, 
LIT_MAGIC_STRING_LN2_U
)

566 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (3, 
LIT_MAGIC_STRING_NAN
)

568 #i‡!
	`deföed
 (
CONFIG_DISABLE_REGEXP_BUILTIN
)

569 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (4, 
LIT_MAGIC_STRING_EMPTY_NON_CAPTURE_GROUP
)

571 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (4, 
LIT_MAGIC_STRING_DATE_UL
)

573 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (5, 
LIT_MAGIC_STRING_ARRAY_UL
)

574 #i‡!
	`deföed
 (
CONFIG_DISABLE_MATH_BUILTIN
)

575 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (6, 
LIT_MAGIC_STRING_LOG10E_U
)

577 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (6, 
LIT_MAGIC_STRING_NUMBER_UL
)

579 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (7, 
LIT_MAGIC_STRING_BOOLEAN_UL
)

580 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (8, 
LIT_MAGIC_STRING_FUNCTION_UL
)

581 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (9, 
LIT_MAGIC_STRING_NEGATIVE_INFINITY_UL
)

582 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

583 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (10, 
LIT_MAGIC_STRING_INT16_ARRAY_UL
)

584 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

585 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (10, 
LIT_MAGIC_STRING_RANGE_ERROR_UL
)

586 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

587 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (10, 
LIT_MAGIC_STRING_TYPED_ARRAY_UL
)

588 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_STRING_BUILTIN
)

589 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (10, 
LIT_MAGIC_STRING_CHAR_CODE_AT_UL
)

591 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (10, 
LIT_MAGIC_STRING_ENUMERABLE
)

593 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

594 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (11, 
LIT_MAGIC_STRING_ARRAY_BUFFER_UL
)

595 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

596 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (11, 
LIT_MAGIC_STRING_SYNTAX_ERROR_UL
)

597 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

598 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (11, 
LIT_MAGIC_STRING_UINT16_ARRAY_UL
)

600 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (11, 
LIT_MAGIC_STRING_CONSTRUCTOR
)

602 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

603 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (12, 
LIT_MAGIC_STRING_FLOAT32_ARRAY_UL
)

604 #ñi‡ 
CONFIG_ECMA_NUMBER_TYPE
 =
CONFIG_ECMA_NUMBER_FLOAT64
 && !
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

605 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (12, 
LIT_MAGIC_STRING_FLOAT64_ARRAY_UL
)

606 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

607 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (12, 
LIT_MAGIC_STRING_INVALID_DATE_UL
)

609 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (12, 
LIT_MAGIC_STRING_CONFIGURABLE
)

611 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

612 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (13, 
LIT_MAGIC_STRING_GET_UTC_MINUTES_UL
)

614 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (13, 
LIT_MAGIC_STRING_IS_PROTOTYPE_OF_UL
)

616 #i‡!
	`deföed
 (
CONFIG_DISABLE_ERROR_BUILTINS
)

617 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (14, 
LIT_MAGIC_STRING_REFERENCE_ERROR_UL
)

619 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (14, 
LIT_MAGIC_STRING_DEFINE_PROPERTY_UL
)

621 #i‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

622 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (15, 
LIT_MAGIC_STRING_GET_MILLISECONDS_UL
)

624 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (15, 
LIT_MAGIC_STRING_DEFINE_PROPERTIES_UL
)

626 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (16, 
LIT_MAGIC_STRING_DEFINE_PROPERTIES_UL
)

627 #i‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

628 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (17, 
LIT_MAGIC_STRING_BYTES_PER_ELEMENT_U
)

629 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_NUMBER_BUILTIN
)

630 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (17, 
LIT_MAGIC_STRING_NEGATIVE_INFINITY_U
)

631 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_ES2015_TYPEDARRAY_BUILTIN
)

632 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (17, 
LIT_MAGIC_STRING_UINT8_CLAMPED_ARRAY_UL
)

633 #ñi‡!
	`deföed
 (
CONFIG_DISABLE_DATE_BUILTIN
)

634 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (17, 
LIT_MAGIC_STRING_GET_TIMEZONE_OFFSET_UL
)

636 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (17, 
LIT_MAGIC_STRING_PREVENT_EXTENSIONS_UL
)

638 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (18, 
LIT_MAGIC_STRING_DECODE_URI_COMPONENT
)

639 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (19, 
LIT_MAGIC_STRING_GET_OWN_PROPERTY_NAMES_UL
)

640 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (20, 
LIT_MAGIC_STRING_PROPERTY_IS_ENUMERABLE_UL
)

641 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (21, 
LIT_MAGIC_STRING_GET_OWN_PROPERTY_DESCRIPTOR_UL
)

642 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (22, 
LIT_MAGIC_STRING_GET_OWN_PROPERTY_DESCRIPTOR_UL
)

643 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (23, 
LIT_MAGIC_STRING_GET_OWN_PROPERTY_DESCRIPTOR_UL
)

644 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (24, 
LIT_MAGIC_STRING_GET_OWN_PROPERTY_DESCRIPTOR_UL
)

645 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (25, 
LIT_MAGIC_STRING__FUNCTION_TO_STRING
)

646 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (26, 
LIT_MAGIC_STRING__FUNCTION_TO_STRING
)

647 
	$LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (27, 
LIT_MAGIC_STRING__FUNCTION_TO_STRING
)

648 
	`LIT_MAGIC_STRING_FIRST_STRING_WITH_SIZE
 (28, 
LIT_MAGIC_STRING__FUNCTION_TO_STRING
)

	@deps/jerry/jerry-core/lit/lit-strings.c

16 
	~"lô-°rögs.h
"

18 
	~"jπ-libc-ö˛udes.h
"

30 
boﬁ


31 
	$lô_is_vÆid_utf8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
,

32 
lô_utf8_size_t
 
buf_size
)

34 
lô_utf8_size_t
 
idx
 = 0;

36 
boﬁ
 
is_¥ev_code_poöt_high_suºog©e
 = 
Ál£
;

37 
idx
 < 
buf_size
)

39 
lô_utf8_byã_t
 
c
 = 
utf8_buf_p
[
idx
++];

40 i‡((
c
 & 
LIT_UTF8_1_BYTE_MASK
Ë=
LIT_UTF8_1_BYTE_MARKER
)

42 
is_¥ev_code_poöt_high_suºog©e
 = 
Ál£
;

46 
lô_code_poöt_t
 
code_poöt
 = 0;

47 
lô_code_poöt_t
 
mö_code_poöt
 = 0;

48 
lô_utf8_size_t
 
exåa_byãs_cou¡
;

49 i‡((
c
 & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

51 
exåa_byãs_cou¡
 = 1;

52 
mö_code_poöt
 = 
LIT_UTF8_2_BYTE_CODE_POINT_MIN
;

53 
code_poöt
 = ((
uöt32_t
Ë(
c
 & 
LIT_UTF8_LAST_5_BITS_MASK
));

55 i‡((
c
 & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
)

57 
exåa_byãs_cou¡
 = 2;

58 
mö_code_poöt
 = 
LIT_UTF8_3_BYTE_CODE_POINT_MIN
;

59 
code_poöt
 = ((
uöt32_t
Ë(
c
 & 
LIT_UTF8_LAST_4_BITS_MASK
));

61 i‡((
c
 & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

63 
exåa_byãs_cou¡
 = 3;

64 
mö_code_poöt
 = 
LIT_UTF8_4_BYTE_CODE_POINT_MIN
;

65 
code_poöt
 = ((
uöt32_t
Ë(
c
 & 
LIT_UTF8_LAST_3_BITS_MASK
));

70  
Ál£
;

73 i‡(
idx
 + 
exåa_byãs_cou¡
 > 
buf_size
)

76  
Ál£
;

79 
lô_utf8_size_t
 
off£t
 = 0; off£à< 
exåa_byãs_cou¡
; ++offset)

81 
c
 = 
utf8_buf_p
[
idx
 + 
off£t
];

82 i‡((
c
 & 
LIT_UTF8_EXTRA_BYTE_MASK
Ë!
LIT_UTF8_EXTRA_BYTE_MARKER
)

85  
Ál£
;

87 
code_poöt
 <<
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

88 
code_poöt
 |(
c
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

91 i‡(
code_poöt
 < 
mö_code_poöt


92 || 
code_poöt
 > 
LIT_UNICODE_CODE_POINT_MAX
)

95  
Ál£
;

98 i‡(
code_poöt
 >
LIT_UTF16_HIGH_SURROGATE_MIN


99 && 
code_poöt
 <
LIT_UTF16_HIGH_SURROGATE_MAX
)

101 
is_¥ev_code_poöt_high_suºog©e
 = 
åue
;

103 i‡(
code_poöt
 >
LIT_UTF16_LOW_SURROGATE_MIN


104 && 
code_poöt
 <
LIT_UTF16_LOW_SURROGATE_MAX


105 && 
is_¥ev_code_poöt_high_suºog©e
)

108  
Ál£
;

112 
is_¥ev_code_poöt_high_suºog©e
 = 
Ál£
;

115 
idx
 +
exåa_byãs_cou¡
;

118  
åue
;

119 
	}
}

127 
boﬁ


128 
	$lô_is_vÆid_˚su8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_buf_p
,

129 
lô_utf8_size_t
 
buf_size
)

131 
lô_utf8_size_t
 
idx
 = 0;

133 
idx
 < 
buf_size
)

135 
lô_utf8_byã_t
 
c
 = 
˚su8_buf_p
[
idx
++];

136 i‡((
c
 & 
LIT_UTF8_1_BYTE_MASK
Ë=
LIT_UTF8_1_BYTE_MARKER
)

141 
lô_code_poöt_t
 
code_poöt
 = 0;

142 
lô_code_poöt_t
 
mö_code_poöt
 = 0;

143 
lô_utf8_size_t
 
exåa_byãs_cou¡
;

144 i‡((
c
 & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

146 
exåa_byãs_cou¡
 = 1;

147 
mö_code_poöt
 = 
LIT_UTF8_2_BYTE_CODE_POINT_MIN
;

148 
code_poöt
 = ((
uöt32_t
Ë(
c
 & 
LIT_UTF8_LAST_5_BITS_MASK
));

150 i‡((
c
 & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
)

152 
exåa_byãs_cou¡
 = 2;

153 
mö_code_poöt
 = 
LIT_UTF8_3_BYTE_CODE_POINT_MIN
;

154 
code_poöt
 = ((
uöt32_t
Ë(
c
 & 
LIT_UTF8_LAST_4_BITS_MASK
));

158  
Ál£
;

161 i‡(
idx
 + 
exåa_byãs_cou¡
 > 
buf_size
)

164  
Ál£
;

167 
lô_utf8_size_t
 
off£t
 = 0; off£à< 
exåa_byãs_cou¡
; ++offset)

169 
c
 = 
˚su8_buf_p
[
idx
 + 
off£t
];

170 i‡((
c
 & 
LIT_UTF8_EXTRA_BYTE_MASK
Ë!
LIT_UTF8_EXTRA_BYTE_MARKER
)

173  
Ál£
;

175 
code_poöt
 <<
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

176 
code_poöt
 |(
c
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

179 i‡(
code_poöt
 < 
mö_code_poöt
)

182  
Ál£
;

185 
idx
 +
exåa_byãs_cou¡
;

188  
åue
;

189 
	}
}

196 
boﬁ


197 
	$lô_is_code_poöt_utf16_low_suºog©e
 (
lô_code_poöt_t
 
code_poöt
)

199  
LIT_UTF16_LOW_SURROGATE_MIN
 <
code_poöt
 && code_poöà<
LIT_UTF16_LOW_SURROGATE_MAX
;

200 
	}
}

207 
boﬁ


208 
	$lô_is_code_poöt_utf16_high_suºog©e
 (
lô_code_poöt_t
 
code_poöt
)

210  
LIT_UTF16_HIGH_SURROGATE_MIN
 <
code_poöt
 && code_poöà<
LIT_UTF16_HIGH_SURROGATE_MAX
;

211 
	}
}

218 
ecma_ch¨_t


219 
	$c⁄vît_code_poöt_to_low_suºog©e
 (
lô_code_poöt_t
 
code_poöt
)

221 
	`JERRY_ASSERT
 (
code_poöt
 > 
LIT_UTF16_CODE_UNIT_MAX
);

223 
ecma_ch¨_t
 
code_unô_bôs
;

224 
code_unô_bôs
 = (
ecma_ch¨_t
Ë(
code_poöt
 & 
LIT_UTF16_LAST_10_BITS_MASK
);

226  (
ecma_ch¨_t
Ë(
LIT_UTF16_LOW_SURROGATE_MARKER
 | 
code_unô_bôs
);

227 
	}
}

234 
ecma_ch¨_t


235 
	$c⁄vît_code_poöt_to_high_suºog©e
 (
lô_code_poöt_t
 
code_poöt
)

237 
	`JERRY_ASSERT
 (
code_poöt
 > 
LIT_UTF16_CODE_UNIT_MAX
);

238 
	`JERRY_ASSERT
 (
code_poöt
 <
LIT_UNICODE_CODE_POINT_MAX
);

240 
ecma_ch¨_t
 
code_unô_bôs
;

241 
code_unô_bôs
 = (
ecma_ch¨_t
Ë((
code_poöt
 - 
LIT_UTF16_FIRST_SURROGATE_CODE_POINT
Ë>> 
LIT_UTF16_BITS_IN_SURROGATE
);

243  (
LIT_UTF16_HIGH_SURROGATE_MARKER
 | 
code_unô_bôs
);

244 
	}
}

254 
lô_utf8_size_t


255 
	$lô_zt_utf8_°rög_size
 (c⁄° 
lô_utf8_byã_t
 *
utf8_°r_p
)

257  (
lô_utf8_size_t
Ë
	`°æí
 ((c⁄° *Ë
utf8_°r_p
);

258 
	}
}

265 
ecma_Àngth_t


266 
	$lô_utf8_°rög_Àngth
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
,

267 
lô_utf8_size_t
 
utf8_buf_size
)

269 
ecma_Àngth_t
 
Àngth
 = 0;

270 
lô_utf8_size_t
 
size
 = 0;

272 
size
 < 
utf8_buf_size
)

274 
size
 +
	`lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (*(
utf8_buf_p
 + size));

275 
Àngth
++;

278 
	`JERRY_ASSERT
 (
size
 =
utf8_buf_size
);

280  
Àngth
;

281 
	}
}

288 
lô_utf8_size_t


289 
	$lô_gë_utf8_size_of_˚su8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_buf_p
,

290 
lô_utf8_size_t
 
˚su8_buf_size
)

292 
lô_utf8_size_t
 
off£t
 = 0;

293 
lô_utf8_size_t
 
utf8_buf_size
 = 
˚su8_buf_size
;

294 
ecma_ch¨_t
 
¥ev_ch
 = 0;

296 
off£t
 < 
˚su8_buf_size
)

298 
ecma_ch¨_t
 
ch
;

299 
off£t
 +
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_buf_p
 + off£t, &
ch
);

301 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
ch
Ë&& 
	`lô_is_code_poöt_utf16_high_suºog©e
 (
¥ev_ch
))

303 
utf8_buf_size
 -= 2;

306 
¥ev_ch
 = 
ch
;

309 
	`JERRY_ASSERT
 (
off£t
 =
˚su8_buf_size
);

311  
utf8_buf_size
;

312 
	}
}

319 
ecma_Àngth_t


320 
	$lô_gë_utf8_Àngth_of_˚su8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_buf_p
,

321 
lô_utf8_size_t
 
˚su8_buf_size
)

323 
lô_utf8_size_t
 
off£t
 = 0;

324 
ecma_Àngth_t
 
utf8_Àngth
 = 0;

325 
ecma_ch¨_t
 
¥ev_ch
 = 0;

327 
off£t
 < 
˚su8_buf_size
)

329 
ecma_ch¨_t
 
ch
;

330 
off£t
 +
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_buf_p
 + off£t, &
ch
);

332 i‡(!
	`lô_is_code_poöt_utf16_low_suºog©e
 (
ch
Ë|| !
	`lô_is_code_poöt_utf16_high_suºog©e
 (
¥ev_ch
))

334 
utf8_Àngth
++;

337 
¥ev_ch
 = 
ch
;

340 
	`JERRY_ASSERT
 (
off£t
 =
˚su8_buf_size
);

342  
utf8_Àngth
;

343 
	}
}

350 
lô_utf8_size_t


351 
	$lô_ªad_code_poöt_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,

352 
lô_utf8_size_t
 
buf_size
,

353 
lô_code_poöt_t
 *
code_poöt
)

355 
	`JERRY_ASSERT
 (
buf_p
 && 
buf_size
);

357 
lô_utf8_byã_t
 
c
 = 
buf_p
[0];

358 i‡((
c
 & 
LIT_UTF8_1_BYTE_MASK
Ë=
LIT_UTF8_1_BYTE_MARKER
)

360 *
code_poöt
 = (
lô_code_poöt_t
Ë(
c
 & 
LIT_UTF8_LAST_7_BITS_MASK
);

364 
lô_code_poöt_t
 
ªt
 = 
LIT_UNICODE_CODE_POINT_NULL
;

365 
ecma_Àngth_t
 
byãs_cou¡
 = 0;

366 i‡((
c
 & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

368 
byãs_cou¡
 = 2;

369 
ªt
 = ((
lô_code_poöt_t
Ë(
c
 & 
LIT_UTF8_LAST_5_BITS_MASK
));

371 i‡((
c
 & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
)

373 
byãs_cou¡
 = 3;

374 
ªt
 = ((
lô_code_poöt_t
Ë(
c
 & 
LIT_UTF8_LAST_4_BITS_MASK
));

376 i‡((
c
 & 
LIT_UTF8_4_BYTE_MASK
Ë=
LIT_UTF8_4_BYTE_MARKER
)

378 
byãs_cou¡
 = 4;

379 
ªt
 = ((
lô_code_poöt_t
Ë(
c
 & 
LIT_UTF8_LAST_3_BITS_MASK
));

383 
	`JERRY_ASSERT
 (
Ál£
);

386 
	`JERRY_ASSERT
 (
buf_size
 >
byãs_cou¡
);

388 
uöt32_t
 
i
 = 1; i < 
byãs_cou¡
; ++i)

390 
ªt
 <<
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

391 
ªt
 |(
buf_p
[
i
] & 
LIT_UTF8_LAST_6_BITS_MASK
);

394 *
code_poöt
 = 
ªt
;

395  
byãs_cou¡
;

396 
	}
}

403 
lô_utf8_size_t


404 
	$lô_ªad_code_unô_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,

405 
ecma_ch¨_t
 *
code_poöt
)

407 
	`JERRY_ASSERT
 (
buf_p
);

409 
lô_utf8_byã_t
 
c
 = 
buf_p
[0];

410 i‡((
c
 & 
LIT_UTF8_1_BYTE_MASK
Ë=
LIT_UTF8_1_BYTE_MARKER
)

412 *
code_poöt
 = (
ecma_ch¨_t
Ë(
c
 & 
LIT_UTF8_LAST_7_BITS_MASK
);

416 
lô_code_poöt_t
 
ªt
 = 
LIT_UNICODE_CODE_POINT_NULL
;

417 
ecma_Àngth_t
 
byãs_cou¡
;

418 i‡((
c
 & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

420 
byãs_cou¡
 = 2;

421 
ªt
 = ((
lô_code_poöt_t
Ë(
c
 & 
LIT_UTF8_LAST_5_BITS_MASK
));

425 
	`JERRY_ASSERT
 ((
c
 & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
);

426 
byãs_cou¡
 = 3;

427 
ªt
 = ((
lô_code_poöt_t
Ë(
c
 & 
LIT_UTF8_LAST_4_BITS_MASK
));

430 
uöt32_t
 
i
 = 1; i < 
byãs_cou¡
; ++i)

432 
ªt
 <<
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

433 
ªt
 |(
buf_p
[
i
] & 
LIT_UTF8_LAST_6_BITS_MASK
);

436 
	`JERRY_ASSERT
 (
ªt
 <
LIT_UTF16_CODE_UNIT_MAX
);

437 *
code_poöt
 = (
ecma_ch¨_t
Ë
ªt
;

438  
byãs_cou¡
;

439 
	}
}

446 
lô_utf8_size_t


447 
	$lô_ªad_¥ev_code_unô_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,

448 
ecma_ch¨_t
 *
code_poöt
)

450 
	`JERRY_ASSERT
 (
buf_p
);

452 
	`lô_utf8_de¸
 (&
buf_p
);

453  
	`lô_ªad_code_unô_‰om_utf8
 (
buf_p
, 
code_poöt
);

454 
	}
}

461 
ecma_ch¨_t


462 
	$lô_utf8_ªad_√xt
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
)

464 
	`JERRY_ASSERT
 (*
buf_p
);

465 
ecma_ch¨_t
 
ch
;

467 *
buf_p
 +
	`lô_ªad_code_unô_‰om_utf8
 (*buf_p, &
ch
);

469  
ch
;

470 
	}
}

477 
ecma_ch¨_t


478 
	$lô_utf8_ªad_¥ev
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
)

480 
	`JERRY_ASSERT
 (*
buf_p
);

481 
ecma_ch¨_t
 
ch
;

483 
	`lô_utf8_de¸
 (
buf_p
);

484 
	`lô_ªad_code_unô_‰om_utf8
 (*
buf_p
, &
ch
);

486  
ch
;

487 
	}
}

494 
ecma_ch¨_t


495 
	$lô_utf8_≥ek_√xt
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
)

497 
	`JERRY_ASSERT
 (
buf_p
);

498 
ecma_ch¨_t
 
ch
;

500 
	`lô_ªad_code_unô_‰om_utf8
 (
buf_p
, &
ch
);

502  
ch
;

503 
	}
}

510 
ecma_ch¨_t


511 
	$lô_utf8_≥ek_¥ev
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
)

513 
	`JERRY_ASSERT
 (
buf_p
);

514 
ecma_ch¨_t
 
ch
;

516 
	`lô_ªad_¥ev_code_unô_‰om_utf8
 (
buf_p
, &
ch
);

518  
ch
;

519 
	}
}

525 
	$lô_utf8_ö¸
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
)

527 
	`JERRY_ASSERT
 (*
buf_p
);

529 *
buf_p
 +
	`lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (**buf_p);

530 
	}
}

536 
	$lô_utf8_de¸
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
)

538 
	`JERRY_ASSERT
 (*
buf_p
);

539 c⁄° 
lô_utf8_byã_t
 *
cuºít_p
 = *
buf_p
;

543 
cuºít_p
--;

545 (*(
cuºít_p
Ë& 
LIT_UTF8_EXTRA_BYTE_MASK
Ë=
LIT_UTF8_EXTRA_BYTE_MARKER
);

547 *
buf_p
 = 
cuºít_p
;

548 
	}
}

560 
ölöe
 
lô_°rög_hash_t
 
__©å_Æways_ölöe___


561 
	$lô_utf8_°rög_hash_comböe
 (
lô_°rög_hash_t
 
hash_basis
,

562 c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
,

563 
lô_utf8_size_t
 
utf8_buf_size
)

565 
	`JERRY_ASSERT
 (
utf8_buf_p
 !
NULL
 || 
utf8_buf_size
 == 0);

567 
uöt32_t
 
hash
 = 
hash_basis
;

569 
uöt32_t
 
i
 = 0; i < 
utf8_buf_size
; i++)

572 
hash
 = (hash ^ 
utf8_buf_p
[
i
]) * 16777619;

575  (
lô_°rög_hash_t
Ë
hash
;

576 
	}
}

583 
ölöe
 
lô_°rög_hash_t
 
__©å_Æways_ölöe___


584 
	$lô_utf8_°rög_ˇlc_hash
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
,

585 
lô_utf8_size_t
 
utf8_buf_size
)

587 
	`JERRY_ASSERT
 (
utf8_buf_p
 !
NULL
 || 
utf8_buf_size
 == 0);

590  
	`lô_utf8_°rög_hash_comböe
 ((
lô_°rög_hash_t
Ë2166136261, 
utf8_buf_p
, 
utf8_buf_size
);

591 
	}
}

601 
ecma_ch¨_t


602 
	$lô_utf8_°rög_code_unô_©
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
,

603 
lô_utf8_size_t
 
utf8_buf_size
,

604 
ecma_Àngth_t
 
code_unô_off£t
)

606 
lô_utf8_byã_t
 *
cuºít_p
 = (lô_utf8_byã_à*Ë
utf8_buf_p
;

607 
ecma_ch¨_t
 
code_unô
;

611 
	`JERRY_ASSERT
 (
cuºít_p
 < 
utf8_buf_p
 + 
utf8_buf_size
);

612 
cuºít_p
 +
	`lô_ªad_code_unô_‰om_utf8
 (cuºít_p, &
code_unô
);

614 
code_unô_off£t
--);

616  
code_unô
;

617 
	}
}

624 
ölöe
 
lô_utf8_size_t
 
__©å_Æways_ölöe___


625 
	$lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (c⁄° 
lô_utf8_byã_t
 
fú°_byã
)

627 i‡((
fú°_byã
 & 
LIT_UTF8_1_BYTE_MASK
Ë=
LIT_UTF8_1_BYTE_MARKER
)

631 i‡((
fú°_byã
 & 
LIT_UTF8_2_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_MARKER
)

637 
	`JERRY_ASSERT
 ((
fú°_byã
 & 
LIT_UTF8_3_BYTE_MASK
Ë=
LIT_UTF8_3_BYTE_MARKER
);

640 
	}
}

647 
lô_utf8_size_t


648 
	$lô_code_unô_to_utf8
 (
ecma_ch¨_t
 
code_unô
,

649 
lô_utf8_byã_t
 *
buf_p
)

652 i‡(
code_unô
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

654 
buf_p
[0] = (
lô_utf8_byã_t
Ë
code_unô
;

657 i‡(
code_unô
 <
LIT_UTF8_2_BYTE_CODE_POINT_MAX
)

659 
uöt32_t
 
code_unô_bôs
 = 
code_unô
;

660 
lô_utf8_byã_t
 
£c⁄d_byã_bôs
 = (lô_utf8_byã_tË(
code_unô_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

661 
code_unô_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

663 
lô_utf8_byã_t
 
fú°_byã_bôs
 = (lô_utf8_byã_tË(
code_unô_bôs
 & 
LIT_UTF8_LAST_5_BITS_MASK
);

664 
	`JERRY_ASSERT
 (
fú°_byã_bôs
 =
code_unô_bôs
);

666 
buf_p
[0] = 
LIT_UTF8_2_BYTE_MARKER
 | 
fú°_byã_bôs
;

667 
buf_p
[1] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
£c⁄d_byã_bôs
;

672 
uöt32_t
 
code_unô_bôs
 = 
code_unô
;

673 
lô_utf8_byã_t
 
thúd_byã_bôs
 = (lô_utf8_byã_tË(
code_unô_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

674 
code_unô_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

676 
lô_utf8_byã_t
 
£c⁄d_byã_bôs
 = (lô_utf8_byã_tË(
code_unô_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

677 
code_unô_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

679 
lô_utf8_byã_t
 
fú°_byã_bôs
 = (lô_utf8_byã_tË(
code_unô_bôs
 & 
LIT_UTF8_LAST_4_BITS_MASK
);

680 
	`JERRY_ASSERT
 (
fú°_byã_bôs
 =
code_unô_bôs
);

682 
buf_p
[0] = 
LIT_UTF8_3_BYTE_MARKER
 | 
fú°_byã_bôs
;

683 
buf_p
[1] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
£c⁄d_byã_bôs
;

684 
buf_p
[2] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
thúd_byã_bôs
;

687 
	}
}

694 
lô_utf8_size_t


695 
	$lô_code_poöt_to_˚su8
 (
lô_code_poöt_t
 
code_poöt
,

696 
lô_utf8_byã_t
 *
buf
)

699 i‡(
code_poöt
 <
LIT_UTF16_CODE_UNIT_MAX
)

701  
	`lô_code_unô_to_utf8
 ((
ecma_ch¨_t
Ë
code_poöt
, 
buf
);

705 
lô_utf8_size_t
 
off£t
 = 
	`lô_code_unô_to_utf8
 (
	`c⁄vît_code_poöt_to_high_suºog©e
 (
code_poöt
), 
buf
);

706 
off£t
 +
	`lô_code_unô_to_utf8
 (
	`c⁄vît_code_poöt_to_low_suºog©e
 (
code_poöt
), 
buf
 + offset);

707  
off£t
;

709 
	}
}

716 
lô_utf8_size_t


717 
	$lô_code_poöt_to_utf8
 (
lô_code_poöt_t
 
code_poöt
,

718 
lô_utf8_byã_t
 *
buf
)

721 i‡(
code_poöt
 <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

723 
buf
[0] = (
lô_utf8_byã_t
Ë
code_poöt
;

726 i‡(
code_poöt
 <
LIT_UTF8_2_BYTE_CODE_POINT_MAX
)

728 
uöt32_t
 
code_poöt_bôs
 = 
code_poöt
;

729 
lô_utf8_byã_t
 
£c⁄d_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

730 
code_poöt_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

732 
lô_utf8_byã_t
 
fú°_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_5_BITS_MASK
);

733 
	`JERRY_ASSERT
 (
fú°_byã_bôs
 =
code_poöt_bôs
);

735 
buf
[0] = 
LIT_UTF8_2_BYTE_MARKER
 | 
fú°_byã_bôs
;

736 
buf
[1] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
£c⁄d_byã_bôs
;

739 i‡(
code_poöt
 <
LIT_UTF8_3_BYTE_CODE_POINT_MAX
)

741 
uöt32_t
 
code_poöt_bôs
 = 
code_poöt
;

742 
lô_utf8_byã_t
 
thúd_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

743 
code_poöt_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

745 
lô_utf8_byã_t
 
£c⁄d_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

746 
code_poöt_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

748 
lô_utf8_byã_t
 
fú°_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_4_BITS_MASK
);

749 
	`JERRY_ASSERT
 (
fú°_byã_bôs
 =
code_poöt_bôs
);

751 
buf
[0] = 
LIT_UTF8_3_BYTE_MARKER
 | 
fú°_byã_bôs
;

752 
buf
[1] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
£c⁄d_byã_bôs
;

753 
buf
[2] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
thúd_byã_bôs
;

758 
	`JERRY_ASSERT
 (
code_poöt
 <
LIT_UTF8_4_BYTE_CODE_POINT_MAX
);

760 
uöt32_t
 
code_poöt_bôs
 = 
code_poöt
;

761 
lô_utf8_byã_t
 
fouπh_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

762 
code_poöt_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

764 
lô_utf8_byã_t
 
thúd_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

765 
code_poöt_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

767 
lô_utf8_byã_t
 
£c⁄d_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_6_BITS_MASK
);

768 
code_poöt_bôs
 >>
LIT_UTF8_BITS_IN_EXTRA_BYTES
;

770 
lô_utf8_byã_t
 
fú°_byã_bôs
 = (lô_utf8_byã_tË(
code_poöt_bôs
 & 
LIT_UTF8_LAST_3_BITS_MASK
);

771 
	`JERRY_ASSERT
 (
fú°_byã_bôs
 =
code_poöt_bôs
);

773 
buf
[0] = 
LIT_UTF8_4_BYTE_MARKER
 | 
fú°_byã_bôs
;

774 
buf
[1] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
£c⁄d_byã_bôs
;

775 
buf
[2] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
thúd_byã_bôs
;

776 
buf
[3] = 
LIT_UTF8_EXTRA_BYTE_MARKER
 | 
fouπh_byã_bôs
;

779 
	}
}

787 
lô_utf8_size_t


788 
	$lô_c⁄vît_˚su8_°rög_to_utf8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_°rög
,

789 
lô_utf8_size_t
 
˚su8_size
,

790 
lô_utf8_byã_t
 *
utf8_°rög
,

792 
lô_utf8_size_t
 
utf8_size
)

794 c⁄° 
lô_utf8_byã_t
 *
˚su8_pos
 = 
˚su8_°rög
;

795 c⁄° 
lô_utf8_byã_t
 *
˚su8_íd_pos
 = 
˚su8_°rög
 + 
˚su8_size
;

797 
lô_utf8_byã_t
 *
utf8_pos
 = 
utf8_°rög
;

798 
lô_utf8_byã_t
 *
utf8_íd_pos
 = 
utf8_°rög
 + 
utf8_size
;

800 
lô_utf8_size_t
 
size
 = 0;

802 
ecma_ch¨_t
 
¥ev_ch
 = 0;

803 
lô_utf8_size_t
 
¥ev_ch_size
 = 0;

805 
˚su8_pos
 < 
˚su8_íd_pos
)

807 
ecma_ch¨_t
 
ch
;

808 
lô_utf8_size_t
 
code_unô_size
 = 
	`lô_ªad_code_unô_‰om_utf8
 (
˚su8_pos
, &
ch
);

810 i‡(
	`lô_is_code_poöt_utf16_low_suºog©e
 (
ch
Ë&& 
	`lô_is_code_poöt_utf16_high_suºog©e
 (
¥ev_ch
))

812 
	`JERRY_ASSERT
 (
code_unô_size
 =
¥ev_ch_size
);

813 
utf8_pos
 -
¥ev_ch_size
;

814 
lô_code_poöt_t
 
code_poöt
 = 
	`lô_c⁄vît_suºog©e_∑ú_to_code_poöt
 (
¥ev_ch
, 
ch
);

815 
	`lô_code_poöt_to_utf8
 (
code_poöt
, 
utf8_pos
);

816 
size
++;

820 
	`mem˝y
 (
utf8_pos
, 
˚su8_pos
, 
code_unô_size
);

821 
size
 +
code_unô_size
;

824 
utf8_pos
 = 
utf8_°rög
 + 
size
;

825 
˚su8_pos
 +
code_unô_size
;

826 
¥ev_ch
 = 
ch
;

827 
¥ev_ch_size
 = 
code_unô_size
;

830 
	`JERRY_ASSERT
 (
˚su8_pos
 =
˚su8_íd_pos
);

831 
	`JERRY_ASSERT
 (
utf8_pos
 <
utf8_íd_pos
);

833  
size
;

834 
	}
}

841 
lô_code_poöt_t


842 
	$lô_c⁄vît_suºog©e_∑ú_to_code_poöt
 (
ecma_ch¨_t
 
high_suºog©e
,

843 
ecma_ch¨_t
 
low_suºog©e
)

845 
	`JERRY_ASSERT
 (
	`lô_is_code_poöt_utf16_high_suºog©e
 (
high_suºog©e
));

846 
	`JERRY_ASSERT
 (
	`lô_is_code_poöt_utf16_low_suºog©e
 (
low_suºog©e
));

848 
lô_code_poöt_t
 
code_poöt
;

849 
code_poöt
 = (
uöt16_t
Ë(
high_suºog©e
 - 
LIT_UTF16_HIGH_SURROGATE_MIN
);

850 
code_poöt
 <<
LIT_UTF16_BITS_IN_SURROGATE
;

852 
code_poöt
 +
LIT_UTF16_FIRST_SURROGATE_CODE_POINT
;

854 
code_poöt
 |(
uöt16_t
Ë(
low_suºog©e
 - 
LIT_UTF16_LOW_SURROGATE_MIN
);

855  
code_poöt
;

856 
	}
}

868 
boﬁ
 
	$lô_com∑ª_utf8_°rögs_ªœti⁄Æ
 (c⁄° 
lô_utf8_byã_t
 *
°rög1_p
,

869 
lô_utf8_size_t
 
°rög1_size
,

870 c⁄° 
lô_utf8_byã_t
 *
°rög2_p
,

871 
lô_utf8_size_t
 
°rög2_size
)

873 
lô_utf8_byã_t
 *
°rög1_pos
 = (lô_utf8_byã_à*Ë
°rög1_p
;

874 
lô_utf8_byã_t
 *
°rög2_pos
 = (lô_utf8_byã_à*Ë
°rög2_p
;

875 c⁄° 
lô_utf8_byã_t
 *
°rög1_íd_p
 = 
°rög1_p
 + 
°rög1_size
;

876 c⁄° 
lô_utf8_byã_t
 *
°rög2_íd_p
 = 
°rög2_p
 + 
°rög2_size
;

878 
°rög1_pos
 < 
°rög1_íd_p
 && 
°rög2_pos
 < 
°rög2_íd_p
)

880 
ecma_ch¨_t
 
ch1
, 
ch2
;

881 
°rög1_pos
 +
	`lô_ªad_code_unô_‰om_utf8
 (°rög1_pos, &
ch1
);

882 
°rög2_pos
 +
	`lô_ªad_code_unô_‰om_utf8
 (°rög2_pos, &
ch2
);

884 i‡(
ch1
 < 
ch2
)

886  
åue
;

888 i‡(
ch1
 > 
ch2
)

890  
Ál£
;

894  (
°rög1_pos
 >
°rög1_íd_p
 && 
°rög2_pos
 < 
°rög2_íd_p
);

895 
	}
}

	@deps/jerry/jerry-core/lit/lit-strings.h

16 #i‚de‡
LIT_STRINGS_H


17 
	#LIT_STRINGS_H


	)

19 
	~"jπ.h
"

20 
	~"lô-globÆs.h
"

25 
	#LIT_BYTE_NULL
 (0)

	)

31 
	#LIT_UNICODE_CODE_POINT_NULL
 (0x0)

	)

32 
	#LIT_UNICODE_CODE_POINT_MAX
 (0x10FFFF)

	)

34 
	#LIT_UTF16_CODE_UNIT_MAX
 (0xFFFF)

	)

35 
	#LIT_UTF16_FIRST_SURROGATE_CODE_POINT
 (0x10000)

	)

36 
	#LIT_UTF16_LOW_SURROGATE_MARKER
 (0xDC00)

	)

37 
	#LIT_UTF16_HIGH_SURROGATE_MARKER
 (0xD800)

	)

38 
	#LIT_UTF16_HIGH_SURROGATE_MIN
 (0xD800)

	)

39 
	#LIT_UTF16_HIGH_SURROGATE_MAX
 (0xDBFF)

	)

40 
	#LIT_UTF16_LOW_SURROGATE_MIN
 (0xDC00)

	)

41 
	#LIT_UTF16_LOW_SURROGATE_MAX
 (0xDFFF)

	)

42 
	#LIT_UTF16_BITS_IN_SURROGATE
 (10)

	)

43 
	#LIT_UTF16_LAST_10_BITS_MASK
 (0x3FF)

	)

45 
	#LIT_UTF8_1_BYTE_MARKER
 (0x00)

	)

46 
	#LIT_UTF8_2_BYTE_MARKER
 (0xC0)

	)

47 
	#LIT_UTF8_3_BYTE_MARKER
 (0xE0)

	)

48 
	#LIT_UTF8_4_BYTE_MARKER
 (0xF0)

	)

49 
	#LIT_UTF8_5_BYTE_MARKER
 (0xF8)

	)

50 
	#LIT_UTF8_EXTRA_BYTE_MARKER
 (0x80)

	)

52 
	#LIT_UTF8_1_BYTE_MASK
 (0x80)

	)

53 
	#LIT_UTF8_2_BYTE_MASK
 (0xE0)

	)

54 
	#LIT_UTF8_3_BYTE_MASK
 (0xF0)

	)

55 
	#LIT_UTF8_4_BYTE_MASK
 (0xF8)

	)

56 
	#LIT_UTF8_EXTRA_BYTE_MASK
 (0xC0)

	)

58 
	#LIT_UTF8_LAST_7_BITS_MASK
 (0x7F)

	)

59 
	#LIT_UTF8_LAST_6_BITS_MASK
 (0x3F)

	)

60 
	#LIT_UTF8_LAST_5_BITS_MASK
 (0x1F)

	)

61 
	#LIT_UTF8_LAST_4_BITS_MASK
 (0x0F)

	)

62 
	#LIT_UTF8_LAST_3_BITS_MASK
 (0x07)

	)

63 
	#LIT_UTF8_LAST_2_BITS_MASK
 (0x03)

	)

64 
	#LIT_UTF8_LAST_1_BIT_MASK
 (0x01)

	)

66 
	#LIT_UTF8_BITS_IN_EXTRA_BYTES
 (6)

	)

68 
	#LIT_UTF8_1_BYTE_CODE_POINT_MAX
 (0x7F)

	)

69 
	#LIT_UTF8_2_BYTE_CODE_POINT_MIN
 (0x80)

	)

70 
	#LIT_UTF8_2_BYTE_CODE_POINT_MAX
 (0x7FF)

	)

71 
	#LIT_UTF8_3_BYTE_CODE_POINT_MIN
 (0x800)

	)

72 
	#LIT_UTF8_3_BYTE_CODE_POINT_MAX
 (
LIT_UTF16_CODE_UNIT_MAX
)

	)

73 
	#LIT_UTF8_4_BYTE_CODE_POINT_MIN
 (0x10000)

	)

74 
	#LIT_UTF8_4_BYTE_CODE_POINT_MAX
 (
LIT_UNICODE_CODE_POINT_MAX
)

	)

80 
	#LIT_UTF8_CESU8_SURROGATE_SIZE_DIF
 (2 * 
LIT_UTF8_MAX_BYTES_IN_CODE_UNIT
 - 
LIT_UTF8_MAX_BYTES_IN_CODE_POINT
)

	)

85 
	#LIT_UTF8_FIRST_BYTE_MAX
 
LIT_UTF8_5_BYTE_MARKER


	)

88 
boﬁ
 
lô_is_vÆid_utf8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
, 
lô_utf8_size_t
 
buf_size
);

89 
boﬁ
 
lô_is_vÆid_˚su8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_buf_p
, 
lô_utf8_size_t
 
buf_size
);

92 
boﬁ
 
lô_is_code_poöt_utf16_low_suºog©e
 (
lô_code_poöt_t
 
code_poöt
);

93 
boﬁ
 
lô_is_code_poöt_utf16_high_suºog©e
 (
lô_code_poöt_t
 
code_poöt
);

96 
lô_utf8_size_t
 
lô_zt_utf8_°rög_size
 (c⁄° 
lô_utf8_byã_t
 *
utf8_°r_p
);

97 
lô_utf8_size_t
 
lô_gë_utf8_size_of_˚su8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_buf_p
,Üô_utf8_size_à
˚su8_buf_size
);

100 
ecma_Àngth_t
 
lô_utf8_°rög_Àngth
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
, 
lô_utf8_size_t
 
utf8_buf_size
);

101 
ecma_Àngth_t
 
lô_gë_utf8_Àngth_of_˚su8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_buf_p
, 
lô_utf8_size_t
 
˚su8_buf_size
);

104 
lô_°rög_hash_t
 
lô_utf8_°rög_ˇlc_hash
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
, 
lô_utf8_size_t
 
utf8_buf_size
);

105 
lô_°rög_hash_t
 
lô_utf8_°rög_hash_comböe
 (lô_°rög_hash_à
hash_basis
, c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
,

106 
lô_utf8_size_t
 
utf8_buf_size
);

109 
ecma_ch¨_t
 
lô_utf8_°rög_code_unô_©
 (c⁄° 
lô_utf8_byã_t
 *
utf8_buf_p
, 
lô_utf8_size_t
 
utf8_buf_size
,

110 
ecma_Àngth_t
 
code_unô_off£t
);

111 
lô_utf8_size_t
 
lô_gë_unicode_ch¨_size_by_utf8_fú°_byã
 (
lô_utf8_byã_t
 
fú°_byã
);

114 
lô_utf8_size_t
 
lô_code_unô_to_utf8
 (
ecma_ch¨_t
 
code_unô
, 
lô_utf8_byã_t
 *
buf_p
);

115 
lô_utf8_size_t
 
lô_code_poöt_to_utf8
 (
lô_code_poöt_t
 
code_poöt
, 
lô_utf8_byã_t
 *
buf
);

116 
lô_utf8_size_t
 
lô_code_poöt_to_˚su8
 (
lô_code_poöt_t
 
code_poöt
, 
lô_utf8_byã_t
 *
buf
);

117 
lô_utf8_size_t
 
lô_c⁄vît_˚su8_°rög_to_utf8_°rög
 (c⁄° 
lô_utf8_byã_t
 *
˚su8_°rög
,

118 
lô_utf8_size_t
 
˚su8_size
,

119 
lô_utf8_byã_t
 *
utf8_°rög
,

120 
lô_utf8_size_t
 
utf8_size
);

121 
lô_code_poöt_t
 
lô_c⁄vît_suºog©e_∑ú_to_code_poöt
 (
ecma_ch¨_t
 
high_suºog©e
,Écma_ch¨_à
low_suºog©e
);

123 
boﬁ
 
lô_com∑ª_utf8_°rögs_ªœti⁄Æ
 (c⁄° 
lô_utf8_byã_t
 *
°rög1_p
, 
lô_utf8_size_t
 
°rög1_size
,

124 c⁄° 
lô_utf8_byã_t
 *
°rög2_p
, 
lô_utf8_size_t
 
°rög2_size
);

127 
lô_utf8_size_t
 
lô_ªad_code_poöt_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,Üô_utf8_size_à
buf_size
,

128 
lô_code_poöt_t
 *
code_poöt
);

130 
lô_utf8_size_t
 
lô_ªad_code_unô_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,

131 
ecma_ch¨_t
 *
code_poöt
);

133 
lô_utf8_size_t
 
lô_ªad_¥ev_code_unô_‰om_utf8
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
,

134 
ecma_ch¨_t
 *
code_poöt
);

136 
ecma_ch¨_t
 
lô_utf8_ªad_√xt
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
);

137 
ecma_ch¨_t
 
lô_utf8_ªad_¥ev
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
);

138 
ecma_ch¨_t
 
lô_utf8_≥ek_√xt
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
);

139 
ecma_ch¨_t
 
lô_utf8_≥ek_¥ev
 (c⁄° 
lô_utf8_byã_t
 *
buf_p
);

140 
lô_utf8_ö¸
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
);

141 
lô_utf8_de¸
 (c⁄° 
lô_utf8_byã_t
 **
buf_p
);

	@deps/jerry/jerry-core/lit/lit-unicode-conversions.inc.h

20 c⁄° 
uöt16_t
 
	glô_ch¨a˘î_ˇ£_ønges
[] 
	gJERRY_CONST_DATA
 =

32 c⁄° 
uöt8_t
 
	glô_ch¨a˘î_ˇ£_ønge_Àngths
[] 
	gJERRY_CONST_DATA
 =

41 c⁄° 
uöt16_t
 
	glô_ch¨a˘î_∑ú_ønges
[] 
	gJERRY_CONST_DATA
 =

52 c⁄° 
uöt8_t
 
	glô_ch¨a˘î_∑ú_ønge_Àngths
[] 
	gJERRY_CONST_DATA
 =

63 c⁄° 
uöt16_t
 
	glô_ch¨a˘î_∑ús
[] 
	gJERRY_CONST_DATA
 =

83 c⁄° 
uöt16_t
 
	glô_uµî_ˇ£_•ecül_ønges
[] 
	gJERRY_CONST_DATA
 =

90 c⁄° 
uöt8_t
 
	glô_uµî_ˇ£_•ecül_ønge_Àngths
[] 
	gJERRY_CONST_DATA
 =

96 c⁄° 
uöt16_t
 
	glô_lowî_ˇ£_ønges
[] 
	gJERRY_CONST_DATA
 =

105 c⁄° 
uöt8_t
 
	glô_lowî_ˇ£_ønge_Àngths
[] 
	gJERRY_CONST_DATA
 =

112 c⁄° 
uöt16_t
 
	glô_lowî_ˇ£_c⁄vîsi⁄s
[] 
	gJERRY_CONST_DATA
 =

122 c⁄° 
uöt8_t
 
	glô_lowî_ˇ£_c⁄vîsi⁄_cou¡îs
[] 
	gJERRY_CONST_DATA
 =

128 c⁄° 
uöt16_t
 
	glô_uµî_ˇ£_c⁄vîsi⁄s
[] 
	gJERRY_CONST_DATA
 =

159 c⁄° 
uöt8_t
 
	glô_uµî_ˇ£_c⁄vîsi⁄_cou¡îs
[] 
	gJERRY_CONST_DATA
 =

	@deps/jerry/jerry-core/lit/lit-unicode-ranges.inc.h

25 c⁄° 
uöt16_t
 
	glô_unicode_Àâî_öãrvÆ_•s
[] 
	gJERRY_CONST_DATA
 =

66 c⁄° 
uöt8_t
 
	glô_unicode_Àâî_öãrvÆ_Àngths
[] 
	gJERRY_CONST_DATA
 =

108 c⁄° 
uöt16_t
 
	glô_unicode_Àâî_ch¨s
[] 
	gJERRY_CONST_DATA
 =

128 c⁄° 
uöt16_t
 
	glô_unicode_n⁄_Àâî_idít_∑π_öãrvÆ_•s
[] 
	gJERRY_CONST_DATA
 =

158 c⁄° 
uöt8_t
 
	glô_unicode_n⁄_Àâî_idít_∑π_öãrvÆ_Àngths
[] 
	gJERRY_CONST_DATA
 =

189 c⁄° 
uöt16_t
 
	glô_unicode_n⁄_Àâî_idít_∑π_ch¨s
[] 
	gJERRY_CONST_DATA
 =

200 c⁄° 
uöt16_t
 
	glô_unicode_£∑øt‹_ch¨_öãrvÆ_•s
[] 
	gJERRY_CONST_DATA
 =

208 c⁄° 
uöt8_t
 
	glô_unicode_£∑øt‹_ch¨_öãrvÆ_Àngths
[] 
	gJERRY_CONST_DATA
 =

219 c⁄° 
uöt16_t
 
	glô_unicode_£∑øt‹_ch¨s
[] 
	gJERRY_CONST_DATA
 =

	@deps/jerry/jerry-core/parser/js/byte-code.c

16 
	~"js-∑r£r-öã∫Æ.h
"

18 
JERRY_STATIC_ASSERT
 (( (
cbc_uöt8_¨gumíts_t
Ë%  (
jmem_˝oöãr_t
)) == 0,

19 
sizeof_cbc_uöt8_¨gumíts_t_mu°_be_divisibÀ_by_sizeof_jmem_˝oöãr_t
);

21 
JERRY_STATIC_ASSERT
 (( (
cbc_uöt16_¨gumíts_t
Ë%  (
jmem_˝oöãr_t
)) == 0,

22 
sizeof_cbc_uöt16_¨gumíts_t_mu°_be_divisibÀ_by_sizeof_jmem_˝oöãr_t
);

24 #i‡
JERRY_JS_PARSER


36 
	#CBC_OPCODE
(
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
) \

37 ((
¨g2
Ë| (((
¨g3
Ë+ 
CBC_STACK_ADJUST_BASE
Ë<< 
CBC_STACK_ADJUST_SHIFT
)),

	)

42 c⁄° 
uöt8_t
 
	gcbc_Êags
[] 
	gJERRY_CONST_DATA
 =

44 
CBC_OPCODE_LIST


50 c⁄° 
uöt8_t
 
	gcbc_ext_Êags
[] =

52 
CBC_EXT_OPCODE_LIST


55 #unde‡
CBC_OPCODE


57 #ifde‡
PARSER_DUMP_BYTE_CODE


59 
	#CBC_OPCODE
(
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
Ë#¨g1,

	)

64 c⁄° * c⁄° 
	gcbc_«mes
[] =

66 
CBC_OPCODE_LIST


72 c⁄° * c⁄° 
	gcbc_ext_«mes
[] =

74 
CBC_EXT_OPCODE_LIST


77 #unde‡
CBC_OPCODE


	@deps/jerry/jerry-core/parser/js/byte-code.h

16 #i‚de‡
BYTE_CODE_H


17 
	#BYTE_CODE_H


	)

19 
	~"ecma-globÆs.h
"

48 
	#CBC_STACK_ADJUST_BASE
 4

	)

49 
	#CBC_STACK_ADJUST_SHIFT
 5

	)

50 
	#CBC_STACK_ADJUST_VALUE
(
vÆue
) \

51 (((
vÆue
Ë>> 
CBC_STACK_ADJUST_SHIFT
Ë- 
CBC_STACK_ADJUST_BASE
)

	)

53 
	#CBC_NO_FLAG
 0x00u

	)

54 
	#CBC_HAS_LITERAL_ARG
 0x01u

	)

55 
	#CBC_HAS_LITERAL_ARG2
 0x02u

	)

56 
	#CBC_HAS_BYTE_ARG
 0x04u

	)

57 
	#CBC_HAS_BRANCH_ARG
 0x08u

	)

60 
	#CBC_FORWARD_BRANCH_ARG
 0x10u

	)

61 
	#CBC_POP_STACK_BYTE_ARG
 0x10u

	)

63 
	#CBC_ARG_TYPES
 (
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
 | 
CBC_HAS_BYTE_ARG
 | 
CBC_HAS_BRANCH_ARG
)

	)

65 
	#CBC_HAS_POP_STACK_BYTE_ARG
 (
CBC_HAS_BYTE_ARG
 | 
CBC_POP_STACK_BYTE_ARG
)

	)

68 
	#CBC_ARGS_EQ
(
›
, 
ty≥s
) \

69 ((
cbc_Êags
[
›
] & 
CBC_ARG_TYPES
Ë=(
ty≥s
))

	)

72 
	#CBC_SAME_ARGS
(
›1
, 
›2
) \

73 ((
cbc_Êags
[
›1
] & 
CBC_ARG_TYPES
Ë=(cbc_Êags[
›2
] & CBC_ARG_TYPES))

	)

75 
	#CBC_UNARY_OPERATION
(
«me
, 
group
) \

76 
	`CBC_OPCODE
 (
«me
, 
CBC_NO_FLAG
, 0, \

77 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK
 | 
VM_OC_PUT_STACK
) \

78 
	`CBC_OPCODE
 (
«me
 ## 
_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 1, \

79 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_STACK
)

	)

81 
	#CBC_BINARY_OPERATION
(
«me
, 
group
) \

82 
	`CBC_OPCODE
 (
«me
, 
CBC_NO_FLAG
, -1, \

83 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_STACK
) \

84 
	`CBC_OPCODE
 (
«me
 ## 
_RIGHT_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 0, \

85 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_LITERAL
 | 
VM_OC_PUT_STACK
) \

86 
	`CBC_OPCODE
 (
«me
 ## 
_TWO_LITERALS
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 1, \

87 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_LITERAL_LITERAL
 | 
VM_OC_PUT_STACK
)

	)

89 
	#CBC_UNARY_LVALUE_OPERATION
(
«me
, 
group
) \

90 
	`CBC_OPCODE
 (
«me
, 
CBC_NO_FLAG
, -2, \

91 (
VM_OC_PROP_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_REFERENCE
) \

92 
	`CBC_OPCODE
 (
«me
 ## 
_PUSH_RESULT
, 
CBC_NO_FLAG
, -1, \

93 (
VM_OC_PROP_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

94 
	`CBC_OPCODE
 (
«me
 ## 
_BLOCK
, 
CBC_NO_FLAG
, -2, \

95 (
VM_OC_PROP_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_BLOCK
) \

96 
	`CBC_OPCODE
 (
«me
 ## 
_IDENT
, 
CBC_HAS_LITERAL_ARG
, 0, \

97 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_IDENT
) \

98 
	`CBC_OPCODE
 (
«me
 ## 
_IDENT_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
, 1, \

99 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_IDENT
 | 
VM_OC_PUT_STACK
) \

100 
	`CBC_OPCODE
 (
«me
 ## 
_IDENT_BLOCK
, 
CBC_HAS_LITERAL_ARG
, 0, \

101 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_IDENT
 | 
VM_OC_PUT_BLOCK
)

	)

103 
	#CBC_BINARY_LVALUE_OPERATION
(
«me
, 
group
) \

104 
	`CBC_OPCODE
 (
«me
, 
CBC_NO_FLAG
, -4, \

105 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_REFERENCE
) \

106 
	`CBC_OPCODE
 (
«me
 ## 
_LITERAL
, 
CBC_HAS_LITERAL_ARG
, -3, \

107 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_LITERAL
 | 
VM_OC_PUT_REFERENCE
) \

108 

	)

109 
	#CBC_EXT_BINARY_LVALUE_OPERATION
(
«me
, 
group
) \

110 
	`CBC_OPCODE
 (
«me
 ## 
_PUSH_RESULT
, 
CBC_NO_FLAG
, -3, \

111 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

112 
	`CBC_OPCODE
 (
«me
 ## 
_LITERAL_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
, -2, \

113 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_LITERAL
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

114 

	)

115 
	#CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
(
«me
, 
group
) \

116 
	`CBC_OPCODE
 (
«me
 ## 
_BLOCK
, 
CBC_NO_FLAG
, -4, \

117 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_BLOCK
) \

118 
	`CBC_OPCODE
 (
«me
 ## 
_LITERAL_BLOCK
, 
CBC_HAS_LITERAL_ARG
, -3, \

119 (
VM_OC_
 ## 
group
Ë| 
VM_OC_GET_STACK_LITERAL
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_BLOCK
) \

120 

	)

121 
	#CBC_UNARY_LVALUE_WITH_IDENT
 3

	)

123 
	#CBC_BINARY_LVALUE_WITH_LITERAL
 1

	)

125 
	#CBC_BINARY_WITH_LITERAL
 1

	)

126 
	#CBC_BINARY_WITH_TWO_LITERALS
 2

	)

147 
	#CBC_NO_RESULT_OPERATION
(
›code
) \

148 ((
›code
Ë>
CBC_PRE_INCR
 && (›codeË< 
CBC_END
)

	)

150 
	#CBC_NO_RESULT_BLOCK
(
›code
) \

151 ((
›code
Ë>
CBC_PRE_INCR
 && (›codeË< 
CBC_ASSIGN_ADD
)

	)

153 
	#CBC_NO_RESULT_COMPOUND_ASSIGMENT
(
›code
) \

154 ((
›code
Ë>
CBC_ASSIGN_ADD
 && (›codeË< 
CBC_END
)

	)

175 
	#CBC_FORWARD_BRANCH
(
«me
, 
°ack
, 
vm_oc
) \

176 
	`CBC_OPCODE
 (
«me
, 
CBC_HAS_BRANCH_ARG
 | 
CBC_FORWARD_BRANCH_ARG
, 
°ack
, \

177 (
vm_oc
Ë| 
VM_OC_GET_BRANCH
) \

178 
	`CBC_OPCODE
 (
«me
 ## 
_2
, 
CBC_HAS_BRANCH_ARG
 | 
CBC_FORWARD_BRANCH_ARG
, 
°ack
, \

179 (
vm_oc
Ë| 
VM_OC_GET_BRANCH
) \

180 
	`CBC_OPCODE
 (
«me
 ## 
_3
, 
CBC_HAS_BRANCH_ARG
 | 
CBC_FORWARD_BRANCH_ARG
, 
°ack
, \

181 (
vm_oc
Ë| 
VM_OC_GET_BRANCH
)

	)

183 
	#CBC_BACKWARD_BRANCH
(
«me
, 
°ack
, 
vm_oc
) \

184 
	`CBC_OPCODE
 (
«me
, 
CBC_HAS_BRANCH_ARG
, 
°ack
, \

185 (
vm_oc
Ë| 
VM_OC_GET_BRANCH
 | 
VM_OC_BACKWARD_BRANCH
) \

186 
	`CBC_OPCODE
 (
«me
 ## 
_2
, 
CBC_HAS_BRANCH_ARG
, 
°ack
, \

187 (
vm_oc
Ë| 
VM_OC_GET_BRANCH
 | 
VM_OC_BACKWARD_BRANCH
) \

188 
	`CBC_OPCODE
 (
«me
 ## 
_3
, 
CBC_HAS_BRANCH_ARG
, 
°ack
, \

189 (
vm_oc
Ë| 
VM_OC_GET_BRANCH
 | 
VM_OC_BACKWARD_BRANCH
)

	)

191 
	#CBC_BRANCH_OFFSET_LENGTH
(
›code
) \

192 ((
›code
Ë& 0x3)

	)

194 
	#CBC_BRANCH_IS_BACKWARD
(
Êags
) \

195 (!((
Êags
Ë& 
CBC_FORWARD_BRANCH_ARG
))

	)

197 
	#CBC_BRANCH_IS_FORWARD
(
Êags
) \

198 ((
Êags
Ë& 
CBC_FORWARD_BRANCH_ARG
)

	)

203 
	#PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
 3

	)

205 
	#PARSER_WITH_CONTEXT_STACK_ALLOCATION
 2

	)

207 
	#PARSER_TRY_CONTEXT_STACK_ALLOCATION
 2

	)

212 
	#CBC_OPCODE_LIST
 \

214 
	`CBC_OPCODE
 (
CBC_EXT_OPCODE
, 
CBC_NO_FLAG
, 0, \

215 
VM_OC_NONE
) \

216 
	`CBC_FORWARD_BRANCH
 (
CBC_JUMP_FORWARD
, 0, \

217 
VM_OC_JUMP
) \

218 
	`CBC_OPCODE
 (
CBC_POP
, 
CBC_NO_FLAG
, -1, \

219 
VM_OC_POP
) \

220 
	`CBC_BACKWARD_BRANCH
 (
CBC_JUMP_BACKWARD
, 0, \

221 
VM_OC_JUMP
) \

222 
	`CBC_OPCODE
 (
CBC_POP_BLOCK
, 
CBC_NO_FLAG
, -1, \

223 
VM_OC_POP_BLOCK
 | 
VM_OC_PUT_BLOCK
) \

224 
	`CBC_FORWARD_BRANCH
 (
CBC_BRANCH_IF_TRUE_FORWARD
, -1, \

225 
VM_OC_BRANCH_IF_TRUE
) \

226 
	`CBC_OPCODE
 (
CBC_THROW
, 
CBC_NO_FLAG
, -1, \

227 
VM_OC_THROW
 | 
VM_OC_GET_STACK
) \

228 
	`CBC_BACKWARD_BRANCH
 (
CBC_BRANCH_IF_TRUE_BACKWARD
, -1, \

229 
VM_OC_BRANCH_IF_TRUE
) \

230 
	`CBC_OPCODE
 (
CBC_CONTEXT_END
, 
CBC_NO_FLAG
, 0, \

231 
VM_OC_CONTEXT_END
) \

232 
	`CBC_FORWARD_BRANCH
 (
CBC_BRANCH_IF_FALSE_FORWARD
, -1, \

233 
VM_OC_BRANCH_IF_FALSE
) \

234 
	`CBC_OPCODE
 (
CBC_CREATE_OBJECT
, 
CBC_NO_FLAG
, 1, \

235 
VM_OC_PUSH_OBJECT
 | 
VM_OC_PUT_STACK
) \

236 
	`CBC_BACKWARD_BRANCH
 (
CBC_BRANCH_IF_FALSE_BACKWARD
, -1, \

237 
VM_OC_BRANCH_IF_FALSE
) \

238 
	`CBC_OPCODE
 (
CBC_SET_PROPERTY
, 
CBC_HAS_LITERAL_ARG
, -1, \

239 
VM_OC_SET_PROPERTY
 | 
VM_OC_GET_STACK_LITERAL
) \

240 
	`CBC_FORWARD_BRANCH
 (
CBC_JUMP_FORWARD_EXIT_CONTEXT
, 0, \

241 
VM_OC_JUMP_AND_EXIT_CONTEXT
) \

242 
	`CBC_OPCODE
 (
CBC_CREATE_ARRAY
, 
CBC_NO_FLAG
, 1, \

243 
VM_OC_PUSH_ARRAY
 | 
VM_OC_PUT_STACK
) \

244 
	`CBC_FORWARD_BRANCH
 (
CBC_BRANCH_IF_LOGICAL_TRUE
, -1, \

245 
VM_OC_BRANCH_IF_LOGICAL_TRUE
) \

246 
	`CBC_OPCODE
 (
CBC_ARRAY_APPEND
, 
CBC_HAS_POP_STACK_BYTE_ARG
, 0, \

247 
VM_OC_APPEND_ARRAY
) \

248 
	`CBC_FORWARD_BRANCH
 (
CBC_BRANCH_IF_LOGICAL_FALSE
, -1, \

249 
VM_OC_BRANCH_IF_LOGICAL_FALSE
) \

250 
	`CBC_OPCODE
 (
CBC_PUSH_ELISION
, 
CBC_NO_FLAG
, 1, \

251 
VM_OC_PUSH_ELISON
 | 
VM_OC_PUT_STACK
) \

252 
	`CBC_FORWARD_BRANCH
 (
CBC_BRANCH_IF_STRICT_EQUAL
, -1, \

253 
VM_OC_BRANCH_IF_STRICT_EQUAL
) \

256 
	`CBC_OPCODE
 (
CBC_PUSH_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 1, \

257 
VM_OC_PUSH
 | 
VM_OC_GET_LITERAL
) \

258 
	`CBC_OPCODE
 (
CBC_PUSH_TWO_LITERALS
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 2, \

259 
VM_OC_PUSH_TWO
 | 
VM_OC_GET_LITERAL_LITERAL
) \

260 
	`CBC_OPCODE
 (
CBC_PUSH_THREE_LITERALS
, 
CBC_HAS_LITERAL_ARG2
, 3, \

261 
VM_OC_PUSH_THREE
 | 
VM_OC_GET_LITERAL_LITERAL
) \

262 
	`CBC_OPCODE
 (
CBC_PUSH_UNDEFINED
, 
CBC_NO_FLAG
, 1, \

263 
VM_OC_PUSH_UNDEFINED
 | 
VM_OC_PUT_STACK
) \

264 
	`CBC_OPCODE
 (
CBC_PUSH_TRUE
, 
CBC_NO_FLAG
, 1, \

265 
VM_OC_PUSH_TRUE
 | 
VM_OC_PUT_STACK
) \

266 
	`CBC_OPCODE
 (
CBC_PUSH_FALSE
, 
CBC_NO_FLAG
, 1, \

267 
VM_OC_PUSH_FALSE
 | 
VM_OC_PUT_STACK
) \

268 
	`CBC_OPCODE
 (
CBC_PUSH_NULL
, 
CBC_NO_FLAG
, 1, \

269 
VM_OC_PUSH_NULL
 | 
VM_OC_PUT_STACK
) \

270 
	`CBC_OPCODE
 (
CBC_PUSH_THIS
, 
CBC_NO_FLAG
, 1, \

271 
VM_OC_PUSH_THIS
 | 
VM_OC_PUT_STACK
) \

272 
	`CBC_OPCODE
 (
CBC_PUSH_THIS_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 2, \

273 
VM_OC_PUSH_TWO
 | 
VM_OC_GET_THIS_LITERAL
) \

274 
	`CBC_OPCODE
 (
CBC_PUSH_NUMBER_0
, 
CBC_NO_FLAG
, 1, \

275 
VM_OC_PUSH_NUMBER_0
 | 
VM_OC_PUT_STACK
) \

276 
	`CBC_OPCODE
 (
CBC_PUSH_NUMBER_POS_BYTE
, 
CBC_HAS_BYTE_ARG
, 1, \

277 
VM_OC_PUSH_NUMBER_POS_BYTE
 | 
VM_OC_PUT_STACK
) \

278 
	`CBC_OPCODE
 (
CBC_PUSH_NUMBER_NEG_BYTE
, 
CBC_HAS_BYTE_ARG
, 1, \

279 
VM_OC_PUSH_NUMBER_NEG_BYTE
 | 
VM_OC_PUT_STACK
) \

280 
	`CBC_OPCODE
 (
CBC_PUSH_PROP
, 
CBC_NO_FLAG
, -1, \

281 
VM_OC_PROP_GET
 | 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_STACK
) \

282 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 0, \

283 
VM_OC_PROP_GET
 | 
VM_OC_GET_STACK_LITERAL
 | 
VM_OC_PUT_STACK
) \

284 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_LITERAL_LITERAL
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 1, \

285 
VM_OC_PROP_GET
 | 
VM_OC_GET_LITERAL_LITERAL
 | 
VM_OC_PUT_STACK
) \

286 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_THIS_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 1, \

287 
VM_OC_PROP_GET
 | 
VM_OC_GET_THIS_LITERAL
 | 
VM_OC_PUT_STACK
) \

288 
	`CBC_OPCODE
 (
CBC_PUSH_IDENT_REFERENCE
, 
CBC_HAS_LITERAL_ARG
, 3, \

289 
VM_OC_IDENT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

290 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_REFERENCE
, 
CBC_NO_FLAG
, 1, \

291 
VM_OC_PROP_REFERENCE
 | 
VM_OC_PUT_STACK
) \

292 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_LITERAL_REFERENCE
, 
CBC_HAS_LITERAL_ARG
, 2, \

293 
VM_OC_PROP_REFERENCE
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_STACK
) \

294 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_LITERAL_LITERAL_REFERENCE
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 3, \

295 
VM_OC_PROP_REFERENCE
 | 
VM_OC_GET_LITERAL_LITERAL
 | 
VM_OC_PUT_STACK
) \

296 
	`CBC_OPCODE
 (
CBC_PUSH_PROP_THIS_LITERAL_REFERENCE
, 
CBC_HAS_LITERAL_ARG
, 3, \

297 
VM_OC_PROP_REFERENCE
 | 
VM_OC_GET_THIS_LITERAL
 | 
VM_OC_PUT_STACK
) \

298 
	`CBC_OPCODE
 (
CBC_NEW
, 
CBC_HAS_POP_STACK_BYTE_ARG
, 0, \

299 
VM_OC_NEW
 | 
VM_OC_PUT_STACK
) \

300 
	`CBC_OPCODE
 (
CBC_NEW0
, 
CBC_NO_FLAG
, 0, \

301 
VM_OC_NEW
 | 
VM_OC_PUT_STACK
) \

302 
	`CBC_OPCODE
 (
CBC_NEW1
, 
CBC_NO_FLAG
, -1, \

303 
VM_OC_NEW
 | 
VM_OC_PUT_STACK
) \

304 
	`CBC_OPCODE
 (
CBC_EVAL
, 
CBC_NO_FLAG
, 0, \

305 
VM_OC_EVAL
) \

306 
	`CBC_OPCODE
 (
CBC_DEFINE_VARS
, 
CBC_HAS_LITERAL_ARG
, 0, \

307 
VM_OC_NONE
) \

308 
	`CBC_OPCODE
 (
CBC_INITIALIZE_VAR
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 0, \

309 
VM_OC_NONE
) \

310 
	`CBC_OPCODE
 (
CBC_INITIALIZE_VARS
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 0, \

311 
VM_OC_NONE
) \

312 
	`CBC_OPCODE
 (
CBC_SET_BYTECODE_PTR
, 
CBC_NO_FLAG
, 0, \

313 
VM_OC_NONE
) \

314 
	`CBC_OPCODE
 (
CBC_RETURN
, 
CBC_NO_FLAG
, -1, \

315 
VM_OC_RET
 | 
VM_OC_GET_STACK
) \

316 
	`CBC_OPCODE
 (
CBC_RETURN_WITH_BLOCK
, 
CBC_NO_FLAG
, 0, \

317 
VM_OC_RET
) \

318 
	`CBC_OPCODE
 (
CBC_RETURN_WITH_LITERAL
, 
CBC_HAS_LITERAL_ARG
, 0, \

319 
VM_OC_RET
 | 
VM_OC_GET_LITERAL
) \

320 
	`CBC_OPCODE
 (
CBC_BREAKPOINT_ENABLED
, 
CBC_NO_FLAG
, 0, \

321 
VM_OC_BREAKPOINT_ENABLED
) \

322 
	`CBC_OPCODE
 (
CBC_BREAKPOINT_DISABLED
, 
CBC_NO_FLAG
, 0, \

323 
VM_OC_BREAKPOINT_DISABLED
) \

326 
	`CBC_UNARY_OPERATION
 (
CBC_PLUS
, \

327 
PLUS
) \

328 
	`CBC_UNARY_OPERATION
 (
CBC_NEGATE
, \

329 
MINUS
) \

330 
	`CBC_UNARY_OPERATION
 (
CBC_LOGICAL_NOT
, \

331 
NOT
) \

332 
	`CBC_UNARY_OPERATION
 (
CBC_BIT_NOT
, \

333 
BIT_NOT
) \

334 
	`CBC_UNARY_OPERATION
 (
CBC_VOID
, \

335 
VOID
) \

336 
	`CBC_OPCODE
 (
CBC_TYPEOF
, 
CBC_NO_FLAG
, 0, \

337 
VM_OC_TYPEOF
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_STACK
) \

338 
	`CBC_OPCODE
 (
CBC_TYPEOF_IDENT
, 
CBC_HAS_LITERAL_ARG
, 1, \

339 
VM_OC_TYPEOF_IDENT
 | 
VM_OC_PUT_STACK
) \

342 
	`CBC_BINARY_OPERATION
 (
CBC_BIT_OR
, \

343 
BIT_OR
) \

344 
	`CBC_BINARY_OPERATION
 (
CBC_BIT_XOR
, \

345 
BIT_XOR
) \

346 
	`CBC_BINARY_OPERATION
 (
CBC_BIT_AND
, \

347 
BIT_AND
) \

348 
	`CBC_BINARY_OPERATION
 (
CBC_EQUAL
, \

349 
EQUAL
) \

350 
	`CBC_BINARY_OPERATION
 (
CBC_NOT_EQUAL
, \

351 
NOT_EQUAL
) \

352 
	`CBC_BINARY_OPERATION
 (
CBC_STRICT_EQUAL
, \

353 
STRICT_EQUAL
) \

354 
	`CBC_BINARY_OPERATION
 (
CBC_STRICT_NOT_EQUAL
, \

355 
STRICT_NOT_EQUAL
) \

356 
	`CBC_BINARY_OPERATION
 (
CBC_LESS
, \

357 
LESS
) \

358 
	`CBC_BINARY_OPERATION
 (
CBC_GREATER
, \

359 
GREATER
) \

360 
	`CBC_BINARY_OPERATION
 (
CBC_LESS_EQUAL
, \

361 
LESS_EQUAL
) \

362 
	`CBC_BINARY_OPERATION
 (
CBC_GREATER_EQUAL
, \

363 
GREATER_EQUAL
) \

364 
	`CBC_BINARY_OPERATION
 (
CBC_IN
, \

365 
IN
) \

366 
	`CBC_BINARY_OPERATION
 (
CBC_INSTANCEOF
, \

367 
INSTANCEOF
) \

368 
	`CBC_BINARY_OPERATION
 (
CBC_LEFT_SHIFT
, \

369 
LEFT_SHIFT
) \

370 
	`CBC_BINARY_OPERATION
 (
CBC_RIGHT_SHIFT
, \

371 
RIGHT_SHIFT
) \

372 
	`CBC_BINARY_OPERATION
 (
CBC_UNS_RIGHT_SHIFT
, \

373 
UNS_RIGHT_SHIFT
) \

374 
	`CBC_BINARY_OPERATION
 (
CBC_ADD
, \

375 
ADD
) \

376 
	`CBC_BINARY_OPERATION
 (
CBC_SUBTRACT
, \

377 
SUB
) \

378 
	`CBC_BINARY_OPERATION
 (
CBC_MULTIPLY
, \

379 
MUL
) \

380 
	`CBC_BINARY_OPERATION
 (
CBC_DIVIDE
, \

381 
DIV
) \

382 
	`CBC_BINARY_OPERATION
 (
CBC_MODULO
, \

383 
MOD
) \

386 
	`CBC_OPCODE
 (
CBC_DELETE_PUSH_RESULT
, 
CBC_NO_FLAG
, -1, \

387 
VM_OC_PROP_DELETE
 | 
VM_OC_GET_STACK_STACK
 | 
VM_OC_PUT_STACK
) \

388 
	`CBC_OPCODE
 (
CBC_DELETE_IDENT_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
, 1, \

389 
VM_OC_DELETE
 | 
VM_OC_PUT_STACK
) \

390 
	`CBC_UNARY_LVALUE_OPERATION
 (
CBC_PRE_INCR
, \

391 
PRE_INCR
) \

392 
	`CBC_UNARY_LVALUE_OPERATION
 (
CBC_PRE_DECR
, \

393 
PRE_DECR
) \

394 
	`CBC_UNARY_LVALUE_OPERATION
 (
CBC_POST_INCR
, \

395 
POST_INCR
) \

396 
	`CBC_UNARY_LVALUE_OPERATION
 (
CBC_POST_DECR
, \

397 
POST_DECR
) \

400 
	`CBC_OPCODE
 (
CBC_CALL
, 
CBC_HAS_POP_STACK_BYTE_ARG
, -1, \

401 
VM_OC_CALL
) \

402 
	`CBC_OPCODE
 (
CBC_CALL_PUSH_RESULT
, 
CBC_HAS_POP_STACK_BYTE_ARG
, 0, \

403 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

404 
	`CBC_OPCODE
 (
CBC_CALL_BLOCK
, 
CBC_HAS_POP_STACK_BYTE_ARG
, -1, \

405 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

406 
	`CBC_OPCODE
 (
CBC_CALL_PROP
, 
CBC_HAS_POP_STACK_BYTE_ARG
, -3, \

407 
VM_OC_CALL
) \

408 
	`CBC_OPCODE
 (
CBC_CALL_PROP_PUSH_RESULT
, 
CBC_HAS_POP_STACK_BYTE_ARG
, -2, \

409 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

410 
	`CBC_OPCODE
 (
CBC_CALL_PROP_BLOCK
, 
CBC_HAS_POP_STACK_BYTE_ARG
, -3, \

411 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

412 
	`CBC_OPCODE
 (
CBC_CALL0
, 
CBC_NO_FLAG
, -1, \

413 
VM_OC_CALL
) \

414 
	`CBC_OPCODE
 (
CBC_CALL0_PUSH_RESULT
, 
CBC_NO_FLAG
, 0, \

415 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

416 
	`CBC_OPCODE
 (
CBC_CALL0_BLOCK
, 
CBC_NO_FLAG
, -1, \

417 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

418 
	`CBC_OPCODE
 (
CBC_CALL0_PROP
, 
CBC_NO_FLAG
, -3, \

419 
VM_OC_CALL
) \

420 
	`CBC_OPCODE
 (
CBC_CALL0_PROP_PUSH_RESULT
, 
CBC_NO_FLAG
, -2, \

421 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

422 
	`CBC_OPCODE
 (
CBC_CALL0_PROP_BLOCK
, 
CBC_NO_FLAG
, -3, \

423 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

424 
	`CBC_OPCODE
 (
CBC_CALL1
, 
CBC_NO_FLAG
, -2, \

425 
VM_OC_CALL
) \

426 
	`CBC_OPCODE
 (
CBC_CALL1_PUSH_RESULT
, 
CBC_NO_FLAG
, -1, \

427 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

428 
	`CBC_OPCODE
 (
CBC_CALL1_BLOCK
, 
CBC_NO_FLAG
, -2, \

429 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

430 
	`CBC_OPCODE
 (
CBC_CALL1_PROP
, 
CBC_NO_FLAG
, -4, \

431 
VM_OC_CALL
) \

432 
	`CBC_OPCODE
 (
CBC_CALL1_PROP_PUSH_RESULT
, 
CBC_NO_FLAG
, -3, \

433 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

434 
	`CBC_OPCODE
 (
CBC_CALL1_PROP_BLOCK
, 
CBC_NO_FLAG
, -4, \

435 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

436 
	`CBC_OPCODE
 (
CBC_CALL2
, 
CBC_NO_FLAG
, -3, \

437 
VM_OC_CALL
) \

438 
	`CBC_OPCODE
 (
CBC_CALL2_PUSH_RESULT
, 
CBC_NO_FLAG
, -2, \

439 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

440 
	`CBC_OPCODE
 (
CBC_CALL2_BLOCK
, 
CBC_NO_FLAG
, -3, \

441 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

442 
	`CBC_OPCODE
 (
CBC_CALL2_PROP
, 
CBC_NO_FLAG
, -4, \

443 
VM_OC_CALL
) \

444 
	`CBC_OPCODE
 (
CBC_CALL2_PROP_PUSH_RESULT
, 
CBC_NO_FLAG
, -3, \

445 
VM_OC_CALL
 | 
VM_OC_PUT_STACK
) \

446 
	`CBC_OPCODE
 (
CBC_CALL2_PROP_BLOCK
, 
CBC_NO_FLAG
, -4, \

447 
VM_OC_CALL
 | 
VM_OC_PUT_BLOCK
) \

450 
	`CBC_OPCODE
 (
CBC_ASSIGN
, 
CBC_NO_FLAG
, -3, \

451 
VM_OC_ASSIGN
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_REFERENCE
) \

452 
	`CBC_OPCODE
 (
CBC_ASSIGN_PUSH_RESULT
, 
CBC_NO_FLAG
, -2, \

453 
VM_OC_ASSIGN
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

454 
	`CBC_OPCODE
 (
CBC_ASSIGN_BLOCK
, 
CBC_NO_FLAG
, -3, \

455 
VM_OC_ASSIGN
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_BLOCK
) \

456 
	`CBC_OPCODE
 (
CBC_ASSIGN_SET_IDENT
, 
CBC_HAS_LITERAL_ARG
, -1, \

457 
VM_OC_ASSIGN
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_IDENT
) \

458 
	`CBC_OPCODE
 (
CBC_ASSIGN_SET_IDENT_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
, 0, \

459 
VM_OC_ASSIGN
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_IDENT
 | 
VM_OC_PUT_STACK
) \

460 
	`CBC_OPCODE
 (
CBC_ASSIGN_SET_IDENT_BLOCK
, 
CBC_HAS_LITERAL_ARG
, -1, \

461 
VM_OC_ASSIGN
 | 
VM_OC_GET_STACK
 | 
VM_OC_PUT_IDENT
 | 
VM_OC_PUT_BLOCK
) \

462 
	`CBC_OPCODE
 (
CBC_ASSIGN_LITERAL_SET_IDENT
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 0, \

463 
VM_OC_ASSIGN
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_IDENT
) \

464 
	`CBC_OPCODE
 (
CBC_ASSIGN_LITERAL_SET_IDENT_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 1, \

465 
VM_OC_ASSIGN
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_IDENT
 | 
VM_OC_PUT_STACK
) \

466 
	`CBC_OPCODE
 (
CBC_ASSIGN_LITERAL_SET_IDENT_BLOCK
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 0, \

467 
VM_OC_ASSIGN
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_IDENT
 | 
VM_OC_PUT_BLOCK
) \

468 
	`CBC_OPCODE
 (
CBC_ASSIGN_PROP_LITERAL
, 
CBC_HAS_LITERAL_ARG
, -2, \

469 
VM_OC_ASSIGN_PROP
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_REFERENCE
) \

470 
	`CBC_OPCODE
 (
CBC_ASSIGN_PROP_LITERAL_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
, -1, \

471 
VM_OC_ASSIGN_PROP
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

472 
	`CBC_OPCODE
 (
CBC_ASSIGN_PROP_LITERAL_BLOCK
, 
CBC_HAS_LITERAL_ARG
, -2, \

473 
VM_OC_ASSIGN_PROP
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_BLOCK
) \

474 
	`CBC_OPCODE
 (
CBC_ASSIGN_PROP_THIS_LITERAL
, 
CBC_HAS_LITERAL_ARG
, -1, \

475 
VM_OC_ASSIGN_PROP_THIS
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_REFERENCE
) \

476 
	`CBC_OPCODE
 (
CBC_ASSIGN_PROP_THIS_LITERAL_PUSH_RESULT
, 
CBC_HAS_LITERAL_ARG
, 0, \

477 
VM_OC_ASSIGN_PROP_THIS
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_STACK
) \

478 
	`CBC_OPCODE
 (
CBC_ASSIGN_PROP_THIS_LITERAL_BLOCK
, 
CBC_HAS_LITERAL_ARG
, -1, \

479 
VM_OC_ASSIGN_PROP_THIS
 | 
VM_OC_GET_LITERAL
 | 
VM_OC_PUT_REFERENCE
 | 
VM_OC_PUT_BLOCK
) \

482 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_ADD
, \

483 
ADD
) \

484 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_SUBTRACT
, \

485 
SUB
) \

486 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_MULTIPLY
, \

487 
MUL
) \

488 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_DIVIDE
, \

489 
DIV
) \

490 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_MODULO
, \

491 
MOD
) \

492 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_LEFT_SHIFT
, \

493 
LEFT_SHIFT
) \

494 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_RIGHT_SHIFT
, \

495 
RIGHT_SHIFT
) \

496 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_UNS_RIGHT_SHIFT
, \

497 
UNS_RIGHT_SHIFT
) \

498 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_BIT_AND
, \

499 
BIT_AND
) \

500 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_BIT_OR
, \

501 
BIT_OR
) \

502 
	`CBC_BINARY_LVALUE_OPERATION
 (
CBC_ASSIGN_BIT_XOR
, \

503 
BIT_XOR
) \

506 
	`CBC_OPCODE
 (
CBC_END
, 
CBC_NO_FLAG
, 0, \

507 
VM_OC_NONE
)

	)

512 
	#CBC_EXT_OPCODE_LIST
 \

514 
	`CBC_OPCODE
 (
CBC_EXT_NOP
, 
CBC_NO_FLAG
, 0, \

515 
VM_OC_NONE
) \

516 
	`CBC_FORWARD_BRANCH
 (
CBC_EXT_WITH_CREATE_CONTEXT
, \

517 -1 + 
PARSER_WITH_CONTEXT_STACK_ALLOCATION
, 
VM_OC_WITH
) \

518 
	`CBC_OPCODE
 (
CBC_EXT_FOR_IN_GET_NEXT
, 
CBC_NO_FLAG
, 1, \

519 
VM_OC_FOR_IN_GET_NEXT
 | 
VM_OC_PUT_STACK
) \

520 
	`CBC_FORWARD_BRANCH
 (
CBC_EXT_FOR_IN_CREATE_CONTEXT
, \

521 -1 + 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
, 
VM_OC_FOR_IN_CREATE_CONTEXT
) \

522 
	`CBC_OPCODE
 (
CBC_EXT_SET_GETTER
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 0, \

523 
VM_OC_SET_GETTER
 | 
VM_OC_GET_LITERAL_LITERAL
) \

524 
	`CBC_BACKWARD_BRANCH
 (
CBC_EXT_BRANCH_IF_FOR_IN_HAS_NEXT
, 0, \

525 
VM_OC_FOR_IN_HAS_NEXT
) \

526 
	`CBC_OPCODE
 (
CBC_EXT_SET_SETTER
, 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
, 0, \

527 
VM_OC_SET_SETTER
 | 
VM_OC_GET_LITERAL_LITERAL
) \

528 
	`CBC_FORWARD_BRANCH
 (
CBC_EXT_TRY_CREATE_CONTEXT
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
, \

529 
VM_OC_TRY
) \

530 
	`CBC_OPCODE
 (
CBC_EXT_THROW_REFERENCE_ERROR
, 
CBC_NO_FLAG
, 1, \

531 
VM_OC_THROW_REFERENCE_ERROR
) \

532 
	`CBC_FORWARD_BRANCH
 (
CBC_EXT_CATCH
, 1, \

533 
VM_OC_CATCH
) \

534 
	`CBC_OPCODE
 (
CBC_EXT_PUSH_UNDEFINED_BASE
, 
CBC_NO_FLAG
, 1, \

535 
VM_OC_PUSH_UNDEFINED_BASE
 | 
VM_OC_PUT_STACK
) \

536 
	`CBC_FORWARD_BRANCH
 (
CBC_EXT_FINALLY
, 0, \

537 
VM_OC_FINALLY
) \

540 
	`CBC_OPCODE
 (
CBC_EXT_DEBUGGER
, 
CBC_NO_FLAG
, 0, \

541 
VM_OC_NONE
) \

544 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_ADD
, \

545 
ADD
) \

546 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_SUBTRACT
, \

547 
SUB
) \

548 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_MULTIPLY
, \

549 
MUL
) \

550 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_DIVIDE
, \

551 
DIV
) \

552 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_MODULO
, \

553 
MOD
) \

554 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_LEFT_SHIFT
, \

555 
LEFT_SHIFT
) \

556 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_RIGHT_SHIFT
, \

557 
RIGHT_SHIFT
) \

558 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_UNS_RIGHT_SHIFT
, \

559 
UNS_RIGHT_SHIFT
) \

560 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_BIT_AND
, \

561 
BIT_AND
) \

562 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_BIT_OR
, \

563 
BIT_OR
) \

564 
	`CBC_EXT_BINARY_LVALUE_OPERATION
 (
CBC_EXT_ASSIGN_BIT_XOR
, \

565 
BIT_XOR
) \

568 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_ADD
, \

569 
ADD
) \

570 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_SUBTRACT
, \

571 
SUB
) \

572 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_MULTIPLY
, \

573 
MUL
) \

574 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_DIVIDE
, \

575 
DIV
) \

576 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_MODULO
, \

577 
MOD
) \

578 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_LEFT_SHIFT
, \

579 
LEFT_SHIFT
) \

580 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_RIGHT_SHIFT
, \

581 
RIGHT_SHIFT
) \

582 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_UNS_RIGHT_SHIFT
, \

583 
UNS_RIGHT_SHIFT
) \

584 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_BIT_AND
, \

585 
BIT_AND
) \

586 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_BIT_OR
, \

587 
BIT_OR
) \

588 
	`CBC_EXT_BINARY_LVALUE_BLOCK_OPERATION
 (
CBC_EXT_ASSIGN_BIT_XOR
, \

589 
BIT_XOR
) \

592 
	`CBC_OPCODE
 (
CBC_EXT_END
, 
CBC_NO_FLAG
, 0, \

593 
VM_OC_NONE
)

	)

595 
	#CBC_MAXIMUM_BYTE_VALUE
 255

	)

596 
	#CBC_MAXIMUM_SMALL_VALUE
 510

	)

597 
	#CBC_MAXIMUM_FULL_VALUE
 32767

	)

599 
	#CBC_PUSH_NUMBER_BYTE_RANGE_END
 256

	)

601 
	#CBC_HIGHEST_BIT_MASK
 0x80

	)

602 
	#CBC_LOWER_SEVEN_BIT_MASK
 0x7f

	)

619 
ecma_compûed_code_t
 
	mhódî
;

620 
uöt8_t
 
	m°ack_limô
;

621 
uöt8_t
 
	m¨gumít_íd
;

622 
uöt8_t
 
	mªgi°î_íd
;

623 
uöt8_t
 
	midít_íd
;

624 
uöt8_t
 
	mc⁄°_lôîÆ_íd
;

625 
uöt8_t
 
	mlôîÆ_íd
;

626 } 
	tcbc_uöt8_¨gumíts_t
;

633 
ecma_compûed_code_t
 
	mhódî
;

634 
uöt16_t
 
	m°ack_limô
;

635 
uöt16_t
 
	m¨gumít_íd
;

636 
uöt16_t
 
	mªgi°î_íd
;

637 
uöt16_t
 
	midít_íd
;

638 
uöt16_t
 
	mc⁄°_lôîÆ_íd
;

639 
uöt16_t
 
	mlôîÆ_íd
;

640 #ifde‡
JERRY_CPOINTER_32_BIT


641 
uöt16_t
 
	m∑ddög
;

643 } 
	tcbc_uöt16_¨gumíts_t
;

650 
	mCBC_CODE_FLAGS_FUNCTION
 = (1u << 0),

651 
	mCBC_CODE_FLAGS_FULL_LITERAL_ENCODING
 = (1u << 1),

652 
	mCBC_CODE_FLAGS_UINT16_ARGUMENTS
 = (1u << 2),

653 
	mCBC_CODE_FLAGS_STRICT_MODE
 = (1u << 3),

654 
	mCBC_CODE_FLAGS_ARGUMENTS_NEEDED
 = (1u << 4),

655 
	mCBC_CODE_FLAGS_LEXICAL_ENV_NOT_NEEDED
 = (1u << 5),

656 
	mCBC_CODE_FLAGS_DEBUGGER_IGNORE
 = (1u << 6),

657 } 
	tcbc_code_Êags
;

659 
	#CBC_OPCODE
(
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
Ë¨g1,

	)

666 
	mCBC_OPCODE_LIST


667 } 
	tcbc_›code_t
;

674 
	mCBC_EXT_OPCODE_LIST


675 } 
	tcbc_ext_›code_t
;

677 #unde‡
CBC_OPCODE


682 c⁄° 
uöt8_t
 
cbc_Êags
[];

683 c⁄° 
uöt8_t
 
cbc_ext_Êags
[];

685 #ifde‡
PARSER_DUMP_BYTE_CODE


690 c⁄° * c⁄° 
cbc_«mes
[];

691 c⁄° * c⁄° 
cbc_ext_«mes
[];

	@deps/jerry/jerry-core/parser/js/common.c

16 
	~"comm⁄.h
"

17 
	~"ecma-hñ≥rs.h
"

19 #i‡
JERRY_JS_PARSER


35 
	$utû_‰ì_lôîÆ
 (
Àxî_lôîÆ_t
 *
lôîÆ_p
)

37 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL


38 || 
lôîÆ_p
->
ty≥
 =
LEXER_STRING_LITERAL
)

40 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_SOURCE_PTR
))

42 
	`jmem_hóp_‰ì_block
 ((*Ë
lôîÆ_p
->
u
.
ch¨_p
,ÜôîÆ_p->
¥›
.
Àngth
);

45 i‡((
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL
)

46 || (
lôîÆ_p
->
ty≥
 =
LEXER_REGEXP_LITERAL
))

48 
	`ecma_byãcode_dîef
 (
lôîÆ_p
->
u
.
byãcode_p
);

50 
	}
}

52 #ifde‡
PARSER_DUMP_BYTE_CODE


58 
	$utû_¥öt_ch¨s
 (c⁄° 
uöt8_t
 *
ch¨_p
,

59 
size_t
 
size
)

61 
size
 > 0)

63 
	`JERRY_DEBUG_MSG
 ("%c", *
ch¨_p
++);

64 
size
--;

66 
	}
}

72 
	$utû_¥öt_numbî
 (
ecma_numbî_t
 
num_p
)

74 
lô_utf8_byã_t
 
°r_buf
[
ECMA_MAX_CHARS_IN_STRINGIFIED_NUMBER
];

75 
lô_utf8_size_t
 
°r_size
 = 
	`ecma_numbî_to_utf8_°rög
 (
num_p
, 
°r_buf
,  (str_buf));

76 
°r_buf
[
°r_size
] = 0;

77 
	`JERRY_DEBUG_MSG
 ("%s", 
°r_buf
);

78 
	}
}

84 
	$utû_¥öt_lôîÆ
 (
Àxî_lôîÆ_t
 *
lôîÆ_p
)

86 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL
)

88 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_VAR
)

90 
	`JERRY_DEBUG_MSG
 ("var_ident(");

94 
	`JERRY_DEBUG_MSG
 ("ident(");

96 
	`utû_¥öt_ch¨s
 (
lôîÆ_p
->
u
.
ch¨_p
,ÜôîÆ_p->
¥›
.
Àngth
);

98 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL
)

100 
	`JERRY_DEBUG_MSG
 ("function");

103 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_STRING_LITERAL
)

105 
	`JERRY_DEBUG_MSG
 ("string(");

106 
	`utû_¥öt_ch¨s
 (
lôîÆ_p
->
u
.
ch¨_p
,ÜôîÆ_p->
¥›
.
Àngth
);

108 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_NUMBER_LITERAL
)

110 
ecma_°rög_t
 *
vÆue_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
lôîÆ_p
->
u
.
vÆue
);

112 
	`JERRY_ASSERT
 (
	`ECMA_STRING_GET_CONTAINER
 (
vÆue_p
Ë=
ECMA_STRING_LITERAL_NUMBER
);

114 
	`JERRY_DEBUG_MSG
 ("number(");

115 
	`utû_¥öt_numbî
 (
	`ecma_gë_numbî_‰om_vÆue
 (
vÆue_p
->
u
.
lô_numbî
));

117 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_REGEXP_LITERAL
)

119 
	`JERRY_DEBUG_MSG
 ("regexp");

124 
	`JERRY_DEBUG_MSG
 ("unknown");

128 
	`JERRY_DEBUG_MSG
 (")");

129 
	}
}

	@deps/jerry/jerry-core/parser/js/common.h

16 #i‚de‡
COMMON_H


17 
	#COMMON_H


	)

19 
	~<°dio.h
>

20 
	~<°dlib.h
>

21 
	~<°rög.h
>

22 
	~<öây≥s.h
>

23 
	~<£tjmp.h
>

35 
	~"ecma-globÆs.h
"

36 
	~"ecma-ªgexp-obje˘.h
"

37 
	~"jmem.h
"

49 
	mLEXER_IDENT_LITERAL
 = 0,

50 
	mLEXER_STRING_LITERAL
 = 1,

51 
	mLEXER_NUMBER_LITERAL
 = 2,

52 
	mLEXER_FUNCTION_LITERAL
 = 3,

53 
	mLEXER_REGEXP_LITERAL
 = 4,

54 
	mLEXER_UNUSED_LITERAL
 = 5,

56 } 
	tÀxî_lôîÆ_ty≥_t
;

61 
	#LEXER_FLAG_VAR
 0x01

	)

63 
	#LEXER_FLAG_NO_REG_STORE
 0x02

	)

65 
	#LEXER_FLAG_INITIALIZED
 0x04

	)

67 
	#LEXER_FLAG_FUNCTION_NAME
 0x08

	)

69 
	#LEXER_FLAG_FUNCTION_ARGUMENT
 0x10

	)

71 
	#LEXER_FLAG_UNUSED_IDENT
 0x20

	)

73 
	#LEXER_FLAG_SOURCE_PTR
 0x40

	)

75 
	#LEXER_FLAG_LATE_INIT
 0x80

	)

84 
jmem_˝oöãr_t
 
	mvÆue
;

85 c⁄° 
uöt8_t
 *
	mch¨_p
;

86 
ecma_compûed_code_t
 *
	mbyãcode_p
;

87 
uöt32_t
 
	msour˚_d©a
;

88 } 
	mu
;

90 #ifde‡
PARSER_DUMP_BYTE_CODE


96 
uöt16_t
 
	mÀngth
;

97 
uöt16_t
 
	mödex
;

98 } 
	m¥›
;

100 
uöt8_t
 
	mty≥
;

101 
uöt8_t
 
	m°©us_Êags
;

102 } 
	tÀxî_lôîÆ_t
;

104 
utû_‰ì_lôîÆ
 (
Àxî_lôîÆ_t
 *
lôîÆ_p
);

106 #ifde‡
PARSER_DUMP_BYTE_CODE


107 
utû_¥öt_lôîÆ
 (
Àxî_lôîÆ_t
 *);

112 
	#PARSER_TRY_CONTEXT
(
c⁄ãxt_«me
) \

113 
jmp_buf
 
c⁄ãxt_«me


	)

115 
	#PARSER_THROW
(
c⁄ãxt_«me
) \

116 
	`l⁄gjmp
 (
c⁄ãxt_«me
, 1);

	)

118 
	#PARSER_TRY
(
c⁄ãxt_«me
) \

120 i‡(!
	`£tjmp
 (
c⁄ãxt_«me
)) \

122 

	)

123 
	#PARSER_CATCH
 \

126 {

	)

128 
	#PARSER_TRY_END
 \

130 }

	)

	@deps/jerry/jerry-core/parser/js/js-lexer.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-hñ≥rs.h
"

18 
	~"ecma-fun˘i⁄-obje˘.h
"

19 
	~"ecma-lôîÆ-°‹age.h
"

20 
	~"js-∑r£r-öã∫Æ.h
"

21 
	~"lô-ch¨-hñ≥rs.h
"

23 #i‡
JERRY_JS_PARSER


35 
	#IS_UTF8_INTERMEDIATE_OCTET
(
byã
Ë(((byãË& 
LIT_UTF8_EXTRA_BYTE_MASK
Ë=
LIT_UTF8_2_BYTE_CODE_POINT_MIN
)

	)

42 
∑r£r_löe_cou¡î_t


43 
	$Æign_cﬁumn_to_èb
 (
∑r£r_löe_cou¡î_t
 
cﬁumn
)

46  (
∑r£r_löe_cou¡î_t
Ë(((
cﬁumn
 + (8u - 1u)Ë& ~
ECMA_STRING_CONTAINER_MASK
) + 1u);

47 
	}
}

54 
ecma_ch¨_t


55 
	$Àxî_hex_to_ch¨a˘î
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

56 c⁄° 
uöt8_t
 *
sour˚_p
,

57 
Àngth
)

59 
uöt32_t
 
ªsu…
 = 0;

63 
uöt32_t
 
byã
 = *
sour˚_p
++;

65 
ªsu…
 <<= 4;

67 i‡(
byã
 >
LIT_CHAR_0
 && byã <
LIT_CHAR_9
)

69 
ªsu…
 +
byã
 - 
LIT_CHAR_0
;

73 
byã
 = 
	`LEXER_TO_ASCII_LOWERCASE
 (byte);

74 i‡(
byã
 >
LIT_CHAR_LOWERCASE_A
 && byã <
LIT_CHAR_LOWERCASE_F
)

76 
ªsu…
 +
byã
 - (
LIT_CHAR_LOWERCASE_A
 - 10);

80 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_ESCAPE_SEQUENCE
);

84 --
Àngth
 > 0);

86  (
ecma_ch¨_t
Ë
ªsu…
;

87 
	}
}

94 
	mLEXER_SKIP_SPACES
,

95 
	mLEXER_SKIP_SINGLE_LINE_COMMENT
,

96 
	mLEXER_SKIP_MULTI_LINE_COMMENT
,

97 } 
	tskù_mode_t
;

103 
	$skù_•a˚s
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

105 
skù_mode_t
 
mode
 = 
LEXER_SKIP_SPACES
;

106 c⁄° 
uöt8_t
 *
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

108 
c⁄ãxt_p
->
tokí
.
was_√wlöe
 = 0;

110 
åue
)

112 i‡(
c⁄ãxt_p
->
sour˚_p
 >
sour˚_íd_p
)

114 i‡(
mode
 =
LEXER_SKIP_MULTI_LINE_COMMENT
)

116 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_UNTERMINATED_MULTILINE_COMMENT
);

121 
c⁄ãxt_p
->
sour˚_p
[0])

123 
LIT_CHAR_CR
:

125 i‡(
c⁄ãxt_p
->
sour˚_p
 + 1 < 
sour˚_íd_p


126 && 
c⁄ãxt_p
->
sour˚_p
[1] =
LIT_CHAR_LF
)

128 
c⁄ãxt_p
->
sour˚_p
++;

133 
LIT_CHAR_LF
:

135 
c⁄ãxt_p
->
löe
++;

136 
c⁄ãxt_p
->
cﬁumn
 = 0;

137 
c⁄ãxt_p
->
tokí
.
was_√wlöe
 = 1;

139 i‡(
mode
 =
LEXER_SKIP_SINGLE_LINE_COMMENT
)

141 
mode
 = 
LEXER_SKIP_SPACES
;

146 
LIT_CHAR_VTAB
:

147 
LIT_CHAR_FF
:

148 
LIT_CHAR_SP
:

150 
c⁄ãxt_p
->
sour˚_p
++;

151 
c⁄ãxt_p
->
cﬁumn
++;

155 
LIT_CHAR_TAB
:

157 
c⁄ãxt_p
->
cﬁumn
 = 
	`Æign_cﬁumn_to_èb
 (context_p->column);

158 
c⁄ãxt_p
->
sour˚_p
++;

162 
LIT_CHAR_SLASH
:

164 i‡(
mode
 =
LEXER_SKIP_SPACES


165 && 
c⁄ãxt_p
->
sour˚_p
 + 1 < 
sour˚_íd_p
)

167 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =
LIT_CHAR_SLASH
)

169 
mode
 = 
LEXER_SKIP_SINGLE_LINE_COMMENT
;

171 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =
LIT_CHAR_ASTERISK
)

173 
mode
 = 
LEXER_SKIP_MULTI_LINE_COMMENT
;

174 
c⁄ãxt_p
->
tokí
.
löe
 = context_p->line;

175 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = context_p->column;

178 i‡(
mode
 !
LEXER_SKIP_SPACES
)

180 
c⁄ãxt_p
->
sour˚_p
 += 2;

181 
	`PARSER_PLUS_EQUAL_LC
 (
c⁄ãxt_p
->
cﬁumn
, 2);

188 
LIT_CHAR_ASTERISK
:

190 i‡(
mode
 =
LEXER_SKIP_MULTI_LINE_COMMENT


191 && 
c⁄ãxt_p
->
sour˚_p
 + 1 < 
sour˚_íd_p


192 && 
c⁄ãxt_p
->
sour˚_p
[1] =
LIT_CHAR_SLASH
)

194 
mode
 = 
LEXER_SKIP_SPACES
;

195 
c⁄ãxt_p
->
sour˚_p
 += 2;

196 
	`PARSER_PLUS_EQUAL_LC
 (
c⁄ãxt_p
->
cﬁumn
, 2);

204 i‡(
c⁄ãxt_p
->
sour˚_p
 + 1 < 
sour˚_íd_p


205 && 
c⁄ãxt_p
->
sour˚_p
[1] == 0xa0)

208 
c⁄ãxt_p
->
sour˚_p
 += 2;

209 
c⁄ãxt_p
->
cﬁumn
++;

215 
LEXER_NEWLINE_LS_PS_BYTE_1
:

217 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
sour˚_p
 + 2 < 
sour˚_íd_p
);

218 i‡(
	`LEXER_NEWLINE_LS_PS_BYTE_23
 (
c⁄ãxt_p
->
sour˚_p
))

221 
c⁄ãxt_p
->
sour˚_p
 += 3;

222 
c⁄ãxt_p
->
löe
++;

223 
c⁄ãxt_p
->
cﬁumn
 = 1;

224 
c⁄ãxt_p
->
tokí
.
was_√wlöe
 = 1;

226 i‡(
mode
 =
LEXER_SKIP_SINGLE_LINE_COMMENT
)

228 
mode
 = 
LEXER_SKIP_SPACES
;

237 i‡(
c⁄ãxt_p
->
sour˚_p
 + 2 < 
sour˚_íd_p


238 && 
c⁄ãxt_p
->
sour˚_p
[1] == 0xbb

239 && 
c⁄ãxt_p
->
sour˚_p
[2] == 0xbf)

242 
c⁄ãxt_p
->
sour˚_p
 += 3;

243 
c⁄ãxt_p
->
cﬁumn
++;

255 i‡(
mode
 =
LEXER_SKIP_SPACES
)

260 
c⁄ãxt_p
->
sour˚_p
++;

262 i‡(
c⁄ãxt_p
->
sour˚_p
 < 
sour˚_íd_p


263 && 
	`IS_UTF8_INTERMEDIATE_OCTET
 (
c⁄ãxt_p
->
sour˚_p
[0]))

265 
c⁄ãxt_p
->
cﬁumn
++;

268 
	}
}

275 c⁄° 
uöt8_t
 *
	mkeyw‹d_p
;

276 
Àxî_tokí_ty≥_t
 
	mty≥
;

277 } 
	tkeyw‹d_°rög_t
;

279 
	#LEXER_KEYWORD
(
«me
, 
ty≥
Ë{ (c⁄° 
uöt8_t
 *Ë“ame), (ty≥Ë}

	)

280 
	#LEXER_KEYWORD_END
(Ë{ (c⁄° 
uöt8_t
 *Ë
NULL
, 
LEXER_EOS
 }

	)

285 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_2
[4] =

287 
LEXER_KEYWORD
 ("do", 
LEXER_KEYW_DO
),

288 
LEXER_KEYWORD
 ("if", 
LEXER_KEYW_IF
),

289 
LEXER_KEYWORD
 ("ö", 
LEXER_KEYW_IN
),

290 
LEXER_KEYWORD_END
 ()

296 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_3
[6] =

298 
LEXER_KEYWORD
 ("f‹", 
LEXER_KEYW_FOR
),

299 
LEXER_KEYWORD
 ("Àt", 
LEXER_KEYW_LET
),

300 
LEXER_KEYWORD
 ("√w", 
LEXER_KEYW_NEW
),

301 
LEXER_KEYWORD
 ("åy", 
LEXER_KEYW_TRY
),

302 
LEXER_KEYWORD
 ("v¨", 
LEXER_KEYW_VAR
),

303 
LEXER_KEYWORD_END
 ()

309 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_4
[9] =

311 
LEXER_KEYWORD
 ("ˇ£", 
LEXER_KEYW_CASE
),

312 
LEXER_KEYWORD
 ("ñ£", 
LEXER_KEYW_ELSE
),

313 
LEXER_KEYWORD
 ("íum", 
LEXER_KEYW_ENUM
),

314 
LEXER_KEYWORD
 ("nuŒ", 
LEXER_LIT_NULL
),

315 
LEXER_KEYWORD
 ("this", 
LEXER_KEYW_THIS
),

316 
LEXER_KEYWORD
 ("åue", 
LEXER_LIT_TRUE
),

317 
LEXER_KEYWORD
 ("void", 
LEXER_KEYW_VOID
),

318 
LEXER_KEYWORD
 ("wôh", 
LEXER_KEYW_WITH
),

319 
LEXER_KEYWORD_END
 ()

325 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_5
[10] =

327 
LEXER_KEYWORD
 ("bªak", 
LEXER_KEYW_BREAK
),

328 
LEXER_KEYWORD
 ("ˇtch", 
LEXER_KEYW_CATCH
),

329 
LEXER_KEYWORD
 ("˛ass", 
LEXER_KEYW_CLASS
),

330 
LEXER_KEYWORD
 ("c⁄°", 
LEXER_KEYW_CONST
),

331 
LEXER_KEYWORD
 ("Ál£", 
LEXER_LIT_FALSE
),

332 
LEXER_KEYWORD
 ("su≥r", 
LEXER_KEYW_SUPER
),

333 
LEXER_KEYWORD
 ("throw", 
LEXER_KEYW_THROW
),

334 
LEXER_KEYWORD
 ("whûe", 
LEXER_KEYW_WHILE
),

335 
LEXER_KEYWORD
 ("yõld", 
LEXER_KEYW_YIELD
),

336 
LEXER_KEYWORD_END
 ()

342 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_6
[9] =

344 
LEXER_KEYWORD
 ("dñëe", 
LEXER_KEYW_DELETE
),

345 
LEXER_KEYWORD
 ("exp‹t", 
LEXER_KEYW_EXPORT
),

346 
LEXER_KEYWORD
 ("imp‹t", 
LEXER_KEYW_IMPORT
),

347 
LEXER_KEYWORD
 ("public", 
LEXER_KEYW_PUBLIC
),

348 
LEXER_KEYWORD
 ("ªtu∫", 
LEXER_KEYW_RETURN
),

349 
LEXER_KEYWORD
 ("°©ic", 
LEXER_KEYW_STATIC
),

350 
LEXER_KEYWORD
 ("swôch", 
LEXER_KEYW_SWITCH
),

351 
LEXER_KEYWORD
 ("ty≥of", 
LEXER_KEYW_TYPEOF
),

352 
LEXER_KEYWORD_END
 ()

358 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_7
[6] =

360 
LEXER_KEYWORD
 ("deÁu…", 
LEXER_KEYW_DEFAULT
),

361 
LEXER_KEYWORD
 ("exãnds", 
LEXER_KEYW_EXTENDS
),

362 
LEXER_KEYWORD
 ("föÆly", 
LEXER_KEYW_FINALLY
),

363 
LEXER_KEYWORD
 ("∑ckage", 
LEXER_KEYW_PACKAGE
),

364 
LEXER_KEYWORD
 ("¥iv©e", 
LEXER_KEYW_PRIVATE
),

365 
LEXER_KEYWORD_END
 ()

371 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_8
[4] =

373 
LEXER_KEYWORD
 ("c⁄töue", 
LEXER_KEYW_CONTINUE
),

374 
LEXER_KEYWORD
 ("debuggî", 
LEXER_KEYW_DEBUGGER
),

375 
LEXER_KEYWORD
 ("fun˘i⁄", 
LEXER_KEYW_FUNCTION
),

376 
LEXER_KEYWORD_END
 ()

382 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_9
[3] =

384 
LEXER_KEYWORD
 ("öãrÁ˚", 
LEXER_KEYW_INTERFACE
),

385 
LEXER_KEYWORD
 ("¥Ÿe˘ed", 
LEXER_KEYW_PROTECTED
),

386 
LEXER_KEYWORD_END
 ()

392 c⁄° 
keyw‹d_°rög_t
 
	gkeyw‹d_Àngth_10
[3] =

394 
LEXER_KEYWORD
 ("im∂emíts", 
LEXER_KEYW_IMPLEMENTS
),

395 
LEXER_KEYWORD
 ("ö°™˚of", 
LEXER_KEYW_INSTANCEOF
),

396 
LEXER_KEYWORD_END
 ()

402 c⁄° 
keyw‹d_°rög_t
 * c⁄° 
	gkeyw‹d_°rög_li°
[9] =

404 
keyw‹d_Àngth_2
,

405 
keyw‹d_Àngth_3
,

406 
keyw‹d_Àngth_4
,

407 
keyw‹d_Àngth_5
,

408 
keyw‹d_Àngth_6
,

409 
keyw‹d_Àngth_7
,

410 
keyw‹d_Àngth_8
,

411 
keyw‹d_Àngth_9
,

412 
keyw‹d_Àngth_10


415 #unde‡
LEXER_KEYWORD


416 #unde‡
LEXER_KEYWORD_END


422 
	$Àxî_∑r£_idítifõr
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

423 
boﬁ
 
check_keyw‹ds
)

426 c⁄° 
uöt8_t
 *
sour˚_p
 = 
c⁄ãxt_p
->source_p;

427 c⁄° 
uöt8_t
 *
idít_°¨t_p
 = 
c⁄ãxt_p
->
sour˚_p
;

429 
∑r£r_löe_cou¡î_t
 
cﬁumn
 = 
c⁄ãxt_p
->column;

430 c⁄° 
uöt8_t
 *
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

431 
size_t
 
Àngth
 = 0;

433 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LITERAL
;

434 
c⁄ãxt_p
->
tokí
.
lôîÆ_is_ª£rved
 = 
Ál£
;

435 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 = 
LEXER_IDENT_LITERAL
;

436 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
has_esˇ≥
 = 
Ál£
;

440 i‡(*
sour˚_p
 =
LIT_CHAR_BACKSLASH
)

442 
uöt16_t
 
ch¨a˘î
;

444 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
has_esˇ≥
 = 
åue
;

445 
c⁄ãxt_p
->
sour˚_p
 = source_p;

446 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = column;

448 i‡((
sour˚_p
 + 6 > 
sour˚_íd_p
Ë|| (sour˚_p[1] !
LIT_CHAR_LOWERCASE_U
))

450 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_UNICODE_ESCAPE_SEQUENCE
);

453 
ch¨a˘î
 = 
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
, 
sour˚_p
 + 2, 4);

455 i‡(
Àngth
 == 0)

457 i‡(!
	`lô_ch¨_is_idítifõr_°¨t_ch¨a˘î
 (
ch¨a˘î
))

459 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_IDENTIFIER_START
);

464 i‡(!
	`lô_ch¨_is_idítifõr_∑π_ch¨a˘î
 (
ch¨a˘î
))

466 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_IDENTIFIER_PART
);

470 
Àngth
 +
	`lô_ch¨_gë_utf8_Àngth
 (
ch¨a˘î
);

471 
sour˚_p
 += 6;

472 
	`PARSER_PLUS_EQUAL_LC
 (
cﬁumn
, 6);

480 
	`JERRY_ASSERT
 (
sour˚_p
[0] < 
LEXER_UTF8_4BYTE_START
);

482 
sour˚_p
++;

483 
Àngth
++;

484 
cﬁumn
++;

486 
sour˚_p
 < 
sour˚_íd_p


487 && 
	`IS_UTF8_INTERMEDIATE_OCTET
 (
sour˚_p
[0]))

489 
sour˚_p
++;

490 
Àngth
++;

493 
sour˚_p
 < 
sour˚_íd_p


494 && (
	`lô_ch¨_is_idítifõr_∑π
 (
sour˚_p
Ë|| *sour˚_∞=
LIT_CHAR_BACKSLASH
));

496 
c⁄ãxt_p
->
sour˚_p
 = 
idít_°¨t_p
;

497 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = context_p->column;

499 i‡(
Àngth
 > 
PARSER_MAXIMUM_IDENT_LENGTH
)

501 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IDENTIFIER_TOO_LONG
);

505 i‡(
check_keyw‹ds


506 && !
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
has_esˇ≥


507 && (
Àngth
 >= 2 &&Üength <= 10))

509 c⁄° 
keyw‹d_°rög_t
 *
keyw‹d_p
 = 
keyw‹d_°rög_li°
[
Àngth
 - 2];

513 i‡(
idít_°¨t_p
[0] =
keyw‹d_p
->keyword_p[0]

514 && 
idít_°¨t_p
[1] =
keyw‹d_p
->keyword_p[1]

515 && 
	`memcmp
 (
idít_°¨t_p
, 
keyw‹d_p
->keyw‹d_p, 
Àngth
) == 0)

517 i‡(
keyw‹d_p
->
ty≥
 >
LEXER_FIRST_FUTURE_STRICT_RESERVED_WORD
)

519 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

521 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STRICT_IDENT_NOT_ALLOWED
);

524 
c⁄ãxt_p
->
tokí
.
lôîÆ_is_ª£rved
 = 
åue
;

528 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
keyw‹d_p
->type;

531 
keyw‹d_p
++;

533 
keyw‹d_p
->
ty≥
 !
LEXER_EOS
);

536 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL
)

539 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ch¨_p
 = 
idít_°¨t_p
;

540 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
Àngth
 = (
uöt16_t
)Üength;

543 
c⁄ãxt_p
->
sour˚_p
 = source_p;

544 
c⁄ãxt_p
->
cﬁumn
 = column;

545 
	}
}

551 
	$Àxî_∑r£_°rög
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

553 
uöt8_t
 
°r_íd_ch¨a˘î
 = 
c⁄ãxt_p
->
sour˚_p
[0];

554 c⁄° 
uöt8_t
 *
sour˚_p
 = 
c⁄ãxt_p
->source_p + 1;

555 c⁄° 
uöt8_t
 *
°rög_°¨t_p
 = 
sour˚_p
;

556 c⁄° 
uöt8_t
 *
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

557 
∑r£r_löe_cou¡î_t
 
löe
 = 
c⁄ãxt_p
->line;

558 
∑r£r_löe_cou¡î_t
 
cﬁumn
 = (∑r£r_löe_cou¡î_tË(
c⁄ãxt_p
->column + 1);

559 
∑r£r_löe_cou¡î_t
 
‹igöÆ_löe
 = 
löe
;

560 
∑r£r_löe_cou¡î_t
 
‹igöÆ_cﬁumn
 = 
cﬁumn
;

561 
size_t
 
Àngth
 = 0;

562 
uöt8_t
 
has_esˇ≥
 = 
Ál£
;

564 
åue
)

566 i‡(
sour˚_p
 >
sour˚_íd_p
)

568 
c⁄ãxt_p
->
tokí
.
löe
 = 
‹igöÆ_löe
;

569 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = (
∑r£r_löe_cou¡î_t
Ë(
‹igöÆ_cﬁumn
 - 1);

570 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_UNTERMINATED_STRING
);

573 i‡(*
sour˚_p
 =
°r_íd_ch¨a˘î
)

578 i‡(*
sour˚_p
 =
LIT_CHAR_BACKSLASH
)

580 
sour˚_p
++;

581 
cﬁumn
++;

582 i‡(
sour˚_p
 >
sour˚_íd_p
)

588 
has_esˇ≥
 = 
åue
;

591 i‡(*
sour˚_p
 =
LIT_CHAR_CR


592 || *
sour˚_p
 =
LIT_CHAR_LF


593 || (*
sour˚_p
 =
LEXER_NEWLINE_LS_PS_BYTE_1
 && 
	`LEXER_NEWLINE_LS_PS_BYTE_23
 (source_p)))

595 i‡(*
sour˚_p
 =
LIT_CHAR_CR
)

597 
sour˚_p
++;

598 i‡(
sour˚_p
 < 
sour˚_íd_p


599 && *
sour˚_p
 =
LIT_CHAR_LF
)

601 
sour˚_p
++;

604 i‡(*
sour˚_p
 =
LIT_CHAR_LF
)

606 
sour˚_p
++;

610 
sour˚_p
 += 3;

613 
löe
++;

614 
cﬁumn
 = 1;

618 i‡(*
sour˚_p
 =
LIT_CHAR_0


619 && 
sour˚_p
 + 1 < 
sour˚_íd_p


620 && (*(
sour˚_p
 + 1Ë< 
LIT_CHAR_0
 || *(sour˚_∞+ 1Ë> 
LIT_CHAR_9
))

622 
sour˚_p
++;

623 
cﬁumn
++;

624 
Àngth
++;

630 i‡(*
sour˚_p
 >
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_3
)

632 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

634 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OCTAL_ESCAPE_NOT_ALLOWED
);

637 
sour˚_p
++;

638 
cﬁumn
++;

640 i‡(
sour˚_p
 < 
sour˚_íd_p
 && *sour˚_∞>
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_7
)

642 
sour˚_p
++;

643 
cﬁumn
++;

645 i‡(
sour˚_p
 < 
sour˚_íd_p
 && *sour˚_∞>
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_7
)

649 i‡(
sour˚_p
[-2] >
LIT_CHAR_2
)

651 
Àngth
++;

654 
sour˚_p
++;

655 
cﬁumn
++;

659 
Àngth
++;

663 i‡(*
sour˚_p
 >
LIT_CHAR_4
 && *sour˚_∞<
LIT_CHAR_7
)

665 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

667 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OCTAL_ESCAPE_NOT_ALLOWED
);

670 
sour˚_p
++;

671 
cﬁumn
++;

673 i‡(
sour˚_p
 < 
sour˚_íd_p
 && *sour˚_∞>
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_7
)

675 
sour˚_p
++;

676 
cﬁumn
++;

681 
Àngth
++;

685 i‡(*
sour˚_p
 =
LIT_CHAR_LOWERCASE_X
 || *sour˚_∞=
LIT_CHAR_LOWERCASE_U
)

687 
uöt8_t
 
hex_∑π_Àngth
 = (*
sour˚_p
 =
LIT_CHAR_LOWERCASE_X
) ? 2 : 4;

689 
c⁄ãxt_p
->
tokí
.
löe
 =Üine;

690 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = (
∑r£r_löe_cou¡î_t
) (column - 1);

691 i‡(
sour˚_p
 + 1 + 
hex_∑π_Àngth
 > 
sour˚_íd_p
)

693 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_ESCAPE_SEQUENCE
);

696 
Àngth
 +
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
,

697 
sour˚_p
 + 1,

698 
hex_∑π_Àngth
));

699 
sour˚_p
 +
hex_∑π_Àngth
 + 1;

700 
	`PARSER_PLUS_EQUAL_LC
 (
cﬁumn
, 
hex_∑π_Àngth
 + 1u);

705 i‡(*
sour˚_p
 >
LEXER_UTF8_4BYTE_START
)

710 
Àngth
 += 2 * 3;

711 
has_esˇ≥
 = 
åue
;

712 
sour˚_p
 += 4;

713 
cﬁumn
++;

716 i‡(*
sour˚_p
 =
LIT_CHAR_CR


717 || *
sour˚_p
 =
LIT_CHAR_LF


718 || (*
sour˚_p
 =
LEXER_NEWLINE_LS_PS_BYTE_1
 && 
	`LEXER_NEWLINE_LS_PS_BYTE_23
 (source_p)))

720 
c⁄ãxt_p
->
tokí
.
löe
 =Üine;

721 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = column;

722 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_NEWLINE_NOT_ALLOWED
);

724 i‡(*
sour˚_p
 =
LIT_CHAR_TAB
)

726 
cﬁumn
 = 
	`Æign_cﬁumn_to_èb
 (column);

728 
cﬁumn
--;

731 
sour˚_p
++;

732 
cﬁumn
++;

733 
Àngth
++;

735 
sour˚_p
 < 
sour˚_íd_p


736 && 
	`IS_UTF8_INTERMEDIATE_OCTET
 (*
sour˚_p
))

738 
sour˚_p
++;

739 
Àngth
++;

743 i‡(
Àngth
 > 
PARSER_MAXIMUM_STRING_LENGTH
)

745 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STRING_TOO_LONG
);

748 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LITERAL
;

751 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ch¨_p
 = 
°rög_°¨t_p
;

752 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
Àngth
 = (
uöt16_t
)Üength;

753 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 = 
LEXER_STRING_LITERAL
;

754 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
has_esˇ≥
 = has_escape;

756 
c⁄ãxt_p
->
sour˚_p
 = source_p + 1;

757 
c⁄ãxt_p
->
löe
 =Üine;

758 
c⁄ãxt_p
->
cﬁumn
 = (
∑r£r_löe_cou¡î_t
) (column + 1);

759 
	}
}

765 
	$Àxî_∑r£_numbî
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

767 c⁄° 
uöt8_t
 *
sour˚_p
 = 
c⁄ãxt_p
->source_p;

768 c⁄° 
uöt8_t
 *
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

769 
boﬁ
 
ˇn_be_Êﬂt
 = 
Ál£
;

770 
size_t
 
Àngth
;

772 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LITERAL
;

773 
c⁄ãxt_p
->
tokí
.
lôîÆ_is_ª£rved
 = 
Ál£
;

774 
c⁄ãxt_p
->
tokí
.
exåa_vÆue
 = 
LEXER_NUMBER_DECIMAL
;

775 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ch¨_p
 = 
sour˚_p
;

776 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 = 
LEXER_NUMBER_LITERAL
;

777 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
has_esˇ≥
 = 
Ál£
;

779 i‡(
sour˚_p
[0] =
LIT_CHAR_0


780 && 
sour˚_p
 + 1 < 
sour˚_íd_p
)

782 i‡(
	`LEXER_TO_ASCII_LOWERCASE
 (
sour˚_p
[1]Ë=
LIT_CHAR_LOWERCASE_X
)

784 
c⁄ãxt_p
->
tokí
.
exåa_vÆue
 = 
LEXER_NUMBER_HEXADECIMAL
;

785 
sour˚_p
 += 2;

787 i‡(
sour˚_p
 >
sour˚_íd_p


788 || !
	`lô_ch¨_is_hex_digô
 (
sour˚_p
[0]))

790 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_HEX_DIGIT
);

795 
sour˚_p
++;

797 
sour˚_p
 < 
sour˚_íd_p


798 && 
	`lô_ch¨_is_hex_digô
 (
sour˚_p
[0]));

800 i‡(
sour˚_p
[1] >
LIT_CHAR_0


801 && 
sour˚_p
[1] <
LIT_CHAR_7
)

803 
c⁄ãxt_p
->
tokí
.
exåa_vÆue
 = 
LEXER_NUMBER_OCTAL
;

805 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

807 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OCTAL_NUMBER_NOT_ALLOWED
);

812 
sour˚_p
++;

814 
sour˚_p
 < 
sour˚_íd_p


815 && 
sour˚_p
[0] >
LIT_CHAR_0


816 && 
sour˚_p
[0] <
LIT_CHAR_7
);

818 i‡(
sour˚_p
 < 
sour˚_íd_p


819 && 
sour˚_p
[0] >
LIT_CHAR_8


820 && 
sour˚_p
[0] <
LIT_CHAR_9
)

822 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_NUMBER
);

825 i‡(
sour˚_p
[1] >
LIT_CHAR_8


826 && 
sour˚_p
[1] <
LIT_CHAR_9
)

828 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_NUMBER
);

832 
ˇn_be_Êﬂt
 = 
åue
;

833 
sour˚_p
++;

840 
sour˚_p
++;

842 
sour˚_p
 < 
sour˚_íd_p


843 && 
sour˚_p
[0] >
LIT_CHAR_0


844 && 
sour˚_p
[0] <
LIT_CHAR_9
);

846 
ˇn_be_Êﬂt
 = 
åue
;

849 i‡(
ˇn_be_Êﬂt
)

851 i‡(
sour˚_p
 < 
sour˚_íd_p


852 && 
sour˚_p
[0] =
LIT_CHAR_DOT
)

854 
sour˚_p
++;

855 
sour˚_p
 < 
sour˚_íd_p


856 && 
sour˚_p
[0] >
LIT_CHAR_0


857 && 
sour˚_p
[0] <
LIT_CHAR_9
)

859 
sour˚_p
++;

863 i‡(
sour˚_p
 < 
sour˚_íd_p


864 && 
	`LEXER_TO_ASCII_LOWERCASE
 (
sour˚_p
[0]Ë=
LIT_CHAR_LOWERCASE_E
)

866 
sour˚_p
++;

868 i‡(
sour˚_p
 < 
sour˚_íd_p


869 && (
sour˚_p
[0] =
LIT_CHAR_PLUS
 || sour˚_p[0] =
LIT_CHAR_MINUS
))

871 
sour˚_p
++;

874 i‡(
sour˚_p
 >
sour˚_íd_p


875 || 
sour˚_p
[0] < 
LIT_CHAR_0


876 || 
sour˚_p
[0] > 
LIT_CHAR_9
)

878 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_MISSING_EXPONENT
);

883 
sour˚_p
++;

885 
sour˚_p
 < 
sour˚_íd_p


886 && 
sour˚_p
[0] >
LIT_CHAR_0


887 && 
sour˚_p
[0] <
LIT_CHAR_9
);

891 i‡(
sour˚_p
 < 
sour˚_íd_p


892 && (
	`lô_ch¨_is_idítifõr_°¨t
 (
sour˚_p
Ë|| sour˚_p[0] =
LIT_CHAR_BACKSLASH
))

894 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IDENTIFIER_AFTER_NUMBER
);

897 
Àngth
 = (
size_t
Ë(
sour˚_p
 - 
c⁄ãxt_p
->source_p);

898 i‡(
Àngth
 > 
PARSER_MAXIMUM_IDENT_LENGTH
)

900 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_NUMBER_TOO_LONG
);

903 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
Àngth
 = (
uöt16_t
)Üength;

904 
	`PARSER_PLUS_EQUAL_LC
 (
c⁄ãxt_p
->
cﬁumn
, 
Àngth
);

905 
c⁄ãxt_p
->
sour˚_p
 = source_p;

906 
	}
}

908 
	#LEXER_TYPE_A_TOKEN
(
ch¨1
, 
ty≥1
) \

909 (
uöt8_t
Ë(
ch¨1
) : \

911 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥1
); \

912 
Àngth
 = 1; \

914 }

	)

916 
	#LEXER_TYPE_B_TOKEN
(
ch¨1
, 
ty≥1
, 
ch¨2
, 
ty≥2
) \

917 (
uöt8_t
Ë(
ch¨1
) : \

919 i‡(
Àngth
 >2 && 
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë(
ch¨2
)) \

921 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥2
); \

922 
Àngth
 = 2; \

926 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥1
); \

927 
Àngth
 = 1; \

929 }

	)

931 
	#LEXER_TYPE_C_TOKEN
(
ch¨1
, 
ty≥1
, 
ch¨2
, 
ty≥2
, 
ch¨3
, 
ty≥3
) \

932 (
uöt8_t
Ë(
ch¨1
) : \

934 i‡(
Àngth
 >= 2) \

936 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë(
ch¨2
)) \

938 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥2
); \

939 
Àngth
 = 2; \

943 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë(
ch¨3
)) \

945 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥3
); \

946 
Àngth
 = 2; \

951 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥1
); \

952 
Àngth
 = 1; \

954 }

	)

956 
	#LEXER_TYPE_D_TOKEN
(
ch¨1
, 
ty≥1
, 
ch¨2
, 
ty≥2
, 
ch¨3
, 
ty≥3
) \

957 (
uöt8_t
Ë(
ch¨1
) : \

959 i‡(
Àngth
 >2 && 
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë(
ch¨2
)) \

961 i‡(
Àngth
 >3 && 
c⁄ãxt_p
->
sour˚_p
[2] =(
uöt8_t
Ë(
ch¨3
)) \

963 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥3
); \

964 
Àngth
 = 3; \

968 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥2
); \

969 
Àngth
 = 2; \

973 
c⁄ãxt_p
->
tokí
.
ty≥
 = (
ty≥1
); \

974 
Àngth
 = 1; \

976 }

	)

982 
	$Àxî_√xt_tokí
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

984 
size_t
 
Àngth
;

986 
	`skù_•a˚s
 (
c⁄ãxt_p
);

988 
c⁄ãxt_p
->
tokí
.
löe
 = context_p->line;

989 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = context_p->column;

991 
Àngth
 = (
size_t
Ë(
c⁄ãxt_p
->
sour˚_íd_p
 - c⁄ãxt_p->
sour˚_p
);

992 i‡(
Àngth
 == 0)

994 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_EOS
;

998 i‡(
	`lô_ch¨_is_idítifõr_°¨t
 (
c⁄ãxt_p
->
sour˚_p
)

999 || 
c⁄ãxt_p
->
sour˚_p
[0] =
LIT_CHAR_BACKSLASH
)

1001 
	`Àxî_∑r£_idítifõr
 (
c⁄ãxt_p
, 
åue
);

1005 i‡(
c⁄ãxt_p
->
sour˚_p
[0] >
LIT_CHAR_0
 && c⁄ãxt_p->sour˚_p[0] <
LIT_CHAR_9
)

1007 
	`Àxî_∑r£_numbî
 (
c⁄ãxt_p
);

1011 
c⁄ãxt_p
->
sour˚_p
[0])

1013 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_LEFT_BRACE
, 
LEXER_LEFT_BRACE
);

1014 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_LEFT_PAREN
, 
LEXER_LEFT_PAREN
);

1015 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_LEFT_SQUARE
, 
LEXER_LEFT_SQUARE
);

1016 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_RIGHT_BRACE
, 
LEXER_RIGHT_BRACE
);

1017 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_RIGHT_PAREN
, 
LEXER_RIGHT_PAREN
);

1018 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_RIGHT_SQUARE
, 
LEXER_RIGHT_SQUARE
);

1019 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_SEMICOLON
, 
LEXER_SEMICOLON
);

1020 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_COMMA
, 
LEXER_COMMA
);

1022 (
uöt8_t
Ë
LIT_CHAR_DOT
 :

1024 i‡(
Àngth
 >= 2

1025 && (
c⁄ãxt_p
->
sour˚_p
[1] >
LIT_CHAR_0
 && c⁄ãxt_p->sour˚_p[1] <
LIT_CHAR_9
))

1027 
	`Àxî_∑r£_numbî
 (
c⁄ãxt_p
);

1031 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_DOT
;

1032 
Àngth
 = 1;

1036 (
uöt8_t
Ë
LIT_CHAR_LESS_THAN
:

1038 i‡(
Àngth
 >= 2)

1040 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë
LIT_CHAR_EQUALS
)

1042 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LESS_EQUAL
;

1043 
Àngth
 = 2;

1047 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë
LIT_CHAR_LESS_THAN
)

1049 i‡(
Àngth
 >3 && 
c⁄ãxt_p
->
sour˚_p
[2] =(
uöt8_t
Ë
LIT_CHAR_EQUALS
)

1051 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_ASSIGN_LEFT_SHIFT
;

1052 
Àngth
 = 3;

1056 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LEFT_SHIFT
;

1057 
Àngth
 = 2;

1062 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LESS
;

1063 
Àngth
 = 1;

1067 
LIT_CHAR_GREATER_THAN
:

1069 i‡(
Àngth
 >= 2)

1071 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë
LIT_CHAR_EQUALS
)

1073 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_GREATER_EQUAL
;

1074 
Àngth
 = 2;

1078 i‡(
c⁄ãxt_p
->
sour˚_p
[1] =(
uöt8_t
Ë
LIT_CHAR_GREATER_THAN
)

1080 i‡(
Àngth
 >= 3)

1082 i‡(
c⁄ãxt_p
->
sour˚_p
[2] =(
uöt8_t
Ë
LIT_CHAR_EQUALS
)

1084 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_ASSIGN_RIGHT_SHIFT
;

1085 
Àngth
 = 3;

1089 i‡(
c⁄ãxt_p
->
sour˚_p
[2] =(
uöt8_t
Ë
LIT_CHAR_GREATER_THAN
)

1091 i‡(
Àngth
 >4 && 
c⁄ãxt_p
->
sour˚_p
[3] =(
uöt8_t
Ë
LIT_CHAR_EQUALS
)

1093 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_ASSIGN_UNS_RIGHT_SHIFT
;

1094 
Àngth
 = 4;

1098 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_UNS_RIGHT_SHIFT
;

1099 
Àngth
 = 3;

1104 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_RIGHT_SHIFT
;

1105 
Àngth
 = 2;

1110 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_GREATER
;

1111 
Àngth
 = 1;

1115 
	`LEXER_TYPE_D_TOKEN
 (
LIT_CHAR_EQUALS
, 
LEXER_ASSIGN
, LIT_CHAR_EQUALS,

1116 
LEXER_EQUAL
, 
LIT_CHAR_EQUALS
, 
LEXER_STRICT_EQUAL
)

1117 
	`LEXER_TYPE_D_TOKEN
 (
LIT_CHAR_EXCLAMATION
, 
LEXER_LOGICAL_NOT
, 
LIT_CHAR_EQUALS
,

1118 
LEXER_NOT_EQUAL
, 
LIT_CHAR_EQUALS
, 
LEXER_STRICT_NOT_EQUAL
)

1120 
	`LEXER_TYPE_C_TOKEN
 (
LIT_CHAR_PLUS
, 
LEXER_ADD
, 
LIT_CHAR_EQUALS
,

1121 
LEXER_ASSIGN_ADD
, 
LIT_CHAR_PLUS
, 
LEXER_INCREASE
)

1122 
	`LEXER_TYPE_C_TOKEN
 (
LIT_CHAR_MINUS
, 
LEXER_SUBTRACT
, 
LIT_CHAR_EQUALS
,

1123 
LEXER_ASSIGN_SUBTRACT
, 
LIT_CHAR_MINUS
, 
LEXER_DECREASE
)

1125 
	`LEXER_TYPE_B_TOKEN
 (
LIT_CHAR_ASTERISK
, 
LEXER_MULTIPLY
, 
LIT_CHAR_EQUALS
,

1126 
LEXER_ASSIGN_MULTIPLY
)

1127 
	`LEXER_TYPE_B_TOKEN
 (
LIT_CHAR_SLASH
, 
LEXER_DIVIDE
, 
LIT_CHAR_EQUALS
,

1128 
LEXER_ASSIGN_DIVIDE
)

1129 
	`LEXER_TYPE_B_TOKEN
 (
LIT_CHAR_PERCENT
, 
LEXER_MODULO
, 
LIT_CHAR_EQUALS
,

1130 
LEXER_ASSIGN_MODULO
)

1132 
	`LEXER_TYPE_C_TOKEN
 (
LIT_CHAR_AMPERSAND
, 
LEXER_BIT_AND
, 
LIT_CHAR_EQUALS
,

1133 
LEXER_ASSIGN_BIT_AND
, 
LIT_CHAR_AMPERSAND
, 
LEXER_LOGICAL_AND
)

1134 
	`LEXER_TYPE_C_TOKEN
 (
LIT_CHAR_VLINE
, 
LEXER_BIT_OR
, 
LIT_CHAR_EQUALS
,

1135 
LEXER_ASSIGN_BIT_OR
, 
LIT_CHAR_VLINE
, 
LEXER_LOGICAL_OR
)

1137 
	`LEXER_TYPE_B_TOKEN
 (
LIT_CHAR_CIRCUMFLEX
, 
LEXER_BIT_XOR
, 
LIT_CHAR_EQUALS
,

1138 
LEXER_ASSIGN_BIT_XOR
)

1140 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_TILDE
, 
LEXER_BIT_NOT
);

1141 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_QUESTION
, 
LEXER_QUESTION_MARK
);

1142 
	`LEXER_TYPE_A_TOKEN
 (
LIT_CHAR_COLON
, 
LEXER_COLON
);

1144 
LIT_CHAR_SINGLE_QUOTE
:

1145 
LIT_CHAR_DOUBLE_QUOTE
:

1147 
	`Àxî_∑r£_°rög
 (
c⁄ãxt_p
);

1153 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_CHARACTER
);

1157 
c⁄ãxt_p
->
sour˚_p
 +
Àngth
;

1158 
	`PARSER_PLUS_EQUAL_LC
 (
c⁄ãxt_p
->
cﬁumn
, 
Àngth
);

1159 
	}
}

1161 #unde‡
LEXER_TYPE_A_TOKEN


1162 #unde‡
LEXER_TYPE_B_TOKEN


1163 #unde‡
LEXER_TYPE_C_TOKEN


1164 #unde‡
LEXER_TYPE_D_TOKEN


1170 
	$Àxî_¥o˚ss_ch¨_lôîÆ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1171 c⁄° 
uöt8_t
 *
ch¨_p
,

1172 
size_t
 
Àngth
,

1173 
uöt8_t
 
lôîÆ_ty≥
,

1174 
boﬁ
 
has_esˇ≥
)

1176 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

1177 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1178 
uöt32_t
 
lôîÆ_ödex
 = 0;

1180 
	`JERRY_ASSERT
 (
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL


1181 || 
lôîÆ_ty≥
 =
LEXER_STRING_LITERAL
);

1183 
	`JERRY_ASSERT
 (
lôîÆ_ty≥
 !
LEXER_IDENT_LITERAL
 || 
Àngth
 <
PARSER_MAXIMUM_IDENT_LENGTH
);

1184 
	`JERRY_ASSERT
 (
lôîÆ_ty≥
 !
LEXER_STRING_LITERAL
 || 
Àngth
 <
PARSER_MAXIMUM_STRING_LENGTH
);

1186 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

1188 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)Ë!
NULL
)

1190 i‡(
lôîÆ_p
->
ty≥
 =
lôîÆ_ty≥


1191 && 
lôîÆ_p
->
¥›
.
Àngth
 ==Üength

1192 && 
	`memcmp
 (
lôîÆ_p
->
u
.
ch¨_p
, ch¨_p, 
Àngth
) == 0)

1194 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
 =Üiteral_p;

1195 
c⁄ãxt_p
->
lô_obje˘
.
ödex
 = (
uöt16_t
Ë
lôîÆ_ödex
;

1196 
lôîÆ_p
->
°©us_Êags
 = (
uöt8_t
Ë÷ôîÆ_p->°©us_Êag†& ~
LEXER_FLAG_UNUSED_IDENT
);

1200 
lôîÆ_ödex
++;

1203 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 =
c⁄ãxt_p
->
lôîÆ_cou¡
);

1205 i‡(
lôîÆ_ödex
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

1207 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

1210 i‡(
Àngth
 == 0)

1212 
has_esˇ≥
 = 
Ál£
;

1215 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &c⁄ãxt_p->
lôîÆ_poﬁ
);

1216 
lôîÆ_p
->
¥›
.
Àngth
 = (
uöt16_t
)Üength;

1217 
lôîÆ_p
->
ty≥
 = 
lôîÆ_ty≥
;

1218 
lôîÆ_p
->
°©us_Êags
 = 
has_esˇ≥
 ? 0 : 
LEXER_FLAG_SOURCE_PTR
;

1220 i‡(
has_esˇ≥
)

1222 
lôîÆ_p
->
u
.
ch¨_p
 = (
uöt8_t
 *Ë
	`jmem_hóp_Æloc_block
 (
Àngth
);

1223 
	`mem˝y
 ((
uöt8_t
 *Ë
lôîÆ_p
->
u
.
ch¨_p
, ch¨_p, 
Àngth
);

1227 
lôîÆ_p
->
u
.
ch¨_p
 = char_p;

1230 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
 =Üiteral_p;

1231 
c⁄ãxt_p
->
lô_obje˘
.
ödex
 = (
uöt16_t
Ë
lôîÆ_ödex
;

1232 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

1233 
	}
}

1236 
	#LEXER_MAX_LITERAL_LOCAL_BUFFER_SIZE
 48

	)

1242 
	$Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1243 
Àxî_lô_loˇti⁄_t
 *
lôîÆ_p
,

1244 
uöt8_t
 
lôîÆ_ty≥
)

1246 
uöt8_t
 *
de°ö©i⁄_°¨t_p
;

1247 c⁄° 
uöt8_t
 *
sour˚_p
;

1248 
uöt8_t
 
loˇl_byã_¨øy
[
LEXER_MAX_LITERAL_LOCAL_BUFFER_SIZE
];

1250 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL


1251 || 
lôîÆ_p
->
ty≥
 =
LEXER_STRING_LITERAL
);

1252 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
Æloˇãd_buf„r_p
 =
NULL
);

1254 
de°ö©i⁄_°¨t_p
 = 
loˇl_byã_¨øy
;

1255 
sour˚_p
 = 
lôîÆ_p
->
ch¨_p
;

1257 i‡(
lôîÆ_p
->
has_esˇ≥
)

1259 
uöt8_t
 *
de°ö©i⁄_p
;

1261 i‡(
lôîÆ_p
->
Àngth
 > 
LEXER_MAX_LITERAL_LOCAL_BUFFER_SIZE
)

1263 
de°ö©i⁄_°¨t_p
 = (
uöt8_t
 *Ë
	`∑r£r_mÆloc_loˇl
 (
c⁄ãxt_p
, 
lôîÆ_p
->
Àngth
);

1264 
c⁄ãxt_p
->
Æloˇãd_buf„r_p
 = 
de°ö©i⁄_°¨t_p
;

1265 
c⁄ãxt_p
->
Æloˇãd_buf„r_size
 = 
lôîÆ_p
->
Àngth
;

1268 
de°ö©i⁄_p
 = 
de°ö©i⁄_°¨t_p
;

1270 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL
)

1272 c⁄° 
uöt8_t
 *
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

1274 
	`JERRY_ASSERT
 (
lôîÆ_p
->
Àngth
 <
PARSER_MAXIMUM_IDENT_LENGTH
);

1278 i‡(*
sour˚_p
 =
LIT_CHAR_BACKSLASH
)

1280 
de°ö©i⁄_p
 +
	`lô_ch¨_to_utf8_byãs
 (destination_p,

1281 
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
, 
sour˚_p
 + 2, 4));

1282 
sour˚_p
 += 6;

1286 *
de°ö©i⁄_p
++ = *
sour˚_p
++;

1288 
sour˚_p
 < 
sour˚_íd_p


1289 && 
	`IS_UTF8_INTERMEDIATE_OCTET
 (*
sour˚_p
))

1291 *
de°ö©i⁄_p
++ = *
sour˚_p
++;

1294 
sour˚_p
 < 
sour˚_íd_p


1295 && (
	`lô_ch¨_is_idítifõr_∑π
 (
sour˚_p
Ë|| *sour˚_∞=
LIT_CHAR_BACKSLASH
));

1297 
	`JERRY_ASSERT
 (
de°ö©i⁄_p
 =
de°ö©i⁄_°¨t_p
 + 
lôîÆ_p
->
Àngth
);

1301 
uöt8_t
 
°r_íd_ch¨a˘î
 = 
sour˚_p
[-1];

1303 
åue
)

1305 i‡(*
sour˚_p
 =
°r_íd_ch¨a˘î
)

1310 i‡(*
sour˚_p
 =
LIT_CHAR_BACKSLASH
)

1312 
uöt8_t
 
c⁄v_ch¨a˘î
;

1314 
sour˚_p
++;

1315 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1318 i‡(*
sour˚_p
 =
LIT_CHAR_CR


1319 || *
sour˚_p
 =
LIT_CHAR_LF


1320 || (*
sour˚_p
 =
LEXER_NEWLINE_LS_PS_BYTE_1
 && 
	`LEXER_NEWLINE_LS_PS_BYTE_23
 (source_p)))

1322 i‡(*
sour˚_p
 =
LIT_CHAR_CR
)

1324 
sour˚_p
++;

1325 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1327 i‡(*
sour˚_p
 =
LIT_CHAR_LF
)

1329 
sour˚_p
++;

1332 i‡(*
sour˚_p
 =
LIT_CHAR_LF
)

1334 
sour˚_p
++;

1338 
sour˚_p
 += 3;

1343 i‡(*
sour˚_p
 >
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_3
)

1345 
uöt32_t
 
o˘Æ_numbî
 = (uöt32_tË(*
sour˚_p
 - 
LIT_CHAR_0
);

1347 
sour˚_p
++;

1348 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1350 i‡(*
sour˚_p
 >
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_7
)

1352 
o˘Æ_numbî
 = o˘Æ_numbî * 8 + (
uöt32_t
Ë(*
sour˚_p
 - 
LIT_CHAR_0
);

1353 
sour˚_p
++;

1354 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1356 i‡(*
sour˚_p
 >
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_7
)

1358 
o˘Æ_numbî
 = o˘Æ_numbî * 8 + (
uöt32_t
Ë(*
sour˚_p
 - 
LIT_CHAR_0
);

1359 
sour˚_p
++;

1360 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1364 
de°ö©i⁄_p
 +
	`lô_ch¨_to_utf8_byãs
 (de°ö©i⁄_p, (
uöt16_t
Ë
o˘Æ_numbî
);

1368 i‡(*
sour˚_p
 >
LIT_CHAR_4
 && *sour˚_∞<
LIT_CHAR_7
)

1370 
uöt32_t
 
o˘Æ_numbî
 = (uöt32_tË(*
sour˚_p
 - 
LIT_CHAR_0
);

1372 
sour˚_p
++;

1373 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1375 i‡(*
sour˚_p
 >
LIT_CHAR_0
 && *sour˚_∞<
LIT_CHAR_7
)

1377 
o˘Æ_numbî
 = o˘Æ_numbî * 8 + (
uöt32_t
Ë(*
sour˚_p
 - 
LIT_CHAR_0
);

1378 
sour˚_p
++;

1379 
	`JERRY_ASSERT
 (
sour˚_p
 < 
c⁄ãxt_p
->
sour˚_íd_p
);

1382 *
de°ö©i⁄_p
++ = (
uöt8_t
Ë
o˘Æ_numbî
;

1386 i‡(*
sour˚_p
 =
LIT_CHAR_LOWERCASE_X
 || *sour˚_∞=
LIT_CHAR_LOWERCASE_U
)

1388 
hex_∑π_Àngth
 = (*
sour˚_p
 =
LIT_CHAR_LOWERCASE_X
) ? 2 : 4;

1389 
	`JERRY_ASSERT
 (
sour˚_p
 + 1 + 
hex_∑π_Àngth
 <
c⁄ãxt_p
->
sour˚_íd_p
);

1391 
de°ö©i⁄_p
 +
	`lô_ch¨_to_utf8_byãs
 (destination_p,

1392 
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
,

1393 
sour˚_p
 + 1,

1394 
hex_∑π_Àngth
));

1395 
sour˚_p
 +
hex_∑π_Àngth
 + 1;

1399 
c⁄v_ch¨a˘î
 = *
sour˚_p
;

1400 *
sour˚_p
)

1402 
LIT_CHAR_LOWERCASE_B
:

1404 
c⁄v_ch¨a˘î
 = 0x08;

1407 
LIT_CHAR_LOWERCASE_T
:

1409 
c⁄v_ch¨a˘î
 = 0x09;

1412 
LIT_CHAR_LOWERCASE_N
:

1414 
c⁄v_ch¨a˘î
 = 0x0a;

1417 
LIT_CHAR_LOWERCASE_V
:

1419 
c⁄v_ch¨a˘î
 = 0x0b;

1422 
LIT_CHAR_LOWERCASE_F
:

1424 
c⁄v_ch¨a˘î
 = 0x0c;

1427 
LIT_CHAR_LOWERCASE_R
:

1429 
c⁄v_ch¨a˘î
 = 0x0d;

1434 i‡(
c⁄v_ch¨a˘î
 !*
sour˚_p
)

1436 *
de°ö©i⁄_p
++ = 
c⁄v_ch¨a˘î
;

1437 
sour˚_p
++;

1442 i‡(*
sour˚_p
 >
LEXER_UTF8_4BYTE_START
)

1448 
uöt32_t
 
ch¨a˘î
 = ((((uöt32_tË
sour˚_p
[0]) & 0x7) << 18);

1449 
ch¨a˘î
 |((((
uöt32_t
Ë
sour˚_p
[1]Ë& 
LIT_UTF8_LAST_6_BITS_MASK
) << 12);

1450 
ch¨a˘î
 |((((
uöt32_t
Ë
sour˚_p
[2]Ë& 
LIT_UTF8_LAST_6_BITS_MASK
) << 6);

1451 
ch¨a˘î
 |(((
uöt32_t
Ë
sour˚_p
[3]Ë& 
LIT_UTF8_LAST_6_BITS_MASK
);

1453 
	`JERRY_ASSERT
 (
ch¨a˘î
 >= 0x10000);

1454 
ch¨a˘î
 -= 0x10000;

1455 
de°ö©i⁄_p
 +
	`lô_ch¨_to_utf8_byãs
 (destination_p,

1456 (
ecma_ch¨_t
Ë(0xd800 | (
ch¨a˘î
 >> 10)));

1457 
de°ö©i⁄_p
 +
	`lô_ch¨_to_utf8_byãs
 (destination_p,

1458 (
ecma_ch¨_t
Ë(0xdc00 | (
ch¨a˘î
 & 
LIT_UTF16_LAST_10_BITS_MASK
)));

1459 
sour˚_p
 += 4;

1463 *
de°ö©i⁄_p
++ = *
sour˚_p
++;

1467 
	`IS_UTF8_INTERMEDIATE_OCTET
 (*
sour˚_p
))

1469 *
de°ö©i⁄_p
++ = *
sour˚_p
++;

1473 
	`JERRY_ASSERT
 (
de°ö©i⁄_p
 =
de°ö©i⁄_°¨t_p
 + 
lôîÆ_p
->
Àngth
);

1476 
sour˚_p
 = 
de°ö©i⁄_°¨t_p
;

1479 
	`Àxî_¥o˚ss_ch¨_lôîÆ
 (
c⁄ãxt_p
,

1480 
sour˚_p
,

1481 
lôîÆ_p
->
Àngth
,

1482 
lôîÆ_ty≥
,

1483 
lôîÆ_p
->
has_esˇ≥
);

1485 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

1487 i‡(
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

1489 i‡((
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_INSIDE_WITH
)

1490 && 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL
)

1492 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

1495 i‡(
lôîÆ_p
->
Àngth
 == 4

1496 && 
sour˚_p
[0] =
LIT_CHAR_LOWERCASE_E


1497 && 
sour˚_p
[3] =
LIT_CHAR_LOWERCASE_L


1498 && 
sour˚_p
[1] =
LIT_CHAR_LOWERCASE_V


1499 && 
sour˚_p
[2] =
LIT_CHAR_LOWERCASE_A
)

1501 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 = 
LEXER_LITERAL_OBJECT_EVAL
;

1504 i‡(
lôîÆ_p
->
Àngth
 == 9

1505 && 
sour˚_p
[0] =
LIT_CHAR_LOWERCASE_A


1506 && 
sour˚_p
[8] =
LIT_CHAR_LOWERCASE_S


1507 && 
	`memcmp
 (
sour˚_p
 + 1, "rgument", 7) == 0)

1509 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 = 
LEXER_LITERAL_OBJECT_ARGUMENTS
;

1510 i‡(!(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_ARGUMENTS_NOT_NEEDED
))

1512 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_ARGUMENTS_NEEDED
 | 
PARSER_LEXICAL_ENV_NEEDED
;

1513 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

1518 i‡(
de°ö©i⁄_°¨t_p
 !
loˇl_byã_¨øy
)

1520 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
Æloˇãd_buf„r_p
 =
de°ö©i⁄_°¨t_p
);

1522 
c⁄ãxt_p
->
Æloˇãd_buf„r_p
 = 
NULL
;

1523 
	`∑r£r_‰ì_loˇl
 (
de°ö©i⁄_°¨t_p
,

1524 
c⁄ãxt_p
->
Æloˇãd_buf„r_size
);

1527 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
Æloˇãd_buf„r_p
 =
NULL
);

1528 
	}
}

1530 #unde‡
LEXER_MAX_LITERAL_LOCAL_BUFFER_SIZE


1537 
boﬁ


1538 
	$Àxî_c⁄°ru˘_numbî_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1539 
boﬁ
 
push_numbî_Ælowed
,

1540 
boﬁ
 
is_√g©ive_numbî
)

1542 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

1543 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1544 
ecma_numbî_t
 
num
;

1545 
uöt32_t
 
lôîÆ_ödex
 = 0;

1546 
uöt16_t
 
Àngth
 = 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.length;

1548 i‡(
c⁄ãxt_p
->
tokí
.
exåa_vÆue
 !
LEXER_NUMBER_OCTAL
)

1550 
num
 = 
	`ecma_utf8_°rög_to_numbî
 (
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ch¨_p
,

1551 
Àngth
);

1555 c⁄° 
uöt8_t
 *
§c_p
 = 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ch¨_p
;

1556 c⁄° 
uöt8_t
 *
§c_íd_p
 = 
§c_p
 + 
Àngth
 - 1;

1558 
num
 = 0;

1561 
§c_p
++;

1562 
num
 =Çum * 8 + (
ecma_numbî_t
Ë(*
§c_p
 - 
LIT_CHAR_0
);

1564 
§c_p
 < 
§c_íd_p
);

1567 i‡(
push_numbî_Ælowed
)

1569 
öt32_t
 
öt_num
 = (öt32_tË
num
;

1571 i‡(
öt_num
 =
num
)

1573 i‡(
öt_num
 <
CBC_PUSH_NUMBER_BYTE_RANGE_END


1574 && (
öt_num
 !0 || !
is_√g©ive_numbî
))

1576 
c⁄ãxt_p
->
lô_obje˘
.
ödex
 = (
uöt16_t
Ë
öt_num
;

1577  
åue
;

1582 i‡(
is_√g©ive_numbî
)

1584 
num
 = -num;

1587 
jmem_˝oöãr_t
 
lô_˝
 = 
	`ecma_föd_‹_¸óã_lôîÆ_numbî
 (
num
);

1588 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

1590 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)Ë!
NULL
)

1592 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_NUMBER_LITERAL


1593 && 
lôîÆ_p
->
u
.
vÆue
 =
lô_˝
)

1595 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
 =Üiteral_p;

1596 
c⁄ãxt_p
->
lô_obje˘
.
ödex
 = (
uöt16_t
Ë
lôîÆ_ödex
;

1597 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

1598  
Ál£
;

1601 
lôîÆ_ödex
++;

1604 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 =
c⁄ãxt_p
->
lôîÆ_cou¡
);

1606 i‡(
lôîÆ_ödex
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

1608 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

1611 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &c⁄ãxt_p->
lôîÆ_poﬁ
);

1612 
lôîÆ_p
->
¥›
.
Àngth
 = 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.length;

1613 
lôîÆ_p
->
ty≥
 = 
LEXER_UNUSED_LITERAL
;

1614 
lôîÆ_p
->
°©us_Êags
 = 0;

1616 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

1618 
lôîÆ_p
->
u
.
vÆue
 = 
lô_˝
;

1619 
lôîÆ_p
->
ty≥
 = 
LEXER_NUMBER_LITERAL
;

1621 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
 =Üiteral_p;

1622 
c⁄ãxt_p
->
lô_obje˘
.
ödex
 = (
uöt16_t
Ë
lôîÆ_ödex
;

1623 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

1625  
Ál£
;

1626 
	}
}

1633 
uöt16_t


1634 
	$Àxî_c⁄°ru˘_fun˘i⁄_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1635 
uöt32_t
 
exåa_°©us_Êags
)

1637 
ecma_compûed_code_t
 *
compûed_code_p
;

1638 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1639 
uöt16_t
 
ªsu…_ödex
;

1641 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

1643 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

1646 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_RESOLVE_THIS_FOR_CALLS
)

1648 
exåa_°©us_Êags
 |
PARSER_RESOLVE_THIS_FOR_CALLS
;

1651 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &c⁄ãxt_p->
lôîÆ_poﬁ
);

1652 
lôîÆ_p
->
ty≥
 = 
LEXER_UNUSED_LITERAL
;

1653 
lôîÆ_p
->
°©us_Êags
 = 0;

1655 
ªsu…_ödex
 = 
c⁄ãxt_p
->
lôîÆ_cou¡
;

1656 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

1658 
compûed_code_p
 = 
	`∑r£r_∑r£_fun˘i⁄
 (
c⁄ãxt_p
, 
exåa_°©us_Êags
);

1660 
lôîÆ_p
->
u
.
byãcode_p
 = 
compûed_code_p
;

1661 
lôîÆ_p
->
ty≥
 = 
LEXER_FUNCTION_LITERAL
;

1663  
ªsu…_ödex
;

1664 
	}
}

1670 
	$Àxî_c⁄°ru˘_ªgexp_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1671 
boﬁ
 
∑r£_⁄ly
)

1673 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


1674 c⁄° 
uöt8_t
 *
sour˚_p
 = 
c⁄ãxt_p
->source_p;

1675 c⁄° 
uöt8_t
 *
ªgex_°¨t_p
 = 
c⁄ãxt_p
->
sour˚_p
;

1676 c⁄° 
uöt8_t
 *
ªgex_íd_p
 = 
ªgex_°¨t_p
;

1677 c⁄° 
uöt8_t
 *
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

1678 
∑r£r_löe_cou¡î_t
 
cﬁumn
 = 
c⁄ãxt_p
->column;

1679 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1680 
boﬁ
 
ö_˛ass
 = 
Ál£
;

1681 
uöt16_t
 
cuºít_Êags
;

1682 
lô_utf8_size_t
 
Àngth
;

1684 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_DIVIDE


1685 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_ASSIGN_DIVIDE
);

1687 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_ASSIGN_DIVIDE
)

1689 
ªgex_°¨t_p
--;

1692 
åue
)

1694 i‡(
sour˚_p
 >
sour˚_íd_p
)

1696 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_UNTERMINATED_REGEXP
);

1699 i‡(!
ö_˛ass
 && 
sour˚_p
[0] =
LIT_CHAR_SLASH
)

1701 
ªgex_íd_p
 = 
sour˚_p
;

1702 
sour˚_p
++;

1703 
cﬁumn
++;

1707 
sour˚_p
[0])

1709 
LIT_CHAR_CR
:

1710 
LIT_CHAR_LF
:

1711 
LEXER_NEWLINE_LS_PS_BYTE_1
:

1713 i‡(
sour˚_p
[0] !
LEXER_NEWLINE_LS_PS_BYTE_1


1714 || 
	`LEXER_NEWLINE_LS_PS_BYTE_23
 (
sour˚_p
))

1716 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_NEWLINE_NOT_ALLOWED
);

1720 
LIT_CHAR_TAB
:

1722 
cﬁumn
 = 
	`Æign_cﬁumn_to_èb
 (column);

1724 
cﬁumn
--;

1727 
LIT_CHAR_LEFT_SQUARE
:

1729 
ö_˛ass
 = 
åue
;

1732 
LIT_CHAR_RIGHT_SQUARE
:

1734 
ö_˛ass
 = 
Ál£
;

1737 
LIT_CHAR_BACKSLASH
:

1739 i‡(
sour˚_p
 + 1 >
sour˚_íd_p
)

1741 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_UNTERMINATED_REGEXP
);

1744 i‡(
sour˚_p
[1] >0x20 && sour˚_p[1] <
LIT_UTF8_1_BYTE_CODE_POINT_MAX
)

1746 
sour˚_p
++;

1747 
cﬁumn
++;

1752 
sour˚_p
++;

1753 
cﬁumn
++;

1755 
sour˚_p
 < 
sour˚_íd_p


1756 && 
	`IS_UTF8_INTERMEDIATE_OCTET
 (
sour˚_p
[0]))

1758 
sour˚_p
++;

1762 
cuºít_Êags
 = 0;

1763 
sour˚_p
 < 
sour˚_íd_p
)

1765 
uöt32_t
 
Êag
 = 0;

1767 i‡(
sour˚_p
[0] =
LIT_CHAR_LOWERCASE_G
)

1769 
Êag
 = 
RE_FLAG_GLOBAL
;

1771 i‡(
sour˚_p
[0] =
LIT_CHAR_LOWERCASE_I
)

1773 
Êag
 = 
RE_FLAG_IGNORE_CASE
;

1775 i‡(
sour˚_p
[0] =
LIT_CHAR_LOWERCASE_M
)

1777 
Êag
 = 
RE_FLAG_MULTILINE
;

1780 i‡(
Êag
 == 0)

1785 i‡(
cuºít_Êags
 & 
Êag
)

1787 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_DUPLICATED_REGEXP_FLAG
);

1790 
cuºít_Êags
 = (
uöt16_t
Ë(cuºít_Êag†| 
Êag
);

1791 
sour˚_p
++;

1792 
cﬁumn
++;

1795 i‡(
sour˚_p
 < 
sour˚_íd_p


1796 && 
	`lô_ch¨_is_idítifõr_∑π
 (
sour˚_p
))

1798 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_UNKNOWN_REGEXP_FLAG
);

1801 
c⁄ãxt_p
->
sour˚_p
 = source_p;

1802 
c⁄ãxt_p
->
cﬁumn
 = column;

1804 
Àngth
 = (
lô_utf8_size_t
Ë(
ªgex_íd_p
 - 
ªgex_°¨t_p
);

1805 i‡(
Àngth
 > 
PARSER_MAXIMUM_STRING_LENGTH
)

1807 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_REGEXP_TOO_LONG
);

1810 
c⁄ãxt_p
->
cﬁumn
 = column;

1811 
c⁄ãxt_p
->
sour˚_p
 = source_p;

1813 i‡(
∑r£_⁄ly
)

1818 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

1820 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

1823 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &c⁄ãxt_p->
lôîÆ_poﬁ
);

1824 
lôîÆ_p
->
¥›
.
Àngth
 = (
uöt16_t
)Üength;

1825 
lôîÆ_p
->
ty≥
 = 
LEXER_UNUSED_LITERAL
;

1826 
lôîÆ_p
->
°©us_Êags
 = 0;

1828 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

1831 c⁄° 
ª_compûed_code_t
 *
ª_byãcode_p
 = 
NULL
;

1832 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
;

1834 
ecma_°rög_t
 *
∑âîn_°r_p
 = 
NULL
;

1836 i‡(
	`lô_is_vÆid_˚su8_°rög
 (
ªgex_°¨t_p
, 
Àngth
))

1838 
∑âîn_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
ªgex_°¨t_p
, 
Àngth
);

1842 
	`JERRY_ASSERT
 (
	`lô_is_vÆid_utf8_°rög
 (
ªgex_°¨t_p
, 
Àngth
));

1843 
∑âîn_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8_c⁄vîãd_to_˚su8
 (
ªgex_°¨t_p
, 
Àngth
);

1847 
com∂ëi⁄_vÆue
 = 
	`ª_compûe_byãcode
 (&
ª_byãcode_p
,

1848 
∑âîn_°r_p
,

1849 
cuºít_Êags
);

1850 
	`ecma_dîef_ecma_°rög
 (
∑âîn_°r_p
);

1852 
boﬁ
 
is_throw
 = 
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄_vÆue
);

1854 
	`ecma_‰ì_vÆue
 (
com∂ëi⁄_vÆue
);

1856 i‡(
is_throw
)

1858 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_REGEXP
);

1861 
lôîÆ_p
->
ty≥
 = 
LEXER_REGEXP_LITERAL
;

1862 
lôîÆ_p
->
u
.
byãcode_p
 = (
ecma_compûed_code_t
 *Ë
ª_byãcode_p
;

1864 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_LITERAL
;

1865 
c⁄ãxt_p
->
tokí
.
lôîÆ_is_ª£rved
 = 
Ál£
;

1866 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 = 
LEXER_REGEXP_LITERAL
;

1868 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
 =Üiteral_p;

1869 
c⁄ãxt_p
->
lô_obje˘
.
ödex
 = (
uöt16_t
Ë(c⁄ãxt_p->
lôîÆ_cou¡
 - 1);

1870 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

1872 
	`JERRY_UNUSED
 (
∑r£_⁄ly
);

1873 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_UNSUPPORTED_REGEXP
);

1875 
	}
}

1881 
	$Àxî_ex≥˘_idítifõr
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1882 
uöt8_t
 
lôîÆ_ty≥
)

1884 
	`JERRY_ASSERT
 (
lôîÆ_ty≥
 =
LEXER_STRING_LITERAL


1885 || 
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
);

1887 
	`skù_•a˚s
 (
c⁄ãxt_p
);

1888 
c⁄ãxt_p
->
tokí
.
löe
 = context_p->line;

1889 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = context_p->column;

1891 i‡(
c⁄ãxt_p
->
sour˚_p
 < c⁄ãxt_p->
sour˚_íd_p


1892 && (
	`lô_ch¨_is_idítifõr_°¨t
 (
c⁄ãxt_p
->
sour˚_p
Ë|| c⁄ãxt_p->sour˚_p[0] =
LIT_CHAR_BACKSLASH
))

1894 
	`Àxî_∑r£_idítifõr
 (
c⁄ãxt_p
, 
lôîÆ_ty≥
 !
LEXER_STRING_LITERAL
);

1896 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL
)

1898 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
,

1899 &
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
,

1900 
lôîÆ_ty≥
);

1902 i‡(
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL


1903 && (
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

1904 && 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

1906 
∑r£r_îr‹_t
 
îr‹
;

1908 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 =
LEXER_LITERAL_OBJECT_EVAL
)

1910 
îr‹
 = 
PARSER_ERR_EVAL_NOT_ALLOWED
;

1914 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
);

1915 
îr‹
 = 
PARSER_ERR_ARGUMENTS_NOT_ALLOWED
;

1918 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
îr‹
);

1921 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 = 
lôîÆ_ty≥
;

1926 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IDENTIFIER_EXPECTED
);

1927 
	}
}

1929 c⁄° 
Àxî_lô_loˇti⁄_t
 
	gÀxî_gë_lôîÆ
 =

1931 (c⁄° 
uöt8_t
 *Ë"gë", 3, 
LEXER_IDENT_LITERAL
, 
Ál£


1934 c⁄° 
Àxî_lô_loˇti⁄_t
 
	gÀxî_£t_lôîÆ
 =

1936 (c⁄° 
uöt8_t
 *Ë"£t", 3, 
LEXER_IDENT_LITERAL
, 
Ál£


1943 
	$Àxî_ex≥˘_obje˘_lôîÆ_id
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1944 
boﬁ
 
mu°_be_idítifõr
)

1946 
	`skù_•a˚s
 (
c⁄ãxt_p
);

1948 
c⁄ãxt_p
->
tokí
.
löe
 = context_p->line;

1949 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = context_p->column;

1951 i‡(
c⁄ãxt_p
->
sour˚_p
 < c⁄ãxt_p->
sour˚_íd_p
)

1953 
boﬁ
 
¸óã_lôîÆ_obje˘
 = 
Ál£
;

1955 i‡(
	`lô_ch¨_is_idítifõr_°¨t
 (
c⁄ãxt_p
->
sour˚_p
Ë|| c⁄ãxt_p->sour˚_p[0] =
LIT_CHAR_BACKSLASH
)

1957 
	`Àxî_∑r£_idítifõr
 (
c⁄ãxt_p
, 
Ál£
);

1959 i‡(!
mu°_be_idítifõr


1960 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
Àngth
 == 3)

1962 
	`skù_•a˚s
 (
c⁄ãxt_p
);

1964 i‡(
c⁄ãxt_p
->
sour˚_p
 < c⁄ãxt_p->
sour˚_íd_p


1965 && 
c⁄ãxt_p
->
sour˚_p
[0] !
LIT_CHAR_COLON
)

1967 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
Àxî_gë_lôîÆ
))

1969 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_PROPERTY_GETTER
;

1972 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
Àxî_£t_lôîÆ
))

1974 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_PROPERTY_SETTER
;

1980 
¸óã_lôîÆ_obje˘
 = 
åue
;

1982 i‡(
c⁄ãxt_p
->
sour˚_p
[0] =
LIT_CHAR_DOUBLE_QUOTE


1983 || 
c⁄ãxt_p
->
sour˚_p
[0] =
LIT_CHAR_SINGLE_QUOTE
)

1985 
	`Àxî_∑r£_°rög
 (
c⁄ãxt_p
);

1986 
¸óã_lôîÆ_obje˘
 = 
åue
;

1988 i‡(!
mu°_be_idítifõr
 && 
c⁄ãxt_p
->
sour˚_p
[0] =
LIT_CHAR_RIGHT_BRACE
)

1990 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_RIGHT_BRACE
;

1991 
c⁄ãxt_p
->
sour˚_p
 += 1;

1992 
c⁄ãxt_p
->
cﬁumn
++;

1997 c⁄° 
uöt8_t
 *
ch¨_p
 = 
c⁄ãxt_p
->
sour˚_p
;

1999 i‡(
ch¨_p
[0] =
LIT_CHAR_DOT
)

2001 
ch¨_p
++;

2004 i‡(
ch¨_p
 < 
c⁄ãxt_p
->
sour˚_íd_p


2005 && 
ch¨_p
[0] >
LIT_CHAR_0


2006 && 
ch¨_p
[0] <
LIT_CHAR_9
)

2008 
	`Àxî_∑r£_numbî
 (
c⁄ãxt_p
);

2009 
	`Àxî_c⁄°ru˘_numbî_obje˘
 (
c⁄ãxt_p
, 
Ál£
, false);

2014 i‡(
¸óã_lôîÆ_obje˘
)

2016 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
,

2017 &
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
,

2018 
LEXER_STRING_LITERAL
);

2023 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PROPERTY_IDENTIFIER_EXPECTED
);

2024 
	}
}

2030 
	$Àxî_sˇn_idítifõr
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

2031 
boﬁ
 
¥›ëy_«me
)

2033 
	`skù_•a˚s
 (
c⁄ãxt_p
);

2034 
c⁄ãxt_p
->
tokí
.
löe
 = context_p->line;

2035 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = context_p->column;

2037 i‡(
c⁄ãxt_p
->
sour˚_p
 < c⁄ãxt_p->
sour˚_íd_p


2038 && (
	`lô_ch¨_is_idítifõr_°¨t
 (
c⁄ãxt_p
->
sour˚_p
Ë|| c⁄ãxt_p->sour˚_p[0] =
LIT_CHAR_BACKSLASH
))

2040 
	`Àxî_∑r£_idítifõr
 (
c⁄ãxt_p
, 
Ál£
);

2042 i‡(
¥›ëy_«me
 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
Àngth
 == 3)

2044 
	`skù_•a˚s
 (
c⁄ãxt_p
);

2046 i‡(
c⁄ãxt_p
->
sour˚_p
 < c⁄ãxt_p->
sour˚_íd_p


2047 && 
c⁄ãxt_p
->
sour˚_p
[0] !
LIT_CHAR_COLON
)

2049 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
Àxî_gë_lôîÆ
))

2051 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_PROPERTY_GETTER
;

2053 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
Àxî_£t_lôîÆ
))

2055 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_PROPERTY_SETTER
;

2062 i‡(
¥›ëy_«me
)

2064 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2066 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


2067 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

2073 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IDENTIFIER_EXPECTED
);

2074 
	}
}

2082 
boﬁ


2083 
	$Àxî_com∑ª_idítifõr_to_cuºít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

2084 c⁄° 
Àxî_lô_loˇti⁄_t
 *
right
)

2086 
Àxî_lô_loˇti⁄_t
 *
À·
 = &
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
;

2087 c⁄° 
uöt8_t
 *
À·_p
;

2088 c⁄° 
uöt8_t
 *
right_p
;

2089 
size_t
 
cou¡
;

2091 
	`JERRY_ASSERT
 (
À·
->
Àngth
 > 0 && 
right
->length > 0);

2093 i‡(
À·
->
Àngth
 !
right
->length)

2098 i‡(!
À·
->
has_esˇ≥
 && !
right
->has_escape)

2100  
	`memcmp
 (
À·
->
ch¨_p
, 
right
->ch¨_p,Üe·->
Àngth
) == 0;

2103 
À·_p
 = 
À·
->
ch¨_p
;

2104 
right_p
 = 
right
->
ch¨_p
;

2105 
cou¡
 = 
À·
->
Àngth
;

2109 
uöt8_t
 
utf8_buf
[3];

2110 
size_t
 
utf8_Àn
, 
off£t
;

2113 i‡(*
À·_p
 !
LIT_CHAR_BACKSLASH
 && *
right_p
 != LIT_CHAR_BACKSLASH)

2115 i‡(*
À·_p
++ !*
right_p
++)

2117  
Ál£
;

2119 
cou¡
--;

2123 i‡(*
À·_p
 =
LIT_CHAR_BACKSLASH
 && *
right_p
 == LIT_CHAR_BACKSLASH)

2125 
uöt16_t
 
À·_chr
 = 
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
, 
À·_p
, 6);

2127 i‡(
À·_chr
 !
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
, 
right_p
, 6))

2129  
Ál£
;

2132 
À·_p
 += 6;

2133 
right_p
 += 6;

2134 
cou¡
 +
	`lô_ch¨_gë_utf8_Àngth
 (
À·_chr
);

2139 i‡(*
right_p
 =
LIT_CHAR_BACKSLASH
)

2142 c⁄° 
uöt8_t
 *
sw≠_p
 = 
À·_p
;

2143 
À·_p
 = 
right_p
;

2144 
right_p
 = 
sw≠_p
;

2147 
utf8_Àn
 = 
	`lô_ch¨_to_utf8_byãs
 (
utf8_buf
, 
	`Àxî_hex_to_ch¨a˘î
 (
c⁄ãxt_p
, 
À·_p
, 6));

2148 
	`JERRY_ASSERT
 (
utf8_Àn
 > 0);

2149 
cou¡
 -
utf8_Àn
;

2150 
off£t
 = 0;

2154 i‡(
utf8_buf
[
off£t
] !*
right_p
++)

2156  
Ál£
;

2158 
off£t
++;

2160 
off£t
 < 
utf8_Àn
);

2162 
À·_p
 += 6;

2164 
cou¡
 > 0);

2166  
åue
;

2167 
	}
}

	@deps/jerry/jerry-core/parser/js/js-lexer.h

16 #i‚de‡
JS_LEXER_H


17 
	#JS_LEXER_H


	)

34 
	mLEXER_EOS
,

37 
	mLEXER_LITERAL
,

38 
	mLEXER_KEYW_THIS
,

39 
	mLEXER_LIT_TRUE
,

40 
	mLEXER_LIT_FALSE
,

41 
	mLEXER_LIT_NULL
,

46 
	#LEXER_IS_UNARY_OP_TOKEN
(
tokí_ty≥
) \

47 ((
tokí_ty≥
Ë>
LEXER_PLUS
 && (tokí_ty≥Ë<
LEXER_DECREASE
)

	)

48 
	#LEXER_IS_UNARY_LVALUE_OP_TOKEN
(
tokí_ty≥
) \

49 ((
tokí_ty≥
Ë>
LEXER_KEYW_DELETE
 && (tokí_ty≥Ë<
LEXER_DECREASE
)

	)

51 
	mLEXER_PLUS
,

52 
	mLEXER_NEGATE
,

53 
	mLEXER_LOGICAL_NOT
,

54 
	mLEXER_BIT_NOT
,

55 
	mLEXER_KEYW_VOID
,

56 
	mLEXER_KEYW_TYPEOF
,

57 
	mLEXER_KEYW_DELETE
,

58 
	mLEXER_INCREASE
,

59 
	mLEXER_DECREASE
,

65 
	#LEXER_IS_BINARY_OP_TOKEN
(
tokí_ty≥
) \

66 ((
tokí_ty≥
Ë>
LEXER_ASSIGN
 && (tokí_ty≥Ë<
LEXER_MODULO
)

	)

67 
	#LEXER_IS_BINARY_LVALUE_TOKEN
(
tokí_ty≥
) \

68 ((
tokí_ty≥
Ë>
LEXER_ASSIGN
 && (tokí_ty≥Ë<
LEXER_ASSIGN_BIT_XOR
)

	)

69 
	#LEXER_FIRST_BINARY_OP
 
LEXER_ASSIGN


	)

71 
	mLEXER_ASSIGN
,

72 
	mLEXER_ASSIGN_ADD
,

73 
	mLEXER_ASSIGN_SUBTRACT
,

74 
	mLEXER_ASSIGN_MULTIPLY
,

75 
	mLEXER_ASSIGN_DIVIDE
,

76 
	mLEXER_ASSIGN_MODULO
,

77 
	mLEXER_ASSIGN_LEFT_SHIFT
,

78 
	mLEXER_ASSIGN_RIGHT_SHIFT
,

79 
	mLEXER_ASSIGN_UNS_RIGHT_SHIFT
,

80 
	mLEXER_ASSIGN_BIT_AND
,

81 
	mLEXER_ASSIGN_BIT_OR
,

82 
	mLEXER_ASSIGN_BIT_XOR
,

83 
	mLEXER_QUESTION_MARK
,

84 
	mLEXER_LOGICAL_OR
,

85 
	mLEXER_LOGICAL_AND
,

86 
	mLEXER_BIT_OR
,

87 
	mLEXER_BIT_XOR
,

88 
	mLEXER_BIT_AND
,

89 
	mLEXER_EQUAL
,

90 
	mLEXER_NOT_EQUAL
,

91 
	mLEXER_STRICT_EQUAL
,

92 
	mLEXER_STRICT_NOT_EQUAL
,

93 
	mLEXER_LESS
,

94 
	mLEXER_GREATER
,

95 
	mLEXER_LESS_EQUAL
,

96 
	mLEXER_GREATER_EQUAL
,

97 
	mLEXER_KEYW_IN
,

98 
	mLEXER_KEYW_INSTANCEOF
,

99 
	mLEXER_LEFT_SHIFT
,

100 
	mLEXER_RIGHT_SHIFT
,

101 
	mLEXER_UNS_RIGHT_SHIFT
,

102 
	mLEXER_ADD
,

103 
	mLEXER_SUBTRACT
,

104 
	mLEXER_MULTIPLY
,

105 
	mLEXER_DIVIDE
,

106 
	mLEXER_MODULO
,

108 
	mLEXER_LEFT_BRACE
,

109 
	mLEXER_LEFT_PAREN
,

110 
	mLEXER_LEFT_SQUARE
,

111 
	mLEXER_RIGHT_BRACE
,

112 
	mLEXER_RIGHT_PAREN
,

113 
	mLEXER_RIGHT_SQUARE
,

114 
	mLEXER_DOT
,

115 
	mLEXER_SEMICOLON
,

116 
	mLEXER_COLON
,

117 
	mLEXER_COMMA
,

119 
	mLEXER_KEYW_BREAK
,

120 
	mLEXER_KEYW_DO
,

121 
	mLEXER_KEYW_CASE
,

122 
	mLEXER_KEYW_ELSE
,

123 
	mLEXER_KEYW_NEW
,

124 
	mLEXER_KEYW_VAR
,

125 
	mLEXER_KEYW_CATCH
,

126 
	mLEXER_KEYW_FINALLY
,

127 
	mLEXER_KEYW_RETURN
,

128 
	mLEXER_KEYW_CONTINUE
,

129 
	mLEXER_KEYW_FOR
,

130 
	mLEXER_KEYW_SWITCH
,

131 
	mLEXER_KEYW_WHILE
,

132 
	mLEXER_KEYW_DEBUGGER
,

133 
	mLEXER_KEYW_FUNCTION
,

134 
	mLEXER_KEYW_WITH
,

135 
	mLEXER_KEYW_DEFAULT
,

136 
	mLEXER_KEYW_IF
,

137 
	mLEXER_KEYW_THROW
,

138 
	mLEXER_KEYW_TRY
,

141 
	mLEXER_EXPRESSION_START
,

142 
	mLEXER_PROPERTY_GETTER
,

143 
	mLEXER_PROPERTY_SETTER
,

144 
	mLEXER_COMMA_SEP_LIST
,

145 
	mLEXER_SCAN_SWITCH
,

149 
	#LEXER_FIRST_FUTURE_RESERVED_WORD
 
LEXER_KEYW_CLASS


	)

150 
	mLEXER_KEYW_CLASS
,

151 
	mLEXER_KEYW_ENUM
,

152 
	mLEXER_KEYW_EXTENDS
,

153 
	mLEXER_KEYW_SUPER
,

154 
	mLEXER_KEYW_CONST
,

155 
	mLEXER_KEYW_EXPORT
,

156 
	mLEXER_KEYW_IMPORT
,

160 
	#LEXER_FIRST_FUTURE_STRICT_RESERVED_WORD
 
LEXER_KEYW_IMPLEMENTS


	)

161 
	mLEXER_KEYW_IMPLEMENTS
,

162 
	mLEXER_KEYW_LET
,

163 
	mLEXER_KEYW_PRIVATE
,

164 
	mLEXER_KEYW_PUBLIC
,

165 
	mLEXER_KEYW_YIELD
,

166 
	mLEXER_KEYW_INTERFACE
,

167 
	mLEXER_KEYW_PACKAGE
,

168 
	mLEXER_KEYW_PROTECTED
,

169 
	mLEXER_KEYW_STATIC
,

170 } 
	tÀxî_tokí_ty≥_t
;

172 
	#LEXER_NEWLINE_LS_PS_BYTE_1
 0xe2

	)

173 
	#LEXER_NEWLINE_LS_PS_BYTE_23
(
sour˚
) \

174 ((
sour˚
)[1] =
LIT_UTF8_2_BYTE_CODE_POINT_MIN
 && ((sour˚)[2] | 0x1Ë=0xa9)

	)

175 
	#LEXER_UTF8_4BYTE_START
 0xf0

	)

177 
	#LEXER_IS_LEFT_BRACKET
(
ty≥
) \

178 ((
ty≥
Ë=
LEXER_LEFT_BRACE
 || (ty≥Ë=
LEXER_LEFT_PAREN
 || (ty≥Ë=
LEXER_LEFT_SQUARE
)

	)

180 
	#LEXER_IS_RIGHT_BRACKET
(
ty≥
) \

181 ((
ty≥
Ë=
LEXER_RIGHT_BRACE
 || (ty≥Ë=
LEXER_RIGHT_PAREN
 || (ty≥Ë=
LEXER_RIGHT_SQUARE
)

	)

183 
	#LEXER_UNARY_OP_TOKEN_TO_OPCODE
(
tokí_ty≥
) \

184 ((((
tokí_ty≥
Ë- 
LEXER_PLUS
Ë* 2Ë+ 
CBC_PLUS
)

	)

186 
	#LEXER_UNARY_LVALUE_OP_TOKEN_TO_OPCODE
(
tokí_ty≥
) \

187 ((((
tokí_ty≥
Ë- 
LEXER_INCREASE
Ë* 6Ë+ 
CBC_PRE_INCR
)

	)

189 
	#LEXER_BINARY_OP_TOKEN_TO_OPCODE
(
tokí_ty≥
) \

190 ((
cbc_›code_t
Ë((((
tokí_ty≥
Ë- 
LEXER_BIT_OR
Ë* 3Ë+ 
CBC_BIT_OR
))

	)

192 
	#LEXER_BINARY_LVALUE_OP_TOKEN_TO_OPCODE
(
tokí_ty≥
) \

193 ((
cbc_›code_t
Ë((((
tokí_ty≥
Ë- 
LEXER_ASSIGN_ADD
Ë* 2Ë+ 
CBC_ASSIGN_ADD
))

	)

200 
	mLEXER_LITERAL_OBJECT_ANY
,

201 
	mLEXER_LITERAL_OBJECT_EVAL
,

202 
	mLEXER_LITERAL_OBJECT_ARGUMENTS
,

203 } 
	tÀxî_lôîÆ_obje˘_ty≥_t
;

210 
	mLEXER_NUMBER_DECIMAL
,

211 
	mLEXER_NUMBER_HEXADECIMAL
,

212 
	mLEXER_NUMBER_OCTAL
,

213 } 
	tÀxî_numbî_ty≥_t
;

220 c⁄° 
uöt8_t
 *
	mch¨_p
;

221 
uöt16_t
 
	mÀngth
;

222 
uöt8_t
 
	mty≥
;

223 
uöt8_t
 
	mhas_esˇ≥
;

224 } 
	tÀxî_lô_loˇti⁄_t
;

231 c⁄° 
uöt8_t
 *
	msour˚_p
;

232 c⁄° 
uöt8_t
 *
	msour˚_íd_p
;

233 
∑r£r_löe_cou¡î_t
 
	mlöe
;

234 
∑r£r_löe_cou¡î_t
 
	mcﬁumn
;

235 } 
	tÀxî_ønge_t
;

242 
uöt8_t
 
	mty≥
;

243 
uöt8_t
 
	mlôîÆ_is_ª£rved
;

245 
uöt8_t
 
	mexåa_vÆue
;

246 
uöt8_t
 
	mwas_√wlöe
;

247 
∑r£r_löe_cou¡î_t
 
	mlöe
;

248 
∑r£r_löe_cou¡î_t
 
	mcﬁumn
;

249 
Àxî_lô_loˇti⁄_t
 
	mlô_loˇti⁄
;

250 } 
	tÀxî_tokí_t
;

257 
Àxî_lôîÆ_t
 *
	mlôîÆ_p
;

258 
uöt16_t
 
	mödex
;

259 
uöt8_t
 
	mty≥
;

260 } 
	tÀxî_lô_obje˘_t
;

	@deps/jerry/jerry-core/parser/js/js-parser-expr.c

16 
	~"js-∑r£r-öã∫Æ.h
"

18 #i‡
JERRY_JS_PARSER


36 c⁄° 
uöt8_t
 
	g∑r£r_bö¨y_¥e˚dí˚_èbÀ
[36] =

47 
ölöe
 

48 
	$∑r£r_push_ªsu…
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

50 i‡(
	`CBC_NO_RESULT_COMPOUND_ASSIGMENT
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

52 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë
	`PARSER_TO_BINARY_OPERATION_WITH_RESULT
 (context_p->last_cbc_opcode);

53 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

55 i‡(
	`CBC_NO_RESULT_OPERATION
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

57 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
c⁄ãxt_p
->
œ°_cbc_›code
, context_p->last_cbc_opcode + 1));

59 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_POST_INCR


60 || 
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_POST_DECR
)

62 i‡(
c⁄ãxt_p
->
°ack_dïth
 >c⁄ãxt_p->
°ack_limô
)

66 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 =c⁄ãxt_p->
°ack_limô
);

68 
c⁄ãxt_p
->
°ack_limô
++;

70 i‡(
c⁄ãxt_p
->
°ack_limô
 > 
PARSER_MAXIMUM_STACK_LIMIT
)

72 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STACK_LIMIT_REACHED
);

77 
c⁄ãxt_p
->
œ°_cbc_›code
++;

78 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

80 
	}
}

86 
	$∑r£r_emô_u«ry_lvÆue_›code
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

87 
cbc_›code_t
 
›code
)

89 i‡(
	`PARSER_IS_PUSH_LITERAL
 (
c⁄ãxt_p
->
œ°_cbc_›code
)

90 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

92 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

94 i‡(
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

96 
∑r£r_îr‹_t
 
îr‹
;

98 i‡(
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_EVAL
)

100 
îr‹
 = 
PARSER_ERR_EVAL_CANNOT_ASSIGNED
;

104 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
);

105 
îr‹
 = 
PARSER_ERR_ARGUMENTS_CANNOT_ASSIGNED
;

107 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
îr‹
);

109 i‡(
›code
 =
CBC_DELETE_PUSH_RESULT
)

111 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_DELETE_IDENT_NOT_ALLOWED
);

115 i‡(
›code
 =
CBC_DELETE_PUSH_RESULT
)

117 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
;

119 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

121 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_DELETE_IDENT_PUSH_RESULT
;

123 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

125 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

126 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

127 
CBC_DELETE_IDENT_PUSH_RESULT
,

128 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
);

132 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THREE_LITERALS
);

134 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

135 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

136 
CBC_DELETE_IDENT_PUSH_RESULT
,

137 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
);

142 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_LITERAL
, 
›code
 + 
CBC_UNARY_LVALUE_WITH_IDENT
));

144 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

146 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë(
›code
 + 
CBC_UNARY_LVALUE_WITH_IDENT
);

148 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

150 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

151 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

152 (
uöt16_t
Ë(
›code
 + 
CBC_UNARY_LVALUE_WITH_IDENT
),

153 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
);

157 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THREE_LITERALS
);

159 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

160 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

161 (
uöt16_t
Ë(
›code
 + 
CBC_UNARY_LVALUE_WITH_IDENT
),

162 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
);

165 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP
)

167 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP
, 
›code
));

168 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë
›code
;

172 
c⁄ãxt_p
->
œ°_cbc_›code
)

174 
CBC_PUSH_PROP_LITERAL
:

176 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_LITERAL
, 
CBC_PUSH_LITERAL
));

177 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

180 
CBC_PUSH_PROP_LITERAL_LITERAL
:

182 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_LITERAL_LITERAL
, 
CBC_PUSH_TWO_LITERALS
));

183 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

186 
CBC_PUSH_PROP_THIS_LITERAL
:

188 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_THIS_LITERAL
, 
CBC_PUSH_THIS_LITERAL
));

189 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_THIS_LITERAL
;

195 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, (
›code
 =
CBC_DELETE_PUSH_RESULT
Ë? 
CBC_EXT_PUSH_UNDEFINED_BASE


196 : 
CBC_EXT_THROW_REFERENCE_ERROR
);

200 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
›code
);

202 
	}
}

208 
	$∑r£r_∑r£_¨øy_lôîÆ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

210 
uöt32_t
 
pushed_ôems
 = 0;

212 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LEFT_SQUARE
);

214 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CREATE_ARRAY
);

215 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

217 
åue
)

219 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_SQUARE
)

221 i‡(
pushed_ôems
 > 0)

223 
	`∑r£r_emô_cbc_ˇŒ
 (
c⁄ãxt_p
, 
CBC_ARRAY_APPEND
, 
pushed_ôems
);

228 
pushed_ôems
++;

230 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_COMMA
)

232 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_ELISION
);

233 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

237 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_NO_COMMA
);

239 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_COMMA
)

241 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

243 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_SQUARE
)

245 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_ARRAY_ITEM_SEPARATOR_EXPECTED
);

249 i‡(
pushed_ôems
 >= 64)

251 
	`∑r£r_emô_cbc_ˇŒ
 (
c⁄ãxt_p
, 
CBC_ARRAY_APPEND
, 
pushed_ôems
);

252 
pushed_ôems
 = 0;

255 
	}
}

262 
	mPARSER_OBJECT_PROPERTY_START
,

263 
	mPARSER_OBJECT_PROPERTY_VALUE
,

264 
	mPARSER_OBJECT_PROPERTY_GETTER
,

265 
	mPARSER_OBJECT_PROPERTY_SETTER
,

266 
	mPARSER_OBJECT_PROPERTY_BOTH_ACCESSORS
,

267 } 
	t∑r£r_obje˘_lôîÆ_ôem_ty≥s_t
;

273 
	$∑r£r_≠≥nd_obje˘_lôîÆ_ôem
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

274 
uöt16_t
 
ôem_ödex
,

275 
∑r£r_obje˘_lôîÆ_ôem_ty≥s_t
 
ôem_ty≥
)

277 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

278 
uöt8_t
 *
cuºít_ôem_ty≥_p
;

280 
ôî©‹
.
cuºít_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

281 
ôî©‹
.
cuºít_posôi⁄
 = 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
;

283 
åue
)

285 
cuºít_ôem_ty≥_p
 = 
ôî©‹
.
cuºít_p
->
byãs
 + iãøt‹.
cuºít_posôi⁄
 - 1;

287 i‡(*
cuºít_ôem_ty≥_p
 =
PARSER_OBJECT_PROPERTY_START
)

289 
	`∑r£r_°ack_push_uöt16
 (
c⁄ãxt_p
, 
ôem_ödex
);

290 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, (
uöt8_t
Ë
ôem_ty≥
);

294 
ôî©‹
.
cuºít_posôi⁄
--;

295 i‡(
ôî©‹
.
cuºít_posôi⁄
 == 0)

297 
ôî©‹
.
cuºít_p
 = iãøt‹.cuºít_p->
√xt_p
;

298 
ôî©‹
.
cuºít_posôi⁄
 = 
PARSER_STACK_PAGE_SIZE
;

301 
uöt32_t
 
cuºít_ôem_ödex
 = 
ôî©‹
.
cuºít_p
->
byãs
[ôî©‹.
cuºít_posôi⁄
 - 1];

303 
ôî©‹
.
cuºít_posôi⁄
--;

304 i‡(
ôî©‹
.
cuºít_posôi⁄
 == 0)

306 
ôî©‹
.
cuºít_p
 = iãøt‹.cuºít_p->
√xt_p
;

307 
ôî©‹
.
cuºít_posôi⁄
 = 
PARSER_STACK_PAGE_SIZE
;

310 
cuºít_ôem_ödex
 |((
uöt32_t
Ë
ôî©‹
.
cuºít_p
->
byãs
[ôî©‹.
cuºít_posôi⁄
 - 1]) << 8;

312 
ôî©‹
.
cuºít_posôi⁄
--;

313 i‡(
ôî©‹
.
cuºít_posôi⁄
 == 0)

315 
ôî©‹
.
cuºít_p
 = iãøt‹.cuºít_p->
√xt_p
;

316 
ôî©‹
.
cuºít_posôi⁄
 = 
PARSER_STACK_PAGE_SIZE
;

319 i‡(
cuºít_ôem_ödex
 =
ôem_ödex
)

321 i‡(
ôem_ty≥
 =
PARSER_OBJECT_PROPERTY_VALUE


322 && *
cuºít_ôem_ty≥_p
 =
PARSER_OBJECT_PROPERTY_VALUE


323 && !(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
))

328 i‡(
ôem_ty≥
 =
PARSER_OBJECT_PROPERTY_GETTER


329 && *
cuºít_ôem_ty≥_p
 =
PARSER_OBJECT_PROPERTY_SETTER
)

334 i‡(
ôem_ty≥
 =
PARSER_OBJECT_PROPERTY_SETTER


335 && *
cuºít_ôem_ty≥_p
 =
PARSER_OBJECT_PROPERTY_GETTER
)

340 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OBJECT_PROPERTY_REDEFINED
);

344 
uöt8_t
 *
œ°_∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
->
byãs
;

346 *
cuºít_ôem_ty≥_p
 = 
PARSER_OBJECT_PROPERTY_BOTH_ACCESSORS
;

348 i‡(
cuºít_ôem_ty≥_p
 =(
œ°_∑ge_p
 + 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 - 1))

350 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
PARSER_OBJECT_PROPERTY_BOTH_ACCESSORS
;

352 
	}
}

358 
	$∑r£r_∑r£_obje˘_lôîÆ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

360 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LEFT_BRACE
);

362 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CREATE_OBJECT
);

364 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_OBJECT_PROPERTY_START
);

366 
åue
)

368 
	`Àxî_ex≥˘_obje˘_lôîÆ_id
 (
c⁄ãxt_p
, 
Ál£
);

370 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

375 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_PROPERTY_GETTER


376 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_PROPERTY_SETTER
)

378 
uöt32_t
 
°©us_Êags
;

379 
cbc_ext_›code_t
 
›code
;

380 
uöt16_t
 
lôîÆ_ödex
, 
fun˘i⁄_lôîÆ_ödex
;

381 
∑r£r_obje˘_lôîÆ_ôem_ty≥s_t
 
ôem_ty≥
;

383 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_PROPERTY_GETTER
)

385 
°©us_Êags
 = 
PARSER_IS_FUNCTION
 | 
PARSER_IS_CLOSURE
 | 
PARSER_IS_PROPERTY_GETTER
;

386 
›code
 = 
CBC_EXT_SET_GETTER
;

387 
ôem_ty≥
 = 
PARSER_OBJECT_PROPERTY_GETTER
;

391 
°©us_Êags
 = 
PARSER_IS_FUNCTION
 | 
PARSER_IS_CLOSURE
 | 
PARSER_IS_PROPERTY_SETTER
;

392 
›code
 = 
CBC_EXT_SET_SETTER
;

393 
ôem_ty≥
 = 
PARSER_OBJECT_PROPERTY_SETTER
;

396 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_INSIDE_WITH
)

398 
°©us_Êags
 |
PARSER_RESOLVE_THIS_FOR_CALLS
;

401 
	`Àxî_ex≥˘_obje˘_lôîÆ_id
 (
c⁄ãxt_p
, 
åue
);

402 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
lô_obje˘
.
ödex
;

404 
	`∑r£r_≠≥nd_obje˘_lôîÆ_ôem
 (
c⁄ãxt_p
, 
lôîÆ_ödex
, 
ôem_ty≥
);

406 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

407 
fun˘i⁄_lôîÆ_ödex
 = 
	`Àxî_c⁄°ru˘_fun˘i⁄_obje˘
 (
c⁄ãxt_p
, 
°©us_Êags
);

409 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

410 
CBC_PUSH_LITERAL
,

411 
lôîÆ_ödex
);

413 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
);

414 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
	`PARSER_TO_EXT_OPCODE
 (
›code
);

415 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = 
fun˘i⁄_lôîÆ_ödex
;

417 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

421 
uöt16_t
 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
lô_obje˘
.
ödex
;

423 
	`∑r£r_≠≥nd_obje˘_lôîÆ_ôem
 (
c⁄ãxt_p
,

424 
lôîÆ_ödex
,

425 
PARSER_OBJECT_PROPERTY_VALUE
);

427 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

428 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COLON
)

430 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_COLON_EXPECTED
);

433 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

434 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_NO_COMMA
);

436 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
, 
CBC_SET_PROPERTY
, 
lôîÆ_ödex
);

439 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

443 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COMMA
)

445 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OBJECT_ITEM_SEPARATOR_EXPECTED
);

449 
c⁄ãxt_p
->
°ack_t›_uöt8
 !
PARSER_OBJECT_PROPERTY_START
)

451 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, 
NULL
, 3);

454 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

455 
	}
}

461 
	$∑r£r_∑r£_u«ry_ex¥essi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

462 
size_t
 *
groupög_Àvñ_p
)

464 
√w_was_£í
 = 0;

467 
åue
)

470 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_ADD
)

472 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_PLUS
;

474 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_SUBTRACT
)

476 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_NEGATE
;

482 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LEFT_PAREN
)

484 (*
groupög_Àvñ_p
)++;

485 
√w_was_£í
 = 0;

487 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_NEW
)

490 
√w_was_£í
 = 1;

492 i‡(
√w_was_£í
 || !
	`LEXER_IS_UNARY_OP_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
))

497 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, c⁄ãxt_p->
tokí
.
ty≥
);

498 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

502 
c⁄ãxt_p
->
tokí
.
ty≥
)

504 
LEXER_LITERAL
:

506 
cbc_›code_t
 
›code
 = 
CBC_PUSH_LITERAL
;

508 i‡(
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL


509 || 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_STRING_LITERAL
)

511 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
,

512 &
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
,

513 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
);

515 i‡(
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_NUMBER_LITERAL
)

517 
boﬁ
 
is_√g©ive_numbî
 = 
Ál£
;

519 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_PLUS


520 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_NEGATE
)

522 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_NEGATE
)

524 
is_√g©ive_numbî
 = !is_negative_number;

526 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

529 i‡(
	`Àxî_c⁄°ru˘_numbî_obje˘
 (
c⁄ãxt_p
, 
åue
, 
is_√g©ive_numbî
))

531 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
lô_obje˘
.
ödex
 <
CBC_PUSH_NUMBER_BYTE_RANGE_END
);

533 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ödex
 == 0)

535 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_NUMBER_0
);

539 
	`∑r£r_emô_cbc_push_numbî
 (
c⁄ãxt_p
, 
is_√g©ive_numbî
);

544 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 !
LEXER_LITERAL_OBJECT_EVAL
)

546 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

548 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

549 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = c⁄ãxt_p->
lô_obje˘
.
ödex
;

550 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 = c⁄ãxt_p->
tokí
.
lô_loˇti⁄
.
ty≥
;

551 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 = c⁄ãxt_p->
lô_obje˘
.
ty≥
;

555 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

557 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_THREE_LITERALS
;

558 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
 = c⁄ãxt_p->
lô_obje˘
.
ödex
;

559 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 = c⁄ãxt_p->
tokí
.
lô_loˇti⁄
.
ty≥
;

560 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 = c⁄ãxt_p->
lô_obje˘
.
ty≥
;

564 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THIS
)

566 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

567 
›code
 = 
CBC_PUSH_THIS_LITERAL
;

571 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
›code
);

574 
LEXER_KEYW_FUNCTION
:

576 
lôîÆs
 = 0;

577 
uöt16_t
 
lôîÆ1
 = 0;

578 
uöt16_t
 
lôîÆ2
 = 0;

579 
uöt16_t
 
fun˘i⁄_lôîÆ_ödex
;

581 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

583 
lôîÆs
 = 1;

584 
lôîÆ1
 = 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ödex
;

585 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

587 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

589 
lôîÆs
 = 2;

590 
lôîÆ1
 = 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ödex
;

591 
lôîÆ2
 = 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
;

592 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

596 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

599 
uöt32_t
 
°©us_Êags
 = 
PARSER_IS_FUNCTION
 | 
PARSER_IS_FUNC_EXPRESSION
 | 
PARSER_IS_CLOSURE
;

601 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_INSIDE_WITH
)

603 
°©us_Êags
 |
PARSER_RESOLVE_THIS_FOR_CALLS
;

606 
fun˘i⁄_lôîÆ_ödex
 = 
	`Àxî_c⁄°ru˘_fun˘i⁄_obje˘
 (
c⁄ãxt_p
, 
°©us_Êags
);

608 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

610 i‡(
lôîÆs
 == 1)

612 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

613 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ödex
 = 
lôîÆ1
;

614 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = 
fun˘i⁄_lôîÆ_ödex
;

616 i‡(
lôîÆs
 == 2)

618 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_THREE_LITERALS
;

619 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ödex
 = 
lôîÆ1
;

620 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = 
lôîÆ2
;

621 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
 = 
fun˘i⁄_lôîÆ_ödex
;

625 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

626 
CBC_PUSH_LITERAL
,

627 
fun˘i⁄_lôîÆ_ödex
);

630 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 = 
LEXER_FUNCTION_LITERAL
;

631 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

634 
LEXER_LEFT_BRACE
:

636 
	`∑r£r_∑r£_obje˘_lôîÆ
 (
c⁄ãxt_p
);

639 
LEXER_LEFT_SQUARE
:

641 
	`∑r£r_∑r£_¨øy_lôîÆ
 (
c⁄ãxt_p
);

644 
LEXER_DIVIDE
:

645 
LEXER_ASSIGN_DIVIDE
:

647 
	`Àxî_c⁄°ru˘_ªgexp_obje˘
 (
c⁄ãxt_p
, 
Ál£
);

649 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

651 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

652 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = (
uöt16_t
Ë(c⁄ãxt_p->
lôîÆ_cou¡
 - 1);

654 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

656 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_THREE_LITERALS
;

657 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
 = (
uöt16_t
Ë(c⁄ãxt_p->
lôîÆ_cou¡
 - 1);

661 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

662 
CBC_PUSH_LITERAL
,

663 (
uöt16_t
Ë(
c⁄ãxt_p
->
lôîÆ_cou¡
 - 1));

666 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 = 
LEXER_REGEXP_LITERAL
;

667 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

670 
LEXER_KEYW_THIS
:

672 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_THIS
);

675 
LEXER_LIT_TRUE
:

677 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_TRUE
);

680 
LEXER_LIT_FALSE
:

682 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_FALSE
);

685 
LEXER_LIT_NULL
:

687 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_NULL
);

692 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PRIMARY_EXP_EXPECTED
);

696 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

697 
	}
}

704 
	$∑r£r_¥o˚ss_u«ry_ex¥essi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

707 
åue
)

712 
c⁄ãxt_p
->
tokí
.
ty≥
)

714 
LEXER_DOT
:

716 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

718 
	`Àxî_ex≥˘_idítifõr
 (
c⁄ãxt_p
, 
LEXER_STRING_LITERAL
);

719 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


720 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_STRING_LITERAL
);

722 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

724 
	`JERRY_ASSERT
 (
	`CBC_ARGS_EQ
 (
CBC_PUSH_PROP_LITERAL_LITERAL
,

725 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
));

726 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL_LITERAL
;

727 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = c⁄ãxt_p->
lô_obje˘
.
ödex
;

729 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THIS
)

731 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

732 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
CBC_PUSH_PROP_THIS_LITERAL
);

736 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
CBC_PUSH_PROP_LITERAL
);

738 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

742 
LEXER_LEFT_SQUARE
:

744 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

746 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

747 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

748 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_SQUARE
)

750 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_SQUARE_EXPECTED
);

752 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

754 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

756 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL
;

758 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

760 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL_LITERAL
;

762 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THIS_LITERAL
)

764 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_THIS_LITERAL
;

768 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_PROP
);

773 
LEXER_LEFT_PAREN
:

775 
size_t
 
ˇŒ_¨gumíts
 = 0;

776 
uöt16_t
 
›code
 = 
CBC_CALL
;

777 
boﬁ
 
is_evÆ
 = 
Ál£
;

779 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

781 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_KEYW_NEW
)

783 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

784 
›code
 = 
CBC_NEW
;

788 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL


789 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_EVAL
)

791 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
);

792 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_ARGUMENTS_NEEDED
 | 
PARSER_LEXICAL_ENV_NEEDED
 | 
PARSER_NO_REG_STORE
;

793 
is_evÆ
 = 
åue
;

796 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP
)

798 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_REFERENCE
;

799 
›code
 = 
CBC_CALL_PROP
;

801 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_LITERAL
)

803 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL_REFERENCE
;

804 
›code
 = 
CBC_CALL_PROP
;

806 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_LITERAL_LITERAL
)

808 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL_LITERAL_REFERENCE
;

809 
›code
 = 
CBC_CALL_PROP
;

811 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_THIS_LITERAL
)

813 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_THIS_LITERAL_REFERENCE
;

814 
›code
 = 
CBC_CALL_PROP
;

816 i‡((
c⁄ãxt_p
->
°©us_Êags
 & (
PARSER_INSIDE_WITH
 | 
PARSER_RESOLVE_THIS_FOR_CALLS
))

817 && 
	`PARSER_IS_PUSH_LITERAL
 (
c⁄ãxt_p
->
œ°_cbc_›code
)

818 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

820 
›code
 = 
CBC_CALL_PROP
;

822 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

824 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_IDENT_REFERENCE
;

826 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

828 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

829 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

830 
CBC_PUSH_IDENT_REFERENCE
,

831 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
);

835 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THREE_LITERALS
);

837 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

838 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

839 
CBC_PUSH_IDENT_REFERENCE
,

840 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
);

845 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

847 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

849 
åue
)

851 i‡(++
ˇŒ_¨gumíts
 > 
CBC_MAXIMUM_BYTE_VALUE
)

853 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_ARGUMENT_LIMIT_REACHED
);

856 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_NO_COMMA
);

858 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COMMA
)

862 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

865 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

867 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

871 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

873 i‡(
is_evÆ
)

875 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_EVAL
);

878 i‡(
ˇŒ_¨gumíts
 == 0)

880 i‡(
›code
 =
CBC_CALL
)

882 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CALL0
);

885 i‡(
›code
 =
CBC_CALL_PROP
)

887 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CALL0_PROP
);

890 i‡(
›code
 =
CBC_NEW
)

892 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_NEW0
);

897 i‡(
ˇŒ_¨gumíts
 == 1)

899 i‡(
›code
 =
CBC_CALL
)

901 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CALL1
);

904 i‡(
›code
 =
CBC_CALL_PROP
)

906 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CALL1_PROP
);

909 i‡(
›code
 =
CBC_NEW
)

911 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_NEW1
);

916 i‡(
ˇŒ_¨gumíts
 == 2)

918 i‡(
›code
 =
CBC_CALL
)

920 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CALL2
);

923 i‡(
›code
 =
CBC_CALL_PROP
)

925 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

927 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 > 0);

928 
c⁄ãxt_p
->
°ack_dïth
--;

929 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CALL2_PROP
);

934 
	`∑r£r_emô_cbc_ˇŒ
 (
c⁄ãxt_p
, 
›code
, 
ˇŒ_¨gumíts
);

940 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_KEYW_NEW
)

942 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

943 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_NEW0
);

944 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

948 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe


949 && (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_INCREASE
 || c⁄ãxt_p->tokí.ty≥ =
LEXER_DECREASE
))

951 
cbc_›code_t
 
›code
 = (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_INCREASE
Ë? 
CBC_POST_INCR
 : 
CBC_POST_DECR
;

952 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

953 
	`∑r£r_emô_u«ry_lvÆue_›code
 (
c⁄ãxt_p
, 
›code
);

954 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

963 
åue
)

965 
uöt8_t
 
tokí
 = 
c⁄ãxt_p
->
°ack_t›_uöt8
;

966 i‡(!
	`LEXER_IS_UNARY_OP_TOKEN
 (
tokí
))

971 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

972 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

974 i‡(
	`LEXER_IS_UNARY_LVALUE_OP_TOKEN
 (
tokí
))

976 i‡(
tokí
 =
LEXER_KEYW_DELETE
)

978 
tokí
 = 
CBC_DELETE_PUSH_RESULT
;

982 
tokí
 = (
uöt8_t
Ë(
	`LEXER_UNARY_LVALUE_OP_TOKEN_TO_OPCODE
 (token));

984 
	`∑r£r_emô_u«ry_lvÆue_›code
 (
c⁄ãxt_p
, (
cbc_›code_t
Ë
tokí
);

988 
tokí
 = (
uöt8_t
Ë(
	`LEXER_UNARY_OP_TOKEN_TO_OPCODE
 (token));

990 i‡(
tokí
 =
CBC_TYPEOF
)

992 i‡(
	`PARSER_IS_PUSH_LITERAL
 (
c⁄ãxt_p
->
œ°_cbc_›code
)

993 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

995 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

997 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_TYPEOF_IDENT
;

999 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

1001 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

1002 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

1003 
CBC_TYPEOF_IDENT
,

1004 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
);

1008 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THREE_LITERALS
);

1010 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

1011 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

1012 
CBC_TYPEOF_IDENT
,

1013 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
);

1018 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
tokí
);

1023 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1027 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
c⁄ãxt_p
->
œ°_cbc_›code
, 
tokí
 + 1));

1028 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë(
tokí
 + 1);

1032 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
tokí
);

1037 
	}
}

1043 
	$∑r£r_≠≥nd_bö¨y_tokí
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1045 
	`JERRY_ASSERT
 (
	`LEXER_IS_BINARY_OP_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
));

1047 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

1049 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_ASSIGN
)

1055 i‡(
	`PARSER_IS_PUSH_LITERAL
 (
c⁄ãxt_p
->
œ°_cbc_›code
)

1056 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

1058 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_LITERAL
, 
CBC_ASSIGN_SET_IDENT
));

1060 i‡((
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

1061 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

1063 
∑r£r_îr‹_t
 
îr‹
;

1065 i‡(
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_EVAL
)

1067 
îr‹
 = 
PARSER_ERR_EVAL_CANNOT_ASSIGNED
;

1071 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
);

1072 
îr‹
 = 
PARSER_ERR_ARGUMENTS_CANNOT_ASSIGNED
;

1074 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
îr‹
);

1077 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1079 
	`∑r£r_°ack_push_uöt16
 (
c⁄ãxt_p
, c⁄ãxt_p->
œ°_cbc
.
lôîÆ_ödex
);

1080 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

1082 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

1084 
	`∑r£r_°ack_push_uöt16
 (
c⁄ãxt_p
, c⁄ãxt_p->
œ°_cbc
.
vÆue
);

1085 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

1089 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THREE_LITERALS
);

1091 
	`∑r£r_°ack_push_uöt16
 (
c⁄ãxt_p
, c⁄ãxt_p->
œ°_cbc
.
thúd_lôîÆ_ödex
);

1092 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

1094 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN_SET_IDENT
);

1096 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP
)

1098 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP
, 
CBC_ASSIGN
));

1099 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN
);

1100 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

1102 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_LITERAL
)

1104 i‡(
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 !
LEXER_IDENT_LITERAL
)

1106 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_LITERAL
, 
CBC_ASSIGN_PROP_LITERAL
));

1107 
	`∑r£r_°ack_push_uöt16
 (
c⁄ãxt_p
, c⁄ãxt_p->
œ°_cbc
.
lôîÆ_ödex
);

1108 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN_PROP_LITERAL
);

1109 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

1113 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

1114 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN
);

1117 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_LITERAL_LITERAL
)

1119 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_LITERAL_LITERAL
, 
CBC_PUSH_TWO_LITERALS
));

1120 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

1121 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN
);

1123 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_THIS_LITERAL
)

1125 i‡(
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 !
LEXER_IDENT_LITERAL
)

1127 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_THIS_LITERAL
, 
CBC_ASSIGN_PROP_THIS_LITERAL
));

1128 
	`∑r£r_°ack_push_uöt16
 (
c⁄ãxt_p
, c⁄ãxt_p->
œ°_cbc
.
lôîÆ_ödex
);

1129 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN_PROP_THIS_LITERAL
);

1130 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

1134 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_THIS_LITERAL
;

1135 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN
);

1141 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, 
CBC_EXT_THROW_REFERENCE_ERROR
);

1142 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
CBC_ASSIGN
);

1145 i‡(
	`LEXER_IS_BINARY_LVALUE_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
))

1147 i‡(
	`PARSER_IS_PUSH_LITERAL
 (
c⁄ãxt_p
->
œ°_cbc_›code
)

1148 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

1150 i‡((
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

1151 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

1153 
∑r£r_îr‹_t
 
îr‹
;

1155 i‡(
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_EVAL
)

1157 
îr‹
 = 
PARSER_ERR_EVAL_CANNOT_ASSIGNED
;

1161 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
);

1162 
îr‹
 = 
PARSER_ERR_ARGUMENTS_CANNOT_ASSIGNED
;

1164 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
îr‹
);

1167 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1169 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_IDENT_REFERENCE
;

1171 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

1173 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

1174 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

1175 
CBC_PUSH_IDENT_REFERENCE
,

1176 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
);

1180 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_THREE_LITERALS
);

1182 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

1183 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
,

1184 
CBC_PUSH_IDENT_REFERENCE
,

1185 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
);

1188 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP
)

1190 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP
, 
CBC_PUSH_PROP_REFERENCE
));

1191 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_REFERENCE
;

1193 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_LITERAL
)

1195 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_LITERAL
,

1196 
CBC_PUSH_PROP_LITERAL_REFERENCE
));

1197 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL_REFERENCE
;

1199 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_LITERAL_LITERAL
)

1201 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_LITERAL_LITERAL
,

1202 
CBC_PUSH_PROP_LITERAL_LITERAL_REFERENCE
));

1203 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_LITERAL_LITERAL_REFERENCE
;

1205 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_PROP_THIS_LITERAL
)

1207 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
CBC_PUSH_PROP_THIS_LITERAL
,

1208 
CBC_PUSH_PROP_THIS_LITERAL_REFERENCE
));

1209 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_PROP_THIS_LITERAL_REFERENCE
;

1214 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, 
CBC_EXT_THROW_REFERENCE_ERROR
);

1215 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_PUSH_PROP_REFERENCE
);

1218 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LOGICAL_OR


1219 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LOGICAL_AND
)

1221 
∑r£r_bønch_t
 
bønch
;

1222 
uöt16_t
 
›code
 = 
CBC_BRANCH_IF_LOGICAL_TRUE
;

1224 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LOGICAL_AND
)

1226 
›code
 = 
CBC_BRANCH_IF_LOGICAL_FALSE
;

1229 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
›code
, &
bønch
);

1230 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
bønch
,  (
∑r£r_bønch_t
));

1233 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, c⁄ãxt_p->
tokí
.
ty≥
);

1234 
	}
}

1240 
	$∑r£r_¥o˚ss_bö¨y_›codes
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1241 
uöt8_t
 
mö_¥ec_åeshﬁd
)

1243 
åue
)

1245 
uöt8_t
 
tokí
 = 
c⁄ãxt_p
->
°ack_t›_uöt8
;

1246 
cbc_›code_t
 
›code
;

1254 i‡(!
	`LEXER_IS_BINARY_OP_TOKEN
 (
tokí
)

1255 || 
∑r£r_bö¨y_¥e˚dí˚_èbÀ
[
tokí
 - 
LEXER_FIRST_BINARY_OP
] < 
mö_¥ec_åeshﬁd
)

1260 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

1261 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

1263 i‡(
tokí
 =
LEXER_ASSIGN
)

1265 
›code
 = (
cbc_›code_t
Ë
c⁄ãxt_p
->
°ack_t›_uöt8
;

1266 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

1268 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1270 i‡(
›code
 =
CBC_ASSIGN_SET_IDENT
)

1272 
	`JERRY_ASSERT
 (
	`CBC_ARGS_EQ
 (
CBC_ASSIGN_LITERAL_SET_IDENT
,

1273 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
));

1274 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = 
	`∑r£r_°ack_p›_uöt16
 (context_p);

1275 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_ASSIGN_LITERAL_SET_IDENT
;

1280 i‡(
cbc_Êags
[
›code
] & 
CBC_HAS_LITERAL_ARG
)

1282 
uöt16_t
 
ödex
 = 
	`∑r£r_°ack_p›_uöt16
 (
c⁄ãxt_p
);

1283 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
, 
›code
, 
ödex
);

1285 i‡(
›code
 =
CBC_ASSIGN_PROP_THIS_LITERAL


1286 && (
c⁄ãxt_p
->
°ack_dïth
 >c⁄ãxt_p->
°ack_limô
))

1289 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 =c⁄ãxt_p->
°ack_limô
);

1291 
c⁄ãxt_p
->
°ack_limô
++;

1293 i‡(
c⁄ãxt_p
->
°ack_limô
 > 
PARSER_MAXIMUM_STACK_LIMIT
)

1295 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STACK_LIMIT_REACHED
);

1301 i‡(
	`LEXER_IS_BINARY_LVALUE_TOKEN
 (
tokí
))

1303 
›code
 = 
	`LEXER_BINARY_LVALUE_OP_TOKEN_TO_OPCODE
 (
tokí
);

1305 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1307 
	`JERRY_ASSERT
 (
	`CBC_ARGS_EQ
 (
›code
 + 
CBC_BINARY_LVALUE_WITH_LITERAL
,

1308 
CBC_HAS_LITERAL_ARG
));

1309 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë(
›code
 + 
CBC_BINARY_LVALUE_WITH_LITERAL
);

1313 i‡(
tokí
 =
LEXER_LOGICAL_OR
 ||Åokí =
LEXER_LOGICAL_AND
)

1315 
∑r£r_bønch_t
 
bønch
;

1316 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
bønch
,  (
∑r£r_bønch_t
));

1317 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
bønch
);

1322 
›code
 = 
	`LEXER_BINARY_OP_TOKEN_TO_OPCODE
 (
tokí
);

1324 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1326 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
c⁄ãxt_p
->
œ°_cbc_›code
, 
›code
 + 
CBC_BINARY_WITH_LITERAL
));

1327 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë(
›code
 + 
CBC_BINARY_WITH_LITERAL
);

1330 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TWO_LITERALS
)

1332 
	`JERRY_ASSERT
 (
	`CBC_ARGS_EQ
 (
›code
 + 
CBC_BINARY_WITH_TWO_LITERALS
,

1333 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
));

1334 
c⁄ãxt_p
->
œ°_cbc_›code
 = (
uöt16_t
Ë(
›code
 + 
CBC_BINARY_WITH_TWO_LITERALS
);

1338 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
›code
);

1340 
	}
}

1346 
	$∑r£r_∑r£_ex¥essi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1347 
›ti⁄s
)

1349 
size_t
 
groupög_Àvñ
 = 0;

1351 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
LEXER_EXPRESSION_START
);

1353 
åue
)

1355 i‡(
›ti⁄s
 & 
PARSE_EXPR_HAS_LITERAL
)

1357 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
);

1359 
›ti⁄s
 &~
PARSE_EXPR_HAS_LITERAL
;

1363 
	`∑r£r_∑r£_u«ry_ex¥essi⁄
 (
c⁄ãxt_p
, &
groupög_Àvñ
);

1366 
åue
)

1368 
	`∑r£r_¥o˚ss_u«ry_ex¥essi⁄
 (
c⁄ãxt_p
);

1371 
uöt8_t
 
mö_¥ec_åeshﬁd
 = 
CBC_MAXIMUM_BYTE_VALUE
;

1373 i‡(
	`LEXER_IS_BINARY_OP_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
))

1375 
mö_¥ec_åeshﬁd
 = 
∑r£r_bö¨y_¥e˚dí˚_èbÀ
[
c⁄ãxt_p
->
tokí
.
ty≥
 - 
LEXER_FIRST_BINARY_OP
];

1376 i‡(
	`LEXER_IS_BINARY_LVALUE_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
)

1377 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LOGICAL_OR


1378 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LOGICAL_AND
)

1381 
mö_¥ec_åeshﬁd
++;

1386 
mö_¥ec_åeshﬁd
 = 0;

1389 
	`∑r£r_¥o˚ss_bö¨y_›codes
 (
c⁄ãxt_p
, 
mö_¥ec_åeshﬁd
);

1391 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_PAREN
)

1393 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_LEFT_PAREN


1394 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_COMMA_SEP_LIST
)

1396 
	`JERRY_ASSERT
 (
groupög_Àvñ
 > 0);

1397 
groupög_Àvñ
--;

1399 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_COMMA_SEP_LIST
)

1401 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

1402 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1405 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

1406 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1410 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_QUESTION_MARK
)

1412 
cbc_›code_t
 
›code
 = 
CBC_BRANCH_IF_FALSE_FORWARD
;

1413 
∑r£r_bønch_t
 
c⁄d_bønch
;

1414 
∑r£r_bønch_t
 
unc⁄d_bønch
;

1416 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

1418 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_LOGICAL_NOT
)

1420 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

1421 
›code
 = 
CBC_BRANCH_IF_TRUE_FORWARD
;

1424 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
›code
, &
c⁄d_bønch
);

1426 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1427 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_NO_COMMA
);

1428 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
CBC_JUMP_FORWARD
, &
unc⁄d_bønch
);

1429 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
c⁄d_bønch
);

1434 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 > 0);

1435 
c⁄ãxt_p
->
°ack_dïth
--;

1437 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COLON
)

1439 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_COLON_FOR_CONDITIONAL_EXPECTED
);

1442 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1444 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_NO_COMMA
);

1445 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
unc⁄d_bønch
);

1449 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1455 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_COMMA
)

1457 i‡(!(
›ti⁄s
 & 
PARSE_EXPR_NO_COMMA
Ë|| 
groupög_Àvñ
 > 0)

1459 i‡(!
	`CBC_NO_RESULT_OPERATION
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

1461 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_POP
);

1463 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_LEFT_PAREN
)

1465 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

1467 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL
);

1469 
∑ge_p
->
byãs
[
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 - 1] = 
LEXER_COMMA_SEP_LIST
;

1470 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
LEXER_COMMA_SEP_LIST
;

1472 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1476 i‡(
	`LEXER_IS_BINARY_OP_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
))

1478 
	`∑r£r_≠≥nd_bö¨y_tokí
 (
c⁄ãxt_p
);

1479 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1485 i‡(
groupög_Àvñ
 != 0)

1487 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

1490 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
LEXER_EXPRESSION_START
);

1491 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

1493 i‡(
›ti⁄s
 & 
PARSE_EXPR_STATEMENT
)

1495 i‡(!
	`CBC_NO_RESULT_OPERATION
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

1497 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_POP
);

1500 i‡(
›ti⁄s
 & 
PARSE_EXPR_BLOCK
)

1502 i‡(
	`CBC_NO_RESULT_COMPOUND_ASSIGMENT
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

1504 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
	`PARSER_TO_BINARY_OPERATION_WITH_BLOCK
 (context_p->last_cbc_opcode);

1505 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1507 i‡(
	`CBC_NO_RESULT_BLOCK
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

1509 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
c⁄ãxt_p
->
œ°_cbc_›code
, context_p->last_cbc_opcode + 2));

1510 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
œ°_cbc_›code
, 2);

1511 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1515 i‡(
	`CBC_NO_RESULT_OPERATION
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

1517 
	`JERRY_ASSERT
 (
	`CBC_SAME_ARGS
 (
c⁄ãxt_p
->
œ°_cbc_›code
, context_p->last_cbc_opcode + 1));

1518 
c⁄ãxt_p
->
œ°_cbc_›code
++;

1520 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_POP_BLOCK
);

1525 
	`∑r£r_push_ªsu…
 (
c⁄ãxt_p
);

1527 
	}
}

	@deps/jerry/jerry-core/parser/js/js-parser-internal.h

16 #i‚de‡
JS_PARSER_INTERNAL_H


17 
	#JS_PARSER_INTERNAL_H


	)

19 
	~"comm⁄.h
"

21 
	~"byã-code.h
"

22 
	~"debuggî.h
"

23 
	~"js-∑r£r.h
"

24 
	~"js-∑r£r-limôs.h
"

25 
	~"js-Àxî.h
"

38 
	#PARSER_IS_STRICT
 0x00001u

	)

39 
	#PARSER_IS_FUNCTION
 0x00002u

	)

40 
	#PARSER_IS_CLOSURE
 0x00004u

	)

41 
	#PARSER_IS_PROPERTY_GETTER
 0x00008u

	)

42 
	#PARSER_IS_PROPERTY_SETTER
 0x00010u

	)

43 
	#PARSER_IS_FUNC_EXPRESSION
 0x00020u

	)

44 
	#PARSER_HAS_NON_STRICT_ARG
 0x00040u

	)

45 
	#PARSER_INSIDE_WITH
 0x00080u

	)

46 
	#PARSER_RESOLVE_THIS_FOR_CALLS
 0x00100u

	)

47 
	#PARSER_NAMED_FUNCTION_EXP
 0x00200u

	)

48 
	#PARSER_HAS_INITIALIZED_VARS
 0x00400u

	)

49 
	#PARSER_NO_END_LABEL
 0x00800u

	)

50 
	#PARSER_NO_REG_STORE
 0x01000u

	)

51 
	#PARSER_ARGUMENTS_NEEDED
 0x02000u

	)

52 
	#PARSER_ARGUMENTS_NOT_NEEDED
 0x04000u

	)

53 
	#PARSER_LEXICAL_ENV_NEEDED
 0x08000u

	)

54 
	#PARSER_HAS_LATE_LIT_INIT
 0x10000u

	)

55 
	#PARSER_DEBUGGER_BREAKPOINT_APPENDED
 0x20000u

	)

58 
	#PARSE_EXPR
 0x00

	)

59 
	#PARSE_EXPR_STATEMENT
 0x01

	)

60 
	#PARSE_EXPR_BLOCK
 0x02

	)

61 
	#PARSE_EXPR_NO_COMMA
 0x04

	)

62 
	#PARSE_EXPR_HAS_LITERAL
 0x08

	)

65 
	#PARSER_CBC_STREAM_PAGE_SIZE
 \

66 ((
uöt32_t
Ë(64 -  (*)))

	)

68 
	#PARSER_STACK_PAGE_SIZE
 \

69 ((
uöt32_t
Ë((( (*Ë> 4Ë? 128 : 64Ë-  (*)))

	)

72 
	#PARSER_PLUS_EQUAL_U16
(
ba£
, 
vÆue
Ë(ba£Ë(
uöt16_t
Ë((ba£Ë+ (vÆue))

	)

73 
	#PARSER_MINUS_EQUAL_U16
(
ba£
, 
vÆue
Ë(ba£Ë(
uöt16_t
Ë((ba£Ë- (vÆue))

	)

74 
	#PARSER_PLUS_EQUAL_LC
(
ba£
, 
vÆue
Ë(ba£Ë(
∑r£r_löe_cou¡î_t
Ë((ba£Ë+ (vÆue))

	)

81 
uöt16_t
 
	mlôîÆ_ödex
;

82 
uöt16_t
 
	mvÆue
;

83 
uöt16_t
 
	mthúd_lôîÆ_ödex
;

84 
uöt8_t
 
	mlôîÆ_ty≥
;

85 
uöt8_t
 
	mlôîÆ_obje˘_ty≥
;

86 } 
	tcbc_¨gumít_t
;

90 
	#PARSER_CBC_UNAVAILABLE
 
CBC_EXT_OPCODE


	)

92 
	#PARSER_TO_EXT_OPCODE
(
›code
Ë((
uöt16_t
Ë((›codeË+ 256))

	)

93 
	#PARSER_GET_EXT_OPCODE
(
›code
Ë((›codeË- 256)

	)

94 
	#PARSER_IS_BASIC_OPCODE
(
›code
Ë((›codeË< 256)

	)

95 
	#PARSER_IS_PUSH_LITERAL
(
›code
) \

96 ((
›code
Ë=
CBC_PUSH_LITERAL
 \

97 || (
›code
Ë=
CBC_PUSH_TWO_LITERALS
 \

98 || (
›code
Ë=
CBC_PUSH_THREE_LITERALS
)

	)

100 
	#PARSER_GET_LITERAL
(
lôîÆ_ödex
) \

101 ((
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_gë
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, (
lôîÆ_ödex
)))

	)

103 
	#PARSER_TO_BINARY_OPERATION_WITH_RESULT
(
›code
) \

104 (
	`PARSER_TO_EXT_OPCODE
(
›code
Ë- 
CBC_ASSIGN_ADD
 + 
CBC_EXT_ASSIGN_ADD_PUSH_RESULT
)

	)

106 
	#PARSER_TO_BINARY_OPERATION_WITH_BLOCK
(
›code
) \

107 ((
uöt16_t
Ë(
	`PARSER_TO_EXT_OPCODE
(
›code
Ë- 
CBC_ASSIGN_ADD
 + 
CBC_EXT_ASSIGN_ADD_BLOCK
))

	)

109 
	#PARSER_GET_FLAGS
(
›
) \

110 (
	`PARSER_IS_BASIC_OPCODE
 (
›
Ë? 
cbc_Êags
[(›)] : 
cbc_ext_Êags
[
	`PARSER_GET_EXT_OPCODE
 (›)])

	)

112 
	#PARSER_OPCODE_IS_RETURN
(
›
) \

113 ((
›
Ë=
CBC_RETURN
 || (›Ë=
CBC_RETURN_WITH_BLOCK
 || (›Ë=
CBC_RETURN_WITH_LITERAL
)

	)

115 
	#PARSER_ARGS_EQ
(
›
, 
ty≥s
) \

116 ((
	`PARSER_GET_FLAGS
 (
›
Ë& 
CBC_ARG_TYPES
Ë=(
ty≥s
))

	)

122 
	s∑r£r_mem_∑ge_t


124 
∑r£r_mem_∑ge_t
 *
	m√xt_p
;

125 
uöt8_t
 
	mbyãs
[1];

126 } 
	t∑r£r_mem_∑ge_t
;

133 
∑r£r_mem_∑ge_t
 *
	mfú°_p
;

134 
∑r£r_mem_∑ge_t
 *
	mœ°_p
;

135 
uöt32_t
 
	mœ°_posôi⁄
;

136 } 
	t∑r£r_mem_d©a_t
;

143 
∑r£r_mem_d©a_t
 
	md©a
;

144 
uöt32_t
 
	m∑ge_size
;

145 
uöt32_t
 
	môem_size
;

146 
uöt32_t
 
	môem_cou¡
;

147 } 
	t∑r£r_li°_t
;

154 
∑r£r_li°_t
 *
	mli°_p
;

155 
∑r£r_mem_∑ge_t
 *
	mcuºít_p
;

156 
size_t
 
	mcuºít_posôi⁄
;

157 } 
	t∑r£r_li°_ôî©‹_t
;

164 
∑r£r_mem_d©a_t
 
	md©a
;

165 
∑r£r_mem_∑ge_t
 *
	m‰ì_∑ge_p
;

166 } 
	t∑r£r_°ack_t
;

173 
∑r£r_mem_∑ge_t
 *
	mcuºít_p
;

174 
size_t
 
	mcuºít_posôi⁄
;

175 } 
	t∑r£r_°ack_ôî©‹_t
;

182 
∑r£r_mem_∑ge_t
 *
	m∑ge_p
;

183 
uöt32_t
 
	moff£t
;

184 } 
	t∑r£r_bønch_t
;

189 
	s∑r£r_bønch_node_t


191 
∑r£r_bønch_node_t
 *
	m√xt_p
;

192 
∑r£r_bønch_t
 
	mbønch
;

193 } 
	t∑r£r_bønch_node_t
;

195 #ifde‡
JERRY_DEBUGGER


201 
uöt32_t
 
	mvÆue
;

202 } 
	t∑r£r_bªakpoöt_öfo_t
;

209 
	s∑r£r_ßved_c⁄ãxt_t


212 
uöt32_t
 
	m°©us_Êags
;

213 
uöt16_t
 
	m°ack_dïth
;

214 
uöt16_t
 
	m°ack_limô
;

215 
∑r£r_ßved_c⁄ãxt_t
 *
	m¥ev_c⁄ãxt_p
;

216 
∑r£r_°ack_ôî©‹_t
 
	mœ°_°©emít
;

219 
uöt16_t
 
	m¨gumít_cou¡
;

220 
uöt16_t
 
	mªgi°î_cou¡
;

221 
uöt16_t
 
	mlôîÆ_cou¡
;

224 
∑r£r_mem_d©a_t
 
	mbyã_code
;

225 
uöt32_t
 
	mbyã_code_size
;

226 
∑r£r_mem_d©a_t
 
	mlôîÆ_poﬁ_d©a
;

228 #i‚de‡
JERRY_NDEBUG


229 
uöt16_t
 
	mc⁄ãxt_°ack_dïth
;

231 } 
	t∑r£r_ßved_c⁄ãxt_t
;

238 
PARSER_TRY_CONTEXT
 (
åy_buf„r
);

239 
∑r£r_îr‹_t
 
	mîr‹
;

240 *
	mÆloˇãd_buf„r_p
;

242 
uöt32_t
 
	mÆloˇãd_buf„r_size
;

245 
uöt32_t
 
	m°©us_Êags
;

246 
uöt16_t
 
	m°ack_dïth
;

247 
uöt16_t
 
	m°ack_limô
;

248 
∑r£r_ßved_c⁄ãxt_t
 *
	mœ°_c⁄ãxt_p
;

249 
∑r£r_°ack_ôî©‹_t
 
	mœ°_°©emít
;

252 
Àxî_tokí_t
 
	mtokí
;

253 
Àxî_lô_obje˘_t
 
	mlô_obje˘
;

254 c⁄° 
uöt8_t
 *
	msour˚_p
;

255 c⁄° 
uöt8_t
 *
	msour˚_íd_p
;

256 
∑r£r_löe_cou¡î_t
 
	mlöe
;

257 
∑r£r_löe_cou¡î_t
 
	mcﬁumn
;

260 
cbc_¨gumít_t
 
	mœ°_cbc
;

261 
uöt16_t
 
	mœ°_cbc_›code
;

264 
uöt16_t
 
	m¨gumít_cou¡
;

265 
uöt16_t
 
	mªgi°î_cou¡
;

266 
uöt16_t
 
	mlôîÆ_cou¡
;

269 
∑r£r_mem_d©a_t
 
	mbyã_code
;

270 
uöt32_t
 
	mbyã_code_size
;

271 
∑r£r_li°_t
 
	mlôîÆ_poﬁ
;

272 
∑r£r_mem_d©a_t
 
	m°ack
;

273 
∑r£r_mem_∑ge_t
 *
	m‰ì_∑ge_p
;

274 
uöt8_t
 
	m°ack_t›_uöt8
;

276 #i‚de‡
JERRY_NDEBUG


278 
uöt16_t
 
	mc⁄ãxt_°ack_dïth
;

281 #ifde‡
PARSER_DUMP_BYTE_CODE


282 
	mis_show_›codes
;

283 
uöt32_t
 
	mtŸÆ_byã_code_size
;

286 #ifde‡
JERRY_DEBUGGER


287 
∑r£r_bªakpoöt_öfo_t
 
	mbªakpoöt_öfo
[
JERRY_DEBUGGER_SEND_MAX
 (
∑r£r_li°_t
)];

288 
uöt16_t
 
	mbªakpoöt_öfo_cou¡
;

289 
∑r£r_löe_cou¡î_t
 
	mœ°_bªakpoöt_löe
;

291 } 
	t∑r£r_c⁄ãxt_t
;

307 *
∑r£r_mÆloc
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
size_t
 
size
);

308 
∑r£r_‰ì
 (*
±r
, 
size_t
 
size
);

309 *
∑r£r_mÆloc_loˇl
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
size_t
 
size
);

310 
∑r£r_‰ì_loˇl
 (*
±r
, 
size_t
 
size
);

314 
∑r£r_cbc_°ªam_öô
 (
∑r£r_mem_d©a_t
 *
d©a_p
);

315 
∑r£r_cbc_°ªam_‰ì
 (
∑r£r_mem_d©a_t
 *
d©a_p
);

316 
∑r£r_cbc_°ªam_Æloc_∑ge
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
∑r£r_mem_d©a_t
 *
d©a_p
);

320 
∑r£r_li°_öô
 (
∑r£r_li°_t
 *
li°_p
, 
uöt32_t
 
ôem_size
, uöt32_à
ôem_cou¡
);

321 
∑r£r_li°_‰ì
 (
∑r£r_li°_t
 *
li°_p
);

322 
∑r£r_li°_ª£t
 (
∑r£r_li°_t
 *
li°_p
);

323 *
∑r£r_li°_≠≥nd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
∑r£r_li°_t
 *
li°_p
);

324 *
∑r£r_li°_gë
 (
∑r£r_li°_t
 *
li°_p
, 
size_t
 
ödex
);

325 
∑r£r_li°_ôî©‹_öô
 (
∑r£r_li°_t
 *
li°_p
, 
∑r£r_li°_ôî©‹_t
 *
ôî©‹_p
);

326 *
∑r£r_li°_ôî©‹_√xt
 (
∑r£r_li°_ôî©‹_t
 *
ôî©‹_p
);

331 
∑r£r_°ack_öô
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

332 
∑r£r_°ack_‰ì
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

333 
∑r£r_°ack_push_uöt8
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt8_t
 
uöt8_vÆue
);

334 
∑r£r_°ack_p›_uöt8
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

335 
∑r£r_°ack_push_uöt16
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
uöt16_vÆue
);

336 
uöt16_t
 
∑r£r_°ack_p›_uöt16
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

337 
∑r£r_°ack_push
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, c⁄° *
d©a_p
, 
uöt32_t
 
Àngth
);

338 
∑r£r_°ack_p›
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, *
d©a_p
, 
uöt32_t
 
Àngth
);

339 
∑r£r_°ack_ôî©‹_skù
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
, 
size_t
 
Àngth
);

340 
∑r£r_°ack_ôî©‹_ªad
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
, *
d©a_p
, 
size_t
 
Àngth
);

341 
∑r£r_°ack_ôî©‹_wrôe
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
, c⁄° *
d©a_p
, 
size_t
 
Àngth
);

359 
∑r£r_Êush_cbc
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

360 
∑r£r_emô_cbc
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
);

361 
∑r£r_emô_cbc_lôîÆ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
, uöt16_à
lôîÆ_ödex
);

362 
∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
);

363 
∑r£r_emô_cbc_ˇŒ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
, 
size_t
 
ˇŒ_¨gumíts
);

364 
∑r£r_emô_cbc_push_numbî
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
boﬁ
 
is_√g©ive_numbî
);

365 
∑r£r_emô_cbc_f‹w¨d_bønch
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
, 
∑r£r_bønch_t
 *
bønch_p
);

366 
∑r£r_bønch_node_t
 *
∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
,

367 
∑r£r_bønch_node_t
 *
√xt_p
);

368 
∑r£r_emô_cbc_backw¨d_bønch
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt16_t
 
›code
, 
uöt32_t
 
off£t
);

369 
∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
∑r£r_bønch_t
 *
bønch_p
);

370 
∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
∑r£r_bønch_node_t
 *
cuºít_p
);

371 
∑r£r_£t_c⁄töues_to_cuºít_posôi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
∑r£r_bønch_node_t
 *
cuºít_p
);

374 
	#∑r£r_emô_cbc_ext
(
c⁄ãxt_p
, 
›code
) \

375 
	`∑r£r_emô_cbc
 ((
c⁄ãxt_p
), 
	`PARSER_TO_EXT_OPCODE
 (
›code
))

	)

376 
	#∑r£r_emô_cbc_ext_lôîÆ
(
c⁄ãxt_p
, 
›code
, 
lôîÆ_ödex
) \

377 
	`∑r£r_emô_cbc_lôîÆ
 ((
c⁄ãxt_p
), 
	`PARSER_TO_EXT_OPCODE
 (
›code
), (
lôîÆ_ödex
))

	)

378 
	#∑r£r_emô_cbc_ext_ˇŒ
(
c⁄ãxt_p
, 
›code
, 
ˇŒ_¨gumíts
) \

379 
	`∑r£r_emô_cbc_ˇŒ
 ((
c⁄ãxt_p
), 
	`PARSER_TO_EXT_OPCODE
 (
›code
), (
ˇŒ_¨gumíts
))

	)

380 
	#∑r£r_emô_cbc_ext_f‹w¨d_bønch
(
c⁄ãxt_p
, 
›code
, 
bønch_p
) \

381 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 ((
c⁄ãxt_p
), 
	`PARSER_TO_EXT_OPCODE
 (
›code
), (
bønch_p
))

	)

382 
	#∑r£r_emô_cbc_ext_backw¨d_bønch
(
c⁄ãxt_p
, 
›code
, 
off£t
) \

383 
	`∑r£r_emô_cbc_backw¨d_bønch
 ((
c⁄ãxt_p
), 
	`PARSER_TO_EXT_OPCODE
 (
›code
), (
off£t
))

	)

394 
Àxî_√xt_tokí
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

395 
Àxî_ex≥˘_idítifõr
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt8_t
 
lôîÆ_ty≥
);

396 
Àxî_sˇn_idítifõr
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
boﬁ
 
¥›ëy_«me
);

397 
ecma_ch¨_t
 
Àxî_hex_to_ch¨a˘î
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, c⁄° 
uöt8_t
 *
sour˚_p
, 
Àngth
);

398 
Àxî_ex≥˘_obje˘_lôîÆ_id
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
boﬁ
 
mu°_be_idítifõr
);

399 
Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
Àxî_lô_loˇti⁄_t
 *
lôîÆ_p
,

400 
uöt8_t
 
lôîÆ_ty≥
);

401 
boﬁ
 
Àxî_c⁄°ru˘_numbî_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, boﬁ 
push_numbî_Ælowed
, boﬁ 
is_√g©ive_numbî
);

402 
uöt16_t
 
Àxî_c⁄°ru˘_fun˘i⁄_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt32_t
 
exåa_°©us_Êags
);

403 
Àxî_c⁄°ru˘_ªgexp_obje˘
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
boﬁ
 
∑r£_⁄ly
);

404 
boﬁ
 
Àxî_com∑ª_idítifõr_to_cuºít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, c⁄° 
Àxî_lô_loˇti⁄_t
 *
right
);

415 
∑r£r_∑r£_ex¥essi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
›ti⁄s
);

424 
∑r£r_sˇn_u¡û
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
Àxî_ønge_t
 *
ønge_p
, 
Àxî_tokí_ty≥_t
 
íd_ty≥
);

433 
∑r£r_∑r£_°©emíts
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
);

434 
∑r£r_‰ì_jumps
 (
∑r£r_°ack_ôî©‹_t
 
ôî©‹
);

443 
ecma_compûed_code_t
 *
∑r£r_∑r£_fun˘i⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
uöt32_t
 
°©us_Êags
);

447 
∑r£r_øi£_îr‹
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
∑r£r_îr‹_t
 
îr‹
);

451 #ifde‡
JERRY_DEBUGGER


453 
∑r£r_≠≥nd_bªakpoöt_öfo
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
jîry_debuggî_hódî_ty≥_t
 
ty≥
, 
uöt32_t
 
vÆue
);

454 
∑r£r_£nd_bªakpoöts
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
, 
jîry_debuggî_hódî_ty≥_t
 
ty≥
);

	@deps/jerry/jerry-core/parser/js/js-parser-limits.h

16 #i‚de‡
JS_PARSER_LIMITS_H


17 
	#JS_PARSER_LIMITS_H


	)

31 #i‚de‡
PARSER_MAXIMUM_IDENT_LENGTH


32 
	#PARSER_MAXIMUM_IDENT_LENGTH
 255

	)

37 #i‚de‡
PARSER_MAXIMUM_STRING_LENGTH


38 
	#PARSER_MAXIMUM_STRING_LENGTH
 65535

	)

43 #i‚de‡
PARSER_MAXIMUM_NUMBER_OF_LITERALS


44 
	#PARSER_MAXIMUM_NUMBER_OF_LITERALS
 32767

	)

49 #i‚de‡
PARSER_MAXIMUM_NUMBER_OF_REGISTERS


50 
	#PARSER_MAXIMUM_NUMBER_OF_REGISTERS
 256

	)

55 #i‚de‡
PARSER_MAXIMUM_CODE_SIZE


56 
	#PARSER_MAXIMUM_CODE_SIZE
 (65535 << (
JMEM_ALIGNMENT_LOG
))

	)

61 #i‚de‡
PARSER_MAXIMUM_STACK_LIMIT


62 
	#PARSER_MAXIMUM_STACK_LIMIT
 1024

	)

68 #i‡(
PARSER_MAXIMUM_STRING_LENGTH
 < 1) || (PARSER_MAXIMUM_STRING_LENGTH > 65535)

72 #i‡(
PARSER_MAXIMUM_IDENT_LENGTH
 < 1Ë|| (PARSER_MAXIMUM_IDENT_LENGTH > 
PARSER_MAXIMUM_STRING_LENGTH
)

76 #i‡(
PARSER_MAXIMUM_NUMBER_OF_LITERALS
 < 1) || (PARSER_MAXIMUM_NUMBER_OF_LITERALS > 32767)

80 #i‡(
PARSER_MAXIMUM_NUMBER_OF_REGISTERS
 > 
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

84 #i‡(
PARSER_MAXIMUM_CODE_SIZE
 < 4096) || (PARSER_MAXIMUM_CODE_SIZE > 16777215)

88 #i‡(
PARSER_MAXIMUM_STACK_LIMIT
 < 16) || (PARSER_MAXIMUM_STACK_LIMIT > 65500)

	@deps/jerry/jerry-core/parser/js/js-parser-mem.c

16 
	~"js-∑r£r-öã∫Æ.h
"

18 #i‡
JERRY_JS_PARSER


37 
	$∑r£r_mÆloc
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

38 
size_t
 
size
)

40 *
ªsu…
;

42 
	`JERRY_ASSERT
 (
size
 > 0);

43 
ªsu…
 = 
	`jmem_hóp_Æloc_block_nuŒ_⁄_îr‹
 (
size
);

45 i‡(
ªsu…
 =
NULL
)

47 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OUT_OF_MEMORY
);

49  
ªsu…
;

50 
	}
}

55 
	$∑r£r_‰ì
 (*
±r
,

56 
size_t
 
size
)

58 
	`jmem_hóp_‰ì_block
 (
±r
, 
size
);

59 
	}
}

67 
	$∑r£r_mÆloc_loˇl
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

68 
size_t
 
size
)

70 *
ªsu…
;

72 
	`JERRY_ASSERT
 (
size
 > 0);

73 
ªsu…
 = 
	`jmem_hóp_Æloc_block
 (
size
);

74 i‡(
ªsu…
 == 0)

76 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OUT_OF_MEMORY
);

78  
ªsu…
;

79 
	}
}

84 
	$∑r£r_‰ì_loˇl
 (*
±r
,

85 
size_t
 
size
)

87 
	`jmem_hóp_‰ì_block
 (
±r
, 
size
);

88 
	}
}

98 
	$∑r£r_d©a_öô
 (
∑r£r_mem_d©a_t
 *
d©a_p
,

99 
uöt32_t
 
∑ge_size
)

101 
d©a_p
->
fú°_p
 = 
NULL
;

102 
d©a_p
->
œ°_p
 = 
NULL
;

103 
d©a_p
->
œ°_posôi⁄
 = 
∑ge_size
;

104 
	}
}

110 
	$∑r£r_d©a_‰ì
 (
∑r£r_mem_d©a_t
 *
d©a_p
,

111 
uöt32_t
 
∑ge_size
)

113 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
d©a_p
->
fú°_p
;

115 
∑ge_p
 !
NULL
)

117 
∑r£r_mem_∑ge_t
 *
√xt_p
 = 
∑ge_p
->next_p;

119 
	`∑r£r_‰ì
 (
∑ge_p
, 
∑ge_size
);

120 
∑ge_p
 = 
√xt_p
;

122 
	}
}

132 
	$∑r£r_cbc_°ªam_öô
 (
∑r£r_mem_d©a_t
 *
d©a_p
)

134 
	`∑r£r_d©a_öô
 (
d©a_p
, 
PARSER_CBC_STREAM_PAGE_SIZE
);

135 
	}
}

141 
	$∑r£r_cbc_°ªam_‰ì
 (
∑r£r_mem_d©a_t
 *
d©a_p
)

143 
	`∑r£r_d©a_‰ì
 (
d©a_p
,

144  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_CBC_STREAM_PAGE_SIZE
);

145 
	}
}

151 
	$∑r£r_cbc_°ªam_Æloc_∑ge
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

152 
∑r£r_mem_d©a_t
 *
d©a_p
)

154 
size_t
 
size
 =  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_CBC_STREAM_PAGE_SIZE
;

155 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = (∑r£r_mem_∑ge_à*Ë
	`∑r£r_mÆloc
 (
c⁄ãxt_p
, 
size
);

157 
∑ge_p
->
√xt_p
 = 
NULL
;

158 
d©a_p
->
œ°_posôi⁄
 = 0;

160 i‡(
d©a_p
->
œ°_p
 !
NULL
)

162 
d©a_p
->
œ°_p
->
√xt_p
 = 
∑ge_p
;

166 
d©a_p
->
fú°_p
 = 
∑ge_p
;

168 
d©a_p
->
œ°_p
 = 
∑ge_p
;

169 
	}
}

179 
	$∑r£r_li°_öô
 (
∑r£r_li°_t
 *
li°_p
,

180 
uöt32_t
 
ôem_size
,

181 
uöt32_t
 
ôem_cou¡
)

184 
ôem_size
 = (
uöt32_t
) (((item_size) +  (*) - 1) & ~( (*) - 1));

185 
	`∑r£r_d©a_öô
 (&
li°_p
->
d©a
, 
ôem_size
 * 
ôem_cou¡
);

186 
li°_p
->
∑ge_size
 = 
ôem_size
 * 
ôem_cou¡
;

187 
li°_p
->
ôem_size
 = item_size;

188 
li°_p
->
ôem_cou¡
 = item_count;

189 
	}
}

195 
	$∑r£r_li°_‰ì
 (
∑r£r_li°_t
 *
li°_p
)

197 
	`∑r£r_d©a_‰ì
 (&
li°_p
->
d©a
,

198 (
uöt32_t
Ë( (
∑r£r_mem_∑ge_t
 *Ë+ 
li°_p
->
∑ge_size
));

199 
	}
}

205 
	$∑r£r_li°_ª£t
 (
∑r£r_li°_t
 *
li°_p
)

207 
	`∑r£r_d©a_öô
 (&
li°_p
->
d©a
,Üi°_p->
∑ge_size
);

208 
	}
}

216 
	$∑r£r_li°_≠≥nd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

217 
∑r£r_li°_t
 *
li°_p
)

219 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
li°_p
->
d©a
.
œ°_p
;

220 *
ªsu…
;

222 i‡(
li°_p
->
d©a
.
œ°_posôi⁄
 +Üi°_p->
ôem_size
 >Üi°_p->
∑ge_size
)

224 
size_t
 
size
 =  (
∑r£r_mem_∑ge_t
 *Ë+ 
li°_p
->
∑ge_size
;

226 
∑ge_p
 = (
∑r£r_mem_∑ge_t
 *Ë
	`∑r£r_mÆloc
 (
c⁄ãxt_p
, 
size
);

228 
∑ge_p
->
√xt_p
 = 
NULL
;

229 
li°_p
->
d©a
.
œ°_posôi⁄
 = 0;

231 i‡(
li°_p
->
d©a
.
œ°_p
 !
NULL
)

233 
li°_p
->
d©a
.
œ°_p
->
√xt_p
 = 
∑ge_p
;

237 
li°_p
->
d©a
.
fú°_p
 = 
∑ge_p
;

239 
li°_p
->
d©a
.
œ°_p
 = 
∑ge_p
;

242 
ªsu…
 = 
∑ge_p
->
byãs
 + 
li°_p
->
d©a
.
œ°_posôi⁄
;

243 
li°_p
->
d©a
.
œ°_posôi⁄
 +li°_p->
ôem_size
;

244  
ªsu…
;

245 
	}
}

253 
	$∑r£r_li°_gë
 (
∑r£r_li°_t
 *
li°_p
,

254 
size_t
 
ödex
)

256 
size_t
 
ôem_cou¡
 = 
li°_p
->item_count;

257 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
li°_p
->
d©a
.
fú°_p
;

259 
ödex
 >
ôem_cou¡
)

261 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL
);

262 
∑ge_p
 =Öage_p->
√xt_p
;

263 
ödex
 -
ôem_cou¡
;

266 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL
);

267 
	`JERRY_ASSERT
 (
∑ge_p
 !
li°_p
->
d©a
.
œ°_p


268 || (
ödex
 * 
li°_p
->
ôem_size
 <Üi°_p->
d©a
.
œ°_posôi⁄
));

269  
∑ge_p
->
byãs
 + (
ödex
 * 
li°_p
->
ôem_size
);

270 
	}
}

276 
	$∑r£r_li°_ôî©‹_öô
 (
∑r£r_li°_t
 *
li°_p
,

277 
∑r£r_li°_ôî©‹_t
 *
ôî©‹_p
)

279 
ôî©‹_p
->
li°_p
 =Üist_p;

280 
ôî©‹_p
->
cuºít_p
 = 
li°_p
->
d©a
.
fú°_p
;

281 
ôî©‹_p
->
cuºít_posôi⁄
 = 0;

282 
	}
}

290 
	$∑r£r_li°_ôî©‹_√xt
 (
∑r£r_li°_ôî©‹_t
 *
ôî©‹_p
)

292 *
ªsu…
;

294 i‡(
ôî©‹_p
->
cuºít_p
 =
NULL
)

296  
NULL
;

299 
ªsu…
 = 
ôî©‹_p
->
cuºít_p
->
byãs
 + iãøt‹_p->
cuºít_posôi⁄
;

300 
ôî©‹_p
->
cuºít_posôi⁄
 +ôî©‹_p->
li°_p
->
ôem_size
;

302 i‡(
ôî©‹_p
->
cuºít_p
->
√xt_p
 =
NULL
)

304 i‡(
ôî©‹_p
->
cuºít_posôi⁄
 >ôî©‹_p->
li°_p
->
d©a
.
œ°_posôi⁄
)

306 
ôî©‹_p
->
cuºít_p
 = 
NULL
;

307 
ôî©‹_p
->
cuºít_posôi⁄
 = 0;

310 i‡(
ôî©‹_p
->
cuºít_posôi⁄
 >ôî©‹_p->
li°_p
->
∑ge_size
)

312 
ôî©‹_p
->
cuºít_p
 = iãøt‹_p->cuºít_p->
√xt_p
;

313 
ôî©‹_p
->
cuºít_posôi⁄
 = 0;

315  
ªsu…
;

316 
	}
}

328 
	$∑r£r_°ack_öô
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

330 
	`∑r£r_d©a_öô
 (&
c⁄ãxt_p
->
°ack
, 
PARSER_STACK_PAGE_SIZE
);

331 
c⁄ãxt_p
->
‰ì_∑ge_p
 = 
NULL
;

332 
	}
}

338 
	$∑r£r_°ack_‰ì
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

340 
	`∑r£r_d©a_‰ì
 (&
c⁄ãxt_p
->
°ack
,

341  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_STACK_PAGE_SIZE
);

343 i‡(
c⁄ãxt_p
->
‰ì_∑ge_p
 !
NULL
)

345 
	`∑r£r_‰ì
 (
c⁄ãxt_p
->
‰ì_∑ge_p
,

346  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_STACK_PAGE_SIZE
);

348 
	}
}

354 
	$∑r£r_°ack_push_uöt8
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

355 
uöt8_t
 
uöt8_vÆue
)

357 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

362 
	`JERRY_ASSERT
 (
∑ge_p
 =
NULL


363 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1]);

365 i‡(
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 >
PARSER_STACK_PAGE_SIZE
)

367 i‡(
c⁄ãxt_p
->
‰ì_∑ge_p
 !
NULL
)

369 
∑ge_p
 = 
c⁄ãxt_p
->
‰ì_∑ge_p
;

370 
c⁄ãxt_p
->
‰ì_∑ge_p
 = 
NULL
;

374 
size_t
 
size
 =  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_STACK_PAGE_SIZE
;

375 
∑ge_p
 = (
∑r£r_mem_∑ge_t
 *Ë
	`∑r£r_mÆloc
 (
c⁄ãxt_p
, 
size
);

378 
∑ge_p
->
√xt_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

379 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 = 0;

380 
c⁄ãxt_p
->
°ack
.
fú°_p
 = 
∑ge_p
;

383 
∑ge_p
->
byãs
[
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
++] = 
uöt8_vÆue
;

384 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
uöt8_vÆue
;

385 
	}
}

391 
	$∑r£r_°ack_p›_uöt8
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

393 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

395 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL


396 && 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1]);

398 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
--;

400 i‡(
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 == 0)

402 
c⁄ãxt_p
->
°ack
.
fú°_p
 = 
∑ge_p
->
√xt_p
;

403 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 = 
PARSER_STACK_PAGE_SIZE
;

405 i‡(
c⁄ãxt_p
->
‰ì_∑ge_p
 =
NULL
)

407 
c⁄ãxt_p
->
‰ì_∑ge_p
 = 
∑ge_p
;

411 
	`∑r£r_‰ì
 (
∑ge_p
,

412  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_STACK_PAGE_SIZE
);

415 
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

417 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL
);

420 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1];

421 
	}
}

427 
	$∑r£r_°ack_push_uöt16
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

428 
uöt16_t
 
uöt16_vÆue
)

430 i‡(
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 + 2 <
PARSER_STACK_PAGE_SIZE
)

432 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

434 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL


435 && 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1]);

437 
∑ge_p
->
byãs
[
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
++] = (
uöt8_t
Ë(
uöt16_vÆue
 >> 8);

438 
∑ge_p
->
byãs
[
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
++] = (
uöt8_t
Ë
uöt16_vÆue
;

439 
c⁄ãxt_p
->
°ack_t›_uöt8
 = (
uöt8_t
Ë
uöt16_vÆue
;

443 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, (
uöt8_t
Ë(
uöt16_vÆue
 >> 8));

444 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, (
uöt8_t
Ë
uöt16_vÆue
);

446 
	}
}

453 
uöt16_t


454 
	$∑r£r_°ack_p›_uöt16
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

456 
uöt32_t
 
vÆue
 = 
c⁄ãxt_p
->
°ack_t›_uöt8
;

458 i‡(
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 >= 3)

460 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

462 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL


463 && 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1]);

465 
vÆue
 |((
uöt32_t
Ë
∑ge_p
->
byãs
[
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 - 2]) << 8;

466 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 3];

467 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 -= 2;

471 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

472 
vÆue
 |((
uöt32_t
Ë
c⁄ãxt_p
->
°ack_t›_uöt8
) << 8;

473 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

475  (
uöt16_t
Ë
vÆue
;

476 
	}
}

482 
	$∑r£r_°ack_push
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

483 c⁄° *
d©a_p
,

484 
uöt32_t
 
Àngth
)

486 
uöt32_t
 
‰agmít_Àngth
 = 
PARSER_STACK_PAGE_SIZE
 - 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
;

487 c⁄° 
uöt8_t
 *
byãs_p
 = (c⁄° uöt8_à*Ë
d©a_p
;

488 
∑r£r_mem_∑ge_t
 *
∑ge_p
;

490 
	`JERRY_ASSERT
 (
Àngth
 < 
PARSER_STACK_PAGE_SIZE
 &&Üength > 0);

492 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
byãs_p
[
Àngth
 - 1];

494 i‡(
‰agmít_Àngth
 > 0)

497 i‡(
‰agmít_Àngth
 > 
Àngth
)

499 
‰agmít_Àngth
 = 
Àngth
;

502 
	`mem˝y
 (
c⁄ãxt_p
->
°ack
.
fú°_p
->
byãs
 + c⁄ãxt_p->°ack.
œ°_posôi⁄
,

503 
byãs_p
,

504 
‰agmít_Àngth
);

506 i‡(
‰agmít_Àngth
 =
Àngth
)

508 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 +
Àngth
;

512 
byãs_p
 +
‰agmít_Àngth
;

513 
Àngth
 -
‰agmít_Àngth
;

516 i‡(
c⁄ãxt_p
->
‰ì_∑ge_p
 !
NULL
)

518 
∑ge_p
 = 
c⁄ãxt_p
->
‰ì_∑ge_p
;

519 
c⁄ãxt_p
->
‰ì_∑ge_p
 = 
NULL
;

523 
size_t
 
size
 =  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_STACK_PAGE_SIZE
;

525 
∑ge_p
 = (
∑r£r_mem_∑ge_t
 *Ë
	`∑r£r_mÆloc
 (
c⁄ãxt_p
, 
size
);

528 
∑ge_p
->
√xt_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

530 
c⁄ãxt_p
->
°ack
.
fú°_p
 = 
∑ge_p
;

532 
	`mem˝y
 (
∑ge_p
->
byãs
, 
byãs_p
, 
Àngth
);

533 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 = 
Àngth
;

534 
	}
}

540 
	$∑r£r_°ack_p›
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

541 *
d©a_p
,

542 
uöt32_t
 
Àngth
)

544 
uöt8_t
 *
byãs_p
 = (uöt8_à*Ë
d©a_p
;

545 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

547 
	`JERRY_ASSERT
 (
Àngth
 < 
PARSER_STACK_PAGE_SIZE
 &&Üength > 0);

549 i‡(
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 > 
Àngth
)

551 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 -
Àngth
;

552 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1];

554 i‡(
byãs_p
 !
NULL
)

556 
	`mem˝y
 (
byãs_p
, 
c⁄ãxt_p
->
°ack
.
fú°_p
->
byãs
 + c⁄ãxt_p->°ack.
œ°_posôi⁄
, 
Àngth
);

561 
	`JERRY_ASSERT
 (
∑ge_p
->
√xt_p
 !
NULL
);

563 
Àngth
 -
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
;

565 i‡(
byãs_p
 !
NULL
)

567 
	`mem˝y
 (
byãs_p
 + 
Àngth
, 
∑ge_p
->
byãs
, 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
);

570 
c⁄ãxt_p
->
°ack
.
fú°_p
 = 
∑ge_p
->
√xt_p
;

571 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 = 
PARSER_STACK_PAGE_SIZE
 - 
Àngth
;

572 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
∑ge_p
->
√xt_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1];

574 i‡(
byãs_p
 !
NULL
 && 
Àngth
 > 0)

576 
	`mem˝y
 (
byãs_p
, 
∑ge_p
->
√xt_p
->
byãs
 + 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
, 
Àngth
);

579 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 > 0);

581 i‡(
c⁄ãxt_p
->
‰ì_∑ge_p
 =
NULL
)

583 
c⁄ãxt_p
->
‰ì_∑ge_p
 = 
∑ge_p
;

587 
	`∑r£r_‰ì
 (
∑ge_p
,

588  (
∑r£r_mem_∑ge_t
 *Ë+ 
PARSER_STACK_PAGE_SIZE
);

590 
	}
}

596 
	$∑r£r_°ack_ôî©‹_skù
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
,

597 
size_t
 
Àngth
)

599 
	`JERRY_ASSERT
 (
Àngth
 < 
PARSER_STACK_PAGE_SIZE
 &&Üength > 0);

601 i‡(
Àngth
 < 
ôî©‹
->
cuºít_posôi⁄
)

603 
ôî©‹
->
cuºít_posôi⁄
 -
Àngth
;

607 
ôî©‹
->
cuºít_posôi⁄
 = 
PARSER_STACK_PAGE_SIZE
 - (
Àngth
 - iterator->current_position);

608 
ôî©‹
->
cuºít_p
 = iãøt‹->cuºít_p->
√xt_p
;

610 
	}
}

616 
	$∑r£r_°ack_ôî©‹_ªad
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
,

617 *
d©a_p
,

618 
size_t
 
Àngth
)

620 
uöt8_t
 *
byãs_p
 = (uöt8_à*Ë
d©a_p
;

622 
	`JERRY_ASSERT
 (
Àngth
 < 
PARSER_STACK_PAGE_SIZE
 &&Üength > 0);

624 i‡(
Àngth
 <
ôî©‹
->
cuºít_posôi⁄
)

626 
	`mem˝y
 (
byãs_p
,

627 
ôî©‹
->
cuºít_p
->
byãs
 + iãøt‹->
cuºít_posôi⁄
 - 
Àngth
,

628 
Àngth
);

632 
	`JERRY_ASSERT
 (
ôî©‹
->
cuºít_p
->
√xt_p
 !
NULL
);

634 
Àngth
 -
ôî©‹
->
cuºít_posôi⁄
;

635 
	`mem˝y
 (
byãs_p
 + 
Àngth
,

636 
ôî©‹
->
cuºít_p
->
byãs
,

637 
ôî©‹
->
cuºít_posôi⁄
);

638 
	`mem˝y
 (
byãs_p
,

639 
ôî©‹
->
cuºít_p
->
√xt_p
->
byãs
 + 
PARSER_STACK_PAGE_SIZE
 - 
Àngth
,

640 
Àngth
);

642 
	}
}

648 
	$∑r£r_°ack_ôî©‹_wrôe
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
,

649 c⁄° *
d©a_p
,

650 
size_t
 
Àngth
)

652 c⁄° 
uöt8_t
 *
byãs_p
 = (c⁄° uöt8_à*Ë
d©a_p
;

654 
	`JERRY_ASSERT
 (
Àngth
 < 
PARSER_STACK_PAGE_SIZE
 &&Üength > 0);

656 i‡(
Àngth
 <
ôî©‹
->
cuºít_posôi⁄
)

658 
	`mem˝y
 (
ôî©‹
->
cuºít_p
->
byãs
 + iãøt‹->
cuºít_posôi⁄
 - 
Àngth
,

659 
byãs_p
,

660 
Àngth
);

664 
	`JERRY_ASSERT
 (
ôî©‹
->
cuºít_p
->
√xt_p
 !
NULL
);

666 
Àngth
 -
ôî©‹
->
cuºít_posôi⁄
;

667 
	`mem˝y
 (
ôî©‹
->
cuºít_p
->
byãs
,

668 
byãs_p
 + 
Àngth
,

669 
ôî©‹
->
cuºít_posôi⁄
);

670 
	`mem˝y
 (
ôî©‹
->
cuºít_p
->
√xt_p
->
byãs
 + 
PARSER_STACK_PAGE_SIZE
 - 
Àngth
,

671 
byãs_p
,

672 
Àngth
);

674 
	}
}

	@deps/jerry/jerry-core/parser/js/js-parser-scanner.c

16 
	~"js-∑r£r-öã∫Æ.h
"

18 #i‡
JERRY_JS_PARSER


35 
	mSCAN_MODE_PRIMARY_EXPRESSION
,

36 
	mSCAN_MODE_PRIMARY_EXPRESSION_AFTER_NEW
,

37 
	mSCAN_MODE_POST_PRIMARY_EXPRESSION
,

38 
	mSCAN_MODE_PRIMARY_EXPRESSION_END
,

39 
	mSCAN_MODE_STATEMENT
,

40 
	mSCAN_MODE_FUNCTION_ARGUMENTS
,

41 
	mSCAN_MODE_PROPERTY_NAME
,

42 } 
	tsˇn_modes_t
;

49 
	mSCAN_STACK_HEAD
,

50 
	mSCAN_STACK_PAREN_EXPRESSION
,

51 
	mSCAN_STACK_PAREN_STATEMENT
,

52 
	mSCAN_STACK_COLON_EXPRESSION
,

53 
	mSCAN_STACK_COLON_STATEMENT
,

54 
	mSCAN_STACK_SQUARE_BRACKETED_EXPRESSION
,

55 
	mSCAN_STACK_OBJECT_LITERAL
,

56 
	mSCAN_STACK_BLOCK_STATEMENT
,

57 
	mSCAN_STACK_BLOCK_EXPRESSION
,

58 
	mSCAN_STACK_BLOCK_PROPERTY
,

59 } 
	tsˇn_°ack_modes_t
;

66 
boﬁ


67 
	$∑r£r_sˇn_¥im¨y_ex¥essi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

68 
Àxî_tokí_ty≥_t
 
ty≥
,

69 
sˇn_°ack_modes_t
 
°ack_t›
,

70 
sˇn_modes_t
 *
mode
)

72 
ty≥
)

74 
LEXER_KEYW_NEW
:

76 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION_AFTER_NEW
;

79 
LEXER_DIVIDE
:

80 
LEXER_ASSIGN_DIVIDE
:

82 
	`Àxî_c⁄°ru˘_ªgexp_obje˘
 (
c⁄ãxt_p
, 
åue
);

83 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

86 
LEXER_KEYW_FUNCTION
:

88 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_BLOCK_EXPRESSION
);

89 *
mode
 = 
SCAN_MODE_FUNCTION_ARGUMENTS
;

92 
LEXER_LEFT_PAREN
:

94 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_PAREN_EXPRESSION
);

95 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

98 
LEXER_LEFT_SQUARE
:

100 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_SQUARE_BRACKETED_EXPRESSION
);

101 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

104 
LEXER_LEFT_BRACE
:

106 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_OBJECT_LITERAL
);

107 *
mode
 = 
SCAN_MODE_PROPERTY_NAME
;

108  
åue
;

110 
LEXER_LITERAL
:

111 
LEXER_KEYW_THIS
:

112 
LEXER_LIT_TRUE
:

113 
LEXER_LIT_FALSE
:

114 
LEXER_LIT_NULL
:

116 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

119 
LEXER_RIGHT_SQUARE
:

121 i‡(
°ack_t›
 !
SCAN_STACK_SQUARE_BRACKETED_EXPRESSION
)

123 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PRIMARY_EXP_EXPECTED
);

125 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

126 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

129 
LEXER_COMMA
:

131 i‡(
°ack_t›
 !
SCAN_STACK_SQUARE_BRACKETED_EXPRESSION
)

133 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PRIMARY_EXP_EXPECTED
);

135 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

138 
LEXER_RIGHT_PAREN
:

140 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

141 i‡(
°ack_t›
 =
SCAN_STACK_PAREN_STATEMENT
)

143 *
mode
 = 
SCAN_MODE_STATEMENT
;

145 i‡(
°ack_t›
 !
SCAN_STACK_PAREN_EXPRESSION
)

147 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PRIMARY_EXP_EXPECTED
);

150 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

153 
LEXER_SEMICOLON
:

156 i‡(
°ack_t›
 !
SCAN_STACK_PAREN_STATEMENT
)

158 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PRIMARY_EXP_EXPECTED
);

160 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

165 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_PRIMARY_EXP_EXPECTED
);

168  
Ál£
;

169 
	}
}

176 
boﬁ


177 
	$∑r£r_sˇn_po°_¥im¨y_ex¥essi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

178 
Àxî_tokí_ty≥_t
 
ty≥
,

179 
sˇn_modes_t
 *
mode
)

181 
ty≥
)

183 
LEXER_DOT
:

185 
	`Àxî_sˇn_idítifõr
 (
c⁄ãxt_p
, 
Ál£
);

186  
åue
;

188 
LEXER_LEFT_PAREN
:

190 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_PAREN_EXPRESSION
);

191 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

192  
åue
;

194 
LEXER_LEFT_SQUARE
:

196 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_SQUARE_BRACKETED_EXPRESSION
);

197 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

198  
åue
;

200 
LEXER_INCREASE
:

201 
LEXER_DECREASE
:

203 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe
)

205 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION_END
;

206  
åue
;

216  
Ál£
;

217 
	}
}

224 
boﬁ


225 
	$∑r£r_sˇn_¥im¨y_ex¥essi⁄_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

226 
Àxî_tokí_ty≥_t
 
ty≥
,

227 
sˇn_°ack_modes_t
 
°ack_t›
,

228 
Àxî_tokí_ty≥_t
 
íd_ty≥
,

229 
sˇn_modes_t
 *
mode
)

231 
ty≥
)

233 
LEXER_QUESTION_MARK
:

235 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_COLON_EXPRESSION
);

236 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

237  
Ál£
;

239 
LEXER_COMMA
:

241 i‡(
°ack_t›
 =
SCAN_STACK_OBJECT_LITERAL
)

243 *
mode
 = 
SCAN_MODE_PROPERTY_NAME
;

244  
åue
;

246 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

247  
Ál£
;

249 
LEXER_COLON
:

251 i‡(
°ack_t›
 =
SCAN_STACK_COLON_EXPRESSION


252 || 
°ack_t›
 =
SCAN_STACK_COLON_STATEMENT
)

254 i‡(
°ack_t›
 =
SCAN_STACK_COLON_EXPRESSION
)

256 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

260 *
mode
 = 
SCAN_MODE_STATEMENT
;

262 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

263  
Ál£
;

273 i‡(
	`LEXER_IS_BINARY_OP_TOKEN
 (
ty≥
)

274 || (
ty≥
 =
LEXER_SEMICOLON
 && 
°ack_t›
 =
SCAN_STACK_PAREN_STATEMENT
))

276 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

277  
Ál£
;

280 i‡((
ty≥
 =
LEXER_RIGHT_SQUARE
 && 
°ack_t›
 =
SCAN_STACK_SQUARE_BRACKETED_EXPRESSION
)

281 || (
ty≥
 =
LEXER_RIGHT_PAREN
 && 
°ack_t›
 =
SCAN_STACK_PAREN_EXPRESSION
)

282 || (
ty≥
 =
LEXER_RIGHT_BRACE
 && 
°ack_t›
 =
SCAN_STACK_OBJECT_LITERAL
))

284 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

285 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

286  
Ál£
;

289 *
mode
 = 
SCAN_MODE_STATEMENT
;

290 i‡(
ty≥
 =
LEXER_RIGHT_PAREN
 && 
°ack_t›
 =
SCAN_STACK_PAREN_STATEMENT
)

292 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

293  
Ál£
;

297 i‡(
°ack_t›
 !
SCAN_STACK_BLOCK_STATEMENT


298 && 
°ack_t›
 !
SCAN_STACK_BLOCK_EXPRESSION


299 && !(
°ack_t›
 =
SCAN_STACK_HEAD
 && 
íd_ty≥
 =
LEXER_SCAN_SWITCH
))

301 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_EXPRESSION
);

304 i‡(
ty≥
 =
LEXER_RIGHT_BRACE


305 || 
c⁄ãxt_p
->
tokí
.
was_√wlöe
)

307  
åue
;

310 i‡(
ty≥
 !
LEXER_SEMICOLON
)

312 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_EXPRESSION
);

315  
Ál£
;

316 
	}
}

323 
boﬁ


324 
	$∑r£r_sˇn_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

325 
Àxî_tokí_ty≥_t
 
ty≥
,

326 
sˇn_°ack_modes_t
 
°ack_t›
,

327 
sˇn_modes_t
 *
mode
)

329 
ty≥
)

331 
LEXER_SEMICOLON
:

332 
LEXER_KEYW_ELSE
:

333 
LEXER_KEYW_DO
:

334 
LEXER_KEYW_TRY
:

335 
LEXER_KEYW_FINALLY
:

336 
LEXER_KEYW_DEBUGGER
:

338  
Ál£
;

340 
LEXER_KEYW_IF
:

341 
LEXER_KEYW_WHILE
:

342 
LEXER_KEYW_WITH
:

343 
LEXER_KEYW_SWITCH
:

344 
LEXER_KEYW_CATCH
:

346 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

347 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

349 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_PAREN_EXPECTED
);

352 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_PAREN_STATEMENT
);

353 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

354  
Ál£
;

356 
LEXER_KEYW_FOR
:

358 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

359 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

361 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_PAREN_EXPECTED
);

364 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

365 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_PAREN_STATEMENT
);

366 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

368 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_VAR
)

370  
Ál£
;

372  
åue
;

374 
LEXER_KEYW_VAR
:

375 
LEXER_KEYW_THROW
:

377 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

378  
Ál£
;

380 
LEXER_KEYW_RETURN
:

382 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

383 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe


384 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_SEMICOLON
)

386 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

388  
åue
;

390 
LEXER_KEYW_BREAK
:

391 
LEXER_KEYW_CONTINUE
:

393 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

394 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe


395 && 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


396 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
)

398  
Ál£
;

400  
åue
;

402 
LEXER_KEYW_DEFAULT
:

404 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

405 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COLON
)

407 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_COLON_EXPECTED
);

409  
Ál£
;

411 
LEXER_KEYW_CASE
:

413 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_COLON_STATEMENT
);

414 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

415  
Ál£
;

417 
LEXER_RIGHT_BRACE
:

419 i‡(
°ack_t›
 =
SCAN_STACK_BLOCK_STATEMENT


420 || 
°ack_t›
 =
SCAN_STACK_BLOCK_EXPRESSION


421 || 
°ack_t›
 =
SCAN_STACK_BLOCK_PROPERTY
)

423 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

425 i‡(
°ack_t›
 =
SCAN_STACK_BLOCK_EXPRESSION
)

427 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

429 i‡(
°ack_t›
 =
SCAN_STACK_BLOCK_PROPERTY
)

431 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

432 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

433 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COMMA


434 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_BRACE
)

436 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_OBJECT_ITEM_SEPARATOR_EXPECTED
);

438  
åue
;

440  
Ál£
;

444 
LEXER_LEFT_BRACE
:

446 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_BLOCK_STATEMENT
);

447  
Ál£
;

449 
LEXER_KEYW_FUNCTION
:

451 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_BLOCK_STATEMENT
);

452 *
mode
 = 
SCAN_MODE_FUNCTION_ARGUMENTS
;

453  
Ál£
;

461 *
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

463 i‡(
ty≥
 =
LEXER_LITERAL


464 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
)

466 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

467 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_COLON
)

469 *
mode
 = 
SCAN_MODE_STATEMENT
;

470  
Ál£
;

472 *
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

475  
åue
;

476 
	}
}

482 
	$∑r£r_sˇn_u¡û
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

483 
Àxî_ønge_t
 *
ønge_p
,

484 
Àxî_tokí_ty≥_t
 
íd_ty≥
)

486 
sˇn_modes_t
 
mode
;

487 
Àxî_tokí_ty≥_t
 
íd_ty≥_b
 = 
íd_ty≥
;

489 
ønge_p
->
sour˚_p
 = 
c⁄ãxt_p
->source_p;

490 
ønge_p
->
sour˚_íd_p
 = 
c⁄ãxt_p
->
sour˚_p
;

491 
ønge_p
->
löe
 = 
c⁄ãxt_p
->line;

492 
ønge_p
->
cﬁumn
 = 
c⁄ãxt_p
->column;

494 
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

496 i‡(
íd_ty≥
 =
LEXER_KEYW_CASE
)

498 
íd_ty≥
 = 
LEXER_SCAN_SWITCH
;

499 
íd_ty≥_b
 = 
LEXER_SCAN_SWITCH
;

500 
mode
 = 
SCAN_MODE_STATEMENT
;

504 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

506 i‡(
íd_ty≥
 =
LEXER_KEYW_IN
)

508 
íd_ty≥_b
 = 
LEXER_SEMICOLON
;

509 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_VAR
)

511 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

516 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_HEAD
);

518 
åue
)

520 
Àxî_tokí_ty≥_t
 
ty≥
 = (Àxî_tokí_ty≥_tË
c⁄ãxt_p
->
tokí
.type;

521 
sˇn_°ack_modes_t
 
°ack_t›
 = (sˇn_°ack_modes_tË
c⁄ãxt_p
->
°ack_t›_uöt8
;

523 i‡(
ty≥
 =
LEXER_EOS
)

525 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_EXPRESSION_EXPECTED
);

528 i‡(
°ack_t›
 =
SCAN_STACK_HEAD


529 && (
ty≥
 =
íd_ty≥
 ||Åy≥ =
íd_ty≥_b
))

531 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

535 
mode
)

537 
SCAN_MODE_PRIMARY_EXPRESSION
:

539 i‡(
ty≥
 =
LEXER_ADD


540 || 
ty≥
 =
LEXER_SUBTRACT


541 || 
	`LEXER_IS_UNARY_OP_TOKEN
 (
ty≥
))

547 
SCAN_MODE_PRIMARY_EXPRESSION_AFTER_NEW
:

549 i‡(
	`∑r£r_sˇn_¥im¨y_ex¥essi⁄
 (
c⁄ãxt_p
, 
ty≥
, 
°ack_t›
, &
mode
))

555 
SCAN_MODE_POST_PRIMARY_EXPRESSION
:

557 i‡(
	`∑r£r_sˇn_po°_¥im¨y_ex¥essi⁄
 (
c⁄ãxt_p
, 
ty≥
, &
mode
))

563 
SCAN_MODE_PRIMARY_EXPRESSION_END
:

565 i‡(
	`∑r£r_sˇn_¥im¨y_ex¥essi⁄_íd
 (
c⁄ãxt_p
, 
ty≥
, 
°ack_t›
, 
íd_ty≥
, &
mode
))

571 
SCAN_MODE_STATEMENT
:

573 i‡(
íd_ty≥
 =
LEXER_SCAN_SWITCH


574 && 
°ack_t›
 =
SCAN_STACK_HEAD


575 && (
ty≥
 =
LEXER_KEYW_DEFAULT
 ||Åy≥ =
LEXER_KEYW_CASE
 ||Åy≥ =
LEXER_RIGHT_BRACE
))

577 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

581 i‡(
	`∑r£r_sˇn_°©emít
 (
c⁄ãxt_p
, 
ty≥
, 
°ack_t›
, &
mode
))

587 
SCAN_MODE_FUNCTION_ARGUMENTS
:

589 
	`JERRY_ASSERT
 (
°ack_t›
 =
SCAN_STACK_BLOCK_STATEMENT


590 || 
°ack_t›
 =
SCAN_STACK_BLOCK_EXPRESSION


591 || 
°ack_t›
 =
SCAN_STACK_BLOCK_PROPERTY
);

593 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


594 && (
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL


595 || 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_NUMBER_LITERAL
))

597 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

600 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

602 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_ARGUMENT_LIST_EXPECTED
);

604 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

606 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

608 
åue
)

610 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LITERAL


611 || 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 !
LEXER_IDENT_LITERAL
)

613 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IDENTIFIER_EXPECTED
);

615 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

617 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COMMA
)

621 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

625 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

627 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

630 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

632 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE
)

634 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_BRACE_EXPECTED
);

636 
mode
 = 
SCAN_MODE_STATEMENT
;

639 
SCAN_MODE_PROPERTY_NAME
:

641 
	`JERRY_ASSERT
 (
°ack_t›
 =
SCAN_STACK_OBJECT_LITERAL
);

643 
	`Àxî_sˇn_idítifõr
 (
c⁄ãxt_p
, 
åue
);

645 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

647 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

648 
mode
 = 
SCAN_MODE_POST_PRIMARY_EXPRESSION
;

652 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_PROPERTY_GETTER


653 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_PROPERTY_SETTER
)

655 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
SCAN_STACK_BLOCK_PROPERTY
);

656 
mode
 = 
SCAN_MODE_FUNCTION_ARGUMENTS
;

660 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

661 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COLON
)

663 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_COLON_EXPECTED
);

666 
mode
 = 
SCAN_MODE_PRIMARY_EXPRESSION
;

671 
ønge_p
->
sour˚_íd_p
 = 
c⁄ãxt_p
->
sour˚_p
;

672 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

674 
	}
}

	@deps/jerry/jerry-core/parser/js/js-parser-statm.c

16 
	~"js-∑r£r-öã∫Æ.h
"

18 #i‡
JERRY_JS_PARSER


20 #ifde‡
JERRY_DEBUGGER


21 
	~"jc⁄ãxt.h
"

35 
	#PARSER_USE_STRICT_LITERAL
 "u£ såi˘"

	)

36 
	#PARSER_USE_STRICT_LENGTH
 10

	)

54 
	mPARSER_STATEMENT_START
,

55 
	mPARSER_STATEMENT_BLOCK
,

56 
	mPARSER_STATEMENT_LABEL
,

57 
	mPARSER_STATEMENT_IF
,

58 
	mPARSER_STATEMENT_ELSE
,

60 
	mPARSER_STATEMENT_SWITCH
,

61 
	mPARSER_STATEMENT_SWITCH_NO_DEFAULT
,

63 
	mPARSER_STATEMENT_DO_WHILE
,

64 
	mPARSER_STATEMENT_WHILE
,

65 
	mPARSER_STATEMENT_FOR
,

69 
	mPARSER_STATEMENT_FOR_IN
,

70 
	mPARSER_STATEMENT_WITH
,

71 
	mPARSER_STATEMENT_TRY
,

72 } 
	t∑r£r_°©emít_ty≥_t
;

79 
∑r£r_bønch_node_t
 *
	mbønch_li°_p
;

80 } 
	t∑r£r_lo›_°©emít_t
;

87 
Àxî_lô_loˇti⁄_t
 
	mœbñ_idít
;

88 
∑r£r_bønch_node_t
 *
	mbªak_li°_p
;

89 } 
	t∑r£r_œbñ_°©emít_t
;

96 
∑r£r_bønch_t
 
	mbønch
;

97 } 
	t∑r£r_if_ñ£_°©emít_t
;

104 
∑r£r_bønch_t
 
	mdeÁu…_bønch
;

105 
∑r£r_bønch_node_t
 *
	mbønch_li°_p
;

106 } 
	t∑r£r_swôch_°©emít_t
;

113 
uöt32_t
 
	m°¨t_off£t
;

114 } 
	t∑r£r_do_whûe_°©emít_t
;

121 
∑r£r_bønch_t
 
	mbønch
;

122 
Àxî_ønge_t
 
	mc⁄dôi⁄_ønge
;

123 
uöt32_t
 
	m°¨t_off£t
;

124 } 
	t∑r£r_whûe_°©emít_t
;

131 
∑r£r_bønch_t
 
	mbønch
;

132 
Àxî_ønge_t
 
	mc⁄dôi⁄_ønge
;

133 
Àxî_ønge_t
 
	mex¥essi⁄_ønge
;

134 
uöt32_t
 
	m°¨t_off£t
;

135 } 
	t∑r£r_f‹_°©emít_t
;

142 
∑r£r_bønch_t
 
	mbønch
;

143 
uöt32_t
 
	m°¨t_off£t
;

144 } 
	t∑r£r_f‹_ö_°©emít_t
;

151 
∑r£r_bønch_t
 
	mbønch
;

152 } 
	t∑r£r_wôh_°©emít_t
;

159 
	m∑r£r_åy_block
,

160 
	m∑r£r_ˇtch_block
,

161 
	m∑r£r_föÆly_block
,

162 } 
	t∑r£r_åy_block_ty≥_t
;

169 
∑r£r_åy_block_ty≥_t
 
	mty≥
;

170 
∑r£r_bønch_t
 
	mbønch
;

171 } 
	t∑r£r_åy_°©emít_t
;

179 
ölöe
 
size_t


180 
	$∑r£r_°©emít_Àngth
 (
uöt8_t
 
ty≥
)

182 c⁄° 
uöt8_t
 
°©emít_Àngths
[12] =

187 (
uöt8_t
Ë( (
∑r£r_œbñ_°©emít_t
) + 1),

189 (
uöt8_t
Ë( (
∑r£r_if_ñ£_°©emít_t
) + 1),

191 (
uöt8_t
Ë( (
∑r£r_if_ñ£_°©emít_t
) + 1),

193 (
uöt8_t
Ë( (
∑r£r_swôch_°©emít_t
Ë+  (
∑r£r_lo›_°©emít_t
) + 1),

195 (
uöt8_t
Ë( (
∑r£r_swôch_°©emít_t
Ë+  (
∑r£r_lo›_°©emít_t
) + 1),

197 (
uöt8_t
Ë( (
∑r£r_do_whûe_°©emít_t
Ë+  (
∑r£r_lo›_°©emít_t
) + 1),

199 (
uöt8_t
Ë( (
∑r£r_whûe_°©emít_t
Ë+  (
∑r£r_lo›_°©emít_t
) + 1),

201 (
uöt8_t
Ë( (
∑r£r_f‹_°©emít_t
Ë+  (
∑r£r_lo›_°©emít_t
) + 1),

203 (
uöt8_t
Ë( (
∑r£r_f‹_ö_°©emít_t
Ë+  (
∑r£r_lo›_°©emít_t
) + 1),

205 (
uöt8_t
Ë( (
∑r£r_wôh_°©emít_t
) + 1),

207 (
uöt8_t
Ë( (
∑r£r_åy_°©emít_t
) + 1),

210 
	`JERRY_ASSERT
 (
ty≥
 >
PARSER_STATEMENT_BLOCK
 &&Åy≥ <
PARSER_STATEMENT_TRY
);

211 
	`JERRY_ASSERT
 (
PARSER_STATEMENT_TRY
 - 
PARSER_STATEMENT_BLOCK
 == 11);

213  
°©emít_Àngths
[
ty≥
 - 
PARSER_STATEMENT_BLOCK
];

214 
	}
}

219 
ölöe
 

220 
	$∑r£r_ßve_ønge
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

221 
Àxî_ønge_t
 *
ønge_p
,

222 c⁄° 
uöt8_t
 *
sour˚_íd_p
)

224 
ønge_p
->
sour˚_p
 = 
c⁄ãxt_p
->source_p;

225 
ønge_p
->
sour˚_íd_p
 = source_end_p;

226 
ønge_p
->
löe
 = 
c⁄ãxt_p
->line;

227 
ønge_p
->
cﬁumn
 = 
c⁄ãxt_p
->column;

228 
	}
}

233 
ölöe
 

234 
	$∑r£r_£t_ønge
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

235 
Àxî_ønge_t
 *
ønge_p
)

237 
c⁄ãxt_p
->
sour˚_p
 = 
ønge_p
->source_p;

238 
c⁄ãxt_p
->
sour˚_íd_p
 = 
ønge_p
->source_end_p;

239 
c⁄ãxt_p
->
löe
 = 
ønge_p
->line;

240 
c⁄ãxt_p
->
cﬁumn
 = 
ønge_p
->column;

241 
	}
}

246 
ölöe
 

247 
	$∑r£r_°ack_ôî©‹_öô
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

248 
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
)

250 
ôî©‹
->
cuºít_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

251 
ôî©‹
->
cuºít_posôi⁄
 = 
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
;

252 
	}
}

257 
ölöe
 
uöt8_t


258 
	$∑r£r_°ack_ôî©‹_ªad_uöt8
 (
∑r£r_°ack_ôî©‹_t
 *
ôî©‹
)

260 
	`JERRY_ASSERT
 (
ôî©‹
->
cuºít_posôi⁄
 > 0 && iãøt‹->cuºít_posôi⁄ <
PARSER_STACK_PAGE_SIZE
);

261  
ôî©‹
->
cuºít_p
->
byãs
[ôî©‹->
cuºít_posôi⁄
 - 1];

262 
	}
}

267 
ölöe
 

268 
	$∑r£r_°ack_ch™ge_œ°_uöt8
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

269 
uöt8_t
 
√w_vÆue
)

271 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
°ack
.
fú°_p
;

273 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL


274 && 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
∑ge_p
->
byãs
[c⁄ãxt_p->
°ack
.
œ°_posôi⁄
 - 1]);

276 
∑ge_p
->
byãs
[
c⁄ãxt_p
->
°ack
.
œ°_posôi⁄
 - 1] = 
√w_vÆue
;

277 
c⁄ãxt_p
->
°ack_t›_uöt8
 = 
√w_vÆue
;

278 
	}
}

283 
ölöe
 

284 
	$∑r£r_∑r£_í˛o£d_ex¥
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

286 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

288 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

290 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_PAREN_EXPECTED
);

293 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

294 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

296 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

298 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

300 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

301 
	}
}

307 
	$∑r£r_∑r£_v¨_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

309 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_VAR
);

311 
åue
)

313 
	`Àxî_ex≥˘_idítifõr
 (
c⁄ãxt_p
, 
LEXER_IDENT_LITERAL
);

314 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


315 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
);

317 #ifde‡
JERRY_DEBUGGER


318 
∑r£r_löe_cou¡î_t
 
idít_löe_cou¡î
 = 
c⁄ãxt_p
->
tokí
.
löe
;

321 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_VAR
;

323 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
CBC_PUSH_LITERAL
);

325 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

327 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_ASSIGN
)

329 #ifde‡
JERRY_DEBUGGER


330 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

331 && 
idít_löe_cou¡î
 !
c⁄ãxt_p
->
œ°_bªakpoöt_löe
)

333 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
);

335 
cbc_¨gumít_t
 
œ°_cbc
 = 
c⁄ãxt_p
->last_cbc;

336 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

338 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_BREAKPOINT_DISABLED
);

339 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

341 
	`∑r£r_≠≥nd_bªakpoöt_öfo
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_LIST
, 
idít_löe_cou¡î
);

343 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_LITERAL
;

344 
c⁄ãxt_p
->
œ°_cbc
 =Üast_cbc;

346 
c⁄ãxt_p
->
œ°_bªakpoöt_löe
 = 
idít_löe_cou¡î
;

350 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
,

351 
PARSE_EXPR_STATEMENT
 | 
PARSE_EXPR_NO_COMMA
 | 
PARSE_EXPR_HAS_LITERAL
);

355 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL


356 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
);

358 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

361 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COMMA
)

366 
	}
}

372 
	$∑r£r_∑r£_fun˘i⁄_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

374 
uöt32_t
 
°©us_Êags
;

375 
Àxî_lôîÆ_t
 *
«me_p
;

376 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

377 
uöt8_t
 
no_ªg_°‹e
;

379 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_FUNCTION
);

381 #ifde‡
JERRY_DEBUGGER


382 
∑r£r_löe_cou¡î_t
 
debuggî_löe
 = 
c⁄ãxt_p
->
tokí
.
löe
;

383 
∑r£r_löe_cou¡î_t
 
debuggî_cﬁumn
 = 
c⁄ãxt_p
->
tokí
.
cﬁumn
;

386 
	`Àxî_ex≥˘_idítifõr
 (
c⁄ãxt_p
, 
LEXER_IDENT_LITERAL
);

387 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


388 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
);

390 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
)

392 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_ARGUMENTS_NOT_NEEDED
;

395 
«me_p
 = 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
;

397 
°©us_Êags
 = 
PARSER_IS_FUNCTION
 | 
PARSER_IS_CLOSURE
;

398 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

400 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 =
LEXER_LITERAL_OBJECT_EVAL


401 || 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
);

402 
°©us_Êags
 |
PARSER_HAS_NON_STRICT_ARG
;

405 #ifde‡
JERRY_DEBUGGER


406 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

408 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_FUNCTION_NAME
,

409 
JERRY_DEBUGGER_NO_SUBTYPE
,

410 
«me_p
->
u
.
ch¨_p
,

411 
«me_p
->
¥›
.
Àngth
);

414 
c⁄ãxt_p
->
tokí
.
löe
 = 
debuggî_löe
;

415 
c⁄ãxt_p
->
tokí
.
cﬁumn
 = 
debuggî_cﬁumn
;

419 i‡(
«me_p
->
°©us_Êags
 & 
LEXER_FLAG_INITIALIZED
)

421 i‡(!(
«me_p
->
°©us_Êags
 & (
LEXER_FLAG_FUNCTION_NAME
 | 
LEXER_FLAG_FUNCTION_ARGUMENT
)))

424 
ecma_compûed_code_t
 *
compûed_code_p
;

426 
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 ((
size_t
Ë(
c⁄ãxt_p
->
lô_obje˘
.
ödex
 + 1));

428 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL


429 && 
lôîÆ_p
->
°©us_Êags
 == 0);

431 
compûed_code_p
 = 
	`∑r£r_∑r£_fun˘i⁄
 (
c⁄ãxt_p
, 
°©us_Êags
);

432 
	`utû_‰ì_lôîÆ
 (
lôîÆ_p
);

434 
lôîÆ_p
->
u
.
byãcode_p
 = 
compûed_code_p
;

435 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

439 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ödex
 + 1 =c⁄ãxt_p->
lôîÆ_cou¡
)

442 
«me_p
->
°©us_Êags
 |
LEXER_FLAG_VAR
 | 
LEXER_FLAG_INITIALIZED
;

443 
	`Àxî_c⁄°ru˘_fun˘i⁄_obje˘
 (
c⁄ãxt_p
, 
°©us_Êags
);

444 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

449 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

451 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

454 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &c⁄ãxt_p->
lôîÆ_poﬁ
);

455 *
lôîÆ_p
 = *
«me_p
;

456 
no_ªg_°‹e
 = 
«me_p
->
°©us_Êags
 & (
LEXER_FLAG_NO_REG_STORE
 | 
LEXER_FLAG_SOURCE_PTR
);

457 
lôîÆ_p
->
°©us_Êags
 = 
LEXER_FLAG_VAR
 | 
LEXER_FLAG_INITIALIZED
 | 
no_ªg_°‹e
;

459 
«me_p
->
ty≥
 = 
LEXER_UNUSED_LITERAL
;

460 
«me_p
->
°©us_Êags
 &
LEXER_FLAG_FUNCTION_ARGUMENT
 | 
LEXER_FLAG_SOURCE_PTR
;

463 
«me_p
->
¥›
.
ödex
 = 
c⁄ãxt_p
->
lôîÆ_cou¡
;

465 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

467 
	`Àxî_c⁄°ru˘_fun˘i⁄_obje˘
 (
c⁄ãxt_p
, 
°©us_Êags
);

468 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

469 
	}
}

475 
	$∑r£r_∑r£_if_°©emít_°¨t
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

477 
∑r£r_if_ñ£_°©emít_t
 
if_°©emít
;

479 
	`∑r£r_∑r£_í˛o£d_ex¥
 (
c⁄ãxt_p
);

481 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
,

482 
CBC_BRANCH_IF_FALSE_FORWARD
,

483 &
if_°©emít
.
bønch
);

485 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
if_°©emít
,  (
∑r£r_if_ñ£_°©emít_t
));

486 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_IF
);

487 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

488 
	}
}

493 
boﬁ


494 
	$∑r£r_∑r£_if_°©emít_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

496 
∑r£r_if_ñ£_°©emít_t
 
if_°©emít
;

497 
∑r£r_if_ñ£_°©emít_t
 
ñ£_°©emít
;

498 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

500 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_IF
);

502 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_ELSE
)

504 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

505 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
if_°©emít
,  (
∑r£r_if_ñ£_°©emít_t
));

506 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

508 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
if_°©emít
.
bønch
);

510  
Ál£
;

513 
	`∑r£r_°ack_ch™ge_œ°_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_ELSE
);

514 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

515 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

516 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
if_°©emít
,  (
∑r£r_if_ñ£_°©emít_t
));

518 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
,

519 
CBC_JUMP_FORWARD
,

520 &
ñ£_°©emít
.
bønch
);

522 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
if_°©emít
.
bønch
);

524 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
ñ£_°©emít
,  (
∑r£r_if_ñ£_°©emít_t
));

526 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

527  
åue
;

528 
	}
}

534 
	$∑r£r_∑r£_wôh_°©emít_°¨t
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

536 
∑r£r_wôh_°©emít_t
 
wôh_°©emít
;

538 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

540 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_WITH_NOT_ALLOWED
);

543 
	`∑r£r_∑r£_í˛o£d_ex¥
 (
c⁄ãxt_p
);

545 #i‚de‡
JERRY_NDEBUG


546 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_WITH_CONTEXT_STACK_ALLOCATION
);

549 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_INSIDE_WITH
 | 
PARSER_LEXICAL_ENV_NEEDED
;

550 
	`∑r£r_emô_cbc_ext_f‹w¨d_bønch
 (
c⁄ãxt_p
,

551 
CBC_EXT_WITH_CREATE_CONTEXT
,

552 &
wôh_°©emít
.
bønch
);

554 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
wôh_°©emít
,  (
∑r£r_wôh_°©emít_t
));

555 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_WITH
);

556 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

557 
	}
}

563 
	$∑r£r_∑r£_wôh_°©emít_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

565 
∑r£r_wôh_°©emít_t
 
wôh_°©emít
;

566 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

568 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_INSIDE_WITH
);

570 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

571 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
wôh_°©emít
,  (
∑r£r_wôh_°©emít_t
));

572 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

574 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

575 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
PARSER_WITH_CONTEXT_STACK_ALLOCATION
);

576 #i‚de‡
JERRY_NDEBUG


577 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_WITH_CONTEXT_STACK_ALLOCATION
);

580 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CONTEXT_END
);

581 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
wôh_°©emít
.
bønch
);

583 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

585 
åue
)

587 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

589 i‡(
ty≥
 =
PARSER_STATEMENT_START
)

591 
c⁄ãxt_p
->
°©us_Êags
 &~
PARSER_INSIDE_WITH
;

595 i‡(
ty≥
 =
PARSER_STATEMENT_WITH
)

600 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

602 
	}
}

608 
	$∑r£r_∑r£_do_whûe_°©emít_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

610 
∑r£r_lo›_°©emít_t
 
lo›
;

612 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_DO_WHILE
);

614 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_WHILE
)

616 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_WHILE_EXPECTED
);

619 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

620 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

622 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

623 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

625 
	`∑r£r_£t_c⁄töues_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

627 
	`∑r£r_∑r£_í˛o£d_ex¥
 (
c⁄ãxt_p
);

629 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
CBC_PUSH_FALSE
)

631 
cbc_›code_t
 
›code
 = 
CBC_BRANCH_IF_TRUE_BACKWARD
;

632 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_LOGICAL_NOT
)

634 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

635 
›code
 = 
CBC_BRANCH_IF_FALSE_BACKWARD
;

637 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TRUE
)

639 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

640 
›code
 = 
CBC_JUMP_BACKWARD
;

643 
∑r£r_do_whûe_°©emít_t
 
do_whûe_°©emít
;

644 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_lo›_°©emít_t
));

645 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
do_whûe_°©emít
,  (
∑r£r_do_whûe_°©emít_t
));

647 
	`∑r£r_emô_cbc_backw¨d_bønch
 (
c⁄ãxt_p
, 
›code
, 
do_whûe_°©emít
.
°¨t_off£t
);

651 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

654 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, 
NULL
, 1 +  (
∑r£r_lo›_°©emít_t
Ë+  (
∑r£r_do_whûe_°©emít_t
));

655 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

657 
	`∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

658 
	}
}

664 
	$∑r£r_∑r£_whûe_°©emít_°¨t
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

666 
∑r£r_whûe_°©emít_t
 
whûe_°©emít
;

667 
∑r£r_lo›_°©emít_t
 
lo›
;

669 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_WHILE
);

670 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

672 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

674 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_PAREN_EXPECTED
);

677 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
CBC_JUMP_FORWARD
, &
whûe_°©emít
.
bønch
);

679 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

680 
whûe_°©emít
.
°¨t_off£t
 = 
c⁄ãxt_p
->
byã_code_size
;

683 
	`∑r£r_sˇn_u¡û
 (
c⁄ãxt_p
, &
whûe_°©emít
.
c⁄dôi⁄_ønge
, 
LEXER_RIGHT_PAREN
);

684 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

686 
lo›
.
bønch_li°_p
 = 
NULL
;

688 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
whûe_°©emít
,  (
∑r£r_whûe_°©emít_t
));

689 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

690 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_WHILE
);

691 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

692 
	}
}

697 
__©å_noölöe___


698 
	$∑r£r_∑r£_whûe_°©emít_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

700 
∑r£r_whûe_°©emít_t
 
whûe_°©emít
;

701 
∑r£r_lo›_°©emít_t
 
lo›
;

702 
Àxî_tokí_t
 
cuºít_tokí
;

703 
Àxî_ønge_t
 
ønge
;

704 
cbc_›code_t
 
›code
;

706 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_WHILE
);

708 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

709 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

711 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

712 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

713 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_lo›_°©emít_t
));

714 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
whûe_°©emít
,  (
∑r£r_whûe_°©emít_t
));

716 
	`∑r£r_ßve_ønge
 (
c⁄ãxt_p
, &
ønge
, c⁄ãxt_p->
sour˚_íd_p
);

717 
cuºít_tokí
 = 
c⁄ãxt_p
->
tokí
;

719 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
whûe_°©emít
.
bønch
);

720 
	`∑r£r_£t_c⁄töues_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

722 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
whûe_°©emít
.
c⁄dôi⁄_ønge
);

723 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

725 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

726 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS
)

728 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_EXPRESSION
);

731 
›code
 = 
CBC_BRANCH_IF_TRUE_BACKWARD
;

732 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_LOGICAL_NOT
)

734 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

735 
›code
 = 
CBC_BRANCH_IF_FALSE_BACKWARD
;

737 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TRUE
)

739 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

740 
›code
 = 
CBC_JUMP_BACKWARD
;

743 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, 
NULL
, 1 +  (
∑r£r_lo›_°©emít_t
Ë+  (
∑r£r_whûe_°©emít_t
));

744 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

746 
	`∑r£r_emô_cbc_backw¨d_bønch
 (
c⁄ãxt_p
, 
›code
, 
whûe_°©emít
.
°¨t_off£t
);

747 
	`∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

749 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
ønge
);

750 
c⁄ãxt_p
->
tokí
 = 
cuºít_tokí
;

751 
	}
}

757 
	$∑r£r_∑r£_f‹_°©emít_°¨t
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

759 
∑r£r_lo›_°©emít_t
 
lo›
;

760 
Àxî_ønge_t
 
°¨t_ønge
;

762 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_FOR
);

763 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

765 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

767 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_PAREN_EXPECTED
);

770 
	`∑r£r_sˇn_u¡û
 (
c⁄ãxt_p
, &
°¨t_ønge
, 
LEXER_KEYW_IN
);

772 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_IN
)

774 
∑r£r_f‹_ö_°©emít_t
 
f‹_ö_°©emít
;

775 
Àxî_ønge_t
 
ønge
;

777 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

778 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

780 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

782 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

785 #i‚de‡
JERRY_NDEBUG


786 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
);

789 
	`∑r£r_emô_cbc_ext_f‹w¨d_bønch
 (
c⁄ãxt_p
,

790 
CBC_EXT_FOR_IN_CREATE_CONTEXT
,

791 &
f‹_ö_°©emít
.
bønch
);

793 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

794 
f‹_ö_°©emít
.
°¨t_off£t
 = 
c⁄ãxt_p
->
byã_code_size
;

796 
	`∑r£r_ßve_ønge
 (
c⁄ãxt_p
, &
ønge
, c⁄ãxt_p->
sour˚_íd_p
);

797 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
°¨t_ønge
);

798 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

800 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_VAR
)

802 
uöt16_t
 
lôîÆ_ödex
;

804 
	`Àxî_ex≥˘_idítifõr
 (
c⁄ãxt_p
, 
LEXER_IDENT_LITERAL
);

805 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


806 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
);

808 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_VAR
;

810 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
lô_obje˘
.
ödex
;

812 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

814 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_ASSIGN
)

816 
∑r£r_bønch_t
 
bønch
;

819 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
CBC_JUMP_FORWARD
, &
bønch
);

820 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

821 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
,

822 
PARSE_EXPR_STATEMENT
 | 
PARSE_EXPR_NO_COMMA
);

823 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
bønch
);

826 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, 
CBC_EXT_FOR_IN_GET_NEXT
);

827 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
, 
CBC_ASSIGN_SET_IDENT
, 
lôîÆ_ödex
);

831 
uöt16_t
 
›code
;

833 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

835 
›code
 = 
c⁄ãxt_p
->
œ°_cbc_›code
;

838 
	`JERRY_ASSERT
 (
›code
 !
CBC_PUSH_TWO_LITERALS


839 && 
›code
 !
CBC_PUSH_THREE_LITERALS
);

841 i‡(
›code
 =
CBC_PUSH_LITERAL


842 && 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 =
LEXER_IDENT_LITERAL
)

844 
›code
 = 
CBC_ASSIGN_SET_IDENT
;

845 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

847 i‡(
›code
 =
CBC_PUSH_PROP
)

849 
›code
 = 
CBC_ASSIGN
;

850 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

852 i‡(
›code
 =
CBC_PUSH_PROP_LITERAL
)

854 
›code
 = 
CBC_ASSIGN_PROP_LITERAL
;

855 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

857 i‡(
›code
 =
CBC_PUSH_PROP_LITERAL_LITERAL
)

859 
›code
 = 
CBC_ASSIGN
;

860 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_TWO_LITERALS
;

862 i‡(
›code
 =
CBC_PUSH_PROP_THIS_LITERAL
)

864 
›code
 = 
CBC_ASSIGN
;

865 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_PUSH_THIS_LITERAL
;

870 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, 
CBC_EXT_THROW_REFERENCE_ERROR
);

871 
›code
 = 
CBC_ASSIGN
;

874 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, 
CBC_EXT_FOR_IN_GET_NEXT
);

875 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

877 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
›code
;

880 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS
)

882 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IN_EXPECTED
);

885 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

886 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
ønge
);

887 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

889 
lo›
.
bønch_li°_p
 = 
NULL
;

891 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
f‹_ö_°©emít
,  (
∑r£r_f‹_ö_°©emít_t
));

892 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

893 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_FOR_IN
);

894 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

898 
∑r£r_f‹_°©emít_t
 
f‹_°©emít
;

900 
°¨t_ønge
.
sour˚_íd_p
 = 
c⁄ãxt_p
->source_end_p;

901 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
°¨t_ønge
);

902 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

904 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_SEMICOLON
)

906 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_VAR
)

908 
	`∑r£r_∑r£_v¨_°©emít
 (
c⁄ãxt_p
);

912 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_STATEMENT
);

915 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_SEMICOLON
)

917 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_SEMICOLON_EXPECTED
);

921 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
CBC_JUMP_FORWARD
, &
f‹_°©emít
.
bønch
);

923 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

924 
f‹_°©emít
.
°¨t_off£t
 = 
c⁄ãxt_p
->
byã_code_size
;

927 
	`∑r£r_sˇn_u¡û
 (
c⁄ãxt_p
, &
f‹_°©emít
.
c⁄dôi⁄_ønge
, 
LEXER_SEMICOLON
);

928 
	`∑r£r_sˇn_u¡û
 (
c⁄ãxt_p
, &
f‹_°©emít
.
ex¥essi⁄_ønge
, 
LEXER_RIGHT_PAREN
);

929 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

931 
lo›
.
bønch_li°_p
 = 
NULL
;

933 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
f‹_°©emít
,  (
∑r£r_f‹_°©emít_t
));

934 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

935 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_FOR
);

936 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

938 
	}
}

943 
__©å_noölöe___


944 
	$∑r£r_∑r£_f‹_°©emít_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

946 
∑r£r_f‹_°©emít_t
 
f‹_°©emít
;

947 
∑r£r_lo›_°©emít_t
 
lo›
;

948 
Àxî_tokí_t
 
cuºít_tokí
;

949 
Àxî_ønge_t
 
ønge
;

950 
cbc_›code_t
 
›code
;

952 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_FOR
);

954 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

955 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

957 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

958 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

959 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_lo›_°©emít_t
));

960 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
f‹_°©emít
,  (
∑r£r_f‹_°©emít_t
));

962 
	`∑r£r_ßve_ønge
 (
c⁄ãxt_p
, &
ønge
, c⁄ãxt_p->
sour˚_íd_p
);

963 
cuºít_tokí
 = 
c⁄ãxt_p
->
tokí
;

965 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
f‹_°©emít
.
ex¥essi⁄_ønge
);

966 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

968 
	`∑r£r_£t_c⁄töues_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

970 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS
)

972 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR_STATEMENT
);

974 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS
)

976 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_EXPRESSION
);

980 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
f‹_°©emít
.
bønch
);

982 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
f‹_°©emít
.
c⁄dôi⁄_ønge
);

983 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

985 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS
)

987 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

989 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS
)

991 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_EXPRESSION
);

994 
›code
 = 
CBC_BRANCH_IF_TRUE_BACKWARD
;

995 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_LOGICAL_NOT
)

997 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

998 
›code
 = 
CBC_BRANCH_IF_FALSE_BACKWARD
;

1000 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_TRUE
)

1002 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

1003 
›code
 = 
CBC_JUMP_BACKWARD
;

1008 
›code
 = 
CBC_JUMP_BACKWARD
;

1011 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, 
NULL
, 1 +  (
∑r£r_lo›_°©emít_t
Ë+  (
∑r£r_f‹_°©emít_t
));

1012 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1014 
	`∑r£r_emô_cbc_backw¨d_bønch
 (
c⁄ãxt_p
, 
›code
, 
f‹_°©emít
.
°¨t_off£t
);

1015 
	`∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

1017 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
ønge
);

1018 
c⁄ãxt_p
->
tokí
 = 
cuºít_tokí
;

1019 
	}
}

1024 
__©å_noölöe___


1025 
	$∑r£r_∑r£_swôch_°©emít_°¨t
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1027 
∑r£r_swôch_°©emít_t
 
swôch_°©emít
;

1028 
∑r£r_lo›_°©emít_t
 
lo›
;

1029 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1030 
Àxî_ønge_t
 
swôch_body_°¨t
;

1031 
Àxî_ønge_t
 
unu£d_ønge
;

1032 
boﬁ
 
swôch_ˇ£_was_found
;

1033 
boﬁ
 
deÁu…_ˇ£_was_found
;

1034 
∑r£r_bønch_node_t
 *
ˇ£s_p
 = 
NULL
;

1036 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_SWITCH
);

1038 
	`∑r£r_∑r£_í˛o£d_ex¥
 (
c⁄ãxt_p
);

1040 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE
)

1042 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_BRACE_EXPECTED
);

1045 
	`∑r£r_ßve_ønge
 (
c⁄ãxt_p
, &
swôch_body_°¨t
, c⁄ãxt_p->
sour˚_íd_p
);

1046 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1048 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

1051 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_POP
);

1052 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1053 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_BLOCK
);

1054 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1058 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_CASE


1059 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_DEFAULT
)

1061 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_SWITCH
);

1071 
swôch_°©emít
.
bønch_li°_p
 = 
NULL
;

1072 
lo›
.
bønch_li°_p
 = 
NULL
;

1074 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

1075 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1076 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1077 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_SWITCH
);

1078 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1080 
swôch_ˇ£_was_found
 = 
Ál£
;

1081 
deÁu…_ˇ£_was_found
 = 
Ál£
;

1083 
åue
)

1085 
	`∑r£r_sˇn_u¡û
 (
c⁄ãxt_p
, &
unu£d_ønge
, 
LEXER_KEYW_CASE
);

1087 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_DEFAULT
)

1089 i‡(
deÁu…_ˇ£_was_found
)

1091 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_MULTIPLE_DEFAULTS_NOT_ALLOWED
);

1094 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1095 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COLON
)

1097 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_COLON_EXPECTED
);

1100 
deÁu…_ˇ£_was_found
 = 
åue
;

1102 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_CASE


1103 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

1105 i‡(
swôch_ˇ£_was_found
)

1107 
∑r£r_bønch_node_t
 *
√w_ˇ£_p
;

1108 
uöt16_t
 
›code
 = 
CBC_BRANCH_IF_STRICT_EQUAL
;

1110 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_CASE
)

1113 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_STRICT_EQUAL
);

1114 
›code
 = 
CBC_BRANCH_IF_TRUE_FORWARD
;

1116 
√w_ˇ£_p
 = 
	`∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
c⁄ãxt_p
, 
›code
, 
NULL
);

1117 i‡(
ˇ£s_p
 =
NULL
)

1119 
swôch_°©emít
.
bønch_li°_p
 = 
√w_ˇ£_p
;

1120 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

1124 
ˇ£s_p
->
√xt_p
 = 
√w_ˇ£_p
;

1126 
ˇ£s_p
 = 
√w_ˇ£_p
;

1130 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

1135 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1137 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

1139 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COLON
)

1141 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_COLON_EXPECTED
);

1143 
swôch_ˇ£_was_found
 = 
åue
;

1146 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1149 
	`JERRY_ASSERT
 (
swôch_ˇ£_was_found
 || 
deÁu…_ˇ£_was_found
);

1151 i‡(!
swôch_ˇ£_was_found
)

1155 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_POP
);

1158 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
CBC_JUMP_FORWARD
, &
swôch_°©emít
.
deÁu…_bønch
);

1159 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

1161 i‡(!
deÁu…_ˇ£_was_found
)

1163 
	`∑r£r_°ack_ch™ge_œ°_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_SWITCH_NO_DEFAULT
);

1166 
	`∑r£r_£t_ønge
 (
c⁄ãxt_p
, &
swôch_body_°¨t
);

1167 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1168 
	}
}

1174 
	$∑r£r_∑r£_åy_°©emít_íd
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1176 
∑r£r_åy_°©emít_t
 
åy_°©emít
;

1177 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1179 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_TRY
);

1181 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1182 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

1183 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
åy_°©emít
,  (
∑r£r_åy_°©emít_t
));

1185 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1187 i‡(
åy_°©emít
.
ty≥
 =
∑r£r_föÆly_block
)

1189 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1190 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

1191 #i‚de‡
JERRY_NDEBUG


1192 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

1195 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CONTEXT_END
);

1196 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
åy_°©emít
.
bønch
);

1200 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
åy_°©emít
.
bønch
);

1202 i‡(
åy_°©emít
.
ty≥
 =
∑r£r_ˇtch_block
)

1204 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_FINALLY
)

1206 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1207 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

1208 #i‚de‡
JERRY_NDEBUG


1209 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

1212 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_CONTEXT_END
);

1213 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1214 
åy_°©emít
.
ty≥
 = 
∑r£r_föÆly_block
;

1217 i‡(
åy_°©emít
.
ty≥
 =
∑r£r_åy_block
)

1219 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_CATCH


1220 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_FINALLY
)

1222 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_CATCH_FINALLY_EXPECTED
);

1227 i‡(
åy_°©emít
.
ty≥
 =
∑r£r_föÆly_block
)

1229 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, 
NULL
, (
uöt32_t
Ë( (
∑r£r_åy_°©emít_t
) + 1));

1230 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1234 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_CATCH
)

1236 
uöt16_t
 
lôîÆ_ödex
;

1238 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1240 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

1242 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_PAREN_EXPECTED
);

1245 
	`Àxî_ex≥˘_idítifõr
 (
c⁄ãxt_p
, 
LEXER_IDENT_LITERAL
);

1246 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


1247 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
);

1249 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

1250 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
;

1252 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
lô_obje˘
.
ödex
;

1254 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1256 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

1258 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

1261 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1263 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE
)

1265 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_BRACE_EXPECTED
);

1268 
åy_°©emít
.
ty≥
 = 
∑r£r_ˇtch_block
;

1269 
	`∑r£r_emô_cbc_ext_f‹w¨d_bønch
 (
c⁄ãxt_p
,

1270 
CBC_EXT_CATCH
,

1271 &
åy_°©emít
.
bønch
);

1273 
	`∑r£r_emô_cbc_lôîÆ
 (
c⁄ãxt_p
, 
CBC_ASSIGN_SET_IDENT
, 
lôîÆ_ödex
);

1274 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1278 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_KEYW_FINALLY
);

1280 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1282 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE
)

1284 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_BRACE_EXPECTED
);

1287 
åy_°©emít
.
ty≥
 = 
∑r£r_föÆly_block
;

1288 
	`∑r£r_emô_cbc_ext_f‹w¨d_bønch
 (
c⁄ãxt_p
,

1289 
CBC_EXT_FINALLY
,

1290 &
åy_°©emít
.
bønch
);

1293 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1294 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
åy_°©emít
,  (
∑r£r_åy_°©emít_t
));

1295 
	}
}

1301 
	$∑r£r_∑r£_deÁu…_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1303 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1304 
∑r£r_swôch_°©emít_t
 
swôch_°©emít
;

1306 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 !
PARSER_STATEMENT_SWITCH


1307 && 
c⁄ãxt_p
->
°ack_t›_uöt8
 !
PARSER_STATEMENT_SWITCH_NO_DEFAULT
)

1309 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_DEFAULT_NOT_IN_SWITCH
);

1312 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1314 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_COLON
);

1315 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1317 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1318 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1 +  (
∑r£r_lo›_°©emít_t
));

1319 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

1321 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
swôch_°©emít
.
deÁu…_bønch
);

1322 
	}
}

1328 
	$∑r£r_∑r£_ˇ£_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1330 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1331 
∑r£r_swôch_°©emít_t
 
swôch_°©emít
;

1332 
Àxî_ønge_t
 
dummy_ønge
;

1333 
∑r£r_bønch_node_t
 *
bønch_p
;

1335 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 !
PARSER_STATEMENT_SWITCH


1336 && 
c⁄ãxt_p
->
°ack_t›_uöt8
 !
PARSER_STATEMENT_SWITCH_NO_DEFAULT
)

1338 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_CASE_NOT_IN_SWITCH
);

1341 
	`∑r£r_sˇn_u¡û
 (
c⁄ãxt_p
, &
dummy_ønge
, 
LEXER_COLON
);

1342 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1344 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1345 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1 +  (
∑r£r_lo›_°©emít_t
));

1346 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

1350 
bønch_p
 = 
swôch_°©emít
.
bønch_li°_p
;

1351 
	`JERRY_ASSERT
 (
bønch_p
 !
NULL
);

1352 
swôch_°©emít
.
bønch_li°_p
 = 
bønch_p
->
√xt_p
;

1353 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

1355 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
bønch_p
->
bønch
);

1356 
	`∑r£r_‰ì
 (
bønch_p
,  (
∑r£r_bønch_node_t
));

1357 
	}
}

1363 
	$∑r£r_∑r£_bªak_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1365 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1366 
cbc_›code_t
 
›code
 = 
CBC_JUMP_FORWARD
;

1368 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1369 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1371 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe


1372 && 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


1373 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
)

1376 
åue
)

1378 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

1379 i‡(
ty≥
 =
PARSER_STATEMENT_START
)

1381 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_BREAK_LABEL
);

1384 i‡(
ty≥
 =
PARSER_STATEMENT_FOR_IN


1385 || 
ty≥
 =
PARSER_STATEMENT_WITH


1386 || 
ty≥
 =
PARSER_STATEMENT_TRY
)

1388 
›code
 = 
CBC_JUMP_FORWARD_EXIT_CONTEXT
;

1391 i‡(
ty≥
 =
PARSER_STATEMENT_LABEL
)

1393 
∑r£r_œbñ_°©emít_t
 
œbñ_°©emít
;

1395 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

1396 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
œbñ_°©emít
,  (
∑r£r_œbñ_°©emít_t
));

1398 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
œbñ_°©emít
.
œbñ_idít
))

1400 
œbñ_°©emít
.
bªak_li°_p
 = 
	`∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
c⁄ãxt_p
,

1401 
›code
,

1402 
œbñ_°©emít
.
bªak_li°_p
);

1403 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
œbñ_°©emít
,  (
∑r£r_œbñ_°©emít_t
));

1404 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1407 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_œbñ_°©emít_t
));

1411 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

1417 
åue
)

1419 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

1420 i‡(
ty≥
 =
PARSER_STATEMENT_START
)

1422 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_BREAK
);

1425 i‡(
ty≥
 =
PARSER_STATEMENT_FOR_IN


1426 || 
ty≥
 =
PARSER_STATEMENT_WITH


1427 || 
ty≥
 =
PARSER_STATEMENT_TRY
)

1429 
›code
 = 
CBC_JUMP_FORWARD_EXIT_CONTEXT
;

1432 i‡(
ty≥
 =
PARSER_STATEMENT_SWITCH


1433 || 
ty≥
 =
PARSER_STATEMENT_SWITCH_NO_DEFAULT


1434 || 
ty≥
 =
PARSER_STATEMENT_DO_WHILE


1435 || 
ty≥
 =
PARSER_STATEMENT_WHILE


1436 || 
ty≥
 =
PARSER_STATEMENT_FOR


1437 || 
ty≥
 =
PARSER_STATEMENT_FOR_IN
)

1439 
∑r£r_lo›_°©emít_t
 
lo›
;

1441 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

1442 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1443 
lo›
.
bønch_li°_p
 = 
	`∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
c⁄ãxt_p
,

1444 
›code
,

1445 
lo›
.
bønch_li°_p
);

1446 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1450 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

1452 
	}
}

1458 
	$∑r£r_∑r£_c⁄töue_°©emít
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1460 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1461 
cbc_›code_t
 
›code
 = 
CBC_JUMP_FORWARD
;

1463 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1464 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1466 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe


1467 && 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


1468 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
)

1470 
∑r£r_°ack_ôî©‹_t
 
lo›_ôî©‹
;

1471 
boﬁ
 
f‹_ö_was_£í
 = 
Ál£
;

1473 
lo›_ôî©‹
.
cuºít_p
 = 
NULL
;

1476 
åue
)

1478 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

1480 i‡(
ty≥
 =
PARSER_STATEMENT_START
)

1482 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_CONTINUE_LABEL
);

1486 i‡(
lo›_ôî©‹
.
cuºít_p
 !
NULL
 && 
ty≥
 =
PARSER_STATEMENT_LABEL
)

1488 
∑r£r_œbñ_°©emít_t
 
œbñ_°©emít
;

1490 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

1491 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
œbñ_°©emít
,  (
∑r£r_œbñ_°©emít_t
));

1493 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
œbñ_°©emít
.
œbñ_idít
))

1495 
∑r£r_lo›_°©emít_t
 
lo›
;

1497 
	`∑r£r_°ack_ôî©‹_skù
 (&
lo›_ôî©‹
, 1);

1498 
	`∑r£r_°ack_ôî©‹_ªad
 (&
lo›_ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1499 
lo›
.
bønch_li°_p
 = 
	`∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
c⁄ãxt_p
,

1500 
›code
,

1501 
lo›
.
bønch_li°_p
);

1502 
lo›
.
bønch_li°_p
->
bønch
.
off£t
 |
CBC_HIGHEST_BIT_MASK
;

1503 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
lo›_ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1504 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1507 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_œbñ_°©emít_t
));

1511 i‡(
ty≥
 =
PARSER_STATEMENT_WITH


1512 || 
ty≥
 =
PARSER_STATEMENT_TRY


1513 || 
f‹_ö_was_£í
)

1515 
›code
 = 
CBC_JUMP_FORWARD_EXIT_CONTEXT
;

1517 i‡(
ty≥
 =
PARSER_STATEMENT_FOR_IN
)

1519 
f‹_ö_was_£í
 = 
åue
;

1522 i‡(
ty≥
 =
PARSER_STATEMENT_DO_WHILE


1523 || 
ty≥
 =
PARSER_STATEMENT_WHILE


1524 || 
ty≥
 =
PARSER_STATEMENT_FOR


1525 || 
ty≥
 =
PARSER_STATEMENT_FOR_IN
)

1527 
lo›_ôî©‹
 = 
ôî©‹
;

1531 
lo›_ôî©‹
.
cuºít_p
 = 
NULL
;

1534 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

1539 
åue
)

1541 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

1542 i‡(
ty≥
 =
PARSER_STATEMENT_START
)

1544 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_CONTINUE
);

1547 i‡(
ty≥
 =
PARSER_STATEMENT_DO_WHILE


1548 || 
ty≥
 =
PARSER_STATEMENT_WHILE


1549 || 
ty≥
 =
PARSER_STATEMENT_FOR


1550 || 
ty≥
 =
PARSER_STATEMENT_FOR_IN
)

1552 
∑r£r_lo›_°©emít_t
 
lo›
;

1554 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

1555 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1556 
lo›
.
bønch_li°_p
 = 
	`∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
c⁄ãxt_p
,

1557 
›code
,

1558 
lo›
.
bønch_li°_p
);

1559 
lo›
.
bønch_li°_p
->
bønch
.
off£t
 |
CBC_HIGHEST_BIT_MASK
;

1560 
	`∑r£r_°ack_ôî©‹_wrôe
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1564 i‡(
ty≥
 =
PARSER_STATEMENT_WITH


1565 || 
ty≥
 =
PARSER_STATEMENT_TRY
)

1567 
›code
 = 
CBC_JUMP_FORWARD_EXIT_CONTEXT
;

1570 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

1572 
	}
}

1578 
	$∑r£r_∑r£_œbñ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

1579 
Àxî_lô_loˇti⁄_t
 *
œbñ_lôîÆ_p
)

1581 
∑r£r_°ack_ôî©‹_t
 
ôî©‹
;

1582 
∑r£r_œbñ_°©emít_t
 
œbñ_°©emít
;

1584 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &
ôî©‹
);

1586 
åue
)

1588 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

1589 i‡(
ty≥
 =
PARSER_STATEMENT_START
)

1594 i‡(
ty≥
 =
PARSER_STATEMENT_LABEL
)

1596 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

1597 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
œbñ_°©emít
,  (
∑r£r_œbñ_°©emít_t
));

1598 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_œbñ_°©emít_t
));

1600 i‡(
	`Àxî_com∑ª_idítifõr_to_cuºít
 (
c⁄ãxt_p
, &
œbñ_°©emít
.
œbñ_idít
))

1602 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_DUPLICATED_LABEL
);

1607 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

1611 
œbñ_°©emít
.
œbñ_idít
 = *
œbñ_lôîÆ_p
;

1612 
œbñ_°©emít
.
bªak_li°_p
 = 
NULL
;

1613 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
œbñ_°©emít
,  (
∑r£r_œbñ_°©emít_t
));

1614 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_LABEL
);

1615 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1616 
	}
}

1622 
	$∑r£r_∑r£_°©emíts
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1625 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_°©emít
.
cuºít_p
 =
NULL
);

1626 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_START
);

1627 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1629 #ifde‡
JERRY_DEBUGGER


1631 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1633 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
;

1634 
c⁄ãxt_p
->
œ°_bªakpoöt_löe
 = 0;

1638 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


1639 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_STRING_LITERAL
)

1641 
Àxî_lô_loˇti⁄_t
 
lô_loˇti⁄
;

1642 
uöt32_t
 
°©us_Êags
 = 
c⁄ãxt_p
->status_flags;

1643 #ifde‡
PARSER_DUMP_BYTE_CODE


1644 
boﬁ
 
swôch_to_°ri˘_mode
 = 
Ál£
;

1647 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 == 0);

1649 
lô_loˇti⁄
 = 
c⁄ãxt_p
->
tokí
.lit_location;

1651 i‡(
lô_loˇti⁄
.
Àngth
 =
PARSER_USE_STRICT_LENGTH


1652 && !
lô_loˇti⁄
.
has_esˇ≥


1653 && 
	`memcmp
 (
PARSER_USE_STRICT_LITERAL
, 
lô_loˇti⁄
.
ch¨_p
, 
PARSER_USE_STRICT_LENGTH
) == 0)

1655 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_IS_STRICT
;

1657 #ifde‡
PARSER_DUMP_BYTE_CODE


1658 
swôch_to_°ri˘_mode
 = 
åue
;

1662 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1664 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_SEMICOLON


1665 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_BRACE
)

1667 i‡(!
c⁄ãxt_p
->
tokí
.
was_√wlöe


1668 || 
	`LEXER_IS_BINARY_OP_TOKEN
 (
c⁄ãxt_p
->
tokí
.
ty≥
)

1669 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LEFT_PAREN


1670 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LEFT_SQUARE


1671 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_DOT
)

1674 
c⁄ãxt_p
->
°©us_Êags
 = status_flags;

1676 #ifde‡
JERRY_DEBUGGER


1677 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1679 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_bªakpoöt_löe
 == 0);

1681 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_BREAKPOINT_DISABLED
);

1682 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1684 
	`∑r£r_≠≥nd_bªakpoöt_öfo
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_LIST
, c⁄ãxt_p->
tokí
.
löe
);

1686 
c⁄ãxt_p
->
œ°_bªakpoöt_löe
 = c⁄ãxt_p->
tokí
.
löe
;

1690 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
, &
lô_loˇti⁄
, 
LEXER_STRING_LITERAL
);

1691 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
CBC_PUSH_LITERAL
);

1693 
c⁄ãxt_p
->
tokí
.
exåa_vÆue
 = c⁄ãxt_p->tokí.
ty≥
;

1694 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_EXPRESSION_START
;

1699 #ifde‡
PARSER_DUMP_BYTE_CODE


1700 i‡(
c⁄ãxt_p
->
is_show_›codes


1701 && 
swôch_to_°ri˘_mode
)

1703 
	`JERRY_DEBUG_MSG
 (" Note: switchÅo strict mode\n\n");

1707 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_SEMICOLON
)

1709 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1713 i‡(!(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_FUNCTION
))

1715 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LITERAL


1716 || 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 !
LEXER_STRING_LITERAL
)

1718 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
, &
lô_loˇti⁄
, 
LEXER_STRING_LITERAL
);

1719 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
CBC_PUSH_LITERAL
);

1720 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_POP_BLOCK
);

1721 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1726 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT


1727 && 
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_HAS_NON_STRICT_ARG
)

1729 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_NON_STRICT_ARG_DEFINITION
);

1732 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS


1733 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 !
PARSER_STATEMENT_START
)

1735 #i‚de‡
JERRY_NDEBUG


1736 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 =c⁄ãxt_p->
c⁄ãxt_°ack_dïth
);

1739 #ifde‡
JERRY_DEBUGGER


1740 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED


1741 && 
c⁄ãxt_p
->
tokí
.
löe
 !c⁄ãxt_p->
œ°_bªakpoöt_löe


1742 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_SEMICOLON


1743 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE


1744 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_BRACE


1745 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_VAR


1746 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_FUNCTION


1747 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_CASE


1748 && 
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_KEYW_DEFAULT
)

1750 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_BREAKPOINT_DISABLED
);

1751 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1753 
	`∑r£r_≠≥nd_bªakpoöt_öfo
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_LIST
, c⁄ãxt_p->
tokí
.
löe
);

1755 
c⁄ãxt_p
->
œ°_bªakpoöt_löe
 = c⁄ãxt_p->
tokí
.
löe
;

1759 
c⁄ãxt_p
->
tokí
.
ty≥
)

1761 
LEXER_SEMICOLON
:

1766 
LEXER_RIGHT_BRACE
:

1768 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_LABEL


1769 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_IF


1770 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_ELSE


1771 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_DO_WHILE


1772 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_WHILE


1773 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_FOR


1774 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_FOR_IN


1775 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_WITH
)

1777 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STATEMENT_EXPECTED
);

1782 
LEXER_LEFT_BRACE
:

1784 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_BLOCK
);

1785 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1786 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1790 
LEXER_KEYW_VAR
:

1792 
	`∑r£r_∑r£_v¨_°©emít
 (
c⁄ãxt_p
);

1796 
LEXER_KEYW_FUNCTION
:

1798 
	`∑r£r_∑r£_fun˘i⁄_°©emít
 (
c⁄ãxt_p
);

1802 
LEXER_KEYW_IF
:

1804 
	`∑r£r_∑r£_if_°©emít_°¨t
 (
c⁄ãxt_p
);

1808 
LEXER_KEYW_SWITCH
:

1810 
	`∑r£r_∑r£_swôch_°©emít_°¨t
 (
c⁄ãxt_p
);

1814 
LEXER_KEYW_DO
:

1816 
∑r£r_do_whûe_°©emít_t
 
do_whûe_°©emít
;

1817 
∑r£r_lo›_°©emít_t
 
lo›
;

1819 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

1821 
do_whûe_°©emít
.
°¨t_off£t
 = 
c⁄ãxt_p
->
byã_code_size
;

1822 
lo›
.
bønch_li°_p
 = 
NULL
;

1824 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
do_whûe_°©emít
,  (
∑r£r_do_whûe_°©emít_t
));

1825 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

1826 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_DO_WHILE
);

1827 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1828 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1832 
LEXER_KEYW_WHILE
:

1834 
	`∑r£r_∑r£_whûe_°©emít_°¨t
 (
c⁄ãxt_p
);

1838 
LEXER_KEYW_FOR
:

1840 
	`∑r£r_∑r£_f‹_°©emít_°¨t
 (
c⁄ãxt_p
);

1844 
LEXER_KEYW_WITH
:

1846 
	`∑r£r_∑r£_wôh_°©emít_°¨t
 (
c⁄ãxt_p
);

1850 
LEXER_KEYW_TRY
:

1852 
∑r£r_åy_°©emít_t
 
åy_°©emít
;

1854 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1856 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE
)

1858 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_BRACE_EXPECTED
);

1861 #i‚de‡
JERRY_NDEBUG


1862 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

1865 
åy_°©emít
.
ty≥
 = 
∑r£r_åy_block
;

1866 
	`∑r£r_emô_cbc_ext_f‹w¨d_bønch
 (
c⁄ãxt_p
,

1867 
CBC_EXT_TRY_CREATE_CONTEXT
,

1868 &
åy_°©emít
.
bønch
);

1870 
	`∑r£r_°ack_push
 (
c⁄ãxt_p
, &
åy_°©emít
,  (
∑r£r_åy_°©emít_t
));

1871 
	`∑r£r_°ack_push_uöt8
 (
c⁄ãxt_p
, 
PARSER_STATEMENT_TRY
);

1872 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

1873 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1877 
LEXER_KEYW_DEFAULT
:

1879 
	`∑r£r_∑r£_deÁu…_°©emít
 (
c⁄ãxt_p
);

1883 
LEXER_KEYW_CASE
:

1885 
	`∑r£r_∑r£_ˇ£_°©emít
 (
c⁄ãxt_p
);

1889 
LEXER_KEYW_BREAK
:

1891 
	`∑r£r_∑r£_bªak_°©emít
 (
c⁄ãxt_p
);

1895 
LEXER_KEYW_CONTINUE
:

1897 
	`∑r£r_∑r£_c⁄töue_°©emít
 (
c⁄ãxt_p
);

1901 
LEXER_KEYW_THROW
:

1903 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1904 i‡(
c⁄ãxt_p
->
tokí
.
was_√wlöe
)

1906 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_EXPRESSION_EXPECTED
);

1908 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

1909 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_THROW
);

1913 
LEXER_KEYW_RETURN
:

1915 i‡(!(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_FUNCTION
))

1917 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_RETURN
);

1920 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1921 i‡(
c⁄ãxt_p
->
tokí
.
was_√wlöe


1922 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_SEMICOLON


1923 || 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

1925 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_RETURN_WITH_BLOCK
);

1929 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
PARSE_EXPR
);

1930 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
CBC_PUSH_LITERAL
)

1932 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
CBC_RETURN_WITH_LITERAL
;

1936 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_RETURN
);

1941 
LEXER_KEYW_DEBUGGER
:

1943 
	`∑r£r_emô_cbc_ext
 (
c⁄ãxt_p
, 
CBC_EXT_DEBUGGER
);

1944 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1948 
LEXER_LITERAL
:

1950 i‡(
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
)

1952 
Àxî_lô_loˇti⁄_t
 
lô_loˇti⁄
 = 
c⁄ãxt_p
->
tokí
.lit_location;

1954 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1956 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_COLON
)

1958 
	`∑r£r_∑r£_œbñ
 (
c⁄ãxt_p
, &
lô_loˇti⁄
);

1959 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

1963 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
, &
lô_loˇti⁄
, 
LEXER_IDENT_LITERAL
);

1964 
	`∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
c⁄ãxt_p
, 
CBC_PUSH_LITERAL
);

1966 
c⁄ãxt_p
->
tokí
.
exåa_vÆue
 = c⁄ãxt_p->tokí.
ty≥
;

1967 
c⁄ãxt_p
->
tokí
.
ty≥
 = 
LEXER_EXPRESSION_START
;

1974 
›ti⁄s
 = 
PARSE_EXPR_BLOCK
;

1976 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_FUNCTION
)

1978 
›ti⁄s
 = 
PARSE_EXPR_STATEMENT
;

1981 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_EXPRESSION_START
)

1984 
c⁄ãxt_p
->
tokí
.
ty≥
 = c⁄ãxt_p->tokí.
exåa_vÆue
;

1985 
›ti⁄s
 |
PARSE_EXPR_HAS_LITERAL
;

1988 
	`∑r£r_∑r£_ex¥essi⁄
 (
c⁄ãxt_p
, 
›ti⁄s
);

1993 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1995 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_RIGHT_BRACE
)

1997 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_BLOCK
)

1999 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2000 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

2001 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2003 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_SWITCH


2004 || 
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_SWITCH_NO_DEFAULT
)

2006 
has_deÁu…
 = (
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_SWITCH
);

2007 
∑r£r_lo›_°©emít_t
 
lo›
;

2008 
∑r£r_swôch_°©emít_t
 
swôch_°©emít
;

2010 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2011 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

2012 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

2013 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

2015 
	`JERRY_ASSERT
 (
swôch_°©emít
.
bønch_li°_p
 =
NULL
);

2017 i‡(!
has_deÁu…
)

2019 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
swôch_°©emít
.
deÁu…_bønch
);

2022 
	`∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

2023 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2025 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_TRY
)

2027 
	`∑r£r_∑r£_åy_°©emít_íd
 (
c⁄ãxt_p
);

2029 i‡(
c⁄ãxt_p
->
°ack_t›_uöt8
 =
PARSER_STATEMENT_START
)

2031 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_CLOSURE
)

2033 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2034 
c⁄ãxt_p
->
œ°_°©emít
.
cuºít_p
 = 
NULL
;

2035 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 == 0);

2036 #i‚de‡
JERRY_NDEBUG


2037 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
 == 0);

2043 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_INVALID_RIGHT_SQUARE
);

2046 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_SEMICOLON
)

2048 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2050 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_EOS


2051 && !
c⁄ãxt_p
->
tokí
.
was_√wlöe
)

2053 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_SEMICOLON_EXPECTED
);

2056 
åue
)

2058 
c⁄ãxt_p
->
°ack_t›_uöt8
)

2060 
PARSER_STATEMENT_LABEL
:

2062 
∑r£r_œbñ_°©emít_t
 
œbñ
;

2064 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2065 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
œbñ
,  (
∑r£r_œbñ_°©emít_t
));

2066 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

2068 
	`∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
œbñ
.
bªak_li°_p
);

2072 
PARSER_STATEMENT_IF
:

2074 i‡(
	`∑r£r_∑r£_if_°©emít_íd
 (
c⁄ãxt_p
))

2081 
PARSER_STATEMENT_ELSE
:

2083 
∑r£r_if_ñ£_°©emít_t
 
ñ£_°©emít
;

2085 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2086 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
ñ£_°©emít
,  (
∑r£r_if_ñ£_°©emít_t
));

2087 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

2089 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
ñ£_°©emít
.
bønch
);

2093 
PARSER_STATEMENT_DO_WHILE
:

2095 
	`∑r£r_∑r£_do_whûe_°©emít_íd
 (
c⁄ãxt_p
);

2096 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_SEMICOLON
)

2098 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2103 
PARSER_STATEMENT_WHILE
:

2105 
	`∑r£r_∑r£_whûe_°©emít_íd
 (
c⁄ãxt_p
);

2109 
PARSER_STATEMENT_FOR
:

2111 
	`∑r£r_∑r£_f‹_°©emít_íd
 (
c⁄ãxt_p
);

2115 
PARSER_STATEMENT_FOR_IN
:

2117 
∑r£r_f‹_ö_°©emít_t
 
f‹_ö_°©emít
;

2118 
∑r£r_lo›_°©emít_t
 
lo›
;

2120 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2121 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

2122 
	`∑r£r_°ack_p›
 (
c⁄ãxt_p
, &
f‹_ö_°©emít
,  (
∑r£r_f‹_ö_°©emít_t
));

2123 
	`∑r£r_°ack_ôî©‹_öô
 (
c⁄ãxt_p
, &c⁄ãxt_p->
œ°_°©emít
);

2125 
	`∑r£r_£t_c⁄töues_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

2127 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

2128 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
);

2129 #i‚de‡
JERRY_NDEBUG


2130 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
, 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
);

2133 
	`∑r£r_emô_cbc_ext_backw¨d_bønch
 (
c⁄ãxt_p
,

2134 
CBC_EXT_BRANCH_IF_FOR_IN_HAS_NEXT
,

2135 
f‹_ö_°©emít
.
°¨t_off£t
);

2137 
	`∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, 
lo›
.
bønch_li°_p
);

2138 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
f‹_ö_°©emít
.
bønch
);

2142 
PARSER_STATEMENT_WITH
:

2144 
	`∑r£r_∑r£_wôh_°©emít_íd
 (
c⁄ãxt_p
);

2157 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 == 0);

2158 #i‚de‡
JERRY_NDEBUG


2159 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
 == 0);

2162 
	`∑r£r_°ack_p›_uöt8
 (
c⁄ãxt_p
);

2163 
c⁄ãxt_p
->
œ°_°©emít
.
cuºít_p
 = 
NULL
;

2165 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_CLOSURE
)

2167 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STATEMENT_EXPECTED
);

2169 
	}
}

2174 
__©å_noölöe___


2175 
	$∑r£r_‰ì_jumps
 (
∑r£r_°ack_ôî©‹_t
 
ôî©‹
)

2177 
åue
)

2179 
uöt8_t
 
ty≥
 = 
	`∑r£r_°ack_ôî©‹_ªad_uöt8
 (&
ôî©‹
);

2180 
∑r£r_bønch_node_t
 *
bønch_li°_p
 = 
NULL
;

2182 
ty≥
)

2184 
PARSER_STATEMENT_START
:

2189 
PARSER_STATEMENT_LABEL
:

2191 
∑r£r_œbñ_°©emít_t
 
œbñ
;

2193 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

2194 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
œbñ
,  (
∑r£r_œbñ_°©emít_t
));

2195 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_œbñ_°©emít_t
));

2196 
bønch_li°_p
 = 
œbñ
.
bªak_li°_p
;

2200 
PARSER_STATEMENT_SWITCH
:

2201 
PARSER_STATEMENT_SWITCH_NO_DEFAULT
:

2203 
∑r£r_swôch_°©emít_t
 
swôch_°©emít
;

2204 
∑r£r_lo›_°©emít_t
 
lo›
;

2206 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

2207 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

2208 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_lo›_°©emít_t
));

2209 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
swôch_°©emít
,  (
∑r£r_swôch_°©emít_t
));

2210 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
,  (
∑r£r_swôch_°©emít_t
));

2212 
bønch_li°_p
 = 
swôch_°©emít
.branch_list_p;

2213 
bønch_li°_p
 !
NULL
)

2215 
∑r£r_bønch_node_t
 *
√xt_p
 = 
bønch_li°_p
->next_p;

2216 
	`∑r£r_‰ì
 (
bønch_li°_p
,  (
∑r£r_bønch_node_t
));

2217 
bønch_li°_p
 = 
√xt_p
;

2219 
bønch_li°_p
 = 
lo›
.branch_list_p;

2223 
PARSER_STATEMENT_DO_WHILE
:

2224 
PARSER_STATEMENT_WHILE
:

2225 
PARSER_STATEMENT_FOR
:

2226 
PARSER_STATEMENT_FOR_IN
:

2228 
∑r£r_lo›_°©emít_t
 
lo›
;

2230 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 1);

2231 
	`∑r£r_°ack_ôî©‹_ªad
 (&
ôî©‹
, &
lo›
,  (
∑r£r_lo›_°©emít_t
));

2232 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
) - 1);

2233 
bønch_li°_p
 = 
lo›
.branch_list_p;

2239 
	`∑r£r_°ack_ôî©‹_skù
 (&
ôî©‹
, 
	`∑r£r_°©emít_Àngth
 (
ty≥
));

2244 
bønch_li°_p
 !
NULL
)

2246 
∑r£r_bønch_node_t
 *
√xt_p
 = 
bønch_li°_p
->next_p;

2247 
	`∑r£r_‰ì
 (
bønch_li°_p
,  (
∑r£r_bønch_node_t
));

2248 
bønch_li°_p
 = 
√xt_p
;

2251 
	}
}

	@deps/jerry/jerry-core/parser/js/js-parser-util.c

16 
	~"js-∑r£r-öã∫Æ.h
"

18 #i‡
JERRY_JS_PARSER


38 
	$∑r£r_emô_two_byãs
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

39 
uöt8_t
 
fú°_byã
,

40 
uöt8_t
 
£c⁄d_byã
)

42 
uöt32_t
 
œ°_posôi⁄
 = 
c⁄ãxt_p
->
byã_code
.last_position;

44 i‡(
œ°_posôi⁄
 + 2 <
PARSER_CBC_STREAM_PAGE_SIZE
)

46 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
œ°_p
;

48 
∑ge_p
->
byãs
[
œ°_posôi⁄
] = 
fú°_byã
;

49 
∑ge_p
->
byãs
[
œ°_posôi⁄
 + 1] = 
£c⁄d_byã
;

50 
c⁄ãxt_p
->
byã_code
.
œ°_posôi⁄
 =Üast_position + 2;

52 i‡(
œ°_posôi⁄
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

54 
∑r£r_mem_∑ge_t
 *
∑ge_p
;

56 
	`∑r£r_cbc_°ªam_Æloc_∑ge
 (
c⁄ãxt_p
, &c⁄ãxt_p->
byã_code
);

57 
∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
œ°_p
;

58 
∑ge_p
->
byãs
[0] = 
fú°_byã
;

59 
∑ge_p
->
byãs
[1] = 
£c⁄d_byã
;

60 
c⁄ãxt_p
->
byã_code
.
œ°_posôi⁄
 = 2;

64 
c⁄ãxt_p
->
byã_code
.
œ°_p
->
byãs
[
PARSER_CBC_STREAM_PAGE_SIZE
 - 1] = 
fú°_byã
;

65 
	`∑r£r_cbc_°ªam_Æloc_∑ge
 (
c⁄ãxt_p
, &c⁄ãxt_p->
byã_code
);

66 
c⁄ãxt_p
->
byã_code
.
œ°_p
->
byãs
[0] = 
£c⁄d_byã
;

67 
c⁄ãxt_p
->
byã_code
.
œ°_posôi⁄
 = 1;

69 
	}
}

71 
	#PARSER_APPEND_TO_BYTE_CODE
(
c⁄ãxt_p
, 
byã
) \

72 i‡((
c⁄ãxt_p
)->
byã_code
.
œ°_posôi⁄
 >
PARSER_CBC_STREAM_PAGE_SIZE
) \

74 
	`∑r£r_cbc_°ªam_Æloc_∑ge
 ((
c⁄ãxt_p
), &(c⁄ãxt_p)->
byã_code
); \

76 (
c⁄ãxt_p
)->
byã_code
.
œ°_p
->
byãs
[(c⁄ãxt_p)->byã_code.
œ°_posôi⁄
++] = (
uöt8_t
Ë(
byã
)

	)

82 
	$∑r£r_Êush_cbc
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

84 
uöt8_t
 
Êags
;

86 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
)

91 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_NO_END_LABEL
;

93 i‡(
	`PARSER_IS_BASIC_OPCODE
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

95 
cbc_›code_t
 
›code
 = (cbc_›code_tË
c⁄ãxt_p
->
œ°_cbc_›code
;

97 
	`JERRY_ASSERT
 (
›code
 < 
CBC_END
);

98 
Êags
 = 
cbc_Êags
[
›code
];

100 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 
›code
);

101 
c⁄ãxt_p
->
byã_code_size
++;

105 
cbc_ext_›code_t
 
›code
 = (cbc_ext_›code_tË
	`PARSER_GET_EXT_OPCODE
 (
c⁄ãxt_p
->
œ°_cbc_›code
);

107 
	`JERRY_ASSERT
 (
›code
 < 
CBC_EXT_END
);

108 
Êags
 = 
cbc_ext_Êags
[
›code
];

109 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
, 
CBC_EXT_OPCODE
, 
›code
);

110 
c⁄ãxt_p
->
byã_code_size
 += 2;

113 
	`JERRY_ASSERT
 ((
Êags
 >> 
CBC_STACK_ADJUST_SHIFT
Ë>
CBC_STACK_ADJUST_BASE


114 || (
CBC_STACK_ADJUST_BASE
 - (
Êags
 >> 
CBC_STACK_ADJUST_SHIFT
)Ë<
c⁄ãxt_p
->
°ack_dïth
);

115 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
	`CBC_STACK_ADJUST_VALUE
 (
Êags
));

117 i‡(
Êags
 & (
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
))

119 
uöt16_t
 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
œ°_cbc
.literal_index;

121 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
,

122 (
uöt8_t
Ë(
lôîÆ_ödex
 & 0xff),

123 (
uöt8_t
Ë(
lôîÆ_ödex
 >> 8));

124 
c⁄ãxt_p
->
byã_code_size
 += 2;

127 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG2
)

129 
uöt16_t
 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
;

131 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
,

132 (
uöt8_t
Ë(
lôîÆ_ödex
 & 0xff),

133 (
uöt8_t
Ë(
lôîÆ_ödex
 >> 8));

134 
c⁄ãxt_p
->
byã_code_size
 += 2;

136 i‡(!(
Êags
 & 
CBC_HAS_LITERAL_ARG
))

138 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
;

140 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
,

141 (
uöt8_t
Ë(
lôîÆ_ödex
 & 0xff),

142 (
uöt8_t
Ë(
lôîÆ_ödex
 >> 8));

143 
c⁄ãxt_p
->
byã_code_size
 += 2;

147 i‡(
Êags
 & 
CBC_HAS_BYTE_ARG
)

149 
uöt8_t
 
byã_¨gumít
 = (uöt8_tË
c⁄ãxt_p
->
œ°_cbc
.
vÆue
;

151 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 <
CBC_MAXIMUM_BYTE_VALUE
);

153 i‡(
Êags
 & 
CBC_POP_STACK_BYTE_ARG
)

155 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
°ack_dïth
 >
byã_¨gumít
);

156 
	`PARSER_MINUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
byã_¨gumít
);

159 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 
byã_¨gumít
);

160 
c⁄ãxt_p
->
byã_code_size
++;

163 #ifde‡
PARSER_DUMP_BYTE_CODE


164 i‡(
c⁄ãxt_p
->
is_show_›codes
)

166 c⁄° *
«me_p
;

168 i‡(
	`PARSER_IS_BASIC_OPCODE
 (
c⁄ãxt_p
->
œ°_cbc_›code
))

170 
«me_p
 = 
cbc_«mes
[
c⁄ãxt_p
->
œ°_cbc_›code
];

174 
«me_p
 = 
cbc_ext_«mes
[
	`PARSER_GET_EXT_OPCODE
 (
c⁄ãxt_p
->
œ°_cbc_›code
)];

177 
	`JERRY_DEBUG_MSG
 (" [%3d] %s", (Ë
c⁄ãxt_p
->
°ack_dïth
, 
«me_p
);

179 i‡(
Êags
 & (
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
))

181 
uöt16_t
 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
œ°_cbc
.literal_index;

182 
Àxî_lôîÆ_t
 *
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 (
lôîÆ_ödex
);

183 
	`JERRY_DEBUG_MSG
 (" idx:%d->", 
lôîÆ_ödex
);

184 
	`utû_¥öt_lôîÆ
 (
lôîÆ_p
);

187 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG2
)

189 
uöt16_t
 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
;

190 
Àxî_lôîÆ_t
 *
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 (
lôîÆ_ödex
);

191 
	`JERRY_DEBUG_MSG
 (" idx:%d->", 
lôîÆ_ödex
);

192 
	`utû_¥öt_lôîÆ
 (
lôîÆ_p
);

194 i‡(!(
Êags
 & 
CBC_HAS_LITERAL_ARG
))

196 
lôîÆ_ödex
 = 
c⁄ãxt_p
->
œ°_cbc
.
thúd_lôîÆ_ödex
;

198 
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 (
lôîÆ_ödex
);

199 
	`JERRY_DEBUG_MSG
 (" idx:%d->", 
lôîÆ_ödex
);

200 
	`utû_¥öt_lôîÆ
 (
lôîÆ_p
);

204 i‡(
Êags
 & 
CBC_HAS_BYTE_ARG
)

206 
	`JERRY_DEBUG_MSG
 (" byã_¨g:%d", (Ë
c⁄ãxt_p
->
œ°_cbc
.
vÆue
);

209 
	`JERRY_DEBUG_MSG
 ("\n");

213 i‡(
c⁄ãxt_p
->
°ack_dïth
 > c⁄ãxt_p->
°ack_limô
)

215 
c⁄ãxt_p
->
°ack_limô
 = c⁄ãxt_p->
°ack_dïth
;

216 i‡(
c⁄ãxt_p
->
°ack_limô
 > 
PARSER_MAXIMUM_STACK_LIMIT
)

218 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STACK_LIMIT_REACHED
);

222 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

223 
	}
}

229 
	$∑r£r_emô_cbc
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

230 
uöt16_t
 
›code
)

232 
	`JERRY_ASSERT
 (
	`PARSER_ARGS_EQ
 (
›code
, 0));

234 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

236 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

239 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
›code
;

240 
	}
}

246 
	$∑r£r_emô_cbc_lôîÆ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

247 
uöt16_t
 
›code
,

248 
uöt16_t
 
lôîÆ_ödex
)

250 
	`JERRY_ASSERT
 (
	`PARSER_ARGS_EQ
 (
›code
, 
CBC_HAS_LITERAL_ARG
));

252 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

254 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

257 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
›code
;

258 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ödex
 =Üiteral_index;

259 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 = 
LEXER_UNUSED_LITERAL
;

260 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 = 
LEXER_LITERAL_OBJECT_ANY
;

261 
	}
}

267 
	$∑r£r_emô_cbc_lôîÆ_‰om_tokí
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

268 
uöt16_t
 
›code
)

270 
	`JERRY_ASSERT
 (
	`PARSER_ARGS_EQ
 (
›code
, 
CBC_HAS_LITERAL_ARG
));

272 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

274 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

277 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
›code
;

278 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ödex
 = c⁄ãxt_p->
lô_obje˘
.
ödex
;

279 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_ty≥
 = c⁄ãxt_p->
tokí
.
lô_loˇti⁄
.
ty≥
;

280 
c⁄ãxt_p
->
œ°_cbc
.
lôîÆ_obje˘_ty≥
 = c⁄ãxt_p->
lô_obje˘
.
ty≥
;

281 
	}
}

287 
	$∑r£r_emô_cbc_ˇŒ
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

288 
uöt16_t
 
›code
,

289 
size_t
 
ˇŒ_¨gumíts
)

291 
	`JERRY_ASSERT
 (
	`PARSER_ARGS_EQ
 (
›code
, 
CBC_HAS_BYTE_ARG
));

292 
	`JERRY_ASSERT
 (
ˇŒ_¨gumíts
 <
CBC_MAXIMUM_BYTE_VALUE
);

294 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

296 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

299 
c⁄ãxt_p
->
œ°_cbc_›code
 = 
›code
;

300 
c⁄ãxt_p
->
œ°_cbc
.
vÆue
 = (
uöt16_t
Ë
ˇŒ_¨gumíts
;

301 
	}
}

307 
	$∑r£r_emô_cbc_push_numbî
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

308 
boﬁ
 
is_√g©ive_numbî
)

310 
uöt16_t
 
vÆue
 = 
c⁄ãxt_p
->
lô_obje˘
.
ödex
;

312 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

314 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

317 
cbc_›code_t
 
›code
 = 
is_√g©ive_numbî
 ? 
CBC_PUSH_NUMBER_NEG_BYTE
 : 
CBC_PUSH_NUMBER_POS_BYTE
;

319 
	`JERRY_ASSERT
 (
vÆue
 > 0 && vÆuê<
CBC_PUSH_NUMBER_BYTE_RANGE_END
);

320 
	`JERRY_ASSERT
 (
	`CBC_STACK_ADJUST_VALUE
 (
cbc_Êags
[
›code
]) == 1);

322 
c⁄ãxt_p
->
°ack_dïth
++;

324 #ifde‡
PARSER_DUMP_BYTE_CODE


325 i‡(
c⁄ãxt_p
->
is_show_›codes
)

327 
ªÆ_vÆue
 = 
vÆue
;

329 i‡(
is_√g©ive_numbî
)

331 
ªÆ_vÆue
 = -real_value;

334 
	`JERRY_DEBUG_MSG
 (" [%3d] %sÇumber:%d\n",

335 (Ë
c⁄ãxt_p
->
°ack_dïth
,

336 
cbc_«mes
[
›code
],

337 
ªÆ_vÆue
);

341 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
, 
›code
, (
uöt8_t
Ë(
vÆue
 - 1));

343 
c⁄ãxt_p
->
byã_code_size
 += 2;

345 i‡(
c⁄ãxt_p
->
°ack_dïth
 > c⁄ãxt_p->
°ack_limô
)

347 
c⁄ãxt_p
->
°ack_limô
 = c⁄ãxt_p->
°ack_dïth
;

348 i‡(
c⁄ãxt_p
->
°ack_limô
 > 
PARSER_MAXIMUM_STACK_LIMIT
)

350 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STACK_LIMIT_REACHED
);

353 
	}
}

359 
	$∑r£r_emô_cbc_f‹w¨d_bønch
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

360 
uöt16_t
 
›code
,

361 
∑r£r_bønch_t
 *
bønch_p
)

363 
uöt8_t
 
Êags
;

364 
uöt32_t
 
exåa_byã_code_ö¸ó£
;

366 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

368 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

371 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_NO_END_LABEL
;

373 i‡(
	`PARSER_IS_BASIC_OPCODE
 (
›code
))

375 
	`JERRY_ASSERT
 (
›code
 < 
CBC_END
);

376 
Êags
 = 
cbc_Êags
[
›code
];

377 
exåa_byã_code_ö¸ó£
 = 0;

381 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 
CBC_EXT_OPCODE
);

382 
›code
 = (
uöt16_t
Ë
	`PARSER_GET_EXT_OPCODE
 (opcode);

384 
	`JERRY_ASSERT
 (
›code
 < 
CBC_EXT_END
);

385 
Êags
 = 
cbc_ext_Êags
[
›code
];

386 
exåa_byã_code_ö¸ó£
 = 1;

389 
	`JERRY_ASSERT
 (
Êags
 & 
CBC_HAS_BRANCH_ARG
);

390 
	`JERRY_ASSERT
 (
	`CBC_BRANCH_IS_FORWARD
 (
Êags
));

391 
	`JERRY_ASSERT
 (
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
) == 1);

394 
	`JERRY_ASSERT
 ((
Êags
 >> 
CBC_STACK_ADJUST_SHIFT
Ë>
CBC_STACK_ADJUST_BASE


395 || (
CBC_STACK_ADJUST_BASE
 - (
Êags
 >> 
CBC_STACK_ADJUST_SHIFT
)Ë<
c⁄ãxt_p
->
°ack_dïth
);

396 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
	`CBC_STACK_ADJUST_VALUE
 (
Êags
));

398 #ifde‡
PARSER_DUMP_BYTE_CODE


399 i‡(
c⁄ãxt_p
->
is_show_›codes
)

401 i‡(
exåa_byã_code_ö¸ó£
 == 0)

403 
	`JERRY_DEBUG_MSG
 (" [%3d] %s\n", (Ë
c⁄ãxt_p
->
°ack_dïth
, 
cbc_«mes
[
›code
]);

407 
	`JERRY_DEBUG_MSG
 (" [%3d] %s\n", (Ë
c⁄ãxt_p
->
°ack_dïth
, 
cbc_ext_«mes
[
›code
]);

412 #i‡
PARSER_MAXIMUM_CODE_SIZE
 <= 65535

413 
›code
++;

415 
	`PARSER_PLUS_EQUAL_U16
 (
›code
, 2);

418 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
, (
uöt8_t
Ë
›code
, 0);

419 
bønch_p
->
∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
œ°_p
;

420 
bønch_p
->
off£t
 = (
c⁄ãxt_p
->
byã_code
.
œ°_posôi⁄
 - 1Ë| (c⁄ãxt_p->
byã_code_size
 << 8);

422 
c⁄ãxt_p
->
byã_code_size
 +
exåa_byã_code_ö¸ó£
;

424 #i‡
PARSER_MAXIMUM_CODE_SIZE
 <= 65535

425 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 0);

426 
c⁄ãxt_p
->
byã_code_size
 += 3;

428 
	`∑r£r_emô_two_byãs
 (
c⁄ãxt_p
, 0, 0);

429 
c⁄ãxt_p
->
byã_code_size
 += 4;

432 i‡(
c⁄ãxt_p
->
°ack_dïth
 > c⁄ãxt_p->
°ack_limô
)

434 
c⁄ãxt_p
->
°ack_limô
 = c⁄ãxt_p->
°ack_dïth
;

435 i‡(
c⁄ãxt_p
->
°ack_limô
 > 
PARSER_MAXIMUM_STACK_LIMIT
)

437 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STACK_LIMIT_REACHED
);

440 
	}
}

445 
∑r£r_bønch_node_t
 *

446 
	$∑r£r_emô_cbc_f‹w¨d_bønch_ôem
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

447 
uöt16_t
 
›code
,

448 
∑r£r_bønch_node_t
 *
√xt_p
)

450 
∑r£r_bønch_t
 
bønch
;

451 
∑r£r_bønch_node_t
 *
√w_ôem
;

455 
	`∑r£r_emô_cbc_f‹w¨d_bønch
 (
c⁄ãxt_p
, 
›code
, &
bønch
);

457 
√w_ôem
 = (
∑r£r_bønch_node_t
 *Ë
	`∑r£r_mÆloc
 (
c⁄ãxt_p
,  (parser_branch_node_t));

458 
√w_ôem
->
bønch
 = branch;

459 
√w_ôem
->
√xt_p
 =Çext_p;

460  
√w_ôem
;

461 
	}
}

467 
	$∑r£r_emô_cbc_backw¨d_bønch
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

468 
uöt16_t
 
›code
,

469 
uöt32_t
 
off£t
)

471 
uöt8_t
 
Êags
;

472 #ifde‡
PARSER_DUMP_BYTE_CODE


473 c⁄° *
«me
;

476 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

478 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

481 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_NO_END_LABEL
;

482 
off£t
 = 
c⁄ãxt_p
->
byã_code_size
 - offset;

484 i‡(
	`PARSER_IS_BASIC_OPCODE
 (
›code
))

486 
	`JERRY_ASSERT
 (
›code
 < 
CBC_END
);

487 
Êags
 = 
cbc_Êags
[
›code
];

489 #ifde‡
PARSER_DUMP_BYTE_CODE


490 
«me
 = 
cbc_«mes
[
›code
];

495 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 
CBC_EXT_OPCODE
);

496 
›code
 = (
uöt16_t
Ë
	`PARSER_GET_EXT_OPCODE
 (opcode);

498 
	`JERRY_ASSERT
 (
›code
 < 
CBC_EXT_END
);

499 
Êags
 = 
cbc_ext_Êags
[
›code
];

500 
c⁄ãxt_p
->
byã_code_size
++;

502 #ifde‡
PARSER_DUMP_BYTE_CODE


503 
«me
 = 
cbc_ext_«mes
[
›code
];

507 
	`JERRY_ASSERT
 (
Êags
 & 
CBC_HAS_BRANCH_ARG
);

508 
	`JERRY_ASSERT
 (
	`CBC_BRANCH_IS_BACKWARD
 (
Êags
));

509 
	`JERRY_ASSERT
 (
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
) == 1);

510 
	`JERRY_ASSERT
 (
off£t
 <
c⁄ãxt_p
->
byã_code_size
);

513 
	`JERRY_ASSERT
 ((
Êags
 >> 
CBC_STACK_ADJUST_SHIFT
Ë>
CBC_STACK_ADJUST_BASE


514 || (
CBC_STACK_ADJUST_BASE
 - (
Êags
 >> 
CBC_STACK_ADJUST_SHIFT
)Ë<
c⁄ãxt_p
->
°ack_dïth
);

515 
	`PARSER_PLUS_EQUAL_U16
 (
c⁄ãxt_p
->
°ack_dïth
, 
	`CBC_STACK_ADJUST_VALUE
 (
Êags
));

517 #ifde‡
PARSER_DUMP_BYTE_CODE


518 i‡(
c⁄ãxt_p
->
is_show_›codes
)

520 
	`JERRY_DEBUG_MSG
 (" [%3d] %s\n", (Ë
c⁄ãxt_p
->
°ack_dïth
, 
«me
);

524 
c⁄ãxt_p
->
byã_code_size
 += 2;

525 #i‡
PARSER_MAXIMUM_CODE_SIZE
 <= 65535

526 i‡(
off£t
 > 255)

528 
›code
++;

529 
c⁄ãxt_p
->
byã_code_size
++;

532 i‡(
off£t
 > 65535)

534 
	`PARSER_PLUS_EQUAL_U16
 (
›code
, 2);

535 
c⁄ãxt_p
->
byã_code_size
 += 2;

537 i‡(
off£t
 > 255)

539 
›code
++;

540 
c⁄ãxt_p
->
byã_code_size
++;

544 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, (
uöt8_t
Ë
›code
);

546 #i‡
PARSER_MAXIMUM_CODE_SIZE
 > 65535

547 i‡(
off£t
 > 65535)

549 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 
off£t
 >> 16);

553 i‡(
off£t
 > 255)

555 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, (
off£t
 >> 8) & 0xff);

558 
	`PARSER_APPEND_TO_BYTE_CODE
 (
c⁄ãxt_p
, 
off£t
 & 0xff);

559 
	}
}

561 #unde‡
PARSER_CHECK_LAST_POSITION


562 #unde‡
PARSER_APPEND_TO_BYTE_CODE


568 
	$∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

569 
∑r£r_bønch_t
 *
bønch_p
)

571 
uöt32_t
 
dñè
;

572 
size_t
 
off£t
;

573 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
bønch_p
->page_p;

575 i‡(
c⁄ãxt_p
->
œ°_cbc_›code
 !
PARSER_CBC_UNAVAILABLE
)

577 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

580 
c⁄ãxt_p
->
°©us_Êags
 &~
PARSER_NO_END_LABEL
;

582 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
byã_code_size
 > (
bønch_p
->
off£t
 >> 8));

584 
dñè
 = 
c⁄ãxt_p
->
byã_code_size
 - (
bønch_p
->
off£t
 >> 8);

585 
off£t
 = (
bønch_p
->off£à& 
CBC_LOWER_SEVEN_BIT_MASK
);

587 
	`JERRY_ASSERT
 (
dñè
 <
PARSER_MAXIMUM_CODE_SIZE
);

589 #i‡
PARSER_MAXIMUM_CODE_SIZE
 <= 65535

590 
∑ge_p
->
byãs
[
off£t
++] = (
uöt8_t
Ë(
dñè
 >> 8);

591 i‡(
off£t
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

593 
∑ge_p
 =Öage_p->
√xt_p
;

594 
off£t
 = 0;

597 
∑ge_p
->
byãs
[
off£t
++] = (
uöt8_t
Ë(
dñè
 >> 16);

598 i‡(
off£t
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

600 
∑ge_p
 =Öage_p->
√xt_p
;

601 
off£t
 = 0;

603 
∑ge_p
->
byãs
[
off£t
++] = (
uöt8_t
Ë((
dñè
 >> 8) & 0xff);

604 i‡(
off£t
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

606 
∑ge_p
 =Öage_p->
√xt_p
;

607 
off£t
 = 0;

610 
∑ge_p
->
byãs
[
off£t
++] = 
dñè
 & 0xff;

611 
	}
}

617 
	$∑r£r_£t_bªaks_to_cuºít_posôi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

618 
∑r£r_bønch_node_t
 *
cuºít_p
)

620 
cuºít_p
 !
NULL
)

622 
∑r£r_bønch_node_t
 *
√xt_p
 = 
cuºít_p
->next_p;

624 i‡(!(
cuºít_p
->
bønch
.
off£t
 & 
CBC_HIGHEST_BIT_MASK
))

626 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
cuºít_p
->
bønch
);

628 
	`∑r£r_‰ì
 (
cuºít_p
,  (
∑r£r_bønch_node_t
));

629 
cuºít_p
 = 
√xt_p
;

631 
	}
}

637 
	$∑r£r_£t_c⁄töues_to_cuºít_posôi⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

638 
∑r£r_bønch_node_t
 *
cuºít_p
)

640 
cuºít_p
 !
NULL
)

642 i‡(
cuºít_p
->
bønch
.
off£t
 & 
CBC_HIGHEST_BIT_MASK
)

644 
	`∑r£r_£t_bønch_to_cuºít_posôi⁄
 (
c⁄ãxt_p
, &
cuºít_p
->
bønch
);

646 
cuºít_p
 = cuºít_p->
√xt_p
;

648 
	}
}

650 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


655 
	$∑r£r_îr‹_to_°rög
 (
∑r£r_îr‹_t
 
îr‹
)

657 
îr‹
)

659 
PARSER_ERR_OUT_OF_MEMORY
:

663 
PARSER_ERR_LITERAL_LIMIT_REACHED
:

667 
PARSER_ERR_ARGUMENT_LIMIT_REACHED
:

671 
PARSER_ERR_STACK_LIMIT_REACHED
:

675 
PARSER_ERR_REGISTER_LIMIT_REACHED
:

679 
PARSER_ERR_INVALID_CHARACTER
:

683 
PARSER_ERR_INVALID_HEX_DIGIT
:

687 
PARSER_ERR_INVALID_ESCAPE_SEQUENCE
:

691 
PARSER_ERR_INVALID_UNICODE_ESCAPE_SEQUENCE
:

695 
PARSER_ERR_INVALID_IDENTIFIER_START
:

699 
PARSER_ERR_INVALID_IDENTIFIER_PART
:

703 
PARSER_ERR_INVALID_NUMBER
:

707 
PARSER_ERR_MISSING_EXPONENT
:

711 
PARSER_ERR_IDENTIFIER_AFTER_NUMBER
:

715 
PARSER_ERR_INVALID_REGEXP
:

719 
PARSER_ERR_UNKNOWN_REGEXP_FLAG
:

723 
PARSER_ERR_DUPLICATED_REGEXP_FLAG
:

727 
PARSER_ERR_UNSUPPORTED_REGEXP
:

731 
PARSER_ERR_IDENTIFIER_TOO_LONG
:

735 
PARSER_ERR_STRING_TOO_LONG
:

739 
PARSER_ERR_NUMBER_TOO_LONG
:

743 
PARSER_ERR_REGEXP_TOO_LONG
:

747 
PARSER_ERR_UNTERMINATED_MULTILINE_COMMENT
:

751 
PARSER_ERR_UNTERMINATED_STRING
:

755 
PARSER_ERR_UNTERMINATED_REGEXP
:

759 
PARSER_ERR_NEWLINE_NOT_ALLOWED
:

763 
PARSER_ERR_OCTAL_NUMBER_NOT_ALLOWED
:

767 
PARSER_ERR_OCTAL_ESCAPE_NOT_ALLOWED
:

771 
PARSER_ERR_STRICT_IDENT_NOT_ALLOWED
:

775 
PARSER_ERR_EVAL_NOT_ALLOWED
:

779 
PARSER_ERR_ARGUMENTS_NOT_ALLOWED
:

783 
PARSER_ERR_DELETE_IDENT_NOT_ALLOWED
:

787 
PARSER_ERR_EVAL_CANNOT_ASSIGNED
:

791 
PARSER_ERR_ARGUMENTS_CANNOT_ASSIGNED
:

795 
PARSER_ERR_WITH_NOT_ALLOWED
:

799 
PARSER_ERR_MULTIPLE_DEFAULTS_NOT_ALLOWED
:

803 
PARSER_ERR_DEFAULT_NOT_IN_SWITCH
:

807 
PARSER_ERR_CASE_NOT_IN_SWITCH
:

811 
PARSER_ERR_LEFT_PAREN_EXPECTED
:

815 
PARSER_ERR_LEFT_BRACE_EXPECTED
:

819 
PARSER_ERR_RIGHT_PAREN_EXPECTED
:

823 
PARSER_ERR_RIGHT_SQUARE_EXPECTED
:

827 
PARSER_ERR_COLON_EXPECTED
:

831 
PARSER_ERR_COLON_FOR_CONDITIONAL_EXPECTED
:

835 
PARSER_ERR_SEMICOLON_EXPECTED
:

839 
PARSER_ERR_IN_EXPECTED
:

843 
PARSER_ERR_WHILE_EXPECTED
:

847 
PARSER_ERR_CATCH_FINALLY_EXPECTED
:

851 
PARSER_ERR_ARRAY_ITEM_SEPARATOR_EXPECTED
:

855 
PARSER_ERR_OBJECT_ITEM_SEPARATOR_EXPECTED
:

859 
PARSER_ERR_IDENTIFIER_EXPECTED
:

863 
PARSER_ERR_EXPRESSION_EXPECTED
:

867 
PARSER_ERR_PRIMARY_EXP_EXPECTED
:

871 
PARSER_ERR_STATEMENT_EXPECTED
:

875 
PARSER_ERR_PROPERTY_IDENTIFIER_EXPECTED
:

879 
PARSER_ERR_ARGUMENT_LIST_EXPECTED
:

883 
PARSER_ERR_NO_ARGUMENTS_EXPECTED
:

887 
PARSER_ERR_ONE_ARGUMENT_EXPECTED
:

891 
PARSER_ERR_INVALID_EXPRESSION
:

895 
PARSER_ERR_INVALID_SWITCH
:

899 
PARSER_ERR_INVALID_BREAK
:

903 
PARSER_ERR_INVALID_BREAK_LABEL
:

907 
PARSER_ERR_INVALID_CONTINUE
:

911 
PARSER_ERR_INVALID_CONTINUE_LABEL
:

915 
PARSER_ERR_INVALID_RETURN
:

919 
PARSER_ERR_INVALID_RIGHT_SQUARE
:

923 
PARSER_ERR_DUPLICATED_LABEL
:

927 
PARSER_ERR_OBJECT_PROPERTY_REDEFINED
:

931 
PARSER_ERR_NON_STRICT_ARG_DEFINITION
:

937 
	`JERRY_ASSERT
 (
îr‹
 =
PARSER_ERR_NO_ERROR
);

941 
	}
}

	@deps/jerry/jerry-core/parser/js/js-parser.c

16 
	~"debuggî.h
"

17 
	~"ecma-ex˚±i⁄s.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-lôîÆ-°‹age.h
"

20 
	~"jc⁄ãxt.h
"

21 
	~"js-∑r£r-öã∫Æ.h
"

23 #i‡
JERRY_JS_PARSER


39 
	$∑r£r_c›y_idítifõrs
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

41 
∑r£r_ßved_c⁄ãxt_t
 *
∑ª¡_p
 = 
c⁄ãxt_p
->
œ°_c⁄ãxt_p
;

43 i‡(
∑ª¡_p
 =
NULL
 ||Ö¨ít_p->
¥ev_c⁄ãxt_p
 == NULL)

49 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_NO_REG_STORE
)

52 
∑ª¡_p
->
°©us_Êags
 |
PARSER_NO_REG_STORE
;

56 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

57 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

59 
∑r£r_li°_t
 
∑ª¡_lôîÆ_poﬁ
;

62 
∑ª¡_lôîÆ_poﬁ
.
d©a
 = 
∑ª¡_p
->
lôîÆ_poﬁ_d©a
;

63 
∑ª¡_lôîÆ_poﬁ
.
∑ge_size
 = 
c⁄ãxt_p
->
lôîÆ_poﬁ
.page_size;

64 
∑ª¡_lôîÆ_poﬁ
.
ôem_size
 = 
c⁄ãxt_p
->
lôîÆ_poﬁ
.item_size;

65 
∑ª¡_lôîÆ_poﬁ
.
ôem_cou¡
 = 
c⁄ãxt_p
->
lôîÆ_poﬁ
.item_count;

67 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

68 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

70 i‡(
lôîÆ_p
->
ty≥
 !
LEXER_IDENT_LITERAL
 || (lôîÆ_p->
°©us_Êags
 & 
LEXER_FLAG_VAR
))

75 
∑r£r_li°_ôî©‹_t
 
∑ª¡_lôîÆ_ôî©‹
;

76 
	`∑r£r_li°_ôî©‹_öô
 (&
∑ª¡_lôîÆ_poﬁ
, &
∑ª¡_lôîÆ_ôî©‹
);

78 
Àxî_lôîÆ_t
 *
∑ª¡_lôîÆ_p
;

79 c⁄° 
uöt8_t
 *
ch¨_p
 = 
lôîÆ_p
->
u
.char_p;

80 
size_t
 
Àngth
 = 
lôîÆ_p
->
¥›
.length;

82 (
∑ª¡_lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
∑ª¡_lôîÆ_ôî©‹
)Ë!
NULL
)

84 i‡(
∑ª¡_lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL


85 && 
∑ª¡_lôîÆ_p
->
¥›
.
Àngth
 ==Üength

86 && 
	`memcmp
 (
∑ª¡_lôîÆ_p
->
u
.
ch¨_p
, ch¨_p, 
Àngth
) == 0)

89 
∑ª¡_lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

94 i‡(
∑ª¡_lôîÆ_p
 !
NULL
)

99 i‡(
∑ª¡_p
->
lôîÆ_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

101 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

104 
∑ª¡_lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &
∑ª¡_lôîÆ_poﬁ
);

107 
∑ª¡_p
->
lôîÆ_poﬁ_d©a
 = 
∑ª¡_lôîÆ_poﬁ
.
d©a
;

109 
∑ª¡_lôîÆ_p
->
¥›
.
Àngth
 = (
uöt16_t
)Üength;

110 
∑ª¡_lôîÆ_p
->
ty≥
 = 
LEXER_IDENT_LITERAL
;

111 
∑ª¡_lôîÆ_p
->
°©us_Êags
 = (
uöt8_t
Ë(
lôîÆ_p
->°©us_Êag†& 
LEXER_FLAG_SOURCE_PTR
);

112 
∑ª¡_lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
 | 
LEXER_FLAG_UNUSED_IDENT
;

113 
∑ª¡_lôîÆ_p
->
u
.
ch¨_p
 = char_p;

117 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_SOURCE_PTR
;

119 
∑ª¡_p
->
lôîÆ_cou¡
++;

121 
	}
}

128 
size_t


129 
	$∑r£r_compuã_ödicõs
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

130 
uöt16_t
 *
idít_íd
,

131 
uöt16_t
 *
unöôülized_v¨_íd
,

132 
uöt16_t
 *
öôülized_v¨_íd
,

133 
uöt16_t
 *
c⁄°_lôîÆ_íd
)

135 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

136 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

137 
size_t
 
Àngth
 = 0;

138 
uöt16_t
 
lôîÆ_⁄e_byã_limô
;

139 
uöt32_t
 
°©us_Êags
 = 
c⁄ãxt_p
->status_flags;

140 
uöt16_t
 
¨gumít_cou¡
;

142 
uöt16_t
 
ªgi°î_cou¡
 = 
c⁄ãxt_p
->register_count;

143 
uöt16_t
 
unöôülized_v¨_cou¡
 = 0;

144 
uöt16_t
 
öôülized_v¨_cou¡
 = 0;

145 
uöt16_t
 
idít_cou¡
 = 0;

146 
uöt16_t
 
c⁄°_lôîÆ_cou¡
 = 0;

148 
uöt16_t
 
ªgi°î_ödex
;

149 
uöt16_t
 
unöôülized_v¨_ödex
;

150 
uöt16_t
 
öôülized_v¨_ödex
;

151 
uöt16_t
 
idít_ödex
;

152 
uöt16_t
 
c⁄°_lôîÆ_ödex
;

153 
uöt16_t
 
lôîÆ_ödex
;

155 i‡(
°©us_Êags
 & 
PARSER_ARGUMENTS_NOT_NEEDED
)

157 
°©us_Êags
 &~
PARSER_ARGUMENTS_NEEDED
;

158 
c⁄ãxt_p
->
°©us_Êags
 = status_flags;

162 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

163 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

165 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_UNUSED_IDENT
)

167 #i‚de‡
PARSER_DUMP_BYTE_CODE


168 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_SOURCE_PTR
))

170 
	`jmem_hóp_‰ì_block
 ((*Ë
lôîÆ_p
->
u
.
ch¨_p
,ÜôîÆ_p->
¥›
.
Àngth
);

174 
c⁄ãxt_p
->
lôîÆ_cou¡
--;

178 #i‚de‡
PARSER_DUMP_BYTE_CODE


179 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL


180 || 
lôîÆ_p
->
ty≥
 =
LEXER_STRING_LITERAL
)

182 c⁄° 
uöt8_t
 *
ch¨_p
 = 
lôîÆ_p
->
u
.char_p;

184 i‡((
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_SOURCE_PTR
)

185 && 
lôîÆ_p
->
¥›
.
Àngth
 < 0xfff)

187 
size_t
 
byãs_to_íd
 = (size_tË(
c⁄ãxt_p
->
sour˚_íd_p
 - 
ch¨_p
);

189 i‡(
byãs_to_íd
 < 0xfffff)

191 
lôîÆ_p
->
u
.
sour˚_d©a
 = ((
uöt32_t
Ë
byãs_to_íd
Ë| (((uöt32_tËlôîÆ_p->
¥›
.
Àngth
) << 20);

192 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_LATE_INIT
;

193 
°©us_Êags
 |
PARSER_HAS_LATE_LIT_INIT
;

194 
c⁄ãxt_p
->
°©us_Êags
 = status_flags;

195 
ch¨_p
 = 
NULL
;

199 i‡(
ch¨_p
 !
NULL
)

201 
lôîÆ_p
->
u
.
vÆue
 = 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
ch¨_p
,

202 
lôîÆ_p
->
¥›
.
Àngth
);

204 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_SOURCE_PTR
))

206 
	`jmem_hóp_‰ì_block
 ((*Ë
ch¨_p
, 
lôîÆ_p
->
¥›
.
Àngth
);

212 
lôîÆ_p
->
ty≥
)

214 
LEXER_IDENT_LITERAL
:

216 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_VAR
)

218 i‡(
°©us_Êags
 & 
PARSER_NO_REG_STORE
)

220 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

223 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_INITIALIZED
)

225 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_NAME
)

227 
	`JERRY_ASSERT
 (
lôîÆ_p
 =
	`PARSER_GET_LITERAL
 (0));

229 
°©us_Êags
 |
PARSER_NAMED_FUNCTION_EXP
;

230 
c⁄ãxt_p
->
°©us_Êags
 = status_flags;

232 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

233 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

236 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

238 i‡((
°©us_Êags
 & 
PARSER_ARGUMENTS_NEEDED
)

239 && !(
°©us_Êags
 & 
PARSER_IS_STRICT
))

241 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

246 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
)

248 
öôülized_v¨_cou¡
++;

249 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

252 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
)

253 && 
ªgi°î_cou¡
 < 
PARSER_MAXIMUM_NUMBER_OF_REGISTERS
)

255 
ªgi°î_cou¡
++;

259 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

260 
öôülized_v¨_cou¡
++;

263 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

265 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

268 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
)

269 && 
ªgi°î_cou¡
 < 
PARSER_MAXIMUM_NUMBER_OF_REGISTERS
)

271 
ªgi°î_cou¡
++;

275 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_NO_REG_STORE
;

276 
unöôülized_v¨_cou¡
++;

279 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
)

281 
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
;

282 
c⁄ãxt_p
->
°©us_Êags
 = status_flags;

287 
idít_cou¡
++;

291 
LEXER_STRING_LITERAL
:

292 
LEXER_NUMBER_LITERAL
:

294 
c⁄°_lôîÆ_cou¡
++;

297 
LEXER_UNUSED_LITERAL
:

299 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
))

301 
c⁄ãxt_p
->
lôîÆ_cou¡
--;

308 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 <
CBC_MAXIMUM_SMALL_VALUE
)

310 
lôîÆ_⁄e_byã_limô
 = 
CBC_MAXIMUM_BYTE_VALUE
 - 1;

314 
lôîÆ_⁄e_byã_limô
 = 
CBC_LOWER_SEVEN_BIT_MASK
;

317 i‡(
unöôülized_v¨_cou¡
 > 0)

320 
Àngth
 += 2;

321 i‡((
ªgi°î_cou¡
 + 
unöôülized_v¨_cou¡
 - 1Ë> 
lôîÆ_⁄e_byã_limô
)

323 
Àngth
++;

327 
ªgi°î_ödex
 = 
c⁄ãxt_p
->
ªgi°î_cou¡
;

328 
unöôülized_v¨_ödex
 = 
ªgi°î_cou¡
;

329 
öôülized_v¨_ödex
 = (
uöt16_t
Ë(
unöôülized_v¨_ödex
 + 
unöôülized_v¨_cou¡
);

330 
idít_ödex
 = (
uöt16_t
Ë(
öôülized_v¨_ödex
 + 
öôülized_v¨_cou¡
);

331 
c⁄°_lôîÆ_ödex
 = (
uöt16_t
Ë(
idít_ödex
 + 
idít_cou¡
);

332 
lôîÆ_ödex
 = (
uöt16_t
Ë(
c⁄°_lôîÆ_ödex
 + 
c⁄°_lôîÆ_cou¡
);

334 i‡(
öôülized_v¨_cou¡
 > 2)

336 
°©us_Êags
 |
PARSER_HAS_INITIALIZED_VARS
;

337 
c⁄ãxt_p
->
°©us_Êags
 = status_flags;

340 
Àngth
 += 3;

341 i‡(
öôülized_v¨_ödex
 > 
lôîÆ_⁄e_byã_limô
)

343 
Àngth
++;

345 i‡(
idít_ödex
 - 1 > 
lôîÆ_⁄e_byã_limô
)

347 
Àngth
++;

352 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

353 
¨gumít_cou¡
 = 0;

355 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

357 
uöt16_t
 
öô_ödex
;

359 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_UNUSED_IDENT
)

364 i‡(
lôîÆ_p
->
ty≥
 !
LEXER_IDENT_LITERAL
)

366 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_STRING_LITERAL


367 || 
lôîÆ_p
->
ty≥
 =
LEXER_NUMBER_LITERAL
)

369 
	`JERRY_ASSERT
 ((
lôîÆ_p
->
°©us_Êags
 & ~(
LEXER_FLAG_SOURCE_PTR
 | 
LEXER_FLAG_LATE_INIT
)) == 0);

370 
lôîÆ_p
->
¥›
.
ödex
 = 
c⁄°_lôîÆ_ödex
;

371 
c⁄°_lôîÆ_ödex
++;

375 i‡(
lôîÆ_p
->
ty≥
 !
LEXER_UNUSED_LITERAL
)

377 
	`JERRY_ASSERT
 (
lôîÆ_p
->
°©us_Êags
 == 0);

378 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL


379 || 
lôîÆ_p
->
ty≥
 =
LEXER_REGEXP_LITERAL
);

381 
lôîÆ_p
->
¥›
.
ödex
 = 
lôîÆ_ödex
;

382 
lôîÆ_ödex
++;

386 
	`JERRY_ASSERT
 ((
lôîÆ_p
->
°©us_Êags
 & ~(
LEXER_FLAG_FUNCTION_ARGUMENT
 | 
LEXER_FLAG_SOURCE_PTR
)) == 0);

388 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

390 
¨gumít_cou¡
++;

395 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_VAR
))

397 
lôîÆ_p
->
¥›
.
ödex
 = 
idít_ödex
;

398 
idít_ödex
++;

402 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_INITIALIZED
))

404 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
))

406 
	`JERRY_ASSERT
 (
ªgi°î_cou¡
 <
PARSER_MAXIMUM_NUMBER_OF_REGISTERS
);

408 
lôîÆ_p
->
¥›
.
ödex
 = 
ªgi°î_ödex
;

409 
ªgi°î_ödex
++;

413 
lôîÆ_p
->
¥›
.
ödex
 = 
unöôülized_v¨_ödex
;

414 
unöôülized_v¨_ödex
++;

419 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

421 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
)

423 
lôîÆ_p
->
¥›
.
ödex
 = 
öôülized_v¨_ödex
;

424 
öôülized_v¨_ödex
++;

425 
öô_ödex
 = 
¨gumít_cou¡
;

426 
¨gumít_cou¡
++;

430 
lôîÆ_p
->
¥›
.
ödex
 = 
¨gumít_cou¡
;

431 
¨gumít_cou¡
++;

437 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
))

439 
	`JERRY_ASSERT
 (
ªgi°î_cou¡
 <
PARSER_MAXIMUM_NUMBER_OF_REGISTERS
);

441 
lôîÆ_p
->
¥›
.
ödex
 = 
ªgi°î_ödex
;

442 
ªgi°î_ödex
++;

446 
lôîÆ_p
->
¥›
.
ödex
 = 
öôülized_v¨_ödex
;

447 
öôülized_v¨_ödex
++;

450 
öô_ödex
 = 
lôîÆ_ödex
;

451 
lôîÆ_ödex
++;

453 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_NAME
))

455 
Àxî_lôîÆ_t
 *
func_lôîÆ_p
 = (Àxî_lôîÆ_à*Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
);

457 
	`JERRY_ASSERT
 (
func_lôîÆ_p
 !
NULL


458 && 
func_lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL
);

459 
func_lôîÆ_p
->
¥›
.
ödex
 = 
öô_ödex
;

464 i‡(!(
°©us_Êags
 & 
PARSER_HAS_INITIALIZED_VARS
)

465 || !(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_NO_REG_STORE
))

467 
Àngth
 += 2;

468 i‡(
lôîÆ_p
->
¥›
.
ödex
 > 
lôîÆ_⁄e_byã_limô
)

470 
Àngth
++;

474 
Àngth
++;

475 i‡(
öô_ödex
 > 
lôîÆ_⁄e_byã_limô
)

477 
Àngth
++;

481 
	`JERRY_ASSERT
 (
¨gumít_cou¡
 =
c⁄ãxt_p
->argument_count);

482 
	`JERRY_ASSERT
 (
ªgi°î_ödex
 =
ªgi°î_cou¡
);

483 
	`JERRY_ASSERT
 (
unöôülized_v¨_ödex
 =
ªgi°î_cou¡
 + 
unöôülized_v¨_cou¡
);

484 
	`JERRY_ASSERT
 (
öôülized_v¨_ödex
 =
unöôülized_v¨_ödex
 + 
öôülized_v¨_cou¡
);

485 
	`JERRY_ASSERT
 (
idít_ödex
 =
öôülized_v¨_ödex
 + 
idít_cou¡
);

486 
	`JERRY_ASSERT
 (
c⁄°_lôîÆ_ödex
 =
idít_ödex
 + 
c⁄°_lôîÆ_cou¡
);

487 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 =
c⁄ãxt_p
->
lôîÆ_cou¡
);

489 *
idít_íd
 = 
idít_ödex
;

490 *
unöôülized_v¨_íd
 = 
unöôülized_v¨_ödex
;

491 *
öôülized_v¨_íd
 = 
öôülized_v¨_ödex
;

492 *
c⁄°_lôîÆ_íd
 = 
c⁄°_lôîÆ_ödex
;

493 
c⁄ãxt_p
->
ªgi°î_cou¡
 = 
ªgi°î_ödex
;

495  
Àngth
;

496 
	}
}

503 
ölöe
 
uöt8_t
 *

504 
	$∑r£r_ícode_lôîÆ
 (
uöt8_t
 *
d°_p
,

505 
uöt16_t
 
lôîÆ_ödex
,

506 
uöt16_t
 
lôîÆ_⁄e_byã_limô
)

509 i‡(
lôîÆ_ödex
 <
lôîÆ_⁄e_byã_limô
)

511 *
d°_p
++ = (
uöt8_t
Ë(
lôîÆ_ödex
);

515 i‡(
lôîÆ_⁄e_byã_limô
 =
CBC_MAXIMUM_BYTE_VALUE
 - 1)

517 *
d°_p
++ = (
uöt8_t
Ë(
CBC_MAXIMUM_BYTE_VALUE
);

518 *
d°_p
++ = (
uöt8_t
Ë(
lôîÆ_ödex
 - 
CBC_MAXIMUM_BYTE_VALUE
);

522 *
d°_p
++ = (
uöt8_t
Ë((
lôîÆ_ödex
 >> 8Ë| 
CBC_HIGHEST_BIT_MASK
);

523 *
d°_p
++ = (
uöt8_t
Ë(
lôîÆ_ödex
 & 
CBC_MAXIMUM_BYTE_VALUE
);

526  
d°_p
;

527 
	}
}

534 
uöt8_t
 *

535 
	$∑r£r_gíî©e_öôülizîs
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

536 
uöt8_t
 *
d°_p
,

537 
jmem_˝oöãr_t
 *
lôîÆ_poﬁ_p
,

538 
uöt16_t
 
unöôülized_v¨_íd
,

539 
uöt16_t
 
öôülized_v¨_íd
,

540 
uöt16_t
 
c⁄°_lôîÆ_íd
,

541 
uöt16_t
 
lôîÆ_⁄e_byã_limô
)

544 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

545 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

546 
uöt16_t
 
¨gumít_cou¡
;

548 i‡(
unöôülized_v¨_íd
 > 
c⁄ãxt_p
->
ªgi°î_cou¡
)

550 *
d°_p
++ = 
CBC_DEFINE_VARS
;

551 
d°_p
 = 
	`∑r£r_ícode_lôîÆ
 (dst_p,

552 (
uöt16_t
Ë(
unöôülized_v¨_íd
 - 1),

553 
lôîÆ_⁄e_byã_limô
);

556 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_HAS_INITIALIZED_VARS
)

558 c⁄° 
uöt8_t
 
ex≥˘ed_°©us_Êags
 = 
LEXER_FLAG_VAR
 | 
LEXER_FLAG_NO_REG_STORE
 | 
LEXER_FLAG_INITIALIZED
;

559 #i‚de‡
JERRY_NDEBUG


560 
uöt16_t
 
√xt_ödex
 = 
unöôülized_v¨_íd
;

563 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
;

565 *
d°_p
++ = 
CBC_INITIALIZE_VARS
;

566 
d°_p
 = 
	`∑r£r_ícode_lôîÆ
 (dst_p,

567 (
uöt16_t
Ë
unöôülized_v¨_íd
,

568 
lôîÆ_⁄e_byã_limô
);

569 
d°_p
 = 
	`∑r£r_ícode_lôîÆ
 (dst_p,

570 (
uöt16_t
Ë(
öôülized_v¨_íd
 - 1),

571 
lôîÆ_⁄e_byã_limô
);

573 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

574 
¨gumít_cou¡
 = 0;

576 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

578 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

580 
¨gumít_cou¡
++;

583 i‡((
lôîÆ_p
->
°©us_Êags
 & 
ex≥˘ed_°©us_Êags
) ==Éxpected_status_flags)

585 
uöt16_t
 
öô_ödex
;

587 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL
);

588 #i‚de‡
JERRY_NDEBUG


589 
	`JERRY_ASSERT
 (
lôîÆ_p
->
¥›
.
ödex
 =
√xt_ödex
);

590 
√xt_ödex
++;

592 
lôîÆ_p
->
°©us_Êags
 = (
uöt8_t
Ë÷ôîÆ_p->°©us_Êag†& ~
LEXER_FLAG_INITIALIZED
);

595 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_NAME
)

597 
öô_ödex
 = 
c⁄°_lôîÆ_íd
;

599 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

601 
öô_ödex
 = (
uöt16_t
Ë(
¨gumít_cou¡
 - 1);

605 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
);

607 
	`JERRY_ASSERT
 (
lôîÆ_p
 !
NULL


608 && 
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL
);

609 
öô_ödex
 = 
lôîÆ_p
->
¥›
.
ödex
;

612 
d°_p
 = 
	`∑r£r_ícode_lôîÆ
 (d°_p, 
öô_ödex
, 
lôîÆ_⁄e_byã_limô
);

616 
	`JERRY_ASSERT
 (
¨gumít_cou¡
 =
c⁄ãxt_p
->argument_count);

619 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

620 
¨gumít_cou¡
 = 0;

622 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

624 c⁄° 
uöt8_t
 
ex≥˘ed_°©us_Êags
 = 
LEXER_FLAG_VAR
 | 
LEXER_FLAG_INITIALIZED
;

626 i‡(
lôîÆ_p
->
ty≥
 !
LEXER_UNUSED_LITERAL
)

628 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL


629 || 
lôîÆ_p
->
ty≥
 =
LEXER_STRING_LITERAL
)

631 #ifde‡
PARSER_DUMP_BYTE_CODE


632 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_UNUSED_IDENT
))

634 
jmem_˝oöãr_t
 
lô_˝
 = 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
lôîÆ_p
->
u
.
ch¨_p
,

635 
lôîÆ_p
->
¥›
.
Àngth
);

636 
lôîÆ_poﬁ_p
[
lôîÆ_p
->
¥›
.
ödex
] = 
lô_˝
;

639 i‡(!
c⁄ãxt_p
->
is_show_›codes


640 && !(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_SOURCE_PTR
))

642 
	`jmem_hóp_‰ì_block
 ((*Ë
lôîÆ_p
->
u
.
ch¨_p
,ÜôîÆ_p->
¥›
.
Àngth
);

645 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_UNUSED_IDENT
))

647 
lôîÆ_poﬁ_p
[
lôîÆ_p
->
¥›
.
ödex
] =ÜôîÆ_p->
u
.
vÆue
;

651 i‡((
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL
)

652 || (
lôîÆ_p
->
ty≥
 =
LEXER_REGEXP_LITERAL
))

654 
	`ECMA_SET_NON_NULL_POINTER
 (
lôîÆ_poﬁ_p
[
lôîÆ_p
->
¥›
.
ödex
],

655 
lôîÆ_p
->
u
.
byãcode_p
);

659 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_NUMBER_LITERAL
);

660 
lôîÆ_poﬁ_p
[
lôîÆ_p
->
¥›
.
ödex
] =ÜôîÆ_p->
u
.
vÆue
;

664 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

666 
¨gumít_cou¡
++;

669 i‡((
lôîÆ_p
->
°©us_Êags
 & 
ex≥˘ed_°©us_Êags
) ==Éxpected_status_flags)

671 
uöt16_t
 
ödex
 = 
lôîÆ_p
->
¥›
.index;

672 
uöt16_t
 
öô_ödex
;

674 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL
);

676 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_NAME
)

678 
öô_ödex
 = 
c⁄°_lôîÆ_íd
;

680 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
)

682 
öô_ödex
 = (
uöt16_t
Ë(
¨gumít_cou¡
 - 1);

684 i‡(
öô_ödex
 =
lôîÆ_p
->
¥›
.
ödex
)

691 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
);

693 
	`JERRY_ASSERT
 (
lôîÆ_p
 !
NULL


694 && 
lôîÆ_p
->
ty≥
 =
LEXER_FUNCTION_LITERAL
);

695 
öô_ödex
 = 
lôîÆ_p
->
¥›
.
ödex
;

696 
	`ECMA_SET_NON_NULL_POINTER
 (
lôîÆ_poﬁ_p
[
lôîÆ_p
->
¥›
.
ödex
],

697 
lôîÆ_p
->
u
.
byãcode_p
);

700 *
d°_p
++ = 
CBC_INITIALIZE_VAR
;

701 
d°_p
 = 
	`∑r£r_ícode_lôîÆ
 (d°_p, 
ödex
, 
lôîÆ_⁄e_byã_limô
);

702 
d°_p
 = 
	`∑r£r_ícode_lôîÆ
 (d°_p, 
öô_ödex
, 
lôîÆ_⁄e_byã_limô
);

706 
	`JERRY_ASSERT
 (
¨gumít_cou¡
 =
c⁄ãxt_p
->argument_count);

707  
d°_p
;

708 
	}
}

761 
size_t


762 
	$∑r£r_upd©e_f‹w¨d_bønch
 (
∑r£r_mem_∑ge_t
 *
∑ge_p
,

763 
size_t
 
fuŒ_di°™˚
,

764 
uöt8_t
 
byãs_c›õd_bef‹e_jump
)

766 
size_t
 
√w_di°™˚
 = 0;

768 
fuŒ_di°™˚
 > 
PARSER_CBC_STREAM_PAGE_SIZE
)

770 
√w_di°™˚
 +
∑ge_p
->
byãs
[
PARSER_CBC_STREAM_PAGE_SIZE
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

771 
fuŒ_di°™˚
 -
PARSER_CBC_STREAM_PAGE_SIZE
;

772 
∑ge_p
 =Öage_p->
√xt_p
;

775 
√w_di°™˚
 +
∑ge_p
->
byãs
[
fuŒ_di°™˚
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

776  
√w_di°™˚
 - 
byãs_c›õd_bef‹e_jump
;

777 
	}
}

784 
size_t


785 
	$∑r£r_upd©e_backw¨d_bønch
 (
∑r£r_mem_∑ge_t
 *
∑ge_p
,

786 
size_t
 
fuŒ_di°™˚
,

787 
uöt8_t
 
byãs_c›õd_bef‹e_jump
)

789 
size_t
 
√w_di°™˚
 = 
byãs_c›õd_bef‹e_jump
;

791 
fuŒ_di°™˚
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

793 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL
);

794 
√w_di°™˚
 +
∑ge_p
->
byãs
[
PARSER_CBC_STREAM_PAGE_SIZE
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

795 
fuŒ_di°™˚
 -
PARSER_CBC_STREAM_PAGE_SIZE
;

796 
∑ge_p
 =Öage_p->
√xt_p
;

799 i‡(
fuŒ_di°™˚
 > 0)

801 
size_t
 
off£t
 = 
PARSER_CBC_STREAM_PAGE_SIZE
 - 
fuŒ_di°™˚
;

803 
	`JERRY_ASSERT
 (
∑ge_p
 !
NULL
);

805 
√w_di°™˚
 +
∑ge_p
->
byãs
[
PARSER_CBC_STREAM_PAGE_SIZE
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

806 
√w_di°™˚
 -
∑ge_p
->
byãs
[
off£t
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

809  
√w_di°™˚
;

810 
	}
}

816 
	$∑r£_upd©e_bønches
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

817 
uöt8_t
 *
byã_code_p
)

819 
∑r£r_mem_∑ge_t
 *
∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
fú°_p
;

820 
∑r£r_mem_∑ge_t
 *
¥ev_∑ge_p
 = 
NULL
;

821 
∑r£r_mem_∑ge_t
 *
œ°_∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
œ°_p
;

822 
size_t
 
œ°_posôi⁄
 = 
c⁄ãxt_p
->
byã_code
.last_position;

823 
size_t
 
off£t
 = 0;

824 
size_t
 
byãs_c›õd
 = 0;

826 i‡(
œ°_posôi⁄
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

828 
œ°_∑ge_p
 = 
NULL
;

829 
œ°_posôi⁄
 = 0;

832 
∑ge_p
 !
œ°_∑ge_p
 || 
off£t
 < 
œ°_posôi⁄
)

835 i‡(
∑ge_p
->
byãs
[
off£t
] & 
CBC_HIGHEST_BIT_MASK
)

837 
uöt8_t
 *
byãs_p
 = 
byã_code_p
 + 
byãs_c›õd
;

838 
uöt8_t
 
Êags
;

839 
uöt8_t
 
byãs_c›õd_bef‹e_jump
 = 0;

840 
size_t
 
bønch_¨gumít_Àngth
;

841 
size_t
 
èrgë_di°™˚
;

842 
size_t
 
Àngth
;

844 i‡(
off£t
 > 0)

846 
byãs_c›õd_bef‹e_jump
 = 
∑ge_p
->
byãs
[
off£t
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

848 
byãs_p
 +
byãs_c›õd_bef‹e_jump
;

850 i‡(*
byãs_p
 =
CBC_EXT_OPCODE
)

852 
byãs_p
++;

853 
Êags
 = 
cbc_ext_Êags
[*
byãs_p
];

857 
Êags
 = 
cbc_Êags
[*
byãs_p
];

860 
	`JERRY_ASSERT
 (
Êags
 & 
CBC_HAS_BRANCH_ARG
);

861 
bønch_¨gumít_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (*
byãs_p
);

862 
byãs_p
++;

865 
Àngth
 = 
bønch_¨gumít_Àngth
;

866 
èrgë_di°™˚
 = 0;

869 
èrgë_di°™˚
 = (èrgë_di°™˚ << 8Ë| *
byãs_p
;

870 
byãs_p
++;

872 --
Àngth
 > 0);

874 i‡(
	`CBC_BRANCH_IS_FORWARD
 (
Êags
))

877 
	`JERRY_ASSERT
 (
èrgë_di°™˚
 > 0);

879 
èrgë_di°™˚
 = 
	`∑r£r_upd©e_f‹w¨d_bønch
 (
∑ge_p
,

880 
off£t
 + 
èrgë_di°™˚
,

881 
byãs_c›õd_bef‹e_jump
);

885 i‡(
èrgë_di°™˚
 < 
off£t
)

887 
uöt8_t
 
byãs_c›õd_bef‹e_èrgë
 = 
∑ge_p
->
byãs
[
off£t
 - 
èrgë_di°™˚
 - 1];

888 
byãs_c›õd_bef‹e_èrgë
 = byãs_c›õd_bef‹e_èrgë & 
CBC_LOWER_SEVEN_BIT_MASK
;

890 
èrgë_di°™˚
 = (
size_t
Ë(
byãs_c›õd_bef‹e_jump
 - 
byãs_c›õd_bef‹e_èrgë
);

892 i‡(
èrgë_di°™˚
 =
off£t
)

894 
èrgë_di°™˚
 = 
byãs_c›õd_bef‹e_jump
;

898 
èrgë_di°™˚
 = 
	`∑r£r_upd©e_backw¨d_bønch
 (
¥ev_∑ge_p
,

899 
èrgë_di°™˚
 - 
off£t
,

900 
byãs_c›õd_bef‹e_jump
);

907 
byãs_p
--;

908 *
byãs_p
 = (
uöt8_t
Ë(
èrgë_di°™˚
 & 0xff);

909 
èrgë_di°™˚
 >>= 8;

911 --
bønch_¨gumít_Àngth
 > 0);

914 
off£t
++;

915 i‡(
off£t
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

917 
∑r£r_mem_∑ge_t
 *
√xt_p
 = 
∑ge_p
->next_p;

920 
∑ge_p
->
√xt_p
 = 
¥ev_∑ge_p
;

921 
¥ev_∑ge_p
 = 
∑ge_p
;

923 
byãs_c›õd
 +
∑ge_p
->
byãs
[
PARSER_CBC_STREAM_PAGE_SIZE
 - 1] & 
CBC_LOWER_SEVEN_BIT_MASK
;

924 
∑ge_p
 = 
√xt_p
;

925 
off£t
 = 0;

933 i‡(
œ°_∑ge_p
 !
NULL
)

935 
	`JERRY_ASSERT
 (
œ°_∑ge_p
 =
c⁄ãxt_p
->
byã_code
.
œ°_p
);

936 
œ°_∑ge_p
->
√xt_p
 = 
¥ev_∑ge_p
;

940 
œ°_∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
œ°_p
;

943 
c⁄ãxt_p
->
byã_code
.
œ°_p
 = c⁄ãxt_p->byã_code.
fú°_p
;

944 
c⁄ãxt_p
->
byã_code
.
fú°_p
 = 
œ°_∑ge_p
;

945 
	}
}

947 #ifde‡
PARSER_DUMP_BYTE_CODE


953 
	$∑r£_¥öt_lôîÆ
 (
ecma_compûed_code_t
 *
compûed_code_p
,

954 
uöt16_t
 
lôîÆ_ödex
,

955 
∑r£r_li°_t
 *
lôîÆ_poﬁ_p
)

957 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

958 
uöt16_t
 
¨gumít_íd
;

959 
uöt16_t
 
ªgi°î_íd
;

960 
uöt16_t
 
idít_íd
;

961 
uöt16_t
 
c⁄°_lôîÆ_íd
;

963 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

965 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
compûed_code_p
;

966 
¨gumít_íd
 = 
¨gs_p
->argument_end;

967 
ªgi°î_íd
 = 
¨gs_p
->register_end;

968 
idít_íd
 = 
¨gs_p
->ident_end;

969 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

973 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
compûed_code_p
;

974 
¨gumít_íd
 = 
¨gs_p
->argument_end;

975 
ªgi°î_íd
 = 
¨gs_p
->register_end;

976 
idít_íd
 = 
¨gs_p
->ident_end;

977 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

980 
	`∑r£r_li°_ôî©‹_öô
 (
lôîÆ_poﬁ_p
, &
lôîÆ_ôî©‹
);

982 
åue
)

984 
Àxî_lôîÆ_t
 *
lôîÆ_p
 = (Àxî_lôîÆ_à*Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
);

986 i‡(
lôîÆ_p
 =
NULL
)

988 i‡(
lôîÆ_ödex
 =
c⁄°_lôîÆ_íd
)

990 
	`JERRY_DEBUG_MSG
 (" idx:%d(£lf)->fun˘i⁄", 
lôîÆ_ödex
);

994 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 < 
¨gumít_íd
);

995 
	`JERRY_DEBUG_MSG
 (" idx:%d◊rg)->undeföed", 
lôîÆ_ödex
);

999 i‡(
lôîÆ_p
->
¥›
.
ödex
 =
lôîÆ_ödex


1000 && 
lôîÆ_p
->
ty≥
 !
LEXER_UNUSED_LITERAL


1001 && !(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_UNUSED_IDENT
))

1003 
	`JERRY_DEBUG_MSG
 (" idx:%d", 
lôîÆ_ödex
);

1005 i‡(
lôîÆ_ödex
 < 
¨gumít_íd
)

1007 
	`JERRY_DEBUG_MSG
 ("(arg)->");

1009 i‡(
lôîÆ_ödex
 < 
ªgi°î_íd
)

1011 
	`JERRY_DEBUG_MSG
 ("(reg)->");

1013 i‡(
lôîÆ_ödex
 < 
idít_íd
)

1015 
	`JERRY_DEBUG_MSG
 ("(ident)->");

1019 
	`JERRY_DEBUG_MSG
 ("(lit)->");

1022 
	`utû_¥öt_lôîÆ
 (
lôîÆ_p
);

1026 
	}
}

1028 
	#PARSER_READ_IDENTIFIER_INDEX
(
«me
) \

1029 
«me
 = *
byã_code_p
++; \

1030 i‡(
«me
 >
ícodög_limô
) \

1032 
«me
 = (
uöt16_t
Ë((“amê<< 8Ë| 
byã_code_p
[0]Ë- 
ícodög_dñè
); \

1033 
byã_code_p
++; \

1034 }

	)

1041 
uöt8_t
 *

1042 
	$∑r£_¥öt_deföe_v¨s
 (
ecma_compûed_code_t
 *
compûed_code_p
,

1043 
uöt8_t
 *
byã_code_p
,

1044 
uöt16_t
 
ícodög_limô
,

1045 
uöt16_t
 
ícodög_dñè
,

1046 
∑r£r_li°_t
 *
lôîÆ_poﬁ_p
)

1048 
uöt16_t
 
idítifõr_ödex
;

1049 
uöt16_t
 
idítifõr_íd
;

1051 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

1053 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
compûed_code_p
;

1054 
idítifõr_ödex
 = 
¨gs_p
->
ªgi°î_íd
;

1058 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
compûed_code_p
;

1059 
idítifõr_ödex
 = 
¨gs_p
->
ªgi°î_íd
;

1062 
	`PARSER_READ_IDENTIFIER_INDEX
 (
idítifõr_íd
);

1064 
	`JERRY_DEBUG_MSG
 (" from: %dÅo: %d\n", 
idítifõr_ödex
, 
idítifõr_íd
);

1066 
idítifõr_ödex
 <
idítifõr_íd
)

1068 
	`JERRY_DEBUG_MSG
 (" ");

1069 
	`∑r£_¥öt_lôîÆ
 (
compûed_code_p
, 
idítifõr_ödex
, 
lôîÆ_poﬁ_p
);

1070 
idítifõr_ödex
++;

1071 
	`JERRY_DEBUG_MSG
 ("\n");

1074  
byã_code_p
;

1075 
	}
}

1082 
uöt8_t
 *

1083 
	$∑r£_¥öt_öôülize_v¨s
 (
ecma_compûed_code_t
 *
compûed_code_p
,

1084 
uöt8_t
 *
byã_code_p
,

1085 
uöt16_t
 
ícodög_limô
,

1086 
uöt16_t
 
ícodög_dñè
,

1087 
∑r£r_li°_t
 *
lôîÆ_poﬁ_p
)

1089 
uöt16_t
 
idítifõr_ödex
;

1090 
uöt16_t
 
idítifõr_íd
;

1092 
	`PARSER_READ_IDENTIFIER_INDEX
 (
idítifõr_ödex
);

1093 
	`PARSER_READ_IDENTIFIER_INDEX
 (
idítifõr_íd
);

1095 
	`JERRY_DEBUG_MSG
 (" from: %dÅo: %d\n", 
idítifõr_ödex
, 
idítifõr_íd
);

1097 
idítifõr_ödex
 <
idítifõr_íd
)

1099 
uöt16_t
 
lôîÆ_ödex
;

1101 
	`JERRY_DEBUG_MSG
 (" ");

1102 
	`∑r£_¥öt_lôîÆ
 (
compûed_code_p
, 
idítifõr_ödex
, 
lôîÆ_poﬁ_p
);

1103 
	`JERRY_DEBUG_MSG
 (" =");

1105 
	`PARSER_READ_IDENTIFIER_INDEX
 (
lôîÆ_ödex
);

1107 
	`∑r£_¥öt_lôîÆ
 (
compûed_code_p
, 
lôîÆ_ödex
, 
lôîÆ_poﬁ_p
);

1108 
idítifõr_ödex
++;

1109 
	`JERRY_DEBUG_MSG
 ("\n");

1112  
byã_code_p
;

1113 
	}
}

1119 
	$∑r£_¥öt_föÆ_cbc
 (
ecma_compûed_code_t
 *
compûed_code_p
,

1120 
∑r£r_li°_t
 *
lôîÆ_poﬁ_p
,

1121 
size_t
 
Àngth
)

1123 
uöt8_t
 
Êags
;

1124 
uöt8_t
 *
byã_code_°¨t_p
;

1125 
uöt8_t
 *
byã_code_íd_p
;

1126 
uöt8_t
 *
byã_code_p
;

1127 
uöt16_t
 
ícodög_limô
;

1128 
uöt16_t
 
ícodög_dñè
;

1129 
uöt16_t
 
°ack_limô
;

1130 
uöt16_t
 
¨gumít_íd
;

1131 
uöt16_t
 
ªgi°î_íd
;

1132 
uöt16_t
 
idít_íd
;

1133 
uöt16_t
 
c⁄°_lôîÆ_íd
;

1134 
uöt16_t
 
lôîÆ_íd
;

1136 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

1138 
cbc_uöt16_¨gumíts_t
 *
¨gs
 = (cbc_uöt16_¨gumíts_à*Ë
compûed_code_p
;

1139 
°ack_limô
 = 
¨gs
->stack_limit;

1140 
¨gumít_íd
 = 
¨gs
->argument_end;

1141 
ªgi°î_íd
 = 
¨gs
->register_end;

1142 
idít_íd
 = 
¨gs
->ident_end;

1143 
c⁄°_lôîÆ_íd
 = 
¨gs
->const_literal_end;

1144 
lôîÆ_íd
 = 
¨gs
->literal_end;

1148 
cbc_uöt8_¨gumíts_t
 *
¨gs
 = (cbc_uöt8_¨gumíts_à*Ë
compûed_code_p
;

1149 
°ack_limô
 = 
¨gs
->stack_limit;

1150 
¨gumít_íd
 = 
¨gs
->argument_end;

1151 
ªgi°î_íd
 = 
¨gs
->register_end;

1152 
idít_íd
 = 
¨gs
->ident_end;

1153 
c⁄°_lôîÆ_íd
 = 
¨gs
->const_literal_end;

1154 
lôîÆ_íd
 = 
¨gs
->literal_end;

1157 
	`JERRY_DEBUG_MSG
 ("\nFinal byte code dump:\n\n Maximum stack depth: %d\n Flags: [",

1158 (Ë(
°ack_limô
 + 
ªgi°î_íd
));

1160 i‡(!(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FULL_LITERAL_ENCODING
))

1162 
	`JERRY_DEBUG_MSG
 ("small_lit_enc");

1163 
ícodög_limô
 = 255;

1164 
ícodög_dñè
 = 0xfe01;

1168 
	`JERRY_DEBUG_MSG
 ("full_lit_enc");

1169 
ícodög_limô
 = 128;

1170 
ícodög_dñè
 = 0x8000;

1173 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

1175 
	`JERRY_DEBUG_MSG
 (",uint16_arguments");

1178 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
)

1180 
	`JERRY_DEBUG_MSG
 (",strict_mode");

1183 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_ARGUMENTS_NEEDED
)

1185 
	`JERRY_DEBUG_MSG
 (",arguments_needed");

1188 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_LEXICAL_ENV_NOT_NEEDED
)

1190 
	`JERRY_DEBUG_MSG
 (",no_lexical_env");

1193 
	`JERRY_DEBUG_MSG
 ("]\n");

1195 
	`JERRY_DEBUG_MSG
 (" Argumíàøngêíd: %d\n", (Ë
¨gumít_íd
);

1196 
	`JERRY_DEBUG_MSG
 (" Regi°îÑ™gêíd: %d\n", (Ë
ªgi°î_íd
);

1197 
	`JERRY_DEBUG_MSG
 (" Idítifõ∏øngêíd: %d\n", (Ë
idít_íd
);

1198 
	`JERRY_DEBUG_MSG
 (" C⁄°ÜôîÆÑ™gêíd: %d\n", (Ë
c⁄°_lôîÆ_íd
);

1199 
	`JERRY_DEBUG_MSG
 (" LôîÆÑ™gêíd: %d\n\n", (Ë
lôîÆ_íd
);

1201 
byã_code_°¨t_p
 = (
uöt8_t
 *Ë
compûed_code_p
;

1203 i‡(
compûed_code_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

1205 
byã_code_°¨t_p
 + (
cbc_uöt16_¨gumíts_t
);

1209 
byã_code_°¨t_p
 + (
cbc_uöt8_¨gumíts_t
);

1212 
byã_code_°¨t_p
 +
lôîÆ_íd
 *  (
jmem_˝oöãr_t
);

1213 
byã_code_íd_p
 = 
byã_code_°¨t_p
 + 
Àngth
;

1214 
byã_code_p
 = 
byã_code_°¨t_p
;

1216 
byã_code_p
 < 
byã_code_íd_p
)

1218 
cbc_›code_t
 
›code
;

1219 
cbc_ext_›code_t
 
ext_›code
;

1220 
size_t
 
cbc_off£t
;

1222 
›code
 = (
cbc_›code_t
Ë*
byã_code_p
;

1223 
ext_›code
 = 
CBC_EXT_NOP
;

1224 
cbc_off£t
 = (
size_t
Ë(
byã_code_p
 - 
byã_code_°¨t_p
);

1226 i‡(
›code
 !
CBC_EXT_OPCODE
)

1228 
Êags
 = 
cbc_Êags
[
›code
];

1229 
	`JERRY_DEBUG_MSG
 (" %3d : %s", (Ë
cbc_off£t
, 
cbc_«mes
[
›code
]);

1230 
byã_code_p
++;

1232 i‡(
›code
 =
CBC_INITIALIZE_VARS
)

1234 
byã_code_p
 = 
	`∑r£_¥öt_öôülize_v¨s
 (
compûed_code_p
,

1235 
byã_code_p
,

1236 
ícodög_limô
,

1237 
ícodög_dñè
,

1238 
lôîÆ_poﬁ_p
);

1242 i‡(
›code
 =
CBC_DEFINE_VARS
)

1244 
byã_code_p
 = 
	`∑r£_¥öt_deföe_v¨s
 (
compûed_code_p
,

1245 
byã_code_p
,

1246 
ícodög_limô
,

1247 
ícodög_dñè
,

1248 
lôîÆ_poﬁ_p
);

1252 i‡(
›code
 =
CBC_PUSH_NUMBER_POS_BYTE
)

1254 
vÆue
 = *
byã_code_p
++;

1255 
	`JERRY_DEBUG_MSG
 ("Çumbî:%d\n", 
vÆue
 + 1);

1259 i‡(
›code
 =
CBC_PUSH_NUMBER_NEG_BYTE
)

1261 
vÆue
 = *
byã_code_p
++;

1262 
	`JERRY_DEBUG_MSG
 ("Çumbî:%d\n", -(
vÆue
 + 1));

1268 
ext_›code
 = (
cbc_ext_›code_t
Ë
byã_code_p
[1];

1269 
Êags
 = 
cbc_ext_Êags
[
ext_›code
];

1270 
	`JERRY_DEBUG_MSG
 (" %3d : %s", (Ë
cbc_off£t
, 
cbc_ext_«mes
[
ext_›code
]);

1271 
byã_code_p
 += 2;

1274 i‡(
Êags
 & (
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
))

1276 
uöt16_t
 
lôîÆ_ödex
;

1278 
	`PARSER_READ_IDENTIFIER_INDEX
 (
lôîÆ_ödex
);

1279 
	`∑r£_¥öt_lôîÆ
 (
compûed_code_p
, 
lôîÆ_ödex
, 
lôîÆ_poﬁ_p
);

1282 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG2
)

1284 
uöt16_t
 
lôîÆ_ödex
;

1286 
	`PARSER_READ_IDENTIFIER_INDEX
 (
lôîÆ_ödex
);

1287 
	`∑r£_¥öt_lôîÆ
 (
compûed_code_p
, 
lôîÆ_ödex
, 
lôîÆ_poﬁ_p
);

1289 i‡(!(
Êags
 & 
CBC_HAS_LITERAL_ARG
))

1291 
	`PARSER_READ_IDENTIFIER_INDEX
 (
lôîÆ_ödex
);

1292 
	`∑r£_¥öt_lôîÆ
 (
compûed_code_p
, 
lôîÆ_ödex
, 
lôîÆ_poﬁ_p
);

1296 i‡(
Êags
 & 
CBC_HAS_BYTE_ARG
)

1298 
	`JERRY_DEBUG_MSG
 (" byã_¨g:%d", *
byã_code_p
);

1299 
byã_code_p
++;

1302 i‡(
Êags
 & 
CBC_HAS_BRANCH_ARG
)

1304 
size_t
 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
);

1305 
size_t
 
off£t
 = 0;

1307 i‡(
›code
 =
CBC_EXT_OPCODE
)

1309 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
ext_›code
);

1314 
off£t
 = (off£à<< 8Ë| *
byã_code_p
++;

1316 --
bønch_off£t_Àngth
 > 0);

1318 i‡(
	`CBC_BRANCH_IS_FORWARD
 (
Êags
))

1320 
	`JERRY_DEBUG_MSG
 (" off£t:%d(->%d)", (Ë
off£t
, (Ë(
cbc_off£t
 + offset));

1324 
	`JERRY_DEBUG_MSG
 (" off£t:%d(->%d)", (Ë
off£t
, (Ë(
cbc_off£t
 - offset));

1328 
	`JERRY_DEBUG_MSG
 ("\n");

1330 
	}
}

1332 #unde‡
PARSER_READ_IDENTIFIER_INDEX


1336 
	#PARSER_NEXT_BYTE
(
∑ge_p
, 
off£t
) \

1338 i‡(++(
off£t
Ë>
PARSER_CBC_STREAM_PAGE_SIZE
) \

1340 
off£t
 = 0; \

1341 
∑ge_p
 =Öage_p->
√xt_p
; \

1343 } 0)

	)

1345 
	#PARSER_NEXT_BYTE_UPDATE
(
∑ge_p
, 
off£t
, 
ªÆ_off£t
) \

1347 
∑ge_p
->
byãs
[
off£t
] = 
ªÆ_off£t
; \

1348 i‡(++(
off£t
Ë>
PARSER_CBC_STREAM_PAGE_SIZE
) \

1350 
off£t
 = 0; \

1351 
ªÆ_off£t
 = 0; \

1352 
∑ge_p
 =Öage_p->
√xt_p
; \

1354 } 0)

	)

1361 
ecma_compûed_code_t
 *

1362 
	$∑r£r_po°_¥o˚ssög
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
)

1364 
uöt16_t
 
lôîÆ_⁄e_byã_limô
;

1365 
uöt16_t
 
idít_íd
;

1366 
uöt16_t
 
unöôülized_v¨_íd
;

1367 
uöt16_t
 
öôülized_v¨_íd
;

1368 
uöt16_t
 
c⁄°_lôîÆ_íd
;

1369 
∑r£r_mem_∑ge_t
 *
∑ge_p
;

1370 
∑r£r_mem_∑ge_t
 *
œ°_∑ge_p
;

1371 
size_t
 
œ°_posôi⁄
;

1372 
size_t
 
off£t
;

1373 
size_t
 
Àngth
;

1374 
size_t
 
tŸÆ_size
;

1375 
size_t
 
öôülizîs_Àngth
;

1376 
uöt8_t
 
ªÆ_off£t
;

1377 
uöt8_t
 *
byã_code_p
;

1378 
boﬁ
 
√eds_uöt16_¨gumíts
;

1379 
cbc_›code_t
 
œ°_›code
 = 
CBC_EXT_OPCODE
;

1380 
ecma_compûed_code_t
 *
compûed_code_p
;

1381 
jmem_˝oöãr_t
 *
lôîÆ_poﬁ_p
;

1382 
uöt8_t
 *
d°_p
;

1384 i‡((
size_t
Ë
c⁄ãxt_p
->
°ack_limô
 + (size_tËc⁄ãxt_p->
ªgi°î_cou¡
 > 
PARSER_MAXIMUM_STACK_LIMIT
)

1386 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_STACK_LIMIT_REACHED
);

1389 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
lôîÆ_cou¡
 <
PARSER_MAXIMUM_NUMBER_OF_LITERALS
);

1391 #ifde‡
JERRY_DEBUGGER


1392 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1393 && !(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_DEBUGGER_BREAKPOINT_APPENDED
))

1396 
	`∑r£r_emô_cbc
 (
c⁄ãxt_p
, 
CBC_BREAKPOINT_DISABLED
);

1397 
	`∑r£r_Êush_cbc
 (
c⁄ãxt_p
);

1399 
	`∑r£r_≠≥nd_bªakpoöt_öfo
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_LIST
, c⁄ãxt_p->
tokí
.
löe
);

1401 
c⁄ãxt_p
->
œ°_bªakpoöt_löe
 = c⁄ãxt_p->
tokí
.
löe
;

1404 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1405 && 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 > 0)

1407 
	`∑r£r_£nd_bªakpoöts
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_LIST
);

1408 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 == 0);

1412 
	`∑r£r_c›y_idítifõrs
 (
c⁄ãxt_p
);

1414 
öôülizîs_Àngth
 = 
	`∑r£r_compuã_ödicõs
 (
c⁄ãxt_p
,

1415 &
idít_íd
,

1416 &
unöôülized_v¨_íd
,

1417 &
öôülized_v¨_íd
,

1418 &
c⁄°_lôîÆ_íd
);

1419 
Àngth
 = 
öôülizîs_Àngth
;

1421 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 <
CBC_MAXIMUM_SMALL_VALUE
)

1423 
lôîÆ_⁄e_byã_limô
 = 
CBC_MAXIMUM_BYTE_VALUE
 - 1;

1427 
lôîÆ_⁄e_byã_limô
 = 
CBC_LOWER_SEVEN_BIT_MASK
;

1430 
œ°_∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
œ°_p
;

1431 
œ°_posôi⁄
 = 
c⁄ãxt_p
->
byã_code
.last_position;

1433 i‡(
œ°_posôi⁄
 >
PARSER_CBC_STREAM_PAGE_SIZE
)

1435 
œ°_∑ge_p
 = 
NULL
;

1436 
œ°_posôi⁄
 = 0;

1439 
∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
fú°_p
;

1440 
off£t
 = 0;

1442 
∑ge_p
 !
œ°_∑ge_p
 || 
off£t
 < 
œ°_posôi⁄
)

1444 
uöt8_t
 *
›code_p
;

1445 
uöt8_t
 
Êags
;

1446 
size_t
 
bønch_off£t_Àngth
;

1448 
›code_p
 = 
∑ge_p
->
byãs
 + 
off£t
;

1449 
œ°_›code
 = (
cbc_›code_t
Ë(*
›code_p
);

1450 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1451 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
œ°_›code
);

1452 
Êags
 = 
cbc_Êags
[
œ°_›code
];

1453 
Àngth
++;

1455 i‡(
œ°_›code
 =
CBC_EXT_OPCODE
)

1457 
cbc_ext_›code_t
 
ext_›code
;

1459 
ext_›code
 = (
cbc_ext_›code_t
Ë
∑ge_p
->
byãs
[
off£t
];

1460 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
ext_›code
);

1461 
Êags
 = 
cbc_ext_Êags
[
ext_›code
];

1462 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1463 
Àngth
++;

1466 
Êags
 & (
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
))

1468 
uöt8_t
 *
fú°_byã
 = 
∑ge_p
->
byãs
 + 
off£t
;

1469 
size_t
 
lôîÆ_ödex
 = *
fú°_byã
;

1470 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1472 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1473 
Àngth
++;

1475 
lôîÆ_ödex
 |((
size_t
Ë
∑ge_p
->
byãs
[
off£t
]) << 8;

1476 
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 (
lôîÆ_ödex
);

1478 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_UNUSED_LITERAL
)

1483 
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 (lôîÆ_p->
¥›
.
ödex
);

1485 
	`JERRY_ASSERT
 (
lôîÆ_p
 !
NULL
 &&ÜôîÆ_p->
ty≥
 !
LEXER_UNUSED_LITERAL
);

1488 i‡(
lôîÆ_p
->
¥›
.
ödex
 <
lôîÆ_⁄e_byã_limô
)

1490 *
fú°_byã
 = (
uöt8_t
Ë
lôîÆ_p
->
¥›
.
ödex
;

1494 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 <
CBC_MAXIMUM_SMALL_VALUE
)

1496 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 <
CBC_MAXIMUM_SMALL_VALUE
);

1497 *
fú°_byã
 = 
CBC_MAXIMUM_BYTE_VALUE
;

1498 
∑ge_p
->
byãs
[
off£t
] = (
uöt8_t
Ë(
lôîÆ_p
->
¥›
.
ödex
 - 
CBC_MAXIMUM_BYTE_VALUE
);

1499 
Àngth
++;

1503 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 <
CBC_MAXIMUM_FULL_VALUE
);

1504 *
fú°_byã
 = (
uöt8_t
Ë((
lôîÆ_p
->
¥›
.
ödex
 >> 8Ë| 
CBC_HIGHEST_BIT_MASK
);

1505 
∑ge_p
->
byãs
[
off£t
] = (
uöt8_t
Ë(
lôîÆ_p
->
¥›
.
ödex
 & 0xff);

1506 
Àngth
++;

1509 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1511 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG2
)

1513 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG
)

1515 
Êags
 = 
CBC_HAS_LITERAL_ARG
;

1519 
Êags
 = 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
;

1528 i‡(
Êags
 & 
CBC_HAS_BYTE_ARG
)

1531 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1532 
Àngth
++;

1535 i‡(
Êags
 & 
CBC_HAS_BRANCH_ARG
)

1537 
boﬁ
 
¥efix_zîo
 = 
åue
;

1538 #i‡
PARSER_MAXIMUM_CODE_SIZE
 <= 65535

1539 
cbc_›code_t
 
jump_f‹w¨d
 = 
CBC_JUMP_FORWARD_2
;

1541 
cbc_›code_t
 
jump_f‹w¨d
 = 
CBC_JUMP_FORWARD_3
;

1548 
	`JERRY_ASSERT
 (
bønch_off£t_Àngth
 > 0 && branch_offset_length <= 3);

1550 --
bønch_off£t_Àngth
 > 0)

1552 
uöt8_t
 
byã
 = 
∑ge_p
->
byãs
[
off£t
];

1553 i‡(
byã
 > 0 || !
¥efix_zîo
)

1555 
¥efix_zîo
 = 
Ál£
;

1556 
Àngth
++;

1560 
	`JERRY_ASSERT
 (
	`CBC_BRANCH_IS_FORWARD
 (
Êags
));

1562 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1565 i‡(
œ°_›code
 =
jump_f‹w¨d


1566 && 
¥efix_zîo


1567 && 
∑ge_p
->
byãs
[
off£t
] =
	`CBC_BRANCH_OFFSET_LENGTH
 (
jump_f‹w¨d
) + 1)

1574 *
›code_p
 = 
CBC_JUMP_FORWARD
;

1575 
Àngth
--;

1580 
Àngth
++;

1583 
	`PARSER_NEXT_BYTE
 (
∑ge_p
, 
off£t
);

1587 i‡(!(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_NO_END_LABEL
)

1588 || !(
	`PARSER_OPCODE_IS_RETURN
 (
œ°_›code
)))

1590 
c⁄ãxt_p
->
°©us_Êags
 &~
PARSER_NO_END_LABEL
;

1591 
Àngth
++;

1594 
√eds_uöt16_¨gumíts
 = 
Ál£
;

1595 
tŸÆ_size
 =  (
cbc_uöt8_¨gumíts_t
);

1597 i‡(
c⁄ãxt_p
->
°ack_limô
 > 
CBC_MAXIMUM_BYTE_VALUE


1598 || 
c⁄ãxt_p
->
ªgi°î_cou¡
 > 
CBC_MAXIMUM_BYTE_VALUE


1599 || 
c⁄ãxt_p
->
lôîÆ_cou¡
 > 
CBC_MAXIMUM_BYTE_VALUE
)

1601 
√eds_uöt16_¨gumíts
 = 
åue
;

1602 
tŸÆ_size
 =  (
cbc_uöt16_¨gumíts_t
);

1605 
tŸÆ_size
 +
Àngth
 + 
c⁄ãxt_p
->
lôîÆ_cou¡
 *  (
jmem_˝oöãr_t
);

1606 
tŸÆ_size
 = 
	`JERRY_ALIGNUP
 (tŸÆ_size, 
JMEM_ALIGNMENT
);

1608 
compûed_code_p
 = (
ecma_compûed_code_t
 *Ë
	`∑r£r_mÆloc
 (
c⁄ãxt_p
, 
tŸÆ_size
);

1610 #ifde‡
JMEM_STATS


1611 
	`jmem_°©s_Æloˇã_byã_code_byãs
 (
tŸÆ_size
);

1614 
byã_code_p
 = (
uöt8_t
 *Ë
compûed_code_p
;

1615 
compûed_code_p
->
size
 = (
uöt16_t
Ë(
tŸÆ_size
 >> 
JMEM_ALIGNMENT_LOG
);

1616 
compûed_code_p
->
ªfs
 = 1;

1617 
compûed_code_p
->
°©us_Êags
 = 
CBC_CODE_FLAGS_FUNCTION
;

1619 i‡(
√eds_uöt16_¨gumíts
)

1621 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
compûed_code_p
;

1623 
¨gs_p
->
°ack_limô
 = 
c⁄ãxt_p
->stack_limit;

1624 
¨gs_p
->
¨gumít_íd
 = 
c⁄ãxt_p
->
¨gumít_cou¡
;

1625 
¨gs_p
->
ªgi°î_íd
 = 
c⁄ãxt_p
->
ªgi°î_cou¡
;

1626 
¨gs_p
->
idít_íd
 = ident_end;

1627 
¨gs_p
->
c⁄°_lôîÆ_íd
 = const_literal_end;

1628 
¨gs_p
->
lôîÆ_íd
 = 
c⁄ãxt_p
->
lôîÆ_cou¡
;

1630 
compûed_code_p
->
°©us_Êags
 |
CBC_CODE_FLAGS_UINT16_ARGUMENTS
;

1631 
byã_code_p
 + (
cbc_uöt16_¨gumíts_t
);

1635 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
compûed_code_p
;

1637 
¨gs_p
->
°ack_limô
 = (
uöt8_t
Ë
c⁄ãxt_p
->stack_limit;

1638 
¨gs_p
->
¨gumít_íd
 = (
uöt8_t
Ë
c⁄ãxt_p
->
¨gumít_cou¡
;

1639 
¨gs_p
->
ªgi°î_íd
 = (
uöt8_t
Ë
c⁄ãxt_p
->
ªgi°î_cou¡
;

1640 
¨gs_p
->
idít_íd
 = (
uöt8_t
) ident_end;

1641 
¨gs_p
->
c⁄°_lôîÆ_íd
 = (
uöt8_t
) const_literal_end;

1642 
¨gs_p
->
lôîÆ_íd
 = (
uöt8_t
Ë
c⁄ãxt_p
->
lôîÆ_cou¡
;

1644 
byã_code_p
 + (
cbc_uöt8_¨gumíts_t
);

1647 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 > 
CBC_MAXIMUM_SMALL_VALUE
)

1649 
compûed_code_p
->
°©us_Êags
 |
CBC_CODE_FLAGS_FULL_LITERAL_ENCODING
;

1652 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
)

1654 
compûed_code_p
->
°©us_Êags
 |
CBC_CODE_FLAGS_STRICT_MODE
;

1657 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_ARGUMENTS_NEEDED
)

1659 
compûed_code_p
->
°©us_Êags
 |
CBC_CODE_FLAGS_ARGUMENTS_NEEDED
;

1661 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
;

1664 i‡(!(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_LEXICAL_ENV_NEEDED
))

1666 
compûed_code_p
->
°©us_Êags
 |
CBC_CODE_FLAGS_LEXICAL_ENV_NOT_NEEDED
;

1669 
lôîÆ_poﬁ_p
 = (
jmem_˝oöãr_t
 *Ë
byã_code_p
;

1670 
byã_code_p
 +
c⁄ãxt_p
->
lôîÆ_cou¡
 *  (
jmem_˝oöãr_t
);

1672 
d°_p
 = 
	`∑r£r_gíî©e_öôülizîs
 (
c⁄ãxt_p
,

1673 
byã_code_p
,

1674 
lôîÆ_poﬁ_p
,

1675 
unöôülized_v¨_íd
,

1676 
öôülized_v¨_íd
,

1677 
c⁄°_lôîÆ_íd
,

1678 
lôîÆ_⁄e_byã_limô
);

1680 
	`JERRY_ASSERT
 (
d°_p
 =
byã_code_p
 + 
öôülizîs_Àngth
);

1682 
∑ge_p
 = 
c⁄ãxt_p
->
byã_code
.
fú°_p
;

1683 
off£t
 = 0;

1684 
ªÆ_off£t
 = 0;

1686 
∑ge_p
 !
œ°_∑ge_p
 || 
off£t
 < 
œ°_posôi⁄
)

1688 
uöt8_t
 
Êags
;

1689 
uöt8_t
 *
›code_p
;

1690 
uöt8_t
 *
bønch_m¨k_p
;

1691 
cbc_›code_t
 
›code
;

1692 
size_t
 
bønch_off£t_Àngth
;

1694 
›code_p
 = 
d°_p
;

1695 
bønch_m¨k_p
 = 
∑ge_p
->
byãs
 + 
off£t
;

1696 
›code
 = (
cbc_›code_t
Ë(*
bønch_m¨k_p
);

1697 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
);

1699 i‡(
›code
 =
CBC_JUMP_FORWARD
)

1702 #i‡
PARSER_MAXIMUM_CODE_SIZE
 <= 65535

1703 
size_t
 
cou¡î
 = 3;

1705 
size_t
 
cou¡î
 = 4;

1710 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1712 --
cou¡î
 > 0);

1718 *
d°_p
++ = 
›code
;

1719 
ªÆ_off£t
++;

1720 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1721 
Êags
 = 
cbc_Êags
[
›code
];

1723 #ifde‡
JERRY_DEBUGGER


1724 i‡(
›code
 =
CBC_BREAKPOINT_DISABLED
)

1726 
uöt32_t
 
bp_off£t
 = (uöt32_tË(((
uöt8_t
 *Ë
d°_p
Ë- ((uöt8_à*Ë
compûed_code_p
) - 1);

1727 
	`∑r£r_≠≥nd_bªakpoöt_öfo
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_OFFSET_LIST
, 
bp_off£t
);

1731 i‡(
›code
 =
CBC_EXT_OPCODE
)

1733 
cbc_ext_›code_t
 
ext_›code
;

1735 
ext_›code
 = (
cbc_ext_›code_t
Ë
∑ge_p
->
byãs
[
off£t
];

1736 
Êags
 = 
cbc_ext_Êags
[
ext_›code
];

1737 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
ext_›code
);

1740 *
d°_p
++ = 
ext_›code
;

1741 
›code_p
++;

1742 
ªÆ_off£t
++;

1743 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1746 i‡(
Êags
 & 
CBC_HAS_BRANCH_ARG
)

1748 *
bønch_m¨k_p
 |
CBC_HIGHEST_BIT_MASK
;

1752 
	`JERRY_ASSERT
 (!(
Êags
 & 
CBC_HAS_BRANCH_ARG
)

1753 || !(
Êags
 & (
CBC_HAS_BYTE_ARG
 | 
CBC_HAS_LITERAL_ARG
)));

1755 
Êags
 & (
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
))

1757 
uöt8_t
 
fú°_byã
 = 
∑ge_p
->
byãs
[
off£t
];

1759 *
d°_p
++ = 
fú°_byã
;

1760 
ªÆ_off£t
++;

1761 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1763 i‡(
fú°_byã
 > 
lôîÆ_⁄e_byã_limô
)

1765 *
d°_p
++ = 
∑ge_p
->
byãs
[
off£t
];

1766 
ªÆ_off£t
++;

1768 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1770 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG2
)

1772 i‡(
Êags
 & 
CBC_HAS_LITERAL_ARG
)

1774 
Êags
 = 
CBC_HAS_LITERAL_ARG
;

1778 
Êags
 = 
CBC_HAS_LITERAL_ARG
 | 
CBC_HAS_LITERAL_ARG2
;

1787 i‡(
Êags
 & 
CBC_HAS_BYTE_ARG
)

1790 *
d°_p
++ = 
∑ge_p
->
byãs
[
off£t
];

1791 
ªÆ_off£t
++;

1792 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1795 i‡(
Êags
 & 
CBC_HAS_BRANCH_ARG
)

1797 
boﬁ
 
¥efix_zîo
 = 
åue
;

1800 
	`JERRY_ASSERT
 (
bønch_off£t_Àngth
 > 0 && branch_offset_length <= 3);

1802 --
bønch_off£t_Àngth
 > 0)

1804 
uöt8_t
 
byã
 = 
∑ge_p
->
byãs
[
off£t
];

1805 i‡(
byã
 > 0 || !
¥efix_zîo
)

1807 
¥efix_zîo
 = 
Ál£
;

1808 *
d°_p
++ = 
∑ge_p
->
byãs
[
off£t
];

1809 
ªÆ_off£t
++;

1815 (*
›code_p
)--;

1817 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1820 *
d°_p
++ = 
∑ge_p
->
byãs
[
off£t
];

1821 
ªÆ_off£t
++;

1822 
	`PARSER_NEXT_BYTE_UPDATE
 (
∑ge_p
, 
off£t
, 
ªÆ_off£t
);

1826 #ifde‡
JERRY_DEBUGGER


1827 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1828 && 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 > 0)

1830 
	`∑r£r_£nd_bªakpoöts
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_OFFSET_LIST
);

1831 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 == 0);

1835 i‡(!(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_NO_END_LABEL
))

1837 *
d°_p
++ = 
CBC_RETURN_WITH_BLOCK
;

1839 
	`JERRY_ASSERT
 (
d°_p
 =
byã_code_p
 + 
Àngth
);

1841 
	`∑r£_upd©e_bønches
 (
c⁄ãxt_p
,

1842 
byã_code_p
 + 
öôülizîs_Àngth
);

1844 
	`∑r£r_cbc_°ªam_‰ì
 (&
c⁄ãxt_p
->
byã_code
);

1846 #ifde‡
PARSER_DUMP_BYTE_CODE


1847 i‡(
c⁄ãxt_p
->
is_show_›codes
)

1849 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

1850 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1852 
	`∑r£_¥öt_föÆ_cbc
 (
compûed_code_p
, &
c⁄ãxt_p
->
lôîÆ_poﬁ
, 
Àngth
);

1853 
	`JERRY_DEBUG_MSG
 ("\nByã codêsize: %d byãs\n", (Ë
Àngth
);

1854 
c⁄ãxt_p
->
tŸÆ_byã_code_size
 +(
uöt32_t
Ë
Àngth
;

1856 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

1857 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

1859 i‡((
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL
 ||ÜôîÆ_p->ty≥ =
LEXER_STRING_LITERAL
)

1860 && !(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_SOURCE_PTR
))

1862 
	`jmem_hóp_‰ì_block
 ((*Ë
lôîÆ_p
->
u
.
ch¨_p
,ÜôîÆ_p->
¥›
.
Àngth
);

1867 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_HAS_LATE_LIT_INIT
)

1869 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

1870 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1872 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

1873 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)))

1875 i‡(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_LATE_INIT
)

1877 
uöt32_t
 
sour˚_d©a
 = 
lôîÆ_p
->
u
.source_data;

1878 c⁄° 
uöt8_t
 *
ch¨_p
 = 
c⁄ãxt_p
->
sour˚_íd_p
 - (
sour˚_d©a
 & 0xfffff);

1879 
jmem_˝oöãr_t
 
lô_˝
 = 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
ch¨_p
,

1880 
sour˚_d©a
 >> 20);

1881 
lôîÆ_poﬁ_p
[
lôîÆ_p
->
¥›
.
ödex
] = 
lô_˝
;

1887 i‡((
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_ARGUMENTS_NEEDED
)

1888 && !(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_STRICT
))

1890 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

1891 
uöt16_t
 
¨gumít_cou¡
 = 0;

1893 
	`∑r£r_li°_ôî©‹_öô
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
, &
lôîÆ_ôî©‹
);

1894 
¨gumít_cou¡
 < 
c⁄ãxt_p
->argument_count)

1896 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1897 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
);

1899 
	`JERRY_ASSERT
 (
lôîÆ_p
 !
NULL
);

1901 i‡(!(
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_FUNCTION_ARGUMENT
))

1907 i‡(
lôîÆ_p
->
ty≥
 =
LEXER_UNUSED_LITERAL
)

1909 i‡(
lôîÆ_p
->
u
.
ch¨_p
 =
NULL
)

1911 
lôîÆ_poﬁ_p
[
¨gumít_cou¡
] = 
JMEM_CP_NULL
;

1912 
¨gumít_cou¡
++;

1916 
lôîÆ_p
 = 
	`PARSER_GET_LITERAL
 (lôîÆ_p->
¥›
.
ödex
);

1918 
	`JERRY_ASSERT
 (
lôîÆ_p
 !
NULL
);

1921 
	`JERRY_ASSERT
 (
lôîÆ_p
->
ty≥
 =
LEXER_IDENT_LITERAL


1922 && (
lôîÆ_p
->
°©us_Êags
 & 
LEXER_FLAG_VAR
));

1924 
	`JERRY_ASSERT
 (
¨gumít_cou¡
 < 
lôîÆ_p
->
¥›
.
ödex
);

1926 
lôîÆ_poﬁ_p
[
¨gumít_cou¡
] =ÜôîÆ_poﬁ_p[
lôîÆ_p
->
¥›
.
ödex
];

1927 
¨gumít_cou¡
++;

1931 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_NAMED_FUNCTION_EXP
)

1933 
	`ECMA_SET_NON_NULL_POINTER
 (
lôîÆ_poﬁ_p
[
c⁄°_lôîÆ_íd
],

1934 
compûed_code_p
);

1937 #ifde‡
JERRY_DEBUGGER


1938 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

1940 
	`jîry_debuggî_£nd_fun˘i⁄_˝
 (
JERRY_DEBUGGER_BYTE_CODE_CP
, 
compûed_code_p
);

1944  
compûed_code_p
;

1945 
	}
}

1947 #unde‡
PARSER_NEXT_BYTE


1948 #unde‡
PARSER_NEXT_BYTE_UPDATE


1954 
	$∑r£r_‰ì_lôîÆs
 (
∑r£r_li°_t
 *
lôîÆ_poﬁ_p
)

1956 
∑r£r_li°_ôî©‹_t
 
lôîÆ_ôî©‹
;

1957 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

1959 
	`∑r£r_li°_ôî©‹_öô
 (
lôîÆ_poﬁ_p
, &
lôîÆ_ôî©‹
);

1960 (
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_ôî©‹_√xt
 (&
lôîÆ_ôî©‹
)Ë!
NULL
)

1962 
	`utû_‰ì_lôîÆ
 (
lôîÆ_p
);

1965 
	`∑r£r_li°_‰ì
 (
lôîÆ_poﬁ_p
);

1966 
	}
}

1975 
ecma_compûed_code_t
 *

1976 
	$∑r£r_∑r£_sour˚
 (c⁄° 
uöt8_t
 *
sour˚_p
,

1977 
size_t
 
size
,

1978 
°ri˘_mode
,

1979 
∑r£r_îr‹_loˇti⁄_t
 *
îr‹_loˇti⁄_p
)

1981 
∑r£r_c⁄ãxt_t
 
c⁄ãxt
;

1982 
ecma_compûed_code_t
 *
compûed_code
;

1984 
c⁄ãxt
.
îr‹
 = 
PARSER_ERR_NO_ERROR
;

1985 
c⁄ãxt
.
Æloˇãd_buf„r_p
 = 
NULL
;

1987 i‡(
îr‹_loˇti⁄_p
 !
NULL
)

1989 
îr‹_loˇti⁄_p
->
îr‹
 = 
PARSER_ERR_NO_ERROR
;

1992 
c⁄ãxt
.
°©us_Êags
 = 
PARSER_NO_REG_STORE
 | 
PARSER_LEXICAL_ENV_NEEDED
 | 
PARSER_ARGUMENTS_NOT_NEEDED
;

1993 
c⁄ãxt
.
°ack_dïth
 = 0;

1994 
c⁄ãxt
.
°ack_limô
 = 0;

1995 
c⁄ãxt
.
œ°_c⁄ãxt_p
 = 
NULL
;

1996 
c⁄ãxt
.
œ°_°©emít
.
cuºít_p
 = 
NULL
;

1998 i‡(
°ri˘_mode
)

2000 
c⁄ãxt
.
°©us_Êags
 |
PARSER_IS_STRICT
;

2003 
c⁄ãxt
.
sour˚_p
 = source_p;

2004 
c⁄ãxt
.
sour˚_íd_p
 = 
sour˚_p
 + 
size
;

2005 
c⁄ãxt
.
löe
 = 1;

2006 
c⁄ãxt
.
cﬁumn
 = 1;

2008 
c⁄ãxt
.
œ°_cbc_›code
 = 
PARSER_CBC_UNAVAILABLE
;

2010 
c⁄ãxt
.
¨gumít_cou¡
 = 0;

2011 
c⁄ãxt
.
ªgi°î_cou¡
 = 0;

2012 
c⁄ãxt
.
lôîÆ_cou¡
 = 0;

2014 
	`∑r£r_cbc_°ªam_öô
 (&
c⁄ãxt
.
byã_code
);

2015 
c⁄ãxt
.
byã_code_size
 = 0;

2016 
	`∑r£r_li°_öô
 (&
c⁄ãxt
.
lôîÆ_poﬁ
,

2017  (
Àxî_lôîÆ_t
),

2018 (
uöt32_t
Ë((128 -  (*)Ë/  (
Àxî_lôîÆ_t
)));

2019 
	`∑r£r_°ack_öô
 (&
c⁄ãxt
);

2021 #i‚de‡
JERRY_NDEBUG


2022 
c⁄ãxt
.
c⁄ãxt_°ack_dïth
 = 0;

2025 #ifde‡
PARSER_DUMP_BYTE_CODE


2026 
c⁄ãxt
.
is_show_›codes
 = (
	`JERRY_CONTEXT
 (
jîry_öô_Êags
Ë& 
ECMA_INIT_SHOW_OPCODES
);

2027 
c⁄ãxt
.
tŸÆ_byã_code_size
 = 0;

2029 i‡(
c⁄ãxt
.
is_show_›codes
)

2031 
	`JERRY_DEBUG_MSG
 ("\n--- ScriptÖarsing start ---\n\n");

2035 #ifde‡
JERRY_DEBUGGER


2036 
c⁄ãxt
.
bªakpoöt_öfo_cou¡
 = 0;

2039 
	`PARSER_TRY
 (
c⁄ãxt
.
åy_buf„r
)

2043 
	`∑r£r_°ack_push_uöt8
 (&
c⁄ãxt
, 
CBC_MAXIMUM_BYTE_VALUE
);

2047 
	`Àxî_√xt_tokí
 (&
c⁄ãxt
);

2049 
	`∑r£r_∑r£_°©emíts
 (&
c⁄ãxt
);

2053 
	`JERRY_ASSERT
 (
c⁄ãxt
.
°ack_t›_uöt8
 =
CBC_MAXIMUM_BYTE_VALUE


2054 && 
c⁄ãxt
.
°ack
.
œ°_posôi⁄
 == 1

2055 && 
c⁄ãxt
.
°ack
.
fú°_p
 !
NULL


2056 && 
c⁄ãxt
.
°ack
.
fú°_p
->
√xt_p
 =
NULL


2057 && 
c⁄ãxt
.
°ack
.
œ°_p
 =
NULL
);

2058 
	`JERRY_ASSERT
 (
c⁄ãxt
.
œ°_°©emít
.
cuºít_p
 =
NULL
);

2060 
	`JERRY_ASSERT
 (
c⁄ãxt
.
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

2061 
	`JERRY_ASSERT
 (
c⁄ãxt
.
Æloˇãd_buf„r_p
 =
NULL
);

2063 
compûed_code
 = 
	`∑r£r_po°_¥o˚ssög
 (&
c⁄ãxt
);

2064 
	`∑r£r_li°_‰ì
 (&
c⁄ãxt
.
lôîÆ_poﬁ
);

2066 #ifde‡
PARSER_DUMP_BYTE_CODE


2067 i‡(
c⁄ãxt
.
is_show_›codes
)

2069 
	`JERRY_DEBUG_MSG
 ("\nScriptÖarsing successfully completed. Total byte code size: %d bytes\n",

2070 (Ë
c⁄ãxt
.
tŸÆ_byã_code_size
);

2074 
PARSER_CATCH


2076 i‡(
c⁄ãxt
.
œ°_°©emít
.
cuºít_p
 !
NULL
)

2078 
	`∑r£r_‰ì_jumps
 (
c⁄ãxt
.
œ°_°©emít
);

2081 i‡(
c⁄ãxt
.
Æloˇãd_buf„r_p
 !
NULL
)

2083 
	`∑r£r_‰ì_loˇl
 (
c⁄ãxt
.
Æloˇãd_buf„r_p
,

2084 
c⁄ãxt
.
Æloˇãd_buf„r_size
);

2087 i‡(
îr‹_loˇti⁄_p
 !
NULL
)

2089 
îr‹_loˇti⁄_p
->
îr‹
 = 
c⁄ãxt
.error;

2090 
îr‹_loˇti⁄_p
->
löe
 = 
c⁄ãxt
.
tokí
.line;

2091 
îr‹_loˇti⁄_p
->
cﬁumn
 = 
c⁄ãxt
.
tokí
.column;

2094 
compûed_code
 = 
NULL
;

2095 
	`∑r£r_‰ì_lôîÆs
 (&
c⁄ãxt
.
lôîÆ_poﬁ
);

2096 
	`∑r£r_cbc_°ªam_‰ì
 (&
c⁄ãxt
.
byã_code
);

2098 
PARSER_TRY_END


2100 #ifde‡
PARSER_DUMP_BYTE_CODE


2101 i‡(
c⁄ãxt
.
is_show_›codes
)

2103 
	`JERRY_DEBUG_MSG
 ("\n--- ScriptÖarsingÉnd ---\n\n");

2107 
	`∑r£r_°ack_‰ì
 (&
c⁄ãxt
);

2109  
compûed_code
;

2110 
	}
}

2117 
ecma_compûed_code_t
 *

2118 
	$∑r£r_∑r£_fun˘i⁄
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

2119 
uöt32_t
 
°©us_Êags
)

2121 
∑r£r_ßved_c⁄ãxt_t
 
ßved_c⁄ãxt
;

2122 
ecma_compûed_code_t
 *
compûed_code_p
;

2124 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

2126 #ifde‡
JERRY_DEBUGGER


2127 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED


2128 && 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 > 0)

2130 
	`∑r£r_£nd_bªakpoöts
 (
c⁄ãxt_p
, 
JERRY_DEBUGGER_BREAKPOINT_LIST
);

2131 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 = 0;

2137 
ßved_c⁄ãxt
.
°©us_Êags
 = 
c⁄ãxt_p
->status_flags;

2138 
ßved_c⁄ãxt
.
°ack_dïth
 = 
c⁄ãxt_p
->stack_depth;

2139 
ßved_c⁄ãxt
.
°ack_limô
 = 
c⁄ãxt_p
->stack_limit;

2140 
ßved_c⁄ãxt
.
¥ev_c⁄ãxt_p
 = 
c⁄ãxt_p
->
œ°_c⁄ãxt_p
;

2141 
ßved_c⁄ãxt
.
œ°_°©emít
 = 
c⁄ãxt_p
->last_statement;

2143 
ßved_c⁄ãxt
.
¨gumít_cou¡
 = 
c⁄ãxt_p
->argument_count;

2144 
ßved_c⁄ãxt
.
ªgi°î_cou¡
 = 
c⁄ãxt_p
->register_count;

2145 
ßved_c⁄ãxt
.
lôîÆ_cou¡
 = 
c⁄ãxt_p
->literal_count;

2147 
ßved_c⁄ãxt
.
byã_code
 = 
c⁄ãxt_p
->byte_code;

2148 
ßved_c⁄ãxt
.
byã_code_size
 = 
c⁄ãxt_p
->byte_code_size;

2149 
ßved_c⁄ãxt
.
lôîÆ_poﬁ_d©a
 = 
c⁄ãxt_p
->
lôîÆ_poﬁ
.
d©a
;

2151 #i‚de‡
JERRY_NDEBUG


2152 
ßved_c⁄ãxt
.
c⁄ãxt_°ack_dïth
 = 
c⁄ãxt_p
->context_stack_depth;

2157 
	`JERRY_ASSERT
 (
°©us_Êags
 & 
PARSER_IS_FUNCTION
);

2159 
c⁄ãxt_p
->
°©us_Êags
 &
PARSER_IS_STRICT
;

2160 
c⁄ãxt_p
->
°©us_Êags
 |= status_flags;

2161 
c⁄ãxt_p
->
°ack_dïth
 = 0;

2162 
c⁄ãxt_p
->
°ack_limô
 = 0;

2163 
c⁄ãxt_p
->
œ°_c⁄ãxt_p
 = &
ßved_c⁄ãxt
;

2164 
c⁄ãxt_p
->
œ°_°©emít
.
cuºít_p
 = 
NULL
;

2166 
c⁄ãxt_p
->
¨gumít_cou¡
 = 0;

2167 
c⁄ãxt_p
->
ªgi°î_cou¡
 = 0;

2168 
c⁄ãxt_p
->
lôîÆ_cou¡
 = 0;

2170 
	`∑r£r_cbc_°ªam_öô
 (&
c⁄ãxt_p
->
byã_code
);

2171 
c⁄ãxt_p
->
byã_code_size
 = 0;

2172 
	`∑r£r_li°_ª£t
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
);

2174 #i‚de‡
JERRY_NDEBUG


2175 
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
 = 0;

2178 #ifde‡
PARSER_DUMP_BYTE_CODE


2179 i‡(
c⁄ãxt_p
->
is_show_›codes
)

2181 
	`JERRY_DEBUG_MSG
 ("\n--- FunctionÖarsing start ---\n\n");

2185 #ifde‡
JERRY_DEBUGGER


2186 
∑r£r_löe_cou¡î_t
 
debuggî_löe
 = 
c⁄ãxt_p
->
tokí
.
löe
;

2187 
∑r£r_löe_cou¡î_t
 
debuggî_cﬁumn
 = 
c⁄ãxt_p
->
tokí
.
cﬁumn
;

2190 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2192 i‡(
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_FUNC_EXPRESSION


2193 && 
c⁄ãxt_p
->
tokí
.
ty≥
 =
LEXER_LITERAL


2194 && 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 =
LEXER_IDENT_LITERAL
)

2196 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
,

2197 &
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
,

2198 
LEXER_IDENT_LITERAL
);

2200 #ifde‡
JERRY_DEBUGGER


2201 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

2203 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_FUNCTION_NAME
,

2204 
JERRY_DEBUGGER_NO_SUBTYPE
,

2205 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
u
.
ch¨_p
,

2206 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
¥›
.
Àngth
);

2212 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 !
LEXER_LITERAL_OBJECT_ARGUMENTS
)

2214 
uöt8_t
 
Àxî_Êags
 = 
LEXER_FLAG_VAR
 | 
LEXER_FLAG_INITIALIZED
 | 
LEXER_FLAG_FUNCTION_NAME
;

2215 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
Àxî_Êags
;

2218 i‡(
c⁄ãxt_p
->
tokí
.
lôîÆ_is_ª£rved


2219 || 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

2221 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_HAS_NON_STRICT_ARG
;

2224 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2227 #ifde‡
JERRY_DEBUGGER


2228 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

2229 && 
	`jîry_debuggî_£nd_∑r£_fun˘i⁄
 (
debuggî_löe
, 
debuggî_cﬁumn
))

2233 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_LEXICAL_ENV_NEEDED
 | 
PARSER_NO_REG_STORE
;

2237 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_PAREN
)

2239 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_ARGUMENT_LIST_EXPECTED
);

2242 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2245 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

2247 
åue
)

2249 
uöt16_t
 
lôîÆ_cou¡
 = 
c⁄ãxt_p
->literal_count;

2251 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LITERAL


2252 || 
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
.
ty≥
 !
LEXER_IDENT_LITERAL
)

2254 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_IDENTIFIER_EXPECTED
);

2257 
	`Àxî_c⁄°ru˘_lôîÆ_obje˘
 (
c⁄ãxt_p
,

2258 &
c⁄ãxt_p
->
tokí
.
lô_loˇti⁄
,

2259 
LEXER_IDENT_LITERAL
);

2261 i‡(
lôîÆ_cou¡
 =
c⁄ãxt_p
->literal_count

2262 || 
c⁄ãxt_p
->
tokí
.
lôîÆ_is_ª£rved


2263 || 
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 !
LEXER_LITERAL_OBJECT_ANY
)

2265 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_HAS_NON_STRICT_ARG
;

2268 i‡(
c⁄ãxt_p
->
lô_obje˘
.
ty≥
 =
LEXER_LITERAL_OBJECT_ARGUMENTS
)

2270 
uöt8_t
 
lôîÆ_°©us_Êags
 = 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
;

2272 
lôîÆ_°©us_Êags
 = (
uöt8_t
Ë÷ôîÆ_°©us_Êag†& ~
LEXER_FLAG_NO_REG_STORE
);

2273 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 = 
lôîÆ_°©us_Êags
;

2275 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_ARGUMENTS_NOT_NEEDED
;

2276 
c⁄ãxt_p
->
°©us_Êags
 &~(
PARSER_LEXICAL_ENV_NEEDED
 | 
PARSER_ARGUMENTS_NEEDED
);

2279 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 ==Üiteral_count)

2281 
Àxî_lôîÆ_t
 *
lôîÆ_p
;

2283 i‡(
c⁄ãxt_p
->
lôîÆ_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_LITERALS
)

2285 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LITERAL_LIMIT_REACHED
);

2288 
lôîÆ_p
 = (
Àxî_lôîÆ_t
 *Ë
	`∑r£r_li°_≠≥nd
 (
c⁄ãxt_p
, &c⁄ãxt_p->
lôîÆ_poﬁ
);

2289 *
lôîÆ_p
 = *
c⁄ãxt_p
->
lô_obje˘
.literal_p;

2291 
lôîÆ_p
->
°©us_Êags
 &
LEXER_FLAG_SOURCE_PTR
;

2292 
lôîÆ_p
->
°©us_Êags
 |
LEXER_FLAG_VAR
 | 
LEXER_FLAG_INITIALIZED
 | 
LEXER_FLAG_FUNCTION_ARGUMENT
;

2294 
c⁄ãxt_p
->
lôîÆ_cou¡
++;

2299 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
ty≥
 = 
LEXER_UNUSED_LITERAL
;

2302 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 &
LEXER_FLAG_FUNCTION_ARGUMENT
;

2303 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
u
.
ch¨_p
 = 
NULL
;

2307 
uöt8_t
 
Àxî_Êags
 = 
LEXER_FLAG_VAR
 | 
LEXER_FLAG_INITIALIZED
 | 
LEXER_FLAG_FUNCTION_ARGUMENT
;

2308 
c⁄ãxt_p
->
lô_obje˘
.
lôîÆ_p
->
°©us_Êags
 |
Àxî_Êags
;

2311 
c⁄ãxt_p
->
¨gumít_cou¡
++;

2312 i‡(
c⁄ãxt_p
->
¨gumít_cou¡
 >
PARSER_MAXIMUM_NUMBER_OF_REGISTERS
)

2314 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_REGISTER_LIMIT_REACHED
);

2317 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2319 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_COMMA
)

2324 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2328 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_RIGHT_PAREN
)

2330 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_RIGHT_PAREN_EXPECTED
);

2333 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2335 
c⁄ãxt_p
->
ªgi°î_cou¡
 = c⁄ãxt_p->
¨gumít_cou¡
;

2337 i‡((
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_PROPERTY_GETTER
)

2338 && 
c⁄ãxt_p
->
¨gumít_cou¡
 != 0)

2340 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_NO_ARGUMENTS_EXPECTED
);

2343 i‡((
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_IS_PROPERTY_SETTER
)

2344 && 
c⁄ãxt_p
->
¨gumít_cou¡
 != 1)

2346 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_ONE_ARGUMENT_EXPECTED
);

2349 #ifde‡
PARSER_DUMP_BYTE_CODE


2350 i‡(
c⁄ãxt_p
->
is_show_›codes


2351 && (
c⁄ãxt_p
->
°©us_Êags
 & 
PARSER_HAS_NON_STRICT_ARG
))

2353 
	`JERRY_DEBUG_MSG
 (" Note:Üegacy (non-strict)árgument definition\n\n");

2357 i‡(
c⁄ãxt_p
->
tokí
.
ty≥
 !
LEXER_LEFT_BRACE
)

2359 
	`∑r£r_øi£_îr‹
 (
c⁄ãxt_p
, 
PARSER_ERR_LEFT_BRACE_EXPECTED
);

2362 
	`Àxî_√xt_tokí
 (
c⁄ãxt_p
);

2363 
	`∑r£r_∑r£_°©emíts
 (
c⁄ãxt_p
);

2364 
compûed_code_p
 = 
	`∑r£r_po°_¥o˚ssög
 (
c⁄ãxt_p
);

2366 #ifde‡
PARSER_DUMP_BYTE_CODE


2367 i‡(
c⁄ãxt_p
->
is_show_›codes
)

2369 
	`JERRY_DEBUG_MSG
 ("\n--- FunctionÖarsingÉnd ---\n\n");

2373 
	`∑r£r_li°_‰ì
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
);

2377 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
œ°_cbc_›code
 =
PARSER_CBC_UNAVAILABLE
);

2379 
c⁄ãxt_p
->
°©us_Êags
 = 
ßved_c⁄ãxt
.status_flags;

2380 
c⁄ãxt_p
->
°ack_dïth
 = 
ßved_c⁄ãxt
.stack_depth;

2381 
c⁄ãxt_p
->
°ack_limô
 = 
ßved_c⁄ãxt
.stack_limit;

2382 
c⁄ãxt_p
->
œ°_c⁄ãxt_p
 = 
ßved_c⁄ãxt
.
¥ev_c⁄ãxt_p
;

2383 
c⁄ãxt_p
->
œ°_°©emít
 = 
ßved_c⁄ãxt
.last_statement;

2385 
c⁄ãxt_p
->
¨gumít_cou¡
 = 
ßved_c⁄ãxt
.argument_count;

2386 
c⁄ãxt_p
->
ªgi°î_cou¡
 = 
ßved_c⁄ãxt
.register_count;

2387 
c⁄ãxt_p
->
lôîÆ_cou¡
 = 
ßved_c⁄ãxt
.literal_count;

2389 
c⁄ãxt_p
->
byã_code
 = 
ßved_c⁄ãxt
.byte_code;

2390 
c⁄ãxt_p
->
byã_code_size
 = 
ßved_c⁄ãxt
.byte_code_size;

2391 
c⁄ãxt_p
->
lôîÆ_poﬁ
.
d©a
 = 
ßved_c⁄ãxt
.
lôîÆ_poﬁ_d©a
;

2393 #i‚de‡
JERRY_NDEBUG


2394 
c⁄ãxt_p
->
c⁄ãxt_°ack_dïth
 = 
ßved_c⁄ãxt
.context_stack_depth;

2397  
compûed_code_p
;

2398 
	}
}

2404 
	$∑r£r_øi£_îr‹
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

2405 
∑r£r_îr‹_t
 
îr‹
)

2407 
∑r£r_ßved_c⁄ãxt_t
 *
ßved_c⁄ãxt_p
 = 
c⁄ãxt_p
->
œ°_c⁄ãxt_p
;

2409 
ßved_c⁄ãxt_p
 !
NULL
)

2411 
	`∑r£r_cbc_°ªam_‰ì
 (&
ßved_c⁄ãxt_p
->
byã_code
);

2418 
	`∑r£r_‰ì_lôîÆs
 (&
c⁄ãxt_p
->
lôîÆ_poﬁ
);

2419 
c⁄ãxt_p
->
lôîÆ_poﬁ
.
d©a
 = 
ßved_c⁄ãxt_p
->
lôîÆ_poﬁ_d©a
;

2421 i‡(
ßved_c⁄ãxt_p
->
œ°_°©emít
.
cuºít_p
 !
NULL
)

2423 
	`∑r£r_‰ì_jumps
 (
ßved_c⁄ãxt_p
->
œ°_°©emít
);

2426 
ßved_c⁄ãxt_p
 = saved_c⁄ãxt_p->
¥ev_c⁄ãxt_p
;

2429 
c⁄ãxt_p
->
îr‹
 =Érror;

2430 
	`PARSER_THROW
 (
c⁄ãxt_p
->
åy_buf„r
);

2432 
	`JERRY_ASSERT
 (0);

2433 
	}
}

2435 #ifde‡
JERRY_DEBUGGER


2441 
	$∑r£r_≠≥nd_bªakpoöt_öfo
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

2442 
jîry_debuggî_hódî_ty≥_t
 
ty≥
,

2443 
uöt32_t
 
vÆue
)

2445 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

2447 
c⁄ãxt_p
->
°©us_Êags
 |
PARSER_DEBUGGER_BREAKPOINT_APPENDED
;

2449 i‡(
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 >
	`JERRY_DEBUGGER_SEND_MAX
 (
∑r£r_li°_t
))

2451 
	`∑r£r_£nd_bªakpoöts
 (
c⁄ãxt_p
, 
ty≥
);

2454 
c⁄ãxt_p
->
bªakpoöt_öfo
[c⁄ãxt_p->
bªakpoöt_öfo_cou¡
].
vÆue
 = value;

2455 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 = (
uöt16_t
) (context_p->breakpoint_info_count + 1);

2456 
	}
}

2462 
	$∑r£r_£nd_bªakpoöts
 (
∑r£r_c⁄ãxt_t
 *
c⁄ãxt_p
,

2463 
jîry_debuggî_hódî_ty≥_t
 
ty≥
)

2465 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

2466 
	`JERRY_ASSERT
 (
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 > 0);

2468 
	`jîry_debuggî_£nd_d©a
 (
ty≥
,

2469 
c⁄ãxt_p
->
bªakpoöt_öfo
,

2470 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 *  (
∑r£r_bªakpoöt_öfo_t
));

2472 
c⁄ãxt_p
->
bªakpoöt_öfo_cou¡
 = 0;

2473 
	}
}

2488 
ecma_vÆue_t


2489 
	$∑r£r_∑r£_s¸ùt
 (c⁄° 
uöt8_t
 *
sour˚_p
,

2490 
size_t
 
size
,

2491 
boﬁ
 
is_°ri˘
,

2492 
ecma_compûed_code_t
 **
byãcode_d©a_p
)

2494 #i‡
JERRY_JS_PARSER


2495 
∑r£r_îr‹_loˇti⁄_t
 
∑r£r_îr‹
;

2497 #ifde‡
JERRY_DEBUGGER


2498 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

2500 
	`jîry_debuggî_£nd_°rög
 (
JERRY_DEBUGGER_SOURCE_CODE
,

2501 
JERRY_DEBUGGER_NO_SUBTYPE
,

2502 
sour˚_p
,

2503 
size
);

2507 *
byãcode_d©a_p
 = 
	`∑r£r_∑r£_sour˚
 (
sour˚_p
, 
size
, 
is_°ri˘
, &
∑r£r_îr‹
);

2509 i‡(!*
byãcode_d©a_p
)

2511 #ifde‡
JERRY_DEBUGGER


2512 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

2514 
	`jîry_debuggî_£nd_ty≥
 (
JERRY_DEBUGGER_PARSE_ERROR
);

2518 i‡(
∑r£r_îr‹
.
îr‹
 =
PARSER_ERR_OUT_OF_MEMORY
)

2522  
	`ecma_make_îr‹_vÆue
 (
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
));

2524 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


2525 c⁄° 
lô_utf8_byã_t
 *
îr_byãs_p
 = (c⁄°Üô_utf8_byã_à*Ë
	`∑r£r_îr‹_to_°rög
 (
∑r£r_îr‹
.
îr‹
);

2526 
lô_utf8_size_t
 
îr_byãs_size
 = 
	`lô_zt_utf8_°rög_size
 (
îr_byãs_p
);

2528 
ecma_°rög_t
 *
îr_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
îr_byãs_p
, 
îr_byãs_size
);

2529 
ecma_vÆue_t
 
îr_°r_vÆ
 = 
	`ecma_make_°rög_vÆue
 (
îr_°r_p
);

2530 
ecma_vÆue_t
 
löe_°r_vÆ
 = 
	`ecma_make_uöt32_vÆue
 (
∑r£r_îr‹
.
löe
);

2531 
ecma_vÆue_t
 
cﬁ_°r_vÆ
 = 
	`ecma_make_uöt32_vÆue
 (
∑r£r_îr‹
.
cﬁumn
);

2533 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ECMA_ERROR_SYNTAX
,

2535 
îr_°r_vÆ
,

2536 
löe_°r_vÆ
,

2537 
cﬁ_°r_vÆ
);

2539 
	`ecma_‰ì_vÆue
 (
cﬁ_°r_vÆ
);

2540 
	`ecma_‰ì_vÆue
 (
löe_°r_vÆ
);

2541 
	`ecma_‰ì_vÆue
 (
îr_°r_vÆ
);

2543  
îr‹_vÆue
;

2545  
	`ecma_øi£_sy¡ax_îr‹
 ("");

2548  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

2550 
	`JERRY_UNUSED
 (
sour˚_p
);

2551 
	`JERRY_UNUSED
 (
size
);

2552 
	`JERRY_UNUSED
 (
is_°ri˘
);

2553 
	`JERRY_UNUSED
 (
byãcode_d©a_p
);

2555  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("TheÖarser has been disabled."));

2557 
	}
}

	@deps/jerry/jerry-core/parser/js/js-parser.h

16 #i‚de‡
JS_PARSER_H


17 
	#JS_PARSER_H


	)

19 
	~"ecma-globÆs.h
"

36 
	mPARSER_ERR_NO_ERROR
,

38 
	mPARSER_ERR_OUT_OF_MEMORY
,

39 
	mPARSER_ERR_LITERAL_LIMIT_REACHED
,

40 
	mPARSER_ERR_ARGUMENT_LIMIT_REACHED
,

41 
	mPARSER_ERR_STACK_LIMIT_REACHED
,

42 
	mPARSER_ERR_REGISTER_LIMIT_REACHED
,

44 
	mPARSER_ERR_INVALID_CHARACTER
,

45 
	mPARSER_ERR_INVALID_HEX_DIGIT
,

46 
	mPARSER_ERR_INVALID_ESCAPE_SEQUENCE
,

47 
	mPARSER_ERR_INVALID_UNICODE_ESCAPE_SEQUENCE
,

48 
	mPARSER_ERR_INVALID_IDENTIFIER_START
,

49 
	mPARSER_ERR_INVALID_IDENTIFIER_PART
,

51 
	mPARSER_ERR_INVALID_NUMBER
,

52 
	mPARSER_ERR_MISSING_EXPONENT
,

53 
	mPARSER_ERR_IDENTIFIER_AFTER_NUMBER
,

55 
	mPARSER_ERR_INVALID_REGEXP
,

56 
	mPARSER_ERR_UNKNOWN_REGEXP_FLAG
,

57 
	mPARSER_ERR_DUPLICATED_REGEXP_FLAG
,

58 
	mPARSER_ERR_UNSUPPORTED_REGEXP
,

60 
	mPARSER_ERR_IDENTIFIER_TOO_LONG
,

61 
	mPARSER_ERR_STRING_TOO_LONG
,

62 
	mPARSER_ERR_NUMBER_TOO_LONG
,

63 
	mPARSER_ERR_REGEXP_TOO_LONG
,

65 
	mPARSER_ERR_UNTERMINATED_MULTILINE_COMMENT
,

66 
	mPARSER_ERR_UNTERMINATED_STRING
,

67 
	mPARSER_ERR_UNTERMINATED_REGEXP
,

69 
	mPARSER_ERR_NEWLINE_NOT_ALLOWED
,

70 
	mPARSER_ERR_OCTAL_NUMBER_NOT_ALLOWED
,

71 
	mPARSER_ERR_OCTAL_ESCAPE_NOT_ALLOWED
,

72 
	mPARSER_ERR_STRICT_IDENT_NOT_ALLOWED
,

73 
	mPARSER_ERR_EVAL_NOT_ALLOWED
,

74 
	mPARSER_ERR_ARGUMENTS_NOT_ALLOWED
,

75 
	mPARSER_ERR_DELETE_IDENT_NOT_ALLOWED
,

76 
	mPARSER_ERR_EVAL_CANNOT_ASSIGNED
,

77 
	mPARSER_ERR_ARGUMENTS_CANNOT_ASSIGNED
,

78 
	mPARSER_ERR_WITH_NOT_ALLOWED
,

79 
	mPARSER_ERR_MULTIPLE_DEFAULTS_NOT_ALLOWED
,

80 
	mPARSER_ERR_DEFAULT_NOT_IN_SWITCH
,

81 
	mPARSER_ERR_CASE_NOT_IN_SWITCH
,

83 
	mPARSER_ERR_LEFT_PAREN_EXPECTED
,

84 
	mPARSER_ERR_LEFT_BRACE_EXPECTED
,

85 
	mPARSER_ERR_RIGHT_PAREN_EXPECTED
,

86 
	mPARSER_ERR_RIGHT_SQUARE_EXPECTED
,

87 
	mPARSER_ERR_COLON_EXPECTED
,

88 
	mPARSER_ERR_COLON_FOR_CONDITIONAL_EXPECTED
,

89 
	mPARSER_ERR_SEMICOLON_EXPECTED
,

90 
	mPARSER_ERR_IN_EXPECTED
,

91 
	mPARSER_ERR_WHILE_EXPECTED
,

92 
	mPARSER_ERR_CATCH_FINALLY_EXPECTED
,

93 
	mPARSER_ERR_ARRAY_ITEM_SEPARATOR_EXPECTED
,

94 
	mPARSER_ERR_OBJECT_ITEM_SEPARATOR_EXPECTED
,

95 
	mPARSER_ERR_IDENTIFIER_EXPECTED
,

96 
	mPARSER_ERR_EXPRESSION_EXPECTED
,

97 
	mPARSER_ERR_PRIMARY_EXP_EXPECTED
,

98 
	mPARSER_ERR_STATEMENT_EXPECTED
,

99 
	mPARSER_ERR_PROPERTY_IDENTIFIER_EXPECTED
,

100 
	mPARSER_ERR_ARGUMENT_LIST_EXPECTED
,

101 
	mPARSER_ERR_NO_ARGUMENTS_EXPECTED
,

102 
	mPARSER_ERR_ONE_ARGUMENT_EXPECTED
,

104 
	mPARSER_ERR_INVALID_EXPRESSION
,

105 
	mPARSER_ERR_INVALID_SWITCH
,

106 
	mPARSER_ERR_INVALID_BREAK
,

107 
	mPARSER_ERR_INVALID_BREAK_LABEL
,

108 
	mPARSER_ERR_INVALID_CONTINUE
,

109 
	mPARSER_ERR_INVALID_CONTINUE_LABEL
,

110 
	mPARSER_ERR_INVALID_RETURN
,

111 
	mPARSER_ERR_INVALID_RIGHT_SQUARE
,

112 
	mPARSER_ERR_DUPLICATED_LABEL
,

113 
	mPARSER_ERR_OBJECT_PROPERTY_REDEFINED
,

114 
	mPARSER_ERR_NON_STRICT_ARG_DEFINITION


115 } 
	t∑r£r_îr‹_t
;

118 
uöt32_t
 
	t∑r£r_löe_cou¡î_t
;

125 
∑r£r_îr‹_t
 
	mîr‹
;

126 
∑r£r_löe_cou¡î_t
 
	mlöe
;

127 
∑r£r_löe_cou¡î_t
 
	mcﬁumn
;

128 } 
	t∑r£r_îr‹_loˇti⁄_t
;

131 
ecma_vÆue_t
 
∑r£r_∑r£_s¸ùt
 (c⁄° 
uöt8_t
 *
sour˚_p
, 
size_t
 
size
, 
boﬁ
 
is_°ri˘
,

132 
ecma_compûed_code_t
 **
byãcode_d©a_p
);

134 c⁄° *
∑r£r_îr‹_to_°rög
 (
∑r£r_îr‹_t
);

	@deps/jerry/jerry-core/parser/regexp/re-bytecode.c

16 
	~"ecma-globÆs.h
"

17 
	~"ª-byãcode.h
"

19 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


34 
	#REGEXP_BYTECODE_BLOCK_SIZE
 256UL

	)

41 
uöt8_t
 *

42 
	$ª_ªÆloc_ªgexp_byãcode_block
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
)

44 
	`JERRY_ASSERT
 (
bc_˘x_p
->
block_íd_p
 >bc_˘x_p->
block_°¨t_p
);

45 
size_t
 
ﬁd_size
 = (size_tË(
bc_˘x_p
->
block_íd_p
 - bc_˘x_p->
block_°¨t_p
);

49 
	`JERRY_ASSERT
 ((!
bc_˘x_p
->
cuºít_p
 && !bc_˘x_p->
block_íd_p
 && !bc_˘x_p->
block_°¨t_p
)

50 || (
bc_˘x_p
->
cuºít_p
 && bc_˘x_p->
block_íd_p
 && bc_˘x_p->
block_°¨t_p
));

52 
size_t
 
√w_block_size
 = 
ﬁd_size
 + 
REGEXP_BYTECODE_BLOCK_SIZE
;

53 
	`JERRY_ASSERT
 (
bc_˘x_p
->
cuºít_p
 >bc_˘x_p->
block_°¨t_p
);

54 
size_t
 
cuºít_±r_off£t
 = (size_tË(
bc_˘x_p
->
cuºít_p
 - bc_˘x_p->
block_°¨t_p
);

56 
uöt8_t
 *
√w_block_°¨t_p
 = (uöt8_à*Ë
	`jmem_hóp_Æloc_block
 (
√w_block_size
);

57 i‡(
bc_˘x_p
->
cuºít_p
)

59 
	`mem˝y
 (
√w_block_°¨t_p
, 
bc_˘x_p
->
block_°¨t_p
, (
size_t
Ë(
cuºít_±r_off£t
));

60 
	`jmem_hóp_‰ì_block
 (
bc_˘x_p
->
block_°¨t_p
, 
ﬁd_size
);

62 
bc_˘x_p
->
block_°¨t_p
 = 
√w_block_°¨t_p
;

63 
bc_˘x_p
->
block_íd_p
 = 
√w_block_°¨t_p
 + 
√w_block_size
;

64 
bc_˘x_p
->
cuºít_p
 = 
√w_block_°¨t_p
 + 
cuºít_±r_off£t
;

66  
bc_˘x_p
->
cuºít_p
;

67 
	}
}

73 
	$ª_byãcode_li°_≠≥nd
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

74 
uöt8_t
 *
byãcode_p
,

75 
size_t
 
Àngth
)

77 
	`JERRY_ASSERT
 (
Àngth
 <
REGEXP_BYTECODE_BLOCK_SIZE
);

79 
uöt8_t
 *
cuºít_p
 = 
bc_˘x_p
->current_p;

80 i‡(
cuºít_p
 + 
Àngth
 > 
bc_˘x_p
->
block_íd_p
)

82 
cuºít_p
 = 
	`ª_ªÆloc_ªgexp_byãcode_block
 (
bc_˘x_p
);

85 
	`mem˝y
 (
cuºít_p
, 
byãcode_p
, 
Àngth
);

86 
bc_˘x_p
->
cuºít_p
 +
Àngth
;

87 
	}
}

93 
	$ª_byãcode_li°_ö£π
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

94 
size_t
 
off£t
,

95 
uöt8_t
 *
byãcode_p
,

96 
size_t
 
Àngth
)

98 
	`JERRY_ASSERT
 (
Àngth
 <
REGEXP_BYTECODE_BLOCK_SIZE
);

100 
uöt8_t
 *
cuºít_p
 = 
bc_˘x_p
->current_p;

101 i‡(
cuºít_p
 + 
Àngth
 > 
bc_˘x_p
->
block_íd_p
)

103 
	`ª_ªÆloc_ªgexp_byãcode_block
 (
bc_˘x_p
);

106 
uöt8_t
 *
§c_p
 = 
bc_˘x_p
->
block_°¨t_p
 + 
off£t
;

107 i‡((
	`ª_gë_byãcode_Àngth
 (
bc_˘x_p
Ë- 
off£t
) > 0)

109 
uöt8_t
 *
de°_p
 = 
§c_p
 + 
Àngth
;

110 
uöt8_t
 *
tmp_block_°¨t_p
;

111 
tmp_block_°¨t_p
 = (
uöt8_t
 *Ë
	`jmem_hóp_Æloc_block
 (
	`ª_gë_byãcode_Àngth
 (
bc_˘x_p
Ë- 
off£t
);

112 
	`mem˝y
 (
tmp_block_°¨t_p
, 
§c_p
, (
size_t
Ë(
	`ª_gë_byãcode_Àngth
 (
bc_˘x_p
Ë- 
off£t
));

113 
	`mem˝y
 (
de°_p
, 
tmp_block_°¨t_p
, (
size_t
Ë(
	`ª_gë_byãcode_Àngth
 (
bc_˘x_p
Ë- 
off£t
));

114 
	`jmem_hóp_‰ì_block
 (
tmp_block_°¨t_p
, 
	`ª_gë_byãcode_Àngth
 (
bc_˘x_p
Ë- 
off£t
);

116 
	`mem˝y
 (
§c_p
, 
byãcode_p
, 
Àngth
);

118 
bc_˘x_p
->
cuºít_p
 +
Àngth
;

119 
	}
}

126 
ölöe
 
ecma_ch¨_t
 
__©å_Æways_ölöe___


127 
	$ª_gë_ch¨
 (
uöt8_t
 **
bc_p
)

129 
ecma_ch¨_t
 
chr
;

130 
	`mem˝y
 (&
chr
, *
bc_p
,  (
ecma_ch¨_t
));

131 (*
bc_p
Ë+ (
ecma_ch¨_t
);

132  
chr
;

133 
	}
}

140 
ölöe
 
ª_›code_t
 
__©å_Æways_ölöe___


141 
	$ª_gë_›code
 (
uöt8_t
 **
bc_p
)

143 
uöt8_t
 
byãcode
 = **
bc_p
;

144 (*
bc_p
Ë+ (
uöt8_t
);

145  (
ª_›code_t
Ë
byãcode
;

146 
	}
}

153 
ölöe
 
uöt32_t
 
__©å_Æways_ölöe___


154 
	$ª_gë_vÆue
 (
uöt8_t
 **
bc_p
)

156 
uöt32_t
 
vÆue
;

157 
	`mem˝y
 (&
vÆue
, *
bc_p
,  (
uöt32_t
));

158 (*
bc_p
Ë+ (
uöt32_t
);

159  
vÆue
;

160 
	}
}

167 
ölöe
 
uöt32_t
 
__©å_puª___
 
__©å_Æways_ölöe___


168 
	$ª_gë_byãcode_Àngth
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
)

170  ((
uöt32_t
Ë(
bc_˘x_p
->
cuºít_p
 - bc_˘x_p->
block_°¨t_p
));

171 
	}
}

177 
	$ª_≠≥nd_›code
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

178 
ª_›code_t
 
›code
)

180 
	`ª_byãcode_li°_≠≥nd
 (
bc_˘x_p
, (
uöt8_t
 *Ë&
›code
,  (uint8_t));

181 
	}
}

187 
	$ª_≠≥nd_u32
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

188 
uöt32_t
 
vÆue
)

190 
	`ª_byãcode_li°_≠≥nd
 (
bc_˘x_p
, (
uöt8_t
 *Ë&
vÆue
,  (
uöt32_t
));

191 
	}
}

197 
	$ª_≠≥nd_ch¨
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

198 
ecma_ch¨_t
 
öput_ch¨
)

200 
	`ª_byãcode_li°_≠≥nd
 (
bc_˘x_p
, (
uöt8_t
 *Ë&
öput_ch¨
,  (
ecma_ch¨_t
));

201 
	}
}

207 
	$ª_≠≥nd_jump_off£t
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

208 
uöt32_t
 
vÆue
)

210 
vÆue
 +(
uöt32_t
) ( (uint32_t));

211 
	`ª_≠≥nd_u32
 (
bc_˘x_p
, 
vÆue
);

212 
	}
}

218 
	$ª_ö£π_›code
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

219 
uöt32_t
 
off£t
,

220 
ª_›code_t
 
›code
)

222 
	`ª_byãcode_li°_ö£π
 (
bc_˘x_p
, 
off£t
, (
uöt8_t
 *Ë&
›code
,  (uint8_t));

223 
	}
}

229 
	$ª_ö£π_u32
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
,

230 
uöt32_t
 
off£t
,

231 
uöt32_t
 
vÆue
)

233 
	`ª_byãcode_li°_ö£π
 (
bc_˘x_p
, 
off£t
, (
uöt8_t
 *Ë&
vÆue
,  (
uöt32_t
));

234 
	}
}

236 #ifde‡
REGEXP_DUMP_BYTE_CODE


241 
	$ª_dump_byãcode
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
)

243 
ª_compûed_code_t
 *
compûed_code_p
 = (ª_compûed_code_à*Ë
bc_˘x_p
->
block_°¨t_p
;

244 
	`JERRY_DEBUG_MSG
 ("%d ", 
compûed_code_p
->
hódî
.
°©us_Êags
);

245 
	`JERRY_DEBUG_MSG
 ("%d ", 
compûed_code_p
->
num_of_ˇ±uªs
);

246 
	`JERRY_DEBUG_MSG
 ("%d | ", 
compûed_code_p
->
num_of_n⁄_ˇ±uªs
);

248 
uöt8_t
 *
byãcode_p
 = (uöt8_à*Ë(
compûed_code_p
 + 1);

250 
ª_›code_t
 
›
;

251 (
›
 = 
	`ª_gë_›code
 (&
byãcode_p
)))

253 
›
)

255 
RE_OP_MATCH
:

257 
	`JERRY_DEBUG_MSG
 ("MATCH, ");

260 
RE_OP_CHAR
:

262 
	`JERRY_DEBUG_MSG
 ("CHAR ");

263 
	`JERRY_DEBUG_MSG
 ("%c, ", (Ë
	`ª_gë_ch¨
 (&
byãcode_p
));

266 
RE_OP_CAPTURE_NON_GREEDY_ZERO_GROUP_START
:

268 
	`JERRY_DEBUG_MSG
 ("N");

271 
RE_OP_CAPTURE_GREEDY_ZERO_GROUP_START
:

273 
	`JERRY_DEBUG_MSG
 ("GZ_START ");

274 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

275 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

276 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

279 
RE_OP_CAPTURE_GROUP_START
:

281 
	`JERRY_DEBUG_MSG
 ("START ");

282 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

283 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

286 
RE_OP_CAPTURE_NON_GREEDY_GROUP_END
:

288 
	`JERRY_DEBUG_MSG
 ("N");

291 
RE_OP_CAPTURE_GREEDY_GROUP_END
:

293 
	`JERRY_DEBUG_MSG
 ("G_END ");

294 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

295 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

296 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

297 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

300 
RE_OP_NON_CAPTURE_NON_GREEDY_ZERO_GROUP_START
:

302 
	`JERRY_DEBUG_MSG
 ("N");

305 
RE_OP_NON_CAPTURE_GREEDY_ZERO_GROUP_START
:

307 
	`JERRY_DEBUG_MSG
 ("GZ_NC_START ");

308 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

309 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

310 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

313 
RE_OP_NON_CAPTURE_GROUP_START
:

315 
	`JERRY_DEBUG_MSG
 ("NC_START ");

316 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

317 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

320 
RE_OP_NON_CAPTURE_NON_GREEDY_GROUP_END
:

322 
	`JERRY_DEBUG_MSG
 ("N");

325 
RE_OP_NON_CAPTURE_GREEDY_GROUP_END
:

327 
	`JERRY_DEBUG_MSG
 ("G_NC_END ");

328 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

329 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

330 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

331 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

334 
RE_OP_SAVE_AT_START
:

336 
	`JERRY_DEBUG_MSG
 ("RE_START ");

337 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

340 
RE_OP_SAVE_AND_MATCH
:

342 
	`JERRY_DEBUG_MSG
 ("RE_END, ");

345 
RE_OP_GREEDY_ITERATOR
:

347 
	`JERRY_DEBUG_MSG
 ("GREEDY_ITERATOR ");

348 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

349 
	`JERRY_DEBUG_MSG
 ("%d ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

350 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

353 
RE_OP_NON_GREEDY_ITERATOR
:

355 
	`JERRY_DEBUG_MSG
 ("NON_GREEDY_ITERATOR ");

356 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

357 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

358 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

361 
RE_OP_PERIOD
:

363 
	`JERRY_DEBUG_MSG
 ("PERIOD ");

366 
RE_OP_ALTERNATIVE
:

368 
	`JERRY_DEBUG_MSG
 ("ALTERNATIVE ");

369 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

372 
RE_OP_ASSERT_START
:

374 
	`JERRY_DEBUG_MSG
 ("ASSERT_START ");

377 
RE_OP_ASSERT_END
:

379 
	`JERRY_DEBUG_MSG
 ("ASSERT_END ");

382 
RE_OP_ASSERT_WORD_BOUNDARY
:

384 
	`JERRY_DEBUG_MSG
 ("ASSERT_WORD_BOUNDARY ");

387 
RE_OP_ASSERT_NOT_WORD_BOUNDARY
:

389 
	`JERRY_DEBUG_MSG
 ("ASSERT_NOT_WORD_BOUNDARY ");

392 
RE_OP_LOOKAHEAD_POS
:

394 
	`JERRY_DEBUG_MSG
 ("LOOKAHEAD_POS ");

395 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

398 
RE_OP_LOOKAHEAD_NEG
:

400 
	`JERRY_DEBUG_MSG
 ("LOOKAHEAD_NEG ");

401 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

404 
RE_OP_BACKREFERENCE
:

406 
	`JERRY_DEBUG_MSG
 ("BACKREFERENCE ");

407 
	`JERRY_DEBUG_MSG
 ("%d, ", 
	`ª_gë_vÆue
 (&
byãcode_p
));

410 
RE_OP_INV_CHAR_CLASS
:

412 
	`JERRY_DEBUG_MSG
 ("INV_");

415 
RE_OP_CHAR_CLASS
:

417 
	`JERRY_DEBUG_MSG
 ("CHAR_CLASS ");

418 
uöt32_t
 
num_of_˛ass
 = 
	`ª_gë_vÆue
 (&
byãcode_p
);

419 
	`JERRY_DEBUG_MSG
 ("%d", 
num_of_˛ass
);

420 
num_of_˛ass
)

422 
	`JERRY_DEBUG_MSG
 (" %d", 
	`ª_gë_ch¨
 (&
byãcode_p
));

423 
	`JERRY_DEBUG_MSG
 ("-%d", 
	`ª_gë_ch¨
 (&
byãcode_p
));

424 
num_of_˛ass
--;

426 
	`JERRY_DEBUG_MSG
 (", ");

431 
	`JERRY_DEBUG_MSG
 ("UNKNOWN(%d), ", (
uöt32_t
Ë
›
);

436 
	`JERRY_DEBUG_MSG
 ("EOF\n");

437 
	}
}

	@deps/jerry/jerry-core/parser/regexp/re-bytecode.h

16 #i‚de‡
RE_BYTECODE_H


17 
	#RE_BYTECODE_H


	)

19 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


21 
	~"ecma-globÆs.h
"

36 
	#RE_CACHE_SIZE
 8u

	)

41 
	#RE_FLAGS_MASK
 0x3F

	)

48 
	mRE_OP_EOF
,

52 
	mRE_OP_CAPTURE_GROUP_START
,

53 
	mRE_OP_CAPTURE_GREEDY_ZERO_GROUP_START
,

54 
	mRE_OP_CAPTURE_NON_GREEDY_ZERO_GROUP_START
,

55 
	mRE_OP_CAPTURE_GREEDY_GROUP_END
,

56 
	mRE_OP_CAPTURE_NON_GREEDY_GROUP_END
,

57 
	mRE_OP_NON_CAPTURE_GROUP_START
,

58 
	mRE_OP_NON_CAPTURE_GREEDY_ZERO_GROUP_START
,

59 
	mRE_OP_NON_CAPTURE_NON_GREEDY_ZERO_GROUP_START
,

60 
	mRE_OP_NON_CAPTURE_GREEDY_GROUP_END
,

61 
	mRE_OP_NON_CAPTURE_NON_GREEDY_GROUP_END
,

63 
	mRE_OP_MATCH
,

64 
	mRE_OP_CHAR
,

65 
	mRE_OP_SAVE_AT_START
,

66 
	mRE_OP_SAVE_AND_MATCH
,

67 
	mRE_OP_PERIOD
,

68 
	mRE_OP_ALTERNATIVE
,

69 
	mRE_OP_GREEDY_ITERATOR
,

70 
	mRE_OP_NON_GREEDY_ITERATOR
,

71 
	mRE_OP_ASSERT_START
,

72 
	mRE_OP_ASSERT_END
,

73 
	mRE_OP_ASSERT_WORD_BOUNDARY
,

74 
	mRE_OP_ASSERT_NOT_WORD_BOUNDARY
,

75 
	mRE_OP_LOOKAHEAD_POS
,

76 
	mRE_OP_LOOKAHEAD_NEG
,

77 
	mRE_OP_BACKREFERENCE
,

78 
	mRE_OP_CHAR_CLASS
,

79 
	mRE_OP_INV_CHAR_CLASS


80 } 
	tª_›code_t
;

87 
ecma_compûed_code_t
 
	mhódî
;

88 
jmem_˝oöãr_t
 
	m∑âîn_˝
;

89 
uöt32_t
 
	mnum_of_ˇ±uªs
;

90 
uöt32_t
 
	mnum_of_n⁄_ˇ±uªs
;

91 } 
	tª_compûed_code_t
;

98 
uöt8_t
 *
	mblock_°¨t_p
;

99 
uöt8_t
 *
	mblock_íd_p
;

100 
uöt8_t
 *
	mcuºít_p
;

101 } 
	tª_byãcode_˘x_t
;

103 
ª_›code_t
 
ª_gë_›code
 (
uöt8_t
 **
bc_p
);

104 
ecma_ch¨_t
 
ª_gë_ch¨
 (
uöt8_t
 **
bc_p
);

105 
uöt32_t
 
ª_gë_vÆue
 (
uöt8_t
 **
bc_p
);

106 
uöt32_t
 
	$ª_gë_byãcode_Àngth
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
Ë
__©å_puª___
;

108 
	`ª_≠≥nd_›code
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
ª_›code_t
 
›code
);

109 
	`ª_≠≥nd_u32
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
uöt32_t
 
vÆue
);

110 
	`ª_≠≥nd_ch¨
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
ecma_ch¨_t
 
öput_ch¨
);

111 
	`ª_≠≥nd_jump_off£t
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
uöt32_t
 
vÆue
);

113 
	`ª_ö£π_›code
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
uöt32_t
 
off£t
, 
ª_›code_t
 
›code
);

114 
	`ª_ö£π_u32
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
uöt32_t
 
off£t
, uöt32_à
vÆue
);

115 
	`ª_byãcode_li°_ö£π
 (
ª_byãcode_˘x_t
 *
bc_˘x_p
, 
size_t
 
off£t
, 
uöt8_t
 *
byãcode_p
, size_à
Àngth
);

117 #ifde‡
REGEXP_DUMP_BYTE_CODE


118 
	`ª_dump_byãcode
 (
ª_byãcode_˘x_t
 *
bc_˘x
);

	@deps/jerry/jerry-core/parser/regexp/re-compiler.c

16 
	~"ecma-ex˚±i⁄s.h
"

17 
	~"ecma-hñ≥rs.h
"

18 
	~"ecma-ªgexp-obje˘.h
"

19 
	~"ecma-åy-ˇtch-ma¸o.h
"

20 
	~"jc⁄ãxt.h
"

21 
	~"jπ-libc-ö˛udes.h
"

22 
	~"jmem.h
"

23 
	~"ª-byãcode.h
"

24 
	~"ª-compûî.h
"

25 
	~"ª-∑r£r.h
"

27 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


43 
	$ª_≠≥nd_ch¨_˛ass
 (*
ª_˘x_p
,

44 
ecma_ch¨_t
 
°¨t
,

45 
ecma_ch¨_t
 
íd
)

47 
ª_compûî_˘x_t
 *
˘x_p
 = (ª_compûî_˘x_à*Ë
ª_˘x_p
;

48 
	`ª_≠≥nd_ch¨
 (
˘x_p
->
byãcode_˘x_p
, 
°¨t
);

49 
	`ª_≠≥nd_ch¨
 (
˘x_p
->
byãcode_˘x_p
, 
íd
);

50 
˘x_p
->
∑r£r_˘x_p
->
num_of_˛as£s
++;

51 
	}
}

57 
	$ª_ö£π_sim∂e_ôî©‹
 (
ª_compûî_˘x_t
 *
ª_˘x_p
,

58 
uöt32_t
 
√w_©om_°¨t_off£t
)

60 
uöt32_t
 
©om_code_Àngth
;

61 
uöt32_t
 
off£t
;

62 
uöt32_t
 
qmö
, 
qmax
;

64 
qmö
 = 
ª_˘x_p
->
cuºít_tokí
.qmin;

65 
qmax
 = 
ª_˘x_p
->
cuºít_tokí
.qmax;

66 
	`JERRY_ASSERT
 (
qmö
 <
qmax
);

70 
	`ª_≠≥nd_›code
 (
ª_˘x_p
->
byãcode_˘x_p
, 
RE_OP_MATCH
);

71 
uöt32_t
 
byãcode_Àngth
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
);

72 
©om_code_Àngth
 = (
uöt32_t
Ë(
byãcode_Àngth
 - 
√w_©om_°¨t_off£t
);

74 
off£t
 = 
√w_©om_°¨t_off£t
;

75 
	`ª_ö£π_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
off£t
, 
©om_code_Àngth
);

76 
	`ª_ö£π_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
off£t
, 
qmax
);

77 
	`ª_ö£π_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
off£t
, 
qmö
);

78 i‡(
ª_˘x_p
->
cuºít_tokí
.
gªedy
)

80 
	`ª_ö£π_›code
 (
ª_˘x_p
->
byãcode_˘x_p
, 
off£t
, 
RE_OP_GREEDY_ITERATOR
);

84 
	`ª_ö£π_›code
 (
ª_˘x_p
->
byãcode_˘x_p
, 
off£t
, 
RE_OP_NON_GREEDY_ITERATOR
);

86 
	}
}

93 
ª_›code_t


94 
	$ª_gë_°¨t_›code_ty≥
 (
ª_compûî_˘x_t
 *
ª_˘x_p
,

95 
boﬁ
 
is_ˇ±uøbÀ
)

97 i‡(
is_ˇ±uøbÀ
)

99 i‡(
ª_˘x_p
->
cuºít_tokí
.
qmö
 == 0)

101 i‡(
ª_˘x_p
->
cuºít_tokí
.
gªedy
)

103  
RE_OP_CAPTURE_GREEDY_ZERO_GROUP_START
;

106  
RE_OP_CAPTURE_NON_GREEDY_ZERO_GROUP_START
;

109  
RE_OP_CAPTURE_GROUP_START
;

112 i‡(
ª_˘x_p
->
cuºít_tokí
.
qmö
 == 0)

114 i‡(
ª_˘x_p
->
cuºít_tokí
.
gªedy
)

116  
RE_OP_NON_CAPTURE_GREEDY_ZERO_GROUP_START
;

119  
RE_OP_NON_CAPTURE_NON_GREEDY_ZERO_GROUP_START
;

122  
RE_OP_NON_CAPTURE_GROUP_START
;

123 
	}
}

130 
ª_›code_t


131 
	$ª_gë_íd_›code_ty≥
 (
ª_compûî_˘x_t
 *
ª_˘x_p
,

132 
boﬁ
 
is_ˇ±uøbÀ
)

134 i‡(
is_ˇ±uøbÀ
)

136 i‡(
ª_˘x_p
->
cuºít_tokí
.
gªedy
)

138  
RE_OP_CAPTURE_GREEDY_GROUP_END
;

141  
RE_OP_CAPTURE_NON_GREEDY_GROUP_END
;

144 i‡(
ª_˘x_p
->
cuºít_tokí
.
gªedy
)

146  
RE_OP_NON_CAPTURE_GREEDY_GROUP_END
;

149  
RE_OP_NON_CAPTURE_NON_GREEDY_GROUP_END
;

150 
	}
}

156 
	$ª_ö£π_öto_group
 (
ª_compûî_˘x_t
 *
ª_˘x_p
,

157 
uöt32_t
 
group_°¨t_off£t
,

158 
uöt32_t
 
idx
,

159 
boﬁ
 
is_ˇ±uøbÀ
)

161 
uöt32_t
 
qmö
, 
qmax
;

162 
ª_›code_t
 
°¨t_›code
 = 
	`ª_gë_°¨t_›code_ty≥
 (
ª_˘x_p
, 
is_ˇ±uøbÀ
);

163 
ª_›code_t
 
íd_›code
 = 
	`ª_gë_íd_›code_ty≥
 (
ª_˘x_p
, 
is_ˇ±uøbÀ
);

164 
uöt32_t
 
°¨t_hód_off£t_Àn
;

166 
qmö
 = 
ª_˘x_p
->
cuºít_tokí
.qmin;

167 
qmax
 = 
ª_˘x_p
->
cuºít_tokí
.qmax;

168 
	`JERRY_ASSERT
 (
qmö
 <
qmax
);

170 
°¨t_hód_off£t_Àn
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
);

171 
	`ª_ö£π_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
group_°¨t_off£t
, 
idx
);

172 
	`ª_ö£π_›code
 (
ª_˘x_p
->
byãcode_˘x_p
, 
group_°¨t_off£t
, 
°¨t_›code
);

173 
°¨t_hód_off£t_Àn
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
) - start_head_offset_len;

174 
	`ª_≠≥nd_›code
 (
ª_˘x_p
->
byãcode_˘x_p
, 
íd_›code
);

175 
	`ª_≠≥nd_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
idx
);

176 
	`ª_≠≥nd_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
qmö
);

177 
	`ª_≠≥nd_u32
 (
ª_˘x_p
->
byãcode_˘x_p
, 
qmax
);

179 
group_°¨t_off£t
 +
°¨t_hód_off£t_Àn
;

180 
	`ª_≠≥nd_jump_off£t
 (
ª_˘x_p
->
byãcode_˘x_p
,

181 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
Ë- 
group_°¨t_off£t
);

183 i‡(
°¨t_›code
 !
RE_OP_CAPTURE_GROUP_START
 && sèπ_›codê!
RE_OP_NON_CAPTURE_GROUP_START
)

185 
	`ª_ö£π_u32
 (
ª_˘x_p
->
byãcode_˘x_p
,

186 
group_°¨t_off£t
,

187 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
Ë- 
group_°¨t_off£t
);

189 
	}
}

195 
	$ª_ö£π_öto_group_wôh_jump
 (
ª_compûî_˘x_t
 *
ª_˘x_p
,

196 
uöt32_t
 
group_°¨t_off£t
,

197 
uöt32_t
 
idx
,

198 
boﬁ
 
is_ˇ±uøbÀ
)

200 
	`ª_ö£π_u32
 (
ª_˘x_p
->
byãcode_˘x_p
,

201 
group_°¨t_off£t
,

202 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
Ë- 
group_°¨t_off£t
);

203 
	`ª_ö£π_öto_group
 (
ª_˘x_p
, 
group_°¨t_off£t
, 
idx
, 
is_ˇ±uøbÀ
);

204 
	}
}

214 
ecma_vÆue_t


215 
	$ª_∑r£_Æã∫©ive
 (
ª_compûî_˘x_t
 *
ª_˘x_p
,

216 
boﬁ
 
ex≥˘_eof
)

218 
uöt32_t
 
idx
;

219 
ª_byãcode_˘x_t
 *
bc_˘x_p
 = 
ª_˘x_p
->
byãcode_˘x_p
;

220 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

222 
uöt32_t
 
Æãø¡ive_off£t
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
);

223 
boﬁ
 
should_lo›
 = 
åue
;

225 
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
Ë&& 
should_lo›
)

227 
	`ECMA_TRY_CATCH
 (
em±y
,

228 
	`ª_∑r£_√xt_tokí
 (
ª_˘x_p
->
∑r£r_˘x_p
,

229 &(
ª_˘x_p
->
cuºít_tokí
)),

230 
ªt_vÆue
);

232 
uöt32_t
 
√w_©om_°¨t_off£t
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
);

234 
ª_˘x_p
->
cuºít_tokí
.
ty≥
)

236 
RE_TOK_START_CAPTURE_GROUP
:

238 
idx
 = 
ª_˘x_p
->
num_of_ˇ±uªs
++;

239 
	`JERRY_TRACE_MSG
 ("Compûê®ˇ±uª grou∞°¨à(idx: %u)\n", (Ë
idx
);

241 
ªt_vÆue
 = 
	`ª_∑r£_Æã∫©ive
 (
ª_˘x_p
, 
Ál£
);

243 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

245 
	`ª_ö£π_öto_group
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
, 
idx
, 
åue
);

250 
RE_TOK_START_NON_CAPTURE_GROUP
:

252 
idx
 = 
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
++;

253 
	`JERRY_TRACE_MSG
 ("Compûê®n⁄-ˇ±uª grou∞°¨à(idx: %u)\n", (Ë
idx
);

255 
ªt_vÆue
 = 
	`ª_∑r£_Æã∫©ive
 (
ª_˘x_p
, 
Ál£
);

257 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

259 
	`ª_ö£π_öto_group
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
, 
idx
, 
Ál£
);

264 
RE_TOK_CHAR
:

266 
	`JERRY_TRACE_MSG
 ("Compile characterÅoken: %c, qmin: %u, qmax: %u\n",

267 (Ë
ª_˘x_p
->
cuºít_tokí
.
vÆue
, (Ëª_˘x_p->cuºít_tokí.
qmö
,

268 (Ë
ª_˘x_p
->
cuºít_tokí
.
qmax
);

270 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_CHAR
);

271 
	`ª_≠≥nd_ch¨
 (
bc_˘x_p
, 
	`ª_ˇn⁄iˇlize
 ((
ecma_ch¨_t
Ë
ª_˘x_p
->
cuºít_tokí
.
vÆue
,

272 
ª_˘x_p
->
Êags
 & 
RE_FLAG_IGNORE_CASE
));

274 i‡((
ª_˘x_p
->
cuºít_tokí
.
qmö
 !1Ë|| (ª_˘x_p->cuºít_tokí.
qmax
 != 1))

276 
	`ª_ö£π_sim∂e_ôî©‹
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
);

280 
RE_TOK_PERIOD
:

282 
	`JERRY_TRACE_MSG
 ("CompileáÖeriod\n");

283 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_PERIOD
);

285 i‡((
ª_˘x_p
->
cuºít_tokí
.
qmö
 !1Ë|| (ª_˘x_p->cuºít_tokí.
qmax
 != 1))

287 
	`ª_ö£π_sim∂e_ôî©‹
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
);

291 
RE_TOK_ALTERNATIVE
:

293 
	`JERRY_TRACE_MSG
 ("Compileánálternative\n");

294 
	`ª_ö£π_u32
 (
bc_˘x_p
, 
Æãø¡ive_off£t
, 
	`ª_gë_byãcode_Àngth
 (bc_ctx_p) -álterantive_offset);

295 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_ALTERNATIVE
);

296 
Æãø¡ive_off£t
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
);

299 
RE_TOK_ASSERT_START
:

301 
	`JERRY_TRACE_MSG
 ("Compileá startássertion\n");

302 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_ASSERT_START
);

305 
RE_TOK_ASSERT_END
:

307 
	`JERRY_TRACE_MSG
 ("CompileánÉndássertion\n");

308 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_ASSERT_END
);

311 
RE_TOK_ASSERT_WORD_BOUNDARY
:

313 
	`JERRY_TRACE_MSG
 ("Compileá word boundaryássertion\n");

314 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_ASSERT_WORD_BOUNDARY
);

317 
RE_TOK_ASSERT_NOT_WORD_BOUNDARY
:

319 
	`JERRY_TRACE_MSG
 ("CompileáÇot word boundaryássertion\n");

320 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_ASSERT_NOT_WORD_BOUNDARY
);

323 
RE_TOK_ASSERT_START_POS_LOOKAHEAD
:

325 
	`JERRY_TRACE_MSG
 ("CompileáÖositiveÜookaheadássertion\n");

326 
idx
 = 
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
++;

327 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_LOOKAHEAD_POS
);

329 
ªt_vÆue
 = 
	`ª_∑r£_Æã∫©ive
 (
ª_˘x_p
, 
Ál£
);

331 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

333 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_MATCH
);

335 
	`ª_ö£π_öto_group_wôh_jump
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
, 
idx
, 
Ál£
);

340 
RE_TOK_ASSERT_START_NEG_LOOKAHEAD
:

342 
	`JERRY_TRACE_MSG
 ("CompileáÇegativeÜookaheadássertion\n");

343 
idx
 = 
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
++;

344 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_LOOKAHEAD_NEG
);

346 
ªt_vÆue
 = 
	`ª_∑r£_Æã∫©ive
 (
ª_˘x_p
, 
Ál£
);

348 i‡(
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

350 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_MATCH
);

352 
	`ª_ö£π_öto_group_wôh_jump
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
, 
idx
, 
Ál£
);

357 
RE_TOK_BACKREFERENCE
:

359 
uöt32_t
 
backªf
 = (uöt32_tË
ª_˘x_p
->
cuºít_tokí
.
vÆue
;

360 
idx
 = 
ª_˘x_p
->
num_of_n⁄_ˇ±uªs
++;

362 i‡(
backªf
 > 
ª_˘x_p
->
highe°_backªf
)

364 
ª_˘x_p
->
highe°_backªf
 = 
backªf
;

367 
	`JERRY_TRACE_MSG
 ("Compûê®backª„ªn˚: %u\n", (Ë
backªf
);

368 
	`ª_≠≥nd_›code
 (
bc_˘x_p
, 
RE_OP_BACKREFERENCE
);

369 
	`ª_≠≥nd_u32
 (
bc_˘x_p
, 
backªf
);

371 
	`ª_ö£π_öto_group_wôh_jump
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
, 
idx
, 
Ál£
);

374 
RE_TOK_DIGIT
:

375 
RE_TOK_NOT_DIGIT
:

376 
RE_TOK_WHITE
:

377 
RE_TOK_NOT_WHITE
:

378 
RE_TOK_WORD_CHAR
:

379 
RE_TOK_NOT_WORD_CHAR
:

380 
RE_TOK_START_CHAR_CLASS
:

381 
RE_TOK_START_INV_CHAR_CLASS
:

383 
	`JERRY_TRACE_MSG
 ("Compileá character class\n");

384 
	`ª_≠≥nd_›code
 (
bc_˘x_p
,

385 
ª_˘x_p
->
cuºít_tokí
.
ty≥
 =
RE_TOK_START_INV_CHAR_CLASS


386 ? 
RE_OP_INV_CHAR_CLASS


387 : 
RE_OP_CHAR_CLASS
);

388 
uöt32_t
 
off£t
 = 
	`ª_gë_byãcode_Àngth
 (
ª_˘x_p
->
byãcode_˘x_p
);

390 
	`ECMA_TRY_CATCH
 (
em±y_vÆue
,

391 
	`ª_∑r£_ch¨_˛ass
 (
ª_˘x_p
->
∑r£r_˘x_p
,

392 
ª_≠≥nd_ch¨_˛ass
,

393 
ª_˘x_p
,

394 &(
ª_˘x_p
->
cuºít_tokí
)),

395 
ªt_vÆue
);

396 
	`ª_ö£π_u32
 (
bc_˘x_p
, 
off£t
, 
ª_˘x_p
->
∑r£r_˘x_p
->
num_of_˛as£s
);

398 i‡((
ª_˘x_p
->
cuºít_tokí
.
qmö
 !1Ë|| (ª_˘x_p->cuºít_tokí.
qmax
 != 1))

400 
	`ª_ö£π_sim∂e_ôî©‹
 (
ª_˘x_p
, 
√w_©om_°¨t_off£t
);

403 
	`ECMA_FINALIZE
 (
em±y_vÆue
);

407 
RE_TOK_END_GROUP
:

409 
	`JERRY_TRACE_MSG
 ("Compileá groupÉnd\n");

411 i‡(
ex≥˘_eof
)

413 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("UnexpectedÉnd ofÖaren."));

417 
	`ª_ö£π_u32
 (
bc_˘x_p
, 
Æãø¡ive_off£t
, 
	`ª_gë_byãcode_Àngth
 (bc_ctx_p) -álterantive_offset);

418 
should_lo›
 = 
Ál£
;

422 
RE_TOK_EOF
:

424 i‡(!
ex≥˘_eof
)

426 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("UnexpectedÉnd ofÖattern."));

430 
	`ª_ö£π_u32
 (
bc_˘x_p
, 
Æãø¡ive_off£t
, 
	`ª_gë_byãcode_Àngth
 (bc_ctx_p) -álterantive_offset);

431 
should_lo›
 = 
Ál£
;

438 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Unexpected RegExpÅoken."));

442 
	`ECMA_FINALIZE
 (
em±y
);

445  
ªt_vÆue
;

446 
	}
}

454 
uöt8_t


455 
	$ª_föd_byãcode_ö_ˇche
 (
ecma_°rög_t
 *
∑âîn_°r_p
,

456 
uöt16_t
 
Êags
)

458 
uöt8_t
 
‰ì_idx
 = 
RE_CACHE_SIZE
;

460 
uöt8_t
 
idx
 = 0u; idx < 
RE_CACHE_SIZE
; idx++)

462 c⁄° 
ª_compûed_code_t
 *
ˇched_byãcode_p
 = 
	`JERRY_CONTEXT
 (
ª_ˇche
)[
idx
];

464 i‡(
ˇched_byãcode_p
 !
NULL
)

466 
ecma_°rög_t
 *
ˇched_∑âîn_°r_p
;

467 
ˇched_∑âîn_°r_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (
ecma_°rög_t
, 
ˇched_byãcode_p
->
∑âîn_˝
);

469 i‡((
ˇched_byãcode_p
->
hódî
.
°©us_Êags
 & 
RE_FLAGS_MASK
Ë=
Êags


470 && 
	`ecma_com∑ª_ecma_°rögs
 (
ˇched_∑âîn_°r_p
, 
∑âîn_°r_p
))

472 
	`JERRY_TRACE_MSG
 ("RegExp is found in cache\n");

473  
idx
;

479 
‰ì_idx
 = 
idx
;

483 
	`JERRY_TRACE_MSG
 ("RegExp is NOT found in cache\n");

484  
‰ì_idx
;

485 
	}
}

491 
	$ª_ˇche_gc_run
 ()

493 
uöt32_t
 
i
 = 0u; i < 
RE_CACHE_SIZE
; i++)

495 c⁄° 
ª_compûed_code_t
 *
ˇched_byãcode_p
 = 
	`JERRY_CONTEXT
 (
ª_ˇche
)[
i
];

497 i‡(
ˇched_byãcode_p
 !
NULL


498 && 
ˇched_byãcode_p
->
hódî
.
ªfs
 == 1)

501 
	`ecma_byãcode_dîef
 ((
ecma_compûed_code_t
 *Ë
ˇched_byãcode_p
);

502 
	`JERRY_CONTEXT
 (
ª_ˇche
)[
i
] = 
NULL
;

505 
	}
}

515 
ecma_vÆue_t


516 
	$ª_compûe_byãcode
 (c⁄° 
ª_compûed_code_t
 **
out_byãcode_p
,

517 
ecma_°rög_t
 *
∑âîn_°r_p
,

518 
uöt16_t
 
Êags
)

520 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

521 
uöt8_t
 
ˇche_idx
 = 
	`ª_föd_byãcode_ö_ˇche
 (
∑âîn_°r_p
, 
Êags
);

523 i‡(
ˇche_idx
 < 
RE_CACHE_SIZE
)

525 *
out_byãcode_p
 = 
	`JERRY_CONTEXT
 (
ª_ˇche
)[
ˇche_idx
];

527 i‡(*
out_byãcode_p
 !
NULL
)

529 
	`ecma_byãcode_ªf
 ((
ecma_compûed_code_t
 *Ë*
out_byãcode_p
);

530  
ªt_vÆue
;

535 
ª_compûî_˘x_t
 
ª_˘x
;

536 
ª_˘x
.
Êags
 = flags;

537 
ª_˘x
.
highe°_backªf
 = 0;

538 
ª_˘x
.
num_of_n⁄_ˇ±uªs
 = 0;

540 
ª_byãcode_˘x_t
 
bc_˘x
;

541 
bc_˘x
.
block_°¨t_p
 = 
NULL
;

542 
bc_˘x
.
block_íd_p
 = 
NULL
;

543 
bc_˘x
.
cuºít_p
 = 
NULL
;

545 
ª_˘x
.
byãcode_˘x_p
 = &
bc_˘x
;

547 
	`ECMA_STRING_TO_UTF8_STRING
 (
∑âîn_°r_p
, 
∑âîn_°¨t_p
, 
∑âîn_°¨t_size
);

549 
ª_∑r£r_˘x_t
 
∑r£r_˘x
;

550 
∑r£r_˘x
.
öput_°¨t_p
 = 
∑âîn_°¨t_p
;

551 
∑r£r_˘x
.
öput_cuº_p
 = (
lô_utf8_byã_t
 *Ë
∑âîn_°¨t_p
;

552 
∑r£r_˘x
.
öput_íd_p
 = 
∑âîn_°¨t_p
 + 
∑âîn_°¨t_size
;

553 
∑r£r_˘x
.
num_of_groups
 = -1;

554 
ª_˘x
.
∑r£r_˘x_p
 = &
∑r£r_˘x
;

557 
ª_˘x
.
num_of_ˇ±uªs
 = 1;

558 
	`ª_≠≥nd_›code
 (&
bc_˘x
, 
RE_OP_SAVE_AT_START
);

560 
	`ECMA_TRY_CATCH
 (
em±y
, 
	`ª_∑r£_Æã∫©ive
 (&
ª_˘x
, 
åue
), 
ªt_vÆue
);

563 i‡(
ª_˘x
.
highe°_backªf
 >ª_˘x.
num_of_ˇ±uªs
)

565 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 ("Invalid backreference.\n");

569 
	`ª_≠≥nd_›code
 (&
bc_˘x
, 
RE_OP_SAVE_AND_MATCH
);

570 
	`ª_≠≥nd_›code
 (&
bc_˘x
, 
RE_OP_EOF
);

573 
ª_compûed_code_t
 
ª_compûed_code
;

575 
ª_compûed_code
.
hódî
.
ªfs
 = 1;

576 
ª_compûed_code
.
hódî
.
°©us_Êags
 = 
ª_˘x
.
Êags
;

577 
	`ecma_ªf_ecma_°rög
 (
∑âîn_°r_p
);

578 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


579 
	`¥ofûe_öc_cou¡_of_a_ty≥
(17);

581 
	`ECMA_SET_NON_NULL_POINTER
 (
ª_compûed_code
.
∑âîn_˝
, 
∑âîn_°r_p
);

582 
ª_compûed_code
.
num_of_ˇ±uªs
 = 
ª_˘x
.num_of_captures * 2;

583 
ª_compûed_code
.
num_of_n⁄_ˇ±uªs
 = 
ª_˘x
.num_of_non_captures;

585 
	`ª_byãcode_li°_ö£π
 (&
bc_˘x
,

587 (
uöt8_t
 *Ë&
ª_compûed_code
,

588  (
ª_compûed_code_t
));

591 
	`ECMA_FINALIZE
 (
em±y
);

593 
	`ECMA_FINALIZE_UTF8_STRING
 (
∑âîn_°¨t_p
, 
∑âîn_°¨t_size
);

595 
size_t
 
byã_code_size
 = (size_tË(
bc_˘x
.
block_íd_p
 - bc_˘x.
block_°¨t_p
);

597 i‡(!
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
))

600 
	`JERRY_TRACE_MSG
 ("RegExp compilation failed!\n");

601 
	`jmem_hóp_‰ì_block
 (
bc_˘x
.
block_°¨t_p
, 
byã_code_size
);

602 *
out_byãcode_p
 = 
NULL
;

606 #ifde‡
REGEXP_DUMP_BYTE_CODE


607 i‡(
	`JERRY_CONTEXT
 (
jîry_öô_Êags
Ë& 
ECMA_INIT_SHOW_REGEXP_OPCODES
)

609 
	`ª_dump_byãcode
 (&
bc_˘x
);

614 
	`JERRY_ASSERT
 (
bc_˘x
.
block_°¨t_p
 !
NULL
);

615 *
out_byãcode_p
 = (
ª_compûed_code_t
 *Ë
bc_˘x
.
block_°¨t_p
;

617 ((
ª_compûed_code_t
 *Ë
bc_˘x
.
block_°¨t_p
)->
hódî
.
size
 = (
uöt16_t
Ë(
byã_code_size
 >> 
JMEM_ALIGNMENT_LOG
);

619 i‡(
ˇche_idx
 =
RE_CACHE_SIZE
)

621 i‡(
	`JERRY_CONTEXT
 (
ª_ˇche_idx
Ë=
RE_CACHE_SIZE
)

623 
	`JERRY_CONTEXT
 (
ª_ˇche_idx
) = 0;

626 
	`JERRY_TRACE_MSG
 ("RegEx∞ˇchêi†fuŒ! Removêthêñemíà⁄ idx: %d\n", 
	`JERRY_CONTEXT
 (
ª_ˇche_idx
));

628 
ˇche_idx
 = 
	`JERRY_CONTEXT
 (
ª_ˇche_idx
)++;

632 i‡(
	`JERRY_CONTEXT
 (
ª_ˇche
)[
ˇche_idx
] !
NULL
)

634 
	`ecma_byãcode_dîef
 ((
ecma_compûed_code_t
 *Ë
	`JERRY_CONTEXT
 (
ª_ˇche
)[
ˇche_idx
]);

638 
	`JERRY_TRACE_MSG
 ("In£π byãcodêötÿRegEx∞ˇchê(idx: %d).\n", 
ˇche_idx
);

639 
	`ecma_byãcode_ªf
 ((
ecma_compûed_code_t
 *Ë*
out_byãcode_p
);

640 
	`JERRY_CONTEXT
 (
ª_ˇche
)[
ˇche_idx
] = *
out_byãcode_p
;

643  
ªt_vÆue
;

644 
	}
}

	@deps/jerry/jerry-core/parser/regexp/re-compiler.h

16 #i‚de‡
RE_COMPILER_H


17 
	#RE_COMPILER_H


	)

19 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


21 
	~"ecma-globÆs.h
"

22 
	~"ª-byãcode.h
"

23 
	~"ª-∑r£r.h
"

40 
uöt16_t
 
	mÊags
;

41 
uöt32_t
 
	mnum_of_ˇ±uªs
;

42 
uöt32_t
 
	mnum_of_n⁄_ˇ±uªs
;

43 
uöt32_t
 
	mhighe°_backªf
;

44 
ª_byãcode_˘x_t
 *
	mbyãcode_˘x_p
;

45 
ª_tokí_t
 
	mcuºít_tokí
;

46 
ª_∑r£r_˘x_t
 *
	m∑r£r_˘x_p
;

47 } 
	tª_compûî_˘x_t
;

49 
ecma_vÆue_t


50 
ª_compûe_byãcode
 (c⁄° 
ª_compûed_code_t
 **
out_byãcode_p
, 
ecma_°rög_t
 *
∑âîn_°r_p
, 
uöt16_t
 
Êags
);

52 
ª_ˇche_gc_run
 ();

	@deps/jerry/jerry-core/parser/regexp/re-parser.c

16 
	~"ecma-ex˚±i⁄s.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-åy-ˇtch-ma¸o.h
"

19 
	~"jπ-libc-ö˛udes.h
"

20 
	~"lô-ch¨-hñ≥rs.h
"

21 
	~"ª-compûî.h
"

22 
	~"ª-∑r£r.h
"

24 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


42 
boﬁ


43 
	$ª_hex_lookup
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
,

44 
uöt32_t
 
lookup
)

46 
boﬁ
 
is_digô
 = 
åue
;

47 c⁄° 
lô_utf8_byã_t
 *
cuº_p
 = 
∑r£r_˘x_p
->
öput_cuº_p
;

49 
uöt32_t
 
i
 = 0; 
is_digô
 && i < 
lookup
; i++)

51 i‡(
cuº_p
 < 
∑r£r_˘x_p
->
öput_íd_p
)

53 
is_digô
 = 
	`lô_ch¨_is_hex_digô
 (*
cuº_p
++);

57  
Ál£
;

61  
is_digô
;

62 
	}
}

70 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


71 
	$ª_∑r£_n⁄_gªedy_ch¨
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
)

73 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 <Ö¨£r_˘x_p->
öput_íd_p


74 && *
∑r£r_˘x_p
->
öput_cuº_p
 =
LIT_CHAR_QUESTION
)

76 
∑r£r_˘x_p
->
öput_cuº_p
++;

77  
åue
;

80  
Ál£
;

81 
	}
}

88 
uöt32_t


89 
	$ª_∑r£_o˘Æ
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
)

91 
uöt32_t
 
numbî
 = 0;

92 
ödex
 = 0;

93 
ödex
 < 3

94 && 
∑r£r_˘x_p
->
öput_cuº_p
 <Ö¨£r_˘x_p->
öput_íd_p


95 && 
	`lô_ch¨_is_o˘Æ_digô
 (*
∑r£r_˘x_p
->
öput_cuº_p
);

96 
ödex
++)

98 
numbî
 =Çumbî * 8 + 
	`lô_ch¨_hex_to_öt
 (*
∑r£r_˘x_p
->
öput_cuº_p
++);

101  
numbî
;

102 
	}
}

112 
ecma_vÆue_t


113 
	$ª_∑r£_ôî©‹
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
,

114 
ª_tokí_t
 *
ª_tokí_p
)

116 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

118 
ª_tokí_p
->
qmö
 = 1;

119 
ª_tokí_p
->
qmax
 = 1;

120 
ª_tokí_p
->
gªedy
 = 
åue
;

122 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

124  
ªt_vÆue
;

127 
ecma_ch¨_t
 
ch
 = *
∑r£r_˘x_p
->
öput_cuº_p
;

129 
ch
)

131 
LIT_CHAR_QUESTION
:

133 
∑r£r_˘x_p
->
öput_cuº_p
++;

134 
ª_tokí_p
->
qmö
 = 0;

135 
ª_tokí_p
->
qmax
 = 1;

136 
ª_tokí_p
->
gªedy
 = !
	`ª_∑r£_n⁄_gªedy_ch¨
 (
∑r£r_˘x_p
);

139 
LIT_CHAR_ASTERISK
:

141 
∑r£r_˘x_p
->
öput_cuº_p
++;

142 
ª_tokí_p
->
qmö
 = 0;

143 
ª_tokí_p
->
qmax
 = 
RE_ITERATOR_INFINITE
;

144 
ª_tokí_p
->
gªedy
 = !
	`ª_∑r£_n⁄_gªedy_ch¨
 (
∑r£r_˘x_p
);

147 
LIT_CHAR_PLUS
:

149 
∑r£r_˘x_p
->
öput_cuº_p
++;

150 
ª_tokí_p
->
qmö
 = 1;

151 
ª_tokí_p
->
qmax
 = 
RE_ITERATOR_INFINITE
;

152 
ª_tokí_p
->
gªedy
 = !
	`ª_∑r£_n⁄_gªedy_ch¨
 (
∑r£r_˘x_p
);

155 
LIT_CHAR_LEFT_BRACE
:

157 
∑r£r_˘x_p
->
öput_cuº_p
++;

158 
uöt32_t
 
qmö
 = 0;

159 
uöt32_t
 
qmax
 = 
RE_ITERATOR_INFINITE
;

160 
uöt32_t
 
digôs
 = 0;

162 
åue
)

164 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

166  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid quantifier"));

169 
ch
 = *
∑r£r_˘x_p
->
öput_cuº_p
++;

171 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
ch
))

173 i‡(
digôs
 >
ECMA_NUMBER_MAX_DIGITS
)

175  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExp quantifierÉrror:Åoo many digits."));

177 
digôs
++;

178 
qmö
 = qmö * 10 + 
	`lô_ch¨_hex_to_öt
 (
ch
);

180 i‡(
ch
 =
LIT_CHAR_COMMA
)

182 i‡(
qmax
 !
RE_ITERATOR_INFINITE
)

184  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExp quantifierÉrror: double comma."));

187 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

189  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid quantifier"));

192 i‡(*
∑r£r_˘x_p
->
öput_cuº_p
 =
LIT_CHAR_RIGHT_BRACE
)

194 i‡(
digôs
 == 0)

196  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExp quantifierÉrror: missing digits."));

199 
∑r£r_˘x_p
->
öput_cuº_p
++;

200 
ª_tokí_p
->
qmö
 = qmin;

201 
ª_tokí_p
->
qmax
 = 
RE_ITERATOR_INFINITE
;

204 
qmax
 = 
qmö
;

205 
qmö
 = 0;

206 
digôs
 = 0;

208 i‡(
ch
 =
LIT_CHAR_RIGHT_BRACE
)

210 i‡(
digôs
 == 0)

212  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExp quantifierÉrror: missing digits."));

215 i‡(
qmax
 !
RE_ITERATOR_INFINITE
)

217 
ª_tokí_p
->
qmö
 = 
qmax
;

221 
ª_tokí_p
->
qmö
 = qmin;

224 
ª_tokí_p
->
qmax
 = 
qmö
;

230  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExp quantifierÉrror: unknown char."));

234 
ª_tokí_p
->
gªedy
 = !
	`ª_∑r£_n⁄_gªedy_ch¨
 (
∑r£r_˘x_p
);

243 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
ªt_vÆue
));

245 i‡(
ª_tokí_p
->
qmö
 >Ñe_tokí_p->
qmax
)

247 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExp quantifierÉrror: qmin > qmax."));

250  
ªt_vÆue
;

251 
	}
}

257 
	$ª_cou¡_num_of_groups
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
)

259 
ch¨_˛ass_ö
 = 0;

260 
∑r£r_˘x_p
->
num_of_groups
 = 0;

261 c⁄° 
lô_utf8_byã_t
 *
cuº_p
 = 
∑r£r_˘x_p
->
öput_°¨t_p
;

263 
cuº_p
 < 
∑r£r_˘x_p
->
öput_íd_p
)

265 *
cuº_p
++)

267 
LIT_CHAR_BACKSLASH
:

269 
	`lô_utf8_ö¸
 (&
cuº_p
);

272 
LIT_CHAR_LEFT_SQUARE
:

274 
ch¨_˛ass_ö
++;

277 
LIT_CHAR_RIGHT_SQUARE
:

279 i‡(
ch¨_˛ass_ö
)

281 
ch¨_˛ass_ö
--;

285 
LIT_CHAR_LEFT_PAREN
:

287 i‡(
cuº_p
 < 
∑r£r_˘x_p
->
öput_íd_p


288 && *
cuº_p
 !
LIT_CHAR_QUESTION


289 && !
ch¨_˛ass_ö
)

291 
∑r£r_˘x_p
->
num_of_groups
++;

297 
	}
}

307 
ecma_vÆue_t


308 
	$ª_∑r£_ch¨_˛ass
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
,

309 
ª_ch¨_˛ass_ˇŒback
 
≠≥nd_ch¨_˛ass
,

312 *
ª_˘x_p
,

313 
ª_tokí_t
 *
out_tokí_p
)

315 
ª_tokí_ty≥_t
 
tokí_ty≥
 = ((
ª_compûî_˘x_t
 *Ë
ª_˘x_p
)->
cuºít_tokí
.
ty≥
;

316 
out_tokí_p
->
qmax
 = out_tokí_p->
qmö
 = 1;

317 
ecma_ch¨_t
 
°¨t
 = 
LIT_CHAR_UNDEF
;

318 
boﬁ
 
is_ønge
 = 
Ál£
;

319 
∑r£r_˘x_p
->
num_of_˛as£s
 = 0;

321 i‡(
	`lô_utf8_≥ek_¥ev
 (
∑r£r_˘x_p
->
öput_cuº_p
Ë!
LIT_CHAR_LEFT_SQUARE
)

323 
	`lô_utf8_de¸
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

324 
	`lô_utf8_de¸
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

329 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

331  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class,Énd of string"));

334 
ecma_ch¨_t
 
ch
 = 
	`lô_utf8_ªad_√xt
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

336 i‡(
ch
 =
LIT_CHAR_RIGHT_SQUARE
)

338 i‡(
°¨t
 !
LIT_CHAR_UNDEF
)

340 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
°¨t
, start);

344 i‡(
ch
 =
LIT_CHAR_MINUS
)

346 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

348  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class,Énd of stringáfter '-'"));

351 i‡(
°¨t
 !
LIT_CHAR_UNDEF


352 && !
is_ønge


353 && *
∑r£r_˘x_p
->
öput_cuº_p
 !
LIT_CHAR_RIGHT_SQUARE
)

355 
is_ønge
 = 
åue
;

359 i‡(
ch
 =
LIT_CHAR_BACKSLASH
)

361 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

363  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class,Énd of stringáfter '\\'"));

366 
ch
 = 
	`lô_utf8_ªad_√xt
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

368 i‡(
ch
 =
LIT_CHAR_LOWERCASE_B
)

370 
ch
 = 
LIT_CHAR_BS
;

372 i‡(
ch
 =
LIT_CHAR_LOWERCASE_F
)

374 
ch
 = 
LIT_CHAR_FF
;

376 i‡(
ch
 =
LIT_CHAR_LOWERCASE_N
)

378 
ch
 = 
LIT_CHAR_LF
;

380 i‡(
ch
 =
LIT_CHAR_LOWERCASE_T
)

382 
ch
 = 
LIT_CHAR_TAB
;

384 i‡(
ch
 =
LIT_CHAR_LOWERCASE_R
)

386 
ch
 = 
LIT_CHAR_CR
;

388 i‡(
ch
 =
LIT_CHAR_LOWERCASE_V
)

390 
ch
 = 
LIT_CHAR_VTAB
;

392 i‡(
ch
 =
LIT_CHAR_LOWERCASE_C
)

394 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 <Ö¨£r_˘x_p->
öput_íd_p
)

396 
ch
 = *
∑r£r_˘x_p
->
öput_cuº_p
;

398 i‡((
ch
 >
LIT_CHAR_ASCII_UPPERCASE_LETTERS_BEGIN
 && ch <
LIT_CHAR_ASCII_UPPERCASE_LETTERS_END
)

399 || (
ch
 >
LIT_CHAR_ASCII_LOWERCASE_LETTERS_BEGIN
 && ch <
LIT_CHAR_ASCII_LOWERCASE_LETTERS_END
)

400 || (
ch
 >
LIT_CHAR_0
 && ch <
LIT_CHAR_9
))

403 
ch
 = (ch % 32);

404 
∑r£r_˘x_p
->
öput_cuº_p
++;

408 
ch
 = 
LIT_CHAR_LOWERCASE_C
;

412 i‡(
ch
 =
LIT_CHAR_LOWERCASE_X
)

414 
ecma_ch¨_t
 
code_unô
;

416 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
∑r£r_˘x_p
->
öput_cuº_p
, 2, &
code_unô
))

418  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class,Énd of stringáfter '\\x'"));

421 
∑r£r_˘x_p
->
öput_cuº_p
 += 2;

422 i‡(
is_ønge
 =
Ál£
 && 
	`lô_utf8_≥ek_√xt
 (
∑r£r_˘x_p
->
öput_cuº_p
Ë=
LIT_CHAR_MINUS
)

424 
°¨t
 = 
code_unô
;

428 
ch
 = 
code_unô
;

430 i‡(
ch
 =
LIT_CHAR_LOWERCASE_U
)

432 
ecma_ch¨_t
 
code_unô
;

434 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
∑r£r_˘x_p
->
öput_cuº_p
, 4, &
code_unô
))

436  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class,Énd of stringáfter '\\u'"));

439 
∑r£r_˘x_p
->
öput_cuº_p
 += 4;

440 i‡(
is_ønge
 =
Ál£
 && 
	`lô_utf8_≥ek_√xt
 (
∑r£r_˘x_p
->
öput_cuº_p
Ë=
LIT_CHAR_MINUS
)

442 
°¨t
 = 
code_unô
;

446 
ch
 = 
code_unô
;

448 i‡(
ch
 =
LIT_CHAR_LOWERCASE_D
)

451 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_ASCII_DIGITS_BEGIN
, 
LIT_CHAR_ASCII_DIGITS_END
);

452 
ch
 = 
LIT_CHAR_UNDEF
;

454 i‡(
ch
 =
LIT_CHAR_UPPERCASE_D
)

457 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_NULL
, 
LIT_CHAR_ASCII_DIGITS_BEGIN
 - 1);

458 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_ASCII_DIGITS_END
 + 1, 
LIT_UTF16_CODE_UNIT_MAX
);

459 
ch
 = 
LIT_CHAR_UNDEF
;

461 i‡(
ch
 =
LIT_CHAR_LOWERCASE_S
)

464 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_TAB
, 
LIT_CHAR_CR
);

465 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_SP
, LIT_CHAR_SP);

466 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_NBSP
, LIT_CHAR_NBSP);

467 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x1680UL, 0x1680UL);

468 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x180EUL, 0x180EUL);

469 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x2000UL, 0x200AUL);

470 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_LS
, 
LIT_CHAR_PS
);

471 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x202FUL, 0x202FUL);

472 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x205FUL, 0x205FUL);

473 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x3000UL, 0x3000UL);

474 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_BOM
, LIT_CHAR_BOM);

475 
ch
 = 
LIT_CHAR_UNDEF
;

477 i‡(
ch
 =
LIT_CHAR_UPPERCASE_S
)

480 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_NULL
, 
LIT_CHAR_TAB
 - 1);

481 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_CR
 + 1, 
LIT_CHAR_SP
 - 1);

482 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_SP
 + 1, 
LIT_CHAR_NBSP
 - 1);

483 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_NBSP
 + 1, 0x167FUL);

484 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x1681UL, 0x180DUL);

485 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x180FUL, 0x1FFFUL);

486 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x200BUL, 
LIT_CHAR_LS
 - 1);

487 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_PS
 + 1, 0x202EUL);

488 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x2030UL, 0x205EUL);

489 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x2060UL, 0x2FFFUL);

490 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 0x3001UL, 
LIT_CHAR_BOM
 - 1);

491 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_BOM
 + 1, 
LIT_UTF16_CODE_UNIT_MAX
);

492 
ch
 = 
LIT_CHAR_UNDEF
;

494 i‡(
ch
 =
LIT_CHAR_LOWERCASE_W
)

497 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_0
, 
LIT_CHAR_9
);

498 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_UPPERCASE_A
, 
LIT_CHAR_UPPERCASE_Z
);

499 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_UNDERSCORE
, LIT_CHAR_UNDERSCORE);

500 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_LOWERCASE_A
, 
LIT_CHAR_LOWERCASE_Z
);

501 
ch
 = 
LIT_CHAR_UNDEF
;

503 i‡(
ch
 =
LIT_CHAR_UPPERCASE_W
)

506 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_NULL
, 
LIT_CHAR_0
 - 1);

507 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_9
 + 1, 
LIT_CHAR_UPPERCASE_A
 - 1);

508 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_UPPERCASE_Z
 + 1, 
LIT_CHAR_UNDERSCORE
 - 1);

509 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_UNDERSCORE
 + 1, 
LIT_CHAR_LOWERCASE_A
 - 1);

510 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
LIT_CHAR_LOWERCASE_Z
 + 1, 
LIT_UTF16_CODE_UNIT_MAX
);

511 
ch
 = 
LIT_CHAR_UNDEF
;

513 i‡(
	`lô_ch¨_is_o˘Æ_digô
 ((
ecma_ch¨_t
Ë
ch
)

514 && 
ch
 !
LIT_CHAR_0
)

516 
	`lô_utf8_de¸
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

517 
ch
 = (
ecma_ch¨_t
Ë
	`ª_∑r£_o˘Æ
 (
∑r£r_˘x_p
);

521 i‡(
°¨t
 !
LIT_CHAR_UNDEF
)

523 i‡(
is_ønge
)

525 i‡(
°¨t
 > 
ch
)

527  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class, wrong order"));

531 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
°¨t
, 
ch
);

532 
°¨t
 = 
LIT_CHAR_UNDEF
;

533 
is_ønge
 = 
Ál£
;

538 
	`≠≥nd_ch¨_˛ass
 (
ª_˘x_p
, 
°¨t
, start);

539 
°¨t
 = 
ch
;

544 
°¨t
 = 
ch
;

547 
tokí_ty≥
 =
RE_TOK_START_CHAR_CLASS
 ||Åokí_ty≥ =
RE_TOK_START_INV_CHAR_CLASS
);

549  
	`ª_∑r£_ôî©‹
 (
∑r£r_˘x_p
, 
out_tokí_p
);

550 
	}
}

560 
ecma_vÆue_t


561 
	$ª_∑r£_√xt_tokí
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
,

562 
ª_tokí_t
 *
out_tokí_p
)

564 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

566 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

568 
out_tokí_p
->
ty≥
 = 
RE_TOK_EOF
;

569  
ªt_vÆue
;

572 
ecma_ch¨_t
 
ch
 = 
	`lô_utf8_ªad_√xt
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

574 
ch
)

576 
LIT_CHAR_VLINE
:

578 
out_tokí_p
->
ty≥
 = 
RE_TOK_ALTERNATIVE
;

581 
LIT_CHAR_CIRCUMFLEX
:

583 
out_tokí_p
->
ty≥
 = 
RE_TOK_ASSERT_START
;

586 
LIT_CHAR_DOLLAR_SIGN
:

588 
out_tokí_p
->
ty≥
 = 
RE_TOK_ASSERT_END
;

591 
LIT_CHAR_DOT
:

593 
out_tokí_p
->
ty≥
 = 
RE_TOK_PERIOD
;

594 
ªt_vÆue
 = 
	`ª_∑r£_ôî©‹
 (
∑r£r_˘x_p
, 
out_tokí_p
);

597 
LIT_CHAR_BACKSLASH
:

599 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

601  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalidÑegularÉxperssion"));

604 
out_tokí_p
->
ty≥
 = 
RE_TOK_CHAR
;

605 
ch
 = 
	`lô_utf8_ªad_√xt
 (&
∑r£r_˘x_p
->
öput_cuº_p
);

607 i‡(
ch
 =
LIT_CHAR_LOWERCASE_B
)

609 
out_tokí_p
->
ty≥
 = 
RE_TOK_ASSERT_WORD_BOUNDARY
;

611 i‡(
ch
 =
LIT_CHAR_UPPERCASE_B
)

613 
out_tokí_p
->
ty≥
 = 
RE_TOK_ASSERT_NOT_WORD_BOUNDARY
;

615 i‡(
ch
 =
LIT_CHAR_LOWERCASE_F
)

617 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_FF
;

619 i‡(
ch
 =
LIT_CHAR_LOWERCASE_N
)

621 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_LF
;

623 i‡(
ch
 =
LIT_CHAR_LOWERCASE_T
)

625 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_TAB
;

627 i‡(
ch
 =
LIT_CHAR_LOWERCASE_R
)

629 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_CR
;

631 i‡(
ch
 =
LIT_CHAR_LOWERCASE_V
)

633 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_VTAB
;

635 i‡(
ch
 =
LIT_CHAR_LOWERCASE_C
)

637 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 <Ö¨£r_˘x_p->
öput_íd_p
)

639 
ch
 = *
∑r£r_˘x_p
->
öput_cuº_p
;

641 i‡((
ch
 >
LIT_CHAR_ASCII_UPPERCASE_LETTERS_BEGIN
 && ch <
LIT_CHAR_ASCII_UPPERCASE_LETTERS_END
)

642 || (
ch
 >
LIT_CHAR_ASCII_LOWERCASE_LETTERS_BEGIN
 && ch <
LIT_CHAR_ASCII_LOWERCASE_LETTERS_END
))

644 
out_tokí_p
->
vÆue
 = (
ch
 % 32);

645 
∑r£r_˘x_p
->
öput_cuº_p
++;

649 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_BACKSLASH
;

650 
∑r£r_˘x_p
->
öput_cuº_p
--;

655 
out_tokí_p
->
vÆue
 = 
LIT_CHAR_BACKSLASH
;

656 
∑r£r_˘x_p
->
öput_cuº_p
--;

659 i‡(
ch
 =
LIT_CHAR_LOWERCASE_X


660 && 
	`ª_hex_lookup
 (
∑r£r_˘x_p
, 2))

662 
ecma_ch¨_t
 
code_unô
;

664 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
∑r£r_˘x_p
->
öput_cuº_p
, 2, &
code_unô
))

666  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("decodeÉrror"));

669 
∑r£r_˘x_p
->
öput_cuº_p
 += 2;

670 
out_tokí_p
->
vÆue
 = 
code_unô
;

672 i‡(
ch
 =
LIT_CHAR_LOWERCASE_U


673 && 
	`ª_hex_lookup
 (
∑r£r_˘x_p
, 4))

675 
ecma_ch¨_t
 
code_unô
;

677 i‡(!
	`lô_ªad_code_unô_‰om_hex
 (
∑r£r_˘x_p
->
öput_cuº_p
, 4, &
code_unô
))

679  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("decodeÉrror"));

682 
∑r£r_˘x_p
->
öput_cuº_p
 += 4;

683 
out_tokí_p
->
vÆue
 = 
code_unô
;

685 i‡(
ch
 =
LIT_CHAR_LOWERCASE_D
)

687 
out_tokí_p
->
ty≥
 = 
RE_TOK_DIGIT
;

690 i‡(
ch
 =
LIT_CHAR_UPPERCASE_D
)

692 
out_tokí_p
->
ty≥
 = 
RE_TOK_NOT_DIGIT
;

695 i‡(
ch
 =
LIT_CHAR_LOWERCASE_S
)

697 
out_tokí_p
->
ty≥
 = 
RE_TOK_WHITE
;

700 i‡(
ch
 =
LIT_CHAR_UPPERCASE_S
)

702 
out_tokí_p
->
ty≥
 = 
RE_TOK_NOT_WHITE
;

705 i‡(
ch
 =
LIT_CHAR_LOWERCASE_W
)

707 
out_tokí_p
->
ty≥
 = 
RE_TOK_WORD_CHAR
;

710 i‡(
ch
 =
LIT_CHAR_UPPERCASE_W
)

712 
out_tokí_p
->
ty≥
 = 
RE_TOK_NOT_WORD_CHAR
;

715 i‡(
	`lô_ch¨_is_decimÆ_digô
 (
ch
))

717 i‡(
ch
 =
LIT_CHAR_0
)

719 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 <Ö¨£r_˘x_p->
öput_íd_p


720 && 
	`lô_ch¨_is_decimÆ_digô
 (*
∑r£r_˘x_p
->
öput_cuº_p
))

722  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExpÉscapeÖatternÉrror."));

725 
out_tokí_p
->
vÆue
 = 
LIT_UNICODE_CODE_POINT_NULL
;

729 i‡(
∑r£r_˘x_p
->
num_of_groups
 == -1)

731 
	`ª_cou¡_num_of_groups
 (
∑r£r_˘x_p
);

734 i‡(
∑r£r_˘x_p
->
num_of_groups
)

736 
∑r£r_˘x_p
->
öput_cuº_p
--;

737 
uöt32_t
 
numbî
 = 0;

738 
ödex
 = 0;

742 i‡(
ödex
 >
RE_MAX_RE_DECESC_DIGITS
)

744 
ªt_vÆue
 = 
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("RegExpÉscapeÉrror: decimalÉscapeÅooÜong."));

745  
ªt_vÆue
;

747 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

752 
ecma_ch¨_t
 
digô
 = *
∑r£r_˘x_p
->
öput_cuº_p
++;

754 i‡(!
	`lô_ch¨_is_decimÆ_digô
 (
digô
))

756 
∑r£r_˘x_p
->
öput_cuº_p
--;

759 
numbî
 =Çumbî * 10 + 
	`lô_ch¨_hex_to_öt
 (
digô
);

760 
ödex
++;

762 
åue
);

764 i‡((Ë
numbî
 <
∑r£r_˘x_p
->
num_of_groups
)

766 
out_tokí_p
->
ty≥
 = 
RE_TOK_BACKREFERENCE
;

772 
∑r£r_˘x_p
->
öput_cuº_p
 -
ödex
;

775 
ecma_ch¨_t
 
digô
 = *
∑r£r_˘x_p
->
öput_cuº_p
;

777 i‡(!
	`lô_ch¨_is_o˘Æ_digô
 (
digô
))

780 
numbî
 = 
digô
;

781 
∑r£r_˘x_p
->
öput_cuº_p
++;

785 
numbî
 = 
	`ª_∑r£_o˘Æ
 (
∑r£r_˘x_p
);

788 
out_tokí_p
->
vÆue
 = 
numbî
;

793 i‡(!
	`lô_ch¨_is_o˘Æ_digô
 (
ch
))

796 
out_tokí_p
->
vÆue
 = 
ch
;

800 
∑r£r_˘x_p
->
öput_cuº_p
--;

801 
out_tokí_p
->
vÆue
 = 
	`ª_∑r£_o˘Æ
 (
∑r£r_˘x_p
);

808 
out_tokí_p
->
vÆue
 = 
ch
;

811 
ªt_vÆue
 = 
	`ª_∑r£_ôî©‹
 (
∑r£r_˘x_p
, 
out_tokí_p
);

814 
LIT_CHAR_LEFT_PAREN
:

816 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

818  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Unterminated group"));

821 i‡(*
∑r£r_˘x_p
->
öput_cuº_p
 =
LIT_CHAR_QUESTION
)

823 
∑r£r_˘x_p
->
öput_cuº_p
++;

824 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

826  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid group"));

829 
ch
 = *
∑r£r_˘x_p
->
öput_cuº_p
++;

831 i‡(
ch
 =
LIT_CHAR_EQUALS
)

834 
out_tokí_p
->
ty≥
 = 
RE_TOK_ASSERT_START_POS_LOOKAHEAD
;

836 i‡(
ch
 =
LIT_CHAR_EXCLAMATION
)

839 
out_tokí_p
->
ty≥
 = 
RE_TOK_ASSERT_START_NEG_LOOKAHEAD
;

841 i‡(
ch
 =
LIT_CHAR_COLON
)

844 
out_tokí_p
->
ty≥
 = 
RE_TOK_START_NON_CAPTURE_GROUP
;

848  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid group"));

854 
out_tokí_p
->
ty≥
 = 
RE_TOK_START_CAPTURE_GROUP
;

858 
LIT_CHAR_RIGHT_PAREN
:

860 
out_tokí_p
->
ty≥
 = 
RE_TOK_END_GROUP
;

861 
ªt_vÆue
 = 
	`ª_∑r£_ôî©‹
 (
∑r£r_˘x_p
, 
out_tokí_p
);

864 
LIT_CHAR_LEFT_SQUARE
:

866 
out_tokí_p
->
ty≥
 = 
RE_TOK_START_CHAR_CLASS
;

868 i‡(
∑r£r_˘x_p
->
öput_cuº_p
 >∑r£r_˘x_p->
öput_íd_p
)

870  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("invalid character class"));

873 i‡(*
∑r£r_˘x_p
->
öput_cuº_p
 =
LIT_CHAR_CIRCUMFLEX
)

875 
out_tokí_p
->
ty≥
 = 
RE_TOK_START_INV_CHAR_CLASS
;

876 
∑r£r_˘x_p
->
öput_cuº_p
++;

881 
LIT_CHAR_QUESTION
:

882 
LIT_CHAR_ASTERISK
:

883 
LIT_CHAR_PLUS
:

884 
LIT_CHAR_LEFT_BRACE
:

886  
	`ecma_øi£_sy¡ax_îr‹
 (
	`ECMA_ERR_MSG
 ("Invalid RegExpÅoken."));

888 
LIT_CHAR_NULL
:

890 
out_tokí_p
->
ty≥
 = 
RE_TOK_EOF
;

895 
out_tokí_p
->
ty≥
 = 
RE_TOK_CHAR
;

896 
out_tokí_p
->
vÆue
 = 
ch
;

897 
ªt_vÆue
 = 
	`ª_∑r£_ôî©‹
 (
∑r£r_˘x_p
, 
out_tokí_p
);

902  
ªt_vÆue
;

903 
	}
}

	@deps/jerry/jerry-core/parser/regexp/re-parser.h

16 #i‚de‡
RE_PARSER_H


17 
	#RE_PARSER_H


	)

19 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


36 
	mRE_TOK_EOF
,

37 
	mRE_TOK_BACKREFERENCE
,

38 
	mRE_TOK_CHAR
,

39 
	mRE_TOK_ALTERNATIVE
,

40 
	mRE_TOK_ASSERT_START
,

41 
	mRE_TOK_ASSERT_END
,

42 
	mRE_TOK_PERIOD
,

43 
	mRE_TOK_START_CAPTURE_GROUP
,

44 
	mRE_TOK_START_NON_CAPTURE_GROUP
,

45 
	mRE_TOK_END_GROUP
,

46 
	mRE_TOK_ASSERT_START_POS_LOOKAHEAD
,

47 
	mRE_TOK_ASSERT_START_NEG_LOOKAHEAD
,

48 
	mRE_TOK_ASSERT_WORD_BOUNDARY
,

49 
	mRE_TOK_ASSERT_NOT_WORD_BOUNDARY
,

50 
	mRE_TOK_DIGIT
,

51 
	mRE_TOK_NOT_DIGIT
,

52 
	mRE_TOK_WHITE
,

53 
	mRE_TOK_NOT_WHITE
,

54 
	mRE_TOK_WORD_CHAR
,

55 
	mRE_TOK_NOT_WORD_CHAR
,

56 
	mRE_TOK_START_CHAR_CLASS
,

57 
	mRE_TOK_START_INV_CHAR_CLASS
,

58 } 
	tª_tokí_ty≥_t
;

70 
	#RE_ITERATOR_INFINITE
 ((
uöt32_t
Ë- 1)

	)

75 
	#RE_MAX_RE_DECESC_DIGITS
 9

	)

82 
ª_tokí_ty≥_t
 
	mty≥
;

83 
uöt32_t
 
	mvÆue
;

84 
uöt32_t
 
	mqmö
;

85 
uöt32_t
 
	mqmax
;

86 
boﬁ
 
	mgªedy
;

87 } 
	tª_tokí_t
;

94 c⁄° 
lô_utf8_byã_t
 *
	möput_°¨t_p
;

95 c⁄° 
lô_utf8_byã_t
 *
	möput_cuº_p
;

96 c⁄° 
lô_utf8_byã_t
 *
	möput_íd_p
;

97 
	mnum_of_groups
;

98 
uöt32_t
 
	mnum_of_˛as£s
;

99 } 
	tª_∑r£r_˘x_t
;

101 (*
	tª_ch¨_˛ass_ˇŒback
Ë(*
	tª_˘x_p
, 
	tecma_ch¨_t
 
	t°¨t
,Écma_ch¨_à
	tíd
);

103 
ecma_vÆue_t


104 
	`ª_∑r£_ch¨_˛ass
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
, 
ª_ch¨_˛ass_ˇŒback
 
≠≥nd_ch¨_˛ass
, *
ª_˘x_p
,

105 
ª_tokí_t
 *
out_tokí_p
);

107 
ecma_vÆue_t


108 
	`ª_∑r£_√xt_tokí
 (
ª_∑r£r_˘x_t
 *
∑r£r_˘x_p
, 
ª_tokí_t
 *
out_tokí_p
);

	@deps/jerry/jerry-core/vm/opcodes-ecma-arithmetics.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-c⁄vîsi⁄.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-numbî-¨ôhmëic.h
"

20 
	~"ecma-obje˘s.h
"

21 
	~"ecma-åy-ˇtch-ma¸o.h
"

22 
	~"›codes.h
"

23 
	~"jπ-libc-ö˛udes.h
"

43 
ecma_vÆue_t


44 
	$do_numbî_¨ôhmëic
 (
numbî_¨ôhmëic_›
 
›
,

45 
ecma_vÆue_t
 
À·_vÆue
,

46 
ecma_vÆue_t
 
right_vÆue
)

48 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

50 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_À·
, 
À·_vÆue
, 
ªt_vÆue
);

51 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_right
, 
right_vÆue
, 
ªt_vÆue
);

53 
ecma_numbî_t
 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

55 
›
)

57 
NUMBER_ARITHMETIC_SUBSTRACTION
:

59 
ªsu…
 = 
	`ecma_numbî_sub°ø˘
 (
num_À·
, 
num_right
);

62 
NUMBER_ARITHMETIC_MULTIPLICATION
:

64 
ªsu…
 = 
	`ecma_numbî_mu…ùly
 (
num_À·
, 
num_right
);

67 
NUMBER_ARITHMETIC_DIVISION
:

69 
ªsu…
 = 
	`ecma_numbî_divide
 (
num_À·
, 
num_right
);

72 
NUMBER_ARITHMETIC_REMAINDER
:

74 
ªsu…
 = 
	`ecma_›_numbî_ªmaödî
 (
num_À·
, 
num_right
);

79 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
ªsu…
);

81 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_right
);

82 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_À·
);

84  
ªt_vÆue
;

85 
	}
}

95 
ecma_vÆue_t


96 
	$›func_addôi⁄
 (
ecma_vÆue_t
 
À·_vÆue
,

97 
ecma_vÆue_t
 
right_vÆue
)

99 
boﬁ
 
‰ì_À·_vÆue
 = 
Ál£
;

100 
boﬁ
 
‰ì_right_vÆue
 = 
Ál£
;

102 i‡(
	`ecma_is_vÆue_obje˘
 (
À·_vÆue
))

104 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
À·_vÆue
);

105 
À·_vÆue
 = 
	`ecma_›_obje˘_deÁu…_vÆue
 (
obj_p
, 
ECMA_PREFERRED_TYPE_NO
);

106 
‰ì_À·_vÆue
 = 
åue
;

108 i‡(
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
))

110  
À·_vÆue
;

114 i‡(
	`ecma_is_vÆue_obje˘
 (
right_vÆue
))

116 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
right_vÆue
);

117 
right_vÆue
 = 
	`ecma_›_obje˘_deÁu…_vÆue
 (
obj_p
, 
ECMA_PREFERRED_TYPE_NO
);

118 
‰ì_right_vÆue
 = 
åue
;

120 i‡(
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
))

122 i‡(
‰ì_À·_vÆue
)

124 
	`ecma_‰ì_vÆue
 (
À·_vÆue
);

126  
right_vÆue
;

130 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

132 i‡(
	`ecma_is_vÆue_°rög
 (
À·_vÆue
)

133 || 
	`ecma_is_vÆue_°rög
 (
right_vÆue
))

135 
	`ECMA_TRY_CATCH
 (
°r_À·_vÆue
, 
	`ecma_›_to_°rög
 (
À·_vÆue
), 
ªt_vÆue
);

136 
	`ECMA_TRY_CATCH
 (
°r_right_vÆue
, 
	`ecma_›_to_°rög
 (
right_vÆue
), 
ªt_vÆue
);

138 
ecma_°rög_t
 *
°rög1_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_À·_vÆue
);

139 
ecma_°rög_t
 *
°rög2_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_right_vÆue
);

141 
ecma_°rög_t
 *
c⁄ˇt_°r_p
 = 
	`ecma_c⁄ˇt_ecma_°rögs
 (
°rög1_p
, 
°rög2_p
);

143 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
c⁄ˇt_°r_p
);

145 
	`ECMA_FINALIZE
 (
°r_right_vÆue
);

146 
	`ECMA_FINALIZE
 (
°r_À·_vÆue
);

150 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_À·
, 
À·_vÆue
, 
ªt_vÆue
);

151 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_right
, 
right_vÆue
, 
ªt_vÆue
);

153 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
	`ecma_numbî_add
 (
num_À·
, 
num_right
));

155 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_right
);

156 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_À·
);

159 i‡(
‰ì_À·_vÆue
)

161 
	`ecma_‰ì_vÆue
 (
À·_vÆue
);

164 i‡(
‰ì_right_vÆue
)

166 
	`ecma_‰ì_vÆue
 (
right_vÆue
);

169  
ªt_vÆue
;

170 
	}
}

180 
ecma_vÆue_t


181 
	$›func_u«ry_∂us
 (
ecma_vÆue_t
 
À·_vÆue
)

183 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

185 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_v¨_vÆue
,

186 
À·_vÆue
,

187 
ªt_vÆue
);

189 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
num_v¨_vÆue
);

191 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_v¨_vÆue
);

193  
ªt_vÆue
;

194 
	}
}

204 
ecma_vÆue_t


205 
	$›func_u«ry_möus
 (
ecma_vÆue_t
 
À·_vÆue
)

207 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

209 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_v¨_vÆue
,

210 
À·_vÆue
,

211 
ªt_vÆue
);

213 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
	`ecma_numbî_√g©e
 (
num_v¨_vÆue
));

215 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_v¨_vÆue
);

217  
ªt_vÆue
;

218 
	}
}

	@deps/jerry/jerry-core/vm/opcodes-ecma-bitwise.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-c⁄vîsi⁄.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"ecma-åy-ˇtch-ma¸o.h
"

20 
	~"›codes.h
"

40 
ecma_vÆue_t


41 
	$do_numbî_bôwi£_logic
 (
numbî_bôwi£_logic_›
 
›
,

42 
ecma_vÆue_t
 
À·_vÆue
,

43 
ecma_vÆue_t
 
right_vÆue
)

45 
	`JERRY_STATIC_ASSERT
 (
ECMA_DIRECT_TYPE_INTEGER_VALUE
 == 0,

46 
ecma_dúe˘_ty≥_öãgî_vÆue_mu°_be_zîo_f‹_bôwi£_logic
);

47 
	`JERRY_STATIC_ASSERT
 ((
ECMA_DIRECT_TYPE_MASK
 | 
ECMA_VALUE_ERROR_FLAG
Ë=((1 << 
ECMA_DIRECT_SHIFT
) - 1),

48 
dúe˘_ty≥_mask_™d_îr‹_Êag_mu°_fûl_Æl_bôs_bef‹e_the_vÆue_°¨ts
);

50 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

51 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

53 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

55 
›
)

57 
NUMBER_BITWISE_LOGIC_AND
:

59  
À·_vÆue
 & 
right_vÆue
;

61 
NUMBER_BITWISE_LOGIC_OR
:

63  
À·_vÆue
 | 
right_vÆue
;

65 
NUMBER_BITWISE_LOGIC_XOR
:

67  (
À·_vÆue
 ^ 
right_vÆue
Ë& (
ecma_vÆue_t
Ë(~((1 << 
ECMA_DIRECT_SHIFT
) - 1));

69 
NUMBER_BITWISE_SHIFT_LEFT
:

71 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

72 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

73  
	`ecma_make_öt32_vÆue
 ((
öt32_t
Ë(
À·_öãgî
 << (
right_öãgî
 & 0x1f)));

75 
NUMBER_BITWISE_SHIFT_RIGHT
:

77 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

78 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

79  
	`ecma_make_öãgî_vÆue
 (
À·_öãgî
 >> (
right_öãgî
 & 0x1f));

81 
NUMBER_BITWISE_SHIFT_URIGHT
:

83 
uöt32_t
 
À·_uöt32
 = (uöt32_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

84 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

85  
	`ecma_make_uöt32_vÆue
 (
À·_uöt32
 >> (
right_öãgî
 & 0x1f));

87 
NUMBER_BITWISE_NOT
:

89  (~
right_vÆue
Ë& (
ecma_vÆue_t
Ë(~((1 << 
ECMA_DIRECT_SHIFT
) - 1));

94 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

96 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_À·
, 
À·_vÆue
, 
ªt_vÆue
);

97 
	`ECMA_OP_TO_NUMBER_TRY_CATCH
 (
num_right
, 
right_vÆue
, 
ªt_vÆue
);

99 
ecma_numbî_t
 
ªsu…
 = 
ECMA_NUMBER_ZERO
;

100 
uöt32_t
 
right_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num_right
);

102 
›
)

104 
NUMBER_BITWISE_LOGIC_AND
:

106 
uöt32_t
 
À·_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num_À·
);

107 
ªsu…
 = (
ecma_numbî_t
Ë((
öt32_t
Ë(
À·_uöt32
 & 
right_uöt32
));

110 
NUMBER_BITWISE_LOGIC_OR
:

112 
uöt32_t
 
À·_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num_À·
);

113 
ªsu…
 = (
ecma_numbî_t
Ë((
öt32_t
Ë(
À·_uöt32
 | 
right_uöt32
));

116 
NUMBER_BITWISE_LOGIC_XOR
:

118 
uöt32_t
 
À·_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num_À·
);

119 
ªsu…
 = (
ecma_numbî_t
Ë((
öt32_t
Ë(
À·_uöt32
 ^ 
right_uöt32
));

122 
NUMBER_BITWISE_SHIFT_LEFT
:

124 
ªsu…
 = (
ecma_numbî_t
Ë(
	`ecma_numbî_to_öt32
 (
num_À·
Ë<< (
right_uöt32
 & 0x1F));

127 
NUMBER_BITWISE_SHIFT_RIGHT
:

129 
ªsu…
 = (
ecma_numbî_t
Ë(
	`ecma_numbî_to_öt32
 (
num_À·
Ë>> (
right_uöt32
 & 0x1F));

132 
NUMBER_BITWISE_SHIFT_URIGHT
:

134 
uöt32_t
 
À·_uöt32
 = 
	`ecma_numbî_to_uöt32
 (
num_À·
);

135 
ªsu…
 = (
ecma_numbî_t
Ë(
À·_uöt32
 >> (
right_uöt32
 & 0x1F));

138 
NUMBER_BITWISE_NOT
:

140 
ªsu…
 = (
ecma_numbî_t
Ë((
öt32_t
Ë~
right_uöt32
);

145 
ªt_vÆue
 = 
	`ecma_make_numbî_vÆue
 (
ªsu…
);

147 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_right
);

148 
	`ECMA_OP_TO_NUMBER_FINALIZE
 (
num_À·
);

150  
ªt_vÆue
;

151 
	}
}

	@deps/jerry/jerry-core/vm/opcodes-ecma-equality.c

16 
	~"ecma-buûtös.h
"

17 
	~"ecma-com∑ris⁄.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-fun˘i⁄-obje˘.h
"

20 
	~"ecma-globÆs.h
"

21 
	~"ecma-hñ≥rs.h
"

22 
	~"ecma-Àx-ív.h
"

23 
	~"ecma-åy-ˇtch-ma¸o.h
"

24 
	~"›codes.h
"

25 
	~"vm-deföes.h
"

42 
ecma_vÆue_t


43 
	$›func_equÆ_vÆue
 (
ecma_vÆue_t
 
À·_vÆue
,

44 
ecma_vÆue_t
 
right_vÆue
)

46 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

47 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

49 
ecma_vÆue_t
 
com∑ª_ªsu…
 = 
	`ecma_›_ab°ø˘_equÆôy_com∑ª
 (
À·_vÆue
,

50 
right_vÆue
);

52 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∑ª_ªsu…
)

53 || 
	`ECMA_IS_VALUE_ERROR
 (
com∑ª_ªsu…
));

55  
com∑ª_ªsu…
;

56 
	}
}

66 
ecma_vÆue_t


67 
	$›func_nŸ_equÆ_vÆue
 (
ecma_vÆue_t
 
À·_vÆue
,

68 
ecma_vÆue_t
 
right_vÆue
)

70 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

71 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

73 
ecma_vÆue_t
 
com∑ª_ªsu…
 = 
	`ecma_›_ab°ø˘_equÆôy_com∑ª
 (
À·_vÆue
,

74 
right_vÆue
);

76 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
com∑ª_ªsu…
)

77 || 
	`ECMA_IS_VALUE_ERROR
 (
com∑ª_ªsu…
));

79 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
com∑ª_ªsu…
))

81 
com∑ª_ªsu…
 = 
	`ecma_övît_boﬁón_vÆue
 (compare_result);

84  
com∑ª_ªsu…
;

85 
	}
}

	@deps/jerry/jerry-core/vm/opcodes-ecma-relational.c

16 
	~"ecma-com∑ris⁄.h
"

17 
	~"ecma-c⁄vîsi⁄.h
"

18 
	~"ecma-ex˚±i⁄s.h
"

19 
	~"ecma-hñ≥rs.h
"

20 
	~"ecma-obje˘s.h
"

21 
	~"ecma-åy-ˇtch-ma¸o.h
"

22 
	~"›codes.h
"

39 
ecma_vÆue_t


40 
	$›func_Àss_th™
 (
ecma_vÆue_t
 
À·_vÆue
,

41 
ecma_vÆue_t
 
right_vÆue
)

43 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

44 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

46 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_ab°ø˘_ªœti⁄Æ_com∑ª
 (
À·_vÆue
, 
right_vÆue
, 
åue
);

48 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

50  
ªt_vÆue
;

53 i‡(
	`ecma_is_vÆue_undeföed
 (
ªt_vÆue
))

55 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

59 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªt_vÆue
));

62  
ªt_vÆue
;

63 
	}
}

73 
ecma_vÆue_t


74 
	$›func_gª©î_th™
 (
ecma_vÆue_t
 
À·_vÆue
,

75 
ecma_vÆue_t
 
right_vÆue
)

77 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

78 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

80 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_ab°ø˘_ªœti⁄Æ_com∑ª
 (
À·_vÆue
, 
right_vÆue
, 
Ál£
);

82 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

84  
ªt_vÆue
;

87 i‡(
	`ecma_is_vÆue_undeföed
 (
ªt_vÆue
))

89 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

93 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªt_vÆue
));

96  
ªt_vÆue
;

97 
	}
}

107 
ecma_vÆue_t


108 
	$›func_Àss_‹_equÆ_th™
 (
ecma_vÆue_t
 
À·_vÆue
,

109 
ecma_vÆue_t
 
right_vÆue
)

111 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

112 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

114 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_ab°ø˘_ªœti⁄Æ_com∑ª
 (
À·_vÆue
, 
right_vÆue
, 
Ál£
);

116 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

118  
ªt_vÆue
;

121 i‡(
	`ecma_is_vÆue_undeföed
 (
ªt_vÆue
))

123 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

127 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªt_vÆue
));

129 
ªt_vÆue
 = 
	`ecma_övît_boﬁón_vÆue
 (ret_value);

132  
ªt_vÆue
;

133 
	}
}

143 
ecma_vÆue_t


144 
	$›func_gª©î_‹_equÆ_th™
 (
ecma_vÆue_t
 
À·_vÆue
,

145 
ecma_vÆue_t
 
right_vÆue
)

147 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

148 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

150 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_›_ab°ø˘_ªœti⁄Æ_com∑ª
 (
À·_vÆue
, 
right_vÆue
, 
åue
);

152 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

154  
ªt_vÆue
;

157 i‡(
	`ecma_is_vÆue_undeföed
 (
ªt_vÆue
))

159 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

163 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªt_vÆue
));

165 
ªt_vÆue
 = 
	`ecma_övît_boﬁón_vÆue
 (ret_value);

168  
ªt_vÆue
;

169 
	}
}

179 
ecma_vÆue_t


180 
	$›func_ö°™˚of
 (
ecma_vÆue_t
 
À·_vÆue
,

181 
ecma_vÆue_t
 
right_vÆue
)

183 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

185 i‡(!
	`ecma_is_vÆue_obje˘
 (
right_vÆue
))

187 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedán object in 'instanceof' check."));

191 
ecma_obje˘_t
 *
right_vÆue_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
right_vÆue
);

193 
	`ECMA_TRY_CATCH
 (
is_ö°™˚_of
,

194 
	`ecma_›_obje˘_has_ö°™˚
 (
right_vÆue_obj_p
, 
À·_vÆue
),

195 
ªt_vÆue
);

197 
ªt_vÆue
 = 
is_ö°™˚_of
;

199 
	`ECMA_FINALIZE
 (
is_ö°™˚_of
);

202  
ªt_vÆue
;

203 
	}
}

213 
ecma_vÆue_t


214 
	$›func_ö
 (
ecma_vÆue_t
 
À·_vÆue
,

215 
ecma_vÆue_t
 
right_vÆue
)

217 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

219 i‡(!
	`ecma_is_vÆue_obje˘
 (
right_vÆue
))

221 
ªt_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedán object in 'in' check."));

225 
	`ECMA_TRY_CATCH
 (
°r_À·_vÆue
, 
	`ecma_›_to_°rög
 (
À·_vÆue
), 
ªt_vÆue
);

227 
ecma_°rög_t
 *
À·_vÆue_¥›_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_À·_vÆue
);

228 
ecma_obje˘_t
 *
right_vÆue_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
right_vÆue
);

230 
ªt_vÆue
 = 
	`ecma_make_boﬁón_vÆue
 (
	`ecma_›_obje˘_has_¥›îty
 (
right_vÆue_obj_p
, 
À·_vÆue_¥›_«me_p
));

232 
	`ECMA_FINALIZE
 (
°r_À·_vÆue
);

235  
ªt_vÆue
;

236 
	}
}

	@deps/jerry/jerry-core/vm/opcodes.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-buûtös.h
"

18 
	~"ecma-c⁄vîsi⁄.h
"

19 
	~"ecma-ex˚±i⁄s.h
"

20 
	~"ecma-fun˘i⁄-obje˘.h
"

21 
	~"ecma-gc.h
"

22 
	~"ecma-globÆs.h
"

23 
	~"ecma-hñ≥rs.h
"

24 
	~"ecma-Àx-ív.h
"

25 
	~"ecma-obje˘s.h
"

26 
	~"ecma-åy-ˇtch-ma¸o.h
"

27 
	~"›codes.h
"

28 
	~"vm-deföes.h
"

46 
ecma_vÆue_t


47 
	$vm_v¨_de˛
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
,

48 
ecma_°rög_t
 *
v¨_«me_°r_p
)

50 i‡(!
	`ecma_›_has_bödög
 (
‰ame_˘x_p
->
Àx_ív_p
, 
v¨_«me_°r_p
))

52 c⁄° 
boﬁ
 
is_c⁄figuøbÀ_bödögs
 = 
‰ame_˘x_p
->
is_evÆ_code
;

54 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`ecma_›_¸óã_muèbÀ_bödög
 (
‰ame_˘x_p
->
Àx_ív_p
,

55 
v¨_«me_°r_p
,

56 
is_c⁄figuøbÀ_bödögs
);

58 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
com∂ëi⁄_vÆue
));

63 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_undeföed
 (
	`ecma_›_gë_bödög_vÆue
 (
‰ame_˘x_p
->
Àx_ív_p
,

64 
v¨_«me_°r_p
,

65 
åue
)));

67  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

68 
	}
}

78 
ecma_vÆue_t


79 
	$›func_logiˇl_nŸ
 (
ecma_vÆue_t
 
À·_vÆue
)

81  
	`ecma_make_boﬁón_vÆue
 (!
	`ecma_›_to_boﬁón
 (
À·_vÆue
));

82 
	}
}

92 
ecma_vÆue_t


93 
	$›func_ty≥of
 (
ecma_vÆue_t
 
À·_vÆue
)

95 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

97 
ecma_°rög_t
 *
ty≥_°r_p
 = 
NULL
;

99 i‡(
	`ecma_is_vÆue_undeföed
 (
À·_vÆue
))

101 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_UNDEFINED
);

103 i‡(
	`ecma_is_vÆue_nuŒ
 (
À·_vÆue
))

105 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_OBJECT
);

107 i‡(
	`ecma_is_vÆue_boﬁón
 (
À·_vÆue
))

109 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_BOOLEAN
);

111 i‡(
	`ecma_is_vÆue_numbî
 (
À·_vÆue
))

113 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_NUMBER
);

115 i‡(
	`ecma_is_vÆue_°rög
 (
À·_vÆue
))

117 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_STRING
);

121 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
À·_vÆue
));

123 i‡(
	`ecma_›_is_ˇŒabÀ
 (
À·_vÆue
))

125 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_FUNCTION
);

129 
ty≥_°r_p
 = 
	`ecma_gë_magic_°rög
 (
LIT_MAGIC_STRING_OBJECT
);

133 
ªt_vÆue
 = 
	`ecma_make_°rög_vÆue
 (
ty≥_°r_p
);

135  
ªt_vÆue
;

136 
	}
}

142 
	$›func_£t_ac˚ss‹
 (
boﬁ
 
is_gëãr
,

143 
ecma_vÆue_t
 
obje˘
,

144 
ecma_vÆue_t
 
ac˚ss‹_«me
,

145 
ecma_vÆue_t
 
ac˚ss‹
)

147 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obje˘
);

148 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
ac˚ss‹_«me
Ë|| 
	`ecma_is_vÆue_numbî
 (accessor_name));

149 
ecma_°rög_t
 *
ac˚ss‹_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
	`ecma_›_to_°rög
 (
ac˚ss‹_«me
));

150 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
ac˚ss‹_«me_p
);

152 i‡(
¥›îty_p
 !
NULL


153 && 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë!
ECMA_PROPERTY_TYPE_NAMEDACCESSOR
)

155 
	`ecma_dñëe_¥›îty
 (
obje˘_p
, 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
));

156 
¥›îty_p
 = 
NULL
;

159 i‡(
¥›îty_p
 =
NULL
)

161 
ecma_obje˘_t
 *
gëãr_func_p
 = 
NULL
;

162 
ecma_obje˘_t
 *
£âî_func_p
 = 
NULL
;

164 i‡(
is_gëãr
)

166 
gëãr_func_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ac˚ss‹
);

170 
£âî_func_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ac˚ss‹
);

173 
	`ecma_¸óã_«med_ac˚ss‹_¥›îty
 (
obje˘_p
,

174 
ac˚ss‹_«me_p
,

175 
gëãr_func_p
,

176 
£âî_func_p
,

177 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE
,

178 
NULL
);

180 i‡(
is_gëãr
)

182 
ecma_obje˘_t
 *
gëãr_func_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ac˚ss‹
);

184 
	`ecma_£t_«med_ac˚ss‹_¥›îty_gëãr
 (
obje˘_p
,

185 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
),

186 
gëãr_func_p
);

190 
ecma_obje˘_t
 *
£âî_func_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ac˚ss‹
);

192 
	`ecma_£t_«med_ac˚ss‹_¥›îty_£âî
 (
obje˘_p
,

193 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
),

194 
£âî_func_p
);

197 
	`ecma_dîef_ecma_°rög
 (
ac˚ss‹_«me_p
);

198 
	}
}

206 
ecma_vÆue_t


207 
	$vm_›_dñëe_¥›
 (
ecma_vÆue_t
 
obje˘
,

208 
ecma_vÆue_t
 
¥›îty
,

209 
boﬁ
 
is_°ri˘
)

211 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

213 i‡(
	`ecma_is_vÆue_undeföed
 (
obje˘
))

215 
com∂ëi⁄_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

219 
com∂ëi⁄_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

221 
	`ECMA_TRY_CATCH
 (
check_c€rcibÀ_ªt
,

222 
	`ecma_›_check_obje˘_c€rcibÀ
 (
obje˘
),

223 
com∂ëi⁄_vÆue
);

224 
	`ECMA_TRY_CATCH
 (
°r_«me_vÆue
,

225 
	`ecma_›_to_°rög
 (
¥›îty
),

226 
com∂ëi⁄_vÆue
);

228 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_°rög
 (
°r_«me_vÆue
));

229 
ecma_°rög_t
 *
«me_°rög_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
°r_«me_vÆue
);

231 
	`ECMA_TRY_CATCH
 (
obj_vÆue
, 
	`ecma_›_to_obje˘
 (
obje˘
), 
com∂ëi⁄_vÆue
);

233 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_obje˘
 (
obj_vÆue
));

234 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_vÆue
);

235 
	`JERRY_ASSERT
 (!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obj_p
));

237 
	`ECMA_TRY_CATCH
 (
dñëe_›_ªt_vÆ
,

238 
	`ecma_›_obje˘_dñëe
 (
obj_p
, 
«me_°rög_p
, 
is_°ri˘
),

239 
com∂ëi⁄_vÆue
);

241 
com∂ëi⁄_vÆue
 = 
dñëe_›_ªt_vÆ
;

243 
	`ECMA_FINALIZE
 (
dñëe_›_ªt_vÆ
);

244 
	`ECMA_FINALIZE
 (
obj_vÆue
);

245 
	`ECMA_FINALIZE
 (
°r_«me_vÆue
);

246 
	`ECMA_FINALIZE
 (
check_c€rcibÀ_ªt
);

249  
com∂ëi⁄_vÆue
;

250 
	}
}

258 
ecma_vÆue_t


259 
	$vm_›_dñëe_v¨
 (
jmem_˝oöãr_t
 
«me_lôîÆ
,

260 
ecma_obje˘_t
 *
Àx_ív_p
)

262 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

264 
ecma_°rög_t
 *
v¨_«me_°r_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_°rög_t, 
«me_lôîÆ
);

266 
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
 = 
	`ecma_›_ªsﬁve_ª„ªn˚_ba£
 (
Àx_ív_p
, 
v¨_«me_°r_p
);

268 i‡(
ªf_ba£_Àx_ív_p
 =
NULL
)

270 
com∂ëi⁄_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

274 
	`JERRY_ASSERT
 (
	`ecma_is_Àxiˇl_ívú⁄mít
 (
ªf_ba£_Àx_ív_p
));

276 
com∂ëi⁄_vÆue
 = 
	`ecma_›_dñëe_bödög
 (
ªf_ba£_Àx_ív_p
, 
v¨_«me_°r_p
);

279  
com∂ëi⁄_vÆue
;

280 
	}
}

291 
ecma_cﬁÀ˘i⁄_hódî_t
 *

292 
	$›func_f‹_ö
 (
ecma_vÆue_t
 
À·_vÆue
,

293 
ecma_vÆue_t
 *
ªsu…_obj_p
)

295 
ecma_vÆue_t
 
com∂_vÆ
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

296 
ecma_cﬁÀ˘i⁄_hódî_t
 *
¥›_«mes_p
 = 
NULL
;

299 i‡(!
	`ecma_is_vÆue_undeföed
 (
À·_vÆue
)

300 && !
	`ecma_is_vÆue_nuŒ
 (
À·_vÆue
))

303 
	`ECMA_TRY_CATCH
 (
obj_ex¥_vÆue
,

304 
	`ecma_›_to_obje˘
 (
À·_vÆue
),

305 
com∂_vÆ
);

307 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obj_ex¥_vÆue
);

308 
¥›_«mes_p
 = 
	`ecma_›_obje˘_gë_¥›îty_«mes
 (
obj_p
, 
Ál£
, 
åue
,Årue);

310 i‡(
¥›_«mes_p
->
unô_numbî
 != 0)

312 
	`ecma_ªf_obje˘
 (
obj_p
);

313 *
ªsu…_obj_p
 = 
	`ecma_make_obje˘_vÆue
 (
obj_p
);

317 
	`ecma_dóŒoc_cﬁÀ˘i⁄_hódî
 (
¥›_«mes_p
);

318 
¥›_«mes_p
 = 
NULL
;

321 
	`ECMA_FINALIZE
 (
obj_ex¥_vÆue
);

324 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_em±y
 (
com∂_vÆ
));

326  
¥›_«mes_p
;

327 
	}
}

	@deps/jerry/jerry-core/vm/opcodes.h

16 #i‚de‡
OPCODES_H


17 
	#OPCODES_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"vm-deföes.h
"

34 
	mNUMBER_ARITHMETIC_SUBSTRACTION
,

35 
	mNUMBER_ARITHMETIC_MULTIPLICATION
,

36 
	mNUMBER_ARITHMETIC_DIVISION
,

37 
	mNUMBER_ARITHMETIC_REMAINDER
,

38 } 
	tnumbî_¨ôhmëic_›
;

45 
	mNUMBER_BITWISE_LOGIC_AND
,

46 
	mNUMBER_BITWISE_LOGIC_OR
,

47 
	mNUMBER_BITWISE_LOGIC_XOR
,

48 
	mNUMBER_BITWISE_SHIFT_LEFT
,

49 
	mNUMBER_BITWISE_SHIFT_RIGHT
,

50 
	mNUMBER_BITWISE_SHIFT_URIGHT
,

51 
	mNUMBER_BITWISE_NOT
,

52 } 
	tnumbî_bôwi£_logic_›
;

54 
ecma_vÆue_t


55 
vm_v¨_de˛
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
, 
ecma_°rög_t
 *
v¨_«me_°r_p
);

57 
ecma_vÆue_t


58 
›func_equÆ_vÆue
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

60 
ecma_vÆue_t


61 
›func_nŸ_equÆ_vÆue
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

63 
ecma_vÆue_t


64 
do_numbî_¨ôhmëic
 (
numbî_¨ôhmëic_›
 
›
, 
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

66 
ecma_vÆue_t


67 
›func_u«ry_∂us
 (
ecma_vÆue_t
 
À·_vÆue
);

69 
ecma_vÆue_t


70 
›func_u«ry_möus
 (
ecma_vÆue_t
 
À·_vÆue
);

72 
ecma_vÆue_t


73 
do_numbî_bôwi£_logic
 (
numbî_bôwi£_logic_›
 
›
, 
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

75 
ecma_vÆue_t


76 
›func_addôi⁄
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

78 
ecma_vÆue_t


79 
›func_Àss_th™
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

81 
ecma_vÆue_t


82 
›func_gª©î_th™
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

84 
ecma_vÆue_t


85 
›func_Àss_‹_equÆ_th™
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

87 
ecma_vÆue_t


88 
›func_gª©î_‹_equÆ_th™
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

90 
ecma_vÆue_t


91 
›func_ö
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

93 
ecma_vÆue_t


94 
›func_ö°™˚of
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à
right_vÆue
);

96 
ecma_vÆue_t


97 
›func_logiˇl_nŸ
 (
ecma_vÆue_t
 
À·_vÆue
);

99 
ecma_vÆue_t


100 
›func_ty≥of
 (
ecma_vÆue_t
 
À·_vÆue
);

103 
›func_£t_ac˚ss‹
 (
boﬁ
 
is_gëãr
, 
ecma_vÆue_t
 
obje˘
,Écma_vÆue_à
ac˚ss‹_«me
,Écma_vÆue_à
ac˚ss‹
);

105 
ecma_vÆue_t


106 
vm_›_dñëe_¥›
 (
ecma_vÆue_t
 
obje˘
,Écma_vÆue_à
¥›îty
, 
boﬁ
 
is_°ri˘
);

108 
ecma_vÆue_t


109 
vm_›_dñëe_v¨
 (
jmem_˝oöãr_t
 
«me_lôîÆ
, 
ecma_obje˘_t
 *
Àx_ív_p
);

111 
ecma_cﬁÀ˘i⁄_hódî_t
 *

112 
›func_f‹_ö
 (
ecma_vÆue_t
 
À·_vÆue
,Écma_vÆue_à*
ªsu…_obj_p
);

	@deps/jerry/jerry-core/vm/vm-defines.h

15 #i‚de‡
VM_DEFINES_H


16 
	#VM_DEFINES_H


	)

18 
	~"byã-code.h
"

19 
	~"ecma-globÆs.h
"

31 
	#VM_PLUS_EQUAL_U16
(
ba£
, 
vÆue
Ë(ba£Ë(
uöt16_t
Ë((ba£Ë+ (vÆue))

	)

32 
	#VM_MINUS_EQUAL_U16
(
ba£
, 
vÆue
Ë(ba£Ë(
uöt16_t
Ë((ba£Ë- (vÆue))

	)

37 c⁄° 
	tuöt8_t
 *
	tvm_ö°r_cou¡î_t
;

42 
	svm_‰ame_˘x_t


44 c⁄° 
ecma_compûed_code_t
 *
	mbyãcode_hódî_p
;

45 
uöt8_t
 *
	mbyã_code_p
;

46 
uöt8_t
 *
	mbyã_code_°¨t_p
;

47 
ecma_vÆue_t
 *
	mªgi°îs_p
;

48 
ecma_vÆue_t
 *
	m°ack_t›_p
;

49 
jmem_˝oöãr_t
 *
	mlôîÆ_°¨t_p
;

50 
ecma_obje˘_t
 *
	mÀx_ív_p
;

51 
vm_‰ame_˘x_t
 *
	m¥ev_c⁄ãxt_p
;

52 
ecma_vÆue_t
 
	mthis_bödög
;

53 
ecma_vÆue_t
 
	mˇŒ_block_ªsu…
;

54 
uöt16_t
 
	mc⁄ãxt_dïth
;

55 
uöt8_t
 
	mis_evÆ_code
;

56 
uöt8_t
 
	mˇŒ_›î©i⁄
;

57 } 
	tvm_‰ame_˘x_t
;

	@deps/jerry/jerry-core/vm/vm-stack.c

16 
	~"ecma-Æloc.h
"

17 
	~"ecma-gc.h
"

18 
	~"ecma-hñ≥rs.h
"

19 
	~"vm-deföes.h
"

20 
	~"vm-°ack.h
"

34 
ecma_vÆue_t
 *

35 
	$vm_°ack_c⁄ãxt_ab‹t
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
,

36 
ecma_vÆue_t
 *
vm_°ack_t›_p
)

38 
	`VM_GET_CONTEXT_TYPE
 (
vm_°ack_t›_p
[-1]))

40 
VM_CONTEXT_FINALLY_THROW
:

41 
VM_CONTEXT_FINALLY_RETURN
:

43 
	`ecma_‰ì_vÆue
 (
vm_°ack_t›_p
[-2]);

45 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

46 
vm_°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

49 
VM_CONTEXT_FINALLY_JUMP
:

50 
VM_CONTEXT_TRY
:

52 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

53 
vm_°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

56 
VM_CONTEXT_CATCH
:

57 
VM_CONTEXT_WITH
:

59 
	`ecma_dîef_obje˘
 (
‰ame_˘x_p
->
Àx_ív_p
);

60 
‰ame_˘x_p
->
Àx_ív_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vm_°ack_t›_p
[-2]);

62 
	`JERRY_ASSERT
 (
PARSER_TRY_CONTEXT_STACK_ALLOCATION
 =
PARSER_WITH_CONTEXT_STACK_ALLOCATION
);

64 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

65 
vm_°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

68 
VM_CONTEXT_FOR_IN
:

70 
jmem_˝oöãr_t
 
cuºít
 = (jmem_˝oöãr_tË
vm_°ack_t›_p
[-2];

72 
cuºít
 !
JMEM_CP_NULL
)

74 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_collection_chunk_t,

75 
cuºít
);

77 
lô_utf8_byã_t
 *
d©a_±r
 = 
chunk_p
->
d©a
;

78 
	`ecma_‰ì_vÆue
 (*(
ecma_vÆue_t
 *Ë
d©a_±r
);

80 
cuºít
 = 
chunk_p
->
√xt_chunk_˝
;

81 
	`ecma_dóŒoc_cﬁÀ˘i⁄_chunk
 (
chunk_p
);

84 
	`ecma_‰ì_vÆue
 (
vm_°ack_t›_p
[-3]);

86 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
);

87 
vm_°ack_t›_p
 -
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
;

92 
	`JERRY_UNREACHABLE
 ();

97  
vm_°ack_t›_p
;

98 
	}
}

105 
uöt32_t


106 
	$vm_decode_bønch_off£t
 (
uöt8_t
 *
bønch_off£t_p
,

107 
uöt32_t
 
Àngth
)

109 
uöt32_t
 
bønch_off£t
 = *
bønch_off£t_p
;

111 
	`JERRY_ASSERT
 (
Àngth
 >= 1 &&Üength <= 3);

113 
Àngth
)

117 
bønch_off£t
 <<= 8;

118 
bønch_off£t
 |*(++
bønch_off£t_p
);

123 
bønch_off£t
 <<= 8;

124 
bønch_off£t
 |*(++
bønch_off£t_p
);

129  
bønch_off£t
;

130 
	}
}

138 
boﬁ


139 
	$vm_°ack_föd_föÆly
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
,

140 
ecma_vÆue_t
 **
vm_°ack_t›_ªf_p
,

141 
vm_°ack_c⁄ãxt_ty≥_t
 
föÆly_ty≥
,

142 
uöt32_t
 
£¨ch_limô
)

144 
ecma_vÆue_t
 *
vm_°ack_t›_p
 = *
vm_°ack_t›_ªf_p
;

146 
	`JERRY_ASSERT
 (
föÆly_ty≥
 <
VM_CONTEXT_FINALLY_RETURN
);

148 i‡(
föÆly_ty≥
 !
VM_CONTEXT_FINALLY_JUMP
)

150 
£¨ch_limô
 = 0xffffffffu;

153 
‰ame_˘x_p
->
c⁄ãxt_dïth
 > 0)

155 
vm_°ack_c⁄ãxt_ty≥_t
 
c⁄ãxt_ty≥
;

156 
uöt32_t
 
c⁄ãxt_íd
 = 
	`VM_GET_CONTEXT_END
 (
vm_°ack_t›_p
[-1]);

158 i‡(
£¨ch_limô
 < 
c⁄ãxt_íd
)

160 *
vm_°ack_t›_ªf_p
 = 
vm_°ack_t›_p
;

161  
Ál£
;

164 
c⁄ãxt_ty≥
 = 
	`VM_GET_CONTEXT_TYPE
 (
vm_°ack_t›_p
[-1]);

165 i‡(
c⁄ãxt_ty≥
 =
VM_CONTEXT_TRY
 || c⁄ãxt_ty≥ =
VM_CONTEXT_CATCH
)

167 
uöt8_t
 *
byã_code_p
;

168 
uöt32_t
 
bønch_off£t_Àngth
;

169 
uöt32_t
 
bønch_off£t
;

171 i‡(
£¨ch_limô
 =
c⁄ãxt_íd
)

173 *
vm_°ack_t›_ªf_p
 = 
vm_°ack_t›_p
;

174  
Ál£
;

177 
byã_code_p
 = 
‰ame_˘x_p
->
byã_code_°¨t_p
 + 
c⁄ãxt_íd
;

179 i‡(
c⁄ãxt_ty≥
 =
VM_CONTEXT_TRY
)

181 
	`JERRY_ASSERT
 (
byã_code_p
[0] =
CBC_EXT_OPCODE
);

183 i‡(
byã_code_p
[1] >
CBC_EXT_CATCH


184 && 
byã_code_p
[1] <
CBC_EXT_CATCH_3
)

186 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
byã_code_p
[1]);

187 
bønch_off£t
 = 
	`vm_decode_bønch_off£t
 (
byã_code_p
 + 2,

188 
bønch_off£t_Àngth
);

190 i‡(
föÆly_ty≥
 =
VM_CONTEXT_FINALLY_THROW
)

192 
bønch_off£t
 +(
uöt32_t
Ë(
byã_code_p
 - 
‰ame_˘x_p
->
byã_code_°¨t_p
);

194 
vm_°ack_t›_p
[-1] = 
	`VM_CREATE_CONTEXT
 (
VM_CONTEXT_CATCH
, 
bønch_off£t
);

196 
byã_code_p
 +2 + 
bønch_off£t_Àngth
;

197 
‰ame_˘x_p
->
byã_code_p
 = byte_code_p;

199 *
vm_°ack_t›_ªf_p
 = 
vm_°ack_t›_p
;

200  
åue
;

203 
byã_code_p
 +
bønch_off£t
;

205 i‡(*
byã_code_p
 =
CBC_CONTEXT_END
)

207 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

208 
vm_°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

215 
	`ecma_dîef_obje˘
 (
‰ame_˘x_p
->
Àx_ív_p
);

216 
‰ame_˘x_p
->
Àx_ív_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
vm_°ack_t›_p
[-2]);

218 i‡(
byã_code_p
[0] =
CBC_CONTEXT_END
)

220 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

221 
vm_°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

226 
	`JERRY_ASSERT
 (
byã_code_p
[0] =
CBC_EXT_OPCODE
);

227 
	`JERRY_ASSERT
 (
byã_code_p
[1] >
CBC_EXT_FINALLY


228 && 
byã_code_p
[1] <
CBC_EXT_FINALLY_3
);

230 
bønch_off£t_Àngth
 = 
	`CBC_BRANCH_OFFSET_LENGTH
 (
byã_code_p
[1]);

231 
bønch_off£t
 = 
	`vm_decode_bønch_off£t
 (
byã_code_p
 + 2,

232 
bønch_off£t_Àngth
);

234 
bønch_off£t
 +(
uöt32_t
Ë(
byã_code_p
 - 
‰ame_˘x_p
->
byã_code_°¨t_p
);

236 
vm_°ack_t›_p
[-1] = 
	`VM_CREATE_CONTEXT
 ((
uöt32_t
Ë
föÆly_ty≥
, 
bønch_off£t
);

238 
byã_code_p
 +2 + 
bønch_off£t_Àngth
;

239 
‰ame_˘x_p
->
byã_code_p
 = byte_code_p;

241 *
vm_°ack_t›_ªf_p
 = 
vm_°ack_t›_p
;

242  
åue
;

245 
vm_°ack_t›_p
 = 
	`vm_°ack_c⁄ãxt_ab‹t
 (
‰ame_˘x_p
, vm_stack_top_p);

248 *
vm_°ack_t›_ªf_p
 = 
vm_°ack_t›_p
;

249  
Ál£
;

250 
	}
}

	@deps/jerry/jerry-core/vm/vm-stack.h

16 #i‚de‡
VM_STACK_H


17 
	#VM_STACK_H


	)

19 
	~"ecma-globÆs.h
"

31 
	#VM_STACK_FRAME_INLINED_VALUES_NUMBER
 
CONFIG_VM_STACK_FRAME_INLINED_VALUES_NUMBER


	)

38 
uöt16_t
 
	m¥ev_chunk_p
;

39 } 
	tvm_°ack_chunk_hódî_t
;

44 
	svm_°ack_‰ame_t


46 
vm_°ack_‰ame_t
 *
	m¥ev_‰ame_p
;

47 
uöt32_t
 
	mªgs_numbî
;

48 } 
	tvm_°ack_‰ame_t
;

50 
	#VM_CREATE_CONTEXT
(
ty≥
, 
íd_off£t
Ë((
ecma_vÆue_t
Ë(—y≥Ë| (íd_off£tË<< 4))

	)

51 
	#VM_GET_CONTEXT_TYPE
(
vÆue
Ë((
vm_°ack_c⁄ãxt_ty≥_t
Ë((vÆueË& 0xf))

	)

52 
	#VM_GET_CONTEXT_END
(
vÆue
Ë((vÆueË>> 4)

	)

59 
	mVM_CONTEXT_FINALLY_JUMP
,

60 
	mVM_CONTEXT_FINALLY_THROW
,

61 
	mVM_CONTEXT_FINALLY_RETURN
,

62 
	mVM_CONTEXT_TRY
,

63 
	mVM_CONTEXT_CATCH
,

64 
	mVM_CONTEXT_WITH
,

65 
	mVM_CONTEXT_FOR_IN
,

66 } 
	tvm_°ack_c⁄ãxt_ty≥_t
;

68 
ecma_vÆue_t
 *
vm_°ack_c⁄ãxt_ab‹t
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
,Écma_vÆue_à*
vm_°ack_t›_p
);

69 
boﬁ
 
vm_°ack_föd_föÆly
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
, 
ecma_vÆue_t
 **
vm_°ack_t›_ªf_p
,

70 
vm_°ack_c⁄ãxt_ty≥_t
 
föÆly_ty≥
, 
uöt32_t
 
£¨ch_limô
);

	@deps/jerry/jerry-core/vm/vm.c

16 
	~"comm⁄.h
"

18 
	~"ecma-Æloc.h
"

19 
	~"ecma-¨øy-obje˘.h
"

20 
	~"ecma-buûtös.h
"

21 
	~"ecma-com∑ris⁄.h
"

22 
	~"ecma-c⁄vîsi⁄.h
"

23 
	~"ecma-ex˚±i⁄s.h
"

24 
	~"ecma-fun˘i⁄-obje˘.h
"

25 
	~"ecma-gc.h
"

26 
	~"ecma-hñ≥rs.h
"

27 
	~"ecma-lˇche.h
"

28 
	~"ecma-Àx-ív.h
"

29 
	~"ecma-obje˘s.h
"

30 
	~"ecma-obje˘s-gíîÆ.h
"

31 
	~"ecma-ªgexp-obje˘.h
"

32 
	~"ecma-åy-ˇtch-ma¸o.h
"

33 
	~"jc⁄ãxt.h
"

34 
	~"›codes.h
"

35 
	~"vm.h
"

36 
	~"vm-°ack.h
"

50 
ecma_vÆue_t


51 
	$vm_›_gë_vÆue
 (
ecma_vÆue_t
 
obje˘
,

52 
ecma_vÆue_t
 
¥›îty
)

54 i‡(
	`ecma_is_vÆue_obje˘
 (
obje˘
))

56 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obje˘
);

57 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
NULL
;

58 
ecma_°rög_t
 
uöt32_°rög
;

60 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
¥›îty
))

62 
ecma_öãgî_vÆue_t
 
öt_vÆue
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
¥›îty
);

64 #ifde‡
JERRY_CPOINTER_32_BIT


65 
boﬁ
 
limô_check
 = (
öt_vÆue
 >= 0);

67 
boﬁ
 
limô_check
 = (
öt_vÆue
 >0 && i¡_vÆuê< (
ecma_öãgî_vÆue_t
Ë(
UINT16_MAX
 + 1));

70 i‡(
limô_check
)

73 
	`ecma_öô_ecma_°rög_‰om_uöt32
 (&
uöt32_°rög
, (
uöt32_t
Ë
öt_vÆue
);

74 
¥›îty_«me_p
 = &
uöt32_°rög
;

77 i‡(
	`ecma_is_vÆue_°rög
 (
¥›îty
))

79 
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›îty
);

82 i‡(
¥›îty_«me_p
 !
NULL
)

84 
ecma_¥›îty_t
 *
¥›îty_p
 = 
	`ecma_lˇche_lookup
 (
obje˘_p
, 
¥›îty_«me_p
);

86 i‡(
¥›îty_p
 !
NULL
 &&

87 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë=
ECMA_PROPERTY_TYPE_NAMEDDATA
)

89  
	`ecma_Á°_c›y_vÆue
 (
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
)->
vÆue
);

93  
	`ecma_›_obje˘_gë
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
obje˘
), 
¥›îty_«me_p
);

97 i‡(
	`u∆ikñy
 (
	`ecma_is_vÆue_undeföed
 (
obje˘
Ë|| 
	`ecma_is_vÆue_nuŒ
 (object)))

99 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


100 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ECMA_ERROR_TYPE
,

102 
¥›îty
,

103 
obje˘
);

105 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
NULL
);

107  
îr‹_vÆue
;

110 
ecma_vÆue_t
 
¥›_to_°rög_ªsu…
 = 
	`ecma_›_to_°rög
 (
¥›îty
);

112 i‡(
	`ECMA_IS_VALUE_ERROR
 (
¥›_to_°rög_ªsu…
))

114  
¥›_to_°rög_ªsu…
;

117 
ecma_°rög_t
 *
¥›îty_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›_to_°rög_ªsu…
);

119 
ecma_vÆue_t
 
gë_vÆue_ªsu…
 = 
	`ecma_›_gë_vÆue_obje˘_ba£
 (
obje˘
, 
¥›îty_«me_p
);

121 
	`ecma_dîef_ecma_°rög
 (
¥›îty_«me_p
);

122  
gë_vÆue_ªsu…
;

123 
	}
}

134 
ecma_vÆue_t


135 
	$vm_›_£t_vÆue
 (
ecma_vÆue_t
 
obje˘
,

136 
ecma_vÆue_t
 
¥›îty
,

137 
ecma_vÆue_t
 
vÆue
,

138 
boﬁ
 
is_°ri˘
)

140 i‡(
	`u∆ikñy
 (!
	`ecma_is_vÆue_obje˘
 (
obje˘
)))

142 
ecma_vÆue_t
 
to_obje˘
 = 
	`ecma_›_to_obje˘
 (
obje˘
);

143 
	`ecma_‰ì_vÆue
 (
obje˘
);

145 i‡(
	`ECMA_IS_VALUE_ERROR
 (
to_obje˘
))

147 #ifde‡
JERRY_ENABLE_ERROR_MESSAGES


148 
	`ecma_‰ì_vÆue
 (
to_obje˘
);

150 
ecma_vÆue_t
 
îr‹_vÆue
 = 
	`ecma_øi£_°™d¨d_îr‹_wôh_f‹m©
 (
ECMA_ERROR_TYPE
,

152 
¥›îty
,

153 
obje˘
);

154 
	`ecma_‰ì_vÆue
 (
¥›îty
);

156  
îr‹_vÆue
;

158 
	`ecma_‰ì_vÆue
 (
¥›îty
);

159  
to_obje˘
;

163 
obje˘
 = 
to_obje˘
;

166 i‡(!
	`ecma_is_vÆue_°rög
 (
¥›îty
))

168 
ecma_vÆue_t
 
to_°rög
 = 
	`ecma_›_to_°rög
 (
¥›îty
);

169 
	`ecma_Á°_‰ì_vÆue
 (
¥›îty
);

171 i‡(
	`ECMA_IS_VALUE_ERROR
 (
to_°rög
))

173 
	`ecma_‰ì_vÆue
 (
obje˘
);

174  
to_°rög
;

177 
¥›îty
 = 
to_°rög
;

180 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
obje˘
);

181 
ecma_°rög_t
 *
¥›îty_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
¥›îty
);

182 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

184 i‡(!
	`ecma_is_Àxiˇl_ívú⁄mít
 (
obje˘_p
))

186 
com∂ëi⁄_vÆue
 = 
	`ecma_›_obje˘_put
 (
obje˘_p
,

187 
¥›îty_p
,

188 
vÆue
,

189 
is_°ri˘
);

193 
com∂ëi⁄_vÆue
 = 
	`ecma_›_£t_muèbÀ_bödög
 (
obje˘_p
,

194 
¥›îty_p
,

195 
vÆue
,

196 
is_°ri˘
);

199 
	`ecma_‰ì_vÆue
 (
obje˘
);

200 
	`ecma_‰ì_vÆue
 (
¥›îty
);

202  
com∂ëi⁄_vÆue
;

203 
	}
}

205 
	#CBC_OPCODE
(
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
Ë¨g4,

	)

210 c⁄° 
uöt16_t
 
	gvm_decode_èbÀ
[] 
	gJERRY_CONST_DATA
 =

212 
CBC_OPCODE_LIST


213 
CBC_EXT_OPCODE_LIST


216 #unde‡
CBC_OPCODE


226 
ecma_vÆue_t


227 
	$vm_run_globÆ
 (c⁄° 
ecma_compûed_code_t
 *
byãcode_p
)

229 
ecma_obje˘_t
 *
glob_obj_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_GLOBAL
);

231 
ecma_vÆue_t
 
ªt_vÆue
 = 
	`vm_run
 (
byãcode_p
,

232 
	`ecma_make_obje˘_vÆue
 (
glob_obj_p
),

233 
	`ecma_gë_globÆ_ívú⁄mít
 (),

234 
Ál£
,

235 
NULL
,

238 
	`ecma_dîef_obje˘
 (
glob_obj_p
);

239  
ªt_vÆue
;

240 
	}
}

247 
ecma_vÆue_t


248 
	$vm_run_evÆ
 (
ecma_compûed_code_t
 *
byãcode_d©a_p
,

249 
boﬁ
 
is_dúe˘
)

251 
ecma_vÆue_t
 
this_bödög
;

252 
ecma_obje˘_t
 *
Àx_ív_p
;

255 i‡(
is_dúe˘
)

257 
this_bödög
 = 
	`ecma_c›y_vÆue
 (
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
)->this_binding);

258 
Àx_ív_p
 = 
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
)->lex_env_p;

262 
this_bödög
 = 
	`ecma_make_obje˘_vÆue
 (
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_GLOBAL
));

263 
Àx_ív_p
 = 
	`ecma_gë_globÆ_ívú⁄mít
 ();

266 
	`ecma_ªf_obje˘
 (
Àx_ív_p
);

268 i‡((
byãcode_d©a_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
) != 0)

270 
ecma_obje˘_t
 *
°ri˘_Àx_ív_p
 = 
	`ecma_¸óã_de˛_Àx_ív
 (
Àx_ív_p
);

271 
	`ecma_dîef_obje˘
 (
Àx_ív_p
);

273 
Àx_ív_p
 = 
°ri˘_Àx_ív_p
;

276 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`vm_run
 (
byãcode_d©a_p
,

277 
this_bödög
,

278 
Àx_ív_p
,

279 
åue
,

280 
NULL
,

283 
	`ecma_dîef_obje˘
 (
Àx_ív_p
);

284 
	`ecma_‰ì_vÆue
 (
this_bödög
);

285 
	`ecma_byãcode_dîef
 (
byãcode_d©a_p
);

287  
com∂ëi⁄_vÆue
;

288 
	}
}

295 
ecma_vÆue_t


296 
	$vm_c⁄°ru˘_lôîÆ_obje˘
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
,

297 
jmem_˝oöãr_t
 
lô_˝
)

299 
ecma_compûed_code_t
 *
byãcode_p
 = 
	`ECMA_GET_NON_NULL_POINTER
 (ecma_compiled_code_t,

300 
lô_˝
);

301 
boﬁ
 
is_fun˘i⁄
 = ((
byãcode_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FUNCTION
) != 0);

303 i‡(
is_fun˘i⁄
)

305 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_›_¸óã_fun˘i⁄_obje˘
 (
‰ame_˘x_p
->
Àx_ív_p
,

306 
byãcode_p
);

308  
	`ecma_make_obje˘_vÆue
 (
func_obj_p
);

312 #i‚de‡
CONFIG_DISABLE_REGEXP_BUILTIN


313 
ecma_vÆue_t
 
ªt_vÆue
;

314 
ªt_vÆue
 = 
	`ecma_›_¸óã_ªgexp_obje˘_‰om_byãcode
 ((
ª_compûed_code_t
 *Ë
byãcode_p
);

316 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªt_vÆue
))

319  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

322  
ªt_vÆue
;

324 
	`JERRY_UNREACHABLE
 ();

327 
	}
}

335 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


336 
	$vm_gë_im∂icô_this_vÆue
 (
ecma_vÆue_t
 *
this_vÆue_p
)

338 i‡(
	`ecma_is_vÆue_obje˘
 (*
this_vÆue_p
))

340 
ecma_obje˘_t
 *
this_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (*
this_vÆue_p
);

342 i‡(
	`ecma_is_Àxiˇl_ívú⁄mít
 (
this_obj_p
))

344 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
 = 
	`ecma_›_im∂icô_this_vÆue
 (
this_obj_p
);

346 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
com∂ëi⁄_vÆue
));

348 *
this_vÆue_p
 = 
com∂ëi⁄_vÆue
;

349  
åue
;

352  
Ál£
;

353 
	}
}

361 
	$›func_ˇŒ
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
)

363 
uöt8_t
 
›code
 = 
‰ame_˘x_p
->
byã_code_p
[0];

364 
uöt32_t
 
¨gumíts_li°_Àn
;

366 i‡(
›code
 >
CBC_CALL0
)

368 
¨gumíts_li°_Àn
 = (Ë((
›code
 - 
CBC_CALL0
) / 6);

372 
¨gumíts_li°_Àn
 = 
‰ame_˘x_p
->
byã_code_p
[1];

375 
boﬁ
 
is_ˇŒ_¥›
 = ((
›code
 - 
CBC_CALL
) % 6) >= 3;

377 
ecma_vÆue_t
 
this_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

378 
ecma_vÆue_t
 *
°ack_t›_p
 = 
‰ame_˘x_p
->°ack_t›_∞- 
¨gumíts_li°_Àn
;

380 i‡(
is_ˇŒ_¥›
)

382 
this_vÆue
 = 
°ack_t›_p
[-3];

384 i‡(
this_vÆue
 =
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_REGISTER_REF
))

387 
°ack_t›_p
[-2] = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

388 
this_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

390 i‡(
	`vm_gë_im∂icô_this_vÆue
 (&
this_vÆue
))

392 
	`ecma_‰ì_vÆue
 (
°ack_t›_p
[-3]);

393 
°ack_t›_p
[-3] = 
this_vÆue
;

397 
ecma_vÆue_t
 
func_vÆue
 = 
°ack_t›_p
[-1];

398 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
;

400 i‡(!
	`ecma_›_is_ˇŒabÀ
 (
func_vÆue
))

402 
com∂ëi⁄_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá function."));

406 
ecma_obje˘_t
 *
func_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
func_vÆue
);

408 
com∂ëi⁄_vÆue
 = 
	`ecma_›_fun˘i⁄_ˇŒ
 (
func_obj_p
,

409 
this_vÆue
,

410 
°ack_t›_p
,

411 
¨gumíts_li°_Àn
);

414 
	`JERRY_CONTEXT
 (
is_dúe˘_evÆ_f‹m_ˇŒ
Ë
Ál£
;

417 
uöt32_t
 
i
 = 0; i < 
¨gumíts_li°_Àn
; i++)

419 
	`ecma_Á°_‰ì_vÆue
 (
°ack_t›_p
[
i
]);

422 i‡(
is_ˇŒ_¥›
)

424 
	`ecma_‰ì_vÆue
 (*(--
°ack_t›_p
));

425 
	`ecma_‰ì_vÆue
 (*(--
°ack_t›_p
));

428 
	`ecma_‰ì_vÆue
 (
°ack_t›_p
[-1]);

429 
°ack_t›_p
[-1] = 
com∂ëi⁄_vÆue
;

431 
‰ame_˘x_p
->
°ack_t›_p
 = stack_top_p;

432 
	}
}

440 
	$›func_c⁄°ru˘
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
)

442 
uöt8_t
 
›code
 = 
‰ame_˘x_p
->
byã_code_p
[0];

443 
¨gumíts_li°_Àn
;

445 i‡(
›code
 >
CBC_NEW0
)

447 
¨gumíts_li°_Àn
 = (Ë(
›code
 - 
CBC_NEW0
);

451 
¨gumíts_li°_Àn
 = 
‰ame_˘x_p
->
byã_code_p
[1];

454 
ecma_vÆue_t
 *
°ack_t›_p
 = 
‰ame_˘x_p
->°ack_t›_∞- 
¨gumíts_li°_Àn
;

455 
ecma_vÆue_t
 
c⁄°ru˘‹_vÆue
 = 
°ack_t›_p
[-1];

456 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
;

458 i‡(!
	`ecma_is_c⁄°ru˘‹
 (
c⁄°ru˘‹_vÆue
))

460 
com∂ëi⁄_vÆue
 = 
	`ecma_øi£_ty≥_îr‹
 (
	`ECMA_ERR_MSG
 ("Expectedá constructor."));

464 
ecma_obje˘_t
 *
c⁄°ru˘‹_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
c⁄°ru˘‹_vÆue
);

466 
com∂ëi⁄_vÆue
 = 
	`ecma_›_fun˘i⁄_c⁄°ru˘
 (
c⁄°ru˘‹_obj_p
,

467 
°ack_t›_p
,

468 
¨gumíts_li°_Àn
);

472 
uöt32_t
 
i
 = 0; i < 
¨gumíts_li°_Àn
; i++)

474 
	`ecma_Á°_‰ì_vÆue
 (
°ack_t›_p
[
i
]);

477 
	`ecma_‰ì_vÆue
 (
°ack_t›_p
[-1]);

478 
°ack_t›_p
[-1] = 
com∂ëi⁄_vÆue
;

480 
‰ame_˘x_p
->
°ack_t›_p
 = stack_top_p;

481 
	}
}

483 
	#READ_LITERAL_INDEX
(
de°ö©i⁄
) \

486 (
de°ö©i⁄
Ë*
byã_code_p
++; \

487 i‡((
de°ö©i⁄
Ë>
ícodög_limô
) \

489 (
de°ö©i⁄
Ë(
uöt16_t
Ë((((de°ö©i⁄Ë<< 8Ë| *
byã_code_p
++Ë- 
ícodög_dñè
); \

492 0)

	)

497 
	#READ_LITERAL
(
lôîÆ_ödex
, 
èrgë_vÆue
) \

500 i‡((
lôîÆ_ödex
Ë< 
idít_íd
) \

502 i‡((
lôîÆ_ödex
Ë< 
ªgi°î_íd
) \

505 (
èrgë_vÆue
Ë
	`ecma_Á°_c›y_vÆue
 (
‰ame_˘x_p
->
ªgi°îs_p
[
lôîÆ_ödex
]); \

509 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t, \

510 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]); \

511 
ªsu…
 = 
	`ecma_›_ªsﬁve_ª„ªn˚_vÆue
 (
‰ame_˘x_p
->
Àx_ív_p
, \

512 
«me_p
); \

514 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
)) \

516 
îr‹
; \

518 (
èrgë_vÆue
Ë
ªsu…
; \

521 i‡(
lôîÆ_ödex
 < 
c⁄°_lôîÆ_íd
) \

523 
ecma_°rög_t
 *
vÆue_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t, \

524 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]); \

526 i‡(
	`u∆ikñy
 (
	`ECMA_STRING_GET_CONTAINER
 (
vÆue_p
Ë=
ECMA_STRING_LITERAL_NUMBER
)) \

528 (
èrgë_vÆue
Ë
	`ecma_Á°_c›y_vÆue
 (
vÆue_p
->
u
.
lô_numbî
); \

532 
	`ecma_ªf_ecma_°rög
 (
vÆue_p
); \

533 (
èrgë_vÆue
Ë
	`ecma_make_°rög_vÆue
 (
vÆue_p
); \

539 (
èrgë_vÆue
Ë
	`vm_c⁄°ru˘_lôîÆ_obje˘
 (
‰ame_˘x_p
, 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]); \

542 0)

	)

550 
	$vm_öô_lo›
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
)

552 c⁄° 
ecma_compûed_code_t
 *
byãcode_hódî_p
 = 
‰ame_˘x_p
->bytecode_header_p;

553 
uöt8_t
 *
byã_code_p
 = 
‰ame_˘x_p
->byte_code_p;

554 
uöt16_t
 
ícodög_limô
;

555 
uöt16_t
 
ícodög_dñè
;

556 
uöt16_t
 
ªgi°î_íd
;

557 
jmem_˝oöãr_t
 *
lôîÆ_°¨t_p
 = 
‰ame_˘x_p
->literal_start_p;

558 
boﬁ
 
is_°ri˘
 = ((
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
) != 0);

559 
jmem_˝oöãr_t
 
£lf_ª„ªn˚
;

560 #ifde‡
PROF_COUNT__COMPRESSION_CALLERS


561 
	`¥ofûe_öc_cou¡_of_a_ty≥
(18);

563 
	`ECMA_SET_NON_NULL_POINTER
 (
£lf_ª„ªn˚
, 
byãcode_hódî_p
);

566 i‡(!(
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FULL_LITERAL_ENCODING
))

568 
ícodög_limô
 = 255;

569 
ícodög_dñè
 = 0xfe01;

573 
ícodög_limô
 = 128;

574 
ícodög_dñè
 = 0x8000;

577 i‡(
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

579 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë(
‰ame_˘x_p
->
byãcode_hódî_p
);

580 
ªgi°î_íd
 = 
¨gs_p
->register_end;

584 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë(
‰ame_˘x_p
->
byãcode_hódî_p
);

585 
ªgi°î_íd
 = 
¨gs_p
->register_end;

588 
åue
)

590 *
byã_code_p
)

592 
CBC_DEFINE_VARS
:

594 
uöt32_t
 
lôîÆ_ödex_íd
;

595 
uöt32_t
 
lôîÆ_ödex
 = 
ªgi°î_íd
;

597 
byã_code_p
++;

598 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex_íd
);

600 
lôîÆ_ödex
 <
lôîÆ_ödex_íd
)

602 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

603 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]);

604 
	`vm_v¨_de˛
 (
‰ame_˘x_p
, 
«me_p
);

605 
lôîÆ_ödex
++;

610 
CBC_INITIALIZE_VAR
:

611 
CBC_INITIALIZE_VARS
:

613 
uöt8_t
 
ty≥
 = *
byã_code_p
;

614 
uöt32_t
 
lôîÆ_ödex
;

615 
uöt32_t
 
lôîÆ_ödex_íd
;

617 
byã_code_p
++;

618 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

620 i‡(
ty≥
 =
CBC_INITIALIZE_VAR
)

622 
lôîÆ_ödex_íd
 = 
lôîÆ_ödex
;

626 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex_íd
);

629 
lôîÆ_ödex
 <
lôîÆ_ödex_íd
)

631 
uöt32_t
 
vÆue_ödex
;

632 
ecma_vÆue_t
 
lô_vÆue
;

634 
	`READ_LITERAL_INDEX
 (
vÆue_ödex
);

636 i‡(
vÆue_ödex
 < 
ªgi°î_íd
)

638 
lô_vÆue
 = 
‰ame_˘x_p
->
ªgi°îs_p
[
vÆue_ödex
];

642 
lô_vÆue
 = 
	`vm_c⁄°ru˘_lôîÆ_obje˘
 (
‰ame_˘x_p
,

643 
lôîÆ_°¨t_p
[
vÆue_ödex
]);

646 i‡(
lôîÆ_ödex
 < 
ªgi°î_íd
)

648 
‰ame_˘x_p
->
ªgi°îs_p
[
lôîÆ_ödex
] = 
lô_vÆue
;

652 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

653 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]);

655 i‡(
£lf_ª„ªn˚
 =
lôîÆ_°¨t_p
[
vÆue_ödex
])

657 
	`ecma_›_¸óã_immuèbÀ_bödög
 (
‰ame_˘x_p
->
Àx_ív_p
, 
«me_p
, 
lô_vÆue
);

661 
	`vm_v¨_de˛
 (
‰ame_˘x_p
, 
«me_p
);

663 
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
 = 
	`ecma_›_ªsﬁve_ª„ªn˚_ba£
 (
‰ame_˘x_p
->
Àx_ív_p
, 
«me_p
);

665 
ecma_vÆue_t
 
put_vÆue_ªsu…
 = 
	`ecma_›_put_vÆue_Àx_ív_ba£
 (
ªf_ba£_Àx_ív_p
,

666 
«me_p
,

667 
is_°ri˘
,

668 
lô_vÆue
);

669 
	`ecma_‰ì_vÆue
 (
put_vÆue_ªsu…
);

672 i‡(
vÆue_ödex
 >
ªgi°î_íd
)

674 
	`ecma_‰ì_vÆue
 (
lô_vÆue
);

678 
lôîÆ_ödex
++;

683 #ifde‡
JERRY_ENABLE_SNAPSHOT_EXEC


684 
CBC_SET_BYTECODE_PTR
:

686 
	`mem˝y
 (&
byã_code_p
, byã_code_∞+ 1,  (
uöt8_t
 *));

687 
‰ame_˘x_p
->
byã_code_°¨t_p
 = 
byã_code_p
;

694 
‰ame_˘x_p
->
byã_code_p
 = byte_code_p;

699 
	}
}

706 
ecma_vÆue_t
 
__©å_noölöe___


707 
	$vm_lo›
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
)

709 c⁄° 
ecma_compûed_code_t
 *
byãcode_hódî_p
 = 
‰ame_˘x_p
->bytecode_header_p;

710 
uöt8_t
 *
byã_code_p
 = 
‰ame_˘x_p
->byte_code_p;

711 
jmem_˝oöãr_t
 *
lôîÆ_°¨t_p
 = 
‰ame_˘x_p
->literal_start_p;

713 
ecma_vÆue_t
 *
°ack_t›_p
;

714 
uöt16_t
 
ícodög_limô
;

715 
uöt16_t
 
ícodög_dñè
;

716 
uöt16_t
 
ªgi°î_íd
;

717 
uöt16_t
 
idít_íd
;

718 
uöt16_t
 
c⁄°_lôîÆ_íd
;

719 
öt32_t
 
bønch_off£t
 = 0;

720 
ecma_vÆue_t
 
À·_vÆue
;

721 
ecma_vÆue_t
 
right_vÆue
;

722 
ecma_vÆue_t
 
ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_EMPTY
);

723 
ecma_vÆue_t
 
block_ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

724 
boﬁ
 
is_°ri˘
 = ((
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
) != 0);

727 i‡(!(
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_FULL_LITERAL_ENCODING
))

729 
ícodög_limô
 = 255;

730 
ícodög_dñè
 = 0xfe01;

734 
ícodög_limô
 = 128;

735 
ícodög_dñè
 = 0x8000;

738 i‡(
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

740 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë(
byãcode_hódî_p
);

741 
ªgi°î_íd
 = 
¨gs_p
->register_end;

742 
idít_íd
 = 
¨gs_p
->ident_end;

743 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

747 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë(
byãcode_hódî_p
);

748 
ªgi°î_íd
 = 
¨gs_p
->register_end;

749 
idít_íd
 = 
¨gs_p
->ident_end;

750 
c⁄°_lôîÆ_íd
 = 
¨gs_p
->const_literal_end;

753 
°ack_t›_p
 = 
‰ame_˘x_p
->stack_top_p;

756 
åue
)

759 
åue
)

761 
uöt8_t
 *
byã_code_°¨t_p
 = 
byã_code_p
;

762 
uöt8_t
 
›code
 = *
byã_code_p
++;

763 
uöt32_t
 
›code_d©a
 = 
›code
;

765 i‡(
›code
 =
CBC_EXT_OPCODE
)

767 
›code
 = *
byã_code_p
++;

768 
›code_d©a
 = (
uöt32_t
Ë((
CBC_END
 + 1Ë+ 
›code
);

771 
›code_d©a
 = 
vm_decode_èbÀ
[opcode_data];

773 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

774 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

776 
uöt32_t
 
›î™ds
 = 
	`VM_OC_GET_ARGS_INDEX
 (
›code_d©a
);

778 i‡(
›î™ds
 >
VM_OC_GET_LITERAL
)

780 
uöt16_t
 
lôîÆ_ödex
;

781 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

782 
	`READ_LITERAL
 (
lôîÆ_ödex
, 
À·_vÆue
);

784 i‡(
›î™ds
 !
VM_OC_GET_LITERAL
)

786 
›î™ds
)

788 
VM_OC_GET_LITERAL_LITERAL
:

790 
uöt16_t
 
£c⁄d_lôîÆ_ödex
;

791 
	`READ_LITERAL_INDEX
 (
£c⁄d_lôîÆ_ödex
);

792 
	`READ_LITERAL
 (
£c⁄d_lôîÆ_ödex
, 
right_vÆue
);

795 
VM_OC_GET_STACK_LITERAL
:

797 
	`JERRY_ASSERT
 (
°ack_t›_p
 > 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
);

798 
right_vÆue
 = 
À·_vÆue
;

799 
À·_vÆue
 = *(--
°ack_t›_p
);

804 
	`JERRY_ASSERT
 (
›î™ds
 =
VM_OC_GET_THIS_LITERAL
);

805 
right_vÆue
 = 
À·_vÆue
;

806 
À·_vÆue
 = 
	`ecma_c›y_vÆue
 (
‰ame_˘x_p
->
this_bödög
);

812 i‡(
›î™ds
 >
VM_OC_GET_STACK
)

814 
	`JERRY_ASSERT
 (
›î™ds
 =
VM_OC_GET_STACK


815 || 
›î™ds
 =
VM_OC_GET_STACK_STACK
);

817 
	`JERRY_ASSERT
 (
°ack_t›_p
 > 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
);

818 
À·_vÆue
 = *(--
°ack_t›_p
);

820 i‡(
›î™ds
 =
VM_OC_GET_STACK_STACK
)

822 
	`JERRY_ASSERT
 (
°ack_t›_p
 > 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
);

823 
right_vÆue
 = 
À·_vÆue
;

824 
À·_vÆue
 = *(--
°ack_t›_p
);

827 i‡(
›î™ds
 =
VM_OC_GET_BRANCH
)

829 
bønch_off£t
 = 0;

831 
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
))

835 
bønch_off£t
 = *(
byã_code_p
++);

840 
bønch_off£t
 = *(
byã_code_p
++);

845 
	`JERRY_ASSERT
 (
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
) == 2

846 || 
	`CBC_BRANCH_OFFSET_LENGTH
 (
›code
) == 3);

848 
bønch_off£t
 <<= 8;

849 
bønch_off£t
 |*(
byã_code_p
++);

850 
bønch_off£t
 <<= 8;

851 
bønch_off£t
 |*(
byã_code_p
++);

856 i‡(
›code_d©a
 & 
VM_OC_BACKWARD_BRANCH
)

858 #ifde‡
JERRY_VM_EXEC_STOP


859 i‡(
	`JERRY_CONTEXT
 (
vm_exec_°›_cb
Ë!
NULL


860 && --
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
) == 0)

862 
ªsu…
 = 
	`JERRY_CONTEXT
 (
vm_exec_°›_cb
Ë(JERRY_CONTEXT (
vm_exec_°›_u£r_p
));

864 i‡(
	`ecma_is_vÆue_undeföed
 (
ªsu…
))

866 
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
ËJERRY_CONTEXT (
vm_exec_°›_‰equícy
);

870 
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
) = 1;

872 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

874 
ªsu…
 = 
	`ecma_make_îr‹_vÆue
 (result);

876 
îr‹
;

881 
bønch_off£t
 = -branch_offset;

885 
	`VM_OC_GROUP_GET_INDEX
 (
›code_d©a
))

887 
VM_OC_NONE
:

889 
	`JERRY_ASSERT
 (
›code
 =
CBC_EXT_DEBUGGER
);

892 
VM_OC_POP
:

894 
	`JERRY_ASSERT
 (
°ack_t›_p
 > 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
);

895 
	`ecma_‰ì_vÆue
 (*(--
°ack_t›_p
));

898 
VM_OC_POP_BLOCK
:

900 
	`ecma_Á°_‰ì_vÆue
 (
block_ªsu…
);

901 
block_ªsu…
 = *(--
°ack_t›_p
);

904 
VM_OC_PUSH
:

906 *
°ack_t›_p
++ = 
À·_vÆue
;

909 
VM_OC_PUSH_TWO
:

911 *
°ack_t›_p
++ = 
À·_vÆue
;

912 *
°ack_t›_p
++ = 
right_vÆue
;

915 
VM_OC_PUSH_THREE
:

917 
uöt16_t
 
lôîÆ_ödex
;

919 *
°ack_t›_p
++ = 
À·_vÆue
;

920 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

922 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

923 
	`READ_LITERAL
 (
lôîÆ_ödex
, 
À·_vÆue
);

925 *
°ack_t›_p
++ = 
right_vÆue
;

926 *
°ack_t›_p
++ = 
À·_vÆue
;

929 
VM_OC_PUSH_UNDEFINED
:

931 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

934 
VM_OC_PUSH_TRUE
:

936 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_TRUE
);

939 
VM_OC_PUSH_FALSE
:

941 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

944 
VM_OC_PUSH_NULL
:

946 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_NULL
);

949 
VM_OC_PUSH_THIS
:

951 *
°ack_t›_p
++ = 
	`ecma_c›y_vÆue
 (
‰ame_˘x_p
->
this_bödög
);

954 
VM_OC_PUSH_NUMBER_0
:

956 *
°ack_t›_p
++ = 
	`ecma_make_öãgî_vÆue
 (0);

959 
VM_OC_PUSH_NUMBER_POS_BYTE
:

961 
ecma_öãgî_vÆue_t
 
numbî
 = *
byã_code_p
++;

962 *
°ack_t›_p
++ = 
	`ecma_make_öãgî_vÆue
 (
numbî
 + 1);

965 
VM_OC_PUSH_NUMBER_NEG_BYTE
:

967 
ecma_öãgî_vÆue_t
 
numbî
 = *
byã_code_p
++;

968 *
°ack_t›_p
++ = 
	`ecma_make_öãgî_vÆue
 (-(
numbî
 + 1));

971 
VM_OC_PUSH_OBJECT
:

973 
ecma_obje˘_t
 *
¥ŸŸy≥_p
 = 
	`ecma_buûtö_gë
 (
ECMA_BUILTIN_ID_OBJECT_PROTOTYPE
);

974 
ecma_obje˘_t
 *
obj_p
 = 
	`ecma_¸óã_obje˘
 (
¥ŸŸy≥_p
,

976 
ECMA_OBJECT_TYPE_GENERAL
);

978 
	`ecma_dîef_obje˘
 (
¥ŸŸy≥_p
);

979 *
°ack_t›_p
++ = 
	`ecma_make_obje˘_vÆue
 (
obj_p
);

982 
VM_OC_SET_PROPERTY
:

984 
ecma_obje˘_t
 *
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
°ack_t›_p
[-1]);

985 
ecma_°rög_t
 *
¥›_«me_p
;

986 
ecma_¥›îty_t
 *
¥›îty_p
;

988 i‡(
	`ecma_is_vÆue_°rög
 (
right_vÆue
))

990 
¥›_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
right_vÆue
);

994 
ªsu…
 = 
	`ecma_›_to_°rög
 (
right_vÆue
);

996 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

998 
îr‹
;

1001 
¥›_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (
ªsu…
);

1004 
¥›îty_p
 = 
	`ecma_föd_«med_¥›îty
 (
obje˘_p
, 
¥›_«me_p
);

1006 i‡(
¥›îty_p
 !
NULL


1007 && 
	`ECMA_PROPERTY_GET_TYPE
 (*
¥›îty_p
Ë!
ECMA_PROPERTY_TYPE_NAMEDDATA
)

1009 
	`ecma_dñëe_¥›îty
 (
obje˘_p
, 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
));

1010 
¥›îty_p
 = 
NULL
;

1013 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
;

1015 i‡(
¥›îty_p
 =
NULL
)

1017 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
obje˘_p
,

1018 
¥›_«me_p
,

1019 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
,

1020 
NULL
);

1024 
¥›_vÆue_p
 = 
	`ECMA_PROPERTY_VALUE_PTR
 (
¥›îty_p
);

1027 
	`ecma_«med_d©a_¥›îty_assign_vÆue
 (
obje˘_p
, 
¥›_vÆue_p
, 
À·_vÆue
);

1029 i‡(!
	`ecma_is_vÆue_°rög
 (
right_vÆue
))

1031 
	`ecma_dîef_ecma_°rög
 (
¥›_«me_p
);

1034 
‰ì_bŸh_vÆues
;

1036 
VM_OC_SET_GETTER
:

1037 
VM_OC_SET_SETTER
:

1039 
	`›func_£t_ac˚ss‹
 (
	`VM_OC_GROUP_GET_INDEX
 (
›code_d©a
Ë=
VM_OC_SET_GETTER
 ? 
åue
 : 
Ál£
,

1040 
°ack_t›_p
[-1],

1041 
À·_vÆue
,

1042 
right_vÆue
);

1044 
‰ì_bŸh_vÆues
;

1046 
VM_OC_PUSH_ARRAY
:

1048 
ªsu…
 = 
	`ecma_›_¸óã_¨øy_obje˘
 (
NULL
, 0, 
Ál£
);

1050 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1052 
îr‹
;

1055 *
°ack_t›_p
++ = 
ªsu…
;

1058 
VM_OC_PUSH_ELISON
:

1060 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_ARRAY_HOLE
);

1063 
VM_OC_APPEND_ARRAY
:

1065 
ecma_obje˘_t
 *
¨øy_obj_p
;

1066 
uöt32_t
 
Àngth_num
;

1067 
uöt32_t
 
vÆues_Àngth
 = *
byã_code_p
++;

1069 
°ack_t›_p
 -
vÆues_Àngth
;

1071 
¨øy_obj_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
°ack_t›_p
[-1]);

1072 
ecma_exãnded_obje˘_t
 *
ext_¨øy_obj_p
 = (ecma_exãnded_obje˘_à*Ë
¨øy_obj_p
;

1074 
Àngth_num
 = 
ext_¨øy_obj_p
->
u
.
¨øy
.
Àngth
;

1076 
uöt32_t
 
i
 = 0; i < 
vÆues_Àngth
; i++)

1078 i‡(!
	`ecma_is_vÆue_¨øy_hﬁe
 (
°ack_t›_p
[
i
]))

1080 
ecma_°rög_t
 *
ödex_°r_p
 = 
	`ecma_√w_ecma_°rög_‰om_uöt32
 (
Àngth_num
);

1082 
ecma_¥›îty_vÆue_t
 *
¥›_vÆue_p
;

1083 
¥›_vÆue_p
 = 
	`ecma_¸óã_«med_d©a_¥›îty
 (
¨øy_obj_p
,

1084 
ödex_°r_p
,

1085 
ECMA_PROPERTY_CONFIGURABLE_ENUMERABLE_WRITABLE
,

1086 
NULL
);

1088 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_undeföed
 (
¥›_vÆue_p
->
vÆue
));

1089 
¥›_vÆue_p
->
vÆue
 = 
°ack_t›_p
[
i
];

1092 i‡(
	`ecma_is_vÆue_obje˘
 (
°ack_t›_p
[
i
]))

1094 
	`ecma_‰ì_vÆue
 (
°ack_t›_p
[
i
]);

1097 
	`ecma_dîef_ecma_°rög
 (
ödex_°r_p
);

1100 
Àngth_num
++;

1103 
ext_¨øy_obj_p
->
u
.
¨øy
.
Àngth
 = 
Àngth_num
;

1106 
VM_OC_PUSH_UNDEFINED_BASE
:

1108 
°ack_t›_p
[0] = stack_top_p[-1];

1109 
°ack_t›_p
[-1] = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1110 
°ack_t›_p
++;

1113 
VM_OC_IDENT_REFERENCE
:

1115 
uöt16_t
 
lôîÆ_ödex
;

1117 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

1119 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 < 
idít_íd
);

1121 i‡(
lôîÆ_ödex
 < 
ªgi°î_íd
)

1123 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_REGISTER_REF
);

1124 *
°ack_t›_p
++ = 
lôîÆ_ödex
;

1125 *
°ack_t›_p
++ = 
	`ecma_Á°_c›y_vÆue
 (
‰ame_˘x_p
->
ªgi°îs_p
[
lôîÆ_ödex
]);

1129 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

1130 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]);

1131 
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
;

1133 
ªf_ba£_Àx_ív_p
 = 
	`ecma_›_ªsﬁve_ª„ªn˚_ba£
 (
‰ame_˘x_p
->
Àx_ív_p
,

1134 
«me_p
);

1136 
ªsu…
 = 
	`ecma_›_gë_vÆue_Àx_ív_ba£
 (
ªf_ba£_Àx_ív_p
,

1137 
«me_p
,

1138 
is_°ri˘
);

1140 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1142 
îr‹
;

1145 
	`ecma_ªf_obje˘
 (
ªf_ba£_Àx_ív_p
);

1146 
	`ecma_ªf_ecma_°rög
 (
«me_p
);

1147 *
°ack_t›_p
++ = 
	`ecma_make_obje˘_vÆue
 (
ªf_ba£_Àx_ív_p
);

1148 *
°ack_t›_p
++ = 
	`ecma_make_°rög_vÆue
 (
«me_p
);

1149 *
°ack_t›_p
++ = 
ªsu…
;

1153 
VM_OC_PROP_REFERENCE
:

1157 i‡(
›code
 =
CBC_PUSH_PROP_REFERENCE
)

1159 
À·_vÆue
 = 
°ack_t›_p
[-2];

1160 
right_vÆue
 = 
°ack_t›_p
[-1];

1162 i‡(
›code
 =
CBC_PUSH_PROP_LITERAL_REFERENCE
)

1164 *
°ack_t›_p
++ = 
À·_vÆue
;

1165 
right_vÆue
 = 
À·_vÆue
;

1166 
À·_vÆue
 = 
°ack_t›_p
[-2];

1170 
	`JERRY_ASSERT
 (
›code
 =
CBC_PUSH_PROP_LITERAL_LITERAL_REFERENCE


1171 || 
›code
 =
CBC_PUSH_PROP_THIS_LITERAL_REFERENCE
);

1172 *
°ack_t›_p
++ = 
À·_vÆue
;

1173 *
°ack_t›_p
++ = 
right_vÆue
;

1177 
VM_OC_PROP_GET
:

1178 
VM_OC_PROP_PRE_INCR
:

1179 
VM_OC_PROP_PRE_DECR
:

1180 
VM_OC_PROP_POST_INCR
:

1181 
VM_OC_PROP_POST_DECR
:

1183 
ªsu…
 = 
	`vm_›_gë_vÆue
 (
À·_vÆue
,

1184 
right_vÆue
);

1186 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1188 i‡(
›code
 >
CBC_PUSH_PROP_REFERENCE
 && opcodê< 
CBC_PRE_INCR
)

1190 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1191 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1193 
îr‹
;

1196 i‡(
›code
 < 
CBC_PRE_INCR
)

1198 i‡(
›code
 >
CBC_PUSH_PROP_REFERENCE
)

1200 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1201 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1206 
°ack_t›_p
 += 2;

1207 
À·_vÆue
 = 
ªsu…
;

1208 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1211 
VM_OC_PRE_INCR
:

1212 
VM_OC_PRE_DECR
:

1213 
VM_OC_POST_INCR
:

1214 
VM_OC_POST_DECR
:

1216 
uöt32_t
 
›code_Êags
 = 
	`VM_OC_GROUP_GET_INDEX
 (
›code_d©a
Ë- 
VM_OC_PROP_PRE_INCR
;

1218 
byã_code_p
 = 
byã_code_°¨t_p
 + 1;

1220 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
À·_vÆue
))

1222 
ªsu…
 = 
À·_vÆue
;

1223 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1225 
ecma_öãgî_vÆue_t
 
öt_vÆue
 = (ecma_öãgî_vÆue_tË
ªsu…
;

1226 
ecma_öãgî_vÆue_t
 
öt_ö¸ó£
 = 0;

1228 i‡(
›code_Êags
 & 
VM_OC_DECREMENT_OPERATOR_FLAG
)

1230 i‡(
öt_vÆue
 > 
ECMA_INTEGER_NUMBER_MIN_SHIFTED
)

1232 
öt_ö¸ó£
 = -(1 << 
ECMA_DIRECT_SHIFT
);

1235 i‡(
öt_vÆue
 < 
ECMA_INTEGER_NUMBER_MAX_SHIFTED
)

1237 
öt_ö¸ó£
 = 1 << 
ECMA_DIRECT_SHIFT
;

1240 i‡(
	`likñy
 (
öt_ö¸ó£
 != 0))

1243 i‡(
›code_Êags
 & 
VM_OC_POST_INCR_DECR_OPERATOR_FLAG
)

1245 i‡(
›code_d©a
 & 
VM_OC_PUT_STACK
)

1247 i‡(
›code_Êags
 & 
VM_OC_IDENT_INCR_DECR_OPERATOR_FLAG
)

1249 
	`JERRY_ASSERT
 (
›code
 =
CBC_POST_INCR_IDENT_PUSH_RESULT


1250 || 
›code
 =
CBC_POST_DECR_IDENT_PUSH_RESULT
);

1252 *
°ack_t›_p
++ = 
ªsu…
;

1259 
	`JERRY_ASSERT
 (
›code
 =
CBC_POST_INCR_PUSH_RESULT


1260 || 
›code
 =
CBC_POST_DECR_PUSH_RESULT
);

1262 
°ack_t›_p
++;

1263 
°ack_t›_p
[-1] = stack_top_p[-2];

1264 
°ack_t›_p
[-2] = stack_top_p[-3];

1265 
°ack_t›_p
[-3] = 
ªsu…
;

1267 
›code_d©a
 &(
uöt32_t
)~
VM_OC_PUT_STACK
;

1269 i‡(
›code_d©a
 & 
VM_OC_PUT_BLOCK
)

1271 
	`ecma_‰ì_vÆue
 (
block_ªsu…
);

1272 
block_ªsu…
 = 
ªsu…
;

1273 
›code_d©a
 &(
uöt32_t
Ë~
VM_OC_PUT_BLOCK
;

1277 
ªsu…
 = (
ecma_vÆue_t
Ë(
öt_vÆue
 + 
öt_ö¸ó£
);

1281 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
À·_vÆue
))

1283 
ªsu…
 = 
À·_vÆue
;

1284 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1288 
ªsu…
 = 
	`ecma_›_to_numbî
 (
À·_vÆue
);

1290 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1292 
îr‹
;

1296 
ecma_numbî_t
 
ö¸ó£
 = 
ECMA_NUMBER_ONE
;

1297 
ecma_numbî_t
 
ªsu…_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
ªsu…
);

1299 i‡(
›code_Êags
 & 
VM_OC_DECREMENT_OPERATOR_FLAG
)

1302 
ö¸ó£
 = 
ECMA_NUMBER_MINUS_ONE
;

1306 i‡(
›code_Êags
 & 
VM_OC_POST_INCR_DECR_OPERATOR_FLAG
)

1308 i‡(
›code_d©a
 & 
VM_OC_PUT_STACK
)

1310 i‡(
›code_Êags
 & 
VM_OC_IDENT_INCR_DECR_OPERATOR_FLAG
)

1312 
	`JERRY_ASSERT
 (
›code
 =
CBC_POST_INCR_IDENT_PUSH_RESULT


1313 || 
›code
 =
CBC_POST_DECR_IDENT_PUSH_RESULT
);

1315 *
°ack_t›_p
++ = 
	`ecma_c›y_vÆue
 (
ªsu…
);

1322 
	`JERRY_ASSERT
 (
›code
 =
CBC_POST_INCR_PUSH_RESULT


1323 || 
›code
 =
CBC_POST_DECR_PUSH_RESULT
);

1325 
°ack_t›_p
++;

1326 
°ack_t›_p
[-1] = stack_top_p[-2];

1327 
°ack_t›_p
[-2] = stack_top_p[-3];

1328 
°ack_t›_p
[-3] = 
	`ecma_c›y_vÆue
 (
ªsu…
);

1330 
›code_d©a
 &(
uöt32_t
)~
VM_OC_PUT_STACK
;

1332 i‡(
›code_d©a
 & 
VM_OC_PUT_BLOCK
)

1334 
	`ecma_‰ì_vÆue
 (
block_ªsu…
);

1335 
block_ªsu…
 = 
	`ecma_c›y_vÆue
 (
ªsu…
);

1336 
›code_d©a
 &(
uöt32_t
Ë~
VM_OC_PUT_BLOCK
;

1340 i‡(
	`ecma_is_vÆue_öãgî_numbî
 (
ªsu…
))

1342 
ªsu…
 = 
	`ecma_make_numbî_vÆue
 (
ªsu…_numbî
 + 
ö¸ó£
);

1346 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (ªsu…, 
ªsu…_numbî
 + 
ö¸ó£
);

1350 
VM_OC_ASSIGN
:

1352 
ªsu…
 = 
À·_vÆue
;

1353 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1356 
VM_OC_ASSIGN_PROP
:

1358 
ªsu…
 = 
°ack_t›_p
[-1];

1359 
°ack_t›_p
[-1] = 
À·_vÆue
;

1360 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1363 
VM_OC_ASSIGN_PROP_THIS
:

1365 
ªsu…
 = 
°ack_t›_p
[-1];

1366 
°ack_t›_p
[-1] = 
	`ecma_c›y_vÆue
 (
‰ame_˘x_p
->
this_bödög
);

1367 *
°ack_t›_p
++ = 
À·_vÆue
;

1368 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1371 
VM_OC_RET
:

1373 
	`JERRY_ASSERT
 (
›code
 =
CBC_RETURN


1374 || 
›code
 =
CBC_RETURN_WITH_BLOCK


1375 || 
›code
 =
CBC_RETURN_WITH_LITERAL
);

1377 i‡(
›code
 =
CBC_RETURN_WITH_BLOCK
)

1379 
À·_vÆue
 = 
block_ªsu…
;

1380 
block_ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1383 
ªsu…
 = 
À·_vÆue
;

1384 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1385 
îr‹
;

1387 
VM_OC_THROW
:

1389 
ªsu…
 = 
	`ecma_make_îr‹_vÆue
 (
À·_vÆue
);

1390 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1391 
îr‹
;

1393 
VM_OC_THROW_REFERENCE_ERROR
:

1395 
ªsu…
 = 
	`ecma_øi£_ª„ªn˚_îr‹
 (
	`ECMA_ERR_MSG
 ("UndefinedÑeference."));

1396 
îr‹
;

1398 
VM_OC_EVAL
:

1400 
	`JERRY_CONTEXT
 (
is_dúe˘_evÆ_f‹m_ˇŒ
Ë
åue
;

1401 
	`JERRY_ASSERT
 (*
byã_code_p
 >
CBC_CALL
 && *byã_code_∞<
CBC_CALL2_PROP_BLOCK
);

1404 
VM_OC_CALL
:

1406 i‡(
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 =
VM_NO_EXEC_OP
)

1408 
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 = 
VM_EXEC_CALL
;

1409 
‰ame_˘x_p
->
byã_code_p
 = 
byã_code_°¨t_p
;

1410 
‰ame_˘x_p
->
°ack_t›_p
 = stack_top_p;

1411 
‰ame_˘x_p
->
ˇŒ_block_ªsu…
 = 
block_ªsu…
;

1412  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1415 i‡(
›code
 < 
CBC_CALL0
)

1417 
byã_code_p
++;

1420 
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 = 
VM_NO_EXEC_OP
;

1422 
ªsu…
 = *(--
°ack_t›_p
);

1423 
block_ªsu…
 = 
‰ame_˘x_p
->
ˇŒ_block_ªsu…
;

1425 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1427 
îr‹
;

1430 i‡(!(
›code_d©a
 & (
VM_OC_PUT_STACK
 | 
VM_OC_PUT_BLOCK
)))

1432 
	`ecma_Á°_‰ì_vÆue
 (
ªsu…
);

1434 i‡(
›code_d©a
 & 
VM_OC_PUT_STACK
)

1436 *
°ack_t›_p
++ = 
ªsu…
;

1440 
	`ecma_Á°_‰ì_vÆue
 (
block_ªsu…
);

1441 
block_ªsu…
 = 
ªsu…
;

1445 
VM_OC_NEW
:

1447 i‡(
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 =
VM_NO_EXEC_OP
)

1449 
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 = 
VM_EXEC_CONSTRUCT
;

1450 
‰ame_˘x_p
->
byã_code_p
 = 
byã_code_°¨t_p
;

1451 
‰ame_˘x_p
->
°ack_t›_p
 = stack_top_p;

1452 
‰ame_˘x_p
->
ˇŒ_block_ªsu…
 = 
block_ªsu…
;

1453  
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1456 i‡(
›code
 < 
CBC_NEW0
)

1458 
byã_code_p
++;

1461 
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 = 
VM_NO_EXEC_OP
;

1463 
ªsu…
 = *(--
°ack_t›_p
);

1464 
block_ªsu…
 = 
‰ame_˘x_p
->
ˇŒ_block_ªsu…
;

1466 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1468 
îr‹
;

1471 *
°ack_t›_p
++ = 
ªsu…
;

1474 
VM_OC_PROP_DELETE
:

1476 
ªsu…
 = 
	`vm_›_dñëe_¥›
 (
À·_vÆue
, 
right_vÆue
, 
is_°ri˘
);

1478 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1480 
îr‹
;

1483 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªsu…
));

1485 *
°ack_t›_p
++ = 
ªsu…
;

1486 
‰ì_bŸh_vÆues
;

1488 
VM_OC_DELETE
:

1490 
uöt16_t
 
lôîÆ_ödex
;

1492 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

1494 i‡(
lôîÆ_ödex
 < 
ªgi°î_íd
)

1496 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_FALSE
);

1500 
ªsu…
 = 
	`vm_›_dñëe_v¨
 (
lôîÆ_°¨t_p
[
lôîÆ_ödex
],

1501 
‰ame_˘x_p
->
Àx_ív_p
);

1503 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1505 
îr‹
;

1508 
	`JERRY_ASSERT
 (
	`ecma_is_vÆue_boﬁón
 (
ªsu…
));

1510 *
°ack_t›_p
++ = 
ªsu…
;

1513 
VM_OC_JUMP
:

1515 
byã_code_p
 = 
byã_code_°¨t_p
 + 
bønch_off£t
;

1518 
VM_OC_BRANCH_IF_STRICT_EQUAL
:

1520 
ecma_vÆue_t
 
vÆue
 = *(--
°ack_t›_p
);

1522 
	`JERRY_ASSERT
 (
°ack_t›_p
 > 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
);

1524 i‡(
	`ecma_›_°ri˘_equÆôy_com∑ª
 (
vÆue
, 
°ack_t›_p
[-1]))

1526 
byã_code_p
 = 
byã_code_°¨t_p
 + 
bønch_off£t
;

1527 
	`ecma_‰ì_vÆue
 (*--
°ack_t›_p
);

1529 
	`ecma_‰ì_vÆue
 (
vÆue
);

1532 
VM_OC_BRANCH_IF_TRUE
:

1533 
VM_OC_BRANCH_IF_FALSE
:

1534 
VM_OC_BRANCH_IF_LOGICAL_TRUE
:

1535 
VM_OC_BRANCH_IF_LOGICAL_FALSE
:

1537 
uöt32_t
 
›code_Êags
 = 
	`VM_OC_GROUP_GET_INDEX
 (
›code_d©a
Ë- 
VM_OC_BRANCH_IF_TRUE
;

1538 
ecma_vÆue_t
 
vÆue
 = *(--
°ack_t›_p
);

1540 
boﬁ
 
boﬁón_vÆue
 = 
	`ecma_›_to_boﬁón
 (
vÆue
);

1542 i‡(
›code_Êags
 & 
VM_OC_BRANCH_IF_FALSE_FLAG
)

1544 
boﬁón_vÆue
 = !boolean_value;

1547 i‡(
boﬁón_vÆue
)

1549 
byã_code_p
 = 
byã_code_°¨t_p
 + 
bønch_off£t
;

1550 i‡(
›code_Êags
 & 
VM_OC_LOGICAL_BRANCH_FLAG
)

1553 ++
°ack_t›_p
;

1558 
	`ecma_Á°_‰ì_vÆue
 (
vÆue
);

1561 
VM_OC_PLUS
:

1563 
ªsu…
 = 
	`›func_u«ry_∂us
 (
À·_vÆue
);

1565 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1567 
îr‹
;

1570 *
°ack_t›_p
++ = 
ªsu…
;

1571 
‰ì_À·_vÆue
;

1573 
VM_OC_MINUS
:

1575 
ªsu…
 = 
	`›func_u«ry_möus
 (
À·_vÆue
);

1577 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1579 
îr‹
;

1582 *
°ack_t›_p
++ = 
ªsu…
;

1583 
‰ì_À·_vÆue
;

1585 
VM_OC_NOT
:

1587 
ªsu…
 = 
	`›func_logiˇl_nŸ
 (
À·_vÆue
);

1589 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1591 
îr‹
;

1594 *
°ack_t›_p
++ = 
ªsu…
;

1595 
‰ì_À·_vÆue
;

1597 
VM_OC_BIT_NOT
:

1599 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_NOT
,

1600 
À·_vÆue
,

1601 
À·_vÆue
);

1603 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1605 
îr‹
;

1608 *
°ack_t›_p
++ = 
ªsu…
;

1609 
‰ì_À·_vÆue
;

1611 
VM_OC_VOID
:

1613 *
°ack_t›_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1614 
‰ì_À·_vÆue
;

1616 
VM_OC_TYPEOF_IDENT
:

1618 
uöt16_t
 
lôîÆ_ödex
;

1620 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

1622 
	`JERRY_ASSERT
 (
lôîÆ_ödex
 < 
idít_íd
);

1624 i‡(
lôîÆ_ödex
 < 
ªgi°î_íd
)

1626 
À·_vÆue
 = 
	`ecma_c›y_vÆue
 (
‰ame_˘x_p
->
ªgi°îs_p
[
lôîÆ_ödex
]);

1630 
ecma_°rög_t
 *
«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

1631 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]);

1633 
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
 = 
	`ecma_›_ªsﬁve_ª„ªn˚_ba£
 (
‰ame_˘x_p
->
Àx_ív_p
,

1634 
«me_p
);

1636 i‡(
ªf_ba£_Àx_ív_p
 =
NULL
)

1638 
ªsu…
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1642 
ªsu…
 = 
	`ecma_›_gë_vÆue_Àx_ív_ba£
 (
ªf_ba£_Àx_ív_p
,

1643 
«me_p
,

1644 
is_°ri˘
);

1648 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1650 
îr‹
;

1653 
À·_vÆue
 = 
ªsu…
;

1657 
VM_OC_TYPEOF
:

1659 
ªsu…
 = 
	`›func_ty≥of
 (
À·_vÆue
);

1661 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1663 
îr‹
;

1666 *
°ack_t›_p
++ = 
ªsu…
;

1667 
‰ì_À·_vÆue
;

1669 
VM_OC_ADD
:

1671 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

1673 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

1674 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

1675 
ªsu…
 = 
	`ecma_make_öt32_vÆue
 ((
öt32_t
Ë(
À·_öãgî
 + 
right_öãgî
));

1679 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
À·_vÆue
)

1680 && 
	`ecma_is_vÆue_numbî
 (
right_vÆue
))

1682 
ecma_numbî_t
 
√w_vÆue
 = 
	`ecma_numbî_add
 (
	`ecma_gë_Êﬂt_‰om_vÆue
 (
À·_vÆue
),

1683 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
));

1685 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (
À·_vÆue
, 
√w_vÆue
);

1686 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1690 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
right_vÆue
)

1691 && 
	`ecma_is_vÆue_öãgî_numbî
 (
À·_vÆue
))

1693 
ecma_numbî_t
 
√w_vÆue
 = 
	`ecma_numbî_add
 (”cma_numbî_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
),

1694 
	`ecma_gë_Êﬂt_‰om_vÆue
 (
right_vÆue
));

1696 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (
right_vÆue
, 
√w_vÆue
);

1697 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1701 
ªsu…
 = 
	`›func_addôi⁄
 (
À·_vÆue
, 
right_vÆue
);

1703 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1705 
îr‹
;

1709 
VM_OC_SUB
:

1711 
	`JERRY_STATIC_ASSERT
 (
ECMA_INTEGER_NUMBER_MAX
 * 2 <
INT32_MAX


1712 && 
ECMA_INTEGER_NUMBER_MIN
 * 2 >
INT32_MIN
,

1713 
doubÀd_ecma_numbîs_mu°_fô_öto_öt32_ønge
);

1715 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

1716 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

1718 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

1720 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

1721 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

1722 
ªsu…
 = 
	`ecma_make_öt32_vÆue
 ((
öt32_t
Ë(
À·_öãgî
 - 
right_öãgî
));

1726 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
À·_vÆue
)

1727 && 
	`ecma_is_vÆue_numbî
 (
right_vÆue
))

1729 
ecma_numbî_t
 
√w_vÆue
 = 
	`ecma_numbî_sub°ø˘
 (
	`ecma_gë_Êﬂt_‰om_vÆue
 (
À·_vÆue
),

1730 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
));

1732 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (
À·_vÆue
, 
√w_vÆue
);

1733 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1737 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
right_vÆue
)

1738 && 
	`ecma_is_vÆue_öãgî_numbî
 (
À·_vÆue
))

1740 
ecma_numbî_t
 
√w_vÆue
 = 
	`ecma_numbî_sub°ø˘
 (”cma_numbî_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
),

1741 
	`ecma_gë_Êﬂt_‰om_vÆue
 (
right_vÆue
));

1743 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (
right_vÆue
, 
√w_vÆue
);

1744 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1748 
ªsu…
 = 
	`do_numbî_¨ôhmëic
 (
NUMBER_ARITHMETIC_SUBSTRACTION
,

1749 
À·_vÆue
,

1750 
right_vÆue
);

1752 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1754 
îr‹
;

1758 
VM_OC_MUL
:

1760 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

1761 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

1763 
	`JERRY_STATIC_ASSERT
 (
ECMA_INTEGER_MULTIPLY_MAX
 * ECMA_INTEGER_MULTIPLY_MAX <
ECMA_INTEGER_NUMBER_MAX


1764 && -(
ECMA_INTEGER_MULTIPLY_MAX
 * ECMA_INTEGER_MULTIPLY_MAXË>
ECMA_INTEGER_NUMBER_MIN
,

1765 
squ¨e_of_öãgî_mu…ùly_max_mu°_fô_öto_öãgî_vÆue_ønge
);

1767 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

1769 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

1770 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

1772 i‡(-
ECMA_INTEGER_MULTIPLY_MAX
 <
À·_öãgî


1773 && 
À·_öãgî
 <
ECMA_INTEGER_MULTIPLY_MAX


1774 && -
ECMA_INTEGER_MULTIPLY_MAX
 <
right_öãgî


1775 && 
right_öãgî
 <
ECMA_INTEGER_MULTIPLY_MAX


1776 && 
À·_vÆue
 != 0

1777 && 
right_vÆue
 != 0)

1779 
ªsu…
 = 
	`ecma_make_öãgî_vÆue
 (
À·_öãgî
 * 
right_öãgî
);

1783 
ecma_numbî_t
 
mu…ùly
 = 
	`ecma_numbî_mu…ùly
 (”cma_numbî_tË
À·_öãgî
,

1784 (
ecma_numbî_t
Ë
right_öãgî
);

1785 
ªsu…
 = 
	`ecma_make_numbî_vÆue
 (
mu…ùly
);

1789 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
À·_vÆue
)

1790 && 
	`ecma_is_vÆue_numbî
 (
right_vÆue
))

1792 
ecma_numbî_t
 
√w_vÆue
 = 
	`ecma_numbî_mu…ùly
 (
	`ecma_gë_Êﬂt_‰om_vÆue
 (
À·_vÆue
),

1793 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
));

1795 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (
À·_vÆue
, 
√w_vÆue
);

1796 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1800 i‡(
	`ecma_is_vÆue_Êﬂt_numbî
 (
right_vÆue
)

1801 && 
	`ecma_is_vÆue_öãgî_numbî
 (
À·_vÆue
))

1803 
ecma_numbî_t
 
√w_vÆue
 = 
	`ecma_numbî_mu…ùly
 (”cma_numbî_tË
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
),

1804 
	`ecma_gë_Êﬂt_‰om_vÆue
 (
right_vÆue
));

1806 
ªsu…
 = 
	`ecma_upd©e_Êﬂt_numbî
 (
right_vÆue
, 
√w_vÆue
);

1807 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

1811 
ªsu…
 = 
	`do_numbî_¨ôhmëic
 (
NUMBER_ARITHMETIC_MULTIPLICATION
,

1812 
À·_vÆue
,

1813 
right_vÆue
);

1815 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1817 
îr‹
;

1821 
VM_OC_DIV
:

1823 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

1824 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

1826 
ªsu…
 = 
	`do_numbî_¨ôhmëic
 (
NUMBER_ARITHMETIC_DIVISION
,

1827 
À·_vÆue
,

1828 
right_vÆue
);

1830 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1832 
îr‹
;

1836 
VM_OC_MOD
:

1838 
	`JERRY_ASSERT
 (!
	`ECMA_IS_VALUE_ERROR
 (
À·_vÆue
)

1839 && !
	`ECMA_IS_VALUE_ERROR
 (
right_vÆue
));

1841 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

1843 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
À·_vÆue
);

1844 
ecma_öãgî_vÆue_t
 
right_öãgî
 = 
	`ecma_gë_öãgî_‰om_vÆue
 (
right_vÆue
);

1846 i‡(
right_öãgî
 != 0)

1848 
ecma_öãgî_vÆue_t
 
mod_ªsu…
 = 
À·_öãgî
 % 
right_öãgî
;

1850 i‡(
mod_ªsu…
 !0 || 
À·_öãgî
 >= 0)

1852 
ªsu…
 = 
	`ecma_make_öãgî_vÆue
 (
mod_ªsu…
);

1858 
ªsu…
 = 
	`do_numbî_¨ôhmëic
 (
NUMBER_ARITHMETIC_REMAINDER
,

1859 
À·_vÆue
,

1860 
right_vÆue
);

1862 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1864 
îr‹
;

1868 
VM_OC_EQUAL
:

1870 
ªsu…
 = 
	`›func_equÆ_vÆue
 (
À·_vÆue
, 
right_vÆue
);

1872 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1874 
îr‹
;

1877 *
°ack_t›_p
++ = 
ªsu…
;

1878 
‰ì_bŸh_vÆues
;

1880 
VM_OC_NOT_EQUAL
:

1882 
ªsu…
 = 
	`›func_nŸ_equÆ_vÆue
 (
À·_vÆue
, 
right_vÆue
);

1884 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1886 
îr‹
;

1889 *
°ack_t›_p
++ = 
ªsu…
;

1890 
‰ì_bŸh_vÆues
;

1892 
VM_OC_STRICT_EQUAL
:

1894 
boﬁ
 
is_equÆ
 = 
	`ecma_›_°ri˘_equÆôy_com∑ª
 (
À·_vÆue
, 
right_vÆue
);

1896 
ªsu…
 = 
	`ecma_make_boﬁón_vÆue
 (
is_equÆ
);

1898 *
°ack_t›_p
++ = 
ªsu…
;

1899 
‰ì_bŸh_vÆues
;

1901 
VM_OC_STRICT_NOT_EQUAL
:

1903 
boﬁ
 
is_equÆ
 = 
	`ecma_›_°ri˘_equÆôy_com∑ª
 (
À·_vÆue
, 
right_vÆue
);

1905 
ªsu…
 = 
	`ecma_make_boﬁón_vÆue
 (!
is_equÆ
);

1907 *
°ack_t›_p
++ = 
ªsu…
;

1908 
‰ì_bŸh_vÆues
;

1910 
VM_OC_BIT_OR
:

1912 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_LOGIC_OR
,

1913 
À·_vÆue
,

1914 
right_vÆue
);

1916 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1918 
îr‹
;

1922 
VM_OC_BIT_XOR
:

1924 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_LOGIC_XOR
,

1925 
À·_vÆue
,

1926 
right_vÆue
);

1928 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1930 
îr‹
;

1934 
VM_OC_BIT_AND
:

1936 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_LOGIC_AND
,

1937 
À·_vÆue
,

1938 
right_vÆue
);

1940 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1942 
îr‹
;

1946 
VM_OC_LEFT_SHIFT
:

1948 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_SHIFT_LEFT
,

1949 
À·_vÆue
,

1950 
right_vÆue
);

1952 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1954 
îr‹
;

1958 
VM_OC_RIGHT_SHIFT
:

1960 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_SHIFT_RIGHT
,

1961 
À·_vÆue
,

1962 
right_vÆue
);

1964 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1966 
îr‹
;

1970 
VM_OC_UNS_RIGHT_SHIFT
:

1972 
ªsu…
 = 
	`do_numbî_bôwi£_logic
 (
NUMBER_BITWISE_SHIFT_URIGHT
,

1973 
À·_vÆue
,

1974 
right_vÆue
);

1976 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

1978 
îr‹
;

1982 
VM_OC_LESS
:

1984 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

1986 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = (ecma_öãgî_vÆue_tË
À·_vÆue
;

1987 
ecma_öãgî_vÆue_t
 
right_öãgî
 = (ecma_öãgî_vÆue_tË
right_vÆue
;

1989 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_öãgî
 < 
right_öãgî
);

1993 i‡(
	`ecma_is_vÆue_numbî
 (
À·_vÆue
Ë&&Écma_is_vÆue_numbî (
right_vÆue
))

1995 
ecma_numbî_t
 
À·_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
À·_vÆue
);

1996 
ecma_numbî_t
 
right_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
);

1998 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_numbî
 < 
right_numbî
);

1999 
‰ì_bŸh_vÆues
;

2002 
ªsu…
 = 
	`›func_Àss_th™
 (
À·_vÆue
, 
right_vÆue
);

2004 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2006 
îr‹
;

2009 *
°ack_t›_p
++ = 
ªsu…
;

2010 
‰ì_bŸh_vÆues
;

2012 
VM_OC_GREATER
:

2014 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

2016 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = (ecma_öãgî_vÆue_tË
À·_vÆue
;

2017 
ecma_öãgî_vÆue_t
 
right_öãgî
 = (ecma_öãgî_vÆue_tË
right_vÆue
;

2019 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_öãgî
 > 
right_öãgî
);

2023 i‡(
	`ecma_is_vÆue_numbî
 (
À·_vÆue
Ë&&Écma_is_vÆue_numbî (
right_vÆue
))

2025 
ecma_numbî_t
 
À·_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
À·_vÆue
);

2026 
ecma_numbî_t
 
right_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
);

2028 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_numbî
 > 
right_numbî
);

2029 
‰ì_bŸh_vÆues
;

2032 
ªsu…
 = 
	`›func_gª©î_th™
 (
À·_vÆue
, 
right_vÆue
);

2034 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2036 
îr‹
;

2039 *
°ack_t›_p
++ = 
ªsu…
;

2040 
‰ì_bŸh_vÆues
;

2042 
VM_OC_LESS_EQUAL
:

2044 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

2046 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = (ecma_öãgî_vÆue_tË
À·_vÆue
;

2047 
ecma_öãgî_vÆue_t
 
right_öãgî
 = (ecma_öãgî_vÆue_tË
right_vÆue
;

2049 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_öãgî
 <
right_öãgî
);

2053 i‡(
	`ecma_is_vÆue_numbî
 (
À·_vÆue
Ë&&Écma_is_vÆue_numbî (
right_vÆue
))

2055 
ecma_numbî_t
 
À·_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
À·_vÆue
);

2056 
ecma_numbî_t
 
right_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
);

2058 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_numbî
 <
right_numbî
);

2059 
‰ì_bŸh_vÆues
;

2062 
ªsu…
 = 
	`›func_Àss_‹_equÆ_th™
 (
À·_vÆue
, 
right_vÆue
);

2064 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2066 
îr‹
;

2069 *
°ack_t›_p
++ = 
ªsu…
;

2070 
‰ì_bŸh_vÆues
;

2072 
VM_OC_GREATER_EQUAL
:

2074 i‡(
	`ecma_¨e_vÆues_öãgî_numbîs
 (
À·_vÆue
, 
right_vÆue
))

2076 
ecma_öãgî_vÆue_t
 
À·_öãgî
 = (ecma_öãgî_vÆue_tË
À·_vÆue
;

2077 
ecma_öãgî_vÆue_t
 
right_öãgî
 = (ecma_öãgî_vÆue_tË
right_vÆue
;

2079 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_öãgî
 >
right_öãgî
);

2083 i‡(
	`ecma_is_vÆue_numbî
 (
À·_vÆue
Ë&&Écma_is_vÆue_numbî (
right_vÆue
))

2085 
ecma_numbî_t
 
À·_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
À·_vÆue
);

2086 
ecma_numbî_t
 
right_numbî
 = 
	`ecma_gë_numbî_‰om_vÆue
 (
right_vÆue
);

2088 *
°ack_t›_p
++ = 
	`ecma_make_boﬁón_vÆue
 (
À·_numbî
 >
right_numbî
);

2089 
‰ì_bŸh_vÆues
;

2092 
ªsu…
 = 
	`›func_gª©î_‹_equÆ_th™
 (
À·_vÆue
, 
right_vÆue
);

2094 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2096 
îr‹
;

2099 *
°ack_t›_p
++ = 
ªsu…
;

2100 
‰ì_bŸh_vÆues
;

2102 
VM_OC_IN
:

2104 
ªsu…
 = 
	`›func_ö
 (
À·_vÆue
, 
right_vÆue
);

2106 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2108 
îr‹
;

2111 *
°ack_t›_p
++ = 
ªsu…
;

2112 
‰ì_bŸh_vÆues
;

2114 
VM_OC_INSTANCEOF
:

2116 
ªsu…
 = 
	`›func_ö°™˚of
 (
À·_vÆue
, 
right_vÆue
);

2118 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2120 
îr‹
;

2123 *
°ack_t›_p
++ = 
ªsu…
;

2124 
‰ì_bŸh_vÆues
;

2126 
VM_OC_WITH
:

2128 
ecma_vÆue_t
 
vÆue
 = *(--
°ack_t›_p
);

2129 
ecma_obje˘_t
 *
obje˘_p
;

2130 
ecma_obje˘_t
 *
wôh_ív_p
;

2132 
bønch_off£t
 +(
öt32_t
Ë(
byã_code_°¨t_p
 - 
‰ame_˘x_p
->byte_code_start_p);

2134 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2136 
ªsu…
 = 
	`ecma_›_to_obje˘
 (
vÆue
);

2137 
	`ecma_‰ì_vÆue
 (
vÆue
);

2139 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2141 
îr‹
;

2144 
obje˘_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
ªsu…
);

2146 
wôh_ív_p
 = 
	`ecma_¸óã_obje˘_Àx_ív
 (
‰ame_˘x_p
->
Àx_ív_p
,

2147 
obje˘_p
,

2148 
åue
);

2150 
	`ecma_dîef_obje˘
 (
obje˘_p
);

2152 
	`VM_PLUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_WITH_CONTEXT_STACK_ALLOCATION
);

2153 
°ack_t›_p
 +
PARSER_WITH_CONTEXT_STACK_ALLOCATION
;

2155 
°ack_t›_p
[-1] = 
	`VM_CREATE_CONTEXT
 (
VM_CONTEXT_WITH
, 
bønch_off£t
);

2156 
°ack_t›_p
[-2] = 
	`ecma_make_obje˘_vÆue
 (
‰ame_˘x_p
->
Àx_ív_p
);

2158 
‰ame_˘x_p
->
Àx_ív_p
 = 
wôh_ív_p
;

2161 
VM_OC_FOR_IN_CREATE_CONTEXT
:

2163 
ecma_vÆue_t
 
vÆue
 = *(--
°ack_t›_p
);

2165 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2167 
ecma_vÆue_t
 
ex¥_obj_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2168 
ecma_cﬁÀ˘i⁄_hódî_t
 *
hódî_p
 = 
	`›func_f‹_ö
 (
vÆue
, &
ex¥_obj_vÆue
);

2169 
	`ecma_‰ì_vÆue
 (
vÆue
);

2171 i‡(
hódî_p
 =
NULL
)

2173 
byã_code_p
 = 
byã_code_°¨t_p
 + 
bønch_off£t
;

2177 
bønch_off£t
 +(
öt32_t
Ë(
byã_code_°¨t_p
 - 
‰ame_˘x_p
->byte_code_start_p);

2179 
	`VM_PLUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
);

2180 
°ack_t›_p
 +
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
;

2181 
°ack_t›_p
[-1] = (
ecma_vÆue_t
Ë
	`VM_CREATE_CONTEXT
 (
VM_CONTEXT_FOR_IN
, 
bønch_off£t
);

2182 
°ack_t›_p
[-2] = 
hódî_p
->
fú°_chunk_˝
;

2183 
°ack_t›_p
[-3] = 
ex¥_obj_vÆue
;

2185 
	`ecma_dóŒoc_cﬁÀ˘i⁄_hódî
 (
hódî_p
);

2188 
VM_OC_FOR_IN_GET_NEXT
:

2190 
ecma_vÆue_t
 *
c⁄ãxt_t›_p
 = 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
;

2191 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_cﬁÀ˘i⁄_chunk_t, 
c⁄ãxt_t›_p
[-2]);

2193 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
c⁄ãxt_t›_p
[-1]Ë=
VM_CONTEXT_FOR_IN
);

2195 
lô_utf8_byã_t
 *
d©a_±r
 = 
chunk_p
->
d©a
;

2196 
ªsu…
 = *(
ecma_vÆue_t
 *Ë
d©a_±r
;

2197 
c⁄ãxt_t›_p
[-2] = 
chunk_p
->
√xt_chunk_˝
;

2199 
	`ecma_dóŒoc_cﬁÀ˘i⁄_chunk
 (
chunk_p
);

2201 *
°ack_t›_p
++ = 
ªsu…
;

2204 
VM_OC_FOR_IN_HAS_NEXT
:

2206 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2208 
åue
)

2210 i‡(
°ack_t›_p
[-2] =
JMEM_CP_NULL
)

2212 
	`ecma_‰ì_vÆue
 (
°ack_t›_p
[-3]);

2214 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
);

2215 
°ack_t›_p
 -
PARSER_FOR_IN_CONTEXT_STACK_ALLOCATION
;

2219 
ecma_cﬁÀ˘i⁄_chunk_t
 *
chunk_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_cﬁÀ˘i⁄_chunk_t, 
°ack_t›_p
[-2]);

2221 
lô_utf8_byã_t
 *
d©a_±r
 = 
chunk_p
->
d©a
;

2222 
ecma_°rög_t
 *
¥›_«me_p
 = 
	`ecma_gë_°rög_‰om_vÆue
 (*(
ecma_vÆue_t
 *Ë
d©a_±r
);

2224 i‡(!
	`ecma_›_obje˘_has_¥›îty
 (
	`ecma_gë_obje˘_‰om_vÆue
 (
°ack_t›_p
[-3]),

2225 
¥›_«me_p
))

2227 
°ack_t›_p
[-2] = 
chunk_p
->
√xt_chunk_˝
;

2228 
	`ecma_dîef_ecma_°rög
 (
¥›_«me_p
);

2229 
	`ecma_dóŒoc_cﬁÀ˘i⁄_chunk
 (
chunk_p
);

2233 
byã_code_p
 = 
byã_code_°¨t_p
 + 
bønch_off£t
;

2240 
VM_OC_TRY
:

2243 
bønch_off£t
 +(
öt32_t
Ë(
byã_code_°¨t_p
 - 
‰ame_˘x_p
->byte_code_start_p);

2245 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2247 
	`VM_PLUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
, 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

2248 
°ack_t›_p
 +
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

2250 
°ack_t›_p
[-1] = (
ecma_vÆue_t
Ë
	`VM_CREATE_CONTEXT
 (
VM_CONTEXT_TRY
, 
bønch_off£t
);

2253 
VM_OC_CATCH
:

2256 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2257 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_TRY
);

2259 
byã_code_p
 = 
byã_code_°¨t_p
 + 
bønch_off£t
;

2262 
VM_OC_FINALLY
:

2264 
bønch_off£t
 +(
öt32_t
Ë(
byã_code_°¨t_p
 - 
‰ame_˘x_p
->byte_code_start_p);

2266 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2268 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_TRY


2269 || 
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_CATCH
);

2271 i‡(
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_CATCH
)

2273 
	`ecma_dîef_obje˘
 (
‰ame_˘x_p
->
Àx_ív_p
);

2274 
‰ame_˘x_p
->
Àx_ív_p
 = 
	`ecma_gë_obje˘_‰om_vÆue
 (
°ack_t›_p
[-2]);

2277 
°ack_t›_p
[-1] = (
ecma_vÆue_t
Ë
	`VM_CREATE_CONTEXT
 (
VM_CONTEXT_FINALLY_JUMP
, 
bønch_off£t
);

2278 
°ack_t›_p
[-2] = (
ecma_vÆue_t
Ë
bønch_off£t
;

2281 
VM_OC_CONTEXT_END
:

2283 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2285 
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]))

2287 
VM_CONTEXT_FINALLY_JUMP
:

2289 
uöt32_t
 
jump_èrgë
 = 
°ack_t›_p
[-2];

2291 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
,

2292 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

2293 
°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

2295 i‡(
	`vm_°ack_föd_föÆly
 (
‰ame_˘x_p
,

2296 &
°ack_t›_p
,

2297 
VM_CONTEXT_FINALLY_JUMP
,

2298 
jump_èrgë
))

2300 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_FINALLY_JUMP
);

2301 
byã_code_p
 = 
‰ame_˘x_p
->byte_code_p;

2302 
°ack_t›_p
[-2] = 
jump_èrgë
;

2306 
byã_code_p
 = 
‰ame_˘x_p
->
byã_code_°¨t_p
 + 
jump_èrgë
;

2310 
VM_CONTEXT_FINALLY_THROW
:

2312 
ªsu…
 = 
°ack_t›_p
[-2];

2314 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
,

2315 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

2316 
°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

2317 
îr‹
;

2319 
VM_CONTEXT_FINALLY_RETURN
:

2321 
ªsu…
 = 
°ack_t›_p
[-2];

2323 
	`VM_MINUS_EQUAL_U16
 (
‰ame_˘x_p
->
c⁄ãxt_dïth
,

2324 
PARSER_TRY_CONTEXT_STACK_ALLOCATION
);

2325 
°ack_t›_p
 -
PARSER_TRY_CONTEXT_STACK_ALLOCATION
;

2326 
îr‹
;

2330 
°ack_t›_p
 = 
	`vm_°ack_c⁄ãxt_ab‹t
 (
‰ame_˘x_p
, stack_top_p);

2334 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2337 
VM_OC_JUMP_AND_EXIT_CONTEXT
:

2339 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2341 
bønch_off£t
 +(
öt32_t
Ë(
byã_code_°¨t_p
 - 
‰ame_˘x_p
->byte_code_start_p);

2343 i‡(
	`vm_°ack_föd_föÆly
 (
‰ame_˘x_p
,

2344 &
°ack_t›_p
,

2345 
VM_CONTEXT_FINALLY_JUMP
,

2346 (
uöt32_t
Ë
bønch_off£t
))

2348 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_FINALLY_JUMP
);

2349 
byã_code_p
 = 
‰ame_˘x_p
->byte_code_p;

2350 
°ack_t›_p
[-2] = (
uöt32_t
Ë
bønch_off£t
;

2354 
byã_code_p
 = 
‰ame_˘x_p
->
byã_code_°¨t_p
 + 
bønch_off£t
;

2357 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2360 
VM_OC_BREAKPOINT_ENABLED
:

2362 #ifde‡
JERRY_DEBUGGER


2363 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_VM_IGNORE
)

2368 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

2370 
	`JERRY_ASSERT
 (!(
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_DEBUGGER_IGNORE
));

2372 
‰ame_˘x_p
->
byã_code_p
 = 
byã_code_°¨t_p
;

2374 
	`jîry_debuggî_bªakpoöt_hô
 (
JERRY_DEBUGGER_BREAKPOINT_HIT
);

2378 
VM_OC_BREAKPOINT_DISABLED
:

2380 #ifde‡
JERRY_DEBUGGER


2381 i‡(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_VM_IGNORE
)

2386 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
);

2388 
	`JERRY_ASSERT
 (!(
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_DEBUGGER_IGNORE
));

2390 
‰ame_˘x_p
->
byã_code_p
 = 
byã_code_°¨t_p
;

2392 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_VM_STOP
)

2393 && (
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë=
NULL


2394 || 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë=JERRY_CONTEXT (
vm_t›_c⁄ãxt_p
)))

2396 
	`jîry_debuggî_bªakpoöt_hô
 (
JERRY_DEBUGGER_BREAKPOINT_HIT
);

2400 i‡(
	`JERRY_CONTEXT
 (
debuggî_mesßge_dñay
) > 0)

2402 
	`JERRY_CONTEXT
 (
debuggî_mesßge_dñay
)--;

2406 
	`JERRY_CONTEXT
 (
debuggî_mesßge_dñay
Ë
JERRY_DEBUGGER_MESSAGE_FREQUENCY
;

2408 i‡(
	`jîry_debuggî_ª˚ive
 (
NULL
))

2413 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_VM_STOP
)

2414 && (
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë=
NULL


2415 || 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë=JERRY_CONTEXT (
vm_t›_c⁄ãxt_p
)))

2417 
	`jîry_debuggî_bªakpoöt_hô
 (
JERRY_DEBUGGER_BREAKPOINT_HIT
);

2424 
	`JERRY_UNREACHABLE
 ();

2429 
	`JERRY_ASSERT
 (
	`VM_OC_HAS_PUT_RESULT
 (
›code_d©a
));

2431 i‡(
›code_d©a
 & 
VM_OC_PUT_IDENT
)

2433 
uöt16_t
 
lôîÆ_ödex
;

2435 
	`READ_LITERAL_INDEX
 (
lôîÆ_ödex
);

2437 i‡(
lôîÆ_ödex
 < 
ªgi°î_íd
)

2439 
	`ecma_Á°_‰ì_vÆue
 (
‰ame_˘x_p
->
ªgi°îs_p
[
lôîÆ_ödex
]);

2441 
‰ame_˘x_p
->
ªgi°îs_p
[
lôîÆ_ödex
] = 
ªsu…
;

2443 i‡(
›code_d©a
 & (
VM_OC_PUT_STACK
 | 
VM_OC_PUT_BLOCK
))

2445 
ªsu…
 = 
	`ecma_Á°_c›y_vÆue
 (result);

2450 
ecma_°rög_t
 *
v¨_«me_°r_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (ecma_string_t,

2451 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]);

2452 
ecma_obje˘_t
 *
ªf_ba£_Àx_ív_p
 = 
	`ecma_›_ªsﬁve_ª„ªn˚_ba£
 (
‰ame_˘x_p
->
Àx_ív_p
,

2453 
v¨_«me_°r_p
);

2455 
ecma_vÆue_t
 
put_vÆue_ªsu…
 = 
	`ecma_›_put_vÆue_Àx_ív_ba£
 (
ªf_ba£_Àx_ív_p
,

2456 
v¨_«me_°r_p
,

2457 
is_°ri˘
,

2458 
ªsu…
);

2460 i‡(
	`ECMA_IS_VALUE_ERROR
 (
put_vÆue_ªsu…
))

2462 
	`ecma_‰ì_vÆue
 (
ªsu…
);

2463 
ªsu…
 = 
put_vÆue_ªsu…
;

2464 
îr‹
;

2467 i‡(!(
›code_d©a
 & (
VM_OC_PUT_STACK
 | 
VM_OC_PUT_BLOCK
)))

2469 
	`ecma_Á°_‰ì_vÆue
 (
ªsu…
);

2473 i‡(
›code_d©a
 & 
VM_OC_PUT_REFERENCE
)

2475 
ecma_vÆue_t
 
¥›îty
 = *(--
°ack_t›_p
);

2476 
ecma_vÆue_t
 
obje˘
 = *(--
°ack_t›_p
);

2478 i‡(
obje˘
 =
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_REGISTER_REF
))

2480 
	`ecma_Á°_‰ì_vÆue
 (
‰ame_˘x_p
->
ªgi°îs_p
[
¥›îty
]);

2482 
‰ame_˘x_p
->
ªgi°îs_p
[
¥›îty
] = 
ªsu…
;

2484 i‡(!(
›code_d©a
 & (
VM_OC_PUT_STACK
 | 
VM_OC_PUT_BLOCK
)))

2486 
‰ì_bŸh_vÆues
;

2488 
ªsu…
 = 
	`ecma_Á°_c›y_vÆue
 (result);

2492 
ecma_vÆue_t
 
£t_vÆue_ªsu…
 = 
	`vm_›_£t_vÆue
 (
obje˘
,

2493 
¥›îty
,

2494 
ªsu…
,

2495 
is_°ri˘
);

2497 i‡(
	`ECMA_IS_VALUE_ERROR
 (
£t_vÆue_ªsu…
))

2499 
	`ecma_‰ì_vÆue
 (
ªsu…
);

2500 
ªsu…
 = 
£t_vÆue_ªsu…
;

2501 
îr‹
;

2504 i‡(!(
›code_d©a
 & (
VM_OC_PUT_STACK
 | 
VM_OC_PUT_BLOCK
)))

2506 
	`ecma_Á°_‰ì_vÆue
 (
ªsu…
);

2507 
‰ì_bŸh_vÆues
;

2512 i‡(
›code_d©a
 & 
VM_OC_PUT_STACK
)

2514 *
°ack_t›_p
++ = 
ªsu…
;

2516 i‡(
›code_d©a
 & 
VM_OC_PUT_BLOCK
)

2518 
	`ecma_Á°_‰ì_vÆue
 (
block_ªsu…
);

2519 
block_ªsu…
 = 
ªsu…
;

2522 
‰ì_bŸh_vÆues
:

2523 
	`ecma_Á°_‰ì_vÆue
 (
right_vÆue
);

2524 
‰ì_À·_vÆue
:

2525 
	`ecma_Á°_‰ì_vÆue
 (
À·_vÆue
);

2527 
îr‹
:

2529 
	`ecma_Á°_‰ì_vÆue
 (
À·_vÆue
);

2530 
	`ecma_Á°_‰ì_vÆue
 (
right_vÆue
);

2532 i‡(
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2534 
ecma_vÆue_t
 *
vm_°ack_p
 = 
°ack_t›_p
;

2536 
vm_°ack_p
 = 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
;

2537 
vm_°ack_p
 < 
°ack_t›_p
;

2538 
vm_°ack_p
++)

2540 i‡(*
vm_°ack_p
 =
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_REGISTER_REF
))

2542 
	`JERRY_ASSERT
 (
vm_°ack_p
 < 
°ack_t›_p
);

2543 
vm_°ack_p
++;

2547 
	`ecma_‰ì_vÆue
 (*
vm_°ack_p
);

2551 
°ack_t›_p
 = 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
;

2552 #ifde‡
JERRY_DEBUGGER


2553 i‡((
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_CONNECTED
)

2554 && !(
‰ame_˘x_p
->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_DEBUGGER_IGNORE
)

2555 && !(
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& (
JERRY_DEBUGGER_VM_IGNORE_EXCEPTION
 | 
JERRY_DEBUGGER_VM_IGNORE
)))

2557 i‡(
	`jîry_debuggî_£nd_ex˚±i⁄_°rög
 (
ªsu…
))

2559 
	`jîry_debuggî_bªakpoöt_hô
 (
JERRY_DEBUGGER_EXCEPTION_HIT
);

2565 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2567 i‡(
‰ame_˘x_p
->
c⁄ãxt_dïth
 == 0)

2571 
	`ecma_Á°_‰ì_vÆue
 (
block_ªsu…
);

2572  
ªsu…
;

2575 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2577 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2579 
°ack_t›_p
 = 
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
;

2581 i‡(
	`vm_°ack_föd_föÆly
 (
‰ame_˘x_p
,

2582 &
°ack_t›_p
,

2583 
VM_CONTEXT_FINALLY_RETURN
,

2586 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_FINALLY_RETURN
);

2587 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2589 
byã_code_p
 = 
‰ame_˘x_p
->byte_code_p;

2590 
°ack_t›_p
[-2] = 
ªsu…
;

2596 i‡(
	`vm_°ack_föd_föÆly
 (
‰ame_˘x_p
,

2597 &
°ack_t›_p
,

2598 
VM_CONTEXT_FINALLY_THROW
,

2601 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ªgi°îs_p
 + 
ªgi°î_íd
 + føme_˘x_p->
c⁄ãxt_dïth
 =
°ack_t›_p
);

2603 
byã_code_p
 = 
‰ame_˘x_p
->byte_code_p;

2605 i‡(
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_CATCH
)

2607 
uöt32_t
 
lôîÆ_ödex
;

2608 
ecma_obje˘_t
 *
ˇtch_ív_p
;

2609 
ecma_°rög_t
 *
ˇtch_«me_p
;

2611 *
°ack_t›_p
++ = 
	`ecma_gë_vÆue_‰om_îr‹_vÆue
 (
ªsu…
);

2613 
	`JERRY_ASSERT
 (
byã_code_p
[0] =
CBC_ASSIGN_SET_IDENT
);

2615 
lôîÆ_ödex
 = 
byã_code_p
[1];

2616 i‡(
lôîÆ_ödex
 >
ícodög_limô
)

2618 
lôîÆ_ödex
 = (÷ôîÆ_ödex << 8Ë| 
byã_code_p
[2]Ë- 
ícodög_dñè
;

2621 
ˇtch_ív_p
 = 
	`ecma_¸óã_de˛_Àx_ív
 (
‰ame_˘x_p
->
Àx_ív_p
);

2623 
ˇtch_«me_p
 = 
	`JMEM_CP_GET_NON_NULL_POINTER
 (
ecma_°rög_t
,

2624 
lôîÆ_°¨t_p
[
lôîÆ_ödex
]);

2626 
	`ecma_›_¸óã_muèbÀ_bödög
 (
ˇtch_ív_p
, 
ˇtch_«me_p
, 
Ál£
);

2628 
°ack_t›_p
[-2 - 1] = 
	`ecma_make_obje˘_vÆue
 (
‰ame_˘x_p
->
Àx_ív_p
);

2629 
‰ame_˘x_p
->
Àx_ív_p
 = 
ˇtch_ív_p
;

2633 
	`JERRY_ASSERT
 (
	`VM_GET_CONTEXT_TYPE
 (
°ack_t›_p
[-1]Ë=
VM_CONTEXT_FINALLY_THROW
);

2634 
°ack_t›_p
[-2] = 
ªsu…
;

2637 #ifde‡
JERRY_VM_EXEC_STOP


2638 i‡(
	`JERRY_CONTEXT
 (
vm_exec_°›_cb
Ë!
NULL


2639 && --
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
) == 0)

2641 
ªsu…
 = 
	`JERRY_CONTEXT
 (
vm_exec_°›_cb
Ë(JERRY_CONTEXT (
vm_exec_°›_u£r_p
));

2643 i‡(
	`ecma_is_vÆue_undeföed
 (
ªsu…
))

2645 
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
ËJERRY_CONTEXT (
vm_exec_°›_‰equícy
);

2649 
	`JERRY_CONTEXT
 (
vm_exec_°›_cou¡î
) = 1;

2651 
À·_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2652 
right_vÆue
 = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2654 i‡(!
	`ECMA_IS_VALUE_ERROR
 (
ªsu…
))

2656 
ªsu…
 = 
	`ecma_make_îr‹_vÆue
 (result);

2658 
îr‹
;

2667 
	`ecma_‰ì_vÆue
 (
block_ªsu…
);

2668  
ªsu…
;

2670 
	}
}

2672 #unde‡
READ_LITERAL


2673 #unde‡
READ_LITERAL_INDEX


2680 
ecma_vÆue_t
 
__©å_noölöe___


2681 
	$vm_execuã
 (
vm_‰ame_˘x_t
 *
‰ame_˘x_p
,

2682 c⁄° 
ecma_vÆue_t
 *
¨g_p
,

2683 
ecma_Àngth_t
 
¨g_li°_Àn
)

2685 c⁄° 
ecma_compûed_code_t
 *
byãcode_hódî_p
 = 
‰ame_˘x_p
->bytecode_header_p;

2686 
ecma_vÆue_t
 
com∂ëi⁄_vÆue
;

2687 
uöt16_t
 
¨gumít_íd
;

2688 
uöt16_t
 
ªgi°î_íd
;

2690 i‡(
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

2692 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byãcode_hódî_p
;

2694 
¨gumít_íd
 = 
¨gs_p
->argument_end;

2695 
ªgi°î_íd
 = 
¨gs_p
->register_end;

2699 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byãcode_hódî_p
;

2701 
¨gumít_íd
 = 
¨gs_p
->argument_end;

2702 
ªgi°î_íd
 = 
¨gs_p
->register_end;

2705 
‰ame_˘x_p
->
°ack_t›_p
 = føme_˘x_p->
ªgi°îs_p
 + 
ªgi°î_íd
;

2707 i‡(
¨g_li°_Àn
 > 
¨gumít_íd
)

2709 
¨g_li°_Àn
 = 
¨gumít_íd
;

2712 
uöt32_t
 
i
 = 0; i < 
¨g_li°_Àn
; i++)

2714 
‰ame_˘x_p
->
ªgi°îs_p
[
i
] = 
	`ecma_Á°_c›y_vÆue
 (
¨g_p
[i]);

2719 i‡(
ªgi°î_íd
 > 
¨g_li°_Àn
)

2721 
ecma_vÆue_t
 *
°ack_p
 = 
‰ame_˘x_p
->
ªgi°îs_p
 + 
¨g_li°_Àn
;

2723 
uöt32_t
 
i
 = 
¨g_li°_Àn
; i < 
ªgi°î_íd
; i++)

2725 *
°ack_p
++ = 
	`ecma_make_sim∂e_vÆue
 (
ECMA_SIMPLE_VALUE_UNDEFINED
);

2729 
	`JERRY_CONTEXT
 (
is_dúe˘_evÆ_f‹m_ˇŒ
Ë
Ál£
;

2731 
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
Ë
‰ame_˘x_p
;

2733 
	`vm_öô_lo›
 (
‰ame_˘x_p
);

2735 
åue
)

2737 
com∂ëi⁄_vÆue
 = 
	`vm_lo›
 (
‰ame_˘x_p
);

2739 i‡(
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 =
VM_NO_EXEC_OP
)

2744 i‡(
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 =
VM_EXEC_CALL
)

2746 
	`›func_ˇŒ
 (
‰ame_˘x_p
);

2750 
	`JERRY_ASSERT
 (
‰ame_˘x_p
->
ˇŒ_›î©i⁄
 =
VM_EXEC_CONSTRUCT
);

2751 
	`›func_c⁄°ru˘
 (
‰ame_˘x_p
);

2756 
uöt32_t
 
i
 = 0; i < 
ªgi°î_íd
; i++)

2758 
	`ecma_Á°_‰ì_vÆue
 (
‰ame_˘x_p
->
ªgi°îs_p
[
i
]);

2761 #ifde‡
JERRY_DEBUGGER


2762 i‡(
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë=JERRY_CONTEXT (
vm_t›_c⁄ãxt_p
))

2765 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
debuggî_Êags
Ë& 
JERRY_DEBUGGER_VM_STOP
);

2766 
	`JERRY_CONTEXT
 (
debuggî_°›_c⁄ãxt
Ë
NULL
;

2770 
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
Ë
‰ame_˘x_p
->
¥ev_c⁄ãxt_p
;

2771  
com∂ëi⁄_vÆue
;

2772 
	}
}

2779 
ecma_vÆue_t


2780 
	$vm_run
 (c⁄° 
ecma_compûed_code_t
 *
byãcode_hódî_p
,

2781 
ecma_vÆue_t
 
this_bödög_vÆue
,

2782 
ecma_obje˘_t
 *
Àx_ív_p
,

2783 
boﬁ
 
is_evÆ_code
,

2784 c⁄° 
ecma_vÆue_t
 *
¨g_li°_p
,

2785 
ecma_Àngth_t
 
¨g_li°_Àn
)

2787 
jmem_˝oöãr_t
 *
lôîÆ_p
;

2788 
vm_‰ame_˘x_t
 
‰ame_˘x
;

2789 
uöt32_t
 
ˇŒ_°ack_size
;

2791 i‡(
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_UINT16_ARGUMENTS
)

2793 
cbc_uöt16_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt16_¨gumíts_à*Ë
byãcode_hódî_p
;

2794 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_hódî_p
;

2796 
lôîÆ_p
 = (
jmem_˝oöãr_t
 *Ë(
byã_p
 +  (
cbc_uöt16_¨gumíts_t
));

2797 
‰ame_˘x
.
lôîÆ_°¨t_p
 = 
lôîÆ_p
;

2798 
lôîÆ_p
 +
¨gs_p
->
lôîÆ_íd
;

2799 
ˇŒ_°ack_size
 = (
uöt32_t
Ë(
¨gs_p
->
ªgi°î_íd
 +árgs_p->
°ack_limô
);

2803 
cbc_uöt8_¨gumíts_t
 *
¨gs_p
 = (cbc_uöt8_¨gumíts_à*Ë
byãcode_hódî_p
;

2804 
uöt8_t
 *
byã_p
 = (uöt8_à*Ë
byãcode_hódî_p
;

2806 
lôîÆ_p
 = (
jmem_˝oöãr_t
 *Ë(
byã_p
 +  (
cbc_uöt8_¨gumíts_t
));

2807 
‰ame_˘x
.
lôîÆ_°¨t_p
 = 
lôîÆ_p
;

2808 
lôîÆ_p
 +
¨gs_p
->
lôîÆ_íd
;

2809 
ˇŒ_°ack_size
 = (
uöt32_t
Ë(
¨gs_p
->
ªgi°î_íd
 +árgs_p->
°ack_limô
);

2812 
‰ame_˘x
.
byãcode_hódî_p
 = bytecode_header_p;

2813 
‰ame_˘x
.
byã_code_p
 = (
uöt8_t
 *Ë
lôîÆ_p
;

2814 
‰ame_˘x
.
byã_code_°¨t_p
 = (
uöt8_t
 *Ë
lôîÆ_p
;

2815 
‰ame_˘x
.
Àx_ív_p
 =Üex_env_p;

2816 
‰ame_˘x
.
¥ev_c⁄ãxt_p
 = 
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
);

2817 
‰ame_˘x
.
this_bödög
 = 
this_bödög_vÆue
;

2818 
‰ame_˘x
.
c⁄ãxt_dïth
 = 0;

2819 
‰ame_˘x
.
is_evÆ_code
 = is_eval_code;

2820 
‰ame_˘x
.
ˇŒ_›î©i⁄
 = 
VM_NO_EXEC_OP
;

2823 
ecma_vÆue_t
 
°ack
[
	`JERRY_MAX
 (
ˇŒ_°ack_size
, 1)];

2824 
‰ame_˘x
.
ªgi°îs_p
 = 
°ack
;

2826  
	`vm_execuã
 (&
‰ame_˘x
, 
¨g_li°_p
, 
¨g_li°_Àn
);

2827 
	}
}

2835 
boﬁ


2836 
	$vm_is_°ri˘_mode
 ()

2838 
	`JERRY_ASSERT
 (
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
Ë!
NULL
);

2840  
	`JERRY_CONTEXT
 (
vm_t›_c⁄ãxt_p
)->
byãcode_hódî_p
->
°©us_Êags
 & 
CBC_CODE_FLAGS_STRICT_MODE
;

2841 
	}
}

2855 
ölöe
 
boﬁ
 
__©å_Æways_ölöe___


2856 
	$vm_is_dúe˘_evÆ_f‹m_ˇŒ
 ()

2858  
	`JERRY_CONTEXT
 (
is_dúe˘_evÆ_f‹m_ˇŒ
);

2859 
	}
}

	@deps/jerry/jerry-core/vm/vm.h

16 #i‚de‡
VM_H


17 
	#VM_H


	)

19 
	~"ecma-globÆs.h
"

20 
	~"jπ.h
"

21 
	~"vm-deföes.h
"

46 
	#VM_OC_BACKWARD_BRANCH
 0x4000

	)

51 
	#VM_OC_GET_ARGS_SHIFT
 7

	)

56 
	#VM_OC_GET_ARGS_MASK
 0x7

	)

61 
	#VM_OC_GET_ARGS_CREATE_INDEX
(
V
Ë(((VË& 
VM_OC_GET_ARGS_MASK
Ë<< 
VM_OC_GET_ARGS_SHIFT
)

	)

66 
	#VM_OC_GET_ARGS_INDEX
(
O
Ë((OË& (
VM_OC_GET_ARGS_MASK
 << 
VM_OC_GET_ARGS_SHIFT
))

	)

71 
	#VM_OC_HAS_GET_ARGS
(
V
Ë((VË& (
VM_OC_GET_ARGS_MASK
 << 
VM_OC_GET_ARGS_SHIFT
))

	)

78 
	mVM_OC_GET_NONE
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (0),

79 
	mVM_OC_GET_BRANCH
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (1),

80 
	mVM_OC_GET_STACK
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (2),

81 
	mVM_OC_GET_STACK_STACK
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (3),

83 
	mVM_OC_GET_LITERAL
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (4),

84 
	mVM_OC_GET_LITERAL_LITERAL
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (5),

85 
	mVM_OC_GET_STACK_LITERAL
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (6),

87 
	mVM_OC_GET_THIS_LITERAL
 = 
VM_OC_GET_ARGS_CREATE_INDEX
 (7),

88 } 
	tvm_oc_gë_ty≥s
;

93 
	#VM_OC_GROUP_MASK
 0x7f

	)

98 
	#VM_OC_GROUP_GET_INDEX
(
O
Ë((OË& 
VM_OC_GROUP_MASK
)

	)

105 
	mVM_OC_NONE
,

106 
	mVM_OC_POP
,

107 
	mVM_OC_POP_BLOCK
,

108 
	mVM_OC_PUSH
,

109 
	mVM_OC_PUSH_TWO
,

110 
	mVM_OC_PUSH_THREE
,

111 
	mVM_OC_PUSH_UNDEFINED
,

112 
	mVM_OC_PUSH_TRUE
,

113 
	mVM_OC_PUSH_FALSE
,

114 
	mVM_OC_PUSH_NULL
,

115 
	mVM_OC_PUSH_THIS
,

116 
	mVM_OC_PUSH_NUMBER_0
,

117 
	mVM_OC_PUSH_NUMBER_POS_BYTE
,

118 
	mVM_OC_PUSH_NUMBER_NEG_BYTE
,

119 
	mVM_OC_PUSH_OBJECT
,

120 
	mVM_OC_SET_PROPERTY
,

121 
	mVM_OC_SET_GETTER
,

122 
	mVM_OC_SET_SETTER
,

123 
	mVM_OC_PUSH_UNDEFINED_BASE
,

124 
	mVM_OC_PUSH_ARRAY
,

125 
	mVM_OC_PUSH_ELISON
,

126 
	mVM_OC_APPEND_ARRAY
,

127 
	mVM_OC_IDENT_REFERENCE
,

128 
	mVM_OC_PROP_REFERENCE
,

129 
	mVM_OC_PROP_GET
,

132 
	mVM_OC_PROP_PRE_INCR
,

133 
	mVM_OC_PROP_PRE_DECR
,

134 
	mVM_OC_PROP_POST_INCR
,

135 
	mVM_OC_PROP_POST_DECR
,

136 
	mVM_OC_PRE_INCR
,

137 
	mVM_OC_PRE_DECR
,

138 
	mVM_OC_POST_INCR
,

139 
	mVM_OC_POST_DECR
,

141 
	mVM_OC_PROP_DELETE
,

142 
	mVM_OC_DELETE
,

144 
	mVM_OC_ASSIGN
,

145 
	mVM_OC_ASSIGN_PROP
,

146 
	mVM_OC_ASSIGN_PROP_THIS
,

148 
	mVM_OC_RET
,

149 
	mVM_OC_THROW
,

150 
	mVM_OC_THROW_REFERENCE_ERROR
,

152 
	mVM_OC_EVAL
,

153 
	mVM_OC_CALL
,

154 
	mVM_OC_NEW
,

156 
	mVM_OC_JUMP
,

157 
	mVM_OC_BRANCH_IF_STRICT_EQUAL
,

160 
	mVM_OC_BRANCH_IF_TRUE
,

161 
	mVM_OC_BRANCH_IF_FALSE
,

162 
	mVM_OC_BRANCH_IF_LOGICAL_TRUE
,

163 
	mVM_OC_BRANCH_IF_LOGICAL_FALSE
,

165 
	mVM_OC_PLUS
,

166 
	mVM_OC_MINUS
,

167 
	mVM_OC_NOT
,

168 
	mVM_OC_BIT_NOT
,

169 
	mVM_OC_VOID
,

170 
	mVM_OC_TYPEOF_IDENT
,

171 
	mVM_OC_TYPEOF
,

173 
	mVM_OC_ADD
,

174 
	mVM_OC_SUB
,

175 
	mVM_OC_MUL
,

176 
	mVM_OC_DIV
,

177 
	mVM_OC_MOD
,

179 
	mVM_OC_EQUAL
,

180 
	mVM_OC_NOT_EQUAL
,

181 
	mVM_OC_STRICT_EQUAL
,

182 
	mVM_OC_STRICT_NOT_EQUAL
,

183 
	mVM_OC_LESS
,

184 
	mVM_OC_GREATER
,

185 
	mVM_OC_LESS_EQUAL
,

186 
	mVM_OC_GREATER_EQUAL
,

187 
	mVM_OC_IN
,

188 
	mVM_OC_INSTANCEOF
,

190 
	mVM_OC_BIT_OR
,

191 
	mVM_OC_BIT_XOR
,

192 
	mVM_OC_BIT_AND
,

193 
	mVM_OC_LEFT_SHIFT
,

194 
	mVM_OC_RIGHT_SHIFT
,

195 
	mVM_OC_UNS_RIGHT_SHIFT
,

197 
	mVM_OC_WITH
,

198 
	mVM_OC_FOR_IN_CREATE_CONTEXT
,

199 
	mVM_OC_FOR_IN_GET_NEXT
,

200 
	mVM_OC_FOR_IN_HAS_NEXT
,

201 
	mVM_OC_TRY
,

202 
	mVM_OC_CATCH
,

203 
	mVM_OC_FINALLY
,

204 
	mVM_OC_CONTEXT_END
,

205 
	mVM_OC_JUMP_AND_EXIT_CONTEXT
,

206 
	mVM_OC_BREAKPOINT_ENABLED
,

207 
	mVM_OC_BREAKPOINT_DISABLED
,

208 } 
	tvm_oc_ty≥s
;

213 
	#VM_OC_DECREMENT_OPERATOR_FLAG
 0x1

	)

218 
	#VM_OC_POST_INCR_DECR_OPERATOR_FLAG
 0x2

	)

223 
	#VM_OC_IDENT_INCR_DECR_OPERATOR_FLAG
 0x4

	)

228 
	#VM_OC_BRANCH_IF_FALSE_FLAG
 0x1

	)

233 
	#VM_OC_LOGICAL_BRANCH_FLAG
 0x2

	)

238 
	#VM_OC_PUT_RESULT_SHIFT
 10

	)

243 
	#VM_OC_PUT_RESULT_MASK
 0xf

	)

248 
	#VM_OC_PUT_RESULT_CREATE_FLAG
(
V
Ë(((VË& 
VM_OC_PUT_RESULT_MASK
Ë<< 
VM_OC_PUT_RESULT_SHIFT
)

	)

253 
	#VM_OC_HAS_PUT_RESULT
(
V
Ë((VË& (
VM_OC_PUT_RESULT_MASK
 << 
VM_OC_PUT_RESULT_SHIFT
))

	)

260 
	mVM_OC_PUT_IDENT
 = 
VM_OC_PUT_RESULT_CREATE_FLAG
 (0x1),

261 
	mVM_OC_PUT_REFERENCE
 = 
VM_OC_PUT_RESULT_CREATE_FLAG
 (0x2),

262 
	mVM_OC_PUT_STACK
 = 
VM_OC_PUT_RESULT_CREATE_FLAG
 (0x4),

263 
	mVM_OC_PUT_BLOCK
 = 
VM_OC_PUT_RESULT_CREATE_FLAG
 (0x8),

264 } 
	tvm_oc_put_ty≥s
;

274 
	mVM_NO_EXEC_OP
,

275 
	mVM_EXEC_CALL
,

276 
	mVM_EXEC_CONSTRUCT
,

277 } 
	tvm_ˇŒ_›î©i⁄
;

279 
ecma_vÆue_t
 
vm_run_globÆ
 (c⁄° 
ecma_compûed_code_t
 *
byãcode_p
);

280 
ecma_vÆue_t
 
vm_run_evÆ
 (
ecma_compûed_code_t
 *
byãcode_d©a_p
, 
boﬁ
 
is_dúe˘
);

282 
ecma_vÆue_t
 
vm_run
 (c⁄° 
ecma_compûed_code_t
 *
byãcode_hódî_p
,Écma_vÆue_à
this_bödög_vÆue
,

283 
ecma_obje˘_t
 *
Àx_ív_p
, 
boﬁ
 
is_evÆ_code
, c⁄° 
ecma_vÆue_t
 *
¨g_li°_p
,

284 
ecma_Àngth_t
 
¨g_li°_Àn
);

286 
boﬁ
 
vm_is_°ri˘_mode
 ();

287 
boﬁ
 
vm_is_dúe˘_evÆ_f‹m_ˇŒ
 ();

	@deps/jerry/jerry-ext/arg/arg-internal.h

16 #i‚de‡
JERRYX_ARG_INTERNAL_H


17 
	#JERRYX_ARG_INTERNAL_H


	)

19 
	~"jîrys¸ùt.h
"

24 
	sjîryx_¨g_js_ôî©‹_t


26 c⁄° 
jîry_vÆue_t
 *
	mjs_¨g_p
;

27 c⁄° 
jîry_Àngth_t
 
	mjs_¨g_˙t
;

28 
jîry_Àngth_t
 
	mjs_¨g_idx
;

	@deps/jerry/jerry-ext/arg/arg-js-iterator-helper.c

16 
	~"¨g-öã∫Æ.h
"

17 
	~"jîrys¸ùt-ext/¨g.h
"

18 
	~"jîrys¸ùt.h
"

26 
jîry_vÆue_t


27 
	$jîryx_¨g_js_ôî©‹_p›
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
)

29  (
js_¨g_ôî_p
->
js_¨g_idx
++ < js_¨g_ôî_p->
js_¨g_˙t
 ? *js_¨g_ôî_p->
js_¨g_p
++

30 : 
	`jîry_¸óã_undeföed
 ());

31 
	}
}

42 
jîry_vÆue_t


43 
	$jîryx_¨g_js_ôî©‹_≥ek
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
)

45  (
js_¨g_ôî_p
->
js_¨g_idx
 < js_¨g_ôî_p->
js_¨g_˙t
 ? *js_¨g_ôî_p->
js_¨g_p


46 : 
	`jîry_¸óã_undeföed
 ());

47 
	}
}

54 
jîry_Àngth_t


55 
	$jîryx_¨g_js_ôî©‹_ödex
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
)

57  
js_¨g_ôî_p
->
js_¨g_idx
;

58 
	}
}

	@deps/jerry/jerry-ext/arg/arg-transform-functions.c

16 
	~<m©h.h
>

18 
	~"jîrys¸ùt-ext/¨g.h
"

19 
	~"jîrys¸ùt.h
"

28 
jîry_vÆue_t


29 
	$jîryx_¨g_å™sf‹m_›ti⁄Æ
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

30 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

31 
jîryx_¨g_å™sf‹m_func_t
 
func
)

33 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_≥ek
 (
js_¨g_ôî_p
);

35 i‡(
	`jîry_vÆue_is_undeföed
 (
js_¨g
))

37  
js_¨g
;

40  
	`func
 (
js_¨g_ôî_p
, 
c_¨g_p
);

41 
	}
}

50 
jîry_vÆue_t


51 
	$jîryx_¨g_å™sf‹m_numbî_°ri˘_comm⁄
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

52 *
numbî_p
)

54 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

56 i‡(!
	`jîry_vÆue_is_numbî
 (
js_¨g
))

58  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

59 (
jîry_ch¨_t
 *) "It isÇotáÇumber.");

62 *
numbî_p
 = 
	`jîry_gë_numbî_vÆue
 (
js_¨g
);

64  
	`jîry_¸óã_undeföed
 ();

65 
	}
}

74 
jîry_vÆue_t


75 
	$jîryx_¨g_å™sf‹m_numbî_comm⁄
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

76 *
numbî_p
)

78 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

80 
jîry_vÆue_t
 
to_numbî
 = 
	`jîry_vÆue_to_numbî
 (
js_¨g
);

82 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
to_numbî
))

84 
	`jîry_ªÀa£_vÆue
 (
to_numbî
);

86  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

87 (
jîry_ch¨_t
 *) "It canÇot be convertedÅoáÇumber.");

90 *
numbî_p
 = 
	`jîry_gë_numbî_vÆue
 (
to_numbî
);

91 
	`jîry_ªÀa£_vÆue
 (
to_numbî
);

93  
	`jîry_¸óã_undeföed
 ();

94 
	}
}

102 
jîry_vÆue_t


103 
	$jîryx_¨g_å™sf‹m_numbî_°ri˘
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

104 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

106  
	`jîryx_¨g_å™sf‹m_numbî_°ri˘_comm⁄
 (
js_¨g_ôî_p
, 
c_¨g_p
->
de°
);

107 
	}
}

115 
jîry_vÆue_t


116 
	$jîryx_¨g_å™sf‹m_numbî
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

117 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

119  
	`jîryx_¨g_å™sf‹m_numbî_comm⁄
 (
js_¨g_ôî_p
, 
c_¨g_p
->
de°
);

120 
	}
}

129 
jîry_vÆue_t


130 
	$jîryx_¨g_hñ≥r_¥o˚ss_doubÀ
 (*
d
,

131 
mö
,

132 
max
,

133 
jîryx_¨g_öt_›ti⁄_t
 
›ti⁄
)

135 i‡(
	`i¢™
 (*
d
))

137  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

138 (
jîry_ch¨_t
 *) "TheÇumber is NaN.");

141 i‡(
›ti⁄
.
˛amp
 =
JERRYX_ARG_NO_CLAMP
)

143 i‡(*
d
 > 
max
 || *d < 
mö
)

145  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

146 (
jîry_ch¨_t
 *) "TheÇumber is out ofÑange.");

151 *
d
 = *d < 
mö
 ? min : *d;

152 *
d
 = *d > 
max
 ? max : *d;

155 i‡(
›ti⁄
.
round
 =
JERRYX_ARG_ROUND
)

157 *
d
 = (*d >0.0Ë? 
	`Êo‹
 (*d + 0.5Ë: 
	`˚û
 (*d - 0.5);

159 i‡(
›ti⁄
.
round
 =
JERRYX_ARG_FLOOR
)

161 *
d
 = 
	`Êo‹
 (*d);

165 *
d
 = 
	`˚û
 (*d);

168  
	`jîry_¸óã_undeföed
 ();

169 
	}
}

174 
	#JERRYX_ARG_TRANSFORM_FUNC_FOR_INT_TEMPLATE
(
ty≥
, 
suffix
, 
mö
, 
max
) \

175 
jîry_vÆue_t
 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
 ## 
	`suffix
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
, \

176 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
) \

178 
tmp
 = 0.0; \

179 
jîry_vÆue_t
 
rv
 = 
jîryx_¨g_å™sf‹m_numbî
 ## 
suffix
 ## 
	`_comm⁄
 (
js_¨g_ôî_p
, &
tmp
); \

180 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
rv
)) \

182  
rv
; \

184 
	`jîry_ªÀa£_vÆue
 (
rv
); \

185 
jîryx_¨g_öt_›ti⁄_t
 *
›ti⁄s_p
 = (jîryx_¨g_öt_›ti⁄_à*Ë&
c_¨g_p
->
exåa_öfo
; \

186 
rv
 = 
	`jîryx_¨g_hñ≥r_¥o˚ss_doubÀ
 (&
tmp
, 
mö
, 
max
, *
›ti⁄s_p
); \

187 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
rv
)) \

189  
rv
; \

191 *(
ty≥
 ## 
_t
 *Ë
c_¨g_p
->
de°
 = (ty≥ ## _tË
tmp
; \

192  
rv
; \

193 }

	)

195 
	#JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
(
ty≥
, 
mö
, 
max
) \

196 
	`JERRYX_ARG_TRANSFORM_FUNC_FOR_INT_TEMPLATE
 (
ty≥
, 
_°ri˘
, 
mö
, 
max
) \

197 
	`JERRYX_ARG_TRANSFORM_FUNC_FOR_INT_TEMPLATE
 (
ty≥
, , 
mö
, 
max
)

	)

199 
	$JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
 (
uöt8
, 0, 
UINT8_MAX
)

200 
	$JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
 (
öt8
, 
INT8_MIN
, 
INT8_MAX
)

201 
	$JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
 (
uöt16
, 0, 
UINT16_MAX
)

202 
	$JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
 (
öt16
, 
INT16_MIN
, 
INT16_MAX
)

203 
	$JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
 (
uöt32
, 0, 
UINT32_MAX
)

204 
	$JERRYX_ARG_TRANSFORM_FUNC_FOR_INT
 (
öt32
, 
INT32_MIN
, 
INT32_MAX
)

206 #unde‡
JERRYX_ARG_TRANSFORM_FUNC_FOR_INT_TEMPLATE


207 #unde‡
JERRYX_ARG_TRANSFORM_FUNC_FOR_INT


214 
jîry_vÆue_t


215 
	$jîryx_¨g_å™sf‹m_boﬁón_°ri˘
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

216 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

218 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

220 i‡(!
	`jîry_vÆue_is_boﬁón
 (
js_¨g
))

222  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

223 (
jîry_ch¨_t
 *) "It isÇotá boolean.");

226 
boﬁ
 *
de°
 = 
c_¨g_p
->dest;

227 *
de°
 = 
	`jîry_gë_boﬁón_vÆue
 (
js_¨g
);

229  
	`jîry_¸óã_undeföed
 ();

230 
	}
}

238 
jîry_vÆue_t


239 
	$jîryx_¨g_å™sf‹m_boﬁón
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

240 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

242 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

244 
boﬁ
 
to_boﬁón
 = 
	`jîry_vÆue_to_boﬁón
 (
js_¨g
);

246 
boﬁ
 *
de°
 = 
c_¨g_p
->dest;

247 *
de°
 = 
to_boﬁón
;

249  
	`jîry_¸óã_undeföed
 ();

250 
	}
}

258 
jîry_vÆue_t


259 
	$jîryx_¨g_°rög_comm⁄_routöe
 (
jîry_vÆue_t
 
js_¨g
,

260 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

262 
jîry_ch¨_t
 *
èrgë_p
 = (jîry_ch¨_à*Ë
c_¨g_p
->
de°
;

263 
jîry_size_t
 
èrgë_buf_size
 = (jîry_size_tË
c_¨g_p
->
exåa_öfo
;

264 
jîry_size_t
 
size
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
js_¨g
,

265 
èrgë_p
,

266 
èrgë_buf_size
);

268 i‡((
size
 =
èrgë_buf_size
Ë|| (sizê=0 && 
	`jîry_gë_°rög_Àngth
 (
js_¨g
) != 0))

270  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

271 (
jîry_ch¨_t
 *) "Buffer size isÇotÜargeÉnough.");

274 
èrgë_p
[
size
] = '\0';

276  
	`jîry_¸óã_undeföed
 ();

277 
	}
}

285 
jîry_vÆue_t


286 
	$jîryx_¨g_å™sf‹m_°rög_°ri˘
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

287 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

289 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

291 i‡(!
	`jîry_vÆue_is_°rög
 (
js_¨g
))

293  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

294 (
jîry_ch¨_t
 *) "It isÇotá string.");

297  
	`jîryx_¨g_°rög_comm⁄_routöe
 (
js_¨g
, 
c_¨g_p
);

298 
	}
}

306 
jîry_vÆue_t


307 
	$jîryx_¨g_å™sf‹m_°rög
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

308 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

310 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

312 
jîry_vÆue_t
 
to_°rög
 = 
	`jîry_vÆue_to_°rög
 (
js_¨g
);

314 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
to_°rög
))

316 
	`jîry_ªÀa£_vÆue
 (
to_°rög
);

318  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

319 (
jîry_ch¨_t
 *) "It canÇot be convertedÅoá string.");

322 
jîry_vÆue_t
 
ªt
 = 
	`jîryx_¨g_°rög_comm⁄_routöe
 (
to_°rög
, 
c_¨g_p
);

323 
	`jîry_ªÀa£_vÆue
 (
to_°rög
);

325  
ªt
;

326 
	}
}

334 
jîry_vÆue_t


335 
	$jîryx_¨g_å™sf‹m_fun˘i⁄
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

336 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

338 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

340 i‡(!
	`jîry_vÆue_is_fun˘i⁄
 (
js_¨g
))

342  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

343 (
jîry_ch¨_t
 *) "It isÇotá function.");

346 
jîry_vÆue_t
 *
func_p
 = 
c_¨g_p
->
de°
;

347 *
func_p
 = 
	`jîry_acquúe_vÆue
 (
js_¨g
);

349  
	`jîry_¸óã_undeföed
 ();

350 
	}
}

359 
jîry_vÆue_t


360 
	$jîryx_¨g_å™sf‹m_«tive_poöãr
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

361 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

363 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

365 i‡(!
	`jîry_vÆue_is_obje˘
 (
js_¨g
))

367  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

368 (
jîry_ch¨_t
 *) "It isÇotán object.");

371 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ex≥˘ed_öfo_p
;

372 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
out_öfo_p
;

373 
ex≥˘ed_öfo_p
 = (c⁄° 
jîry_obje˘_«tive_öfo_t
 *Ë
c_¨g_p
->
exåa_öfo
;

374 **
±r_p
 = (**Ë
c_¨g_p
->
de°
;

375 
boﬁ
 
is_ok
 = 
	`jîry_gë_obje˘_«tive_poöãr
 (
js_¨g
, 
±r_p
, &
out_öfo_p
);

377 i‡(!
is_ok
 || 
out_öfo_p
 !
ex≥˘ed_öfo_p
)

379  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

380 (
jîry_ch¨_t
 *) "The object hasÇoÇativeÖointer orÅype doesÇot match.");

383  
	`jîry_¸óã_undeföed
 ();

384 
	}
}

392 
jîry_vÆue_t


393 
	$jîryx_¨g_å™sf‹m_obje˘_¥›s
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

394 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

396 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

398 c⁄° 
jîryx_¨g_obje˘_¥›s_t
 *
obje˘_¥›s
 = (c⁄° jîryx_¨g_obje˘_¥›s_à*Ë
c_¨g_p
->
exåa_öfo
;

400  
	`jîryx_¨g_å™sf‹m_obje˘_¥›îtõs
 (
js_¨g
,

401 
obje˘_¥›s
->
«me_p
,

402 
obje˘_¥›s
->
«me_˙t
,

403 
obje˘_¥›s
->
c_¨g_p
,

404 
obje˘_¥›s
->
c_¨g_˙t
);

405 
	}
}

410 
	#JERRYX_ARG_TRANSFORM_OPTIONAL
(
ty≥
) \

411 
jîry_vÆue_t
 \

412 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
 ## 
	`_›ti⁄Æ
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
, \

413 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
) \

415  
	`jîryx_¨g_å™sf‹m_›ti⁄Æ
 (
js_¨g_ôî_p
, 
c_¨g_p
, 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
); \

416 }

	)

418 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
numbî
)

419 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
numbî_°ri˘
)

420 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
boﬁón
)

421 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
boﬁón_°ri˘
)

422 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
°rög
)

423 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
°rög_°ri˘
)

424 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
fun˘i⁄
)

425 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
«tive_poöãr
)

426 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
obje˘_¥›s
)

428 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
uöt8
)

429 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
uöt16
)

430 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
uöt32
)

431 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
öt8
)

432 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
öt16
)

433 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
öt32
)

434 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
öt8_°ri˘
)

435 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
öt16_°ri˘
)

436 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
öt32_°ri˘
)

437 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
uöt8_°ri˘
)

438 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
uöt16_°ri˘
)

439 
	$JERRYX_ARG_TRANSFORM_OPTIONAL
 (
uöt32_°ri˘
)

441 #unde‡
JERRYX_ARG_TRANSFORM_OPTIONAL


448 
jîry_vÆue_t


449 
	$jîryx_¨g_å™sf‹m_ign‹e
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

450 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

452 (Ë
js_¨g_ôî_p
;

453 (Ë
c_¨g_p
;

455  
	`jîry_¸óã_undeföed
 ();

456 
	}
}

	@deps/jerry/jerry-ext/arg/arg.c

16 
	~"¨g-öã∫Æ.h
"

17 
	~"jîrys¸ùt-ext/¨g.h
"

18 
	~"jîrys¸ùt.h
"

21 
	#JERRYX_STATIC_ASSERT
(
x
, 
msg
) \

22 íum { 
°©ic_as£πi⁄_Áûed_
 ## 
msg
 = 1 / (!!(
x
)Ë}

	)

24 
JERRYX_STATIC_ASSERT
 ( (
jîryx_¨g_öt_›ti⁄_t
Ë< (((
jîryx_¨g_t
 *Ë0)->
exåa_öfo
),

25 
jîryx_¨g_numbî_›ti⁄s_t_mu°_fô_öto_exåa_öfo
);

27 #unde‡
JERRYX_STATIC_ASSERT


35 
jîry_vÆue_t


36 
	$jîryx_¨g_å™sf‹m_¨gs
 (c⁄° 
jîry_vÆue_t
 *
js_¨g_p
,

37 c⁄° 
jîry_Àngth_t
 
js_¨g_˙t
,

38 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

39 
jîry_Àngth_t
 
c_¨g_˙t
)

41 
jîry_vÆue_t
 
ªt
 = 
	`jîry_¸óã_undeföed
 ();

43 
jîryx_¨g_js_ôî©‹_t
 
ôî©‹
 =

45 .
js_¨g_p
 = js_arg_p,

46 .
js_¨g_˙t
 = js_arg_cnt,

47 .
js_¨g_idx
 = 0

50 ; 
c_¨g_˙t
 !0 && !
	`jîry_vÆue_has_îr‹_Êag
 (
ªt
); c_¨g_˙t--, 
c_¨g_p
++)

52 
ªt
 = 
c_¨g_p
->
	`func
 (&
ôî©‹
, c_arg_p);

55  
ªt
;

56 
	}
}

68 
jîry_vÆue_t


69 
	$jîryx_¨g_å™sf‹m_this_™d_¨gs
 (c⁄° 
jîry_vÆue_t
 
this_vÆ
,

70 c⁄° 
jîry_vÆue_t
 *
js_¨g_p
,

71 c⁄° 
jîry_Àngth_t
 
js_¨g_˙t
,

72 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

73 
jîry_Àngth_t
 
c_¨g_˙t
)

75 i‡(
c_¨g_˙t
 == 0)

77  
	`jîry_¸óã_undeföed
 ();

80 
jîryx_¨g_js_ôî©‹_t
 
ôî©‹
 =

82 .
js_¨g_p
 = &
this_vÆ
,

83 .
js_¨g_˙t
 = 1,

84 .
js_¨g_idx
 = 0

87 
jîry_vÆue_t
 
ªt
 = 
c_¨g_p
->
	`func
 (&
ôî©‹
, c_arg_p);

89 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt
))

91 
	`jîry_ªÀa£_vÆue
 (
ªt
);

93  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
, (
jîry_ch¨_t
 *) "'this' validation failed.");

96  
	`jîryx_¨g_å™sf‹m_¨gs
 (
js_¨g_p
, 
js_¨g_˙t
, 
c_¨g_p
 + 1, 
c_¨g_˙t
 - 1);

97 
	}
}

106 
jîry_vÆue_t


107 
	$jîryx_¨g_å™sf‹m_obje˘_¥›îtõs
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

108 c⁄° 
jîry_ch¨_t
 **
«me_p
,

109 c⁄° 
jîry_Àngth_t
 
«me_˙t
,

110 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

111 
jîry_Àngth_t
 
c_¨g_˙t
)

113 i‡(!
	`jîry_vÆue_is_obje˘
 (
obj_vÆ
))

115  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
, (
jîry_ch¨_t
 *) "Notán object.");

118 
jîry_vÆue_t
 
¥›
[
«me_˙t
];

120 
jîry_Àngth_t
 
i
 = 0; i < 
«me_˙t
; i++, 
«me_p
++)

122 c⁄° 
jîry_vÆue_t
 
«me_°r
 = 
	`jîry_¸óã_°rög
 (*
«me_p
);

123 
¥›
[
i
] = 
	`jîry_gë_¥›îty
 (
obj_vÆ
, 
«me_°r
);

124 
	`jîry_ªÀa£_vÆue
 (
«me_°r
);

126 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
¥›
[
i
]))

128 
jîry_Àngth_t
 
j
 = 0; j < 
i
; j++)

130 
	`jîry_ªÀa£_vÆue
 (
¥›
[
j
]);

133  
¥›
[
i
];

137 c⁄° 
jîry_vÆue_t
 
ªt
 = 
	`jîryx_¨g_å™sf‹m_¨gs
 (
¥›
, 
«me_˙t
, 
c_¨g_p
, 
c_¨g_˙t
);

139 
jîry_Àngth_t
 
i
 = 0; i < 
«me_˙t
; i++)

141 
	`jîry_ªÀa£_vÆue
 (
¥›
[
i
]);

144  
ªt
;

145 
	}
}

	@deps/jerry/jerry-ext/handler/handler-assert.c

16 
	~"jîrys¸ùt-ext/h™dÀr.h
"

17 
	~"jîrys¸ùt-p‹t.h
"

25 
jîry_vÆue_t


26 
	$jîryx_h™dÀr_as£π
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

27 c⁄° 
jîry_vÆue_t
 
this_p
,

28 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

29 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

31 (Ë
func_obj_vÆ
;

32 (Ë
this_p
;

34 i‡(
¨gs_˙t
 == 1

35 && 
	`jîry_vÆue_is_boﬁón
 (
¨gs_p
[0])

36 && 
	`jîry_gë_boﬁón_vÆue
 (
¨gs_p
[0]))

38  
	`jîry_¸óã_boﬁón
 (
åue
);

42 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Script Error:ássertion failed\n");

43 
	`jîry_p‹t_Áèl
 (
ERR_FAILED_INTERNAL_ASSERTION
);

45 
	}
}

	@deps/jerry/jerry-ext/handler/handler-gc.c

16 
	~"jîrys¸ùt-ext/h™dÀr.h
"

23 
jîry_vÆue_t


24 
	$jîryx_h™dÀr_gc
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

25 c⁄° 
jîry_vÆue_t
 
this_p
,

26 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

27 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

29 (Ë
func_obj_vÆ
;

30 (Ë
this_p
;

31 (Ë
¨gs_p
;

32 (Ë
¨gs_˙t
;

34 
	`jîry_gc
 ();

35  
	`jîry_¸óã_undeföed
 ();

36 
	}
}

	@deps/jerry/jerry-ext/handler/handler-print.c

16 
	~"jîrys¸ùt-ext/h™dÀr.h
"

17 
	~"debuggî.h
"

38 
jîry_vÆue_t


39 
	$jîryx_h™dÀr_¥öt
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

40 c⁄° 
jîry_vÆue_t
 
this_p
,

41 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

42 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

44 (Ë
func_obj_vÆ
;

45 (Ë
this_p
;

47 c⁄° *
nuŒ_°r
 = "\\u0000";

49 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_¸óã_undeföed
 ();

51 
jîry_Àngth_t
 
¨g_ödex
 = 0;

52 
	`jîry_vÆue_is_undeföed
 (
ªt_vÆ
Ë&& 
¨g_ödex
 < 
¨gs_˙t
;

53 
¨g_ödex
++)

55 
jîry_vÆue_t
 
°r_vÆ
 = 
	`jîry_vÆue_to_°rög
 (
¨gs_p
[
¨g_ödex
]);

57 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
°r_vÆ
))

59 i‡(
¨g_ödex
 != 0)

61 
	`jîryx_p‹t_h™dÀr_¥öt_ch¨
 (' ');

64 
jîry_size_t
 
sub°r_size
;

65 
jîry_Àngth_t
 
sub°r_pos
 = 0;

66 
jîry_ch¨_t
 
sub°r_buf
[256];

68 (
sub°r_size
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
°r_vÆ
,

69 
sub°r_pos
,

70 
sub°r_pos
 + 256,

71 
sub°r_buf
,

74 #ifde‡
JERRY_DEBUGGER


75 
	`jîry_debuggî_£nd_ouçut
 (
sub°r_buf
, 
sub°r_size
, 
JERRY_DEBUGGER_OUTPUT_OK
);

77 
jîry_size_t
 
chr_ödex
 = 0; chr_ödex < 
sub°r_size
; chr_index++)

79 
chr
 = (Ë
sub°r_buf
[
chr_ödex
];

80 i‡(
chr
 == '\0')

82 
jîry_size_t
 
nuŒ_ödex
 = 0; 
nuŒ_°r
[null_index] != 0;Çull_index++)

84 
	`jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
nuŒ_°r
[
nuŒ_ödex
]);

89 
	`jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
chr
);

93 
sub°r_pos
 +
sub°r_size
;

96 
	`jîry_ªÀa£_vÆue
 (
°r_vÆ
);

100 
ªt_vÆ
 = 
°r_vÆ
;

104 
	`jîryx_p‹t_h™dÀr_¥öt_ch¨
 ('\n');

106  
ªt_vÆ
;

107 
	}
}

	@deps/jerry/jerry-ext/handler/handler-register.c

16 
	~"jîrys¸ùt-ext/h™dÀr.h
"

27 
jîry_vÆue_t


28 
	$jîryx_h™dÀr_ªgi°î_globÆ
 (c⁄° 
jîry_ch¨_t
 *
«me_p
,

29 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

31 
jîry_vÆue_t
 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

32 
jîry_vÆue_t
 
fun˘i⁄_«me_vÆ
 = 
	`jîry_¸óã_°rög
 (
«me_p
);

33 
jîry_vÆue_t
 
fun˘i⁄_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr_p
);

35 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîry_£t_¥›îty
 (
globÆ_obj_vÆ
, 
fun˘i⁄_«me_vÆ
, 
fun˘i⁄_vÆ
);

37 
	`jîry_ªÀa£_vÆue
 (
fun˘i⁄_vÆ
);

38 
	`jîry_ªÀa£_vÆue
 (
fun˘i⁄_«me_vÆ
);

39 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

41  
ªsu…_vÆ
;

42 
	}
}

	@deps/jerry/jerry-ext/include/jerryscript-ext/arg.h

16 #i‚de‡
JERRYX_ARG_H


17 
	#JERRYX_ARG_H


	)

19 
	~<°dboﬁ.h
>

20 
	~<°ddef.h
>

21 
	~<°döt.h
>

22 
	~"jîrys¸ùt.h
"

24 #ifde‡
__˝lu•lus


32 
jîryx_¨g_t
 
	tjîryx_¨g_t
;

37 
jîryx_¨g_js_ôî©‹_t
 
	tjîryx_¨g_js_ôî©‹_t
;

42 
jîry_vÆue_t
 (*
	tjîryx_¨g_å™sf‹m_func_t
Ë(
	tjîryx_¨g_js_ôî©‹_t
 *
	tjs_¨g_ôî_p
,

43 c⁄° 
	tjîryx_¨g_t
 *
	tc_¨g_p
);

50 c⁄° 
jîry_ch¨_t
 **
«me_p
;

51 
jîry_Àngth_t
 
«me_˙t
;

52 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
;

53 
jîry_Àngth_t
 
c_¨g_˙t
;

54 } 
	tjîryx_¨g_obje˘_¥›s_t
;

59 
	sjîryx_¨g_t


61 
jîryx_¨g_å™sf‹m_func_t
 
func
;

62 *
de°
;

63 
uöçå_t
 
exåa_öfo
;

66 
jîry_vÆue_t
 
jîryx_¨g_å™sf‹m_this_™d_¨gs
 (c⁄° jîry_vÆue_à
this_vÆ
,

67 c⁄° 
jîry_vÆue_t
 *
js_¨g_p
,

68 c⁄° 
jîry_Àngth_t
 
js_¨g_˙t
,

69 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

70 
jîry_Àngth_t
 
c_¨g_˙t
);

72 
jîry_vÆue_t
 
jîryx_¨g_å™sf‹m_¨gs
 (c⁄° jîry_vÆue_à*
js_¨g_p
,

73 c⁄° 
jîry_Àngth_t
 
js_¨g_˙t
,

74 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

75 
jîry_Àngth_t
 
c_¨g_˙t
);

77 
jîry_vÆue_t
 
jîryx_¨g_å™sf‹m_obje˘_¥›îtõs
 (c⁄° jîry_vÆue_à
obj_vÆ
,

78 c⁄° 
jîry_ch¨_t
 **
«me_p
,

79 c⁄° 
jîry_Àngth_t
 
«me_˙t
,

80 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

81 
jîry_Àngth_t
 
c_¨g_˙t
);

88 
JERRYX_ARG_COERCE
,

89 
JERRYX_ARG_NO_COERCE


90 } 
	tjîryx_¨g_c€r˚_t
;

101 
JERRYX_ARG_OPTIONAL
,

106 
JERRYX_ARG_REQUIRED


107 } 
	tjîryx_¨g_›ti⁄Æ_t
;

114 
JERRYX_ARG_ROUND
,

115 
JERRYX_ARG_FLOOR
,

116 
JERRYX_ARG_CEIL


117 } 
	tjîryx_¨g_round_t
;

126 
JERRYX_ARG_CLAMP
,

127 
JERRYX_ARG_NO_CLAMP


128 } 
	tjîryx_¨g_˛amp_t
;

132 
	#JERRYX_ARG_INTEGER
(
ty≥
) \

133 
ölöe
 
jîryx_¨g_t
 \

134 
jîryx_¨g_
 ## 
	`ty≥
 (
ty≥
 ## 
_t
 *
de°
, \

135 
jîryx_¨g_round_t
 
round_Êag
, \

136 
jîryx_¨g_˛amp_t
 
˛amp_Êag
, \

137 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
, \

138 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

	)

140 
JERRYX_ARG_INTEGER
 (
uöt8
)

141 
JERRYX_ARG_INTEGER
 (
öt8
)

142 
JERRYX_ARG_INTEGER
 (
uöt16
)

143 
JERRYX_ARG_INTEGER
 (
öt16
)

144 
JERRYX_ARG_INTEGER
 (
uöt32
)

145 
JERRYX_ARG_INTEGER
 (
öt32
)

147 #unde‡
JERRYX_ARG_INTEGER


149 
ölöe
 
jîryx_¨g_t


150 
jîryx_¨g_numbî
 (*
de°
, 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
, 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

151 
ölöe
 
jîryx_¨g_t


152 
jîryx_¨g_boﬁón
 (
boﬁ
 *
de°
, 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
, 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

153 
ölöe
 
jîryx_¨g_t


154 
jîryx_¨g_°rög
 (*
de°
, 
uöt32_t
 
size
, 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
, 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

155 
ölöe
 
jîryx_¨g_t


156 
jîryx_¨g_fun˘i⁄
 (
jîry_vÆue_t
 *
de°
, 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

157 
ölöe
 
jîryx_¨g_t


158 
jîryx_¨g_«tive_poöãr
 (**
de°
, c⁄° 
jîry_obje˘_«tive_öfo_t
 *
öfo_p
, 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

159 
ölöe
 
jîryx_¨g_t


160 
jîryx_¨g_ign‹e
 ();

161 
ölöe
 
jîryx_¨g_t


162 
jîryx_¨g_cu°om
 (*
de°
, 
uöçå_t
 
exåa_öfo
, 
jîryx_¨g_å™sf‹m_func_t
 
func
);

163 
ölöe
 
jîryx_¨g_t


164 
jîryx_¨g_obje˘_¥›îtõs
 (c⁄° 
jîryx_¨g_obje˘_¥›s_t
 *
obje˘_¥›s_p
, 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
);

166 
jîry_vÆue_t


167 
jîryx_¨g_å™sf‹m_›ti⁄Æ
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

168 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
,

169 
jîryx_¨g_å™sf‹m_func_t
 
func
);

172 
jîry_vÆue_t
 
jîryx_¨g_js_ôî©‹_p›
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
);

173 
jîry_vÆue_t
 
jîryx_¨g_js_ôî©‹_≥ek
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
);

174 
jîry_Àngth_t
 
jîryx_¨g_js_ôî©‹_ödex
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
);

176 
	~"¨g.im∂.h
"

178 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-ext/include/jerryscript-ext/arg.impl.h

16 #i‚de‡
JERRYX_ARG_IMPL_H


17 
	#JERRYX_ARG_IMPL_H


	)

21 
	#JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL
(
ty≥
) \

22 
jîry_vÆue_t
 
jîryx_¨g_å™sf‹m_
 ## 
	`ty≥
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
, \

23 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
); \

24 
jîry_vÆue_t
 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
 ## 
	`_›ti⁄Æ
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
, \

25 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
);

	)

27 
	#JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
(
ty≥
) \

28 
	`JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL
 (
ty≥
) \

29 
	`JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL
 (
ty≥
 ## 
_°ri˘
)

	)

31 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
uöt8
)

32 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
öt8
)

33 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
uöt16
)

34 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
öt16
)

35 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
uöt32
)

36 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
öt32
)

37 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
numbî
)

38 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
°rög
)

39 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT
 (
boﬁón
)

41 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL
 (
fun˘i⁄
)

42 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL
 (
«tive_poöãr
)

43 
	$JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL
 (
obje˘_¥›s
)

45 
jîry_vÆue_t
 
	`jîryx_¨g_å™sf‹m_ign‹e
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

46 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
);

48 #unde‡
JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL


49 #unde‡
JERRYX_ARG_TRANSFORM_FUNC_WITH_OPTIONAL_AND_STRICT


57 
uöt8_t
 
round
;

58 
uöt8_t
 
˛amp
;

59 } 
	tjîryx_¨g_öt_›ti⁄_t
;

64 
	#JERRYX_ARG_INT
(
ty≥
) \

65 
ölöe
 
jîryx_¨g_t
 \

66 
jîryx_¨g_
 ## 
	`ty≥
 (
ty≥
 ## 
_t
 *
de°
, \

67 
jîryx_¨g_round_t
 
round_Êag
, \

68 
jîryx_¨g_˛amp_t
 
˛amp_Êag
, \

69 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
, \

70 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
) \

72 
jîryx_¨g_å™sf‹m_func_t
 
func
; \

73 i‡(
c€r˚_Êag
 =
JERRYX_ARG_NO_COERCE
) \

75 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
) \

77 
func
 = 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
 ## 
_°ri˘_›ti⁄Æ
; \

81 
func
 = 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
 ## 
_°ri˘
; \

86 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
) \

88 
func
 = 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
 ## 
_›ti⁄Æ
; \

92 
func
 = 
jîryx_¨g_å™sf‹m_
 ## 
ty≥
; \

95 c⁄° 
jîryx_¨g_öt_›ti⁄_t
 
öt_›ti⁄
 = { .
round
 = 
round_Êag
, .
˛amp
 = 
˛amp_Êag
 }; \

96  (
jîryx_¨g_t
) \

98 .
func
 = func, \

99 .
de°
 = (*) dest, \

100 .
exåa_öfo
 = *(
uöçå_t
 *Ë&
öt_›ti⁄
 \

102 
	}

	)
}

104 
	$JERRYX_ARG_INT
 (
uöt8
)

105 
	$JERRYX_ARG_INT
 (
öt8
)

106 
	$JERRYX_ARG_INT
 (
uöt16
)

107 
	$JERRYX_ARG_INT
 (
öt16
)

108 
	$JERRYX_ARG_INT
 (
uöt32
)

109 
	$JERRYX_ARG_INT
 (
öt32
)

111 #unde‡
JERRYX_ARG_INT


119 
ölöe
 
jîryx_¨g_t


120 
	$jîryx_¨g_numbî
 (*
de°
,

121 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
,

122 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
)

124 
jîryx_¨g_å™sf‹m_func_t
 
func
;

126 i‡(
c€r˚_Êag
 =
JERRYX_ARG_NO_COERCE
)

128 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

130 
func
 = 
jîryx_¨g_å™sf‹m_numbî_°ri˘_›ti⁄Æ
;

134 
func
 = 
jîryx_¨g_å™sf‹m_numbî_°ri˘
;

139 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

141 
func
 = 
jîryx_¨g_å™sf‹m_numbî_›ti⁄Æ
;

145 
func
 = 
jîryx_¨g_å™sf‹m_numbî
;

149  (
jîryx_¨g_t
)

151 .
func
 = func,

152 .
de°
 = (*) dest

154 
	}
}

162 
ölöe
 
jîryx_¨g_t


163 
	$jîryx_¨g_boﬁón
 (
boﬁ
 *
de°
,

164 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
,

165 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
)

167 
jîryx_¨g_å™sf‹m_func_t
 
func
;

169 i‡(
c€r˚_Êag
 =
JERRYX_ARG_NO_COERCE
)

171 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

173 
func
 = 
jîryx_¨g_å™sf‹m_boﬁón_°ri˘_›ti⁄Æ
;

177 
func
 = 
jîryx_¨g_å™sf‹m_boﬁón_°ri˘
;

182 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

184 
func
 = 
jîryx_¨g_å™sf‹m_boﬁón_›ti⁄Æ
;

188 
func
 = 
jîryx_¨g_å™sf‹m_boﬁón
;

192  (
jîryx_¨g_t
)

194 .
func
 = func,

195 .
de°
 = (*) dest

197 
	}
}

205 
ölöe
 
jîryx_¨g_t


206 
	$jîryx_¨g_°rög
 (*
de°
,

207 
uöt32_t
 
size
,

208 
jîryx_¨g_c€r˚_t
 
c€r˚_Êag
,

209 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
)

211 
jîryx_¨g_å™sf‹m_func_t
 
func
;

213 i‡(
c€r˚_Êag
 =
JERRYX_ARG_NO_COERCE
)

215 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

217 
func
 = 
jîryx_¨g_å™sf‹m_°rög_°ri˘_›ti⁄Æ
;

221 
func
 = 
jîryx_¨g_å™sf‹m_°rög_°ri˘
;

226 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

228 
func
 = 
jîryx_¨g_å™sf‹m_°rög_›ti⁄Æ
;

232 
func
 = 
jîryx_¨g_å™sf‹m_°rög
;

236  (
jîryx_¨g_t
)

238 .
func
 = func,

239 .
de°
 = (*) dest,

240 .
exåa_öfo
 = (
uöçå_t
Ë
size


242 
	}
}

250 
ölöe
 
jîryx_¨g_t


251 
	$jîryx_¨g_fun˘i⁄
 (
jîry_vÆue_t
 *
de°
,

252 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
)

254 
jîryx_¨g_å™sf‹m_func_t
 
func
;

256 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

258 
func
 = 
jîryx_¨g_å™sf‹m_fun˘i⁄_›ti⁄Æ
;

262 
func
 = 
jîryx_¨g_å™sf‹m_fun˘i⁄
;

265  (
jîryx_¨g_t
)

267 .
func
 = func,

268 .
de°
 = (*) dest

270 
	}
}

280 
ölöe
 
jîryx_¨g_t


281 
	$jîryx_¨g_«tive_poöãr
 (**
de°
,

282 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
öfo_p
,

283 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
)

285 
jîryx_¨g_å™sf‹m_func_t
 
func
;

287 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

289 
func
 = 
jîryx_¨g_å™sf‹m_«tive_poöãr_›ti⁄Æ
;

293 
func
 = 
jîryx_¨g_å™sf‹m_«tive_poöãr
;

296  (
jîryx_¨g_t
)

298 .
func
 = func,

299 .
de°
 = (*) dest,

300 .
exåa_öfo
 = (
uöçå_t
Ë
öfo_p


302 
	}
}

309 
ölöe
 
jîryx_¨g_t


310 
	$jîryx_¨g_ign‹e
 ()

312  (
jîryx_¨g_t
)

314 .
func
 = 
jîryx_¨g_å™sf‹m_ign‹e


316 
	}
}

323 
ölöe
 
jîryx_¨g_t


324 
	$jîryx_¨g_cu°om
 (*
de°
,

325 
uöçå_t
 
exåa_öfo
,

326 
jîryx_¨g_å™sf‹m_func_t
 
func
)

328  (
jîryx_¨g_t
)

330 .
func
 = func,

331 .
de°
 = dest,

332 .
exåa_öfo
 =Éxtra_info

334 
	}
}

341 
ölöe
 
jîryx_¨g_t


342 
	$jîryx_¨g_obje˘_¥›îtõs
 (c⁄° 
jîryx_¨g_obje˘_¥›s_t
 *
obje˘_¥›s
,

343 
jîryx_¨g_›ti⁄Æ_t
 
›t_Êag
)

345 
jîryx_¨g_å™sf‹m_func_t
 
func
;

347 i‡(
›t_Êag
 =
JERRYX_ARG_OPTIONAL
)

349 
func
 = 
jîryx_¨g_å™sf‹m_obje˘_¥›s_›ti⁄Æ
;

353 
func
 = 
jîryx_¨g_å™sf‹m_obje˘_¥›s
;

356  (
jîryx_¨g_t
)

358 .
func
 = func,

359 .
de°
 = 
NULL
,

360 .
exåa_öfo
 = (
uöçå_t
Ë
obje˘_¥›s


362 
	}
}

	@deps/jerry/jerry-ext/include/jerryscript-ext/autorelease.h

16 #i‚de‡
JERRYX_AUTORELEASE_H


17 
	#JERRYX_AUTORELEASE_H


	)

19 #ifde‡
__˝lu•lus


24 
	~"aut‹ñó£.im∂.h
"

49 
	#JERRYX_AR_VALUE_T
 
__JERRYX_AR_VALUE_T_IMPL


	)

51 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-ext/include/jerryscript-ext/autorelease.impl.h

16 #i‚de‡
JERRYX_AUTORELEASE_IMPL_H


17 
	#JERRYX_AUTORELEASE_IMPL_H


	)

19 
	~"jîrys¸ùt.h
"

21 #ifde‡
__GNUC__


28 
ölöe
 

29 
	$jîryx_aut‹ñó£_˛ónup
 (c⁄° 
jîry_vÆue_t
 *
vÆue
)

31 
	`jîry_ªÀa£_vÆue
 (*
vÆue
);

32 
	}
}

34 
	#__JERRYX_AR_VALUE_T_IMPL
 c⁄° 
jîry_vÆue_t
 
	`__©åibuã__
 ((
	`__˛ónup__
(
jîryx_aut‹ñó£_˛ónup
)))

	)

	@deps/jerry/jerry-ext/include/jerryscript-ext/handler.h

16 #i‚de‡
JERRYX_HANDLER_H


17 
	#JERRYX_HANDLER_H


	)

19 
	~"jîrys¸ùt.h
"

21 #ifde‡
__˝lu•lus


30 
jîry_vÆue_t
 
jîryx_h™dÀr_ªgi°î_globÆ
 (c⁄° 
jîry_ch¨_t
 *
«me_p
,

31 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
);

37 
jîry_vÆue_t
 
jîryx_h™dÀr_as£π
 (c⁄° jîry_vÆue_à
func_obj_vÆ
, c⁄° jîry_vÆue_à
this_p
,

38 c⁄° 
jîry_vÆue_t
 
¨gs_p
[], c⁄° 
jîry_Àngth_t
 
¨gs_˙t
);

39 
jîry_vÆue_t
 
jîryx_h™dÀr_gc
 (c⁄° jîry_vÆue_à
func_obj_vÆ
, c⁄° jîry_vÆue_à
this_p
,

40 c⁄° 
jîry_vÆue_t
 
¨gs_p
[], c⁄° 
jîry_Àngth_t
 
¨gs_˙t
);

41 
jîry_vÆue_t
 
jîryx_h™dÀr_¥öt
 (c⁄° jîry_vÆue_à
func_obj_vÆ
, c⁄° jîry_vÆue_à
this_p
,

42 c⁄° 
jîry_vÆue_t
 
¨gs_p
[], c⁄° 
jîry_Àngth_t
 
¨gs_˙t
);

53 
jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
c
);

55 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-ext/include/jerryscript-ext/module.h

16 #i‚de‡
JERRYX_MODULE_H


17 
	#JERRYX_MODULE_H


	)

19 
	~"jîrys¸ùt.h
"

21 #ifde‡
__GNUC__


22 
	#JERRYX_NATIVE_MODULES_SUPPORTED


	)

25 #ifde‡
JERRYX_NATIVE_MODULES_SUPPORTED


26 
	~"jîrys¸ùt-ext/£˘i⁄.im∂.h
"

31 
	$jîry_vÆue_t
 (*
	tjîryx_«tive_moduÀ_⁄_ªsﬁve_t
) ();

39 
jîry_ch¨_t
 *
«me
;

40 
jîryx_«tive_moduÀ_⁄_ªsﬁve_t
 
⁄_ªsﬁve
;

41 } 
	tjîryx_«tive_moduÀ_t
;

48 
	#JERRYX_NATIVE_MODULE
(
moduÀ_«me
, 
⁄_ªsﬁve_cb
) \

49 c⁄° 
jîryx_«tive_moduÀ_t
 
_moduÀ
 
	`JERRYX_SECTION_ATTRIBUTE
(
jîryx_moduÀs
) = \

51 .
«me
 = ((
jîry_ch¨_t
 *) #module_name), \

52 .
⁄_ªsﬁve
 = (
⁄_ªsﬁve_cb
) \

53 
	}
};

	)

59 
boﬁ
 
jîryx_moduÀ_«tive_ªsﬁvî
 (c⁄° 
jîry_ch¨_t
 *
«me
, 
jîry_vÆue_t
 *
ªsu…
);

66 
	$boﬁ
 (*
	tjîryx_moduÀ_ªsﬁvî_t
Ë(c⁄° 
	tjîry_ch¨_t
 *
	t«me
, 
	tjîry_vÆue_t
 *
	tªsu…
);

72 
jîry_vÆue_t
 
	`jîryx_moduÀ_ªsﬁve
 (c⁄° 
jîry_ch¨_t
 *
«me
, c⁄° 
jîryx_moduÀ_ªsﬁvî_t
 *
ªsﬁvîs
, 
size_t
 
cou¡
);

	@deps/jerry/jerry-ext/include/jerryscript-ext/section.impl.h

16 #i‚de‡
JERRYX_SECTION_IMPL_H


17 
	#JERRYX_SECTION_IMPL_H


	)

24 #ifde‡
__MACH__


25 
	#JERRYX_SECTION_NAME
(
«me
Ë"__DATA," #«me

	)

27 
	#JERRYX_SECTION_NAME
(
«me
Ë#«me

	)

33 
	#JERRYX_SECTION_ATTRIBUTE
(
«me
) \

34 
	`__©åibuã__
 ((
u£d
, 
	`£˘i⁄
 (
	`JERRYX_SECTION_NAME
 (
«me
)), 
	`Æig√d
 ( (*))))

	)

46 #ifde‡
__MACH__


47 
	#JERRYX_SECTION_DECLARE
(
«me
, 
ty≥
) \

48 c⁄° 
ty≥
 
__°¨t_
 ## 
«me
[] 
	`__asm
("section$start$__DATA$" #name); \

49 c⁄° 
ty≥
 
__°›_
 ## 
«me
[] 
	`__asm
("£˘i⁄$íd$__DATA$" #«me);

	)

51 
	#JERRYX_SECTION_DECLARE
(
«me
, 
ty≥
) \

52 c⁄° 
ty≥
 
__°¨t_
 ## 
«me
[] 
	`__©åibuã__
((
wók
)); \

53 c⁄° 
ty≥
 
__°›_
 ## 
«me
[] 
	`__©åibuã__
((
wók
));

	)

	@deps/jerry/jerry-ext/module/module.c

16 
	~<°rög.h
>

17 
	~"jîrys¸ùt.h
"

18 
	~"jîrys¸ùt-ext/moduÀ.h
"

20 c⁄° 
jîry_ch¨_t
 *
	gmoduÀ_«me_¥›îty_«me
 = (jerry_char_t *) "moduleName";

21 c⁄° 
jîry_ch¨_t
 *
	gmoduÀ_nŸ_found
 = (jerry_char_t *) "ModuleÇot found";

31 
jîry_vÆue_t


32 
	$jîryx_moduÀ_¸óã_îr‹
 (
jîry_îr‹_t
 
îr‹_ty≥
,

33 c⁄° 
jîry_ch¨_t
 *
mesßge
,

34 c⁄° 
jîry_ch¨_t
 *
moduÀ_«me
)

36 
jîry_vÆue_t
 
ªt
 = 
	`jîry_¸óã_îr‹
 (
îr‹_ty≥
, 
mesßge
);

37 
jîry_vÆue_t
 
¥›îty_«me
 = 
	`jîry_¸óã_°rög
 (
moduÀ_«me_¥›îty_«me
);

38 
jîry_vÆue_t
 
¥›îty_vÆue
 = 
	`jîry_¸óã_°rög_‰om_utf8
 (
moduÀ_«me
);

40 
	`jîry_ªÀa£_vÆue
 (
	`jîry_£t_¥›îty
 (
ªt
, 
¥›îty_«me
, 
¥›îty_vÆue
));

41 
	`jîry_ªÀa£_vÆue
 (
¥›îty_«me
);

42 
	`jîry_ªÀa£_vÆue
 (
¥›îty_vÆue
);

43  
ªt
;

44 
	}
}

50 
	$jîryx_moduÀ_m™agî_öô
 (*
u£r_d©a_p
)

52 *((
jîry_vÆue_t
 *Ë
u£r_d©a_p
Ë
	`jîry_¸óã_obje˘
 ();

53 
	}
}

59 
	$jîryx_moduÀ_m™agî_deöô
 (*
u£r_d©a_p
)

61 
	`jîry_ªÀa£_vÆue
 (*(
jîry_vÆue_t
 *Ë
u£r_d©a_p
);

62 
	}
}

67 c⁄° 
jîry_c⁄ãxt_d©a_m™agî_t
 
	gjîryx_moduÀ_m™agî
 =

69 .
öô_cb
 = 
jîryx_moduÀ_m™agî_öô
,

70 .
	gdeöô_cb
 = 
jîryx_moduÀ_m™agî_deöô
,

71 .
	gbyãs_√eded
 =  (
jîry_vÆue_t
)

77 
	$JERRYX_SECTION_DECLARE
 (
jîryx_moduÀs
, 
jîryx_«tive_moduÀ_t
)

82 
boﬁ


83 
	$jîryx_moduÀ_check_ˇche
 (
jîry_vÆue_t
 
ˇche
,

84 
jîry_vÆue_t
 
moduÀ_«me
,

85 
jîry_vÆue_t
 *
ªsu…
)

87 
boﬁ
 
ªt
 = 
Ál£
;

90 
jîry_vÆue_t
 
js_has_¥›îty
 = 
	`jîry_has_¥›îty
 (
ˇche
, 
moduÀ_«me
);

93 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
js_has_¥›îty
))

95 
boﬁ
 
has_¥›îty
 = 
	`jîry_gë_boﬁón_vÆue
 (
js_has_¥›îty
);

98 i‡(
has_¥›îty
)

100 (*
ªsu…
Ë
	`jîry_gë_¥›îty
 (
ˇche
, 
moduÀ_«me
);

101 
ªt
 = 
åue
;

105 
	`jîry_ªÀa£_vÆue
 (
js_has_¥›îty
);

107  
ªt
;

108 
	}
}

116 
jîry_vÆue_t


117 
	$jîryx_moduÀ_add_to_ˇche
 (
jîry_vÆue_t
 
ˇche
,

118 
jîry_vÆue_t
 
moduÀ_«me
,

119 
jîry_vÆue_t
 
moduÀ
)

121 
jîry_vÆue_t
 
ªt
 = 
	`jîry_£t_¥›îty
 (
ˇche
, 
moduÀ_«me
, 
moduÀ
);

123 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt
))

125 
	`jîry_ªÀa£_vÆue
 (
moduÀ
);

129 
	`jîry_ªÀa£_vÆue
 (
ªt
);

130 
ªt
 = 
moduÀ
;

133  
ªt
;

134 
	}
}

136 #ifde‡
JERRYX_NATIVE_MODULES_SUPPORTED


137 c⁄° 
jîry_ch¨_t
 *
	g⁄_ªsﬁve_ab£¡
 = (jerry_char_t *) "Module on_resolve () mustÇot be NULL";

144 
boﬁ


145 
	$jîryx_moduÀ_«tive_ªsﬁvî
 (c⁄° 
jîry_ch¨_t
 *
«me
,

146 
jîry_vÆue_t
 *
ªsu…
)

148 
ödex
;

149 c⁄° 
jîryx_«tive_moduÀ_t
 *
moduÀ_p
 = 
NULL
;

152 
ödex
 = 0, 
moduÀ_p
 = &
__°¨t_jîryx_moduÀs
[0];

153 &
__°¨t_jîryx_moduÀs
[
ödex
] < 
__°›_jîryx_moduÀs
;

154 
ödex
++, 
moduÀ_p
 = &
__°¨t_jîryx_moduÀs
[index])

156 i‡(
moduÀ_p
->
«me
 !
NULL
 && !
	`°rcmp
 ((*) module_p->name, (*)Çame))

159 (*
ªsu…
Ë((
moduÀ_p
->
⁄_ªsﬁve
Ë? moduÀ_p->
	`⁄_ªsﬁve
 ()

160 : 
	`jîryx_moduÀ_¸óã_îr‹
 (
JERRY_ERROR_TYPE
, 
⁄_ªsﬁve_ab£¡
, 
«me
));

161  
åue
;

165  
Ál£
;

166 
	}
}

182 
jîry_vÆue_t


183 
	$jîryx_moduÀ_ªsﬁve
 (c⁄° 
jîry_ch¨_t
 *
«me
,

184 c⁄° 
jîryx_moduÀ_ªsﬁvî_t
 *
ªsﬁvîs_p
,

185 
size_t
 
ªsﬁvî_cou¡
)

187 
size_t
 
ödex
;

188 
jîry_vÆue_t
 
ªt
;

189 
jîry_vÆue_t
 
ö°™˚s
 = *(jîry_vÆue_à*Ë
	`jîry_gë_c⁄ãxt_d©a
 (&
jîryx_moduÀ_m™agî
);

190 
jîry_vÆue_t
 
moduÀ_«me
 = 
	`jîry_¸óã_°rög_‰om_utf8
 (
«me
);

193 i‡(
	`jîryx_moduÀ_check_ˇche
 (
ö°™˚s
, 
moduÀ_«me
, &
ªt
))

195 
d⁄e
;

199 
ödex
 = 0; index < 
ªsﬁvî_cou¡
; index++)

201 i‡((*
ªsﬁvîs_p
[
ödex
]Ë(
«me
, &
ªt
))

203 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt
))

205 
ªt
 = 
	`jîryx_moduÀ_add_to_ˇche
 (
ö°™˚s
, 
moduÀ_«me
,Ñet);

207 
d⁄e
;

212 
ªt
 = 
	`jîryx_moduÀ_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, 
moduÀ_nŸ_found
, 
«me
);

214 
d⁄e
:

215 
	`jîry_ªÀa£_vÆue
 (
moduÀ_«me
);

216  
ªt
;

217 
	}
}

	@deps/jerry/jerry-libc/arch/arm-v7.h

16 #i‚de‡
ASM_ARM_H


17 
	#ASM_ARM_H


	)

23 
	#SYSCALL_0
 \

24 
push
 {
r4
-
r12
, 
Ã
}; \

26 
mov
 
r7
, 
r0
; \

28 
svc
 #0; \

30 
p›
 {
r4
-
r12
, 
pc
};

	)

37 
	#SYSCALL_1
 \

38 
push
 {
r4
-
r12
, 
Ã
}; \

40 
mov
 
r7
, 
r0
; \

41 
mov
 
r0
, 
r1
; \

43 
svc
 #0; \

45 
p›
 {
r4
-
r12
, 
pc
};

	)

53 
	#SYSCALL_2
 \

54 
push
 {
r4
-
r12
, 
Ã
}; \

56 
mov
 
r7
, 
r0
; \

57 
mov
 
r0
, 
r1
; \

58 
mov
 
r1
, 
r2
; \

60 
svc
 #0; \

62 
p›
 {
r4
-
r12
, 
pc
};

	)

71 
	#SYSCALL_3
 \

72 
push
 {
r4
-
r12
, 
Ã
}; \

74 
mov
 
r7
, 
r0
; \

75 
mov
 
r0
, 
r1
; \

76 
mov
 
r1
, 
r2
; \

77 
mov
 
r2
, 
r3
; \

79 
svc
 #0; \

81 
p›
 {
r4
-
r12
, 
pc
};

	)

83 #ifde‡
ENABLE_INIT_FINI


87 
	#_INIT
 \

88 
bl
 
libc_öô_¨øy
;

	)

90 
	#_INIT


	)

104 
	#_START
 \

105 
_INIT
; \

107 
ldr
 
r0
, [
•
, #0]; \

108 
add
 
r1
, 
•
, #4; \

109 
bl
 
maö
; \

111 
bl
 
exô
; \

113 
b
 1b;

	)

120 #ifde‡
__TARGET_HOST_ARMv7_HARD_FLOAT


121 
	#_STORE_VFP_S16_S31_IF_HARD_FLOAT
 \

122 
v°m
 
r0
!, {
s16
 - 
s31
};

	)

123 
	#_LOAD_VFP_S16_S31_IF_HARD_FLOAT
 \

124 
vldm
 
r0
!, {
s16
 - 
s31
};

	)

126 
	#_STORE_VFP_S16_S31_IF_HARD_FLOAT


	)

127 
	#_LOAD_VFP_S16_S31_IF_HARD_FLOAT


	)

151 
	#_SETJMP
 \

152 
°mü
 
r0
!, {
r4
 - 
r11
, 
•
, 
Ã
}; \

154 
_STORE_VFP_S16_S31_IF_HARD_FLOAT
 \

156 
mov
 
r0
, #0; \

158 
bx
 
Ã
;

	)

179 
	#_LONGJMP
 \

180 
ldmü
 
r0
!, {
r4
 - 
r11
, 
•
, 
Ã
}; \

182 
_LOAD_VFP_S16_S31_IF_HARD_FLOAT
 \

184 
mov
 
r0
, 
r1
; \

185 
cmp
 
r0
, #0; \

186 
b√
 1f; \

187 
mov
 
r0
, #1; \

190 
bx
 
Ã
;

	)

	@deps/jerry/jerry-libc/arch/x86-32.h

16 #i‚de‡
ASM_X86_H


17 
	#ASM_X86_H


	)

24 
	#SYSCALL_0
 \

25 
push
 %
edi
; \

26 
push
 %
esi
; \

27 
push
 %
ebx
; \

28 
mov
 0x10 (%
e•
), %
óx
; \

29 
$0x80
; \

30 
p›
 %
ebx
; \

31 
p›
 %
esi
; \

32 
p›
 %
edi
; \

33 
ªt
;

	)

41 
	#SYSCALL_1
 \

42 
push
 %
edi
; \

43 
push
 %
esi
; \

44 
push
 %
ebx
; \

45 
mov
 0x10 (%
e•
), %
óx
; \

46 
mov
 0x14 (%
e•
), %
ebx
; \

47 
$0x80
; \

48 
p›
 %
ebx
; \

49 
p›
 %
esi
; \

50 
p›
 %
edi
; \

51 
ªt
;

	)

60 
	#SYSCALL_2
 \

61 
push
 %
edi
; \

62 
push
 %
esi
; \

63 
push
 %
ebx
; \

64 
mov
 0x10 (%
e•
), %
óx
; \

65 
mov
 0x14 (%
e•
), %
ebx
; \

66 
mov
 0x18 (%
e•
), %
ecx
; \

67 
$0x80
; \

68 
p›
 %
ebx
; \

69 
p›
 %
esi
; \

70 
p›
 %
edi
; \

71 
ªt
;

	)

81 
	#SYSCALL_3
 \

82 
push
 %
edi
; \

83 
push
 %
esi
; \

84 
push
 %
ebx
; \

85 
mov
 0x10 (%
e•
), %
óx
; \

86 
mov
 0x14 (%
e•
), %
ebx
; \

87 
mov
 0x18 (%
e•
), %
ecx
; \

88 
mov
 0x1¯(%
e•
), %
edx
; \

89 
$0x80
; \

90 
p›
 %
ebx
; \

91 
p›
 %
esi
; \

92 
p›
 %
edi
; \

93 
ªt
;

	)

95 #ifde‡
ENABLE_INIT_FINI


99 
	#_INIT
 \

100 
ˇŒ
 
libc_öô_¨øy
;

	)

102 
	#_INIT


	)

118 
	#_START
 \

119 
_INIT
; \

121 
mov
 %
e•
, %
óx
; \

122 
add
 
$4
, %
óx
; \

123 
push
 %
óx
; \

124 
mov
 0x4 (%
e•
), %
óx
; \

125 
push
 %
óx
; \

127 
ˇŒ
 
maö
; \

129 
push
 %
óx
; \

130 
ˇŒ
 
exô
; \

133 
jmp
 1b;

	)

164 
	#_SETJMP
 \

165 
	`mov
 (%
e•
), %
óx
; \

166 
mov
 0x4 (%
e•
), %
edx
; \

168 
mov
 %
ebx
, 0x00 (%
edx
); \

169 
mov
 %
e•
, 0x04 (%
edx
); \

170 
mov
 %
ebp
, 0x08 (%
edx
); \

171 
mov
 %
esi
, 0x0¯(%
edx
); \

172 
mov
 %
edi
, 0x10 (%
edx
); \

173 
mov
 %
óx
, 0x14 (%
edx
); \

174 
‚°cw
 0x18 (%
edx
); \

176 
x‹
 %
óx
, %eax; \

178 
ªt


	)

206 
	#_LONGJMP
 \

207 
mov
 0x4 (%
e•
), %
edx
; \

208 
mov
 0x8 (%
e•
), %
óx
; \

210 
mov
 0x0 (%
edx
), %
ebx
; \

211 
mov
 0x4 (%
edx
), %
e•
; \

212 
mov
 0x8 (%
edx
), %
ebp
; \

213 
mov
 0x¯(%
edx
), %
esi
; \

214 
mov
 0x10 (%
edx
), %
edi
; \

215 
mov
 0x14 (%
edx
), %
ecx
; \

216 
Êdcw
 0x18 (%
edx
); \

218 
mov
 %
ecx
, (%
e•
); \

220 
ã°
 %
óx
, %eax; \

221 
jnz
 1f; \

222 
x‹
 %
óx
, %eax; \

225 
ªt


	)

	@deps/jerry/jerry-libc/arch/x86-64.h

16 #i‚de‡
ASM_X64_H


17 
	#ASM_X64_H


	)

23 
	#SYSCALL_0
 \

24 
mov
 %
rdi
, %
øx
; \

25 
sysˇŒ
; \

26 
ªt
;

	)

33 
	#SYSCALL_1
 \

34 
mov
 %
rdi
, %
øx
; \

35 
mov
 %
rsi
, %
rdi
; \

36 
sysˇŒ
; \

37 
ªt
;

	)

45 
	#SYSCALL_2
 \

46 
mov
 %
rdi
, %
øx
; \

47 
mov
 %
rsi
, %
rdi
; \

48 
mov
 %
rdx
, %
rsi
; \

49 
sysˇŒ
; \

50 
ªt
;

	)

59 
	#SYSCALL_3
 \

60 
mov
 %
rdi
, %
øx
; \

61 
mov
 %
rsi
, %
rdi
; \

62 
mov
 %
rdx
, %
rsi
; \

63 
mov
 %
rcx
, %
rdx
; \

64 
sysˇŒ
; \

65 
ªt
;

	)

67 #ifde‡
ENABLE_INIT_FINI


71 
	#_INIT
 \

72 
ˇŒ
 
libc_öô_¨øy
;

	)

74 
	#_INIT


	)

90 
	#_START
 \

91 
_INIT
; \

93 
	`mov
 (%
r•
), %
rdi
; \

94 
mov
 %
r•
, %
rsi
; \

95 
add
 
$8
, %
rsi
; \

96 
ˇŒq
 
maö
; \

98 
mov
 %
øx
, %
rdi
; \

99 
ˇŒq
 
exô
; \

101 
jmp
 1b;

	)

134 
	#_SETJMP
 \

135 
	`mov
 (%
r•
), %
øx
; \

137 
mov
 %
r•
, 0x00(%
rdi
); \

138 
mov
 %
øx
, 0x08(%
rdi
); \

139 
mov
 %
rbp
, 0x10(%
rdi
); \

140 
mov
 %
rbx
, 0x18(%
rdi
); \

141 
mov
 %
r12
, 0x20(%
rdi
); \

142 
mov
 %
r13
, 0x28(%
rdi
); \

143 
mov
 %
r14
, 0x30(%
rdi
); \

144 
mov
 %
r15
, 0x38(%
rdi
); \

145 
‚°cw
 0x40(%
rdi
); \

147 
x‹
 %
øx
, %rax; \

149 
ªt
;

	)

178 
	#_LONGJMP
 \

179 
mov
 0x00(%
rdi
), %
r•
; \

180 
mov
 0x08(%
rdi
), %
øx
; \

181 
mov
 0x10(%
rdi
), %
rbp
; \

182 
mov
 0x18(%
rdi
), %
rbx
; \

183 
mov
 0x20(%
rdi
), %
r12
; \

184 
mov
 0x28(%
rdi
), %
r13
; \

185 
mov
 0x30(%
rdi
), %
r14
; \

186 
mov
 0x38(%
rdi
), %
r15
; \

187 
Êdcw
 0x40(%
rdi
); \

189 
mov
 %
øx
, (%
r•
); \

191 
mov
 %
rsi
, %
øx
; \

193 
ã°
 %
øx
, %rax; \

194 
jnz
 1f; \

195 
mov
 
$1
, %
øx
; \

198 
ªt


	)

	@deps/jerry/jerry-libc/include/assert.h

16 #i‚de‡
JERRY_LIBC_ASSERT_H


17 
	#JERRY_LIBC_ASSERT_H


	)

19 
	~<°dio.h
>

20 
	~<°dlib.h
>

22 #ifde‡
__˝lu•lus


27 #i‚de‡
NDEBUG


28 
	#as£π
(
x
) \

31 i‡(!(
x
)) \

33 
	`Ârötf
 (
°dîr
, "%s:%d: %s: As£πi⁄ `%s' faûed.", 
__FILE__
, 
__LINE__
, 
__func__
, #x); \

34 
	`ab‹t
 (); \

36 } 0)

	)

38 
	#as£π
(
x
Ë((Ë0)

	)

41 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libc/include/setjmp.h

16 #i‚de‡
JERRY_LIBC_SETJMP_H


17 
	#JERRY_LIBC_SETJMP_H


	)

19 
	~<°döt.h
>

21 #ifde‡
__˝lu•lus


56 
uöt64_t
 
	tjmp_buf
[14];

58 
£tjmp
 (
jmp_buf
 
ív
);

59 
l⁄gjmp
 (
jmp_buf
 
ív
, 
vÆ
);

61 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libc/include/stdio.h

16 #i‚de‡
JERRY_LIBC_STDIO_H


17 
	#JERRY_LIBC_STDIO_H


	)

19 
	~<°d¨g.h
>

20 
	~<°ddef.h
>

22 #ifde‡
__˝lu•lus


30 
	tFILE
;

35 
FILE
 *
°dö
;

36 
FILE
 *
°dout
;

37 
FILE
 *
°dîr
;

42 
vÂrötf
 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, 
va_li°
 
≠
);

43 
FILE
 *
f›í
 (c⁄° *
∑th
, c⁄° *
mode
);

44 
f˛o£
 (
FILE
 *
Â
);

45 
size_t
 
‰ód
 (*
±r
, size_à
size
, size_à
nmemb
, 
FILE
 *
°ªam
);

46 
size_t
 
fwrôe
 (c⁄° *
±r
, size_à
size
, size_à
nmemb
, 
FILE
 *
°ªam
);

47 
¥ötf
 (c⁄° *
f‹m©
, ...);

48 
Ârötf
 (
FILE
 *
°ªam
, c⁄° *
f‹m©
, ...);

50 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libc/include/stdlib.h

16 #i‚de‡
JERRY_LIBC_STDLIB_H


17 
	#JERRY_LIBC_STDLIB_H


	)

19 #ifde‡
__˝lu•lus


30 
	#RAND_MAX
 (0x7fffffffu)

	)

32 
__©åibuã__
 ((
n‹ëu∫
)Ë
exô
 ();

33 
__©åibuã__
 ((
n‹ëu∫
)Ë
ab‹t
 ();

34 
ønd
 ();

35 
§™d
 ();

36 
°πﬁ
 (const *, **, );

38 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libc/include/string.h

16 #i‚de‡
JERRY_LIBC_STRING_H


17 
	#JERRY_LIBC_STRING_H


	)

19 
	~<°ddef.h
>

21 #ifde‡
__˝lu•lus


26 *
mem˝y
 (*
de°
, c⁄° *
§c
, 
size_t
 
n
);

27 *
mem£t
 (*
s
, 
c
, 
size_t
 
n
);

28 *
memmove
 (*
de°
, c⁄° *
§c
, 
size_t
 
n
);

29 
memcmp
 (c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
);

30 
°rcmp
 (c⁄° *
s1
, c⁄° *
s2
);

31 
°∫cmp
 (c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
);

32 *
°∫˝y
 (*
de°
, c⁄° *
§c
, 
size_t
 
n
);

33 
size_t
 
°æí
 (c⁄° *
s
);

35 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libc/include/sys/time.h

16 #i‚de‡
JERRY_LIBC_TIME_H


17 
	#JERRY_LIBC_TIME_H


	)

19 #ifde‡
__˝lu•lus


27 
	stimevÆ


29 
tv_£c
;

30 
tv_u£c
;

36 
	stimez⁄e


38 
tz_möuãswe°
;

39 
tz_d°time
;

42 
gëtimeofday
 (*
ç
, *
tzp
);

44 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libc/jerry-libc-defs.h

16 #i‚de‡
DEFS_H


17 
	#DEFS_H


	)

19 
	~<°döt.h
>

20 
	~<°dboﬁ.h
>

21 
	~<°ddef.h
>

26 
	#__©å_unu£d___
 
	`__©åibuã__
((
unu£d
))

	)

27 
	#__©å_u£d___
 
	`__©åibuã__
((
u£d
))

	)

28 
	#__©å_n‹ëu∫___
 
	`__©åibuã__
((
n‹ëu∫
))

	)

29 
	#__©å_noölöe___
 
	`__©åibuã__
((
noölöe
))

	)

30 
	#__©å_wók___
 
	`__©åibuã__
((
wók
))

	)

32 #ifde‡
ENABLE_INIT_FINI


33 
libc_öô_¨øy
 ();

34 
libc_föi_¨øy
 ();

	@deps/jerry/jerry-libc/jerry-libc-init.c

29 
	~"jîry-libc-defs.h
"

31 #ifde‡
ENABLE_INIT_FINI


34 (*
	tlibc_öô_‚_t
) ();

36 
libc_öô_‚_t
 
__¥eöô_¨øy_°¨t
[] 
__©å_wók___
;

37 
libc_öô_‚_t
 
__¥eöô_¨øy_íd
[] 
__©å_wók___
;

38 
libc_öô_‚_t
 
__öô_¨øy_°¨t
[] 
__©å_wók___
;

39 
libc_öô_‚_t
 
__öô_¨øy_íd
[] 
__©å_wók___
;

40 
libc_öô_‚_t
 
__föi_¨øy_°¨t
[] 
__©å_wók___
;

41 
libc_öô_‚_t
 
__föi_¨øy_íd
[] 
__©å_wók___
;

42 
	`_öô
 ();

43 
	`_föi
 ();

49 
__©å_wók___


50 
	$_öô
 ()

52 
	}
}

57 
__©å_wók___


58 
	$_föi
 ()

60 
	}
}

66 
	$libc_öô_¨øy
 ()

68 
size_t
 
cou¡
 = (size_tË(
__¥eöô_¨øy_íd
 - 
__¥eöô_¨øy_°¨t
);

69 
size_t
 
i
 = 0; i < 
cou¡
; i++)

71 
__¥eöô_¨øy_°¨t
[
i
] ();

74 
	`_öô
 ();

76 
cou¡
 = (
size_t
Ë(
__öô_¨øy_íd
 - 
__öô_¨øy_°¨t
);

77 
size_t
 
i
 = 0; i < 
cou¡
; i++)

79 
__öô_¨øy_°¨t
[
i
] ();

81 
	}
}

87 
	$libc_föi_¨øy
 ()

89 
size_t
 
cou¡
 = (size_tË(
__föi_¨øy_íd
 - 
__föi_¨øy_°¨t
);

90 
size_t
 
i
 = 
cou¡
; i > 0; i--)

92 
__föi_¨øy_°¨t
[
i
 - 1] ();

95 
	`_föi
 ();

96 
	}
}

	@deps/jerry/jerry-libc/jerry-libc-printf.c

20 
	~<as£π.h
>

21 
	~<°d¨g.h
>

22 
	~<°dio.h
>

23 
	~<°rög.h
>

25 
	~"jîry-libc-defs.h
"

32 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_NONE
,

33 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_HH
,

34 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_H
,

35 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_L
,

36 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_LL
,

37 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_J
,

38 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_Z
,

39 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_T
,

40 
	mLIBC_PRINTF_ARG_LENGTH_TYPE_HIGHL


41 } 
	tlibc_¥ötf_¨g_Àngth_ty≥_t
;

46 
uöt8_t
 
	tlibc_¥ötf_¨g_Êags_mask_t
;

51 
	#LIBC_PRINTF_ARG_FLAG_LEFT_JUSTIFY
 (1 << 0)

	)

56 
	#LIBC_PRINTF_ARG_FLAG_PRINT_SIGN
 (1 << 1)

	)

61 
	#LIBC_PRINTF_ARG_FLAG_SPACE
 (1 << 2)

	)

66 
	#LIBC_PRINTF_ARG_FLAG_SHARP
 (1 << 3)

	)

71 
	#LIBC_PRINTF_ARG_FLAG_ZERO_PADDING
 (1 << 4)

	)

77 
	$libc_¥ötf_putch¨
 (
FILE
 *
°ªam
,

78 
ch¨a˘î
)

80 
	`fwrôe
 (&
ch¨a˘î
, 1,  (ch¨a˘î), 
°ªam
);

81 
	}
}

87 
	$libc_¥ötf_ju°ifõd_°rög_ouçut
 (
FILE
 *
°ªam
,

88 c⁄° *
°rög_p
,

89 
size_t
 
width
,

90 
boﬁ
 
is_À·_ju°ify
,

91 
boﬁ
 
is_zîo_∑ddög
)

93 c⁄° 
size_t
 
°r_Àngth
 = 
	`°æí
 (
°rög_p
);

95 
size_t
 
ouçuâed_Àngth
 = 0;

97 i‡(!
is_À·_ju°ify
)

99 
∑ddög_ch¨
 = 
is_zîo_∑ddög
 ? '0' : ' ';

101 
ouçuâed_Àngth
 + 
°r_Àngth
 < 
width
)

103 
	`libc_¥ötf_putch¨
 (
°ªam
, 
∑ddög_ch¨
);

104 
ouçuâed_Àngth
++;

108 
	`fwrôe
 (
°rög_p
, 1, 
°r_Àngth
 *  (*°rög_p), 
°ªam
);

109 
ouçuâed_Àngth
 +
°r_Àngth
;

111 i‡(
is_À·_ju°ify
)

113 
ouçuâed_Àngth
 < 
width
)

115 
	`libc_¥ötf_putch¨
 (
°ªam
, ' ');

116 
ouçuâed_Àngth
++;

119 
	}
}

125 
	$libc_¥ötf_uöt_to_°rög
 (
uötmax_t
 
vÆue
,

126 *
buf„r_p
,

127 
size_t
 
buf„r_size
,

128 c⁄° *
Æphabë
,

129 
uöt32_t
 
ødix
)

131 *
°r_buf„r_íd
 = 
buf„r_p
 + 
buf„r_size
;

132 *
°r_p
 = 
°r_buf„r_íd
;

133 *--
°r_p
 = '\0';

135 
	`as£π
 (
ødix
 >= 2);

137 i‡((
ødix
 & (radix - 1)) != 0)

142 
	`as£π
 ((
vÆue
 >> 32) == 0);

144 
uöt32_t
 
vÆue_lo
 = (uöt32_tË
vÆue
;

146 
vÆue_lo
 != 0)

148 
	`as£π
 (
°r_p
 !
buf„r_p
);

150 *--
°r_p
 = 
Æphabë
[ 
vÆue_lo
 % 
ødix
 ];

151 
vÆue_lo
 /
ødix
;

156 
uöt32_t
 
shi·
 = 0;

157 !(
ødix
 & (1u << 
shi·
)))

159 
shi·
++;

161 
	`as£π
 (
shi·
 <= 32);

164 
uöt32_t
 
vÆue_lo
 = (uöt32_tË
vÆue
;

165 
uöt32_t
 
vÆue_hi
 = (uöt32_tË(
vÆue
 >> 32);

167 
vÆue_lo
 != 0

168 || 
vÆue_hi
 != 0)

170 
	`as£π
 (
°r_p
 !
buf„r_p
);

172 *--
°r_p
 = 
Æphabë
[ 
vÆue_lo
 & (
ødix
 - 1) ];

173 
vÆue_lo
 >>
shi·
;

174 
vÆue_lo
 +(
vÆue_hi
 & (
ødix
 - 1)Ë<< (32 - 
shi·
);

175 
vÆue_hi
 >>
shi·
;

179 i‡(*
°r_p
 == '\0')

181 *--
°r_p
 = '0';

184 
	`as£π
 (
°r_p
 >
buf„r_p
 && så_∞< 
°r_buf„r_íd
);

186  
°r_p
;

187 
	}
}

195 
	$libc_¥ötf_wrôe_d_i
 (
FILE
 *
°ªam
,

196 
va_li°
 *
¨gs_li°_p
,

197 
libc_¥ötf_¨g_Êags_mask_t
 
Êags
,

198 
libc_¥ötf_¨g_Àngth_ty≥_t
 
Àngth
,

199 
uöt32_t
 
width
)

201 
	`as£π
 ((
Êags
 & 
LIBC_PRINTF_ARG_FLAG_SHARP
) == 0);

203 
boﬁ
 
is_sig√d
 = 
åue
;

204 
uötmax_t
 
vÆue
 = 0;

207 
boﬁ
 
sign
 = 
åue
;

208 c⁄° 
size_t
 
bôs_ö_byã
 = 8;

209 c⁄° 
uötmax_t
 
vÆue_sign_mask
 = ((uötmax_tË1Ë<< ( (
vÆue
Ë* 
bôs_ö_byã
 - 1);

211 
Àngth
)

213 
LIBC_PRINTF_ARG_LENGTH_TYPE_NONE
:

214 
LIBC_PRINTF_ARG_LENGTH_TYPE_HH
:

215 
LIBC_PRINTF_ARG_LENGTH_TYPE_H
:

217 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, );

221 
LIBC_PRINTF_ARG_LENGTH_TYPE_L
:

223 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, );

227 
LIBC_PRINTF_ARG_LENGTH_TYPE_LL
:

229 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, );

233 
LIBC_PRINTF_ARG_LENGTH_TYPE_J
:

235 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, 
ötmax_t
);

239 
LIBC_PRINTF_ARG_LENGTH_TYPE_Z
:

241 
is_sig√d
 = 
Ál£
;

242 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, 
size_t
);

246 
LIBC_PRINTF_ARG_LENGTH_TYPE_T
:

248 
is_sig√d
 = 
Ál£
;

249 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, 
±rdiff_t
);

253 
LIBC_PRINTF_ARG_LENGTH_TYPE_HIGHL
:

255 
	`as£π
 (
Ál£
 && "unsupportedÜength field L");

259 i‡(
is_sig√d
)

261 
sign
 = ((
vÆue
 & 
vÆue_sign_mask
) == 0);

263 i‡(!
sign
)

265 
vÆue
 = (
uötmax_t
) (-value);

269 
°r_buf„r
[ 32 ];

270 *
°rög_p
 = 
	`libc_¥ötf_uöt_to_°rög
 (
vÆue
,

271 
°r_buf„r
,

272  (
°r_buf„r
),

276 i‡(!
sign


277 || (
Êags
 & 
LIBC_PRINTF_ARG_FLAG_PRINT_SIGN
))

279 
	`as£π
 (
°rög_p
 > 
°r_buf„r
);

280 *--
°rög_p
 = (
sign
 ? '+' : '-');

282 i‡(
Êags
 & 
LIBC_PRINTF_ARG_FLAG_SPACE
)

286 
	`libc_¥ötf_putch¨
 (
°ªam
, ' ');

287 i‡(
width
 > 0)

289 
width
--;

293 
	`libc_¥ötf_ju°ifõd_°rög_ouçut
 (
°ªam
,

294 
°rög_p
,

295 
width
,

296 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_LEFT_JUSTIFY
,

297 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_ZERO_PADDING
);

298 
	}
}

306 
	$libc_¥ötf_wrôe_u_o_x_X
 (
FILE
 *
°ªam
,

307 
•ecifõr
,

308 
va_li°
 *
¨gs_li°_p
,

309 
libc_¥ötf_¨g_Êags_mask_t
 
Êags
,

310 
libc_¥ötf_¨g_Àngth_ty≥_t
 
Àngth
,

311 
uöt32_t
 
width
)

313 
uötmax_t
 
vÆue
;

315 
Àngth
)

317 
LIBC_PRINTF_ARG_LENGTH_TYPE_NONE
:

318 
LIBC_PRINTF_ARG_LENGTH_TYPE_HH
:

319 
LIBC_PRINTF_ARG_LENGTH_TYPE_H
:

321 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, );

325 
LIBC_PRINTF_ARG_LENGTH_TYPE_L
:

327 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, );

331 
LIBC_PRINTF_ARG_LENGTH_TYPE_LL
:

333 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, );

337 
LIBC_PRINTF_ARG_LENGTH_TYPE_J
:

339 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, uintmax_t);

343 
LIBC_PRINTF_ARG_LENGTH_TYPE_Z
:

345 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, 
size_t
);

349 
LIBC_PRINTF_ARG_LENGTH_TYPE_T
:

351 
vÆue
 = (
uötmax_t
Ë
	`va_¨g
 (*
¨gs_li°_p
, 
±rdiff_t
);

355 
LIBC_PRINTF_ARG_LENGTH_TYPE_HIGHL
:

357 
	`as£π
 (
Ál£
 && "unsupportedÜength field L");

363 
	`as£π
 (
Ál£
 && "unexpectedÜength field");

368 i‡(
Êags
 & 
LIBC_PRINTF_ARG_FLAG_SHARP
)

370 i‡(
vÆue
 !0 && 
•ecifõr
 != 'u')

372 
	`libc_¥ötf_putch¨
 (
°ªam
, '0');

374 i‡(
•ecifõr
 == 'x')

376 
	`libc_¥ötf_putch¨
 (
°ªam
, 'x');

378 i‡(
•ecifõr
 == 'X')

380 
	`libc_¥ötf_putch¨
 (
°ªam
, 'X');

384 
	`as£π
 (
•ecifõr
 == 'o');

389 
uöt32_t
 
ødix
;

390 c⁄° *
Æphabë
;

392 
•ecifõr
)

396 
Æphabë
 = "0123456789";

397 
ødix
 = 10;

403 
Æphabë
 = "01234567";

404 
ødix
 = 8;

410 
Æphabë
 = "0123456789abcdef";

411 
ødix
 = 16;

417 
Æphabë
 = "0123456789ABCDEF";

418 
ødix
 = 16;

424 
	`as£π
 (
Ál£
 && "unexpectedÅype field");

429 
°r_buf„r
[ 32 ];

430 c⁄° *
°rög_p
 = 
	`libc_¥ötf_uöt_to_°rög
 (
vÆue
,

431 
°r_buf„r
,

432  (
°r_buf„r
),

433 
Æphabë
,

434 
ødix
);

436 i‡(
Êags
 & 
LIBC_PRINTF_ARG_FLAG_PRINT_SIGN
)

440 
	`libc_¥ötf_putch¨
 (
°ªam
, '+');

441 i‡(
width
 > 0)

443 
width
--;

446 i‡(
Êags
 & 
LIBC_PRINTF_ARG_FLAG_SPACE
)

450 
	`libc_¥ötf_putch¨
 (
°ªam
, ' ');

451 i‡(
width
 > 0)

453 
width
--;

457 
	`libc_¥ötf_ju°ifõd_°rög_ouçut
 (
°ªam
,

458 
°rög_p
,

459 
width
,

460 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_LEFT_JUSTIFY
,

461 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_ZERO_PADDING
);

462 
	}
}

470 
	$vÂrötf
 (
FILE
 *
°ªam
,

471 c⁄° *
f‹m©
,

472 
va_li°
 
¨gs
)

474 
va_li°
 
¨gs_c›y
;

476 
	`va_c›y
 (
¨gs_c›y
, 
¨gs
);

478 c⁄° *
f‹m©_ôî_p
 = 
f‹m©
;

480 *
f‹m©_ôî_p
)

482 i‡(*
f‹m©_ôî_p
 != '%')

484 
	`libc_¥ötf_putch¨
 (
°ªam
, *
f‹m©_ôî_p
);

488 
libc_¥ötf_¨g_Êags_mask_t
 
Êags
 = 0;

489 
uöt32_t
 
width
 = 0;

490 
libc_¥ötf_¨g_Àngth_ty≥_t
 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_NONE
;

492 
åue
)

494 
f‹m©_ôî_p
++;

496 i‡(*
f‹m©_ôî_p
 == '-')

498 
Êags
 |
LIBC_PRINTF_ARG_FLAG_LEFT_JUSTIFY
;

500 i‡(*
f‹m©_ôî_p
 == '+')

502 
Êags
 |
LIBC_PRINTF_ARG_FLAG_PRINT_SIGN
;

504 i‡(*
f‹m©_ôî_p
 == ' ')

506 
Êags
 |
LIBC_PRINTF_ARG_FLAG_SPACE
;

508 i‡(*
f‹m©_ôî_p
 == '#')

510 
Êags
 |
LIBC_PRINTF_ARG_FLAG_SHARP
;

512 i‡(*
f‹m©_ôî_p
 == '0')

514 
Êags
 |
LIBC_PRINTF_ARG_FLAG_ZERO_PADDING
;

522 i‡(*
f‹m©_ôî_p
 == '*')

524 
	`as£π
 (
Ál£
 && "unsupported width field *");

528 *
f‹m©_ôî_p
 >= '0' && *format_iter_p <= '9')

530 
width
 = width * 10u + (
uöt32_t
Ë(*
f‹m©_ôî_p
 - '0');

532 
f‹m©_ôî_p
++;

535 i‡(*
f‹m©_ôî_p
 == '.')

537 
	`as£π
 (
Ál£
 && "unsupportedÖrecision field");

540 *
f‹m©_ôî_p
)

544 
f‹m©_ôî_p
++;

545 i‡(*
f‹m©_ôî_p
 == 'h')

547 
f‹m©_ôî_p
++;

549 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_HH
;

553 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_H
;

560 
f‹m©_ôî_p
++;

561 i‡(*
f‹m©_ôî_p
 == 'l')

563 
f‹m©_ôî_p
++;

565 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_LL
;

569 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_L
;

576 
f‹m©_ôî_p
++;

577 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_J
;

583 
f‹m©_ôî_p
++;

584 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_Z
;

590 
f‹m©_ôî_p
++;

591 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_T
;

597 
f‹m©_ôî_p
++;

598 
Àngth
 = 
LIBC_PRINTF_ARG_LENGTH_TYPE_HIGHL
;

603 *
f‹m©_ôî_p
)

608 
	`libc_¥ötf_wrôe_d_i
 (
°ªam
, &
¨gs_c›y
, 
Êags
, 
Àngth
, 
width
);

617 
	`libc_¥ötf_wrôe_u_o_x_X
 (
°ªam
, *
f‹m©_ôî_p
, &
¨gs_c›y
, 
Êags
, 
Àngth
, 
width
);

630 
	`as£π
 (
Ál£
 && "unsupported doubleÅype field");

636 i‡(
Àngth
 & 
LIBC_PRINTF_ARG_LENGTH_TYPE_L
)

638 
	`as£π
 (
Ál£
 && "unsupportedÜength field L");

642 
°r
[2] =

644 (Ë
	`va_¨g
 (
¨gs_c›y
, ),

648 
	`libc_¥ötf_ju°ifõd_°rög_ouçut
 (
°ªam
,

649 
°r
,

650 
width
,

651 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_LEFT_JUSTIFY
,

652 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_ZERO_PADDING
);

659 i‡(
Àngth
 & 
LIBC_PRINTF_ARG_LENGTH_TYPE_L
)

661 
	`as£π
 (
Ál£
 && "unsupportedÜength field L");

665 *
°r_p
 = 
	`va_¨g
 (
¨gs_c›y
, *);

667 
	`libc_¥ötf_ju°ifõd_°rög_ouçut
 (
°ªam
,

668 
°r_p
,

669 
width
,

670 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_LEFT_JUSTIFY
,

671 
Êags
 & 
LIBC_PRINTF_ARG_FLAG_ZERO_PADDING
);

678 
va_li°
 
¨gs_c›y2
;

679 
	`va_c›y
 (
¨gs_c›y2
, 
¨gs_c›y
);

680 *
vÆue
 = 
	`va_¨g
 (
¨gs_c›y2
, *);

681 
	`va_íd
 (
¨gs_c›y2
);

683 i‡(
vÆue
 =
NULL
)

685 
	`¥ötf
 ("(nil)");

689 
	`libc_¥ötf_wrôe_u_o_x_X
 (
°ªam
,

691 &
¨gs_c›y
,

692 
Êags
 | 
LIBC_PRINTF_ARG_FLAG_SHARP
,

693 
LIBC_PRINTF_ARG_LENGTH_TYPE_Z
,

694 
width
);

701 
	`as£π
 (
Ál£
 && "unsupportedÅype fieldÇ");

706 
f‹m©_ôî_p
++;

709 
	`va_íd
 (
¨gs_c›y
);

712 
	}
}

720 
	$Ârötf
 (
FILE
 *
°ªam
,

721 c⁄° *
f‹m©
,

724 
va_li°
 
¨gs
;

726 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

728 
ªt
 = 
	`vÂrötf
 (
°ªam
, 
f‹m©
, 
¨gs
);

730 
	`va_íd
 (
¨gs
);

732  
ªt
;

733 
	}
}

741 
	$¥ötf
 (c⁄° *
f‹m©
,

744 
va_li°
 
¨gs
;

746 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

748 
ªt
 = 
	`vÂrötf
 (
°dout
, 
f‹m©
, 
¨gs
);

750 
	`va_íd
 (
¨gs
);

752  
ªt
;

753 
	}
}

	@deps/jerry/jerry-libc/jerry-libc.c

20 
	~<as£π.h
>

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

25 
	~"jîry-libc-defs.h
"

30 
uöt32_t
 
	glibc_øndom_gí_°©e
[4] = { 1455997910, 1999515274, 1234451287, 1949149569 };

35 
FILE
 *
	g°dö
 = (FILE *) 0;

36 
FILE
 *
	g°dout
 = (FILE *) 1;

37 
FILE
 *
	g°dîr
 = (FILE *) 2;

39 #ifde‡
__GNUC__


46 
	#CALL_PRAGMA
(
x
Ë
	`_Pøgma
 (#x)

	)

48 
	$CALL_PRAGMA
 (
GCC
 
dügno°ic
 
push
)

49 
	`CALL_PRAGMA
 (
GCC
 
dügno°ic
 
ign‹ed
 "-Wpragmas")

50 
	$CALL_PRAGMA
 (
GCC
 
push_›ti⁄s
)

51 
	`CALL_PRAGMA
 (
GCC
 
	`›timize
 ("-fno-tree-loop-distribute-patterns"))

59 * 
__©å_u£d___


60 
	$mem£t
 (*
s
,

61 
c
,

62 
size_t
 
n
)

64 
uöt8_t
 *
¨ó_p
 = (uöt8_à*Ë
s
;

65 
n
--)

67 *
¨ó_p
++ = (
uöt8_t
Ë
c
;

70  
s
;

71 
	}
}

81 
	$memcmp
 (c⁄° *
s1
,

82 c⁄° *
s2
,

83 
size_t
 
n
)

85 c⁄° 
uöt8_t
 *
¨ó1_p
 = (uöt8_à*Ë
s1
, *
¨ó2_p
 = (uöt8_à*Ë
s2
;

86 
n
--)

88 
diff
 = ((Ë*
¨ó1_p
++Ë- ((Ë*
¨ó2_p
++);

89 i‡(
diff
)

91  
diff
;

96 
	}
}

101 * 
__©å_u£d___


102 
	$mem˝y
 (*
s1
,

103 c⁄° *
s2
,

104 
size_t
 
n
)

106 
uöt8_t
 *
d°_p
 = (uöt8_à*Ë
s1
;

107 c⁄° 
uöt8_t
 *
§c_p
 = (c⁄° uöt8_à*Ë
s2
;

110 i‡(
n
 >4 && !(((
uöçå_t
Ë
s1
Ë& 0x3Ë&& !(((uöçå_tË
s2
) & 0x3))

112 
size_t
 
chunks
 = (
n
 >> 2);

113 
uöt32_t
 *
u32_d°_p
 = (uöt32_à*Ë
d°_p
;

114 c⁄° 
uöt32_t
 *
u32_§c_p
 = (c⁄° uöt32_à*Ë
§c_p
;

118 *
u32_d°_p
++ = *
u32_§c_p
++;

120 --
chunks
);

122 
n
 &= 0x3;

123 
d°_p
 = (
uöt8_t
 *Ë
u32_d°_p
;

124 
§c_p
 = (c⁄° 
uöt8_t
 *Ë
u32_§c_p
;

127 
n
--)

129 *
d°_p
++ = *
§c_p
++;

132  
s1
;

133 
	}
}

140 * 
__©å_u£d___


141 
	$memmove
 (*
s1
,

142 c⁄° *
s2
,

143 
size_t
 
n
)

145 
uöt8_t
 *
de°_p
;

146 c⁄° 
uöt8_t
 *
§c_p
;

148 i‡(
s1
 < 
s2
)

150 
de°_p
 = (
uöt8_t
 *Ë
s1
;

151 
§c_p
 = (c⁄° 
uöt8_t
 *Ë
s2
;

153 
n
--)

155 *
de°_p
++ = *
§c_p
++;

158 i‡(
s1
 > 
s2
)

160 
de°_p
 = ((
uöt8_t
 *Ë
s1
Ë+ 
n
 - 1;

161 
§c_p
 = ((c⁄° 
uöt8_t
 *Ë
s2
Ë+ 
n
 - 1;

163 
n
--)

165 *
de°_p
-- = *
§c_p
--;

169  
s1
;

170 
	}
}

172 #ifde‡
__GNUC__


173 
	$CALL_PRAGMA
 (
GCC
 
p›_›ti⁄s
)

174 
	$CALL_PRAGMA
 (
GCC
 
dügno°ic
 
p›
)

180 
	$°rcmp
 (c⁄° *
s1
, c⁄° *
s2
)

184 
c1
 = (Ë*
s1
++;

185 
c2
 = (Ë*
s2
++;

186 
diff
 = 
c1
 - 
c2
;

188 i‡(!
c1
 || 
diff
)

190  
diff
;

193 
	}
}

199 
	$°∫cmp
 (c⁄° *
s1
, c⁄° *
s2
, 
size_t
 
n
)

201 
n
--)

203 
c1
 = (Ë*
s1
++;

204 
c2
 = (Ë*
s2
++;

205 
diff
 = 
c1
 - 
c2
;

207 i‡(!
c1
 || 
diff
)

209  
diff
;

214 
	}
}

219 * 
__©å_u£d___


220 
	$°∫˝y
 (*
de°
, c⁄° *
§c
, 
size_t
 
n
)

222 
n
--)

224 
c
 = *
§c
++;

225 *
de°
++ = 
c
;

227 i‡(!
c
)

233  
de°
;

234 
	}
}

237 
size_t


238 
	$°æí
 (c⁄° *
s
)

240 
size_t
 
i
 = 0;

241 
s
[
i
])

243 
i
++;

246  
i
;

247 
	}
}

258 
	$ønd
 ()

260 
uöt32_t
 
öãrmedüã
 = 
libc_øndom_gí_°©e
[0] ^ (libc_random_gen_state[0] << 11);

261 
öãrmedüã
 ^= intermediate >> 8;

263 
libc_øndom_gí_°©e
[0] =Üibc_random_gen_state[1];

264 
libc_øndom_gí_°©e
[1] =Üibc_random_gen_state[2];

265 
libc_øndom_gí_°©e
[2] =Üibc_random_gen_state[3];

267 
libc_øndom_gí_°©e
[3] ^=Üibc_random_gen_state[3] >> 19;

268 
libc_øndom_gí_°©e
[3] ^
öãrmedüã
;

270  (Ë(
libc_øndom_gí_°©e
[3] % (
RAND_MAX
 + 1));

271 
	}
}

277 
	$§™d
 (
£ed
)

279 
libc_øndom_gí_°©e
[0] =

280 
libc_øndom_gí_°©e
[1] =

281 
libc_øndom_gí_°©e
[2] =

282 
libc_øndom_gí_°©e
[3] = 
£ed
;

283 
	}
}

301 
	$°πﬁ
 (c⁄° *
≈å
,

302 **
íd±r
,

303 
ba£
)

305 
	`as£π
 (
ba£
 == 10);

306 (Ë
ba£
;

308 c⁄° *
°r
 = 
≈å
;

311 *
°r
 == ' ' || *str == '\t' || *str == '\r' || *str == '\n')

313 
°r
++;

316 
boﬁ
 
digôs
 = 
Ál£
;

317 
boﬁ
 
posôive
 = 
åue
;

318 
num
 = 0;

321 i‡(*
°r
 == '-')

323 
posôive
 = 
Ál£
;

324 
°r
++;

326 i‡(*
°r
 == '+')

328 
°r
++;

332 *
°r
 >= '0' && *str <= '9')

334 
num
 =Çum * 10 + (*
°r
 - '0');

335 
digôs
 = 
åue
;

336 
°r
++;

340 i‡(
digôs
)

342 i‡(
íd±r
)

344 *
íd±r
 = (*Ë
°r
;

346  
posôive
 ? 
num
 : -num;

350 i‡(
íd±r
)

352 *
íd±r
 = (*Ë
≈å
;

356 
	}
}

	@deps/jerry/jerry-libc/target/posix/jerry-libc-target.c

20 
	~<as£π.h
>

21 
	~<f˙é.h
>

22 
	~<sig«l.h
>

23 
	~<°d¨g.h
>

24 
	~<°dio.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<sys/sysˇŒ.h
>

28 
	~<sys/ty≥s.h
>

29 
	~<sys/°©.h
>

30 
	~<sys/time.h
>

32 #i‡
deföed
 (
__löux__
)

33 
	#SYSCALL_NO
(
NAME
Ë
__NR_
 ## 
	)
NAME

34 #ñi‡
deföed
 (
__APPLE__
Ë&& deföed (
__MACH__
)

35 
	#SYS_exô_group
 
SYS_exô


	)

36 
	#SYSCALL_NO
(
NAME
Ë
SYS_
 ## 
	)
NAME

41 
	~"jîry-libc-defs.h
"

43 
sysˇŒ_0
 (
sysˇŒ_no
);

44 
sysˇŒ_1
 (
sysˇŒ_no
, 
¨g1
);

45 
sysˇŒ_2
 (
sysˇŒ_no
, 
¨g1
, 
¨g2
);

46 
sysˇŒ_3
 (
sysˇŒ_no
, 
¨g1
, 
¨g2
, 
¨g3
);

51 
__©å_n‹ëu∫___
 
__©å_u£d___


52 
	$exô
 (
°©us
)

54 #ifde‡
ENABLE_INIT_FINI


55 
	`libc_föi_¨øy
 ();

58 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
°dö
);

59 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
°dout
);

60 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
°dîr
);

62 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
exô_group
), 
°©us
);

64 
åue
)

68 
	}
}

74 
__©å_n‹ëu∫___
 
__©å_u£d___


75 
	$ab‹t
 ()

77 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
°dö
);

78 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
°dout
);

79 
	`sysˇŒ_1
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
°dîr
);

81 
	`øi£
 (
SIGABRT
);

83 
åue
)

87 
	}
}

92 
__©å_u£d___


93 
	$øi£
 (
sig
)

95  (Ë
	`sysˇŒ_2
 (
	`SYSCALL_NO
 (
kûl
), 
	`sysˇŒ_0
 (SYSCALL_NO (
gëpid
)), 
sig
);

96 
	}
}

104 
FILE
 *

105 
	$f›í
 (c⁄° *
∑th
,

106 c⁄° *
mode
)

108 
boﬁ
 
may_ªad
 = 
Ál£
;

109 
boﬁ
 
may_wrôe
 = 
Ál£
;

110 
boﬁ
 
åunˇã
 = 
Ál£
;

111 
boﬁ
 
¸óã_if_nŸ_exi°
 = 
Ál£
;

112 
boﬁ
 
posôi⁄_©_íd
 = 
Ál£
;

114 
	`as£π
 (
∑th
 !
NULL
 && 
mode
 != NULL);

115 
	`as£π
 (
mode
[1] == '+' || mode[1] == '\0');

117 
mode
[0])

121 
may_ªad
 = 
åue
;

122 
may_wrôe
 = (
mode
[1] == '+');

127 
may_wrôe
 = 
åue
;

128 
åunˇã
 = 
åue
;

129 
¸óã_if_nŸ_exi°
 = 
åue
;

130 
may_ªad
 = (
mode
[1] == '+');

135 
may_wrôe
 = 
åue
;

136 
posôi⁄_©_íd
 = 
åue
;

137 
¸óã_if_nŸ_exi°
 = 
åue
;

138 i‡(
mode
[1] == '+')

140 
	`as£π
 (
Ál£
 && "unsupported modeá+");

146 
	`as£π
 (
Ál£
 && "unsupported mode");

150 
Êags
 = 0;

151 
ac˚ss
 = 
S_IRUSR
 | 
S_IWUSR
;

152 i‡(
may_ªad
 && !
may_wrôe
)

154 
Êags
 = 
O_RDONLY
;

156 i‡(!
may_ªad
 && 
may_wrôe
)

158 
Êags
 = 
O_WRONLY
;

162 
	`as£π
 (
may_ªad
 && 
may_wrôe
);

164 
Êags
 = 
O_RDWR
;

167 i‡(
åunˇã
)

169 
Êags
 |
O_TRUNC
;

172 i‡(
¸óã_if_nŸ_exi°
)

174 
Êags
 |
O_CREAT
;

177 i‡(
posôi⁄_©_íd
)

179 
Êags
 |
O_APPEND
;

182 
ªt
 = 
	`sysˇŒ_3
 (
	`SYSCALL_NO
 (
›í
), (Ë
∑th
, 
Êags
, 
ac˚ss
);

184  ((
ªt
 < 0Ë? 
NULL
 : (*Ë(
uöçå_t
) (ret));

185 
	}
}

194 
	$f˛o£
 (
FILE
 *
Â
)

196 
	`sysˇŒ_2
 (
	`SYSCALL_NO
 (
˛o£
), (Ë
Â
, 0);

199 
	}
}

206 
size_t


207 
	$‰ód
 (*
±r
,

208 
size_t
 
size
,

209 
size_t
 
nmemb
,

210 
FILE
 *
°ªam
)

212 
ªt
;

213 
size_t
 
byãs_ªad
 = 0;

215 i‡(
size
 == 0)

222 
ªt
 = 
	`sysˇŒ_3
 (
	`SYSCALL_NO
 (
ªad
),

223 (Ë
°ªam
,

224 (Ë((
uöt8_t
 *Ë
±r
 + 
byãs_ªad
),

225 (Ë(
size
 * 
nmemb
 - 
byãs_ªad
));

227 
byãs_ªad
 +(
size_t
Ë
ªt
;

229 
byãs_ªad
 !
size
 * 
nmemb
 && 
ªt
 != 0);

231  
byãs_ªad
 / 
size
;

232 
	}
}

239 
size_t


240 
	$fwrôe
 (c⁄° *
±r
,

241 
size_t
 
size
,

242 
size_t
 
nmemb
,

243 
FILE
 *
°ªam
)

245 
size_t
 
byãs_wrôãn
 = 0;

247 i‡(
size
 == 0)

254 
ªt
 = 
	`sysˇŒ_3
 (
	`SYSCALL_NO
 (
wrôe
),

255 (Ë
°ªam
,

256 (Ë((
uöt8_t
 *Ë
±r
 + 
byãs_wrôãn
),

257 (Ë(
size
 * 
nmemb
 - 
byãs_wrôãn
));

259 
byãs_wrôãn
 +(
size_t
Ë
ªt
;

261 
byãs_wrôãn
 !
size
 * 
nmemb
);

263  
byãs_wrôãn
 / 
size
;

264 
	}
}

272 
	$gëtimeofday
 (*
ç
,

273 *
tzp
)

275  (Ë
	`sysˇŒ_2
 (
	`SYSCALL_NO
 (
gëtimeofday
), (Ë
ç
, (Ë
tzp
);

276 
	}
}

284 
	$jπ_£t_mem_limôs
 (
size_t
 
d©a_size
,

285 
size_t
 
°ack_size
)

289 
æim_cur
;

290 
æim_max
;

291 } 
d©a_limô
 = { 
d©a_size
, data_size };

295 
æim_cur
;

296 
æim_max
;

297 } 
°ack_limô
 = { 
°ack_size
, stack_size };

299 
ªt
;

301 #i‡
	`deföed
 (
__TARGET_HOST_x64
)

302 
ªt
 = 
	`sysˇŒ_2
 (
	`SYSCALL_NO
 (
£ålimô
), 
RLIMIT_DATA
, (
öçå_t
Ë&
d©a_limô
);

303 
	`as£π
 (
ªt
 == 0);

305 
ªt
 = 
	`sysˇŒ_2
 (
	`SYSCALL_NO
 (
£ålimô
), 
RLIMIT_STACK
, (
öçå_t
Ë&
°ack_limô
);

306 
	`as£π
 (
ªt
 == 0);

307 #ñi‡
	`deföed
 (
__TARGET_HOST_ARMv7
)

308 
ªt
 = 
	`sysˇŒ_3
 (
	`SYSCALL_NO
 (
¥limô64
), 0, 
RLIMIT_DATA
, (
öçå_t
Ë&
d©a_limô
);

309 
	`as£π
 (
ªt
 == 0);

311 
ªt
 = 
	`sysˇŒ_3
 (
	`SYSCALL_NO
 (
¥limô64
), 0, 
RLIMIT_STACK
, (
öçå_t
Ë&
°ack_limô
);

312 
	`as£π
 (
ªt
 == 0);

313 #ñi‡
	`deföed
 (
__TARGET_HOST_x86
)

318 
	}
}

	@deps/jerry/jerry-libm/acos.c

28 
	~"jîry-libm-öã∫Æ.h
"

55 
	#⁄e
 1.00000000000000000000e+00

	)

56 
	#pi
 3.14159265358979311600e+00

	)

57 
	#pio2_hi
 1.57079632679489655800e+00

	)

58 
	#pio2_lo
 6.12323399573676603587e-17

	)

59 
	#pS0
 1.66666666666666657415e-01

	)

60 
	#pS1
 -3.25565818622400915405e-01

	)

61 
	#pS2
 2.01212532134862925881e-01

	)

62 
	#pS3
 -4.00555345006794114027e-02

	)

63 
	#pS4
 7.91534994289814532176e-04

	)

64 
	#pS5
 3.47933107596021167570e-05

	)

65 
	#qS1
 -2.40339491173441421878e+00

	)

66 
	#qS2
 2.02094576023350569471e+00

	)

67 
	#qS3
 -6.88283971605453293030e-01

	)

68 
	#qS4
 7.70381505559019352791e-02

	)

71 
	$acos
 (
x
)

73 
z
, 
p
, 
q
, 
r
, 
w
, 
s
, 
c
, 
df
;

74 
hx
, 
ix
;

76 
hx
 = 
	`__HI
 (
x
);

77 
ix
 = 
hx
 & 0x7fffffff;

78 i‡(
ix
 >= 0x3ff00000)

80 i‡(((
ix
 - 0x3ff00000Ë| 
	`__LO
 (
x
)) == 0)

82 i‡(
hx
 > 0)

88  
pi
 + 2.0 * 
pio2_lo
;

91  (
x
 - x) / (x - x);

93 i‡(
ix
 < 0x3fe00000)

95 i‡(
ix
 <= 0x3c600000)

97  
pio2_hi
 + 
pio2_lo
;

99 
z
 = 
x
 * x;

100 
p
 = 
z
 * (
pS0
 + z * (
pS1
 + z * (
pS2
 + z * (
pS3
 + z * (
pS4
 + z * 
pS5
)))));

101 
q
 = 
⁄e
 + 
z
 * (
qS1
 + z * (
qS2
 + z * (
qS3
 + z * 
qS4
)));

102 
r
 = 
p
 / 
q
;

103  
pio2_hi
 - (
x
 - (
pio2_lo
 - x * 
r
));

105 i‡(
hx
 < 0)

107 
z
 = (
⁄e
 + 
x
) * 0.5;

108 
p
 = 
z
 * (
pS0
 + z * (
pS1
 + z * (
pS2
 + z * (
pS3
 + z * (
pS4
 + z * 
pS5
)))));

109 
q
 = 
⁄e
 + 
z
 * (
qS1
 + z * (
qS2
 + z * (
qS3
 + z * 
qS4
)));

110 
s
 = 
	`sqπ
 (
z
);

111 
r
 = 
p
 / 
q
;

112 
w
 = 
r
 * 
s
 - 
pio2_lo
;

113  
pi
 - 2.0 * (
s
 + 
w
);

117 
z
 = (
⁄e
 - 
x
) * 0.5;

118 
s
 = 
	`sqπ
 (
z
);

119 
df
 = 
s
;

120 
	`__LO
 (
df
) = 0;

121 
c
 = (
z
 - 
df
 * dfË/ (
s
 + df);

122 
p
 = 
z
 * (
pS0
 + z * (
pS1
 + z * (
pS2
 + z * (
pS3
 + z * (
pS4
 + z * 
pS5
)))));

123 
q
 = 
⁄e
 + 
z
 * (
qS1
 + z * (
qS2
 + z * (
qS3
 + z * 
qS4
)));

124 
r
 = 
p
 / 
q
;

125 
w
 = 
r
 * 
s
 + 
c
;

126  2.0 * (
df
 + 
w
);

128 
	}
}

130 #unde‡
⁄e


131 #unde‡
pi


132 #unde‡
pio2_hi


133 #unde‡
pio2_lo


134 #unde‡
pS0


135 #unde‡
pS1


136 #unde‡
pS2


137 #unde‡
pS3


138 #unde‡
pS4


139 #unde‡
pS5


140 #unde‡
qS1


141 #unde‡
qS2


142 #unde‡
qS3


143 #unde‡
qS4


	@deps/jerry/jerry-libm/asin.c

28 
	~"jîry-libm-öã∫Æ.h
"

60 
	#⁄e
 1.00000000000000000000e+00

	)

61 
	#huge
 1.000e+300

	)

62 
	#pio2_hi
 1.57079632679489655800e+00

	)

63 
	#pio2_lo
 6.12323399573676603587e-17

	)

64 
	#pio4_hi
 7.85398163397448278999e-01

	)

66 
	#pS0
 1.66666666666666657415e-01

	)

67 
	#pS1
 -3.25565818622400915405e-01

	)

68 
	#pS2
 2.01212532134862925881e-01

	)

69 
	#pS3
 -4.00555345006794114027e-02

	)

70 
	#pS4
 7.91534994289814532176e-04

	)

71 
	#pS5
 3.47933107596021167570e-05

	)

72 
	#qS1
 -2.40339491173441421878e+00

	)

73 
	#qS2
 2.02094576023350569471e+00

	)

74 
	#qS3
 -6.88283971605453293030e-01

	)

75 
	#qS4
 7.70381505559019352791e-02

	)

78 
	$asö
 (
x
)

80 
t
, 
w
, 
p
, 
q
, 
c
, 
r
, 
s
;

81 
hx
, 
ix
;

83 
hx
 = 
	`__HI
 (
x
);

84 
ix
 = 
hx
 & 0x7fffffff;

85 i‡(
ix
 >= 0x3ff00000)

87 i‡(((
ix
 - 0x3ff00000Ë| 
	`__LO
 (
x
)) == 0)

89  
x
 * 
pio2_hi
 + x * 
pio2_lo
;

91  (
x
 - x) / (x - x);

93 i‡(
ix
 < 0x3fe00000)

95 i‡(
ix
 < 0x3e400000)

97 i‡(
huge
 + 
x
 > 
⁄e
)

99  
x
;

102 
t
 = 
x
 * x;

103 
p
 = 
t
 * (
pS0
 +Å * (
pS1
 +Å * (
pS2
 +Å * (
pS3
 +Å * (
pS4
 +Å * 
pS5
)))));

104 
q
 = 
⁄e
 + 
t
 * (
qS1
 +Å * (
qS2
 +Å * (
qS3
 +Å * 
qS4
)));

105 
w
 = 
p
 / 
q
;

106  
x
 + x * 
w
;

109 
w
 = 
⁄e
 - 
	`Ábs
 (
x
);

110 
t
 = 
w
 * 0.5;

111 
p
 = 
t
 * (
pS0
 +Å * (
pS1
 +Å * (
pS2
 +Å * (
pS3
 +Å * (
pS4
 +Å * 
pS5
)))));

112 
q
 = 
⁄e
 + 
t
 * (
qS1
 +Å * (
qS2
 +Å * (
qS3
 +Å * 
qS4
)));

113 
s
 = 
	`sqπ
 (
t
);

114 i‡(
ix
 >= 0x3FEF3333)

116 
w
 = 
p
 / 
q
;

117 
t
 = 
pio2_hi
 - (2.0 * (
s
 + s * 
w
Ë- 
pio2_lo
);

121 
w
 = 
s
;

122 
	`__LO
 (
w
) = 0;

123 
c
 = (
t
 - 
w
 * wË/ (
s
 + w);

124 
r
 = 
p
 / 
q
;

125 
p
 = 2.0 * 
s
 * 
r
 - (
pio2_lo
 - 2.0 * 
c
);

126 
q
 = 
pio4_hi
 - 2.0 * 
w
;

127 
t
 = 
pio4_hi
 - (
p
 - 
q
);

129 i‡(
hx
 > 0)

131  
t
;

135  -
t
;

137 
	}
}

139 #unde‡
⁄e


140 #unde‡
huge


141 #unde‡
pio2_hi


142 #unde‡
pio2_lo


143 #unde‡
pio4_hi


144 #unde‡
pS0


145 #unde‡
pS1


146 #unde‡
pS2


147 #unde‡
pS3


148 #unde‡
pS4


149 #unde‡
pS5


150 #unde‡
qS1


151 #unde‡
qS2


152 #unde‡
qS3


153 #unde‡
qS4


	@deps/jerry/jerry-libm/atan.c

28 
	~"jîry-libm-öã∫Æ.h
"

51 c⁄° 
	g©™hi
[] =

59 c⁄° 
	g©™lo
[] =

67 
	#aT0
 3.33333333333329318027e-01

	)

68 
	#aT1
 -1.99999999998764832476e-01

	)

69 
	#aT2
 1.42857142725034663711e-01

	)

70 
	#aT3
 -1.11111104054623557880e-01

	)

71 
	#aT4
 9.09088713343650656196e-02

	)

72 
	#aT5
 -7.69187620504482999495e-02

	)

73 
	#aT6
 6.66107313738753120669e-02

	)

74 
	#aT7
 -5.83357013379057348645e-02

	)

75 
	#aT8
 4.97687799461593236017e-02

	)

76 
	#aT9
 -3.65315727442169155270e-02

	)

77 
	#aT10
 1.62858201153657823623e-02

	)

79 
	#⁄e
 1.0

	)

80 
	#huge
 1.0e300

	)

83 
	$©™
 (
x
)

85 
w
, 
s1
, 
s2
, 
z
;

86 
ix
, 
hx
, 
id
;

88 
hx
 = 
	`__HI
 (
x
);

89 
ix
 = 
hx
 & 0x7fffffff;

90 i‡(
ix
 >= 0x44100000)

92 i‡(
ix
 > 0x7ff00000 || (ix =0x7ff00000 && (
	`__LO
 (
x
) != 0)))

94  
x
 + x;

96 i‡(
hx
 > 0)

98  
©™hi
[3] + 
©™lo
[3];

102  -
©™hi
[3] - 
©™lo
[3];

105 i‡(
ix
 < 0x3fdc0000)

107 i‡(
ix
 < 0x3e200000)

109 i‡(
huge
 + 
x
 > 
⁄e
)

111  
x
;

114 
id
 = -1;

118 
x
 = 
	`Ábs
 (x);

119 i‡(
ix
 < 0x3ff30000)

121 i‡(
ix
 < 0x3fe60000)

123 
id
 = 0;

124 
x
 = (2.0 * x - 
⁄e
) / (2.0 + x);

128 
id
 = 1;

129 
x
 = (x - 
⁄e
) / (x + one);

134 i‡(
ix
 < 0x40038000)

136 
id
 = 2;

137 
x
 = (x - 1.5Ë/ (
⁄e
 + 1.5 * x);

141 
id
 = 3;

142 
x
 = -1.0 / x;

147 
z
 = 
x
 * x;

148 
w
 = 
z
 * z;

150 
s1
 = 
z
 * (
aT0
 + 
w
 * (
aT2
 + w * (
aT4
 + w * (
aT6
 + w * (
aT8
 + w * 
aT10
)))));

151 
s2
 = 
w
 * (
aT1
 + w * (
aT3
 + w * (
aT5
 + w * (
aT7
 + w * 
aT9
))));

152 i‡(
id
 < 0)

154  
x
 - x * (
s1
 + 
s2
);

158 
z
 = 
©™hi
[
id
] - ((
x
 * (
s1
 + 
s2
Ë- 
©™lo
[id]) - x);

159  (
hx
 < 0Ë? -
z
 : z;

161 
	}
}

163 #unde‡
aT0


164 #unde‡
aT1


165 #unde‡
aT2


166 #unde‡
aT3


167 #unde‡
aT4


168 #unde‡
aT5


169 #unde‡
aT6


170 #unde‡
aT7


171 #unde‡
aT8


172 #unde‡
aT9


173 #unde‡
aT10


174 #unde‡
⁄e


175 #unde‡
huge


	@deps/jerry/jerry-libm/atan2.c

28 
	~"jîry-libm-öã∫Æ.h
"

57 
	#töy
 1.0e-300

	)

58 
	#zîo
 0.0

	)

59 
	#pi_o_4
 7.8539816339744827900E-01

	)

60 
	#pi_o_2
 1.5707963267948965580E+00

	)

61 
	#pi
 3.1415926535897931160E+00

	)

62 
	#pi_lo
 1.2246467991473531772E-16

	)

65 
	$©™2
 (
y
, 
x
)

67 
z
;

68 
k
, 
m
, 
hx
, 
hy
, 
ix
, 
iy
;

69 
lx
, 
ly
;

71 
hx
 = 
	`__HI
 (
x
);

72 
ix
 = 
hx
 & 0x7fffffff;

73 
lx
 = 
	`__LO
 (
x
);

74 
hy
 = 
	`__HI
 (
y
);

75 
iy
 = 
hy
 & 0x7fffffff;

76 
ly
 = 
	`__LO
 (
y
);

77 i‡(((
ix
 | ((
lx
 | -lxË>> 31)Ë> 0x7ff00000Ë|| ((
iy
 | ((
ly
 | -ly) >> 31)) > 0x7ff00000))

79  
x
 + 
y
;

81 i‡(((
hx
 - 0x3ff00000Ë| 
lx
) == 0)

83  
	`©™
 (
y
);

85 
m
 = ((
hy
 >> 31Ë& 1Ë| ((
hx
 >> 30) & 2);

88 i‡((
iy
 | 
ly
) == 0)

90 
m
)

95  
y
;

99  
pi
 + 
töy
;

103  -
pi
 - 
töy
;

108 i‡((
ix
 | 
lx
) == 0)

110  (
hy
 < 0Ë? -
pi_o_2
 - 
töy
 :Öi_o_2 +Åiny;

114 i‡(
ix
 == 0x7ff00000)

116 i‡(
iy
 == 0x7ff00000)

118 
m
)

122  
pi_o_4
 + 
töy
;

126  -
pi_o_4
 - 
töy
;

130  3.0 * 
pi_o_4
 + 
töy
;

134  -3.0 * 
pi_o_4
 - 
töy
;

140 
m
)

144  
zîo
;

148  -
zîo
;

152  
pi
 + 
töy
;

156  -
pi
 - 
töy
;

162 i‡(
iy
 == 0x7ff00000)

164  (
hy
 < 0Ë? -
pi_o_2
 - 
töy
 :Öi_o_2 +Åiny;

168 
k
 = (
iy
 - 
ix
) >> 20;

169 i‡(
k
 > 60)

171 
z
 = 
pi_o_2
 + 0.5 * 
pi_lo
;

173 i‡(
hx
 < 0 && 
k
 < -60)

175 
z
 = 0.0;

179 
z
 = 
	`©™
 (
	`Ábs
 (
y
 / 
x
));

181 
m
)

185  
z
;

189 
	`__HI
 (
z
) ^= 0x80000000;

190  
z
;

194  
pi
 - (
z
 - 
pi_lo
);

199  (
z
 - 
pi_lo
Ë- 
pi
;

202 
	}
}

204 #unde‡
töy


205 #unde‡
zîo


206 #unde‡
pi_o_4


207 #unde‡
pi_o_2


208 #unde‡
pi


209 #unde‡
pi_lo


	@deps/jerry/jerry-libm/ceil.c

28 
	~"jîry-libm-öã∫Æ.h
"

40 
	#huge
 1.0e300

	)

43 
	$˚û
 (
x
)

45 
i0
, 
i1
, 
j0
;

46 
i
, 
j
;

48 
i0
 = 
	`__HI
 (
x
);

49 
i1
 = 
	`__LO
 (
x
);

50 
j0
 = ((
i0
 >> 20) & 0x7ff) - 0x3ff;

51 i‡(
j0
 < 20)

53 i‡(
j0
 < 0)

55 i‡(
huge
 + 
x
 > 0.0)

57 i‡(
i0
 < 0)

59 
i0
 = 0x80000000;

60 
i1
 = 0;

62 i‡((
i0
 | 
i1
) != 0)

64 
i0
 = 0x3ff00000;

65 
i1
 = 0;

71 
i
 = (0x000fffffË>> 
j0
;

72 i‡(((
i0
 & 
i
Ë| 
i1
) == 0)

74  
x
;

76 i‡(
huge
 + 
x
 > 0.0)

78 i‡(
i0
 > 0)

80 
i0
 +(0x00100000Ë>> 
j0
;

82 
i0
 &(~
i
);

83 
i1
 = 0;

87 i‡(
j0
 > 51)

89 i‡(
j0
 == 0x400)

91  
x
 + x;

95  
x
;

100 
i
 = ((Ë(0xffffffff)Ë>> (
j0
 - 20);

101 i‡((
i1
 & 
i
) == 0)

103  
x
;

105 i‡(
huge
 + 
x
 > 0.0)

107 i‡(
i0
 > 0)

109 i‡(
j0
 == 20)

111 
i0
 += 1;

115 
j
 = 
i1
 + (1 << (52 - 
j0
));

116 i‡(
j
 < 
i1
)

118 
i0
 += 1;

120 
i1
 = 
j
;

123 
i1
 &(~
i
);

126 
	`__HI
 (
x
Ë
i0
;

127 
	`__LO
 (
x
Ë
i1
;

128  
x
;

129 
	}
}

131 #unde‡
huge


	@deps/jerry/jerry-libm/copysign.c

28 
	~"jîry-libm-öã∫Æ.h
"

35 
	$c›ysign
 (
x
, 
y
)

37 
	`__HI
 (
x
Ë(__HI (xË& 0x7fffffffË| (__HI (
y
) & 0x80000000);

38  
x
;

39 
	}
}

	@deps/jerry/jerry-libm/exp.c

27 
	~"jîry-libm-öã∫Æ.h
"

92 c⁄° 
	ghÆF
[2] =

97 c⁄° 
	g 2HI
[2] =

102 c⁄° 
	g 2LO
[2] =

108 
	#⁄e
 1.0

	)

109 
	#huge
 1.0e+300

	)

110 
	#twom1000
 9.33263618503218878990e-302

	)

111 
	#o_thªshﬁd
 7.09782712893383973096e+02

	)

112 
	#u_thªshﬁd
 -7.45133219101941108420e+02

	)

113 
	#öv 2
 1.44269504088896338700e+00

	)

114 
	#P1
 1.66666666666666019037e-01

	)

115 
	#P2
 -2.77777777770155933842e-03

	)

116 
	#P3
 6.61375632143793436117e-05

	)

117 
	#P4
 -1.65339022054652515390e-06

	)

118 
	#P5
 4.13813679705723846039e-08

	)

121 
	$exp
 (
x
)

123 
y
, 
hi
, 
lo
, 
c
, 
t
;

124 
k
 = 0, 
xsb
;

125 
hx
;

127 
hx
 = 
	`__HI
 (
x
);

128 
xsb
 = (
hx
 >> 31) & 1;

129 
hx
 &= 0x7fffffff;

132 i‡(
hx
 >= 0x40862E42)

134 i‡(
hx
 >= 0x7ff00000)

136 i‡(((
hx
 & 0xfffffË| 
	`__LO
 (
x
)) != 0)

138  
x
 + x;

142  (
xsb
 =0Ë? 
x
 : 0.0;

145 i‡(
x
 > 
o_thªshﬁd
)

147  
huge
 * huge;

149 i‡(
x
 < 
u_thªshﬁd
)

151  
twom1000
 *Åwom1000;

156 i‡(
hx
 > 0x3fd62e42)

158 i‡(
hx
 < 0x3FF0A2B2)

160 
hi
 = 
x
 - 
 2HI
[
xsb
];

161 
lo
 = 
 2LO
[
xsb
];

162 
k
 = 1 - 
xsb
 - xsb;

166 
k
 = (Ë(
öv 2
 * 
x
 + 
hÆF
[
xsb
]);

167 
t
 = 
k
;

168 
hi
 = 
x
 - 
t
 * 
 2HI
[0];

169 
lo
 = 
t
 * 
 2LO
[0];

171 
x
 = 
hi
 - 
lo
;

173 i‡(
hx
 < 0x3e300000)

175 i‡(
huge
 + 
x
 > 
⁄e
)

177  
⁄e
 + 
x
;

182 
k
 = 0;

186 
t
 = 
x
 * x;

187 
c
 = 
x
 - 
t
 * (
P1
 +Å * (
P2
 +Å * (
P3
 +Å * (
P4
 +Å * 
P5
))));

188 i‡(
k
 == 0)

190  
⁄e
 - ((
x
 * 
c
) / (c - 2.0) - x);

194 
y
 = 
⁄e
 - ((
lo
 - (
x
 * 
c
Ë/ (2.0 - c)Ë- 
hi
);

196 i‡(
k
 >= -1021)

198 
	`__HI
 (
y
Ë+(
k
 << 20);

199  
y
;

203 
	`__HI
 (
y
Ë+((
k
 + 1000) << 20);

204  
y
 * 
twom1000
;

206 
	}
}

208 #unde‡
⁄e


209 #unde‡
huge


210 #unde‡
twom1000


211 #unde‡
o_thªshﬁd


212 #unde‡
u_thªshﬁd


213 #unde‡
öv 2


214 #unde‡
P1


215 #unde‡
P2


216 #unde‡
P3


217 #unde‡
P4


218 #unde‡
P5


	@deps/jerry/jerry-libm/fabs.c

28 
	~"jîry-libm-öã∫Æ.h
"

34 
	$Ábs
 (
x
)

36 
	`__HI
 (
x
) &= 0x7fffffff;

37  
x
;

38 
	}
}

	@deps/jerry/jerry-libm/finite.c

28 
	~"jîry-libm-öã∫Æ.h
"

35 
	$föôe
 (
x
)

37 
hx
;

39 
hx
 = 
	`__HI
 (
x
);

40  (Ë((
hx
 & 0x7fffffff) - 0x7ff00000) >> 31;

41 
	}
}

	@deps/jerry/jerry-libm/floor.c

28 
	~"jîry-libm-öã∫Æ.h
"

40 
	#huge
 1.0e300

	)

43 
	$Êo‹
 (
x
)

45 
i0
, 
i1
, 
j0
;

46 
i
, 
j
;

48 
i0
 = 
	`__HI
 (
x
);

49 
i1
 = 
	`__LO
 (
x
);

50 
j0
 = ((
i0
 >> 20) & 0x7ff) - 0x3ff;

51 i‡(
j0
 < 20)

53 i‡(
j0
 < 0)

55 i‡(
huge
 + 
x
 > 0.0)

57 i‡(
i0
 >= 0)

59 
i0
 = 
i1
 = 0;

61 i‡(((
i0
 & 0x7fffffffË| 
i1
) != 0)

63 
i0
 = 0xbff00000;

64 
i1
 = 0;

70 
i
 = (0x000fffffË>> 
j0
;

71 i‡(((
i0
 & 
i
Ë| 
i1
) == 0)

73  
x
;

75 i‡(
huge
 + 
x
 > 0.0)

77 i‡(
i0
 < 0)

79 
i0
 +(0x00100000Ë>> 
j0
;

81 
i0
 &(~
i
);

82 
i1
 = 0;

86 i‡(
j0
 > 51)

88 i‡(
j0
 == 0x400)

90  
x
 + x;

94  
x
;

99 
i
 = ((Ë(0xffffffff)Ë>> (
j0
 - 20);

100 i‡((
i1
 & 
i
) == 0)

102  
x
;

104 i‡(
huge
 + 
x
 > 0.0)

106 i‡(
i0
 < 0)

108 i‡(
j0
 == 20)

110 
i0
 += 1;

114 
j
 = 
i1
 + (1 << (52 - 
j0
));

115 i‡(
j
 < 
i1
)

117 
i0
 += 1;

119 
i1
 = 
j
;

122 
i1
 &(~
i
);

125 
	`__HI
 (
x
Ë
i0
;

126 
	`__LO
 (
x
Ë
i1
;

127  
x
;

128 
	}
}

130 #unde‡
huge


	@deps/jerry/jerry-libm/fmod.c

28 
	~"jîry-libm-öã∫Æ.h
"

36 c⁄° 
	gZîo
[] = { 0.0, -0.0, };

38 
	#⁄e
 1.0

	)

41 
	$fmod
 (
x
, 
y
)

43 
n
, 
hx
, 
hy
, 
hz
, 
ix
, 
iy
, 
sx
, 
i
;

44 
lx
, 
ly
, 
lz
;

46 
hx
 = 
	`__HI
 (
x
);

47 
lx
 = 
	`__LO
 (
x
);

48 
hy
 = 
	`__HI
 (
y
);

49 
ly
 = 
	`__LO
 (
y
);

50 
sx
 = 
hx
 & 0x80000000;

51 
hx
 ^
sx
;

52 
hy
 &= 0x7fffffff;

55 i‡((
hy
 | 
ly
Ë=0 || (
hx
 >= 0x7ff00000) ||

56 ((
hy
 | ((
ly
 | -ly) >> 31)) > 0x7ff00000))

58  (
x
 * 
y
) / (x * y);

60 i‡(
hx
 <
hy
)

62 i‡((
hx
 < 
hy
Ë|| (
lx
 < 
ly
))

64  
x
;

66 i‡(
lx
 =
ly
)

68  
Zîo
[(Ë
sx
 >> 31];

73 i‡(
hx
 < 0x00100000)

75 i‡(
hx
 == 0)

77 
ix
 = -1043, 
i
 = 
lx
; i > 0; i <<= 1)

79 
ix
 -= 1;

84 
ix
 = -1022, 
i
 = (
hx
 << 11); i > 0; i <<= 1)

86 
ix
 -= 1;

92 
ix
 = (
hx
 >> 20) - 1023;

96 i‡(
hy
 < 0x00100000)

98 i‡(
hy
 == 0)

100 
iy
 = -1043, 
i
 = 
ly
; i > 0; i <<= 1)

102 
iy
 -= 1;

107 
iy
 = -1022, 
i
 = (
hy
 << 11); i > 0; i <<= 1)

109 
iy
 -= 1;

115 
iy
 = (
hy
 >> 20) - 1023;

119 i‡(
ix
 >= -1022)

121 
hx
 = 0x00100000 | (0x000fffff & hx);

125 
n
 = -1022 - 
ix
;

126 i‡(
n
 <= 31)

128 
hx
 = (hx << 
n
Ë| (
lx
 >> (32 -Ç));

129 
lx
 <<
n
;

133 
hx
 = 
lx
 << (
n
 - 32);

134 
lx
 = 0;

137 i‡(
iy
 >= -1022)

139 
hy
 = 0x00100000 | (0x000fffff & hy);

143 
n
 = -1022 - 
iy
;

144 i‡(
n
 <= 31)

146 
hy
 = (hy << 
n
Ë| (
ly
 >> (32 -Ç));

147 
ly
 <<
n
;

151 
hy
 = 
ly
 << (
n
 - 32);

152 
ly
 = 0;

157 
n
 = 
ix
 - 
iy
;

158 
n
--)

160 
hz
 = 
hx
 - 
hy
;

161 
lz
 = 
lx
 - 
ly
;

162 i‡(
lx
 < 
ly
)

164 
hz
 -= 1;

166 i‡(
hz
 < 0)

168 
hx
 = hx + hx + (
lx
 >> 31);

169 
lx
 =Üx +Üx;

173 i‡((
hz
 | 
lz
) == 0)

175  
Zîo
[(Ë
sx
 >> 31];

177 
hx
 = 
hz
 + hz + (
lz
 >> 31);

178 
lx
 = 
lz
 +Üz;

181 
hz
 = 
hx
 - 
hy
;

182 
lz
 = 
lx
 - 
ly
;

183 i‡(
lx
 < 
ly
)

185 
hz
 -= 1;

187 i‡(
hz
 >= 0)

189 
hx
 = 
hz
;

190 
lx
 = 
lz
;

194 i‡((
hx
 | 
lx
) == 0)

196  
Zîo
[(Ë
sx
 >> 31];

198 
hx
 < 0x00100000)

200 
hx
 = hx + hx + (
lx
 >> 31);

201 
lx
 =Üx +Üx;

202 
iy
 -= 1;

204 i‡(
iy
 >= -1022)

206 
hx
 = ((hx - 0x00100000Ë| ((
iy
 + 1023) << 20));

207 
	`__HI
 (
x
Ë
hx
 | 
sx
;

208 
	`__LO
 (
x
Ë
lx
;

212 
n
 = -1022 - 
iy
;

213 i‡(
n
 <= 20)

215 
lx
 = (lx >> 
n
Ë| ((Ë
hx
 << (32 -Ç));

216 
hx
 >>
n
;

218 i‡(
n
 <= 31)

220 
lx
 = (
hx
 << (32 - 
n
)) | (lx >>Ç);

221 
hx
 = 
sx
;

225 
lx
 = 
hx
 >> (
n
 - 32);

226 
hx
 = 
sx
;

228 
	`__HI
 (
x
Ë
hx
 | 
sx
;

229 
	`__LO
 (
x
Ë
lx
;

230 
x
 *
⁄e
;

232  
x
;

233 
	}
}

235 #unde‡
⁄e


	@deps/jerry/jerry-libm/include/math.h

16 #i‚de‡
JERRY_LIBM_MATH_H


17 
	#JERRY_LIBM_MATH_H


	)

19 #ifde‡
__˝lu•lus


25 
	#INFINITY
 (1.0/0.0)

	)

26 
	#NAN
 (0.0/0.0)

	)

27 
	#HUGE_VAL
 
INFINITY


	)

29 
	#i¢™
(
x
Ë((xË!(x))

	)

30 
	#isöf
(
x
Ë(((xË=
INFINITY
Ë|| ((xË=-INFINITY))

	)

31 
	#isföôe
(
x
Ë(!(
	`isöf
(x)Ë&& (x !
NAN
))

	)

34 
	#M_E
 2.7182818284590452353602874713526625

	)

35 
	#M_SQRT2
 1.4142135623730950488016887242096981

	)

36 
	#M_SQRT1_2
 0.7071067811865475244008443621048490

	)

37 
	#M_LOG2E
 1.4426950408889634073599246810018921

	)

38 
	#M_LOG10E
 0.4342944819032518276511289189166051

	)

39 
	#M_LN2
 0.6931471805599453094172321214581765

	)

40 
	#M_LN10
 2.3025850929940456840179914546843642

	)

43 
	#M_PI
 3.1415926535897932384626433832795029

	)

44 
	#M_PI_2
 1.5707963267948966192313216916397514

	)

45 
	#M_PI_4
 0.7853981633974483096156608458198757

	)

46 
	#M_1_PI
 0.3183098861837906715377675267450287

	)

47 
	#M_2_PI
 0.6366197723675813430755350534900574

	)

48 
	#M_2_SQRTPI
 1.1283791670955125738961589031215452

	)

51 
cos
 ();

52 
sö
 ();

53 
èn
 ();

54 
acos
 ();

55 
asö
 ();

56 
©™
 ();

57 
©™2
 (, );

60 
exp
 ();

61 
log
 ();

64 
pow
 (, );

65 
sqπ
 ();

68 
˚û
 ();

69 
Êo‹
 ();

72 
Ábs
 ();

73 
fmod
 (, );

75 
√xè·î
 (, );

77 #ifde‡
__˝lu•lus


	@deps/jerry/jerry-libm/isnan.c

28 
	~"jîry-libm-öã∫Æ.h
"

35 
	$i¢™
 (
x
)

37 
hx
, 
lx
;

39 
hx
 = (
	`__HI
 (
x
) & 0x7fffffff);

40 
lx
 = 
	`__LO
 (
x
);

41 
hx
 |(Ë(
lx
 | (-lx)) >> 31;

42 
hx
 = 0x7ff00000 - hx;

43  ((Ë(
hx
)) >> 31;

44 
	}
}

	@deps/jerry/jerry-libm/jerry-libm-internal.h

27 #i‚de‡
JERRY_LIBM_INTERNAL_H


28 
	#JERRY_LIBM_INTERNAL_H


	)

33 #i‡(
deföed
 (
i386
Ë|| deföed (
__i386
Ë|| deföed (
__i386__
) || \

34 
deföed
 (
i486
Ë|| deföed (
__i486
Ë|| deföed (
__i486__
) || \

35 
deföed
 (
öãl
Ë|| deföed (
x86
Ë|| deföed (
i86pc
) || \

36 
deföed
 (
__Æpha
Ë|| deföed (
__osf__
) || \

37 
deföed
 (
__x86_64__
Ë|| deföed (
__¨m__
Ë|| 
	$deföed
 (
__Ørch64__
))

38 
	#__LITTLE_ENDIAN


	)

41 #ifde‡
__LITTLE_ENDIAN


42 
	#__HI
(
x
Ë*(1 + (*Ë&x)

	)

43 
	#__LO
(
x
Ë*(*Ë&
	)
x

45 
	#__HI
(
x
Ë*(*Ë&
	)
x

46 
	#__LO
(
x
Ë*(1 + (*Ë&x)

	)

52 
	`acos
 (
x
);

53 
	`asö
 (
x
);

54 
	`©™
 (
x
);

55 
	`©™2
 (
y
, 
x
);

56 
	`cos
 (
x
);

57 
	`sö
 (
x
);

58 
	`èn
 (
x
);

60 
	`exp
 (
x
);

61 
	`log
 (
x
);

63 
	`pow
 (
x
, 
y
);

64 
	`sqπ
 (
x
);

66 
	`˚û
 (
x
);

67 
	`Ábs
 (
x
);

68 
	`Êo‹
 (
x
);

69 
	`fmod
 (
x
, 
y
);

71 
	`i¢™
 (
x
);

72 
	`föôe
 (
x
);

74 
	`√xè·î
 (
x
, 
y
);

79 
	`c›ysign
 (
x
, 
y
);

80 
	`sˇlbn
 (
x
, 
n
);

	@deps/jerry/jerry-libm/log.c

28 
	~"jîry-libm-öã∫Æ.h
"

81 
	#zîo
 0.0

	)

82 
	# 2_hi
 6.93147180369123816490e-01

	)

83 
	# 2_lo
 1.90821492927058770002e-10

	)

84 
	#two54
 1.80143985094819840000e+16

	)

85 
	#Lg1
 6.666666666666735130e-01

	)

86 
	#Lg2
 3.999999999940941908e-01

	)

87 
	#Lg3
 2.857142874366239149e-01

	)

88 
	#Lg4
 2.222219843214978396e-01

	)

89 
	#Lg5
 1.818357216161805012e-01

	)

90 
	#Lg6
 1.531383769920937332e-01

	)

91 
	#Lg7
 1.479819860511658591e-01

	)

94 
	$log
 (
x
)

96 
hfsq
, 
f
, 
s
, 
z
, 
R
, 
w
, 
t1
, 
t2
, 
dk
;

97 
k
, 
hx
, 
i
, 
j
;

98 
lx
;

100 
hx
 = 
	`__HI
 (
x
);

101 
lx
 = 
	`__LO
 (
x
);

103 
k
 = 0;

104 i‡(
hx
 < 0x00100000)

106 i‡(((
hx
 & 0x7fffffffË| 
lx
) == 0)

108  -
two54
 / 
zîo
;

110 i‡(
hx
 < 0)

112  (
x
 - xË/ 
zîo
;

114 
k
 -= 54;

115 
x
 *
two54
;

116 
hx
 = 
	`__HI
 (
x
);

118 i‡(
hx
 >= 0x7ff00000)

120  
x
 + x;

122 
k
 +(
hx
 >> 20) - 1023;

123 
hx
 &= 0x000fffff;

124 
i
 = (
hx
 + 0x95f64) & 0x100000;

125 
	`__HI
 (
x
Ë
hx
 | (
i
 ^ 0x3ff00000);

126 
k
 +(
i
 >> 20);

127 
f
 = 
x
 - 1.0;

128 i‡((0x000ffff‡& (2 + 
hx
)) < 3)

130 i‡(
f
 =
zîo
)

132 i‡(
k
 == 0)

134  
zîo
;

138 
dk
 = (Ë
k
;

139  
dk
 * 
 2_hi
 + dk * 
 2_lo
;

142 
R
 = 
f
 * f * (0.5 - 0.33333333333333333 * f);

143 i‡(
k
 == 0)

145  
f
 - 
R
;

149 
dk
 = (Ë
k
;

150  
dk
 * 
 2_hi
 - ((
R
 - dk * 
 2_lo
Ë- 
f
);

153 
s
 = 
f
 / (2.0 + f);

154 
dk
 = (Ë
k
;

155 
z
 = 
s
 * s;

156 
i
 = 
hx
 - 0x6147a;

157 
w
 = 
z
 * z;

158 
j
 = 0x6b851 - 
hx
;

159 
t1
 = 
w
 * (
Lg2
 + w * (
Lg4
 + w * 
Lg6
));

160 
t2
 = 
z
 * (
Lg1
 + 
w
 * (
Lg3
 + w * (
Lg5
 + w * 
Lg7
)));

161 
i
 |
j
;

162 
R
 = 
t2
 + 
t1
;

163 i‡(
i
 > 0)

165 
hfsq
 = 0.5 * 
f
 * f;

166 i‡(
k
 == 0)

168  
f
 - (
hfsq
 - 
s
 * (hfsq + 
R
));

172  
dk
 * 
 2_hi
 - ((
hfsq
 - (
s
 * (hfsq + 
R
Ë+ dk * 
 2_lo
)Ë- 
f
);

177 i‡(
k
 == 0)

179  
f
 - 
s
 * (‡- 
R
);

183  
dk
 * 
 2_hi
 - ((
s
 * (
f
 - 
R
Ë- dk * 
 2_lo
) - f);

186 
	}
}

188 #unde‡
zîo


189 #unde‡
 2_hi


190 #unde‡
 2_lo


191 #unde‡
two54


192 #unde‡
Lg1


193 #unde‡
Lg2


194 #unde‡
Lg3


195 #unde‡
Lg4


196 #unde‡
Lg5


197 #unde‡
Lg6


198 #unde‡
Lg7


	@deps/jerry/jerry-libm/nextafter.c

28 
	~"jîry-libm-öã∫Æ.h
"

31 
	$√xè·î
 (
x
,

32 
y
)

34 
hx
, 
hy
, 
ix
, 
iy
;

35 
lx
, 
ly
;

37 
hx
 = 
	`__HI
 (
x
);

38 
lx
 = 
	`__LO
 (
x
);

39 
hy
 = 
	`__HI
 (
y
);

40 
ly
 = 
	`__LO
 (
y
);

41 
ix
 = 
hx
 & 0x7fffffff;

42 
iy
 = 
hy
 & 0x7fffffff;

44 i‡(((
ix
 >0x7ff00000Ë&& ((ix - 0x7ff00000Ë| 
lx
) != 0)

45 || ((
iy
 >0x7ff00000Ë&& ((iy - 0x7ff00000Ë| 
ly
) != 0))

47  
x
 + 
y
;

50 i‡(
x
 =
y
)

52  
x
;

55 i‡((
ix
 | 
lx
) == 0)

57 
	`__HI
 (
x
Ë
hy
 & 0x80000000;

58 
	`__LO
 (
x
) = 1;

59 
y
 = 
x
 * x;

60 i‡(
y
 =
x
)

62  
y
;

66  
x
;

70 i‡(
hx
 >= 0)

72 i‡(
hx
 > 
hy
 || ((hx =hyË&& (
lx
 > 
ly
)))

74 i‡(
lx
 == 0)

76 
hx
 -= 1;

79 
lx
 -= 1;

83 
lx
 += 1;

85 i‡(
lx
 == 0)

87 
hx
 += 1;

93 i‡(
hy
 >0 || 
hx
 > hy || ((hx =hyË&& (
lx
 > 
ly
)))

95 i‡(
lx
 == 0)

97 
hx
 -= 1;

100 
lx
 -= 1;

104 
lx
 += 1;

106 i‡(
lx
 == 0)

108 
hx
 += 1;

113 
hy
 = 
hx
 & 0x7ff00000;

115 i‡(
hy
 >= 0x7ff00000)

117  
x
 + x;

120 i‡(
hy
 < 0x00100000)

122 
y
 = 
x
 * x;

123 i‡(
y
 !
x
)

125 
	`__HI
 (
y
Ë
hx
;

126 
	`__LO
 (
y
Ë
lx
;

127  
y
;

131 
	`__HI
 (
x
Ë
hx
;

132 
	`__LO
 (
x
Ë
lx
;

133  
x
;

134 
	}
}

	@deps/jerry/jerry-libm/pow.c

27 
	~"jîry-libm-öã∫Æ.h
"

75 c⁄° 
	gbp
[] =

80 c⁄° 
	gdp_h
[] =

85 c⁄° 
	gdp_l
[] =

91 
	#zîo
 0.0

	)

92 
	#⁄e
 1.0

	)

93 
	#two
 2.0

	)

94 
	#two53
 9007199254740992.0

	)

95 
	#huge
 1.0e300

	)

96 
	#töy
 1.0e-300

	)

98 
	#L1
 5.99999999999994648725e-01

	)

99 
	#L2
 4.28571428578550184252e-01

	)

100 
	#L3
 3.33333329818377432918e-01

	)

101 
	#L4
 2.72728123808534006489e-01

	)

102 
	#L5
 2.30660745775561754067e-01

	)

103 
	#L6
 2.06975017800338417784e-01

	)

104 
	#P1
 1.66666666666666019037e-01

	)

105 
	#P2
 -2.77777777770155933842e-03

	)

106 
	#P3
 6.61375632143793436117e-05

	)

107 
	#P4
 -1.65339022054652515390e-06

	)

108 
	#P5
 4.13813679705723846039e-08

	)

109 
	#lg2
 6.93147180559945286227e-01

	)

110 
	#lg2_h
 6.93147182464599609375e-01

	)

111 
	#lg2_l
 -1.90465429995776804525e-09

	)

112 
	#ovt
 8.0085662595372944372e-0017

	)

113 
	#˝
 9.61796693925975554329e-01

	)

114 
	#˝_h
 9.61796700954437255859e-01

	)

115 
	#˝_l
 -7.02846165095275826516e-09

	)

116 
	#iv 2
 1.44269504088896338700e+00

	)

117 
	#iv 2_h
 1.44269502162933349609e+00

	)

118 
	#iv 2_l
 1.92596299112661746887e-08

	)

121 
	$pow
 (
x
, 
y
)

123 
z
, 
ax
, 
z_h
, 
z_l
, 
p_h
, 
p_l
;

124 
y1
, 
t1
, 
t2
, 
r
, 
s
, 
t
, 
u
, 
v
, 
w
;

125 
i
, 
j
, 
k
, 
yisöt
, 
n
;

126 
hx
, 
hy
, 
ix
, 
iy
;

127 
lx
, 
ly
;

129 
hx
 = 
	`__HI
 (
x
);

130 
lx
 = 
	`__LO
 (
x
);

131 
hy
 = 
	`__HI
 (
y
);

132 
ly
 = 
	`__LO
 (
y
);

133 
ix
 = 
hx
 & 0x7fffffff;

134 
iy
 = 
hy
 & 0x7fffffff;

137 i‡(((
hx
 - 0x3ff00000Ë| 
lx
) == 0)

139  
⁄e
;

143 i‡((
iy
 | 
ly
) == 0)

145  
⁄e
;

149 i‡(
ix
 > 0x7ff00000 || ((ix =0x7ff00000Ë&& (
lx
 !0)Ë|| 
iy
 > 0x7ff00000 || ((iy =0x7ff00000Ë&& (
ly
 != 0)))

151  
x
 + 
y
;

159 
yisöt
 = 0;

160 i‡(
hx
 < 0)

162 i‡(
iy
 >= 0x43400000)

164 
yisöt
 = 2;

166 i‡(
iy
 >= 0x3ff00000)

168 
k
 = (
iy
 >> 20) - 0x3ff;

169 i‡(
k
 > 20)

171 
j
 = 
ly
 >> (52 - 
k
);

172 i‡((
j
 << (52 - 
k
)Ë=
ly
)

174 
yisöt
 = 2 - (
j
 & 1);

177 i‡(
ly
 == 0)

179 
j
 = 
iy
 >> (20 - 
k
);

180 i‡((
j
 << (20 - 
k
)Ë=
iy
)

182 
yisöt
 = 2 - (
j
 & 1);

189 i‡(
ly
 == 0)

191 i‡(
iy
 == 0x7ff00000)

193 i‡(((
ix
 - 0x3ff00000Ë| 
lx
) == 0)

195  
⁄e
;

197 i‡(
ix
 >= 0x3ff00000)

199  (
hy
 >0Ë? 
y
 : 
zîo
;

203  (
hy
 < 0Ë? -
y
 : 
zîo
;

206 i‡(
iy
 == 0x3ff00000)

208 i‡(
hy
 < 0)

210  
⁄e
 / 
x
;

214  
x
;

217 i‡(
hy
 == 0x40000000)

219  
x
 * x;

221 i‡(
hy
 == 0x3fe00000)

223 i‡(
hx
 >= 0)

225  
	`sqπ
 (
x
);

230 
ax
 = 
	`Ábs
 (
x
);

232 i‡(
lx
 == 0)

234 i‡(
ix
 == 0x7ff00000 || ix == 0 || ix == 0x3ff00000)

236 
z
 = 
ax
;

237 i‡(
hy
 < 0)

239 
z
 = 
⁄e
 / z;

241 i‡(
hx
 < 0)

243 i‡(((
ix
 - 0x3ff00000Ë| 
yisöt
) == 0)

245 
z
 = (z - z) / (z - z);

247 i‡(
yisöt
 == 1)

249 
z
 = -z;

252  
z
;

256 
n
 = (
hx
 >> 31) + 1;

259 i‡((
n
 | 
yisöt
) == 0)

261  (
x
 - x) / (x - x);

264 
s
 = 
⁄e
;

265 i‡((
n
 | (
yisöt
 - 1)) == 0)

267 
s
 = -
⁄e
;

271 i‡(
iy
 > 0x41e00000)

273 i‡(
iy
 > 0x43f00000)

275 i‡(
ix
 <= 0x3fefffff)

277  (
hy
 < 0Ë? 
huge
 * hugê: 
töy
 *Åiny;

279 i‡(
ix
 >= 0x3ff00000)

281  (
hy
 > 0Ë? 
huge
 * hugê: 
töy
 *Åiny;

285 i‡(
ix
 < 0x3fefffff)

287  (
hy
 < 0Ë? 
s
 * 
huge
 * hugê: s * 
töy
 *Åiny;

289 i‡(
ix
 > 0x3ff00000)

291  (
hy
 > 0Ë? 
s
 * 
huge
 * hugê: s * 
töy
 *Åiny;

295 
t
 = 
ax
 - 
⁄e
;

296 
w
 = (
t
 *Å) * (0.5 -Å * (0.3333333333333333333333 -Å * 0.25));

297 
u
 = 
iv 2_h
 * 
t
;

298 
v
 = 
t
 * 
iv 2_l
 - 
w
 * 
iv 2
;

299 
t1
 = 
u
 + 
v
;

300 
	`__LO
 (
t1
) = 0;

301 
t2
 = 
v
 - (
t1
 - 
u
);

305 
ss
, 
s2
, 
s_h
, 
s_l
, 
t_h
, 
t_l
;

307 
n
 = 0;

309 i‡(
ix
 < 0x00100000)

311 
ax
 *
two53
;

312 
n
 -= 53;

313 
ix
 = 
	`__HI
 (
ax
);

315 
n
 +((
ix
) >> 20) - 0x3ff;

316 
j
 = 
ix
 & 0x000fffff;

318 
ix
 = 
j
 | 0x3ff00000;

319 i‡(
j
 <= 0x3988E)

321 
k
 = 0;

323 i‡(
j
 < 0xBB67A)

325 
k
 = 1;

329 
k
 = 0;

330 
n
 += 1;

331 
ix
 -= 0x00100000;

333 
	`__HI
 (
ax
Ë
ix
;

336 
u
 = 
ax
 - 
bp
[
k
];

337 
v
 = 
⁄e
 / (
ax
 + 
bp
[
k
]);

338 
ss
 = 
u
 * 
v
;

339 
s_h
 = 
ss
;

340 
	`__LO
 (
s_h
) = 0;

342 
t_h
 = 
zîo
;

343 
	`__HI
 (
t_h
Ë((
ix
 >> 1Ë| 0x20000000Ë+ 0x00080000 + (
k
 << 18);

344 
t_l
 = 
ax
 - (
t_h
 - 
bp
[
k
]);

345 
s_l
 = 
v
 * ((
u
 - 
s_h
 * 
t_h
Ë- s_h * 
t_l
);

347 
s2
 = 
ss
 * ss;

348 
r
 = 
s2
 * s2 * (
L1
 + s2 * (
L2
 + s2 * (
L3
 + s2 * (
L4
 + s2 * (
L5
 + s2 * 
L6
)))));

349 
r
 +
s_l
 * (
s_h
 + 
ss
);

350 
s2
 = 
s_h
 * s_h;

351 
t_h
 = 3.0 + 
s2
 + 
r
;

352 
	`__LO
 (
t_h
) = 0;

353 
t_l
 = 
r
 - ((
t_h
 - 3.0Ë- 
s2
);

355 
u
 = 
s_h
 * 
t_h
;

356 
v
 = 
s_l
 * 
t_h
 + 
t_l
 * 
ss
;

358 
p_h
 = 
u
 + 
v
;

359 
	`__LO
 (
p_h
) = 0;

360 
p_l
 = 
v
 - (
p_h
 - 
u
);

361 
z_h
 = 
˝_h
 * 
p_h
;

362 
z_l
 = 
˝_l
 * 
p_h
 + 
p_l
 * 
˝
 + 
dp_l
[
k
];

364 
t
 = (Ë
n
;

365 
t1
 = (((
z_h
 + 
z_l
Ë+ 
dp_h
[
k
]Ë+ 
t
);

366 
	`__LO
 (
t1
) = 0;

367 
t2
 = 
z_l
 - (((
t1
 - 
t
Ë- 
dp_h
[
k
]Ë- 
z_h
);

371 
y1
 = 
y
;

372 
	`__LO
 (
y1
) = 0;

373 
p_l
 = (
y
 - 
y1
Ë* 
t1
 + y * 
t2
;

374 
p_h
 = 
y1
 * 
t1
;

375 
z
 = 
p_l
 + 
p_h
;

376 
j
 = 
	`__HI
 (
z
);

377 
i
 = 
	`__LO
 (
z
);

378 i‡(
j
 >= 0x40900000)

380 i‡(((
j
 - 0x40900000Ë| 
i
) != 0)

382  
s
 * 
huge
 * huge;

386 i‡(
p_l
 + 
ovt
 > 
z
 - 
p_h
)

388  
s
 * 
huge
 * huge;

392 i‡((
j
 & 0x7fffffff) >= 0x4090cc00)

394 i‡(((
j
 - 0xc090cc00Ë| 
i
) != 0)

396  
s
 * 
töy
 *Åiny;

400 i‡(
p_l
 <
z
 - 
p_h
)

402  
s
 * 
töy
 *Åiny;

409 
i
 = 
j
 & 0x7fffffff;

410 
k
 = (
i
 >> 20) - 0x3ff;

411 
n
 = 0;

412 i‡(
i
 > 0x3fe00000)

414 
n
 = 
j
 + (0x00100000 >> (
k
 + 1));

415 
k
 = ((
n
 & 0x7fffffff) >> 20) - 0x3ff;

416 
t
 = 
zîo
;

417 
	`__HI
 (
t
Ë(
n
 & ~(0x000ffff‡>> 
k
));

418 
n
 = (“ & 0x000fffffË| 0x00100000Ë>> (20 - 
k
);

419 i‡(
j
 < 0)

421 
n
 = -n;

423 
p_h
 -
t
;

425 
t
 = 
p_l
 + 
p_h
;

426 
	`__LO
 (
t
) = 0;

427 
u
 = 
t
 * 
lg2_h
;

428 
v
 = (
p_l
 - (
t
 - 
p_h
)Ë* 
lg2
 +Å * 
lg2_l
;

429 
z
 = 
u
 + 
v
;

430 
w
 = 
v
 - (
z
 - 
u
);

431 
t
 = 
z
 * z;

432 
t1
 = 
z
 - 
t
 * (
P1
 +Å * (
P2
 +Å * (
P3
 +Å * (
P4
 +Å * 
P5
))));

433 
r
 = (
z
 * 
t1
Ë/ (t1 - 
two
Ë- (
w
 + z * w);

434 
z
 = 
⁄e
 - (
r
 - z);

435 
j
 = 
	`__HI
 (
z
);

436 
j
 +(
n
 << 20);

437 i‡((
j
 >> 20) <= 0)

439 
z
 = 
	`sˇlbn
 (z, 
n
);

443 
	`__HI
 (
z
Ë+(
n
 << 20);

445  
s
 * 
z
;

446 
	}
}

448 #unde‡
zîo


449 #unde‡
⁄e


450 #unde‡
two


451 #unde‡
two53


452 #unde‡
huge


453 #unde‡
töy


454 #unde‡
L1


455 #unde‡
L2


456 #unde‡
L3


457 #unde‡
L4


458 #unde‡
L5


459 #unde‡
L6


460 #unde‡
P1


461 #unde‡
P2


462 #unde‡
P3


463 #unde‡
P4


464 #unde‡
P5


465 #unde‡
lg2


466 #unde‡
lg2_h


467 #unde‡
lg2_l


468 #unde‡
ovt


469 #unde‡
˝


470 #unde‡
˝_h


471 #unde‡
˝_l


472 #unde‡
iv 2


473 #unde‡
iv 2_h


474 #unde‡
iv 2_l


	@deps/jerry/jerry-libm/scalbn.c

28 
	~"jîry-libm-öã∫Æ.h
"

35 
	#two54
 1.80143985094819840000e+16

	)

36 
	#twom54
 5.55111512312578270212e-17

	)

37 
	#huge
 1.0e+300

	)

38 
	#töy
 1.0e-300

	)

41 
	$sˇlbn
 (
x
, 
n
)

43 
k
, 
hx
, 
lx
;

45 
hx
 = 
	`__HI
 (
x
);

46 
lx
 = 
	`__LO
 (
x
);

47 
k
 = (
hx
 & 0x7ff00000) >> 20;

48 i‡(
k
 == 0)

50 i‡((
lx
 | (
hx
 & 0x7fffffff)) == 0)

52  
x
;

54 
x
 *
two54
;

55 
hx
 = 
	`__HI
 (
x
);

56 
k
 = ((
hx
 & 0x7ff00000) >> 20) - 54;

57 i‡(
n
 < -50000)

59  
töy
 * 
x
;

62 i‡(
k
 == 0x7ff)

64  
x
 + x;

66 
k
 = k + 
n
;

67 i‡(
k
 > 0x7fe)

69  
huge
 * 
	`c›ysign
 (huge, 
x
);

71 i‡(
k
 > 0)

73 
	`__HI
 (
x
Ë(
hx
 & 0x800fffffË| (
k
 << 20);

74  
x
;

76 i‡(
k
 <= -54)

78 i‡(
n
 > 50000)

80  
huge
 * 
	`c›ysign
 (huge, 
x
);

84  
töy
 * 
	`c›ysign
 (töy, 
x
);

87 
k
 += 54;

88 
	`__HI
 (
x
Ë(
hx
 & 0x800fffffË| (
k
 << 20);

89  
x
 * 
twom54
;

90 
	}
}

92 #unde‡
two54


93 #unde‡
twom54


94 #unde‡
huge


95 #unde‡
töy


	@deps/jerry/jerry-libm/sqrt.c

28 
	~"jîry-libm-öã∫Æ.h
"

101 
	#⁄e
 1.0

	)

102 
	#töy
 1.0e-300

	)

105 
	$sqπ
 (
x
)

107 
z
;

108 
sign
 = () 0x80000000;

109 
r
, 
t1
, 
s1
, 
ix1
, 
q1
;

110 
ix0
, 
s0
, 
q
, 
m
, 
t
, 
i
;

112 
ix0
 = 
	`__HI
 (
x
);

113 
ix1
 = 
	`__LO
 (
x
);

116 i‡((
ix0
 & 0x7ff00000) == 0x7ff00000)

118  
x
 * x + x;

121 i‡(
ix0
 <= 0)

123 i‡(((
ix0
 & (~
sign
)Ë| 
ix1
) == 0)

125  
x
;

127 i‡(
ix0
 < 0)

129  (
x
 - x) / (x - x);

133 
m
 = (
ix0
 >> 20);

134 i‡(
m
 == 0)

136 
ix0
 == 0)

138 
m
 -= 21;

139 
ix0
 |(
ix1
 >> 11);

140 
ix1
 <<= 21;

142 
i
 = 0; (
ix0
 & 0x00100000) == 0; i++)

144 
ix0
 <<= 1;

146 
m
 -
i
 - 1;

147 
ix0
 |(
ix1
 >> (32 - 
i
));

148 
ix1
 <<
i
;

150 
m
 -= 1023;

151 
ix0
 = (ix0 & 0x000fffff) | 0x00100000;

152 i‡(
m
 & 1)

154 
ix0
 +ix0 + ((
ix1
 & 
sign
) >> 31);

155 
ix1
 += ix1;

157 
m
 >>= 1;

160 
ix0
 +ix0 + ((
ix1
 & 
sign
) >> 31);

161 
ix1
 += ix1;

162 
q
 = 
q1
 = 
s0
 = 
s1
 = 0;

163 
r
 = 0x00200000;

165 
r
 != 0)

167 
t
 = 
s0
 + 
r
;

168 i‡(
t
 <
ix0
)

170 
s0
 = 
t
 + 
r
;

171 
ix0
 -
t
;

172 
q
 +
r
;

174 
ix0
 +ix0 + ((
ix1
 & 
sign
) >> 31);

175 
ix1
 += ix1;

176 
r
 >>= 1;

179 
r
 = 
sign
;

180 
r
 != 0)

182 
t1
 = 
s1
 + 
r
;

183 
t
 = 
s0
;

184 i‡((
t
 < 
ix0
Ë|| (— =ix0Ë&& (
t1
 <
ix1
)))

186 
s1
 = 
t1
 + 
r
;

187 i‡(((
t1
 & 
sign
Ë=signË&& (
s1
 & sign) == 0)

189 
s0
 += 1;

191 
ix0
 -
t
;

192 i‡(
ix1
 < 
t1
)

194 
ix0
 -= 1;

196 
ix1
 -
t1
;

197 
q1
 +
r
;

199 
ix0
 +ix0 + ((
ix1
 & 
sign
) >> 31);

200 
ix1
 += ix1;

201 
r
 >>= 1;

205 i‡((
ix0
 | 
ix1
) != 0)

207 
z
 = 
⁄e
 - 
töy
;

208 i‡(
z
 >
⁄e
)

210 
z
 = 
⁄e
 + 
töy
;

211 i‡(
q1
 == () 0xffffffff)

213 
q1
 = 0;

214 
q
 += 1;

216 i‡(
z
 > 
⁄e
)

218 i‡(
q1
 == () 0xfffffffe)

220 
q
 += 1;

222 
q1
 += 2;

226 
q1
 += (q1 & 1);

230 
ix0
 = (
q
 >> 1) + 0x3fe00000;

231 
ix1
 = 
q1
 >> 1;

232 i‡((
q
 & 1) == 1)

234 
ix1
 |
sign
;

236 
ix0
 +(
m
 << 20);

237 
	`__HI
 (
z
Ë
ix0
;

238 
	`__LO
 (
z
Ë
ix1
;

239  
z
;

240 
	}
}

242 #unde‡
⁄e


243 #unde‡
töy


	@deps/jerry/jerry-libm/trig.c

35 
	~"jîry-libm-öã∫Æ.h
"

37 
	#zîo
 0.00000000000000000000e+00

	)

38 
	#hÆf
 5.00000000000000000000e-01

	)

39 
	#⁄e
 1.00000000000000000000e+00

	)

40 
	#two24
 1.67772160000000000000e+07

	)

41 
	#tw⁄24
 5.96046447753906250000e-08

	)

154 c⁄° 
	göô_jk
[] =

159 c⁄° 
	gPIo2
[] =

174 c⁄° 
	gùio2
[] =

190 
	$__kî√l_ªm_pio2
 (*
x
, *
y
, 
e0
, 
nx
, 
¥ec
)

192 
jz
, 
jx
, 
jv
, 
jp
, 
jk
, 
ˇºy
, 
n
, 
iq
[20], 
i
, 
j
, 
k
, 
m
, 
q0
, 
ih
;

193 
z
, 
fw
, 
f
[20], 
fq
[20], 
q
[20];

196 
jk
 = 
öô_jk
[
¥ec
];

197 
jp
 = 
jk
;

200 
jx
 = 
nx
 - 1;

201 
jv
 = (
e0
 - 3) / 24;

202 i‡(
jv
 < 0)

204 
jv
 = 0;

206 
q0
 = 
e0
 - 24 * (
jv
 + 1);

209 
j
 = 
jv
 - 
jx
;

210 
m
 = 
jx
 + 
jk
;

211 
i
 = 0; i <
m
; i++, 
j
++)

213 
f
[
i
] = (
j
 < 0Ë? 
zîo
 : (Ë
ùio2
[j];

217 
i
 = 0; i <
jk
; i++)

219 
j
 = 0, 
fw
 = 0.0; j <
jx
; j++)

221 
fw
 +
x
[
j
] * 
f
[
jx
 + 
i
 - j];

223 
q
[
i
] = 
fw
;

226 
jz
 = 
jk
;

227 
ªcompuã
:

229 
i
 = 0, 
j
 = 
jz
, 
z
 = 
q
[jz]; j > 0; i++, j--)

231 
fw
 = (Ë((Ë(
tw⁄24
 * 
z
));

232 
iq
[
i
] = (Ë(
z
 - 
two24
 * 
fw
);

233 
z
 = 
q
[
j
 - 1] + 
fw
;

237 
z
 = 
	`sˇlbn
 (z, 
q0
);

238 
z
 -8.0 * 
	`Êo‹
 (z * 0.125);

239 
n
 = (Ë
z
;

240 
z
 -(Ë
n
;

241 
ih
 = 0;

242 i‡(
q0
 > 0)

244 
i
 = (
iq
[
jz
 - 1] >> (24 - 
q0
));

245 
n
 +
i
;

246 
iq
[
jz
 - 1] -
i
 << (24 - 
q0
);

247 
ih
 = 
iq
[
jz
 - 1] >> (23 - 
q0
);

249 i‡(
q0
 == 0)

251 
ih
 = 
iq
[
jz
 - 1] >> 23;

253 i‡(
z
 >= 0.5)

255 
ih
 = 2;

258 i‡(
ih
 > 0)

260 
n
 += 1;

261 
ˇºy
 = 0;

262 
i
 = 0; i < 
jz
; i++)

264 
j
 = 
iq
[
i
];

265 i‡(
ˇºy
 == 0)

267 i‡(
j
 != 0)

269 
ˇºy
 = 1;

270 
iq
[
i
] = 0x1000000 - 
j
;

275 
iq
[
i
] = 0xfffff‡- 
j
;

278 i‡(
q0
 > 0)

280 
q0
)

284 
iq
[
jz
 - 1] &= 0x7fffff;

289 
iq
[
jz
 - 1] &= 0x3fffff;

294 i‡(
ih
 == 2)

296 
z
 = 
⁄e
 - z;

297 i‡(
ˇºy
 != 0)

299 
z
 -
	`sˇlbn
 (
⁄e
, 
q0
);

305 i‡(
z
 =
zîo
)

307 
j
 = 0;

308 
i
 = 
jz
 - 1; i >
jk
; i--)

310 
j
 |
iq
[
i
];

312 i‡(
j
 == 0)

314 
k
 = 1; 
iq
[
jk
 - k] == 0; k++)

318 
i
 = 
jz
 + 1; i <jz + 
k
; i++)

320 
f
[
jx
 + 
i
] = (Ë
ùio2
[
jv
 + i];

321 
j
 = 0, 
fw
 = 0.0; j <
jx
; j++)

323 
fw
 +
x
[
j
] * 
f
[
jx
 + 
i
 - j];

325 
q
[
i
] = 
fw
;

327 
jz
 +
k
;

328 
ªcompuã
;

333 i‡(
z
 == 0.0)

335 
jz
 -= 1;

336 
q0
 -= 24;

337 
iq
[
jz
] == 0)

339 
jz
--;

340 
q0
 -= 24;

345 
z
 = 
	`sˇlbn
 (z, -
q0
);

346 i‡(
z
 >
two24
)

348 
fw
 = (Ë((Ë(
tw⁄24
 * 
z
));

349 
iq
[
jz
] = (Ë(
z
 - 
two24
 * 
fw
);

350 
jz
 += 1;

351 
q0
 += 24;

352 
iq
[
jz
] = (Ë
fw
;

356 
iq
[
jz
] = (Ë
z
;

361 
fw
 = 
	`sˇlbn
 (
⁄e
, 
q0
);

362 
i
 = 
jz
; i >= 0; i--)

364 
q
[
i
] = 
fw
 * (Ë
iq
[i];

365 
fw
 *
tw⁄24
;

369 
i
 = 
jz
; i >= 0; i--)

371 
fw
 = 0.0, 
k
 = 0; k <
jp
 && k <
jz
 - 
i
; k++)

373 
fw
 +
PIo2
[
k
] * 
q
[
i
 + k];

375 
fq
[
jz
 - 
i
] = 
fw
;

379 
¥ec
)

383 
fw
 = 0.0;

384 
i
 = 
jz
; i >= 0; i--)

386 
fw
 +
fq
[
i
];

388 
y
[0] = (
ih
 =0Ë? 
fw
 : -fw;

394 
fw
 = 0.0;

395 
i
 = 
jz
; i >= 0; i--)

397 
fw
 +
fq
[
i
];

399 
y
[0] = (
ih
 =0Ë? 
fw
 : -fw;

400 
fw
 = 
fq
[0] - fw;

401 
i
 = 1; i <
jz
; i++)

403 
fw
 +
fq
[
i
];

405 
y
[1] = (
ih
 =0Ë? 
fw
 : -fw;

410 
i
 = 
jz
; i > 0; i--)

412 
fw
 = 
fq
[
i
 - 1] + fq[i];

413 
fq
[
i
] +fq[ò- 1] - 
fw
;

414 
fq
[
i
 - 1] = 
fw
;

416 
i
 = 
jz
; i > 1; i--)

418 
fw
 = 
fq
[
i
 - 1] + fq[i];

419 
fq
[
i
] +fq[ò- 1] - 
fw
;

420 
fq
[
i
 - 1] = 
fw
;

422 
fw
 = 0.0, 
i
 = 
jz
; i >= 2; i--)

424 
fw
 +
fq
[
i
];

426 i‡(
ih
 == 0)

428 
y
[0] = 
fq
[0];

429 
y
[1] = 
fq
[1];

430 
y
[2] = 
fw
;

434 
y
[0] = -
fq
[0];

435 
y
[1] = -
fq
[1];

436 
y
[2] = -
fw
;

440  
n
 & 7;

441 
	}
}

448 c⁄° 
	g≈io2_hw
[] =

467 
	#övpio2
 6.36619772367581382433e-01

	)

468 
	#pio2_1
 1.57079632673412561417e+00

	)

469 
	#pio2_1t
 6.07710050650619224932e-11

	)

470 
	#pio2_2
 6.07710050630396597660e-11

	)

471 
	#pio2_2t
 2.02226624879595063154e-21

	)

472 
	#pio2_3
 2.02226624871116645580e-21

	)

473 
	#pio2_3t
 8.47842766036889956997e-32

	)

476 
	$__õì754_ªm_pio2
 (
x
, *
y
)

478 
z
, 
w
, 
t
, 
r
, 
‚
;

479 
tx
[3];

480 
e0
, 
i
, 
j
, 
nx
, 
n
, 
ix
, 
hx
;

482 
hx
 = 
	`__HI
 (
x
);

483 
ix
 = 
hx
 & 0x7fffffff;

484 i‡(
ix
 <= 0x3fe921fb)

486 
y
[0] = 
x
;

487 
y
[1] = 0;

490 i‡(
ix
 < 0x4002d97c)

492 i‡(
hx
 > 0)

494 
z
 = 
x
 - 
pio2_1
;

495 i‡(
ix
 != 0x3ff921fb)

497 
y
[0] = 
z
 - 
pio2_1t
;

498 
y
[1] = (
z
 - y[0]Ë- 
pio2_1t
;

502 
z
 -
pio2_2
;

503 
y
[0] = 
z
 - 
pio2_2t
;

504 
y
[1] = (
z
 - y[0]Ë- 
pio2_2t
;

510 
z
 = 
x
 + 
pio2_1
;

511 i‡(
ix
 != 0x3ff921fb)

513 
y
[0] = 
z
 + 
pio2_1t
;

514 
y
[1] = (
z
 - y[0]Ë+ 
pio2_1t
;

518 
z
 +
pio2_2
;

519 
y
[0] = 
z
 + 
pio2_2t
;

520 
y
[1] = (
z
 - y[0]Ë+ 
pio2_2t
;

525 i‡(
ix
 <= 0x413921fb)

527 
t
 = 
	`Ábs
 (
x
);

528 
n
 = (Ë(
t
 * 
övpio2
 + 
hÆf
);

529 
‚
 = (Ë
n
;

530 
r
 = 
t
 - 
‚
 * 
pio2_1
;

531 
w
 = 
‚
 * 
pio2_1t
;

532 i‡(
n
 < 32 && 
ix
 !
≈io2_hw
[n - 1])

534 
y
[0] = 
r
 - 
w
;

538 
j
 = 
ix
 >> 20;

539 
y
[0] = 
r
 - 
w
;

540 
i
 = 
j
 - (((
	`__HI
 (
y
[0])) >> 20) & 0x7ff);

541 i‡(
i
 > 16)

543 
t
 = 
r
;

544 
w
 = 
‚
 * 
pio2_2
;

545 
r
 = 
t
 - 
w
;

546 
w
 = 
‚
 * 
pio2_2t
 - ((
t
 - 
r
) - w);

547 
y
[0] = 
r
 - 
w
;

548 
i
 = 
j
 - (((
	`__HI
 (
y
[0])) >> 20) & 0x7ff);

549 i‡(
i
 > 49)

551 
t
 = 
r
;

552 
w
 = 
‚
 * 
pio2_3
;

553 
r
 = 
t
 - 
w
;

554 
w
 = 
‚
 * 
pio2_3t
 - ((
t
 - 
r
) - w);

555 
y
[0] = 
r
 - 
w
;

559 
y
[1] = (
r
 - y[0]Ë- 
w
;

560 i‡(
hx
 < 0)

562 
y
[0] = -y[0];

563 
y
[1] = -y[1];

564  -
n
;

568  
n
;

574 i‡(
ix
 >= 0x7ff00000)

576 
y
[0] = y[1] = 
x
 - x;

580 
	`__LO
 (
z
Ë__LO (
x
);

581 
e0
 = (
ix
 >> 20) - 1046;

582 
	`__HI
 (
z
Ë
ix
 - (
e0
 << 20);

583 
i
 = 0; i < 2; i++)

585 
tx
[
i
] = (Ë((Ë(
z
));

586 
z
 = (z - 
tx
[
i
]Ë* 
two24
;

588 
tx
[2] = 
z
;

589 
nx
 = 3;

590 
tx
[
nx
 - 1] =
zîo
)

592 
nx
--;

594 
n
 = 
	`__kî√l_ªm_pio2
 (
tx
, 
y
, 
e0
, 
nx
, 2);

595 i‡(
hx
 < 0)

597 
y
[0] = -y[0];

598 
y
[1] = -y[1];

599  -
n
;

601  
n
;

602 
	}
}

632 
	#S1
 -1.66666666666666324348e-01

	)

633 
	#S2
 8.33333333332248946124e-03

	)

634 
	#S3
 -1.98412698298579493134e-04

	)

635 
	#S4
 2.75573137070700676789e-06

	)

636 
	#S5
 -2.50507602534068634195e-08

	)

637 
	#S6
 1.58969099521155010221e-10

	)

640 
	$__kî√l_sö
 (
x
, 
y
, 
iy
)

642 
z
, 
r
, 
v
;

643 
ix
;

645 
ix
 = 
	`__HI
 (
x
) & 0x7fffffff;

646 i‡(
ix
 < 0x3e400000)

648 i‡((Ë
x
 == 0)

650  
x
;

653 
z
 = 
x
 * x;

654 
v
 = 
z
 * 
x
;

655 
r
 = 
S2
 + 
z
 * (
S3
 + z * (
S4
 + z * (
S5
 + z * 
S6
)));

656 i‡(
iy
 == 0)

658  
x
 + 
v
 * (
S1
 + 
z
 * 
r
);

662  
x
 - ((
z
 * (
hÆf
 * 
y
 - 
v
 * 
r
Ë- yË- v * 
S1
);

664 
	}
}

701 
	#C1
 4.16666666666666019037e-02

	)

702 
	#C2
 -1.38888888888741095749e-03

	)

703 
	#C3
 2.48015872894767294178e-05

	)

704 
	#C4
 -2.75573143513906633035e-07

	)

705 
	#C5
 2.08757232129817482790e-09

	)

706 
	#C6
 -1.13596475577881948265e-11

	)

709 
	$__kî√l_cos
 (
x
, 
y
)

711 
a
, 
hz
, 
z
, 
r
, 
qx
;

712 
ix
;

714 
ix
 = 
	`__HI
 (
x
) & 0x7fffffff;

715 i‡(
ix
 < 0x3e400000)

717 i‡(((Ë
x
) == 0)

719  
⁄e
;

722 
z
 = 
x
 * x;

723 
r
 = 
z
 * (
C1
 + z * (
C2
 + z * (
C3
 + z * (
C4
 + z * (
C5
 + z * 
C6
)))));

724 i‡(
ix
 < 0x3FD33333)

726  
⁄e
 - (0.5 * 
z
 - (z * 
r
 - 
x
 * 
y
));

730 i‡(
ix
 > 0x3fe90000)

732 
qx
 = 0.28125;

736 
	`__HI
 (
qx
Ë
ix
 - 0x00200000;

737 
	`__LO
 (
qx
) = 0;

739 
hz
 = 0.5 * 
z
 - 
qx
;

740 
a
 = 
⁄e
 - 
qx
;

741  
a
 - (
hz
 - (
z
 * 
r
 - 
x
 * 
y
));

743 
	}
}

778 
	#T0
 3.33333333333334091986e-01

	)

779 
	#T1
 1.33333333333201242699e-01

	)

780 
	#T2
 5.39682539762260521377e-02

	)

781 
	#T3
 2.18694882948595424599e-02

	)

782 
	#T4
 8.86323982359930005737e-03

	)

783 
	#T5
 3.59207910759131235356e-03

	)

784 
	#T6
 1.45620945432529025516e-03

	)

785 
	#T7
 5.88041240820264096874e-04

	)

786 
	#T8
 2.46463134818469906812e-04

	)

787 
	#T9
 7.81794442939557092300e-05

	)

788 
	#T10
 7.14072491382608190305e-05

	)

789 
	#T11
 -1.85586374855275456654e-05

	)

790 
	#T12
 2.59073051863633712884e-05

	)

791 
	#pio4
 7.85398163397448278999e-01

	)

792 
	#pio4lo
 3.06161699786838301793e-17

	)

795 
	$__kî√l_èn
 (
x
, 
y
, 
iy
)

797 
z
, 
r
, 
v
, 
w
, 
s
;

798 
ix
, 
hx
;

800 
hx
 = 
	`__HI
 (
x
);

801 
ix
 = 
hx
 & 0x7fffffff;

802 i‡(
ix
 < 0x3e300000)

804 i‡((Ë
x
 == 0)

806 i‡(((
ix
 | 
	`__LO
 (
x
)Ë| (
iy
 + 1)) == 0)

808  
⁄e
 / 
	`Ábs
 (
x
);

812 i‡(
iy
 == 1)

814  
x
;

818 
a
, 
t
;

820 
z
 = 
w
 = 
x
 + 
y
;

821 
	`__LO
 (
z
) = 0;

822 
v
 = 
y
 - (
z
 - 
x
);

823 
t
 = 
a
 = -
⁄e
 / 
w
;

824 
	`__LO
 (
t
) = 0;

825 
s
 = 
⁄e
 + 
t
 * 
z
;

826  
t
 + 
a
 * (
s
 +Å * 
v
);

831 i‡(
ix
 >= 0x3FE59428)

833 i‡(
hx
 < 0)

835 
x
 = -x;

836 
y
 = -y;

838 
z
 = 
pio4
 - 
x
;

839 
w
 = 
pio4lo
 - 
y
;

840 
x
 = 
z
 + 
w
;

841 
y
 = 0.0;

843 
z
 = 
x
 * x;

844 
w
 = 
z
 * z;

850 
r
 = 
T1
 + 
w
 * (
T3
 + w * (
T5
 + w * (
T7
 + w * (
T9
 + w * 
T11
))));

851 
v
 = 
z
 * (
T2
 + 
w
 * (
T4
 + w * (
T6
 + w * (
T8
 + w * (
T10
 + w * 
T12
)))));

852 
s
 = 
z
 * 
x
;

853 
r
 = 
y
 + 
z
 * (
s
 * (∏+ 
v
) + y);

854 
r
 +
T0
 * 
s
;

855 
w
 = 
x
 + 
r
;

856 i‡(
ix
 >= 0x3FE59428)

858 
v
 = (Ë
iy
;

859  (Ë(1 - ((
hx
 >> 30Ë& 2)Ë* (
v
 - 2.0 * (
x
 - (
w
 * w / (w + vË- 
r
)));

861 i‡(
iy
 == 1)

863  
w
;

872 
a
, 
t
;

874 
z
 = 
w
;

875 
	`__LO
 (
z
) = 0;

876 
v
 = 
r
 - (
z
 - 
x
);

877 
t
 = 
a
 = -1.0 / 
w
;

878 
	`__LO
 (
t
) = 0;

879 
s
 = 1.0 + 
t
 * 
z
;

880  
t
 + 
a
 * (
s
 +Å * 
v
);

882 
	}
}

916 
	$sö
 (
x
)

918 
y
[2], 
z
 = 0.0;

919 
n
, 
ix
;

922 
ix
 = 
	`__HI
 (
x
);

925 
ix
 &= 0x7fffffff;

926 i‡(
ix
 <= 0x3fe921fb)

928  
	`__kî√l_sö
 (
x
, 
z
, 0);

932 i‡(
ix
 >= 0x7ff00000)

934  
x
 - x;

940 
n
 = 
	`__õì754_ªm_pio2
 (
x
, 
y
);

941 
n
 & 3)

945  
	`__kî√l_sö
 (
y
[0], y[1], 1);

949  
	`__kî√l_cos
 (
y
[0], y[1]);

953  -
	`__kî√l_sö
 (
y
[0], y[1], 1);

957  -
	`__kî√l_cos
 (
y
[0], y[1]);

961 
	}
}

973 
	$cos
 (
x
)

975 
y
[2], 
z
 = 0.0;

976 
n
, 
ix
;

979 
ix
 = 
	`__HI
 (
x
);

982 
ix
 &= 0x7fffffff;

983 i‡(
ix
 <= 0x3fe921fb)

985  
	`__kî√l_cos
 (
x
, 
z
);

989 i‡(
ix
 >= 0x7ff00000)

991  
x
 - x;

997 
n
 = 
	`__õì754_ªm_pio2
 (
x
, 
y
);

998 
n
 & 3)

1002  
	`__kî√l_cos
 (
y
[0], y[1]);

1006  -
	`__kî√l_sö
 (
y
[0], y[1], 1);

1010  -
	`__kî√l_cos
 (
y
[0], y[1]);

1014  
	`__kî√l_sö
 (
y
[0], y[1], 1);

1018 
	}
}

1029 
	$èn
 (
x
)

1031 
y
[2], 
z
 = 0.0;

1032 
n
, 
ix
;

1035 
ix
 = 
	`__HI
 (
x
);

1038 
ix
 &= 0x7fffffff;

1039 i‡(
ix
 <= 0x3fe921fb)

1041  
	`__kî√l_èn
 (
x
, 
z
, 1);

1045 i‡(
ix
 >= 0x7ff00000)

1047  
x
 - x;

1053 
n
 = 
	`__õì754_ªm_pio2
 (
x
, 
y
);

1054  
	`__kî√l_èn
 (
y
[0], y[1], 1 - ((
n
 & 1) << 1));

1056 
	}
}

1058 #unde‡
zîo


1059 #unde‡
hÆf


1060 #unde‡
⁄e


1061 #unde‡
two24


1062 #unde‡
tw⁄24


1063 #unde‡
övpio2


1064 #unde‡
pio2_1


1065 #unde‡
pio2_1t


1066 #unde‡
pio2_2


1067 #unde‡
pio2_2t


1068 #unde‡
pio2_3


1069 #unde‡
pio2_3t


1070 #unde‡
S1


1071 #unde‡
S2


1072 #unde‡
S3


1073 #unde‡
S4


1074 #unde‡
S5


1075 #unde‡
S6


1076 #unde‡
C1


1077 #unde‡
C2


1078 #unde‡
C3


1079 #unde‡
C4


1080 #unde‡
C5


1081 #unde‡
C6


1082 #unde‡
T0


1083 #unde‡
T1


1084 #unde‡
T2


1085 #unde‡
T3


1086 #unde‡
T4


1087 #unde‡
T5


1088 #unde‡
T6


1089 #unde‡
T7


1090 #unde‡
T8


1091 #unde‡
T9


1092 #unde‡
T10


1093 #unde‡
T11


1094 #unde‡
T12


1095 #unde‡
pio4


1096 #unde‡
pio4lo


	@deps/jerry/jerry-main/cli.c

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

19 
	~"˛i.h
"

28 
	#CLI_LINE_LENGTH
 80

	)

33 
	#CLI_LINE_INDENT
 2

	)

38 
	#CLI_LINE_TAB
 24

	)

49 
	#CLI_CMD_NAME
(
CMDNAME
, 
PROGNAME
, 
CMD
) \

50 
CMDNAME
[
	`°æí
 ((
PROGNAME
)Ë+ såÀ¿((
CMD
)) + 2]; \

51 
	`°∫˝y
 (
CMDNAME
, (
PROGNAME
), 
	`°æí
 ((PROGNAME))); \

52 
CMDNAME
[
	`°æí
 ((
PROGNAME
))] = ' '; \

53 
	`°∫˝y
 (
CMDNAME
 + 
	`°æí
 ((
PROGNAME
)Ë+ 1, (
CMD
), såÀ¿((CMD)Ë+ 1)

	)

64 
˛i_°©e_t


65 
	$˛i_öô
 (c⁄° 
˛i_›t_t
 *
›ti⁄s
,

66 
¨gc
,

67 **
¨gv
)

69  (
˛i_°©e_t
)

71 .
îr‹
 = 
NULL
,

72 .
¨g
 = 
NULL
,

73 .
¨gc
 =árgc,

74 .
¨gv
 =árgv,

75 .
›ts
 = 
›ti⁄s


77 
	}
}

88 
	$˛i_c⁄sume_›ti⁄
 (
˛i_°©e_t
 *
°©e
)

90 i‡(
°©e
->
îr‹
 !
NULL
)

92  
CLI_OPT_END
;

95 i‡(
°©e
->
¨gc
 <= 0)

97 
°©e
->
¨g
 = 
NULL
;

98  
CLI_OPT_END
;

101 c⁄° *
¨g
 = 
°©e
->
¨gv
[0];

103 
°©e
->
¨g
 =árg;

105 i‡(
¨g
[0] != '-')

107  
CLI_OPT_DEFAULT
;

110 i‡(
¨g
[1] == '-')

112 
¨g
 += 2;

114 c⁄° 
˛i_›t_t
 *
›t
 = 
°©e
->
›ts
; o±->
id
 !
CLI_OPT_DEFAULT
; opt++)

116 i‡(
›t
->
l⁄g›t
 !
NULL
 && 
	`°rcmp
 (
¨g
, opt->longopt) == 0)

118 
°©e
->
¨gc
--;

119 
°©e
->
¨gv
++;

120  
›t
->
id
;

124 
°©e
->
îr‹
 = "UnknownÜong option";

125  
CLI_OPT_END
;

128 
¨g
++;

130 c⁄° 
˛i_›t_t
 *
›t
 = 
°©e
->
›ts
; o±->
id
 !
CLI_OPT_DEFAULT
; opt++)

132 i‡(
›t
->›à!
NULL
 && 
	`°rcmp
 (
¨g
, opt->opt) == 0)

134 
°©e
->
¨gc
--;

135 
°©e
->
¨gv
++;

136  
›t
->
id
;

140 
°©e
->
îr‹
 = "Unknown option";

141  
CLI_OPT_END
;

142 
	}
}

153 
	$˛i_c⁄sume_°rög
 (
˛i_°©e_t
 *
°©e
)

155 i‡(
°©e
->
îr‹
 !
NULL
)

157  
NULL
;

160 i‡(
°©e
->
¨gc
 <= 0)

162 
°©e
->
îr‹
 = "Expected stringárgument";

163 
°©e
->
¨g
 = 
NULL
;

164  
NULL
;

167 
°©e
->
¨g
 = sèã->
¨gv
[0];

169 
°©e
->
¨gc
--;

170 
°©e
->
¨gv
++;

171  
°©e
->
¨g
;

172 
	}
}

183 
	$˛i_c⁄sume_öt
 (
˛i_°©e_t
 *
°©e
)

185 i‡(
°©e
->
îr‹
 !
NULL
)

190 
°©e
->
îr‹
 = "Expected integerárgument";

192 i‡(
°©e
->
¨gc
 <= 0)

194 
°©e
->
¨g
 = 
NULL
;

198 
°©e
->
¨g
 = sèã->
¨gv
[0];

200 *
íd±r
;

201 
vÆue
 = 
	`°πﬁ
 (
°©e
->
¨g
, &
íd±r
, 10);

203 i‡(*
íd±r
 != '\0')

208 
°©e
->
îr‹
 = 
NULL
;

209 
°©e
->
¨gc
--;

210 
°©e
->
¨gv
++;

211  (Ë
vÆue
;

212 
	}
}

222 
	$˛i_¥öt_∑d
 (
˙t
)

224 
i
 = 0; i < 
˙t
; i++)

226 
	`¥ötf
 (" ");

228 
	}
}

234 
	$˛i_¥öt_¥efix
 (c⁄° *
°r
,

235 
Àn
)

237 
i
 = 0; i < 
Àn
; i++)

239 
	`¥ötf
 ("%c", *
°r
++);

241 
	}
}

247 
	$˛i_›t_ußge
 (c⁄° *
¥og«me
,

248 c⁄° 
˛i_›t_t
 *
›ts
)

250 
Àngth
 = (Ë
	`°æí
 (
¥og«me
);

251 c⁄° 
˛i_›t_t
 *
o
 = 
›ts
;

253 
	`¥ötf
 ("%s", 
¥og«me
);

255 
o
->
id
 !
CLI_OPT_DEFAULT
)

257 c⁄° *
›t
 = 
o
->opt;

258 
›t_Àngth
 = 2 + 1;

260 i‡(
›t
 =
NULL
)

262 
›t
 = 
o
->
l⁄g›t
;

263 
›t_Àngth
++;

266 
›t_Àngth
 +(Ë
	`°æí
 (
›t
);

268 i‡(
Àngth
 + 1 + 
›t_Àngth
 >
CLI_LINE_LENGTH
)

270 
Àngth
 = 
CLI_LINE_INDENT
 - 1;

271 
	`¥ötf
 ("\n");

272 
	`˛i_¥öt_∑d
 (
Àngth
);

274 
Àngth
 +
›t_Àngth
;

276 
	`¥ötf
 (" [");

278 i‡(
o
->
›t
 !
NULL
)

280 
	`¥ötf
 ("-%s", 
›t
);

284 
	`¥ötf
 ("--%s", 
›t
);

287 i‡(
o
->
mëa
 !
NULL
)

289 
	`¥ötf
 (" %s", 
o
->
mëa
);

292 
	`¥ötf
 ("]");

294 
o
++;

297 i‡(
o
->
mëa
 !
NULL
)

299 c⁄° *
›t
 = 
o
->
mëa
;

300 
›t_Àngth
 = (Ë(2 + 
	`°æí
 (
›t
));

302 i‡(
Àngth
 + 1 + 
›t_Àngth
 >
CLI_LINE_LENGTH
)

304 
Àngth
 = 
CLI_LINE_INDENT
 - 1;

305 
	`¥ötf
 ("\n");

306 
	`˛i_¥öt_∑d
 (
Àngth
);

309 
	`¥ötf
 (" [%s]", 
›t
);

312 
	`¥ötf
 ("\n\n");

313 
	}
}

319 
	$˛i_¥öt_hñp
 (c⁄° *
hñp
)

321 
hñp
 !
NULL
 && *help != 0)

323 
Àngth
 = -1;

324 
i
 = 0;

325 ; 
i
 < 
CLI_LINE_LENGTH
 - 
CLI_LINE_TAB
 && 
hñp
[i] != 0; i++)

327 i‡(
hñp
[
i
] == ' ')

329 
Àngth
 = 
i
;

332 i‡(
Àngth
 < 0 || 
i
 < 
CLI_LINE_LENGTH
 - 
CLI_LINE_TAB
)

334 
Àngth
 = 
i
;

337 
	`˛i_¥öt_¥efix
 (
hñp
, 
Àngth
);

339 
hñp
 +
Àngth
;

340 *
hñp
 == ' ' && *help != 0)

342 
hñp
++;

345 i‡(*
hñp
 != 0)

347 
	`¥ötf
 ("\n");

348 
	`˛i_¥öt_∑d
 (
CLI_LINE_TAB
);

351 
	}
}

357 
	$˛i_hñp
 (c⁄° *
¥og«me
,

358 c⁄° 
˛i_›t_t
 *
›ti⁄s
)

360 
	`˛i_›t_ußge
 (
¥og«me
, 
›ti⁄s
);

362 c⁄° 
˛i_›t_t
 *
›t
 = 
›ti⁄s
;

364 
›t
->
id
 !
CLI_OPT_DEFAULT
)

366 
Àngth
 = 
CLI_LINE_INDENT
;

367 
	`˛i_¥öt_∑d
 (
CLI_LINE_INDENT
);

369 i‡(
›t
->›à!
NULL
)

371 
	`¥ötf
 ("-%s", 
›t
->opt);

372 
Àngth
 +(Ë(
	`°æí
 (
›t
->opt) + 1);

375 i‡(
›t
->›à!
NULL
 && o±->
l⁄g›t
 != NULL)

377 
	`¥ötf
 (", ");

378 
Àngth
 += 2;

381 i‡(
›t
->
l⁄g›t
 !
NULL
)

383 
	`¥ötf
 ("--%s", 
›t
->
l⁄g›t
);

384 
Àngth
 +(Ë(
	`°æí
 (
›t
->
l⁄g›t
) + 2);

387 i‡(
›t
->
mëa
 !
NULL
)

389 
	`¥ötf
 (" %s", 
›t
->
mëa
);

390 
Àngth
 +1 + (Ë
	`°æí
 (
›t
->
mëa
);

393 i‡(
›t
->
hñp
 !
NULL
)

395 i‡(
Àngth
 >
CLI_LINE_TAB
)

397 
	`¥ötf
 ("\n");

398 
Àngth
 = 0;

400 
	`˛i_¥öt_∑d
 (
CLI_LINE_TAB
 - 
Àngth
);

401 
Àngth
 = 
CLI_LINE_TAB
;

403 
	`˛i_¥öt_hñp
 (
›t
->
hñp
);

406 
	`¥ötf
 ("\n");

407 
›t
++;

410 i‡(
›t
->
hñp
 !
NULL
)

412 
Àngth
 = 0;

414 i‡(
›t
->
mëa
 !
NULL
)

416 
Àngth
 = (Ë(
CLI_LINE_INDENT
 + 
	`°æí
 (
›t
->
mëa
));

418 
	`˛i_¥öt_∑d
 (
CLI_LINE_INDENT
);

419 
	`¥ötf
 ("%s", 
›t
->
mëa
);

422 i‡(
Àngth
 >
CLI_LINE_TAB
)

424 
	`¥ötf
 ("\n");

425 
Àngth
 = 0;

428 
	`˛i_¥öt_∑d
 (
CLI_LINE_TAB
 - 
Àngth
);

430 
	`˛i_¥öt_hñp
 (
›t
->
hñp
);

431 
	`¥ötf
 ("\n");

433 
	}
}

	@deps/jerry/jerry-main/cli.h

16 #i‚de‡
CLI_H


17 
	#CLI_H


	)

19 
	~<°rög.h
>

26 
	mid
;

27 c⁄° *
	m›t
;

28 c⁄° *
	ml⁄g›t
;

29 c⁄° *
	mmëa
;

30 c⁄° *
	mhñp
;

31 } 
	t˛i_›t_t
;

36 
	#CLI_OPT_DEFAULT
 -1

	)

42 
	#CLI_OPT_END
 -2

	)

51 c⁄° *
	mîr‹
;

52 c⁄° *
	m¨g
;

55 
	m¨gc
;

56 **
	m¨gv
;

57 c⁄° 
˛i_›t_t
 *
	m›ts
;

58 } 
	t˛i_°©e_t
;

63 
	#CLI_OPT_DEF
(...Ë { 
__VA_ARGS__
 }

	)

69 
˛i_°©e_t
 
˛i_öô
 (c⁄° 
˛i_›t_t
 *
›ti⁄s
, 
¨gc
, **
¨gv
);

70 
˛i_c⁄sume_›ti⁄
 (
˛i_°©e_t
 *
°©e
);

71 c⁄° * 
˛i_c⁄sume_°rög
 (
˛i_°©e_t
 *
°©e
);

72 
˛i_c⁄sume_öt
 (
˛i_°©e_t
 *
°©e
);

73 
˛i_hñp
 (c⁄° *
¥og«me
, c⁄° 
˛i_›t_t
 *
›ti⁄s
);

	@deps/jerry/jerry-main/main-unix-minimal.c

16 
	~<°rög.h
>

18 
	~"jîrys¸ùt.h
"

19 
	~"jîrys¸ùt-p‹t.h
"

24 
	#JERRY_BUFFER_SIZE
 (1048576)

	)

29 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

30 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

32 
uöt8_t
 
	gbuf„r
[ 
JERRY_BUFFER_SIZE
 ];

34 c⁄° 
uöt8_t
 *

35 
	$ªad_fûe
 (c⁄° *
fûe_«me
,

36 
size_t
 *
out_size_p
)

38 
FILE
 *
fûe
 = 
	`f›í
 (
fûe_«me
, "r");

39 i‡(
fûe
 =
NULL
)

41 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: faûedÅÿ›í fûe: %s\n", 
fûe_«me
);

42  
NULL
;

45 
size_t
 
byãs_ªad
 = 
	`‰ód
 (
buf„r
, 1u,  (buf„r), 
fûe
);

46 i‡(!
byãs_ªad
)

48 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: faûedÅÿªad fûe: %s\n", 
fûe_«me
);

49 
	`f˛o£
 (
fûe
);

50  
NULL
;

53 
	`f˛o£
 (
fûe
);

55 *
out_size_p
 = 
byãs_ªad
;

56  (c⁄° 
uöt8_t
 *Ë
buf„r
;

57 
	}
}

60 
	$¥öt_hñp
 (*
«me
)

62 
	`¥ötf
 ("Usage: %s [OPTION]... [FILE]...\n"

67 
«me
);

68 
	}
}

71 
	$maö
 (
¨gc
,

72 **
¨gv
)

74 i‡(
¨gc
 <1 || (¨g¯=2 && (!
	`°rcmp
 ("-h", 
¨gv
[1]) || !strcmp ("--help",árgv[1]))))

76 
	`¥öt_hñp
 (
¨gv
[0]);

77  
JERRY_STANDALONE_EXIT_CODE_OK
;

80 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

81 
jîry_vÆue_t
 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

83 
i
 = 1; i < 
¨gc
; i++)

85 c⁄° *
fûe_«me
 = 
¨gv
[
i
];

86 
size_t
 
sour˚_size
;

88 c⁄° 
jîry_ch¨_t
 *
sour˚_p
 = 
	`ªad_fûe
 (
fûe_«me
, &
sour˚_size
);

90 i‡(
sour˚_p
 =
NULL
)

92 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, (
jîry_ch¨_t
 *) "");

97 
ªt_vÆue
 = 
	`jîry_∑r£
 (
sour˚_p
, 
sour˚_size
, 
Ál£
);

99 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

101 
jîry_vÆue_t
 
func_vÆ
 = 
ªt_vÆue
;

102 
ªt_vÆue
 = 
	`jîry_run
 (
func_vÆ
);

103 
	`jîry_ªÀa£_vÆue
 (
func_vÆ
);

107 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

112 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

113 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

116 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_OK
;

118 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

120 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "UnhandledÉxception: Script Error!\n");

121 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_FAIL
;

124 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

125 
	`jîry_˛ónup
 ();

127  
ªt_code
;

128 
	}
}

	@deps/jerry/jerry-main/main-unix.c

16 
	~<as£π.h
>

17 
	~<°dio.h
>

18 
	~<°dlib.h
>

19 
	~<°rög.h
>

21 
	~"jîrys¸ùt.h
"

22 
	~"jîrys¸ùt-ext/h™dÀr.h
"

23 
	~"jîrys¸ùt-p‹t.h
"

24 
	~"jîrys¸ùt-p‹t-deÁu….h
"

26 
	~"˛i.h
"

31 
	#JERRY_BUFFER_SIZE
 (1048576)

	)

36 
	#JERRY_SNAPSHOT_BUFFER_SIZE
 (
JERRY_BUFFER_SIZE
 /  (
uöt32_t
))

	)

41 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

42 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

47 
	#SYNTAX_ERROR_CONTEXT_SIZE
 2

	)

49 
uöt8_t
 
	gbuf„r
[ 
JERRY_BUFFER_SIZE
 ];

51 c⁄° 
uöt32_t
 *

52 
	$ªad_fûe
 (c⁄° *
fûe_«me
,

53 
size_t
 *
out_size_p
)

55 
FILE
 *
fûe
;

56 i‡(!
	`°rcmp
 ("-", 
fûe_«me
))

58 
fûe
 = 
°dö
;

62 
fûe
 = 
	`f›í
 (
fûe_«me
, "r");

63 i‡(
fûe
 =
NULL
)

65 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: faûedÅÿ›í fûe: %s\n", 
fûe_«me
);

66  
NULL
;

70 
size_t
 
byãs_ªad
 = 
	`‰ód
 (
buf„r
, 1u,  (buf„r), 
fûe
);

71 i‡(!
byãs_ªad
)

73 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: faûedÅÿªad fûe: %s\n", 
fûe_«me
);

74 
	`f˛o£
 (
fûe
);

75  
NULL
;

78 
	`f˛o£
 (
fûe
);

80 *
out_size_p
 = 
byãs_ªad
;

81  (c⁄° 
uöt32_t
 *Ë
buf„r
;

82 
	}
}

90 
boﬁ


91 
	$jîry_vÆue_is_sy¡ax_îr‹
 (
jîry_vÆue_t
 
îr‹_vÆue
)

93 
	`as£π
 (
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
));

95 i‡(!
	`jîry_vÆue_is_obje˘
 (
îr‹_vÆue
))

97  
Ál£
;

100 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *)"name");

101 
jîry_vÆue_t
 
îr‹_«me
 = 
	`jîry_gë_¥›îty
 (
îr‹_vÆue
, 
¥›_«me
);

102 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

104 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
îr‹_«me
)

105 || !
	`jîry_vÆue_is_°rög
 (
îr‹_«me
))

107 
	`jîry_ªÀa£_vÆue
 (
îr‹_«me
);

108  
Ál£
;

111 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr‹_«me
);

112 
jîry_ch¨_t
 
îr_°r_buf
[
îr_°r_size
];

114 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr‹_«me
, 
îr_°r_buf
, 
îr_°r_size
);

115 
	`jîry_ªÀa£_vÆue
 (
îr‹_«me
);

117 i‡(
sz
 == 0)

119  
Ál£
;

122 i‡(!
	`°rcmp
 ((*Ë
îr_°r_buf
, "SyntaxError"))

124  
åue
;

127  
Ál£
;

128 
	}
}

134 
	$¥öt_unh™dÀd_ex˚±i⁄
 (
jîry_vÆue_t
 
îr‹_vÆue
)

136 
	`as£π
 (
	`jîry_vÆue_has_îr‹_Êag
 (
îr‹_vÆue
));

138 
	`jîry_vÆue_˛ór_îr‹_Êag
 (&
îr‹_vÆue
);

139 
jîry_vÆue_t
 
îr_°r_vÆ
 = 
	`jîry_vÆue_to_°rög
 (
îr‹_vÆue
);

140 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr_°r_vÆ
);

141 
jîry_ch¨_t
 
îr_°r_buf
[256];

143 i‡(
îr_°r_size
 >= 256)

145 c⁄° 
msg
[] = "[Error messageÅooÜong]";

146 
îr_°r_size
 =  (
msg
) /  () - 1;

147 
	`mem˝y
 (
îr_°r_buf
, 
msg
, 
îr_°r_size
);

151 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr_°r_vÆ
, 
îr_°r_buf
, 
îr_°r_size
);

152 
	`as£π
 (
sz
 =
îr_°r_size
);

153 
îr_°r_buf
[
îr_°r_size
] = 0;

155 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
Ë&& 
	`jîry_vÆue_is_sy¡ax_îr‹
 (
îr‹_vÆue
))

157 
îr_löe
 = 0;

158 
îr_cﬁ
 = 0;

161 
jîry_size_t
 
i
 = 0; i < 
sz
; i++)

163 i‡(!
	`°∫cmp
 ((*Ë(
îr_°r_buf
 + 
i
), "[line: ", 7))

165 
i
 += 7;

167 
num_°r
[8];

168 
j
 = 0;

170 
i
 < 
sz
 && 
îr_°r_buf
[i] != ',')

172 
num_°r
[
j
] = (Ë
îr_°r_buf
[
i
];

173 
j
++;

174 
i
++;

176 
num_°r
[
j
] = '\0';

178 
îr_löe
 = (Ë
	`°πﬁ
 (
num_°r
, 
NULL
, 10);

180 i‡(
	`°∫cmp
 ((*Ë(
îr_°r_buf
 + 
i
), ", column: ", 10))

185 
i
 += 10;

186 
j
 = 0;

188 
i
 < 
sz
 && 
îr_°r_buf
[i] != ']')

190 
num_°r
[
j
] = (Ë
îr_°r_buf
[
i
];

191 
j
++;

192 
i
++;

194 
num_°r
[
j
] = '\0';

196 
îr_cﬁ
 = (Ë
	`°πﬁ
 (
num_°r
, 
NULL
, 10);

201 i‡(
îr_löe
 !0 && 
îr_cﬁ
 != 0)

203 
cuº_löe
 = 1;

205 
boﬁ
 
is_¥ötög_c⁄ãxt
 = 
Ál£
;

206 
pos
 = 0;

209 
buf„r
[
pos
] != '\0')

211 i‡(
buf„r
[
pos
] == '\n')

213 
cuº_löe
++;

216 i‡(
îr_löe
 < 
SYNTAX_ERROR_CONTEXT_SIZE


217 || (
îr_löe
 >
cuº_löe


218 && (
îr_löe
 - 
cuº_löe
Ë<
SYNTAX_ERROR_CONTEXT_SIZE
))

221 
is_¥ötög_c⁄ãxt
 = 
åue
;

224 i‡(
cuº_löe
 > 
îr_löe
)

229 i‡(
is_¥ötög_c⁄ãxt
)

231 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "%c", 
buf„r
[
pos
]);

234 
pos
++;

237 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "\n");

239 --
îr_cﬁ
)

241 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "~");

244 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "^\n");

249 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "S¸ùàEº‹: %s\n", 
îr_°r_buf
);

250 
	`jîry_ªÀa£_vÆue
 (
îr_°r_vÆ
);

251 
	}
}

257 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

258 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

260 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîryx_h™dÀr_ªgi°î_globÆ
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
, 
h™dÀr_p
);

262 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªsu…_vÆ
))

264 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_WARNING
, "W¨nög: faûedÅÿªgi°î '%s' mëhod.", 
«me_p
);

265 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªsu…_vÆ
);

268 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

269 
	}
}

276 
	mOPT_HELP
,

277 
	mOPT_VERSION
,

278 
	mOPT_MEM_STATS
,

279 
	mOPT_PARSE_ONLY
,

280 
	mOPT_SHOW_OP
,

281 
	mOPT_SHOW_RE_OP
,

282 
	mOPT_DEBUG_SERVER
,

283 
	mOPT_DEBUG_PORT
,

284 
	mOPT_DEBUGGER_WAIT_SOURCE
,

285 
	mOPT_SAVE_SNAP_GLOBAL
,

286 
	mOPT_SAVE_SNAP_EVAL
,

287 
	mOPT_SAVE_LIT_LIST
,

288 
	mOPT_SAVE_LIT_C
,

289 
	mOPT_EXEC_SNAP
,

290 
	mOPT_LOG_LEVEL
,

291 
	mOPT_ABORT_ON_FAIL
,

292 
	mOPT_NO_PROMPT


293 } 
	tmaö_›t_id_t
;

298 c⁄° 
˛i_›t_t
 
	gmaö_›ts
[] =

300 
CLI_OPT_DEF
 (.
id
 = 
OPT_HELP
, .
›t
 = "h", .
l⁄g›t
 = "help",

301 .
hñp
 = "printÅhis helpándÉxit"),

302 
CLI_OPT_DEF
 (.
id
 = 
OPT_VERSION
, .
›t
 = "v", .
l⁄g›t
 = "version",

303 .
hñp
 = "printÅoolándÜibrary versionándÉxit"),

304 
CLI_OPT_DEF
 (.
id
 = 
OPT_MEM_STATS
, .
l⁄g›t
 = "mem-stats",

305 .
hñp
 = "dump memory statistics"),

306 
CLI_OPT_DEF
 (.
id
 = 
OPT_PARSE_ONLY
, .
l⁄g›t
 = "parse-only",

307 .
hñp
 = "don'tÉxecute JS input"),

308 
CLI_OPT_DEF
 (.
id
 = 
OPT_SHOW_OP
, .
l⁄g›t
 = "show-opcodes",

309 .
hñp
 = "dumpÖarser byte-code"),

310 
CLI_OPT_DEF
 (.
id
 = 
OPT_SHOW_RE_OP
, .
l⁄g›t
 = "show-regexp-opcodes",

311 .
hñp
 = "dumpÑegexp byte-code"),

312 
CLI_OPT_DEF
 (.
id
 = 
OPT_DEBUG_SERVER
, .
l⁄g›t
 = "start-debug-server",

313 .
hñp
 = "start debug serveránd wait forá connecting client"),

314 
CLI_OPT_DEF
 (.
id
 = 
OPT_DEBUG_PORT
, .
l⁄g›t
 = "debug-p‹t", .
mëa
 = "NUM",

315 .
hñp
 = "debug serverÖort (default: 5001)"),

316 
CLI_OPT_DEF
 (.
id
 = 
OPT_DEBUGGER_WAIT_SOURCE
, .
l⁄g›t
 = "debugger-wait-source",

317 .
hñp
 = "wait foránÉxecutable source fromÅhe client"),

318 
CLI_OPT_DEF
 (.
id
 = 
OPT_SAVE_SNAP_GLOBAL
, .
l⁄g›t
 = "ßve-¢≠shŸ-f‹-globÆ", .
mëa
 = "FILE",

319 .
hñp
 = "save binary snapshot ofÖarsed JS input (forÉxecution in global context)"),

320 
CLI_OPT_DEF
 (.
id
 = 
OPT_SAVE_SNAP_EVAL
, .
l⁄g›t
 = "ßve-¢≠shŸ-f‹-evÆ", .
mëa
 = "FILE",

321 .
hñp
 = "save binary snapshot ofÖarsed JS input (forÉxecution inÜocal context byÉval)"),

322 
CLI_OPT_DEF
 (.
id
 = 
OPT_SAVE_LIT_LIST
, .
l⁄g›t
 = "ßve-lôîÆs-li°-f‹m©", .
mëa
 = "FILE",

323 .
hñp
 = "exportÜiterals found inÖarsed JS input (inÜist format)"),

324 
CLI_OPT_DEF
 (.
id
 = 
OPT_SAVE_LIT_C
, .
l⁄g›t
 = "ßve-lôîÆs-c-f‹m©", .
mëa
 = "FILE",

325 .
hñp
 = "exportÜiterals found inÖarsed JS input (in C source format)"),

326 
CLI_OPT_DEF
 (.
id
 = 
OPT_EXEC_SNAP
, .
l⁄g›t
 = "exec-¢≠shŸ", .
mëa
 = "FILE",

327 .
hñp
 = "execute input snapshot file(s)"),

328 
CLI_OPT_DEF
 (.
id
 = 
OPT_LOG_LEVEL
, .
l⁄g›t
 = "log-Àvñ", .
mëa
 = "NUM",

329 .
hñp
 = "setÜogÜevel (0-3)"),

330 
CLI_OPT_DEF
 (.
id
 = 
OPT_ABORT_ON_FAIL
, .
l⁄g›t
 = "abort-on-fail",

331 .
hñp
 = "segfault on internal failure (instead ofÇon-zeroÉxit code)"),

332 
CLI_OPT_DEF
 (.
id
 = 
OPT_NO_PROMPT
, .
l⁄g›t
 = "no-prompt",

333 .
hñp
 = "don'tÖrintÖrompt in REPL mode"),

334 
CLI_OPT_DEF
 (.
id
 = 
CLI_OPT_DEFAULT
, .
mëa
 = "FILE",

335 .
hñp
 = "input JS file(s)")

344 
boﬁ


345 
	$check_„©uª
 (
jîry_„©uª_t
 
„©uª
,

346 c⁄° *
›ti⁄
)

348 i‡(!
	`jîry_is_„©uª_íabÀd
 (
„©uª
))

350 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
 (
JERRY_LOG_LEVEL_WARNING
);

351 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_WARNING
, "Ign‹ög '%s' o±i⁄ beˇu£Åhi†„©uª i†dißbÀd!\n", 
›ti⁄
);

352  
Ál£
;

354  
åue
;

355 
	}
}

362 
	$check_ußge
 (
boﬁ
 
c⁄dôi⁄
,

363 c⁄° *
«me
,

364 c⁄° *
msg
,

365 c⁄° *
›t
)

367 i‡(!
c⁄dôi⁄
)

369 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "%s: %s%s\n", 
«me
, 
msg
, 
›t
 !
NULL
 ? opt : "");

370 
	`exô
 (
JERRY_STANDALONE_EXIT_CODE_FAIL
);

372 
	}
}

374 #ifde‡
JERRY_ENABLE_EXTERNAL_CONTEXT


380 
ö°™˚_Æloc
 (
size_t
 
size
,

381 *
cb_d©a_p
 
__©åibuã__
((
unu£d
)))

383  
mÆloc
 (
size
);

389 
	$maö
 (
¨gc
,

390 **
¨gv
)

392 c⁄° *
fûe_«mes
[
¨gc
];

393 
fûes_cou¡î
 = 0;

395 
jîry_öô_Êag_t
 
Êags
 = 
JERRY_INIT_EMPTY
;

397 c⁄° *
exec_¢≠shŸ_fûe_«mes
[
¨gc
];

398 
exec_¢≠shŸs_cou¡
 = 0;

400 
boﬁ
 
is_∑r£_⁄ly
 = 
Ál£
;

401 
boﬁ
 
is_ßve_¢≠shŸ_mode
 = 
Ál£
;

402 
boﬁ
 
is_ßve_¢≠shŸ_mode_f‹_globÆ_‹_evÆ
 = 
Ál£
;

403 c⁄° *
ßve_¢≠shŸ_fûe_«me_p
 = 
NULL
;

405 
boﬁ
 
is_ßve_lôîÆs_mode
 = 
Ál£
;

406 
boﬁ
 
is_ßve_lôîÆs_mode_ö_c_f‹m©_‹_li°
 = 
Ál£
;

407 c⁄° *
ßve_lôîÆs_fûe_«me_p
 = 
NULL
;

409 
boﬁ
 
°¨t_debug_£rvî
 = 
Ál£
;

410 
uöt16_t
 
debug_p‹t
 = 5001;

412 
boﬁ
 
is_ª∂_mode
 = 
Ál£
;

413 
boﬁ
 
is_waô_mode
 = 
Ál£
;

414 
boﬁ
 
no_¥om±
 = 
Ál£
;

416 
˛i_°©e_t
 
˛i_°©e
 = 
	`˛i_öô
 (
maö_›ts
, 
¨gc
 - 1, 
¨gv
 + 1);

417 
id
 = 
	`˛i_c⁄sume_›ti⁄
 (&
˛i_°©e
); id !
CLI_OPT_END
; id = cli_consume_option (&cli_state))

419 
id
)

421 
OPT_HELP
:

423 
	`˛i_hñp
 (
¨gv
[0], 
maö_›ts
);

424  
JERRY_STANDALONE_EXIT_CODE_OK
;

426 
OPT_VERSION
:

428 
	`¥ötf
 ("Vîsi⁄: %d.%d%s\n", 
JERRY_API_MAJOR_VERSION
, 
JERRY_API_MINOR_VERSION
, 
JERRY_COMMIT_HASH
);

429  
JERRY_STANDALONE_EXIT_CODE_OK
;

431 
OPT_MEM_STATS
:

433 i‡(
	`check_„©uª
 (
JERRY_FEATURE_MEM_STATS
, 
˛i_°©e
.
¨g
))

435 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
 (
JERRY_LOG_LEVEL_DEBUG
);

436 
Êags
 |
JERRY_INIT_MEM_STATS
;

440 
OPT_PARSE_ONLY
:

442 
is_∑r£_⁄ly
 = 
åue
;

445 
OPT_SHOW_OP
:

447 i‡(
	`check_„©uª
 (
JERRY_FEATURE_PARSER_DUMP
, 
˛i_°©e
.
¨g
))

449 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
 (
JERRY_LOG_LEVEL_DEBUG
);

450 
Êags
 |
JERRY_INIT_SHOW_OPCODES
;

454 
OPT_SHOW_RE_OP
:

456 i‡(
	`check_„©uª
 (
JERRY_FEATURE_REGEXP_DUMP
, 
˛i_°©e
.
¨g
))

458 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
 (
JERRY_LOG_LEVEL_DEBUG
);

459 
Êags
 |
JERRY_INIT_SHOW_REGEXP_OPCODES
;

463 
OPT_DEBUG_SERVER
:

465 i‡(
	`check_„©uª
 (
JERRY_FEATURE_DEBUGGER
, 
˛i_°©e
.
¨g
))

467 
°¨t_debug_£rvî
 = 
åue
;

471 
OPT_DEBUG_PORT
:

473 i‡(
	`check_„©uª
 (
JERRY_FEATURE_DEBUGGER
, 
˛i_°©e
.
¨g
))

475 
debug_p‹t
 = (
uöt16_t
Ë
	`˛i_c⁄sume_öt
 (&
˛i_°©e
);

479 
OPT_DEBUGGER_WAIT_SOURCE
:

481 i‡(
	`check_„©uª
 (
JERRY_FEATURE_DEBUGGER
, 
˛i_°©e
.
¨g
))

483 
is_waô_mode
 = 
åue
;

487 
OPT_SAVE_SNAP_GLOBAL
:

488 
OPT_SAVE_SNAP_EVAL
:

490 
	`check_ußge
 (
ßve_¢≠shŸ_fûe_«me_p
 =
NULL
, 
¨gv
[0], "Error: snapshot fileÇameálready specified", NULL);

491 i‡(
	`check_„©uª
 (
JERRY_FEATURE_SNAPSHOT_SAVE
, 
˛i_°©e
.
¨g
))

493 
is_ßve_¢≠shŸ_mode
 = 
åue
;

494 
is_ßve_¢≠shŸ_mode_f‹_globÆ_‹_evÆ
 = (
id
 =
OPT_SAVE_SNAP_GLOBAL
);

496 
ßve_¢≠shŸ_fûe_«me_p
 = 
	`˛i_c⁄sume_°rög
 (&
˛i_°©e
);

499 
OPT_SAVE_LIT_LIST
:

500 
OPT_SAVE_LIT_C
:

502 
	`check_ußge
 (
ßve_lôîÆs_fûe_«me_p
 =
NULL
, 
¨gv
[0], "Error:Üiteral fileÇameálready specified", NULL);

503 i‡(
	`check_„©uª
 (
JERRY_FEATURE_SNAPSHOT_SAVE
, 
˛i_°©e
.
¨g
))

505 
is_ßve_lôîÆs_mode
 = 
åue
;

506 
is_ßve_lôîÆs_mode_ö_c_f‹m©_‹_li°
 = (
id
 =
OPT_SAVE_LIT_C
);

508 
ßve_lôîÆs_fûe_«me_p
 = 
	`˛i_c⁄sume_°rög
 (&
˛i_°©e
);

511 
OPT_EXEC_SNAP
:

513 i‡(
	`check_„©uª
 (
JERRY_FEATURE_SNAPSHOT_EXEC
, 
˛i_°©e
.
¨g
))

515 
exec_¢≠shŸ_fûe_«mes
[
exec_¢≠shŸs_cou¡
++] = 
	`˛i_c⁄sume_°rög
 (&
˛i_°©e
);

519 
	`˛i_c⁄sume_°rög
 (&
˛i_°©e
);

523 
OPT_LOG_LEVEL
:

525 
log_Àvñ
 = 
	`˛i_c⁄sume_öt
 (&
˛i_°©e
);

526 
	`check_ußge
 (
log_Àvñ
 >= 0 &&Üog_level <= 3,

527 
¨gv
[0], "Eº‹: invÆid vÆuêf‹ --log-Àvñ: ", 
˛i_°©e
.
¨g
);

529 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
 ((
jîry_log_Àvñ_t
Ë
log_Àvñ
);

532 
OPT_ABORT_ON_FAIL
:

534 
	`jîry_p‹t_deÁu…_£t_ab‹t_⁄_Áû
 (
åue
);

537 
OPT_NO_PROMPT
:

539 
no_¥om±
 = 
åue
;

542 
CLI_OPT_DEFAULT
:

544 
fûe_«mes
[
fûes_cou¡î
++] = 
	`˛i_c⁄sume_°rög
 (&
˛i_°©e
);

549 
˛i_°©e
.
îr‹
 = "InternalÉrror";

555 i‡(
˛i_°©e
.
îr‹
 !
NULL
)

557 i‡(
˛i_°©e
.
¨g
 !
NULL
)

559 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %†%s\n", 
˛i_°©e
.
îr‹
, cli_°©e.
¨g
);

563 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: %s\n", 
˛i_°©e
.
îr‹
);

566  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

569 i‡(
is_ßve_¢≠shŸ_mode
)

571 
	`check_ußge
 (
fûes_cou¡î
 == 1,

572 
¨gv
[0], "Eº‹: --ßve-¢≠shŸ-* o±i⁄†w‹k wôhÉxa˘ly o√ s¸ùt", 
NULL
);

573 
	`check_ußge
 (
exec_¢≠shŸs_cou¡
 == 0,

574 
¨gv
[0], "Eº‹: --ßve-¢≠shŸ-*ánd --exec-¢≠shŸ o±i⁄†ˇn'àbê∑s£d simu…™eou¶y", 
NULL
);

577 i‡(
is_ßve_lôîÆs_mode
)

579 
	`check_ußge
 (
fûes_cou¡î
 == 1,

580 
¨gv
[0], "Eº‹: --ßve-lôîÆs-* o±i⁄†w‹k wôhÉxa˘ly o√ s¸ùt", 
NULL
);

583 i‡(
fûes_cou¡î
 == 0

584 && 
exec_¢≠shŸs_cou¡
 == 0)

586 
is_ª∂_mode
 = 
åue
;

589 #ifde‡
JERRY_ENABLE_EXTERNAL_CONTEXT


591 
jîry_ö°™˚_t
 *
ö°™˚_p
 = 
	`jîry_¸óã_ö°™˚
 (512*1024, 
ö°™˚_Æloc
, 
NULL
);

592 
	`jîry_p‹t_deÁu…_£t_ö°™˚
 (
ö°™˚_p
);

596 
	`jîry_öô
 (
Êags
);

597 i‡(
°¨t_debug_£rvî
)

599 
	`jîry_debuggî_öô
 (
debug_p‹t
);

602 
	`ªgi°î_js_fun˘i⁄
 ("as£π", 
jîryx_h™dÀr_as£π
);

603 
	`ªgi°î_js_fun˘i⁄
 ("gc", 
jîryx_h™dÀr_gc
);

604 
	`ªgi°î_js_fun˘i⁄
 ("¥öt", 
jîryx_h™dÀr_¥öt
);

606 
jîry_vÆue_t
 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

608 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_SNAPSHOT_EXEC
))

610 
i
 = 0; i < 
exec_¢≠shŸs_cou¡
; i++)

612 
size_t
 
¢≠shŸ_size
;

613 c⁄° 
uöt32_t
 *
¢≠shŸ_p
 = 
	`ªad_fûe
 (
exec_¢≠shŸ_fûe_«mes
[
i
], &
¢≠shŸ_size
);

615 i‡(
¢≠shŸ_p
 =
NULL
)

617 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, (
jîry_ch¨_t
 *) "Snapshot fileÜoadÉrror");

621 
ªt_vÆue
 = 
	`jîry_exec_¢≠shŸ
 (
¢≠shŸ_p
,

622 
¢≠shŸ_size
,

623 
åue
);

626 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

633 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

635 
i
 = 0; i < 
fûes_cou¡î
; i++)

637 
size_t
 
sour˚_size
;

638 c⁄° 
jîry_ch¨_t
 *
sour˚_p
 = (jîry_ch¨_à*Ë
	`ªad_fûe
 (
fûe_«mes
[
i
], &
sour˚_size
);

640 i‡(
sour˚_p
 =
NULL
)

642 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, (
jîry_ch¨_t
 *) "Source fileÜoadÉrror");

646 i‡(!
	`jîry_is_vÆid_utf8_°rög
 (
sour˚_p
, (
jîry_size_t
Ë
sour˚_size
))

648 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, (
jîry_ch¨_t
 *) ("Input must beá valid UTF-8 string."));

652 i‡(
is_ßve_¢≠shŸ_mode
 || 
is_ßve_lôîÆs_mode
)

654 
uöt32_t
 
¢≠shŸ_ßve_buf„r
[ 
JERRY_SNAPSHOT_BUFFER_SIZE
 ];

656 i‡(
is_ßve_¢≠shŸ_mode
)

658 
size_t
 
¢≠shŸ_size
 = 
	`jîry_∑r£_™d_ßve_¢≠shŸ
 ((
jîry_ch¨_t
 *Ë
sour˚_p
,

659 
sour˚_size
,

660 
is_ßve_¢≠shŸ_mode_f‹_globÆ_‹_evÆ
,

661 
Ál£
,

662 
¢≠shŸ_ßve_buf„r
,

663 
JERRY_SNAPSHOT_BUFFER_SIZE
);

664 i‡(
¢≠shŸ_size
 == 0)

666 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, (
jîry_ch¨_t
 *) "Snapshot saving failed!");

670 
FILE
 *
¢≠shŸ_fûe_p
 = 
	`f›í
 (
ßve_¢≠shŸ_fûe_«me_p
, "w");

671 
	`fwrôe
 (
¢≠shŸ_ßve_buf„r
,  (
uöt8_t
), 
¢≠shŸ_size
, 
¢≠shŸ_fûe_p
);

672 
	`f˛o£
 (
¢≠shŸ_fûe_p
);

676 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
Ë&& 
is_ßve_lôîÆs_mode
)

678 c⁄° 
size_t
 
lôîÆ_buf„r_size
 = 
	`jîry_∑r£_™d_ßve_lôîÆs
 ((
jîry_ch¨_t
 *Ë
sour˚_p
,

679 
sour˚_size
,

680 
Ál£
,

681 
¢≠shŸ_ßve_buf„r
,

682 
JERRY_SNAPSHOT_BUFFER_SIZE
,

683 
is_ßve_lôîÆs_mode_ö_c_f‹m©_‹_li°
);

684 i‡(
lôîÆ_buf„r_size
 == 0)

686 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
, (
jîry_ch¨_t
 *) "Literal saving failed!");

690 
FILE
 *
lôîÆ_fûe_p
 = 
	`f›í
 (
ßve_lôîÆs_fûe_«me_p
, "w");

691 
	`fwrôe
 (
¢≠shŸ_ßve_buf„r
,  (
uöt8_t
), 
lôîÆ_buf„r_size
, 
lôîÆ_fûe_p
);

692 
	`f˛o£
 (
lôîÆ_fûe_p
);

698 
ªt_vÆue
 = 
	`jîry_∑r£_«med_ªsour˚
 ((
jîry_ch¨_t
 *Ë
fûe_«mes
[
i
],

699 
	`°æí
 (
fûe_«mes
[
i
]),

700 
sour˚_p
,

701 
sour˚_size
,

702 
Ál£
);

704 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
Ë&& !
is_∑r£_⁄ly
)

706 
jîry_vÆue_t
 
func_vÆ
 = 
ªt_vÆue
;

707 
ªt_vÆue
 = 
	`jîry_run
 (
func_vÆ
);

708 
	`jîry_ªÀa£_vÆue
 (
func_vÆ
);

712 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

717 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

718 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

722 i‡(
is_waô_mode
)

724 
is_ª∂_mode
 = 
Ál£
;

725 #ifde‡
JERRY_DEBUGGER


726 
jîry_vÆue_t
 
run_ªsu…
;

727 
jîry_debuggî_waô_™d_run_ty≥_t
 
ª˚ive_°©us
;

731 
ª˚ive_°©us
 = 
	`jîry_debuggî_waô_™d_run_˛õ¡_sour˚
 (&
run_ªsu…
);

733 i‡(
ª˚ive_°©us
 =
JERRY_DEBUGGER_SOURCE_RECEIVE_FAILED
)

735 
ªt_vÆue
 = 
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_COMMON
,

736 (
jîry_ch¨_t
 *) "Connectionáborted before sourceárrived.");

739 i‡(
ª˚ive_°©us
 =
JERRY_DEBUGGER_SOURCE_END
)

741 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_DEBUG
, "No more client source.\n");

744 
	`jîry_ªÀa£_vÆue
 (
run_ªsu…
);

746 
ª˚ive_°©us
 =
JERRY_DEBUGGER_SOURCE_RECEIVED
);

751 i‡(
is_ª∂_mode
)

753 c⁄° *
¥om±
 = !
no_¥om±
 ? "jerry> " : "";

754 
boﬁ
 
is_d⁄e
 = 
Ál£
;

756 !
is_d⁄e
)

758 
uöt8_t
 *
sour˚_buf„r_èû
 = 
buf„r
;

759 
size_t
 
Àn
 = 0;

761 
	`¥ötf
 ("%s", 
¥om±
);

764 
åue
)

766 i‡(
	`‰ód
 (
sour˚_buf„r_èû
, 1, 1, 
°dö
Ë!1 && 
Àn
 == 0)

768 
is_d⁄e
 = 
åue
;

771 i‡(*
sour˚_buf„r_èû
 == '\n')

775 
sour˚_buf„r_èû
 ++;

776 
Àn
 ++;

778 *
sour˚_buf„r_èû
 = 0;

780 i‡(
Àn
 > 0)

783 
jîry_vÆue_t
 
ªt_vÆ_evÆ
 = 
	`jîry_evÆ
 (
buf„r
, 
Àn
, 
Ál£
);

785 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆ_evÆ
))

788 c⁄° 
jîry_vÆue_t
 
¨gs
[] = { 
ªt_vÆ_evÆ
 };

789 
jîry_vÆue_t
 
ªt_vÆ_¥öt
 = 
	`jîryx_h™dÀr_¥öt
 (
	`jîry_¸óã_undeföed
 (),

790 
	`jîry_¸óã_undeföed
 (),

791 
¨gs
,

793 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ_¥öt
);

794 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ_evÆ
);

795 
ªt_vÆ_evÆ
 = 
	`jîry_run_Æl_íqueued_jobs
 ();

797 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆ_evÆ
))

799 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªt_vÆ_evÆ
);

804 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªt_vÆ_evÆ
);

807 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ_evÆ
);

812 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_OK
;

814 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

816 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªt_vÆue
);

818 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_FAIL
;

821 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

823 
ªt_vÆue
 = 
	`jîry_run_Æl_íqueued_jobs
 ();

825 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

827 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªt_vÆue
);

828 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_FAIL
;

831 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

833 
	`jîry_˛ónup
 ();

834 #ifde‡
JERRY_ENABLE_EXTERNAL_CONTEXT


835 
	`‰ì
 (
ö°™˚_p
);

837  
ªt_code
;

838 
	}
}

	@deps/jerry/jerry-port/default/default-date.c

16 #ifde‡
__GNUC__


17 
	~<sys/time.h
>

20 
	~"jîrys¸ùt-p‹t.h
"

21 
	~"jîrys¸ùt-p‹t-deÁu….h
"

30 
boﬁ
 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

32 #ifde‡
__GNUC__


33 
timevÆ
 
tv
;

34 
timez⁄e
 
tz
;

37 
tz
.
tz_möuãswe°
 = 0;

38 
tz
.
tz_d°time
 = 0;

40 i‡(
	`gëtimeofday
 (&
tv
, &
tz
) != 0)

42  
Ál£
;

45 
tz_p
->
off£t
 = 
tz
.
tz_möuãswe°
;

46 
tz_p
->
daylight_ßvög_time
 = 
tz
.
tz_d°time
 > 0 ? 1 : 0;

48  
åue
;

50  
Ál£
;

52 
	}
}

62 
	$jîry_p‹t_gë_cuºít_time
 ()

64 #ifde‡
__GNUC__


65 
timevÆ
 
tv
;

67 i‡(
	`gëtimeofday
 (&
tv
, 
NULL
) != 0)

72  ((Ë
tv
.
tv_£c
Ë* 1000.0 + ((Ëtv.
tv_u£c
) / 1000.0;

76 
	}
}

	@deps/jerry/jerry-port/default/default-external-context.c

16 
	~"jîrys¸ùt-p‹t.h
"

17 
	~"jîrys¸ùt-p‹t-deÁu….h
"

23 
jîry_ö°™˚_t
 *
	gcuºít_ö°™˚_p
 = 
NULL
;

29 
	$jîry_p‹t_deÁu…_£t_ö°™˚
 (
jîry_ö°™˚_t
 *
ö°™˚_p
)

31 
cuºít_ö°™˚_p
 = 
ö°™˚_p
;

32 
	}
}

39 
jîry_ö°™˚_t
 *

40 
	$jîry_p‹t_gë_cuºít_ö°™˚
 ()

42  
cuºít_ö°™˚_p
;

43 
	}
}

	@deps/jerry/jerry-port/default/default-fatal.c

16 
	~<°dlib.h
>

18 
	~"jîrys¸ùt-p‹t.h
"

19 
	~"jîrys¸ùt-p‹t-deÁu….h
"

21 #i‚de‡
DISABLE_EXTRA_API


23 
boﬁ
 
	gab‹t_⁄_Áû
 = 
Ál£
;

33 
	$jîry_p‹t_deÁu…_£t_ab‹t_⁄_Áû
 (
boﬁ
 
Êag
)

35 
ab‹t_⁄_Áû
 = 
Êag
;

36 
	}
}

49 
boﬁ
 
	$jîry_p‹t_deÁu…_is_ab‹t_⁄_Áû
 ()

51  
ab‹t_⁄_Áû
;

52 
	}
}

64 
	$jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
)

66 #i‚de‡
DISABLE_EXTRA_API


67 i‡(
code
 != 0

68 && 
code
 !
ERR_OUT_OF_MEMORY


69 && 
	`jîry_p‹t_deÁu…_is_ab‹t_⁄_Áû
 ())

71 
	`ab‹t
 ();

76 
	`exô
 (
code
);

77 #i‚de‡
DISABLE_EXTRA_API


80 
	}
}

	@deps/jerry/jerry-port/default/default-io.c

16 
	~<°d¨g.h
>

18 
	~"jîrys¸ùt-p‹t.h
"

19 
	~"jîrys¸ùt-p‹t-deÁu….h
"

20 
	~"debuggî.h
"

22 #i‚de‡
DISABLE_EXTRA_API


27 
jîry_log_Àvñ_t
 
	gjîry_p‹t_deÁu…_log_Àvñ
 = 
JERRY_LOG_LEVEL_ERROR
;

29 
	#JERRY_PORT_DEFAULT_LOG_LEVEL
 
jîry_p‹t_deÁu…_log_Àvñ


	)

40 
jîry_log_Àvñ_t


41 
	$jîry_p‹t_deÁu…_gë_log_Àvñ
 ()

43  
jîry_p‹t_deÁu…_log_Àvñ
;

44 
	}
}

54 
	$jîry_p‹t_deÁu…_£t_log_Àvñ
 (
jîry_log_Àvñ_t
 
Àvñ
)

56 
jîry_p‹t_deÁu…_log_Àvñ
 = 
Àvñ
;

57 
	}
}

60 
	#JERRY_PORT_DEFAULT_LOG_LEVEL
 
JERRY_LOG_LEVEL_ERROR


	)

75 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

76 c⁄° *
f‹m©
,

79 i‡(
Àvñ
 <
JERRY_PORT_DEFAULT_LOG_LEVEL
)

81 
va_li°
 
¨gs
;

82 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

83 #ifde‡
JERRY_DEBUGGER


84 
buf„r
[256];

85 
Àngth
 = 0;

86 
Àngth
 = 
	`v¢¥ötf
 (
buf„r
, 255, 
f‹m©
, 
¨gs
);

87 
buf„r
[
Àngth
] = '\0';

88 
	`Ârötf
 (
°dîr
, "%s", 
buf„r
);

89 
jîry_ch¨_t
 *
jbuf„r
 = (jîry_ch¨_à*Ë
buf„r
;

90 
	`jîry_debuggî_£nd_ouçut
 (
jbuf„r
, (
jîry_size_t
Ë
Àngth
, (
uöt8_t
Ë(
Àvñ
 + 2));

92 
	`vÂrötf
 (
°dîr
, 
f‹m©
, 
¨gs
);

94 
	`va_íd
 (
¨gs
);

96 
	}
}

	@deps/jerry/jerry-port/default/defaultx-handler.c

16 
	~<°dio.h
>

18 
	~"jîrys¸ùt-ext/h™dÀr.h
"

25 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
c
)

27 
	`¥ötf
 ("%c", 
c
);

28 
	}
}

	@deps/jerry/jerry-port/default/include/jerryscript-port-default.h

16 #i‚de‡
JERRYSCRIPT_PORT_DEFAULT_H


17 
	#JERRYSCRIPT_PORT_DEFAULT_H


	)

19 
	~"jîrys¸ùt.h
"

20 
	~"jîrys¸ùt-p‹t.h
"

22 
	~<°dboﬁ.h
>

24 #ifde‡
__˝lu•lus


34 
jîry_p‹t_deÁu…_£t_ab‹t_⁄_Áû
 (
boﬁ
 
Êag
);

35 
boﬁ
 
jîry_p‹t_deÁu…_is_ab‹t_⁄_Áû
 ();

37 
jîry_log_Àvñ_t
 
jîry_p‹t_deÁu…_gë_log_Àvñ
 ();

38 
jîry_p‹t_deÁu…_£t_log_Àvñ
 (
jîry_log_Àvñ_t
 
Àvñ
);

40 
jîry_p‹t_deÁu…_£t_ö°™˚
 (
jîry_ö°™˚_t
 *
ö°™˚_p
);

46 #ifde‡
__˝lu•lus


	@deps/jerry/targets/curie_bsp/include/inttypes.h

15 #i‚de‡
INTTYPES_H


16 
	#INTTYPES_H


	)

	@deps/jerry/targets/curie_bsp/include/setjmp.h

15 #i‚de‡
SETJMP_H


16 
	#SETJMP_H


	)

18 
	~<°döt.h
>

20 
uöt64_t
 
	tjmp_buf
[14];

22 
£tjmp
 (
jmp_buf
 
ív
);

23 
l⁄gjmp
 (
jmp_buf
 
ív
, 
vÆ
);

	@deps/jerry/targets/curie_bsp/jerry_app/arc/main.c

16 
	~"ö‰a/log.h
"

17 
	~"ö‰a/b•.h
"

18 
	~"ö‰a/xlo›.h
"

19 
	~"cfw/cfw.h
"

21 
xlo›_t
 
	glo›
;

23 
	$maö
 ()

25 
T_QUEUE
 
queue
 = 
	`b•_öô
 ();

27 
	`¥_öfo
 (
LOG_MODULE_MAIN
, "BSP init done");

29 
	`cfw_öô
 (
queue
);

30 
	`¥_öfo
 (
LOG_MODULE_MAIN
, "CFW init done");

32 
	`xlo›_öô_‰om_queue
 (&
lo›
, 
queue
);

34 
	`xlo›_run
 (&
lo›
);

35 
	}
}

	@deps/jerry/targets/curie_bsp/jerry_app/include/project_mapping.h

24 #i‚de‡
PROJECT_MAPPING_H


25 
	#PROJECT_MAPPING_H


	)

27 
	#QUARK_NB_PAGE
 125

	)

28 
	~"machöe/soc/öãl/qu¨k_£/qu¨k_£_m≠pög.h
"

	@deps/jerry/targets/curie_bsp/jerry_app/quark/main.c

16 
	~<°dio.h
>

17 
	~<°döt.h
>

18 
	~<°rög.h
>

21 
	~"ö‰a/b•.h
"

22 
	~"ö‰a/ªboŸ.h
"

23 
	~"ö‰a/log.h
"

24 
	~"ö‰a/time.h
"

25 
	~"ö‰a/sy°em_evíts.h
"

26 
	~"ö‰a/tcmd/h™dÀr.h
"

28 
	~"cfw/cfw.h
"

30 
	~"ö‰a/wdt_hñ≥r.h
"

32 
	~"jîrys¸ùt.h
"

33 
	~"jîrys¸ùt-p‹t.h
"

34 
	~"°rög.h
"

36 
	~"zïhyr.h
"

37 
	~"mi¸okî√l/èsk.h
"

38 
	~"os/os.h
"

39 
	~"misc/¥ötk.h
"

41 
T_QUEUE
 
	gqueue
;

43 
jîry_vÆue_t
 
	g¥öt_fun˘i⁄
;

45 
	$jîry_ªsﬁve_îr‹
 (
jîry_vÆue_t
 
ªt_vÆue
)

47 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

49 
	`jîry_vÆue_˛ór_îr‹_Êag
 (&
ªt_vÆue
);

50 
jîry_vÆue_t
 
îr_°r_vÆ
 = 
	`jîry_vÆue_to_°rög
 (
ªt_vÆue
);

51 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr_°r_vÆ
);

52 
jîry_ch¨_t
 *
îr_°r_buf
 = (jîry_ch¨_à*Ë
	`bÆloc
 (
îr_°r_size
, 
NULL
);

53 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr_°r_vÆ
, 
îr_°r_buf
, 
îr_°r_size
);

54 
îr_°r_buf
[
sz
] = 0;

55 
	`¥ötk
 ("S¸ùàEº‹: unh™dÀdÉx˚±i⁄: %s\n", 
îr_°r_buf
);

56 
	`b‰ì
(
îr_°r_buf
);

57 
	`jîry_ªÀa£_vÆue
 (
îr_°r_vÆ
);

59 
	}
}

61 
	$hñp
 ()

63 
	`¥ötk
 ("Usage:\n");

64 
	`¥ötk
 ("jsÉ 'JavaScript Command'\n");

65 
	`¥ötk
 ("eg. jsÉÖrint ('Hello World');\n");

66 
	}
}

68 
	$evÆ_jîry_s¸ùt
 (
¨gc
, *
¨gv
[], 
tcmd_h™dÀr_˘x
 *
˘x
)

70 i‡(
¨gc
 < 3)

72 
	`TCMD_RSP_ERROR
 (
˘x
, 
NULL
);

73 
	`hñp
 ();

78 
OS_ERR_TYPE
 
îr
;

79 
size_t
 
°r_tŸÆ_Àngth
 = 0;

80 
size_t
 *
°r_Àns
 = (size_à*Ë
	`bÆloc
 ((
¨gc
 - 2Ë* (size_t), &
îr
);

81 i‡(
°r_Àns
 =
NULL
 || 
îr
 !
E_OS_OK
)

83 
	`¥ötk
 ("%s:áŒoˇã mem‹y faûed!", 
__func__
);

84 
	`TCMD_RSP_ERROR
 (
˘x
, 
NULL
);

87 
i
 = 2; i < 
¨gc
; ++i)

89 
°r_Àns
[
i
 - 2] = 
	`°æí
 (
¨gv
[i]);

90 
°r_tŸÆ_Àngth
 +
°r_Àns
[
i
 - 2] + 1;

92 
îr
 = 
E_OS_OK
;

93 *
buf„r
 = (*Ë
	`bÆloc
 (
°r_tŸÆ_Àngth
, &
îr
);

94 i‡(
buf„r
 =
NULL
 || 
îr
 !
E_OS_OK
)

96 
	`¥ötk
 ("%s:áŒoˇã mem‹y faûed!", 
__func__
);

97 
	`TCMD_RSP_ERROR
 (
˘x
, 
NULL
);

101 *
p
 = 
buf„r
;

102 
i
 = 2; i < 
¨gc
; ++i)

104 
j
 =0; j < 
°r_Àns
[
i
 - 2]; ++j)

106 *
p
 = 
¨gv
[
i
][
j
];

107 ++
p
;

109 *
p
 = ' ';

110 ++
p
;

112 *
p
 = '\0';

114 
jîry_vÆue_t
 
evÆ_ªt
 = 
	`jîry_evÆ
 (
buf„r
, 
°r_tŸÆ_Àngth
 - 1, 
Ál£
);

116 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
evÆ_ªt
))

118 
	`jîry_ªsﬁve_îr‹
 (
evÆ_ªt
);

119 
	`TCMD_RSP_ERROR
 (
˘x
, 
NULL
);

123 
jîry_vÆue_t
 
¨gs
[] = {
evÆ_ªt
};

124 
jîry_vÆue_t
 
ªt_vÆ_¥öt
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
¥öt_fun˘i⁄
,

125 
	`jîry_¸óã_undeföed
 (),

126 
¨gs
,

128 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ_¥öt
);

129 
	`TCMD_RSP_FINAL
 (
˘x
, 
NULL
);

131 
	`jîry_ªÀa£_vÆue
 (
evÆ_ªt
);

132 
	`b‰ì
 (
buf„r
);

133 
	`b‰ì
 (
°r_Àns
);

135 
	}
}

137 
	$jîry_°¨t
 ()

139 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

140 
jîry_vÆue_t
 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

141 
jîry_vÆue_t
 
¥öt_func_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "print");

142 
¥öt_fun˘i⁄
 = 
	`jîry_gë_¥›îty
 (
globÆ_obj_vÆ
, 
¥öt_func_«me_vÆ
);

143 
	`jîry_ªÀa£_vÆue
 (
¥öt_func_«me_vÆ
);

144 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

145 
	}
}

148 
	$maö_èsk
 (*
∑øm
)

151 
queue
 = 
	`b•_öô
 ();

153 
	`wdt_°¨t
 (
WDT_MAX_TIMEOUT_MS
);

155 
	`cfw_öô
 (
queue
);

156 
	`jîry_°¨t
 ();

160 
OS_ERR_TYPE
 
îr
 = 
E_OS_OK
;

162 
	`queue_¥o˚ss_mesßge_waô
 (
queue
, 5000, &
îr
);

164 
	`wdt_kì∑live
 ();

166 
	}
}

168 
DECLARE_TEST_COMMAND
 (
js
, 
e
, 
evÆ_jîry_s¸ùt
);

	@deps/jerry/targets/curie_bsp/source/curie-bsp-port.c

16 
	~<ö‰a/time.h
>

17 
	~<misc/¥ötk.h
>

18 
	~<°döt.h
>

19 
	~<°dboﬁ.h
>

20 
	~<°ddef.h
>

21 
	~"jîrys¸ùt-p‹t.h
"

28 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

29 c⁄° *
f‹m©
,

32 i‡(
Àvñ
 <
JERRY_LOG_LEVEL_ERROR
)

34 
buf
[256];

35 
Àngth
 = 0;

36 
va_li°
 
¨gs
;

37 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

38 
Àngth
 = 
	`v¢¥ötf
 (
buf
, 256, 
f‹m©
, 
¨gs
);

39 
buf
[
Àngth
] = '\0';

40 
	`¥ötk
 ("%s", 
buf
);

41 
	`va_íd
 (
¨gs
);

43 
	}
}

48 
	$jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
)

50 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Jerry Fatal Error!\n");

51 
åue
);

52 
	}
}

57 
boﬁ
 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

60 
tz_p
->
off£t
 = 0;

61 
tz_p
->
daylight_ßvög_time
 = 0;

63  
åue
;

64 
	}
}

69 
	$jîry_p‹t_gë_cuºít_time
 ()

71 
uöt32_t
 
u±ime_ms
 = 
	`gë_u±ime_ms
 ();

72 
uöt32_t
 
ïoch_time
 = 
	`u±ime_to_ïoch
 (
u±ime_ms
);

74  ((Ë
ïoch_time
) * 1000.0;

75 
	}
}

	@deps/jerry/targets/esp8266/include/esp8266_gpio.h

21 #i‚de‡
__ESP82666_GPIO_H__


22 
	#__ESP82666_GPIO_H__


	)

24 
	#GPIO_Pö_0
 (
	`BIT
(0)Ë

	)

25 
	#GPIO_Pö_1
 (
	`BIT
(1)Ë

	)

26 
	#GPIO_Pö_2
 (
	`BIT
(2)Ë

	)

27 
	#GPIO_Pö_3
 (
	`BIT
(3)Ë

	)

28 
	#GPIO_Pö_4
 (
	`BIT
(4)Ë

	)

29 
	#GPIO_Pö_5
 (
	`BIT
(5)Ë

	)

30 
	#GPIO_Pö_6
 (
	`BIT
(6)Ë

	)

31 
	#GPIO_Pö_7
 (
	`BIT
(7)Ë

	)

32 
	#GPIO_Pö_8
 (
	`BIT
(8)Ë

	)

33 
	#GPIO_Pö_9
 (
	`BIT
(9)Ë

	)

34 
	#GPIO_Pö_10
 (
	`BIT
(10)Ë

	)

35 
	#GPIO_Pö_11
 (
	`BIT
(11)Ë

	)

36 
	#GPIO_Pö_12
 (
	`BIT
(12)Ë

	)

37 
	#GPIO_Pö_13
 (
	`BIT
(13)Ë

	)

38 
	#GPIO_Pö_14
 (
	`BIT
(14)Ë

	)

39 
	#GPIO_Pö_15
 (
	`BIT
(15)Ë

	)

40 
	#GPIO_Pö_AŒ
 (0xFFFFË

	)

42 
	#GPIO_PIN_REG_0
 
PERIPHS_IO_MUX_GPIO0_U


	)

43 
	#GPIO_PIN_REG_1
 
PERIPHS_IO_MUX_U0TXD_U


	)

44 
	#GPIO_PIN_REG_2
 
PERIPHS_IO_MUX_GPIO2_U


	)

45 
	#GPIO_PIN_REG_3
 
PERIPHS_IO_MUX_U0RXD_U


	)

46 
	#GPIO_PIN_REG_4
 
PERIPHS_IO_MUX_GPIO4_U


	)

47 
	#GPIO_PIN_REG_5
 
PERIPHS_IO_MUX_GPIO5_U


	)

48 
	#GPIO_PIN_REG_6
 
PERIPHS_IO_MUX_SD_CLK_U


	)

49 
	#GPIO_PIN_REG_7
 
PERIPHS_IO_MUX_SD_DATA0_U


	)

50 
	#GPIO_PIN_REG_8
 
PERIPHS_IO_MUX_SD_DATA1_U


	)

51 
	#GPIO_PIN_REG_9
 
PERIPHS_IO_MUX_SD_DATA2_U


	)

52 
	#GPIO_PIN_REG_10
 
PERIPHS_IO_MUX_SD_DATA3_U


	)

53 
	#GPIO_PIN_REG_11
 
PERIPHS_IO_MUX_SD_CMD_U


	)

54 
	#GPIO_PIN_REG_12
 
PERIPHS_IO_MUX_MTDI_U


	)

55 
	#GPIO_PIN_REG_13
 
PERIPHS_IO_MUX_MTCK_U


	)

56 
	#GPIO_PIN_REG_14
 
PERIPHS_IO_MUX_MTMS_U


	)

57 
	#GPIO_PIN_REG_15
 
PERIPHS_IO_MUX_MTDO_U


	)

59 
	#GPIO_PIN_REG
(
i
) \

60 (
i
==0Ë? 
GPIO_PIN_REG_0
: \

61 (
i
==1Ë? 
GPIO_PIN_REG_1
: \

62 (
i
==2Ë? 
GPIO_PIN_REG_2
: \

63 (
i
==3Ë? 
GPIO_PIN_REG_3
: \

64 (
i
==4Ë? 
GPIO_PIN_REG_4
: \

65 (
i
==5Ë? 
GPIO_PIN_REG_5
: \

66 (
i
==6Ë? 
GPIO_PIN_REG_6
: \

67 (
i
==7Ë? 
GPIO_PIN_REG_7
: \

68 (
i
==8Ë? 
GPIO_PIN_REG_8
: \

69 (
i
==9Ë? 
GPIO_PIN_REG_9
: \

70 (
i
==10)? 
GPIO_PIN_REG_10
: \

71 (
i
==11)? 
GPIO_PIN_REG_11
: \

72 (
i
==12)? 
GPIO_PIN_REG_12
: \

73 (
i
==13)? 
GPIO_PIN_REG_13
: \

74 (
i
==14)? 
GPIO_PIN_REG_14
: \

75 
GPIO_PIN_REG_15


	)

77 
	#GPIO_PIN_ADDR
(
i
Ë(
GPIO_PIN0_ADDRESS
 + i*4)

	)

79 
	#GPIO_ID_IS_PIN_REGISTER
(
ªg_id
Ë(‘eg_id >
GPIO_ID_PIN0
Ë&& (ªg_id <
	`GPIO_ID_PIN
(
GPIO_PIN_COUNT
-1)))

	)

81 
	#GPIO_REGID_TO_PINIDX
(
ªg_id
Ë(‘eg_idË- 
GPIO_ID_PIN0
)

	)

85 
	mGPIO_PIN_INTR_DISABLE
 = 0,

86 
	mGPIO_PIN_INTR_POSEDGE
 = 1,

87 
	mGPIO_PIN_INTR_NEGEDGE
 = 2,

88 
	mGPIO_PIN_INTR_ANYEGDE
 = 3,

89 
	mGPIO_PIN_INTR_LOLEVEL
 = 4,

90 
	mGPIO_PIN_INTR_HILEVEL
 = 5

91 } 
	tGPIO_INT_TYPE
;

95 
	mGPIO_Mode_I≈ut
 = 0x0,

96 
	mGPIO_Mode_Out_OD
,

97 
	mGPIO_Mode_Ouçut
 ,

98 
	mGPIO_Mode_Sigma_Dñè


99 } 
	tGPIOMode_Ty≥Def
;

103 
	mGPIO_PuŒUp_DIS
 = 0x0,

104 
	mGPIO_PuŒUp_EN
 = 0x1

105 } 
	tGPIO_PuŒup_IF
;

109 
uöt16
 
	mGPIO_Pö
;

110 
GPIOMode_Ty≥Def
 
	mGPIO_Mode
;

111 
GPIO_PuŒup_IF
 
	mGPIO_PuŒup
;

112 
GPIO_INT_TYPE
 
	mGPIO_I¡rTy≥
;

113 } 
	tGPIO_C⁄figTy≥Def
;

115 
	#GPIO_OUTPUT_SET
(
gpio_no
, 
bô_vÆue
Ë
	`gpio_ouçut_c⁄f
 (bit_value<<gpio_no, \

116 ((~
bô_vÆue
)&0x01)<<
gpio_no
, 1<<gpio_no, 0)

	)

118 
	#GPIO_OUTPUT
(
gpio_bôs
, 
bô_vÆue
) do { \

119 i‡(
bô_vÆue
Ë{ 
	`gpio_ouçut_c⁄f
 (
gpio_bôs
, 0, gpio_bits, 0); } \

120 { 
	`gpio_ouçut_c⁄f
(0, 
gpio_bôs
, gpio_bits, 0); } \

121 } 0)

	)

123 
	#GPIO_DIS_OUTPUT
(
gpio_no
Ë
	`gpio_ouçut_c⁄f
 (0, 0, 0, 1 << gpio_no)

	)

124 
	#GPIO_AS_INPUT
(
gpio_bôs
Ë
	`gpio_ouçut_c⁄f
 (0, 0, 0, gpio_bôs)

	)

125 
	#GPIO_AS_OUTPUT
(
gpio_bôs
Ë
	`gpio_ouçut_c⁄f
 (0, 0, gpio_bôs, 0)

	)

126 
	#GPIO_INPUT_GET
(
gpio_no
Ë((
	`gpio_öput_gë
 (Ë>> gpio_no)&
BIT0
)

	)

129 #ifde‡
__˝lu•lus


134 
gpio16_ouçut_c⁄f
 ();

135 
gpio16_ouçut_£t
 (
uöt8
 
vÆue
);

136 
gpio16_öput_c⁄f
 ();

137 
uöt8
 
gpio16_öput_gë
 ();

139 
gpio_ouçut_c⁄f
 (
uöt32
 
£t_mask
, uöt32 
˛ór_mask
, uöt32 
íabÀ_mask
, uöt32 
dißbÀ_mask
);

140 
gpio_öå_h™dÀr_ªgi°î
 (*
‚
);

141 
gpio_pö_wakeup_íabÀ
 (
uöt32
 
i
, 
GPIO_INT_TYPE
 
öå_°©e
);

142 
gpio_pö_wakeup_dißbÀ
 ();

143 
gpio_pö_öå_°©e_£t
 (
uöt32
 
i
, 
GPIO_INT_TYPE
 
öå_°©e
);

144 
uöt32
 
gpio_öput_gë
 ();

147 #ifde‡
__˝lu•lus


	@deps/jerry/targets/esp8266/include/esp8266_uart.h

21 #i‚de‡
__ESP8266_UART_H__


22 
	#__ESP8266_UART_H__


	)

25 
	mUART0
 = 0x0,

26 
	mUART1
 = 0x1,

27 } 
	tUART_P‹t
;

30 
	mBIT_RATE_300
 = 300,

31 
	mBIT_RATE_600
 = 600,

32 
	mBIT_RATE_1200
 = 1200,

33 
	mBIT_RATE_2400
 = 2400,

34 
	mBIT_RATE_4800
 = 4800,

35 
	mBIT_RATE_9600
 = 9600,

36 
	mBIT_RATE_19200
 = 19200,

37 
	mBIT_RATE_38400
 = 38400,

38 
	mBIT_RATE_57600
 = 57600,

39 
	mBIT_RATE_74880
 = 74880,

40 
	mBIT_RATE_115200
 = 115200,

41 
	mBIT_RATE_230400
 = 230400,

42 
	mBIT_RATE_460800
 = 460800,

43 
	mBIT_RATE_921600
 = 921600,

44 
	mBIT_RATE_1843200
 = 1843200,

45 
	mBIT_RATE_3686400
 = 3686400,

46 } 
	tUART_BautR©e
;

	@deps/jerry/targets/esp8266/include/jerry_extapi.h

16 #i‚de‡
__JERRY_EXTAPI_H__


17 
	#__JERRY_EXTAPI_H__


	)

19 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

20 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

23 #ifde‡
__˝lu•lus


28 
js_ªgi°î_fun˘i⁄s
 ();

31 #ifde‡
__˝lu•lus


	@deps/jerry/targets/esp8266/include/jerry_run.h

16 #i‚de‡
__JERRY_RUN_H__


17 
	#__JERRY_RUN_H__


	)

19 #ifde‡
__˝lu•lus


24 
js_íåy
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
);

25 
js_evÆ
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
);

26 
js_lo›
 (
uöt32_t
 
ticknow
);

27 
js_exô
 ();

30 #ifde‡
__˝lu•lus


	@deps/jerry/targets/esp8266/include/native_esp8266.h

16 #i‚de‡
__NATIVE_ESP8266_H__


17 
	#__NATIVE_ESP8266_H__


	)

19 #ifde‡
__˝lu•lus


24 
«tive_gpio_dú
 (, );

25 
«tive_gpio_£t
 (, );

26 
«tive_gpio_gë
 ();

29 #ifde‡
__˝lu•lus


	@deps/jerry/targets/esp8266/include/user_config.h

16 #i‚de‡
__USER_CONFIG_H__


17 
	#__USER_CONFIG_H__


	)

21 
	#JERRY_STACK_SIZE
 2000

	)

	@deps/jerry/targets/esp8266/source/jerry_extapi.c

16 
	~<°dlib.h
>

17 
	~<°dio.h
>

19 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

20 
	~"jîry_exèpi.h
"

22 
	~"«tive_e•8266.h
"

26 #i‚de‡
MIN


27 
	#MIN
(
A
,
B
Ë((A)<(B)?(A):(B))

	)

31 
	#__UNSED__
 
	`__©åibuã__
((
unu£d
))

	)

33 
	#DELCARE_HANDLER
(
NAME
) \

34 
jîry_vÆue_t
 \

35 
NAME
 ## 
	`_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
fun˘i⁄_obj_vÆ
 
__UNSED__
, \

36 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__UNSED__
, \

37 c⁄° 
jîry_vÆue_t
 
¨gs_p
[], \

38 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

	)

40 
	#REGISTER_HANDLER
(
NAME
) \

41 
	`ªgi°î_«tive_fun˘i⁄
 ( #NAME, 
NAME
 ## 
_h™dÀr
)

	)

45 
	$DELCARE_HANDLER
(
as£π
) {

46 i‡(
¨gs_˙t
 == 1

47 && 
	`jîry_vÆue_is_boﬁón
 (
¨gs_p
[0])

48 && 
	`jîry_gë_boﬁón_vÆue
 (
¨gs_p
[0]))

50 
	`¥ötf
 (">> JerryássertÅrue\r\n");

51  
	`jîry_¸óã_boﬁón
 (
åue
);

53 
	`¥ötf
 ("Scriptássertion failed\n");

54 
	`exô
 (
JERRY_STANDALONE_EXIT_CODE_FAIL
);

55  
	`jîry_¸óã_boﬁón
 (
Ál£
);

56 
	}
}

59 
	$DELCARE_HANDLER
(
¥öt
) {

60 
jîry_Àngth_t
 
cc
;

62 i‡(
¨gs_˙t
)

64 
	`¥ötf
(">>Öröt(%dË:", (Ë
¨gs_˙t
);

65 
cc
=0; cc<
¨gs_˙t
; cc++)

67 i‡(
	`jîry_vÆue_is_°rög
 (
¨gs_p
[
cc
]))

69 *
buf„r
;

70 
jîry_size_t
 
size
 = 
	`jîry_gë_°rög_size
 (
¨gs_p
[0]);

71 
buf„r
 = (*Ë
	`mÆloc
(
size
 + 1);

73 if(!
buf„r
)

76 
	`¥ötf
("[<too-long-string>]");

80 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs_p
[
cc
],

81 (
jîry_ch¨_t
 *Ë
buf„r
,

82 
size
);

83 *(
buf„r
 + 
size
) = 0;

84 
	`¥ötf
("[%s] ", 
buf„r
);

85 
	`‰ì
 (
buf„r
);

89 
	`¥ötf
 ("(%dË", 
¨gs_p
[
cc
]);

92 
	`¥ötf
 ("\r\n");

94  
	`jîry_¸óã_boﬁón
 (
åue
);

95 
	}
}

100 
	$DELCARE_HANDLER
(
gpio_dú
) {

101 
p‹t
, 
vÆue
;

102 i‡(
¨gs_˙t
 < 2)

104  
Ál£
;

107 
p‹t
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[0]);

108 
vÆue
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[1]);

110 
	`«tive_gpio_dú
 (
p‹t
, 
vÆue
);

112  
	`jîry_¸óã_boﬁón
 (
åue
);

113 
	}
}

115 
	$DELCARE_HANDLER
(
gpio_£t
) {

116 
p‹t
, 
vÆue
;

117 i‡(
¨gs_˙t
 < 2)

119  
	`jîry_¸óã_boﬁón
 (
Ál£
);

122 
p‹t
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[0]);

123 
vÆue
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[1]);

125 
	`«tive_gpio_£t
 (
p‹t
, 
vÆue
);

127  
	`jîry_¸óã_boﬁón
 (
åue
);

128 
	}
}

131 
	$DELCARE_HANDLER
(
gpio_gë
) {

132 
p‹t
, 
vÆue
;

133 i‡(
¨gs_˙t
 < 1)

135  
Ál£
;

138 
p‹t
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[0]);

140 
vÆue
 = 
	`«tive_gpio_gë
 (
p‹t
) ? 1 : 0;

142  
	`jîry_¸óã_numbî
 ((Ë
vÆue
);

143 
	}
}

148 
boﬁ


149 
	$ªgi°î_«tive_fun˘i⁄
 (c⁄° * 
«me
,

150 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
)

152 
jîry_vÆue_t
 
globÆ_obj_vÆ
;

153 
jîry_vÆue_t
 
ªg_func_vÆ
;

154 
jîry_vÆue_t
 
¥›_«me_vÆ
;

155 
jîry_vÆue_t
 
ªs
;

156 
boﬁ
 
bok
;

158 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

159 
ªg_func_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr
);

160 
bok
 = 
åue
;

162 i‡(!(
	`jîry_vÆue_is_fun˘i⁄
 (
ªg_func_vÆ
)

163 && 
	`jîry_vÆue_is_c⁄°ru˘‹
 (
ªg_func_vÆ
)))

165 
	`¥ötf
 ("!!! create_external_function failed !!!\r\n");

166 
	`jîry_ªÀa£_vÆue
 (
ªg_func_vÆ
);

167 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

168  
Ál£
;

171 
¥›_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me
);

172 
ªs
 = 
	`jîry_£t_¥›îty
 (
globÆ_obj_vÆ
, 
¥›_«me_vÆ
, 
ªg_func_vÆ
);

174 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
))

176 
bok
 = 
Ál£
;

179 
	`jîry_ªÀa£_vÆue
 (
ªs
);

180 
	`jîry_ªÀa£_vÆue
 (
¥›_«me_vÆ
);

181 
	`jîry_ªÀa£_vÆue
 (
ªg_func_vÆ
);

182 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

184 i‡(!
bok
)

186 
	`¥ötf
 ("!!!Ñegi°î_«tive_fun˘i⁄ faûed: [%s]\r\n", 
«me
);

189  
bok
;

190 
	}
}

195 
	$js_ªgi°î_fun˘i⁄s
 ()

197 
	`REGISTER_HANDLER
(
as£π
);

198 
	`REGISTER_HANDLER
(
¥öt
);

199 
	`REGISTER_HANDLER
(
gpio_dú
);

200 
	`REGISTER_HANDLER
(
gpio_£t
);

201 
	`REGISTER_HANDLER
(
gpio_gë
);

202 
	}
}

	@deps/jerry/targets/esp8266/source/jerry_run.c

16 
	~<°dlib.h
>

17 
	~<°dio.h
>

19 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

20 
	~"jîry_exèpi.h
"

21 
	~"jîry_run.h
"

24 c⁄° * 
	g‚_sys_lo›_«me
 = "sysloop";

25 
jîry_vÆue_t
 
	g∑r£d_ªs
;

30 
	$js_íåy
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
)

32 c⁄° 
jîry_ch¨_t
 *
jîry_§c
 = (c⁄° jîry_ch¨_à*Ë
sour˚_p
;

33 
ªt_code
 = 0;

34 
jîry_öô_Êag_t
 
Êags
 = 
JERRY_INIT_EMPTY
;

36 
	`jîry_öô
 (
Êags
);

38 
	`js_ªgi°î_fun˘i⁄s
 ();

40 
∑r£d_ªs
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
jîry_§c
, 
sour˚_size
, 
Ál£
);

42 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_ªs
))

44 
	`¥ötf
 ("Error: jerry_parse failed\r\n");

45 
ªt_code
 = 
JERRY_ERROR_SYNTAX
;

48  
ªt_code
;

49 
	}
}

51 
	$js_evÆ
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
)

53 
°©us
 = 0;

54 
jîry_vÆue_t
 
ªs
;

56 
ªs
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë
sour˚_p
,

57 
sour˚_size
,

58 
Ál£
);

59 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
)) {

60 
°©us
 = -1;

63 
	`jîry_ªÀa£_vÆue
 (
ªs
);

65  
°©us
;

66 
	}
}

68 
	$js_lo›
 (
uöt32_t
 
ticknow
)

70 
jîry_vÆue_t
 
globÆ_obj_vÆ
;

71 
jîry_vÆue_t
 
sy¶o›_func
;

72 
jîry_vÆue_t
 
vÆ_¨gs
[1];

73 
uöt16_t
 
vÆ_¨gv
;

74 
jîry_vÆue_t
 
ªs
;

75 
jîry_vÆue_t
 
¥›_«me_vÆ
;

76 
ªt_code
 = 0;

78 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

79 
¥›_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
‚_sys_lo›_«me
);

80 
sy¶o›_func
 = 
	`jîry_gë_¥›îty
 (
globÆ_obj_vÆ
, 
¥›_«me_vÆ
);

81 
	`jîry_ªÀa£_vÆue
 (
¥›_«me_vÆ
);

83 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
sy¶o›_func
)) {

84 
	`¥ötf
 ("Eº‹: '%s'ÇŸ deföed!!!\r\n", 
‚_sys_lo›_«me
);

85 
	`jîry_ªÀa£_vÆue
 (
sy¶o›_func
);

86 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

90 i‡(!
	`jîry_vÆue_is_fun˘i⁄
 (
sy¶o›_func
)) {

91 
	`¥ötf
 ("Eº‹: '%s' i†nŸá fun˘i⁄!!!\r\n", 
‚_sys_lo›_«me
);

92 
	`jîry_ªÀa£_vÆue
 (
sy¶o›_func
);

93 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

97 
vÆ_¨gv
 = 1;

98 
vÆ_¨gs
[0] = 
	`jîry_¸óã_numbî
 (
ticknow
);

100 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
sy¶o›_func
,

101 
globÆ_obj_vÆ
,

102 
vÆ_¨gs
,

103 
vÆ_¨gv
);

105 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
)) {

106 
ªt_code
 = -3;

109 
	`jîry_ªÀa£_vÆue
 (
ªs
);

110 
	`jîry_ªÀa£_vÆue
 (
sy¶o›_func
);

111 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

113  
ªt_code
;

114 
	}
}

116 
	$js_exô
 ()

118 
	`jîry_˛ónup
 ();

119 
	}
}

	@deps/jerry/targets/esp8266/user/jerry_port.c

16 
	~"e•_comm⁄.h
"

17 
	~<°dio.h
>

18 
	~<°d¨g.h
>

20 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt-p‹t.h
"

21 
ës_putc
 ();

27 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

28 c⁄° *
f‹m©
,

31 (Ë
Àvñ
;

33 
va_li°
 
¨gs
;

34 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

37 
	`va_íd
 (
¨gs
);

38 
	}
}

42 
	$exô
 (
°©us
)

44 
åue
)

47 
	}
}

50 
	$ab‹t
 ()

52 
åue
)

55 
	}
}

62 
size_t


63 
	$fwrôe
 (c⁄° *
±r
,

64 
size_t
 
size
,

65 
size_t
 
nmemb
,

66 
FILE
 *
°ªam
)

68  
size
 * 
nmemb
;

69 
	}
}

77 
	$gëtimeofday
 (*
ç
,

78 *
tzp
)

81 
	}
}

	@deps/jerry/targets/esp8266/user/native_esp8266.c

27 
	~"e•_comm⁄.h
"

29 
	~"u£r_c⁄fig.h
"

30 
	~"e•8266_gpio.h
"

33 
	$«tive_gpio_dú
(
p‹t
, 
vÆue
) {

34 i‡(
vÆue
) {

35 
	`GPIO_AS_OUTPUT
(1 << 
p‹t
);

38 
	`GPIO_AS_INPUT
(1 << 
p‹t
);

40 
	}
}

43 
	$«tive_gpio_£t
(
p‹t
, 
vÆue
) {

44 
	`GPIO_OUTPUT_SET
(
p‹t
, 
vÆue
);

45 
	}
}

48 
	$«tive_gpio_gë
(
p‹t
) {

49  
	`GPIO_INPUT_GET
(
p‹t
);

50 
	}
}

	@deps/jerry/targets/esp8266/user/user_gpio.c

21 
	~"e•_comm⁄.h
"

23 
	~"e•8266_gpio.h
"

28 
	$gpio_ouçut_c⁄f
(
uöt32
 
£t_mask
, uöt32 
˛ór_mask
, uöt32 
íabÀ_mask
,

29 
uöt32
 
dißbÀ_mask
) {

30 
	`GPIO_REG_WRITE
(
GPIO_OUT_W1TS_ADDRESS
, 
£t_mask
);

31 
	`GPIO_REG_WRITE
(
GPIO_OUT_W1TC_ADDRESS
, 
˛ór_mask
);

32 
	`GPIO_REG_WRITE
(
GPIO_ENABLE_W1TS_ADDRESS
, 
íabÀ_mask
);

33 
	`GPIO_REG_WRITE
(
GPIO_ENABLE_W1TC_ADDRESS
, 
dißbÀ_mask
);

34 
	}
}

37 
uöt32
 
	$gpio_öput_gë
() {

38  
	`GPIO_REG_READ
(
GPIO_IN_ADDRESS
);

39 
	}
}

	@deps/jerry/targets/esp8266/user/user_main.c

27 
	~"e•_comm⁄.h
"

29 
	~"‰ìπos/FªeRTOS.h
"

30 
	~"‰ìπos/èsk.h
"

32 
	~"u£r_c⁄fig.h
"

33 
	~"e•8266_u¨t.h
"

38 
	$show_‰ì_mem
(
idx
) {

39 
size_t
 
ªs
 = 
	`xP‹tGëFªeHópSize
();

40 
	`¥ötf
("dbg fªêmem‹y(%d): %d\r\n", 
idx
, 
ªs
);

41 
	}
}

46 
	~"jîry-èrgëjs.h
"

49 
	$jîry_èsk_öô
() {

50 
ªtcode
;

51 
§c
;

53 
DECLARE_JS_CODES
;

56 
	`show_‰ì_mem
(2);

57 
ªtcode
 = 
	`js_íåy
(
js_codes
[0].
sour˚
, js_codes[0].
Àngth
);

58 i‡(
ªtcode
 != 0) {

59 
	`¥ötf
("js_íåy faûed code(%dË[%s]\r\n", 
ªtcode
, 
js_codes
[0].
«me
);

63 
	`show_‰ì_mem
(3);

64 
§c
=1; 
js_codes
[§c].
sour˚
; src++) {

65 
ªtcode
 = 
	`js_evÆ
(
js_codes
[
§c
].
sour˚
, js_codes[§c].
Àngth
);

66 i‡(
ªtcode
 != 0) {

67 
	`¥ötf
("js_evÆ faûed code(%dË[%s]\r\n", 
ªtcode
, 
js_codes
[
§c
].
«me
);

71 
	`show_‰ì_mem
(4);

73 
	}
}

76 
	$jîry_èsk
(*
pvP¨amëîs
) {

77 c⁄° 
p‹tTickTy≥
 
xDñay
 = 100 / 
p‹tTICK_RATE_MS
;

78 
uöt32_t
 
ticknow
 = 0;

80 i‡(
	`jîry_èsk_öô
() == 0) {

82 
	`vTaskDñay
(
xDñay
);

83 
	`js_lo›
(
ticknow
);

84 i‡(!
ticknow
) {

85 
	`show_‰ì_mem
(5);

87 
ticknow
++;

90 
	`js_exô
();

91 
	}
}

99 
ICACHE_FLASH_ATTR
 
	$u£r_öô
()

101 
	`u¨t_div_modify
(
UART0
, 
UART_CLK_FREQ
 / (
BIT_RATE_115200
));

103 
	`show_‰ì_mem
(0);

104 
	`wifi_so·≠_dh˝s_°›
();

105 
	`show_‰ì_mem
(1);

107 
	`PIN_FUNC_SELECT
(
PERIPHS_IO_MUX_GPIO0_U
, 
FUNC_GPIO0
);

108 
	`PIN_FUNC_SELECT
(
PERIPHS_IO_MUX_GPIO2_U
, 
FUNC_GPIO2
);

110 
	`xTaskCª©e
(
jîry_èsk
, "jîry", 
JERRY_STACK_SIZE
, 
NULL
, 2, NULL);

111 
	}
}

	@deps/jerry/targets/mbed/source/jerry_extapi.cpp

16 
	~<°dlib.h
>

17 
	~<°dio.h
>

19 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

20 
	~"jîry_exèpi.h
"

22 
	~"«tive_mbed.h
"

24 #i‚de‡
MIN


25 
	#MIN
(
A
,
B
Ë((A)<(B)?(A):(B))

	)

30 
	#__UNSED__
 
	`__©åibuã__
((
unu£d
))

	)

32 
	#DECLARE_HANDLER
(
NAME
) \

33 
jîry_vÆue_t
 \

34 
NAME
 ## 
	`_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_vÆue
 
__UNSED__
, \

35 c⁄° 
jîry_vÆue_t
 
this_vÆue
 
__UNSED__
, \

36 c⁄° 
jîry_vÆue_t
 
¨gs
[], \

37 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
 )

	)

39 
	#REGISTER_HANDLER
(
NAME
) \

40 
	`ªgi°î_«tive_fun˘i⁄
 ( #NAME, 
NAME
 ## 
_h™dÀr
)

	)

44 
	$DECLARE_HANDLER
(
as£π
)

46 i‡(
¨gs_˙t
 == 1

47 && 
	`jîry_vÆue_is_boﬁón
 (
¨gs
[0])

48 && 
	`jîry_gë_boﬁón_vÆue
 (
¨gs
[0]))

50 
	`¥ötf
 (">> JerryássertÅrue\r\n");

51  
	`jîry_¸óã_boﬁón
 (
åue
);

53 
	`¥ötf
 ("ERROR: Scriptássertion failed\n");

54 
	`exô
 (
JERRY_STANDALONE_EXIT_CODE_FAIL
);

55  
	`jîry_¸óã_boﬁón
 (
Ál£
);

56 
	}
}

58 
	$DECLARE_HANDLER
(
Àd
)

60 
jîry_vÆue_t
 
ªt_vÆ
;

62 i‡(
¨gs_˙t
 < 2)

64 
ªt_vÆ
 = 
	`jîry_¸óã_boﬁón
 (
Ál£
);

65 
	`¥ötf
 ("Error: invalidárgumentsÇumber!\r\n");

66  
ªt_vÆ
;

69 i‡(!(
	`jîry_vÆue_is_numbî
 (
¨gs
[0])

70 && 
	`jîry_vÆue_is_numbî
 (
¨gs
[1])))

72 
ªt_vÆ
 = 
	`jîry_¸óã_boﬁón
 (
Ál£
);

73 
	`¥ötf
 ("Error:árguments must beÇumbers!\r\n");

74  
ªt_vÆ
;

77 
p‹t
, 
vÆue
;

78 
p‹t
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs
[0]);

79 
vÆue
 = (Ë
	`jîry_gë_numbî_vÆue
 (
¨gs
[1]);

81 i‡(
p‹t
 >= 0 &&Öort <= 3)

83 
	`«tive_Àd
 (
p‹t
, 
vÆue
);

84 
ªt_vÆ
 = 
	`jîry_¸óã_boﬁón
 (
åue
);

88 
ªt_vÆ
 = 
	`jîry_¸óã_boﬁón
 (
Ál£
);

90  
ªt_vÆ
;

91 
	}
}

95 
boﬁ


96 
	$ªgi°î_«tive_fun˘i⁄
 (c⁄° * 
«me
,

97 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
)

99 
jîry_vÆue_t
 
globÆ_obje˘_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

100 
jîry_vÆue_t
 
ªg_fun˘i⁄
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr
);

102 
boﬁ
 
is_ok
 = 
åue
;

104 i‡(!(
	`jîry_vÆue_is_fun˘i⁄
 (
ªg_fun˘i⁄
)

105 && 
	`jîry_vÆue_is_c⁄°ru˘‹
 (
ªg_fun˘i⁄
)))

107 
is_ok
 = 
Ál£
;

108 
	`¥ötf
 ("Error: create_external_function failed !!!\r\n");

109 
	`jîry_ªÀa£_vÆue
 (
globÆ_obje˘_vÆ
);

110 
	`jîry_ªÀa£_vÆue
 (
ªg_fun˘i⁄
);

111  
is_ok
;

114 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªg_fun˘i⁄
))

116 
is_ok
 = 
Ál£
;

117 
	`¥ötf
 ("Error: create_external_function hasÉrror flag! \n\r");

118 
	`jîry_ªÀa£_vÆue
 (
globÆ_obje˘_vÆ
);

119 
	`jîry_ªÀa£_vÆue
 (
ªg_fun˘i⁄
);

120  
is_ok
;

123 
jîry_vÆue_t
 
jîry_«me
 = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *Ë
«me
);

125 
jîry_vÆue_t
 
£t_ªsu…
 = 
	`jîry_£t_¥›îty
 (
globÆ_obje˘_vÆ
,

126 
jîry_«me
,

127 
ªg_fun˘i⁄
);

130 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
£t_ªsu…
))

132 
is_ok
 = 
Ál£
;

133 
	`¥ötf
 ("Eº‹:Ñegi°î_«tive_fun˘i⁄ faûed: [%s]\r\n", 
«me
);

136 
	`jîry_ªÀa£_vÆue
 (
jîry_«me
);

137 
	`jîry_ªÀa£_vÆue
 (
globÆ_obje˘_vÆ
);

138 
	`jîry_ªÀa£_vÆue
 (
ªg_fun˘i⁄
);

139 
	`jîry_ªÀa£_vÆue
 (
£t_ªsu…
);

141  
is_ok
;

142 
	}
}

144 
	$js_ªgi°î_fun˘i⁄s
 ()

146 
	`REGISTER_HANDLER
 (
as£π
);

147 
	`REGISTER_HANDLER
 (
Àd
);

148 
	}
}

	@deps/jerry/targets/mbed/source/jerry_extapi.h

16 #i‚de‡
__JERRY_EXTAPI_H__


17 
	#__JERRY_EXTAPI_H__


	)

19 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

20 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

22 
js_ªgi°î_fun˘i⁄s
 ();

	@deps/jerry/targets/mbed/source/jerry_run.cpp

16 
	~<°dlib.h
>

17 
	~<°dio.h
>

19 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

20 
	~"jîry_exèpi.h
"

21 
	~"jîry_run.h
"

23 c⁄° * 
	g‚_sys_lo›_«me
 = "sysloop";

25 
	$js_íåy
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
)

27 c⁄° 
jîry_ch¨_t
 *
jîry_§c
 = (c⁄° jîry_ch¨_à*Ë
sour˚_p
;

28 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

29 
uöt8_t
 
ªt_code
 = 0;

31 
	`js_ªgi°î_fun˘i⁄s
 ();

33 
jîry_vÆue_t
 
∑r£d_code
 = 
	`jîry_∑r£
 (
jîry_§c
, 
sour˚_size
, 
Ál£
);

35 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code
))

37 
jîry_vÆue_t
 
ªt_vÆue
 = 
	`jîry_run
 (
∑r£d_code
);

39 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

41 
	`¥ötf
 ("Error:Ñet_value hasánÉrror flag!\r\n");

42  
ªt_code
 = -1;

45 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

49 
	`¥ötf
 ("Error: jerry_parse failed!\r\n");

50 
ªt_code
 = -1;

53 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code
);

55  
ªt_code
;

56 
	}
}

58 
	$js_evÆ
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
)

60 
°©us
 = 0;

62 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë
sour˚_p
,

63 
sour˚_size
,

64 
Ál£
);

66 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆ
))

68 
	`¥ötf
 ("Error: jerry_eval failed!\r\n");

69 
°©us
 = -1;

72 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ
);

74  
°©us
;

75 
	}
}

77 
	$js_lo›
 (
uöt32_t
 
ticknow
)

79 
°©us
 = 0;

80 
jîry_vÆue_t
 
globÆ_obj
 = 
	`jîry_gë_globÆ_obje˘
 ();

81 
jîry_vÆue_t
 
sys_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
‚_sys_lo›_«me
);

82 
jîry_vÆue_t
 
sy¶o›_func
 = 
	`jîry_gë_¥›îty
 (
globÆ_obj
, 
sys_«me
);

84 
	`jîry_ªÀa£_vÆue
 (
sys_«me
);

86 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
sy¶o›_func
))

88 
	`¥ötf
 ("Eº‹: '%s'ÇŸ deföed!!!\r\n", 
‚_sys_lo›_«me
);

89 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj
);

90 
	`jîry_ªÀa£_vÆue
 (
sy¶o›_func
);

94 i‡(!
	`jîry_vÆue_is_fun˘i⁄
 (
sy¶o›_func
))

96 
	`¥ötf
 ("Eº‹: '%s' i†nŸá fun˘i⁄!!!\r\n", 
‚_sys_lo›_«me
);

97 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj
);

98 
	`jîry_ªÀa£_vÆue
 (
sy¶o›_func
);

102 
jîry_vÆue_t
 
vÆ_¨gs
[1];

103 
uöt16_t
 
vÆ_¨gv
 = 1;

105 
vÆ_¨gs
[0] = 
	`jîry_¸óã_numbî
 (
ticknow
);

107 
jîry_vÆue_t
 
ªt_vÆ_sy¶o›
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
sy¶o›_func
,

108 
globÆ_obj
,

109 
vÆ_¨gs
,

110 
vÆ_¨gv
);

111 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆ_sy¶o›
))

113 
°©us
 = -3;

116 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj
);

117 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ_sy¶o›
);

118 
	`jîry_ªÀa£_vÆue
 (
sy¶o›_func
);

119 
	`jîry_ªÀa£_vÆue
 (
vÆ_¨gs
[0]);

121  
°©us
;

122 
	}
}

124 
	$js_exô
 ()

126 
	`jîry_˛ónup
 ();

127 
	}
}

	@deps/jerry/targets/mbed/source/jerry_run.h

16 #i‚de‡
__JERRY_RUN_H__


17 
	#__JERRY_RUN_H__


	)

19 
js_íåy
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
);

20 
js_evÆ
 (c⁄° *
sour˚_p
, c⁄° 
size_t
 
sour˚_size
);

21 
js_lo›
 (
uöt32_t
 
ticknow
);

22 
js_exô
 ();

	@deps/jerry/targets/mbed/source/main.cpp

16 
	~"mbed-drivîs/mbed.h
"

18 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

19 
	~"jîry_run.h
"

21 
	~"jîry-èrgëjs.h
"

23 
Sîül
 
pc
 (
USBTX
, 
USBRX
);

25 
	$jîry_èsk_öô
 ()

27 
ªtcode
;

29 
DECLARE_JS_CODES
;

32 
ªtcode
 = 
	`js_íåy
 (
js_codes
[0].
sour˚
, js_codes[0].
Àngth
);

33 i‡(
ªtcode
 != 0)

35 
	`¥ötf
 ("js_íåy faûed code(%dË[%s]\r\n", 
ªtcode
, 
js_codes
[0].
«me
);

36 
	`js_exô
 ();

40 
§c
 = 1; 
js_codes
[§c].
sour˚
; src++)

42 
ªtcode
 = 
	`js_evÆ
 (
js_codes
[
§c
].
sour˚
, js_codes[§c].
Àngth
);

43 i‡(
ªtcode
 != 0)

45 
	`¥ötf
 ("js_evÆ faûed code(%dË[%s]\r\n", 
ªtcode
, 
js_codes
[
§c
].
«me
);

46 
	`js_exô
 ();

51 
	}
}

53 
	$jîry_lo›
 ()

55 
uöt32_t
 
_jcou¡
 = 0;

57 
	`js_lo›
 (
_jcou¡
++);

58 
	}
}

60 
	$≠p_°¨t
 (, **)

63 
pc
.
	`baud
 (9600);

65 
	`¥ötf
 ("\r\nJerryScript in mbed\r\n");

66 
	`¥ötf
 ("Vîsi⁄: \t%d.%d\n\n", 
JERRY_API_MAJOR_VERSION
, 
JERRY_API_MINOR_VERSION
);

68 i‡(
	`jîry_èsk_öô
 () == 0)

70 
mö¨
::
ScheduÀr
::
	`po°CÆlback
(
jîry_lo›
).
	`≥riod
(mö¨::
	`mûli£c⁄ds
(100));

72 
	}
}

	@deps/jerry/targets/mbed/source/native_mbed.cpp

16 
	~"mbed-drivîs/mbed.h
"

18 
	~"«tive_mbed.h
"

20 
	$«tive_Àd
 (
p‹t
, 
vÆ
)

22 c⁄° 
PöName
 
p‹tm≠
[] = { 
LED1
, 
LED2
, 
LED3
, 
LED4
 };

23 
DigôÆOut
 
	`Àd
 (
p‹tm≠
[
p‹t
]);

24 
Àd
 = 
vÆ
;

25 
	}
}

	@deps/jerry/targets/mbed/source/native_mbed.h

16 #i‚de‡
__NATIVE_MBED_H__


17 
	#__NATIVE_MBED_H__


	)

19 
«tive_Àd
 (
p‹t
, 
vÆ
);

	@deps/jerry/targets/mbed/source/port/jerry_port.c

16 
	#_BSD_SOURCE


	)

17 
	~<°d¨g.h
>

18 
	~<°dlib.h
>

19 
	~<sys/time.h
>

21 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt-p‹t.h
"

23 
	~"mbed-hÆ/us_tickî_≠i.h
"

29 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

30 c⁄° *
f‹m©
,

33 (Ë
Àvñ
;

35 
va_li°
 
¨gs
;

36 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

37 
	`vÂrötf
 (
°dîr
, 
f‹m©
, 
¨gs
);

38 
	`va_íd
 (
¨gs
);

39 
	}
}

45 
	$jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
)

47 
	`exô
 (
code
);

48 
	}
}

55 
boﬁ


56 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

58 
tz_p
->
off£t
 = 0;

59 
tz_p
->
daylight_ßvög_time
 = 0;

60  
åue
;

61 
	}
}

69 
	$jîry_p‹t_gë_cuºít_time
 ()

73  (Ë
	`us_tickî_ªad
 () / 1000;

74 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/AnalogIn-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_ANALOGIN_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_ANALOGIN_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_CLASS_CONSTRUCTOR
(
A«logIn
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/DigitalOut-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_DIGITALOUT_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_DIGITALOUT_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_CLASS_CONSTRUCTOR
(
DigôÆOut
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/I2C-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_I2C_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_I2C_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_CLASS_CONSTRUCTOR
(
I2C
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/InterruptIn-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_INTERRUPTIN_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_INTERRUPTIN_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_CLASS_CONSTRUCTOR
(
I¡îru±In
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/PwmOut-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_PWMOUT_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_PWMOUT_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_CLASS_CONSTRUCTOR
(
PwmOut
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/lib_drivers.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_LIB_DRIVERS_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_LIB_DRIVERS_H


	)

18 
	~"jîrys¸ùt-ext/h™dÀr.h
"

19 
	~"jîrys¸ùt-mbed-drivîs/I¡îru±In-js.h
"

20 
	~"jîrys¸ùt-mbed-drivîs/DigôÆOut-js.h
"

21 
	~"jîrys¸ùt-mbed-drivîs/£tI¡îvÆ-js.h
"

22 
	~"jîrys¸ùt-mbed-drivîs/£tTimeout-js.h
"

23 
	~"jîrys¸ùt-mbed-drivîs/I2C-js.h
"

24 
	~"jîrys¸ùt-mbed-drivîs/A«logIn-js.h
"

25 
	~"jîrys¸ùt-mbed-drivîs/PwmOut-js.h
"

27 
	$DECLARE_JS_WRAPPER_REGISTRATION
 (
ba£
) {

28 
	`REGISTER_GLOBAL_FUNCTION_WITH_HANDLER
(
as£π
, 
jîryx_h™dÀr_as£π
);

29 
	`REGISTER_GLOBAL_FUNCTION_WITH_HANDLER
(
gc
, 
jîryx_h™dÀr_gc
);

30 
	`REGISTER_GLOBAL_FUNCTION_WITH_HANDLER
(
¥öt
, 
jîryx_h™dÀr_¥öt
);

31 
	`REGISTER_GLOBAL_FUNCTION
(
£tI¡îvÆ
);

32 
	`REGISTER_GLOBAL_FUNCTION
(
£tTimeout
);

33 
	`REGISTER_GLOBAL_FUNCTION
(
˛órI¡îvÆ
);

34 
	`REGISTER_GLOBAL_FUNCTION
(
˛órTimeout
);

35 
	`REGISTER_CLASS_CONSTRUCTOR
(
DigôÆOut
);

36 
	`REGISTER_CLASS_CONSTRUCTOR
(
I2C
);

37 
	`REGISTER_CLASS_CONSTRUCTOR
(
I¡îru±In
);

38 
	`REGISTER_CLASS_CONSTRUCTOR
(
A«logIn
);

39 
	`REGISTER_CLASS_CONSTRUCTOR
(
PwmOut
);

40 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/setInterval-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_SET_INTERVAL_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_SET_INTERVAL_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_GLOBAL_FUNCTION
(
£tI¡îvÆ
);

21 
DECLARE_GLOBAL_FUNCTION
(
˛órI¡îvÆ
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/setTimeout-js.h

15 #i‚de‡
_JERRYSCRIPT_MBED_DRIVERS_SET_TIMEOUT_H


16 
	#_JERRYSCRIPT_MBED_DRIVERS_SET_TIMEOUT_H


	)

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
DECLARE_GLOBAL_FUNCTION
(
£tTimeout
);

21 
DECLARE_GLOBAL_FUNCTION
(
˛órTimeout
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/AnalogIn-js.cpp

15 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

16 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

18 
	~"mbed.h
"

25 
	$NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
A«logIn
)(* 
void_±r
) {

26 
dñëe
 
°©ic_ˇ°
<
A«logIn
*>(
void_±r
);

27 
	}
}

34 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	g«tive_obj_ty≥_öfo
 = {

35 .
‰ì_cb
 = 
NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
A«logIn
)

45 
	$DECLARE_CLASS_FUNCTION
(
A«logIn
, 
ªad
) {

46 
	`CHECK_ARGUMENT_COUNT
(
A«logIn
, 
ªad
, (
¨gs_cou¡
 == 0));

49 * 
void_±r
;

50 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

51 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

53 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

54  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

55 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative AnalogInÖointer");

58 
A«logIn
* 
«tive_±r
 = 
°©ic_ˇ°
<A«logIn*>(
void_±r
);

60 
ªsu…
 = 
«tive_±r
->
	`ªad
();

61  
	`jîry_¸óã_numbî
(
ªsu…
);

62 
	}
}

71 
	$DECLARE_CLASS_FUNCTION
(
A«logIn
, 
ªad_u16
) {

72 
	`CHECK_ARGUMENT_COUNT
(
A«logIn
, 
ªad_u16
, (
¨gs_cou¡
 == 0));

75 * 
void_±r
;

76 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

77 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

79 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

80  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

81 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative AnalogInÖointer");

84 
A«logIn
* 
«tive_±r
 = 
°©ic_ˇ°
<A«logIn*>(
void_±r
);

86 
uöt16_t
 
ªsu…
 = 
«tive_±r
->
	`ªad_u16
();

87  
	`jîry_¸óã_numbî
(
ªsu…
);

88 
	}
}

96 
	$DECLARE_CLASS_CONSTRUCTOR
(
A«logIn
) {

97 
	`CHECK_ARGUMENT_COUNT
(
A«logIn
, 
__c⁄°ru˘‹
, 
¨gs_cou¡
 == 1);

98 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
A«logIn
, 
__c⁄°ru˘‹
, 0, 
numbî
);

100 
PöName
 
pö_«me
 = 
	`PöName
(
	`jîry_gë_numbî_vÆue
(
¨gs
[0]));

103 
A«logIn
* 
«tive_±r
 = 
√w
 
	`A«logIn
(
pö_«me
);

106 
jîry_vÆue_t
 
js_obje˘
 = 
	`jîry_¸óã_obje˘
();

107 
	`jîry_£t_obje˘_«tive_poöãr
(
js_obje˘
, 
«tive_±r
, &
«tive_obj_ty≥_öfo
);

110 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
A«logIn
, 
ªad
);

111 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
A«logIn
, 
ªad_u16
);

113  
js_obje˘
;

114 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/DigitalOut-js.cpp

15 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

16 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

18 
	~"mbed.h
"

25 
	$NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
DigôÆOut
)(* 
void_±r
) {

26 
dñëe
 
°©ic_ˇ°
<
DigôÆOut
*>(
void_±r
);

27 
	}
}

34 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	g«tive_obj_ty≥_öfo
 = {

35 .
‰ì_cb
 = 
NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
DigôÆOut
)

47 
	$DECLARE_CLASS_FUNCTION
(
DigôÆOut
, 
wrôe
) {

48 
	`CHECK_ARGUMENT_COUNT
(
DigôÆOut
, 
wrôe
, (
¨gs_cou¡
 == 1));

49 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
DigôÆOut
, 
wrôe
, 0, 
numbî
);

52 * 
void_±r
;

53 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

54 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

56 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

57  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

58 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative DigitalOutÖointer");

61 
DigôÆOut
* 
«tive_±r
 = 
°©ic_ˇ°
<DigôÆOut*>(
void_±r
);

63 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

64 
«tive_±r
->
	`wrôe
(
¨g0
);

66  
	`jîry_¸óã_undeföed
();

67 
	}
}

76 
	$DECLARE_CLASS_FUNCTION
(
DigôÆOut
, 
ªad
) {

77 
	`CHECK_ARGUMENT_COUNT
(
DigôÆOut
, 
ªad
, (
¨gs_cou¡
 == 0));

80 * 
void_±r
;

81 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

82 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

84 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

85  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

86 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative DigitalOutÖointer");

89 
DigôÆOut
* 
«tive_±r
 = 
°©ic_ˇ°
<DigôÆOut*>(
void_±r
);

91 
ªsu…
 = 
«tive_±r
->
	`ªad
();

92  
	`jîry_¸óã_numbî
(
ªsu…
);

93 
	}
}

101 
	$DECLARE_CLASS_FUNCTION
(
DigôÆOut
, 
is_c⁄√˘ed
) {

102 
	`CHECK_ARGUMENT_COUNT
(
DigôÆOut
, 
is_c⁄√˘ed
, (
¨gs_cou¡
 == 0));

105 * 
void_±r
;

106 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

107 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

109 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

110  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

111 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative DigitalOutÖointer");

114 
DigôÆOut
* 
«tive_±r
 = 
°©ic_ˇ°
<DigôÆOut*>(
void_±r
);

116 
ªsu…
 = 
«tive_±r
->
	`is_c⁄√˘ed
();

117  
	`jîry_¸óã_numbî
(
ªsu…
);

118 
	}
}

127 
	$DECLARE_CLASS_CONSTRUCTOR
(
DigôÆOut
) {

128 
	`CHECK_ARGUMENT_COUNT
(
DigôÆOut
, 
__c⁄°ru˘‹
, (
¨gs_cou¡
 == 1 ||árgs_count == 2));

129 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
DigôÆOut
, 
__c⁄°ru˘‹
, 0, 
numbî
);

130 
	`CHECK_ARGUMENT_TYPE_ON_CONDITION
(
DigôÆOut
, 
__c⁄°ru˘‹
, 1, 
numbî
, (
¨gs_cou¡
 == 2));

132 
DigôÆOut
* 
«tive_±r
;

136 
PöName
 
pö_«me
 = 
	`PöName
(
	`jîry_gë_numbî_vÆue
(
¨gs
[0]));

138 
¨gs_cou¡
) {

140 
«tive_±r
 = 
√w
 
	`DigôÆOut
(
pö_«me
);

143 
vÆue
 = 
°©ic_ˇ°
<>(
	`jîry_gë_numbî_vÆue
(
¨gs
[1]));

144 
«tive_±r
 = 
√w
 
	`DigôÆOut
(
pö_«me
, 
vÆue
);

149 
jîry_vÆue_t
 
js_obje˘
 = 
	`jîry_¸óã_obje˘
();

150 
	`jîry_£t_obje˘_«tive_poöãr
(
js_obje˘
, 
«tive_±r
, &
«tive_obj_ty≥_öfo
);

153 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
DigôÆOut
, 
wrôe
);

154 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
DigôÆOut
, 
ªad
);

155 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
DigôÆOut
, 
is_c⁄√˘ed
);

157  
js_obje˘
;

158 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/I2C-js.cpp

15 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

16 
	~"jîrys¸ùt-mbed-drivîs/I2C-js.h
"

17 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

19 
	~"mbed.h
"

26 
	$NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
I2C
Ë(*
void_±r
) {

27 
dñëe
 
°©ic_ˇ°
<
I2C
*>(
void_±r
);

28 
	}
}

35 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	g«tive_obj_ty≥_öfo
 = {

36 .
‰ì_cb
 = 
NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
I2C
)

46 
	$DECLARE_CLASS_FUNCTION
(
I2C
, 
‰equícy
) {

47 
	`CHECK_ARGUMENT_COUNT
(
I2C
, 
‰equícy
, (
¨gs_cou¡
 == 1));

48 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
‰equícy
, 0, 
numbî
);

51 *
void_±r
;

52 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

53 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

55 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

56  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

57 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

60 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

62 
hz
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

63 
«tive_±r
->
	`‰equícy
(
hz
);

65  
	`jîry_¸óã_undeföed
();

66 
	}
}

89 
	$DECLARE_CLASS_FUNCTION
(
I2C
, 
ªad
) {

90 
	`CHECK_ARGUMENT_COUNT
(
I2C
, 
ªad
, (
¨gs_cou¡
 == 1 ||árgs_count == 3 ||árgs_count == 4));

92 i‡(
¨gs_cou¡
 == 1) {

93 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
ªad
, 0, 
numbî
);

94 *
void_±r
;

95 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

96 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

98 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

99  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

100 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

103 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

105 
d©a
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

106 
ªsu…
 = 
«tive_±r
->
	`ªad
(
d©a
);

108  
	`jîry_¸óã_numbî
(
ªsu…
);

110 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
ªad
, 0, 
numbî
);

111 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
ªad
, 1, 
¨øy
);

112 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
ªad
, 2, 
numbî
);

114 
	`CHECK_ARGUMENT_TYPE_ON_CONDITION
(
I2C
, 
ªad
, 3, 
boﬁón
, (
¨gs_cou¡
 == 4));

116 *
void_±r
;

117 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

118 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

120 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

121  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

122 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

125 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

127 c⁄° 
uöt32_t
 
d©a_Àn
 = 
	`jîry_gë_¨øy_Àngth
(
¨gs
[1]);

129 
addªss
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

130 
Àngth
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[2]);

132 *
d©a
 = 
√w
 [
d©a_Àn
];

134 
boﬁ
 
ª≥©ed
 = 
Ál£
;

135 i‡(
¨gs_cou¡
 == 4) {

136 
ª≥©ed
 = 
	`jîry_gë_boﬁón_vÆue
(
¨gs
[3]);

139 
ªsu…
 = 
«tive_±r
->
	`ªad
(
addªss
, 
d©a
, 
Àngth
, 
ª≥©ed
);

141 
jîry_vÆue_t
 
out_¨øy
 = 
	`jîry_¸óã_¨øy
(
d©a_Àn
);

143 
uöt32_t
 
i
 = 0; i < 
d©a_Àn
; i++) {

144 
jîry_vÆue_t
 
vÆ
 = 
	`jîry_¸óã_numbî
((
d©a
[
i
]));

145 
	`jîry_£t_¥›îty_by_ödex
(
out_¨øy
, 
i
, 
vÆ
);

146 
	`jîry_ªÀa£_vÆue
(
vÆ
);

149 
dñëe
[] 
d©a
;

151 i‡(
ªsu…
 == 0) {

153  
out_¨øy
;

156 c⁄° *
îr‹_msg
 = "NACKÑeceived from I2C bus";

158 
	`jîry_ªÀa£_vÆue
(
out_¨øy
);

159  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_COMMON
, 
ªöãΩªt_ˇ°
<c⁄° 
jîry_ch¨_t
 *>(
îr‹_msg
));

162 
	}
}

184 
	$DECLARE_CLASS_FUNCTION
(
I2C
, 
wrôe
) {

185 
	`CHECK_ARGUMENT_COUNT
(
I2C
, 
wrôe
, (
¨gs_cou¡
 == 1 ||árgs_count == 3 ||árgs_count == 4));

187 i‡(
¨gs_cou¡
 == 1) {

188 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
wrôe
, 0, 
numbî
);

191 *
void_±r
;

192 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

193 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

195 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

196  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

197 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

200 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

203 
d©a
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

205 
ªsu…
 = 
«tive_±r
->
	`wrôe
(
d©a
);

206  
	`jîry_¸óã_numbî
(
ªsu…
);

209 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
wrôe
, 0, 
numbî
);

210 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
wrôe
, 1, 
¨øy
);

211 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
wrôe
, 2, 
numbî
);

212 
	`CHECK_ARGUMENT_TYPE_ON_CONDITION
(
I2C
, 
wrôe
, 3, 
boﬁón
, (
¨gs_cou¡
 == 4));

215 *
void_±r
;

216 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

217 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

219 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

220  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

221 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

224 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

227 
addªss
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

228 c⁄° 
uöt32_t
 
d©a_Àn
 = 
	`jîry_gë_¨øy_Àngth
(
¨gs
[1]);

229 
Àngth
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[2]);

230 
boﬁ
 
ª≥©ed
 = 
¨gs_cou¡
 =4 && 
	`jîry_gë_boﬁón_vÆue
(
¨gs
[3]);

233 *
d©a
 = 
√w
 [
d©a_Àn
];

234 
uöt32_t
 
i
 = 0; i < 
d©a_Àn
; i++) {

235 
d©a
[
i
] = 
	`jîry_gë_numbî_vÆue
(
	`jîry_gë_¥›îty_by_ödex
(
¨gs
[1], i));

238 
ªsu…
 = 
«tive_±r
->
	`wrôe
(
addªss
, 
d©a
, 
Àngth
, 
ª≥©ed
);

241 
dñëe
[] 
d©a
;

243  
	`jîry_¸óã_numbî
(
ªsu…
);

245 
	}
}

252 
	$DECLARE_CLASS_FUNCTION
(
I2C
, 
°¨t
) {

253 
	`CHECK_ARGUMENT_COUNT
(
I2C
, 
°¨t
, (
¨gs_cou¡
 == 0));

256 *
void_±r
;

257 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

258 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

260 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

261  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

262 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

265 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

267 
«tive_±r
->
	`°¨t
();

268  
	`jîry_¸óã_undeföed
();

269 
	}
}

276 
	$DECLARE_CLASS_FUNCTION
(
I2C
, 
°›
) {

277 
	`CHECK_ARGUMENT_COUNT
(
I2C
, 
°›
, (
¨gs_cou¡
 == 0));

280 *
void_±r
;

281 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

282 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

284 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

285  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

286 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative I2CÖointer");

289 
I2C
 *
«tive_±r
 = 
°©ic_ˇ°
<I2C*>(
void_±r
);

291 
«tive_±r
->
	`°›
();

292  
	`jîry_¸óã_undeföed
();

293 
	}
}

302 
	$DECLARE_CLASS_CONSTRUCTOR
(
I2C
) {

303 
	`CHECK_ARGUMENT_COUNT
(
I2C
, 
__c⁄°ru˘‹
, (
¨gs_cou¡
 == 2));

304 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
__c⁄°ru˘‹
, 0, 
numbî
);

305 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I2C
, 
__c⁄°ru˘‹
, 1, 
numbî
);

307 
sda
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

308 
s˛
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[1]);

310 
I2C
 *
«tive_±r
 = 
√w
 
	`I2C
((
PöName
)
sda
, (PöName)
s˛
);

312 
jîry_vÆue_t
 
js_obje˘
 = 
	`jîry_¸óã_obje˘
();

313 
	`jîry_£t_obje˘_«tive_poöãr
(
js_obje˘
, 
«tive_±r
, &
«tive_obj_ty≥_öfo
);

315 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I2C
, 
‰equícy
);

316 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I2C
, 
ªad
);

317 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I2C
, 
wrôe
);

318 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I2C
, 
°¨t
);

319 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I2C
, 
°›
);

321  
js_obje˘
;

322 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/InterruptIn-js.cpp

15 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

16 
	~"jîrys¸ùt-mbed-evít-lo›/EvítLo›.h
"

17 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

19 
	~"mbed.h
"

26 
	$NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
I¡îru±In
Ë(*
void_±r
) {

27 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

29 
«tive_±r
->
	`ri£
(0);

30 
«tive_±r
->
	`ÁŒ
(0);

31 
dñëe
 
«tive_±r
;

32 
	}
}

39 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	g«tive_obj_ty≥_öfo
 = {

40 .
‰ì_cb
 = 
NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
I¡îru±In
)

50 
	$DECLARE_CLASS_FUNCTION
(
I¡îru±In
, 
ri£
) {

51 
	`CHECK_ARGUMENT_COUNT
(
I¡îru±In
, 
ri£
, (
¨gs_cou¡
 == 1));

54 i‡(
	`jîry_vÆue_is_nuŒ
(
¨gs
[0])) {

55 *
void_±r
;

56 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

57 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

59 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

60  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

61 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

64 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

66 
jîry_vÆue_t
 
¥›îty_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"cb_rise");

67 
jîry_vÆue_t
 
cb_func
 = 
	`jîry_gë_¥›îty
(
this_obj
, 
¥›îty_«me
);

68 
	`jîry_ªÀa£_vÆue
(
¥›îty_«me
);

71 i‡(
	`jîry_vÆue_is_fun˘i⁄
(
cb_func
)) {

73 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`dr›CÆlback
(
cb_func
);

75 
	`jîry_ªÀa£_vÆue
(
cb_func
);

77 
«tive_±r
->
	`ri£
(0);

79  
	`jîry_¸óã_undeföed
();

83 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I¡îru±In
, 
ri£
, 0, 
fun˘i⁄
);

85 *
void_±r
;

86 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

87 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

89 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

90  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

91 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

94 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

96 
jîry_vÆue_t
 
f
 = 
¨gs
[0];

99 
mbed
::
CÆlback
<()> 
cb
 = mbed::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`wøpFun˘i⁄
(
f
);

100 
«tive_±r
->
	`ri£
(
cb
);

103 
jîry_vÆue_t
 
¥›îty_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"cb_rise");

104 
	`jîry_£t_¥›îty
(
this_obj
, 
¥›îty_«me
, 
f
);

105 
	`jîry_ªÀa£_vÆue
(
¥›îty_«me
);

107  
	`jîry_¸óã_undeföed
();

108 
	}
}

117 
	$DECLARE_CLASS_FUNCTION
(
I¡îru±In
, 
ÁŒ
) {

118 
	`CHECK_ARGUMENT_COUNT
(
I¡îru±In
, 
ÁŒ
, (
¨gs_cou¡
 == 1));

121 i‡(
	`jîry_vÆue_is_nuŒ
(
¨gs
[0])) {

122 *
void_±r
;

123 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

124 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

126 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

127  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

128 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

131 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

133 
jîry_vÆue_t
 
¥›îty_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"cb_fall");

134 
jîry_vÆue_t
 
cb_func
 = 
	`jîry_gë_¥›îty
(
this_obj
, 
¥›îty_«me
);

135 
	`jîry_ªÀa£_vÆue
(
¥›îty_«me
);

138 i‡(
	`jîry_vÆue_is_fun˘i⁄
(
cb_func
)) {

140 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`dr›CÆlback
(
cb_func
);

142 
	`jîry_ªÀa£_vÆue
(
cb_func
);

144 
«tive_±r
->
	`ÁŒ
(0);

146  
	`jîry_¸óã_undeföed
();

150 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I¡îru±In
, 
ÁŒ
, 0, 
fun˘i⁄
);

152 *
void_±r
;

153 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

154 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

156 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

157  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

158 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

161 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

163 
jîry_vÆue_t
 
f
 = 
¨gs
[0];

166 
mbed
::
CÆlback
<()> 
cb
 = mbed::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`wøpFun˘i⁄
(
f
);

167 
«tive_±r
->
	`ÁŒ
(
cb
);

170 
jîry_vÆue_t
 
¥›îty_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"cb_fall");

171 
	`jîry_£t_¥›îty
(
this_obj
, 
¥›îty_«me
, 
f
);

172 
	`jîry_ªÀa£_vÆue
(
¥›îty_«me
);

174  
	`jîry_¸óã_undeföed
();

175 
	}
}

184 
	$DECLARE_CLASS_FUNCTION
(
I¡îru±In
, 
mode
) {

185 
	`CHECK_ARGUMENT_COUNT
(
I¡îru±In
, 
mode
, (
¨gs_cou¡
 == 1));

186 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I¡îru±In
, 
mode
, 0, 
numbî
);

188 *
void_±r
;

189 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

190 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

192 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

193  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

194 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

197 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

199 
puŒ
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

200 
«tive_±r
->
	`mode
((
PöMode
)
puŒ
);

202  
	`jîry_¸óã_undeföed
();

203 
	}
}

210 
	$DECLARE_CLASS_FUNCTION
(
I¡îru±In
, 
dißbÀ_úq
) {

211 
	`CHECK_ARGUMENT_COUNT
(
I¡îru±In
, 
dißbÀ_úq
, (
¨gs_cou¡
 == 0));

213 *
void_±r
;

214 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

215 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

217 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

218  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

219 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

222 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

224 
«tive_±r
->
	`dißbÀ_úq
();

225  
	`jîry_¸óã_undeföed
();

226 
	}
}

233 
	$DECLARE_CLASS_FUNCTION
(
I¡îru±In
, 
íabÀ_úq
) {

234 
	`CHECK_ARGUMENT_COUNT
(
I¡îru±In
, 
íabÀ_úq
, (
¨gs_cou¡
 == 0));

236 *
void_±r
;

237 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
ty≥_±r
;

238 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

240 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

241  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

242 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative InterruptInÖointer");

245 
I¡îru±In
 *
«tive_±r
 = 
°©ic_ˇ°
<I¡îru±In*>(
void_±r
);

247 
«tive_±r
->
	`íabÀ_úq
();

248  
	`jîry_¸óã_undeföed
();

249 
	}
}

258 
	$DECLARE_CLASS_CONSTRUCTOR
(
I¡îru±In
) {

259 
	`CHECK_ARGUMENT_COUNT
(
I¡îru±In
, 
__c⁄°ru˘‹
, (
¨gs_cou¡
 == 1));

260 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
I¡îru±In
, 
__c⁄°ru˘‹
, 0, 
numbî
);

261 
pö
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

263 
I¡îru±In
 *
«tive_±r
 = 
√w
 
	`I¡îru±In
((
PöName
)
pö
);

264 
jîry_vÆue_t
 
js_obje˘
 = 
	`jîry_¸óã_obje˘
();

266 
	`jîry_£t_obje˘_«tive_poöãr
(
js_obje˘
, 
«tive_±r
, &
«tive_obj_ty≥_öfo
);

268 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I¡îru±In
, 
ri£
);

269 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I¡îru±In
, 
ÁŒ
);

270 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I¡îru±In
, 
mode
);

271 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I¡îru±In
, 
íabÀ_úq
);

272 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
I¡îru±In
, 
dißbÀ_úq
);

274  
js_obje˘
;

275 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/PwmOut-js.cpp

15 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

16 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

18 
	~"mbed.h
"

25 
	$NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
PwmOut
)(* 
void_±r
) {

26 
dñëe
 
°©ic_ˇ°
<
PwmOut
*>(
void_±r
);

27 
	}
}

34 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	g«tive_obj_ty≥_öfo
 = {

35 .
‰ì_cb
 = 
NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
PwmOut
)

49 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
wrôe
) {

50 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
wrôe
, (
¨gs_cou¡
 == 1));

51 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
wrôe
, 0, 
numbî
);

54 * 
void_±r
;

55 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

56 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

58 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

59  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

60 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

63 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

65 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

66 
«tive_±r
->
	`wrôe
(
°©ic_ˇ°
<>(
¨g0
));

68  
	`jîry_¸óã_undeföed
();

69 
	}
}

84 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
ªad
) {

85 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
ªad
, (
¨gs_cou¡
 == 0));

88 * 
void_±r
;

89 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

90 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

92 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

93  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

94 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

97 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

99 
ªsu…
 = 
«tive_±r
->
	`ªad
();

100  
	`jîry_¸óã_numbî
(
ªsu…
);

101 
	}
}

112 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
≥riod
) {

113 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
≥riod
, (
¨gs_cou¡
 == 1));

114 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
≥riod
, 0, 
numbî
);

117 * 
void_±r
;

118 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

119 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

121 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

122  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

123 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

126 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

128 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

129 
«tive_±r
->
	`≥riod
(
°©ic_ˇ°
<>(
¨g0
));

131  
	`jîry_¸óã_undeföed
();

132 
	}
}

139 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
≥riod_ms
) {

140 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
≥riod_ms
, (
¨gs_cou¡
 == 1));

141 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
≥riod_ms
, 0, 
numbî
);

144 * 
void_±r
;

145 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

146 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

148 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

149  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

150 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

153 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

155 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

156 
«tive_±r
->
	`≥riod_ms
(
°©ic_ˇ°
<>(
¨g0
));

158  
	`jîry_¸óã_undeföed
();

159 
	}
}

166 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
≥riod_us
) {

167 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
≥riod_us
, (
¨gs_cou¡
 == 1));

168 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
≥riod_us
, 0, 
numbî
);

171 * 
void_±r
;

172 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

173 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

175 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

176  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

177 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

180 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

182 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

183 
«tive_±r
->
	`≥riod_us
(
°©ic_ˇ°
<>(
¨g0
));

185  
	`jîry_¸óã_undeföed
();

186 
	}
}

193 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
pul£width
) {

194 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
pul£width
, (
¨gs_cou¡
 == 1));

195 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
pul£width
, 0, 
numbî
);

198 * 
void_±r
;

199 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

200 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

202 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

203  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

204 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

207 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

209 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

210 
«tive_±r
->
	`pul£width
(
°©ic_ˇ°
<>(
¨g0
));

212  
	`jîry_¸óã_undeföed
();

213 
	}
}

220 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
pul£width_ms
) {

221 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
pul£width_ms
, (
¨gs_cou¡
 == 1));

222 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
pul£width_ms
, 0, 
numbî
);

225 * 
void_±r
;

226 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

227 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

229 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

230  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

231 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

234 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

236 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

237 
«tive_±r
->
	`pul£width_ms
(
°©ic_ˇ°
<>(
¨g0
));

239  
	`jîry_¸óã_undeföed
();

240 
	}
}

247 
	$DECLARE_CLASS_FUNCTION
(
PwmOut
, 
pul£width_us
) {

248 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
pul£width_us
, (
¨gs_cou¡
 == 1));

249 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
pul£width_us
, 0, 
numbî
);

252 * 
void_±r
;

253 c⁄° 
jîry_obje˘_«tive_öfo_t
* 
ty≥_±r
;

254 
boﬁ
 
has_±r
 = 
	`jîry_gë_obje˘_«tive_poöãr
(
this_obj
, &
void_±r
, &
ty≥_±r
);

256 i‡(!
has_±r
 || 
ty≥_±r
 !&
«tive_obj_ty≥_öfo
) {

257  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

258 (c⁄° 
jîry_ch¨_t
 *) "FailedÅo getÇative PwmOutÖointer");

261 
PwmOut
* 
«tive_±r
 = 
°©ic_ˇ°
<PwmOut*>(
void_±r
);

263 
¨g0
 = 
	`jîry_gë_numbî_vÆue
(
¨gs
[0]);

264 
«tive_±r
->
	`pul£width_us
(
°©ic_ˇ°
<>(
¨g0
));

266  
	`jîry_¸óã_undeföed
();

267 
	}
}

275 
	$DECLARE_CLASS_CONSTRUCTOR
(
PwmOut
) {

276 
	`CHECK_ARGUMENT_COUNT
(
PwmOut
, 
__c⁄°ru˘‹
, 
¨gs_cou¡
 == 1);

277 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
PwmOut
, 
__c⁄°ru˘‹
, 0, 
numbî
);

279 
PöName
 
pö_«me
 = 
	`PöName
(
	`jîry_gë_numbî_vÆue
(
¨gs
[0]));

282 
PwmOut
* 
«tive_±r
 = 
√w
 
	`PwmOut
(
pö_«me
);

285 
jîry_vÆue_t
 
js_obje˘
 = 
	`jîry_¸óã_obje˘
();

286 
	`jîry_£t_obje˘_«tive_poöãr
(
js_obje˘
, 
«tive_±r
, &
«tive_obj_ty≥_öfo
);

289 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
wrôe
);

290 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
ªad
);

291 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
≥riod
);

292 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
≥riod_ms
);

293 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
≥riod_us
);

294 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
pul£width
);

295 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
pul£width_ms
);

296 
	`ATTACH_CLASS_FUNCTION
(
js_obje˘
, 
PwmOut
, 
pul£width_us
);

298  
js_obje˘
;

299 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/setInterval-js.cpp

15 
	~"jîrys¸ùt-mbed-drivîs/£tI¡îvÆ-js.h
"

16 
	~"jîrys¸ùt-mbed-evít-lo›/EvítLo›.h
"

26 
	$DECLARE_GLOBAL_FUNCTION
(
£tI¡îvÆ
) {

27 
	`CHECK_ARGUMENT_COUNT
(
globÆ
, 
£tI¡îvÆ
, (
¨gs_cou¡
 == 2));

28 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
globÆ
, 
£tI¡îvÆ
, 0, 
fun˘i⁄
);

29 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
globÆ
, 
£tI¡îvÆ
, 1, 
numbî
);

31 
öãrvÆ
 = (
	`jîry_gë_numbî_vÆue
(
¨gs
[1]));

33 
id
 = 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`gëQueue
().
	`ˇŒ_evîy
(
öãrvÆ
, 
jîry_ˇŒ_fun˘i⁄
, 
¨gs
[0], 
	`jîry_¸óã_nuŒ
(), (
jîry_vÆue_t
*)
NULL
, 0);

35 
jîry_vÆue_t
 
ªsu…
 = 
	`jîry_£t_¥›îty_by_ödex
(
fun˘i⁄_obj_p
, 
id
, 
¨gs
[0]);

37 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªsu…
)) {

38 
	`jîry_ªÀa£_vÆue
(
ªsu…
);

39 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`gëQueue
().
	`ˇn˚l
(
id
);

41  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
, (c⁄° 
jîry_ch¨_t
 *) "FailedÅoÑun setInterval");

44 
	`jîry_ªÀa£_vÆue
(
ªsu…
);

45  
	`jîry_¸óã_numbî
(
id
);

46 
	}
}

55 
	$DECLARE_GLOBAL_FUNCTION
(
˛órI¡îvÆ
) {

56 
	`CHECK_ARGUMENT_COUNT
(
globÆ
, 
˛órI¡îvÆ
, (
¨gs_cou¡
 == 1));

57 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
globÆ
, 
˛órI¡îvÆ
, 0, 
numbî
);

59 
id
 = (
	`jîry_gë_numbî_vÆue
(
¨gs
[0]));

61 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`gëQueue
().
	`ˇn˚l
(
id
);

63 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"setInterval");

64 
jîry_vÆue_t
 
func_obj
 = 
	`jîry_gë_¥›îty
(
this_obj
, 
¥›_«me
);

65 
	`jîry_ªÀa£_vÆue
(
¥›_«me
);

67 
	`jîry_dñëe_¥›îty_by_ödex
(
func_obj
, 
id
);

68 
	`jîry_ªÀa£_vÆue
(
func_obj
);

70  
	`jîry_¸óã_undeföed
();

71 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/setTimeout-js.cpp

15 
	~"jîrys¸ùt-mbed-drivîs/£tTimeout-js.h
"

16 
	~"jîrys¸ùt-mbed-evít-lo›/EvítLo›.h
"

26 
	$DECLARE_GLOBAL_FUNCTION
(
£tTimeout
) {

27 
	`CHECK_ARGUMENT_COUNT
(
globÆ
, 
£tTimeout
, (
¨gs_cou¡
 == 2));

28 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
globÆ
, 
£tTimeout
, 0, 
fun˘i⁄
);

29 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
globÆ
, 
£tTimeout
, 1, 
numbî
);

31 
öãrvÆ
 = (
	`jîry_gë_numbî_vÆue
(
¨gs
[1]));

33 
id
 = 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`gëQueue
().
	`ˇŒ_ö
(
öãrvÆ
, 
jîry_ˇŒ_fun˘i⁄
, 
¨gs
[0], 
	`jîry_¸óã_nuŒ
(), (
jîry_vÆue_t
*)
NULL
, 0);

35 
jîry_vÆue_t
 
ªsu…
 = 
	`jîry_£t_¥›îty_by_ödex
(
fun˘i⁄_obj_p
, 
id
, 
¨gs
[0]);

37 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªsu…
)) {

38 
	`jîry_ªÀa£_vÆue
(
ªsu…
);

39 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`gëQueue
().
	`ˇn˚l
(
id
);

41  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
, (c⁄° 
jîry_ch¨_t
 *) "FailedÅoÑun setTimeout");

44 
	`jîry_ªÀa£_vÆue
(
ªsu…
);

45  
	`jîry_¸óã_numbî
(
id
);

46 
	}
}

55 
	$DECLARE_GLOBAL_FUNCTION
(
˛órTimeout
) {

56 
	`CHECK_ARGUMENT_COUNT
(
globÆ
, 
˛órTimeout
, (
¨gs_cou¡
 == 1));

57 
	`CHECK_ARGUMENT_TYPE_ALWAYS
(
globÆ
, 
˛órTimeout
, 0, 
numbî
);

59 
id
 = (
	`jîry_gë_numbî_vÆue
(
¨gs
[0]));

61 
mbed
::
js
::
EvítLo›
::
	`gëIn°™˚
().
	`gëQueue
().
	`ˇn˚l
(
id
);

63 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"setTimeout");

64 
jîry_vÆue_t
 
func_obj
 = 
	`jîry_gë_¥›îty
(
this_obj
, 
¥›_«me
);

65 
	`jîry_ªÀa£_vÆue
(
¥›_«me
);

67 
	`jîry_dñëe_¥›îty_by_ödex
(
func_obj
, 
id
);

68 
	`jîry_ªÀa£_vÆue
(
func_obj
);

70  
	`jîry_¸óã_undeföed
();

71 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-event-loop/BoundCallback.h

15 #i‚de‡
_JERRYSCRIPT_MBED_EVENT_LOOP_BOUND_CALLBACK_H


16 
	#_JERRYSCRIPT_MBED_EVENT_LOOP_BOUND_CALLBACK_H


	)

18 
	~"CÆlback.h
"

20 
«me•a˚
 
	gmbed
 {

21 
«me•a˚
 
	gjs
 {

23 
	gãm∂©e
<
ty≥«me
 
	gT
>

24 
˛ass
 
	gBoundCÆlback
;

26 
	gãm∂©e
<
ty≥«me
 
	gR
,Åy≥«mê
	gA0
>

27 
˛ass
 
	gBoundCÆlback
<
R
(
A0
)> {

28 
	gpublic
:

29 
BoundCÆlback
(
CÆlback
<
R
(
A0
)> 
cb
, A0 
a0
) :á0(a0), cb(cb) { }

31 
ˇŒ
() {

32 
cb
(
a0
);

35 
›î©‹
 
	gCÆlback
<()>() {

36 
	gCÆlback
<()> 
cb
(
this
, &
BoundCÆlback
::
ˇŒ
);

37  
	gcb
;

40 
	g¥iv©e
:

41 
A0
 
a0
;

42 
	gCÆlback
<
R
(
A0
)> 
	gcb
;

45 
	gãm∂©e
<
ty≥«me
 
	gR
,Åy≥«mê
	gA0
,Åy≥«mê
	gA1
>

46 
˛ass
 
	gBoundCÆlback
<
R
(
A0
, 
A1
)> {

47 
	gpublic
:

48 
BoundCÆlback
(
CÆlback
<
R
(
A0
, 
A1
)> 
cb
, A0 
a0
, A1 
a1
) :á0(a0),á1(a1), cb(cb) { }

50 
ˇŒ
() {

51 
cb
(
a0
, 
a1
);

54 
›î©‹
 
	gCÆlback
<()>() {

55 
	gCÆlback
<()> 
cb
(
this
, &
BoundCÆlback
::
ˇŒ
);

56  
	gcb
;

59 
	g¥iv©e
:

60 
A0
 
a0
;

61 
A0
 
	ga1
;

63 
	gCÆlback
<
R
(
A0
, 
A1
)> 
	gcb
;

66 
	gãm∂©e
<
ty≥«me
 
	gR
,Åy≥«mê
	gA0
,Åy≥«mê
	gA1
,Åy≥«mê
	gA2
>

67 
˛ass
 
	gBoundCÆlback
<
R
(
A0
, 
A1
, 
A2
)> {

68 
	gpublic
:

69 
BoundCÆlback
(
CÆlback
<
R
(
A0
, 
A1
, 
A2
)> 
cb
, A0 
a0
, A1 
a1
, A2 
a2
) :á0(a0),á1(a1),á2(a2), cb(cb) { }

71 
ˇŒ
() {

72 
cb
(
a0
, 
a1
, 
a2
);

75 
›î©‹
 
	gCÆlback
<()>() {

76 
	gCÆlback
<()> 
cb
(
this
, &
BoundCÆlback
::
ˇŒ
);

77  
	gcb
;

80 
	g¥iv©e
:

81 
A0
 
a0
;

82 
A1
 
	ga1
;

83 
A2
 
	ga2
;

85 
	gCÆlback
<
R
(
A0
, 
A1
, 
A2
)> 
	gcb
;

88 
	gãm∂©e
<
ty≥«me
 
	gR
,Åy≥«mê
	gA0
,Åy≥«mê
	gA1
,Åy≥«mê
	gA2
,Åy≥«mê
	gA3
>

89 
˛ass
 
	gBoundCÆlback
<
R
(
A0
, 
A1
, 
A2
, 
A3
)> {

90 
	gpublic
:

91 
BoundCÆlback
(
CÆlback
<
R
(
A0
, 
A1
, 
A2
, 
A3
)> 
cb
, A0 
a0
, A1 
a1
, A2 
a2
, A3 
a3
) :á0(a0),á1(a1),á2(a2),á3(a3), cb(cb) { }

93 
ˇŒ
() {

94 
cb
(
a0
, 
a1
, 
a2
, 
a3
);

97 
›î©‹
 
	gCÆlback
<()>() {

98 
	gCÆlback
<()> 
cb
(
this
, &
BoundCÆlback
::
ˇŒ
);

99  
	gcb
;

102 
	g¥iv©e
:

103 
A0
 
a0
;

104 
A1
 
	ga1
;

105 
A2
 
	ga2
;

106 
A3
 
	ga3
;

108 
	gCÆlback
<
R
(
A0
, 
A1
, 
A2
, 
A3
)> 
	gcb
;

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-event-loop/EventLoop.h

15 #i‚de‡
_JERRYSCRIPT_MBED_EVENT_LOOP_EVENT_LOOP_H


16 
	#_JERRYSCRIPT_MBED_EVENT_LOOP_EVENT_LOOP_H


	)

18 
	~<ve˘‹
>

20 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

22 
	~"CÆlback.h
"

23 
	~"mbed_as£π.h
"

25 
	~"evíts/EvítQueue.h
"

27 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

28 
	~"jîrys¸ùt-mbed-evít-lo›/BoundCÆlback.h
"

30 "C" 
exô
(
ªtu∫_code
);

32 
«me•a˚
 
	gmbed
 {

33 
«me•a˚
 
	gjs
 {

35 c⁄° 
uöt32_t
 
	gEVENT_INTERVAL_MS
 = 1;

37 ˛as†
	cEvítLo›
 {

38 
	g¥iv©e
:

39 
EvítLo›
 
ö°™˚
;

41 
	gpublic
:

42 
EvítLo›
& 
gëIn°™˚
() {

43  
ö°™˚
;

46 
go
() {

47 
	gåue
) {

48 
	gqueue
.
di•©ch
();

52 
	gCÆlback
<()> 
wøpFun˘i⁄
(
jîry_vÆue_t
 
f
) {

53 
MBED_ASSERT
(
jîry_vÆue_is_fun˘i⁄
(
f
));

56 
	gCÆlback
<(
	guöt32_t
)> 
cb_øw
(
this
, &
EvítLo›
::
ˇŒback
);

57 
	gBoundCÆlback
<(
	guöt32_t
)> *
	gcb
 = 
√w
 
BoundCÆlback
<(
uöt32_t
)>(
cb_øw
, 
	gf
);

59 
	gbound_ˇŒbacks
.
push_back
(
°d
::
make_∑ú
(
f
, 
cb
));

61  *
	gcb
;

64 
dr›CÆlback
(
jîry_vÆue_t
 
f
) {

65 
	g°d
::
ve˘‹
<
°d
::
∑ú
<
jîry_vÆue_t
, 
	gBoundCÆlback
<(
	guöt32_t
)>*> >::
ôî©‹
 
ô
 = 
bound_ˇŒbacks
.
begö
(); 
	gô
 !bound_ˇŒbacks.
íd
(); it++) {

66 
	g°d
::
∑ú
<
jîry_vÆue_t
, 
	gBoundCÆlback
<(
	guöt32_t
)>*> 
	gñemít
 = *
ô
;

68 i‡(
	gñemít
.
	gfú°
 =
f
) {

69 
dñëe
 
ñemít
.
£c⁄d
;

75 
ˇŒback
(
jîry_vÆue_t
 
f
) {

76 
	gqueue
.
ˇŒ
(
jîry_ˇŒ_fun˘i⁄
, 
f
, 
jîry_¸óã_nuŒ
(), (c⁄° 
jîry_vÆue_t
*)
NULL
, 0);

79 
«tiveCÆlback
(
CÆlback
<()> 
cb
) {

80 
	gqueue
.
ˇŒ
(
cb
);

83 
	gevíts
::
EvítQueue
& 
gëQueue
() {

84  
queue
;

87 
	g¥iv©e
:

88 
EvítLo›
() {}

90 
°d
::
ve˘‹
<°d::
∑ú
<
jîry_vÆue_t
, 
	gBoundCÆlback
<(
	guöt32_t
)>*> > 
	gbound_ˇŒbacks
;

91 
	gevíts
::
EvítQueue
 
queue
;

94 
evít_lo›
();

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-event-loop/source/EventLoop.cpp

15 
	~"jîrys¸ùt-mbed-evít-lo›/EvítLo›.h
"

17 
«me•a˚
 
	gmbed
 {

18 
«me•a˚
 
	gjs
 {

20 
EvítLo›
 
	gEvítLo›
::
ö°™˚
;

22 
evít_lo›
() {

23 
	gEvítLo›
::
gëIn°™˚
().
go
();

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/launcher.h

15 #i‚de‡
_JERRYSCRIPT_MBED_LAUNCHER_LAUNCHER_H


16 
	#_JERRYSCRIPT_MBED_LAUNCHER_LAUNCHER_H


	)

18 
jsmbed_js_œunch
();

19 
jsmbed_js_exô
();

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/setup.h

15 #i‚de‡
_JERRYSCRIPT_MBED_LAUNCHER_SETUP_H


16 
	#_JERRYSCRIPT_MBED_LAUNCHER_SETUP_H


	)

18 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

20 
jsmbed_js_lﬂd_magic_°rögs
();

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/source/launcher.cpp

15 
	~"mbed.h
"

16 
	~"πos.h
"

18 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

20 
	~"jîrys¸ùt-mbed-evít-lo›/EvítLo›.h
"

22 
	~"jîrys¸ùt-mbed-utû/js_sour˚.h
"

23 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/ªgi°ry.h
"

25 
	~"jîrys¸ùt-mbed-œunchî/œunchî.h
"

26 
	~"jîrys¸ùt-mbed-œunchî/£tup.h
"

28 
	~"jîry-èrgëjs.h
"

30 
	gDECLARE_JS_CODES
;

37 
	$lﬂd_javas¸ùt
() {

38 
§c
 = 0; 
js_codes
[§c].
sour˚
; src++) {

39 
	`LOG_PRINT
("ru¬ög j†fûê%s\r\n", 
js_codes
[
§c
].
«me
);

41 c⁄° 
jîry_ch¨_t
* 
code
 = 
ªöãΩªt_ˇ°
<c⁄° jîry_ch¨_t*>(
js_codes
[
§c
].
sour˚
);

42 c⁄° 
size_t
 
Àngth
 = 
js_codes
[
§c
].length;

44 
jîry_vÆue_t
 
∑r£d_code
 = 
	`jîry_∑r£
(
code
, 
Àngth
, 
Ál£
);

46 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
∑r£d_code
)) {

47 
	`LOG_PRINT_ALWAYS
("jîry_∑r£ faûed [%s]\r\n", 
js_codes
[
§c
].
«me
);

48 
	`jîry_ªÀa£_vÆue
(
∑r£d_code
);

49 
	`jsmbed_js_exô
();

53 
jîry_vÆue_t
 
ªtu∫ed_vÆue
 = 
	`jîry_run
(
∑r£d_code
);

54 
	`jîry_ªÀa£_vÆue
(
∑r£d_code
);

56 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªtu∫ed_vÆue
)) {

57 
	`LOG_PRINT_ALWAYS
("jîry_ru¿Áûed [%s]\r\n", 
js_codes
[
§c
].
«me
);

58 
	`jîry_ªÀa£_vÆue
(
ªtu∫ed_vÆue
);

59 
	`jsmbed_js_exô
();

63 
	`jîry_ªÀa£_vÆue
(
ªtu∫ed_vÆue
);

67 
	}
}

69 
	$jsmbed_js_öô
() {

70 
jîry_öô_Êag_t
 
Êags
 = 
JERRY_INIT_EMPTY
;

71 
	`jîry_öô
(
Êags
);

73 
	`jsmbed_js_lﬂd_magic_°rögs
();

74 
mbed
::
js
::
LibøryRegi°ry
::
	`gëIn°™˚
().
	`ªgi°î_Æl
();

77 
	}
}

79 
	$jsmbed_js_exô
() {

80 
	`jîry_˛ónup
();

81 
	}
}

83 
	$jsmbed_js_œunch
() {

84 
	`jsmbed_js_öô
();

86 
	`puts
(" JerryScript in mbed\r\n");

87 
	`puts
(" buûd d©e: " 
__DATE__
 " \r\n");

89 i‡(
	`lﬂd_javas¸ùt
() == 0) {

90 
mbed
::
js
::
	`evít_lo›
();

92 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/source/setup.cpp

15 
	~<°dlib.h
>

16 
	~<°dio.h
>

18 
	~"jîrys¸ùt-mbed-œunchî/£tup.h
"

19 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

21 
uöt32_t
 
jsmbed_js_magic_°rög_cou¡
;

22 
uöt32_t
 
jsmbed_js_magic_°rög_vÆues
[];

24 c⁄° 
jîry_ch¨_±r_t
 
jsmbed_js_magic_°rögs
[];

25 c⁄° 
jîry_Àngth_t
 
jsmbed_js_magic_°rög_Àngths
[];

27 
	$jsmbed_js_lﬂd_magic_°rögs
() {

28 i‡(
jsmbed_js_magic_°rög_cou¡
 == 0) {

32 
	`jîry_ªgi°î_magic_°rögs
(
jsmbed_js_magic_°rögs
,

33 
jsmbed_js_magic_°rög_cou¡
,

34 
jsmbed_js_magic_°rög_Àngths
);

36 
jîry_vÆue_t
 
globÆ
 = 
	`jîry_gë_globÆ_obje˘
();

38 
idx
 = 0; idx < 
jsmbed_js_magic_°rög_cou¡
; idx++) {

39 
jîry_vÆue_t
 
c⁄°™t_vÆue
 = 
	`jîry_¸óã_numbî
(
jsmbed_js_magic_°rög_vÆues
[
idx
]);

40 
jîry_vÆue_t
 
magic_°rög
 = 
	`jîry_¸óã_°rög
(
jsmbed_js_magic_°rögs
[
idx
]);

42 
	`jîry_£t_¥›îty
(
globÆ
, 
magic_°rög
, 
c⁄°™t_vÆue
);

44 
	`jîry_ªÀa£_vÆue
(
c⁄°™t_vÆue
);

45 
	`jîry_ªÀa£_vÆue
(
magic_°rög
);

48 
	`jîry_ªÀa£_vÆue
(
globÆ
);

49 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/registry.h

15 #i‚de‡
_JERRYSCRIPT_MBED_LIBRARY_REGISTRY_REGISTRY_H


16 
	#_JERRYSCRIPT_MBED_LIBRARY_REGISTRY_REGISTRY_H


	)

18 
	~<ve˘‹
>

19 
	~"°döt.h
"

21 
	#JERRY_USE_MBED_LIBRARY
(
NAME
) \

22 
mbed
::
js
::
LibøryRegi°ry
::
	`gëIn°™˚
().
	`add
(
jsmbed_wøp_ªgi°ry_íåy__
 ## 
NAME
)

	)

24 
«me•a˚
 
	gmbed
 {

25 
«me•a˚
 
	gjs
 {

27 (*
	glibøry_ªgi°øti⁄_fun˘i⁄_t
)();

29 ˛as†
	cLibøryRegi°ry
 {

30 
	g¥iv©e
:

31 
LibøryRegi°ry
 
ö°™˚
;

33 
	gpublic
:

34 
LibøryRegi°ry
& 
gëIn°™˚
() {

35  
ö°™˚
;

38 
add
(
libøry_ªgi°øti⁄_fun˘i⁄_t
 
lib_func
) {

39 
	gfuncs
.
push_back
(
lib_func
);

42 
ªgi°î_Æl
() {

43 
	g°d
::
size_t
 
i
 = 0; 
	gi
 < 
	gfuncs
.
size
(); i++) {

44 
	gfuncs
[
i
]();

48 
	g¥iv©e
:

49 
LibøryRegi°ry
() {}

51 
°d
::
ve˘‹
<
libøry_ªgi°øti⁄_fun˘i⁄_t
> 
funcs
;

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/source/registry.cpp

15 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/ªgi°ry.h
"

17 
	gmbed
::
js
::
LibøryRegi°ry
 
mbed
::js::LibøryRegi°ry::
ö°™˚
;

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/source/wrap_tools.cpp

15 
	~<°dlib.h
>

16 
	~<°dio.h
>

18 
	~"jîrys¸ùt-mbed-libøry-ªgi°ry/wøp_toﬁs.h
"

20 
boﬁ
 
	$jsmbed_wøp_ªgi°î_globÆ_fun˘i⁄
(c⁄° * 
«me
, 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
) {

21 
jîry_vÆue_t
 
globÆ_obje˘_vÆ
 = 
	`jîry_gë_globÆ_obje˘
();

22 
jîry_vÆue_t
 
ªg_fun˘i⁄
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
(
h™dÀr
);

24 
boﬁ
 
is_ok
 = 
åue
;

26 i‡(!(
	`jîry_vÆue_is_fun˘i⁄
(
ªg_fun˘i⁄
)

27 && 
	`jîry_vÆue_is_c⁄°ru˘‹
(
ªg_fun˘i⁄
))) {

28 
is_ok
 = 
Ál£
;

29 
	`LOG_PRINT_ALWAYS
("Error: jerry_create_external_function failed!\r\n");

30 
	`jîry_ªÀa£_vÆue
(
globÆ_obje˘_vÆ
);

31 
	`jîry_ªÀa£_vÆue
(
ªg_fun˘i⁄
);

32  
is_ok
;

35 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªg_fun˘i⁄
)) {

36 
is_ok
 = 
Ál£
;

37 
	`LOG_PRINT_ALWAYS
("Error: jerry_create_external_function hasÉrror flag! \r\n");

38 
	`jîry_ªÀa£_vÆue
(
globÆ_obje˘_vÆ
);

39 
	`jîry_ªÀa£_vÆue
(
ªg_fun˘i⁄
);

40  
is_ok
;

43 
jîry_vÆue_t
 
jîry_«me
 = 
	`jîry_¸óã_°rög
((
jîry_ch¨_t
 *Ë
«me
);

45 
jîry_vÆue_t
 
£t_ªsu…
 = 
	`jîry_£t_¥›îty
(
globÆ_obje˘_vÆ
, 
jîry_«me
, 
ªg_fun˘i⁄
);

48 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
£t_ªsu…
)) {

49 
is_ok
 = 
Ál£
;

50 
	`LOG_PRINT_ALWAYS
("Eº‹: jîry_¸óã_exã∫Æ_fun˘i⁄ faûed: [%s]\r\n", 
«me
);

53 
	`jîry_ªÀa£_vÆue
(
jîry_«me
);

54 
	`jîry_ªÀa£_vÆue
(
globÆ_obje˘_vÆ
);

55 
	`jîry_ªÀa£_vÆue
(
ªg_fun˘i⁄
);

56 
	`jîry_ªÀa£_vÆue
(
£t_ªsu…
);

58  
is_ok
;

59 
	}
}

61 
boﬁ
 
	$jsmbed_wøp_ªgi°î_˛ass_c⁄°ru˘‹
(c⁄° * 
«me
, 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
) {

63  
	`jsmbed_wøp_ªgi°î_globÆ_fun˘i⁄
(
«me
, 
h™dÀr
);

64 
	}
}

66 
boﬁ
 
	$jsmbed_wøp_ªgi°î_˛ass_fun˘i⁄
(
jîry_vÆue_t
 
this_obj
, c⁄° * 
«me
, 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
) {

67 
jîry_vÆue_t
 
¥›îty_«me
 = 
	`jîry_¸óã_°rög
(
ªöãΩªt_ˇ°
<c⁄° 
jîry_ch¨_t
 *>(
«me
));

68 
jîry_vÆue_t
 
h™dÀr_obj
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
(
h™dÀr
);

70 
	`jîry_£t_¥›îty
(
this_obj
, 
¥›îty_«me
, 
h™dÀr_obj
);

72 
	`jîry_ªÀa£_vÆue
(
h™dÀr_obj
);

73 
	`jîry_ªÀa£_vÆue
(
¥›îty_«me
);

76  
åue
;

77 
	}
}

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/wrap_tools.h

15 #i‚de‡
_JERRYSCRIPT_MBED_LIBRARY_REGISTRY_WRAP_TOOLS_H


16 
	#_JERRYSCRIPT_MBED_LIBRARY_REGISTRY_WRAP_TOOLS_H


	)

18 
	~<°dlib.h
>

20 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt.h
"

22 
	~"jîrys¸ùt-mbed-utû/loggög.h
"

23 
	~"jîrys¸ùt-mbed-utû/wøµîs.h
"

30 
boﬁ


31 
jsmbed_wøp_ªgi°î_globÆ_fun˘i⁄
 (c⁄° * 
«me
,

32 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
);

34 
boﬁ


35 
jsmbed_wøp_ªgi°î_˛ass_c⁄°ru˘‹
 (c⁄° * 
«me
,

36 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
);

38 
boﬁ


39 
jsmbed_wøp_ªgi°î_˛ass_fun˘i⁄
 (
jîry_vÆue_t
 
this_obj_p
,

40 c⁄° * 
«me
,

41 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr
);

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-util/js_source.h

15 #i‚de‡
_JERRYSCRIPT_MBED_UTIL_JS_SOURCE_H


16 
	#_JERRYSCRIPT_MBED_UTIL_JS_SOURCE_H


	)

18 
	sjsmbed_js_sour˚_t
 {

19 c⁄° * 
	m«me
;

20 c⁄° * 
	msour˚
;

21 c⁄° 
	mÀngth
;

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-util/logging.h

15 #i‚de‡
_JERRYSCRIPT_MBED_UTIL_LOGGING_H


16 
	#_JERRYSCRIPT_MBED_UTIL_LOGGING_H


	)

18 
	~"mbed.h
"

20 #ifde‡
DEBUG_WRAPPER


21 
	#LOG_PRINT
(...Ë
	`¥ötf
(
__VA_ARGS__
)

	)

23 
	#LOG_PRINT
(...Ë0Ë{ }

	)

26 
	#LOG_PRINT_ALWAYS
(...Ë
	`¥ötf
(
__VA_ARGS__
)

	)

	@deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-util/wrappers.h

15 #i‚de‡
_JERRYSCRIPT_MBED_UTIL_WRAPPERS_H


16 
	#_JERRYSCRIPT_MBED_UTIL_WRAPPERS_H


	)

22 
	#DECLARE_JS_WRAPPER_REGISTRATION
(
NAME
) \

23 
jsmbed_wøp_ªgi°ry_íåy__
 ## 
	`NAME
 ()

	)

30 
	#DECLARE_GLOBAL_FUNCTION
(
NAME
) \

31 
jîry_vÆue_t
 \

32 
	`NAME_FOR_GLOBAL_FUNCTION
(
NAME
Ë(c⁄° 
jîry_vÆue_t
 
fun˘i⁄_obj_p
, \

33 c⁄° 
jîry_vÆue_t
 
this_obj
, \

34 c⁄° 
jîry_vÆue_t
 
¨gs
[], \

35 c⁄° 
jîry_Àngth_t
 
¨gs_cou¡
)

	)

37 
	#REGISTER_GLOBAL_FUNCTION
(
NAME
) \

38 
	`jsmbed_wøp_ªgi°î_globÆ_fun˘i⁄
 ( #NAME, 
	`NAME_FOR_GLOBAL_FUNCTION
(
NAME
Ë)

	)

40 
	#REGISTER_GLOBAL_FUNCTION_WITH_HANDLER
(
NAME
, 
HANDLER
) \

41 
	`jsmbed_wøp_ªgi°î_globÆ_fun˘i⁄
 ( #NAME, 
HANDLER
 )

	)

44 
	#DECLARE_CLASS_CONSTRUCTOR
(
CLASS
) \

45 
jîry_vÆue_t
 \

46 
	`NAME_FOR_CLASS_CONSTRUCTOR
(
CLASS
Ë(c⁄° 
jîry_vÆue_t
 
fun˘i⁄_obj
, \

47 c⁄° 
jîry_vÆue_t
 
this_obj
, \

48 c⁄° 
jîry_vÆue_t
 
¨gs
[], \

49 c⁄° 
jîry_Àngth_t
 
¨gs_cou¡
)

	)

51 
	#REGISTER_CLASS_CONSTRUCTOR
(
CLASS
) \

52 
	`jsmbed_wøp_ªgi°î_˛ass_c⁄°ru˘‹
 ( #CLASS, 
	`NAME_FOR_CLASS_CONSTRUCTOR
(
CLASS
Ë)

	)

55 
	#DECLARE_CLASS_FUNCTION
(
CLASS
, 
NAME
) \

56 
jîry_vÆue_t
 \

57 
	`NAME_FOR_CLASS_FUNCTION
(
CLASS
, 
NAME
Ë(c⁄° 
jîry_vÆue_t
 
fun˘i⁄_obj
, \

58 c⁄° 
jîry_vÆue_t
 
this_obj
, \

59 c⁄° 
jîry_vÆue_t
 
¨gs
[], \

60 c⁄° 
jîry_Àngth_t
 
¨gs_cou¡
)

	)

62 
	#ATTACH_CLASS_FUNCTION
(
OBJECT
, 
CLASS
, 
NAME
) \

63 
	`jsmbed_wøp_ªgi°î_˛ass_fun˘i⁄
 (
OBJECT
, #NAME, 
	`NAME_FOR_CLASS_FUNCTION
(
CLASS
, 
NAME
Ë)

	)

68 
	#CHECK_ARGUMENT_COUNT
(
CLASS
, 
NAME
, 
EXPR
) \

69 i‡(!(
EXPR
)) { \

70 c⁄° * 
îr‹_msg
 = "ERROR: wrongárgument count for " #CLASS "." #NAME ",Éxpected " #EXPR "."; \

71  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
, 
ªöãΩªt_ˇ°
<c⁄° 
jîry_ch¨_t
*>(
îr‹_msg
)); \

72 }

	)

74 
	#CHECK_ARGUMENT_TYPE_ALWAYS
(
CLASS
, 
NAME
, 
INDEX
, 
TYPE
) \

75 i‡(!
jîry_vÆue_is_
 ## 
	`TYPE
 (
¨gs
[
INDEX
])) { \

76 c⁄° * 
îr‹_msg
 = "ERROR: wrongárgumentÅype for " #CLASS "." #NAME ",Éxpectedárgument " #INDEX "Åo beá " #TYPE ".\n"; \

77  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
, 
ªöãΩªt_ˇ°
<c⁄° 
jîry_ch¨_t
*>(
îr‹_msg
)); \

78 }

	)

80 
	#CHECK_ARGUMENT_TYPE_ON_CONDITION
(
CLASS
, 
NAME
, 
INDEX
, 
TYPE
, 
EXPR
) \

81 i‡((
EXPR
)) { \

82 i‡(!
jîry_vÆue_is_
 ## 
	`TYPE
 (
¨gs
[
INDEX
])) { \

83 c⁄° * 
îr‹_msg
 = "ERROR: wrongárgumentÅype for " #CLASS "." #NAME ",Éxpectedárgument " #INDEX "Åo beá " #TYPE ".\n"; \

84  
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
, 
ªöãΩªt_ˇ°
<c⁄° 
jîry_ch¨_t
*>(
îr‹_msg
)); \

86 }

	)

88 
	#NAME_FOR_GLOBAL_FUNCTION
(
NAME
Ë
__gí_jsmbed_globÆ_func_
 ## 
	)
NAME

89 
	#NAME_FOR_CLASS_CONSTRUCTOR
(
CLASS
Ë
__gí_jsmbed_˛ass_c⁄°ru˘‹_
 ## 
	)
CLASS

90 
	#NAME_FOR_CLASS_FUNCTION
(
CLASS
, 
NAME
Ë
__gí_jsmbed_func_c_
 ## CLASS ## 
_f_
 ## 
	)
NAME

92 
	#NAME_FOR_CLASS_NATIVE_CONSTRUCTOR
(
CLASS
, 
TYPELIST
Ë
__gí_«tive_jsmbed_
 ## CLASS ## 
__S≥cül_¸óã_
 ## 
	)
TYPELIST

93 
	#NAME_FOR_CLASS_NATIVE_DESTRUCTOR
(
CLASS
Ë
__gí_«tive_jsmbed_
 ## CLASS ## 
__S≥cül_de°roy


	)

94 
	#NAME_FOR_CLASS_NATIVE_FUNCTION
(
CLASS
, 
NAME
Ë
__gí_«tive_jsmbed_
 ## CLASS ## 
_
 ## 
	)
NAME

	@deps/jerry/targets/mbedos5/source/jerry_port_mbed.c

16 
	#_BSD_SOURCE


	)

17 
	~<°d¨g.h
>

18 
	~<°dlib.h
>

19 
	~<sys/time.h
>

21 
	~"jîry-c‹e/ö˛ude/jîrys¸ùt-p‹t.h
"

23 
	~"us_tickî_≠i.h
"

25 #i‚de‡
JSMBED_OVERRIDE_JERRY_PORT_LOG


30 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

31 c⁄° *
f‹m©
,

34 (Ë
Àvñ
;

36 
va_li°
 
¨gs
;

37 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

38 
	`vÂrötf
 (
°dîr
, 
f‹m©
, 
¨gs
);

39 
	`va_íd
 (
¨gs
);

41 i‡(
	`°æí
 (
f‹m©
) == 1 && format[0] == 0x0a)

43 
	`¥ötf
 ("\r");

45 
	}
}

53 
boﬁ


54 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

56 
tz_p
->
off£t
 = 0;

57 
tz_p
->
daylight_ßvög_time
 = 0;

58  
åue
;

59 
	}
}

67 
	$jîry_p‹t_gë_cuºít_time
 ()

69 
uöt64_t
 
œ°_tick
 = 0;

70 
time_t
 
œ°_time
 = 0;

71 
uöt32_t
 
skew
 = 0;

73 
uöt64_t
 
cuº_tick
 = 
	`us_tickî_ªad
 ();

74 
time_t
 
cuº_time
 = 
	`time
(
NULL
);

75 
ªsu…
 = 
cuº_time
 * 1000;

84 i‡(
cuº_time
 - 
œ°_time
 > (
time_t
)(((
uöt32_t
)-1) / 1000000)) {

85 
skew
 = 0;

86 } i‡(
œ°_tick
 > 
cuº_tick
) {

87 
skew
 = (skew + 33) % 1000;

89 
ªsu…
 +(
cuº_tick
 / 1000 - 
skew
) % 1000;

91 
œ°_tick
 = 
cuº_tick
;

92 
œ°_time
 = 
cuº_time
;

93  
ªsu…
;

94 
	}
}

	@deps/jerry/targets/mbedos5/tools/cmsis.h

	@deps/jerry/targets/nuttx-stm32f4/jerry_main.c

16 
	~<°dio.h
>

17 
	~<°rög.h
>

18 
	~<°dlib.h
>

20 
	~"jîrys¸ùt.h
"

21 
	~"jîrys¸ùt-ext/h™dÀr.h
"

22 
	~"jîrys¸ùt-p‹t.h
"

23 
	~"jmem.h
"

24 
	~"£tjmp.h
"

29 
	#JERRY_MAX_COMMAND_LINE_ARGS
 (16)

	)

34 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

35 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

40 
	#SYNTAX_ERROR_CONTEXT_SIZE
 2

	)

46 
	$¥öt_hñp
 (*
«me
)

48 
	`¥ötf
 ("Usage: %s [OPTION]... [FILE]...\n"

58 
«me
);

59 
	}
}

68 c⁄° 
uöt8_t
 *

69 
	$ªad_fûe
 (c⁄° *
fûe_«me
,

70 
size_t
 *
out_size_p
)

72 
FILE
 *
fûe
 = 
	`f›í
 (
fûe_«me
, "r");

73 i‡(
fûe
 =
NULL
)

75 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: c™nŸ o≥¿fûe: %s\n", 
fûe_«me
);

76  
NULL
;

79 
f£ek_°©us
 = 
	`f£ek
 (
fûe
, 0, 
SEEK_END
);

80 i‡(
f£ek_°©us
 != 0)

82 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "FaûedÅÿ£ek (îr‹: %d)\n", 
f£ek_°©us
);

83 
	`f˛o£
 (
fûe
);

84  
NULL
;

87 
s¸ùt_Àn
 = 
	`·ñl
 (
fûe
);

88 i‡(
s¸ùt_Àn
 < 0)

90 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "FaûedÅÿgëÅhêfûêsize”º‹ %ld)\n", 
s¸ùt_Àn
);

91 
	`f˛o£
 (
fûe
);

92  
NULL
;

95 
	`ªwöd
 (
fûe
);

97 
uöt8_t
 *
buf„r
 = 
	`jmem_hóp_Æloc_block_nuŒ_⁄_îr‹
 (
s¸ùt_Àn
);

99 i‡(
buf„r
 =
NULL
)

101 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Out of memoryÉrror\n");

102 
	`f˛o£
 (
fûe
);

103  
NULL
;

106 
size_t
 
byãs_ªad
 = 
	`‰ód
 (
buf„r
, 1u, 
s¸ùt_Àn
, 
fûe
);

108 i‡(!
byãs_ªad
 || byãs_ªad !
s¸ùt_Àn
)

110 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: faûedÅÿªad fûe: %s\n", 
fûe_«me
);

111 
	`jmem_hóp_‰ì_block
 ((*Ë
buf„r
, 
s¸ùt_Àn
);

113 
	`f˛o£
 (
fûe
);

114  
NULL
;

117 
	`f˛o£
 (
fûe
);

119 *
out_size_p
 = 
byãs_ªad
;

120  (c⁄° 
uöt8_t
 *Ë
buf„r
;

121 
	}
}

129 
boﬁ


130 
	$jîry_vÆue_is_sy¡ax_îr‹
 (
jîry_vÆue_t
 
îr‹_vÆue
)

132 
	`as£π
 (
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
));

134 i‡(!
	`jîry_vÆue_is_obje˘
 (
îr‹_vÆue
))

136  
Ál£
;

139 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *)"name");

140 
jîry_vÆue_t
 
îr‹_«me
 = 
	`jîry_gë_¥›îty
 (
îr‹_vÆue
, 
¥›_«me
);

141 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

143 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
îr‹_«me
)

144 || !
	`jîry_vÆue_is_°rög
 (
îr‹_«me
))

146  
Ál£
;

149 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr‹_«me
);

150 
jîry_ch¨_t
 
îr_°r_buf
[
îr_°r_size
];

152 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr‹_«me
, 
îr_°r_buf
, 
îr_°r_size
);

153 
	`jîry_ªÀa£_vÆue
 (
îr‹_«me
);

155 i‡(
sz
 == 0)

157  
Ál£
;

160 i‡(!
	`°rcmp
 ((*Ë
îr_°r_buf
, "SyntaxError"))

162  
åue
;

165  
Ál£
;

166 
	}
}

173 
uöt32_t


174 
	$°r_to_uöt
 (c⁄° *
num_°r_p
)

176 
	`as£π
 (
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
));

178 
uöt32_t
 
ªsu…
 = 0;

180 *
num_°r_p
 != '\0')

182 
	`as£π
 (*
num_°r_p
 >= '0' && *num_str_p <= '9');

184 
ªsu…
 *= 10;

185 
ªsu…
 +(
uöt32_t
Ë(*
num_°r_p
 - '0');

186 
num_°r_p
++;

189  
ªsu…
;

190 
	}
}

196 
	$¥öt_unh™dÀd_ex˚±i⁄
 (
jîry_vÆue_t
 
îr‹_vÆue
,

197 c⁄° 
jîry_ch¨_t
 *
sour˚_p
)

199 
	`as£π
 (
	`jîry_vÆue_has_îr‹_Êag
 (
îr‹_vÆue
));

201 
	`jîry_vÆue_˛ór_îr‹_Êag
 (&
îr‹_vÆue
);

202 
jîry_vÆue_t
 
îr_°r_vÆ
 = 
	`jîry_vÆue_to_°rög
 (
îr‹_vÆue
);

203 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr_°r_vÆ
);

204 
jîry_ch¨_t
 
îr_°r_buf
[256];

206 i‡(
îr_°r_size
 >= 256)

208 c⁄° 
msg
[] = "[Error messageÅooÜong]";

209 
îr_°r_size
 =  (
msg
) /  () - 1;

210 
	`mem˝y
 (
îr_°r_buf
, 
msg
, 
îr_°r_size
);

214 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr_°r_vÆ
, 
îr_°r_buf
, 
îr_°r_size
);

215 
	`as£π
 (
sz
 =
îr_°r_size
);

216 
îr_°r_buf
[
îr_°r_size
] = 0;

218 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
Ë&& 
	`jîry_vÆue_is_sy¡ax_îr‹
 (
îr‹_vÆue
))

220 
uöt32_t
 
îr_löe
 = 0;

221 
uöt32_t
 
îr_cﬁ
 = 0;

224 
uöt32_t
 
i
 = 0; i < 
sz
; i++)

226 i‡(!
	`°∫cmp
 ((*Ë(
îr_°r_buf
 + 
i
), "[line: ", 7))

228 
i
 += 7;

230 
num_°r
[8];

231 
uöt32_t
 
j
 = 0;

233 
i
 < 
sz
 && 
îr_°r_buf
[i] != ',')

235 
num_°r
[
j
] = (Ë
îr_°r_buf
[
i
];

236 
j
++;

237 
i
++;

239 
num_°r
[
j
] = '\0';

241 
îr_löe
 = 
	`°r_to_uöt
 (
num_°r
);

243 i‡(
	`°∫cmp
 ((*Ë(
îr_°r_buf
 + 
i
), ", column: ", 10))

248 
i
 += 10;

249 
j
 = 0;

251 
i
 < 
sz
 && 
îr_°r_buf
[i] != ']')

253 
num_°r
[
j
] = (Ë
îr_°r_buf
[
i
];

254 
j
++;

255 
i
++;

257 
num_°r
[
j
] = '\0';

259 
îr_cﬁ
 = 
	`°r_to_uöt
 (
num_°r
);

264 i‡(
îr_löe
 !0 && 
îr_cﬁ
 != 0)

266 
uöt32_t
 
cuº_löe
 = 1;

268 
boﬁ
 
is_¥ötög_c⁄ãxt
 = 
Ál£
;

269 
uöt32_t
 
pos
 = 0;

272 
sour˚_p
[
pos
] != '\0')

274 i‡(
sour˚_p
[
pos
] == '\n')

276 
cuº_löe
++;

279 i‡(
îr_löe
 < 
SYNTAX_ERROR_CONTEXT_SIZE


280 || (
îr_löe
 >
cuº_löe


281 && (
îr_löe
 - 
cuº_löe
Ë<
SYNTAX_ERROR_CONTEXT_SIZE
))

284 
is_¥ötög_c⁄ãxt
 = 
åue
;

287 i‡(
cuº_löe
 > 
îr_löe
)

292 i‡(
is_¥ötög_c⁄ãxt
)

294 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "%c", 
sour˚_p
[
pos
]);

297 
pos
++;

300 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "\n");

302 --
îr_cﬁ
)

304 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "~");

307 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "^\n");

312 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "S¸ùàEº‹: %s\n", 
îr_°r_buf
);

313 
	`jîry_ªÀa£_vÆue
 (
îr_°r_vÆ
);

314 
	}
}

320 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

321 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

323 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîryx_h™dÀr_ªgi°î_globÆ
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
, 
h™dÀr_p
);

325 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªsu…_vÆ
))

327 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_WARNING
, "W¨nög: faûedÅÿªgi°î '%s' mëhod.", 
«me_p
);

330 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

331 
	}
}

336 
jîry_log_Àvñ_t
 
	gjîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_ERROR
;

343 #ifde‡
CONFIG_BUILD_KERNEL


344 
	$maö
 (
¨gc
, 
FAR
 *
¨gv
[])

346 
	$jîry_maö
 (
¨gc
, *
¨gv
[])

349 i‡(
¨gc
 > 
JERRY_MAX_COMMAND_LINE_ARGS
)

351 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
,

353 
JERRY_MAX_COMMAND_LINE_ARGS
);

355  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

358 c⁄° *
fûe_«mes
[
JERRY_MAX_COMMAND_LINE_ARGS
];

359 
i
;

360 
fûes_cou¡î
 = 0;

361 
boﬁ
 
°¨t_debug_£rvî
 = 
Ál£
;

362 
uöt16_t
 
debug_p‹t
 = 5001;

364 
jîry_öô_Êag_t
 
Êags
 = 
JERRY_INIT_EMPTY
;

366 
i
 = 1; i < 
¨gc
; i++)

368 i‡(!
	`°rcmp
 ("-h", 
¨gv
[
i
]) || !strcmp ("--help",árgv[i]))

370 
	`¥öt_hñp
 (
¨gv
[0]);

371  
JERRY_STANDALONE_EXIT_CODE_OK
;

373 i‡(!
	`°rcmp
 ("--mem-°©s", 
¨gv
[
i
]))

375 
Êags
 |
JERRY_INIT_MEM_STATS
;

376 
jîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_DEBUG
;

378 i‡(!
	`°rcmp
 ("--mem-°©s-£∑øã", 
¨gv
[
i
]))

380 
Êags
 |
JERRY_INIT_MEM_STATS_SEPARATE
;

381 
jîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_DEBUG
;

383 i‡(!
	`°rcmp
 ("--show-›codes", 
¨gv
[
i
]))

385 
Êags
 |
JERRY_INIT_SHOW_OPCODES
 | 
JERRY_INIT_SHOW_REGEXP_OPCODES
;

386 
jîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_DEBUG
;

388 i‡(!
	`°rcmp
 ("--log-Àvñ", 
¨gv
[
i
]))

390 i‡(++
i
 < 
¨gc
 && 
	`°æí
 (
¨gv
[i]) == 1 &&árgv[i][0] >='0' &&árgv[i][0] <= '3')

392 
jîry_log_Àvñ
 = 
¨gv
[
i
][0] - '0';

396 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Error: wrong format or invalidárgument\n");

397  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

400 i‡(!
	`°rcmp
 ("--°¨t-debug-£rvî", 
¨gv
[
i
]))

402 
°¨t_debug_£rvî
 = 
åue
;

404 i‡(!
	`°rcmp
 ("--debug-£rvî-p‹t", 
¨gv
[
i
]))

406 i‡(++
i
 < 
¨gc
)

408 
debug_p‹t
 = 
	`°r_to_uöt
 (
¨gv
[
i
]);

412 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Error: wrong format or invalidárgument\n");

413  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

418 
fûe_«mes
[
fûes_cou¡î
++] = 
¨gv
[
i
];

422 
	`jîry_öô
 (
Êags
);

424 i‡(
°¨t_debug_£rvî
)

426 
	`jîry_debuggî_öô
 (
debug_p‹t
);

429 
	`ªgi°î_js_fun˘i⁄
 ("as£π", 
jîryx_h™dÀr_as£π
);

430 
	`ªgi°î_js_fun˘i⁄
 ("gc", 
jîryx_h™dÀr_gc
);

431 
	`ªgi°î_js_fun˘i⁄
 ("¥öt", 
jîryx_h™dÀr_¥öt
);

433 
jîry_vÆue_t
 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

435 i‡(
fûes_cou¡î
 == 0)

437 
	`¥ötf
 ("No input files,Ñunningá hello world demo:\n");

438 c⁄° 
jîry_ch¨_t
 
s¸ùt
[] = "var str = 'Hello World';Örint(str + ' from JerryScript')";

439 
size_t
 
s¸ùt_size
 = 
	`°æí
 ((c⁄° *Ë
s¸ùt
);

441 
ªt_vÆue
 = 
	`jîry_∑r£
 (
s¸ùt
, 
s¸ùt_size
, 
Ál£
);

443 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

445 
ªt_vÆue
 = 
	`jîry_run
 (ret_value);

450 
i
 = 0; i < 
fûes_cou¡î
; i++)

452 
size_t
 
sour˚_size
;

453 c⁄° 
jîry_ch¨_t
 *
sour˚_p
 = 
	`ªad_fûe
 (
fûe_«mes
[
i
], &
sour˚_size
);

455 i‡(
sour˚_p
 =
NULL
)

457 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Source fileÜoadÉrror\n");

458  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

461 
ªt_vÆue
 = 
	`jîry_∑r£_«med_ªsour˚
 ((
jîry_ch¨_t
 *Ë
fûe_«mes
[
i
],

462 
	`°æí
 (
fûe_«mes
[
i
]),

463 
sour˚_p
,

464 
sour˚_size
,

465 
Ál£
);

467 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

469 
jîry_vÆue_t
 
func_vÆ
 = 
ªt_vÆue
;

470 
ªt_vÆue
 = 
	`jîry_run
 (
func_vÆ
);

471 
	`jîry_ªÀa£_vÆue
 (
func_vÆ
);

474 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

476 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªt_vÆue
, 
sour˚_p
);

477 
	`jmem_hóp_‰ì_block
 ((*Ë
sour˚_p
, 
sour˚_size
);

482 
	`jmem_hóp_‰ì_block
 ((*Ë
sour˚_p
, 
sour˚_size
);

484 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

485 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

489 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_OK
;

491 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

493 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_FAIL
;

496 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

497 
	`jîry_˛ónup
 ();

499  
ªt_code
;

500 
	}
}

505 
	$jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
)

507 
	`exô
 (1);

508 
	}
}

514 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

515 c⁄° *
f‹m©
,

518 i‡(
Àvñ
 <
jîry_log_Àvñ
)

520 
va_li°
 
¨gs
;

521 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

522 
	`vÂrötf
 (
°dîr
, 
f‹m©
, 
¨gs
);

523 
	`va_íd
 (
¨gs
);

525 
	}
}

532 
boﬁ


533 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

536 
tz_p
->
off£t
 = 0;

537 
tz_p
->
daylight_ßvög_time
 = 0;

539  
åue
;

540 
	}
}

548 
	$jîry_p‹t_gë_cuºít_time
 ()

551 
	}
}

558 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
c
)

560 
	`¥ötf
 ("%c", 
c
);

561 
	}
}

	@deps/jerry/targets/nuttx-stm32f4/setjmp.h

15 #i‚de‡
SETJMP_H


16 
	#SETJMP_H


	)

18 
	~<°döt.h
>

20 
uöt64_t
 
	tjmp_buf
[14];

22 
£tjmp
 (
jmp_buf
 
ív
);

23 
l⁄gjmp
 (
jmp_buf
 
ív
, 
vÆ
);

	@deps/jerry/targets/particle/source/main.cpp

16 
	~"≠∂iˇti⁄.h
"

17 
	~"jîrys¸ùt.h
"

19 
SYSTEM_MODE
 (
MANUAL
);

24 
jîry_vÆue_t


25 
	$£t_Àd
 (c⁄° 
jîry_vÆue_t
 
func_vÆue
,

26 c⁄° 
jîry_vÆue_t
 
this_vÆue
,

27 c⁄° 
jîry_vÆue_t
 *
¨gs_p
,

28 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

30 i‡(
¨gs_˙t
 != 2)

32 
Sîül
.
	`¥öén
 ("Wrongárguments count in 'test.setLed' function.");

33  
	`jîry_¸óã_boﬁón
 (
Ál£
);

36 
ÀdPö
 = 
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[0]);

37 
boﬁ
 
vÆue
 = 
	`jîry_gë_boﬁón_vÆue
 (
¨gs_p
[1]);

39 
	`pöMode
 (
ÀdPö
, 
OUTPUT
);

40 
	`digôÆWrôe
 (
ÀdPö
, 
vÆue
);

42  
	`jîry_¸óã_boﬁón
 (
åue
);

43 
	}
}

48 
jîry_vÆue_t


49 
	$js_dñay
 (c⁄° 
jîry_vÆue_t
 
func_vÆue
,

50 c⁄° 
jîry_vÆue_t
 
this_vÆue
,

51 c⁄° 
jîry_vÆue_t
 *
¨gs_p
,

52 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

54 i‡(
¨gs_˙t
 != 1)

56 
Sîül
.
	`¥öén
 ("Wrongárguments count in 'test.delay' function.");

57  
	`jîry_¸óã_boﬁón
 (
Ál£
);

60 
mûli£c
 = 
	`jîry_gë_numbî_vÆue
 (
¨gs_p
[0]);

62 
	`dñay
 (
mûli£c
);

64  
	`jîry_¸óã_boﬁón
 (
åue
);

65 
	}
}

71 
	$öô_jîry
 ()

73 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

76 
jîry_vÆue_t
 
obje˘
 = 
	`jîry_¸óã_obje˘
 ();

78 
jîry_vÆue_t
 
func_obj
;

79 
jîry_vÆue_t
 
¥›_«me
;

81 
func_obj
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
£t_Àd
);

82 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "setLed");

83 
	`jîry_£t_¥›îty
 (
obje˘
, 
¥›_«me
, 
func_obj
);

84 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

85 
	`jîry_ªÀa£_vÆue
 (
func_obj
);

87 
func_obj
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
js_dñay
);

88 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "delay");

89 
	`jîry_£t_¥›îty
 (
obje˘
, 
¥›_«me
, 
func_obj
);

90 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

91 
	`jîry_ªÀa£_vÆue
 (
func_obj
);

94 
jîry_vÆue_t
 
globÆ_obje˘
 = 
	`jîry_gë_globÆ_obje˘
 ();

97 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "test");

98 
	`jîry_£t_¥›îty
 (
globÆ_obje˘
, 
¥›_«me
, 
obje˘
);

99 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

100 
	`jîry_ªÀa£_vÆue
 (
obje˘
);

101 
	`jîry_ªÀa£_vÆue
 (
globÆ_obje˘
);

102 
	}
}

108 
	$ã°_jîry
 ()

110 c⁄° 
jîry_ch¨_t
 
s¸ùt
[] = " \
.setLed(7,Årue); \
.delay(250); \
.setLed(7, false); \
.delay(250); \
";

117 
size_t
 
s¸ùt_size
 = 
	`°æí
 ((c⁄° *Ë
s¸ùt
);

119 
jîry_vÆue_t
 
evÆ_ªt
 = 
	`jîry_evÆ
 (
s¸ùt
, 
s¸ùt_size
, 
Ál£
);

122 
	`jîry_ªÀa£_vÆue
 (
evÆ_ªt
);

123 
	}
}

129 
	$£tup
 ()

131 
Sîül
.
	`begö
 (9600);

132 
	`dñay
 (2000);

133 
Sîül
.
	`¥öén
 ("Beginning Listening modeÅest!");

134 
	}
}

140 
	$lo›
 ()

142 
	`öô_jîry
 ();

145 
	`ã°_jîry
 ();

147 
	`jîry_˛ónup
 ();

148 
	}
}

	@deps/jerry/targets/riot-stm32f4/source/main-riotos.c

16 
	~<°dio.h
>

17 
	~<°rög.h
>

18 
	~"shñl.h
"

19 
	~"jîrys¸ùt.h
"

20 
	~"jîrys¸ùt-ext/h™dÀr.h
"

25 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

26 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

32 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

33 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

35 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîryx_h™dÀr_ªgi°î_globÆ
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
, 
h™dÀr_p
);

37 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªsu…_vÆ
))

39 
	`¥ötf
 ("W¨nög: faûedÅÿªgi°î '%s' mëhod.", 
«me_p
);

42 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

43 
	}
}

48 
	$ã°_jîry
 (
¨gc
, **
¨gv
)

51 (Ë
¨gc
;

52 (Ë
¨gv
;

54 
jîry_vÆue_t
 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

56 c⁄° 
jîry_ch¨_t
 
s¸ùt
[] = "print ('Hello, World!');";

57 
size_t
 
s¸ùt_size
 = 
	`°æí
 ((c⁄° *Ë
s¸ùt
);

58 
	`¥ötf
 ("Thi†ã°Ñu¿thêfﬁlowög s¸ùàcode: [%s]\n\n", 
s¸ùt
);

61 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

64 
	`ªgi°î_js_fun˘i⁄
 ("¥öt", 
jîryx_h™dÀr_¥öt
);

67 
ªt_vÆue
 = 
	`jîry_∑r£
 (
s¸ùt
, 
s¸ùt_size
, 
Ál£
);

69 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

72 
ªt_vÆue
 = 
	`jîry_run
 (ret_value);

75 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_OK
;

77 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

79 
	`¥ötf
 ("Script Error!");

81 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_FAIL
;

84 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

87 
	`jîry_˛ónup
 ();

89  
ªt_code
;

91 
	}
}

93 c⁄° 
shñl_comm™d_t
 
	gshñl_comm™ds
[] = {

94 { "ã°", "Jîrys¸ùàHñlÿW‹ldÅe°", 
ã°_jîry
 },

95 { 
NULL
, NULL, NULL }

98 
	$maö
 ()

100 
	`¥ötf
 ("YouáªÑu¬ög RIOT o¿a“Ë%†bﬂrd.\n", 
RIOT_BOARD
);

101 
	`¥ötf
 ("Thi†bﬂrd fótuª†a“Ë%†MCU.\n", 
RIOT_MCU
);

104 
löe_buf
[
SHELL_DEFAULT_BUFSIZE
];

105 
	`shñl_run
 (
shñl_comm™ds
, 
löe_buf
, 
SHELL_DEFAULT_BUFSIZE
);

108 
	}
}

	@deps/jerry/targets/tizenrt-artik053/apps/jerryscript/jerry_main.c

16 
	~<°dio.h
>

17 
	~<°rög.h
>

18 
	~<°dlib.h
>

19 
	~<töy¨a/fs/fs_utûs.h
>

21 
	~"jîrys¸ùt.h
"

22 
	~"jîrys¸ùt-ext/h™dÀr.h
"

23 
	~"jîrys¸ùt-p‹t.h
"

24 
	~"jmem.h
"

25 
	~"£tjmp.h
"

27 
	~<≠ps/shñl/èsh.h
>

32 
	#JERRY_MAX_COMMAND_LINE_ARGS
 (16)

	)

37 
	#JERRY_STANDALONE_EXIT_CODE_OK
 (0)

	)

38 
	#JERRY_STANDALONE_EXIT_CODE_FAIL
 (1)

	)

43 
	#SYNTAX_ERROR_CONTEXT_SIZE
 2

	)

49 
	$¥öt_hñp
 (*
«me
)

51 
	`¥ötf
 ("Usage: %s [OPTION]... [FILE]...\n"

60 
«me
);

61 
	}
}

70 c⁄° 
uöt8_t
 *

71 
	$ªad_fûe
 (c⁄° *
fûe_«me
,

72 
size_t
 *
out_size_p
)

74 
FILE
 *
fûe
 = 
	`f›í
 (
	`gë_fuŒ∑th
(
fûe_«me
), "r");

75 i‡(
fûe
 =
NULL
)

77 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: c™nŸ o≥¿fûe: %s\n", 
fûe_«me
);

78  
NULL
;

81 
f£ek_°©us
 = 
	`f£ek
 (
fûe
, 0, 
SEEK_END
);

82 i‡(
f£ek_°©us
 != 0)

84 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "FaûedÅÿ£ek (îr‹: %d)\n", 
f£ek_°©us
);

85 
	`f˛o£
 (
fûe
);

86  
NULL
;

89 
s¸ùt_Àn
 = 
	`·ñl
 (
fûe
);

90 i‡(
s¸ùt_Àn
 < 0)

92 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "FaûedÅÿgëÅhêfûêsize”º‹ %ld)\n", 
s¸ùt_Àn
);

93 
	`f˛o£
 (
fûe
);

94  
NULL
;

97 
	`ªwöd
 (
fûe
);

99 
uöt8_t
 *
buf„r
 = 
	`jmem_hóp_Æloc_block_nuŒ_⁄_îr‹
 (
s¸ùt_Àn
);

101 i‡(
buf„r
 =
NULL
)

103 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Out of memoryÉrror\n");

104 
	`f˛o£
 (
fûe
);

105  
NULL
;

108 
size_t
 
byãs_ªad
 = 
	`‰ód
 (
buf„r
, 1u, 
s¸ùt_Àn
, 
fûe
);

110 i‡(!
byãs_ªad
 || byãs_ªad !
s¸ùt_Àn
)

112 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Eº‹: faûedÅÿªad fûe: %s\n", 
fûe_«me
);

113 
	`jmem_hóp_‰ì_block
 ((*Ë
buf„r
, 
s¸ùt_Àn
);

115 
	`f˛o£
 (
fûe
);

116  
NULL
;

119 
	`f˛o£
 (
fûe
);

121 *
out_size_p
 = 
byãs_ªad
;

122  (c⁄° 
uöt8_t
 *Ë
buf„r
;

123 
	}
}

131 
boﬁ


132 
	$jîry_vÆue_is_sy¡ax_îr‹
 (
jîry_vÆue_t
 
îr‹_vÆue
)

134 
	`as£π
 (
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
));

136 i‡(!
	`jîry_vÆue_is_obje˘
 (
îr‹_vÆue
))

138  
Ál£
;

141 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *)"name");

142 
jîry_vÆue_t
 
îr‹_«me
 = 
	`jîry_gë_¥›îty
 (
îr‹_vÆue
, 
¥›_«me
);

143 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

145 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
îr‹_«me
)

146 || !
	`jîry_vÆue_is_°rög
 (
îr‹_«me
))

148  
Ál£
;

151 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr‹_«me
);

152 
jîry_ch¨_t
 
îr_°r_buf
[
îr_°r_size
];

154 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr‹_«me
, 
îr_°r_buf
, 
îr_°r_size
);

155 
	`jîry_ªÀa£_vÆue
 (
îr‹_«me
);

157 i‡(
sz
 == 0)

159  
Ál£
;

162 i‡(!
	`°rcmp
 ((*Ë
îr_°r_buf
, "SyntaxError"))

164  
åue
;

167  
Ál£
;

168 
	}
}

174 
	$¥öt_unh™dÀd_ex˚±i⁄
 (
jîry_vÆue_t
 
îr‹_vÆue
,

175 c⁄° 
jîry_ch¨_t
 *
sour˚_p
)

177 
	`as£π
 (
	`jîry_vÆue_has_îr‹_Êag
 (
îr‹_vÆue
));

179 
	`jîry_vÆue_˛ór_îr‹_Êag
 (&
îr‹_vÆue
);

180 
jîry_vÆue_t
 
îr_°r_vÆ
 = 
	`jîry_vÆue_to_°rög
 (
îr‹_vÆue
);

181 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr_°r_vÆ
);

182 
jîry_ch¨_t
 
îr_°r_buf
[256];

184 i‡(
îr_°r_size
 >= 256)

186 c⁄° 
msg
[] = "[Error messageÅooÜong]";

187 
îr_°r_size
 =  (
msg
) /  () - 1;

188 
	`mem˝y
 (
îr_°r_buf
, 
msg
, 
îr_°r_size
);

192 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr_°r_vÆ
, 
îr_°r_buf
, 
îr_°r_size
);

193 
	`as£π
 (
sz
 =
îr_°r_size
);

194 
îr_°r_buf
[
îr_°r_size
] = 0;

196 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
Ë&& 
	`jîry_vÆue_is_sy¡ax_îr‹
 (
îr‹_vÆue
))

198 
îr_löe
 = 0;

199 
îr_cﬁ
 = 0;

202 
jîry_size_t
 
i
 = 0; i < 
sz
; i++)

204 i‡(!
	`°∫cmp
 ((*Ë(
îr_°r_buf
 + 
i
), "[line: ", 7))

206 
i
 += 7;

208 
num_°r
[8];

209 
j
 = 0;

211 
i
 < 
sz
 && 
îr_°r_buf
[i] != ',')

213 
num_°r
[
j
] = (Ë
îr_°r_buf
[
i
];

214 
j
++;

215 
i
++;

217 
num_°r
[
j
] = '\0';

219 
îr_löe
 = (Ë
	`°πﬁ
 (
num_°r
, 
NULL
, 10);

221 i‡(
	`°∫cmp
 ((*Ë(
îr_°r_buf
 + 
i
), ", column: ", 10))

226 
i
 += 10;

227 
j
 = 0;

229 
i
 < 
sz
 && 
îr_°r_buf
[i] != ']')

231 
num_°r
[
j
] = (Ë
îr_°r_buf
[
i
];

232 
j
++;

233 
i
++;

235 
num_°r
[
j
] = '\0';

237 
îr_cﬁ
 = (Ë
	`°πﬁ
 (
num_°r
, 
NULL
, 10);

242 i‡(
îr_löe
 !0 && 
îr_cﬁ
 != 0)

244 
cuº_löe
 = 1;

246 
boﬁ
 
is_¥ötög_c⁄ãxt
 = 
Ál£
;

247 
pos
 = 0;

250 
sour˚_p
[
pos
] != '\0')

252 i‡(
sour˚_p
[
pos
] == '\n')

254 
cuº_löe
++;

257 i‡(
îr_löe
 < 
SYNTAX_ERROR_CONTEXT_SIZE


258 || (
îr_löe
 >
cuº_löe


259 && (
îr_löe
 - 
cuº_löe
Ë<
SYNTAX_ERROR_CONTEXT_SIZE
))

262 
is_¥ötög_c⁄ãxt
 = 
åue
;

265 i‡(
cuº_löe
 > 
îr_löe
)

270 i‡(
is_¥ötög_c⁄ãxt
)

272 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "%c", 
sour˚_p
[
pos
]);

275 
pos
++;

278 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "\n");

280 --
îr_cﬁ
)

282 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "~");

285 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "^\n");

290 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "S¸ùàEº‹: %s\n", 
îr_°r_buf
);

291 
	`jîry_ªÀa£_vÆue
 (
îr_°r_vÆ
);

292 
	}
}

298 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

299 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

301 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîryx_h™dÀr_ªgi°î_globÆ
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
, 
h™dÀr_p
);

303 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªsu…_vÆ
))

305 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_WARNING
, "W¨nög: faûedÅÿªgi°î '%s' mëhod.", 
«me_p
);

308 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

309 
	}
}

314 
jîry_log_Àvñ_t
 
	gjîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_ERROR
;

321 
	$jîry_cmd_maö
 (
¨gc
, *
¨gv
[])

324 i‡(
¨gc
 > 
JERRY_MAX_COMMAND_LINE_ARGS
)

326 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
,

328 
JERRY_MAX_COMMAND_LINE_ARGS
);

330  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

333 c⁄° *
fûe_«mes
[
JERRY_MAX_COMMAND_LINE_ARGS
];

334 
i
;

335 
fûes_cou¡î
 = 0;

336 
boﬁ
 
°¨t_debug_£rvî
 = 
Ál£
;

337 
uöt16_t
 
debug_p‹t
 = 5001;

339 
jîry_öô_Êag_t
 
Êags
 = 
JERRY_INIT_EMPTY
;

341 
i
 = 1; i < 
¨gc
; i++)

343 i‡(!
	`°rcmp
 ("-h", 
¨gv
[
i
]) || !strcmp ("--help",árgv[i]))

345 
	`¥öt_hñp
 (
¨gv
[0]);

346  
JERRY_STANDALONE_EXIT_CODE_OK
;

348 i‡(!
	`°rcmp
 ("--mem-°©s", 
¨gv
[
i
]))

350 
jîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_DEBUG
;

351 
Êags
 |
JERRY_INIT_MEM_STATS
;

353 i‡(!
	`°rcmp
 ("--mem-°©s-£∑øã", 
¨gv
[
i
]))

355 
jîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_DEBUG
;

356 
Êags
 |
JERRY_INIT_MEM_STATS_SEPARATE
;

358 i‡(!
	`°rcmp
 ("--show-›codes", 
¨gv
[
i
]))

360 
jîry_log_Àvñ
 = 
JERRY_LOG_LEVEL_DEBUG
;

361 
Êags
 |
JERRY_INIT_SHOW_OPCODES
 | 
JERRY_INIT_SHOW_REGEXP_OPCODES
;

363 i‡(!
	`°rcmp
 ("--log-Àvñ", 
¨gv
[
i
]))

365 i‡(++
i
 < 
¨gc
 && 
	`°æí
 (
¨gv
[i]) == 1 &&árgv[i][0] >='0' &&árgv[i][0] <= '3')

367 
jîry_log_Àvñ
 = 
¨gv
[
i
][0] - '0';

371 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Error: wrong format or invalidárgument\n");

372  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

375 i‡(!
	`°rcmp
 ("--°¨t-debug-£rvî", 
¨gv
[
i
]))

377 
°¨t_debug_£rvî
 = 
åue
;

379 i‡(!
	`°rcmp
 ("--debug-£rvî-p‹t", 
¨gv
[
i
]))

381 i‡(++
i
 < 
¨gc
)

383 
debug_p‹t
 = 
	`°r_to_uöt
 (
¨gv
[
i
]);

387 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Error: wrong format or invalidárgument\n");

388  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

393 
fûe_«mes
[
fûes_cou¡î
++] = 
¨gv
[
i
];

397 
	`jîry_öô
 (
Êags
);

399 i‡(
°¨t_debug_£rvî
)

401 
	`jîry_debuggî_öô
 (
debug_p‹t
);

404 
	`ªgi°î_js_fun˘i⁄
 ("as£π", 
jîryx_h™dÀr_as£π
);

405 
	`ªgi°î_js_fun˘i⁄
 ("gc", 
jîryx_h™dÀr_gc
);

406 
	`ªgi°î_js_fun˘i⁄
 ("¥öt", 
jîryx_h™dÀr_¥öt
);

408 
jîry_vÆue_t
 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

410 i‡(
fûes_cou¡î
 == 0)

412 
	`¥ötf
 ("No input files,Ñunningá hello world demo:\n");

413 c⁄° 
jîry_ch¨_t
 
s¸ùt
[] = "var str = 'Hello World';Örint(str + ' from JerryScript')";

414 
size_t
 
s¸ùt_size
 = 
	`°æí
 ((c⁄° *Ë
s¸ùt
);

416 
ªt_vÆue
 = 
	`jîry_∑r£
 (
s¸ùt
, 
s¸ùt_size
, 
Ál£
);

418 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

420 
ªt_vÆue
 = 
	`jîry_run
 (ret_value);

425 
i
 = 0; i < 
fûes_cou¡î
; i++)

427 
size_t
 
sour˚_size
;

428 c⁄° 
jîry_ch¨_t
 *
sour˚_p
 = 
	`ªad_fûe
 (
fûe_«mes
[
i
], &
sour˚_size
);

430 i‡(
sour˚_p
 =
NULL
)

432 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Source fileÜoadÉrror\n");

433  
JERRY_STANDALONE_EXIT_CODE_FAIL
;

436 
ªt_vÆue
 = 
	`jîry_∑r£_«med_ªsour˚
 ((
jîry_ch¨_t
 *Ë
fûe_«mes
[
i
],

437 
	`°æí
 (
fûe_«mes
[
i
]),

438 
sour˚_p
,

439 
sour˚_size
,

440 
Ál£
);

442 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

444 
jîry_vÆue_t
 
func_vÆ
 = 
ªt_vÆue
;

445 
ªt_vÆue
 = 
	`jîry_run
 (
func_vÆ
);

446 
	`jîry_ªÀa£_vÆue
 (
func_vÆ
);

449 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

451 
	`¥öt_unh™dÀd_ex˚±i⁄
 (
ªt_vÆue
, 
sour˚_p
);

452 
	`jmem_hóp_‰ì_block
 ((*Ë
sour˚_p
, 
sour˚_size
);

457 
	`jmem_hóp_‰ì_block
 ((*Ë
sour˚_p
, 
sour˚_size
);

459 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

460 
ªt_vÆue
 = 
	`jîry_¸óã_undeföed
 ();

464 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_OK
;

466 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆue
))

468 
ªt_code
 = 
JERRY_STANDALONE_EXIT_CODE_FAIL
;

471 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆue
);

472 
	`jîry_˛ónup
 ();

474  
ªt_code
;

475 
	}
}

480 
	$jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
)

482 
	`exô
 (1);

483 
	}
}

489 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

490 c⁄° *
f‹m©
,

493 i‡(
Àvñ
 <
jîry_log_Àvñ
)

495 
va_li°
 
¨gs
;

496 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

497 
	`vÂrötf
 (
°dîr
, 
f‹m©
, 
¨gs
);

498 
	`va_íd
 (
¨gs
);

500 
	}
}

507 
boﬁ


508 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

511 
tz_p
->
off£t
 = 0;

512 
tz_p
->
daylight_ßvög_time
 = 0;

514  
åue
;

515 
	}
}

523 
	$jîry_p‹t_gë_cuºít_time
 ()

526 
	}
}

533 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
c
)

535 
	`¥ötf
 ("%c", 
c
);

536 
	}
}

543 #ifde‡
CONFIG_BUILD_KERNEL


544 
	$maö
 (
¨gc
, 
FAR
 *
¨gv
[])

546 
	$jîry_maö
 (
¨gc
, *
¨gv
[])

549 
	`èsh_cmd_ö°Æl
("jîry", 
jîry_cmd_maö
, 
TASH_EXECMD_SYNC
);

551 
	}
}

	@deps/jerry/targets/tizenrt-artik053/apps/jerryscript/setjmp.h

15 #i‚de‡
SETJMP_H


16 
	#SETJMP_H


	)

18 
	~<°döt.h
>

20 
uöt64_t
 
	tjmp_buf
[14];

22 
£tjmp
 (
jmp_buf
 
ív
);

23 
l⁄gjmp
 (
jmp_buf
 
ív
, 
vÆ
);

	@deps/jerry/targets/zephyr/src/getline-zephyr.c

16 
	~<zïhyr.h
>

17 
	~<u¨t.h
>

18 
	~<drivîs/c⁄sﬁe/c⁄sﬁe.h
>

19 
	~<drivîs/c⁄sﬁe/u¨t_c⁄sﬁe.h
>

20 
	~"gëlöe-zïhyr.h
"

24 
c⁄sﬁe_öput
 
	glöe_bufs
[2];

26 
k_fifo
 
	g‰ì_queue
;

27 
k_fifo
 
	gu£d_queue
;

29 *
	$zïhyr_gëlöe
()

31 
c⁄sﬁe_öput
 *
cmd
;

34 i‡(
cmd
 !
NULL
)

36 
	`k_fifo_put
(&
‰ì_queue
, 
cmd
);

39 
cmd
 = 
	`k_fifo_gë
(&
u£d_queue
, 
K_FOREVER
);

40  
cmd
->
löe
;

41 
	}
}

43 
	$zïhyr_gëlöe_öô
()

45 
i
;

47 
	`k_fifo_öô
(&
u£d_queue
);

48 
	`k_fifo_öô
(&
‰ì_queue
);

49 
i
 = 0; i < (
löe_bufs
) / (*line_bufs); i++)

51 
	`k_fifo_put
(&
‰ì_queue
, &
löe_bufs
[
i
]);

57 
	`u¨t_ªgi°î_öput
(&
‰ì_queue
, &
u£d_queue
, 
NULL
);

58 
	}
}

	@deps/jerry/targets/zephyr/src/getline-zephyr.h

16 
zïhyr_gëlöe_öô
();

17 *
zïhyr_gëlöe
();

	@deps/jerry/targets/zephyr/src/jerry-port.c

16 
	~<°d¨g.h
>

18 
	~<zïhyr.h
>

20 
	~"jîrys¸ùt-p‹t.h
"

27 
	$jîry_p‹t_log
 (
jîry_log_Àvñ_t
 
Àvñ
,

28 c⁄° *
f‹m©
,

31 (Ë
Àvñ
;

33 
va_li°
 
¨gs
;

34 
	`va_°¨t
 (
¨gs
, 
f‹m©
);

35 
	`vÂrötf
 (
°dîr
, 
f‹m©
, 
¨gs
);

36 
	`va_íd
 (
¨gs
);

37 
	}
}

43 
	$jîry_p‹t_Áèl
 (
jîry_Áèl_code_t
 
code
)

45 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, "Jerry Fatal Error!\n");

46 
åue
);

47 
	}
}

55 
	$jîry_p‹t_gë_cuºít_time
 ()

57 
öt64_t
 
ms
 = 
	`k_u±ime_gë
();

58  (Ë
ms
;

59 
	}
}

66 
boﬁ


67 
	$jîry_p‹t_gë_time_z⁄e
 (
jîry_time_z⁄e_t
 *
tz_p
)

70 
tz_p
->
off£t
 = 0;

71 
tz_p
->
daylight_ßvög_time
 = 0;

73  
åue
;

74 
	}
}

81 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
 (
c
)

83 
	`¥ötf
 ("%c", 
c
);

84 
	}
}

	@deps/jerry/targets/zephyr/src/main-zephyr.c

16 
	~<°dio.h
>

17 
	~<°rög.h
>

18 
	~<°dlib.h
>

20 
	~<zïhyr.h
>

21 
	~<misc/¥ötk.h
>

22 
	~"gëlöe-zïhyr.h
"

24 
	~"jîrys¸ùt.h
"

25 
	~"jîrys¸ùt-p‹t.h
"

26 
	~"jîrys¸ùt-ext/h™dÀr.h
"

28 
jîry_vÆue_t
 
	g¥öt_fun˘i⁄
;

34 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

35 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

37 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîryx_h™dÀr_ªgi°î_globÆ
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
, 
h™dÀr_p
);

39 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªsu…_vÆ
))

41 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_WARNING
, "W¨nög: faûedÅÿªgi°î '%s' mëhod.", 
«me_p
);

44 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

45 
	}
}

47 
	$shñl_cmd_h™dÀr
 (*
sour˚_buf„r
)

49 
jîry_vÆue_t
 
ªt_vÆ
;

51 
ªt_vÆ
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë
sour˚_buf„r
,

52 
	`°æí
 (
sour˚_buf„r
),

53 
Ál£
);

55 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
ªt_vÆ
))

60 
	`¥ötf
 ("ErrorÉxecuting statement: ");

63 
	`jîry_vÆue_˛ór_îr‹_Êag
 (&
ªt_vÆ
);

66 i‡(!
	`jîry_vÆue_has_îr‹_Êag
 (
¥öt_fun˘i⁄
))

68 
jîry_vÆue_t
 
ªt_vÆ_¥öt
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
¥öt_fun˘i⁄
,

69 
	`jîry_¸óã_undeföed
 (),

70 &
ªt_vÆ
,

72 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ_¥öt
);

75 
	`jîry_ªÀa£_vÆue
 (
ªt_vÆ
);

78 
	}
}

80 
	$maö
 ()

82 
uöt32_t
 
zïhyr_vî
 = 
	`sys_kî√l_vîsi⁄_gë
 ();

83 
	`¥ötf
 ("JîryS¸ùàbuûd: " 
__DATE__
 " " 
__TIME__
 "\n");

84 
	`¥ötf
 ("JîryS¸ùàAPI %d.%d\n", 
JERRY_API_MAJOR_VERSION
, 
JERRY_API_MINOR_VERSION
);

85 
	`¥ötf
 ("Zïhy∏vîsi⁄ %d.%d.%d\n", ()
	`SYS_KERNEL_VER_MAJOR
 (
zïhyr_vî
),

86 ()
	`SYS_KERNEL_VER_MINOR
 (
zïhyr_vî
),

87 ()
	`SYS_KERNEL_VER_PATCHLEVEL
 (
zïhyr_vî
));

89 
	`zïhyr_gëlöe_öô
 ();

90 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

91 
	`ªgi°î_js_fun˘i⁄
 ("¥öt", 
jîryx_h™dÀr_¥öt
);

92 
jîry_vÆue_t
 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

94 
jîry_vÆue_t
 
¥öt_func_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "print");

95 
¥öt_fun˘i⁄
 = 
	`jîry_gë_¥›îty
 (
globÆ_obj_vÆ
, 
¥öt_func_«me_vÆ
);

96 
	`jîry_ªÀa£_vÆue
 (
¥öt_func_«me_vÆ
);

97 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

98 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
¥öt_fun˘i⁄
))

100 
	`¥ötf
 ("Error: couldÇotÜook upÖrint function,ÉxpressionÑesults won't beÖrinted\n");

105 *
s
;

106 
	`¥ötf
("js> ");

107 
	`fÊush
(
°dout
);

108 
s
 = 
	`zïhyr_gëlöe
 ();

109 i‡(*
s
)

111 
	`shñl_cmd_h™dÀr
 (
s
);

116 
	}
}

	@deps/jerry/tests/unit-core/test-api.c

16 
	~"c⁄fig.h
"

17 
	~"jîrys¸ùt.h
"

19 
	~"ã°-comm⁄.h
"

24 
	#SNAPSHOT_BUFFER_SIZE
 (256)

	)

26 c⁄° *
	gã°_sour˚
 = (

67 
boﬁ
 
	gã°_≠i_is_‰ì_ˇŒback_was_ˇŒed
 = 
Ál£
;

69 
jîry_vÆue_t


70 
	$h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

71 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

72 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

73 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

75 
buf„r
[32];

76 
jîry_size_t
 
sz
;

78 
	`¥ötf
 ("ok %u %u %p %u\n",

79 (Ë
func_obj_vÆ
, (Ë
this_vÆ
, (*Ë
¨gs_p
, (Ë
¨gs_˙t
);

81 
	`TEST_ASSERT
 (
¨gs_˙t
 == 2);

83 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
¨gs_p
[0]));

84 
sz
 = 
	`jîry_gë_°rög_size
 (
¨gs_p
[0]);

85 
	`TEST_ASSERT
 (
sz
 == 1);

86 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs_p
[0],

87 (
jîry_ch¨_t
 *Ë
buf„r
,

88 
sz
);

89 
	`TEST_ASSERT
 (
sz
 == 1);

90 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
buf„r
, "1", (
size_t
Ë
sz
));

92 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
¨gs_p
[1]));

94  
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "string from handler");

95 
	}
}

97 
jîry_vÆue_t


98 
	$h™dÀr_throw_ã°
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

99 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

100 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

101 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

103 
	`¥ötf
 ("ok %u %u %p %u\n",

104 (Ë
func_obj_vÆ
, (Ë
this_vÆ
, (*Ë
¨gs_p
, (Ë
¨gs_˙t
);

106  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
, (
jîry_ch¨_t
 *) "error");

107 
	}
}

110 
	$h™dÀr_c⁄°ru˘_‰ìcb
 (*
«tive_p
)

112 
	`TEST_ASSERT
 ((
uöçå_t
Ë
«tive_p
 == (uintptr_t) 0x0012345678abcdefull);

113 
	`¥ötf
 ("ok object free callback\n");

115 
ã°_≠i_is_‰ì_ˇŒback_was_ˇŒed
 = 
åue
;

116 
	}
}

122 
	#JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
(
c_ty≥
Ë
_jîry_obje˘_«tive_öfo_
##
	)
c_type

127 
	#JERRY_DEFINE_NATIVE_HANDLE_INFO
(
c_ty≥
, 
«tive_‰ì_cb
) \

128 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	`JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
 (
c_ty≥
) = \

130 .
‰ì_cb
 = (
jîry_obje˘_«tive_‰ì_ˇŒback_t
Ë
«tive_‰ì_cb
 \

131 }

	)

133 
JERRY_DEFINE_NATIVE_HANDLE_INFO
 (
böd1
, 
h™dÀr_c⁄°ru˘_‰ìcb
);

134 
JERRY_DEFINE_NATIVE_HANDLE_INFO
 (
böd2
, 
h™dÀr_c⁄°ru˘_‰ìcb
);

135 
JERRY_DEFINE_NATIVE_HANDLE_INFO
 (
böd3
, 
NULL
);

137 
jîry_vÆue_t


138 
	$h™dÀr_c⁄°ru˘
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

139 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

140 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

141 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

143 
	`¥ötf
 ("ok construct %u %u %p %u\n",

144 (Ë
func_obj_vÆ
, (Ë
this_vÆ
, (*Ë
¨gs_p
, (Ë
¨gs_˙t
);

146 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
this_vÆ
));

148 
	`TEST_ASSERT
 (
¨gs_˙t
 == 1);

149 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
¨gs_p
[0]));

150 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
¨gs_p
[0]Ë=
åue
);

152 
jîry_vÆue_t
 
fõld_«me
 = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "value_field");

153 
	`jîry_£t_¥›îty
 (
this_vÆ
, 
fõld_«me
, 
¨gs_p
[0]);

154 
	`jîry_ªÀa£_vÆue
 (
fõld_«me
);

156 
	`jîry_£t_obje˘_«tive_poöãr
 (
this_vÆ
,

158 &
	`JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
 (
böd1
));

160 *
±r
 = 
NULL
;

161 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
out_öfo_p
;

162 
boﬁ
 
is_ok
 = 
	`jîry_gë_obje˘_«tive_poöãr
 (
this_vÆ
, &
±r
, &
out_öfo_p
);

163 
	`TEST_ASSERT
 (
is_ok


164 && (
uöçå_t
Ë
±r
 == (uintptr_t) 0x0000000000000000ull

165 && 
out_öfo_p
 =&
	`JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
 (
böd1
));

167 
	`jîry_£t_obje˘_«tive_poöãr
 (
this_vÆ
,

169 &
	`JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
 (
böd2
));

171  
	`jîry_¸óã_boﬁón
 (
åue
);

172 
	}
}

174 
jîry_vÆue_t


175 
	$vm_exec_°›_ˇŒback
 (*
u£r_p
)

177 *
öt_p
 = (*Ë
u£r_p
;

179 i‡(*
öt_p
 > 0)

181 (*
öt_p
)--;

183  
	`jîry_¸óã_undeföed
 ();

186  
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "Abort script");

187 
	}
}

192 
	#JERRY_MAGIC_STRING_ITEMS
 \

193 
	`JERRY_MAGIC_STRING_DEF
 (
GLOBAL
, 
globÆ
) \

194 
	`JERRY_MAGIC_STRING_DEF
 (
GREEK_ZERO_SIGN
, \
xed
\
xa0
\
x80
\xed\
xb6
\
x8a
) \

195 
	`JERRY_MAGIC_STRING_DEF
 (
CONSOLE
, 
c⁄sﬁe
)

	)

197 
	#JERRY_MAGIC_STRING_DEF
(
NAME
, 
STRING
) \

198 c⁄° 
jîry_magic_°rög_ex_
 ## 
NAME
[] = #STRING;

	)

200 
	gJERRY_MAGIC_STRING_ITEMS


202 #unde‡
JERRY_MAGIC_STRING_DEF


204 c⁄° 
jîry_Àngth_t
 
	gmagic_°rög_Àngths
[] =

206 
	#JERRY_MAGIC_STRING_DEF
(
NAME
, 
STRING
) \

207 (
jîry_Àngth_t
Ë( (
jîry_magic_°rög_ex_
 ## 
NAME
Ë- 1u),

	)

209 
JERRY_MAGIC_STRING_ITEMS


211 #unde‡
JERRY_MAGIC_STRING_DEF


214 c⁄° 
jîry_ch¨_±r_t
 
	gmagic_°rög_ôems
[] =

216 
	#JERRY_MAGIC_STRING_DEF
(
NAME
, 
STRING
) \

217 (c⁄° 
jîry_ch¨_±r_t
Ë
jîry_magic_°rög_ex_
 ## 
NAME
,

	)

219 
JERRY_MAGIC_STRING_ITEMS


221 #unde‡
JERRY_MAGIC_STRING_DEF


224 
boﬁ


225 
	$f‹óch
 (c⁄° 
jîry_vÆue_t
 
«me
,

226 c⁄° 
jîry_vÆue_t
 
vÆue
,

227 *
u£r_d©a
)

229 
°r_buf_p
[128];

230 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
«me
, (
jîry_ch¨_t
 *Ë
°r_buf_p
, 128);

231 
°r_buf_p
[
sz
] = '\0';

233 
	`TEST_ASSERT
 (!
	`°∫cmp
 ((c⁄° *Ë
u£r_d©a
, "user_data", 9));

234 
	`TEST_ASSERT
 (
sz
 > 0);

236 i‡(!
	`°∫cmp
 (
°r_buf_p
, "Æpha", (
size_t
Ë
sz
))

238 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
vÆue
));

239 
	`TEST_ASSERT
 (
	`jîry_gë_numbî_vÆue
 (
vÆue
) == 32.0);

240  
åue
;

242 i‡(!
	`°∫cmp
 (
°r_buf_p
, "bøvo", (
size_t
Ë
sz
))

244 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
vÆue
));

245 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
vÆue
Ë=
Ál£
);

246  
åue
;

248 i‡(!
	`°∫cmp
 (
°r_buf_p
, "ch¨lõ", (
size_t
Ë
sz
))

250 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆue
));

251  
åue
;

253 i‡(!
	`°∫cmp
 (
°r_buf_p
, "dñè", (
size_t
Ë
sz
))

255 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
vÆue
));

256 
	`TEST_ASSERT
 (
	`jîry_gë_numbî_vÆue
 (
vÆue
) == 123.45);

257  
åue
;

259 i‡(!
	`°∫cmp
 (
°r_buf_p
, "echo", (
size_t
Ë
sz
))

261 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
vÆue
));

262 
jîry_size_t
 
echo_sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
vÆue
,

263 (
jîry_ch¨_t
 *Ë
°r_buf_p
,

265 
°r_buf_p
[
echo_sz
] = '\0';

266 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
°r_buf_p
, "foob¨", (
size_t
Ë
echo_sz
));

267  
åue
;

270 
	`TEST_ASSERT
 (
Ál£
);

271  
Ál£
;

274 
	}
}

276 
boﬁ


277 
	$f‹óch_ex˚±i⁄
 (c⁄° 
jîry_vÆue_t
 
«me
,

278 c⁄° 
jîry_vÆue_t
 
vÆue
,

279 *
u£r_d©a
)

281 
	`JERRY_UNUSED
 (
vÆue
);

282 
	`JERRY_UNUSED
 (
u£r_d©a
);

283 
°r_buf_p
[128];

284 
jîry_size_t
 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
«me
, (
jîry_ch¨_t
 *Ë
°r_buf_p
, 128);

285 
°r_buf_p
[
sz
] = '\0';

287 i‡(!
	`°∫cmp
 (
°r_buf_p
, "foxåŸ", (
size_t
Ë
sz
))

289 
	`TEST_ASSERT
 (
Ál£
);

292  
åue
;

293 
	}
}

295 
boﬁ


296 
	$f‹óch_sub£t
 (c⁄° 
jîry_vÆue_t
 
«me
,

297 c⁄° 
jîry_vÆue_t
 
vÆue
,

298 *
u£r_d©a
)

300 
	`JERRY_UNUSED
 (
«me
);

301 
	`JERRY_UNUSED
 (
vÆue
);

302 *
cou¡_p
 = (*Ë(
u£r_d©a
);

304 i‡(*
cou¡_p
 == 3)

306  
Ál£
;

308 (*
cou¡_p
)++;

309  
åue
;

310 
	}
}

312 
jîry_vÆue_t


313 
	$gë_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

314 c⁄° *
°r_p
)

316 
jîry_vÆue_t
 
¥›_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
°r_p
);

317 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_gë_¥›îty
 (
obj_vÆ
, 
¥›_«me_vÆ
);

318 
	`jîry_ªÀa£_vÆue
 (
¥›_«me_vÆ
);

319  
ªt_vÆ
;

320 
	}
}

322 
jîry_vÆue_t


323 
	$£t_¥›îty
 (c⁄° 
jîry_vÆue_t
 
obj_vÆ
,

324 c⁄° *
°r_p
,

325 c⁄° 
jîry_vÆue_t
 
vÆ
)

327 
jîry_vÆue_t
 
¥›_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
°r_p
);

328 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_£t_¥›îty
 (
obj_vÆ
, 
¥›_«me_vÆ
, 
vÆ
);

329 
	`jîry_ªÀa£_vÆue
 (
¥›_«me_vÆ
);

330  
ªt_vÆ
;

331 
	}
}

333 
boﬁ


334 
	$ã°_run_sim∂e
 (c⁄° *
s¸ùt_p
)

336 
size_t
 
s¸ùt_size
 = 
	`°æí
 (
s¸ùt_p
);

338  
	`jîry_run_sim∂e
 ((c⁄° 
jîry_ch¨_t
 *Ë
s¸ùt_p
, 
s¸ùt_size
, 
JERRY_INIT_EMPTY
);

339 
	}
}

341 
boﬁ


342 
	$°ri˘_equÆs
 (
jîry_vÆue_t
 
a
,

343 
jîry_vÆue_t
 
b
)

345 
boﬁ
 
is_°ri˘_equÆ
;

346 c⁄° *
is_equÆ_§c
;

347 
jîry_vÆue_t
 
¨gs
[2];

348 
jîry_vÆue_t
 
is_equÆ_‚_vÆ
;

349 
jîry_vÆue_t
 
ªs
;

351 
is_equÆ_§c
 = "var isEqual = function(a, b) {Ñeturn (a === b); }; isEqual";

352 
is_equÆ_‚_vÆ
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë
is_equÆ_§c
, 
	`°æí
 (is_equÆ_§c), 
Ál£
);

353 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
is_equÆ_‚_vÆ
));

354 
¨gs
[0] = 
a
;

355 
¨gs
[1] = 
b
;

356 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
is_equÆ_‚_vÆ
, 
	`jîry_¸óã_undeföed
 (), 
¨gs
, 2);

357 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

358 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
ªs
));

359 
is_°ri˘_equÆ
 = 
	`jîry_gë_boﬁón_vÆue
 (
ªs
);

360 
	`jîry_ªÀa£_vÆue
 (
ªs
);

361 
	`jîry_ªÀa£_vÆue
 (
is_equÆ_‚_vÆ
);

362  
is_°ri˘_equÆ
;

363 
	}
}

366 
	$maö
 ()

368 
	`TEST_INIT
 ();

370 
boﬁ
 
is_ok
;

371 
jîry_size_t
 
sz
, 
utf8_sz
, 
˚su8_sz
;

372 
jîry_Àngth_t
 
˚su8_Àngth
, 
utf8_Àngth
;

373 
jîry_vÆue_t
 
vÆ_t
, 
vÆ_foo
, 
vÆ_b¨
, 
vÆ_A
, 
vÆ_A_¥ŸŸy≥
, 
vÆ_a
, 
vÆ_a_foo
, 
vÆ_vÆue_fõld
, 
vÆ_p
, 
vÆ_≈
;

374 
jîry_vÆue_t
 
vÆ_ˇŒ_exã∫Æ
;

375 
jîry_vÆue_t
 
globÆ_obj_vÆ
, 
obj_vÆ
;

376 
jîry_vÆue_t
 
exã∫Æ_func_vÆ
, 
exã∫Æ_c⁄°ru˘_vÆ
;

377 
jîry_vÆue_t
 
throw_ã°_h™dÀr_vÆ
;

378 
jîry_vÆue_t
 
∑r£d_code_vÆ
, 
¥Ÿo_vÆ
, 
¥im_vÆ
;

379 
jîry_vÆue_t
 
ªs
, 
¨gs
[2];

380 
numbî_vÆ
;

381 
buf„r
[32];

383 
is_ok
 = 
	`ã°_run_sim∂e
 ("throw 'Hello World';");

384 
	`TEST_ASSERT
 (!
is_ok
);

386 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

388 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
ã°_sour˚
, 
	`°æí
 (ã°_sour˚), 
Ál£
);

389 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

391 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

392 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

393 
	`jîry_ªÀa£_vÆue
 (
ªs
);

394 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

396 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

399 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "");

400 
sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

401 
	`TEST_ASSERT
 (
sz
 == 0);

402 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

407 
¨gs
[0] = 
	`jîry_¸óã_°rög_‰om_utf8
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xf0\x90\x90\x80");

408 
¨gs
[1] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xed\xa0\x81\xed\xb0\x80");

411 
utf8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

412 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[1]);

414 
°rög_‰om_utf8
[
utf8_sz
];

415 
°rög_‰om_˚su8
[
˚su8_sz
];

417 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs
[0], (
jîry_ch¨_t
 *Ë
°rög_‰om_utf8
, 
utf8_sz
);

418 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs
[1], (
jîry_ch¨_t
 *Ë
°rög_‰om_˚su8
, 
˚su8_sz
);

420 
	`TEST_ASSERT
 (
utf8_sz
 =
˚su8_sz
);

421 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
°rög_‰om_utf8
, 
°rög_‰om_˚su8
, 
utf8_sz
));

422 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

423 
	`jîry_ªÀa£_vÆue
 (
¨gs
[1]);

426 
¨gs
[0] = 
	`jîry_¸óã_°rög_‰om_utf8
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xf0\x90\x90\x80");

427 
¨gs
[1] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xed\xa0\x81\xed\xb0\x80");

430 
	`TEST_ASSERT
 (
	`°ri˘_equÆs
 (
¨gs
[0],árgs[1]));

433 
utf8_sz
 = 
	`jîry_gë_utf8_°rög_size
 (
¨gs
[0]);

434 
˚su8_sz
 = 
	`jîry_gë_utf8_°rög_size
 (
¨gs
[1]);

436 
	`TEST_ASSERT
 (
utf8_sz
 =
˚su8_sz
);

438 
°rög_‰om_utf8_°rög
[
utf8_sz
];

439 
°rög_‰om_˚su8_°rög
[
˚su8_sz
];

441 
	`jîry_°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], (
jîry_ch¨_t
 *Ë
°rög_‰om_utf8_°rög
, 
utf8_sz
);

442 
	`jîry_°rög_to_utf8_ch¨_buf„r
 (
¨gs
[1], (
jîry_ch¨_t
 *Ë
°rög_‰om_˚su8_°rög
, 
˚su8_sz
);

444 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
°rög_‰om_utf8_°rög
, 
°rög_‰om_˚su8_°rög
, 
utf8_sz
));

445 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

446 
	`jîry_ªÀa£_vÆue
 (
¨gs
[1]);

449 
¨gs
[0] = 
	`jîry_¸óã_°rög_‰om_utf8
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xf0\x9d\x94\xa3 \xf0\x9d\x94\xa4");

451 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[0]);

452 
utf8_Àngth
 = 
	`jîry_gë_utf8_°rög_Àngth
 (
¨gs
[0]);

454 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

455 
utf8_sz
 = 
	`jîry_gë_utf8_°rög_size
 (
¨gs
[0]);

457 
	`TEST_ASSERT
 (
˚su8_Àngth
 =10 && 
utf8_Àngth
 == 8);

458 
	`TEST_ASSERT
 (
˚su8_sz
 !
utf8_sz
);

459 
	`TEST_ASSERT
 (
utf8_sz
 =14 && 
˚su8_sz
 == 18);

461 
ã°_°rög
[
utf8_sz
];

463 
	`TEST_ASSERT
 (
	`jîry_°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], (
jîry_ch¨_t
 *Ë
ã°_°rög
, 
utf8_sz
) == 14);

464 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, "\x73\x74\x72\x3®\xf0\x9d\x94\xa3 \xf0\x9d\x94\xa4", 
utf8_sz
));

466 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], 0, 
utf8_Àngth
, (
jîry_ch¨_t
 *Ë
ã°_°rög
, 
utf8_sz
);

467 
	`TEST_ASSERT
 (
sz
 == 14);

468 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, "\x73\x74\x72\x3®\xf0\x9d\x94\xa3 \xf0\x9d\x94\xa4", 
sz
));

470 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], 0, 
utf8_Àngth
 + 1, (
jîry_ch¨_t
 *Ë
ã°_°rög
, 
utf8_sz
);

471 
	`TEST_ASSERT
 (
sz
 == 14);

472 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, "\x73\x74\x72\x3®\xf0\x9d\x94\xa3 \xf0\x9d\x94\xa4", 
sz
));

474 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], 
utf8_Àngth
, 0, (
jîry_ch¨_t
 *Ë
ã°_°rög
, 
utf8_sz
);

475 
	`TEST_ASSERT
 (
sz
 == 0);

477 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], 0, 
utf8_Àngth
, (
jîry_ch¨_t
 *Ë
ã°_°rög
, 
utf8_sz
 - 1);

478 
	`TEST_ASSERT
 (
sz
 == 10);

479 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, "\x73\x74\x72\x3®\xf0\x9d\x94\xa3 ", 
sz
));

481 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0], 0, 
utf8_Àngth
 - 1, (
jîry_ch¨_t
 *Ë
ã°_°rög
, 
utf8_sz
);

482 
	`TEST_ASSERT
 (
sz
 == 10);

483 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, "\x73\x74\x72\x3®\xf0\x9d\x94\xa3 ", 
sz
));

485 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0],

486 
utf8_Àngth
 - 2,

487 
utf8_Àngth
 - 1,

488 (
jîry_ch¨_t
 *Ë
ã°_°rög
,

489 
utf8_sz
);

490 
	`TEST_ASSERT
 (
sz
 == 1);

491 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, " ", 
sz
));

493 
sz
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¨gs
[0],

494 
utf8_Àngth
 - 3,

495 
utf8_Àngth
 - 2,

496 (
jîry_ch¨_t
 *Ë
ã°_°rög
,

497 
utf8_sz
);

498 
	`TEST_ASSERT
 (
sz
 == 4);

499 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
ã°_°rög
, "\xf0\x9d\x94\xa3", 
sz
));

501 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

504 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xed\xa0\x81\xed\xb0\x80");

506 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[0]);

507 
utf8_Àngth
 = 
	`jîry_gë_utf8_°rög_Àngth
 (
¨gs
[0]);

509 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

510 
utf8_sz
 = 
	`jîry_gë_utf8_°rög_size
 (
¨gs
[0]);

512 
	`TEST_ASSERT
 (
˚su8_Àngth
 =7 && 
utf8_Àngth
 == 6);

513 
	`TEST_ASSERT
 (
˚su8_sz
 !
utf8_sz
);

514 
	`TEST_ASSERT
 (
utf8_sz
 =9 && 
˚su8_sz
 == 11);

516 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

519 
¨gs
[0] = 
	`jîry_¸óã_°rög_‰om_utf8
 ((
jîry_ch¨_t
 *) "\x70\x72\x69\x63\x65\x3a \x31\x30\xe2\x82\xac");

521 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[0]);

522 
utf8_Àngth
 = 
	`jîry_gë_utf8_°rög_Àngth
 (
¨gs
[0]);

524 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

525 
utf8_sz
 = 
	`jîry_gë_utf8_°rög_size
 (
¨gs
[0]);

527 
	`TEST_ASSERT
 (
˚su8_Àngth
 =
utf8_Àngth
);

528 
	`TEST_ASSERT
 (
˚su8_Àngth
 == 10);

529 
	`TEST_ASSERT
 (
˚su8_sz
 =
utf8_sz
);

530 
	`TEST_ASSERT
 (
utf8_sz
 == 12);

531 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

534 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "anáscii string");

537 
˚su8_sz
 = 5;

539 
sub°rög
[
˚su8_sz
];

540 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 3, 8, (
jîry_ch¨_t
 *Ë
sub°rög
, 
˚su8_sz
);

541 
	`TEST_ASSERT
 (
sz
 == 5);

542 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
sub°rög
, "ascii", 
sz
));

545 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 0, 11, (
jîry_ch¨_t
 *Ë
sub°rög
, 
˚su8_sz
);

547 
	`TEST_ASSERT
 (
sz
 == 5);

548 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
sub°rög
, "™ás", 
sz
));

551 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 16, 21, (
jîry_ch¨_t
 *Ë
sub°rög
, 
˚su8_sz
);

552 
	`TEST_ASSERT
 (
sz
 == 0);

554 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 14, 15, (
jîry_ch¨_t
 *Ë
sub°rög
, 
˚su8_sz
);

555 
	`TEST_ASSERT
 (
sz
 == 1);

556 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
sub°rög
, "g", 
sz
));

558 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 0, 1, (
jîry_ch¨_t
 *Ë
sub°rög
, 
˚su8_sz
);

559 
	`TEST_ASSERT
 (
sz
 == 1);

560 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
sub°rög
, "a", 
sz
));

562 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[0]);

563 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

564 
	`TEST_ASSERT
 (
˚su8_Àngth
 == 15);

565 
	`TEST_ASSERT
 (
˚su8_Àngth
 =
˚su8_sz
);

567 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 0, 
˚su8_Àngth
, (
jîry_ch¨_t
 *Ë
sub°rög
, 
˚su8_sz
);

568 
	`TEST_ASSERT
 (
sz
 = 15);

569 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
sub°rög
, "™ásciò°rög", 
sz
));

571 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

574 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "0101");

575 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

577 
numbî_sub°rög
[
˚su8_sz
];

579 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 1, 3, (
jîry_ch¨_t
 *Ë
numbî_sub°rög
, 
˚su8_sz
);

580 
	`TEST_ASSERT
 (
sz
 == 2);

581 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
numbî_sub°rög
, "10", 
sz
));

583 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

586 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "\x73\x74\x72\x3a \xed\xa0\x80\xed\xb6\x8a");

587 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

588 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[0]);

589 
	`TEST_ASSERT
 (
˚su8_sz
 == 11);

590 
	`TEST_ASSERT
 (
˚su8_Àngth
 = 7);

592 
su∂_sub°rög
[
˚su8_sz
];

594 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 0, 
˚su8_Àngth
, (
jîry_ch¨_t
 *Ë
su∂_sub°rög
, 
˚su8_sz
);

595 
	`TEST_ASSERT
 (
sz
 == 11);

596 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
su∂_sub°rög
, "\x73\x74\x72\x3®\xed\xa0\x80\xed\xb6\x8a", 
sz
));

599 
˚su8_sz
 -= 1;

600 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0], 0, 
˚su8_Àngth
, (
jîry_ch¨_t
 *Ë
su∂_sub°rög
, 
˚su8_sz
);

601 
	`TEST_ASSERT
 (
sz
 == 8);

602 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
su∂_sub°rög
, "\x73\x74\x72\x3®\xed\xa0\x80", 
sz
));

604 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0],

605 
˚su8_Àngth
 - 1,

606 
˚su8_Àngth
,

607 (
jîry_ch¨_t
 *Ë
su∂_sub°rög
,

608 
˚su8_sz
);

609 
	`TEST_ASSERT
 (
sz
 == 3);

610 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
su∂_sub°rög
, "\xed\xb6\x8a", 
sz
));

612 
sz
 = 
	`jîry_sub°rög_to_ch¨_buf„r
 (
¨gs
[0],

613 
˚su8_Àngth
 - 2,

614 
˚su8_Àngth
 - 1,

615 (
jîry_ch¨_t
 *Ë
su∂_sub°rög
,

616 
˚su8_sz
);

617 
	`TEST_ASSERT
 (
sz
 == 3);

618 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
su∂_sub°rög
, "\xed\xa0\x80", 
sz
));

620 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

623 
vÆ_t
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "boo");

624 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

625 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
vÆ_t
));

628 
vÆ_t
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "t");

629 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

630 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
vÆ_t
)

631 && 
	`jîry_gë_numbî_vÆue
 (
vÆ_t
) == 1.0);

632 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

635 
vÆ_foo
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "foo");

636 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_foo
));

637 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_foo
));

640 
¨gs
[0] = 
	`jîry_¸óã_numbî
 (4);

641 
¨gs
[1] = 
	`jîry_¸óã_numbî
 (2);

642 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_foo
, 
	`jîry_¸óã_undeföed
 (), 
¨gs
, 2);

643 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

644 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
ªs
)

645 && 
	`jîry_gë_numbî_vÆue
 (
ªs
) == 1.0);

646 
	`jîry_ªÀa£_vÆue
 (
ªs
);

649 
vÆ_b¨
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "bar");

650 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_b¨
));

651 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_b¨
));

654 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_b¨
, 
	`jîry_¸óã_undeföed
 (), 
¨gs
, 2);

655 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

656 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
ªs
)

657 && 
	`jîry_gë_numbî_vÆue
 (
ªs
) == 5.0);

658 
	`jîry_ªÀa£_vÆue
 (
ªs
);

659 
	`jîry_ªÀa£_vÆue
 (
vÆ_b¨
);

662 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

663 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "abcd");

664 
ªs
 = 
	`£t_¥›îty
 (
globÆ_obj_vÆ
, "t", 
¨gs
[0]);

665 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

666 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

667 
	`jîry_ªÀa£_vÆue
 (
ªs
);

670 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_foo
, 
	`jîry_¸óã_undeföed
 (), 
¨gs
, 2);

671 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

672 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
ªs
));

673 
sz
 = 
	`jîry_gë_°rög_size
 (
ªs
);

674 
	`TEST_ASSERT
 (
sz
 == 4);

675 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
ªs
, (
jîry_ch¨_t
 *Ë
buf„r
, sz);

676 
	`TEST_ASSERT
 (
sz
 == 4);

677 
	`jîry_ªÀa£_vÆue
 (
ªs
);

678 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
buf„r
, "abcd", (
size_t
Ë
sz
));

679 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

680 
	`jîry_ªÀa£_vÆue
 (
¨gs
[1]);

683 
vÆ_A
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "A");

684 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_A
));

685 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_A
));

688 
is_ok
 = 
	`jîry_vÆue_is_c⁄°ru˘‹
 (
vÆ_A
);

689 
	`TEST_ASSERT
 (
is_ok
);

690 
vÆ_A_¥ŸŸy≥
 = 
	`gë_¥›îty
 (
vÆ_A
, "prototype");

691 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_A_¥ŸŸy≥
));

692 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_A_¥ŸŸy≥
));

693 
	`jîry_ªÀa£_vÆue
 (
vÆ_A
);

696 
ªs
 = 
	`£t_¥›îty
 (
vÆ_A_¥ŸŸy≥
, "foo", 
vÆ_foo
);

697 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

698 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

699 
	`jîry_ªÀa£_vÆue
 (
ªs
);

700 
	`jîry_ªÀa£_vÆue
 (
vÆ_A_¥ŸŸy≥
);

701 
	`jîry_ªÀa£_vÆue
 (
vÆ_foo
);

704 
vÆ_a
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "a");

705 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_a
));

706 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_a
));

709 
ªs
 = 
	`gë_¥›îty
 (
vÆ_a
, "t");

710 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

711 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
ªs
)

712 && 
	`jîry_gë_numbî_vÆue
 (
ªs
) == 12.0);

713 
	`jîry_ªÀa£_vÆue
 (
ªs
);

716 
vÆ_p
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "p");

717 
is_ok
 = 
	`jîry_f‹óch_obje˘_¥›îty
 (
vÆ_p
, 
f‹óch
, (*) "user_data");

718 
	`TEST_ASSERT
 (
is_ok
);

721 
cou¡
 = 0;

722 
is_ok
 = 
	`jîry_f‹óch_obje˘_¥›îty
 (
vÆ_p
, 
f‹óch_sub£t
, &
cou¡
);

723 
	`TEST_ASSERT
 (
is_ok
);

724 
	`TEST_ASSERT
 (
cou¡
 == 3);

725 
	`jîry_ªÀa£_vÆue
 (
vÆ_p
);

728 
vÆ_≈
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "np");

729 
is_ok
 = !
	`jîry_f‹óch_obje˘_¥›îty
 (
vÆ_≈
, 
f‹óch_ex˚±i⁄
, 
NULL
);

730 
	`TEST_ASSERT
 (
is_ok
);

731 
	`jîry_ªÀa£_vÆue
 (
vÆ_≈
);

734 
vÆ_a_foo
 = 
	`gë_¥›îty
 (
vÆ_a
, "foo");

735 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_a_foo
));

736 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_a_foo
));

739 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_a_foo
, 
vÆ_a
, 
NULL
, 0);

740 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

741 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
ªs
)

742 && 
	`jîry_gë_numbî_vÆue
 (
ªs
) == 12.0);

743 
	`jîry_ªÀa£_vÆue
 (
ªs
);

744 
	`jîry_ªÀa£_vÆue
 (
vÆ_a_foo
);

746 
	`jîry_ªÀa£_vÆue
 (
vÆ_a
);

749 
exã∫Æ_func_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr
);

750 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_fun˘i⁄
 (
exã∫Æ_func_vÆ
)

751 && 
	`jîry_vÆue_is_c⁄°ru˘‹
 (
exã∫Æ_func_vÆ
));

753 
ªs
 = 
	`£t_¥›îty
 (
globÆ_obj_vÆ
, "exã∫Æ", 
exã∫Æ_func_vÆ
);

754 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

755 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

756 
	`jîry_ªÀa£_vÆue
 (
exã∫Æ_func_vÆ
);

759 
vÆ_ˇŒ_exã∫Æ
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "call_external");

760 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_ˇŒ_exã∫Æ
));

761 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_ˇŒ_exã∫Æ
));

762 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_ˇŒ_exã∫Æ
, 
globÆ_obj_vÆ
, 
NULL
, 0);

763 
	`jîry_ªÀa£_vÆue
 (
vÆ_ˇŒ_exã∫Æ
);

764 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

765 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
ªs
));

766 
sz
 = 
	`jîry_gë_°rög_size
 (
ªs
);

767 
	`TEST_ASSERT
 (
sz
 == 19);

768 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
ªs
, (
jîry_ch¨_t
 *Ë
buf„r
, sz);

769 
	`TEST_ASSERT
 (
sz
 == 19);

770 
	`jîry_ªÀa£_vÆue
 (
ªs
);

771 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
buf„r
, "°rög from h™dÀr", (
size_t
Ë
sz
));

774 
exã∫Æ_c⁄°ru˘_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr_c⁄°ru˘
);

775 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_fun˘i⁄
 (
exã∫Æ_c⁄°ru˘_vÆ
)

776 && 
	`jîry_vÆue_is_c⁄°ru˘‹
 (
exã∫Æ_c⁄°ru˘_vÆ
));

778 
ªs
 = 
	`£t_¥›îty
 (
globÆ_obj_vÆ
, "exã∫Æ_c⁄°ru˘", 
exã∫Æ_c⁄°ru˘_vÆ
);

779 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

780 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

781 
	`jîry_ªÀa£_vÆue
 (
ªs
);

784 
¨gs
[0] = 
	`jîry_¸óã_boﬁón
 (
åue
);

785 
ªs
 = 
	`jîry_c⁄°ru˘_obje˘
 (
exã∫Æ_c⁄°ru˘_vÆ
, 
¨gs
, 1);

786 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

787 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
ªs
));

788 
vÆ_vÆue_fõld
 = 
	`gë_¥›îty
 (
ªs
, "value_field");

791 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_vÆue_fõld
));

792 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
vÆ_vÆue_fõld
)

793 && 
	`jîry_gë_boﬁón_vÆue
 (
vÆ_vÆue_fõld
));

794 
	`jîry_ªÀa£_vÆue
 (
vÆ_vÆue_fõld
);

795 
	`jîry_ªÀa£_vÆue
 (
exã∫Æ_c⁄°ru˘_vÆ
);

797 *
±r
 = 
NULL
;

798 c⁄° 
jîry_obje˘_«tive_öfo_t
 *
out_öfo_p
;

799 
is_ok
 = 
	`jîry_gë_obje˘_«tive_poöãr
 (
ªs
, &
±r
, &
out_öfo_p
);

800 
	`TEST_ASSERT
 (
is_ok


801 && (
uöçå_t
Ë
±r
 == (uintptr_t) 0x0012345678abcdefull

802 && 
out_öfo_p
 =&
	`JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
 (
böd2
));

805 
is_ok
 = 
	`jîry_gë_obje˘_«tive_poöãr
 (
ªs
, &
±r
, 
NULL
);

806 
	`TEST_ASSERT
 (
is_ok


807 && (
uöçå_t
Ë
±r
 == (uintptr_t) 0x0012345678abcdefull);

809 
	`jîry_ªÀa£_vÆue
 (
ªs
);

812 
jîry_vÆue_t
 
obj_‰ìcb
 = 
	`jîry_¸óã_obje˘
 ();

813 
	`jîry_£t_obje˘_«tive_poöãr
 (
obj_‰ìcb
,

815 &
	`JERRY_NATIVE_HANDLE_INFO_FOR_CTYPE
 (
böd3
));

817 
	`jîry_ªÀa£_vÆue
 (
obj_‰ìcb
);

820 
throw_ã°_h™dÀr_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr_throw_ã°
);

821 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_fun˘i⁄
 (
throw_ã°_h™dÀr_vÆ
));

823 
ªs
 = 
	`£t_¥›îty
 (
globÆ_obj_vÆ
, "throw_ã°", 
throw_ã°_h™dÀr_vÆ
);

824 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

825 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

826 
	`jîry_ªÀa£_vÆue
 (
ªs
);

827 
	`jîry_ªÀa£_vÆue
 (
throw_ã°_h™dÀr_vÆ
);

829 
vÆ_t
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "call_throw_test");

830 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

831 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_t
));

833 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_t
, 
globÆ_obj_vÆ
, 
NULL
, 0);

834 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

835 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

836 
	`jîry_ªÀa£_vÆue
 (
ªs
);

839 
vÆ_t
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "throw_reference_error");

840 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

841 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_t
));

843 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_t
, 
globÆ_obj_vÆ
, 
NULL
, 0);

845 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

846 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

849 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
ªs
));

850 
	`jîry_ªÀa£_vÆue
 (
ªs
);

853 
obj_vÆ
 = 
	`jîry_¸óã_obje˘
 ();

854 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
obj_vÆ
, 
globÆ_obj_vÆ
, 
NULL
, 0);

855 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

858 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
ªs
));

859 
	`jîry_ªÀa£_vÆue
 (
ªs
);

861 
	`jîry_ªÀa£_vÆue
 (
obj_vÆ
);

864 
vÆ_t
 = 
	`gë_¥›îty
 (
globÆ_obj_vÆ
, "throw_reference_error");

865 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

866 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_t
));

868 
ªs
 = 
	`jîry_c⁄°ru˘_obje˘
 (
vÆ_t
, 
NULL
, 0);

869 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

870 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

873 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
ªs
));

874 
	`jîry_ªÀa£_vÆue
 (
ªs
);

877 
obj_vÆ
 = 
	`jîry_¸óã_obje˘
 ();

878 
ªs
 = 
	`jîry_c⁄°ru˘_obje˘
 (
obj_vÆ
, 
NULL
, 0);

879 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

882 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
ªs
));

883 
	`jîry_ªÀa£_vÆue
 (
ªs
);

885 
	`jîry_ªÀa£_vÆue
 (
obj_vÆ
);

888 
jîry_vÆue_t
 
¨øy_obj_vÆ
 = 
	`jîry_¸óã_¨øy
 (10);

889 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_¨øy
 (
¨øy_obj_vÆ
));

890 
	`TEST_ASSERT
 (
	`jîry_gë_¨øy_Àngth
 (
¨øy_obj_vÆ
) == 10);

892 
jîry_vÆue_t
 
v_ö
 = 
	`jîry_¸óã_numbî
 (10.5);

893 
	`jîry_£t_¥›îty_by_ödex
 (
¨øy_obj_vÆ
, 5, 
v_ö
);

894 
jîry_vÆue_t
 
v_out
 = 
	`jîry_gë_¥›îty_by_ödex
 (
¨øy_obj_vÆ
, 5);

896 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
v_out
)

897 && 
	`jîry_gë_numbî_vÆue
 (
v_out
) == 10.5);

899 
	`jîry_dñëe_¥›îty_by_ödex
 (
¨øy_obj_vÆ
, 5);

900 
jîry_vÆue_t
 
v_und
 = 
	`jîry_gë_¥›îty_by_ödex
 (
¨øy_obj_vÆ
, 5);

902 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
v_und
));

904 
	`jîry_ªÀa£_vÆue
 (
v_ö
);

905 
	`jîry_ªÀa£_vÆue
 (
v_out
);

906 
	`jîry_ªÀa£_vÆue
 (
v_und
);

907 
	`jîry_ªÀa£_vÆue
 (
¨øy_obj_vÆ
);

910 
jîry_¥›îty_des¸ùt‹_t
 
¥›_desc
;

911 
	`jîry_öô_¥›îty_des¸ùt‹_fõlds
 (&
¥›_desc
);

912 
	`TEST_ASSERT
 (
¥›_desc
.
is_vÆue_deföed
 =
Ál£
);

913 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
¥›_desc
.
vÆue
));

914 
	`TEST_ASSERT
 (
¥›_desc
.
is_wrôabÀ_deföed
 =
Ál£
);

915 
	`TEST_ASSERT
 (
¥›_desc
.
is_wrôabÀ
 =
Ál£
);

916 
	`TEST_ASSERT
 (
¥›_desc
.
is_íumîabÀ_deföed
 =
Ál£
);

917 
	`TEST_ASSERT
 (
¥›_desc
.
is_íumîabÀ
 =
Ál£
);

918 
	`TEST_ASSERT
 (
¥›_desc
.
is_c⁄figuøbÀ_deföed
 =
Ál£
);

919 
	`TEST_ASSERT
 (
¥›_desc
.
is_c⁄figuøbÀ
 =
Ál£
);

920 
	`TEST_ASSERT
 (
¥›_desc
.
is_gë_deföed
 =
Ál£
);

921 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
¥›_desc
.
gëãr
));

922 
	`TEST_ASSERT
 (
¥›_desc
.
is_£t_deföed
 =
Ál£
);

923 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
¥›_desc
.
£âî
));

926 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "my_defined_property");

927 
¥›_desc
.
is_vÆue_deföed
 = 
åue
;

928 
¥›_desc
.
vÆue
 = 
	`jîry_acquúe_vÆue
 (
¥›_«me
);

929 
ªs
 = 
	`jîry_deföe_own_¥›îty
 (
globÆ_obj_vÆ
, 
¥›_«me
, &
¥›_desc
);

930 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

931 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
ªs
));

932 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

933 
	`jîry_ªÀa£_vÆue
 (
ªs
);

934 
	`jîry_‰ì_¥›îty_des¸ùt‹_fõlds
 (&
¥›_desc
);

937 
is_ok
 = 
	`jîry_gë_own_¥›îty_des¸ùt‹
 (
globÆ_obj_vÆ
, 
¥›_«me
, &
¥›_desc
);

938 
	`TEST_ASSERT
 (
is_ok
);

939 
	`TEST_ASSERT
 (
¥›_desc
.
is_vÆue_deföed
 =
åue
);

940 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
¥›_desc
.
vÆue
));

941 
	`TEST_ASSERT
 (
¥›_desc
.
is_wrôabÀ
 =
Ál£
);

942 
	`TEST_ASSERT
 (
¥›_desc
.
is_íumîabÀ
 =
Ál£
);

943 
	`TEST_ASSERT
 (
¥›_desc
.
is_c⁄figuøbÀ
 =
Ál£
);

944 
	`TEST_ASSERT
 (
¥›_desc
.
is_gë_deföed
 =
Ál£
);

945 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
¥›_desc
.
gëãr
));

946 
	`TEST_ASSERT
 (
¥›_desc
.
is_£t_deföed
 =
Ál£
);

947 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_undeföed
 (
¥›_desc
.
£âî
));

948 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

949 
	`jîry_‰ì_¥›îty_des¸ùt‹_fõlds
 (&
¥›_desc
);

952 
ªs
 = 
	`jîry_gë_obje˘_keys
 (
globÆ_obj_vÆ
);

953 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

954 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_¨øy
 (
ªs
));

955 
	`jîry_ªÀa£_vÆue
 (
ªs
);

958 
obj_vÆ
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë"√w Såög ('hñlo')", 20, 
Ál£
);

959 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
obj_vÆ
));

960 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
obj_vÆ
));

961 
	`TEST_ASSERT
 (!
	`jîry_vÆue_is_°rög
 (
obj_vÆ
));

962 
¥im_vÆ
 = 
	`jîry_vÆue_to_¥imôive
 (
obj_vÆ
);

963 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
¥im_vÆ
));

964 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
¥im_vÆ
));

965 
	`jîry_ªÀa£_vÆue
 (
¥im_vÆ
);

968 
¥Ÿo_vÆ
 = 
	`jîry_gë_¥ŸŸy≥
 (
obj_vÆ
);

969 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
¥Ÿo_vÆ
));

970 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
¥Ÿo_vÆ
));

971 
	`jîry_ªÀa£_vÆue
 (
obj_vÆ
);

974 
obj_vÆ
 = 
	`jîry_¸óã_obje˘
 ();

975 
ªs
 = 
	`jîry_£t_¥ŸŸy≥
 (
obj_vÆ
, 
	`jîry_¸óã_nuŒ
 ());

976 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

977 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
ªs
));

978 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

980 
ªs
 = 
	`jîry_£t_¥ŸŸy≥
 (
obj_vÆ
, 
	`jîry_¸óã_obje˘
 ());

981 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

982 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
ªs
));

983 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªs
));

984 
¥Ÿo_vÆ
 = 
	`jîry_gë_¥ŸŸy≥
 (
obj_vÆ
);

985 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
¥Ÿo_vÆ
));

986 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
¥Ÿo_vÆ
));

987 
	`jîry_ªÀa£_vÆue
 (
¥Ÿo_vÆ
);

988 
	`jîry_ªÀa£_vÆue
 (
obj_vÆ
);

991 c⁄° *
evÆ_code_§c_p
 = "(function () {Ñeturn 123; })";

992 
vÆ_t
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë
evÆ_code_§c_p
, 
	`°æí
 (evÆ_code_§c_p), 
åue
);

993 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

994 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_obje˘
 (
vÆ_t
));

995 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_fun˘i⁄
 (
vÆ_t
));

997 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
 (
vÆ_t
, 
	`jîry_¸óã_undeföed
 (), 
NULL
, 0);

998 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

999 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
ªs
)

1000 && 
	`jîry_gë_numbî_vÆue
 (
ªs
) == 123.0);

1001 
	`jîry_ªÀa£_vÆue
 (
ªs
);

1003 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

1006 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

1009 
	`jîry_gc
 ();

1012 
evÆ_code_§c_p
 = "\x0a \x0b \x0c \xc2\xa0 \xe2\x80\xa8 \xe2\x80\xa9 \xef\xbb\xbf 4321";

1013 
vÆ_t
 = 
	`jîry_evÆ
 ((
jîry_ch¨_t
 *Ë
evÆ_code_§c_p
, 
	`°æí
 (evÆ_code_§c_p), 
åue
);

1014 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
vÆ_t
));

1015 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_numbî
 (
vÆ_t
)

1016 && 
	`jîry_gë_numbî_vÆue
 (
vÆ_t
) == 4321.0);

1017 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

1020 
vÆ_t
 = 
	`jîry_¸óã_numbî
 (6.25);

1021 
numbî_vÆ
 = 
	`jîry_gë_numbî_vÆue
 (
vÆ_t
);

1022 
	`TEST_ASSERT
 (
numbî_vÆ
 * 3 == 18.75);

1023 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

1025 
vÆ_t
 = 
	`jîry_¸óã_numbî_öföôy
 (
åue
);

1026 
numbî_vÆ
 = 
	`jîry_gë_numbî_vÆue
 (
vÆ_t
);

1027 
	`TEST_ASSERT
 (
numbî_vÆ
 * 3 ==Çumber_val &&Çumber_val != 0.0);

1028 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

1030 
vÆ_t
 = 
	`jîry_¸óã_numbî_«n
 ();

1031 
numbî_vÆ
 = 
	`jîry_gë_numbî_vÆue
 (
vÆ_t
);

1032 
	`TEST_ASSERT
 (
numbî_vÆ
 !=Çumber_val);

1033 
	`jîry_ªÀa£_vÆue
 (
vÆ_t
);

1035 
	`jîry_˛ónup
 ();

1037 
	`TEST_ASSERT
 (
ã°_≠i_is_‰ì_ˇŒback_was_ˇŒed
);

1040 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_ERROR_MESSAGES
))

1042 
	`jîry_öô
 (
JERRY_INIT_SHOW_OPCODES
);

1044 c⁄° *
∑r£r_îr_§c_p
 = "b = 'hello';\nvará = (;";

1045 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
∑r£r_îr_§c_p
,

1046 
	`°æí
 (
∑r£r_îr_§c_p
),

1047 
Ál£
);

1048 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

1049 
	`jîry_vÆue_˛ór_îr‹_Êag
 (&
∑r£d_code_vÆ
);

1050 
jîry_vÆue_t
 
îr_°r_vÆ
 = 
	`jîry_vÆue_to_°rög
 (
∑r£d_code_vÆ
);

1051 
jîry_size_t
 
îr_°r_size
 = 
	`jîry_gë_°rög_size
 (
îr_°r_vÆ
);

1052 
jîry_ch¨_t
 
îr_°r_buf
[256];

1053 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
îr_°r_vÆ
, 
îr_°r_buf
, 
îr_°r_size
);

1054 
îr_°r_buf
[
sz
] = 0;

1056 
	`jîry_ªÀa£_vÆue
 (
îr_°r_vÆ
);

1057 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

1058 
	`TEST_ASSERT
 (!
	`°rcmp
 ((*Ë
îr_°r_buf
,

1061 
	`jîry_˛ónup
 ();

1065 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_VM_EXEC_STOP
))

1067 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

1069 
cou¡down
 = 6;

1070 
	`jîry_£t_vm_exec_°›_ˇŒback
 (
vm_exec_°›_ˇŒback
, &
cou¡down
, 16);

1072 c⁄° *
öf_lo›_code_§c_p
 = "while(true) {}";

1073 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
öf_lo›_code_§c_p
, 
	`°æí
 (öf_lo›_code_§c_p), 
Ál£
);

1074 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

1075 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

1076 
	`TEST_ASSERT
 (
cou¡down
 == 0);

1078 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

1080 
	`jîry_ªÀa£_vÆue
 (
ªs
);

1081 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

1087 
cou¡down
 = 6;

1089 
öf_lo›_code_§c_p
 = ("function f() { while (true) ; }\n"

1092 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
öf_lo›_code_§c_p
, 
	`°æí
 (öf_lo›_code_§c_p), 
Ál£
);

1094 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

1095 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

1096 
	`TEST_ASSERT
 (
cou¡down
 == 0);

1100 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

1102 
	`jîry_ªÀa£_vÆue
 (
ªs
);

1103 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

1105 
	`jîry_˛ónup
 ();

1109 
	`jîry_öô
 (
JERRY_INIT_SHOW_OPCODES
);

1111 
uöt32_t
 
num_magic_°rög_ôems
 = (uöt32_tË( (
magic_°rög_ôems
Ë/  (
jîry_ch¨_±r_t
));

1112 
	`jîry_ªgi°î_magic_°rögs
 (
magic_°rög_ôems
,

1113 
num_magic_°rög_ôems
,

1114 
magic_°rög_Àngths
);

1116 c⁄° *
ms_code_§c_p
 = "var global = {}; var console = [1]; varÖrocess = 1;";

1117 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
ms_code_§c_p
, 
	`°æí
 (ms_code_§c_p), 
Ál£
);

1118 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

1120 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

1121 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

1122 
	`jîry_ªÀa£_vÆue
 (
ªs
);

1123 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

1126 
¨gs
[0] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "console");

1127 
¨gs
[1] = 
	`jîry_¸óã_°rög
 ((
jîry_ch¨_t
 *) "\xed\xa0\x80\xed\xb6\x8a");

1129 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[0]);

1130 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[0]);

1132 
°rög_c⁄sﬁe
[
˚su8_sz
];

1133 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs
[0], (
jîry_ch¨_t
 *Ë
°rög_c⁄sﬁe
, 
˚su8_sz
);

1135 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
°rög_c⁄sﬁe
, "c⁄sﬁe", 
˚su8_sz
));

1136 
	`TEST_ASSERT
 (
˚su8_Àngth
 == 7);

1137 
	`TEST_ASSERT
 (
˚su8_Àngth
 =
˚su8_sz
);

1139 
	`jîry_ªÀa£_vÆue
 (
¨gs
[0]);

1141 
˚su8_Àngth
 = 
	`jîry_gë_°rög_Àngth
 (
¨gs
[1]);

1142 
˚su8_sz
 = 
	`jîry_gë_°rög_size
 (
¨gs
[1]);

1144 
°rög_gªek_zîo_sign
[
˚su8_sz
];

1145 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs
[1], (
jîry_ch¨_t
 *Ë
°rög_gªek_zîo_sign
, 
˚su8_sz
);

1147 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
°rög_gªek_zîo_sign
, "\xed\xa0\x80\xed\xb6\x8a", 
˚su8_sz
));

1148 
	`TEST_ASSERT
 (
˚su8_Àngth
 == 2);

1149 
	`TEST_ASSERT
 (
˚su8_sz
 == 6);

1151 
	`jîry_ªÀa£_vÆue
 (
¨gs
[1]);

1153 
	`jîry_˛ónup
 ();

1156 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_SNAPSHOT_SAVE
)

1157 && 
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_SNAPSHOT_EXEC
))

1159 
uöt32_t
 
globÆ_mode_¢≠shŸ_buf„r
[
SNAPSHOT_BUFFER_SIZE
];

1160 
uöt32_t
 
evÆ_mode_¢≠shŸ_buf„r
[
SNAPSHOT_BUFFER_SIZE
];

1162 c⁄° *
code_to_¢≠shŸ_p
 = "(function () {Ñeturn 'string from snapshot'; }) ();";

1164 
	`jîry_öô
 (
JERRY_INIT_SHOW_OPCODES
);

1165 
size_t
 
globÆ_mode_¢≠shŸ_size
 = 
	`jîry_∑r£_™d_ßve_¢≠shŸ
 ((
jîry_ch¨_t
 *Ë
code_to_¢≠shŸ_p
,

1166 
	`°æí
 (
code_to_¢≠shŸ_p
),

1167 
åue
,

1168 
Ál£
,

1169 
globÆ_mode_¢≠shŸ_buf„r
,

1170 
SNAPSHOT_BUFFER_SIZE
);

1171 
	`TEST_ASSERT
 (
globÆ_mode_¢≠shŸ_size
 != 0);

1172 
	`jîry_˛ónup
 ();

1174 
	`jîry_öô
 (
JERRY_INIT_SHOW_OPCODES
);

1175 
size_t
 
evÆ_mode_¢≠shŸ_size
 = 
	`jîry_∑r£_™d_ßve_¢≠shŸ
 ((
jîry_ch¨_t
 *Ë
code_to_¢≠shŸ_p
,

1176 
	`°æí
 (
code_to_¢≠shŸ_p
),

1177 
Ál£
,

1178 
Ál£
,

1179 
evÆ_mode_¢≠shŸ_buf„r
,

1180 
SNAPSHOT_BUFFER_SIZE
);

1181 
	`TEST_ASSERT
 (
evÆ_mode_¢≠shŸ_size
 != 0);

1182 
	`jîry_˛ónup
 ();

1184 
	`jîry_öô
 (
JERRY_INIT_SHOW_OPCODES
);

1186 
ªs
 = 
	`jîry_exec_¢≠shŸ
 (
globÆ_mode_¢≠shŸ_buf„r
,

1187 
globÆ_mode_¢≠shŸ_size
,

1188 
Ál£
);

1190 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

1191 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
ªs
));

1192 
sz
 = 
	`jîry_gë_°rög_size
 (
ªs
);

1193 
	`TEST_ASSERT
 (
sz
 == 20);

1194 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
ªs
, (
jîry_ch¨_t
 *Ë
buf„r
, sz);

1195 
	`TEST_ASSERT
 (
sz
 == 20);

1196 
	`jîry_ªÀa£_vÆue
 (
ªs
);

1197 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
buf„r
, "°rög from s«pshŸ", (
size_t
Ë
sz
));

1199 
ªs
 = 
	`jîry_exec_¢≠shŸ
 (
evÆ_mode_¢≠shŸ_buf„r
,

1200 
evÆ_mode_¢≠shŸ_size
,

1201 
Ál£
);

1203 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

1204 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
ªs
));

1205 
sz
 = 
	`jîry_gë_°rög_size
 (
ªs
);

1206 
	`TEST_ASSERT
 (
sz
 == 20);

1207 
sz
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
ªs
, (
jîry_ch¨_t
 *Ë
buf„r
, sz);

1208 
	`TEST_ASSERT
 (
sz
 == 20);

1209 
	`jîry_ªÀa£_vÆue
 (
ªs
);

1210 
	`TEST_ASSERT
 (!
	`°∫cmp
 (
buf„r
, "°rög from s«pshŸ", (
size_t
Ë
sz
));

1212 
	`jîry_˛ónup
 ();

1216 i‡(
	`jîry_is_„©uª_íabÀd
 (
JERRY_FEATURE_SNAPSHOT_SAVE
))

1219 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

1221 
uöt32_t
 
lôîÆ_buf„r_c
[
SNAPSHOT_BUFFER_SIZE
];

1222 c⁄° *
code_f‹_c_f‹m©_p
 = "var object = {áa:'fo o', Bb:'max',áaa:'xzy0' };";

1224 
size_t
 
lôîÆ_sizes_c_f‹m©
 = 
	`jîry_∑r£_™d_ßve_lôîÆs
 ((
jîry_ch¨_t
 *Ë
code_f‹_c_f‹m©_p
,

1225 
	`°æí
 (
code_f‹_c_f‹m©_p
),

1226 
Ál£
,

1227 
lôîÆ_buf„r_c
,

1228 
SNAPSHOT_BUFFER_SIZE
,

1229 
åue
);

1230 
	`TEST_ASSERT
 (
lôîÆ_sizes_c_f‹m©
 == 203);

1232 c⁄° *
ex≥˘ed_c_f‹m©
 = (

1250 
	`TEST_ASSERT
 (!
	`°∫cmp
 ((*Ë
lôîÆ_buf„r_c
, 
ex≥˘ed_c_f‹m©
, 
lôîÆ_sizes_c_f‹m©
));

1251 
	`jîry_˛ónup
 ();

1254 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

1256 
uöt32_t
 
lôîÆ_buf„r_li°
[
SNAPSHOT_BUFFER_SIZE
];

1257 c⁄° *
code_f‹_li°_f‹m©_p
 = "var obj = {á:'aa', bb:'Bb' };";

1259 
size_t
 
lôîÆ_sizes_li°_f‹m©
 = 
	`jîry_∑r£_™d_ßve_lôîÆs
 ((
jîry_ch¨_t
 *Ë
code_f‹_li°_f‹m©_p
,

1260 
	`°æí
 (
code_f‹_li°_f‹m©_p
),

1261 
Ál£
,

1262 
lôîÆ_buf„r_li°
,

1263 
SNAPSHOT_BUFFER_SIZE
,

1264 
Ál£
);

1266 
	`TEST_ASSERT
 (
lôîÆ_sizes_li°_f‹m©
 == 25);

1267 
	`TEST_ASSERT
 (!
	`°∫cmp
 ((*Ë
lôîÆ_buf„r_li°
, "1á\n2 Bb\n2áa\n2 bb\n3 obj\n", 
lôîÆ_sizes_li°_f‹m©
));

1269 
	`jîry_˛ónup
 ();

1273 
	}
}

	@deps/jerry/tests/unit-core/test-common.h

16 #i‚de‡
TEST_COMMON_H


17 
	#TEST_COMMON_H


	)

19 
	~"jπ.h
"

21 
	~<m©h.h
>

22 
	~<£tjmp.h
>

23 
	~<°dio.h
>

24 
	~<°dlib.h
>

25 
	~<°d¨g.h
>

26 
	~<°rög.h
>

28 
	#TEST_ASSERT
(
x
) \

31 i‡(
	`u∆ikñy
 (!(
x
))) \

33 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, \

36 
__FILE__
, \

37 
__func__
, \

38 (Ë
__LINE__
); \

39 
	`jîry_Áèl
 (
ERR_FAILED_INTERNAL_ASSERTION
); \

41 } 0)

	)

47 
	#TEST_INIT
() \

50 
FILE
 *
f_∫d
 = 
	`f›í
 ("/dev/urandom", "r"); \

52 i‡(
f_∫d
 =
NULL
) \

57 
uöt32_t
 
£ed
; \

59 
size_t
 
byãs_ªad
 = 
	`‰ód
 (&
£ed
, 1,  (£ed), 
f_∫d
); \

61 
	`f˛o£
 (
f_∫d
); \

63 i‡(
byãs_ªad
 ! (
£ed
)) \

68 
	`§™d
 (
£ed
); \

69 } 0)

	)

	@deps/jerry/tests/unit-core/test-context-data.c

16 
	~"c⁄fig.h
"

17 
	~"jîrys¸ùt.h
"

18 
	~"ã°-comm⁄.h
"

20 
boﬁ
 
	gã°_c⁄ãxt_d©a1_√w_ˇŒed
 = 
Ál£
;

21 
boﬁ
 
	gã°_c⁄ãxt_d©a2_√w_ˇŒed
 = 
Ál£
;

22 
boﬁ
 
	gã°_c⁄ãxt_d©a1_‰ì_ˇŒed
 = 
Ál£
;

23 
boﬁ
 
	gã°_c⁄ãxt_d©a2_‰ì_ˇŒed
 = 
Ál£
;

26 c⁄° *
	g°rög1
 = "item1";

29 
	$ã°_c⁄ãxt_d©a1_√w
 (*
u£r_d©a_p
)

31 
ã°_c⁄ãxt_d©a1_√w_ˇŒed
 = 
åue
;

32 *((c⁄° **Ë
u£r_d©a_p
Ë
°rög1
;

33 
	}
}

36 
	$ã°_c⁄ãxt_d©a1_‰ì
 (*
u£r_d©a_p
)

38 
ã°_c⁄ãxt_d©a1_‰ì_ˇŒed
 = 
åue
;

39 
	`TEST_ASSERT
 ((*(c⁄° **Ë
u£r_d©a_p
Ë=
°rög1
);

40 
	}
}

42 c⁄° 
jîry_c⁄ãxt_d©a_m™agî_t
 
	gm™agî1
 =

44 .
öô_cb
 = 
ã°_c⁄ãxt_d©a1_√w
,

45 .
	gdeöô_cb
 = 
ã°_c⁄ãxt_d©a1_‰ì
,

46 .
	gbyãs_√eded
 =  (const *)

50 c⁄° *
	g°rög2
 = "item2";

53 
	$ã°_c⁄ãxt_d©a2_√w
 (*
u£r_d©a_p
)

55 
ã°_c⁄ãxt_d©a2_√w_ˇŒed
 = 
åue
;

56 *((c⁄° **Ë
u£r_d©a_p
Ë
°rög2
;

57 
	}
}

60 
	$ã°_c⁄ãxt_d©a2_‰ì
 (*
u£r_d©a_p
)

62 
ã°_c⁄ãxt_d©a2_‰ì_ˇŒed
 = 
åue
;

63 
	`TEST_ASSERT
 ((*(c⁄° **Ë
u£r_d©a_p
Ë=
°rög2
);

64 
	}
}

66 c⁄° 
jîry_c⁄ãxt_d©a_m™agî_t
 
	gm™agî2
 =

68 .
öô_cb
 = 
ã°_c⁄ãxt_d©a2_√w
,

69 .
	gdeöô_cb
 = 
ã°_c⁄ãxt_d©a2_‰ì
,

70 .
	gbyãs_√eded
 =  (const *)

74 
	$maö
 ()

76 
	`TEST_INIT
 ();

78 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

80 
	`TEST_ASSERT
 (!
	`°rcmp
 (*((c⁄° **Ë
	`jîry_gë_c⁄ãxt_d©a
 (&
m™agî1
)), "item1"));

81 
	`TEST_ASSERT
 (!
	`°rcmp
 (*((c⁄° **Ë
	`jîry_gë_c⁄ãxt_d©a
 (&
m™agî2
)), "item2"));

83 
	`TEST_ASSERT
 (
ã°_c⁄ãxt_d©a1_√w_ˇŒed
);

84 
	`TEST_ASSERT
 (
ã°_c⁄ãxt_d©a2_√w_ˇŒed
);

86 
	`TEST_ASSERT
 (!
ã°_c⁄ãxt_d©a1_‰ì_ˇŒed
);

87 
	`TEST_ASSERT
 (!
ã°_c⁄ãxt_d©a2_‰ì_ˇŒed
);

89 
	`jîry_˛ónup
 ();

91 
	`TEST_ASSERT
 (
ã°_c⁄ãxt_d©a1_‰ì_ˇŒed
);

92 
	`TEST_ASSERT
 (
ã°_c⁄ãxt_d©a2_‰ì_ˇŒed
);

95 
	}
}

	@deps/jerry/tests/unit-core/test-date-helpers.c

16 
	~"ecma-buûtö-hñ≥rs.h
"

17 
	~"ecma-globÆs.h
"

18 
	~"ecma-hñ≥rs.h
"

20 
	~"ã°-comm⁄.h
"

22 
	#MS_PER_DAY
 ((
ecma_numbî_t
Ë86400000)

	)

23 
	#MS_PER_YEAR
 ((
ecma_numbî_t
Ë365 * 
MS_PER_DAY
)

	)

24 
	#START_OF_GREGORIAN_CALENDAR
 ((
ecma_numbî_t
Ë(-1970 * 
MS_PER_YEAR
 \

25 - (1970 / 4Ë* 
MS_PER_DAY
 \

26 + (1970 / 100Ë* 
MS_PER_DAY
 \

27 - (1970 / 400Ë* 
MS_PER_DAY
 \

28 - 
MS_PER_DAY
))

	)

34 
	$maö
 ()

38 
	`TEST_ASSERT
 (
	`ecma_d©e_day
 (0) == 0);

39 
	`TEST_ASSERT
 (
	`ecma_d©e_day
 (
MS_PER_DAY
) == 1);

43 
	`TEST_ASSERT
 (
	`ecma_d©e_time_wôhö_day
 (0) == 0);

44 
	`TEST_ASSERT
 (
	`ecma_d©e_time_wôhö_day
 (42) == 42);

45 
	`TEST_ASSERT
 (
	`ecma_d©e_time_wôhö_day
 (42.51) == 42.51);

46 
	`TEST_ASSERT
 (
	`ecma_d©e_time_wôhö_day
 (
MS_PER_DAY
 + 42) == 42);

50 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (0) == 1970);

51 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (0) == 1970);

52 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
MS_PER_DAY
) == 1970);

53 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 ((
MS_PER_DAY
Ë* (
ecma_numbî_t
) 365 - 1) == 1970);

54 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
MS_PER_DAY
 * (
ecma_numbî_t
) 365) == 1971);

55 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
MS_PER_DAY
 * (
ecma_numbî_t
) (365 * (2015 - 1970)))

57 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
MS_PER_DAY
 * (
ecma_numbî_t
) (365.25 * (2015 - 1970)))

59 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (-
MS_PER_YEAR
) == 1969);

60 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (-1970 * 
MS_PER_YEAR
) == 1);

61 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 0);

62 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
 - 1) == -1);

63 
	`TEST_ASSERT
 (
	`ecma_d©e_yór_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
 - 3 * 
MS_PER_YEAR
) == -3);

67 
	`TEST_ASSERT
 (
	`ecma_d©e_m⁄th_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 0);

68 
	`TEST_ASSERT
 (
	`ecma_d©e_m⁄th_‰om_time
 (0) == 0);

69 
	`TEST_ASSERT
 (
	`ecma_d©e_m⁄th_‰om_time
 (-
MS_PER_DAY
) == 11);

70 
	`TEST_ASSERT
 (
	`ecma_d©e_m⁄th_‰om_time
 (31 * 
MS_PER_DAY
) == 1);

74 
	`TEST_ASSERT
 (
	`ecma_d©e_d©e_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 1);

75 
	`TEST_ASSERT
 (
	`ecma_d©e_d©e_‰om_time
 (0) == 1);

76 
	`TEST_ASSERT
 (
	`ecma_d©e_d©e_‰om_time
 (-
MS_PER_DAY
) == 31);

77 
	`TEST_ASSERT
 (
	`ecma_d©e_d©e_‰om_time
 (31 * 
MS_PER_DAY
) == 1);

89 
	`TEST_ASSERT
 (
	`ecma_d©e_hour_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 0);

90 
	`TEST_ASSERT
 (
	`ecma_d©e_hour_‰om_time
 (0) == 0);

91 
	`TEST_ASSERT
 (
	`ecma_d©e_hour_‰om_time
 (-
MS_PER_DAY
) == 0);

92 
	`TEST_ASSERT
 (
	`ecma_d©e_hour_‰om_time
 (-1) == 23);

96 
	`TEST_ASSERT
 (
	`ecma_d©e_mö_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 0);

97 
	`TEST_ASSERT
 (
	`ecma_d©e_mö_‰om_time
 (0) == 0);

98 
	`TEST_ASSERT
 (
	`ecma_d©e_mö_‰om_time
 (-
MS_PER_DAY
) == 0);

99 
	`TEST_ASSERT
 (
	`ecma_d©e_mö_‰om_time
 (-1) == 59);

103 
	`TEST_ASSERT
 (
	`ecma_d©e_£c_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 0);

104 
	`TEST_ASSERT
 (
	`ecma_d©e_£c_‰om_time
 (0) == 0);

105 
	`TEST_ASSERT
 (
	`ecma_d©e_£c_‰om_time
 (-
MS_PER_DAY
) == 0);

106 
	`TEST_ASSERT
 (
	`ecma_d©e_£c_‰om_time
 (-1) == 59);

110 
	`TEST_ASSERT
 (
	`ecma_d©e_ms_‰om_time
 (
START_OF_GREGORIAN_CALENDAR
) == 0);

111 
	`TEST_ASSERT
 (
	`ecma_d©e_ms_‰om_time
 (0) == 0);

112 
	`TEST_ASSERT
 (
	`ecma_d©e_ms_‰om_time
 (-
MS_PER_DAY
) == 0);

113 
	`TEST_ASSERT
 (
	`ecma_d©e_ms_‰om_time
 (-1) == 999);

121 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (1970, 0, 1) == 0);

122 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (1970, -1, 1) == -31);

123 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (1970, 0, 2.5) == 1);

124 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (1970, 1, 35) == 65);

125 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (1970, 13, 35) == 430);

126 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (2016, 2, 1) == 16861);

127 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (2016, 8, 31) == 17075);

128 
	`TEST_ASSERT
 (
	`ecma_d©e_make_day
 (2016, 9, 1) == 17075);

139 
	}
}

	@deps/jerry/tests/unit-core/test-has-property.c

16 
	~"c⁄fig.h
"

17 
	~"jîrys¸ùt.h
"

18 
	~"ã°-comm⁄.h
"

21 
	$as£π_boﬁón_™d_ªÀa£
 (
jîry_vÆue_t
 
ªsu…
, 
boﬁ
 
ex≥˘ed
)

23 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_boﬁón
 (
ªsu…
));

24 
	`TEST_ASSERT
 (
	`jîry_gë_boﬁón_vÆue
 (
ªsu…
Ë=
ex≥˘ed
);

25 
	`jîry_ªÀa£_vÆue
 (
ªsu…
);

26 
	}
}

29 
	$maö
 ()

31 
	`TEST_INIT
 ();

33 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

35 
jîry_vÆue_t
 
obje˘
 = 
	`jîry_¸óã_obje˘
 ();

36 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög_‰om_utf8
 ((
jîry_ch¨_t
 *) "something");

37 
jîry_vÆue_t
 
¥›_vÆue
 = 
	`jîry_¸óã_boﬁón
 (
åue
);

38 
jîry_vÆue_t
 
¥Ÿo_obje˘
 = 
	`jîry_¸óã_obje˘
 ();

41 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_¥›îty
 (
obje˘
, 
¥›_«me
), 
Ál£
);

42 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_own_¥›îty
 (
obje˘
, 
¥›_«me
), 
Ál£
);

44 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_£t_¥ŸŸy≥
 (
obje˘
, 
¥Ÿo_obje˘
), 
åue
);

47 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_¥›îty
 (
obje˘
, 
¥›_«me
), 
Ál£
);

48 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_own_¥›îty
 (
obje˘
, 
¥›_«me
), 
Ál£
);

50 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_£t_¥›îty
 (
¥Ÿo_obje˘
, 
¥›_«me
, 
¥›_vÆue
), 
åue
);

53 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_¥›îty
 (
obje˘
, 
¥›_«me
), 
åue
);

54 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_own_¥›îty
 (
obje˘
, 
¥›_«me
), 
Ál£
);

56 
	`TEST_ASSERT
 (
	`jîry_dñëe_¥›îty
 (
¥Ÿo_obje˘
, 
¥›_«me
));

57 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_£t_¥›îty
 (
obje˘
, 
¥›_«me
, 
¥›_vÆue
), 
åue
);

60 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_¥›îty
 (
obje˘
, 
¥›_«me
), 
åue
);

61 
	`as£π_boﬁón_™d_ªÀa£
 (
	`jîry_has_own_¥›îty
 (
obje˘
, 
¥›_«me
), 
åue
);

63 
	`jîry_ªÀa£_vÆue
 (
obje˘
);

64 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

65 
	`jîry_ªÀa£_vÆue
 (
¥›_vÆue
);

66 
	`jîry_ªÀa£_vÆue
 (
¥Ÿo_obje˘
);

68 
	`jîry_˛ónup
 ();

71 
	}
}

	@deps/jerry/tests/unit-core/test-heap.c

16 
	~<°dboﬁ.h
>

17 
	~<°döt.h
>

18 
	~<°rög.h
>

20 
	~"jmem.h
"

22 
	#JMEM_ALLOCATOR_INTERNAL


	)

23 
	~"jmem-Æloˇt‹-öã∫Æ.h
"

25 
	~"ã°-comm⁄.h
"

28 
	#ã°_hóp_size
 (32 * 1024)

	)

31 
	#ã°_ôîs
 (4 * 1024)

	)

34 
	#ã°_sub_ôîs
 32

	)

37 
	#ã°_thªshﬁd_block_size
 8192

	)

39 
uöt8_t
 *
	g±rs
[
ã°_sub_ôîs
];

40 
size_t
 
	gsizes
[
ã°_sub_ôîs
];

41 
boﬁ
 
	gis_⁄e_chunked
[
ã°_sub_ôîs
];

44 
	$ã°_hóp_give_some_mem‹y_back
 (
jmem_‰ì_unu£d_mem‹y_£vîôy_t
 
£vîôy
)

46 
p
;

48 i‡(
£vîôy
 =
JMEM_FREE_UNUSED_MEMORY_SEVERITY_LOW
)

50 
p
 = 8;

54 
	`TEST_ASSERT
 (
£vîôy
 =
JMEM_FREE_UNUSED_MEMORY_SEVERITY_HIGH
);

56 
p
 = 1;

59 
i
 = 0; i < 
ã°_sub_ôîs
; i++)

61 i‡(
	`ønd
 (Ë% 
p
 == 0)

63 i‡(
±rs
[
i
] !
NULL
)

65 
size_t
 
k
 = 0; k < 
sizes
[
i
]; k++)

67 
	`TEST_ASSERT
 (
±rs
[
i
][
k
] == 0);

70 
	`jmem_hóp_‰ì_block
 (
±rs
[
i
], 
sizes
[i]);

71 
±rs
[
i
] = 
NULL
;

75 
	}
}

78 
	$maö
 ()

80 
	`TEST_INIT
 ();

82 
	`jmem_hóp_öô
 ();

84 
	`jmem_ªgi°î_‰ì_unu£d_mem‹y_ˇŒback
 (
ã°_hóp_give_some_mem‹y_back
);

86 #ifde‡
JMEM_STATS


91 
uöt32_t
 
i
 = 0; i < 
ã°_ôîs
; i++)

93 
uöt32_t
 
j
 = 0; j < 
ã°_sub_ôîs
; j++)

95 
size_t
 
size
 = (size_tË
	`ønd
 (Ë% 
ã°_thªshﬁd_block_size
;

96 
±rs
[
j
] = (
uöt8_t
 *Ë
	`jmem_hóp_Æloc_block
 (
size
);

97 
sizes
[
j
] = 
size
;

99 
	`TEST_ASSERT
 (
sizes
[
j
] =0 || 
±rs
[j] !
NULL
);

100 
	`mem£t
 (
±rs
[
j
], 0, 
sizes
[j]);

105 
uöt32_t
 
j
 = 0; j < 
ã°_sub_ôîs
; j++)

107 i‡(
±rs
[
j
] !
NULL
)

109 
size_t
 
k
 = 0; k < 
sizes
[
j
]; k++)

111 
	`TEST_ASSERT
 (
±rs
[
j
][
k
] == 0);

114 
	`jmem_hóp_‰ì_block
 (
±rs
[
j
], 
sizes
[j]);

116 
±rs
[
j
] = 
NULL
;

121 #ifde‡
JMEM_STATS


122 
	`jmem_hóp_°©s_¥öt
 ();

126 
	}
}

	@deps/jerry/tests/unit-core/test-lit-char-helpers.c

16 
	~"ecma-hñ≥rs.h
"

17 
	~"lô-°rögs.h
"

18 
	~"ecma-öô-föÆize.h
"

19 
	~"lô-ch¨-hñ≥rs.h
"

20 
	~"js-∑r£r-öã∫Æ.h
"

22 
	~"ã°-comm⁄.h
"

25 
	$maö
 ()

27 
	`TEST_INIT
 ();

29 
	`jmem_öô
 ();

30 
	`ecma_öô
 ();

32 c⁄° 
uöt8_t
 
_1_byã_l⁄g1
[] = "\\u007F";

33 c⁄° 
uöt8_t
 
_1_byã_l⁄g2
[] = "\\u0000";

34 c⁄° 
uöt8_t
 
_1_byã_l⁄g3
[] = "\\u0065";

36 c⁄° 
uöt8_t
 
_2_byã_l⁄g1
[] = "\\u008F";

37 c⁄° 
uöt8_t
 
_2_byã_l⁄g2
[] = "\\u00FF";

38 c⁄° 
uöt8_t
 
_2_byã_l⁄g3
[] = "\\u07FF";

40 c⁄° 
uöt8_t
 
_3_byã_l⁄g1
[] = "\\u08FF";

41 c⁄° 
uöt8_t
 
_3_byã_l⁄g2
[] = "\\u0FFF";

42 c⁄° 
uöt8_t
 
_3_byã_l⁄g3
[] = "\\uFFFF";

44 
size_t
 
Àngth
;

47 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_1_byã_l⁄g1
 + 2, 4));

48 
	`TEST_ASSERT
 (
Àngth
 == 1);

50 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_1_byã_l⁄g2
 + 2, 4));

51 
	`TEST_ASSERT
 (
Àngth
 == 1);

53 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_1_byã_l⁄g3
 + 2, 4));

54 
	`TEST_ASSERT
 (
Àngth
 == 1);

57 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_2_byã_l⁄g1
 + 2, 4));

58 
	`TEST_ASSERT
 (
Àngth
 == 2);

60 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_2_byã_l⁄g2
 + 2, 4));

61 
	`TEST_ASSERT
 (
Àngth
 == 2);

63 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_2_byã_l⁄g3
 + 2, 4));

64 
	`TEST_ASSERT
 (
Àngth
 == 2);

67 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_3_byã_l⁄g1
 + 2, 4));

68 
	`TEST_ASSERT
 (
Àngth
 != 2);

70 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_3_byã_l⁄g2
 + 2, 4));

71 
	`TEST_ASSERT
 (
Àngth
 == 3);

73 
Àngth
 = 
	`lô_ch¨_gë_utf8_Àngth
 (
	`Àxî_hex_to_ch¨a˘î
 (0, 
_3_byã_l⁄g3
 + 2, 4));

74 
	`TEST_ASSERT
 (
Àngth
 == 3);

76 
	`ecma_föÆize
 ();

77 
	`jmem_föÆize
 ();

80 
	}
}

	@deps/jerry/tests/unit-core/test-literal-storage.c

16 
	~"ecma-hñ≥rs.h
"

17 
	~"ecma-lôîÆ-°‹age.h
"

18 
	~"ã°-comm⁄.h
"

21 
	#ã°_ôîs
 64

	)

24 
	#ã°_sub_ôîs
 64

	)

27 
	#max_ch¨a˘îs_ö_°rög
 256

	)

30 
	$gíî©e_°rög
 (
lô_utf8_byã_t
 *
°r
, 
lô_utf8_size_t
 
Àn
)

32 c⁄° 
lô_utf8_byã_t
 
byãs
[] = "!@#$%^&*()_+abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ123456789";

33 c⁄° 
lô_utf8_size_t
 
Àngth
 = (lô_utf8_size_tË( (
byãs
) - 1);

34 
lô_utf8_size_t
 
i
 = 0; i < 
Àn
; ++i)

36 
°r
[
i
] = 
byãs
[(Ë
	`ønd
 (Ë% 
Àngth
];

38 
	}
}

40 
ecma_numbî_t


41 
	$gíî©e_numbî
 ()

43 
ecma_numbî_t
 
num
 = (”cma_numbî_tË
	`ønd
 () / 32767.0);

44 i‡(
	`ønd
 () % 2)

46 
num
 = -num;

48 
powî
 = 
	`ønd
 () % 30;

49 
powî
-- > 0)

51 
num
 *= 10;

53  
num
;

54 
	}
}

57 
	$maö
 ()

59 
	`TEST_INIT
 ();

61 c⁄° 
lô_utf8_byã_t
 *
±rs
[
ã°_sub_ôîs
];

62 
ecma_numbî_t
 
numbîs
[
ã°_sub_ôîs
];

63 
lô_utf8_byã_t
 
°rögs
[
ã°_sub_ôîs
][
max_ch¨a˘îs_ö_°rög
 + 1];

64 
lô_utf8_size_t
 
Àngths
[
ã°_sub_ôîs
];

66 
	`jmem_öô
 ();

68 
uöt32_t
 
i
 = 0; i < 
ã°_ôîs
; i++)

70 
	`mem£t
 (
numbîs
, 0,  (
ecma_numbî_t
Ë* 
ã°_sub_ôîs
);

71 
	`mem£t
 (
Àngths
, 0,  (
lô_utf8_size_t
Ë* 
ã°_sub_ôîs
);

72 
	`mem£t
 (
±rs
, 0,  (
lô_utf8_byã_t
 *Ë* 
ã°_sub_ôîs
);

74 
uöt32_t
 
j
 = 0; j < 
ã°_sub_ôîs
; j++)

76 
ty≥
 = 
	`ønd
 () % 3;

77 i‡(
ty≥
 == 0)

79 
Àngths
[
j
] = (
lô_utf8_size_t
Ë(
	`ønd
 (Ë% 
max_ch¨a˘îs_ö_°rög
 + 1);

80 
	`gíî©e_°rög
 (
°rögs
[
j
], 
Àngths
[j]);

81 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
°rögs
[
j
], 
Àngths
[j]);

82 
°rögs
[
j
][
Àngths
[j]] = '\0';

83 
±rs
[
j
] = 
°rögs
[j];

84 
	`TEST_ASSERT
 (
±rs
[
j
]);

86 i‡(
ty≥
 == 1)

88 
lô_magic_°rög_id_t
 
msi
 = (lô_magic_°rög_id_tË(
	`ønd
 (Ë% 
LIT_NON_INTERNAL_MAGIC_STRING__COUNT
);

89 
±rs
[
j
] = 
	`lô_gë_magic_°rög_utf8
 (
msi
);

90 
	`TEST_ASSERT
 (
±rs
[
j
]);

91 
Àngths
[
j
] = (
lô_utf8_size_t
Ë
	`lô_zt_utf8_°rög_size
 (
±rs
[j]);

92 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
±rs
[
j
], 
Àngths
[j]);

96 
ecma_numbî_t
 
num
 = 
	`gíî©e_numbî
 ();

97 
Àngths
[
j
] = 
	`ecma_numbî_to_utf8_°rög
 (
num
, 
°rögs
[j], 
max_ch¨a˘îs_ö_°rög
);

98 
	`ecma_föd_‹_¸óã_lôîÆ_numbî
 (
num
);

103 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
NULL
, 0);

105 
uöt32_t
 
j
 = 0; j < 
ã°_sub_ôîs
; j++)

107 
jmem_˝oöãr_t
 
lô1
;

108 
jmem_˝oöãr_t
 
lô2
;

109 i‡(
±rs
[
j
])

111 
lô1
 = 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
±rs
[
j
], 
Àngths
[j]);

112 
lô2
 = 
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
±rs
[
j
], 
Àngths
[j]);

113 
	`TEST_ASSERT
 (
lô1
 =
lô2
);

117 
lô1
 = 
	`ecma_föd_‹_¸óã_lôîÆ_numbî
 (
numbîs
[
j
]);

118 
lô2
 = 
	`ecma_föd_‹_¸óã_lôîÆ_numbî
 (
numbîs
[
j
]);

119 
	`TEST_ASSERT
 (
lô1
 =
lô2
);

121 
	`TEST_ASSERT
 (
lô1
);

122 
	`TEST_ASSERT
 (
lô2
);

123 
	`TEST_ASSERT
 (
lô1
 =
lô2
);

127 
	`TEST_ASSERT
 (
	`ecma_föd_‹_¸óã_lôîÆ_°rög
 (
NULL
, 0Ë!
JMEM_CP_NULL
);

130 
	`ecma_föÆize_lô_°‹age
 ();

131 
	`jmem_föÆize
 ();

133 
	}
}

	@deps/jerry/tests/unit-core/test-longjmp.c

16 
	~"ã°-comm⁄.h
"

18 
	#TEST_MAX_DEPTH
 10

	)

19 
	#TEST_ITERATIONS_NUM
 256

	)

21 
jmp_buf
 
	gbuf„rs
[
TEST_MAX_DEPTH
];

24 
	$ã°_£tjmp_l⁄gjmp
 (vﬁ©ûê
dïth
)

26 i‡(
dïth
 !
TEST_MAX_DEPTH
)

28 
a
 = 1, 
b
 = 2, 
c
 = 3;

30 
¨øy
[256];

31 
i
 = 0; i < 256; i++)

33 
¨øy
[
i
] = i;

36 (Ë
a
;

37 (Ë
b
;

38 (Ë
c
;

39 (Ë
¨øy
;

41 
k
 = 
	`£tjmp
 (
buf„rs
[
dïth
]);

43 i‡(
k
 == 0)

45 
	`ã°_£tjmp_l⁄gjmp
 (
dïth
 + 1);

49 
	`TEST_ASSERT
 (
k
 =
dïth
 + 1);

51 
	`TEST_ASSERT
 (
a
 == 1);

52 
	`TEST_ASSERT
 (
b
 == 2);

53 
	`TEST_ASSERT
 (
c
 == 3);

55 
i
 = 0; i < 256; i++)

57 
	`TEST_ASSERT
 (
¨øy
[
i
] == i);

63 
t
 = 
	`ønd
 (Ë% 
dïth
;

64 
	`TEST_ASSERT
 (
t
 >0 &&Å < 
dïth
);

66 
	`l⁄gjmp
 (
buf„rs
[
t
],Å + 1);

68 
	}
}

71 
	$maö
 ()

73 
	`TEST_INIT
 ();

75 
i
 = 0; i < 
TEST_ITERATIONS_NUM
; i++)

77 
	`ã°_£tjmp_l⁄gjmp
 (0);

81 
	}
}

	@deps/jerry/tests/unit-core/test-mem-stats.c

16 
	~"jîrys¸ùt.h
"

17 
	~"ã°-comm⁄.h
"

19 #ifde‡
JMEM_STATS


21 c⁄° *
	gã°_sour˚
 = (

27 
	$maö
 ()

29 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

30 
jîry_vÆue_t
 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
ã°_sour˚
, 
	`°æí
 (ã°_sour˚), 
Ál£
);

31 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

33 
jîry_vÆue_t
 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

34 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

36 
jîry_hóp_°©s_t
 
°©s
 = {0};

37 
boﬁ
 
gë_°©s_ªt
 = 
	`jîry_gë_mem‹y_°©s
 (&
°©s
);

38 
	`TEST_ASSERT
 (
gë_°©s_ªt
);

39 
	`TEST_ASSERT
 (
°©s
.
vîsi⁄
 == 1);

40 
	`TEST_ASSERT
 (
°©s
.
size
 == 524280);

42 
	`TEST_ASSERT
 (!
	`jîry_gë_mem‹y_°©s
 (
NULL
));

44 
	`jîry_ªÀa£_vÆue
 (
ªs
);

45 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

47 
	`jîry_˛ónup
 ();

50 
	}
}

55 
	$maö
 ()

58 
	}
}

	@deps/jerry/tests/unit-core/test-number-to-integer.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-hñ≥rs.h
"

19 
	~"ã°-comm⁄.h
"

23 
ecma_numbî_t
 
	mnum
;

24 
uöt32_t
 
	muöt32_num
;

25 } 
	tuöt32_ã°_ˇ£_t
;

29 
ecma_numbî_t
 
	mnum
;

30 
öt32_t
 
	möt32_num
;

31 } 
	töt32_ã°_ˇ£_t
;

37 
	$maö
 ()

39 
	`TEST_INIT
 ();

41 c⁄° 
uöt32_ã°_ˇ£_t
 
ã°_ˇ£s_uöt32
[] =

43 
	#TEST_CASE
(
num
, 
uöt32
Ë{Çum, uöt32 }

	)

44 
	`TEST_CASE
 (1.0, 1),

45 
	`TEST_CASE
 (0.0, 0),

46 
	`TEST_CASE
 (
	`ecma_numbî_√g©e
 (0.0), 0),

47 
	`TEST_CASE
 (
NAN
, 0),

48 
	`TEST_CASE
 (-
NAN
, 0),

49 
	`TEST_CASE
 (
INFINITY
, 0),

50 
	`TEST_CASE
 (-
INFINITY
, 0),

51 
	`TEST_CASE
 (0.1, 0),

52 
	`TEST_CASE
 (-0.1, 0),

53 
	`TEST_CASE
 (1.1, 1),

54 
	`TEST_CASE
 (-1.1, 4294967295),

55 
	`TEST_CASE
 (4294967295, 4294967295),

56 
	`TEST_CASE
 (-4294967295, 1),

57 
	`TEST_CASE
 (4294967296, 0),

58 
	`TEST_CASE
 (-4294967296, 0),

59 
	`TEST_CASE
 (4294967297, 1),

60 
	`TEST_CASE
 (-4294967297, 4294967295)

61 #unde‡
TEST_CASE


64 
uöt32_t
 
i
 = 0;

65 
i
 <  (
ã°_ˇ£s_uöt32
) /  (test_cases_uint32[0]);

66 
i
++)

68 
	`TEST_ASSERT
 (
	`ecma_numbî_to_uöt32
 (
ã°_ˇ£s_uöt32
[
i
].
num
Ë=ã°_ˇ£s_uöt32[i].
uöt32_num
);

71 
öt32_ã°_ˇ£_t
 
ã°_ˇ£s_öt32
[] =

73 
	#TEST_CASE
(
num
, 
öt32
Ë{Çum, i¡32 }

	)

74 
	`TEST_CASE
 (1.0, 1),

75 
	`TEST_CASE
 (0.0, 0),

76 
	`TEST_CASE
 (
	`ecma_numbî_√g©e
 (0.0), 0),

77 
	`TEST_CASE
 (
NAN
, 0),

78 
	`TEST_CASE
 (-
NAN
, 0),

79 
	`TEST_CASE
 (
INFINITY
, 0),

80 
	`TEST_CASE
 (-
INFINITY
, 0),

81 
	`TEST_CASE
 (0.1, 0),

82 
	`TEST_CASE
 (-0.1, 0),

83 
	`TEST_CASE
 (1.1, 1),

84 
	`TEST_CASE
 (-1.1, -1),

85 
	`TEST_CASE
 (4294967295, -1),

86 
	`TEST_CASE
 (-4294967295, 1),

87 
	`TEST_CASE
 (4294967296, 0),

88 
	`TEST_CASE
 (-4294967296, 0),

89 
	`TEST_CASE
 (4294967297, 1),

90 
	`TEST_CASE
 (-4294967297, -1),

91 
	`TEST_CASE
 (2147483648, -2147483648),

92 
	`TEST_CASE
 (-2147483648, -2147483648),

93 
	`TEST_CASE
 (2147483647, 2147483647),

94 
	`TEST_CASE
 (-2147483647, -2147483647),

95 
	`TEST_CASE
 (-2147483649, 2147483647),

96 
	`TEST_CASE
 (2147483649, -2147483647)

97 #unde‡
TEST_CASE


100 
uöt32_t
 
i
 = 0;

101 
i
 <  (
ã°_ˇ£s_öt32
) /  (test_cases_int32[0]);

102 
i
++)

104 
	`TEST_ASSERT
 (
	`ecma_numbî_to_öt32
 (
ã°_ˇ£s_öt32
[
i
].
num
Ë=ã°_ˇ£s_öt32[i].
öt32_num
);

108 
	}
}

	@deps/jerry/tests/unit-core/test-number-to-string.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-hñ≥rs.h
"

19 
	~"ã°-comm⁄.h
"

25 
	$maö
 ()

27 
	`TEST_INIT
 ();

29 c⁄° 
lô_utf8_byã_t
 *
°rögs
[] =

31 (c⁄° 
lô_utf8_byã_t
 *) "1",

32 (c⁄° 
lô_utf8_byã_t
 *) "0.5",

33 (c⁄° 
lô_utf8_byã_t
 *) "12345",

34 (c⁄° 
lô_utf8_byã_t
 *) "12345.123",

35 (c⁄° 
lô_utf8_byã_t
 *) "1e-45",

36 (c⁄° 
lô_utf8_byã_t
 *) "-2.5e+38",

37 (c⁄° 
lô_utf8_byã_t
 *) "NaN",

38 (c⁄° 
lô_utf8_byã_t
 *) "Infinity",

39 (c⁄° 
lô_utf8_byã_t
 *) "-Infinity",

40 (c⁄° 
lô_utf8_byã_t
 *) "0",

41 (c⁄° 
lô_utf8_byã_t
 *) "0",

44 c⁄° 
ecma_numbî_t
 
nums
[] =

46 (
ecma_numbî_t
) 1.0,

47 (
ecma_numbî_t
) 0.5,

48 (
ecma_numbî_t
) 12345.0,

49 (
ecma_numbî_t
) 12345.123,

50 (
ecma_numbî_t
) 1.0e-45,

51 (
ecma_numbî_t
) -2.5e+38,

52 (
ecma_numbî_t
Ë
NAN
,

53 (
ecma_numbî_t
Ë
INFINITY
,

54 (
ecma_numbî_t
Ë-
INFINITY
,

55 (
ecma_numbî_t
) +0.0,

56 (
ecma_numbî_t
) -0.0

59 
uöt32_t
 
i
 = 0;

60 
i
 <  (
nums
) /  (nums[0]);

61 
i
++)

63 
lô_utf8_byã_t
 
°r
[64];

65 
lô_utf8_size_t
 
°r_size
 = 
	`ecma_numbî_to_utf8_°rög
 (
nums
[
i
], 
°r
,  (str));

67 i‡(
	`°∫cmp
 ((*Ë
°r
, (*Ë
°rögs
[
i
], 
°r_size
) != 0)

74 
	}
}

	@deps/jerry/tests/unit-core/test-poolman.c

20 
	~<°dboﬁ.h
>

21 
	~<°döt.h
>

22 
	~<°rög.h
>

24 
	~"jmem.h
"

26 
	#JMEM_ALLOCATOR_INTERNAL


	)

27 
	~"jmem-Æloˇt‹-öã∫Æ.h
"

29 
	~"ã°-comm⁄.h
"

32 c⁄° 
uöt32_t
 
	gã°_ôîs
 = 1024;

35 
	#TEST_MAX_SUB_ITERS
 1024

	)

36 
	#TEST_CHUNK_SIZE
 8

	)

38 
uöt8_t
 *
	g±rs
[
TEST_MAX_SUB_ITERS
];

39 
uöt8_t
 
	gd©a
[
TEST_MAX_SUB_ITERS
][
TEST_CHUNK_SIZE
];

42 
	$maö
 ()

44 
	`TEST_INIT
 ();

46 
	`jmem_öô
 ();

48 
uöt32_t
 
i
 = 0; i < 
ã°_ôîs
; i++)

50 c⁄° 
size_t
 
subôîs
 = ((size_tË
	`ønd
 (Ë% 
TEST_MAX_SUB_ITERS
) + 1;

52 
size_t
 
j
 = 0; j < 
subôîs
; j++)

54 
±rs
[
j
] = (
uöt8_t
 *Ë
	`jmem_poﬁs_Æloc
 (
TEST_CHUNK_SIZE
);

56 i‡(
±rs
[
j
] !
NULL
)

58 
size_t
 
k
 = 0; k < 
TEST_CHUNK_SIZE
; k++)

60 
±rs
[
j
][
k
] = (
uöt8_t
Ë(
	`ønd
 () % 256);

63 
	`mem˝y
 (
d©a
[
j
], 
±rs
[j], 
TEST_CHUNK_SIZE
);

69 
size_t
 
j
 = 0; j < 
subôîs
; j++)

71 i‡(
	`ønd
 () % 256 == 0)

73 
	`jmem_poﬁs_cﬁÀ˘_em±y
 ();

76 i‡(
±rs
[
j
] !
NULL
)

78 
	`TEST_ASSERT
 (!
	`memcmp
 (
d©a
[
j
], 
±rs
[j], 
TEST_CHUNK_SIZE
));

80 
	`jmem_poﬁs_‰ì
 (
±rs
[
j
], 
TEST_CHUNK_SIZE
);

85 #ifde‡
JMEM_STATS


86 
	`jmem_hóp_°©s_¥öt
 ();

89 
	`jmem_föÆize
 ();

92 
	}
}

	@deps/jerry/tests/unit-core/test-promise.c

16 
	~"jîrys¸ùt.h
"

17 
	~"jîrys¸ùt-p‹t.h
"

18 
	~"jîrys¸ùt-p‹t-deÁu….h
"

19 
	~"ã°-comm⁄.h
"

21 #i‚de‡
CONFIG_DISABLE_ES2015_PROMISE_BUILTIN


23 c⁄° *
	gã°_sour˚
 = (

34 
	gcou¡_ö_as£π
 = 0;

35 
jîry_vÆue_t
 
	gmy_¥omi£1
;

36 
jîry_vÆue_t
 
	gmy_¥omi£2
;

37 c⁄° 
jîry_ch¨_t
 
	gs1
[] = "resolved";

38 c⁄° 
jîry_ch¨_t
 
	gs2
[] = "rejected";

40 
jîry_vÆue_t


41 
	$¸óã_¥omi£1_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

42 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

43 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

44 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

46 
	`JERRY_UNUSED
 (
func_obj_vÆ
);

47 
	`JERRY_UNUSED
 (
this_vÆ
);

48 
	`JERRY_UNUSED
 (
¨gs_p
);

49 
	`JERRY_UNUSED
 (
¨gs_˙t
);

51 
jîry_vÆue_t
 
ªt
 = 
	`jîry_¸óã_¥omi£
 ();

52 
my_¥omi£1
 = 
	`jîry_acquúe_vÆue
 (
ªt
);

54  
ªt
;

55 
	}
}

57 
jîry_vÆue_t


58 
	$¸óã_¥omi£2_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

59 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

60 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

61 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

63 
	`JERRY_UNUSED
 (
func_obj_vÆ
);

64 
	`JERRY_UNUSED
 (
this_vÆ
);

65 
	`JERRY_UNUSED
 (
¨gs_p
);

66 
	`JERRY_UNUSED
 (
¨gs_˙t
);

68 
jîry_vÆue_t
 
ªt
 = 
	`jîry_¸óã_¥omi£
 ();

69 
my_¥omi£2
 = 
	`jîry_acquúe_vÆue
 (
ªt
);

71  
ªt
;

72 
	}
}

74 
jîry_vÆue_t


75 
	$as£π_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
,

76 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

77 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

78 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

80 
	`JERRY_UNUSED
 (
func_obj_vÆ
);

81 
	`JERRY_UNUSED
 (
this_vÆ
);

83 
cou¡_ö_as£π
++;

85 i‡(
¨gs_˙t
 == 1

86 && 
	`jîry_vÆue_is_boﬁón
 (
¨gs_p
[0])

87 && 
	`jîry_gë_boﬁón_vÆue
 (
¨gs_p
[0]))

89  
	`jîry_¸óã_boﬁón
 (
åue
);

93 
	`TEST_ASSERT
 (
Ál£
);

95 
	}
}

101 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

102 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

104 
jîry_vÆue_t
 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

106 
jîry_vÆue_t
 
fun˘i⁄_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr_p
);

107 
jîry_vÆue_t
 
fun˘i⁄_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
);

108 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîry_£t_¥›îty
 (
globÆ_obj_vÆ
, 
fun˘i⁄_«me_vÆ
, 
fun˘i⁄_vÆ
);

110 
	`jîry_ªÀa£_vÆue
 (
fun˘i⁄_«me_vÆ
);

111 
	`jîry_ªÀa£_vÆue
 (
fun˘i⁄_vÆ
);

112 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

114 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

115 
	}
}

118 
	$maö
 ()

120 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

122 
	`ªgi°î_js_fun˘i⁄
 ("¸óã_¥omi£1", 
¸óã_¥omi£1_h™dÀr
);

123 
	`ªgi°î_js_fun˘i⁄
 ("¸óã_¥omi£2", 
¸óã_¥omi£2_h™dÀr
);

124 
	`ªgi°î_js_fun˘i⁄
 ("as£π", 
as£π_h™dÀr
);

126 
jîry_vÆue_t
 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
ã°_sour˚
, 
	`°æí
 (ã°_sour˚), 
Ál£
);

127 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

129 
jîry_vÆue_t
 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

130 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

132 
	`jîry_ªÀa£_vÆue
 (
ªs
);

133 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

136 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_¥omi£
 (
my_¥omi£1
));

137 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_¥omi£
 (
my_¥omi£2
));

139 
	`TEST_ASSERT
 (
cou¡_ö_as£π
 == 0);

142 
jîry_vÆue_t
 
°r_ªsﬁve
 = 
	`jîry_¸óã_°rög
 (
s1
);

143 
jîry_vÆue_t
 
°r_ªje˘
 = 
	`jîry_¸óã_°rög
 (
s2
);

145 
	`jîry_ªsﬁve_‹_ªje˘_¥omi£
 (
my_¥omi£1
, 
°r_ªsﬁve
, 
åue
);

146 
	`jîry_ªsﬁve_‹_ªje˘_¥omi£
 (
my_¥omi£2
, 
°r_ªje˘
, 
Ál£
);

149 
	`jîry_ªsﬁve_‹_ªje˘_¥omi£
 (
my_¥omi£2
, 
°r_ªsﬁve
, 
åue
);

150 
	`jîry_ªsﬁve_‹_ªje˘_¥omi£
 (
my_¥omi£1
, 
°r_ªje˘
, 
Ál£
);

153 
ªs
 = 
	`jîry_run_Æl_íqueued_jobs
 ();

155 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

156 
	`TEST_ASSERT
 (
cou¡_ö_as£π
 == 2);

158 
	`jîry_ªÀa£_vÆue
 (
my_¥omi£1
);

159 
	`jîry_ªÀa£_vÆue
 (
my_¥omi£2
);

160 
	`jîry_ªÀa£_vÆue
 (
°r_ªsﬁve
);

161 
	`jîry_ªÀa£_vÆue
 (
°r_ªje˘
);

163 
	`jîry_˛ónup
 ();

164 
	}
}

169 
	$maö
 ()

172 
	}
}

	@deps/jerry/tests/unit-core/test-string-to-number.c

16 
	~"ecma-globÆs.h
"

17 
	~"ecma-hñ≥rs.h
"

18 
	~"jîrys¸ùt.h
"

20 
	~"ã°-comm⁄.h
"

26 
	$maö
 ()

28 
	`TEST_INIT
 ();

30 c⁄° 
jîry_ch¨_t
 *
°rögs
[] =

32 (c⁄° 
jîry_ch¨_t
 *) "1",

33 (c⁄° 
jîry_ch¨_t
 *) "0.5",

34 (c⁄° 
jîry_ch¨_t
 *) "12345",

35 (c⁄° 
jîry_ch¨_t
 *) "1e-45",

36 (c⁄° 
jîry_ch¨_t
 *) "-2.5e+38",

37 (c⁄° 
jîry_ch¨_t
 *) "-2.5e38",

38 (c⁄° 
jîry_ch¨_t
 *) "- 2.5e+38",

39 (c⁄° 
jîry_ch¨_t
 *) "-2 .5e+38",

40 (c⁄° 
jîry_ch¨_t
 *) "-2. 5e+38",

41 (c⁄° 
jîry_ch¨_t
 *) "-2.5e+ 38",

42 (c⁄° 
jîry_ch¨_t
 *) "-2.5É+38",

43 (c⁄° 
jîry_ch¨_t
 *) "-2.5e +38",

44 (c⁄° 
jîry_ch¨_t
 *) "NaN",

45 (c⁄° 
jîry_ch¨_t
 *) "abc",

46 (c⁄° 
jîry_ch¨_t
 *) " Infinity ",

47 (c⁄° 
jîry_ch¨_t
 *) "-Infinity",

48 (c⁄° 
jîry_ch¨_t
 *) "0",

49 (c⁄° 
jîry_ch¨_t
 *) "0",

52 c⁄° 
ecma_numbî_t
 
nums
[] =

54 (
ecma_numbî_t
) 1.0,

55 (
ecma_numbî_t
) 0.5,

56 (
ecma_numbî_t
) 12345.0,

57 (
ecma_numbî_t
) 1.0e-45,

58 (
ecma_numbî_t
) -2.5e+38,

59 (
ecma_numbî_t
) -2.5e+38,

60 (
ecma_numbî_t
Ë
NAN
,

61 (
ecma_numbî_t
Ë
NAN
,

62 (
ecma_numbî_t
Ë
NAN
,

63 (
ecma_numbî_t
Ë
NAN
,

64 (
ecma_numbî_t
Ë
NAN
,

65 (
ecma_numbî_t
Ë
NAN
,

66 (
ecma_numbî_t
Ë
NAN
,

67 (
ecma_numbî_t
Ë
NAN
,

68 (
ecma_numbî_t
Ë
INFINITY
,

69 (
ecma_numbî_t
Ë-
INFINITY
,

70 (
ecma_numbî_t
) +0.0,

71 (
ecma_numbî_t
) -0.0

74 
uöt32_t
 
i
 = 0;

75 
i
 <  (
nums
) /  (nums[0]);

76 
i
++)

78 
ecma_numbî_t
 
num
 = 
	`ecma_utf8_°rög_to_numbî
 (
°rögs
[
i
], 
	`lô_zt_utf8_°rög_size
 (strings[i]));

80 i‡(
num
 !
nums
[
i
]

81 && (!
	`ecma_numbî_is_«n
 (
num
)

82 || !
	`ecma_numbî_is_«n
 (
nums
[
i
])))

89 
	}
}

	@deps/jerry/tests/unit-core/test-strings.c

16 
	~"ecma-hñ≥rs.h
"

17 
	~"lô-°rögs.h
"

18 
	~"ecma-öô-föÆize.h
"

20 
	~"ã°-comm⁄.h
"

23 
	#ã°_ôîs
 (1024)

	)

26 
	#ã°_subôîs
 (128)

	)

29 
	#max_byãs_ö_°rög
 (16 * 1024)

	)

30 
	#max_code_unôs_ö_°rög
 (
max_byãs_ö_°rög
)

	)

34 
	mCESU8_ANY_SIZE
,

35 
	mCESU8_ONE_BYTE
,

36 
	mCESU8_TWO_BYTES
,

37 
	mCESU8_THREE_BYTES
,

38 } 
	tutf8_ch¨_size
;

40 
lô_utf8_size_t


41 
	$gíî©e_˚su8_ch¨
 (
utf8_ch¨_size
 
ch¨_size
,

42 
lô_utf8_byã_t
 *
buf
)

44 
	`TEST_ASSERT
 (
ch¨_size
 >0 && ch¨_sizê<
LIT_CESU8_MAX_BYTES_IN_CODE_UNIT
);

45 
lô_code_poöt_t
 
code_poöt
 = (lô_code_poöt_tË
	`ønd
 ();

47 i‡(
ch¨_size
 == 1)

49 
code_poöt
 %
LIT_UTF8_1_BYTE_CODE_POINT_MAX
;

51 i‡(
ch¨_size
 == 2)

53 
code_poöt
 = 
LIT_UTF8_2_BYTE_CODE_POINT_MIN
 + code_poöà% (
LIT_UTF8_2_BYTE_CODE_POINT_MAX
 -

54 
LIT_UTF8_2_BYTE_CODE_POINT_MIN
);

56 i‡(
ch¨_size
 == 3)

58 
code_poöt
 = 
LIT_UTF8_3_BYTE_CODE_POINT_MIN
 + code_poöà% (
LIT_UTF8_3_BYTE_CODE_POINT_MAX
 -

59 
LIT_UTF8_3_BYTE_CODE_POINT_MIN
);

63 
code_poöt
 %
LIT_UTF8_3_BYTE_CODE_POINT_MAX
;

66 i‡(
code_poöt
 >
LIT_UTF16_HIGH_SURROGATE_MIN


67 && 
code_poöt
 <
LIT_UTF16_LOW_SURROGATE_MAX
)

69 
code_poöt
 = 
LIT_UTF16_HIGH_SURROGATE_MIN
 - 1;

72  
	`lô_code_unô_to_utf8
 ((
ecma_ch¨_t
Ë
code_poöt
, 
buf
);

73 
	}
}

75 
ecma_Àngth_t


76 
	$gíî©e_˚su8_°rög
 (
lô_utf8_byã_t
 *
buf_p
,

77 
lô_utf8_size_t
 
buf_size
)

79 
ecma_Àngth_t
 
Àngth
 = 0;

81 
lô_utf8_size_t
 
size
 = 0;

82 
size
 < 
buf_size
)

84 c⁄° 
utf8_ch¨_size
 
ch¨_size
 = (((
buf_size
 - 
size
Ë> 
LIT_CESU8_MAX_BYTES_IN_CODE_UNIT
)

85 ? 
CESU8_ANY_SIZE


86 : (
utf8_ch¨_size
Ë(
buf_size
 - 
size
));

88 
lô_utf8_size_t
 
byãs_gíî©ed
 = 
	`gíî©e_˚su8_ch¨
 (
ch¨_size
, 
buf_p
);

90 
	`TEST_ASSERT
 (
	`lô_is_vÆid_˚su8_°rög
 (
buf_p
, 
byãs_gíî©ed
));

92 
size
 +
byãs_gíî©ed
;

93 
buf_p
 +
byãs_gíî©ed
;

94 
Àngth
++;

97 
	`TEST_ASSERT
 (
size
 =
buf_size
);

99  
Àngth
;

100 
	}
}

103 
	$maö
 ()

105 
	`TEST_INIT
 ();

107 
	`jmem_öô
 ();

108 
	`ecma_öô
 ();

110 
lô_utf8_byã_t
 
˚su8_°rög
[
max_byãs_ö_°rög
];

111 
ecma_ch¨_t
 
code_unôs
[
max_code_unôs_ö_°rög
];

112 c⁄° 
lô_utf8_byã_t
 *
ßved_posôi⁄s
[
max_code_unôs_ö_°rög
];

114 
i
 = 0; i < 
ã°_ôîs
; i++)

116 
lô_utf8_size_t
 
˚su8_°rög_size
 = (
i
 =0Ë? 0 : (lô_utf8_size_tË(
	`ønd
 (Ë% 
max_byãs_ö_°rög
);

117 
ecma_Àngth_t
 
Àngth
 = 
	`gíî©e_˚su8_°rög
 (
˚su8_°rög
, 
˚su8_°rög_size
);

119 
ecma_°rög_t
 *
ch¨_cﬁÀ˘i⁄_°rög_p
 = 
	`ecma_√w_ecma_°rög_‰om_utf8
 (
˚su8_°rög
, 
˚su8_°rög_size
);

120 
ecma_Àngth_t
 
ch¨_cﬁÀ˘i⁄_Àn
 = 
	`ecma_°rög_gë_Àngth
 (
ch¨_cﬁÀ˘i⁄_°rög_p
);

121 
	`TEST_ASSERT
 (
ch¨_cﬁÀ˘i⁄_Àn
 =
Àngth
);

122 
	`ecma_dîef_ecma_°rög
 (
ch¨_cﬁÀ˘i⁄_°rög_p
);

124 
	`TEST_ASSERT
 (
	`lô_utf8_°rög_Àngth
 (
˚su8_°rög
, 
˚su8_°rög_size
Ë=
Àngth
);

126 c⁄° 
lô_utf8_byã_t
 *
cuº_p
 = 
˚su8_°rög
;

127 c⁄° 
lô_utf8_byã_t
 *
íd_p
 = 
˚su8_°rög
 + 
˚su8_°rög_size
;

129 
ecma_Àngth_t
 
ˇlcuœãd_Àngth
 = 0;

130 
ecma_Àngth_t
 
code_unôs_cou¡
 = 0;

132 
cuº_p
 < 
íd_p
)

134 
code_unôs
[
code_unôs_cou¡
] = 
	`lô_utf8_≥ek_√xt
 (
cuº_p
);

135 
ßved_posôi⁄s
[
code_unôs_cou¡
] = 
cuº_p
;

136 
code_unôs_cou¡
++;

137 
ˇlcuœãd_Àngth
++;

139 
	`lô_utf8_ö¸
 (&
cuº_p
);

142 
	`TEST_ASSERT
 (
Àngth
 =
ˇlcuœãd_Àngth
);

144 i‡(
code_unôs_cou¡
 > 0)

146 
j
 = 0; j < 
ã°_subôîs
; j++)

148 
ecma_Àngth_t
 
ödex
 = (ecma_Àngth_tË
	`ønd
 (Ë% 
code_unôs_cou¡
;

149 
cuº_p
 = 
ßved_posôi⁄s
[
ödex
];

150 
	`TEST_ASSERT
 (
	`lô_utf8_≥ek_√xt
 (
cuº_p
Ë=
code_unôs
[
ödex
]);

154 
cuº_p
 = (
lô_utf8_byã_t
 *Ë
íd_p
;

155 
cuº_p
 > 
˚su8_°rög
)

157 
	`TEST_ASSERT
 (
code_unôs_cou¡
 > 0);

158 
ˇlcuœãd_Àngth
--;

159 
	`TEST_ASSERT
 (
code_unôs
[
ˇlcuœãd_Àngth
] =
	`lô_utf8_≥ek_¥ev
 (
cuº_p
));

160 
	`lô_utf8_de¸
 (&
cuº_p
);

163 
	`TEST_ASSERT
 (
ˇlcuœãd_Àngth
 == 0);

165 
cuº_p
 < 
íd_p
)

167 
ecma_ch¨_t
 
code_unô
 = 
	`lô_utf8_ªad_√xt
 (&
cuº_p
);

168 
	`TEST_ASSERT
 (
code_unô
 =
code_unôs
[
ˇlcuœãd_Àngth
]);

169 
ˇlcuœãd_Àngth
++;

172 
	`TEST_ASSERT
 (
Àngth
 =
ˇlcuœãd_Àngth
);

174 
cuº_p
 > 
˚su8_°rög
)

176 
	`TEST_ASSERT
 (
code_unôs_cou¡
 > 0);

177 
ˇlcuœãd_Àngth
--;

178 
	`TEST_ASSERT
 (
code_unôs
[
ˇlcuœãd_Àngth
] =
	`lô_utf8_ªad_¥ev
 (&
cuº_p
));

181 
	`TEST_ASSERT
 (
ˇlcuœãd_Àngth
 == 0);

185 
lô_utf8_byã_t
 
övÆid_˚su8_°rög_1
[] = {0xC0, 0x82};

186 
	`TEST_ASSERT
 (!
	`lô_is_vÆid_˚su8_°rög
 (
övÆid_˚su8_°rög_1
,  (invalid_cesu8_string_1)));

189 
lô_utf8_byã_t
 
övÆid_˚su8_°rög_2
[] = {0xE0, 0x80, 0x81};

190 
	`TEST_ASSERT
 (!
	`lô_is_vÆid_˚su8_°rög
 (
övÆid_˚su8_°rög_2
,  (invalid_cesu8_string_2)));

193 
lô_utf8_byã_t
 
övÆid_˚su8_°rög_3
[] = {0xED, 0xA4, 0x81, 0xED, 0xBF, 0xB0};

194 
	`TEST_ASSERT
 (
	`lô_is_vÆid_˚su8_°rög
 (
övÆid_˚su8_°rög_3
,  (invalid_cesu8_string_3)));

197 
lô_utf8_byã_t
 
vÆid_utf8_°rög_1
[] = {0xED, 0xA4, 0x81};

198 
	`TEST_ASSERT
 (
	`lô_is_vÆid_˚su8_°rög
 (
vÆid_utf8_°rög_1
,  (valid_utf8_string_1)));

200 
lô_utf8_byã_t
 
ªs_buf
[3];

201 
lô_utf8_size_t
 
ªs_size
;

203 
ªs_size
 = 
	`lô_code_unô_to_utf8
 (0x73, 
ªs_buf
);

204 
	`TEST_ASSERT
 (
ªs_size
 == 1);

205 
	`TEST_ASSERT
 (
ªs_buf
[0] == 0x73);

207 
ªs_size
 = 
	`lô_code_unô_to_utf8
 (0x41A, 
ªs_buf
);

208 
	`TEST_ASSERT
 (
ªs_size
 == 2);

209 
	`TEST_ASSERT
 (
ªs_buf
[0] == 0xD0);

210 
	`TEST_ASSERT
 (
ªs_buf
[1] == 0x9A);

212 
ªs_size
 = 
	`lô_code_unô_to_utf8
 (0xD7FF, 
ªs_buf
);

213 
	`TEST_ASSERT
 (
ªs_size
 == 3);

214 
	`TEST_ASSERT
 (
ªs_buf
[0] == 0xED);

215 
	`TEST_ASSERT
 (
ªs_buf
[1] == 0x9F);

216 
	`TEST_ASSERT
 (
ªs_buf
[2] == 0xBF);

218 
	`ecma_föÆize
 ();

219 
	`jmem_föÆize
 ();

222 
	}
}

	@deps/jerry/tests/unit-ext/module/jerry-module-test.c

16 
	~<°rög.h
>

18 
	~"jîrys¸ùt.h
"

19 
	~"ã°-comm⁄.h
"

20 
	~"jîrys¸ùt-ext/moduÀ.h
"

22 #ifde‡
JERRYX_NATIVE_MODULES_SUPPORTED


25 c⁄° 
	gevÆ_°rög1
[] = "require ('my_custom_module');";

28 c⁄° 
	gevÆ_°rög2
[] = "require ('differently-handled-module');";

31 c⁄° 
	gevÆ_°rög3
[] =

45 c⁄° 
	gevÆ_°rög4
[] =

58 c⁄° 
	gevÆ_°rög5
[] =

65 
boﬁ


66 
	$ªsﬁve_dif„ª¡ly_h™dÀd_moduÀ
 (c⁄° 
jîry_ch¨_t
 *
«me
,

67 
jîry_vÆue_t
 *
ªsu…
)

69 i‡(!
	`°rcmp
 ((*Ë
«me
, "differently-handled-module"))

71 (*
ªsu…
Ë
	`jîry_¸óã_numbî
 (29);

72  
åue
;

74  
Ál£
;

75 
	}
}

82 
boﬁ


83 
	$ˇche_check
 (c⁄° 
jîry_ch¨_t
 *
«me
,

84 
jîry_vÆue_t
 *
ªsu…
)

86 i‡(!
	`°rcmp
 ((*Ë
«me
, "cache-check"))

88 (*
ªsu…
Ë
	`jîry_¸óã_obje˘
 ();

89  
åue
;

91  
Ál£
;

92 
	}
}

94 c⁄° 
jîryx_moduÀ_ªsﬁvî_t
 
	gªsﬁvîs
[3] =

96 
jîryx_moduÀ_«tive_ªsﬁvî
,

97 
ªsﬁve_dif„ª¡ly_h™dÀd_moduÀ
,

98 
ˇche_check


101 
jîry_vÆue_t


102 
	$h™dÀ_ªquúe
 (c⁄° 
jîry_vÆue_t
 
js_fun˘i⁄
,

103 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

104 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

105 c⁄° 
jîry_Àngth_t
 
¨gs_cou¡
)

107 (Ë
js_fun˘i⁄
;

108 (Ë
this_vÆ
;

109 (Ë
¨gs_cou¡
;

111 
jîry_vÆue_t
 
ªtu∫_vÆue
 = 0;

112 
jîry_ch¨_t
 
moduÀ_«me
[256] = "";

113 
jîry_size_t
 
byãs_c›õd
 = 0;

115 
	`TEST_ASSERT
 (
¨gs_cou¡
 == 1);

116 
byãs_c›õd
 = 
	`jîry_°rög_to_ch¨_buf„r
 (
¨gs_p
[0], 
moduÀ_«me
, 256);

117 i‡(
byãs_c›õd
 < 256)

119 
moduÀ_«me
[
byãs_c›õd
] = 0;

120 
ªtu∫_vÆue
 = 
	`jîryx_moduÀ_ªsﬁve
 (
moduÀ_«me
, 
ªsﬁvîs
, 3);

123  
ªtu∫_vÆue
;

124 
	}
}

127 
	$as£π_numbî
 (
jîry_vÆue_t
 
js_vÆue
, 
ex≥˘ed_ªsu…
)

129 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
js_vÆue
));

130 
	`TEST_ASSERT
 (
	`jîry_gë_numbî_vÆue
 (
js_vÆue
Ë=
ex≥˘ed_ªsu…
);

131 
	}
}

134 
	$evÆ_⁄e
 (c⁄° *
the_°rög
, 
ex≥˘ed_ªsu…
)

136 
jîry_vÆue_t
 
js_evÆ_ªsu…
 = 
	`jîry_evÆ
 ((c⁄° 
jîry_ch¨_t
 *Ë
the_°rög
, 
	`°æí
 (the_°rög), 
åue
);

137 
	`as£π_numbî
 (
js_evÆ_ªsu…
, 
ex≥˘ed_ªsu…
);

138 
	`jîry_ªÀa£_vÆue
 (
js_evÆ_ªsu…
);

139 
	}
}

142 
	$maö
 (
¨gc
, **
¨gv
)

144 (Ë
¨gc
;

145 (Ë
¨gv
;

146 
jîry_vÆue_t
 
js_globÆ
 = 0, 
js_fun˘i⁄
 = 0, 
js_¥›îty_«me
 = 0;

148 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

150 
js_globÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

151 
js_fun˘i⁄
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀ_ªquúe
);

152 
js_¥›îty_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "require");

153 
	`jîry_£t_¥›îty
 (
js_globÆ
, 
js_¥›îty_«me
, 
js_fun˘i⁄
);

155 
	`evÆ_⁄e
 (
evÆ_°rög1
, 42);

156 
	`evÆ_⁄e
 (
evÆ_°rög2
, 29);

157 
	`evÆ_⁄e
 (
evÆ_°rög3
, 1);

158 
	`evÆ_⁄e
 (
evÆ_°rög4
, 1);

159 
	`evÆ_⁄e
 (
evÆ_°rög5
, 1);

161 
	`jîry_ªÀa£_vÆue
 (
js_¥›îty_«me
);

162 
	`jîry_ªÀa£_vÆue
 (
js_fun˘i⁄
);

163 
	`jîry_ªÀa£_vÆue
 (
js_globÆ
);

165 
	`jîry_˛ónup
 ();

166 
	}
}

	@deps/jerry/tests/unit-ext/module/my-broken-module.c

16 
	~"jîrys¸ùt.h
"

17 
	~"jîrys¸ùt-ext/moduÀ.h
"

19 #ifde‡
JERRYX_NATIVE_MODULES_SUPPORTED


23 
	$JERRYX_NATIVE_MODULE
 (
my_brokí_moduÀ
, 
NULL
)

	@deps/jerry/tests/unit-ext/module/my-custom-module.c

16 
	~"jîrys¸ùt.h
"

17 
	~"jîrys¸ùt-ext/moduÀ.h
"

19 #ifde‡
JERRYX_NATIVE_MODULES_SUPPORTED


21 
jîry_vÆue_t


22 
	$my_cu°om_moduÀ_⁄_ªsﬁve
 ()

24  
	`jîry_¸óã_numbî
 (42);

25 
	}
}

27 
	$JERRYX_NATIVE_MODULE
 (
my_cu°om_moduÀ
, 
my_cu°om_moduÀ_⁄_ªsﬁve
)

	@deps/jerry/tests/unit-ext/test-common.h

16 #i‚de‡
TEST_COMMON_H


17 
	#TEST_COMMON_H


	)

19 
	~"jîrys¸ùt-p‹t.h
"

21 
	#TEST_ASSERT
(
x
) \

24 i‡(!(
x
)) \

26 
	`jîry_p‹t_log
 (
JERRY_LOG_LEVEL_ERROR
, \

29 
__FILE__
, \

30 
__func__
, \

31 (Ë
__LINE__
); \

32 
	`jîry_p‹t_Áèl
 (
ERR_FAILED_INTERNAL_ASSERTION
); \

34 } 0)

	)

	@deps/jerry/tests/unit-ext/test-ext-arg.c

20 
	~"jîrys¸ùt.h
"

21 
	~"jîrys¸ùt-ext/¨g.h
"

22 
	~"ã°-comm⁄.h
"

24 
	~<°rög.h
>

25 
	~<jîrys¸ùt-ext/¨g.h
>

27 c⁄° *
	gã°_sour˚
 = (

60 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	gthög_a_öfo
 =

62 .
‰ì_cb
 = 
NULL


65 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	gthög_b_öfo
 =

67 .
‰ì_cb
 = 
NULL


72 
	mx
;

73 } 
	tmy_ty≥_a_t
;

77 
boﬁ
 
	mx
;

78 } 
	tmy_ty≥_b_t
;

80 
my_ty≥_a_t
 
	gmy_thög_a
;

81 
my_ty≥_b_t
 
	gmy_thög_b
;

83 
	gvÆid©‹1_cou¡
 = 0;

84 
	gvÆid©‹2_cou¡
 = 0;

85 
	gvÆid©‹_öt_cou¡
 = 0;

87 
	gvÆid©‹_¥›_cou¡
 = 0;

98 
jîry_vÆue_t


99 
ã°_vÆid©‹1_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

100 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

101 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

102 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

105 
boﬁ
 
	g¨g1
;

106 
	g¨g2
 = 0.0;

107 
	g¨g3
[5] = "1234";

108 
jîry_vÆue_t
 
	g¨g4
 = 
jîry_¸óã_undeföed
 ();

110 
jîryx_¨g_t
 
	gm≠pög
[] =

113 
jîryx_¨g_ign‹e
 (),

115 
jîryx_¨g_boﬁón
 (&
¨g1
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

117 
jîryx_¨g_numbî
 (&
¨g2
, 
JERRYX_ARG_NO_COERCE
, 
JERRYX_ARG_REQUIRED
),

119 
jîryx_¨g_°rög
 (
¨g3
, 5, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

121 
jîryx_¨g_fun˘i⁄
 (&
¨g4
, 
JERRYX_ARG_OPTIONAL
)

124 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_this_™d_¨gs
 (
this_vÆ
,

125 
¨gs_p
,

126 
¨gs_˙t
,

127 
m≠pög
,

130 i‡(
	gvÆid©‹1_cou¡
 == 0)

132 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

133 
TEST_ASSERT
 (
¨g1
);

134 
TEST_ASSERT
 (
¨g2
 == 10.5);

135 
TEST_ASSERT
 (
°rcmp
 (
¨g3
, "abc") == 0);

136 
TEST_ASSERT
 (
jîry_vÆue_is_fun˘i⁄
 (
¨g4
));

138 i‡(
	gvÆid©‹1_cou¡
 == 1)

140 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

141 
TEST_ASSERT
 (
¨g1
);

142 
TEST_ASSERT
 (
¨g2
 == 10.5);

143 
TEST_ASSERT
 (
°rcmp
 (
¨g3
, "abc") == 0);

144 
TEST_ASSERT
 (
jîry_vÆue_is_undeföed
 (
¨g4
));

146 i‡(
	gvÆid©‹1_cou¡
 == 2)

148 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

149 
TEST_ASSERT
 (
¨g1
);

150 
TEST_ASSERT
 (
¨g2
 == 10.5);

151 
TEST_ASSERT
 (
°rcmp
 (
¨g3
, "") == 0);

152 
TEST_ASSERT
 (
jîry_vÆue_is_undeföed
 (
¨g4
));

156 
TEST_ASSERT
 (
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

159 
jîry_ªÀa£_vÆue
 (
is_ok
);

160 
jîry_ªÀa£_vÆue
 (
¨g4
);

161 
	gvÆid©‹1_cou¡
++;

163  
jîry_¸óã_undeföed
 ();

169 
jîry_vÆue_t


170 
	$my_cu°om_å™sf‹m
 (
jîryx_¨g_js_ôî©‹_t
 *
js_¨g_ôî_p
,

171 c⁄° 
jîryx_¨g_t
 *
c_¨g_p
)

173 
jîry_vÆue_t
 
js_¨g
 = 
	`jîryx_¨g_js_ôî©‹_p›
 (
js_¨g_ôî_p
);

174 
jîry_vÆue_t
 
to_numbî
 = 
	`jîry_vÆue_to_numbî
 (
js_¨g
);

176 i‡(
	`jîry_vÆue_has_îr‹_Êag
 (
to_numbî
))

178 
	`jîry_ªÀa£_vÆue
 (
to_numbî
);

180  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

181 (
jîry_ch¨_t
 *) "It canÇot be convertedÅoáÇumber.");

184 
ex≥˘ed_num
 = (Ë
c_¨g_p
->
exåa_öfo
;

185 
gë_num
 = (Ë
	`jîry_gë_numbî_vÆue
 (
to_numbî
);

187 i‡(
gë_num
 !
ex≥˘ed_num
)

189  
	`jîry_¸óã_îr‹
 (
JERRY_ERROR_TYPE
,

190 (
jîry_ch¨_t
 *) "Number value isÇotÉxpected.");

193  
	`jîry_¸óã_undeföed
 ();

194 
	}
}

201 
jîry_vÆue_t


202 
ã°_vÆid©‹2_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

203 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

204 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

205 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

207 
my_ty≥_a_t
 *
	gthög_p
;

209 
jîryx_¨g_t
 
	gm≠pög
[] =

212 
jîryx_¨g_«tive_poöãr
 ((**Ë&
thög_p
, &
thög_a_öfo
, 
JERRYX_ARG_REQUIRED
),

214 
jîryx_¨g_cu°om
 (
NULL
, 5, 
my_cu°om_å™sf‹m
)

217 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_this_™d_¨gs
 (
this_vÆ
,

218 
¨gs_p
,

219 
¨gs_˙t
,

220 
m≠pög
,

223 i‡(
	gvÆid©‹2_cou¡
 == 0)

225 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

226 
TEST_ASSERT
 (
thög_p
 =&
my_thög_a
);

227 
TEST_ASSERT
 (
thög_p
->
x
 == 1);

231 
TEST_ASSERT
 (
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

234 
jîry_ªÀa£_vÆue
 (
is_ok
);

235 
	gvÆid©‹2_cou¡
++;

237  
jîry_¸óã_undeföed
 ();

243 
jîry_vÆue_t


244 
ã°_vÆid©‹_¥›1_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

245 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__©åibuã__
((
unu£d
)),

246 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

247 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
 
__©åibuã__
((
unu£d
)))

249 
boﬁ
 
	g«tive1
 = 
Ál£
;

250 
	g«tive2
 = 0;

251 
	g«tive3
 = 3;

253 c⁄° *
	g«me_p
[] = {"prop1", "prop2", "prop3"};

255 
jîryx_¨g_t
 
	gm≠pög
[] =

257 
jîryx_¨g_boﬁón
 (&
«tive1
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

258 
jîryx_¨g_numbî
 (&
«tive2
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

259 
jîryx_¨g_numbî
 (&
«tive3
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_OPTIONAL
)

262 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_obje˘_¥›îtõs
 (
¨gs_p
[0],

263 (c⁄° 
jîry_ch¨_t
 **Ë
«me_p
,

265 
m≠pög
,

268 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

269 
TEST_ASSERT
 (
«tive1
);

270 
TEST_ASSERT
 (
«tive2
 == 1.5);

271 
TEST_ASSERT
 (
«tive3
 == 3);

273 
	gvÆid©‹_¥›_cou¡
++;

275  
jîry_¸óã_undeföed
 ();

282 
jîry_vÆue_t


283 
ã°_vÆid©‹_¥›2_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

284 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__©åibuã__
((
unu£d
)),

285 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

286 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
 
__©åibuã__
((
unu£d
)))

288 
boﬁ
 
	g«tive1
 = 
Ál£
;

289 
	g«tive2
 = 0;

290 
	g«tive3
 = 3;

292 
jîryx_¨g_obje˘_¥›s_t
 
	g¥›_öfo
;

294 c⁄° *
	g«me_p
[] = { "prop1", "prop2", "prop3" };

296 
jîryx_¨g_t
 
	g¥›_m≠pög
[] =

298 
jîryx_¨g_boﬁón
 (&
«tive1
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

299 
jîryx_¨g_numbî
 (&
«tive2
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

300 
jîryx_¨g_numbî
 (&
«tive3
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_OPTIONAL
)

303 
	g¥›_öfo
.
	g«me_p
 = (c⁄° 
jîry_ch¨_t
 **Ë
«me_p
;

304 
	g¥›_öfo
.
	g«me_˙t
 = 3;

305 
	g¥›_öfo
.
	gc_¨g_p
 = 
¥›_m≠pög
;

306 
	g¥›_öfo
.
	gc_¨g_˙t
 = 3;

308 
jîryx_¨g_t
 
	gm≠pög
[] =

310 
jîryx_¨g_obje˘_¥›îtõs
 (&
¥›_öfo
, 
JERRYX_ARG_OPTIONAL
),

313 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_¨gs
 (
¨gs_p
, 1, 
m≠pög
, 1);

316 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

318 i‡(
	gvÆid©‹_¥›_cou¡
 == 1)

320 
TEST_ASSERT
 (
«tive1
);

321 
TEST_ASSERT
 (
«tive2
 == 1.5);

322 
TEST_ASSERT
 (
«tive3
 == 3);

325 
	gvÆid©‹_¥›_cou¡
++;

327  
jîry_¸óã_undeföed
 ();

330 
jîry_vÆue_t


331 
ã°_vÆid©‹_¥›3_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

332 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__©åibuã__
((
unu£d
)),

333 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

334 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
 
__©åibuã__
((
unu£d
)))

336 
boﬁ
 
	g«tive1
 = 
Ál£
;

337 
boﬁ
 
	g«tive2
 = 
åue
;

339 c⁄° *
	g«me_p
[] = { "prop1", "prop2" };

341 
jîryx_¨g_t
 
	gm≠pög
[] =

343 
jîryx_¨g_boﬁón
 (&
«tive1
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

344 
jîryx_¨g_boﬁón
 (&
«tive2
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

347 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_obje˘_¥›îtõs
 (
¨gs_p
[0],

348 (c⁄° 
jîry_ch¨_t
 **Ë
«me_p
,

350 
m≠pög
,

353 
TEST_ASSERT
 (
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

354 
TEST_ASSERT
 (!
«tive1
);

355 
TEST_ASSERT
 (
«tive2
);

357 
	gvÆid©‹_¥›_cou¡
++;

358 
jîry_ªÀa£_vÆue
 (
is_ok
);

360  
jîry_¸óã_undeföed
 ();

366 
jîry_vÆue_t


367 
ã°_vÆid©‹_öt1_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

368 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__©åibuã__
((
unu£d
)),

369 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

370 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

372 
uöt8_t
 
	gnum0
, 
	gnum1
, 
	gnum2
;

373 
öt8_t
 
	gnum3
, 
	gnum4
, 
	gnum5
;

374 
uöt32_t
 
	gnum6
, 
	gnum7
, 
	gnum8
;

375 
öt32_t
 
	gnum9
, 
	gnum10
, 
	gnum11
;

377 
jîryx_¨g_t
 
	gm≠pög
[] =

379 
jîryx_¨g_uöt8
 (&
num0
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

380 
jîryx_¨g_uöt8
 (&
num1
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

381 
jîryx_¨g_uöt8
 (&
num2
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

382 
jîryx_¨g_öt8
 (&
num3
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

383 
jîryx_¨g_öt8
 (&
num4
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

384 
jîryx_¨g_öt8
 (&
num5
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

385 
jîryx_¨g_uöt32
 (&
num6
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

386 
jîryx_¨g_uöt32
 (&
num7
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

387 
jîryx_¨g_uöt32
 (&
num8
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

388 
jîryx_¨g_öt32
 (&
num9
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

389 
jîryx_¨g_öt32
 (&
num10
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

390 
jîryx_¨g_öt32
 (&
num11
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
)

393 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_¨gs
 (
¨gs_p
,

394 
¨gs_˙t
,

395 
m≠pög
,

398 
TEST_ASSERT
 (!
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

399 
TEST_ASSERT
 (
num0
 == 0);

400 
TEST_ASSERT
 (
num1
 == 255);

401 
TEST_ASSERT
 (
num2
 == 128);

402 
TEST_ASSERT
 (
num3
 == -128);

403 
TEST_ASSERT
 (
num4
 == 127);

404 
TEST_ASSERT
 (
num5
 == -127);

405 
TEST_ASSERT
 (
num6
 == 0);

406 
TEST_ASSERT
 (
num7
 == 4294967295);

407 
TEST_ASSERT
 (
num8
 == 65536);

408 
TEST_ASSERT
 (
num9
 == -2147483648);

409 
TEST_ASSERT
 (
num10
 == 2147483647);

410 
TEST_ASSERT
 (
num11
 == -2147483647);

412 
jîry_ªÀa£_vÆue
 (
is_ok
);

413 
	gvÆid©‹_öt_cou¡
++;

415  
jîry_¸óã_undeföed
 ();

418 
jîry_vÆue_t


419 
ã°_vÆid©‹_öt2_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

420 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__©åibuã__
((
unu£d
)),

421 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

422 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

424 
öt8_t
 
	gnum0
, 
	gnum1
, 
	gnum2
, 
	gnum3
, 
	gnum4
, 
	gnum5
, 
	gnum6
, 
	gnum7
, 
	gnum8
, 
	gnum9
;

425 
	gnum8
 = 123;

426 
	gnum9
 = 123;

428 
jîryx_¨g_t
 
	gm≠pög
[] =

430 
jîryx_¨g_öt8
 (&
num0
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

431 
jîryx_¨g_öt8
 (&
num1
, 
JERRYX_ARG_FLOOR
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

432 
jîryx_¨g_öt8
 (&
num2
, 
JERRYX_ARG_CEIL
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

433 
jîryx_¨g_öt8
 (&
num3
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

434 
jîryx_¨g_öt8
 (&
num4
, 
JERRYX_ARG_FLOOR
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

435 
jîryx_¨g_öt8
 (&
num5
, 
JERRYX_ARG_CEIL
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

436 
jîryx_¨g_öt8
 (&
num6
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

437 
jîryx_¨g_öt8
 (&
num7
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

438 
jîryx_¨g_öt8
 (&
num8
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

439 
jîryx_¨g_öt8
 (&
num9
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_NO_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

442 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_¨gs
 (
¨gs_p
,

443 
¨gs_˙t
,

444 
m≠pög
,

447 
TEST_ASSERT
 (
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

448 
TEST_ASSERT
 (
num0
 == -2);

449 
TEST_ASSERT
 (
num1
 == -2);

450 
TEST_ASSERT
 (
num2
 == -1);

451 
TEST_ASSERT
 (
num3
 == 2);

452 
TEST_ASSERT
 (
num4
 == 1);

453 
TEST_ASSERT
 (
num5
 == 2);

454 
TEST_ASSERT
 (
num6
 == 127);

455 
TEST_ASSERT
 (
num7
 == -128);

456 
TEST_ASSERT
 (
num8
 == 127);

457 
TEST_ASSERT
 (
num9
 == 123);

459 
jîry_ªÀa£_vÆue
 (
is_ok
);

460 
	gvÆid©‹_öt_cou¡
++;

462  
jîry_¸óã_undeföed
 ();

465 
jîry_vÆue_t


466 
ã°_vÆid©‹_öt3_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

467 c⁄° 
jîry_vÆue_t
 
this_vÆ
 
__©åibuã__
((
unu£d
)),

468 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

469 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
)

471 
öt8_t
 
	gnum0
;

473 
jîryx_¨g_t
 
	gm≠pög
[] =

475 
jîryx_¨g_öt8
 (&
num0
, 
JERRYX_ARG_ROUND
, 
JERRYX_ARG_CLAMP
, 
JERRYX_ARG_COERCE
, 
JERRYX_ARG_REQUIRED
),

478 
jîry_vÆue_t
 
	gis_ok
 = 
jîryx_¨g_å™sf‹m_¨gs
 (
¨gs_p
,

479 
¨gs_˙t
,

480 
m≠pög
,

483 
TEST_ASSERT
 (
jîry_vÆue_has_îr‹_Êag
 (
is_ok
));

485 
jîry_ªÀa£_vÆue
 (
is_ok
);

486 
	gvÆid©‹_öt_cou¡
++;

488  
jîry_¸óã_undeföed
 ();

491 
jîry_vÆue_t


492 
¸óã_obje˘_a_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

493 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

494 c⁄° 
jîry_vÆue_t
 
¨gs_p
[] 
__©åibuã__
((
unu£d
)),

495 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
 
__©åibuã__
((
unu£d
)))

497 
TEST_ASSERT
 (
jîry_vÆue_is_obje˘
 (
this_vÆ
));

499 
	gmy_thög_a
.
	gx
 = 1;

500 
jîry_£t_obje˘_«tive_poöãr
 (
this_vÆ
,

501 &
my_thög_a
,

502 &
thög_a_öfo
);

504  
jîry_¸óã_boﬁón
 (
åue
);

507 
jîry_vÆue_t


508 
¸óã_obje˘_b_h™dÀr
 (c⁄° 
jîry_vÆue_t
 
func_obj_vÆ
 
__©åibuã__
((
unu£d
)),

509 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

510 c⁄° 
jîry_vÆue_t
 
¨gs_p
[] 
__©åibuã__
((
unu£d
)),

511 c⁄° 
jîry_Àngth_t
 
¨gs_˙t
 
__©åibuã__
((
unu£d
)))

513 
TEST_ASSERT
 (
jîry_vÆue_is_obje˘
 (
this_vÆ
));

515 
	gmy_thög_b
.
	gx
 = 
Ál£
;

516 
jîry_£t_obje˘_«tive_poöãr
 (
this_vÆ
,

517 &
my_thög_b
,

518 &
thög_b_öfo
);

520  
jîry_¸óã_boﬁón
 (
åue
);

527 
	$ªgi°î_js_fun˘i⁄
 (c⁄° *
«me_p
,

528 
jîry_exã∫Æ_h™dÀr_t
 
h™dÀr_p
)

530 
jîry_vÆue_t
 
globÆ_obj_vÆ
 = 
	`jîry_gë_globÆ_obje˘
 ();

532 
jîry_vÆue_t
 
fun˘i⁄_vÆ
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
 (
h™dÀr_p
);

533 
jîry_vÆue_t
 
fun˘i⁄_«me_vÆ
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *Ë
«me_p
);

534 
jîry_vÆue_t
 
ªsu…_vÆ
 = 
	`jîry_£t_¥›îty
 (
globÆ_obj_vÆ
, 
fun˘i⁄_«me_vÆ
, 
fun˘i⁄_vÆ
);

536 
	`jîry_ªÀa£_vÆue
 (
fun˘i⁄_«me_vÆ
);

537 
	`jîry_ªÀa£_vÆue
 (
fun˘i⁄_vÆ
);

538 
	`jîry_ªÀa£_vÆue
 (
globÆ_obj_vÆ
);

540 
	`jîry_ªÀa£_vÆue
 (
ªsu…_vÆ
);

541 
	}
}

544 
	$maö
 ()

546 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

548 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹1", 
ã°_vÆid©‹1_h™dÀr
);

549 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹2", 
ã°_vÆid©‹2_h™dÀr
);

550 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹_öt1", 
ã°_vÆid©‹_öt1_h™dÀr
);

551 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹_öt2", 
ã°_vÆid©‹_öt2_h™dÀr
);

552 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹_öt3", 
ã°_vÆid©‹_öt3_h™dÀr
);

553 
	`ªgi°î_js_fun˘i⁄
 ("MyObje˘A", 
¸óã_obje˘_a_h™dÀr
);

554 
	`ªgi°î_js_fun˘i⁄
 ("MyObje˘B", 
¸óã_obje˘_b_h™dÀr
);

555 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹_¥›1", 
ã°_vÆid©‹_¥›1_h™dÀr
);

556 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹_¥›2", 
ã°_vÆid©‹_¥›2_h™dÀr
);

557 
	`ªgi°î_js_fun˘i⁄
 ("ã°_vÆid©‹_¥›3", 
ã°_vÆid©‹_¥›3_h™dÀr
);

559 
jîry_vÆue_t
 
∑r£d_code_vÆ
 = 
	`jîry_∑r£
 ((
jîry_ch¨_t
 *Ë
ã°_sour˚
, 
	`°æí
 (ã°_sour˚), 
Ál£
);

560 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
∑r£d_code_vÆ
));

562 
jîry_vÆue_t
 
ªs
 = 
	`jîry_run
 (
∑r£d_code_vÆ
);

563 
	`TEST_ASSERT
 (!
	`jîry_vÆue_has_îr‹_Êag
 (
ªs
));

564 
	`TEST_ASSERT
 (
vÆid©‹1_cou¡
 == 5);

565 
	`TEST_ASSERT
 (
vÆid©‹2_cou¡
 == 3);

566 
	`TEST_ASSERT
 (
vÆid©‹_¥›_cou¡
 == 4);

567 
	`TEST_ASSERT
 (
vÆid©‹_öt_cou¡
 == 3);

569 
	`jîry_ªÀa£_vÆue
 (
ªs
);

570 
	`jîry_ªÀa£_vÆue
 (
∑r£d_code_vÆ
);

572 
	`jîry_˛ónup
 ();

573 
	}
}

	@deps/jerry/tests/unit-ext/test-ext-autorelease.c

20 
	~"jîrys¸ùt.h
"

21 
	~"jîrys¸ùt-ext/aut‹ñó£.h
"

22 
	~"ã°-comm⁄.h
"

24 
	g«tive_‰ì_cb_ˇŒ_cou¡
;

27 
	$«tive_‰ì_cb
 (*
«tive_p
)

29 ++
«tive_‰ì_cb_ˇŒ_cou¡
;

30 (Ë
«tive_p
;

31 
	}
}

33 c⁄° 
jîry_obje˘_«tive_öfo_t
 
	g«tive_öfo
 =

35 .
‰ì_cb
 = 
«tive_‰ì_cb
,

38 
jîry_vÆue_t


39 
	$¸óã_obje˘
 ()

41 
jîry_vÆue_t
 
obj
 = 
	`jîry_¸óã_obje˘
 ();

42 
	`jîry_£t_obje˘_«tive_poöãr
 (
obj
, 
NULL
, &
«tive_öfo
);

43  
obj
;

44 
	}
}

47 
	$ã°_aut‹ñó£_vÆ
 ()

49 
JERRYX_AR_VALUE_T
 
obj
 = 
	`¸óã_obje˘
 ();

50 (Ë
obj
;

51 
	}
}

54 
	$maö
 ()

56 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

58 
«tive_‰ì_cb_ˇŒ_cou¡
 = 0;

59 
	`ã°_aut‹ñó£_vÆ
 ();

60 
	`jîry_gc
 ();

61 
	`TEST_ASSERT
 (
«tive_‰ì_cb_ˇŒ_cou¡
 == 1);

63 
	`jîry_˛ónup
 ();

64 
	}
}

	@deps/jerry/tests/unit-ext/test-ext-module-empty.c

16 
	~<°rög.h
>

18 
	~"jîrys¸ùt.h
"

19 
	~"ã°-comm⁄.h
"

20 
	~"jîrys¸ùt-ext/moduÀ.h
"

23 
	$maö
 (
¨gc
, **
¨gv
)

25 (Ë
¨gc
;

26 (Ë
¨gv
;

27 
jîry_ch¨_t
 
buf„r
[256];

28 
jîry_size_t
 
byãs_c›õd
;

29 
jîryx_moduÀ_ªsﬁvî_t
 
ªsﬁvî
 = 
jîryx_moduÀ_«tive_ªsﬁvî
;

31 
	`jîry_öô
 (
JERRY_INIT_EMPTY
);

34 
jîry_vÆue_t
 
moduÀ
 = 
	`jîryx_moduÀ_ªsﬁve
 ((
jîry_ch¨_t
 *Ë"some-unknown-moduÀ-«me", &
ªsﬁvî
, 1);

36 
	`TEST_ASSERT
 (
	`jîry_vÆue_has_îr‹_Êag
 (
moduÀ
));

39 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "message");

40 
jîry_vÆue_t
 
¥›
 = 
	`jîry_gë_¥›îty
 (
moduÀ
, 
¥›_«me
);

43 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
¥›
));

45 
byãs_c›õd
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¥›
, 0, 254, 
buf„r
, 256);

46 
buf„r
[
byãs_c›õd
] = 0;

47 
	`TEST_ASSERT
 (!
	`°rcmp
 ((c⁄° *Ë
buf„r
, "ModuleÇot found"));

50 
	`jîry_ªÀa£_vÆue
 (
¥›
);

51 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

54 
¥›_«me
 = 
	`jîry_¸óã_°rög
 ((c⁄° 
jîry_ch¨_t
 *) "moduleName");

55 
¥›
 = 
	`jîry_gë_¥›îty
 (
moduÀ
, 
¥›_«me
);

58 
	`TEST_ASSERT
 (
	`jîry_vÆue_is_°rög
 (
¥›
));

60 
byãs_c›õd
 = 
	`jîry_sub°rög_to_utf8_ch¨_buf„r
 (
¥›
, 0, 254, 
buf„r
, 256);

61 
buf„r
[
byãs_c›õd
] = 0;

62 
	`TEST_ASSERT
 (!
	`°rcmp
 ((c⁄° *Ë
buf„r
, "some-unknown-module-name"));

65 
	`jîry_ªÀa£_vÆue
 (
¥›
);

66 
	`jîry_ªÀa£_vÆue
 (
¥›_«me
);

67 
	`jîry_ªÀa£_vÆue
 (
moduÀ
);

70 
	}
}

	@deps/jerry/tests/unit-libm/test-libm.c

20 
	~<m©h.h
>

21 
	~<°dboﬁ.h
>

22 
	~<°döt.h
>

23 
	~<°dio.h
>

25 
boﬁ
 
	g∑s£d
 = 
åue
;

28 
	$check_öt
 (c⁄° *
ex¥
, 
compuãd
, 
ex≥˘ed
)

30 
	`¥ötf
 ("%†%d [ex≥˘ed=%d] ", 
ex¥
, 
compuãd
, 
ex≥˘ed
);

32 
boﬁ
 
ªsu…
 = 
compuãd
 =
ex≥˘ed
;

33 
	`¥ötf
 ("%s\n", 
ªsu…
 ? "PASS" : "FAIL");

35 
∑s£d
 &
ªsu…
;

36 
	}
}

40 
	mvÆue
;

41 
uöt64_t
 
	mbôs64
;

42 
uöt32_t
 
	mbôs32
[2];

43 } 
	tdoubÀ_bôs_t
;

46 
	$check_doubÀ
 (c⁄° *
ex¥
, 
compuãd
, 
ex≥˘ed
)

48 
doubÀ_bôs_t
 
compuãd_bôs
;

49 
doubÀ_bôs_t
 
ex≥˘ed_bôs
;

51 
compuãd_bôs
.
vÆue
 = 
compuãd
;

52 
ex≥˘ed_bôs
.
vÆue
 = 
ex≥˘ed
;

54 
	`¥ötf
 ("%†0x%08x%08x [ex≥˘ed=0x%08x%08x] ", 
ex¥
,

55 (Ë
compuãd_bôs
.
bôs32
[1], () computed_bits.bits32[0],

56 (Ë
ex≥˘ed_bôs
.
bôs32
[1], ()Éxpected_bits.bits32[0]);

58 
boﬁ
 
ªsu…
;

59 i‡(
	`i¢™
 (
compuãd
Ë&& i¢™ (
ex≥˘ed
))

61 
ªsu…
 = 
åue
;

65 
öt64_t
 
diff
 = (öt64_tË(
compuãd_bôs
.
bôs64
 - 
ex≥˘ed_bôs
.bits64);

66 i‡(
diff
 < 0)

68 
diff
 = -diff;

71 i‡(
diff
 <= 1)

73 
ªsu…
 = 
åue
;

74 i‡(
diff
 != 0)

76 
	`¥ötf
 ("APPROX ");

81 
ªsu…
 = 
Ál£
;

84 
	`¥ötf
 ("%s\n", 
ªsu…
 ? "PASS" : "FAIL");

86 
∑s£d
 &
ªsu…
;

87 
	}
}

90 
	$maö
 ()

92 
	#INF
 
INFINITY


	)

93 
	~"ã°-libm.öc.h
"

95  
∑s£d
 ? 0 : 1;

96 
	}
}

	@deps/jerry/tests/unit-libm/test-libm.inc.h

19 
check_doubÀ
 ("aco†(0.0)", 
acos
 (0.0), 1.57079632679489655800E+00);

20 
check_doubÀ
 ("aco†(-0.0)", 
acos
 (-0.0), 1.57079632679489655800E+00);

21 
check_doubÀ
 ("aco†(1.0)", 
acos
 (1.0), 0.00000000000000000000E+00);

22 
check_doubÀ
 ("aco†(-1.0)", 
acos
 (-1.0), 3.14159265358979311600E+00);

23 
check_doubÀ
 ("aco†(0.5)", 
acos
 (0.5), 1.04719755119659785336E+00);

24 
check_doubÀ
 ("aco†(-0.5)", 
acos
 (-0.5), 2.09439510239319570672E+00);

25 
check_doubÀ
 ("aco†(INFINITY)", 
acos
 (
INFINITY
), 
NAN
);

26 
check_doubÀ
 ("aco†(-INFINITY)", 
acos
 (-
INFINITY
), 
NAN
);

27 
check_doubÀ
 ("aco†(NAN)", 
acos
 (
NAN
), NAN);

28 
check_doubÀ
 ("aco†(6.9e-18)", 
acos
 (6.9e-18), 1.57079632679489655800E+00);

29 
check_doubÀ
 ("aco†(-6.9e-18)", 
acos
 (-6.9e-18), 1.57079632679489655800E+00);

30 
check_doubÀ
 ("aco†(7.0e-18)", 
acos
 (7.0e-18), 1.57079632679489655800E+00);

31 
check_doubÀ
 ("aco†(-7.0e-18)", 
acos
 (-7.0e-18), 1.57079632679489655800E+00);

32 
check_doubÀ
 ("aco†(7.4e-9)", 
acos
 (7.4e-9), 1.57079631939489661185E+00);

33 
check_doubÀ
 ("aco†(-7.4e-9)", 
acos
 (-7.4e-9), 1.57079633419489672619E+00);

34 
check_doubÀ
 ("aco†(7.5e-9)", 
acos
 (7.5e-9), 1.57079631929489660358E+00);

35 
check_doubÀ
 ("aco†(-7.5e-9)", 
acos
 (-7.5e-9), 1.57079633429489651242E+00);

36 
check_doubÀ
 ("aco†(0.1)", 
acos
 (0.1), 1.47062890563333681371E+00);

37 
check_doubÀ
 ("aco†(-0.1)", 
acos
 (-0.1), 1.67096374795645652434E+00);

38 
check_doubÀ
 ("aco†(0.4)", 
acos
 (0.4), 1.15927948072740849561E+00);

39 
check_doubÀ
 ("aco†(-0.4)", 
acos
 (-0.4), 1.98231317286238462039E+00);

40 
check_doubÀ
 ("aco†(0.6)", 
acos
 (0.6), 9.27295218001612298053E-01);

41 
check_doubÀ
 ("aco†(-0.6)", 
acos
 (-0.6), 2.21429743558818081794E+00);

42 
check_doubÀ
 ("aco†(0.99)", 
acos
 (0.99), 1.41539473324427289569E-01);

43 
check_doubÀ
 ("aco†(-0.99)", 
acos
 (-0.99), 3.00005318026536604847E+00);

44 
check_doubÀ
 ("aco†(1.1)", 
acos
 (1.1), 
NAN
);

45 
check_doubÀ
 ("aco†(-1.1)", 
acos
 (-1.1), 
NAN
);

46 
check_doubÀ
 ("aco†(0.7)", 
acos
 (0.7), 7.95398830184143590394E-01);

47 
check_doubÀ
 ("asö (0.0)", 
asö
 (0.0), 0.00000000000000000000E+00);

48 
check_doubÀ
 ("asö (-0.0)", 
asö
 (-0.0), -0.00000000000000000000E+00);

49 
check_doubÀ
 ("asö (1.0)", 
asö
 (1.0), 1.57079632679489655800E+00);

50 
check_doubÀ
 ("asö (-1.0)", 
asö
 (-1.0), -1.57079632679489655800E+00);

51 
check_doubÀ
 ("asö (0.5)", 
asö
 (0.5), 5.23598775598298926681E-01);

52 
check_doubÀ
 ("asö (-0.5)", 
asö
 (-0.5), -5.23598775598298926681E-01);

53 
check_doubÀ
 ("asö (0.98)", 
asö
 (0.98), 1.37046148447177684737E+00);

54 
check_doubÀ
 ("asö (-0.98)", 
asö
 (-0.98), -1.37046148447177684737E+00);

55 
check_doubÀ
 ("asö (INFINITY)", 
asö
 (
INFINITY
), 
NAN
);

56 
check_doubÀ
 ("asö (-INFINITY)", 
asö
 (-
INFINITY
), 
NAN
);

57 
check_doubÀ
 ("asö (NAN)", 
asö
 (
NAN
), NAN);

58 
check_doubÀ
 ("asö (6.9e-18)", 
asö
 (6.9e-18), 6.90000000000000026253E-18);

59 
check_doubÀ
 ("asö (-6.9e-18)", 
asö
 (-6.9e-18), -6.90000000000000026253E-18);

60 
check_doubÀ
 ("asö (7.0e-18)", 
asö
 (7.0e-18), 6.99999999999999973042E-18);

61 
check_doubÀ
 ("asö (-7.0e-18)", 
asö
 (-7.0e-18), -6.99999999999999973042E-18);

62 
check_doubÀ
 ("asö (7.4e-9)", 
asö
 (7.4e-9), 7.40000000000000008865E-09);

63 
check_doubÀ
 ("asö (-7.4e-9)", 
asö
 (-7.4e-9), -7.40000000000000008865E-09);

64 
check_doubÀ
 ("asö (7.5e-9)", 
asö
 (7.5e-9), 7.49999999999999932974E-09);

65 
check_doubÀ
 ("asö (-7.5e-9)", 
asö
 (-7.5e-9), -7.49999999999999932974E-09);

66 
check_doubÀ
 ("asö (0.1)", 
asö
 (0.1), 1.00167421161559799803E-01);

67 
check_doubÀ
 ("asö (-0.1)", 
asö
 (-0.1), -1.00167421161559799803E-01);

68 
check_doubÀ
 ("asö (0.4)", 
asö
 (0.4), 4.11516846067488062388E-01);

69 
check_doubÀ
 ("asö (-0.4)", 
asö
 (-0.4), -4.11516846067488062388E-01);

70 
check_doubÀ
 ("asö (0.6)", 
asö
 (0.6), 6.43501108793284370968E-01);

71 
check_doubÀ
 ("asö (-0.6)", 
asö
 (-0.6), -6.43501108793284370968E-01);

72 
check_doubÀ
 ("asö (0.97)", 
asö
 (0.97), 1.32523080927960457132E+00);

73 
check_doubÀ
 ("asö (-0.97)", 
asö
 (-0.97), -1.32523080927960457132E+00);

74 
check_doubÀ
 ("asö (0.99)", 
asö
 (0.99), 1.42925685347046926843E+00);

75 
check_doubÀ
 ("asö (-0.99)", 
asö
 (-0.99), -1.42925685347046926843E+00);

76 
check_doubÀ
 ("asö (1.1)", 
asö
 (1.1), 
NAN
);

77 
check_doubÀ
 ("asö (-1.1)", 
asö
 (-1.1), 
NAN
);

78 
check_doubÀ
 ("asö (0.7)", 
asö
 (0.7), 7.75397496610752967605E-01);

79 
check_doubÀ
 ("©™ (0.0)", 
©™
 (0.0), 0.00000000000000000000E+00);

80 
check_doubÀ
 ("©™ (-0.0)", 
©™
 (-0.0), -0.00000000000000000000E+00);

81 
check_doubÀ
 ("©™ (7.0 / 16.0)", 
©™
 (7.0 / 16.0), 4.12410441597387322776E-01);

82 
check_doubÀ
 ("©™ (-7.0 / 16.0)", 
©™
 (-7.0 / 16.0), -4.12410441597387322776E-01);

83 
check_doubÀ
 ("©™ (11.0 / 16.0)", 
©™
 (11.0 / 16.0), 6.02287346134964152178E-01);

84 
check_doubÀ
 ("©™ (-11.0 / 16.0)", 
©™
 (-11.0 / 16.0), -6.02287346134964152178E-01);

85 
check_doubÀ
 ("©™ (19.0 / 16.0)", 
©™
 (19.0 / 16.0), 8.70903457075652975838E-01);

86 
check_doubÀ
 ("©™ (-19.0 / 16.0)", 
©™
 (-19.0 / 16.0), -8.70903457075652975838E-01);

87 
check_doubÀ
 ("©™ (39.0 / 16.0)", 
©™
 (39.0 / 16.0), 1.18147960496175574718E+00);

88 
check_doubÀ
 ("©™ (-39.0 / 16.0)", 
©™
 (-39.0 / 16.0), -1.18147960496175574718E+00);

89 
check_doubÀ
 ("©™ (1.0)", 
©™
 (1.0), 7.85398163397448278999E-01);

90 
check_doubÀ
 ("©™ (-1.0)", 
©™
 (-1.0), -7.85398163397448278999E-01);

91 
check_doubÀ
 ("©™ (INFINITY)", 
©™
 (
INFINITY
), 1.57079632679489655800E+00);

92 
check_doubÀ
 ("©™ (-INFINITY)", 
©™
 (-
INFINITY
), -1.57079632679489655800E+00);

93 
check_doubÀ
 ("©™ (NAN)", 
©™
 (
NAN
), NAN);

94 
check_doubÀ
 ("©™ (6.9 / 16.0)", 
©™
 (6.9 / 16.0), 4.07152520941509277197E-01);

95 
check_doubÀ
 ("©™ (-6.9 / 16.0)", 
©™
 (-6.9 / 16.0), -4.07152520941509277197E-01);

96 
check_doubÀ
 ("©™ (7.1 / 16.0)", 
©™
 (7.1 / 16.0), 4.17644283240569735849E-01);

97 
check_doubÀ
 ("©™ (-7.1 / 16.0)", 
©™
 (-7.1 / 16.0), -4.17644283240569735849E-01);

98 
check_doubÀ
 ("©™ (10.9 / 16.0)", 
©™
 (10.9 / 16.0), 5.98030920656102416011E-01);

99 
check_doubÀ
 ("©™ (-10.9 / 16.0)", 
©™
 (-10.9 / 16.0), -5.98030920656102416011E-01);

100 
check_doubÀ
 ("©™ (11.1 / 16.0)", 
©™
 (11.1 / 16.0), 6.06519005615576589641E-01);

101 
check_doubÀ
 ("©™ (-11.1 / 16.0)", 
©™
 (-11.1 / 16.0), -6.06519005615576589641E-01);

102 
check_doubÀ
 ("©™ (18.9 / 16.0)", 
©™
 (18.9 / 16.0), 8.68302259886018612534E-01);

103 
check_doubÀ
 ("©™ (-18.9 / 16.0)", 
©™
 (-18.9 / 16.0), -8.68302259886018612534E-01);

104 
check_doubÀ
 ("©™ (19.1 / 16.0)", 
©™
 (19.1 / 16.0), 8.73488683179258762479E-01);

105 
check_doubÀ
 ("©™ (-19.1 / 16.0)", 
©™
 (-19.1 / 16.0), -8.73488683179258762479E-01);

106 
check_doubÀ
 ("©™ (38.9 / 16.0)", 
©™
 (38.9 / 16.0), 1.18057723083411603149E+00);

107 
check_doubÀ
 ("©™ (-38.9 / 16.0)", 
©™
 (-38.9 / 16.0), -1.18057723083411603149E+00);

108 
check_doubÀ
 ("©™ (39.1 / 16.0)", 
©™
 (39.1 / 16.0), 1.18237802686613768799E+00);

109 
check_doubÀ
 ("©™ (-39.1 / 16.0)", 
©™
 (-39.1 / 16.0), -1.18237802686613768799E+00);

110 
check_doubÀ
 ("©™ (0.99)", 
©™
 (0.99), 7.80373080066635860241E-01);

111 
check_doubÀ
 ("©™ (-0.99)", 
©™
 (-0.99), -7.80373080066635860241E-01);

112 
check_doubÀ
 ("©™ (1.1)", 
©™
 (1.1), 8.32981266674431730657E-01);

113 
check_doubÀ
 ("©™ (-1.1)", 
©™
 (-1.1), -8.32981266674431730657E-01);

114 
check_doubÀ
 ("©™ (7.37e+19)", 
©™
 (7.37e+19), 1.57079632679489655800E+00);

115 
check_doubÀ
 ("©™ (-7.37e+19)", 
©™
 (-7.37e+19), -1.57079632679489655800E+00);

116 
check_doubÀ
 ("©™ (7.38e+19)", 
©™
 (7.38e+19), 1.57079632679489655800E+00);

117 
check_doubÀ
 ("©™ (-7.38e+19)", 
©™
 (-7.38e+19), -1.57079632679489655800E+00);

118 
check_doubÀ
 ("©™ (0.7)", 
©™
 (0.7), 6.10725964389208564320E-01);

119 
check_doubÀ
 ("©™2 (NAN, NAN)", 
©™2
 (
NAN
, NAN), NAN);

120 
check_doubÀ
 ("©™2 (0.0, NAN)", 
©™2
 (0.0, 
NAN
), NAN);

121 
check_doubÀ
 ("©™2 (-0.0, NAN)", 
©™2
 (-0.0, 
NAN
), NAN);

122 
check_doubÀ
 ("©™2 (1.0, NAN)", 
©™2
 (1.0, 
NAN
), NAN);

123 
check_doubÀ
 ("©™2 (-1.0, NAN)", 
©™2
 (-1.0, 
NAN
), NAN);

124 
check_doubÀ
 ("©™2 (INFINITY, NAN)", 
©™2
 (
INFINITY
, 
NAN
), NAN);

125 
check_doubÀ
 ("©™2 (-INFINITY, NAN)", 
©™2
 (-
INFINITY
, 
NAN
), NAN);

126 
check_doubÀ
 ("©™2 (NAN, 0.0)", 
©™2
 (
NAN
, 0.0), NAN);

127 
check_doubÀ
 ("©™2 (NAN, -0.0)", 
©™2
 (
NAN
, -0.0), NAN);

128 
check_doubÀ
 ("©™2 (NAN, 1.0)", 
©™2
 (
NAN
, 1.0), NAN);

129 
check_doubÀ
 ("©™2 (NAN, -1.0)", 
©™2
 (
NAN
, -1.0), NAN);

130 
check_doubÀ
 ("©™2 (NAN, INFINITY)", 
©™2
 (
NAN
, 
INFINITY
), NAN);

131 
check_doubÀ
 ("©™2 (NAN, -INFINITY)", 
©™2
 (
NAN
, -
INFINITY
), NAN);

132 
check_doubÀ
 ("©™2 (0.0, 0.0)", 
©™2
 (0.0, 0.0), 0.00000000000000000000E+00);

133 
check_doubÀ
 ("©™2 (0.0, -0.0)", 
©™2
 (0.0, -0.0), 3.14159265358979311600E+00);

134 
check_doubÀ
 ("©™2 (-0.0, 0.0)", 
©™2
 (-0.0, 0.0), -0.00000000000000000000E+00);

135 
check_doubÀ
 ("©™2 (-0.0, -0.0)", 
©™2
 (-0.0, -0.0), -3.14159265358979311600E+00);

136 
check_doubÀ
 ("©™2 (0.0, 1.0)", 
©™2
 (0.0, 1.0), 0.00000000000000000000E+00);

137 
check_doubÀ
 ("©™2 (0.0, -1.0)", 
©™2
 (0.0, -1.0), 3.14159265358979311600E+00);

138 
check_doubÀ
 ("©™2 (0.0, INFINITY)", 
©™2
 (0.0, 
INFINITY
), 0.00000000000000000000E+00);

139 
check_doubÀ
 ("©™2 (0.0, -INFINITY)", 
©™2
 (0.0, -
INFINITY
), 3.14159265358979311600E+00);

140 
check_doubÀ
 ("©™2 (-0.0, 1.0)", 
©™2
 (-0.0, 1.0), -0.00000000000000000000E+00);

141 
check_doubÀ
 ("©™2 (-0.0, -1.0)", 
©™2
 (-0.0, -1.0), -3.14159265358979311600E+00);

142 
check_doubÀ
 ("©™2 (-0.0, INFINITY)", 
©™2
 (-0.0, 
INFINITY
), -0.00000000000000000000E+00);

143 
check_doubÀ
 ("©™2 (-0.0, -INFINITY)", 
©™2
 (-0.0, -
INFINITY
), -3.14159265358979311600E+00);

144 
check_doubÀ
 ("©™2 (1.0, 0.0)", 
©™2
 (1.0, 0.0), 1.57079632679489655800E+00);

145 
check_doubÀ
 ("©™2 (1.0, -0.0)", 
©™2
 (1.0, -0.0), 1.57079632679489655800E+00);

146 
check_doubÀ
 ("©™2 (INFINITY, 0.0)", 
©™2
 (
INFINITY
, 0.0), 1.57079632679489655800E+00);

147 
check_doubÀ
 ("©™2 (INFINITY, -0.0)", 
©™2
 (
INFINITY
, -0.0), 1.57079632679489655800E+00);

148 
check_doubÀ
 ("©™2 (-1.0, 0.0)", 
©™2
 (-1.0, 0.0), -1.57079632679489655800E+00);

149 
check_doubÀ
 ("©™2 (-1.0, -0.0)", 
©™2
 (-1.0, -0.0), -1.57079632679489655800E+00);

150 
check_doubÀ
 ("©™2 (-INFINITY, 0.0)", 
©™2
 (-
INFINITY
, 0.0), -1.57079632679489655800E+00);

151 
check_doubÀ
 ("©™2 (-INFINITY, -0.0)", 
©™2
 (-
INFINITY
, -0.0), -1.57079632679489655800E+00);

152 
check_doubÀ
 ("©™2 (1.0, INFINITY)", 
©™2
 (1.0, 
INFINITY
), 0.00000000000000000000E+00);

153 
check_doubÀ
 ("©™2 (-1.0, INFINITY)", 
©™2
 (-1.0, 
INFINITY
), -0.00000000000000000000E+00);

154 
check_doubÀ
 ("©™2 (1.0, -INFINITY)", 
©™2
 (1.0, -
INFINITY
), 3.14159265358979311600E+00);

155 
check_doubÀ
 ("©™2 (-1.0, -INFINITY)", 
©™2
 (-1.0, -
INFINITY
), -3.14159265358979311600E+00);

156 
check_doubÀ
 ("©™2 (INFINITY, INFINITY)", 
©™2
 (
INFINITY
, INFINITY), 7.85398163397448278999E-01);

157 
check_doubÀ
 ("©™2 (INFINITY, -INFINITY)", 
©™2
 (
INFINITY
, -INFINITY), 2.35619449019234483700E+00);

158 
check_doubÀ
 ("©™2 (-INFINITY, INFINITY)", 
©™2
 (-
INFINITY
, INFINITY), -7.85398163397448278999E-01);

159 
check_doubÀ
 ("©™2 (-INFINITY, -INFINITY)", 
©™2
 (-
INFINITY
, -INFINITY), -2.35619449019234483700E+00);

160 
check_doubÀ
 ("©™2 (INFINITY, 1.0)", 
©™2
 (
INFINITY
, 1.0), 1.57079632679489655800E+00);

161 
check_doubÀ
 ("©™2 (INFINITY, -1.0)", 
©™2
 (
INFINITY
, -1.0), 1.57079632679489655800E+00);

162 
check_doubÀ
 ("©™2 (-INFINITY, 1.0)", 
©™2
 (-
INFINITY
, 1.0), -1.57079632679489655800E+00);

163 
check_doubÀ
 ("©™2 (-INFINITY, -1.0)", 
©™2
 (-
INFINITY
, -1.0), -1.57079632679489655800E+00);

164 
check_doubÀ
 ("©™2 (0.7, 1.0)", 
©™2
 (0.7, 1.0), 6.10725964389208564320E-01);

165 
check_doubÀ
 ("©™2 (-0.7, 1.0)", 
©™2
 (-0.7, 1.0), -6.10725964389208564320E-01);

166 
check_doubÀ
 ("©™2 (0.7, -1.0)", 
©™2
 (0.7, -1.0), 2.53086668920058466270E+00);

167 
check_doubÀ
 ("©™2 (-0.7, -1.0)", 
©™2
 (-0.7, -1.0), -2.53086668920058466270E+00);

168 
check_doubÀ
 ("©™2 (0.4, 0.0003)", 
©™2
 (0.4, 0.0003), 1.57004632693552159672E+00);

169 
check_doubÀ
 ("©™2 (1.4, -0.93)", 
©™2
 (1.4, -0.93), 2.15714876682378431383E+00);

170 
check_doubÀ
 ("˚û (0.0)", 
˚û
 (0.0), 0.00000000000000000000E+00);

171 
check_doubÀ
 ("˚û (-0.0)", 
˚û
 (-0.0), -0.00000000000000000000E+00);

172 
check_doubÀ
 ("˚û (INFINITY)", 
˚û
 (
INFINITY
), 
INF
);

173 
check_doubÀ
 ("˚û (-INFINITY)", 
˚û
 (-
INFINITY
), -
INF
);

174 
check_doubÀ
 ("˚û (NAN)", 
˚û
 (
NAN
), NAN);

175 
check_doubÀ
 ("˚û (3.14)", 
˚û
 (3.14), 4.00000000000000000000E+00);

176 
check_doubÀ
 ("˚û (-3.14)", 
˚û
 (-3.14), -3.00000000000000000000E+00);

177 
check_doubÀ
 ("˚û (3.72e-09)", 
˚û
 (3.72e-09), 1.00000000000000000000E+00);

178 
check_doubÀ
 ("˚û (-3.72e-09)", 
˚û
 (-3.72e-09), -0.00000000000000000000E+00);

179 
check_doubÀ
 ("˚û (7.37e+19)", 
˚û
 (7.37e+19), 7.37000000000000000000E+19);

180 
check_doubÀ
 ("˚û (-7.37e+19)", 
˚û
 (-7.37e+19), -7.37000000000000000000E+19);

181 
check_doubÀ
 ("ex∞(0.0)", 
exp
 (0.0), 1.00000000000000000000E+00);

182 
check_doubÀ
 ("ex∞(-0.0)", 
exp
 (-0.0), 1.00000000000000000000E+00);

183 
check_doubÀ
 ("ex∞(1.0)", 
exp
 (1.0), 2.71828182845904509080E+00);

184 
check_doubÀ
 ("ex∞(-1.0)", 
exp
 (-1.0), 3.67879441171442334024E-01);

185 
check_doubÀ
 ("ex∞(INFINITY)", 
exp
 (
INFINITY
), 
INF
);

186 
check_doubÀ
 ("ex∞(-INFINITY)", 
exp
 (-
INFINITY
), 0.00000000000000000000E+00);

187 
check_doubÀ
 ("ex∞(NAN)", 
exp
 (
NAN
), NAN);

188 
check_doubÀ
 ("ex∞(7.08e+02)", 
exp
 (7.08e+02), 3.02338314427605515848E+307);

189 
check_doubÀ
 ("ex∞(7.10e+02)", 
exp
 (7.10e+02), 
INF
);

190 
check_doubÀ
 ("ex∞(-7.40e+02)", 
exp
 (-7.40e+02), 4.19955798965059562550E-322);

191 
check_doubÀ
 ("ex∞(-7.50e+02)", 
exp
 (-7.50e+02), 0.00000000000000000000E+00);

192 
check_doubÀ
 ("ex∞(0.34)", 
exp
 (0.34), 1.40494759056359375116E+00);

193 
check_doubÀ
 ("ex∞(-0.34)", 
exp
 (-0.34), 7.11770322762609652933E-01);

194 
check_doubÀ
 ("ex∞(0.35)", 
exp
 (0.35), 1.41906754859325712204E+00);

195 
check_doubÀ
 ("ex∞(-0.35)", 
exp
 (-0.35), 7.04688089718713439602E-01);

196 
check_doubÀ
 ("ex∞(1.03)", 
exp
 (1.03), 2.80106583469907910455E+00);

197 
check_doubÀ
 ("ex∞(-1.03)", 
exp
 (-1.03), 3.57006960569147380191E-01);

198 
check_doubÀ
 ("ex∞(1.04)", 
exp
 (1.04), 2.82921701435155981130E+00);

199 
check_doubÀ
 ("ex∞(-1.04)", 
exp
 (-1.04), 3.53454681958780159157E-01);

200 
check_doubÀ
 ("ex∞(3.72e-09)", 
exp
 (3.72e-09), 1.00000000372000008575E+00);

201 
check_doubÀ
 ("ex∞(-3.72e-09)", 
exp
 (-3.72e-09), 9.99999996280000025273E-01);

202 
check_doubÀ
 ("ex∞(3.73e-09)", 
exp
 (3.73e-09), 1.00000000373000008658E+00);

203 
check_doubÀ
 ("ex∞(-3.73e-09)", 
exp
 (-3.73e-09), 9.99999996270000024445E-01);

204 
check_doubÀ
 ("ex∞(2.0)", 
exp
 (2.0), 7.38905609893065040694E+00);

205 
check_doubÀ
 ("ex∞(3.0)", 
exp
 (3.0), 2.00855369231876679237E+01);

206 
check_doubÀ
 ("ex∞(0.7)", 
exp
 (0.7), 2.01375270747047663278E+00);

207 
check_doubÀ
 ("ex∞(38.0)", 
exp
 (38.0), 3.18559317571137560000E+16);

208 
check_doubÀ
 ("Áb†(0.0)", 
Ábs
 (0.0), 0.00000000000000000000E+00);

209 
check_doubÀ
 ("Áb†(-0.0)", 
Ábs
 (-0.0), 0.00000000000000000000E+00);

210 
check_doubÀ
 ("Áb†(1.0)", 
Ábs
 (1.0), 1.00000000000000000000E+00);

211 
check_doubÀ
 ("Áb†(-1.0)", 
Ábs
 (-1.0), 1.00000000000000000000E+00);

212 
check_doubÀ
 ("Áb†(INFINITY)", 
Ábs
 (
INFINITY
), 
INF
);

213 
check_doubÀ
 ("Áb†(-INFINITY)", 
Ábs
 (-
INFINITY
), 
INF
);

214 
check_doubÀ
 ("Áb†(NAN)", 
Ábs
 (
NAN
), NAN);

215 
check_doubÀ
 ("Áb†(3.14)", 
Ábs
 (3.14), 3.14000000000000012434E+00);

216 
check_doubÀ
 ("Áb†(-3.14)", 
Ábs
 (-3.14), 3.14000000000000012434E+00);

217 
check_doubÀ
 ("Áb†(0.7)", 
Ábs
 (0.7), 6.99999999999999955591E-01);

218 
check_doubÀ
 ("Áb†(-0.7)", 
Ábs
 (-0.7), 6.99999999999999955591E-01);

219 
check_doubÀ
 ("Áb†(3.72e-09)", 
Ábs
 (3.72e-09), 3.71999999999999997526E-09);

220 
check_doubÀ
 ("Áb†(-3.72e-09)", 
Ábs
 (-3.72e-09), 3.71999999999999997526E-09);

221 
check_doubÀ
 ("Áb†(7.37e+19)", 
Ábs
 (7.37e+19), 7.37000000000000000000E+19);

222 
check_doubÀ
 ("Áb†(-7.37e+19)", 
Ábs
 (-7.37e+19), 7.37000000000000000000E+19);

223 
check_doubÀ
 ("Êo‹ (0.0)", 
Êo‹
 (0.0), 0.00000000000000000000E+00);

224 
check_doubÀ
 ("Êo‹ (-0.0)", 
Êo‹
 (-0.0), -0.00000000000000000000E+00);

225 
check_doubÀ
 ("Êo‹ (INFINITY)", 
Êo‹
 (
INFINITY
), 
INF
);

226 
check_doubÀ
 ("Êo‹ (-INFINITY)", 
Êo‹
 (-
INFINITY
), -
INF
);

227 
check_doubÀ
 ("Êo‹ (NAN)", 
Êo‹
 (
NAN
), NAN);

228 
check_doubÀ
 ("Êo‹ (3.14)", 
Êo‹
 (3.14), 3.00000000000000000000E+00);

229 
check_doubÀ
 ("Êo‹ (-3.14)", 
Êo‹
 (-3.14), -4.00000000000000000000E+00);

230 
check_doubÀ
 ("Êo‹ (3.72e-09)", 
Êo‹
 (3.72e-09), 0.00000000000000000000E+00);

231 
check_doubÀ
 ("Êo‹ (-3.72e-09)", 
Êo‹
 (-3.72e-09), -1.00000000000000000000E+00);

232 
check_doubÀ
 ("Êo‹ (7.37e+19)", 
Êo‹
 (7.37e+19), 7.37000000000000000000E+19);

233 
check_doubÀ
 ("Êo‹ (-7.37e+19)", 
Êo‹
 (-7.37e+19), -7.37000000000000000000E+19);

234 
check_doubÀ
 ("fmod (0.0, 0.0)", 
fmod
 (0.0, 0.0), -
NAN
);

235 
check_doubÀ
 ("fmod (0.0, -0.0)", 
fmod
 (0.0, -0.0), -
NAN
);

236 
check_doubÀ
 ("fmod (-0.0, 0.0)", 
fmod
 (-0.0, 0.0), -
NAN
);

237 
check_doubÀ
 ("fmod (-0.0, -0.0)", 
fmod
 (-0.0, -0.0), -
NAN
);

238 
check_doubÀ
 ("fmod (0.0, 3.0)", 
fmod
 (0.0, 3.0), 0.00000000000000000000E+00);

239 
check_doubÀ
 ("fmod (0.0, -3.0)", 
fmod
 (0.0, -3.0), 0.00000000000000000000E+00);

240 
check_doubÀ
 ("fmod (-0.0, 3.0)", 
fmod
 (-0.0, 3.0), -0.00000000000000000000E+00);

241 
check_doubÀ
 ("fmod (-0.0, -3.0)", 
fmod
 (-0.0, -3.0), -0.00000000000000000000E+00);

242 
check_doubÀ
 ("fmod (0.0, INFINITY)", 
fmod
 (0.0, 
INFINITY
), 0.00000000000000000000E+00);

243 
check_doubÀ
 ("fmod (0.0, -INFINITY)", 
fmod
 (0.0, -
INFINITY
), 0.00000000000000000000E+00);

244 
check_doubÀ
 ("fmod (-0.0, INFINITY)", 
fmod
 (-0.0, 
INFINITY
), -0.00000000000000000000E+00);

245 
check_doubÀ
 ("fmod (-0.0, -INFINITY)", 
fmod
 (-0.0, -
INFINITY
), -0.00000000000000000000E+00);

246 
check_doubÀ
 ("fmod (0.0, NAN)", 
fmod
 (0.0, 
NAN
), NAN);

247 
check_doubÀ
 ("fmod (-0.0, NAN)", 
fmod
 (-0.0, 
NAN
), NAN);

248 
check_doubÀ
 ("fmod (3.0, 0.0)", 
fmod
 (3.0, 0.0), -
NAN
);

249 
check_doubÀ
 ("fmod (3.0, -0.0)", 
fmod
 (3.0, -0.0), -
NAN
);

250 
check_doubÀ
 ("fmod (-3.0, 0.0)", 
fmod
 (-3.0, 0.0), -
NAN
);

251 
check_doubÀ
 ("fmod (-3.0, -0.0)", 
fmod
 (-3.0, -0.0), -
NAN
);

252 
check_doubÀ
 ("fmod (3.0, 3.0)", 
fmod
 (3.0, 3.0), 0.00000000000000000000E+00);

253 
check_doubÀ
 ("fmod (3.0, -3.0)", 
fmod
 (3.0, -3.0), 0.00000000000000000000E+00);

254 
check_doubÀ
 ("fmod (-3.0, 3.0)", 
fmod
 (-3.0, 3.0), -0.00000000000000000000E+00);

255 
check_doubÀ
 ("fmod (-3.0, -3.0)", 
fmod
 (-3.0, -3.0), -0.00000000000000000000E+00);

256 
check_doubÀ
 ("fmod (3.0, INFINITY)", 
fmod
 (3.0, 
INFINITY
), 3.00000000000000000000E+00);

257 
check_doubÀ
 ("fmod (3.0, -INFINITY)", 
fmod
 (3.0, -
INFINITY
), 3.00000000000000000000E+00);

258 
check_doubÀ
 ("fmod (-3.0, INFINITY)", 
fmod
 (-3.0, 
INFINITY
), -3.00000000000000000000E+00);

259 
check_doubÀ
 ("fmod (-3.0, -INFINITY)", 
fmod
 (-3.0, -
INFINITY
), -3.00000000000000000000E+00);

260 
check_doubÀ
 ("fmod (3.0, NAN)", 
fmod
 (3.0, 
NAN
), NAN);

261 
check_doubÀ
 ("fmod (-3.0, NAN)", 
fmod
 (-3.0, 
NAN
), NAN);

262 
check_doubÀ
 ("fmod (INFINITY, 0.0)", 
fmod
 (
INFINITY
, 0.0), -
NAN
);

263 
check_doubÀ
 ("fmod (INFINITY, -0.0)", 
fmod
 (
INFINITY
, -0.0), -
NAN
);

264 
check_doubÀ
 ("fmod (-INFINITY, 0.0)", 
fmod
 (-
INFINITY
, 0.0), -
NAN
);

265 
check_doubÀ
 ("fmod (-INFINITY, -0.0)", 
fmod
 (-
INFINITY
, -0.0), -
NAN
);

266 
check_doubÀ
 ("fmod (INFINITY, 3.0)", 
fmod
 (
INFINITY
, 3.0), -
NAN
);

267 
check_doubÀ
 ("fmod (INFINITY, -3.0)", 
fmod
 (
INFINITY
, -3.0), -
NAN
);

268 
check_doubÀ
 ("fmod (-INFINITY, 3.0)", 
fmod
 (-
INFINITY
, 3.0), -
NAN
);

269 
check_doubÀ
 ("fmod (-INFINITY, -3.0)", 
fmod
 (-
INFINITY
, -3.0), -
NAN
);

270 
check_doubÀ
 ("fmod (INFINITY, INFINITY)", 
fmod
 (
INFINITY
, INFINITY), -
NAN
);

271 
check_doubÀ
 ("fmod (INFINITY, -INFINITY)", 
fmod
 (
INFINITY
, -INFINITY), -
NAN
);

272 
check_doubÀ
 ("fmod (-INFINITY, INFINITY)", 
fmod
 (-
INFINITY
, INFINITY), -
NAN
);

273 
check_doubÀ
 ("fmod (-INFINITY, -INFINITY)", 
fmod
 (-
INFINITY
, -INFINITY), -
NAN
);

274 
check_doubÀ
 ("fmod (INFINITY, NAN)", 
fmod
 (
INFINITY
, 
NAN
), NAN);

275 
check_doubÀ
 ("fmod (-INFINITY, NAN)", 
fmod
 (-
INFINITY
, 
NAN
), NAN);

276 
check_doubÀ
 ("fmod (NAN, 0.0)", 
fmod
 (
NAN
, 0.0), NAN);

277 
check_doubÀ
 ("fmod (NAN, -0.0)", 
fmod
 (
NAN
, -0.0), NAN);

278 
check_doubÀ
 ("fmod (NAN, 3.0)", 
fmod
 (
NAN
, 3.0), NAN);

279 
check_doubÀ
 ("fmod (NAN, -3.0)", 
fmod
 (
NAN
, -3.0), NAN);

280 
check_doubÀ
 ("fmod (NAN, INFINITY)", 
fmod
 (
NAN
, 
INFINITY
), NAN);

281 
check_doubÀ
 ("fmod (NAN, -INFINITY)", 
fmod
 (
NAN
, -
INFINITY
), NAN);

282 
check_doubÀ
 ("fmod (NAN, NAN)", 
fmod
 (
NAN
, NAN), NAN);

283 
check_doubÀ
 ("fmod (3.0, 1.0)", 
fmod
 (3.0, 1.0), 0.00000000000000000000E+00);

284 
check_doubÀ
 ("fmod (3.0, -1.0)", 
fmod
 (3.0, -1.0), 0.00000000000000000000E+00);

285 
check_doubÀ
 ("fmod (-3.0, 1.0)", 
fmod
 (-3.0, 1.0), -0.00000000000000000000E+00);

286 
check_doubÀ
 ("fmod (-3.0, -1.0)", 
fmod
 (-3.0, -1.0), -0.00000000000000000000E+00);

287 
check_doubÀ
 ("fmod (6.5, 2.3)", 
fmod
 (6.5, 2.3), 1.90000000000000035527E+00);

288 
check_doubÀ
 ("fmod (6.5, -2.3)", 
fmod
 (6.5, -2.3), 1.90000000000000035527E+00);

289 
check_doubÀ
 ("fmod (-6.5, 2.3)", 
fmod
 (-6.5, 2.3), -1.90000000000000035527E+00);

290 
check_doubÀ
 ("fmod (-6.5, -2.3)", 
fmod
 (-6.5, -2.3), -1.90000000000000035527E+00);

291 
check_öt
 ("i¢™ (0.0)", 
i¢™
 (0.0), 0);

292 
check_öt
 ("i¢™ (-0.0)", 
i¢™
 (-0.0), 0);

293 
check_öt
 ("i¢™ (1.0)", 
i¢™
 (1.0), 0);

294 
check_öt
 ("i¢™ (-1.0)", 
i¢™
 (-1.0), 0);

295 
check_öt
 ("i¢™ (INFINITY)", 
i¢™
 (
INFINITY
), 0);

296 
check_öt
 ("i¢™ (-INFINITY)", 
i¢™
 (-
INFINITY
), 0);

297 
check_öt
 ("i¢™ (NAN)", 
i¢™
 (
NAN
), 1);

298 
check_öt
 ("i¢™ (3.14)", 
i¢™
 (3.14), 0);

299 
check_öt
 ("i¢™ (-3.14)", 
i¢™
 (-3.14), 0);

300 
check_öt
 ("i¢™ (0.7)", 
i¢™
 (0.7), 0);

301 
check_öt
 ("i¢™ (-0.7)", 
i¢™
 (-0.7), 0);

302 
check_öt
 ("i¢™ (3.72e-09)", 
i¢™
 (3.72e-09), 0);

303 
check_öt
 ("i¢™ (-3.72e-09)", 
i¢™
 (-3.72e-09), 0);

304 
check_öt
 ("i¢™ (7.37e+19)", 
i¢™
 (7.37e+19), 0);

305 
check_öt
 ("i¢™ (-7.37e+19)", 
i¢™
 (-7.37e+19), 0);

306 
check_doubÀ
 ("log (0.0)", 
log
 (0.0), -
INF
);

307 
check_doubÀ
 ("log (-0.0)", 
log
 (-0.0), -
INF
);

308 
check_doubÀ
 ("log (1.0)", 
log
 (1.0), 0.00000000000000000000E+00);

309 
check_doubÀ
 ("log (-1.0)", 
log
 (-1.0), 
NAN
);

310 
check_doubÀ
 ("log (INFINITY)", 
log
 (
INFINITY
), 
INF
);

311 
check_doubÀ
 ("log (-INFINITY)", 
log
 (-
INFINITY
), 
NAN
);

312 
check_doubÀ
 ("log (NAN)", 
log
 (
NAN
), NAN);

313 
check_doubÀ
 ("log (M_E)", 
log
 (
M_E
), 1.00000000000000000000E+00);

314 
check_doubÀ
 ("log (1.0 / M_E)", 
log
 (1.0 / 
M_E
), -1.00000000000000000000E+00);

315 
check_doubÀ
 ("log (2)", 
log
 (2), 6.93147180559945286227E-01);

316 
check_doubÀ
 ("log (10)", 
log
 (10), 2.30258509299404590109E+00);

317 
check_doubÀ
 ("log (0.7)", 
log
 (0.7), -3.56674943938732447180E-01);

318 
check_doubÀ
 ("log (2.22e-308)", 
log
 (2.22e-308), -7.08398701446281847893E+02);

319 
check_doubÀ
 ("log (2.23e-308)", 
log
 (2.23e-308), -7.08394207056694085622E+02);

320 
check_doubÀ
 ("log (0.17)", 
log
 (0.17), -1.77195684193187519284E+00);

321 
check_doubÀ
 ("log (0.18)", 
log
 (0.18), -1.71479842809192661868E+00);

322 
check_doubÀ
 ("log (1999.0)", 
log
 (1999.0), 7.60040233450039970364E+00);

323 
check_doubÀ
 ("log (2000.0)", 
log
 (2000.0), 7.60090245954208221235E+00);

324 
check_doubÀ
 ("log (2001.0)", 
log
 (2001.0), 7.60140233458373337783E+00);

325 
check_doubÀ
 ("pow (0.0, 0.0)", 
pow
 (0.0, 0.0), 1.00000000000000000000E+00);

326 
check_doubÀ
 ("pow (0.0, -0.0)", 
pow
 (0.0, -0.0), 1.00000000000000000000E+00);

327 
check_doubÀ
 ("pow (-0.0, 0.0)", 
pow
 (-0.0, 0.0), 1.00000000000000000000E+00);

328 
check_doubÀ
 ("pow (-0.0, -0.0)", 
pow
 (-0.0, -0.0), 1.00000000000000000000E+00);

329 
check_doubÀ
 ("pow (0.0, 1.0)", 
pow
 (0.0, 1.0), 0.00000000000000000000E+00);

330 
check_doubÀ
 ("pow (0.0, -1.0)", 
pow
 (0.0, -1.0), 
INF
);

331 
check_doubÀ
 ("pow (-0.0, 1.0)", 
pow
 (-0.0, 1.0), -0.00000000000000000000E+00);

332 
check_doubÀ
 ("pow (-0.0, -1.0)", 
pow
 (-0.0, -1.0), -
INF
);

333 
check_doubÀ
 ("pow (0.0, INFINITY)", 
pow
 (0.0, 
INFINITY
), 0.00000000000000000000E+00);

334 
check_doubÀ
 ("pow (0.0, -INFINITY)", 
pow
 (0.0, -
INFINITY
), 
INF
);

335 
check_doubÀ
 ("pow (-0.0, INFINITY)", 
pow
 (-0.0, 
INFINITY
), 0.00000000000000000000E+00);

336 
check_doubÀ
 ("pow (-0.0, -INFINITY)", 
pow
 (-0.0, -
INFINITY
), 
INF
);

337 
check_doubÀ
 ("pow (0.0, NAN)", 
pow
 (0.0, 
NAN
), NAN);

338 
check_doubÀ
 ("pow (-0.0, NAN)", 
pow
 (-0.0, 
NAN
), NAN);

339 
check_doubÀ
 ("pow (1.0, 0.0)", 
pow
 (1.0, 0.0), 1.00000000000000000000E+00);

340 
check_doubÀ
 ("pow (1.0, -0.0)", 
pow
 (1.0, -0.0), 1.00000000000000000000E+00);

341 
check_doubÀ
 ("pow (-1.0, 0.0)", 
pow
 (-1.0, 0.0), 1.00000000000000000000E+00);

342 
check_doubÀ
 ("pow (-1.0, -0.0)", 
pow
 (-1.0, -0.0), 1.00000000000000000000E+00);

343 
check_doubÀ
 ("pow (1.0, 1.0)", 
pow
 (1.0, 1.0), 1.00000000000000000000E+00);

344 
check_doubÀ
 ("pow (1.0, -1.0)", 
pow
 (1.0, -1.0), 1.00000000000000000000E+00);

345 
check_doubÀ
 ("pow (-1.0, 1.0)", 
pow
 (-1.0, 1.0), -1.00000000000000000000E+00);

346 
check_doubÀ
 ("pow (-1.0, -1.0)", 
pow
 (-1.0, -1.0), -1.00000000000000000000E+00);

347 
check_doubÀ
 ("pow (1.0, INFINITY)", 
pow
 (1.0, 
INFINITY
), 1.00000000000000000000E+00);

348 
check_doubÀ
 ("pow (1.0, -INFINITY)", 
pow
 (1.0, -
INFINITY
), 1.00000000000000000000E+00);

349 
check_doubÀ
 ("pow (-1.0, INFINITY)", 
pow
 (-1.0, 
INFINITY
), 1.00000000000000000000E+00);

350 
check_doubÀ
 ("pow (-1.0, -INFINITY)", 
pow
 (-1.0, -
INFINITY
), 1.00000000000000000000E+00);

351 
check_doubÀ
 ("pow (1.0, NAN)", 
pow
 (1.0, 
NAN
), 1.00000000000000000000E+00);

352 
check_doubÀ
 ("pow (-1.0, NAN)", 
pow
 (-1.0, 
NAN
), NAN);

353 
check_doubÀ
 ("pow (INFINITY, 0.0)", 
pow
 (
INFINITY
, 0.0), 1.00000000000000000000E+00);

354 
check_doubÀ
 ("pow (INFINITY, -0.0)", 
pow
 (
INFINITY
, -0.0), 1.00000000000000000000E+00);

355 
check_doubÀ
 ("pow (-INFINITY, 0.0)", 
pow
 (-
INFINITY
, 0.0), 1.00000000000000000000E+00);

356 
check_doubÀ
 ("pow (-INFINITY, -0.0)", 
pow
 (-
INFINITY
, -0.0), 1.00000000000000000000E+00);

357 
check_doubÀ
 ("pow (INFINITY, 1.0)", 
pow
 (
INFINITY
, 1.0), 
INF
);

358 
check_doubÀ
 ("pow (INFINITY, -1.0)", 
pow
 (
INFINITY
, -1.0), 0.00000000000000000000E+00);

359 
check_doubÀ
 ("pow (-INFINITY, 1.0)", 
pow
 (-
INFINITY
, 1.0), -
INF
);

360 
check_doubÀ
 ("pow (-INFINITY, -1.0)", 
pow
 (-
INFINITY
, -1.0), -0.00000000000000000000E+00);

361 
check_doubÀ
 ("pow (INFINITY, INFINITY)", 
pow
 (
INFINITY
, INFINITY), 
INF
);

362 
check_doubÀ
 ("pow (INFINITY, -INFINITY)", 
pow
 (
INFINITY
, -INFINITY), 0.00000000000000000000E+00);

363 
check_doubÀ
 ("pow (-INFINITY, INFINITY)", 
pow
 (-
INFINITY
, INFINITY), 
INF
);

364 
check_doubÀ
 ("pow (-INFINITY, -INFINITY)", 
pow
 (-
INFINITY
, -INFINITY), 0.00000000000000000000E+00);

365 
check_doubÀ
 ("pow (INFINITY, NAN)", 
pow
 (
INFINITY
, 
NAN
), NAN);

366 
check_doubÀ
 ("pow (-INFINITY, NAN)", 
pow
 (-
INFINITY
, 
NAN
), NAN);

367 
check_doubÀ
 ("pow (NAN, 0.0)", 
pow
 (
NAN
, 0.0), 1.00000000000000000000E+00);

368 
check_doubÀ
 ("pow (NAN, -0.0)", 
pow
 (
NAN
, -0.0), 1.00000000000000000000E+00);

369 
check_doubÀ
 ("pow (NAN, 1.0)", 
pow
 (
NAN
, 1.0), NAN);

370 
check_doubÀ
 ("pow (NAN, -1.0)", 
pow
 (
NAN
, -1.0), NAN);

371 
check_doubÀ
 ("pow (NAN, INFINITY)", 
pow
 (
NAN
, 
INFINITY
), NAN);

372 
check_doubÀ
 ("pow (NAN, -INFINITY)", 
pow
 (
NAN
, -
INFINITY
), NAN);

373 
check_doubÀ
 ("pow (NAN, NAN)", 
pow
 (
NAN
, NAN), NAN);

374 
check_doubÀ
 ("pow (0.9, INFINITY)", 
pow
 (0.9, 
INFINITY
), 0.00000000000000000000E+00);

375 
check_doubÀ
 ("pow (0.9, -INFINITY)", 
pow
 (0.9, -
INFINITY
), 
INF
);

376 
check_doubÀ
 ("pow (-0.9, INFINITY)", 
pow
 (-0.9, 
INFINITY
), 0.00000000000000000000E+00);

377 
check_doubÀ
 ("pow (-0.9, -INFINITY)", 
pow
 (-0.9, -
INFINITY
), 
INF
);

378 
check_doubÀ
 ("pow (1.1, INFINITY)", 
pow
 (1.1, 
INFINITY
), 
INF
);

379 
check_doubÀ
 ("pow (1.1, -INFINITY)", 
pow
 (1.1, -
INFINITY
), 0.00000000000000000000E+00);

380 
check_doubÀ
 ("pow (-1.1, INFINITY)", 
pow
 (-1.1, 
INFINITY
), 
INF
);

381 
check_doubÀ
 ("pow (-1.1, -INFINITY)", 
pow
 (-1.1, -
INFINITY
), 0.00000000000000000000E+00);

382 
check_doubÀ
 ("pow (0.0, 2.0)", 
pow
 (0.0, 2.0), 0.00000000000000000000E+00);

383 
check_doubÀ
 ("pow (0.0, -2.0)", 
pow
 (0.0, -2.0), 
INF
);

384 
check_doubÀ
 ("pow (-0.0, 2.0)", 
pow
 (-0.0, 2.0), 0.00000000000000000000E+00);

385 
check_doubÀ
 ("pow (-0.0, -2.0)", 
pow
 (-0.0, -2.0), 
INF
);

386 
check_doubÀ
 ("pow (0.0, 3.0)", 
pow
 (0.0, 3.0), 0.00000000000000000000E+00);

387 
check_doubÀ
 ("pow (0.0, -3.0)", 
pow
 (0.0, -3.0), 
INF
);

388 
check_doubÀ
 ("pow (-0.0, 3.0)", 
pow
 (-0.0, 3.0), -0.00000000000000000000E+00);

389 
check_doubÀ
 ("pow (-0.0, -3.0)", 
pow
 (-0.0, -3.0), -
INF
);

390 
check_doubÀ
 ("pow (0.0, 3.14)", 
pow
 (0.0, 3.14), 0.00000000000000000000E+00);

391 
check_doubÀ
 ("pow (0.0, -3.14)", 
pow
 (0.0, -3.14), 
INF
);

392 
check_doubÀ
 ("pow (-0.0, 3.14)", 
pow
 (-0.0, 3.14), 0.00000000000000000000E+00);

393 
check_doubÀ
 ("pow (-0.0, -3.14)", 
pow
 (-0.0, -3.14), 
INF
);

394 
check_doubÀ
 ("pow (1.0, 3.14)", 
pow
 (1.0, 3.14), 1.00000000000000000000E+00);

395 
check_doubÀ
 ("pow (1.0, -3.14)", 
pow
 (1.0, -3.14), 1.00000000000000000000E+00);

396 
check_doubÀ
 ("pow (-1.0, 3.14)", 
pow
 (-1.0, 3.14), -
NAN
);

397 
check_doubÀ
 ("pow (-1.0, -3.14)", 
pow
 (-1.0, -3.14), -
NAN
);

398 
check_doubÀ
 ("pow (3.14, 0.0)", 
pow
 (3.14, 0.0), 1.00000000000000000000E+00);

399 
check_doubÀ
 ("pow (3.14, -0.0)", 
pow
 (3.14, -0.0), 1.00000000000000000000E+00);

400 
check_doubÀ
 ("pow (-3.14, 0.0)", 
pow
 (-3.14, 0.0), 1.00000000000000000000E+00);

401 
check_doubÀ
 ("pow (-3.14, -0.0)", 
pow
 (-3.14, -0.0), 1.00000000000000000000E+00);

402 
check_doubÀ
 ("pow (3.14, 1.0)", 
pow
 (3.14, 1.0), 3.14000000000000012434E+00);

403 
check_doubÀ
 ("pow (3.14, -1.0)", 
pow
 (3.14, -1.0), 3.18471337579617819191E-01);

404 
check_doubÀ
 ("pow (-3.14, 1.0)", 
pow
 (-3.14, 1.0), -3.14000000000000012434E+00);

405 
check_doubÀ
 ("pow (-3.14, -1.0)", 
pow
 (-3.14, -1.0), -3.18471337579617819191E-01);

406 
check_doubÀ
 ("pow (3.14, 2.0)", 
pow
 (3.14, 2.0), 9.85960000000000036380E+00);

407 
check_doubÀ
 ("pow (3.14, -2.0)", 
pow
 (3.14, -2.0), 1.01423992859750899953E-01);

408 
check_doubÀ
 ("pow (-3.14, 2.0)", 
pow
 (-3.14, 2.0), 9.85960000000000036380E+00);

409 
check_doubÀ
 ("pow (-3.14, -2.0)", 
pow
 (-3.14, -2.0), 1.01423992859750899953E-01);

410 
check_doubÀ
 ("pow (3.14, 3.0)", 
pow
 (3.14, 3.0), 3.09591440000000019950E+01);

411 
check_doubÀ
 ("pow (3.14, -3.0)", 
pow
 (3.14, -3.0), 3.23006346687104775595E-02);

412 
check_doubÀ
 ("pow (-3.14, 3.0)", 
pow
 (-3.14, 3.0), -3.09591440000000019950E+01);

413 
check_doubÀ
 ("pow (-3.14, -3.0)", 
pow
 (-3.14, -3.0), -3.23006346687104775595E-02);

414 
check_doubÀ
 ("pow (3.14, 3.14)", 
pow
 (3.14, 3.14), 3.63378388801747078674E+01);

415 
check_doubÀ
 ("pow (3.14, -3.14)", 
pow
 (3.14, -3.14), 2.75195231972252124519E-02);

416 
check_doubÀ
 ("pow (-3.14, 3.14)", 
pow
 (-3.14, 3.14), -
NAN
);

417 
check_doubÀ
 ("pow (-3.14, -3.14)", 
pow
 (-3.14, -3.14), -
NAN
);

418 
check_doubÀ
 ("pow (INFINITY, 2.0)", 
pow
 (
INFINITY
, 2.0), 
INF
);

419 
check_doubÀ
 ("pow (INFINITY, -2.0)", 
pow
 (
INFINITY
, -2.0), 0.00000000000000000000E+00);

420 
check_doubÀ
 ("pow (-INFINITY, 2.0)", 
pow
 (-
INFINITY
, 2.0), 
INF
);

421 
check_doubÀ
 ("pow (-INFINITY, -2.0)", 
pow
 (-
INFINITY
, -2.0), 0.00000000000000000000E+00);

422 
check_doubÀ
 ("pow (INFINITY, 3.0)", 
pow
 (
INFINITY
, 3.0), 
INF
);

423 
check_doubÀ
 ("pow (INFINITY, -3.0)", 
pow
 (
INFINITY
, -3.0), 0.00000000000000000000E+00);

424 
check_doubÀ
 ("pow (-INFINITY, 3.0)", 
pow
 (-
INFINITY
, 3.0), -
INF
);

425 
check_doubÀ
 ("pow (-INFINITY, -3.0)", 
pow
 (-
INFINITY
, -3.0), -0.00000000000000000000E+00);

426 
check_doubÀ
 ("pow (INFINITY, 3.14)", 
pow
 (
INFINITY
, 3.14), 
INF
);

427 
check_doubÀ
 ("pow (INFINITY, -3.14)", 
pow
 (
INFINITY
, -3.14), 0.00000000000000000000E+00);

428 
check_doubÀ
 ("pow (-INFINITY, 3.14)", 
pow
 (-
INFINITY
, 3.14), 
INF
);

429 
check_doubÀ
 ("pow (-INFINITY, -3.14)", 
pow
 (-
INFINITY
, -3.14), 0.00000000000000000000E+00);

430 
check_doubÀ
 ("pow (0.7, 1.2)", 
pow
 (0.7, 1.2), 6.51804940566386381562E-01);

431 
check_doubÀ
 ("sqπ (0.0)", 
sqπ
 (0.0), 0.00000000000000000000E+00);

432 
check_doubÀ
 ("sqπ (-0.0)", 
sqπ
 (-0.0), -0.00000000000000000000E+00);

433 
check_doubÀ
 ("sqπ (1.0)", 
sqπ
 (1.0), 1.00000000000000000000E+00);

434 
check_doubÀ
 ("sqπ (-1.0)", 
sqπ
 (-1.0), -
NAN
);

435 
check_doubÀ
 ("sqπ (INFINITY)", 
sqπ
 (
INFINITY
), 
INF
);

436 
check_doubÀ
 ("sqπ (-INFINITY)", 
sqπ
 (-
INFINITY
), -
NAN
);

437 
check_doubÀ
 ("sqπ (NAN)", 
sqπ
 (
NAN
), NAN);

438 
check_doubÀ
 ("sqπ (0.7)", 
sqπ
 (0.7), 8.36660026534075562665E-01);

439 
check_doubÀ
 ("sqπ (2)", 
sqπ
 (2), 1.41421356237309514547E+00);

440 
check_doubÀ
 ("sqπ (10)", 
sqπ
 (10), 3.16227766016837952279E+00);

441 
check_doubÀ
 ("sqπ (2.22e-308)", 
sqπ
 (2.22e-308), 1.48996644257513405066E-154);

442 
check_doubÀ
 ("sqπ (2.23e-308)", 
sqπ
 (2.23e-308), 1.49331845230680803391E-154);

443 
check_doubÀ
 ("sqπ (3.72e-09)", 
sqπ
 (3.72e-09), 6.09918027279076225416E-05);

444 
check_doubÀ
 ("sqπ (7.37e+19)", 
sqπ
 (7.37e+19), 8.58487041253390121460E+09);

445 
check_doubÀ
 ("sqπ (2209)", 
sqπ
 (2209), 4.70000000000000000000E+01);

446 
check_doubÀ
 ("sqπ (4)", 
sqπ
 (4), 2.00000000000000000000E+00);

447 
check_doubÀ
 ("sqπ (0.25)", 
sqπ
 (0.25), 5.00000000000000000000E-01);

448 
check_doubÀ
 ("sqπ (6642.25)", 
sqπ
 (6642.25), 8.15000000000000000000E+01);

449 
check_doubÀ
 ("sqπ (15239.9025)", 
sqπ
 (15239.9025), 1.23450000000000002842E+02);

450 
check_doubÀ
 ("sö (0.0)", 
sö
 (0.0), 0.00000000000000000000E+00);

451 
check_doubÀ
 ("sö (-0.0)", 
sö
 (-0.0), -0.00000000000000000000E+00);

452 
check_doubÀ
 ("sö (1.0)", 
sö
 (1.0), 8.41470984807896504876E-01);

453 
check_doubÀ
 ("sö (-1.0)", 
sö
 (-1.0), -8.41470984807896504876E-01);

454 
check_doubÀ
 ("sö (INFINITY)", 
sö
 (
INFINITY
), -
NAN
);

455 
check_doubÀ
 ("sö (-INFINITY)", 
sö
 (-
INFINITY
), -
NAN
);

456 
check_doubÀ
 ("sö (NAN)", 
sö
 (
NAN
), NAN);

457 
check_doubÀ
 ("sö (M_PI)", 
sö
 (
M_PI
), 1.22464679914735320717E-16);

458 
check_doubÀ
 ("sö (-M_PI)", 
sö
 (-
M_PI
), -1.22464679914735320717E-16);

459 
check_doubÀ
 ("sö (2.0 * M_PI)", 
sö
 (2.0 * 
M_PI
), -2.44929359829470641435E-16);

460 
check_doubÀ
 ("sö (-2.0 * M_PI)", 
sö
 (-2.0 * 
M_PI
), 2.44929359829470641435E-16);

461 
check_doubÀ
 ("sö (M_PI / 2.0)", 
sö
 (
M_PI
 / 2.0), 1.00000000000000000000E+00);

462 
check_doubÀ
 ("sö (-M_PI / 2.0)", 
sö
 (-
M_PI
 / 2.0), -1.00000000000000000000E+00);

463 
check_doubÀ
 ("sö (M_PI / 3.0)", 
sö
 (
M_PI
 / 3.0), 8.66025403784438596588E-01);

464 
check_doubÀ
 ("sö (-M_PI / 3.0)", 
sö
 (-
M_PI
 / 3.0), -8.66025403784438596588E-01);

465 
check_doubÀ
 ("sö (M_PI / 4.0)", 
sö
 (
M_PI
 / 4.0), 7.07106781186547461715E-01);

466 
check_doubÀ
 ("sö (-M_PI / 4.0)", 
sö
 (-
M_PI
 / 4.0), -7.07106781186547461715E-01);

467 
check_doubÀ
 ("sö (M_PI / 6.0)", 
sö
 (
M_PI
 / 6.0), 4.99999999999999944489E-01);

468 
check_doubÀ
 ("sö (-M_PI / 6.0)", 
sö
 (-
M_PI
 / 6.0), -4.99999999999999944489E-01);

469 
check_doubÀ
 ("sö (M_PI * 2.0 / 3.0)", 
sö
 (
M_PI
 * 2.0 / 3.0), 8.66025403784438707611E-01);

470 
check_doubÀ
 ("sö (-M_PI * 2.0 / 3.0)", 
sö
 (-
M_PI
 * 2.0 / 3.0), -8.66025403784438707611E-01);

471 
check_doubÀ
 ("sö (M_PI * 5.0 / 6.0)", 
sö
 (
M_PI
 * 5.0 / 6.0), 4.99999999999999944489E-01);

472 
check_doubÀ
 ("sö (-M_PI * 5.0 / 6.0)", 
sö
 (-
M_PI
 * 5.0 / 6.0), -4.99999999999999944489E-01);

473 
check_doubÀ
 ("sö (6.9e-18)", 
sö
 (6.9e-18), 6.90000000000000026253E-18);

474 
check_doubÀ
 ("sö (-6.9e-18)", 
sö
 (-6.9e-18), -6.90000000000000026253E-18);

475 
check_doubÀ
 ("sö (7.0e-18)", 
sö
 (7.0e-18), 6.99999999999999973042E-18);

476 
check_doubÀ
 ("sö (-7.0e-18)", 
sö
 (-7.0e-18), -6.99999999999999973042E-18);

477 
check_doubÀ
 ("sö (7.4e-9)", 
sö
 (7.4e-9), 7.40000000000000008865E-09);

478 
check_doubÀ
 ("sö (-7.4e-9)", 
sö
 (-7.4e-9), -7.40000000000000008865E-09);

479 
check_doubÀ
 ("sö (7.5e-9)", 
sö
 (7.5e-9), 7.49999999999999932974E-09);

480 
check_doubÀ
 ("sö (-7.5e-9)", 
sö
 (-7.5e-9), -7.49999999999999932974E-09);

481 
check_doubÀ
 ("sö (0.2)", 
sö
 (0.2), 1.98669330795061216399E-01);

482 
check_doubÀ
 ("sö (-0.2)", 
sö
 (-0.2), -1.98669330795061216399E-01);

483 
check_doubÀ
 ("sö (0.4)", 
sö
 (0.4), 3.89418342308650522465E-01);

484 
check_doubÀ
 ("sö (-0.4)", 
sö
 (-0.4), -3.89418342308650522465E-01);

485 
check_doubÀ
 ("sö (0.7)", 
sö
 (0.7), 6.44217687237691016833E-01);

486 
check_doubÀ
 ("sö (-0.7)", 
sö
 (-0.7), -6.44217687237691016833E-01);

487 
check_doubÀ
 ("sö (0.8)", 
sö
 (0.8), 7.17356090899522791382E-01);

488 
check_doubÀ
 ("sö (-0.8)", 
sö
 (-0.8), -7.17356090899522791382E-01);

489 
check_doubÀ
 ("sö (3.0)", 
sö
 (3.0), 1.41120008059867213523E-01);

490 
check_doubÀ
 ("sö (-3.0)", 
sö
 (-3.0), -1.41120008059867213523E-01);

491 
check_doubÀ
 ("sö (4.0)", 
sö
 (4.0), -7.56802495307928202450E-01);

492 
check_doubÀ
 ("sö (-4.0)", 
sö
 (-4.0), 7.56802495307928202450E-01);

493 
check_doubÀ
 ("sö (6.0)", 
sö
 (6.0), -2.79415498198925860152E-01);

494 
check_doubÀ
 ("sö (-6.0)", 
sö
 (-6.0), 2.79415498198925860152E-01);

495 
check_doubÀ
 ("sö (7.0)", 
sö
 (7.0), 6.56986598718789061024E-01);

496 
check_doubÀ
 ("sö (-7.0)", 
sö
 (-7.0), -6.56986598718789061024E-01);

497 
check_doubÀ
 ("co†(0.0)", 
cos
 (0.0), 1.00000000000000000000E+00);

498 
check_doubÀ
 ("co†(-0.0)", 
cos
 (-0.0), 1.00000000000000000000E+00);

499 
check_doubÀ
 ("co†(1.0)", 
cos
 (1.0), 5.40302305868139765010E-01);

500 
check_doubÀ
 ("co†(-1.0)", 
cos
 (-1.0), 5.40302305868139765010E-01);

501 
check_doubÀ
 ("co†(INFINITY)", 
cos
 (
INFINITY
), -
NAN
);

502 
check_doubÀ
 ("co†(-INFINITY)", 
cos
 (-
INFINITY
), -
NAN
);

503 
check_doubÀ
 ("co†(NAN)", 
cos
 (
NAN
), NAN);

504 
check_doubÀ
 ("co†(M_PI)", 
cos
 (
M_PI
), -1.00000000000000000000E+00);

505 
check_doubÀ
 ("co†(-M_PI)", 
cos
 (-
M_PI
), -1.00000000000000000000E+00);

506 
check_doubÀ
 ("co†(2.0 * M_PI)", 
cos
 (2.0 * 
M_PI
), 1.00000000000000000000E+00);

507 
check_doubÀ
 ("co†(-2.0 * M_PI)", 
cos
 (-2.0 * 
M_PI
), 1.00000000000000000000E+00);

508 
check_doubÀ
 ("co†(M_PI / 2.0)", 
cos
 (
M_PI
 / 2.0), 6.12323399573676603587E-17);

509 
check_doubÀ
 ("co†(-M_PI / 2.0)", 
cos
 (-
M_PI
 / 2.0), 6.12323399573676603587E-17);

510 
check_doubÀ
 ("co†(M_PI / 3.0)", 
cos
 (
M_PI
 / 3.0), 5.00000000000000111022E-01);

511 
check_doubÀ
 ("co†(-M_PI / 3.0)", 
cos
 (-
M_PI
 / 3.0), 5.00000000000000111022E-01);

512 
check_doubÀ
 ("co†(M_PI / 4.0)", 
cos
 (
M_PI
 / 4.0), 7.07106781186547572737E-01);

513 
check_doubÀ
 ("co†(-M_PI / 4.0)", 
cos
 (-
M_PI
 / 4.0), 7.07106781186547572737E-01);

514 
check_doubÀ
 ("co†(M_PI / 6.0)", 
cos
 (
M_PI
 / 6.0), 8.66025403784438707611E-01);

515 
check_doubÀ
 ("co†(-M_PI / 6.0)", 
cos
 (-
M_PI
 / 6.0), 8.66025403784438707611E-01);

516 
check_doubÀ
 ("co†(M_PI * 2.0 / 3.0)", 
cos
 (
M_PI
 * 2.0 / 3.0), -4.99999999999999777955E-01);

517 
check_doubÀ
 ("co†(-M_PI * 2.0 / 3.0)", 
cos
 (-
M_PI
 * 2.0 / 3.0), -4.99999999999999777955E-01);

518 
check_doubÀ
 ("co†(M_PI * 5.0 / 6.0)", 
cos
 (
M_PI
 * 5.0 / 6.0), -8.66025403784438707611E-01);

519 
check_doubÀ
 ("co†(-M_PI * 5.0 / 6.0)", 
cos
 (-
M_PI
 * 5.0 / 6.0), -8.66025403784438707611E-01);

520 
check_doubÀ
 ("co†(6.9e-18)", 
cos
 (6.9e-18), 1.00000000000000000000E+00);

521 
check_doubÀ
 ("co†(-6.9e-18)", 
cos
 (-6.9e-18), 1.00000000000000000000E+00);

522 
check_doubÀ
 ("co†(7.0e-18)", 
cos
 (7.0e-18), 1.00000000000000000000E+00);

523 
check_doubÀ
 ("co†(-7.0e-18)", 
cos
 (-7.0e-18), 1.00000000000000000000E+00);

524 
check_doubÀ
 ("co†(7.4e-9)", 
cos
 (7.4e-9), 1.00000000000000000000E+00);

525 
check_doubÀ
 ("co†(-7.4e-9)", 
cos
 (-7.4e-9), 1.00000000000000000000E+00);

526 
check_doubÀ
 ("co†(7.5e-9)", 
cos
 (7.5e-9), 1.00000000000000000000E+00);

527 
check_doubÀ
 ("co†(-7.5e-9)", 
cos
 (-7.5e-9), 1.00000000000000000000E+00);

528 
check_doubÀ
 ("co†(0.2)", 
cos
 (0.2), 9.80066577841241626246E-01);

529 
check_doubÀ
 ("co†(-0.2)", 
cos
 (-0.2), 9.80066577841241626246E-01);

530 
check_doubÀ
 ("co†(0.4)", 
cos
 (0.4), 9.21060994002885102816E-01);

531 
check_doubÀ
 ("co†(-0.4)", 
cos
 (-0.4), 9.21060994002885102816E-01);

532 
check_doubÀ
 ("co†(0.7)", 
cos
 (0.7), 7.64842187284488495003E-01);

533 
check_doubÀ
 ("co†(-0.7)", 
cos
 (-0.7), 7.64842187284488495003E-01);

534 
check_doubÀ
 ("co†(0.8)", 
cos
 (0.8), 6.96706709347165387136E-01);

535 
check_doubÀ
 ("co†(-0.8)", 
cos
 (-0.8), 6.96706709347165387136E-01);

536 
check_doubÀ
 ("co†(3.0)", 
cos
 (3.0), -9.89992496600445415211E-01);

537 
check_doubÀ
 ("co†(-3.0)", 
cos
 (-3.0), -9.89992496600445415211E-01);

538 
check_doubÀ
 ("co†(4.0)", 
cos
 (4.0), -6.53643620863611940486E-01);

539 
check_doubÀ
 ("co†(-4.0)", 
cos
 (-4.0), -6.53643620863611940486E-01);

540 
check_doubÀ
 ("co†(6.0)", 
cos
 (6.0), 9.60170286650365967240E-01);

541 
check_doubÀ
 ("co†(-6.0)", 
cos
 (-6.0), 9.60170286650365967240E-01);

542 
check_doubÀ
 ("co†(7.0)", 
cos
 (7.0), 7.53902254343304600859E-01);

543 
check_doubÀ
 ("co†(-7.0)", 
cos
 (-7.0), 7.53902254343304600859E-01);

544 
check_doubÀ
 ("è¿(0.0)", 
èn
 (0.0), 0.00000000000000000000E+00);

545 
check_doubÀ
 ("è¿(-0.0)", 
èn
 (-0.0), -0.00000000000000000000E+00);

546 
check_doubÀ
 ("è¿(1.0)", 
èn
 (1.0), 1.55740772465490229237E+00);

547 
check_doubÀ
 ("è¿(-1.0)", 
èn
 (-1.0), -1.55740772465490229237E+00);

548 
check_doubÀ
 ("è¿(INFINITY)", 
èn
 (
INFINITY
), -
NAN
);

549 
check_doubÀ
 ("è¿(-INFINITY)", 
èn
 (-
INFINITY
), -
NAN
);

550 
check_doubÀ
 ("è¿(NAN)", 
èn
 (
NAN
), NAN);

551 
check_doubÀ
 ("è¿(M_PI)", 
èn
 (
M_PI
), -1.22464679914735320717E-16);

552 
check_doubÀ
 ("è¿(-M_PI)", 
èn
 (-
M_PI
), 1.22464679914735320717E-16);

553 
check_doubÀ
 ("è¿(2.0 * M_PI)", 
èn
 (2.0 * 
M_PI
), -2.44929359829470641435E-16);

554 
check_doubÀ
 ("è¿(-2.0 * M_PI)", 
èn
 (-2.0 * 
M_PI
), 2.44929359829470641435E-16);

555 
check_doubÀ
 ("è¿(M_PI / 2.0)", 
èn
 (
M_PI
 / 2.0), 1.63312393531953700000E+16);

556 
check_doubÀ
 ("è¿(-M_PI / 2.0)", 
èn
 (-
M_PI
 / 2.0), -1.63312393531953700000E+16);

557 
check_doubÀ
 ("è¿(M_PI / 3.0)", 
èn
 (
M_PI
 / 3.0), 1.73205080756887674909E+00);

558 
check_doubÀ
 ("è¿(-M_PI / 3.0)", 
èn
 (-
M_PI
 / 3.0), -1.73205080756887674909E+00);

559 
check_doubÀ
 ("è¿(M_PI / 4.0)", 
èn
 (
M_PI
 / 4.0), 9.99999999999999888978E-01);

560 
check_doubÀ
 ("è¿(-M_PI / 4.0)", 
èn
 (-
M_PI
 / 4.0), -9.99999999999999888978E-01);

561 
check_doubÀ
 ("è¿(M_PI / 6.0)", 
èn
 (
M_PI
 / 6.0), 5.77350269189625731059E-01);

562 
check_doubÀ
 ("è¿(-M_PI / 6.0)", 
èn
 (-
M_PI
 / 6.0), -5.77350269189625731059E-01);

563 
check_doubÀ
 ("è¿(M_PI * 2.0 / 3.0)", 
èn
 (
M_PI
 * 2.0 / 3.0), -1.73205080756887830340E+00);

564 
check_doubÀ
 ("è¿(-M_PI * 2.0 / 3.0)", 
èn
 (-
M_PI
 * 2.0 / 3.0), 1.73205080756887830340E+00);

565 
check_doubÀ
 ("è¿(M_PI * 5.0 / 6.0)", 
èn
 (
M_PI
 * 5.0 / 6.0), -5.77350269189625731059E-01);

566 
check_doubÀ
 ("è¿(-M_PI * 5.0 / 6.0)", 
èn
 (-
M_PI
 * 5.0 / 6.0), 5.77350269189625731059E-01);

567 
check_doubÀ
 ("è¿(3.7e-9)", 
èn
 (3.7e-9), 3.70000000000000004433E-09);

568 
check_doubÀ
 ("è¿(-3.7e-9)", 
èn
 (-3.7e-9), -3.70000000000000004433E-09);

569 
check_doubÀ
 ("è¿(3.8e-9)", 
èn
 (3.8e-9), 3.80000000000000011259E-09);

570 
check_doubÀ
 ("è¿(-3.8e-9)", 
èn
 (-3.8e-9), -3.80000000000000011259E-09);

571 
check_doubÀ
 ("è¿(0.6)", 
èn
 (0.6), 6.84136808341692326252E-01);

572 
check_doubÀ
 ("è¿(-0.6)", 
èn
 (-0.6), -6.84136808341692326252E-01);

573 
check_doubÀ
 ("è¿(0.7)", 
èn
 (0.7), 8.42288380463079411342E-01);

574 
check_doubÀ
 ("è¿(-0.7)", 
èn
 (-0.7), -8.42288380463079411342E-01);

575 
check_doubÀ
 ("è¿(3.0)", 
èn
 (3.0), -1.42546543074277803909E-01);

576 
check_doubÀ
 ("è¿(-3.0)", 
èn
 (-3.0), 1.42546543074277803909E-01);

577 
check_doubÀ
 ("è¿(4.0)", 
èn
 (4.0), 1.15782128234957748525E+00);

578 
check_doubÀ
 ("è¿(-4.0)", 
èn
 (-4.0), -1.15782128234957748525E+00);

579 
check_doubÀ
 ("è¿(6.0)", 
èn
 (6.0), -2.91006191384749146600E-01);

580 
check_doubÀ
 ("è¿(-6.0)", 
èn
 (-6.0), 2.91006191384749146600E-01);

581 
check_doubÀ
 ("è¿(7.0)", 
èn
 (7.0), 8.71447982724318781500E-01);

582 
check_doubÀ
 ("è¿(-7.0)", 
èn
 (-7.0), -8.71447982724318781500E-01);

	@deps/jerry/third-party/valgrind/memcheck.h

60 #i‚de‡
__MEMCHECK_H


61 
	#__MEMCHECK_H


	)

72 
	~"vÆgröd.h
"

80 
	mVG_USERREQ__MAKE_MEM_NOACCESS
 = 
VG_USERREQ_TOOL_BASE
('M','C'),

81 
	mVG_USERREQ__MAKE_MEM_UNDEFINED
,

82 
	mVG_USERREQ__MAKE_MEM_DEFINED
,

83 
	mVG_USERREQ__DISCARD
,

84 
	mVG_USERREQ__CHECK_MEM_IS_ADDRESSABLE
,

85 
	mVG_USERREQ__CHECK_MEM_IS_DEFINED
,

86 
	mVG_USERREQ__DO_LEAK_CHECK
,

87 
	mVG_USERREQ__COUNT_LEAKS
,

89 
	mVG_USERREQ__GET_VBITS
,

90 
	mVG_USERREQ__SET_VBITS
,

92 
	mVG_USERREQ__CREATE_BLOCK
,

94 
	mVG_USERREQ__MAKE_MEM_DEFINED_IF_ADDRESSABLE
,

97 
	mVG_USERREQ__COUNT_LEAK_BLOCKS
,

100 
	m_VG_USERREQ__MEMCHECK_RECORD_OVERLAP_ERROR


101 
VG_USERREQ_TOOL_BASE
('M','C') + 256

102 } 
	tVg_MemCheckClõ¡Reque°
;

109 
	#VALGRIND_MAKE_MEM_NOACCESS
(
_qzz_addr
,
_qzz_Àn
) \

110 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

111 
VG_USERREQ__MAKE_MEM_NOACCESS
, \

112 (
_qzz_addr
), (
_qzz_Àn
), 0, 0, 0)

	)

116 
	#VALGRIND_MAKE_MEM_UNDEFINED
(
_qzz_addr
,
_qzz_Àn
) \

117 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

118 
VG_USERREQ__MAKE_MEM_UNDEFINED
, \

119 (
_qzz_addr
), (
_qzz_Àn
), 0, 0, 0)

	)

123 
	#VALGRIND_MAKE_MEM_DEFINED
(
_qzz_addr
,
_qzz_Àn
) \

124 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

125 
VG_USERREQ__MAKE_MEM_DEFINED
, \

126 (
_qzz_addr
), (
_qzz_Àn
), 0, 0, 0)

	)

131 
	#VALGRIND_MAKE_MEM_DEFINED_IF_ADDRESSABLE
(
_qzz_addr
,
_qzz_Àn
) \

132 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

133 
VG_USERREQ__MAKE_MEM_DEFINED_IF_ADDRESSABLE
, \

134 (
_qzz_addr
), (
_qzz_Àn
), 0, 0, 0)

	)

140 
	#VALGRIND_CREATE_BLOCK
(
_qzz_addr
,
_qzz_Àn
, 
_qzz_desc
) \

141 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

142 
VG_USERREQ__CREATE_BLOCK
, \

143 (
_qzz_addr
), (
_qzz_Àn
), (
_qzz_desc
), \

144 0, 0)

	)

148 
	#VALGRIND_DISCARD
(
_qzz_blködex
) \

149 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

150 
VG_USERREQ__DISCARD
, \

151 0, (
_qzz_blködex
), 0, 0, 0)

	)

160 
	#VALGRIND_CHECK_MEM_IS_ADDRESSABLE
(
_qzz_addr
,
_qzz_Àn
) \

161 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

162 
VG_USERREQ__CHECK_MEM_IS_ADDRESSABLE
, \

163 (
_qzz_addr
), (
_qzz_Àn
), 0, 0, 0)

	)

169 
	#VALGRIND_CHECK_MEM_IS_DEFINED
(
_qzz_addr
,
_qzz_Àn
) \

170 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

171 
VG_USERREQ__CHECK_MEM_IS_DEFINED
, \

172 (
_qzz_addr
), (
_qzz_Àn
), 0, 0, 0)

	)

179 
	#VALGRIND_CHECK_VALUE_IS_DEFINED
(
__lvÆue
) \

180 
	`VALGRIND_CHECK_MEM_IS_DEFINED
( \

181 (vﬁ©ûê*)&(
__lvÆue
), \

182 ()( (
__lvÆue
)))

	)

186 
	#VALGRIND_DO_LEAK_CHECK
 \

187 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__DO_LEAK_CHECK
, \

188 0, 0, 0, 0, 0)

	)

193 
	#VALGRIND_DO_ADDED_LEAK_CHECK
 \

194 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__DO_LEAK_CHECK
, \

195 0, 1, 0, 0, 0)

	)

200 
	#VALGRIND_DO_CHANGED_LEAK_CHECK
 \

201 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__DO_LEAK_CHECK
, \

202 0, 2, 0, 0, 0)

	)

205 
	#VALGRIND_DO_QUICK_LEAK_CHECK
 \

206 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__DO_LEAK_CHECK
, \

207 1, 0, 0, 0, 0)

	)

211 
	#VALGRIND_COUNT_LEAKS
(
Àaked
, 
dubious
, 
ªachabÀ
, 
suµªs£d
) \

219 
_qzz_Àaked
 = 0, 
_qzz_dubious
 = 0; \

220 
_qzz_ªachabÀ
 = 0, 
_qzz_suµªs£d
 = 0; \

221 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
( \

222 
VG_USERREQ__COUNT_LEAKS
, \

223 &
_qzz_Àaked
, &
_qzz_dubious
, \

224 &
_qzz_ªachabÀ
, &
_qzz_suµªs£d
, 0); \

225 
Àaked
 = 
_qzz_Àaked
; \

226 
dubious
 = 
_qzz_dubious
; \

227 
ªachabÀ
 = 
_qzz_ªachabÀ
; \

228 
suµªs£d
 = 
_qzz_suµªs£d
; \

229 }

	)

233 
	#VALGRIND_COUNT_LEAK_BLOCKS
(
Àaked
, 
dubious
, 
ªachabÀ
, 
suµªs£d
) \

241 
_qzz_Àaked
 = 0, 
_qzz_dubious
 = 0; \

242 
_qzz_ªachabÀ
 = 0, 
_qzz_suµªs£d
 = 0; \

243 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
( \

244 
VG_USERREQ__COUNT_LEAK_BLOCKS
, \

245 &
_qzz_Àaked
, &
_qzz_dubious
, \

246 &
_qzz_ªachabÀ
, &
_qzz_suµªs£d
, 0); \

247 
Àaked
 = 
_qzz_Àaked
; \

248 
dubious
 = 
_qzz_dubious
; \

249 
ªachabÀ
 = 
_qzz_ªachabÀ
; \

250 
suµªs£d
 = 
_qzz_suµªs£d
; \

251 }

	)

263 
	#VALGRIND_GET_VBITS
(
zza
,
zzvbôs
,
zznbyãs
) \

264 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

265 
VG_USERREQ__GET_VBITS
, \

266 (c⁄° *)(
zza
), \

267 (*)(
zzvbôs
), \

268 (
zznbyãs
), 0, 0)

	)

279 
	#VALGRIND_SET_VBITS
(
zza
,
zzvbôs
,
zznbyãs
) \

280 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

281 
VG_USERREQ__SET_VBITS
, \

282 (c⁄° *)(
zza
), \

283 (c⁄° *)(
zzvbôs
), \

284 (
zznbyãs
), 0, 0 )

	)

	@deps/jerry/third-party/valgrind/valgrind.h

73 #i‚de‡
__VALGRIND_H


74 
	#__VALGRIND_H


	)

91 
	#__VALGRIND_MAJOR__
 3

	)

92 
	#__VALGRIND_MINOR__
 6

	)

95 
	~<°d¨g.h
>

111 #unde‡
PLAT_x86_d¨wö


112 #unde‡
PLAT_amd64_d¨wö


113 #unde‡
PLAT_x86_wö32


114 #unde‡
PLAT_x86_löux


115 #unde‡
PLAT_amd64_löux


116 #unde‡
PLAT_µc32_löux


117 #unde‡
PLAT_µc64_löux


118 #unde‡
PLAT_¨m_löux


119 #unde‡
PLAT_s390x_löux


122 #i‡
deföed
(
__APPLE__
Ë&& deföed(
__i386__
)

123 
	#PLAT_x86_d¨wö
 1

	)

124 #ñi‡
deföed
(
__APPLE__
Ë&& deföed(
__x86_64__
)

125 
	#PLAT_amd64_d¨wö
 1

	)

126 #ñi‡
deföed
(
__MINGW32__
Ë|| deföed(
__CYGWIN32__
) \

127 || (
deföed
(
_WIN32
Ë&& 
	$deföed
(
_M_IX86
))

128 
	#PLAT_x86_wö32
 1

	)

129 #ñi‡
	`deföed
(
__löux__
Ë&& deföed(
__i386__
)

130 
	#PLAT_x86_löux
 1

	)

131 #ñi‡
	`deföed
(
__löux__
Ë&& deföed(
__x86_64__
)

132 
	#PLAT_amd64_löux
 1

	)

133 #ñi‡
	`deföed
(
__löux__
Ë&& deföed(
__powîpc__
Ë&& !deföed(
__powîpc64__
)

134 
	#PLAT_µc32_löux
 1

	)

135 #ñi‡
	`deföed
(
__löux__
Ë&& deföed(
__powîpc__
Ë&& deföed(
__powîpc64__
)

136 
	#PLAT_µc64_löux
 1

	)

137 #ñi‡
	`deföed
(
__löux__
Ë&& deföed(
__¨m__
)

138 
	#PLAT_¨m_löux
 1

	)

139 #ñi‡
	`deföed
(
__löux__
Ë&& deföed(
__s390__
Ë&& deföed(
__s390x__
)

140 
	#PLAT_s390x_löux
 1

	)

144 #i‡!
	`deföed
(
NVALGRIND
)

145 
	#NVALGRIND
 1

	)

168 
	#VALGRIND_DO_CLIENT_REQUEST
(
_zzq_ævÆ
, 
_zzq_deÁu…
, \

169 
_zzq_ªque°
, 
_zzq_¨g1
, 
_zzq_¨g2
, \

170 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

171 dÿ{ (
_zzq_ævÆ
Ë
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
((
_zzq_deÁu…
), \

172 (
_zzq_ªque°
), (
_zzq_¨g1
), (
_zzq_¨g2
), \

173 (
_zzq_¨g3
), (
_zzq_¨g4
), (
_zzq_¨g5
)); 
	}
} 0)

	)

175 
	#VALGRIND_DO_CLIENT_REQUEST_STMT
(
_zzq_ªque°
, 
_zzq_¨g1
, \

176 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

177 dÿ{ (Ë
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

178 (
_zzq_ªque°
), (
_zzq_¨g1
), (
_zzq_¨g2
), \

179 (
_zzq_¨g3
), (
_zzq_¨g4
), (
_zzq_¨g5
)); } 0)

	)

181 #i‡
deföed
(
NVALGRIND
)

186 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

187 
_zzq_deÁu…
, 
_zzq_ªque°
, \

188 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

189 (
_zzq_deÁu…
)

	)

230 #i‡
deföed
(
PLAT_x86_löux
Ë|| deföed(
PLAT_x86_d¨wö
) \

231 || (
deföed
(
PLAT_x86_wö32
Ë&& 
	$deföed
(
__GNUC__
))

235 
ƒaddr
;

237 
	tOrigFn
;

239 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

241 "rﬁ»$29, %%edò;Ñﬁ»$19, %%edi\n\t"

	)

243 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

244 
_zzq_deÁu…
, 
_zzq_ªque°
, \

245 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

246 
__exãnsi⁄__
 \

247 ({vﬁ©ûê
_zzq_¨gs
[6]; \

248 vﬁ©ûê
_zzq_ªsu…
; \

249 
_zzq_¨gs
[0] = ()(
_zzq_ªque°
); \

250 
_zzq_¨gs
[1] = ()(
_zzq_¨g1
); \

251 
_zzq_¨gs
[2] = ()(
_zzq_¨g2
); \

252 
_zzq_¨gs
[3] = ()(
_zzq_¨g3
); \

253 
_zzq_¨gs
[4] = ()(
_zzq_¨g4
); \

254 
_zzq_¨gs
[5] = ()(
_zzq_¨g5
); \

255 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

258 : "=d" (
_zzq_ªsu…
) \

259 : "a" (&
_zzq_¨gs
[0]), "0" (
_zzq_deÁu…
) \

262 
_zzq_ªsu…
; \

263 
	}
})

	)

265 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

266 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

267 vﬁ©ûê
__addr
; \

268 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

271 : "˜" (
__addr
) \

275 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

276 }

	)

278 
	#VALGRIND_CALL_NOREDIR_EAX
 \

279 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

281 "xchg»%%edx,%%edx\n\t"

	)

286 #i‡
deföed
(
PLAT_x86_wö32
Ë&& !deföed(
__GNUC__
)

290 
	mƒaddr
;

292 
	tOrigFn
;

294 #i‡
deföed
(
_MSC_VER
)

296 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

297 
__asm
 
rﬁ
 
edi
, 3 __asmÑolÉdi, 13 \

298 
__asm
 
rﬁ
 
edi
, 29 __asmÑﬁÉdi, 19

	)

300 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

301 
_zzq_deÁu…
, 
_zzq_ªque°
, \

302 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

303 
	`vÆgröd_do_˛õ¡_ªque°_ex¥
((
uöçå_t
)(
_zzq_deÁu…
), \

304 (
uöçå_t
)(
_zzq_ªque°
), (uöçå_t)(
_zzq_¨g1
), \

305 (
uöçå_t
)(
_zzq_¨g2
), (uöçå_t)(
_zzq_¨g3
), \

306 (
uöçå_t
)(
_zzq_¨g4
), (uöçå_t)(
_zzq_¨g5
))

	)

308 
__ölöe
 
uöçå_t


309 
	$vÆgröd_do_˛õ¡_ªque°_ex¥
(
uöçå_t
 
_zzq_deÁu…
, uöçå_à
_zzq_ªque°
,

310 
uöçå_t
 
_zzq_¨g1
, uöçå_à
_zzq_¨g2
,

311 
uöçå_t
 
_zzq_¨g3
, uöçå_à
_zzq_¨g4
,

312 
uöçå_t
 
_zzq_¨g5
)

314 vﬁ©ûê
uöçå_t
 
_zzq_¨gs
[6];

315 vﬁ©ûê
_zzq_ªsu…
;

316 
_zzq_¨gs
[0] = (
uöçå_t
)(
_zzq_ªque°
);

317 
_zzq_¨gs
[1] = (
uöçå_t
)(
_zzq_¨g1
);

318 
_zzq_¨gs
[2] = (
uöçå_t
)(
_zzq_¨g2
);

319 
_zzq_¨gs
[3] = (
uöçå_t
)(
_zzq_¨g3
);

320 
_zzq_¨gs
[4] = (
uöçå_t
)(
_zzq_¨g4
);

321 
_zzq_¨gs
[5] = (
uöçå_t
)(
_zzq_¨g5
);

322 
__asm
 { __asm 
Àa
 
óx
, 
_zzq_¨gs
 __asm 
mov
 
edx
, 
_zzq_deÁu…


323 
__SPECIAL_INSTRUCTION_PREAMBLE


325 
__asm
 
xchg
 
ebx
,ebx

326 
__asm
 
mov
 
_zzq_ªsu…
, 
edx


328  
_zzq_ªsu…
;

329 
	}
}

331 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

332 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

333 vﬁ©ûê
__addr
; \

334 
__asm
 { 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

336 
__asm
 
xchg
 
ecx
,ecx \

337 
__asm
 
mov
 
__addr
, 
óx
 \

339 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

340 }

	)

342 
	#VALGRIND_CALL_NOREDIR_EAX
 
ERROR


	)

345 #îr‹ 
Unsuµ‹ãd
 
compûî
.

352 #i‡
deföed
(
PLAT_amd64_löux
Ë|| deföed(
PLAT_amd64_d¨wö
)

356 
	mƒaddr
;

358 
	tOrigFn
;

360 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

362 "rﬁq $61, %%rdò;Ñﬁq $51, %%rdi\n\t"

	)

364 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

365 
_zzq_deÁu…
, 
_zzq_ªque°
, \

366 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

367 
__exãnsi⁄__
 \

368 ({ vﬁ©ûê
_zzq_¨gs
[6]; \

369 vﬁ©ûê
_zzq_ªsu…
; \

370 
_zzq_¨gs
[0] = ()(
_zzq_ªque°
); \

371 
_zzq_¨gs
[1] = ()(
_zzq_¨g1
); \

372 
_zzq_¨gs
[2] = ()(
_zzq_¨g2
); \

373 
_zzq_¨gs
[3] = ()(
_zzq_¨g3
); \

374 
_zzq_¨gs
[4] = ()(
_zzq_¨g4
); \

375 
_zzq_¨gs
[5] = ()(
_zzq_¨g5
); \

376 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

379 : "=d" (
_zzq_ªsu…
) \

380 : "a" (&
_zzq_¨gs
[0]), "0" (
_zzq_deÁu…
) \

383 
_zzq_ªsu…
; \

384 })

	)

386 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

387 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

388 vﬁ©ûê
__addr
; \

389 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

392 : "˜" (
__addr
) \

396 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

397 }

	)

399 
	#VALGRIND_CALL_NOREDIR_RAX
 \

400 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

402 "xchgq %%rdx,%%rdx\n\t"

	)

407 #i‡
deföed
(
PLAT_µc32_löux
)

411 
	mƒaddr
;

413 
	tOrigFn
;

415 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

417 "æwöm 0,0,29,0,0 ;Ñlwöm 0,0,19,0,0\n\t"

	)

419 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

420 
_zzq_deÁu…
, 
_zzq_ªque°
, \

421 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

423 
__exãnsi⁄__
 \

424 ({ 
_zzq_¨gs
[6]; \

425 
_zzq_ªsu…
; \

426 * 
_zzq_±r
; \

427 
_zzq_¨gs
[0] = ()(
_zzq_ªque°
); \

428 
_zzq_¨gs
[1] = ()(
_zzq_¨g1
); \

429 
_zzq_¨gs
[2] = ()(
_zzq_¨g2
); \

430 
_zzq_¨gs
[3] = ()(
_zzq_¨g3
); \

431 
_zzq_¨gs
[4] = ()(
_zzq_¨g4
); \

432 
_zzq_¨gs
[5] = ()(
_zzq_¨g5
); \

433 
_zzq_±r
 = 
_zzq_¨gs
; \

434 
__asm__
 volatile("mr 3,%1\n\t" \

436 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

440 : "=b" (
_zzq_ªsu…
) \

441 : "b" (
_zzq_deÁu…
), "b" (
_zzq_±r
) \

443 
_zzq_ªsu…
; \

444 })

	)

446 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

447 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

448 
__addr
; \

449 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

453 : "=b" (
__addr
) \

457 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

458 }

	)

460 
	#VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

461 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

463 "‹ 3,3,3\n\t"

	)

468 #i‡
deföed
(
PLAT_µc64_löux
)

472 
	mƒaddr
;

473 
	mr2
;

475 
	tOrigFn
;

477 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

479 "rŸldò0,0,61 ;ÑŸldò0,0,51\n\t"

	)

481 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

482 
_zzq_deÁu…
, 
_zzq_ªque°
, \

483 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

485 
__exãnsi⁄__
 \

486 ({ 
_zzq_¨gs
[6]; \

487 
_zzq_ªsu…
; \

488 * 
_zzq_±r
; \

489 
_zzq_¨gs
[0] = ()(
_zzq_ªque°
); \

490 
_zzq_¨gs
[1] = ()(
_zzq_¨g1
); \

491 
_zzq_¨gs
[2] = ()(
_zzq_¨g2
); \

492 
_zzq_¨gs
[3] = ()(
_zzq_¨g3
); \

493 
_zzq_¨gs
[4] = ()(
_zzq_¨g4
); \

494 
_zzq_¨gs
[5] = ()(
_zzq_¨g5
); \

495 
_zzq_±r
 = 
_zzq_¨gs
; \

496 
__asm__
 volatile("mr 3,%1\n\t" \

498 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

502 : "=b" (
_zzq_ªsu…
) \

503 : "b" (
_zzq_deÁu…
), "b" (
_zzq_±r
) \

505 
_zzq_ªsu…
; \

506 })

	)

508 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

509 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

510 
__addr
; \

511 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

515 : "=b" (
__addr
) \

519 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

520 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

524 : "=b" (
__addr
) \

528 
_zzq_‹ig
->
r2
 = 
__addr
; \

529 }

	)

531 
	#VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

532 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

534 "‹ 3,3,3\n\t"

	)

540 #i‡
deföed
(
PLAT_¨m_löux
)

544 
	mƒaddr
;

546 
	tOrigFn
;

548 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

550 "movÑ12,Ñ12,Ñ‹ #29 ; movÑ12,Ñ12,Ñ‹ #19 \n\t"

	)

552 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

553 
_zzq_deÁu…
, 
_zzq_ªque°
, \

554 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

556 
__exãnsi⁄__
 \

557 ({vﬁ©ûê
_zzq_¨gs
[6]; \

558 vﬁ©ûê
_zzq_ªsu…
; \

559 
_zzq_¨gs
[0] = ()(
_zzq_ªque°
); \

560 
_zzq_¨gs
[1] = ()(
_zzq_¨g1
); \

561 
_zzq_¨gs
[2] = ()(
_zzq_¨g2
); \

562 
_zzq_¨gs
[3] = ()(
_zzq_¨g3
); \

563 
_zzq_¨gs
[4] = ()(
_zzq_¨g4
); \

564 
_zzq_¨gs
[5] = ()(
_zzq_¨g5
); \

565 
__asm__
 volatile("movÑ3, %1\n\t" \

567 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

571 : "Ù" (
_zzq_ªsu…
) \

572 : "r" (
_zzq_deÁu…
), "r" (&
_zzq_¨gs
[0]) \

574 
_zzq_ªsu…
; \

575 })

	)

577 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

578 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

579 
__addr
; \

580 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

584 : "Ù" (
__addr
) \

588 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

589 }

	)

591 
	#VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

592 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

594 "‹∏r12,Ñ12,Ñ12\n\t"

	)

600 #i‡
deföed
(
PLAT_s390x_löux
)

604 
	mƒaddr
;

606 
	tOrigFn
;

612 
	#__SPECIAL_INSTRUCTION_PREAMBLE
 \

616 "Ã 3,3\n\t"

	)

618 
	#__CLIENT_REQUEST_CODE
 "Ã 2,2\n\t"

	)

619 
	#__GET_NR_CONTEXT_CODE
 "Ã 3,3\n\t"

	)

620 
	#__CALL_NO_REDIR_CODE
 "Ã 4,4\n\t"

	)

622 
	#VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

623 
_zzq_deÁu…
, 
_zzq_ªque°
, \

624 
_zzq_¨g1
, 
_zzq_¨g2
, 
_zzq_¨g3
, 
_zzq_¨g4
, 
_zzq_¨g5
) \

625 
__exãnsi⁄__
 \

626 ({vﬁ©ûê
_zzq_¨gs
[6]; \

627 vﬁ©ûê
_zzq_ªsu…
; \

628 
_zzq_¨gs
[0] = ()(
_zzq_ªque°
); \

629 
_zzq_¨gs
[1] = ()(
_zzq_¨g1
); \

630 
_zzq_¨gs
[2] = ()(
_zzq_¨g2
); \

631 
_zzq_¨gs
[3] = ()(
_zzq_¨g3
); \

632 
_zzq_¨gs
[4] = ()(
_zzq_¨g4
); \

633 
_zzq_¨gs
[5] = ()(
_zzq_¨g5
); \

634 
__asm__
 volatile( \

638 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

639 
__CLIENT_REQUEST_CODE
 \

642 : "=d" (
_zzq_ªsu…
) \

643 : "a" (&
_zzq_¨gs
[0]), "0" (
_zzq_deÁu…
) \

646 
_zzq_ªsu…
; \

647 })

	)

649 
	#VALGRIND_GET_NR_CONTEXT
(
_zzq_ævÆ
) \

650 { vﬁ©ûê
OrigFn
* 
_zzq_‹ig
 = &(
_zzq_ævÆ
); \

651 vﬁ©ûê
__addr
; \

652 
__asm__
 vﬁ©ûe(
__SPECIAL_INSTRUCTION_PREAMBLE
 \

653 
__GET_NR_CONTEXT_CODE
 \

655 : "˜" (
__addr
) \

659 
_zzq_‹ig
->
ƒaddr
 = 
__addr
; \

660 }

	)

662 
	#VALGRIND_CALL_NOREDIR_R1
 \

663 
__SPECIAL_INSTRUCTION_PREAMBLE
 \

664 
__CALL_NO_REDIR_CODE


	)

704 
	#VG_CONCAT4
(
_Ø
,
_bb
,
_cc
,
_dd
Ë_Ø##_bb##_cc##
	)
_dd

706 
	#I_WRAP_SONAME_FNNAME_ZU
(
s⁄ame
,
‚«me
) \

707 
	`VG_CONCAT4
(
_vgw00000ZU_
,
s⁄ame
,
_
,
‚«me
)

	)

709 
	#I_WRAP_SONAME_FNNAME_ZZ
(
s⁄ame
,
‚«me
) \

710 
	`VG_CONCAT4
(
_vgw00000ZZ_
,
s⁄ame
,
_
,
‚«me
)

	)

716 
	#VALGRIND_GET_ORIG_FN
(
_lvÆ
Ë
	`VALGRIND_GET_NR_CONTEXT
(_lvÆ)

	)

721 
	#CALL_FN_v_v
(
‚±r
) \

722 dÿ{ vﬁ©ûê
_junk
; \

723 
	`CALL_FN_W_v
(
_junk
,
‚±r
); } 0)

	)

725 
	#CALL_FN_v_W
(
‚±r
, 
¨g1
) \

726 dÿ{ vﬁ©ûê
_junk
; \

727 
	`CALL_FN_W_W
(
_junk
,
‚±r
,
¨g1
); } 0)

	)

729 
	#CALL_FN_v_WW
(
‚±r
, 
¨g1
,
¨g2
) \

730 dÿ{ vﬁ©ûê
_junk
; \

731 
	`CALL_FN_W_WW
(
_junk
,
‚±r
,
¨g1
,
¨g2
); } 0)

	)

733 
	#CALL_FN_v_WWW
(
‚±r
, 
¨g1
,
¨g2
,
¨g3
) \

734 dÿ{ vﬁ©ûê
_junk
; \

735 
	`CALL_FN_W_WWW
(
_junk
,
‚±r
,
¨g1
,
¨g2
,
¨g3
); } 0)

	)

737 
	#CALL_FN_v_WWWW
(
‚±r
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
) \

738 dÿ{ vﬁ©ûê
_junk
; \

739 
	`CALL_FN_W_WWWW
(
_junk
,
‚±r
,
¨g1
,
¨g2
,
¨g3
,
¨g4
); } 0)

	)

741 
	#CALL_FN_v_5W
(
‚±r
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
) \

742 dÿ{ vﬁ©ûê
_junk
; \

743 
	`CALL_FN_W_5W
(
_junk
,
‚±r
,
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
); } 0)

	)

745 
	#CALL_FN_v_6W
(
‚±r
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
) \

746 dÿ{ vﬁ©ûê
_junk
; \

747 
	`CALL_FN_W_6W
(
_junk
,
‚±r
,
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
); } 0)

	)

749 
	#CALL_FN_v_7W
(
‚±r
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
,
¨g7
) \

750 dÿ{ vﬁ©ûê
_junk
; \

751 
	`CALL_FN_W_7W
(
_junk
,
‚±r
,
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
,
¨g7
); } 0)

	)

755 #i‡
deföed
(
PLAT_x86_löux
Ë|| deföed(
PLAT_x86_d¨wö
)

759 
	#__CALLER_SAVED_REGS
 "ecx", "edx"

	)

764 
	#CALL_FN_W_v
(
lvÆ
, 
‹ig
) \

766 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

767 vﬁ©ûê
_¨gvec
[1]; \

768 vﬁ©ûê
_ªs
; \

769 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

770 
__asm__
 volatile( \

772 
VALGRIND_CALL_NOREDIR_EAX
 \

773 : "˜" (
_ªs
) \

774 : "a" (&
_¨gvec
[0]) \

775 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

777 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

778 } 0)

	)

780 
	#CALL_FN_W_W
(
lvÆ
, 
‹ig
, 
¨g1
) \

782 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

783 vﬁ©ûê
_¨gvec
[2]; \

784 vﬁ©ûê
_ªs
; \

785 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

786 
_¨gvec
[1] = ()(
¨g1
); \

787 
__asm__
 volatile( \

791 
VALGRIND_CALL_NOREDIR_EAX
 \

793 : "˜" (
_ªs
) \

794 : "a" (&
_¨gvec
[0]) \

795 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

797 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

798 } 0)

	)

800 
	#CALL_FN_W_WW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
) \

802 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

803 vﬁ©ûê
_¨gvec
[3]; \

804 vﬁ©ûê
_ªs
; \

805 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

806 
_¨gvec
[1] = ()(
¨g1
); \

807 
_¨gvec
[2] = ()(
¨g2
); \

808 
__asm__
 volatile( \

813 
VALGRIND_CALL_NOREDIR_EAX
 \

815 : "˜" (
_ªs
) \

816 : "a" (&
_¨gvec
[0]) \

817 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

819 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

820 } 0)

	)

822 
	#CALL_FN_W_WWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
) \

824 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

825 vﬁ©ûê
_¨gvec
[4]; \

826 vﬁ©ûê
_ªs
; \

827 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

828 
_¨gvec
[1] = ()(
¨g1
); \

829 
_¨gvec
[2] = ()(
¨g2
); \

830 
_¨gvec
[3] = ()(
¨g3
); \

831 
__asm__
 volatile( \

837 
VALGRIND_CALL_NOREDIR_EAX
 \

839 : "˜" (
_ªs
) \

840 : "a" (&
_¨gvec
[0]) \

841 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

843 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

844 } 0)

	)

846 
	#CALL_FN_W_WWWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
) \

848 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

849 vﬁ©ûê
_¨gvec
[5]; \

850 vﬁ©ûê
_ªs
; \

851 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

852 
_¨gvec
[1] = ()(
¨g1
); \

853 
_¨gvec
[2] = ()(
¨g2
); \

854 
_¨gvec
[3] = ()(
¨g3
); \

855 
_¨gvec
[4] = ()(
¨g4
); \

856 
__asm__
 volatile( \

862 
VALGRIND_CALL_NOREDIR_EAX
 \

864 : "˜" (
_ªs
) \

865 : "a" (&
_¨gvec
[0]) \

866 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

868 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

869 } 0)

	)

871 
	#CALL_FN_W_5W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
) \

873 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

874 vﬁ©ûê
_¨gvec
[6]; \

875 vﬁ©ûê
_ªs
; \

876 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

877 
_¨gvec
[1] = ()(
¨g1
); \

878 
_¨gvec
[2] = ()(
¨g2
); \

879 
_¨gvec
[3] = ()(
¨g3
); \

880 
_¨gvec
[4] = ()(
¨g4
); \

881 
_¨gvec
[5] = ()(
¨g5
); \

882 
__asm__
 volatile( \

890 
VALGRIND_CALL_NOREDIR_EAX
 \

892 : "˜" (
_ªs
) \

893 : "a" (&
_¨gvec
[0]) \

894 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

896 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

897 } 0)

	)

899 
	#CALL_FN_W_6W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
) \

901 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

902 vﬁ©ûê
_¨gvec
[7]; \

903 vﬁ©ûê
_ªs
; \

904 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

905 
_¨gvec
[1] = ()(
¨g1
); \

906 
_¨gvec
[2] = ()(
¨g2
); \

907 
_¨gvec
[3] = ()(
¨g3
); \

908 
_¨gvec
[4] = ()(
¨g4
); \

909 
_¨gvec
[5] = ()(
¨g5
); \

910 
_¨gvec
[6] = ()(
¨g6
); \

911 
__asm__
 volatile( \

920 
VALGRIND_CALL_NOREDIR_EAX
 \

922 : "˜" (
_ªs
) \

923 : "a" (&
_¨gvec
[0]) \

924 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

926 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

927 } 0)

	)

929 
	#CALL_FN_W_7W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

930 
¨g7
) \

932 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

933 vﬁ©ûê
_¨gvec
[8]; \

934 vﬁ©ûê
_ªs
; \

935 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

936 
_¨gvec
[1] = ()(
¨g1
); \

937 
_¨gvec
[2] = ()(
¨g2
); \

938 
_¨gvec
[3] = ()(
¨g3
); \

939 
_¨gvec
[4] = ()(
¨g4
); \

940 
_¨gvec
[5] = ()(
¨g5
); \

941 
_¨gvec
[6] = ()(
¨g6
); \

942 
_¨gvec
[7] = ()(
¨g7
); \

943 
__asm__
 volatile( \

953 
VALGRIND_CALL_NOREDIR_EAX
 \

955 : "˜" (
_ªs
) \

956 : "a" (&
_¨gvec
[0]) \

957 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

959 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

960 } 0)

	)

962 
	#CALL_FN_W_8W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

963 
¨g7
,
¨g8
) \

965 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

966 vﬁ©ûê
_¨gvec
[9]; \

967 vﬁ©ûê
_ªs
; \

968 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

969 
_¨gvec
[1] = ()(
¨g1
); \

970 
_¨gvec
[2] = ()(
¨g2
); \

971 
_¨gvec
[3] = ()(
¨g3
); \

972 
_¨gvec
[4] = ()(
¨g4
); \

973 
_¨gvec
[5] = ()(
¨g5
); \

974 
_¨gvec
[6] = ()(
¨g6
); \

975 
_¨gvec
[7] = ()(
¨g7
); \

976 
_¨gvec
[8] = ()(
¨g8
); \

977 
__asm__
 volatile( \

987 
VALGRIND_CALL_NOREDIR_EAX
 \

989 : "˜" (
_ªs
) \

990 : "a" (&
_¨gvec
[0]) \

991 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

993 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

994 } 0)

	)

996 
	#CALL_FN_W_9W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

997 
¨g7
,
¨g8
,
¨g9
) \

999 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1000 vﬁ©ûê
_¨gvec
[10]; \

1001 vﬁ©ûê
_ªs
; \

1002 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1003 
_¨gvec
[1] = ()(
¨g1
); \

1004 
_¨gvec
[2] = ()(
¨g2
); \

1005 
_¨gvec
[3] = ()(
¨g3
); \

1006 
_¨gvec
[4] = ()(
¨g4
); \

1007 
_¨gvec
[5] = ()(
¨g5
); \

1008 
_¨gvec
[6] = ()(
¨g6
); \

1009 
_¨gvec
[7] = ()(
¨g7
); \

1010 
_¨gvec
[8] = ()(
¨g8
); \

1011 
_¨gvec
[9] = ()(
¨g9
); \

1012 
__asm__
 volatile( \

1024 
VALGRIND_CALL_NOREDIR_EAX
 \

1026 : "˜" (
_ªs
) \

1027 : "a" (&
_¨gvec
[0]) \

1028 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1030 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1031 } 0)

	)

1033 
	#CALL_FN_W_10W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1034 
¨g7
,
¨g8
,
¨g9
,
¨g10
) \

1036 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1037 vﬁ©ûê
_¨gvec
[11]; \

1038 vﬁ©ûê
_ªs
; \

1039 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1040 
_¨gvec
[1] = ()(
¨g1
); \

1041 
_¨gvec
[2] = ()(
¨g2
); \

1042 
_¨gvec
[3] = ()(
¨g3
); \

1043 
_¨gvec
[4] = ()(
¨g4
); \

1044 
_¨gvec
[5] = ()(
¨g5
); \

1045 
_¨gvec
[6] = ()(
¨g6
); \

1046 
_¨gvec
[7] = ()(
¨g7
); \

1047 
_¨gvec
[8] = ()(
¨g8
); \

1048 
_¨gvec
[9] = ()(
¨g9
); \

1049 
_¨gvec
[10] = ()(
¨g10
); \

1050 
__asm__
 volatile( \

1063 
VALGRIND_CALL_NOREDIR_EAX
 \

1065 : "˜" (
_ªs
) \

1066 : "a" (&
_¨gvec
[0]) \

1067 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1069 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1070 } 0)

	)

1072 
	#CALL_FN_W_11W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
, \

1073 
¨g6
,
¨g7
,
¨g8
,
¨g9
,
¨g10
, \

1074 
¨g11
) \

1076 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1077 vﬁ©ûê
_¨gvec
[12]; \

1078 vﬁ©ûê
_ªs
; \

1079 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1080 
_¨gvec
[1] = ()(
¨g1
); \

1081 
_¨gvec
[2] = ()(
¨g2
); \

1082 
_¨gvec
[3] = ()(
¨g3
); \

1083 
_¨gvec
[4] = ()(
¨g4
); \

1084 
_¨gvec
[5] = ()(
¨g5
); \

1085 
_¨gvec
[6] = ()(
¨g6
); \

1086 
_¨gvec
[7] = ()(
¨g7
); \

1087 
_¨gvec
[8] = ()(
¨g8
); \

1088 
_¨gvec
[9] = ()(
¨g9
); \

1089 
_¨gvec
[10] = ()(
¨g10
); \

1090 
_¨gvec
[11] = ()(
¨g11
); \

1091 
__asm__
 volatile( \

1105 
VALGRIND_CALL_NOREDIR_EAX
 \

1107 : "˜" (
_ªs
) \

1108 : "a" (&
_¨gvec
[0]) \

1109 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1111 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1112 } 0)

	)

1114 
	#CALL_FN_W_12W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
, \

1115 
¨g6
,
¨g7
,
¨g8
,
¨g9
,
¨g10
, \

1116 
¨g11
,
¨g12
) \

1118 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1119 vﬁ©ûê
_¨gvec
[13]; \

1120 vﬁ©ûê
_ªs
; \

1121 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1122 
_¨gvec
[1] = ()(
¨g1
); \

1123 
_¨gvec
[2] = ()(
¨g2
); \

1124 
_¨gvec
[3] = ()(
¨g3
); \

1125 
_¨gvec
[4] = ()(
¨g4
); \

1126 
_¨gvec
[5] = ()(
¨g5
); \

1127 
_¨gvec
[6] = ()(
¨g6
); \

1128 
_¨gvec
[7] = ()(
¨g7
); \

1129 
_¨gvec
[8] = ()(
¨g8
); \

1130 
_¨gvec
[9] = ()(
¨g9
); \

1131 
_¨gvec
[10] = ()(
¨g10
); \

1132 
_¨gvec
[11] = ()(
¨g11
); \

1133 
_¨gvec
[12] = ()(
¨g12
); \

1134 
__asm__
 volatile( \

1148 
VALGRIND_CALL_NOREDIR_EAX
 \

1150 : "˜" (
_ªs
) \

1151 : "a" (&
_¨gvec
[0]) \

1152 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1154 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1155 } 0)

	)

1161 #i‡
deföed
(
PLAT_amd64_löux
Ë|| deföed(
PLAT_amd64_d¨wö
)

1166 
	#__CALLER_SAVED_REGS
 "rcx", "rdx", "rsi", \

1167 "rdi", "r8", "r9", "r10", "r11"

	)

1223 #i‡
deföed
(
__GNUC__
Ë&& deföed(
__GCC_HAVE_DWARF2_CFI_ASM
)

1224 
	#__FRAME_POINTER
 \

1225 ,"r"(
	`__buûtö_dw¨f_cÁ
())

	)

1226 
	#VALGRIND_CFI_PROLOGUE
 \

1230 ".cfi_def_cÁÑbp, 0\n\t"

	)

1231 
	#VALGRIND_CFI_EPILOGUE
 \

1233 ".cfi_ª°‹e_°©e\n\t"

	)

1235 
	#__FRAME_POINTER


	)

1236 
	#VALGRIND_CFI_PROLOGUE


	)

1237 
	#VALGRIND_CFI_EPILOGUE


	)

1265 
	#CALL_FN_W_v
(
lvÆ
, 
‹ig
) \

1267 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1268 vﬁ©ûê
_¨gvec
[1]; \

1269 vﬁ©ûê
_ªs
; \

1270 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1271 
__asm__
 volatile( \

1272 
VALGRIND_CFI_PROLOGUE
 \

1275 
VALGRIND_CALL_NOREDIR_RAX
 \

1277 
VALGRIND_CFI_EPILOGUE
 \

1278 : "˜" (
_ªs
) \

1279 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1280 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1282 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1283 } 0)

	)

1285 
	#CALL_FN_W_W
(
lvÆ
, 
‹ig
, 
¨g1
) \

1287 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1288 vﬁ©ûê
_¨gvec
[2]; \

1289 vﬁ©ûê
_ªs
; \

1290 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1291 
_¨gvec
[1] = ()(
¨g1
); \

1292 
__asm__
 volatile( \

1293 
VALGRIND_CFI_PROLOGUE
 \

1297 
VALGRIND_CALL_NOREDIR_RAX
 \

1299 
VALGRIND_CFI_EPILOGUE
 \

1300 : "˜" (
_ªs
) \

1301 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1302 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1304 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1305 } 0)

	)

1307 
	#CALL_FN_W_WW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
) \

1309 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1310 vﬁ©ûê
_¨gvec
[3]; \

1311 vﬁ©ûê
_ªs
; \

1312 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1313 
_¨gvec
[1] = ()(
¨g1
); \

1314 
_¨gvec
[2] = ()(
¨g2
); \

1315 
__asm__
 volatile( \

1316 
VALGRIND_CFI_PROLOGUE
 \

1321 
VALGRIND_CALL_NOREDIR_RAX
 \

1323 
VALGRIND_CFI_EPILOGUE
 \

1324 : "˜" (
_ªs
) \

1325 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1326 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1328 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1329 } 0)

	)

1331 
	#CALL_FN_W_WWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
) \

1333 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1334 vﬁ©ûê
_¨gvec
[4]; \

1335 vﬁ©ûê
_ªs
; \

1336 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1337 
_¨gvec
[1] = ()(
¨g1
); \

1338 
_¨gvec
[2] = ()(
¨g2
); \

1339 
_¨gvec
[3] = ()(
¨g3
); \

1340 
__asm__
 volatile( \

1341 
VALGRIND_CFI_PROLOGUE
 \

1347 
VALGRIND_CALL_NOREDIR_RAX
 \

1349 
VALGRIND_CFI_EPILOGUE
 \

1350 : "˜" (
_ªs
) \

1351 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1352 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1354 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1355 } 0)

	)

1357 
	#CALL_FN_W_WWWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
) \

1359 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1360 vﬁ©ûê
_¨gvec
[5]; \

1361 vﬁ©ûê
_ªs
; \

1362 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1363 
_¨gvec
[1] = ()(
¨g1
); \

1364 
_¨gvec
[2] = ()(
¨g2
); \

1365 
_¨gvec
[3] = ()(
¨g3
); \

1366 
_¨gvec
[4] = ()(
¨g4
); \

1367 
__asm__
 volatile( \

1368 
VALGRIND_CFI_PROLOGUE
 \

1375 
VALGRIND_CALL_NOREDIR_RAX
 \

1377 
VALGRIND_CFI_EPILOGUE
 \

1378 : "˜" (
_ªs
) \

1379 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1380 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1382 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1383 } 0)

	)

1385 
	#CALL_FN_W_5W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
) \

1387 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1388 vﬁ©ûê
_¨gvec
[6]; \

1389 vﬁ©ûê
_ªs
; \

1390 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1391 
_¨gvec
[1] = ()(
¨g1
); \

1392 
_¨gvec
[2] = ()(
¨g2
); \

1393 
_¨gvec
[3] = ()(
¨g3
); \

1394 
_¨gvec
[4] = ()(
¨g4
); \

1395 
_¨gvec
[5] = ()(
¨g5
); \

1396 
__asm__
 volatile( \

1397 
VALGRIND_CFI_PROLOGUE
 \

1405 
VALGRIND_CALL_NOREDIR_RAX
 \

1407 
VALGRIND_CFI_EPILOGUE
 \

1408 : "˜" (
_ªs
) \

1409 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1410 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1412 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1413 } 0)

	)

1415 
	#CALL_FN_W_6W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
) \

1417 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1418 vﬁ©ûê
_¨gvec
[7]; \

1419 vﬁ©ûê
_ªs
; \

1420 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1421 
_¨gvec
[1] = ()(
¨g1
); \

1422 
_¨gvec
[2] = ()(
¨g2
); \

1423 
_¨gvec
[3] = ()(
¨g3
); \

1424 
_¨gvec
[4] = ()(
¨g4
); \

1425 
_¨gvec
[5] = ()(
¨g5
); \

1426 
_¨gvec
[6] = ()(
¨g6
); \

1427 
__asm__
 volatile( \

1428 
VALGRIND_CFI_PROLOGUE
 \

1437 
VALGRIND_CALL_NOREDIR_RAX
 \

1439 
VALGRIND_CFI_EPILOGUE
 \

1440 : "˜" (
_ªs
) \

1441 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1442 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1444 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1445 } 0)

	)

1447 
	#CALL_FN_W_7W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1448 
¨g7
) \

1450 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1451 vﬁ©ûê
_¨gvec
[8]; \

1452 vﬁ©ûê
_ªs
; \

1453 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1454 
_¨gvec
[1] = ()(
¨g1
); \

1455 
_¨gvec
[2] = ()(
¨g2
); \

1456 
_¨gvec
[3] = ()(
¨g3
); \

1457 
_¨gvec
[4] = ()(
¨g4
); \

1458 
_¨gvec
[5] = ()(
¨g5
); \

1459 
_¨gvec
[6] = ()(
¨g6
); \

1460 
_¨gvec
[7] = ()(
¨g7
); \

1461 
__asm__
 volatile( \

1462 
VALGRIND_CFI_PROLOGUE
 \

1472 
VALGRIND_CALL_NOREDIR_RAX
 \

1475 
VALGRIND_CFI_EPILOGUE
 \

1476 : "˜" (
_ªs
) \

1477 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1478 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1480 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1481 } 0)

	)

1483 
	#CALL_FN_W_8W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1484 
¨g7
,
¨g8
) \

1486 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1487 vﬁ©ûê
_¨gvec
[9]; \

1488 vﬁ©ûê
_ªs
; \

1489 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1490 
_¨gvec
[1] = ()(
¨g1
); \

1491 
_¨gvec
[2] = ()(
¨g2
); \

1492 
_¨gvec
[3] = ()(
¨g3
); \

1493 
_¨gvec
[4] = ()(
¨g4
); \

1494 
_¨gvec
[5] = ()(
¨g5
); \

1495 
_¨gvec
[6] = ()(
¨g6
); \

1496 
_¨gvec
[7] = ()(
¨g7
); \

1497 
_¨gvec
[8] = ()(
¨g8
); \

1498 
__asm__
 volatile( \

1499 
VALGRIND_CFI_PROLOGUE
 \

1510 
VALGRIND_CALL_NOREDIR_RAX
 \

1513 
VALGRIND_CFI_EPILOGUE
 \

1514 : "˜" (
_ªs
) \

1515 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1516 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1518 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1519 } 0)

	)

1521 
	#CALL_FN_W_9W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1522 
¨g7
,
¨g8
,
¨g9
) \

1524 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1525 vﬁ©ûê
_¨gvec
[10]; \

1526 vﬁ©ûê
_ªs
; \

1527 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1528 
_¨gvec
[1] = ()(
¨g1
); \

1529 
_¨gvec
[2] = ()(
¨g2
); \

1530 
_¨gvec
[3] = ()(
¨g3
); \

1531 
_¨gvec
[4] = ()(
¨g4
); \

1532 
_¨gvec
[5] = ()(
¨g5
); \

1533 
_¨gvec
[6] = ()(
¨g6
); \

1534 
_¨gvec
[7] = ()(
¨g7
); \

1535 
_¨gvec
[8] = ()(
¨g8
); \

1536 
_¨gvec
[9] = ()(
¨g9
); \

1537 
__asm__
 volatile( \

1538 
VALGRIND_CFI_PROLOGUE
 \

1550 
VALGRIND_CALL_NOREDIR_RAX
 \

1553 
VALGRIND_CFI_EPILOGUE
 \

1554 : "˜" (
_ªs
) \

1555 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1556 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1558 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1559 } 0)

	)

1561 
	#CALL_FN_W_10W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1562 
¨g7
,
¨g8
,
¨g9
,
¨g10
) \

1564 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1565 vﬁ©ûê
_¨gvec
[11]; \

1566 vﬁ©ûê
_ªs
; \

1567 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1568 
_¨gvec
[1] = ()(
¨g1
); \

1569 
_¨gvec
[2] = ()(
¨g2
); \

1570 
_¨gvec
[3] = ()(
¨g3
); \

1571 
_¨gvec
[4] = ()(
¨g4
); \

1572 
_¨gvec
[5] = ()(
¨g5
); \

1573 
_¨gvec
[6] = ()(
¨g6
); \

1574 
_¨gvec
[7] = ()(
¨g7
); \

1575 
_¨gvec
[8] = ()(
¨g8
); \

1576 
_¨gvec
[9] = ()(
¨g9
); \

1577 
_¨gvec
[10] = ()(
¨g10
); \

1578 
__asm__
 volatile( \

1579 
VALGRIND_CFI_PROLOGUE
 \

1592 
VALGRIND_CALL_NOREDIR_RAX
 \

1595 
VALGRIND_CFI_EPILOGUE
 \

1596 : "˜" (
_ªs
) \

1597 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1598 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1600 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1601 } 0)

	)

1603 
	#CALL_FN_W_11W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1604 
¨g7
,
¨g8
,
¨g9
,
¨g10
,
¨g11
) \

1606 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1607 vﬁ©ûê
_¨gvec
[12]; \

1608 vﬁ©ûê
_ªs
; \

1609 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1610 
_¨gvec
[1] = ()(
¨g1
); \

1611 
_¨gvec
[2] = ()(
¨g2
); \

1612 
_¨gvec
[3] = ()(
¨g3
); \

1613 
_¨gvec
[4] = ()(
¨g4
); \

1614 
_¨gvec
[5] = ()(
¨g5
); \

1615 
_¨gvec
[6] = ()(
¨g6
); \

1616 
_¨gvec
[7] = ()(
¨g7
); \

1617 
_¨gvec
[8] = ()(
¨g8
); \

1618 
_¨gvec
[9] = ()(
¨g9
); \

1619 
_¨gvec
[10] = ()(
¨g10
); \

1620 
_¨gvec
[11] = ()(
¨g11
); \

1621 
__asm__
 volatile( \

1622 
VALGRIND_CFI_PROLOGUE
 \

1636 
VALGRIND_CALL_NOREDIR_RAX
 \

1639 
VALGRIND_CFI_EPILOGUE
 \

1640 : "˜" (
_ªs
) \

1641 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1642 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1644 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1645 } 0)

	)

1647 
	#CALL_FN_W_12W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1648 
¨g7
,
¨g8
,
¨g9
,
¨g10
,
¨g11
,
¨g12
) \

1650 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1651 vﬁ©ûê
_¨gvec
[13]; \

1652 vﬁ©ûê
_ªs
; \

1653 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1654 
_¨gvec
[1] = ()(
¨g1
); \

1655 
_¨gvec
[2] = ()(
¨g2
); \

1656 
_¨gvec
[3] = ()(
¨g3
); \

1657 
_¨gvec
[4] = ()(
¨g4
); \

1658 
_¨gvec
[5] = ()(
¨g5
); \

1659 
_¨gvec
[6] = ()(
¨g6
); \

1660 
_¨gvec
[7] = ()(
¨g7
); \

1661 
_¨gvec
[8] = ()(
¨g8
); \

1662 
_¨gvec
[9] = ()(
¨g9
); \

1663 
_¨gvec
[10] = ()(
¨g10
); \

1664 
_¨gvec
[11] = ()(
¨g11
); \

1665 
_¨gvec
[12] = ()(
¨g12
); \

1666 
__asm__
 volatile( \

1667 
VALGRIND_CFI_PROLOGUE
 \

1682 
VALGRIND_CALL_NOREDIR_RAX
 \

1685 
VALGRIND_CFI_EPILOGUE
 \

1686 : "˜" (
_ªs
) \

1687 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

1688 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
, "r15" \

1690 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1691 } 0)

	)

1697 #i‡
deföed
(
PLAT_µc32_löux
)

1723 
	#__CALLER_SAVED_REGS
 \

1727 "r11", "r12", "r13"

	)

1732 
	#CALL_FN_W_v
(
lvÆ
, 
‹ig
) \

1734 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1735 vﬁ©ûê
_¨gvec
[1]; \

1736 vﬁ©ûê
_ªs
; \

1737 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1738 
__asm__
 volatile( \

1741 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1743 : "Ù" (
_ªs
) \

1744 : "r" (&
_¨gvec
[0]) \

1745 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1747 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1748 } 0)

	)

1750 
	#CALL_FN_W_W
(
lvÆ
, 
‹ig
, 
¨g1
) \

1752 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1753 vﬁ©ûê
_¨gvec
[2]; \

1754 vﬁ©ûê
_ªs
; \

1755 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1756 
_¨gvec
[1] = ()
¨g1
; \

1757 
__asm__
 volatile( \

1761 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1763 : "Ù" (
_ªs
) \

1764 : "r" (&
_¨gvec
[0]) \

1765 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1767 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1768 } 0)

	)

1770 
	#CALL_FN_W_WW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
) \

1772 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1773 vﬁ©ûê
_¨gvec
[3]; \

1774 vﬁ©ûê
_ªs
; \

1775 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1776 
_¨gvec
[1] = ()
¨g1
; \

1777 
_¨gvec
[2] = ()
¨g2
; \

1778 
__asm__
 volatile( \

1783 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1785 : "Ù" (
_ªs
) \

1786 : "r" (&
_¨gvec
[0]) \

1787 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1789 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1790 } 0)

	)

1792 
	#CALL_FN_W_WWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
) \

1794 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1795 vﬁ©ûê
_¨gvec
[4]; \

1796 vﬁ©ûê
_ªs
; \

1797 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1798 
_¨gvec
[1] = ()
¨g1
; \

1799 
_¨gvec
[2] = ()
¨g2
; \

1800 
_¨gvec
[3] = ()
¨g3
; \

1801 
__asm__
 volatile( \

1807 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1809 : "Ù" (
_ªs
) \

1810 : "r" (&
_¨gvec
[0]) \

1811 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1813 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1814 } 0)

	)

1816 
	#CALL_FN_W_WWWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
) \

1818 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1819 vﬁ©ûê
_¨gvec
[5]; \

1820 vﬁ©ûê
_ªs
; \

1821 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1822 
_¨gvec
[1] = ()
¨g1
; \

1823 
_¨gvec
[2] = ()
¨g2
; \

1824 
_¨gvec
[3] = ()
¨g3
; \

1825 
_¨gvec
[4] = ()
¨g4
; \

1826 
__asm__
 volatile( \

1833 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1835 : "Ù" (
_ªs
) \

1836 : "r" (&
_¨gvec
[0]) \

1837 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1839 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1840 } 0)

	)

1842 
	#CALL_FN_W_5W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
) \

1844 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1845 vﬁ©ûê
_¨gvec
[6]; \

1846 vﬁ©ûê
_ªs
; \

1847 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1848 
_¨gvec
[1] = ()
¨g1
; \

1849 
_¨gvec
[2] = ()
¨g2
; \

1850 
_¨gvec
[3] = ()
¨g3
; \

1851 
_¨gvec
[4] = ()
¨g4
; \

1852 
_¨gvec
[5] = ()
¨g5
; \

1853 
__asm__
 volatile( \

1861 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1863 : "Ù" (
_ªs
) \

1864 : "r" (&
_¨gvec
[0]) \

1865 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1867 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1868 } 0)

	)

1870 
	#CALL_FN_W_6W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
) \

1872 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1873 vﬁ©ûê
_¨gvec
[7]; \

1874 vﬁ©ûê
_ªs
; \

1875 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1876 
_¨gvec
[1] = ()
¨g1
; \

1877 
_¨gvec
[2] = ()
¨g2
; \

1878 
_¨gvec
[3] = ()
¨g3
; \

1879 
_¨gvec
[4] = ()
¨g4
; \

1880 
_¨gvec
[5] = ()
¨g5
; \

1881 
_¨gvec
[6] = ()
¨g6
; \

1882 
__asm__
 volatile( \

1891 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1893 : "Ù" (
_ªs
) \

1894 : "r" (&
_¨gvec
[0]) \

1895 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1897 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1898 } 0)

	)

1900 
	#CALL_FN_W_7W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1901 
¨g7
) \

1903 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1904 vﬁ©ûê
_¨gvec
[8]; \

1905 vﬁ©ûê
_ªs
; \

1906 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1907 
_¨gvec
[1] = ()
¨g1
; \

1908 
_¨gvec
[2] = ()
¨g2
; \

1909 
_¨gvec
[3] = ()
¨g3
; \

1910 
_¨gvec
[4] = ()
¨g4
; \

1911 
_¨gvec
[5] = ()
¨g5
; \

1912 
_¨gvec
[6] = ()
¨g6
; \

1913 
_¨gvec
[7] = ()
¨g7
; \

1914 
__asm__
 volatile( \

1924 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1926 : "Ù" (
_ªs
) \

1927 : "r" (&
_¨gvec
[0]) \

1928 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1930 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1931 } 0)

	)

1933 
	#CALL_FN_W_8W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1934 
¨g7
,
¨g8
) \

1936 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1937 vﬁ©ûê
_¨gvec
[9]; \

1938 vﬁ©ûê
_ªs
; \

1939 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1940 
_¨gvec
[1] = ()
¨g1
; \

1941 
_¨gvec
[2] = ()
¨g2
; \

1942 
_¨gvec
[3] = ()
¨g3
; \

1943 
_¨gvec
[4] = ()
¨g4
; \

1944 
_¨gvec
[5] = ()
¨g5
; \

1945 
_¨gvec
[6] = ()
¨g6
; \

1946 
_¨gvec
[7] = ()
¨g7
; \

1947 
_¨gvec
[8] = ()
¨g8
; \

1948 
__asm__
 volatile( \

1959 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

1961 : "Ù" (
_ªs
) \

1962 : "r" (&
_¨gvec
[0]) \

1963 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

1965 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

1966 } 0)

	)

1968 
	#CALL_FN_W_9W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

1969 
¨g7
,
¨g8
,
¨g9
) \

1971 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

1972 vﬁ©ûê
_¨gvec
[10]; \

1973 vﬁ©ûê
_ªs
; \

1974 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

1975 
_¨gvec
[1] = ()
¨g1
; \

1976 
_¨gvec
[2] = ()
¨g2
; \

1977 
_¨gvec
[3] = ()
¨g3
; \

1978 
_¨gvec
[4] = ()
¨g4
; \

1979 
_¨gvec
[5] = ()
¨g5
; \

1980 
_¨gvec
[6] = ()
¨g6
; \

1981 
_¨gvec
[7] = ()
¨g7
; \

1982 
_¨gvec
[8] = ()
¨g8
; \

1983 
_¨gvec
[9] = ()
¨g9
; \

1984 
__asm__
 volatile( \

2000 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2003 : "Ù" (
_ªs
) \

2004 : "r" (&
_¨gvec
[0]) \

2005 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2007 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2008 } 0)

	)

2010 
	#CALL_FN_W_10W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2011 
¨g7
,
¨g8
,
¨g9
,
¨g10
) \

2013 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2014 vﬁ©ûê
_¨gvec
[11]; \

2015 vﬁ©ûê
_ªs
; \

2016 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2017 
_¨gvec
[1] = ()
¨g1
; \

2018 
_¨gvec
[2] = ()
¨g2
; \

2019 
_¨gvec
[3] = ()
¨g3
; \

2020 
_¨gvec
[4] = ()
¨g4
; \

2021 
_¨gvec
[5] = ()
¨g5
; \

2022 
_¨gvec
[6] = ()
¨g6
; \

2023 
_¨gvec
[7] = ()
¨g7
; \

2024 
_¨gvec
[8] = ()
¨g8
; \

2025 
_¨gvec
[9] = ()
¨g9
; \

2026 
_¨gvec
[10] = ()
¨g10
; \

2027 
__asm__
 volatile( \

2046 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2049 : "Ù" (
_ªs
) \

2050 : "r" (&
_¨gvec
[0]) \

2051 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2053 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2054 } 0)

	)

2056 
	#CALL_FN_W_11W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2057 
¨g7
,
¨g8
,
¨g9
,
¨g10
,
¨g11
) \

2059 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2060 vﬁ©ûê
_¨gvec
[12]; \

2061 vﬁ©ûê
_ªs
; \

2062 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2063 
_¨gvec
[1] = ()
¨g1
; \

2064 
_¨gvec
[2] = ()
¨g2
; \

2065 
_¨gvec
[3] = ()
¨g3
; \

2066 
_¨gvec
[4] = ()
¨g4
; \

2067 
_¨gvec
[5] = ()
¨g5
; \

2068 
_¨gvec
[6] = ()
¨g6
; \

2069 
_¨gvec
[7] = ()
¨g7
; \

2070 
_¨gvec
[8] = ()
¨g8
; \

2071 
_¨gvec
[9] = ()
¨g9
; \

2072 
_¨gvec
[10] = ()
¨g10
; \

2073 
_¨gvec
[11] = ()
¨g11
; \

2074 
__asm__
 volatile( \

2096 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2099 : "Ù" (
_ªs
) \

2100 : "r" (&
_¨gvec
[0]) \

2101 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2103 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2104 } 0)

	)

2106 
	#CALL_FN_W_12W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2107 
¨g7
,
¨g8
,
¨g9
,
¨g10
,
¨g11
,
¨g12
) \

2109 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2110 vﬁ©ûê
_¨gvec
[13]; \

2111 vﬁ©ûê
_ªs
; \

2112 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2113 
_¨gvec
[1] = ()
¨g1
; \

2114 
_¨gvec
[2] = ()
¨g2
; \

2115 
_¨gvec
[3] = ()
¨g3
; \

2116 
_¨gvec
[4] = ()
¨g4
; \

2117 
_¨gvec
[5] = ()
¨g5
; \

2118 
_¨gvec
[6] = ()
¨g6
; \

2119 
_¨gvec
[7] = ()
¨g7
; \

2120 
_¨gvec
[8] = ()
¨g8
; \

2121 
_¨gvec
[9] = ()
¨g9
; \

2122 
_¨gvec
[10] = ()
¨g10
; \

2123 
_¨gvec
[11] = ()
¨g11
; \

2124 
_¨gvec
[12] = ()
¨g12
; \

2125 
__asm__
 volatile( \

2150 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2153 : "Ù" (
_ªs
) \

2154 : "r" (&
_¨gvec
[0]) \

2155 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2157 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2158 } 0)

	)

2164 #i‡
deföed
(
PLAT_µc64_löux
)

2169 
	#__CALLER_SAVED_REGS
 \

2173 "r11", "r12", "r13"

	)

2178 
	#CALL_FN_W_v
(
lvÆ
, 
‹ig
) \

2180 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2181 vﬁ©ûê
_¨gvec
[3+0]; \

2182 vﬁ©ûê
_ªs
; \

2184 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2185 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2186 
__asm__
 volatile( \

2191 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2195 : "Ù" (
_ªs
) \

2196 : "r" (&
_¨gvec
[2]) \

2197 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2199 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2200 } 0)

	)

2202 
	#CALL_FN_W_W
(
lvÆ
, 
‹ig
, 
¨g1
) \

2204 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2205 vﬁ©ûê
_¨gvec
[3+1]; \

2206 vﬁ©ûê
_ªs
; \

2208 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2209 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2210 
_¨gvec
[2+1] = ()
¨g1
; \

2211 
__asm__
 volatile( \

2217 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2221 : "Ù" (
_ªs
) \

2222 : "r" (&
_¨gvec
[2]) \

2223 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2225 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2226 } 0)

	)

2228 
	#CALL_FN_W_WW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
) \

2230 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2231 vﬁ©ûê
_¨gvec
[3+2]; \

2232 vﬁ©ûê
_ªs
; \

2234 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2235 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2236 
_¨gvec
[2+1] = ()
¨g1
; \

2237 
_¨gvec
[2+2] = ()
¨g2
; \

2238 
__asm__
 volatile( \

2245 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2249 : "Ù" (
_ªs
) \

2250 : "r" (&
_¨gvec
[2]) \

2251 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2253 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2254 } 0)

	)

2256 
	#CALL_FN_W_WWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
) \

2258 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2259 vﬁ©ûê
_¨gvec
[3+3]; \

2260 vﬁ©ûê
_ªs
; \

2262 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2263 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2264 
_¨gvec
[2+1] = ()
¨g1
; \

2265 
_¨gvec
[2+2] = ()
¨g2
; \

2266 
_¨gvec
[2+3] = ()
¨g3
; \

2267 
__asm__
 volatile( \

2275 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2279 : "Ù" (
_ªs
) \

2280 : "r" (&
_¨gvec
[2]) \

2281 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2283 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2284 } 0)

	)

2286 
	#CALL_FN_W_WWWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
) \

2288 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2289 vﬁ©ûê
_¨gvec
[3+4]; \

2290 vﬁ©ûê
_ªs
; \

2292 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2293 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2294 
_¨gvec
[2+1] = ()
¨g1
; \

2295 
_¨gvec
[2+2] = ()
¨g2
; \

2296 
_¨gvec
[2+3] = ()
¨g3
; \

2297 
_¨gvec
[2+4] = ()
¨g4
; \

2298 
__asm__
 volatile( \

2307 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2311 : "Ù" (
_ªs
) \

2312 : "r" (&
_¨gvec
[2]) \

2313 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2315 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2316 } 0)

	)

2318 
	#CALL_FN_W_5W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
) \

2320 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2321 vﬁ©ûê
_¨gvec
[3+5]; \

2322 vﬁ©ûê
_ªs
; \

2324 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2325 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2326 
_¨gvec
[2+1] = ()
¨g1
; \

2327 
_¨gvec
[2+2] = ()
¨g2
; \

2328 
_¨gvec
[2+3] = ()
¨g3
; \

2329 
_¨gvec
[2+4] = ()
¨g4
; \

2330 
_¨gvec
[2+5] = ()
¨g5
; \

2331 
__asm__
 volatile( \

2341 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2345 : "Ù" (
_ªs
) \

2346 : "r" (&
_¨gvec
[2]) \

2347 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2349 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2350 } 0)

	)

2352 
	#CALL_FN_W_6W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
) \

2354 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2355 vﬁ©ûê
_¨gvec
[3+6]; \

2356 vﬁ©ûê
_ªs
; \

2358 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2359 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2360 
_¨gvec
[2+1] = ()
¨g1
; \

2361 
_¨gvec
[2+2] = ()
¨g2
; \

2362 
_¨gvec
[2+3] = ()
¨g3
; \

2363 
_¨gvec
[2+4] = ()
¨g4
; \

2364 
_¨gvec
[2+5] = ()
¨g5
; \

2365 
_¨gvec
[2+6] = ()
¨g6
; \

2366 
__asm__
 volatile( \

2377 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2381 : "Ù" (
_ªs
) \

2382 : "r" (&
_¨gvec
[2]) \

2383 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2385 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2386 } 0)

	)

2388 
	#CALL_FN_W_7W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2389 
¨g7
) \

2391 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2392 vﬁ©ûê
_¨gvec
[3+7]; \

2393 vﬁ©ûê
_ªs
; \

2395 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2396 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2397 
_¨gvec
[2+1] = ()
¨g1
; \

2398 
_¨gvec
[2+2] = ()
¨g2
; \

2399 
_¨gvec
[2+3] = ()
¨g3
; \

2400 
_¨gvec
[2+4] = ()
¨g4
; \

2401 
_¨gvec
[2+5] = ()
¨g5
; \

2402 
_¨gvec
[2+6] = ()
¨g6
; \

2403 
_¨gvec
[2+7] = ()
¨g7
; \

2404 
__asm__
 volatile( \

2416 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2420 : "Ù" (
_ªs
) \

2421 : "r" (&
_¨gvec
[2]) \

2422 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2424 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2425 } 0)

	)

2427 
	#CALL_FN_W_8W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2428 
¨g7
,
¨g8
) \

2430 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2431 vﬁ©ûê
_¨gvec
[3+8]; \

2432 vﬁ©ûê
_ªs
; \

2434 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2435 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2436 
_¨gvec
[2+1] = ()
¨g1
; \

2437 
_¨gvec
[2+2] = ()
¨g2
; \

2438 
_¨gvec
[2+3] = ()
¨g3
; \

2439 
_¨gvec
[2+4] = ()
¨g4
; \

2440 
_¨gvec
[2+5] = ()
¨g5
; \

2441 
_¨gvec
[2+6] = ()
¨g6
; \

2442 
_¨gvec
[2+7] = ()
¨g7
; \

2443 
_¨gvec
[2+8] = ()
¨g8
; \

2444 
__asm__
 volatile( \

2457 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2461 : "Ù" (
_ªs
) \

2462 : "r" (&
_¨gvec
[2]) \

2463 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2465 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2466 } 0)

	)

2468 
	#CALL_FN_W_9W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2469 
¨g7
,
¨g8
,
¨g9
) \

2471 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2472 vﬁ©ûê
_¨gvec
[3+9]; \

2473 vﬁ©ûê
_ªs
; \

2475 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2476 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2477 
_¨gvec
[2+1] = ()
¨g1
; \

2478 
_¨gvec
[2+2] = ()
¨g2
; \

2479 
_¨gvec
[2+3] = ()
¨g3
; \

2480 
_¨gvec
[2+4] = ()
¨g4
; \

2481 
_¨gvec
[2+5] = ()
¨g5
; \

2482 
_¨gvec
[2+6] = ()
¨g6
; \

2483 
_¨gvec
[2+7] = ()
¨g7
; \

2484 
_¨gvec
[2+8] = ()
¨g8
; \

2485 
_¨gvec
[2+9] = ()
¨g9
; \

2486 
__asm__
 volatile( \

2504 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2509 : "Ù" (
_ªs
) \

2510 : "r" (&
_¨gvec
[2]) \

2511 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2513 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2514 } 0)

	)

2516 
	#CALL_FN_W_10W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2517 
¨g7
,
¨g8
,
¨g9
,
¨g10
) \

2519 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2520 vﬁ©ûê
_¨gvec
[3+10]; \

2521 vﬁ©ûê
_ªs
; \

2523 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2524 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2525 
_¨gvec
[2+1] = ()
¨g1
; \

2526 
_¨gvec
[2+2] = ()
¨g2
; \

2527 
_¨gvec
[2+3] = ()
¨g3
; \

2528 
_¨gvec
[2+4] = ()
¨g4
; \

2529 
_¨gvec
[2+5] = ()
¨g5
; \

2530 
_¨gvec
[2+6] = ()
¨g6
; \

2531 
_¨gvec
[2+7] = ()
¨g7
; \

2532 
_¨gvec
[2+8] = ()
¨g8
; \

2533 
_¨gvec
[2+9] = ()
¨g9
; \

2534 
_¨gvec
[2+10] = ()
¨g10
; \

2535 
__asm__
 volatile( \

2556 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2561 : "Ù" (
_ªs
) \

2562 : "r" (&
_¨gvec
[2]) \

2563 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2565 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2566 } 0)

	)

2568 
	#CALL_FN_W_11W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2569 
¨g7
,
¨g8
,
¨g9
,
¨g10
,
¨g11
) \

2571 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2572 vﬁ©ûê
_¨gvec
[3+11]; \

2573 vﬁ©ûê
_ªs
; \

2575 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2576 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2577 
_¨gvec
[2+1] = ()
¨g1
; \

2578 
_¨gvec
[2+2] = ()
¨g2
; \

2579 
_¨gvec
[2+3] = ()
¨g3
; \

2580 
_¨gvec
[2+4] = ()
¨g4
; \

2581 
_¨gvec
[2+5] = ()
¨g5
; \

2582 
_¨gvec
[2+6] = ()
¨g6
; \

2583 
_¨gvec
[2+7] = ()
¨g7
; \

2584 
_¨gvec
[2+8] = ()
¨g8
; \

2585 
_¨gvec
[2+9] = ()
¨g9
; \

2586 
_¨gvec
[2+10] = ()
¨g10
; \

2587 
_¨gvec
[2+11] = ()
¨g11
; \

2588 
__asm__
 volatile( \

2612 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2617 : "Ù" (
_ªs
) \

2618 : "r" (&
_¨gvec
[2]) \

2619 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2621 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2622 } 0)

	)

2624 
	#CALL_FN_W_12W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2625 
¨g7
,
¨g8
,
¨g9
,
¨g10
,
¨g11
,
¨g12
) \

2627 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2628 vﬁ©ûê
_¨gvec
[3+12]; \

2629 vﬁ©ûê
_ªs
; \

2631 
_¨gvec
[1] = ()
_‹ig
.
r2
; \

2632 
_¨gvec
[2] = ()
_‹ig
.
ƒaddr
; \

2633 
_¨gvec
[2+1] = ()
¨g1
; \

2634 
_¨gvec
[2+2] = ()
¨g2
; \

2635 
_¨gvec
[2+3] = ()
¨g3
; \

2636 
_¨gvec
[2+4] = ()
¨g4
; \

2637 
_¨gvec
[2+5] = ()
¨g5
; \

2638 
_¨gvec
[2+6] = ()
¨g6
; \

2639 
_¨gvec
[2+7] = ()
¨g7
; \

2640 
_¨gvec
[2+8] = ()
¨g8
; \

2641 
_¨gvec
[2+9] = ()
¨g9
; \

2642 
_¨gvec
[2+10] = ()
¨g10
; \

2643 
_¨gvec
[2+11] = ()
¨g11
; \

2644 
_¨gvec
[2+12] = ()
¨g12
; \

2645 
__asm__
 volatile( \

2672 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R11
 \

2677 : "Ù" (
_ªs
) \

2678 : "r" (&
_¨gvec
[2]) \

2679 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2681 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2682 } 0)

	)

2688 #i‡
deföed
(
PLAT_¨m_löux
)

2691 
	#__CALLER_SAVED_REGS
 "r0", "r1", "r2", "r3","r4","r14"

	)

2696 
	#CALL_FN_W_v
(
lvÆ
, 
‹ig
) \

2698 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2699 vﬁ©ûê
_¨gvec
[1]; \

2700 vﬁ©ûê
_ªs
; \

2701 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2702 
__asm__
 volatile( \

2704 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2706 : "Ù" (
_ªs
) \

2707 : "0" (&
_¨gvec
[0]) \

2708 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2710 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2711 } 0)

	)

2713 
	#CALL_FN_W_W
(
lvÆ
, 
‹ig
, 
¨g1
) \

2715 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2716 vﬁ©ûê
_¨gvec
[2]; \

2717 vﬁ©ûê
_ªs
; \

2718 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2719 
_¨gvec
[1] = ()(
¨g1
); \

2720 
__asm__
 volatile( \

2723 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2725 : "Ù" (
_ªs
) \

2726 : "0" (&
_¨gvec
[0]) \

2727 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2729 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2730 } 0)

	)

2732 
	#CALL_FN_W_WW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
) \

2734 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2735 vﬁ©ûê
_¨gvec
[3]; \

2736 vﬁ©ûê
_ªs
; \

2737 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2738 
_¨gvec
[1] = ()(
¨g1
); \

2739 
_¨gvec
[2] = ()(
¨g2
); \

2740 
__asm__
 volatile( \

2744 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2746 : "Ù" (
_ªs
) \

2747 : "0" (&
_¨gvec
[0]) \

2748 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2750 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2751 } 0)

	)

2753 
	#CALL_FN_W_WWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
) \

2755 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2756 vﬁ©ûê
_¨gvec
[4]; \

2757 vﬁ©ûê
_ªs
; \

2758 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2759 
_¨gvec
[1] = ()(
¨g1
); \

2760 
_¨gvec
[2] = ()(
¨g2
); \

2761 
_¨gvec
[3] = ()(
¨g3
); \

2762 
__asm__
 volatile( \

2767 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2769 : "Ù" (
_ªs
) \

2770 : "0" (&
_¨gvec
[0]) \

2771 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2773 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2774 } 0)

	)

2776 
	#CALL_FN_W_WWWW
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
) \

2778 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2779 vﬁ©ûê
_¨gvec
[5]; \

2780 vﬁ©ûê
_ªs
; \

2781 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2782 
_¨gvec
[1] = ()(
¨g1
); \

2783 
_¨gvec
[2] = ()(
¨g2
); \

2784 
_¨gvec
[3] = ()(
¨g3
); \

2785 
_¨gvec
[4] = ()(
¨g4
); \

2786 
__asm__
 volatile( \

2792 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2794 : "Ù" (
_ªs
) \

2795 : "0" (&
_¨gvec
[0]) \

2796 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2798 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2799 } 0)

	)

2801 
	#CALL_FN_W_5W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
) \

2803 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2804 vﬁ©ûê
_¨gvec
[6]; \

2805 vﬁ©ûê
_ªs
; \

2806 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2807 
_¨gvec
[1] = ()(
¨g1
); \

2808 
_¨gvec
[2] = ()(
¨g2
); \

2809 
_¨gvec
[3] = ()(
¨g3
); \

2810 
_¨gvec
[4] = ()(
¨g4
); \

2811 
_¨gvec
[5] = ()(
¨g5
); \

2812 
__asm__
 volatile( \

2820 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2823 : "Ù" (
_ªs
) \

2824 : "0" (&
_¨gvec
[0]) \

2825 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2827 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2828 } 0)

	)

2830 
	#CALL_FN_W_6W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
) \

2832 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2833 vﬁ©ûê
_¨gvec
[7]; \

2834 vﬁ©ûê
_ªs
; \

2835 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2836 
_¨gvec
[1] = ()(
¨g1
); \

2837 
_¨gvec
[2] = ()(
¨g2
); \

2838 
_¨gvec
[3] = ()(
¨g3
); \

2839 
_¨gvec
[4] = ()(
¨g4
); \

2840 
_¨gvec
[5] = ()(
¨g5
); \

2841 
_¨gvec
[6] = ()(
¨g6
); \

2842 
__asm__
 volatile( \

2851 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2854 : "Ù" (
_ªs
) \

2855 : "0" (&
_¨gvec
[0]) \

2856 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2858 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2859 } 0)

	)

2861 
	#CALL_FN_W_7W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2862 
¨g7
) \

2864 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2865 vﬁ©ûê
_¨gvec
[8]; \

2866 vﬁ©ûê
_ªs
; \

2867 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2868 
_¨gvec
[1] = ()(
¨g1
); \

2869 
_¨gvec
[2] = ()(
¨g2
); \

2870 
_¨gvec
[3] = ()(
¨g3
); \

2871 
_¨gvec
[4] = ()(
¨g4
); \

2872 
_¨gvec
[5] = ()(
¨g5
); \

2873 
_¨gvec
[6] = ()(
¨g6
); \

2874 
_¨gvec
[7] = ()(
¨g7
); \

2875 
__asm__
 volatile( \

2885 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2888 : "Ù" (
_ªs
) \

2889 : "0" (&
_¨gvec
[0]) \

2890 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2892 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2893 } 0)

	)

2895 
	#CALL_FN_W_8W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2896 
¨g7
,
¨g8
) \

2898 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2899 vﬁ©ûê
_¨gvec
[9]; \

2900 vﬁ©ûê
_ªs
; \

2901 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2902 
_¨gvec
[1] = ()(
¨g1
); \

2903 
_¨gvec
[2] = ()(
¨g2
); \

2904 
_¨gvec
[3] = ()(
¨g3
); \

2905 
_¨gvec
[4] = ()(
¨g4
); \

2906 
_¨gvec
[5] = ()(
¨g5
); \

2907 
_¨gvec
[6] = ()(
¨g6
); \

2908 
_¨gvec
[7] = ()(
¨g7
); \

2909 
_¨gvec
[8] = ()(
¨g8
); \

2910 
__asm__
 volatile( \

2921 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2924 : "Ù" (
_ªs
) \

2925 : "0" (&
_¨gvec
[0]) \

2926 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2928 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2929 } 0)

	)

2931 
	#CALL_FN_W_9W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2932 
¨g7
,
¨g8
,
¨g9
) \

2934 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2935 vﬁ©ûê
_¨gvec
[10]; \

2936 vﬁ©ûê
_ªs
; \

2937 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2938 
_¨gvec
[1] = ()(
¨g1
); \

2939 
_¨gvec
[2] = ()(
¨g2
); \

2940 
_¨gvec
[3] = ()(
¨g3
); \

2941 
_¨gvec
[4] = ()(
¨g4
); \

2942 
_¨gvec
[5] = ()(
¨g5
); \

2943 
_¨gvec
[6] = ()(
¨g6
); \

2944 
_¨gvec
[7] = ()(
¨g7
); \

2945 
_¨gvec
[8] = ()(
¨g8
); \

2946 
_¨gvec
[9] = ()(
¨g9
); \

2947 
__asm__
 volatile( \

2959 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

2962 : "Ù" (
_ªs
) \

2963 : "0" (&
_¨gvec
[0]) \

2964 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

2966 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

2967 } 0)

	)

2969 
	#CALL_FN_W_10W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
, \

2970 
¨g7
,
¨g8
,
¨g9
,
¨g10
) \

2972 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

2973 vﬁ©ûê
_¨gvec
[11]; \

2974 vﬁ©ûê
_ªs
; \

2975 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

2976 
_¨gvec
[1] = ()(
¨g1
); \

2977 
_¨gvec
[2] = ()(
¨g2
); \

2978 
_¨gvec
[3] = ()(
¨g3
); \

2979 
_¨gvec
[4] = ()(
¨g4
); \

2980 
_¨gvec
[5] = ()(
¨g5
); \

2981 
_¨gvec
[6] = ()(
¨g6
); \

2982 
_¨gvec
[7] = ()(
¨g7
); \

2983 
_¨gvec
[8] = ()(
¨g8
); \

2984 
_¨gvec
[9] = ()(
¨g9
); \

2985 
_¨gvec
[10] = ()(
¨g10
); \

2986 
__asm__
 volatile( \

3000 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

3003 : "Ù" (
_ªs
) \

3004 : "0" (&
_¨gvec
[0]) \

3005 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

3007 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3008 } 0)

	)

3010 
	#CALL_FN_W_11W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
, \

3011 
¨g6
,
¨g7
,
¨g8
,
¨g9
,
¨g10
, \

3012 
¨g11
) \

3014 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3015 vﬁ©ûê
_¨gvec
[12]; \

3016 vﬁ©ûê
_ªs
; \

3017 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3018 
_¨gvec
[1] = ()(
¨g1
); \

3019 
_¨gvec
[2] = ()(
¨g2
); \

3020 
_¨gvec
[3] = ()(
¨g3
); \

3021 
_¨gvec
[4] = ()(
¨g4
); \

3022 
_¨gvec
[5] = ()(
¨g5
); \

3023 
_¨gvec
[6] = ()(
¨g6
); \

3024 
_¨gvec
[7] = ()(
¨g7
); \

3025 
_¨gvec
[8] = ()(
¨g8
); \

3026 
_¨gvec
[9] = ()(
¨g9
); \

3027 
_¨gvec
[10] = ()(
¨g10
); \

3028 
_¨gvec
[11] = ()(
¨g11
); \

3029 
__asm__
 volatile( \

3044 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

3047 : "Ù" (
_ªs
) \

3048 : "0" (&
_¨gvec
[0]) \

3049 : "cc", "mem‹y",
__CALLER_SAVED_REGS
 \

3051 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3052 } 0)

	)

3054 
	#CALL_FN_W_12W
(
lvÆ
, 
‹ig
, 
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
, \

3055 
¨g6
,
¨g7
,
¨g8
,
¨g9
,
¨g10
, \

3056 
¨g11
,
¨g12
) \

3058 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3059 vﬁ©ûê
_¨gvec
[13]; \

3060 vﬁ©ûê
_ªs
; \

3061 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3062 
_¨gvec
[1] = ()(
¨g1
); \

3063 
_¨gvec
[2] = ()(
¨g2
); \

3064 
_¨gvec
[3] = ()(
¨g3
); \

3065 
_¨gvec
[4] = ()(
¨g4
); \

3066 
_¨gvec
[5] = ()(
¨g5
); \

3067 
_¨gvec
[6] = ()(
¨g6
); \

3068 
_¨gvec
[7] = ()(
¨g7
); \

3069 
_¨gvec
[8] = ()(
¨g8
); \

3070 
_¨gvec
[9] = ()(
¨g9
); \

3071 
_¨gvec
[10] = ()(
¨g10
); \

3072 
_¨gvec
[11] = ()(
¨g11
); \

3073 
_¨gvec
[12] = ()(
¨g12
); \

3074 
__asm__
 volatile( \

3090 
VALGRIND_BRANCH_AND_LINK_TO_NOREDIR_R4
 \

3093 : "Ù" (
_ªs
) \

3094 : "0" (&
_¨gvec
[0]) \

3095 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
 \

3097 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3098 } 0)

	)

3104 #i‡
deföed
(
PLAT_s390x_löux
)

3110 #i‡
deföed
(
__GNUC__
Ë&& deföed(
__GCC_HAVE_DWARF2_CFI_ASM
)

3111 
	#__FRAME_POINTER
 \

3112 ,"d"(
	`__buûtö_dw¨f_cÁ
())

	)

3113 
	#VALGRIND_CFI_PROLOGUE
 \

3118 ".cfi_def_cÁÑ11, 0\n\t"

	)

3119 
	#VALGRIND_CFI_EPILOGUE
 \

3121 ".cfi_ª°‹e_°©e\n\t"

	)

3123 
	#__FRAME_POINTER


	)

3124 
	#VALGRIND_CFI_PROLOGUE
 \

3125 "lg∏1,%1\n\t"

	)

3126 
	#VALGRIND_CFI_EPILOGUE


	)

3136 
	#__CALLER_SAVED_REGS
 "0","1","2","3","4","5","14", \

3137 "f0","f1","f2","f3","f4","f5","f6","f7"

	)

3140 
	#CALL_FN_W_v
(
lvÆ
, 
‹ig
) \

3142 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3143 vﬁ©ûê
_¨gvec
[1]; \

3144 vﬁ©ûê
_ªs
; \

3145 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3146 
__asm__
 volatile( \

3147 
VALGRIND_CFI_PROLOGUE
 \

3150 
VALGRIND_CALL_NOREDIR_R1
 \

3153 
VALGRIND_CFI_EPILOGUE
 \

3154 : "=d" (
_ªs
) \

3155 : "d" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3156 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"7" \

3158 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3159 } 0)

	)

3162 
	#CALL_FN_W_W
(
lvÆ
, 
‹ig
, 
¨g1
) \

3164 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3165 vﬁ©ûê
_¨gvec
[2]; \

3166 vﬁ©ûê
_ªs
; \

3167 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3168 
_¨gvec
[1] = ()
¨g1
; \

3169 
__asm__
 volatile( \

3170 
VALGRIND_CFI_PROLOGUE
 \

3174 
VALGRIND_CALL_NOREDIR_R1
 \

3177 
VALGRIND_CFI_EPILOGUE
 \

3178 : "=d" (
_ªs
) \

3179 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3180 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"7" \

3182 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3183 } 0)

	)

3185 
	#CALL_FN_W_WW
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
) \

3187 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3188 vﬁ©ûê
_¨gvec
[3]; \

3189 vﬁ©ûê
_ªs
; \

3190 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3191 
_¨gvec
[1] = ()
¨g1
; \

3192 
_¨gvec
[2] = ()
¨g2
; \

3193 
__asm__
 volatile( \

3194 
VALGRIND_CFI_PROLOGUE
 \

3199 
VALGRIND_CALL_NOREDIR_R1
 \

3202 
VALGRIND_CFI_EPILOGUE
 \

3203 : "=d" (
_ªs
) \

3204 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3205 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"7" \

3207 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3208 } 0)

	)

3210 
	#CALL_FN_W_WWW
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
) \

3212 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3213 vﬁ©ûê
_¨gvec
[4]; \

3214 vﬁ©ûê
_ªs
; \

3215 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3216 
_¨gvec
[1] = ()
¨g1
; \

3217 
_¨gvec
[2] = ()
¨g2
; \

3218 
_¨gvec
[3] = ()
¨g3
; \

3219 
__asm__
 volatile( \

3220 
VALGRIND_CFI_PROLOGUE
 \

3226 
VALGRIND_CALL_NOREDIR_R1
 \

3229 
VALGRIND_CFI_EPILOGUE
 \

3230 : "=d" (
_ªs
) \

3231 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3232 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"7" \

3234 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3235 } 0)

	)

3237 
	#CALL_FN_W_WWWW
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
) \

3239 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3240 vﬁ©ûê
_¨gvec
[5]; \

3241 vﬁ©ûê
_ªs
; \

3242 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3243 
_¨gvec
[1] = ()
¨g1
; \

3244 
_¨gvec
[2] = ()
¨g2
; \

3245 
_¨gvec
[3] = ()
¨g3
; \

3246 
_¨gvec
[4] = ()
¨g4
; \

3247 
__asm__
 volatile( \

3248 
VALGRIND_CFI_PROLOGUE
 \

3255 
VALGRIND_CALL_NOREDIR_R1
 \

3258 
VALGRIND_CFI_EPILOGUE
 \

3259 : "=d" (
_ªs
) \

3260 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3261 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"7" \

3263 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3264 } 0)

	)

3266 
	#CALL_FN_W_5W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
) \

3268 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3269 vﬁ©ûê
_¨gvec
[6]; \

3270 vﬁ©ûê
_ªs
; \

3271 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3272 
_¨gvec
[1] = ()
¨g1
; \

3273 
_¨gvec
[2] = ()
¨g2
; \

3274 
_¨gvec
[3] = ()
¨g3
; \

3275 
_¨gvec
[4] = ()
¨g4
; \

3276 
_¨gvec
[5] = ()
¨g5
; \

3277 
__asm__
 volatile( \

3278 
VALGRIND_CFI_PROLOGUE
 \

3286 
VALGRIND_CALL_NOREDIR_R1
 \

3289 
VALGRIND_CFI_EPILOGUE
 \

3290 : "=d" (
_ªs
) \

3291 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3292 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3294 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3295 } 0)

	)

3297 
	#CALL_FN_W_6W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3298 
¨g6
) \

3300 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3301 vﬁ©ûê
_¨gvec
[7]; \

3302 vﬁ©ûê
_ªs
; \

3303 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3304 
_¨gvec
[1] = ()
¨g1
; \

3305 
_¨gvec
[2] = ()
¨g2
; \

3306 
_¨gvec
[3] = ()
¨g3
; \

3307 
_¨gvec
[4] = ()
¨g4
; \

3308 
_¨gvec
[5] = ()
¨g5
; \

3309 
_¨gvec
[6] = ()
¨g6
; \

3310 
__asm__
 volatile( \

3311 
VALGRIND_CFI_PROLOGUE
 \

3320 
VALGRIND_CALL_NOREDIR_R1
 \

3323 
VALGRIND_CFI_EPILOGUE
 \

3324 : "=d" (
_ªs
) \

3325 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3326 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3328 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3329 } 0)

	)

3331 
	#CALL_FN_W_7W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3332 
¨g6
, 
¨g7
) \

3334 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3335 vﬁ©ûê
_¨gvec
[8]; \

3336 vﬁ©ûê
_ªs
; \

3337 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3338 
_¨gvec
[1] = ()
¨g1
; \

3339 
_¨gvec
[2] = ()
¨g2
; \

3340 
_¨gvec
[3] = ()
¨g3
; \

3341 
_¨gvec
[4] = ()
¨g4
; \

3342 
_¨gvec
[5] = ()
¨g5
; \

3343 
_¨gvec
[6] = ()
¨g6
; \

3344 
_¨gvec
[7] = ()
¨g7
; \

3345 
__asm__
 volatile( \

3346 
VALGRIND_CFI_PROLOGUE
 \

3356 
VALGRIND_CALL_NOREDIR_R1
 \

3359 
VALGRIND_CFI_EPILOGUE
 \

3360 : "=d" (
_ªs
) \

3361 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3362 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3364 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3365 } 0)

	)

3367 
	#CALL_FN_W_8W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3368 
¨g6
, 
¨g7
 ,
¨g8
) \

3370 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3371 vﬁ©ûê
_¨gvec
[9]; \

3372 vﬁ©ûê
_ªs
; \

3373 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3374 
_¨gvec
[1] = ()
¨g1
; \

3375 
_¨gvec
[2] = ()
¨g2
; \

3376 
_¨gvec
[3] = ()
¨g3
; \

3377 
_¨gvec
[4] = ()
¨g4
; \

3378 
_¨gvec
[5] = ()
¨g5
; \

3379 
_¨gvec
[6] = ()
¨g6
; \

3380 
_¨gvec
[7] = ()
¨g7
; \

3381 
_¨gvec
[8] = ()
¨g8
; \

3382 
__asm__
 volatile( \

3383 
VALGRIND_CFI_PROLOGUE
 \

3394 
VALGRIND_CALL_NOREDIR_R1
 \

3397 
VALGRIND_CFI_EPILOGUE
 \

3398 : "=d" (
_ªs
) \

3399 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3400 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3402 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3403 } 0)

	)

3405 
	#CALL_FN_W_9W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3406 
¨g6
, 
¨g7
 ,
¨g8
, 
¨g9
) \

3408 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3409 vﬁ©ûê
_¨gvec
[10]; \

3410 vﬁ©ûê
_ªs
; \

3411 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3412 
_¨gvec
[1] = ()
¨g1
; \

3413 
_¨gvec
[2] = ()
¨g2
; \

3414 
_¨gvec
[3] = ()
¨g3
; \

3415 
_¨gvec
[4] = ()
¨g4
; \

3416 
_¨gvec
[5] = ()
¨g5
; \

3417 
_¨gvec
[6] = ()
¨g6
; \

3418 
_¨gvec
[7] = ()
¨g7
; \

3419 
_¨gvec
[8] = ()
¨g8
; \

3420 
_¨gvec
[9] = ()
¨g9
; \

3421 
__asm__
 volatile( \

3422 
VALGRIND_CFI_PROLOGUE
 \

3434 
VALGRIND_CALL_NOREDIR_R1
 \

3437 
VALGRIND_CFI_EPILOGUE
 \

3438 : "=d" (
_ªs
) \

3439 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3440 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3442 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3443 } 0)

	)

3445 
	#CALL_FN_W_10W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3446 
¨g6
, 
¨g7
 ,
¨g8
, 
¨g9
, 
¨g10
) \

3448 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3449 vﬁ©ûê
_¨gvec
[11]; \

3450 vﬁ©ûê
_ªs
; \

3451 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3452 
_¨gvec
[1] = ()
¨g1
; \

3453 
_¨gvec
[2] = ()
¨g2
; \

3454 
_¨gvec
[3] = ()
¨g3
; \

3455 
_¨gvec
[4] = ()
¨g4
; \

3456 
_¨gvec
[5] = ()
¨g5
; \

3457 
_¨gvec
[6] = ()
¨g6
; \

3458 
_¨gvec
[7] = ()
¨g7
; \

3459 
_¨gvec
[8] = ()
¨g8
; \

3460 
_¨gvec
[9] = ()
¨g9
; \

3461 
_¨gvec
[10] = ()
¨g10
; \

3462 
__asm__
 volatile( \

3463 
VALGRIND_CFI_PROLOGUE
 \

3476 
VALGRIND_CALL_NOREDIR_R1
 \

3479 
VALGRIND_CFI_EPILOGUE
 \

3480 : "=d" (
_ªs
) \

3481 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3482 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3484 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3485 } 0)

	)

3487 
	#CALL_FN_W_11W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3488 
¨g6
, 
¨g7
 ,
¨g8
, 
¨g9
, 
¨g10
, 
¨g11
) \

3490 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3491 vﬁ©ûê
_¨gvec
[12]; \

3492 vﬁ©ûê
_ªs
; \

3493 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3494 
_¨gvec
[1] = ()
¨g1
; \

3495 
_¨gvec
[2] = ()
¨g2
; \

3496 
_¨gvec
[3] = ()
¨g3
; \

3497 
_¨gvec
[4] = ()
¨g4
; \

3498 
_¨gvec
[5] = ()
¨g5
; \

3499 
_¨gvec
[6] = ()
¨g6
; \

3500 
_¨gvec
[7] = ()
¨g7
; \

3501 
_¨gvec
[8] = ()
¨g8
; \

3502 
_¨gvec
[9] = ()
¨g9
; \

3503 
_¨gvec
[10] = ()
¨g10
; \

3504 
_¨gvec
[11] = ()
¨g11
; \

3505 
__asm__
 volatile( \

3506 
VALGRIND_CFI_PROLOGUE
 \

3520 
VALGRIND_CALL_NOREDIR_R1
 \

3523 
VALGRIND_CFI_EPILOGUE
 \

3524 : "=d" (
_ªs
) \

3525 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3526 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3528 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3529 } 0)

	)

3531 
	#CALL_FN_W_12W
(
lvÆ
, 
‹ig
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
, 
¨g5
, \

3532 
¨g6
, 
¨g7
 ,
¨g8
, 
¨g9
, 
¨g10
, 
¨g11
, 
¨g12
)\

3534 vﬁ©ûê
OrigFn
 
_‹ig
 = (
‹ig
); \

3535 vﬁ©ûê
_¨gvec
[13]; \

3536 vﬁ©ûê
_ªs
; \

3537 
_¨gvec
[0] = ()
_‹ig
.
ƒaddr
; \

3538 
_¨gvec
[1] = ()
¨g1
; \

3539 
_¨gvec
[2] = ()
¨g2
; \

3540 
_¨gvec
[3] = ()
¨g3
; \

3541 
_¨gvec
[4] = ()
¨g4
; \

3542 
_¨gvec
[5] = ()
¨g5
; \

3543 
_¨gvec
[6] = ()
¨g6
; \

3544 
_¨gvec
[7] = ()
¨g7
; \

3545 
_¨gvec
[8] = ()
¨g8
; \

3546 
_¨gvec
[9] = ()
¨g9
; \

3547 
_¨gvec
[10] = ()
¨g10
; \

3548 
_¨gvec
[11] = ()
¨g11
; \

3549 
_¨gvec
[12] = ()
¨g12
; \

3550 
__asm__
 volatile( \

3551 
VALGRIND_CFI_PROLOGUE
 \

3566 
VALGRIND_CALL_NOREDIR_R1
 \

3569 
VALGRIND_CFI_EPILOGUE
 \

3570 : "=d" (
_ªs
) \

3571 : "a" (&
_¨gvec
[0]Ë
__FRAME_POINTER
 \

3572 : "cc", "mem‹y", 
__CALLER_SAVED_REGS
,"6","7" \

3574 
lvÆ
 = (
	`__ty≥of__
÷vÆ)Ë
_ªs
; \

3575 } 0)

	)

3596 
	#VG_USERREQ_TOOL_BASE
(
a
,
b
) \

3597 (()(((
a
)&0xffË<< 24 | ((
b
)&0xffË<< 16))

	)

3598 
	#VG_IS_TOOL_USERREQ
(
a
, 
b
, 
v
) \

3599 (
	`VG_USERREQ_TOOL_BASE
(
a
,
b
Ë=((
v
Ë& 0xffff0000))

	)

3606 íum { 
	mVG_USERREQ__RUNNING_ON_VALGRIND
 = 0x1001,

3607 
	mVG_USERREQ__DISCARD_TRANSLATIONS
 = 0x1002,

3614 
	mVG_USERREQ__CLIENT_CALL0
 = 0x1101,

3615 
	mVG_USERREQ__CLIENT_CALL1
 = 0x1102,

3616 
	mVG_USERREQ__CLIENT_CALL2
 = 0x1103,

3617 
	mVG_USERREQ__CLIENT_CALL3
 = 0x1104,

3622 
	mVG_USERREQ__COUNT_ERRORS
 = 0x1201,

3626 
	mVG_USERREQ__GDB_MONITOR_COMMAND
 = 0x1202,

3630 
	mVG_USERREQ__MALLOCLIKE_BLOCK
 = 0x1301,

3631 
	mVG_USERREQ__RESIZEINPLACE_BLOCK
 = 0x130b,

3632 
	mVG_USERREQ__FREELIKE_BLOCK
 = 0x1302,

3634 
	mVG_USERREQ__CREATE_MEMPOOL
 = 0x1303,

3635 
	mVG_USERREQ__DESTROY_MEMPOOL
 = 0x1304,

3636 
	mVG_USERREQ__MEMPOOL_ALLOC
 = 0x1305,

3637 
	mVG_USERREQ__MEMPOOL_FREE
 = 0x1306,

3638 
	mVG_USERREQ__MEMPOOL_TRIM
 = 0x1307,

3639 
	mVG_USERREQ__MOVE_MEMPOOL
 = 0x1308,

3640 
	mVG_USERREQ__MEMPOOL_CHANGE
 = 0x1309,

3641 
	mVG_USERREQ__MEMPOOL_EXISTS
 = 0x130a,

3650 
	mVG_USERREQ__PRINTF
 = 0x1401,

3651 
	mVG_USERREQ__PRINTF_BACKTRACE
 = 0x1402,

3653 
	mVG_USERREQ__PRINTF_VALIST_BY_REF
 = 0x1403,

3654 
	mVG_USERREQ__PRINTF_BACKTRACE_VALIST_BY_REF
 = 0x1404,

3657 
	mVG_USERREQ__STACK_REGISTER
 = 0x1501,

3658 
	mVG_USERREQ__STACK_DEREGISTER
 = 0x1502,

3659 
	mVG_USERREQ__STACK_CHANGE
 = 0x1503,

3662 
	mVG_USERREQ__LOAD_PDB_DEBUGINFO
 = 0x1601,

3665 
	mVG_USERREQ__MAP_IP_TO_SRCLOC
 = 0x1701,

3672 
	mVG_USERREQ__CHANGE_ERR_DISABLEMENT
 = 0x1801

3673 } 
	tVg_Clõ¡Reque°
;

3675 #i‡!
deföed
(
__GNUC__
)

3676 
	#__exãnsi⁄__


	)

3684 
	#RUNNING_ON_VALGRIND
 \

3685 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

3686 
VG_USERREQ__RUNNING_ON_VALGRIND
, \

3688 

	)

3694 
	#VALGRIND_DISCARD_TRANSLATIONS
(
_qzz_addr
,
_qzz_Àn
) \

3695 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__DISCARD_TRANSLATIONS
, \

3696 
_qzz_addr
, 
_qzz_Àn
, 0, 0, 0)

	)

3704 #i‡
deföed
(
__GNUC__
Ë|| deföed(
__INTEL_COMPILER
)

3707 
	$VALGRIND_PRINTF
(c⁄° *
f‹m©
, ...)

3708 
	`__©åibuã__
((
	`f‹m©
(
__¥ötf__
, 1, 2), 
__unu£d__
));

3711 #i‡
	`deföed
(
_MSC_VER
)

3712 
__ölöe


3714 
	$VALGRIND_PRINTF
(c⁄° *
f‹m©
, ...)

3716 #i‡
	`deföed
(
NVALGRIND
)

3719 #i‡
	`deföed
(
_MSC_VER
)

3720 
uöçå_t
 
_qzz_ªs
;

3722 
_qzz_ªs
;

3724 
va_li°
 
v¨gs
;

3725 
	`va_°¨t
(
v¨gs
, 
f‹m©
);

3726 #i‡
	`deföed
(
_MSC_VER
)

3727 
_qzz_ªs
 = 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0,

3728 
VG_USERREQ__PRINTF_VALIST_BY_REF
,

3729 (
uöçå_t
)
f‹m©
,

3730 (
uöçå_t
)&
v¨gs
,

3733 
_qzz_ªs
 = 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0,

3734 
VG_USERREQ__PRINTF_VALIST_BY_REF
,

3735 ()
f‹m©
,

3736 ()&
v¨gs
,

3739 
	`va_íd
(
v¨gs
);

3740  ()
_qzz_ªs
;

3742 
	}
}

3744 #i‡
deföed
(
__GNUC__
Ë|| deföed(
__INTEL_COMPILER
)

3745 
	$VALGRIND_PRINTF_BACKTRACE
(c⁄° *
f‹m©
, ...)

3746 
	`__©åibuã__
((
	`f‹m©
(
__¥ötf__
, 1, 2), 
__unu£d__
));

3749 #i‡
	`deföed
(
_MSC_VER
)

3750 
__ölöe


3752 
	$VALGRIND_PRINTF_BACKTRACE
(c⁄° *
f‹m©
, ...)

3754 #i‡
	`deföed
(
NVALGRIND
)

3757 #i‡
	`deföed
(
_MSC_VER
)

3758 
uöçå_t
 
_qzz_ªs
;

3760 
_qzz_ªs
;

3762 
va_li°
 
v¨gs
;

3763 
	`va_°¨t
(
v¨gs
, 
f‹m©
);

3764 #i‡
	`deföed
(
_MSC_VER
)

3765 
_qzz_ªs
 = 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0,

3766 
VG_USERREQ__PRINTF_BACKTRACE_VALIST_BY_REF
,

3767 (
uöçå_t
)
f‹m©
,

3768 (
uöçå_t
)&
v¨gs
,

3771 
_qzz_ªs
 = 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0,

3772 
VG_USERREQ__PRINTF_BACKTRACE_VALIST_BY_REF
,

3773 ()
f‹m©
,

3774 ()&
v¨gs
,

3777 
	`va_íd
(
v¨gs
);

3778  ()
_qzz_ªs
;

3780 
	}
}

3806 
	#VALGRIND_NON_SIMD_CALL0
(
_qyy_‚
) \

3807 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

3808 
VG_USERREQ__CLIENT_CALL0
, \

3809 
_qyy_‚
, \

3810 0, 0, 0, 0)

	)

3812 
	#VALGRIND_NON_SIMD_CALL1
(
_qyy_‚
, 
_qyy_¨g1
) \

3813 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

3814 
VG_USERREQ__CLIENT_CALL1
, \

3815 
_qyy_‚
, \

3816 
_qyy_¨g1
, 0, 0, 0)

	)

3818 
	#VALGRIND_NON_SIMD_CALL2
(
_qyy_‚
, 
_qyy_¨g1
, 
_qyy_¨g2
) \

3819 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

3820 
VG_USERREQ__CLIENT_CALL2
, \

3821 
_qyy_‚
, \

3822 
_qyy_¨g1
, 
_qyy_¨g2
, 0, 0)

	)

3824 
	#VALGRIND_NON_SIMD_CALL3
(
_qyy_‚
, 
_qyy_¨g1
, 
_qyy_¨g2
, 
_qyy_¨g3
) \

3825 
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0 , \

3826 
VG_USERREQ__CLIENT_CALL3
, \

3827 
_qyy_‚
, \

3828 
_qyy_¨g1
, 
_qyy_¨g2
, \

3829 
_qyy_¨g3
, 0)

	)

3835 
	#VALGRIND_COUNT_ERRORS
 \

3836 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
( \

3838 
VG_USERREQ__COUNT_ERRORS
, \

3839 0, 0, 0, 0, 0)

	)

3942 
	#VALGRIND_MALLOCLIKE_BLOCK
(
addr
, 
sizeB
, 
rzB
, 
is_zî€d
) \

3943 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__MALLOCLIKE_BLOCK
, \

3944 
addr
, 
sizeB
, 
rzB
, 
is_zî€d
, 0)

	)

3949 
	#VALGRIND_RESIZEINPLACE_BLOCK
(
addr
, 
ﬁdSizeB
, 
√wSizeB
, 
rzB
) \

3950 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__RESIZEINPLACE_BLOCK
, \

3951 
addr
, 
ﬁdSizeB
, 
√wSizeB
, 
rzB
, 0)

	)

3956 
	#VALGRIND_FREELIKE_BLOCK
(
addr
, 
rzB
) \

3957 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__FREELIKE_BLOCK
, \

3958 
addr
, 
rzB
, 0, 0, 0)

	)

3961 
	#VALGRIND_CREATE_MEMPOOL
(
poﬁ
, 
rzB
, 
is_zî€d
) \

3962 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__CREATE_MEMPOOL
, \

3963 
poﬁ
, 
rzB
, 
is_zî€d
, 0, 0)

	)

3966 
	#VALGRIND_DESTROY_MEMPOOL
(
poﬁ
) \

3967 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__DESTROY_MEMPOOL
, \

3968 
poﬁ
, 0, 0, 0, 0)

	)

3971 
	#VALGRIND_MEMPOOL_ALLOC
(
poﬁ
, 
addr
, 
size
) \

3972 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__MEMPOOL_ALLOC
, \

3973 
poﬁ
, 
addr
, 
size
, 0, 0)

	)

3976 
	#VALGRIND_MEMPOOL_FREE
(
poﬁ
, 
addr
) \

3977 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__MEMPOOL_FREE
, \

3978 
poﬁ
, 
addr
, 0, 0, 0)

	)

3981 
	#VALGRIND_MEMPOOL_TRIM
(
poﬁ
, 
addr
, 
size
) \

3982 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__MEMPOOL_TRIM
, \

3983 
poﬁ
, 
addr
, 
size
, 0, 0)

	)

3986 
	#VALGRIND_MOVE_MEMPOOL
(
poﬁA
, 
poﬁB
) \

3987 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__MOVE_MEMPOOL
, \

3988 
poﬁA
, 
poﬁB
, 0, 0, 0)

	)

3991 
	#VALGRIND_MEMPOOL_CHANGE
(
poﬁ
, 
addrA
, 
addrB
, 
size
) \

3992 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__MEMPOOL_CHANGE
, \

3993 
poﬁ
, 
addrA
, 
addrB
, 
size
, 0)

	)

3996 
	#VALGRIND_MEMPOOL_EXISTS
(
poﬁ
) \

3997 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

3998 
VG_USERREQ__MEMPOOL_EXISTS
, \

3999 
poﬁ
, 0, 0, 0, 0)

	)

4002 
	#VALGRIND_STACK_REGISTER
(
°¨t
, 
íd
) \

4003 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

4004 
VG_USERREQ__STACK_REGISTER
, \

4005 
°¨t
, 
íd
, 0, 0, 0)

	)

4009 
	#VALGRIND_STACK_DEREGISTER
(
id
) \

4010 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__STACK_DEREGISTER
, \

4011 
id
, 0, 0, 0, 0)

	)

4014 
	#VALGRIND_STACK_CHANGE
(
id
, 
°¨t
, 
íd
) \

4015 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__STACK_CHANGE
, \

4016 
id
, 
°¨t
, 
íd
, 0, 0)

	)

4019 
	#VALGRIND_LOAD_PDB_DEBUGINFO
(
fd
, 
±r
, 
tŸÆ_size
, 
dñè
) \

4020 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__LOAD_PDB_DEBUGINFO
, \

4021 
fd
, 
±r
, 
tŸÆ_size
, 
dñè
, 0)

	)

4027 
	#VALGRIND_MAP_IP_TO_SRCLOC
(
addr
, 
buf64
) \

4028 ()
	`VALGRIND_DO_CLIENT_REQUEST_EXPR
(0, \

4029 
VG_USERREQ__MAP_IP_TO_SRCLOC
, \

4030 
addr
, 
buf64
, 0, 0, 0)

	)

4040 
	#VALGRIND_DISABLE_ERROR_REPORTING
 \

4041 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__CHANGE_ERR_DISABLEMENT
, \

4042 1, 0, 0, 0, 0)

	)

4046 
	#VALGRIND_ENABLE_ERROR_REPORTING
 \

4047 
	`VALGRIND_DO_CLIENT_REQUEST_STMT
(
VG_USERREQ__CHANGE_ERR_DISABLEMENT
, \

4048 -1, 0, 0, 0, 0)

	)

4050 #unde‡
PLAT_x86_d¨wö


4051 #unde‡
PLAT_amd64_d¨wö


4052 #unde‡
PLAT_x86_wö32


4053 #unde‡
PLAT_x86_löux


4054 #unde‡
PLAT_amd64_löux


4055 #unde‡
PLAT_µc32_löux


4056 #unde‡
PLAT_µc64_löux


4057 #unde‡
PLAT_¨m_löux


4058 #unde‡
PLAT_s390x_löux


	@deps/jerry/tools/unit-tests/gen-test-libm.c

26 
	~<m©h.h
>

27 
	~<°dio.h
>

29 
	#GEN_INT_TEST
(
EXPR
Ë
	`¥ötf
("check_öà(\"%s\", %s, %d);\n", #EXPR, #EXPR, EXPR);

	)

30 
	#GEN_DBL_TEST
(
EXPR
Ë
	`¥ötf
("check_doubÀ (\"%s\", %s, %.20E);\n", #EXPR, #EXPR, EXPR);

	)

33 
	$maö
 (
¨gc
, **
¨gs
)

35 
	`¥ötf
 ("/* Copyright JS Foundationánd other contributors, http://js.foundation\n"

55 
	`GEN_DBL_TEST
 (
	`acos
 (0.0));

56 
	`GEN_DBL_TEST
 (
	`acos
 (-0.0));

57 
	`GEN_DBL_TEST
 (
	`acos
 (1.0));

58 
	`GEN_DBL_TEST
 (
	`acos
 (-1.0));

59 
	`GEN_DBL_TEST
 (
	`acos
 (0.5));

60 
	`GEN_DBL_TEST
 (
	`acos
 (-0.5));

61 
	`GEN_DBL_TEST
 (
	`acos
 (
INFINITY
));

62 
	`GEN_DBL_TEST
 (
	`acos
 (-
INFINITY
));

63 
	`GEN_DBL_TEST
 (
	`acos
 (
NAN
));

64 
	`GEN_DBL_TEST
 (
	`acos
 (6.9e-18));

65 
	`GEN_DBL_TEST
 (
	`acos
 (-6.9e-18));

66 
	`GEN_DBL_TEST
 (
	`acos
 (7.0e-18));

67 
	`GEN_DBL_TEST
 (
	`acos
 (-7.0e-18));

68 
	`GEN_DBL_TEST
 (
	`acos
 (7.4e-9));

69 
	`GEN_DBL_TEST
 (
	`acos
 (-7.4e-9));

70 
	`GEN_DBL_TEST
 (
	`acos
 (7.5e-9));

71 
	`GEN_DBL_TEST
 (
	`acos
 (-7.5e-9));

72 
	`GEN_DBL_TEST
 (
	`acos
 (0.1));

73 
	`GEN_DBL_TEST
 (
	`acos
 (-0.1));

74 
	`GEN_DBL_TEST
 (
	`acos
 (0.4));

75 
	`GEN_DBL_TEST
 (
	`acos
 (-0.4));

76 
	`GEN_DBL_TEST
 (
	`acos
 (0.6));

77 
	`GEN_DBL_TEST
 (
	`acos
 (-0.6));

78 
	`GEN_DBL_TEST
 (
	`acos
 (0.99));

79 
	`GEN_DBL_TEST
 (
	`acos
 (-0.99));

80 
	`GEN_DBL_TEST
 (
	`acos
 (1.1));

81 
	`GEN_DBL_TEST
 (
	`acos
 (-1.1));

82 
	`GEN_DBL_TEST
 (
	`acos
 (0.7));

85 
	`GEN_DBL_TEST
 (
	`asö
 (0.0));

86 
	`GEN_DBL_TEST
 (
	`asö
 (-0.0));

87 
	`GEN_DBL_TEST
 (
	`asö
 (1.0));

88 
	`GEN_DBL_TEST
 (
	`asö
 (-1.0));

89 
	`GEN_DBL_TEST
 (
	`asö
 (0.5));

90 
	`GEN_DBL_TEST
 (
	`asö
 (-0.5));

91 
	`GEN_DBL_TEST
 (
	`asö
 (0.98));

92 
	`GEN_DBL_TEST
 (
	`asö
 (-0.98));

93 
	`GEN_DBL_TEST
 (
	`asö
 (
INFINITY
));

94 
	`GEN_DBL_TEST
 (
	`asö
 (-
INFINITY
));

95 
	`GEN_DBL_TEST
 (
	`asö
 (
NAN
));

96 
	`GEN_DBL_TEST
 (
	`asö
 (6.9e-18));

97 
	`GEN_DBL_TEST
 (
	`asö
 (-6.9e-18));

98 
	`GEN_DBL_TEST
 (
	`asö
 (7.0e-18));

99 
	`GEN_DBL_TEST
 (
	`asö
 (-7.0e-18));

100 
	`GEN_DBL_TEST
 (
	`asö
 (7.4e-9));

101 
	`GEN_DBL_TEST
 (
	`asö
 (-7.4e-9));

102 
	`GEN_DBL_TEST
 (
	`asö
 (7.5e-9));

103 
	`GEN_DBL_TEST
 (
	`asö
 (-7.5e-9));

104 
	`GEN_DBL_TEST
 (
	`asö
 (0.1));

105 
	`GEN_DBL_TEST
 (
	`asö
 (-0.1));

106 
	`GEN_DBL_TEST
 (
	`asö
 (0.4));

107 
	`GEN_DBL_TEST
 (
	`asö
 (-0.4));

108 
	`GEN_DBL_TEST
 (
	`asö
 (0.6));

109 
	`GEN_DBL_TEST
 (
	`asö
 (-0.6));

110 
	`GEN_DBL_TEST
 (
	`asö
 (0.97));

111 
	`GEN_DBL_TEST
 (
	`asö
 (-0.97));

112 
	`GEN_DBL_TEST
 (
	`asö
 (0.99));

113 
	`GEN_DBL_TEST
 (
	`asö
 (-0.99));

114 
	`GEN_DBL_TEST
 (
	`asö
 (1.1));

115 
	`GEN_DBL_TEST
 (
	`asö
 (-1.1));

116 
	`GEN_DBL_TEST
 (
	`asö
 (0.7));

119 
	`GEN_DBL_TEST
 (
	`©™
 (0.0));

120 
	`GEN_DBL_TEST
 (
	`©™
 (-0.0));

121 
	`GEN_DBL_TEST
 (
	`©™
 (7.0 / 16.0));

122 
	`GEN_DBL_TEST
 (
	`©™
 (-7.0 / 16.0));

123 
	`GEN_DBL_TEST
 (
	`©™
 (11.0 / 16.0));

124 
	`GEN_DBL_TEST
 (
	`©™
 (-11.0 / 16.0));

125 
	`GEN_DBL_TEST
 (
	`©™
 (19.0 / 16.0));

126 
	`GEN_DBL_TEST
 (
	`©™
 (-19.0 / 16.0));

127 
	`GEN_DBL_TEST
 (
	`©™
 (39.0 / 16.0));

128 
	`GEN_DBL_TEST
 (
	`©™
 (-39.0 / 16.0));

129 
	`GEN_DBL_TEST
 (
	`©™
 (1.0));

130 
	`GEN_DBL_TEST
 (
	`©™
 (-1.0));

131 
	`GEN_DBL_TEST
 (
	`©™
 (
INFINITY
));

132 
	`GEN_DBL_TEST
 (
	`©™
 (-
INFINITY
));

133 
	`GEN_DBL_TEST
 (
	`©™
 (
NAN
));

134 
	`GEN_DBL_TEST
 (
	`©™
 (6.9 / 16.0));

135 
	`GEN_DBL_TEST
 (
	`©™
 (-6.9 / 16.0));

136 
	`GEN_DBL_TEST
 (
	`©™
 (7.1 / 16.0));

137 
	`GEN_DBL_TEST
 (
	`©™
 (-7.1 / 16.0));

138 
	`GEN_DBL_TEST
 (
	`©™
 (10.9 / 16.0));

139 
	`GEN_DBL_TEST
 (
	`©™
 (-10.9 / 16.0));

140 
	`GEN_DBL_TEST
 (
	`©™
 (11.1 / 16.0));

141 
	`GEN_DBL_TEST
 (
	`©™
 (-11.1 / 16.0));

142 
	`GEN_DBL_TEST
 (
	`©™
 (18.9 / 16.0));

143 
	`GEN_DBL_TEST
 (
	`©™
 (-18.9 / 16.0));

144 
	`GEN_DBL_TEST
 (
	`©™
 (19.1 / 16.0));

145 
	`GEN_DBL_TEST
 (
	`©™
 (-19.1 / 16.0));

146 
	`GEN_DBL_TEST
 (
	`©™
 (38.9 / 16.0));

147 
	`GEN_DBL_TEST
 (
	`©™
 (-38.9 / 16.0));

148 
	`GEN_DBL_TEST
 (
	`©™
 (39.1 / 16.0));

149 
	`GEN_DBL_TEST
 (
	`©™
 (-39.1 / 16.0));

150 
	`GEN_DBL_TEST
 (
	`©™
 (0.99));

151 
	`GEN_DBL_TEST
 (
	`©™
 (-0.99));

152 
	`GEN_DBL_TEST
 (
	`©™
 (1.1));

153 
	`GEN_DBL_TEST
 (
	`©™
 (-1.1));

154 
	`GEN_DBL_TEST
 (
	`©™
 (7.37e+19));

155 
	`GEN_DBL_TEST
 (
	`©™
 (-7.37e+19));

156 
	`GEN_DBL_TEST
 (
	`©™
 (7.38e+19));

157 
	`GEN_DBL_TEST
 (
	`©™
 (-7.38e+19));

158 
	`GEN_DBL_TEST
 (
	`©™
 (0.7));

161 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, NAN));

162 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, 
NAN
));

163 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, 
NAN
));

164 
	`GEN_DBL_TEST
 (
	`©™2
 (1.0, 
NAN
));

165 
	`GEN_DBL_TEST
 (
	`©™2
 (-1.0, 
NAN
));

166 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, 
NAN
));

167 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, 
NAN
));

168 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, 0.0));

169 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, -0.0));

170 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, 1.0));

171 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, -1.0));

172 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, 
INFINITY
));

173 
	`GEN_DBL_TEST
 (
	`©™2
 (
NAN
, -
INFINITY
));

174 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, 0.0));

175 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, -0.0));

176 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, 0.0));

177 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, -0.0));

178 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, 1.0));

179 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, -1.0));

180 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, 
INFINITY
));

181 
	`GEN_DBL_TEST
 (
	`©™2
 (0.0, -
INFINITY
));

182 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, 1.0));

183 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, -1.0));

184 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, 
INFINITY
));

185 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.0, -
INFINITY
));

186 
	`GEN_DBL_TEST
 (
	`©™2
 (1.0, 0.0));

187 
	`GEN_DBL_TEST
 (
	`©™2
 (1.0, -0.0));

188 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, 0.0));

189 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, -0.0));

190 
	`GEN_DBL_TEST
 (
	`©™2
 (-1.0, 0.0));

191 
	`GEN_DBL_TEST
 (
	`©™2
 (-1.0, -0.0));

192 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, 0.0));

193 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, -0.0));

194 
	`GEN_DBL_TEST
 (
	`©™2
 (1.0, 
INFINITY
));

195 
	`GEN_DBL_TEST
 (
	`©™2
 (-1.0, 
INFINITY
));

196 
	`GEN_DBL_TEST
 (
	`©™2
 (1.0, -
INFINITY
));

197 
	`GEN_DBL_TEST
 (
	`©™2
 (-1.0, -
INFINITY
));

198 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, INFINITY));

199 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, -INFINITY));

200 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, INFINITY));

201 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, -INFINITY));

202 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, 1.0));

203 
	`GEN_DBL_TEST
 (
	`©™2
 (
INFINITY
, -1.0));

204 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, 1.0));

205 
	`GEN_DBL_TEST
 (
	`©™2
 (-
INFINITY
, -1.0));

206 
	`GEN_DBL_TEST
 (
	`©™2
 (0.7, 1.0));

207 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.7, 1.0));

208 
	`GEN_DBL_TEST
 (
	`©™2
 (0.7, -1.0));

209 
	`GEN_DBL_TEST
 (
	`©™2
 (-0.7, -1.0));

210 
	`GEN_DBL_TEST
 (
	`©™2
 (0.4, 0.0003));

211 
	`GEN_DBL_TEST
 (
	`©™2
 (1.4, -0.93));

214 
	`GEN_DBL_TEST
 (
	`˚û
 (0.0));

215 
	`GEN_DBL_TEST
 (
	`˚û
 (-0.0));

216 
	`GEN_DBL_TEST
 (
	`˚û
 (
INFINITY
));

217 
	`GEN_DBL_TEST
 (
	`˚û
 (-
INFINITY
));

218 
	`GEN_DBL_TEST
 (
	`˚û
 (
NAN
));

219 
	`GEN_DBL_TEST
 (
	`˚û
 (3.14));

220 
	`GEN_DBL_TEST
 (
	`˚û
 (-3.14));

221 
	`GEN_DBL_TEST
 (
	`˚û
 (3.72e-09));

222 
	`GEN_DBL_TEST
 (
	`˚û
 (-3.72e-09));

223 
	`GEN_DBL_TEST
 (
	`˚û
 (7.37e+19));

224 
	`GEN_DBL_TEST
 (
	`˚û
 (-7.37e+19));

284 
	`GEN_DBL_TEST
 (
	`exp
 (0.0));

285 
	`GEN_DBL_TEST
 (
	`exp
 (-0.0));

286 
	`GEN_DBL_TEST
 (
	`exp
 (1.0));

287 
	`GEN_DBL_TEST
 (
	`exp
 (-1.0));

288 
	`GEN_DBL_TEST
 (
	`exp
 (
INFINITY
));

289 
	`GEN_DBL_TEST
 (
	`exp
 (-
INFINITY
));

290 
	`GEN_DBL_TEST
 (
	`exp
 (
NAN
));

291 
	`GEN_DBL_TEST
 (
	`exp
 (7.08e+02));

292 
	`GEN_DBL_TEST
 (
	`exp
 (7.10e+02));

293 
	`GEN_DBL_TEST
 (
	`exp
 (-7.40e+02));

294 
	`GEN_DBL_TEST
 (
	`exp
 (-7.50e+02));

295 
	`GEN_DBL_TEST
 (
	`exp
 (0.34));

296 
	`GEN_DBL_TEST
 (
	`exp
 (-0.34));

297 
	`GEN_DBL_TEST
 (
	`exp
 (0.35));

298 
	`GEN_DBL_TEST
 (
	`exp
 (-0.35));

299 
	`GEN_DBL_TEST
 (
	`exp
 (1.03));

300 
	`GEN_DBL_TEST
 (
	`exp
 (-1.03));

301 
	`GEN_DBL_TEST
 (
	`exp
 (1.04));

302 
	`GEN_DBL_TEST
 (
	`exp
 (-1.04));

303 
	`GEN_DBL_TEST
 (
	`exp
 (3.72e-09));

304 
	`GEN_DBL_TEST
 (
	`exp
 (-3.72e-09));

305 
	`GEN_DBL_TEST
 (
	`exp
 (3.73e-09));

306 
	`GEN_DBL_TEST
 (
	`exp
 (-3.73e-09));

307 
	`GEN_DBL_TEST
 (
	`exp
 (2.0));

308 
	`GEN_DBL_TEST
 (
	`exp
 (3.0));

309 
	`GEN_DBL_TEST
 (
	`exp
 (0.7));

310 
	`GEN_DBL_TEST
 (
	`exp
 (38.0));

313 
	`GEN_DBL_TEST
 (
	`Ábs
 (0.0));

314 
	`GEN_DBL_TEST
 (
	`Ábs
 (-0.0));

315 
	`GEN_DBL_TEST
 (
	`Ábs
 (1.0));

316 
	`GEN_DBL_TEST
 (
	`Ábs
 (-1.0));

317 
	`GEN_DBL_TEST
 (
	`Ábs
 (
INFINITY
));

318 
	`GEN_DBL_TEST
 (
	`Ábs
 (-
INFINITY
));

319 
	`GEN_DBL_TEST
 (
	`Ábs
 (
NAN
));

320 
	`GEN_DBL_TEST
 (
	`Ábs
 (3.14));

321 
	`GEN_DBL_TEST
 (
	`Ábs
 (-3.14));

322 
	`GEN_DBL_TEST
 (
	`Ábs
 (0.7));

323 
	`GEN_DBL_TEST
 (
	`Ábs
 (-0.7));

324 
	`GEN_DBL_TEST
 (
	`Ábs
 (3.72e-09));

325 
	`GEN_DBL_TEST
 (
	`Ábs
 (-3.72e-09));

326 
	`GEN_DBL_TEST
 (
	`Ábs
 (7.37e+19));

327 
	`GEN_DBL_TEST
 (
	`Ábs
 (-7.37e+19));

349 
	`GEN_DBL_TEST
 (
	`Êo‹
 (0.0));

350 
	`GEN_DBL_TEST
 (
	`Êo‹
 (-0.0));

351 
	`GEN_DBL_TEST
 (
	`Êo‹
 (
INFINITY
));

352 
	`GEN_DBL_TEST
 (
	`Êo‹
 (-
INFINITY
));

353 
	`GEN_DBL_TEST
 (
	`Êo‹
 (
NAN
));

354 
	`GEN_DBL_TEST
 (
	`Êo‹
 (3.14));

355 
	`GEN_DBL_TEST
 (
	`Êo‹
 (-3.14));

356 
	`GEN_DBL_TEST
 (
	`Êo‹
 (3.72e-09));

357 
	`GEN_DBL_TEST
 (
	`Êo‹
 (-3.72e-09));

358 
	`GEN_DBL_TEST
 (
	`Êo‹
 (7.37e+19));

359 
	`GEN_DBL_TEST
 (
	`Êo‹
 (-7.37e+19));

362 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, 0.0));

363 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, -0.0));

364 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, 0.0));

365 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, -0.0));

366 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, 3.0));

367 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, -3.0));

368 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, 3.0));

369 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, -3.0));

370 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, 
INFINITY
));

371 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, -
INFINITY
));

372 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, 
INFINITY
));

373 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, -
INFINITY
));

374 
	`GEN_DBL_TEST
 (
	`fmod
 (0.0, 
NAN
));

375 
	`GEN_DBL_TEST
 (
	`fmod
 (-0.0, 
NAN
));

376 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, 0.0));

377 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, -0.0));

378 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, 0.0));

379 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, -0.0));

380 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, 3.0));

381 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, -3.0));

382 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, 3.0));

383 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, -3.0));

384 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, 
INFINITY
));

385 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, -
INFINITY
));

386 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, 
INFINITY
));

387 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, -
INFINITY
));

388 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, 
NAN
));

389 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, 
NAN
));

390 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, 0.0));

391 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, -0.0));

392 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, 0.0));

393 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, -0.0));

394 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, 3.0));

395 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, -3.0));

396 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, 3.0));

397 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, -3.0));

398 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, INFINITY));

399 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, -INFINITY));

400 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, INFINITY));

401 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, -INFINITY));

402 
	`GEN_DBL_TEST
 (
	`fmod
 (
INFINITY
, 
NAN
));

403 
	`GEN_DBL_TEST
 (
	`fmod
 (-
INFINITY
, 
NAN
));

404 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, 0.0));

405 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, -0.0));

406 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, 3.0));

407 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, -3.0));

408 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, 
INFINITY
));

409 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, -
INFINITY
));

410 
	`GEN_DBL_TEST
 (
	`fmod
 (
NAN
, NAN));

411 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, 1.0));

412 
	`GEN_DBL_TEST
 (
	`fmod
 (3.0, -1.0));

413 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, 1.0));

414 
	`GEN_DBL_TEST
 (
	`fmod
 (-3.0, -1.0));

415 
	`GEN_DBL_TEST
 (
	`fmod
 (6.5, 2.3));

416 
	`GEN_DBL_TEST
 (
	`fmod
 (6.5, -2.3));

417 
	`GEN_DBL_TEST
 (
	`fmod
 (-6.5, 2.3));

418 
	`GEN_DBL_TEST
 (
	`fmod
 (-6.5, -2.3));

421 
	`GEN_INT_TEST
 (
	`i¢™
 (0.0));

422 
	`GEN_INT_TEST
 (
	`i¢™
 (-0.0));

423 
	`GEN_INT_TEST
 (
	`i¢™
 (1.0));

424 
	`GEN_INT_TEST
 (
	`i¢™
 (-1.0));

425 
	`GEN_INT_TEST
 (
	`i¢™
 (
INFINITY
));

426 
	`GEN_INT_TEST
 (
	`i¢™
 (-
INFINITY
));

427 
	`GEN_INT_TEST
 (
	`i¢™
 (
NAN
));

428 
	`GEN_INT_TEST
 (
	`i¢™
 (3.14));

429 
	`GEN_INT_TEST
 (
	`i¢™
 (-3.14));

430 
	`GEN_INT_TEST
 (
	`i¢™
 (0.7));

431 
	`GEN_INT_TEST
 (
	`i¢™
 (-0.7));

432 
	`GEN_INT_TEST
 (
	`i¢™
 (3.72e-09));

433 
	`GEN_INT_TEST
 (
	`i¢™
 (-3.72e-09));

434 
	`GEN_INT_TEST
 (
	`i¢™
 (7.37e+19));

435 
	`GEN_INT_TEST
 (
	`i¢™
 (-7.37e+19));

438 
	`GEN_DBL_TEST
 (
	`log
 (0.0));

439 
	`GEN_DBL_TEST
 (
	`log
 (-0.0));

440 
	`GEN_DBL_TEST
 (
	`log
 (1.0));

441 
	`GEN_DBL_TEST
 (
	`log
 (-1.0));

442 
	`GEN_DBL_TEST
 (
	`log
 (
INFINITY
));

443 
	`GEN_DBL_TEST
 (
	`log
 (-
INFINITY
));

444 
	`GEN_DBL_TEST
 (
	`log
 (
NAN
));

445 
	`GEN_DBL_TEST
 (
	`log
 (
M_E
));

446 
	`GEN_DBL_TEST
 (
	`log
 (1.0 / 
M_E
));

447 
	`GEN_DBL_TEST
 (
	`log
 (2));

448 
	`GEN_DBL_TEST
 (
	`log
 (10));

449 
	`GEN_DBL_TEST
 (
	`log
 (0.7));

450 
	`GEN_DBL_TEST
 (
	`log
 (2.22e-308));

451 
	`GEN_DBL_TEST
 (
	`log
 (2.23e-308));

452 
	`GEN_DBL_TEST
 (
	`log
 (0.17));

453 
	`GEN_DBL_TEST
 (
	`log
 (0.18));

454 
	`GEN_DBL_TEST
 (
	`log
 (1999.0));

455 
	`GEN_DBL_TEST
 (
	`log
 (2000.0));

456 
	`GEN_DBL_TEST
 (
	`log
 (2001.0));

459 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 0.0));

460 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, -0.0));

461 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 0.0));

462 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, -0.0));

463 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 1.0));

464 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, -1.0));

465 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 1.0));

466 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, -1.0));

467 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 
INFINITY
));

468 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, -
INFINITY
));

469 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 
INFINITY
));

470 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, -
INFINITY
));

471 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 
NAN
));

472 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 
NAN
));

473 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, 0.0));

474 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, -0.0));

475 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, 0.0));

476 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, -0.0));

477 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, 1.0));

478 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, -1.0));

479 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, 1.0));

480 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, -1.0));

481 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, 
INFINITY
));

482 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, -
INFINITY
));

483 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, 
INFINITY
));

484 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, -
INFINITY
));

485 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, 
NAN
));

486 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, 
NAN
));

487 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, 0.0));

488 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, -0.0));

489 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, 0.0));

490 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, -0.0));

491 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, 1.0));

492 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, -1.0));

493 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, 1.0));

494 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, -1.0));

495 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, INFINITY));

496 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, -INFINITY));

497 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, INFINITY));

498 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, -INFINITY));

499 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, 
NAN
));

500 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, 
NAN
));

501 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, 0.0));

502 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, -0.0));

503 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, 1.0));

504 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, -1.0));

505 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, 
INFINITY
));

506 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, -
INFINITY
));

507 
	`GEN_DBL_TEST
 (
	`pow
 (
NAN
, NAN));

508 
	`GEN_DBL_TEST
 (
	`pow
 (0.9, 
INFINITY
));

509 
	`GEN_DBL_TEST
 (
	`pow
 (0.9, -
INFINITY
));

510 
	`GEN_DBL_TEST
 (
	`pow
 (-0.9, 
INFINITY
));

511 
	`GEN_DBL_TEST
 (
	`pow
 (-0.9, -
INFINITY
));

512 
	`GEN_DBL_TEST
 (
	`pow
 (1.1, 
INFINITY
));

513 
	`GEN_DBL_TEST
 (
	`pow
 (1.1, -
INFINITY
));

514 
	`GEN_DBL_TEST
 (
	`pow
 (-1.1, 
INFINITY
));

515 
	`GEN_DBL_TEST
 (
	`pow
 (-1.1, -
INFINITY
));

516 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 2.0));

517 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, -2.0));

518 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 2.0));

519 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, -2.0));

520 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 3.0));

521 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, -3.0));

522 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 3.0));

523 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, -3.0));

524 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, 3.14));

525 
	`GEN_DBL_TEST
 (
	`pow
 (0.0, -3.14));

526 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, 3.14));

527 
	`GEN_DBL_TEST
 (
	`pow
 (-0.0, -3.14));

528 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, 3.14));

529 
	`GEN_DBL_TEST
 (
	`pow
 (1.0, -3.14));

530 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, 3.14));

531 
	`GEN_DBL_TEST
 (
	`pow
 (-1.0, -3.14));

532 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, 0.0));

533 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, -0.0));

534 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, 0.0));

535 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, -0.0));

536 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, 1.0));

537 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, -1.0));

538 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, 1.0));

539 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, -1.0));

540 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, 2.0));

541 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, -2.0));

542 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, 2.0));

543 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, -2.0));

544 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, 3.0));

545 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, -3.0));

546 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, 3.0));

547 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, -3.0));

548 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, 3.14));

549 
	`GEN_DBL_TEST
 (
	`pow
 (3.14, -3.14));

550 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, 3.14));

551 
	`GEN_DBL_TEST
 (
	`pow
 (-3.14, -3.14));

552 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, 2.0));

553 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, -2.0));

554 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, 2.0));

555 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, -2.0));

556 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, 3.0));

557 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, -3.0));

558 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, 3.0));

559 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, -3.0));

560 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, 3.14));

561 
	`GEN_DBL_TEST
 (
	`pow
 (
INFINITY
, -3.14));

562 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, 3.14));

563 
	`GEN_DBL_TEST
 (
	`pow
 (-
INFINITY
, -3.14));

564 
	`GEN_DBL_TEST
 (
	`pow
 (0.7, 1.2));

608 
	`GEN_DBL_TEST
 (
	`sqπ
 (0.0));

609 
	`GEN_DBL_TEST
 (
	`sqπ
 (-0.0));

610 
	`GEN_DBL_TEST
 (
	`sqπ
 (1.0));

611 
	`GEN_DBL_TEST
 (
	`sqπ
 (-1.0));

612 
	`GEN_DBL_TEST
 (
	`sqπ
 (
INFINITY
));

613 
	`GEN_DBL_TEST
 (
	`sqπ
 (-
INFINITY
));

614 
	`GEN_DBL_TEST
 (
	`sqπ
 (
NAN
));

615 
	`GEN_DBL_TEST
 (
	`sqπ
 (0.7));

616 
	`GEN_DBL_TEST
 (
	`sqπ
 (2));

617 
	`GEN_DBL_TEST
 (
	`sqπ
 (10));

618 
	`GEN_DBL_TEST
 (
	`sqπ
 (2.22e-308));

619 
	`GEN_DBL_TEST
 (
	`sqπ
 (2.23e-308));

620 
	`GEN_DBL_TEST
 (
	`sqπ
 (3.72e-09));

621 
	`GEN_DBL_TEST
 (
	`sqπ
 (7.37e+19));

622 
	`GEN_DBL_TEST
 (
	`sqπ
 (2209));

623 
	`GEN_DBL_TEST
 (
	`sqπ
 (4));

624 
	`GEN_DBL_TEST
 (
	`sqπ
 (0.25));

625 
	`GEN_DBL_TEST
 (
	`sqπ
 (6642.25));

626 
	`GEN_DBL_TEST
 (
	`sqπ
 (15239.9025));

629 
	`GEN_DBL_TEST
 (
	`sö
 (0.0));

630 
	`GEN_DBL_TEST
 (
	`sö
 (-0.0));

631 
	`GEN_DBL_TEST
 (
	`sö
 (1.0));

632 
	`GEN_DBL_TEST
 (
	`sö
 (-1.0));

633 
	`GEN_DBL_TEST
 (
	`sö
 (
INFINITY
));

634 
	`GEN_DBL_TEST
 (
	`sö
 (-
INFINITY
));

635 
	`GEN_DBL_TEST
 (
	`sö
 (
NAN
));

636 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
));

637 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
));

638 
	`GEN_DBL_TEST
 (
	`sö
 (2.0 * 
M_PI
));

639 
	`GEN_DBL_TEST
 (
	`sö
 (-2.0 * 
M_PI
));

640 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
 / 2.0));

641 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
 / 2.0));

642 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
 / 3.0));

643 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
 / 3.0));

644 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
 / 4.0));

645 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
 / 4.0));

646 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
 / 6.0));

647 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
 / 6.0));

648 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
 * 2.0 / 3.0));

649 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
 * 2.0 / 3.0));

650 
	`GEN_DBL_TEST
 (
	`sö
 (
M_PI
 * 5.0 / 6.0));

651 
	`GEN_DBL_TEST
 (
	`sö
 (-
M_PI
 * 5.0 / 6.0));

652 
	`GEN_DBL_TEST
 (
	`sö
 (6.9e-18));

653 
	`GEN_DBL_TEST
 (
	`sö
 (-6.9e-18));

654 
	`GEN_DBL_TEST
 (
	`sö
 (7.0e-18));

655 
	`GEN_DBL_TEST
 (
	`sö
 (-7.0e-18));

656 
	`GEN_DBL_TEST
 (
	`sö
 (7.4e-9));

657 
	`GEN_DBL_TEST
 (
	`sö
 (-7.4e-9));

658 
	`GEN_DBL_TEST
 (
	`sö
 (7.5e-9));

659 
	`GEN_DBL_TEST
 (
	`sö
 (-7.5e-9));

660 
	`GEN_DBL_TEST
 (
	`sö
 (0.2));

661 
	`GEN_DBL_TEST
 (
	`sö
 (-0.2));

662 
	`GEN_DBL_TEST
 (
	`sö
 (0.4));

663 
	`GEN_DBL_TEST
 (
	`sö
 (-0.4));

664 
	`GEN_DBL_TEST
 (
	`sö
 (0.7));

665 
	`GEN_DBL_TEST
 (
	`sö
 (-0.7));

666 
	`GEN_DBL_TEST
 (
	`sö
 (0.8));

667 
	`GEN_DBL_TEST
 (
	`sö
 (-0.8));

668 
	`GEN_DBL_TEST
 (
	`sö
 (3.0));

669 
	`GEN_DBL_TEST
 (
	`sö
 (-3.0));

670 
	`GEN_DBL_TEST
 (
	`sö
 (4.0));

671 
	`GEN_DBL_TEST
 (
	`sö
 (-4.0));

672 
	`GEN_DBL_TEST
 (
	`sö
 (6.0));

673 
	`GEN_DBL_TEST
 (
	`sö
 (-6.0));

674 
	`GEN_DBL_TEST
 (
	`sö
 (7.0));

675 
	`GEN_DBL_TEST
 (
	`sö
 (-7.0));

678 
	`GEN_DBL_TEST
 (
	`cos
 (0.0));

679 
	`GEN_DBL_TEST
 (
	`cos
 (-0.0));

680 
	`GEN_DBL_TEST
 (
	`cos
 (1.0));

681 
	`GEN_DBL_TEST
 (
	`cos
 (-1.0));

682 
	`GEN_DBL_TEST
 (
	`cos
 (
INFINITY
));

683 
	`GEN_DBL_TEST
 (
	`cos
 (-
INFINITY
));

684 
	`GEN_DBL_TEST
 (
	`cos
 (
NAN
));

685 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
));

686 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
));

687 
	`GEN_DBL_TEST
 (
	`cos
 (2.0 * 
M_PI
));

688 
	`GEN_DBL_TEST
 (
	`cos
 (-2.0 * 
M_PI
));

689 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
 / 2.0));

690 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
 / 2.0));

691 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
 / 3.0));

692 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
 / 3.0));

693 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
 / 4.0));

694 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
 / 4.0));

695 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
 / 6.0));

696 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
 / 6.0));

697 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
 * 2.0 / 3.0));

698 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
 * 2.0 / 3.0));

699 
	`GEN_DBL_TEST
 (
	`cos
 (
M_PI
 * 5.0 / 6.0));

700 
	`GEN_DBL_TEST
 (
	`cos
 (-
M_PI
 * 5.0 / 6.0));

701 
	`GEN_DBL_TEST
 (
	`cos
 (6.9e-18));

702 
	`GEN_DBL_TEST
 (
	`cos
 (-6.9e-18));

703 
	`GEN_DBL_TEST
 (
	`cos
 (7.0e-18));

704 
	`GEN_DBL_TEST
 (
	`cos
 (-7.0e-18));

705 
	`GEN_DBL_TEST
 (
	`cos
 (7.4e-9));

706 
	`GEN_DBL_TEST
 (
	`cos
 (-7.4e-9));

707 
	`GEN_DBL_TEST
 (
	`cos
 (7.5e-9));

708 
	`GEN_DBL_TEST
 (
	`cos
 (-7.5e-9));

709 
	`GEN_DBL_TEST
 (
	`cos
 (0.2));

710 
	`GEN_DBL_TEST
 (
	`cos
 (-0.2));

711 
	`GEN_DBL_TEST
 (
	`cos
 (0.4));

712 
	`GEN_DBL_TEST
 (
	`cos
 (-0.4));

713 
	`GEN_DBL_TEST
 (
	`cos
 (0.7));

714 
	`GEN_DBL_TEST
 (
	`cos
 (-0.7));

715 
	`GEN_DBL_TEST
 (
	`cos
 (0.8));

716 
	`GEN_DBL_TEST
 (
	`cos
 (-0.8));

717 
	`GEN_DBL_TEST
 (
	`cos
 (3.0));

718 
	`GEN_DBL_TEST
 (
	`cos
 (-3.0));

719 
	`GEN_DBL_TEST
 (
	`cos
 (4.0));

720 
	`GEN_DBL_TEST
 (
	`cos
 (-4.0));

721 
	`GEN_DBL_TEST
 (
	`cos
 (6.0));

722 
	`GEN_DBL_TEST
 (
	`cos
 (-6.0));

723 
	`GEN_DBL_TEST
 (
	`cos
 (7.0));

724 
	`GEN_DBL_TEST
 (
	`cos
 (-7.0));

727 
	`GEN_DBL_TEST
 (
	`èn
 (0.0));

728 
	`GEN_DBL_TEST
 (
	`èn
 (-0.0));

729 
	`GEN_DBL_TEST
 (
	`èn
 (1.0));

730 
	`GEN_DBL_TEST
 (
	`èn
 (-1.0));

731 
	`GEN_DBL_TEST
 (
	`èn
 (
INFINITY
));

732 
	`GEN_DBL_TEST
 (
	`èn
 (-
INFINITY
));

733 
	`GEN_DBL_TEST
 (
	`èn
 (
NAN
));

734 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
));

735 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
));

736 
	`GEN_DBL_TEST
 (
	`èn
 (2.0 * 
M_PI
));

737 
	`GEN_DBL_TEST
 (
	`èn
 (-2.0 * 
M_PI
));

738 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
 / 2.0));

739 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
 / 2.0));

740 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
 / 3.0));

741 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
 / 3.0));

742 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
 / 4.0));

743 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
 / 4.0));

744 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
 / 6.0));

745 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
 / 6.0));

746 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
 * 2.0 / 3.0));

747 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
 * 2.0 / 3.0));

748 
	`GEN_DBL_TEST
 (
	`èn
 (
M_PI
 * 5.0 / 6.0));

749 
	`GEN_DBL_TEST
 (
	`èn
 (-
M_PI
 * 5.0 / 6.0));

750 
	`GEN_DBL_TEST
 (
	`èn
 (3.7e-9));

751 
	`GEN_DBL_TEST
 (
	`èn
 (-3.7e-9));

752 
	`GEN_DBL_TEST
 (
	`èn
 (3.8e-9));

753 
	`GEN_DBL_TEST
 (
	`èn
 (-3.8e-9));

754 
	`GEN_DBL_TEST
 (
	`èn
 (0.6));

755 
	`GEN_DBL_TEST
 (
	`èn
 (-0.6));

756 
	`GEN_DBL_TEST
 (
	`èn
 (0.7));

757 
	`GEN_DBL_TEST
 (
	`èn
 (-0.7));

758 
	`GEN_DBL_TEST
 (
	`èn
 (3.0));

759 
	`GEN_DBL_TEST
 (
	`èn
 (-3.0));

760 
	`GEN_DBL_TEST
 (
	`èn
 (4.0));

761 
	`GEN_DBL_TEST
 (
	`èn
 (-4.0));

762 
	`GEN_DBL_TEST
 (
	`èn
 (6.0));

763 
	`GEN_DBL_TEST
 (
	`èn
 (-6.0));

764 
	`GEN_DBL_TEST
 (
	`èn
 (7.0));

765 
	`GEN_DBL_TEST
 (
	`èn
 (-7.0));

766 
	}
}

	@deps/libtuv/include/android-ifaddrs.h

26 #i‚def 
_IFADDRS_H_


27 
	#_IFADDRS_H_


	)

29 
	siÁddrs
 {

30 
iÁddrs
 *
	miÁ_√xt
;

31 *
	miÁ_«me
;

32 
	miÁ_Êags
;

33 
sockaddr
 *
	miÁ_addr
;

34 
sockaddr
 *
	miÁ_√tmask
;

35 
sockaddr
 *
	miÁ_d°addr
;

36 *
	miÁ_d©a
;

43 #i‚def 
iÁ_brﬂdaddr


44 
	#iÁ_brﬂdaddr
 
iÁ_d°addr


	)

47 
	~<sys/cdefs.h
>

49 
__BEGIN_DECLS


50 
gëiÁddrs
(
iÁddrs
 **
iÁp
);

51 
‰ìiÁddrs
(
iÁddrs
 *
iÁ
);

52 
	g__END_DECLS


	@deps/libtuv/include/pthread-barrier.h

17 #i‚de‡
_UV_PTHREAD_BARRIER_


18 
	#_UV_PTHREAD_BARRIER_


	)

19 
	~<î∫o.h
>

20 
	~<±hªad.h
>

21 
	~<£m≠h‹e.h
>

23 
	#PTHREAD_BARRIER_SERIAL_THREAD
 0x12345

	)

30 #i‡
deföed
(
__ANDROID__
)

31 
	#UV_BARRIER_STRUCT_PADDING
 \

32 (
±hªad_muãx_t
) + \

33 (
±hªad_c⁄d_t
) + \

35 (*)

	)

36 #ñi‡
deföed
(
__APPLE__
)

37 
	#UV_BARRIER_STRUCT_PADDING
 \

38 (
±hªad_muãx_t
) + \

39 2 * (
£m_t
) + \

41 (*)

	)

43 
	#UV_BARRIER_STRUCT_PADDING
 0

	)

47 
±hªad_muãx_t
 
	mmuãx
;

48 
±hªad_c⁄d_t
 
	mc⁄d
;

49 
	mthªshﬁd
;

50 
	mö
;

51 
	mout
;

52 } 
	t_uv_b¨rõr
;

55 
_uv_b¨rõr
* 
	mb
;

56 
	m_∑d
[
UV_BARRIER_STRUCT_PADDING
];

57 } 
	t±hªad_b¨rõr_t
;

59 
±hªad_b¨rõr_öô
(
±hªad_b¨rõr_t
* 
b¨rõr
,

60 c⁄° * 
b¨rõr_©å
,

61 
cou¡
);

63 
±hªad_b¨rõr_waô
(
±hªad_b¨rõr_t
* 
b¨rõr
);

64 
±hªad_b¨rõr_de°roy
(
±hªad_b¨rõr_t
 *
b¨rõr
);

	@deps/libtuv/include/stdint-msvc2008.h

32 #i‚de‡
_MSC_VER


36 #i‚de‡
_MSC_STDINT_H_


37 
	#_MSC_STDINT_H_


	)

39 #i‡
_MSC_VER
 > 1000

40 #¥agm®
⁄˚


43 
	~<limôs.h
>

49 #ifde‡
__˝lu•lus


52 
	~<wch¨.h
>

53 #ifde‡
__˝lu•lus


58 #i‚de‡
_W64


59 #i‡!
deföed
(
__midl
Ë&& (deföed(
_X86_
Ë|| deföed(
_M_IX86
)Ë&& 
_MSC_VER
 >= 1300

60 
	#_W64
 
__w64


	)

62 
	#_W64


	)

74 #i‡(
_MSC_VER
 < 1300)

75 sig√d 
	töt8_t
;

76 sig√d 
	töt16_t
;

77 sig√d 
	töt32_t
;

78 
	tuöt8_t
;

79 
	tuöt16_t
;

80 
	tuöt32_t
;

82 sig√d 
	t__öt8
 
	töt8_t
;

83 sig√d 
	t__öt16
 
	töt16_t
;

84 sig√d 
	t__öt32
 
	töt32_t
;

85 
	t__öt8
 
	tuöt8_t
;

86 
	t__öt16
 
	tuöt16_t
;

87 
	t__öt32
 
	tuöt32_t
;

89 sig√d 
	t__öt64
 
	töt64_t
;

90 
	t__öt64
 
	tuöt64_t
;

94 
öt8_t
 
	töt_Àa°8_t
;

95 
öt16_t
 
	töt_Àa°16_t
;

96 
öt32_t
 
	töt_Àa°32_t
;

97 
öt64_t
 
	töt_Àa°64_t
;

98 
uöt8_t
 
	tuöt_Àa°8_t
;

99 
uöt16_t
 
	tuöt_Àa°16_t
;

100 
uöt32_t
 
	tuöt_Àa°32_t
;

101 
uöt64_t
 
	tuöt_Àa°64_t
;

104 
öt8_t
 
	töt_Á°8_t
;

105 
öt16_t
 
	töt_Á°16_t
;

106 
öt32_t
 
	töt_Á°32_t
;

107 
öt64_t
 
	töt_Á°64_t
;

108 
uöt8_t
 
	tuöt_Á°8_t
;

109 
uöt16_t
 
	tuöt_Á°16_t
;

110 
uöt32_t
 
	tuöt_Á°32_t
;

111 
uöt64_t
 
	tuöt_Á°64_t
;

114 #ifde‡
_WIN64


115 sig√d 
	t__öt64
 
	töçå_t
;

116 
	t__öt64
 
	tuöçå_t
;

118 
_W64
 sig√d 
	töçå_t
;

119 
_W64
 
	tuöçå_t
;

123 
öt64_t
 
	tötmax_t
;

124 
uöt64_t
 
	tuötmax_t
;

129 #i‡!
deföed
(
__˝lu•lus
Ë|| deföed(
__STDC_LIMIT_MACROS
)

132 
	#INT8_MIN
 ((
öt8_t
)
_I8_MIN
)

	)

133 
	#INT8_MAX
 
_I8_MAX


	)

134 
	#INT16_MIN
 ((
öt16_t
)
_I16_MIN
)

	)

135 
	#INT16_MAX
 
_I16_MAX


	)

136 
	#INT32_MIN
 ((
öt32_t
)
_I32_MIN
)

	)

137 
	#INT32_MAX
 
_I32_MAX


	)

138 
	#INT64_MIN
 ((
öt64_t
)
_I64_MIN
)

	)

139 
	#INT64_MAX
 
_I64_MAX


	)

140 
	#UINT8_MAX
 
_UI8_MAX


	)

141 
	#UINT16_MAX
 
_UI16_MAX


	)

142 
	#UINT32_MAX
 
_UI32_MAX


	)

143 
	#UINT64_MAX
 
_UI64_MAX


	)

146 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

147 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

148 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

149 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

150 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

151 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

152 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

153 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

154 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

155 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

156 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

157 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

160 
	#INT_FAST8_MIN
 
INT8_MIN


	)

161 
	#INT_FAST8_MAX
 
INT8_MAX


	)

162 
	#INT_FAST16_MIN
 
INT16_MIN


	)

163 
	#INT_FAST16_MAX
 
INT16_MAX


	)

164 
	#INT_FAST32_MIN
 
INT32_MIN


	)

165 
	#INT_FAST32_MAX
 
INT32_MAX


	)

166 
	#INT_FAST64_MIN
 
INT64_MIN


	)

167 
	#INT_FAST64_MAX
 
INT64_MAX


	)

168 
	#UINT_FAST8_MAX
 
UINT8_MAX


	)

169 
	#UINT_FAST16_MAX
 
UINT16_MAX


	)

170 
	#UINT_FAST32_MAX
 
UINT32_MAX


	)

171 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

174 #ifde‡
_WIN64


175 
	#INTPTR_MIN
 
INT64_MIN


	)

176 
	#INTPTR_MAX
 
INT64_MAX


	)

177 
	#UINTPTR_MAX
 
UINT64_MAX


	)

179 
	#INTPTR_MIN
 
INT32_MIN


	)

180 
	#INTPTR_MAX
 
INT32_MAX


	)

181 
	#UINTPTR_MAX
 
UINT32_MAX


	)

185 
	#INTMAX_MIN
 
INT64_MIN


	)

186 
	#INTMAX_MAX
 
INT64_MAX


	)

187 
	#UINTMAX_MAX
 
UINT64_MAX


	)

191 #ifde‡
_WIN64


192 
	#PTRDIFF_MIN
 
_I64_MIN


	)

193 
	#PTRDIFF_MAX
 
_I64_MAX


	)

195 
	#PTRDIFF_MIN
 
_I32_MIN


	)

196 
	#PTRDIFF_MAX
 
_I32_MAX


	)

199 
	#SIG_ATOMIC_MIN
 
INT_MIN


	)

200 
	#SIG_ATOMIC_MAX
 
INT_MAX


	)

202 #i‚de‡
SIZE_MAX


203 #ifde‡
_WIN64


204 
	#SIZE_MAX
 
_UI64_MAX


	)

206 
	#SIZE_MAX
 
_UI32_MAX


	)

211 #i‚de‡
WCHAR_MIN


212 
	#WCHAR_MIN
 0

	)

214 #i‚de‡
WCHAR_MAX


215 
	#WCHAR_MAX
 
_UI16_MAX


	)

218 
	#WINT_MIN
 0

	)

219 
	#WINT_MAX
 
_UI16_MAX


	)

226 #i‡!
deföed
(
__˝lu•lus
Ë|| deföed(
__STDC_CONSTANT_MACROS
)

230 
	#INT8_C
(
vÆ
ËvÆ##
i8


	)

231 
	#INT16_C
(
vÆ
ËvÆ##
i16


	)

232 
	#INT32_C
(
vÆ
ËvÆ##
i32


	)

233 
	#INT64_C
(
vÆ
ËvÆ##
i64


	)

235 
	#UINT8_C
(
vÆ
ËvÆ##
ui8


	)

236 
	#UINT16_C
(
vÆ
ËvÆ##
ui16


	)

237 
	#UINT32_C
(
vÆ
ËvÆ##
ui32


	)

238 
	#UINT64_C
(
vÆ
ËvÆ##
ui64


	)

241 
	#INTMAX_C
 
INT64_C


	)

242 
	#UINTMAX_C
 
UINT64_C


	)

	@deps/libtuv/include/tree.h

26 #i‚de‡ 
UV_TREE_H_


27 
	#UV_TREE_H_


	)

29 #i‚de‡
UV__UNUSED


30 #i‡
__GNUC__


31 
	#UV__UNUSED
 
	`__©åibuã__
((
unu£d
))

	)

33 
	#UV__UNUSED


	)

64 
	#SPLAY_HEAD
(
«me
, 
ty≥
) \

65 
	s«me
 { \

66 
ty≥
 *
•h_roŸ
; \

67 }

	)

69 
	#SPLAY_INITIALIZER
(
roŸ
) \

70 { 
NULL
 }

	)

72 
	#SPLAY_INIT
(
roŸ
) do { \

73 (
roŸ
)->
•h_roŸ
 = 
NULL
; \

74 }  0)

	)

76 
	#SPLAY_ENTRY
(
ty≥
) \

78 
ty≥
 *
•e_À·
; \

79 
ty≥
 *
•e_right
; \

80 }

	)

82 
	#SPLAY_LEFT
(
ñm
, 
fõld
Ë”lm)->fõld.
•e_À·


	)

83 
	#SPLAY_RIGHT
(
ñm
, 
fõld
Ë”lm)->fõld.
•e_right


	)

84 
	#SPLAY_ROOT
(
hód
Ë(hód)->
•h_roŸ


	)

85 
	#SPLAY_EMPTY
(
hód
Ë(
	`SPLAY_ROOT
(hódË=
NULL
)

	)

88 
	#SPLAY_ROTATE_RIGHT
(
hód
, 
tmp
, 
fõld
) do { \

89 
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
Ë
	`SPLAY_RIGHT
(
tmp
, field); \

90 
	`SPLAY_RIGHT
(
tmp
, 
fõld
Ë(
hód
)->
•h_roŸ
; \

91 (
hód
)->
•h_roŸ
 = 
tmp
; \

92 }  0)

	)

94 
	#SPLAY_ROTATE_LEFT
(
hód
, 
tmp
, 
fõld
) do { \

95 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
Ë
	`SPLAY_LEFT
(
tmp
, field); \

96 
	`SPLAY_LEFT
(
tmp
, 
fõld
Ë(
hód
)->
•h_roŸ
; \

97 (
hód
)->
•h_roŸ
 = 
tmp
; \

98 }  0)

	)

100 
	#SPLAY_LINKLEFT
(
hód
, 
tmp
, 
fõld
) do { \

101 
	`SPLAY_LEFT
(
tmp
, 
fõld
Ë(
hód
)->
•h_roŸ
; \

102 
tmp
 = (
hód
)->
•h_roŸ
; \

103 (
hód
)->
•h_roŸ
 = 
	`SPLAY_LEFT
((hód)->•h_roŸ, 
fõld
); \

104 }  0)

	)

106 
	#SPLAY_LINKRIGHT
(
hód
, 
tmp
, 
fõld
) do { \

107 
	`SPLAY_RIGHT
(
tmp
, 
fõld
Ë(
hód
)->
•h_roŸ
; \

108 
tmp
 = (
hód
)->
•h_roŸ
; \

109 (
hód
)->
•h_roŸ
 = 
	`SPLAY_RIGHT
((hód)->•h_roŸ, 
fõld
); \

110 }  0)

	)

112 
	#SPLAY_ASSEMBLE
(
hód
, 
node
, 
À·
, 
right
, 
fõld
) do { \

113 
	`SPLAY_RIGHT
(
À·
, 
fõld
Ë
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, field); \

114 
	`SPLAY_LEFT
(
right
, 
fõld
Ë
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, field); \

115 
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
Ë
	`SPLAY_RIGHT
(
node
, field); \

116 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
Ë
	`SPLAY_LEFT
(
node
, field); \

117 }  0)

	)

121 
	#SPLAY_PROTOTYPE
(
«me
, 
ty≥
, 
fõld
, 
cmp
) \

122 
«me
##
	`_SPLAY
(«mê*, 
ty≥
 *); \

123 
«me
##
	`_SPLAY_MINMAX
(name *, ); \

124 
ty≥
 *
«me
##
	`_SPLAY_INSERT
(name *, type *); \

125 
ty≥
 *
«me
##
	`_SPLAY_REMOVE
(name *, type *); \

128 
__ölöe
 
ty≥
 * \

129 
«me
##
	`_SPLAY_FIND
(«mê*
hód
, 
ty≥
 *
ñm
) \

131 i‡(
	`SPLAY_EMPTY
(
hód
)) \

132 (
NULL
); \

133 
«me
##
	`_SPLAY
(
hód
, 
ñm
); \

134 i‡((
cmp
)(
ñm
, (
hód
)->
•h_roŸ
) == 0) \

135  (
hód
->
•h_roŸ
); \

136  (
NULL
); \

139 
__ölöe
 
ty≥
 * \

140 
«me
##
	`_SPLAY_NEXT
(«mê*
hód
, 
ty≥
 *
ñm
) \

142 
«me
##
	`_SPLAY
(
hód
, 
ñm
); \

143 i‡(
	`SPLAY_RIGHT
(
ñm
, 
fõld
Ë!
NULL
) { \

144 
ñm
 = 
	`SPLAY_RIGHT
”lm, 
fõld
); \

145 
	`SPLAY_LEFT
(
ñm
, 
fõld
Ë!
NULL
) { \

146 
ñm
 = 
	`SPLAY_LEFT
”lm, 
fõld
); \

149 
ñm
 = 
NULL
; \

150  (
ñm
); \

153 
__ölöe
 
ty≥
 * \

154 
«me
##
	`_SPLAY_MIN_MAX
(«mê*
hód
, 
vÆ
) \

156 
«me
##
	`_SPLAY_MINMAX
(
hód
, 
vÆ
); \

157  (
	`SPLAY_ROOT
(
hód
)); \

158 }

	)

163 
	#SPLAY_GENERATE
(
«me
, 
ty≥
, 
fõld
, 
cmp
) \

164 
ty≥
 * \

165 
«me
##
	`_SPLAY_INSERT
(«mê*
hód
, 
ty≥
 *
ñm
) \

167 i‡(
	`SPLAY_EMPTY
(
hód
)) { \

168 
	`SPLAY_LEFT
(
ñm
, 
fõld
Ë
	`SPLAY_RIGHT
”lm, fõldË
NULL
; \

170 
__comp
; \

171 
«me
##
	`_SPLAY
(
hód
, 
ñm
); \

172 
__comp
 = (
cmp
)(
ñm
, (
hód
)->
•h_roŸ
); \

173 if(
__comp
 < 0) { \

174 
	`SPLAY_LEFT
(
ñm
, 
fõld
ËSPLAY_LEFT((
hód
)->
•h_roŸ
, field); \

175 
	`SPLAY_RIGHT
(
ñm
, 
fõld
Ë(
hód
)->
•h_roŸ
; \

176 
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
Ë
NULL
; \

177 } i‡(
__comp
 > 0) { \

178 
	`SPLAY_RIGHT
(
ñm
, 
fõld
ËSPLAY_RIGHT((
hód
)->
•h_roŸ
, field); \

179 
	`SPLAY_LEFT
(
ñm
, 
fõld
Ë(
hód
)->
•h_roŸ
; \

180 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
Ë
NULL
; \

182  ((
hód
)->
•h_roŸ
); \

184 (
hód
)->
•h_roŸ
 = (
ñm
); \

185  (
NULL
); \

188 
ty≥
 * \

189 
«me
##
	`_SPLAY_REMOVE
(«mê*
hód
, 
ty≥
 *
ñm
) \

191 
ty≥
 *
__tmp
; \

192 i‡(
	`SPLAY_EMPTY
(
hód
)) \

193  (
NULL
); \

194 
«me
##
	`_SPLAY
(
hód
, 
ñm
); \

195 i‡((
cmp
)(
ñm
, (
hód
)->
•h_roŸ
) == 0) { \

196 i‡(
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
Ë=
NULL
) { \

197 (
hód
)->
•h_roŸ
 = 
	`SPLAY_RIGHT
((hód)->•h_roŸ, 
fõld
); \

199 
__tmp
 = 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
); \

200 (
hód
)->
•h_roŸ
 = 
	`SPLAY_LEFT
((hód)->•h_roŸ, 
fõld
); \

201 
«me
##
	`_SPLAY
(
hód
, 
ñm
); \

202 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
Ë
__tmp
; \

204  (
ñm
); \

206  (
NULL
); \

210 
«me
##
	`_SPLAY
(«mê*
hód
, 
ty≥
 *
ñm
) \

212 
ty≥
 
__node
, *
__À·
, *
__right
, *
__tmp
; \

213 
__comp
; \

215 
	`SPLAY_LEFT
(&
__node
, 
fõld
Ë
	`SPLAY_RIGHT
(&__node, fõldË
NULL
; \

216 
__À·
 = 
__right
 = &
__node
; \

218 (
__comp
 = (
cmp
)(
ñm
, (
hód
)->
•h_roŸ
)) != 0) { \

219 i‡(
__comp
 < 0) { \

220 
__tmp
 = 
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
); \

221 i‡(
__tmp
 =
NULL
) \

223 i‡((
cmp
)(
ñm
, 
__tmp
) < 0){ \

224 
	`SPLAY_ROTATE_RIGHT
(
hód
, 
__tmp
, 
fõld
); \

225 i‡(
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
Ë=
NULL
) \

228 
	`SPLAY_LINKLEFT
(
hód
, 
__right
, 
fõld
); \

229 } i‡(
__comp
 > 0) { \

230 
__tmp
 = 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
); \

231 i‡(
__tmp
 =
NULL
) \

233 i‡((
cmp
)(
ñm
, 
__tmp
) > 0){ \

234 
	`SPLAY_ROTATE_LEFT
(
hód
, 
__tmp
, 
fõld
); \

235 i‡(
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
Ë=
NULL
) \

238 
	`SPLAY_LINKRIGHT
(
hód
, 
__À·
, 
fõld
); \

241 
	`SPLAY_ASSEMBLE
(
hód
, &
__node
, 
__À·
, 
__right
, 
fõld
); \

247 
«me
##
	`_SPLAY_MINMAX
(«mê*
hód
, 
__comp
) \

249 
ty≥
 
__node
, *
__À·
, *
__right
, *
__tmp
; \

251 
	`SPLAY_LEFT
(&
__node
, 
fõld
Ë
	`SPLAY_RIGHT
(&__node, fõldË
NULL
; \

252 
__À·
 = 
__right
 = &
__node
; \

255 i‡(
__comp
 < 0) { \

256 
__tmp
 = 
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
); \

257 i‡(
__tmp
 =
NULL
) \

259 i‡(
__comp
 < 0){ \

260 
	`SPLAY_ROTATE_RIGHT
(
hód
, 
__tmp
, 
fõld
); \

261 i‡(
	`SPLAY_LEFT
((
hód
)->
•h_roŸ
, 
fõld
Ë=
NULL
) \

264 
	`SPLAY_LINKLEFT
(
hód
, 
__right
, 
fõld
); \

265 } i‡(
__comp
 > 0) { \

266 
__tmp
 = 
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
); \

267 i‡(
__tmp
 =
NULL
) \

269 i‡(
__comp
 > 0) { \

270 
	`SPLAY_ROTATE_LEFT
(
hód
, 
__tmp
, 
fõld
); \

271 i‡(
	`SPLAY_RIGHT
((
hód
)->
•h_roŸ
, 
fõld
Ë=
NULL
) \

274 
	`SPLAY_LINKRIGHT
(
hód
, 
__À·
, 
fõld
); \

277 
	`SPLAY_ASSEMBLE
(
hód
, &
__node
, 
__À·
, 
__right
, 
fõld
); \

278 }

	)

280 
	#SPLAY_NEGINF
 -1

	)

281 
	#SPLAY_INF
 1

	)

283 
	#SPLAY_INSERT
(
«me
, 
x
, 
y
Ë«me##
	`_SPLAY_INSERT
(x, y)

	)

284 
	#SPLAY_REMOVE
(
«me
, 
x
, 
y
Ë«me##
	`_SPLAY_REMOVE
(x, y)

	)

285 
	#SPLAY_FIND
(
«me
, 
x
, 
y
Ë«me##
	`_SPLAY_FIND
(x, y)

	)

286 
	#SPLAY_NEXT
(
«me
, 
x
, 
y
Ë«me##
	`_SPLAY_NEXT
(x, y)

	)

287 
	#SPLAY_MIN
(
«me
, 
x
Ë(
	`SPLAY_EMPTY
(xË? 
NULL
 \

288 : 
«me
##
	`_SPLAY_MIN_MAX
(
x
, 
SPLAY_NEGINF
))

	)

289 
	#SPLAY_MAX
(
«me
, 
x
Ë(
	`SPLAY_EMPTY
(xË? 
NULL
 \

290 : 
«me
##
	`_SPLAY_MIN_MAX
(
x
, 
SPLAY_INF
))

	)

292 
	#SPLAY_FOREACH
(
x
, 
«me
, 
hód
) \

293 (
x
Ë
	`SPLAY_MIN
(
«me
, 
hód
); \

294 (
x
Ë!
NULL
; \

295 (
x
Ë
	`SPLAY_NEXT
(
«me
, 
hód
, x))

	)

298 
	#RB_HEAD
(
«me
, 
ty≥
) \

299 
	s«me
 { \

300 
ty≥
 *
rbh_roŸ
; \

301 }

	)

303 
	#RB_INITIALIZER
(
roŸ
) \

304 { 
NULL
 }

	)

306 
	#RB_INIT
(
roŸ
) do { \

307 (
roŸ
)->
rbh_roŸ
 = 
NULL
; \

308 }  0)

	)

310 
	#RB_BLACK
 0

	)

311 
	#RB_RED
 1

	)

312 
	#RB_ENTRY
(
ty≥
) \

314 
ty≥
 *
rbe_À·
; \

315 
ty≥
 *
rbe_right
; \

316 
ty≥
 *
rbe_∑ª¡
; \

317 
rbe_cﬁ‹
; \

318 }

	)

320 
	#RB_LEFT
(
ñm
, 
fõld
Ë”lm)->fõld.
rbe_À·


	)

321 
	#RB_RIGHT
(
ñm
, 
fõld
Ë”lm)->fõld.
rbe_right


	)

322 
	#RB_PARENT
(
ñm
, 
fõld
Ë”lm)->fõld.
rbe_∑ª¡


	)

323 
	#RB_COLOR
(
ñm
, 
fõld
Ë”lm)->fõld.
rbe_cﬁ‹


	)

324 
	#RB_ROOT
(
hód
Ë(hód)->
rbh_roŸ


	)

325 
	#RB_EMPTY
(
hód
Ë(
	`RB_ROOT
(hódË=
NULL
)

	)

327 
	#RB_SET
(
ñm
, 
∑ª¡
, 
fõld
) do { \

328 
	`RB_PARENT
(
ñm
, 
fõld
Ë
∑ª¡
; \

329 
	`RB_LEFT
(
ñm
, 
fõld
Ë
	`RB_RIGHT
”lm, fõldË
NULL
; \

330 
	`RB_COLOR
(
ñm
, 
fõld
Ë
RB_RED
; \

331 }  0)

	)

333 
	#RB_SET_BLACKRED
(
bœck
, 
ªd
, 
fõld
) do { \

334 
	`RB_COLOR
(
bœck
, 
fõld
Ë
RB_BLACK
; \

335 
	`RB_COLOR
(
ªd
, 
fõld
Ë
RB_RED
; \

336 }  0)

	)

338 #i‚de‡
RB_AUGMENT


339 
	#RB_AUGMENT
(
x
Ëdÿ{} 0)

	)

342 
	#RB_ROTATE_LEFT
(
hód
, 
ñm
, 
tmp
, 
fõld
) do { \

343 (
tmp
Ë
	`RB_RIGHT
(
ñm
, 
fõld
); \

344 i‡((
	`RB_RIGHT
(
ñm
, 
fõld
Ë
	`RB_LEFT
(
tmp
, fõld)Ë!
NULL
) { \

345 
	`RB_PARENT
(
	`RB_LEFT
(
tmp
, 
fõld
), fõldË(
ñm
); \

347 
	`RB_AUGMENT
(
ñm
); \

348 i‡((
	`RB_PARENT
(
tmp
, 
fõld
ËRB_PARENT(
ñm
, fõld)Ë!
NULL
) { \

349 i‡((
ñm
Ë=
	`RB_LEFT
(
	`RB_PARENT
”lm, 
fõld
), field)) \

350 
	`RB_LEFT
(
	`RB_PARENT
(
ñm
, 
fõld
), fõldË(
tmp
); \

352 
	`RB_RIGHT
(
	`RB_PARENT
(
ñm
, 
fõld
), fõldË(
tmp
); \

354 (
hód
)->
rbh_roŸ
 = (
tmp
); \

355 
	`RB_LEFT
(
tmp
, 
fõld
Ë(
ñm
); \

356 
	`RB_PARENT
(
ñm
, 
fõld
Ë(
tmp
); \

357 
	`RB_AUGMENT
(
tmp
); \

358 i‡((
	`RB_PARENT
(
tmp
, 
fõld
))) \

359 
	`RB_AUGMENT
(
	`RB_PARENT
(
tmp
, 
fõld
)); \

360 }  0)

	)

362 
	#RB_ROTATE_RIGHT
(
hód
, 
ñm
, 
tmp
, 
fõld
) do { \

363 (
tmp
Ë
	`RB_LEFT
(
ñm
, 
fõld
); \

364 i‡((
	`RB_LEFT
(
ñm
, 
fõld
Ë
	`RB_RIGHT
(
tmp
, fõld)Ë!
NULL
) { \

365 
	`RB_PARENT
(
	`RB_RIGHT
(
tmp
, 
fõld
), fõldË(
ñm
); \

367 
	`RB_AUGMENT
(
ñm
); \

368 i‡((
	`RB_PARENT
(
tmp
, 
fõld
ËRB_PARENT(
ñm
, fõld)Ë!
NULL
) { \

369 i‡((
ñm
Ë=
	`RB_LEFT
(
	`RB_PARENT
”lm, 
fõld
), field)) \

370 
	`RB_LEFT
(
	`RB_PARENT
(
ñm
, 
fõld
), fõldË(
tmp
); \

372 
	`RB_RIGHT
(
	`RB_PARENT
(
ñm
, 
fõld
), fõldË(
tmp
); \

374 (
hód
)->
rbh_roŸ
 = (
tmp
); \

375 
	`RB_RIGHT
(
tmp
, 
fõld
Ë(
ñm
); \

376 
	`RB_PARENT
(
ñm
, 
fõld
Ë(
tmp
); \

377 
	`RB_AUGMENT
(
tmp
); \

378 i‡((
	`RB_PARENT
(
tmp
, 
fõld
))) \

379 
	`RB_AUGMENT
(
	`RB_PARENT
(
tmp
, 
fõld
)); \

380 }  0)

	)

383 
	#RB_PROTOTYPE
(
«me
, 
ty≥
, 
fõld
, 
cmp
) \

384 
	`RB_PROTOTYPE_INTERNAL
(
«me
, 
ty≥
, 
fõld
, 
cmp
,)

	)

385 
	#RB_PROTOTYPE_STATIC
(
«me
, 
ty≥
, 
fõld
, 
cmp
) \

386 
	`RB_PROTOTYPE_INTERNAL
(
«me
, 
ty≥
, 
fõld
, 
cmp
, 
UV__UNUSED
 )

	)

387 
	#RB_PROTOTYPE_INTERNAL
(
«me
, 
ty≥
, 
fõld
, 
cmp
, 
©å
) \

388 
©å
 
«me
##
	`_RB_INSERT_COLOR
(«mê*, 
ty≥
 *); \

389 
©å
 
«me
##
	`_RB_REMOVE_COLOR
(«mê*, 
ty≥
 *, type *);\

390 
©å
 
ty≥
 *
«me
##
	`_RB_REMOVE
(name *, type *); \

391 
©å
 
ty≥
 *
«me
##
	`_RB_INSERT
(name *, type *); \

392 
©å
 
ty≥
 *
«me
##
	`_RB_FIND
(name *, type *); \

393 
©å
 
ty≥
 *
«me
##
	`_RB_NFIND
(name *, type *); \

394 
©å
 
ty≥
 *
«me
##
	`_RB_NEXT
(type *); \

395 
©å
 
ty≥
 *
«me
##
	`_RB_PREV
(type *); \

396 
©å
 
ty≥
 *
«me
##
	`_RB_MINMAX
(name *, ); \

398 

	)

402 
	#RB_GENERATE
(
«me
, 
ty≥
, 
fõld
, 
cmp
) \

403 
	`RB_GENERATE_INTERNAL
(
«me
, 
ty≥
, 
fõld
, 
cmp
,)

	)

404 
	#RB_GENERATE_STATIC
(
«me
, 
ty≥
, 
fõld
, 
cmp
) \

405 
	`RB_GENERATE_INTERNAL
(
«me
, 
ty≥
, 
fõld
, 
cmp
, 
UV__UNUSED
 )

	)

406 
	#RB_GENERATE_INTERNAL
(
«me
, 
ty≥
, 
fõld
, 
cmp
, 
©å
) \

407 
©å
 \

408 
«me
##
	`_RB_INSERT_COLOR
(«mê*
hód
, 
ty≥
 *
ñm
) \

410 
ty≥
 *
∑ª¡
, *
g∑ª¡
, *
tmp
; \

411 (
∑ª¡
 = 
	`RB_PARENT
(
ñm
, 
fõld
)Ë!
NULL
 && \

412 
	`RB_COLOR
(
∑ª¡
, 
fõld
Ë=
RB_RED
) { \

413 
g∑ª¡
 = 
	`RB_PARENT
(
∑ª¡
, 
fõld
); \

414 i‡(
∑ª¡
 =
	`RB_LEFT
(
g∑ª¡
, 
fõld
)) { \

415 
tmp
 = 
	`RB_RIGHT
(
g∑ª¡
, 
fõld
); \

416 i‡(
tmp
 && 
	`RB_COLOR
—mp, 
fõld
Ë=
RB_RED
) { \

417 
	`RB_COLOR
(
tmp
, 
fõld
Ë
RB_BLACK
; \

418 
	`RB_SET_BLACKRED
(
∑ª¡
, 
g∑ª¡
, 
fõld
); \

419 
ñm
 = 
g∑ª¡
; \

422 i‡(
	`RB_RIGHT
(
∑ª¡
, 
fõld
Ë=
ñm
) { \

423 
	`RB_ROTATE_LEFT
(
hód
, 
∑ª¡
, 
tmp
, 
fõld
); \

424 
tmp
 = 
∑ª¡
; \

425 
∑ª¡
 = 
ñm
; \

426 
ñm
 = 
tmp
; \

428 
	`RB_SET_BLACKRED
(
∑ª¡
, 
g∑ª¡
, 
fõld
); \

429 
	`RB_ROTATE_RIGHT
(
hód
, 
g∑ª¡
, 
tmp
, 
fõld
); \

431 
tmp
 = 
	`RB_LEFT
(
g∑ª¡
, 
fõld
); \

432 i‡(
tmp
 && 
	`RB_COLOR
—mp, 
fõld
Ë=
RB_RED
) { \

433 
	`RB_COLOR
(
tmp
, 
fõld
Ë
RB_BLACK
; \

434 
	`RB_SET_BLACKRED
(
∑ª¡
, 
g∑ª¡
, 
fõld
); \

435 
ñm
 = 
g∑ª¡
; \

438 i‡(
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë=
ñm
) { \

439 
	`RB_ROTATE_RIGHT
(
hód
, 
∑ª¡
, 
tmp
, 
fõld
); \

440 
tmp
 = 
∑ª¡
; \

441 
∑ª¡
 = 
ñm
; \

442 
ñm
 = 
tmp
; \

444 
	`RB_SET_BLACKRED
(
∑ª¡
, 
g∑ª¡
, 
fõld
); \

445 
	`RB_ROTATE_LEFT
(
hód
, 
g∑ª¡
, 
tmp
, 
fõld
); \

448 
	`RB_COLOR
(
hód
->
rbh_roŸ
, 
fõld
Ë
RB_BLACK
; \

451 
©å
 \

452 
«me
##
	`_RB_REMOVE_COLOR
(«mê*
hód
, 
ty≥
 *
∑ª¡
, \

453 
ty≥
 *
ñm
) \

455 
ty≥
 *
tmp
; \

456 (
ñm
 =
NULL
 || 
	`RB_COLOR
”lm, 
fõld
Ë=
RB_BLACK
) && \

457 
ñm
 !
	`RB_ROOT
(
hód
)) { \

458 i‡(
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë=
ñm
) { \

459 
tmp
 = 
	`RB_RIGHT
(
∑ª¡
, 
fõld
); \

460 i‡(
	`RB_COLOR
(
tmp
, 
fõld
Ë=
RB_RED
) { \

461 
	`RB_SET_BLACKRED
(
tmp
, 
∑ª¡
, 
fõld
); \

462 
	`RB_ROTATE_LEFT
(
hód
, 
∑ª¡
, 
tmp
, 
fõld
); \

463 
tmp
 = 
	`RB_RIGHT
(
∑ª¡
, 
fõld
); \

465 i‡((
	`RB_LEFT
(
tmp
, 
fõld
Ë=
NULL
 || \

466 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
fõld
), fõldË=
RB_BLACK
) && \

467 (
	`RB_RIGHT
(
tmp
, 
fõld
Ë=
NULL
 || \

468 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
fõld
), fõldË=
RB_BLACK
)) { \

469 
	`RB_COLOR
(
tmp
, 
fõld
Ë
RB_RED
; \

470 
ñm
 = 
∑ª¡
; \

471 
∑ª¡
 = 
	`RB_PARENT
(
ñm
, 
fõld
); \

473 i‡(
	`RB_RIGHT
(
tmp
, 
fõld
Ë=
NULL
 || \

474 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
fõld
), fõldË=
RB_BLACK
) { \

475 
ty≥
 *
ﬁe·
; \

476 i‡((
ﬁe·
 = 
	`RB_LEFT
(
tmp
, 
fõld
)) \

477 !
NULL
) \

478 
	`RB_COLOR
(
ﬁe·
, 
fõld
Ë
RB_BLACK
; \

479 
	`RB_COLOR
(
tmp
, 
fõld
Ë
RB_RED
; \

480 
	`RB_ROTATE_RIGHT
(
hód
, 
tmp
, 
ﬁe·
, 
fõld
); \

481 
tmp
 = 
	`RB_RIGHT
(
∑ª¡
, 
fõld
); \

483 
	`RB_COLOR
(
tmp
, 
fõld
ËRB_COLOR(
∑ª¡
, field); \

484 
	`RB_COLOR
(
∑ª¡
, 
fõld
Ë
RB_BLACK
; \

485 i‡(
	`RB_RIGHT
(
tmp
, 
fõld
)) \

486 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
fõld
), fõldË
RB_BLACK
; \

487 
	`RB_ROTATE_LEFT
(
hód
, 
∑ª¡
, 
tmp
, 
fõld
); \

488 
ñm
 = 
	`RB_ROOT
(
hód
); \

492 
tmp
 = 
	`RB_LEFT
(
∑ª¡
, 
fõld
); \

493 i‡(
	`RB_COLOR
(
tmp
, 
fõld
Ë=
RB_RED
) { \

494 
	`RB_SET_BLACKRED
(
tmp
, 
∑ª¡
, 
fõld
); \

495 
	`RB_ROTATE_RIGHT
(
hód
, 
∑ª¡
, 
tmp
, 
fõld
); \

496 
tmp
 = 
	`RB_LEFT
(
∑ª¡
, 
fõld
); \

498 i‡((
	`RB_LEFT
(
tmp
, 
fõld
Ë=
NULL
 || \

499 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
fõld
), fõldË=
RB_BLACK
) && \

500 (
	`RB_RIGHT
(
tmp
, 
fõld
Ë=
NULL
 || \

501 
	`RB_COLOR
(
	`RB_RIGHT
(
tmp
, 
fõld
), fõldË=
RB_BLACK
)) { \

502 
	`RB_COLOR
(
tmp
, 
fõld
Ë
RB_RED
; \

503 
ñm
 = 
∑ª¡
; \

504 
∑ª¡
 = 
	`RB_PARENT
(
ñm
, 
fõld
); \

506 i‡(
	`RB_LEFT
(
tmp
, 
fõld
Ë=
NULL
 || \

507 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
fõld
), fõldË=
RB_BLACK
) { \

508 
ty≥
 *
‹ight
; \

509 i‡((
‹ight
 = 
	`RB_RIGHT
(
tmp
, 
fõld
)) \

510 !
NULL
) \

511 
	`RB_COLOR
(
‹ight
, 
fõld
Ë
RB_BLACK
; \

512 
	`RB_COLOR
(
tmp
, 
fõld
Ë
RB_RED
; \

513 
	`RB_ROTATE_LEFT
(
hód
, 
tmp
, 
‹ight
, 
fõld
); \

514 
tmp
 = 
	`RB_LEFT
(
∑ª¡
, 
fõld
); \

516 
	`RB_COLOR
(
tmp
, 
fõld
ËRB_COLOR(
∑ª¡
, field); \

517 
	`RB_COLOR
(
∑ª¡
, 
fõld
Ë
RB_BLACK
; \

518 i‡(
	`RB_LEFT
(
tmp
, 
fõld
)) \

519 
	`RB_COLOR
(
	`RB_LEFT
(
tmp
, 
fõld
), fõldË
RB_BLACK
; \

520 
	`RB_ROTATE_RIGHT
(
hód
, 
∑ª¡
, 
tmp
, 
fõld
); \

521 
ñm
 = 
	`RB_ROOT
(
hód
); \

526 i‡(
ñm
) \

527 
	`RB_COLOR
(
ñm
, 
fõld
Ë
RB_BLACK
; \

530 
©å
 
ty≥
 * \

531 
«me
##
	`_RB_REMOVE
(«mê*
hód
, 
ty≥
 *
ñm
) \

533 
ty≥
 *
chûd
, *
∑ª¡
, *
ﬁd
 = 
ñm
; \

534 
cﬁ‹
; \

535 i‡(
	`RB_LEFT
(
ñm
, 
fõld
Ë=
NULL
) \

536 
chûd
 = 
	`RB_RIGHT
(
ñm
, 
fõld
); \

537 i‡(
	`RB_RIGHT
(
ñm
, 
fõld
Ë=
NULL
) \

538 
chûd
 = 
	`RB_LEFT
(
ñm
, 
fõld
); \

540 
ty≥
 *
À·
; \

541 
ñm
 = 
	`RB_RIGHT
”lm, 
fõld
); \

542 (
À·
 = 
	`RB_LEFT
(
ñm
, 
fõld
)Ë!
NULL
) \

543 
ñm
 = 
À·
; \

544 
chûd
 = 
	`RB_RIGHT
(
ñm
, 
fõld
); \

545 
∑ª¡
 = 
	`RB_PARENT
(
ñm
, 
fõld
); \

546 
cﬁ‹
 = 
	`RB_COLOR
(
ñm
, 
fõld
); \

547 i‡(
chûd
) \

548 
	`RB_PARENT
(
chûd
, 
fõld
Ë
∑ª¡
; \

549 i‡(
∑ª¡
) { \

550 i‡(
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë=
ñm
) \

551 
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë
chûd
; \

553 
	`RB_RIGHT
(
∑ª¡
, 
fõld
Ë
chûd
; \

554 
	`RB_AUGMENT
(
∑ª¡
); \

556 
	`RB_ROOT
(
hód
Ë
chûd
; \

557 i‡(
	`RB_PARENT
(
ñm
, 
fõld
Ë=
ﬁd
) \

558 
∑ª¡
 = 
ñm
; \

559 (
ñm
)->
fõld
 = (
ﬁd
)->field; \

560 i‡(
	`RB_PARENT
(
ﬁd
, 
fõld
)) { \

561 i‡(
	`RB_LEFT
(
	`RB_PARENT
(
ﬁd
, 
fõld
), field) == old) \

562 
	`RB_LEFT
(
	`RB_PARENT
(
ﬁd
, 
fõld
), fõldË
ñm
; \

564 
	`RB_RIGHT
(
	`RB_PARENT
(
ﬁd
, 
fõld
), fõldË
ñm
; \

565 
	`RB_AUGMENT
(
	`RB_PARENT
(
ﬁd
, 
fõld
)); \

567 
	`RB_ROOT
(
hód
Ë
ñm
; \

568 
	`RB_PARENT
(
	`RB_LEFT
(
ﬁd
, 
fõld
), fõldË
ñm
; \

569 i‡(
	`RB_RIGHT
(
ﬁd
, 
fõld
)) \

570 
	`RB_PARENT
(
	`RB_RIGHT
(
ﬁd
, 
fõld
), fõldË
ñm
; \

571 i‡(
∑ª¡
) { \

572 
À·
 = 
∑ª¡
; \

574 
	`RB_AUGMENT
(
À·
); \

575 } (
À·
 = 
	`RB_PARENT
÷e·, 
fõld
)Ë!
NULL
); \

577 
cﬁ‹
; \

579 
∑ª¡
 = 
	`RB_PARENT
(
ñm
, 
fõld
); \

580 
cﬁ‹
 = 
	`RB_COLOR
(
ñm
, 
fõld
); \

581 i‡(
chûd
) \

582 
	`RB_PARENT
(
chûd
, 
fõld
Ë
∑ª¡
; \

583 i‡(
∑ª¡
) { \

584 i‡(
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë=
ñm
) \

585 
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë
chûd
; \

587 
	`RB_RIGHT
(
∑ª¡
, 
fõld
Ë
chûd
; \

588 
	`RB_AUGMENT
(
∑ª¡
); \

590 
	`RB_ROOT
(
hód
Ë
chûd
; \

591 
cﬁ‹
: \

592 i‡(
cﬁ‹
 =
RB_BLACK
) \

593 
«me
##
	`_RB_REMOVE_COLOR
(
hód
, 
∑ª¡
, 
chûd
); \

594  (
ﬁd
); \

598 
©å
 
ty≥
 * \

599 
«me
##
	`_RB_INSERT
(«mê*
hód
, 
ty≥
 *
ñm
) \

601 
ty≥
 *
tmp
; \

602 
ty≥
 *
∑ª¡
 = 
NULL
; \

603 
comp
 = 0; \

604 
tmp
 = 
	`RB_ROOT
(
hód
); \

605 
tmp
) { \

606 
∑ª¡
 = 
tmp
; \

607 
comp
 = (
cmp
)(
ñm
, 
∑ª¡
); \

608 i‡(
comp
 < 0) \

609 
tmp
 = 
	`RB_LEFT
—mp, 
fõld
); \

610 i‡(
comp
 > 0) \

611 
tmp
 = 
	`RB_RIGHT
—mp, 
fõld
); \

613  (
tmp
); \

615 
	`RB_SET
(
ñm
, 
∑ª¡
, 
fõld
); \

616 i‡(
∑ª¡
 !
NULL
) { \

617 i‡(
comp
 < 0) \

618 
	`RB_LEFT
(
∑ª¡
, 
fõld
Ë
ñm
; \

620 
	`RB_RIGHT
(
∑ª¡
, 
fõld
Ë
ñm
; \

621 
	`RB_AUGMENT
(
∑ª¡
); \

623 
	`RB_ROOT
(
hód
Ë
ñm
; \

624 
«me
##
	`_RB_INSERT_COLOR
(
hód
, 
ñm
); \

625  (
NULL
); \

629 
©å
 
ty≥
 * \

630 
«me
##
	`_RB_FIND
(«mê*
hód
, 
ty≥
 *
ñm
) \

632 
ty≥
 *
tmp
 = 
	`RB_ROOT
(
hód
); \

633 
comp
; \

634 
tmp
) { \

635 
comp
 = 
	`cmp
(
ñm
, 
tmp
); \

636 i‡(
comp
 < 0) \

637 
tmp
 = 
	`RB_LEFT
—mp, 
fõld
); \

638 i‡(
comp
 > 0) \

639 
tmp
 = 
	`RB_RIGHT
—mp, 
fõld
); \

641  (
tmp
); \

643  (
NULL
); \

647 
©å
 
ty≥
 * \

648 
«me
##
	`_RB_NFIND
(«mê*
hód
, 
ty≥
 *
ñm
) \

650 
ty≥
 *
tmp
 = 
	`RB_ROOT
(
hód
); \

651 
ty≥
 *
ªs
 = 
NULL
; \

652 
comp
; \

653 
tmp
) { \

654 
comp
 = 
	`cmp
(
ñm
, 
tmp
); \

655 i‡(
comp
 < 0) { \

656 
ªs
 = 
tmp
; \

657 
tmp
 = 
	`RB_LEFT
—mp, 
fõld
); \

659 i‡(
comp
 > 0) \

660 
tmp
 = 
	`RB_RIGHT
—mp, 
fõld
); \

662  (
tmp
); \

664  (
ªs
); \

668 
©å
 
ty≥
 * \

669 
«me
##
	`_RB_NEXT
(
ty≥
 *
ñm
) \

671 i‡(
	`RB_RIGHT
(
ñm
, 
fõld
)) { \

672 
ñm
 = 
	`RB_RIGHT
”lm, 
fõld
); \

673 
	`RB_LEFT
(
ñm
, 
fõld
)) \

674 
ñm
 = 
	`RB_LEFT
”lm, 
fõld
); \

676 i‡(
	`RB_PARENT
(
ñm
, 
fõld
) && \

677 (
ñm
 =
	`RB_LEFT
(
	`RB_PARENT
”lm, 
fõld
), field))) \

678 
ñm
 = 
	`RB_PARENT
”lm, 
fõld
); \

680 
	`RB_PARENT
(
ñm
, 
fõld
) && \

681 (
ñm
 =
	`RB_RIGHT
(
	`RB_PARENT
”lm, 
fõld
), field))) \

682 
ñm
 = 
	`RB_PARENT
”lm, 
fõld
); \

683 
ñm
 = 
	`RB_PARENT
”lm, 
fõld
); \

686  (
ñm
); \

690 
©å
 
ty≥
 * \

691 
«me
##
	`_RB_PREV
(
ty≥
 *
ñm
) \

693 i‡(
	`RB_LEFT
(
ñm
, 
fõld
)) { \

694 
ñm
 = 
	`RB_LEFT
”lm, 
fõld
); \

695 
	`RB_RIGHT
(
ñm
, 
fõld
)) \

696 
ñm
 = 
	`RB_RIGHT
”lm, 
fõld
); \

698 i‡(
	`RB_PARENT
(
ñm
, 
fõld
) && \

699 (
ñm
 =
	`RB_RIGHT
(
	`RB_PARENT
”lm, 
fõld
), field))) \

700 
ñm
 = 
	`RB_PARENT
”lm, 
fõld
); \

702 
	`RB_PARENT
(
ñm
, 
fõld
) && \

703 (
ñm
 =
	`RB_LEFT
(
	`RB_PARENT
”lm, 
fõld
), field))) \

704 
ñm
 = 
	`RB_PARENT
”lm, 
fõld
); \

705 
ñm
 = 
	`RB_PARENT
”lm, 
fõld
); \

708  (
ñm
); \

711 
©å
 
ty≥
 * \

712 
«me
##
	`_RB_MINMAX
(«mê*
hód
, 
vÆ
) \

714 
ty≥
 *
tmp
 = 
	`RB_ROOT
(
hód
); \

715 
ty≥
 *
∑ª¡
 = 
NULL
; \

716 
tmp
) { \

717 
∑ª¡
 = 
tmp
; \

718 i‡(
vÆ
 < 0) \

719 
tmp
 = 
	`RB_LEFT
—mp, 
fõld
); \

721 
tmp
 = 
	`RB_RIGHT
—mp, 
fõld
); \

723  (
∑ª¡
); \

724 }

	)

726 
	#RB_NEGINF
 -1

	)

727 
	#RB_INF
 1

	)

729 
	#RB_INSERT
(
«me
, 
x
, 
y
Ë«me##
	`_RB_INSERT
(x, y)

	)

730 
	#RB_REMOVE
(
«me
, 
x
, 
y
Ë«me##
	`_RB_REMOVE
(x, y)

	)

731 
	#RB_FIND
(
«me
, 
x
, 
y
Ë«me##
	`_RB_FIND
(x, y)

	)

732 
	#RB_NFIND
(
«me
, 
x
, 
y
Ë«me##
	`_RB_NFIND
(x, y)

	)

733 
	#RB_NEXT
(
«me
, 
x
, 
y
Ë«me##
	`_RB_NEXT
(y)

	)

734 
	#RB_PREV
(
«me
, 
x
, 
y
Ë«me##
	`_RB_PREV
(y)

	)

735 
	#RB_MIN
(
«me
, 
x
Ë«me##
	`_RB_MINMAX
(x, 
RB_NEGINF
)

	)

736 
	#RB_MAX
(
«me
, 
x
Ë«me##
	`_RB_MINMAX
(x, 
RB_INF
)

	)

738 
	#RB_FOREACH
(
x
, 
«me
, 
hód
) \

739 (
x
Ë
	`RB_MIN
(
«me
, 
hód
); \

740 (
x
Ë!
NULL
; \

741 (
x
Ë
«me
##
	`_RB_NEXT
(x))

	)

743 
	#RB_FOREACH_FROM
(
x
, 
«me
, 
y
) \

744 (
x
Ë(
y
); \

745 ((
x
Ë!
NULL
Ë&& ((
y
Ë
«me
##
	`_RB_NEXT
(x), (x) != NULL); \

746 (
x
Ë(
y
))

	)

748 
	#RB_FOREACH_SAFE
(
x
, 
«me
, 
hód
, 
y
) \

749 (
x
Ë
	`RB_MIN
(
«me
, 
hód
); \

750 ((
x
Ë!
NULL
Ë&& ((
y
Ë
«me
##
	`_RB_NEXT
(x), (x) != NULL); \

751 (
x
Ë(
y
))

	)

753 
	#RB_FOREACH_REVERSE
(
x
, 
«me
, 
hód
) \

754 (
x
Ë
	`RB_MAX
(
«me
, 
hód
); \

755 (
x
Ë!
NULL
; \

756 (
x
Ë
«me
##
	`_RB_PREV
(x))

	)

758 
	#RB_FOREACH_REVERSE_FROM
(
x
, 
«me
, 
y
) \

759 (
x
Ë(
y
); \

760 ((
x
Ë!
NULL
Ë&& ((
y
Ë
«me
##
	`_RB_PREV
(x), (x) != NULL); \

761 (
x
Ë(
y
))

	)

763 
	#RB_FOREACH_REVERSE_SAFE
(
x
, 
«me
, 
hód
, 
y
) \

764 (
x
Ë
	`RB_MAX
(
«me
, 
hód
); \

765 ((
x
Ë!
NULL
Ë&& ((
y
Ë
«me
##
	`_RB_PREV
(x), (x) != NULL); \

766 (
x
Ë(
y
))

	)

	@deps/libtuv/include/tuv__debuglog.h

16 #i‚de‡
__tuv_debuglog_hódî__


17 
	#__tuv_debuglog_hódî__


	)

20 #ifde‡
ENABLE_DEBUG_LOG


22 
	~<°dio.h
>

24 #i‡
deföed
(
DEBUG
)

25 
	#ABORT
() \

27 
	`TDLOG
("!!!!! ABORT !!!!!"); \

28 
	`exô
(-1); \

29 } 0)

	)

31 
	#ABORT
(Ë
	`ab‹t
()

	)

35 #ifde‡
__˝lu•lus


40 
tuv_debug_Àvñ
;

41 
FILE
 *
tuv_log_°ªam
;

42 c⁄° * 
tuv_debug_¥efix
[4];

44 
	#TDBGLEV_ERR
 1

	)

45 
	#TDBGLEV_WARN
 2

	)

46 
	#TDBGLEV_INFO
 3

	)

48 
	#TUV_DLOG
(
lvl
, ...) \

50 
îrback
 = 
î∫o
; \

51 i‡(0 <
lvl
 &&Üv»<
tuv_debug_Àvñ
 && 
tuv_log_°ªam
) { \

52 
	`Ârötf
(
tuv_log_°ªam
, "[%s] ", 
tuv_debug_¥efix
[
lvl
]); \

53 
	`Ârötf
(
tuv_log_°ªam
, 
__VA_ARGS__
); \

54 
	`Ârötf
(
tuv_log_°ªam
, "\r\n"); \

55 
	`fÊush
(
tuv_log_°ªam
); \

57 
î∫o
 = 
îrback
; \

58 } 0)

	)

59 
	#TDLOG
(...Ë
	`TUV_DLOG
(
TDBGLEV_ERR
, 
__VA_ARGS__
)

	)

60 
	#TDDLOG
(...Ë
	`TUV_DLOG
(
TDBGLEV_WARN
, 
__VA_ARGS__
)

	)

61 
	#TDDDLOG
(...Ë
	`TUV_DLOG
(
TDBGLEV_INFO
, 
__VA_ARGS__
)

	)

70 #ifde‡
__˝lu•lus


78 #ifde‡
__˝lu•lus


82 
	#ABORT
()

	)

83 
	#TUV_DLOG
(...)

	)

84 
	#TDLOG
(...)

	)

85 
	#TDDLOG
(...)

	)

86 
	#TDDDLOG
(...)

	)

89 #ifde‡
__˝lu•lus


97 #ifde‡
__˝lu•lus


102 
InôDebugSëtögs
();

103 
Rñó£DebugSëtögs
();

106 #ifde‡
__˝lu•lus


	@deps/libtuv/include/uv-aix.h

22 #i‚de‡
UV_AIX_H


23 
	#UV_AIX_H


	)

25 
	#UV_PLATFORM_LOOP_FIELDS
 \

26 
fs_fd
; \

27 

	)

28 
	#UV_PLATFORM_FS_EVENT_FIELDS
 \

29 
uv__io_t
 
evít_w©chî
; \

30 *
dú_fûíame
; \

31 

	)

	@deps/libtuv/include/uv-bsd.h

22 #i‚de‡
UV_BSD_H


23 
	#UV_BSD_H


	)

25 
	#UV_PLATFORM_FS_EVENT_FIELDS
 \

26 
uv__io_t
 
evít_w©chî
; \

27 

	)

28 
	#UV_IO_PRIVATE_PLATFORM_FIELDS
 \

29 
rcou¡
; \

30 
wcou¡
; \

31 

	)

32 
	#UV_HAVE_KQUEUE
 1

	)

	@deps/libtuv/include/uv-darwin.h

22 #i‚de‡
UV_DARWIN_H


23 
	#UV_DARWIN_H


	)

25 #i‡
deföed
(
__APPLE__
Ë&& deföed(
__MACH__
)

26 
	~<mach/mach.h
>

27 
	~<mach/èsk.h
>

28 
	~<mach/£m≠h‹e.h
>

29 
	~<T¨gëC⁄dôi⁄Æs.h
>

30 
	#UV_PLATFORM_SEM_T
 
£m≠h‹e_t


	)

33 
	#UV_IO_PRIVATE_PLATFORM_FIELDS
 \

34 
rcou¡
; \

35 
wcou¡
; \

36 

	)

37 
	#UV_PLATFORM_LOOP_FIELDS
 \

38 
uv_thªad_t
 
cf_thªad
; \

39 * 
_cf_ª£rved
; \

40 * 
cf_°©e
; \

41 
uv_muãx_t
 
cf_muãx
; \

42 
uv_£m_t
 
cf_£m
; \

43 * 
cf_sig«ls
[2]; \

44 

	)

45 
	#UV_PLATFORM_FS_EVENT_FIELDS
 \

46 
uv__io_t
 
evít_w©chî
; \

47 * 
ªÆ∑th
; \

48 
ªÆ∑th_Àn
; \

49 
cf_Êags
; \

50 
uv_async_t
* 
cf_cb
; \

51 * 
cf_evíts
[2]; \

52 * 
cf_membî
[2]; \

53 
cf_îr‹
; \

54 
uv_muãx_t
 
cf_muãx
; \

55 

	)

56 
	#UV_STREAM_PRIVATE_PLATFORM_FIELDS
 \

57 * 
£À˘
; \

58 

	)

59 
	#UV_HAVE_KQUEUE
 1

	)

	@deps/libtuv/include/uv-errno.h

22 #i‚de‡
UV_ERRNO_H_


23 
	#UV_ERRNO_H_


	)

25 
	~<î∫o.h
>

27 
	#UV__EOF
 (-4095)

	)

28 
	#UV__UNKNOWN
 (-4094)

	)

30 
	#UV__EAI_ADDRFAMILY
 (-3000)

	)

31 
	#UV__EAI_AGAIN
 (-3001)

	)

32 
	#UV__EAI_BADFLAGS
 (-3002)

	)

33 
	#UV__EAI_CANCELED
 (-3003)

	)

34 
	#UV__EAI_FAIL
 (-3004)

	)

35 
	#UV__EAI_FAMILY
 (-3005)

	)

36 
	#UV__EAI_MEMORY
 (-3006)

	)

37 
	#UV__EAI_NODATA
 (-3007)

	)

38 
	#UV__EAI_NONAME
 (-3008)

	)

39 
	#UV__EAI_OVERFLOW
 (-3009)

	)

40 
	#UV__EAI_SERVICE
 (-3010)

	)

41 
	#UV__EAI_SOCKTYPE
 (-3011)

	)

42 
	#UV__EAI_BADHINTS
 (-3013)

	)

43 
	#UV__EAI_PROTOCOL
 (-3014)

	)

48 #i‡
deföed
(
E2BIG
Ë&& !deföed(
_WIN32
)

49 
	#UV__E2BIG
 (-
E2BIG
)

	)

51 
	#UV__E2BIG
 (-4093)

	)

54 #i‡
deföed
(
EACCES
Ë&& !deföed(
_WIN32
)

55 
	#UV__EACCES
 (-
EACCES
)

	)

57 
	#UV__EACCES
 (-4092)

	)

60 #i‡
deföed
(
EADDRINUSE
Ë&& !deföed(
_WIN32
)

61 
	#UV__EADDRINUSE
 (-
EADDRINUSE
)

	)

63 
	#UV__EADDRINUSE
 (-4091)

	)

66 #i‡
deföed
(
EADDRNOTAVAIL
Ë&& !deföed(
_WIN32
)

67 
	#UV__EADDRNOTAVAIL
 (-
EADDRNOTAVAIL
)

	)

69 
	#UV__EADDRNOTAVAIL
 (-4090)

	)

72 #i‡
deföed
(
EAFNOSUPPORT
Ë&& !deföed(
_WIN32
)

73 
	#UV__EAFNOSUPPORT
 (-
EAFNOSUPPORT
)

	)

75 
	#UV__EAFNOSUPPORT
 (-4089)

	)

78 #i‡
deföed
(
EAGAIN
Ë&& !deföed(
_WIN32
)

79 
	#UV__EAGAIN
 (-
EAGAIN
)

	)

81 
	#UV__EAGAIN
 (-4088)

	)

84 #i‡
deföed
(
EALREADY
Ë&& !deföed(
_WIN32
)

85 
	#UV__EALREADY
 (-
EALREADY
)

	)

87 
	#UV__EALREADY
 (-4084)

	)

90 #i‡
deföed
(
EBADF
Ë&& !deföed(
_WIN32
)

91 
	#UV__EBADF
 (-
EBADF
)

	)

93 
	#UV__EBADF
 (-4083)

	)

96 #i‡
deföed
(
EBUSY
Ë&& !deföed(
_WIN32
)

97 
	#UV__EBUSY
 (-
EBUSY
)

	)

99 
	#UV__EBUSY
 (-4082)

	)

102 #i‡
deföed
(
ECANCELED
Ë&& !deföed(
_WIN32
)

103 
	#UV__ECANCELED
 (-
ECANCELED
)

	)

105 
	#UV__ECANCELED
 (-4081)

	)

108 #i‡
deföed
(
ECHARSET
Ë&& !deföed(
_WIN32
)

109 
	#UV__ECHARSET
 (-
ECHARSET
)

	)

111 
	#UV__ECHARSET
 (-4080)

	)

114 #i‡
deföed
(
ECONNABORTED
Ë&& !deföed(
_WIN32
)

115 
	#UV__ECONNABORTED
 (-
ECONNABORTED
)

	)

117 
	#UV__ECONNABORTED
 (-4079)

	)

120 #i‡
deföed
(
ECONNREFUSED
Ë&& !deföed(
_WIN32
)

121 
	#UV__ECONNREFUSED
 (-
ECONNREFUSED
)

	)

123 
	#UV__ECONNREFUSED
 (-4078)

	)

126 #i‡
deföed
(
ECONNRESET
Ë&& !deföed(
_WIN32
)

127 
	#UV__ECONNRESET
 (-
ECONNRESET
)

	)

129 
	#UV__ECONNRESET
 (-4077)

	)

132 #i‡
deföed
(
EDESTADDRREQ
Ë&& !deföed(
_WIN32
)

133 
	#UV__EDESTADDRREQ
 (-
EDESTADDRREQ
)

	)

135 
	#UV__EDESTADDRREQ
 (-4076)

	)

138 #i‡
deföed
(
EEXIST
Ë&& !deföed(
_WIN32
)

139 
	#UV__EEXIST
 (-
EEXIST
)

	)

141 
	#UV__EEXIST
 (-4075)

	)

144 #i‡
deföed
(
EFAULT
Ë&& !deföed(
_WIN32
)

145 
	#UV__EFAULT
 (-
EFAULT
)

	)

147 
	#UV__EFAULT
 (-4074)

	)

150 #i‡
deföed
(
EHOSTUNREACH
Ë&& !deföed(
_WIN32
)

151 
	#UV__EHOSTUNREACH
 (-
EHOSTUNREACH
)

	)

153 
	#UV__EHOSTUNREACH
 (-4073)

	)

156 #i‡
deföed
(
EINTR
Ë&& !deföed(
_WIN32
)

157 
	#UV__EINTR
 (-
EINTR
)

	)

159 
	#UV__EINTR
 (-4072)

	)

162 #i‡
deföed
(
EINVAL
Ë&& !deföed(
_WIN32
)

163 
	#UV__EINVAL
 (-
EINVAL
)

	)

165 
	#UV__EINVAL
 (-4071)

	)

168 #i‡
deföed
(
EIO
Ë&& !deföed(
_WIN32
)

169 
	#UV__EIO
 (-
EIO
)

	)

171 
	#UV__EIO
 (-4070)

	)

174 #i‡
deföed
(
EISCONN
Ë&& !deföed(
_WIN32
)

175 
	#UV__EISCONN
 (-
EISCONN
)

	)

177 
	#UV__EISCONN
 (-4069)

	)

180 #i‡
deföed
(
EISDIR
Ë&& !deföed(
_WIN32
)

181 
	#UV__EISDIR
 (-
EISDIR
)

	)

183 
	#UV__EISDIR
 (-4068)

	)

186 #i‡
deföed
(
ELOOP
Ë&& !deföed(
_WIN32
)

187 
	#UV__ELOOP
 (-
ELOOP
)

	)

189 
	#UV__ELOOP
 (-4067)

	)

192 #i‡
deföed
(
EMFILE
Ë&& !deföed(
_WIN32
)

193 
	#UV__EMFILE
 (-
EMFILE
)

	)

195 
	#UV__EMFILE
 (-4066)

	)

198 #i‡
deföed
(
EMSGSIZE
Ë&& !deföed(
_WIN32
)

199 
	#UV__EMSGSIZE
 (-
EMSGSIZE
)

	)

201 
	#UV__EMSGSIZE
 (-4065)

	)

204 #i‡
deföed
(
ENAMETOOLONG
Ë&& !deföed(
_WIN32
)

205 
	#UV__ENAMETOOLONG
 (-
ENAMETOOLONG
)

	)

207 
	#UV__ENAMETOOLONG
 (-4064)

	)

210 #i‡
deföed
(
ENETDOWN
Ë&& !deföed(
_WIN32
)

211 
	#UV__ENETDOWN
 (-
ENETDOWN
)

	)

213 
	#UV__ENETDOWN
 (-4063)

	)

216 #i‡
deföed
(
ENETUNREACH
Ë&& !deföed(
_WIN32
)

217 
	#UV__ENETUNREACH
 (-
ENETUNREACH
)

	)

219 
	#UV__ENETUNREACH
 (-4062)

	)

222 #i‡
deföed
(
ENFILE
Ë&& !deföed(
_WIN32
)

223 
	#UV__ENFILE
 (-
ENFILE
)

	)

225 
	#UV__ENFILE
 (-4061)

	)

228 #i‡
deföed
(
ENOBUFS
Ë&& !deföed(
_WIN32
)

229 
	#UV__ENOBUFS
 (-
ENOBUFS
)

	)

231 
	#UV__ENOBUFS
 (-4060)

	)

234 #i‡
deföed
(
ENODEV
Ë&& !deföed(
_WIN32
)

235 
	#UV__ENODEV
 (-
ENODEV
)

	)

237 
	#UV__ENODEV
 (-4059)

	)

240 #i‡
deföed
(
ENOENT
Ë&& !deföed(
_WIN32
)

241 
	#UV__ENOENT
 (-
ENOENT
)

	)

243 
	#UV__ENOENT
 (-4058)

	)

246 #i‡
deföed
(
ENOMEM
Ë&& !deföed(
_WIN32
)

247 
	#UV__ENOMEM
 (-
ENOMEM
)

	)

249 
	#UV__ENOMEM
 (-4057)

	)

252 #i‡
deföed
(
ENONET
Ë&& !deföed(
_WIN32
)

253 
	#UV__ENONET
 (-
ENONET
)

	)

255 
	#UV__ENONET
 (-4056)

	)

258 #i‡
deföed
(
ENOSPC
Ë&& !deföed(
_WIN32
)

259 
	#UV__ENOSPC
 (-
ENOSPC
)

	)

261 
	#UV__ENOSPC
 (-4055)

	)

264 #i‡
deföed
(
ENOSYS
Ë&& !deföed(
_WIN32
)

265 
	#UV__ENOSYS
 (-
ENOSYS
)

	)

267 
	#UV__ENOSYS
 (-4054)

	)

270 #i‡
deföed
(
ENOTCONN
Ë&& !deföed(
_WIN32
)

271 
	#UV__ENOTCONN
 (-
ENOTCONN
)

	)

273 
	#UV__ENOTCONN
 (-4053)

	)

276 #i‡
deföed
(
ENOTDIR
Ë&& !deföed(
_WIN32
)

277 
	#UV__ENOTDIR
 (-
ENOTDIR
)

	)

279 
	#UV__ENOTDIR
 (-4052)

	)

282 #i‡
deföed
(
ENOTEMPTY
Ë&& !deföed(
_WIN32
)

283 
	#UV__ENOTEMPTY
 (-
ENOTEMPTY
)

	)

285 
	#UV__ENOTEMPTY
 (-4051)

	)

288 #i‡
deföed
(
ENOTSOCK
Ë&& !deföed(
_WIN32
)

289 
	#UV__ENOTSOCK
 (-
ENOTSOCK
)

	)

291 
	#UV__ENOTSOCK
 (-4050)

	)

294 #i‡
deföed
(
ENOTSUP
Ë&& !deföed(
_WIN32
)

295 
	#UV__ENOTSUP
 (-
ENOTSUP
)

	)

297 
	#UV__ENOTSUP
 (-4049)

	)

300 #i‡
deföed
(
EPERM
Ë&& !deföed(
_WIN32
)

301 
	#UV__EPERM
 (-
EPERM
)

	)

303 
	#UV__EPERM
 (-4048)

	)

306 #i‡
deföed
(
EPIPE
Ë&& !deföed(
_WIN32
)

307 
	#UV__EPIPE
 (-
EPIPE
)

	)

309 
	#UV__EPIPE
 (-4047)

	)

312 #i‡
deföed
(
EPROTO
Ë&& !deföed(
_WIN32
)

313 
	#UV__EPROTO
 (-
EPROTO
)

	)

315 
	#UV__EPROTO
 (-4046)

	)

318 #i‡
deföed
(
EPROTONOSUPPORT
Ë&& !deföed(
_WIN32
)

319 
	#UV__EPROTONOSUPPORT
 (-
EPROTONOSUPPORT
)

	)

321 
	#UV__EPROTONOSUPPORT
 (-4045)

	)

324 #i‡
deföed
(
EPROTOTYPE
Ë&& !deföed(
_WIN32
)

325 
	#UV__EPROTOTYPE
 (-
EPROTOTYPE
)

	)

327 
	#UV__EPROTOTYPE
 (-4044)

	)

330 #i‡
deföed
(
EROFS
Ë&& !deföed(
_WIN32
)

331 
	#UV__EROFS
 (-
EROFS
)

	)

333 
	#UV__EROFS
 (-4043)

	)

336 #i‡
deföed
(
ESHUTDOWN
Ë&& !deföed(
_WIN32
)

337 
	#UV__ESHUTDOWN
 (-
ESHUTDOWN
)

	)

339 
	#UV__ESHUTDOWN
 (-4042)

	)

342 #i‡
deföed
(
ESPIPE
Ë&& !deföed(
_WIN32
)

343 
	#UV__ESPIPE
 (-
ESPIPE
)

	)

345 
	#UV__ESPIPE
 (-4041)

	)

348 #i‡
deföed
(
ESRCH
Ë&& !deföed(
_WIN32
)

349 
	#UV__ESRCH
 (-
ESRCH
)

	)

351 
	#UV__ESRCH
 (-4040)

	)

354 #i‡
deföed
(
ETIMEDOUT
Ë&& !deföed(
_WIN32
)

355 
	#UV__ETIMEDOUT
 (-
ETIMEDOUT
)

	)

357 
	#UV__ETIMEDOUT
 (-4039)

	)

360 #i‡
deföed
(
ETXTBSY
Ë&& !deföed(
_WIN32
)

361 
	#UV__ETXTBSY
 (-
ETXTBSY
)

	)

363 
	#UV__ETXTBSY
 (-4038)

	)

366 #i‡
deföed
(
EXDEV
Ë&& !deföed(
_WIN32
)

367 
	#UV__EXDEV
 (-
EXDEV
)

	)

369 
	#UV__EXDEV
 (-4037)

	)

372 #i‡
deföed
(
EFBIG
Ë&& !deföed(
_WIN32
)

373 
	#UV__EFBIG
 (-
EFBIG
)

	)

375 
	#UV__EFBIG
 (-4036)

	)

378 #i‡
deföed
(
ENOPROTOOPT
Ë&& !deföed(
_WIN32
)

379 
	#UV__ENOPROTOOPT
 (-
ENOPROTOOPT
)

	)

381 
	#UV__ENOPROTOOPT
 (-4035)

	)

384 #i‡
deföed
(
ERANGE
Ë&& !deföed(
_WIN32
)

385 
	#UV__ERANGE
 (-
ERANGE
)

	)

387 
	#UV__ERANGE
 (-4034)

	)

390 #i‡
deföed
(
ENXIO
Ë&& !deföed(
_WIN32
)

391 
	#UV__ENXIO
 (-
ENXIO
)

	)

393 
	#UV__ENXIO
 (-4033)

	)

396 #i‡
deföed
(
EMLINK
Ë&& !deföed(
_WIN32
)

397 
	#UV__EMLINK
 (-
EMLINK
)

	)

399 
	#UV__EMLINK
 (-4032)

	)

406 #i‡
deföed
(
EHOSTDOWN
Ë&& !deföed(
_WIN32
)

407 
	#UV__EHOSTDOWN
 (-
EHOSTDOWN
)

	)

408 #ñi‡
deföed
(
__APPLE__
) || \

409 
deföed
(
__Døg⁄Fly__
) || \

410 
deföed
(
__FªeBSD__
) || \

411 
deföed
(
__FªeBSD_kî√l__
) || \

412 
deföed
(
__NëBSD__
) || \

413 
	$deföed
(
__O≥nBSD__
)

414 
	#UV__EHOSTDOWN
 (-64)

	)

416 
	#UV__EHOSTDOWN
 (-4031)

	)

	@deps/libtuv/include/uv-linux.h

22 #i‚de‡
UV_LINUX_H


23 
	#UV_LINUX_H


	)

25 
	#UV_PLATFORM_LOOP_FIELDS
 \

26 
uv__io_t
 
öŸify_ªad_w©chî
; \

27 * 
öŸify_w©chîs
; \

28 
öŸify_fd
; \

29 

	)

30 
	#UV_PLATFORM_FS_EVENT_FIELDS
 \

31 * 
w©chîs
[2]; \

32 
wd
; \

33 

	)

	@deps/libtuv/include/uv-nuttx.h

37 #i‚de‡
UV_NUTTX_H


38 
	#UV_NUTTX_H


	)

40 
	~<±hªad.h
>

41 
	~<pﬁl.h
>

42 
	~<uni°d.h
>

43 
	~<î∫o.h
>

45 
	~<√tdb.h
>

46 
	~<sys/uio.h
>

48 #i‚de‡
TUV_POLL_EVENTS_SIZE


49 
	#TUV_POLL_EVENTS_SIZE
 32

	)

53 #i‚de‡
IOV_MAX


54 
	#IOV_MAX
 
TUV_POLL_EVENTS_SIZE


	)

60 #i‚de‡
ENOTSUP


61 
	#ENOTSUP
 
EOPNOTSUPP


	)

66 
	#STDIN_FILENO
 0

	)

67 
	#STDOUT_FILENO
 1

	)

68 
	#STDERR_FILENO
 2

	)

70 
	#SIGPROF
 27

	)

71 
	#TCP_NODELAY
 1

	)

76 
	#_SC_CLK_TCK
 0x0006

	)

77 
	#_SC_NPROCESSORS_ONLN
 0x0061

	)

78 
	#CLOCK_MONOTONIC
 1

	)

87 
	#UV_PLATFORM_RWLOCK_T
 
±hªad_muãx_t


	)

91 
ssize_t
 
ªadv
(
__fd
, c⁄° 
iovec
* 
__iovec
, 
__cou¡
);

92 
ssize_t
 
wrôev
(
__fd
, c⁄° 
iovec
* 
__iovec
, 
__cou¡
);

97 
gë≥î«me
(
sockfd
, 
sockaddr
* 
addr
, 
sockÀn_t
* 
addæí
);

100 
	#SOMAXCONN
 8

	)

105 
	#UV_PLATFORM_LOOP_FIELDS
 \

106 
pﬁlfd
 
pﬁlfds
[
TUV_POLL_EVENTS_SIZE
]; \

107 
≈ﬁlfds
; \

108 

	)

	@deps/libtuv/include/uv-os390.h

22 #i‚de‡
UV_MVS_H


23 
	#UV_MVS_H


	)

25 
	#UV_PLATFORM_SEM_T
 

	)

	@deps/libtuv/include/uv-sunos.h

22 #i‚de‡
UV_SUNOS_H


23 
	#UV_SUNOS_H


	)

25 
	~<sys/p‹t.h
>

26 
	~<p‹t.h
>

32 
	#UV_PLATFORM_LOOP_FIELDS
 \

33 
uv__io_t
 
fs_evít_w©chî
; \

34 
fs_fd
; \

35 

	)

36 #i‡
deföed
(
PORT_SOURCE_FILE
)

38 
	#UV_PLATFORM_FS_EVENT_FIELDS
 \

39 
fûe_obj_t
 
fo
; \

40 
fd
; \

41 

	)

	@deps/libtuv/include/uv-threadpool.h

27 #i‚de‡
UV_THREADPOOL_H_


28 
	#UV_THREADPOOL_H_


	)

30 
	suv__w‹k
 {

31 (*
	mw‹k
)(
uv__w‹k
 *
	mw
);

32 (*
	md⁄e
)(
uv__w‹k
 *
	mw
, 
	m°©us
);

33 
uv_lo›_s
* 
	mlo›
;

34 * 
	mwq
[2];

	@deps/libtuv/include/uv-tizenrt.h

37 #i‚de‡
UV_TIZENRT_H


38 
	#UV_TIZENRT_H


	)

40 
	~<±hªad.h
>

41 
	~<pﬁl.h
>

42 
	~<uni°d.h
>

43 
	~<î∫o.h
>

45 
	~<√tdb.h
>

47 
	~<sys/uio.h
>

49 #i‚de‡
TUV_POLL_EVENTS_SIZE


50 
	#TUV_POLL_EVENTS_SIZE
 32

	)

54 #i‚de‡
IOV_MAX


55 
	#IOV_MAX
 
TUV_POLL_EVENTS_SIZE


	)

60 #i‚de‡
ENOTSUP


61 
	#ENOTSUP
 
EOPNOTSUPP


	)

66 
	#STDIN_FILENO
 0

	)

67 
	#STDOUT_FILENO
 1

	)

68 
	#STDERR_FILENO
 2

	)

70 
	#SIGPROF
 27

	)

74 
	#_SC_CLK_TCK
 0x0006

	)

75 
	#_SC_NPROCESSORS_ONLN
 0x0061

	)

76 
	#CLOCK_MONOTONIC
 1

	)

85 
	#UV_PLATFORM_RWLOCK_T
 
±hªad_muãx_t


	)

89 
gë≥î«me
(
sockfd
, 
sockaddr
* 
addr
, 
sockÀn_t
* 
addæí
);

92 
	#SOMAXCONN
 8

	)

97 
	#UV_PLATFORM_LOOP_FIELDS
 \

98 
pﬁlfd
 
pﬁlfds
[
TUV_POLL_EVENTS_SIZE
]; \

99 
≈ﬁlfds
; \

100 

	)

	@deps/libtuv/include/uv-unix.h

37 #i‚de‡
UV_UNIX_H


38 
	#UV_UNIX_H


	)

40 
	~<sys/ty≥s.h
>

41 
	~<sys/°©.h
>

42 
	~<f˙é.h
>

43 
	~<dúít.h
>

45 
	~<sys/sockë.h
>

46 
	~<√töë/ö.h
>

47 #i‡!
deföed
(
__NUTTX__
) && \

48 !
	$deföed
(
__TIZENRT__
)

49 
	~<√töë/t˝.h
>

51 
	~<¨∑/öë.h
>

52 
	~<√tdb.h
>

54 
	~<ãrmios.h
>

55 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

56 
	~<pwd.h
>

59 
	~<£m≠h‹e.h
>

60 
	~<±hªad.h
>

61 
	~<sig«l.h
>

63 
	~"uv-thªadpoﬁ.h
"

65 #i‡
	`deföed
(
__löux__
)

66 
	~"uv-löux.h
"

67 #ñi‡
	`deföed
(
_AIX
)

68 
	~"uv-aix.h
"

69 #ñi‡
	`deföed
(
__sun
)

70 
	~"uv-sunos.h
"

71 #ñi‡
	`deföed
(
__APPLE__
)

72 
	~"uv-d¨wö.h
"

73 #ñi‡
	`deföed
(
__Døg⁄Fly__
) || \

74 
	`deföed
(
__FªeBSD__
) || \

75 
	`deföed
(
__FªeBSD_kî√l__
) || \

76 
	`deföed
(
__O≥nBSD__
) || \

77 
	$deföed
(
__NëBSD__
)

78 
	~"uv-bsd.h
"

79 #ñi‡
	`deföed
(
__NUTTX__
)

80 
	~"uv-nuâx.h
"

81 #ñi‡
	`deföed
(
__TIZENRT__
)

82 
	~"uv-tizíπ.h
"

85 #i‚de‡
PTHREAD_BARRIER_SERIAL_THREAD


86 
	~"±hªad-b¨rõr.h
"

89 #i‚de‡
NI_MAXHOST


90 
	#NI_MAXHOST
 1025

	)

93 #i‚de‡
NI_MAXSERV


94 
	#NI_MAXSERV
 32

	)

97 #i‚de‡
UV_IO_PRIVATE_PLATFORM_FIELDS


98 
	#UV_IO_PRIVATE_PLATFORM_FIELDS


	)

105 
	#TUV_ENABLE_MEMORY_CONSTRAINTS


	)

107 
uv__io_s
;

108 
uv__async
;

109 
uv_lo›_s
;

111 (*
	tuv__io_cb
)(
	tuv_lo›_s
* 
	tlo›
,

112 
	tuv__io_s
* 
	tw
,

113 
	tevíts
);

114 
uv__io_s
 
	tuv__io_t
;

116 
	suv__io_s
 {

117 
uv__io_cb
 
cb
;

118 * 
≥ndög_queue
[2];

119 * 
w©chî_queue
[2];

120 
≥víts
;

121 
evíts
;

122 
fd
;

123 
UV_IO_PRIVATE_PLATFORM_FIELDS


126 (*
	tuv__async_cb
)(
	tuv_lo›_s
* 
	tlo›
,

127 
	tuv__async
* 
	tw
,

128 
	t√víts
);

130 
	suv__async
 {

131 
uv__async_cb
 
cb
;

132 
uv__io_t
 
io_w©chî
;

133 
wfd
;

136 #i‚de‡
UV_PLATFORM_SEM_T


137 
	#UV_PLATFORM_SEM_T
 
£m_t


	)

141 #i‚de‡
UV_PLATFORM_RWLOCK_T


142 
	#UV_PLATFORM_RWLOCK_T
 
±hªad_rwlock_t


	)

145 #i‚de‡
UV_PLATFORM_LOOP_FIELDS


146 
	#UV_PLATFORM_LOOP_FIELDS


	)

149 #i‚de‡
UV_PLATFORM_FS_EVENT_FIELDS


150 
	#UV_PLATFORM_FS_EVENT_FIELDS


	)

153 #i‚de‡
UV_STREAM_PRIVATE_PLATFORM_FIELDS


154 
	#UV_STREAM_PRIVATE_PLATFORM_FIELDS


	)

158 
	suv_buf_t
 {

159 * 
ba£
;

160 
size_t
 
Àn
;

161 } 
	tuv_buf_t
;

163 
	tuv_fûe
;

164 
	tuv_os_sock_t
;

165 
	tuv_os_fd_t
;

167 
	#UV_ONCE_INIT
 
PTHREAD_ONCE_INIT


	)

169 
±hªad_⁄˚_t
 
	tuv_⁄˚_t
;

170 
±hªad_t
 
	tuv_thªad_t
;

171 
±hªad_muãx_t
 
	tuv_muãx_t
;

172 
UV_PLATFORM_RWLOCK_T
 
	tuv_rwlock_t
;

173 
UV_PLATFORM_SEM_T
 
	tuv_£m_t
;

174 
±hªad_c⁄d_t
 
	tuv_c⁄d_t
;

175 
±hªad_key_t
 
	tuv_key_t
;

176 
±hªad_b¨rõr_t
 
	tuv_b¨rõr_t
;

180 
gid_t
 
	tuv_gid_t
;

181 
uid_t
 
	tuv_uid_t
;

183 
dúít
 
	tuv__dúít_t
;

185 #i‡
	`deföed
(
DT_UNKNOWN
)

186 
	#HAVE_DIRENT_TYPES


	)

187 #i‡
	`deföed
(
DT_REG
)

188 
	#UV__DT_FILE
 
DT_REG


	)

190 
	#UV__DT_FILE
 -1

	)

192 #i‡
	`deföed
(
DT_DIR
)

193 
	#UV__DT_DIR
 
DT_DIR


	)

195 
	#UV__DT_DIR
 -2

	)

197 #i‡
	`deföed
(
DT_LNK
)

198 
	#UV__DT_LINK
 
DT_LNK


	)

200 
	#UV__DT_LINK
 -3

	)

202 #i‡
	`deföed
(
DT_FIFO
)

203 
	#UV__DT_FIFO
 
DT_FIFO


	)

205 
	#UV__DT_FIFO
 -4

	)

207 #i‡
	`deföed
(
DT_SOCK
)

208 
	#UV__DT_SOCKET
 
DT_SOCK


	)

210 
	#UV__DT_SOCKET
 -5

	)

212 #i‡
	`deföed
(
DT_CHR
)

213 
	#UV__DT_CHAR
 
DT_CHR


	)

215 
	#UV__DT_CHAR
 -6

	)

217 #i‡
	`deföed
(
DT_BLK
)

218 
	#UV__DT_BLOCK
 
DT_BLK


	)

220 
	#UV__DT_BLOCK
 -7

	)

225 
	#UV_DYNAMIC


	)

228 * 
h™dÀ
;

229 * 
îrmsg
;

230 } 
	tuv_lib_t
;

232 #ifde‡
TUV_ENABLE_MEMORY_CONSTRAINTS


233 
	#UV_LOOP_PRIVATE_FIELDS
 \

234 
Êags
; \

235 
backíd_fd
; \

236 * 
≥ndög_queue
[2]; \

237 * 
w©chî_queue
[2]; \

238 
uv__io_t
** 
w©chîs
; \

239 
nw©chîs
; \

240 
nfds
; \

241 * 
wq
[2]; \

242 
uv_muãx_t
 
wq_muãx
; \

243 
uv_async_t
 
wq_async
; \

244 
uv_rwlock_t
 
˛€xec_lock
; \

245 
uv_h™dÀ_t
* 
˛osög_h™dÀs
; \

246 * 
¥o˚ss_h™dÀs
[2]; \

247 * 
¥ï¨e_h™dÀs
[2]; \

248 * 
check_h™dÀs
[2]; \

249 * 
idÀ_h™dÀs
[2]; \

250 * 
async_h™dÀs
[2]; \

251 
uv__async
 
async_w©chî
; \

253 * 
mö
; \

254 
√…s
; \

255 } 
timî_hóp
; \

256 
uöt32_t
 
timî_cou¡î
; \

257 
uöt64_t
 
time
; \

258 
sig«l_pùefd
[2]; \

259 
uv__io_t
 
sig«l_io_w©chî
; \

260 
uv_sig«l_t
 
chûd_w©chî
; \

261 
emfûe_fd
; \

262 
UV_PLATFORM_LOOP_FIELDS


	)

264 
	#UV_LOOP_PRIVATE_FIELDS
 \

265 
Êags
; \

266 
backíd_fd
; \

267 * 
≥ndög_queue
[2]; \

268 * 
w©chî_queue
[2]; \

269 
uv__io_t
** 
w©chîs
; \

270 
nw©chîs
; \

271 
nfds
; \

272 * 
wq
[2]; \

273 
uv_muãx_t
 
wq_muãx
; \

274 
uv_async_t
 
wq_async
; \

275 
uv_rwlock_t
 
˛€xec_lock
; \

276 
uv_h™dÀ_t
* 
˛osög_h™dÀs
; \

277 * 
¥o˚ss_h™dÀs
[2]; \

278 * 
¥ï¨e_h™dÀs
[2]; \

279 * 
check_h™dÀs
[2]; \

280 * 
idÀ_h™dÀs
[2]; \

281 * 
async_h™dÀs
[2]; \

282 
uv__async
 
async_w©chî
; \

284 * 
mö
; \

285 
√…s
; \

286 } 
timî_hóp
; \

287 
uöt64_t
 
timî_cou¡î
; \

288 
uöt64_t
 
time
; \

289 
sig«l_pùefd
[2]; \

290 
uv__io_t
 
sig«l_io_w©chî
; \

291 
uv_sig«l_t
 
chûd_w©chî
; \

292 
emfûe_fd
; \

293 
UV_PLATFORM_LOOP_FIELDS


	)

296 
	#UV_REQ_TYPE_PRIVATE


	)

298 
	#UV_REQ_PRIVATE_FIELDS


	)

300 
	#UV_PRIVATE_REQ_TYPES


	)

302 
	#UV_WRITE_PRIVATE_FIELDS
 \

303 * 
queue
[2]; \

304 
wrôe_ödex
; \

305 
uv_buf_t
* 
bufs
; \

306 
nbufs
; \

307 
îr‹
; \

308 
uv_buf_t
 
bufsml
[4]; \

309 

	)

310 
	#UV_CONNECT_PRIVATE_FIELDS
 \

311 * 
queue
[2]; \

312 

	)

313 
	#UV_SHUTDOWN_PRIVATE_FIELDS


	)

315 
	#UV_UDP_SEND_PRIVATE_FIELDS
 \

316 * 
queue
[2]; \

317 
sockaddr_°‹age
 
addr
; \

318 
nbufs
; \

319 
uv_buf_t
* 
bufs
; \

320 
ssize_t
 
°©us
; \

321 
uv_udp_£nd_cb
 
£nd_cb
; \

322 
uv_buf_t
 
bufsml
[4]; \

323 

	)

324 
	#UV_HANDLE_PRIVATE_FIELDS
 \

325 
uv_h™dÀ_t
* 
√xt_˛osög
; \

326 
Êags
; \

327 

	)

328 
	#UV_STREAM_PRIVATE_FIELDS
 \

329 
uv_c⁄√˘_t
 *
c⁄√˘_ªq
; \

330 
uv_shutdown_t
 *
shutdown_ªq
; \

331 
uv__io_t
 
io_w©chî
; \

332 * 
wrôe_queue
[2]; \

333 * 
wrôe_com∂ëed_queue
[2]; \

334 
uv_c⁄√˘i⁄_cb
 
c⁄√˘i⁄_cb
; \

335 
dñayed_îr‹
; \

336 
ac˚±ed_fd
; \

337 * 
queued_fds
; \

338 
UV_STREAM_PRIVATE_PLATFORM_FIELDS
 \

339 

	)

340 
	#UV_TCP_PRIVATE_FIELDS


	)

342 
	#UV_UDP_PRIVATE_FIELDS
 \

343 
uv_Æloc_cb
 
Æloc_cb
; \

344 
uv_udp_ªcv_cb
 
ªcv_cb
; \

345 
uv__io_t
 
io_w©chî
; \

346 * 
wrôe_queue
[2]; \

347 * 
wrôe_com∂ëed_queue
[2]; \

348 

	)

349 
	#UV_PIPE_PRIVATE_FIELDS
 \

350 c⁄° * 
pùe_‚ame
;

	)

352 
	#UV_POLL_PRIVATE_FIELDS
 \

353 
uv__io_t
 
io_w©chî
;

	)

355 
	#UV_PREPARE_PRIVATE_FIELDS
 \

356 
uv_¥ï¨e_cb
 
¥ï¨e_cb
; \

357 * 
queue
[2]; \

358 

	)

359 
	#UV_CHECK_PRIVATE_FIELDS
 \

360 
uv_check_cb
 
check_cb
; \

361 * 
queue
[2]; \

362 

	)

363 
	#UV_IDLE_PRIVATE_FIELDS
 \

364 
uv_idÀ_cb
 
idÀ_cb
; \

365 * 
queue
[2]; \

366 

	)

367 
	#UV_ASYNC_PRIVATE_FIELDS
 \

368 
uv_async_cb
 
async_cb
; \

369 * 
queue
[2]; \

370 
≥ndög
; \

371 

	)

372 #ifde‡
TUV_ENABLE_MEMORY_CONSTRAINTS


373 
	#UV_TIMER_PRIVATE_FIELDS
 \

374 
uv_timî_cb
 
timî_cb
; \

375 * 
hóp_node
[1]; \

376 
uöt64_t
 
timeout
; \

377 
uöt64_t
 
ª≥©
;

	)

379 
	#UV_TIMER_PRIVATE_FIELDS
 \

380 
uv_timî_cb
 
timî_cb
; \

381 * 
hóp_node
[3]; \

382 
uöt64_t
 
timeout
; \

383 
uöt64_t
 
ª≥©
; \

384 
uöt64_t
 
°¨t_id
;

	)

387 
	#UV_GETADDRINFO_PRIVATE_FIELDS
 \

388 
uv__w‹k
 
w‹k_ªq
; \

389 
uv_gëaddröfo_cb
 
cb
; \

390 
addröfo
* 
höts
; \

391 * 
ho°«me
; \

392 * 
£rvi˚
; \

393 
addröfo
*áddrinfo; \

394 
ªtcode
;

	)

396 
	#UV_GETNAMEINFO_PRIVATE_FIELDS
 \

397 
uv__w‹k
 
w‹k_ªq
; \

398 
uv_gë«meöfo_cb
 
gë«meöfo_cb
; \

399 
sockaddr_°‹age
 
°‹age
; \

400 
Êags
; \

401 
ho°
[
NI_MAXHOST
]; \

402 
£rvi˚
[
NI_MAXSERV
]; \

403 
ªtcode
;

	)

405 
	#UV_PROCESS_PRIVATE_FIELDS
 \

406 * 
queue
[2]; \

407 
°©us
; \

408 

	)

409 
	#UV_FS_PRIVATE_FIELDS
 \

410 c⁄° *
√w_∑th
; \

411 
uv_fûe
 
fûe
; \

412 
Êags
; \

413 
mode_t
 
mode
; \

414 
nbufs
; \

415 
uv_buf_t
* 
bufs
; \

416 
off_t
 
off
; \

417 
uv_uid_t
 
uid
; \

418 
uv_gid_t
 
gid
; \

419 
©ime
; \

420 
mtime
; \

421 
uv__w‹k
 
w‹k_ªq
; \

422 
uv_buf_t
 
bufsml
[4]; \

423 

	)

424 
	#UV_WORK_PRIVATE_FIELDS
 \

425 
uv__w‹k
 
w‹k_ªq
;

	)

427 
	#UV_TTY_PRIVATE_FIELDS
 \

428 
ãrmios
 
‹ig_ãrmios
; \

429 
mode
;

	)

431 
	#UV_SIGNAL_PRIVATE_FIELDS
 \

434 
uv_sig«l_s
* 
rbe_À·
; \

435 
uv_sig«l_s
* 
rbe_right
; \

436 
uv_sig«l_s
* 
rbe_∑ª¡
; \

437 
rbe_cﬁ‹
; \

438 } 
åì_íåy
; \

440 
ˇught_sig«ls
; \

441 
di•©ched_sig«ls
;

	)

443 
	#UV_FS_EVENT_PRIVATE_FIELDS
 \

444 
uv_fs_evít_cb
 
cb
; \

445 
UV_PLATFORM_FS_EVENT_FIELDS
 \

446 

	)

	@deps/libtuv/include/uv-version.h

22 #i‚de‡
UV_VERSION_H


23 
	#UV_VERSION_H


	)

33 
	#UV_VERSION_MAJOR
 1

	)

34 
	#UV_VERSION_MINOR
 10

	)

35 
	#UV_VERSION_PATCH
 1

	)

36 
	#UV_VERSION_IS_RELEASE
 1

	)

37 
	#UV_VERSION_SUFFIX
 ""

	)

39 
	#UV_VERSION_HEX
 ((
UV_VERSION_MAJOR
 << 16) | \

40 (
UV_VERSION_MINOR
 << 8) | \

41 (
UV_VERSION_PATCH
))

	)

	@deps/libtuv/include/uv-win.h

22 #i‚de‡
_WIN32_WINNT


23 
	#_WIN32_WINNT
 0x0502

	)

26 #i‡!
deföed
(
_SSIZE_T_
Ë&& !deföed(
_SSIZE_T_DEFINED
)

27 
öçå_t
 
	tssize_t
;

28 
	#_SSIZE_T_


	)

29 
	#_SSIZE_T_DEFINED


	)

32 
	~<wösock2.h
>

34 #i‡
deföed
(
__MINGW32__
Ë&& !deföed(
__MINGW64_VERSION_MAJOR
)

35 
	spﬁlfd
 {

36 
SOCKET
 
	mfd
;

37 
	mevíts
;

38 
	mªvíts
;

39 } 
	tWSAPOLLFD
, *
	tPWSAPOLLFD
, *
	tLPWSAPOLLFD
;

42 #i‚de‡
LOCALE_INVARIANT


43 
	#LOCALE_INVARIANT
 0x007f

	)

46 
	~<mswsock.h
>

47 
	~<ws2t˝ù.h
>

48 
	~<wödows.h
>

50 
	~<¥o˚ss.h
>

51 
	~<sig«l.h
>

52 
	~<sys/°©.h
>

54 #i‡
deföed
(
_MSC_VER
) && _MSC_VER < 1600

55 
	~"°döt-msvc2008.h
"

57 
	~<°döt.h
>

60 
	~"åì.h
"

61 
	~"uv-thªadpoﬁ.h
"

63 
	#MAX_PIPENAME_LEN
 256

	)

65 #i‚de‡
S_IFLNK


66 
	#S_IFLNK
 0xA000

	)

84 
	#SIGHUP
 1

	)

85 
	#SIGKILL
 9

	)

86 
	#SIGWINCH
 28

	)

90 #i‚de‡
SIGABRT_COMPAT


91 
	#SIGABRT_COMPAT
 6

	)

98 #i‚de‡
WSAID_ACCEPTEX


99 
	#WSAID_ACCEPTEX
 \

101 {0x95, 0xˇ, 0x00, 0x80, 0x5f, 0x48, 0xa1, 0x92}}

	)

103 
	#WSAID_CONNECTEX
 \

105 {0x8e, 0xe9, 0x76, 0xe5, 0x8c, 0x74, 0x06, 0x3e}}

	)

107 
	#WSAID_GETACCEPTEXSOCKADDRS
 \

109 {0x95, 0xˇ, 0x00, 0x80, 0x5f, 0x48, 0xa1, 0x92}}

	)

111 
	#WSAID_DISCONNECTEX
 \

113 {0xa0, 0x31, 0xf5, 0x36, 0xa6, 0xì, 0xc1, 0x57}}

	)

115 
	#WSAID_TRANSMITFILE
 \

117 {0x95, 0xˇ, 0x00, 0x80, 0x5f, 0x48, 0xa1, 0x92}}

	)

119 
	$BOOL
 (
	tPASCAL
 *
	tLPFN_ACCEPTEX
)

120 (
	tSOCKET
 
	tsLi°íSockë
,

121 
	tSOCKET
 
	tsAc˚±Sockë
,

122 
	tPVOID
 
	tÕOuçutBuf„r
,

123 
	tDWORD
 
	tdwRe˚iveD©aLígth
,

124 
	tDWORD
 
	tdwLoˇlAddªssLígth
,

125 
	tDWORD
 
	tdwRemŸeAddªssLígth
,

126 
	tLPDWORD
 
	tÕdwByãsRe˚ived
,

127 
	tLPOVERLAPPED
 
	tÕOvîœµed
);

129 
	$BOOL
 (
	tPASCAL
 *
	tLPFN_CONNECTEX
)

130 (
	tSOCKET
 
	ts
,

131 c⁄° 
	tsockaddr
* 
	t«me
,

132 
	t«mñí
,

133 
	tPVOID
 
	tÕSídBuf„r
,

134 
	tDWORD
 
	tdwSídD©aLígth
,

135 
	tLPDWORD
 
	tÕdwByãsSít
,

136 
	tLPOVERLAPPED
 
	tÕOvîœµed
);

138 (
	tPASCAL
 *
	tLPFN_GETACCEPTEXSOCKADDRS
)

139 (
	tPVOID
 
	tÕOuçutBuf„r
,

140 
	tDWORD
 
	tdwRe˚iveD©aLígth
,

141 
	tDWORD
 
	tdwLoˇlAddªssLígth
,

142 
	tDWORD
 
	tdwRemŸeAddªssLígth
,

143 
	tLPSOCKADDR
* 
	tLoˇlSockaddr
,

144 
	tLPINT
 
	tLoˇlSockaddrLígth
,

145 
	tLPSOCKADDR
* 
	tRemŸeSockaddr
,

146 
	tLPINT
 
	tRemŸeSockaddrLígth
);

148 
	$BOOL
 (
	tPASCAL
 *
	tLPFN_DISCONNECTEX
)

149 (
	tSOCKET
 
	thSockë
,

150 
	tLPOVERLAPPED
 
	tÕOvîœµed
,

151 
	tDWORD
 
	tdwFœgs
,

152 
	tDWORD
 
	tª£rved
);

154 
	$BOOL
 (
	tPASCAL
 *
	tLPFN_TRANSMITFILE
)

155 (
	tSOCKET
 
	thSockë
,

156 
	tHANDLE
 
	thFûe
,

157 
	tDWORD
 
	tnNumbîOfByãsToWrôe
,

158 
	tDWORD
 
	tnNumbîOfByãsPîSíd
,

159 
	tLPOVERLAPPED
 
	tÕOvîœµed
,

160 
	tLPTRANSMIT_FILE_BUFFERS
 
	tÕTønsmôBuf„rs
,

161 
	tDWORD
 
	tdwFœgs
);

163 
PVOID
 
	tRTL_SRWLOCK
;

164 
RTL_SRWLOCK
 
	tSRWLOCK
, *
	tPSRWLOCK
;

167 (
	tWSAAPI
* 
	tLPFN_WSARECV
)

168 (
	tSOCKET
 
	tsockë
,

169 
	tLPWSABUF
 
	tbuf„rs
,

170 
	tDWORD
 
	tbuf„r_cou¡
,

171 
	tLPDWORD
 
	tbyãs
,

172 
	tLPDWORD
 
	tÊags
,

173 
	tLPWSAOVERLAPPED
 
	tovîœµed
,

174 
	tLPWSAOVERLAPPED_COMPLETION_ROUTINE
 
	tcom∂ëi⁄_routöe
);

176 (
	tWSAAPI
* 
	tLPFN_WSARECVFROM
)

177 (
	tSOCKET
 
	tsockë
,

178 
	tLPWSABUF
 
	tbuf„rs
,

179 
	tDWORD
 
	tbuf„r_cou¡
,

180 
	tLPDWORD
 
	tbyãs
,

181 
	tLPDWORD
 
	tÊags
,

182 
	tsockaddr
* 
	taddr
,

183 
	tLPINT
 
	taddr_Àn
,

184 
	tLPWSAOVERLAPPED
 
	tovîœµed
,

185 
	tLPWSAOVERLAPPED_COMPLETION_ROUTINE
 
	tcom∂ëi⁄_routöe
);

187 #i‚de‡
_NTDEF_


188 
LONG
 
	tNTSTATUS
;

189 
NTSTATUS
 *
	tPNTSTATUS
;

192 #i‚de‡
RTL_CONDITION_VARIABLE_INIT


193 
PVOID
 
	tCONDITION_VARIABLE
, *
	tPCONDITION_VARIABLE
;

196 
	s_AFD_POLL_HANDLE_INFO
 {

197 
HANDLE
 
H™dÀ
;

198 
ULONG
 
Evíts
;

199 
NTSTATUS
 
Sètus
;

200 } 
	tAFD_POLL_HANDLE_INFO
, *
	tPAFD_POLL_HANDLE_INFO
;

202 
	s_AFD_POLL_INFO
 {

203 
LARGE_INTEGER
 
Timeout
;

204 
ULONG
 
NumbîOfH™dÀs
;

205 
ULONG
 
Ex˛usive
;

206 
AFD_POLL_HANDLE_INFO
 
H™dÀs
[1];

207 } 
	tAFD_POLL_INFO
, *
	tPAFD_POLL_INFO
;

209 
	#UV_MSAFD_PROVIDER_COUNT
 3

	)

216 
	suv_buf_t
 {

217 
ULONG
 
Àn
;

218 * 
ba£
;

219 } 
	tuv_buf_t
;

221 
	tuv_fûe
;

222 
SOCKET
 
	tuv_os_sock_t
;

223 
HANDLE
 
	tuv_os_fd_t
;

225 
HANDLE
 
	tuv_thªad_t
;

227 
HANDLE
 
	tuv_£m_t
;

229 
CRITICAL_SECTION
 
	tuv_muãx_t
;

239 
CONDITION_VARIABLE
 
c⁄d_v¨
;

241 
waôîs_cou¡
;

242 
CRITICAL_SECTION
 
waôîs_cou¡_lock
;

243 
HANDLE
 
sig«l_evít
;

244 
HANDLE
 
brﬂdˇ°_evít
;

245 } 
ÁŒback
;

246 } 
	tuv_c⁄d_t
;

250 
num_ªadîs_
;

251 
CRITICAL_SECTION
 
num_ªadîs_lock_
;

252 
HANDLE
 
wrôe_£m≠h‹e_
;

253 } 
°©e_
;

256 
SRWLOCK
 
unu£d_
;

257 } 
unu£d1_
;

260 
uv_muãx_t
 
unu£d1_
;

261 
uv_muãx_t
 
unu£d2_
;

262 } 
unu£d2_
;

263 } 
	tuv_rwlock_t
;

266 
n
;

267 
cou¡
;

268 
uv_muãx_t
 
muãx
;

269 
uv_£m_t
 
tu∫°ûe1
;

270 
uv_£m_t
 
tu∫°ûe2
;

271 } 
	tuv_b¨rõr_t
;

274 
DWORD
 
és_ödex
;

275 } 
	tuv_key_t
;

277 
	#UV_ONCE_INIT
 { 0, 
NULL
 
	}

	)
}

279 
	suv_⁄˚_s
 {

280 
	møn
;

281 
HANDLE
 
	mevít
;

282 } 
	tuv_⁄˚_t
;

285 
	tuv_uid_t
;

286 
	tuv_gid_t
;

288 
	suv__dúít_s
 {

289 
	md_ty≥
;

290 
	md_«me
[1];

291 } 
	tuv__dúít_t
;

293 
	#HAVE_DIRENT_TYPES


	)

294 
	#UV__DT_DIR
 
UV_DIRENT_DIR


	)

295 
	#UV__DT_FILE
 
UV_DIRENT_FILE


	)

296 
	#UV__DT_LINK
 
UV_DIRENT_LINK


	)

297 
	#UV__DT_FIFO
 
UV_DIRENT_FIFO


	)

298 
	#UV__DT_SOCKET
 
UV_DIRENT_SOCKET


	)

299 
	#UV__DT_CHAR
 
UV_DIRENT_CHAR


	)

300 
	#UV__DT_BLOCK
 
UV_DIRENT_BLOCK


	)

303 
	#UV_DYNAMIC
 
FAR
 
WINAPI


	)

305 
HMODULE
 
	mh™dÀ
;

306 * 
	mîrmsg
;

307 } 
	tuv_lib_t
;

309 
RB_HEAD
(
uv_timî_åì_s
, 
uv_timî_s
);

311 
	#UV_LOOP_PRIVATE_FIELDS
 \

313 
HANDLE
 
io˝
; \

315 
uöt64_t
 
time
; \

319 
uv_ªq_t
* 
≥ndög_ªqs_èû
; \

321 
uv_h™dÀ_t
* 
ídgame_h™dÀs
; \

323 
uv_timî_åì_s
 
timîs
; \

325 
uv_¥ï¨e_t
* 
¥ï¨e_h™dÀs
; \

326 
uv_check_t
* 
check_h™dÀs
; \

327 
uv_idÀ_t
* 
idÀ_h™dÀs
; \

332 
uv_¥ï¨e_t
* 
√xt_¥ï¨e_h™dÀ
; \

333 
uv_check_t
* 
√xt_check_h™dÀ
; \

334 
uv_idÀ_t
* 
√xt_idÀ_h™dÀ
; \

336 
SOCKET
 
pﬁl_≥î_sockës
[
UV_MSAFD_PROVIDER_COUNT
]; \

338 
a˘ive_t˝_°ªams
; \

340 
a˘ive_udp_°ªams
; \

342 
uöt64_t
 
timî_cou¡î
; \

344 * 
wq
[2]; \

345 
uv_muãx_t
 
wq_muãx
; \

346 
uv_async_t
 
wq_async
;

	)

348 
	#UV_REQ_TYPE_PRIVATE
 \

350 
UV_ACCEPT
, \

351 
UV_FS_EVENT_REQ
, \

352 
UV_POLL_REQ
, \

353 
UV_PROCESS_EXIT
, \

354 
UV_READ
, \

355 
UV_UDP_RECV
, \

356 
UV_WAKEUP
, \

357 
UV_SIGNAL_REQ
,

	)

359 
	#UV_REQ_PRIVATE_FIELDS
 \

363 
OVERLAPPED
 
ovîœµed
; \

364 
size_t
 
queued_byãs
; \

365 } 
io
; \

366 } 
u
; \

367 
uv_ªq_s
* 
√xt_ªq
;

	)

369 
	#UV_WRITE_PRIVATE_FIELDS
 \

370 
ùc_hódî
; \

371 
uv_buf_t
 
wrôe_buf„r
; \

372 
HANDLE
 
evít_h™dÀ
; \

373 
HANDLE
 
waô_h™dÀ
;

	)

375 
	#UV_CONNECT_PRIVATE_FIELDS
 \

376 

	)

378 
	#UV_SHUTDOWN_PRIVATE_FIELDS
 \

379 

	)

381 
	#UV_UDP_SEND_PRIVATE_FIELDS
 \

382 

	)

384 
	#UV_PRIVATE_REQ_TYPES
 \

385 
	suv_pùe_ac˚±_s
 { \

386 
UV_REQ_FIELDS
 \

387 
HANDLE
 
pùeH™dÀ
; \

388 
uv_pùe_ac˚±_s
* 
√xt_≥ndög
; \

389 } 
	tuv_pùe_ac˚±_t
; \

391 
	suv_t˝_ac˚±_s
 { \

392 
UV_REQ_FIELDS
 \

393 
SOCKET
 
ac˚±_sockë
; \

394 
ac˚±_buf„r
[(
sockaddr_°‹age
) * 2 + 32]; \

395 
HANDLE
 
evít_h™dÀ
; \

396 
HANDLE
 
waô_h™dÀ
; \

397 
uv_t˝_ac˚±_s
* 
√xt_≥ndög
; \

398 } 
	tuv_t˝_ac˚±_t
; \

400 
	suv_ªad_s
 { \

401 
UV_REQ_FIELDS
 \

402 
HANDLE
 
evít_h™dÀ
; \

403 
HANDLE
 
waô_h™dÀ
; \

404 } 
	tuv_ªad_t
;

	)

406 
	#uv_°ªam_c⁄√˘i⁄_fõlds
 \

407 
wrôe_ªqs_≥ndög
; \

408 
uv_shutdown_t
* 
shutdown_ªq
;

	)

410 
	#uv_°ªam_£rvî_fõlds
 \

411 
uv_c⁄√˘i⁄_cb
 
c⁄√˘i⁄_cb
;

	)

413 
	#UV_STREAM_PRIVATE_FIELDS
 \

414 
ªqs_≥ndög
; \

415 
a˘ive˙t
; \

416 
uv_ªad_t
 
ªad_ªq
; \

418 °ru˘ { 
uv_°ªam_c⁄√˘i⁄_fõlds
 } 
c⁄n
; \

419 °ru˘ { 
uv_°ªam_£rvî_fõlds
 } 
£rv
; \

420 } 
°ªam
;

	)

422 
	#uv_t˝_£rvî_fõlds
 \

423 
uv_t˝_ac˚±_t
* 
ac˚±_ªqs
; \

424 
¥o˚s£d_ac˚±s
; \

425 
uv_t˝_ac˚±_t
* 
≥ndög_ac˚±s
; \

426 
LPFN_ACCEPTEX
 
func_ac˚±ex
;

	)

428 
	#uv_t˝_c⁄√˘i⁄_fõlds
 \

429 
uv_buf_t
 
ªad_buf„r
; \

430 
LPFN_CONNECTEX
 
func_c⁄√˘ex
;

	)

432 
	#UV_TCP_PRIVATE_FIELDS
 \

433 
SOCKET
 
sockë
; \

434 
dñayed_îr‹
; \

436 °ru˘ { 
uv_t˝_£rvî_fõlds
 } 
£rv
; \

437 °ru˘ { 
uv_t˝_c⁄√˘i⁄_fõlds
 } 
c⁄n
; \

438 } 
t˝
;

	)

440 
	#UV_UDP_PRIVATE_FIELDS
 \

441 
SOCKET
 
sockë
; \

442 
ªqs_≥ndög
; \

443 
a˘ive˙t
; \

444 
uv_ªq_t
 
ªcv_ªq
; \

445 
uv_buf_t
 
ªcv_buf„r
; \

446 
sockaddr_°‹age
 
ªcv_‰om
; \

447 
ªcv_‰om_Àn
; \

448 
uv_udp_ªcv_cb
 
ªcv_cb
; \

449 
uv_Æloc_cb
 
Æloc_cb
; \

450 
LPFN_WSARECV
 
func_wßªcv
; \

451 
LPFN_WSARECVFROM
 
func_wßªcv‰om
;

	)

453 
	#uv_pùe_£rvî_fõlds
 \

454 
≥ndög_ö°™˚s
; \

455 
uv_pùe_ac˚±_t
* 
ac˚±_ªqs
; \

456 
uv_pùe_ac˚±_t
* 
≥ndög_ac˚±s
;

	)

458 
	#uv_pùe_c⁄√˘i⁄_fõlds
 \

459 
uv_timî_t
* 
eof_timî
; \

460 
uv_wrôe_t
 
ùc_hódî_wrôe_ªq
; \

461 
ùc_pid
; \

462 
uöt64_t
 
ªmaöög_ùc_øwd©a_byãs
; \

464 * 
queue
[2]; \

465 
queue_Àn
; \

466 } 
≥ndög_ùc_öfo
; \

467 
uv_wrôe_t
* 
n⁄_ovîœµed_wrôes_èû
; \

468 
uv_muãx_t
 
ªadfûe_muãx
; \

469 vﬁ©ûê
HANDLE
 
ªadfûe_thªad
;

	)

471 
	#UV_PIPE_PRIVATE_FIELDS
 \

472 
HANDLE
 
h™dÀ
; \

473 
WCHAR
* 
«me
; \

475 °ru˘ { 
uv_pùe_£rvî_fõlds
 } 
£rv
; \

476 °ru˘ { 
uv_pùe_c⁄√˘i⁄_fõlds
 } 
c⁄n
; \

477 } 
pùe
;

	)

481 
	#UV_TTY_PRIVATE_FIELDS
 \

482 
HANDLE
 
h™dÀ
; \

487 
HANDLE
 
unu£d_
; \

488 
uv_buf_t
 
ªad_löe_buf„r
; \

489 
HANDLE
 
ªad_øw_waô
; \

491 
œ°_key
[8]; \

492 
œ°_key_off£t
; \

493 
œ°_key_Àn
; \

494 
WCHAR
 
œ°_utf16_high_suºog©e
; \

495 
INPUT_RECORD
 
œ°_öput_ªc‹d
; \

496 } 
rd
; \

500 
utf8_codïoöt
; \

501 
utf8_byãs_À·
; \

503 
¥evious_eﬁ
; \

505 
™si_∑r£r_°©e
; \

506 
™si_csi_¨gc
; \

507 
™si_csi_¨gv
[4]; \

508 
COORD
 
ßved_posôi⁄
; \

509 
WORD
 
ßved_©åibuãs
; \

510 } 
wr
; \

511 } 
ây
;

	)

513 
	#UV_POLL_PRIVATE_FIELDS
 \

514 
SOCKET
 
sockë
; \

516 
SOCKET
 
≥î_sockë
; \

517 
AFD_POLL_INFO
 
afd_pﬁl_öfo_1
; \

518 
AFD_POLL_INFO
 
afd_pﬁl_öfo_2
; \

520 
uv_ªq_t
 
pﬁl_ªq_1
; \

521 
uv_ªq_t
 
pﬁl_ªq_2
; \

522 
submôãd_evíts_1
; \

523 
submôãd_evíts_2
; \

524 
mask_evíts_1
; \

525 
mask_evíts_2
; \

526 
evíts
;

	)

528 
	#UV_TIMER_PRIVATE_FIELDS
 \

529 
	`RB_ENTRY
(
uv_timî_s
Ë
åì_íåy
; \

530 
uöt64_t
 
due
; \

531 
uöt64_t
 
ª≥©
; \

532 
uöt64_t
 
°¨t_id
; \

533 
uv_timî_cb
 
timî_cb
;

	)

535 
	#UV_ASYNC_PRIVATE_FIELDS
 \

536 
uv_ªq_s
 
async_ªq
; \

537 
uv_async_cb
 
async_cb
; \

539 vﬁ©ûê
async_£¡
;

	)

541 
	#UV_PREPARE_PRIVATE_FIELDS
 \

542 
uv_¥ï¨e_t
* 
¥ï¨e_¥ev
; \

543 
uv_¥ï¨e_t
* 
¥ï¨e_√xt
; \

544 
uv_¥ï¨e_cb
 
¥ï¨e_cb
;

	)

546 
	#UV_CHECK_PRIVATE_FIELDS
 \

547 
uv_check_t
* 
check_¥ev
; \

548 
uv_check_t
* 
check_√xt
; \

549 
uv_check_cb
 
check_cb
;

	)

551 
	#UV_IDLE_PRIVATE_FIELDS
 \

552 
uv_idÀ_t
* 
idÀ_¥ev
; \

553 
uv_idÀ_t
* 
idÀ_√xt
; \

554 
uv_idÀ_cb
 
idÀ_cb
;

	)

556 
	#UV_HANDLE_PRIVATE_FIELDS
 \

557 
uv_h™dÀ_t
* 
ídgame_√xt
; \

558 
Êags
;

	)

560 
	#UV_GETADDRINFO_PRIVATE_FIELDS
 \

561 
uv__w‹k
 
w‹k_ªq
; \

562 
uv_gëaddröfo_cb
 
gëaddröfo_cb
; \

563 * 
Æloc
; \

564 
WCHAR
* 
node
; \

565 
WCHAR
* 
£rvi˚
; \

569 
addröfoW
* 
addröfow
; \

570 
addröfo
*áddrinfo; \

571 
ªtcode
;

	)

573 
	#UV_GETNAMEINFO_PRIVATE_FIELDS
 \

574 
uv__w‹k
 
w‹k_ªq
; \

575 
uv_gë«meöfo_cb
 
gë«meöfo_cb
; \

576 
sockaddr_°‹age
 
°‹age
; \

577 
Êags
; \

578 
ho°
[
NI_MAXHOST
]; \

579 
£rvi˚
[
NI_MAXSERV
]; \

580 
ªtcode
;

	)

582 
	#UV_PROCESS_PRIVATE_FIELDS
 \

583 
	suv_¥o˚ss_exô_s
 { \

584 
UV_REQ_FIELDS
 \

585 } 
exô_ªq
; \

586 
BYTE
* 
chûd_°dio_buf„r
; \

587 
exô_sig«l
; \

588 
HANDLE
 
waô_h™dÀ
; \

589 
HANDLE
 
¥o˚ss_h™dÀ
; \

590 vﬁ©ûê
exô_cb_≥ndög
;

	)

592 
	#UV_FS_PRIVATE_FIELDS
 \

593 
uv__w‹k
 
w‹k_ªq
; \

594 
Êags
; \

595 
DWORD
 
sys_î∫o_
; \

598 
WCHAR
* 
∑thw
; \

599 
fd
; \

600 } 
fûe
; \

603 
mode
; \

604 
WCHAR
* 
√w_∑thw
; \

605 
fûe_Êags
; \

606 
fd_out
; \

607 
nbufs
; \

608 
uv_buf_t
* 
bufs
; \

609 
öt64_t
 
off£t
; \

610 
uv_buf_t
 
bufsml
[4]; \

611 } 
öfo
; \

613 
©ime
; \

614 
mtime
; \

615 } 
time
; \

616 } 
fs
;

	)

618 
	#UV_WORK_PRIVATE_FIELDS
 \

619 
uv__w‹k
 
w‹k_ªq
;

	)

621 
	#UV_FS_EVENT_PRIVATE_FIELDS
 \

622 
	suv_fs_evít_ªq_s
 { \

623 
UV_REQ_FIELDS
 \

624 } 
ªq
; \

625 
HANDLE
 
dú_h™dÀ
; \

626 
ªq_≥ndög
; \

627 
uv_fs_evít_cb
 
cb
; \

628 
WCHAR
* 
fûew
; \

629 
WCHAR
* 
sh‹t_fûew
; \

630 
WCHAR
* 
dúw
; \

631 * 
buf„r
;

	)

633 
	#UV_SIGNAL_PRIVATE_FIELDS
 \

634 
	`RB_ENTRY
(
uv_sig«l_s
Ë
åì_íåy
; \

635 
uv_ªq_s
 
sig«l_ªq
; \

636 
≥ndög_signum
;

	)

638 #i‚de‡
F_OK


639 
	#F_OK
 0

	)

641 #i‚de‡
R_OK


642 
	#R_OK
 4

	)

644 #i‚de‡
W_OK


645 
	#W_OK
 2

	)

647 #i‚de‡
X_OK


648 
	#X_OK
 1

	)

	@deps/libtuv/include/uv.h

39 #i‚de‡
UV_H


40 
	#UV_H


	)

41 #ifde‡
__˝lu•lus


45 #ifde‡
_WIN32


47 #i‡
deföed
(
BUILDING_UV_SHARED
)

49 
	#UV_EXTERN
 
	`__de˛•ec
(
dŒexp‹t
)

	)

50 #ñi‡
deföed
(
USING_UV_SHARED
)

52 
	#UV_EXTERN
 
	`__de˛•ec
(
dŒimp‹t
)

	)

55 
	#UV_EXTERN


	)

57 #ñi‡
__GNUC__
 >= 4

58 
	#UV_EXTERN
 
	`__©åibuã__
((
	`visibûôy
("deÁu…")))

	)

60 
	#UV_EXTERN


	)

63 
	~"uv-î∫o.h
"

64 
	~"uv-vîsi⁄.h
"

65 
	~<°ddef.h
>

66 
	~<°dio.h
>

68 #i‡
deföed
(
_MSC_VER
) && _MSC_VER < 1600

69 
	~"°döt-msvc2008.h
"

71 
	~<°döt.h
>

74 #i‡
deföed
(
_WIN32
)

75 
	~"uv-wö.h
"

77 
	~"uv-unix.h
"

80 
	~"tuv__debuglog.h
"

83 
	#UV_ERRNO_MAP
(
XX
) \

84 
	`XX
(
EADDRINUSE
, "addressálready in use") \

85 
	`XX
(
EAFNOSUPPORT
, "address familyÇot supported") \

86 
	`XX
(
EAGAIN
, "resourceÅemporarily unavailable") \

87 
	`XX
(
EAI_ADDRFAMILY
, "address familyÇot supported") \

88 
	`XX
(
EAI_AGAIN
, "temporary failure") \

89 
	`XX
(
EAI_BADFLAGS
, "badái_flags value") \

90 
	`XX
(
EAI_BADHINTS
, "invalid value for hints") \

91 
	`XX
(
EAI_CANCELED
, "request canceled") \

92 
	`XX
(
EAI_FAIL
, "permanent failure") \

93 
	`XX
(
EAI_FAMILY
, "ai_familyÇot supported") \

94 
	`XX
(
EAI_MEMORY
, "out of memory") \

95 
	`XX
(
EAI_NODATA
, "noáddress") \

96 
	`XX
(
EAI_NONAME
, "unknownÇode or service") \

97 
	`XX
(
EAI_OVERFLOW
, "argument buffer overflow") \

98 
	`XX
(
EAI_PROTOCOL
, "resolvedÖrotocol is unknown") \

99 
	`XX
(
EAI_SERVICE
, "serviceÇotávailable for socketÅype") \

100 
	`XX
(
EAI_SOCKTYPE
, "socketÅypeÇot supported") \

101 
	`XX
(
EALREADY
, "connectionálready inÖrogress") \

102 
	`XX
(
EBUSY
, "resource busy orÜocked") \

103 
	`XX
(
ECANCELED
, "operation canceled") \

104 
	`XX
(
ECONNREFUSED
, "connectionÑefused") \

105 
	`XX
(
EINVAL
, "invalidárgument") \

106 
	`XX
(
EIO
, "i/oÉrror") \

107 
	`XX
(
ELOOP
, "too many symbolicÜinksÉncountered") \

108 
	`XX
(
ENAMETOOLONG
, "nameÅooÜong") \

109 
	`XX
(
ENOBUFS
, "no buffer spaceávailable") \

110 
	`XX
(
ENOENT
, "no such file or directory") \

111 
	`XX
(
ENOMEM
, "notÉnough memory") \

112 
	`XX
(
ENOSPC
, "no spaceÜeft on device") \

113 
	`XX
(
ENOTDIR
, "notá directory") \

114 
	`XX
(
EPERM
, "operationÇotÖermitted") \

115 
	`XX
(
ETIMEDOUT
, "connectionÅimed out") \

116 
	`XX
(
EOF
, "end of file") \

117 

	)

118 
	#UV_HANDLE_TYPE_MAP
(
XX
) \

119 
	`XX
(
ASYNC
, 
async
) \

120 
	`XX
(
CHECK
, 
check
) \

121 
	`XX
(
FS_EVENT
, 
fs_evít
) \

122 
	`XX
(
FS_POLL
, 
fs_pﬁl
) \

123 
	`XX
(
HANDLE
, 
h™dÀ
) \

124 
	`XX
(
IDLE
, 
idÀ
) \

125 
	`XX
(
NAMED_PIPE
, 
pùe
) \

126 
	`XX
(
POLL
, 
pﬁl
) \

127 
	`XX
(
PREPARE
, 
¥ï¨e
) \

128 
	`XX
(
PROCESS
, 
¥o˚ss
) \

129 
	`XX
(
STREAM
, 
°ªam
) \

130 
	`XX
(
TCP
, 
t˝
) \

131 
	`XX
(
TIMER
, 
timî
) \

132 
	`XX
(
TTY
, 
ây
) \

133 
	`XX
(
UDP
, 
udp
) \

134 
	`XX
(
SIGNAL
, 
sig«l
) \

135 

	)

136 
	#UV_REQ_TYPE_MAP
(
XX
) \

137 
	`XX
(
REQ
, 
ªq
) \

138 
	`XX
(
CONNECT
, 
c⁄√˘
) \

139 
	`XX
(
WRITE
, 
wrôe
) \

140 
	`XX
(
SHUTDOWN
, 
shutdown
) \

141 
	`XX
(
UDP_SEND
, 
udp_£nd
) \

142 
	`XX
(
FS
, 
fs
) \

143 
	`XX
(
WORK
, 
w‹k
) \

144 
	`XX
(
GETADDRINFO
, 
gëaddröfo
) \

145 
	`XX
(
GETNAMEINFO
, 
gë«meöfo
) \

146 

	)

148 
	#XX
(
code
, 
_
Ë
UV_
 ## codê
UV__
 ## code,

	)

149 
UV_ERRNO_MAP
(
XX
)

150 #unde‡
XX


151 
UV_ERRNO_MAX
 = 
UV__EOF
 - 1

152 } 
	tuv_î∫o_t
;

155 
UV_UNKNOWN_HANDLE
 = 0,

156 
	#XX
(
uc
, 
lc
Ë
UV_
##uc,

	)

157 
UV_HANDLE_TYPE_MAP
(
XX
)

158 #unde‡
XX


159 
UV_FILE
,

160 
UV_HANDLE_TYPE_MAX


161 } 
	tuv_h™dÀ_ty≥
;

164 
UV_UNKNOWN_REQ
 = 0,

165 
	#XX
(
uc
, 
lc
Ë
UV_
##uc,

	)

166 
UV_REQ_TYPE_MAP
(
XX
)

167 #unde‡
XX


168 
UV_REQ_TYPE_PRIVATE


169 
UV_REQ_TYPE_MAX


170 } 
	tuv_ªq_ty≥
;

174 
uv_lo›_s
 
	tuv_lo›_t
;

175 
uv_h™dÀ_s
 
	tuv_h™dÀ_t
;

176 
uv_°ªam_s
 
	tuv_°ªam_t
;

177 
uv_t˝_s
 
	tuv_t˝_t
;

178 
uv_udp_s
 
	tuv_udp_t
;

179 
uv_pùe_s
 
	tuv_pùe_t
;

180 
uv_ây_s
 
	tuv_ây_t
;

181 
uv_pﬁl_s
 
	tuv_pﬁl_t
;

182 
uv_timî_s
 
	tuv_timî_t
;

183 
uv_¥ï¨e_s
 
	tuv_¥ï¨e_t
;

184 
uv_check_s
 
	tuv_check_t
;

185 
uv_idÀ_s
 
	tuv_idÀ_t
;

186 
uv_async_s
 
	tuv_async_t
;

187 
uv_¥o˚ss_s
 
	tuv_¥o˚ss_t
;

188 
uv_fs_evít_s
 
	tuv_fs_evít_t
;

189 
uv_fs_pﬁl_s
 
	tuv_fs_pﬁl_t
;

190 
uv_sig«l_s
 
	tuv_sig«l_t
;

193 
uv_ªq_s
 
	tuv_ªq_t
;

194 
uv_gëaddröfo_s
 
	tuv_gëaddröfo_t
;

195 
uv_gë«meöfo_s
 
	tuv_gë«meöfo_t
;

196 
uv_shutdown_s
 
	tuv_shutdown_t
;

197 
uv_wrôe_s
 
	tuv_wrôe_t
;

198 
uv_c⁄√˘_s
 
	tuv_c⁄√˘_t
;

199 
uv_udp_£nd_s
 
	tuv_udp_£nd_t
;

200 
uv_fs_s
 
	tuv_fs_t
;

201 
uv_w‹k_s
 
	tuv_w‹k_t
;

204 
uv_˝u_öfo_s
 
	tuv_˝u_öfo_t
;

205 
uv_öãrÁ˚_addªss_s
 
	tuv_öãrÁ˚_addªss_t
;

206 
uv_dúít_s
 
	tuv_dúít_t
;

207 
uv_∑sswd_s
 
	tuv_∑sswd_t
;

210 
UV_LOOP_BLOCK_SIGNAL


211 } 
	tuv_lo›_›ti⁄
;

214 
UV_RUN_DEFAULT
 = 0,

215 
UV_RUN_ONCE
,

216 
UV_RUN_NOWAIT


217 } 
	tuv_run_mode
;

220 
UV_EXTERN
 
uv_vîsi⁄
();

221 
UV_EXTERN
 c⁄° * 
uv_vîsi⁄_°rög
();

223 * (*
	tuv_mÆloc_func
)(
	tsize_t
 
	tsize
);

224 * (*
	tuv_ªÆloc_func
)(* 
	t±r
, 
	tsize_t
 
	tsize
);

225 * (*
	tuv_ˇŒoc_func
)(
	tsize_t
 
	tcou¡
, size_à
	tsize
);

226 (*
uv_‰ì_func
)(* 
	t±r
);

228 
UV_EXTERN
 
uv_ª∂a˚_Æloˇt‹
(
uv_mÆloc_func
 
mÆloc_func
,

229 
uv_ªÆloc_func
 
ªÆloc_func
,

230 
uv_ˇŒoc_func
 
ˇŒoc_func
,

231 
uv_‰ì_func
 
‰ì_func
);

233 
UV_EXTERN
 
uv_lo›_t
* 
uv_deÁu…_lo›
();

234 
UV_EXTERN
 
uv_lo›_öô
(
uv_lo›_t
* 
lo›
);

235 
UV_EXTERN
 
uv_lo›_˛o£
(
uv_lo›_t
* 
lo›
);

241 
UV_EXTERN
 
uv_lo›_t
* 
uv_lo›_√w
();

247 
UV_EXTERN
 
uv_lo›_dñëe
(
uv_lo›_t
*);

248 
UV_EXTERN
 
size_t
 
uv_lo›_size
();

249 
UV_EXTERN
 
uv_lo›_Æive
(c⁄° 
uv_lo›_t
* 
lo›
);

250 
UV_EXTERN
 
uv_lo›_c⁄figuª
(
uv_lo›_t
* 
lo›
, 
uv_lo›_›ti⁄
 
›ti⁄
, ...);

251 
UV_EXTERN
 
uv_lo›_has_a˘ive_ªqs
(c⁄° 
uv_lo›_t
* 
lo›
);

253 
UV_EXTERN
 
uv_run
(
uv_lo›_t
*, 
uv_run_mode
 
mode
);

254 
UV_EXTERN
 
uv_°›
(
uv_lo›_t
*);

256 
UV_EXTERN
 
uv_ªf
(
uv_h™dÀ_t
*);

257 
UV_EXTERN
 
uv_uƒef
(
uv_h™dÀ_t
*);

258 
UV_EXTERN
 
uv_has_ªf
(c⁄° 
uv_h™dÀ_t
*);

260 
UV_EXTERN
 
uv_upd©e_time
(
uv_lo›_t
*);

261 
UV_EXTERN
 
uöt64_t
 
uv_now
(c⁄° 
uv_lo›_t
*);

263 
UV_EXTERN
 
uv_backíd_fd
(c⁄° 
uv_lo›_t
*);

264 
UV_EXTERN
 
uv_backíd_timeout
(c⁄° 
uv_lo›_t
*);

266 (*
uv_Æloc_cb
)(
	tuv_h™dÀ_t
* 
	th™dÀ
,

267 
	tsize_t
 
	tsugge°ed_size
,

268 
	tuv_buf_t
* 
	tbuf
);

269 (*
uv_ªad_cb
)(
	tuv_°ªam_t
* 
	t°ªam
,

270 
	tssize_t
 
	tƒód
,

271 c⁄° 
	tuv_buf_t
* 
	tbuf
);

272 (*
uv_wrôe_cb
)(
	tuv_wrôe_t
* 
	tªq
, 
	t°©us
);

273 (*
uv_c⁄√˘_cb
)(
	tuv_c⁄√˘_t
* 
	tªq
, 
	t°©us
);

274 (*
uv_shutdown_cb
)(
	tuv_shutdown_t
* 
	tªq
, 
	t°©us
);

275 (*
uv_c⁄√˘i⁄_cb
)(
	tuv_°ªam_t
* 
	t£rvî
, 
	t°©us
);

276 (*
uv_˛o£_cb
)(
	tuv_h™dÀ_t
* 
	th™dÀ
);

277 (*
uv_pﬁl_cb
)(
	tuv_pﬁl_t
* 
	th™dÀ
, 
	t°©us
, 
	tevíts
);

278 (*
uv_timî_cb
)(
	tuv_timî_t
* 
	th™dÀ
);

279 (*
uv_async_cb
)(
	tuv_async_t
* 
	th™dÀ
);

280 (*
uv_¥ï¨e_cb
)(
	tuv_¥ï¨e_t
* 
	th™dÀ
);

281 (*
uv_check_cb
)(
	tuv_check_t
* 
	th™dÀ
);

282 (*
uv_idÀ_cb
)(
	tuv_idÀ_t
* 
	th™dÀ
);

283 (*
uv_exô_cb
)(
	tuv_¥o˚ss_t
*, 
	töt64_t
 
	texô_°©us
, 
	tãrm_sig«l
);

284 (*
uv_wÆk_cb
)(
	tuv_h™dÀ_t
* 
	th™dÀ
, * 
	t¨g
);

285 (*
uv_fs_cb
)(
	tuv_fs_t
* 
	tªq
);

286 (*
uv_w‹k_cb
)(
	tuv_w‹k_t
* 
	tªq
);

287 (*
uv_a·î_w‹k_cb
)(
	tuv_w‹k_t
* 
	tªq
, 
	t°©us
);

288 (*
uv_gëaddröfo_cb
)(
	tuv_gëaddröfo_t
* 
	tªq
,

289 
	t°©us
,

290 
	taddröfo
* 
	tªs
);

291 (*
uv_gë«meöfo_cb
)(
	tuv_gë«meöfo_t
* 
	tªq
,

292 
	t°©us
,

293 c⁄° * 
	tho°«me
,

294 c⁄° * 
	t£rvi˚
);

297 
tv_£c
;

298 
tv_n£c
;

299 } 
	tuv_time•ec_t
;

303 
uöt64_t
 
°_dev
;

304 
uöt64_t
 
°_mode
;

305 
uöt64_t
 
°_∆ök
;

306 
uöt64_t
 
°_uid
;

307 
uöt64_t
 
°_gid
;

308 
uöt64_t
 
°_rdev
;

309 
uöt64_t
 
°_öo
;

310 
uöt64_t
 
°_size
;

311 
uöt64_t
 
°_blksize
;

312 
uöt64_t
 
°_blocks
;

313 
uöt64_t
 
°_Êags
;

314 
uöt64_t
 
°_gí
;

315 
uv_time•ec_t
 
°_©im
;

316 
uv_time•ec_t
 
°_mtim
;

317 
uv_time•ec_t
 
°_˘im
;

318 
uv_time•ec_t
 
°_búthtim
;

319 } 
	tuv_°©_t
;

322 (*
uv_fs_evít_cb
)(
	tuv_fs_evít_t
* 
	th™dÀ
,

323 c⁄° * 
	tfûíame
,

324 
	tevíts
,

325 
	t°©us
);

327 (*
uv_fs_pﬁl_cb
)(
	tuv_fs_pﬁl_t
* 
	th™dÀ
,

328 
	t°©us
,

329 c⁄° 
	tuv_°©_t
* 
	t¥ev
,

330 c⁄° 
	tuv_°©_t
* 
	tcuº
);

332 (*
uv_sig«l_cb
)(
	tuv_sig«l_t
* 
	th™dÀ
, 
	tsignum
);

336 
UV_LEAVE_GROUP
 = 0,

337 
UV_JOIN_GROUP


338 } 
	tuv_membîshù
;

341 
UV_EXTERN
 
uv_å™¶©e_sys_îr‹
(
sys_î∫o
);

343 
UV_EXTERN
 c⁄° * 
uv_°ªº‹
(
îr
);

344 
UV_EXTERN
 c⁄° * 
uv_îr_«me
(
îr
);

347 #ifde‡
TUV_ENABLE_MEMORY_CONSTRAINTS


348 
	#UV_REQ_FIELDS
 \

350 * 
d©a
; \

352 
uv_ªq_ty≥
 
ty≥
; \

354 * 
a˘ive_queue
[2]; \

355 
UV_REQ_PRIVATE_FIELDS


	)

357 
	#UV_REQ_FIELDS
 \

359 * 
d©a
; \

361 
uv_ªq_ty≥
 
ty≥
; \

363 * 
a˘ive_queue
[2]; \

364 * 
ª£rved
[4]; \

365 
UV_REQ_PRIVATE_FIELDS


	)

369 
	suv_ªq_s
 {

370 
UV_REQ_FIELDS


375 
UV_PRIVATE_REQ_TYPES


378 
UV_EXTERN
 
uv_shutdown
(
uv_shutdown_t
* 
ªq
,

379 
uv_°ªam_t
* 
h™dÀ
,

380 
uv_shutdown_cb
 
cb
);

382 
	suv_shutdown_s
 {

383 
UV_REQ_FIELDS


384 
uv_°ªam_t
* 
h™dÀ
;

385 
uv_shutdown_cb
 
cb
;

386 
UV_SHUTDOWN_PRIVATE_FIELDS


390 #ifde‡
TUV_ENABLE_MEMORY_CONSTRAINTS


391 
	#UV_HANDLE_FIELDS
 \

393 * 
d©a
; \

395 
uv_lo›_t
* 
lo›
; \

396 
uv_h™dÀ_ty≥
 
ty≥
; \

398 
uv_˛o£_cb
 
˛o£_cb
; \

399 * 
h™dÀ_queue
[2]; \

401 
fd
; \

402 } 
u
; \

403 
UV_HANDLE_PRIVATE_FIELDS


	)

405 
	#UV_HANDLE_FIELDS
 \

407 * 
d©a
; \

409 
uv_lo›_t
* 
lo›
; \

410 
uv_h™dÀ_ty≥
 
ty≥
; \

412 
uv_˛o£_cb
 
˛o£_cb
; \

413 * 
h™dÀ_queue
[2]; \

415 
fd
; \

416 * 
ª£rved
[4]; \

417 } 
u
; \

418 
UV_HANDLE_PRIVATE_FIELDS


	)

422 
	suv_h™dÀ_s
 {

423 
UV_HANDLE_FIELDS


426 
UV_EXTERN
 
size_t
 
uv_h™dÀ_size
(
uv_h™dÀ_ty≥
 
ty≥
);

427 
UV_EXTERN
 
size_t
 
uv_ªq_size
(
uv_ªq_ty≥
 
ty≥
);

429 
UV_EXTERN
 
uv_is_a˘ive
(c⁄° 
uv_h™dÀ_t
* 
h™dÀ
);

431 
UV_EXTERN
 
uv_wÆk
(
uv_lo›_t
* 
lo›
, 
uv_wÆk_cb
 
wÆk_cb
, * 
¨g
);

434 
UV_EXTERN
 
uv_¥öt_Æl_h™dÀs
(
uv_lo›_t
* 
lo›
, 
FILE
* 
°ªam
);

435 
UV_EXTERN
 
uv_¥öt_a˘ive_h™dÀs
(
uv_lo›_t
* 
lo›
, 
FILE
* 
°ªam
);

437 
UV_EXTERN
 
uv_˛o£
(
uv_h™dÀ_t
* 
h™dÀ
, 
uv_˛o£_cb
 
˛o£_cb
);

439 
UV_EXTERN
 
uv_£nd_buf„r_size
(
uv_h™dÀ_t
* 
h™dÀ
, * 
vÆue
);

440 
UV_EXTERN
 
uv_ªcv_buf„r_size
(
uv_h™dÀ_t
* 
h™dÀ
, * 
vÆue
);

442 
UV_EXTERN
 
uv_fûío
(c⁄° 
uv_h™dÀ_t
* 
h™dÀ
, 
uv_os_fd_t
* 
fd
);

444 
UV_EXTERN
 
uv_buf_t
 
uv_buf_öô
(* 
ba£
, 
Àn
);

447 
	#UV_STREAM_FIELDS
 \

449 
size_t
 
wrôe_queue_size
; \

450 
uv_Æloc_cb
 
Æloc_cb
; \

451 
uv_ªad_cb
 
ªad_cb
; \

453 
UV_STREAM_PRIVATE_FIELDS


	)

462 
	suv_°ªam_s
 {

463 
UV_HANDLE_FIELDS


464 
UV_STREAM_FIELDS


467 
UV_EXTERN
 
uv_li°í
(
uv_°ªam_t
* 
°ªam
, 
backlog
, 
uv_c⁄√˘i⁄_cb
 
cb
);

468 
UV_EXTERN
 
uv_ac˚±
(
uv_°ªam_t
* 
£rvî
, uv_°ªam_t* 
˛õ¡
);

470 
UV_EXTERN
 
uv_ªad_°¨t
(
uv_°ªam_t
*,

471 
uv_Æloc_cb
 
Æloc_cb
,

472 
uv_ªad_cb
 
ªad_cb
);

473 
UV_EXTERN
 
uv_ªad_°›
(
uv_°ªam_t
*);

475 
UV_EXTERN
 
uv_wrôe
(
uv_wrôe_t
* 
ªq
,

476 
uv_°ªam_t
* 
h™dÀ
,

477 c⁄° 
uv_buf_t
 
bufs
[],

478 
nbufs
,

479 
uv_wrôe_cb
 
cb
);

480 
UV_EXTERN
 
uv_wrôe2
(
uv_wrôe_t
* 
ªq
,

481 
uv_°ªam_t
* 
h™dÀ
,

482 c⁄° 
uv_buf_t
 
bufs
[],

483 
nbufs
,

484 
uv_°ªam_t
* 
£nd_h™dÀ
,

485 
uv_wrôe_cb
 
cb
);

486 
UV_EXTERN
 
uv_åy_wrôe
(
uv_°ªam_t
* 
h™dÀ
,

487 c⁄° 
uv_buf_t
 
bufs
[],

488 
nbufs
);

491 
	suv_wrôe_s
 {

492 
UV_REQ_FIELDS


493 
uv_wrôe_cb
 
cb
;

494 
uv_°ªam_t
* 
£nd_h™dÀ
;

495 
uv_°ªam_t
* 
h™dÀ
;

496 
UV_WRITE_PRIVATE_FIELDS


500 
UV_EXTERN
 
uv_is_ªadabÀ
(c⁄° 
uv_°ªam_t
* 
h™dÀ
);

501 
UV_EXTERN
 
uv_is_wrôabÀ
(c⁄° 
uv_°ªam_t
* 
h™dÀ
);

503 
UV_EXTERN
 
uv_°ªam_£t_blockög
(
uv_°ªam_t
* 
h™dÀ
, 
blockög
);

505 
UV_EXTERN
 
uv_is_˛osög
(c⁄° 
uv_h™dÀ_t
* 
h™dÀ
);

513 
	suv_t˝_s
 {

514 
UV_HANDLE_FIELDS


515 
UV_STREAM_FIELDS


516 
UV_TCP_PRIVATE_FIELDS


519 
UV_EXTERN
 
uv_t˝_öô
(
uv_lo›_t
*, 
uv_t˝_t
* 
h™dÀ
);

520 
UV_EXTERN
 
uv_t˝_öô_ex
(
uv_lo›_t
*, 
uv_t˝_t
* 
h™dÀ
, 
Êags
);

521 
UV_EXTERN
 
uv_t˝_›í
(
uv_t˝_t
* 
h™dÀ
, 
uv_os_sock_t
 
sock
);

522 
UV_EXTERN
 
uv_t˝_nodñay
(
uv_t˝_t
* 
h™dÀ
, 
íabÀ
);

523 
UV_EXTERN
 
uv_t˝_kì∑live
(
uv_t˝_t
* 
h™dÀ
,

524 
íabÀ
,

525 
dñay
);

526 
UV_EXTERN
 
uv_t˝_simu…™eous_ac˚±s
(
uv_t˝_t
* 
h™dÀ
, 
íabÀ
);

528 
	euv_t˝_Êags
 {

530 
UV_TCP_IPV6ONLY
 = 1

533 
UV_EXTERN
 
uv_t˝_böd
(
uv_t˝_t
* 
h™dÀ
,

534 c⁄° 
sockaddr
* 
addr
,

535 
Êags
);

536 
UV_EXTERN
 
uv_t˝_gësock«me
(c⁄° 
uv_t˝_t
* 
h™dÀ
,

537 
sockaddr
* 
«me
,

538 * 
«mñí
);

539 
UV_EXTERN
 
uv_t˝_gë≥î«me
(c⁄° 
uv_t˝_t
* 
h™dÀ
,

540 
sockaddr
* 
«me
,

541 * 
«mñí
);

542 
UV_EXTERN
 
uv_t˝_c⁄√˘
(
uv_c⁄√˘_t
* 
ªq
,

543 
uv_t˝_t
* 
h™dÀ
,

544 c⁄° 
sockaddr
* 
addr
,

545 
uv_c⁄√˘_cb
 
cb
);

548 
	suv_c⁄√˘_s
 {

549 
UV_REQ_FIELDS


550 
uv_c⁄√˘_cb
 
cb
;

551 
uv_°ªam_t
* 
h™dÀ
;

552 
UV_CONNECT_PRIVATE_FIELDS


560 
	euv_udp_Êags
 {

562 
UV_UDP_IPV6ONLY
 = 1,

567 
UV_UDP_PARTIAL
 = 2,

576 
UV_UDP_REUSEADDR
 = 4

579 (*
uv_udp_£nd_cb
)(
	tuv_udp_£nd_t
* 
	tªq
, 
	t°©us
);

580 (*
uv_udp_ªcv_cb
)(
	tuv_udp_t
* 
	th™dÀ
,

581 
	tssize_t
 
	tƒód
,

582 c⁄° 
	tuv_buf_t
* 
	tbuf
,

583 c⁄° 
	tsockaddr
* 
	taddr
,

584 
	tÊags
);

587 
	suv_udp_s
 {

588 
UV_HANDLE_FIELDS


594 
size_t
 
£nd_queue_size
;

598 
size_t
 
£nd_queue_cou¡
;

599 
UV_UDP_PRIVATE_FIELDS


603 
	suv_udp_£nd_s
 {

604 
UV_REQ_FIELDS


605 
uv_udp_t
* 
h™dÀ
;

606 
uv_udp_£nd_cb
 
cb
;

607 
UV_UDP_SEND_PRIVATE_FIELDS


610 
UV_EXTERN
 
uv_udp_öô
(
uv_lo›_t
*, 
uv_udp_t
* 
h™dÀ
);

611 
UV_EXTERN
 
uv_udp_öô_ex
(
uv_lo›_t
*, 
uv_udp_t
* 
h™dÀ
, 
Êags
);

612 
UV_EXTERN
 
uv_udp_›í
(
uv_udp_t
* 
h™dÀ
, 
uv_os_sock_t
 
sock
);

613 
UV_EXTERN
 
uv_udp_böd
(
uv_udp_t
* 
h™dÀ
,

614 c⁄° 
sockaddr
* 
addr
,

615 
Êags
);

617 
UV_EXTERN
 
uv_udp_gësock«me
(c⁄° 
uv_udp_t
* 
h™dÀ
,

618 
sockaddr
* 
«me
,

619 * 
«mñí
);

620 
UV_EXTERN
 
uv_udp_£t_membîshù
(
uv_udp_t
* 
h™dÀ
,

621 c⁄° * 
mu…iˇ°_addr
,

622 c⁄° * 
öãrÁ˚_addr
,

623 
uv_membîshù
 
membîshù
);

624 
UV_EXTERN
 
uv_udp_£t_mu…iˇ°_lo›
(
uv_udp_t
* 
h™dÀ
, 
⁄
);

625 
UV_EXTERN
 
uv_udp_£t_mu…iˇ°_âl
(
uv_udp_t
* 
h™dÀ
, 
âl
);

626 
UV_EXTERN
 
uv_udp_£t_mu…iˇ°_öãrÁ˚
(
uv_udp_t
* 
h™dÀ
,

627 c⁄° * 
öãrÁ˚_addr
);

628 
UV_EXTERN
 
uv_udp_£t_brﬂdˇ°
(
uv_udp_t
* 
h™dÀ
, 
⁄
);

629 
UV_EXTERN
 
uv_udp_£t_âl
(
uv_udp_t
* 
h™dÀ
, 
âl
);

630 
UV_EXTERN
 
uv_udp_£nd
(
uv_udp_£nd_t
* 
ªq
,

631 
uv_udp_t
* 
h™dÀ
,

632 c⁄° 
uv_buf_t
 
bufs
[],

633 
nbufs
,

634 c⁄° 
sockaddr
* 
addr
,

635 
uv_udp_£nd_cb
 
£nd_cb
);

636 
UV_EXTERN
 
uv_udp_åy_£nd
(
uv_udp_t
* 
h™dÀ
,

637 c⁄° 
uv_buf_t
 
bufs
[],

638 
nbufs
,

639 c⁄° 
sockaddr
* 
addr
);

640 
UV_EXTERN
 
uv_udp_ªcv_°¨t
(
uv_udp_t
* 
h™dÀ
,

641 
uv_Æloc_cb
 
Æloc_cb
,

642 
uv_udp_ªcv_cb
 
ªcv_cb
);

643 
UV_EXTERN
 
uv_udp_ªcv_°›
(
uv_udp_t
* 
h™dÀ
);

651 
	suv_ây_s
 {

652 
UV_HANDLE_FIELDS


653 
UV_STREAM_FIELDS


654 
UV_TTY_PRIVATE_FIELDS


659 
UV_TTY_MODE_NORMAL
,

661 
UV_TTY_MODE_RAW
,

663 
UV_TTY_MODE_IO


664 } 
	tuv_ây_mode_t
;

666 
UV_EXTERN
 
uv_ây_öô
(
uv_lo›_t
*, 
uv_ây_t
*, 
uv_fûe
 
fd
, 
ªadabÀ
);

667 
UV_EXTERN
 
uv_ây_£t_mode
(
uv_ây_t
*, 
uv_ây_mode_t
 
mode
);

668 
UV_EXTERN
 
uv_ây_ª£t_mode
();

669 
UV_EXTERN
 
uv_ây_gë_wösize
(
uv_ây_t
*, * 
width
, * 
height
);

671 #ifde‡
__˝lu•lus


674 
ölöe
 
uv_ây_£t_mode
(
uv_ây_t
* 
h™dÀ
, 
mode
) {

675  
uv_ây_£t_mode
(
h™dÀ
, 
°©ic_ˇ°
<
uv_ây_mode_t
>(
mode
));

681 
UV_EXTERN
 
uv_h™dÀ_ty≥
 
uv_guess_h™dÀ
(
uv_fûe
 
fûe
);

689 
	suv_pùe_s
 {

690 
UV_HANDLE_FIELDS


691 
UV_STREAM_FIELDS


692 
	gùc
;

693 
	gUV_PIPE_PRIVATE_FIELDS


696 
UV_EXTERN
 
uv_pùe_öô
(
uv_lo›_t
*, 
uv_pùe_t
* 
h™dÀ
, 
ùc
);

697 
UV_EXTERN
 
uv_pùe_›í
(
uv_pùe_t
*, 
uv_fûe
 
fûe
);

698 
UV_EXTERN
 
uv_pùe_böd
(
uv_pùe_t
* 
h™dÀ
, c⁄° * 
«me
);

699 
UV_EXTERN
 
uv_pùe_c⁄√˘
(
uv_c⁄√˘_t
* 
ªq
,

700 
uv_pùe_t
* 
h™dÀ
,

701 c⁄° * 
«me
,

702 
uv_c⁄√˘_cb
 
cb
);

703 
UV_EXTERN
 
uv_pùe_gësock«me
(c⁄° 
uv_pùe_t
* 
h™dÀ
,

704 * 
buf„r
,

705 
size_t
* 
size
);

706 
UV_EXTERN
 
uv_pùe_gë≥î«me
(c⁄° 
uv_pùe_t
* 
h™dÀ
,

707 * 
buf„r
,

708 
size_t
* 
size
);

709 
UV_EXTERN
 
uv_pùe_≥ndög_ö°™˚s
(
uv_pùe_t
* 
h™dÀ
, 
cou¡
);

710 
UV_EXTERN
 
uv_pùe_≥ndög_cou¡
(
uv_pùe_t
* 
h™dÀ
);

711 
UV_EXTERN
 
uv_h™dÀ_ty≥
 
uv_pùe_≥ndög_ty≥
(
uv_pùe_t
* 
h™dÀ
);

714 
	suv_pﬁl_s
 {

715 
UV_HANDLE_FIELDS


716 
uv_pﬁl_cb
 
	gpﬁl_cb
;

717 
	gUV_POLL_PRIVATE_FIELDS


720 
	euv_pﬁl_evít
 {

721 
	gUV_READABLE
 = 1,

722 
	gUV_WRITABLE
 = 2,

723 
	gUV_DISCONNECT
 = 4

726 
UV_EXTERN
 
uv_pﬁl_öô
(
uv_lo›_t
* 
lo›
, 
uv_pﬁl_t
* 
h™dÀ
, 
fd
);

727 
UV_EXTERN
 
uv_pﬁl_öô_sockë
(
uv_lo›_t
* 
lo›
,

728 
uv_pﬁl_t
* 
h™dÀ
,

729 
uv_os_sock_t
 
sockë
);

730 
UV_EXTERN
 
uv_pﬁl_°¨t
(
uv_pﬁl_t
* 
h™dÀ
, 
evíts
, 
uv_pﬁl_cb
 
cb
);

731 
UV_EXTERN
 
uv_pﬁl_°›
(
uv_pﬁl_t
* 
h™dÀ
);

734 
	suv_¥ï¨e_s
 {

735 
UV_HANDLE_FIELDS


736 
	gUV_PREPARE_PRIVATE_FIELDS


739 
UV_EXTERN
 
uv_¥ï¨e_öô
(
uv_lo›_t
*, 
uv_¥ï¨e_t
* 
¥ï¨e
);

740 
UV_EXTERN
 
uv_¥ï¨e_°¨t
(
uv_¥ï¨e_t
* 
¥ï¨e
, 
uv_¥ï¨e_cb
 
cb
);

741 
UV_EXTERN
 
uv_¥ï¨e_°›
(
uv_¥ï¨e_t
* 
¥ï¨e
);

744 
	suv_check_s
 {

745 
UV_HANDLE_FIELDS


746 
	gUV_CHECK_PRIVATE_FIELDS


749 
UV_EXTERN
 
uv_check_öô
(
uv_lo›_t
*, 
uv_check_t
* 
check
);

750 
UV_EXTERN
 
uv_check_°¨t
(
uv_check_t
* 
check
, 
uv_check_cb
 
cb
);

751 
UV_EXTERN
 
uv_check_°›
(
uv_check_t
* 
check
);

754 
	suv_idÀ_s
 {

755 
UV_HANDLE_FIELDS


756 
	gUV_IDLE_PRIVATE_FIELDS


759 
UV_EXTERN
 
uv_idÀ_öô
(
uv_lo›_t
*, 
uv_idÀ_t
* 
idÀ
);

760 
UV_EXTERN
 
uv_idÀ_°¨t
(
uv_idÀ_t
* 
idÀ
, 
uv_idÀ_cb
 
cb
);

761 
UV_EXTERN
 
uv_idÀ_°›
(
uv_idÀ_t
* 
idÀ
);

764 
	suv_async_s
 {

765 
UV_HANDLE_FIELDS


766 
	gUV_ASYNC_PRIVATE_FIELDS


769 
UV_EXTERN
 
uv_async_öô
(
uv_lo›_t
*,

770 
uv_async_t
* 
async
,

771 
uv_async_cb
 
async_cb
);

772 
UV_EXTERN
 
tuv_async_deöô
(
uv_lo›_t
* 
lo›
,

773 
uv_async_t
* 
h™dÀ
);

774 
UV_EXTERN
 
uv_async_£nd
(
uv_async_t
* 
async
);

782 
	suv_timî_s
 {

783 
UV_HANDLE_FIELDS


784 
	gUV_TIMER_PRIVATE_FIELDS


787 
UV_EXTERN
 
uv_timî_öô
(
uv_lo›_t
*, 
uv_timî_t
* 
h™dÀ
);

788 
UV_EXTERN
 
tuv_timî_deöô
(
uv_lo›_t
*, 
uv_timî_t
* 
h™dÀ
);

789 
UV_EXTERN
 
uv_timî_°¨t
(
uv_timî_t
* 
h™dÀ
,

790 
uv_timî_cb
 
cb
,

791 
uöt64_t
 
timeout
,

792 
uöt64_t
 
ª≥©
);

793 
UV_EXTERN
 
uv_timî_°›
(
uv_timî_t
* 
h™dÀ
);

794 
UV_EXTERN
 
uv_timî_agaö
(
uv_timî_t
* 
h™dÀ
);

795 
UV_EXTERN
 
uv_timî_£t_ª≥©
(
uv_timî_t
* 
h™dÀ
, 
uöt64_t
 
ª≥©
);

796 
UV_EXTERN
 
uöt64_t
 
uv_timî_gë_ª≥©
(c⁄° 
uv_timî_t
* 
h™dÀ
);

804 
	suv_gëaddröfo_s
 {

805 
UV_REQ_FIELDS


807 
uv_lo›_t
* 
	glo›
;

809 
	gUV_GETADDRINFO_PRIVATE_FIELDS


813 
UV_EXTERN
 
uv_gëaddröfo
(
uv_lo›_t
* 
lo›
,

814 
uv_gëaddröfo_t
* 
ªq
,

815 
uv_gëaddröfo_cb
 
gëaddröfo_cb
,

816 c⁄° * 
node
,

817 c⁄° * 
£rvi˚
,

818 c⁄° 
addröfo
* 
höts
);

819 
UV_EXTERN
 
uv_‰ìaddröfo
(
addröfo
* 
ai
);

827 
	suv_gë«meöfo_s
 {

828 
UV_REQ_FIELDS


830 
uv_lo›_t
* 
	glo›
;

832 
	gUV_GETNAMEINFO_PRIVATE_FIELDS


835 
UV_EXTERN
 
uv_gë«meöfo
(
uv_lo›_t
* 
lo›
,

836 
uv_gë«meöfo_t
* 
ªq
,

837 
uv_gë«meöfo_cb
 
gë«meöfo_cb
,

838 c⁄° 
sockaddr
* 
addr
,

839 
Êags
);

844 
	gUV_IGNORE
 = 0x00,

845 
	gUV_CREATE_PIPE
 = 0x01,

846 
	gUV_INHERIT_FD
 = 0x02,

847 
	gUV_INHERIT_STREAM
 = 0x04,

854 
	gUV_READABLE_PIPE
 = 0x10,

855 
	gUV_WRITABLE_PIPE
 = 0x20

856 } 
	tuv_°dio_Êags
;

858 
	suv_°dio_c⁄èöî_s
 {

859 
uv_°dio_Êags
 
	gÊags
;

862 
uv_°ªam_t
* 
	g°ªam
;

863 
	gfd
;

864 } 
	gd©a
;

865 } 
	tuv_°dio_c⁄èöî_t
;

867 
	suv_¥o˚ss_›ti⁄s_s
 {

868 
uv_exô_cb
 
	gexô_cb
;

869 c⁄° * 
	gfûe
;

876 ** 
	g¨gs
;

881 ** 
	gív
;

886 c⁄° * 
	gcwd
;

891 
	gÊags
;

901 
	g°dio_cou¡
;

902 
uv_°dio_c⁄èöî_t
* 
	g°dio
;

908 
uv_uid_t
 
	guid
;

909 
uv_gid_t
 
	ggid
;

910 } 
	tuv_¥o˚ss_›ti⁄s_t
;

915 
	euv_¥o˚ss_Êags
 {

921 
	gUV_PROCESS_SETUID
 = (1 << 0),

927 
	gUV_PROCESS_SETGID
 = (1 << 1),

933 
	gUV_PROCESS_WINDOWS_VERBATIM_ARGUMENTS
 = (1 << 2),

941 
	gUV_PROCESS_DETACHED
 = (1 << 3),

947 
	gUV_PROCESS_WINDOWS_HIDE
 = (1 << 4)

953 
	suv_¥o˚ss_s
 {

954 
UV_HANDLE_FIELDS


955 
uv_exô_cb
 
	gexô_cb
;

956 
	gpid
;

957 
	gUV_PROCESS_PRIVATE_FIELDS


960 
UV_EXTERN
 
uv_•awn
(
uv_lo›_t
* 
lo›
,

961 
uv_¥o˚ss_t
* 
h™dÀ
,

962 c⁄° 
uv_¥o˚ss_›ti⁄s_t
* 
›ti⁄s
);

963 
UV_EXTERN
 
uv_¥o˚ss_kûl
(
uv_¥o˚ss_t
*, 
signum
);

964 
UV_EXTERN
 
uv_kûl
(
pid
, 
signum
);

970 
	suv_w‹k_s
 {

971 
UV_REQ_FIELDS


972 
uv_lo›_t
* 
	glo›
;

973 
uv_w‹k_cb
 
	gw‹k_cb
;

974 
uv_a·î_w‹k_cb
 
	ga·î_w‹k_cb
;

975 
	gUV_WORK_PRIVATE_FIELDS


978 
UV_EXTERN
 
uv_queue_w‹k
(
uv_lo›_t
* 
lo›
,

979 
uv_w‹k_t
* 
ªq
,

980 
uv_w‹k_cb
 
w‹k_cb
,

981 
uv_a·î_w‹k_cb
 
a·î_w‹k_cb
);

983 
UV_EXTERN
 
uv_ˇn˚l
(
uv_ªq_t
* 
ªq
);

984 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TUV_RAW__
Ë|| deföed(
__TIZENRT__
)

986 
UV_EXTERN
 
tuv_˛ónup
();

989 
	suv_˝u_öfo_s
 {

990 * 
	gmodñ
;

991 
	g•ìd
;

992 
	suv_˝u_times_s
 {

993 
uöt64_t
 
	gu£r
;

994 
uöt64_t
 
	gni˚
;

995 
uöt64_t
 
	gsys
;

996 
uöt64_t
 
	gidÀ
;

997 
uöt64_t
 
	gúq
;

998 } 
	g˝u_times
;

1001 
	suv_öãrÁ˚_addªss_s
 {

1002 * 
	g«me
;

1003 
	gphys_addr
[6];

1004 
	gis_öã∫Æ
;

1006 
sockaddr_ö
 
	gaddªss4
;

1007 
sockaddr_ö6
 
	gaddªss6
;

1008 } 
	gaddªss
;

1010 
sockaddr_ö
 
	g√tmask4
;

1011 
sockaddr_ö6
 
	g√tmask6
;

1012 } 
	g√tmask
;

1015 
	suv_∑sswd_s
 {

1016 * 
	gu£∫ame
;

1017 
	guid
;

1018 
	ggid
;

1019 * 
	gshñl
;

1020 * 
	ghomedú
;

1024 
	gUV_DIRENT_UNKNOWN
,

1025 
	gUV_DIRENT_FILE
,

1026 
	gUV_DIRENT_DIR
,

1027 
	gUV_DIRENT_LINK
,

1028 
	gUV_DIRENT_FIFO
,

1029 
	gUV_DIRENT_SOCKET
,

1030 
	gUV_DIRENT_CHAR
,

1031 
	gUV_DIRENT_BLOCK


1032 } 
	tuv_dúít_ty≥_t
;

1034 
	suv_dúít_s
 {

1035 c⁄° * 
	g«me
;

1036 
uv_dúít_ty≥_t
 
	gty≥
;

1039 
UV_EXTERN
 
uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
);

1040 
UV_EXTERN
 
uv_u±ime
(* 
u±ime
);

1043 
	gtv_£c
;

1044 
	gtv_u£c
;

1045 } 
	tuv_timevÆ_t
;

1048 
uv_timevÆ_t
 
	gru_utime
;

1049 
uv_timevÆ_t
 
	gru_°ime
;

1050 
uöt64_t
 
	gru_maxrss
;

1051 
uöt64_t
 
	gru_ixrss
;

1052 
uöt64_t
 
	gru_idrss
;

1053 
uöt64_t
 
	gru_i§ss
;

1054 
uöt64_t
 
	gru_möÊt
;

1055 
uöt64_t
 
	gru_majÊt
;

1056 
uöt64_t
 
	gru_nsw≠
;

1057 
uöt64_t
 
	gru_öblock
;

1058 
uöt64_t
 
	gru_oublock
;

1059 
uöt64_t
 
	gru_msg¢d
;

1060 
uöt64_t
 
	gru_msgrcv
;

1061 
uöt64_t
 
	gru_nsig«ls
;

1062 
uöt64_t
 
	gru_nvcsw
;

1063 
uöt64_t
 
	gru_nivcsw
;

1064 } 
	tuv_rußge_t
;

1066 
UV_EXTERN
 
uv_gërußge
(
uv_rußge_t
* 
rußge
);

1068 
UV_EXTERN
 
uv_os_homedú
(* 
buf„r
, 
size_t
* 
size
);

1069 
UV_EXTERN
 
uv_os_tmpdú
(* 
buf„r
, 
size_t
* 
size
);

1070 
UV_EXTERN
 
uv_os_gë_∑sswd
(
uv_∑sswd_t
* 
pwd
);

1071 
UV_EXTERN
 
uv_os_‰ì_∑sswd
(
uv_∑sswd_t
* 
pwd
);

1073 
UV_EXTERN
 
uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
);

1074 
UV_EXTERN
 
uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
);

1076 
UV_EXTERN
 
uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
,

1077 * 
cou¡
);

1078 
UV_EXTERN
 
uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
,

1079 
cou¡
);

1083 
	gUV_FS_UNKNOWN
 = -1,

1084 
	gUV_FS_CUSTOM
,

1085 
	gUV_FS_OPEN
,

1086 
	gUV_FS_CLOSE
,

1087 
	gUV_FS_READ
,

1088 
	gUV_FS_WRITE
,

1089 
	gUV_FS_SENDFILE
,

1090 
	gUV_FS_STAT
,

1091 
	gUV_FS_LSTAT
,

1092 
	gUV_FS_FSTAT
,

1093 
	gUV_FS_FTRUNCATE
,

1094 
	gUV_FS_UTIME
,

1095 
	gUV_FS_FUTIME
,

1096 
	gUV_FS_ACCESS
,

1097 
	gUV_FS_CHMOD
,

1098 
	gUV_FS_FCHMOD
,

1099 
	gUV_FS_FSYNC
,

1100 
	gUV_FS_FDATASYNC
,

1101 
	gUV_FS_UNLINK
,

1102 
	gUV_FS_RMDIR
,

1103 
	gUV_FS_MKDIR
,

1104 
	gUV_FS_MKDTEMP
,

1105 
	gUV_FS_RENAME
,

1106 
	gUV_FS_SCANDIR
,

1107 
	gUV_FS_LINK
,

1108 
	gUV_FS_SYMLINK
,

1109 
	gUV_FS_READLINK
,

1110 
	gUV_FS_CHOWN
,

1111 
	gUV_FS_FCHOWN
,

1112 
	gUV_FS_REALPATH


1113 } 
	tuv_fs_ty≥
;

1116 
	suv_fs_s
 {

1117 
UV_REQ_FIELDS


1118 
uv_fs_ty≥
 
	gfs_ty≥
;

1119 
uv_lo›_t
* 
	glo›
;

1120 
uv_fs_cb
 
	gcb
;

1121 
ssize_t
 
	gªsu…
;

1122 * 
	g±r
;

1123 c⁄° * 
	g∑th
;

1124 
uv_°©_t
 
	g°©buf
;

1125 
	gUV_FS_PRIVATE_FIELDS


1128 
UV_EXTERN
 
uv_fs_ªq_˛ónup
(
uv_fs_t
* 
ªq
);

1129 
UV_EXTERN
 
uv_fs_˛o£
(
uv_lo›_t
* 
lo›
,

1130 
uv_fs_t
* 
ªq
,

1131 
uv_fûe
 
fûe
,

1132 
uv_fs_cb
 
cb
);

1133 
UV_EXTERN
 
uv_fs_›í
(
uv_lo›_t
* 
lo›
,

1134 
uv_fs_t
* 
ªq
,

1135 c⁄° * 
∑th
,

1136 
Êags
,

1137 
mode
,

1138 
uv_fs_cb
 
cb
);

1139 
UV_EXTERN
 
uv_fs_ªad
(
uv_lo›_t
* 
lo›
,

1140 
uv_fs_t
* 
ªq
,

1141 
uv_fûe
 
fûe
,

1142 c⁄° 
uv_buf_t
 
bufs
[],

1143 
nbufs
,

1144 
öt64_t
 
off£t
,

1145 
uv_fs_cb
 
cb
);

1146 
UV_EXTERN
 
uv_fs_u∆ök
(
uv_lo›_t
* 
lo›
,

1147 
uv_fs_t
* 
ªq
,

1148 c⁄° * 
∑th
,

1149 
uv_fs_cb
 
cb
);

1150 
UV_EXTERN
 
uv_fs_wrôe
(
uv_lo›_t
* 
lo›
,

1151 
uv_fs_t
* 
ªq
,

1152 
uv_fûe
 
fûe
,

1153 c⁄° 
uv_buf_t
 
bufs
[],

1154 
nbufs
,

1155 
öt64_t
 
off£t
,

1156 
uv_fs_cb
 
cb
);

1157 
UV_EXTERN
 
uv_fs_mkdú
(
uv_lo›_t
* 
lo›
,

1158 
uv_fs_t
* 
ªq
,

1159 c⁄° * 
∑th
,

1160 
mode
,

1161 
uv_fs_cb
 
cb
);

1162 
UV_EXTERN
 
uv_fs_mkdãmp
(
uv_lo›_t
* 
lo›
,

1163 
uv_fs_t
* 
ªq
,

1164 c⁄° * 
çl
,

1165 
uv_fs_cb
 
cb
);

1166 
UV_EXTERN
 
uv_fs_rmdú
(
uv_lo›_t
* 
lo›
,

1167 
uv_fs_t
* 
ªq
,

1168 c⁄° * 
∑th
,

1169 
uv_fs_cb
 
cb
);

1170 
UV_EXTERN
 
uv_fs_sˇndú
(
uv_lo›_t
* 
lo›
,

1171 
uv_fs_t
* 
ªq
,

1172 c⁄° * 
∑th
,

1173 
Êags
,

1174 
uv_fs_cb
 
cb
);

1175 
UV_EXTERN
 
uv_fs_sˇndú_√xt
(
uv_fs_t
* 
ªq
,

1176 
uv_dúít_t
* 
ít
);

1177 
UV_EXTERN
 
uv_fs_°©
(
uv_lo›_t
* 
lo›
,

1178 
uv_fs_t
* 
ªq
,

1179 c⁄° * 
∑th
,

1180 
uv_fs_cb
 
cb
);

1181 
UV_EXTERN
 
uv_fs_f°©
(
uv_lo›_t
* 
lo›
,

1182 
uv_fs_t
* 
ªq
,

1183 
uv_fûe
 
fûe
,

1184 
uv_fs_cb
 
cb
);

1185 
UV_EXTERN
 
uv_fs_ª«me
(
uv_lo›_t
* 
lo›
,

1186 
uv_fs_t
* 
ªq
,

1187 c⁄° * 
∑th
,

1188 c⁄° * 
√w_∑th
,

1189 
uv_fs_cb
 
cb
);

1190 
UV_EXTERN
 
uv_fs_fsync
(
uv_lo›_t
* 
lo›
,

1191 
uv_fs_t
* 
ªq
,

1192 
uv_fûe
 
fûe
,

1193 
uv_fs_cb
 
cb
);

1194 
UV_EXTERN
 
uv_fs_fd©async
(
uv_lo›_t
* 
lo›
,

1195 
uv_fs_t
* 
ªq
,

1196 
uv_fûe
 
fûe
,

1197 
uv_fs_cb
 
cb
);

1198 
UV_EXTERN
 
uv_fs_·runˇã
(
uv_lo›_t
* 
lo›
,

1199 
uv_fs_t
* 
ªq
,

1200 
uv_fûe
 
fûe
,

1201 
öt64_t
 
off£t
,

1202 
uv_fs_cb
 
cb
);

1203 
UV_EXTERN
 
uv_fs_£ndfûe
(
uv_lo›_t
* 
lo›
,

1204 
uv_fs_t
* 
ªq
,

1205 
uv_fûe
 
out_fd
,

1206 
uv_fûe
 
ö_fd
,

1207 
öt64_t
 
ö_off£t
,

1208 
size_t
 
Àngth
,

1209 
uv_fs_cb
 
cb
);

1210 
UV_EXTERN
 
uv_fs_ac˚ss
(
uv_lo›_t
* 
lo›
,

1211 
uv_fs_t
* 
ªq
,

1212 c⁄° * 
∑th
,

1213 
mode
,

1214 
uv_fs_cb
 
cb
);

1215 
UV_EXTERN
 
uv_fs_chmod
(
uv_lo›_t
* 
lo›
,

1216 
uv_fs_t
* 
ªq
,

1217 c⁄° * 
∑th
,

1218 
mode
,

1219 
uv_fs_cb
 
cb
);

1220 
UV_EXTERN
 
uv_fs_utime
(
uv_lo›_t
* 
lo›
,

1221 
uv_fs_t
* 
ªq
,

1222 c⁄° * 
∑th
,

1223 
©ime
,

1224 
mtime
,

1225 
uv_fs_cb
 
cb
);

1226 
UV_EXTERN
 
uv_fs_futime
(
uv_lo›_t
* 
lo›
,

1227 
uv_fs_t
* 
ªq
,

1228 
uv_fûe
 
fûe
,

1229 
©ime
,

1230 
mtime
,

1231 
uv_fs_cb
 
cb
);

1232 
UV_EXTERN
 
uv_fs_l°©
(
uv_lo›_t
* 
lo›
,

1233 
uv_fs_t
* 
ªq
,

1234 c⁄° * 
∑th
,

1235 
uv_fs_cb
 
cb
);

1236 
UV_EXTERN
 
uv_fs_lök
(
uv_lo›_t
* 
lo›
,

1237 
uv_fs_t
* 
ªq
,

1238 c⁄° * 
∑th
,

1239 c⁄° * 
√w_∑th
,

1240 
uv_fs_cb
 
cb
);

1246 
	#UV_FS_SYMLINK_DIR
 0x0001

	)

1252 
	#UV_FS_SYMLINK_JUNCTION
 0x0002

	)

1254 
UV_EXTERN
 
uv_fs_symlök
(
uv_lo›_t
* 
lo›
,

1255 
uv_fs_t
* 
ªq
,

1256 c⁄° * 
∑th
,

1257 c⁄° * 
√w_∑th
,

1258 
Êags
,

1259 
uv_fs_cb
 
cb
);

1260 
UV_EXTERN
 
uv_fs_ªadlök
(
uv_lo›_t
* 
lo›
,

1261 
uv_fs_t
* 
ªq
,

1262 c⁄° * 
∑th
,

1263 
uv_fs_cb
 
cb
);

1264 
UV_EXTERN
 
uv_fs_ªÆ∑th
(
uv_lo›_t
* 
lo›
,

1265 
uv_fs_t
* 
ªq
,

1266 c⁄° * 
∑th
,

1267 
uv_fs_cb
 
cb
);

1268 
UV_EXTERN
 
uv_fs_fchmod
(
uv_lo›_t
* 
lo›
,

1269 
uv_fs_t
* 
ªq
,

1270 
uv_fûe
 
fûe
,

1271 
mode
,

1272 
uv_fs_cb
 
cb
);

1273 
UV_EXTERN
 
uv_fs_chown
(
uv_lo›_t
* 
lo›
,

1274 
uv_fs_t
* 
ªq
,

1275 c⁄° * 
∑th
,

1276 
uv_uid_t
 
uid
,

1277 
uv_gid_t
 
gid
,

1278 
uv_fs_cb
 
cb
);

1279 
UV_EXTERN
 
uv_fs_fchown
(
uv_lo›_t
* 
lo›
,

1280 
uv_fs_t
* 
ªq
,

1281 
uv_fûe
 
fûe
,

1282 
uv_uid_t
 
uid
,

1283 
uv_gid_t
 
gid
,

1284 
uv_fs_cb
 
cb
);

1287 
	euv_fs_evít
 {

1288 
	gUV_RENAME
 = 1,

1289 
	gUV_CHANGE
 = 2

1293 
	suv_fs_evít_s
 {

1294 
UV_HANDLE_FIELDS


1296 * 
	g∑th
;

1297 
	gUV_FS_EVENT_PRIVATE_FIELDS


1304 
	suv_fs_pﬁl_s
 {

1305 
UV_HANDLE_FIELDS


1307 * 
	gpﬁl_˘x
;

1310 
UV_EXTERN
 
uv_fs_pﬁl_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_pﬁl_t
* 
h™dÀ
);

1311 
UV_EXTERN
 
uv_fs_pﬁl_°¨t
(
uv_fs_pﬁl_t
* 
h™dÀ
,

1312 
uv_fs_pﬁl_cb
 
pﬁl_cb
,

1313 c⁄° * 
∑th
,

1314 
öãrvÆ
);

1315 
UV_EXTERN
 
uv_fs_pﬁl_°›
(
uv_fs_pﬁl_t
* 
h™dÀ
);

1316 
UV_EXTERN
 
uv_fs_pﬁl_gë∑th
(
uv_fs_pﬁl_t
* 
h™dÀ
,

1317 * 
buf„r
,

1318 
size_t
* 
size
);

1321 
	suv_sig«l_s
 {

1322 
UV_HANDLE_FIELDS


1323 
uv_sig«l_cb
 
	gsig«l_cb
;

1324 
	gsignum
;

1325 
	gUV_SIGNAL_PRIVATE_FIELDS


1328 
UV_EXTERN
 
uv_sig«l_öô
(
uv_lo›_t
* 
lo›
, 
uv_sig«l_t
* 
h™dÀ
);

1329 
UV_EXTERN
 
uv_sig«l_°¨t
(
uv_sig«l_t
* 
h™dÀ
,

1330 
uv_sig«l_cb
 
sig«l_cb
,

1331 
signum
);

1332 
UV_EXTERN
 
uv_sig«l_°›
(
uv_sig«l_t
* 
h™dÀ
);

1334 
UV_EXTERN
 
uv_lﬂdavg
(
avg
[3]);

1340 
	euv_fs_evít_Êags
 {

1348 
	gUV_FS_EVENT_WATCH_ENTRY
 = 1,

1357 
	gUV_FS_EVENT_STAT
 = 2,

1364 
	gUV_FS_EVENT_RECURSIVE
 = 4

1368 
UV_EXTERN
 
uv_fs_evít_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_evít_t
* 
h™dÀ
);

1369 
UV_EXTERN
 
uv_fs_evít_°¨t
(
uv_fs_evít_t
* 
h™dÀ
,

1370 
uv_fs_evít_cb
 
cb
,

1371 c⁄° * 
∑th
,

1372 
Êags
);

1373 
UV_EXTERN
 
uv_fs_evít_°›
(
uv_fs_evít_t
* 
h™dÀ
);

1374 
UV_EXTERN
 
uv_fs_evít_gë∑th
(
uv_fs_evít_t
* 
h™dÀ
,

1375 * 
buf„r
,

1376 
size_t
* 
size
);

1378 
UV_EXTERN
 
uv_ù4_addr
(c⁄° * 
ù
, 
p‹t
, 
sockaddr_ö
* 
addr
);

1379 
UV_EXTERN
 
uv_ù6_addr
(c⁄° * 
ù
, 
p‹t
, 
sockaddr_ö6
* 
addr
);

1381 
UV_EXTERN
 
uv_ù4_«me
(c⁄° 
sockaddr_ö
* 
§c
, * 
d°
, 
size_t
 
size
);

1382 
UV_EXTERN
 
uv_ù6_«me
(c⁄° 
sockaddr_ö6
* 
§c
, * 
d°
, 
size_t
 
size
);

1384 
UV_EXTERN
 
uv_öë_¡›
(
af
, c⁄° * 
§c
, * 
d°
, 
size_t
 
size
);

1385 
UV_EXTERN
 
uv_öë_±⁄
(
af
, c⁄° * 
§c
, * 
d°
);

1387 
UV_EXTERN
 
uv_exï©h
(* 
buf„r
, 
size_t
* 
size
);

1389 
UV_EXTERN
 
uv_cwd
(* 
buf„r
, 
size_t
* 
size
);

1391 
UV_EXTERN
 
uv_chdú
(c⁄° * 
dú
);

1393 
UV_EXTERN
 
uöt64_t
 
uv_gë_‰ì_mem‹y
();

1394 
UV_EXTERN
 
uöt64_t
 
uv_gë_tŸÆ_mem‹y
();

1396 
UV_EXTERN
 
uöt64_t
 
uv_hπime
();

1398 
UV_EXTERN
 
uv_dißbÀ_°dio_öhîô™˚
();

1400 
UV_EXTERN
 
uv_dl›í
(c⁄° * 
fûíame
, 
uv_lib_t
* 
lib
);

1401 
UV_EXTERN
 
uv_dl˛o£
(
uv_lib_t
* 
lib
);

1402 
UV_EXTERN
 
uv_dlsym
(
uv_lib_t
* 
lib
, c⁄° * 
«me
, ** 
±r
);

1403 
UV_EXTERN
 c⁄° * 
uv_dÀº‹
(c⁄° 
uv_lib_t
* 
lib
);

1405 
UV_EXTERN
 
uv_muãx_öô
(
uv_muãx_t
* 
h™dÀ
);

1406 
UV_EXTERN
 
uv_muãx_de°roy
(
uv_muãx_t
* 
h™dÀ
);

1407 
UV_EXTERN
 
uv_muãx_lock
(
uv_muãx_t
* 
h™dÀ
);

1408 
UV_EXTERN
 
uv_muãx_åylock
(
uv_muãx_t
* 
h™dÀ
);

1409 
UV_EXTERN
 
uv_muãx_u∆ock
(
uv_muãx_t
* 
h™dÀ
);

1411 
UV_EXTERN
 
uv_rwlock_öô
(
uv_rwlock_t
* 
rwlock
);

1412 
UV_EXTERN
 
uv_rwlock_de°roy
(
uv_rwlock_t
* 
rwlock
);

1413 
UV_EXTERN
 
uv_rwlock_rdlock
(
uv_rwlock_t
* 
rwlock
);

1414 
UV_EXTERN
 
uv_rwlock_åyrdlock
(
uv_rwlock_t
* 
rwlock
);

1415 
UV_EXTERN
 
uv_rwlock_rdu∆ock
(
uv_rwlock_t
* 
rwlock
);

1416 
UV_EXTERN
 
uv_rwlock_wæock
(
uv_rwlock_t
* 
rwlock
);

1417 
UV_EXTERN
 
uv_rwlock_åywæock
(
uv_rwlock_t
* 
rwlock
);

1418 
UV_EXTERN
 
uv_rwlock_wru∆ock
(
uv_rwlock_t
* 
rwlock
);

1420 
UV_EXTERN
 
uv_£m_öô
(
uv_£m_t
* 
£m
, 
vÆue
);

1421 
UV_EXTERN
 
uv_£m_de°roy
(
uv_£m_t
* 
£m
);

1422 
UV_EXTERN
 
uv_£m_po°
(
uv_£m_t
* 
£m
);

1423 
UV_EXTERN
 
uv_£m_waô
(
uv_£m_t
* 
£m
);

1424 
UV_EXTERN
 
uv_£m_åywaô
(
uv_£m_t
* 
£m
);

1426 
UV_EXTERN
 
uv_c⁄d_öô
(
uv_c⁄d_t
* 
c⁄d
);

1427 
UV_EXTERN
 
uv_c⁄d_de°roy
(
uv_c⁄d_t
* 
c⁄d
);

1428 
UV_EXTERN
 
uv_c⁄d_sig«l
(
uv_c⁄d_t
* 
c⁄d
);

1429 
UV_EXTERN
 
uv_c⁄d_brﬂdˇ°
(
uv_c⁄d_t
* 
c⁄d
);

1431 
UV_EXTERN
 
uv_b¨rõr_öô
(
uv_b¨rõr_t
* 
b¨rõr
, 
cou¡
);

1432 
UV_EXTERN
 
uv_b¨rõr_de°roy
(
uv_b¨rõr_t
* 
b¨rõr
);

1433 
UV_EXTERN
 
uv_b¨rõr_waô
(
uv_b¨rõr_t
* 
b¨rõr
);

1435 
UV_EXTERN
 
uv_c⁄d_waô
(
uv_c⁄d_t
* 
c⁄d
, 
uv_muãx_t
* 
muãx
);

1436 
UV_EXTERN
 
uv_c⁄d_timedwaô
(
uv_c⁄d_t
* 
c⁄d
,

1437 
uv_muãx_t
* 
muãx
,

1438 
uöt64_t
 
timeout
);

1440 
UV_EXTERN
 
uv_⁄˚
(
uv_⁄˚_t
* 
gu¨d
, (*
ˇŒback
)());

1442 
UV_EXTERN
 
uv_key_¸óã
(
uv_key_t
* 
key
);

1443 
UV_EXTERN
 
uv_key_dñëe
(
uv_key_t
* 
key
);

1444 
UV_EXTERN
 * 
uv_key_gë
(
uv_key_t
* 
key
);

1445 
UV_EXTERN
 
uv_key_£t
(
uv_key_t
* 
key
, * 
vÆue
);

1447 (*
	guv_thªad_cb
)(* 
	t¨g
);

1449 
UV_EXTERN
 
uv_thªad_¸óã
(
uv_thªad_t
* 
tid
, 
uv_thªad_cb
 
íåy
, * 
¨g
);

1450 
UV_EXTERN
 
uv_thªad_t
 
uv_thªad_£lf
();

1451 
UV_EXTERN
 
uv_thªad_joö
(
uv_thªad_t
 *
tid
);

1452 
UV_EXTERN
 
uv_thªad_equÆ
(c⁄° 
uv_thªad_t
* 
t1
, c⁄° uv_thªad_t* 
t2
);

1455 
	#XX
(
_
, 
«me
Ë
uv_
 ##Çamê## 
_t
Çame;

	)

1456 
	uuv_™y_h™dÀ
 {

1457 
UV_HANDLE_TYPE_MAP
(
XX
)

1460 
	uuv_™y_ªq
 {

1461 
UV_REQ_TYPE_MAP
(
XX
)

1463 #unde‡
XX


1466 
	suv_lo›_s
 {

1468 * 
	gd©a
;

1470 
	ga˘ive_h™dÀs
;

1471 * 
	gh™dÀ_queue
[2];

1472 * 
	ga˘ive_ªqs
[2];

1474 
	g°›_Êag
;

1475 
	gUV_LOOP_PRIVATE_FIELDS


1479 
UV_EXTERN
 
uv_¶ìp
(
m£c
);

1482 #unde‡
UV_HANDLE_TYPE_PRIVATE


1483 #unde‡
UV_REQ_TYPE_PRIVATE


1484 #unde‡
UV_REQ_PRIVATE_FIELDS


1485 #unde‡
UV_STREAM_PRIVATE_FIELDS


1486 #unde‡
UV_TCP_PRIVATE_FIELDS


1487 #unde‡
UV_PREPARE_PRIVATE_FIELDS


1488 #unde‡
UV_CHECK_PRIVATE_FIELDS


1489 #unde‡
UV_IDLE_PRIVATE_FIELDS


1490 #unde‡
UV_ASYNC_PRIVATE_FIELDS


1491 #unde‡
UV_TIMER_PRIVATE_FIELDS


1492 #unde‡
UV_GETADDRINFO_PRIVATE_FIELDS


1493 #unde‡
UV_GETNAMEINFO_PRIVATE_FIELDS


1494 #unde‡
UV_FS_REQ_PRIVATE_FIELDS


1495 #unde‡
UV_WORK_PRIVATE_FIELDS


1496 #unde‡
UV_FS_EVENT_PRIVATE_FIELDS


1497 #unde‡
UV_SIGNAL_PRIVATE_FIELDS


1498 #unde‡
UV_LOOP_PRIVATE_FIELDS


1499 #unde‡
UV_LOOP_PRIVATE_PLATFORM_FIELDS


1501 #ifde‡
__˝lu•lus


	@deps/libtuv/src/fs-poll.c

22 
	~"uv.h
"

23 
	~"uv-comm⁄.h
"

25 
	~<as£π.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

29 
	spﬁl_˘x
 {

30 
uv_fs_pﬁl_t
* 
	m∑ª¡_h™dÀ
;

31 
	mbusy_pﬁlög
;

32 
	möãrvÆ
;

33 
uöt64_t
 
	m°¨t_time
;

34 
uv_lo›_t
* 
	mlo›
;

35 
uv_fs_pﬁl_cb
 
	mpﬁl_cb
;

36 
uv_timî_t
 
	mtimî_h™dÀ
;

37 
uv_fs_t
 
	mfs_ªq
;

38 
uv_°©_t
 
	m°©buf
;

39 
	m∑th
[1];

42 
°©buf_eq
(c⁄° 
uv_°©_t
* 
a
, c⁄° uv_°©_t* 
b
);

43 
pﬁl_cb
(
uv_fs_t
* 
ªq
);

44 
timî_cb
(
uv_timî_t
* 
timî
);

45 
timî_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
);

47 
uv_°©_t
 
	gzîo_°©buf
;

50 
	$uv_fs_pﬁl_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_pﬁl_t
* 
h™dÀ
) {

51 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_FS_POLL
);

53 
	}
}

56 
	$uv_fs_pﬁl_°¨t
(
uv_fs_pﬁl_t
* 
h™dÀ
,

57 
uv_fs_pﬁl_cb
 
cb
,

58 c⁄° * 
∑th
,

59 
öãrvÆ
) {

60 
pﬁl_˘x
* 
˘x
;

61 
uv_lo›_t
* 
lo›
;

62 
size_t
 
Àn
;

63 
îr
;

65 i‡(
	`uv__is_a˘ive
(
h™dÀ
))

68 
lo›
 = 
h™dÀ
->loop;

69 
Àn
 = 
	`°æí
(
∑th
);

70 
˘x
 = 
	`uv__ˇŒoc
(1, (*˘xË+ 
Àn
);

72 i‡(
˘x
 =
NULL
)

73  
UV_ENOMEM
;

75 
˘x
->
lo›
 =Üoop;

76 
˘x
->
pﬁl_cb
 = 
cb
;

77 
˘x
->
öãrvÆ
 = interval ? interval : 1;

78 
˘x
->
°¨t_time
 = 
	`uv_now
(
lo›
);

79 
˘x
->
∑ª¡_h™dÀ
 = 
h™dÀ
;

80 
	`mem˝y
(
˘x
->
∑th
,Ö©h, 
Àn
 + 1);

82 
îr
 = 
	`uv_timî_öô
(
lo›
, &
˘x
->
timî_h™dÀ
);

83 i‡(
îr
 < 0)

84 
îr‹
;

86 
˘x
->
timî_h™dÀ
.
Êags
 |
UV__HANDLE_INTERNAL
;

87 
	`uv__h™dÀ_uƒef
(&
˘x
->
timî_h™dÀ
);

89 
îr
 = 
	`uv_fs_°©
(
lo›
, &
˘x
->
fs_ªq
, ctx->
∑th
, 
pﬁl_cb
);

90 i‡(
îr
 < 0)

91 
îr‹
;

93 
h™dÀ
->
pﬁl_˘x
 = 
˘x
;

94 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

98 
îr‹
:

99 
	`uv__‰ì
(
˘x
);

100  
îr
;

101 
	}
}

104 
	$uv_fs_pﬁl_°›
(
uv_fs_pﬁl_t
* 
h™dÀ
) {

105 
pﬁl_˘x
* 
˘x
;

107 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))

110 
˘x
 = 
h™dÀ
->
pﬁl_˘x
;

111 
	`as£π
(
˘x
 !
NULL
);

112 
	`as£π
(
˘x
->
∑ª¡_h™dÀ
 !
NULL
);

113 
˘x
->
∑ª¡_h™dÀ
 = 
NULL
;

114 
h™dÀ
->
pﬁl_˘x
 = 
NULL
;

119 i‡(
	`uv__is_a˘ive
(&
˘x
->
timî_h™dÀ
))

120 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
˘x
->
timî_h™dÀ
, 
timî_˛o£_cb
);

122 
	`uv__h™dÀ_°›
(
h™dÀ
);

125 
	}
}

128 
	$uv_fs_pﬁl_gë∑th
(
uv_fs_pﬁl_t
* 
h™dÀ
, * 
buf„r
, 
size_t
* 
size
) {

129 
pﬁl_˘x
* 
˘x
;

130 
size_t
 
ªquúed_Àn
;

132 i‡(!
	`uv__is_a˘ive
(
h™dÀ
)) {

133 *
size
 = 0;

134  
UV_EINVAL
;

137 
˘x
 = 
h™dÀ
->
pﬁl_˘x
;

138 
	`as£π
(
˘x
 !
NULL
);

140 
ªquúed_Àn
 = 
	`°æí
(
˘x
->
∑th
);

141 i‡(
ªquúed_Àn
 >*
size
) {

142 *
size
 = 
ªquúed_Àn
 + 1;

143  
UV_ENOBUFS
;

146 
	`mem˝y
(
buf„r
, 
˘x
->
∑th
, 
ªquúed_Àn
);

147 *
size
 = 
ªquúed_Àn
;

148 
buf„r
[
ªquúed_Àn
] = '\0';

151 
	}
}

154 
	$uv__fs_pﬁl_˛o£
(
uv_fs_pﬁl_t
* 
h™dÀ
) {

155 
	`uv_fs_pﬁl_°›
(
h™dÀ
);

156 
	}
}

159 
	$timî_cb
(
uv_timî_t
* 
timî
) {

160 
pﬁl_˘x
* 
˘x
;

162 
˘x
 = 
	`c⁄èöî_of
(
timî
, 
pﬁl_˘x
, 
timî_h™dÀ
);

163 
	`as£π
(
˘x
->
∑ª¡_h™dÀ
 !
NULL
);

164 
	`as£π
(
˘x
->
∑ª¡_h™dÀ
->
pﬁl_˘x
 == ctx);

165 
˘x
->
°¨t_time
 = 
	`uv_now
(˘x->
lo›
);

167 i‡(
	`uv_fs_°©
(
˘x
->
lo›
, &˘x->
fs_ªq
, ctx->
∑th
, 
pﬁl_cb
))

168 
	`ab‹t
();

169 
	}
}

172 
	$pﬁl_cb
(
uv_fs_t
* 
ªq
) {

173 
uv_°©_t
* 
°©buf
;

174 
pﬁl_˘x
* 
˘x
;

175 
uöt64_t
 
öãrvÆ
;

177 
˘x
 = 
	`c⁄èöî_of
(
ªq
, 
pﬁl_˘x
, 
fs_ªq
);

179 i‡(
˘x
->
∑ª¡_h™dÀ
 =
NULL
) {

180 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
˘x
->
timî_h™dÀ
, 
timî_˛o£_cb
);

181 
	`uv_fs_ªq_˛ónup
(
ªq
);

185 i‡(
ªq
->
ªsu…
 != 0) {

186 i‡(
˘x
->
busy_pﬁlög
 !
ªq
->
ªsu…
) {

187 
˘x
->
	`pﬁl_cb
(˘x->
∑ª¡_h™dÀ
,

188 
ªq
->
ªsu…
,

189 &
˘x
->
°©buf
,

190 &
zîo_°©buf
);

191 
˘x
->
busy_pﬁlög
 = 
ªq
->
ªsu…
;

193 
out
;

196 
°©buf
 = &
ªq
->statbuf;

198 i‡(
˘x
->
busy_pﬁlög
 != 0)

199 i‡(
˘x
->
busy_pﬁlög
 < 0 || !
	`°©buf_eq
(&˘x->
°©buf
, statbuf))

200 
˘x
->
	`pﬁl_cb
(˘x->
∑ª¡_h™dÀ
, 0, &˘x->
°©buf
, statbuf);

202 
˘x
->
°©buf
 = *statbuf;

203 
˘x
->
busy_pﬁlög
 = 1;

205 
out
:

206 
	`uv_fs_ªq_˛ónup
(
ªq
);

208 i‡(
˘x
->
∑ª¡_h™dÀ
 =
NULL
) {

209 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
˘x
->
timî_h™dÀ
, 
timî_˛o£_cb
);

214 
öãrvÆ
 = 
˘x
->interval;

215 
öãrvÆ
 -(
	`uv_now
(
˘x
->
lo›
Ë- ctx->
°¨t_time
) % interval;

217 i‡(
	`uv_timî_°¨t
(&
˘x
->
timî_h™dÀ
, 
timî_cb
, 
öãrvÆ
, 0))

218 
	`ab‹t
();

219 
	}
}

222 
	$timî_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

223 
	`uv__‰ì
(
	`c⁄èöî_of
(
h™dÀ
, 
pﬁl_˘x
, 
timî_h™dÀ
));

224 
	}
}

227 
	$°©buf_eq
(c⁄° 
uv_°©_t
* 
a
, c⁄° uv_°©_t* 
b
) {

228  
a
->
°_˘im
.
tv_n£c
 =
b
->st_ctim.tv_nsec

229 && 
a
->
°_mtim
.
tv_n£c
 =
b
->st_mtim.tv_nsec

230 && 
a
->
°_búthtim
.
tv_n£c
 =
b
->st_birthtim.tv_nsec

231 && 
a
->
°_˘im
.
tv_£c
 =
b
->st_ctim.tv_sec

232 && 
a
->
°_mtim
.
tv_£c
 =
b
->st_mtim.tv_sec

233 && 
a
->
°_búthtim
.
tv_£c
 =
b
->st_birthtim.tv_sec

234 && 
a
->
°_size
 =
b
->st_size

235 && 
a
->
°_mode
 =
b
->st_mode

236 && 
a
->
°_uid
 =
b
->st_uid

237 && 
a
->
°_gid
 =
b
->st_gid

238 && 
a
->
°_öo
 =
b
->st_ino

239 && 
a
->
°_dev
 =
b
->st_dev

240 && 
a
->
°_Êags
 =
b
->st_flags

241 && 
a
->
°_gí
 =
b
->st_gen;

242 
	}
}

245 #i‡
deföed
(
_WIN32
)

247 
	~"wö/öã∫Æ.h
"

248 
	~"wö/h™dÀ-öl.h
"

250 
	$uv__fs_pﬁl_ídgame
(
uv_lo›_t
* 
lo›
, 
uv_fs_pﬁl_t
* 
h™dÀ
) {

251 
	`as£π
(
h™dÀ
->
Êags
 & 
UV__HANDLE_CLOSING
);

252 
	`as£π
(!(
h™dÀ
->
Êags
 & 
UV_HANDLE_CLOSED
));

253 
	`uv__h™dÀ_˛o£
(
h™dÀ
);

254 
	}
}

	@deps/libtuv/src/heap-inl.h

16 #i‚de‡
UV_SRC_HEAP_H_


17 
	#UV_SRC_HEAP_H_


	)

19 
	~<°ddef.h
>

21 #i‡
deföed
(
__GNUC__
)

22 
	#HEAP_EXPORT
(
de˛¨©i⁄
Ë
	`__©åibuã__
((
unu£d
)Ë
	)
declaration

24 
	#HEAP_EXPORT
(
de˛¨©i⁄
Ë
	)
declaration

27 #ifde‡
TUV_ENABLE_MEMORY_CONSTRAINTS


28 
	shóp_node
 {

29 
hóp_node
* 
	m√xt
;

32 
	shóp
 {

33 
hóp_node
* 
	mmö
;

34 
	m√…s
;

38 (*
	thóp_com∑ª_‚
)(c⁄° 
	thóp_node
* 
	ta
,

39 c⁄° 
	thóp_node
* 
	tb
);

42 
	`HEAP_EXPORT
(
	`hóp_öô
(
hóp
* heap));

43 
	`HEAP_EXPORT
(
hóp_node
* 
	`hóp_mö
(c⁄° 
hóp
* heap));

44 
	`HEAP_EXPORT
(
	`hóp_ö£π
(
hóp
* heap,

45 
hóp_node
* 
√wnode
,

46 
hóp_com∑ª_‚
 
Àss_th™
));

47 
	`HEAP_EXPORT
(
	`hóp_ªmove
(
hóp
* heap,

48 
hóp_node
* 
node
));

52 
	`HEAP_EXPORT
(
	$hóp_öô
(
hóp
* heap)) {

53 
hóp
->
mö
 = 
NULL
;

54 
hóp
->
√…s
 = 0;

55 
	}
}

57 
HEAP_EXPORT
(
hóp_node
* 
	$hóp_mö
(c⁄° 
hóp
* heap)) {

58  
hóp
->
mö
;

59 
	}
}

61 
HEAP_EXPORT
(
	$hóp_ö£π
(
hóp
* heap,

62 
hóp_node
* 
√wnode
,

63 
hóp_com∑ª_‚
 
Àss_th™
)) {

64 
hóp_node
* 
cuº
 = 
hóp
->
mö
;

66 i‡(
cuº
 =
NULL
 || 
	`Àss_th™
(
√wnode
, curr))

69 
√wnode
->
√xt
 = 
cuº
;

70 
hóp
->
mö
 = 
√wnode
;

71 
hóp
->
√…s
++;

75 
cuº
->
√xt
 !
NULL
)

77 i‡(
	`Àss_th™
(
√wnode
, 
cuº
->
√xt
))

79 
√wnode
->
√xt
 = 
cuº
->next;

80 
cuº
->
√xt
 = 
√wnode
;

81 
hóp
->
√…s
++;

85 
cuº
 = cuº->
√xt
;

89 
cuº
->
√xt
 = 
√wnode
;

90 
√wnode
->
√xt
 = 
NULL
;

91 
hóp
->
√…s
++;

92 
	}
}

94 
HEAP_EXPORT
(
	$hóp_ªmove
(
hóp
* heap,

95 
hóp_node
* 
node
)) {

96 
hóp_node
* 
cuº
 = 
hóp
->
mö
;

98 i‡(
cuº
 =
NULL
)

103 i‡(
cuº
 =
node
)

105 
hóp
->
mö
 = hóp->mö->
√xt
;

109 
cuº
->
√xt
 !
NULL
)

111 i‡(
cuº
->
√xt
 =
node
)

113 
cuº
->
√xt
 = curr->next->next;

117 
cuº
 = cuº->
√xt
;

119 
	}
}

123 
	shóp_node
 {

124 
hóp_node
* 
	mÀ·
;

125 
hóp_node
* 
	mright
;

126 
hóp_node
* 
	m∑ª¡
;

136 
	shóp
 {

137 
hóp_node
* 
	mmö
;

138 
	m√…s
;

142 (*
	thóp_com∑ª_‚
)(c⁄° 
	thóp_node
* 
	ta
,

143 c⁄° 
	thóp_node
* 
	tb
);

146 
	`HEAP_EXPORT
(
	`hóp_öô
(
hóp
* heap));

147 
	`HEAP_EXPORT
(
hóp_node
* 
	`hóp_mö
(c⁄° 
hóp
* heap));

148 
	`HEAP_EXPORT
(
	`hóp_ö£π
(
hóp
* heap,

149 
hóp_node
* 
√wnode
,

150 
hóp_com∑ª_‚
 
Àss_th™
));

151 
	`HEAP_EXPORT
(
	`hóp_ªmove
(
hóp
* heap,

152 
hóp_node
* 
node
,

153 
hóp_com∑ª_‚
 
Àss_th™
));

154 
	`HEAP_EXPORT
(
	`hóp_dequeue
(
hóp
* hóp, 
hóp_com∑ª_‚
 
Àss_th™
));

158 
	`HEAP_EXPORT
(
	$hóp_öô
(
hóp
* heap)) {

159 
hóp
->
mö
 = 
NULL
;

160 
hóp
->
√…s
 = 0;

161 
	}
}

163 
HEAP_EXPORT
(
hóp_node
* 
	$hóp_mö
(c⁄° 
hóp
* heap)) {

164  
hóp
->
mö
;

165 
	}
}

168 
	$hóp_node_sw≠
(
hóp
* heap,

169 
hóp_node
* 
∑ª¡
,

170 
hóp_node
* 
chûd
) {

171 
hóp_node
* 
siblög
;

172 
hóp_node
 
t
;

174 
t
 = *
∑ª¡
;

175 *
∑ª¡
 = *
chûd
;

176 *
chûd
 = 
t
;

178 
∑ª¡
->∑ª¡ = 
chûd
;

179 i‡(
chûd
->
À·
 == child) {

180 
chûd
->
À·
 = 
∑ª¡
;

181 
siblög
 = 
chûd
->
right
;

183 
chûd
->
right
 = 
∑ª¡
;

184 
siblög
 = 
chûd
->
À·
;

186 i‡(
siblög
 !
NULL
)

187 
siblög
->
∑ª¡
 = 
chûd
;

189 i‡(
∑ª¡
->
À·
 !
NULL
)

190 
∑ª¡
->
À·
->parent =Öarent;

191 i‡(
∑ª¡
->
right
 !
NULL
)

192 
∑ª¡
->
right
->parent =Öarent;

194 i‡(
chûd
->
∑ª¡
 =
NULL
)

195 
hóp
->
mö
 = 
chûd
;

196 i‡(
chûd
->
∑ª¡
->
À·
 ==Öarent)

197 
chûd
->
∑ª¡
->
À·
 = child;

199 
chûd
->
∑ª¡
->
right
 = child;

200 
	}
}

202 
HEAP_EXPORT
(
	$hóp_ö£π
(
hóp
* heap,

203 
hóp_node
* 
√wnode
,

204 
hóp_com∑ª_‚
 
Àss_th™
)) {

205 
hóp_node
** 
∑ª¡
;

206 
hóp_node
** 
chûd
;

207 
∑th
;

208 
n
;

209 
k
;

211 
√wnode
->
À·
 = 
NULL
;

212 
√wnode
->
right
 = 
NULL
;

213 
√wnode
->
∑ª¡
 = 
NULL
;

218 
∑th
 = 0;

219 
k
 = 0, 
n
 = 1 + 
hóp
->
√…s
;Ç >= 2; k += 1,Ç /= 2)

220 
∑th
 = (∑th << 1Ë| (
n
 & 1);

223 
∑ª¡
 = 
chûd
 = &
hóp
->
mö
;

224 
k
 > 0) {

225 
∑ª¡
 = 
chûd
;

226 i‡(
∑th
 & 1)

227 
chûd
 = &(*chûd)->
right
;

229 
chûd
 = &(*chûd)->
À·
;

230 
∑th
 >>= 1;

231 
k
 -= 1;

235 
√wnode
->
∑ª¡
 = *parent;

236 *
chûd
 = 
√wnode
;

237 
hóp
->
√…s
 += 1;

242 
√wnode
->
∑ª¡
 !
NULL
 && 
	`Àss_th™
(newnode,Çewnode->parent))

243 
	`hóp_node_sw≠
(
hóp
, 
√wnode
->
∑ª¡
,Çewnode);

244 
	}
}

246 
HEAP_EXPORT
(
	$hóp_ªmove
(
hóp
* heap,

247 
hóp_node
* 
node
,

248 
hóp_com∑ª_‚
 
Àss_th™
)) {

249 
hóp_node
* 
smÆÀ°
;

250 
hóp_node
** 
max
;

251 
hóp_node
* 
chûd
;

252 
∑th
;

253 
k
;

254 
n
;

256 i‡(
hóp
->
√…s
 == 0)

262 
∑th
 = 0;

263 
k
 = 0, 
n
 = 
hóp
->
√…s
;Ç >= 2; k += 1,Ç /= 2)

264 
∑th
 = (∑th << 1Ë| (
n
 & 1);

267 
max
 = &
hóp
->
mö
;

268 
k
 > 0) {

269 i‡(
∑th
 & 1)

270 
max
 = &(*max)->
right
;

272 
max
 = &(*max)->
À·
;

273 
∑th
 >>= 1;

274 
k
 -= 1;

277 
hóp
->
√…s
 -= 1;

280 
chûd
 = *
max
;

281 *
max
 = 
NULL
;

283 i‡(
chûd
 =
node
) {

285 i‡(
chûd
 =
hóp
->
mö
) {

286 
hóp
->
mö
 = 
NULL
;

292 
chûd
->
À·
 = 
node
->left;

293 
chûd
->
right
 = 
node
->right;

294 
chûd
->
∑ª¡
 = 
node
->parent;

296 i‡(
chûd
->
À·
 !
NULL
) {

297 
chûd
->
À·
->
∑ª¡
 = child;

300 i‡(
chûd
->
right
 !
NULL
) {

301 
chûd
->
right
->
∑ª¡
 = child;

304 i‡(
node
->
∑ª¡
 =
NULL
) {

305 
hóp
->
mö
 = 
chûd
;

306 } i‡(
node
->
∑ª¡
->
À·
 ==Çode) {

307 
node
->
∑ª¡
->
À·
 = 
chûd
;

309 
node
->
∑ª¡
->
right
 = 
chûd
;

317 
smÆÀ°
 = 
chûd
;

318 i‡(
chûd
->
À·
 !
NULL
 && 
	`Àss_th™
(chûd->À·, 
smÆÀ°
))

319 
smÆÀ°
 = 
chûd
->
À·
;

320 i‡(
chûd
->
right
 !
NULL
 && 
	`Àss_th™
(chûd->right, 
smÆÀ°
))

321 
smÆÀ°
 = 
chûd
->
right
;

322 i‡(
smÆÀ°
 =
chûd
)

324 
	`hóp_node_sw≠
(
hóp
, 
chûd
, 
smÆÀ°
);

331 
chûd
->
∑ª¡
 !
NULL
 && 
	`Àss_th™
(child, child->parent))

332 
	`hóp_node_sw≠
(
hóp
, 
chûd
->
∑ª¡
, child);

333 
	}
}

335 
HEAP_EXPORT
(
	$hóp_dequeue
(
hóp
* hóp, 
hóp_com∑ª_‚
 
Àss_th™
)) {

336 
	`hóp_ªmove
(
hóp
, hóp->
mö
, 
Àss_th™
);

337 
	}
}

341 #unde‡
HEAP_EXPORT


	@deps/libtuv/src/inet.c

33 
	~<°dio.h
>

34 
	~<°rög.h
>

36 #i‡
deföed
(
_MSC_VER
) && _MSC_VER < 1600

37 
	~"°döt-msvc2008.h
"

39 
	~<°döt.h
>

42 
	~"uv.h
"

43 
	~"uv-comm⁄.h
"

45 
	#UV__INET_ADDRSTRLEN
 16

	)

46 
	#UV__INET6_ADDRSTRLEN
 46

	)

49 
öë_¡›4
(c⁄° *
§c
, *
d°
, 
size_t
 
size
);

50 
öë_±⁄4
(c⁄° *
§c
, *
d°
);

53 
	$uv_öë_¡›
(
af
, c⁄° * 
§c
, * 
d°
, 
size_t
 
size
) {

54 
af
) {

55 
AF_INET
:

56  (
	`öë_¡›4
(
§c
, 
d°
, 
size
));

58  
UV_EAFNOSUPPORT
;

61 
	}
}

64 
	$öë_¡›4
(c⁄° *
§c
, *
d°
, 
size_t
 
size
) {

65 c⁄° 
fmt
[] = "%u.%u.%u.%u";

66 
tmp
[
UV__INET_ADDRSTRLEN
];

67 
l
;

69 
l
 = 
	`¢¥ötf
(
tmp
, —mp), 
fmt
, 
§c
[0], src[1], src[2], src[3]);

70 i‡(
l
 <0 || (
size_t
Ë»>
size
) {

71  
UV_ENOSPC
;

73 
	`°∫˝y
(
d°
, 
tmp
, 
size
);

74 
d°
[
size
 - 1] = '\0';

76 
	}
}

79 
	$uv_öë_±⁄
(
af
, c⁄° * 
§c
, * 
d°
) {

80 i‡(
§c
 =
NULL
 || 
d°
 == NULL)

81  
UV_EINVAL
;

83 
af
) {

84 
AF_INET
:

85  (
	`öë_±⁄4
(
§c
, 
d°
));

87  
UV_EAFNOSUPPORT
;

90 
	}
}

93 
	$öë_±⁄4
(c⁄° *
§c
, *
d°
) {

94 c⁄° 
digôs
[] = "0123456789";

95 
ßw_digô
, 
o˘ës
, 
ch
;

96 
tmp
[(
ö_addr
)], *
ç
;

98 
ßw_digô
 = 0;

99 
o˘ës
 = 0;

100 *(
ç
 = 
tmp
) = 0;

101 (
ch
 = *
§c
++) != '\0') {

102 c⁄° *
pch
;

104 i‡((
pch
 = 
	`°rchr
(
digôs
, 
ch
)Ë!
NULL
) {

105 
nw
 = *
ç
 * 10 + (
pch
 - 
digôs
);

107 i‡(
ßw_digô
 && *
ç
 == 0)

108  
UV_EINVAL
;

109 i‡(
nw
 > 255)

110  
UV_EINVAL
;

111 *
ç
 = 
nw
;

112 i‡(!
ßw_digô
) {

113 i‡(++
o˘ës
 > 4)

114  
UV_EINVAL
;

115 
ßw_digô
 = 1;

117 } i‡(
ch
 ='.' && 
ßw_digô
) {

118 i‡(
o˘ës
 == 4)

119  
UV_EINVAL
;

120 *++
ç
 = 0;

121 
ßw_digô
 = 0;

123  
UV_EINVAL
;

125 i‡(
o˘ës
 < 4)

126  
UV_EINVAL
;

127 
	`mem˝y
(
d°
, 
tmp
, (
ö_addr
));

129 
	}
}

	@deps/libtuv/src/queue.h

16 #i‚de‡
QUEUE_H_


17 
	#QUEUE_H_


	)

19 
	~<°ddef.h
>

21 *
	tQUEUE
[2];

24 
	#QUEUE_NEXT
(
q
Ë(*(
QUEUE
 **Ë&((*(q))[0]))

	)

25 
	#QUEUE_PREV
(
q
Ë(*(
QUEUE
 **Ë&((*(q))[1]))

	)

26 
	#QUEUE_PREV_NEXT
(
q
Ë(
	`QUEUE_NEXT
(
	`QUEUE_PREV
(q)))

	)

27 
	#QUEUE_NEXT_PREV
(
q
Ë(
	`QUEUE_PREV
(
	`QUEUE_NEXT
(q)))

	)

30 
	#QUEUE_DATA
(
±r
, 
ty≥
, 
fõld
) \

31 ((
ty≥
 *Ë((*Ë(
±r
Ë- 
	`off£tof
—y≥, 
fõld
)))

	)

36 
	#QUEUE_FOREACH
(
q
, 
h
) \

37 (
q
Ë
	`QUEUE_NEXT
(
h
); (qË!(h); (qËQUEUE_NEXT(q))

	)

39 
	#QUEUE_EMPTY
(
q
) \

40 ((c⁄° 
QUEUE
 *Ë(
q
Ë=(c⁄° QUEUE *Ë
	`QUEUE_NEXT
(q))

	)

42 
	#QUEUE_HEAD
(
q
) \

43 (
	`QUEUE_NEXT
(
q
))

	)

45 
	#QUEUE_INIT
(
q
) \

47 
	`QUEUE_NEXT
(
q
) = (q); \

48 
	`QUEUE_PREV
(
q
) = (q); \

50 0)

	)

52 
	#QUEUE_ADD
(
h
, 
n
) \

54 
	`QUEUE_PREV_NEXT
(
h
Ë
	`QUEUE_NEXT
(
n
); \

55 
	`QUEUE_NEXT_PREV
(
n
Ë
	`QUEUE_PREV
(
h
); \

56 
	`QUEUE_PREV
(
h
ËQUEUE_PREV(
n
); \

57 
	`QUEUE_PREV_NEXT
(
h
) = (h); \

59 0)

	)

61 
	#QUEUE_SPLIT
(
h
, 
q
, 
n
) \

63 
	`QUEUE_PREV
(
n
ËQUEUE_PREV(
h
); \

64 
	`QUEUE_PREV_NEXT
(
n
) = (n); \

65 
	`QUEUE_NEXT
(
n
Ë(
q
); \

66 
	`QUEUE_PREV
(
h
ËQUEUE_PREV(
q
); \

67 
	`QUEUE_PREV_NEXT
(
h
) = (h); \

68 
	`QUEUE_PREV
(
q
Ë(
n
); \

70 0)

	)

72 
	#QUEUE_MOVE
(
h
, 
n
) \

74 i‡(
	`QUEUE_EMPTY
(
h
)) \

75 
	`QUEUE_INIT
(
n
); \

77 
QUEUE
* 
q
 = 
	`QUEUE_HEAD
(
h
); \

78 
	`QUEUE_SPLIT
(
h
, 
q
, 
n
); \

81 0)

	)

83 
	#QUEUE_INSERT_HEAD
(
h
, 
q
) \

85 
	`QUEUE_NEXT
(
q
ËQUEUE_NEXT(
h
); \

86 
	`QUEUE_PREV
(
q
Ë(
h
); \

87 
	`QUEUE_NEXT_PREV
(
q
) = (q); \

88 
	`QUEUE_NEXT
(
h
Ë(
q
); \

90 0)

	)

92 
	#QUEUE_INSERT_TAIL
(
h
, 
q
) \

94 
	`QUEUE_NEXT
(
q
Ë(
h
); \

95 
	`QUEUE_PREV
(
q
ËQUEUE_PREV(
h
); \

96 
	`QUEUE_PREV_NEXT
(
q
) = (q); \

97 
	`QUEUE_PREV
(
h
Ë(
q
); \

99 0)

	)

101 
	#QUEUE_REMOVE
(
q
) \

103 
	`QUEUE_PREV_NEXT
(
q
Ë
	`QUEUE_NEXT
(q); \

104 
	`QUEUE_NEXT_PREV
(
q
Ë
	`QUEUE_PREV
(q); \

106 0)

	)

	@deps/libtuv/src/threadpool.c

37 
	~"uv-comm⁄.h
"

39 #i‡!
deföed
(
_WIN32
)

40 
	~"unix/öã∫Æ.h
"

42 
	~"wö/ªq-öl.h
"

44 
	$uv__ªq_öô
(
uv_lo›_t
* 
lo›
,

45 
uv_ªq_t
* 
ªq
,

46 
uv_ªq_ty≥
 
ty≥
) {

47 
	`uv_ªq_öô
(
lo›
, 
ªq
);

48 
ªq
->
ty≥
 =Åype;

49 
	`uv__ªq_ªgi°î
(
lo›
, 
ªq
);

50 
	}
}

51 
	#uv__ªq_öô
(
lo›
, 
ªq
, 
ty≥
) \

52 
	`uv__ªq_öô
((
lo›
), (
uv_ªq_t
*)(
ªq
), (
ty≥
))

	)

55 
	~<°dlib.h
>

57 
	#MAX_THREADPOOL_SIZE
 128

	)

59 
uv_⁄˚_t
 
	g⁄˚
 = 
UV_ONCE_INIT
;

60 
uv_c⁄d_t
 
	gc⁄d
;

61 
uv_muãx_t
 
	gmuãx
;

62 
	gidÀ_thªads
;

63 
	g¡hªads
;

64 
uv_thªad_t
* 
	gthªads
;

65 
uv_thªad_t
 
	gdeÁu…_thªads
[4];

66 
QUEUE
 
	gexô_mesßge
;

67 
QUEUE
 
	gwq
;

68 vﬁ©ûê
	göôülized
;

71 
	$uv__ˇn˚Œed
(
uv__w‹k
* 
w
) {

72 
	`ab‹t
();

73 
	}
}

79 
	$w‹kî
(* 
¨g
) {

80 
uv__w‹k
* 
w
;

81 
QUEUE
* 
q
;

83 (Ë
¨g
;

86 
	`uv_muãx_lock
(&
muãx
);

88 
	`QUEUE_EMPTY
(&
wq
)) {

89 
idÀ_thªads
 += 1;

90 
	`uv_c⁄d_waô
(&
c⁄d
, &
muãx
);

91 
idÀ_thªads
 -= 1;

94 
q
 = 
	`QUEUE_HEAD
(&
wq
);

96 i‡(
q
 =&
exô_mesßge
)

97 
	`uv_c⁄d_sig«l
(&
c⁄d
);

99 
	`QUEUE_REMOVE
(
q
);

100 
	`QUEUE_INIT
(
q
);

104 
	`uv_muãx_u∆ock
(&
muãx
);

106 i‡(
q
 =&
exô_mesßge
)

109 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__w‹k
, 
wq
);

110 
w
->
	`w‹k
(w);

112 
	`uv_muãx_lock
(&
w
->
lo›
->
wq_muãx
);

113 
w
->
w‹k
 = 
NULL
;

115 
	`QUEUE_INSERT_TAIL
(&
w
->
lo›
->
wq
, &w->wq);

116 
	`uv_async_£nd
(&
w
->
lo›
->
wq_async
);

117 
	`uv_muãx_u∆ock
(&
w
->
lo›
->
wq_muãx
);

119 
	}
}

122 
	$po°
(
QUEUE
* 
q
) {

123 
	`uv_muãx_lock
(&
muãx
);

124 
	`QUEUE_INSERT_TAIL
(&
wq
, 
q
);

125 i‡(
idÀ_thªads
 > 0)

126 
	`uv_c⁄d_sig«l
(&
c⁄d
);

127 
	`uv_muãx_u∆ock
(&
muãx
);

128 
	}
}

131 #i‚de‡
_WIN32


132 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

133 
	$˛ónup
() {

135 
	`UV_DESTRUCTOR
(
	$˛ónup
()) {

137 
i
;

139 i‡(
öôülized
 == 0)

142 
	`po°
(&
exô_mesßge
);

144 
i
 = 0; i < 
¡hªads
; i++)

145 i‡(
	`uv_thªad_joö
(
thªads
 + 
i
))

146 
	`ab‹t
();

148 i‡(
thªads
 !
deÁu…_thªads
)

149 
	`uv__‰ì
(
thªads
);

151 
	`uv_muãx_de°roy
(&
muãx
);

152 
	`uv_c⁄d_de°roy
(&
c⁄d
);

154 
thªads
 = 
NULL
;

155 
¡hªads
 = 0;

156 
öôülized
 = 0;

161 
uv_⁄˚_t
 
⁄˚_agaö
 = 
UV_ONCE_INIT
;

162 
⁄˚
 = 
⁄˚_agaö
;

163 
	}
}

167 
	$öô_⁄˚
() {

168 
i
;

169 c⁄° * 
vÆ
;

171 
¡hªads
 = 
	`ARRAY_SIZE
(
deÁu…_thªads
);

172 
vÆ
 = 
	`gëív
("UV_THREADPOOL_SIZE");

173 i‡(
vÆ
 !
NULL
)

174 
¡hªads
 = 
	`©oi
(
vÆ
);

175 i‡(
¡hªads
 == 0)

176 
¡hªads
 = 1;

177 i‡(
¡hªads
 > 
MAX_THREADPOOL_SIZE
)

178 
¡hªads
 = 
MAX_THREADPOOL_SIZE
;

180 
thªads
 = 
deÁu…_thªads
;

181 i‡(
¡hªads
 > 
	`ARRAY_SIZE
(
deÁu…_thªads
)) {

182 
thªads
 = 
	`uv__mÆloc
(
¡hªads
 * (threads[0]));

183 i‡(
thªads
 =
NULL
) {

184 
¡hªads
 = 
	`ARRAY_SIZE
(
deÁu…_thªads
);

185 
thªads
 = 
deÁu…_thªads
;

189 i‡(
	`uv_c⁄d_öô
(&
c⁄d
))

190 
	`ab‹t
();

192 i‡(
	`uv_muãx_öô
(&
muãx
))

193 
	`ab‹t
();

195 
	`QUEUE_INIT
(&
wq
);

197 
i
 = 0; i < 
¡hªads
; i++)

198 i‡(
	`uv_thªad_¸óã
(
thªads
 + 
i
, 
w‹kî
, 
NULL
))

199 
	`ab‹t
();

201 
öôülized
 = 1;

202 
	}
}

205 
uv__w‹k_submô
(
uv_lo›_t
* 
lo›
,

206 
uv__w‹k
* 
w
,

207 (*
w‹k
)(
uv__w‹k
* 
w
),

208 (*
d⁄e
)(
uv__w‹k
* 
w
, 
°©us
)) {

209 
	`uv_⁄˚
(&
⁄˚
, 
öô_⁄˚
);

210 
w
->
lo›
 =Üoop;

211 
w
->
w‹k
 = work;

212 
w
->
d⁄e
 = done;

213 
	`po°
(&
w
->
wq
);

214 
	}
}

217 
	$uv__w‹k_ˇn˚l
(
uv_lo›_t
* 
lo›
, 
uv_ªq_t
* 
ªq
, 
uv__w‹k
* 
w
) {

218 
ˇn˚Œed
;

220 
	`uv_muãx_lock
(&
muãx
);

221 
	`uv_muãx_lock
(&
w
->
lo›
->
wq_muãx
);

223 
ˇn˚Œed
 = !
	`QUEUE_EMPTY
(&
w
->
wq
Ë&& w->
w‹k
 !
NULL
;

224 i‡(
ˇn˚Œed
)

225 
	`QUEUE_REMOVE
(&
w
->
wq
);

227 
	`uv_muãx_u∆ock
(&
w
->
lo›
->
wq_muãx
);

228 
	`uv_muãx_u∆ock
(&
muãx
);

230 i‡(!
ˇn˚Œed
)

231  
UV_EBUSY
;

233 
w
->
w‹k
 = 
uv__ˇn˚Œed
;

234 
	`uv_muãx_lock
(&
lo›
->
wq_muãx
);

235 
	`QUEUE_INSERT_TAIL
(&
lo›
->
wq
, &
w
->wq);

236 
	`uv_async_£nd
(&
lo›
->
wq_async
);

237 
	`uv_muãx_u∆ock
(&
lo›
->
wq_muãx
);

240 
	}
}

243 
	$uv__w‹k_d⁄e
(
uv_async_t
* 
h™dÀ
) {

244 
uv__w‹k
* 
w
;

245 
uv_lo›_t
* 
lo›
;

246 
QUEUE
* 
q
;

247 
QUEUE
 
wq
;

248 
îr
;

250 
lo›
 = 
	`c⁄èöî_of
(
h™dÀ
, 
uv_lo›_t
, 
wq_async
);

251 
	`uv_muãx_lock
(&
lo›
->
wq_muãx
);

252 
	`QUEUE_MOVE
(&
lo›
->
wq
, &wq);

253 
	`uv_muãx_u∆ock
(&
lo›
->
wq_muãx
);

255 !
	`QUEUE_EMPTY
(&
wq
)) {

256 
q
 = 
	`QUEUE_HEAD
(&
wq
);

257 
	`QUEUE_REMOVE
(
q
);

259 
w
 = 
	`c⁄èöî_of
(
q
, 
uv__w‹k
, 
wq
);

260 
îr
 = (
w
->
w‹k
 =
uv__ˇn˚Œed
Ë? 
UV_ECANCELED
 : 0;

261 
w
->
	`d⁄e
(w, 
îr
);

263 
	}
}

266 
	$uv__queue_w‹k
(
uv__w‹k
* 
w
) {

267 
uv_w‹k_t
* 
ªq
 = 
	`c⁄èöî_of
(
w
, uv_w‹k_t, 
w‹k_ªq
);

269 
ªq
->
	`w‹k_cb
(req);

270 
	}
}

273 
	$uv__queue_d⁄e
(
uv__w‹k
* 
w
, 
îr
) {

274 
uv_w‹k_t
* 
ªq
;

276 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_w‹k_t
, 
w‹k_ªq
);

277 
	`uv__ªq_uƒegi°î
(
ªq
->
lo›
,Ñeq);

279 i‡(
ªq
->
a·î_w‹k_cb
 =
NULL
)

282 
ªq
->
	`a·î_w‹k_cb
‘eq, 
îr
);

283 
	}
}

286 
	$uv_queue_w‹k
(
uv_lo›_t
* 
lo›
,

287 
uv_w‹k_t
* 
ªq
,

288 
uv_w‹k_cb
 
w‹k_cb
,

289 
uv_a·î_w‹k_cb
 
a·î_w‹k_cb
) {

290 i‡(
w‹k_cb
 =
NULL
)

291  
UV_EINVAL
;

293 
	`uv__ªq_öô
(
lo›
, 
ªq
, 
UV_WORK
);

294 
ªq
->
lo›
 =Üoop;

295 
ªq
->
w‹k_cb
 = work_cb;

296 
ªq
->
a·î_w‹k_cb
 =áfter_work_cb;

297 
	`uv__w‹k_submô
(
lo›
, &
ªq
->
w‹k_ªq
, 
uv__queue_w‹k
, 
uv__queue_d⁄e
);

299 
	}
}

302 
	$uv_ˇn˚l
(
uv_ªq_t
* 
ªq
) {

303 
uv__w‹k
* 
wªq
;

304 
uv_lo›_t
* 
lo›
;

306 
ªq
->
ty≥
) {

307 
UV_FS
:

308 
lo›
 = ((
uv_fs_t
*Ë
ªq
)->loop;

309 
wªq
 = &((
uv_fs_t
*Ë
ªq
)->
w‹k_ªq
;

311 
UV_GETADDRINFO
:

312 
lo›
 = ((
uv_gëaddröfo_t
*Ë
ªq
)->loop;

313 
wªq
 = &((
uv_gëaddröfo_t
*Ë
ªq
)->
w‹k_ªq
;

315 
UV_GETNAMEINFO
:

316 
lo›
 = ((
uv_gë«meöfo_t
*Ë
ªq
)->loop;

317 
wªq
 = &((
uv_gë«meöfo_t
*Ë
ªq
)->
w‹k_ªq
;

319 
UV_WORK
:

320 
lo›
 = ((
uv_w‹k_t
*Ë
ªq
)->loop;

321 
wªq
 = &((
uv_w‹k_t
*Ë
ªq
)->
w‹k_ªq
;

324  
UV_EINVAL
;

327  
	`uv__w‹k_ˇn˚l
(
lo›
, 
ªq
, 
wªq
);

328 
	}
}

330 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

331 
	$tuv_˛ónup
() {

332 
	`˛ónup
();

333 
	}
}

	@deps/libtuv/src/tuv_debuglog.c

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

19 
	~"tuv__debuglog.h
"

21 #ifde‡
ENABLE_DEBUG_LOG


23 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TUV_MBED__
Ë|| deföed(
__TIZENRT__
)

24 
	gtuv_debug_Àvñ
 = 
TDBGLEV_INFO
;

26 
	gtuv_debug_Àvñ
 = 
TDBGLEV_ERR
;

29 
FILE
 *
	gtuv_log_°ªam
;

30 c⁄° * 
	gtuv_debug_¥efix
[4] = { "", "ERR", "WRN", "INF" };

34 
	$InôDebugSëtögs
() {

35 #ifde‡
ENABLE_DEBUG_LOG


36 c⁄° * 
dbgÀvñ
 = 
NULL
;

37 c⁄° * 
dbglogfûe
 = 
NULL
;

39 
dbgÀvñ
 = 
	`gëív
("TUV_DEBUG_LEVEL");

40 
dbglogfûe
 = 
	`gëív
("TUV_DEBUG_LOGFILE");

42 
tuv_log_°ªam
 = 
°dîr
;

44 i‡(
dbgÀvñ
) {

45 
tuv_debug_Àvñ
 = 
	`©oi
(
dbgÀvñ
);

46 i‡(
tuv_debug_Àvñ
 < 0)Åuv_debug_level = 0;

47 i‡(
tuv_debug_Àvñ
 > 
TDBGLEV_INFO
)Åuv_debug_level = TDBGLEV_INFO;

49 i‡(
dbglogfûe
) {

50 
FILE
* 
log°ªam
;

51 
log°ªam
 = 
	`f›í
(
dbglogfûe
, "w+");

52 i‡(
log°ªam
 !
NULL
) {

53 
tuv_log_°ªam
 = 
log°ªam
;

59 
	}
}

62 
	$Rñó£DebugSëtögs
() {

63 #ifde‡
ENABLE_DEBUG_LOG


64 i‡(
tuv_log_°ªam
 !
°dîr
 ||Åuv_log_°ªam !
°dout
) {

65 
	`f˛o£
(
tuv_log_°ªam
);

68 
tuv_log_°ªam
 = 
°dîr
;

69 
tuv_debug_Àvñ
 = 
TDBGLEV_ERR
;

71 
	}
}

	@deps/libtuv/src/unix/aix.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<°dio.h
>

25 
	~<°döt.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<as£π.h
>

29 
	~<î∫o.h
>

31 
	~<sys/ty≥s.h
>

32 
	~<sys/sockë.h
>

33 
	~<sys/io˘l.h
>

34 
	~<√t/if.h
>

35 
	~<√töë/ö.h
>

36 
	~<¨∑/öë.h
>

38 
	~<sys/time.h
>

39 
	~<uni°d.h
>

40 
	~<f˙é.h
>

41 
	~<utmp.h
>

42 
	~<libgí.h
>

44 
	~<sys/¥Ÿosw.h
>

45 
	~<lib≥rf°©.h
>

46 
	~<¥ocöfo.h
>

47 
	~<sys/¥oc.h
>

48 
	~<sys/¥ocfs.h
>

50 
	~<sys/pﬁl.h
>

52 
	~<sys/pﬁl£t.h
>

53 
	~<˘y≥.h
>

54 #ifde‡
HAVE_SYS_AHAFS_EVPRODS_H


55 
	~<sys/ahafs_evProds.h
>

58 
	~<sys/m¡˘l.h
>

59 
	~<sys/vmou¡.h
>

60 
	~<limôs.h
>

61 
	~<°rögs.h
>

62 
	~<sys/vnode.h
>

64 
	#RDWR_BUF_SIZE
 4096

	)

65 
	#EQ
(
a
,
b
Ë(
	`°rcmp
◊,bË=0)

	)

67 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

68 
lo›
->
fs_fd
 = -1;

72 
lo›
->
backíd_fd
 = 
	`pﬁl£t_¸óã
(-1);

74 i‡(
lo›
->
backíd_fd
 == -1)

78 
	}
}

81 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

82 i‡(
lo›
->
fs_fd
 != -1) {

83 
	`uv__˛o£
(
lo›
->
fs_fd
);

84 
lo›
->
fs_fd
 = -1;

87 i‡(
lo›
->
backíd_fd
 != -1) {

88 
	`pﬁl£t_de°roy
(
lo›
->
backíd_fd
);

89 
lo›
->
backíd_fd
 = -1;

91 
	}
}

94 
	$uv__io_check_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

95 
pﬁl_˘l
 
pc
;

97 
pc
.
evíts
 = 
POLLIN
;

98 
pc
.
cmd
 = 
PS_MOD
;

99 
pc
.
fd
 = fd;

101 i‡(
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1))

102  -
î∫o
;

104 
pc
.
cmd
 = 
PS_DELETE
;

105 i‡(
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1))

106 
	`ab‹t
();

109 
	}
}

112 
	$uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
) {

113 
pﬁlfd
 
evíts
[1024];

114 
pﬁlfd
 
pqry
;

115 
pﬁlfd
* 
≥
;

116 
pﬁl_˘l
 
pc
;

117 
QUEUE
* 
q
;

118 
uv__io_t
* 
w
;

119 
uöt64_t
 
ba£
;

120 
uöt64_t
 
diff
;

121 
have_sig«ls
;

122 
√víts
;

123 
cou¡
;

124 
nfds
;

125 
i
;

126 
rc
;

127 
add_Áûed
;

129 i‡(
lo›
->
nfds
 == 0) {

130 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

134 !
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
)) {

135 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
w©chî_queue
);

136 
	`QUEUE_REMOVE
(
q
);

137 
	`QUEUE_INIT
(
q
);

139 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
w©chî_queue
);

140 
	`as£π
(
w
->
≥víts
 != 0);

141 
	`as£π
(
w
->
fd
 >= 0);

142 
	`as£π
(
w
->
fd
 < (Ë
lo›
->
nw©chîs
);

144 
pc
.
evíts
 = 
w
->
≥víts
;

145 
pc
.
fd
 = 
w
->fd;

147 
add_Áûed
 = 0;

148 i‡(
w
->
evíts
 == 0) {

149 
pc
.
cmd
 = 
PS_ADD
;

150 i‡(
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1)) {

151 i‡(
î∫o
 !
EINVAL
) {

152 
	`as£π
(0 && "FailedÅoádd file descriptor (pc.fd)ÅoÖollset");

153 
	`ab‹t
();

156 
pqry
.
fd
 = 
pc
.fd;

157 
rc
 = 
	`pﬁl£t_quîy
(
lo›
->
backíd_fd
, &
pqry
);

158 
rc
) {

160 
	`as£π
(0 && "FailedÅo queryÖollset for file descriptor");

161 
	`ab‹t
();

163 
	`as£π
(0 && "Pollset doesÇot contain file descriptor");

164 
	`ab‹t
();

168 
add_Áûed
 = 1;

171 i‡(
w
->
evíts
 !0 || 
add_Áûed
) {

178 
pc
.
cmd
 = 
PS_DELETE
;

179 i‡(
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1)) {

180 
	`as£π
(0 && "FailedÅo delete file descriptor (pc.fd) fromÖollset");

181 
	`ab‹t
();

183 
pc
.
cmd
 = 
PS_ADD
;

184 i‡(
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1)) {

185 
	`as£π
(0 && "FailedÅoádd file descriptor (pc.fd)ÅoÖollset");

186 
	`ab‹t
();

190 
w
->
evíts
 = w->
≥víts
;

193 
	`as£π
(
timeout
 >= -1);

194 
ba£
 = 
lo›
->
time
;

195 
cou¡
 = 48;

198 
nfds
 = 
	`pﬁl£t_pﬁl
(
lo›
->
backíd_fd
,

199 
evíts
,

200 
	`ARRAY_SIZE
(
evíts
),

201 
timeout
);

207 
	`SAVE_ERRNO
(
	`uv__upd©e_time
(
lo›
));

209 i‡(
nfds
 == 0) {

210 
	`as£π
(
timeout
 != -1);

214 i‡(
nfds
 == -1) {

215 i‡(
î∫o
 !
EINTR
) {

216 
	`ab‹t
();

219 i‡(
timeout
 == -1)

222 i‡(
timeout
 == 0)

226 
upd©e_timeout
;

229 
have_sig«ls
 = 0;

230 
√víts
 = 0;

232 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

233 
lo›
->
w©chîs
[lo›->
nw©chîs
] = (*Ë
evíts
;

234 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = (*Ë(
uöçå_t
Ë
nfds
;

236 
i
 = 0; i < 
nfds
; i++) {

237 
≥
 = 
evíts
 + 
i
;

238 
pc
.
cmd
 = 
PS_DELETE
;

239 
pc
.
fd
 = 
≥
->fd;

242 i‡(
pc
.
fd
 == -1)

245 
	`as£π
(
pc
.
fd
 >= 0);

246 
	`as£π
((Ë
pc
.
fd
 < 
lo›
->
nw©chîs
);

248 
w
 = 
lo›
->
w©chîs
[
pc
.
fd
];

250 i‡(
w
 =
NULL
) {

256 
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1);

263 i‡(
w
 =&
lo›
->
sig«l_io_w©chî
)

264 
have_sig«ls
 = 1;

266 
w
->
	`cb
(
lo›
, w, 
≥
->
ªvíts
);

268 
√víts
++;

271 i‡(
have_sig«ls
 != 0)

272 
lo›
->
sig«l_io_w©chî
.
	`cb
÷o›, &lo›->sig«l_io_w©chî, 
POLLIN
);

274 
lo›
->
w©chîs
[lo›->
nw©chîs
] = 
NULL
;

275 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = 
NULL
;

277 i‡(
have_sig«ls
 != 0)

280 i‡(
√víts
 != 0) {

281 i‡(
nfds
 =
	`ARRAY_SIZE
(
evíts
Ë&& --
cou¡
 != 0) {

283 
timeout
 = 0;

289 i‡(
timeout
 == 0)

292 i‡(
timeout
 == -1)

295 
upd©e_timeout
:

296 
	`as£π
(
timeout
 > 0);

298 
diff
 = 
lo›
->
time
 - 
ba£
;

299 i‡(
diff
 >(
uöt64_t
Ë
timeout
)

302 
timeout
 -
diff
;

304 
	}
}

307 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

308 
uöt64_t
 
G
 = 1000000000;

309 
timeba£°ru˘_t
 
t
;

310 
	`ªad_wÆl_time
(&
t
, 
TIMEBASE_SZ
);

311 
	`time_ba£_to_time
(&
t
, 
TIMEBASE_SZ
);

312  (
uöt64_t
Ë
t
.
tb_high
 * 
G
 +Å.
tb_low
;

313 
	}
}

324 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

325 
ªs
;

326 
¨gs
[
PATH_MAX
];

327 
ab•©h
[
PATH_MAX
];

328 
size_t
 
ab•©h_size
;

329 
¥ocsöfo
 
pi
;

331 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

332  -
EINVAL
;

334 
pi
.
pi_pid
 = 
	`gëpid
();

335 
ªs
 = 
	`gë¨gs
(&
pi
, ’i), 
¨gs
, (args));

336 i‡(
ªs
 < 0)

337  -
EINVAL
;

348 i‡(
	`°rchr
(
¨gs
, '/'Ë!
NULL
) {

349 i‡(
	`ªÆ∑th
(
¨gs
, 
ab•©h
) !=ábspath)

350  -
î∫o
;

352 
ab•©h_size
 = 
	`°æí
(
ab•©h
);

354 *
size
 -= 1;

355 i‡(*
size
 > 
ab•©h_size
)

356 *
size
 = 
ab•©h_size
;

358 
	`mem˝y
(
buf„r
, 
ab•©h
, *
size
);

359 
buf„r
[*
size
] = '\0';

364 
åy∑th
[
PATH_MAX
];

365 *
˛⁄ed∑th
 = 
NULL
;

366 *
tokí
 = 
NULL
;

367 *
∑th
 = 
	`gëív
("PATH");

369 i‡(
∑th
 =
NULL
)

370  -
EINVAL
;

372 
˛⁄ed∑th
 = 
	`uv__°rdup
(
∑th
);

373 i‡(
˛⁄ed∑th
 =
NULL
)

374  -
ENOMEM
;

376 
tokí
 = 
	`°πok
(
˛⁄ed∑th
, ":");

377 
tokí
 !
NULL
) {

378 
	`¢¥ötf
(
åy∑th
, —ry∑thË- 1, "%s/%s", 
tokí
, 
¨gs
);

379 i‡(
	`ªÆ∑th
(
åy∑th
, 
ab•©h
) ==ábspath) {

381 i‡(
	`ac˚ss
(
ab•©h
, 
X_OK
) == 0) {

382 
ab•©h_size
 = 
	`°æí
(
ab•©h
);

384 *
size
 -= 1;

385 i‡(*
size
 > 
ab•©h_size
)

386 *
size
 = 
ab•©h_size
;

388 
	`mem˝y
(
buf„r
, 
ab•©h
, *
size
);

389 
buf„r
[*
size
] = '\0';

391 
	`uv__‰ì
(
˛⁄ed∑th
);

395 
tokí
 = 
	`°πok
(
NULL
, ":");

397 
	`uv__‰ì
(
˛⁄ed∑th
);

400  -
EINVAL
;

402 
	}
}

405 
uöt64_t
 
	$uv_gë_‰ì_mem‹y
() {

406 
≥rf°©_mem‹y_tŸÆ_t
 
mem_tŸÆ
;

407 
ªsu…
 = 
	`≥rf°©_mem‹y_tŸÆ
(
NULL
, &
mem_tŸÆ
, (mem_total), 1);

408 i‡(
ªsu…
 == -1) {

411  
mem_tŸÆ
.
ªÆ_‰ì
 * 4096;

412 
	}
}

415 
uöt64_t
 
	$uv_gë_tŸÆ_mem‹y
() {

416 
≥rf°©_mem‹y_tŸÆ_t
 
mem_tŸÆ
;

417 
ªsu…
 = 
	`≥rf°©_mem‹y_tŸÆ
(
NULL
, &
mem_tŸÆ
, (mem_total), 1);

418 i‡(
ªsu…
 == -1) {

421  
mem_tŸÆ
.
ªÆ_tŸÆ
 * 4096;

422 
	}
}

425 
	$uv_lﬂdavg
(
avg
[3]) {

426 
≥rf°©_˝u_tŸÆ_t
 
ps_tŸÆ
;

427 
ªsu…
 = 
	`≥rf°©_˝u_tŸÆ
(
NULL
, &
ps_tŸÆ
, (ps_total), 1);

428 i‡(
ªsu…
 == -1) {

429 
avg
[0] = 0.;ávg[1] = 0.;ávg[2] = 0.;

432 
avg
[0] = 
ps_tŸÆ
.
lﬂdavg
[0] / ()(1 << 
SBITS
);

433 
avg
[1] = 
ps_tŸÆ
.
lﬂdavg
[1] / ()(1 << 
SBITS
);

434 
avg
[2] = 
ps_tŸÆ
.
lﬂdavg
[2] / ()(1 << 
SBITS
);

435 
	}
}

438 #ifde‡
HAVE_SYS_AHAFS_EVPRODS_H


439 *
	$uv__øw«me
(*
˝
) {

440 
øwbuf
[
FILENAME_MAX
+1];

441 *
dp
 = 
	`rödex
(
˝
, '/');

443 i‡(
dp
 == 0)

446 *
dp
 = 0;

447 
	`°r˝y
(
øwbuf
, 
˝
);

448 *
dp
 = '/';

449 
	`°rˇt
(
øwbuf
, "/r");

450 
	`°rˇt
(
øwbuf
, 
dp
+1);

451  
øwbuf
;

452 
	}
}

462 
	$uv__∑th_is_a_dúe˘‹y
(* 
fûíame
) {

463 
°©
 
°©buf
;

465 i‡(
	`°©
(
fûíame
, &
°©buf
) < 0)

468 i‡(
°©buf
.
°_ty≥
 =
VDIR
)

472 
	}
}

479 
	$uv__is_ahafs_mou¡ed
(){

480 
rv
, 
i
 = 2;

481 
vmou¡
 *
p
;

482 
size_mu…ùlõr
 = 10;

483 
size_t
 
siz
 = (
vmou¡
)*
size_mu…ùlõr
;

484 
vmou¡
 *
vmt
;

485 c⁄° *
dev
 = "/aha";

486 *
obj
, *
°ub
;

488 
p
 = 
	`uv__mÆloc
(
siz
);

489 i‡(
p
 =
NULL
)

490  -
î∫o
;

493 
rv
 = 
	`m¡˘l
(
MCTL_QUERY
, 
siz
, (*)
p
);

494 i‡(
rv
 < 0)

495  -
î∫o
;

496 i‡(
rv
 == 0) {

498 
siz
 = *(*)
p
;

499 
	`uv__‰ì
(
p
);

500 
p
 = 
	`uv__mÆloc
(
siz
);

501 i‡(
p
 =
NULL
)

502  -
î∫o
;

503 
rv
 = 
	`m¡˘l
(
MCTL_QUERY
, 
siz
, (*)
p
);

504 i‡(
rv
 < 0)

505  -
î∫o
;

509 
vmt
 = 
p
, 
i
 = 0; i < 
rv
; i++) {

510 
obj
 = 
	`vmt2d©≠å
(
vmt
, 
VMT_OBJECT
);

511 
°ub
 = 
	`vmt2d©≠å
(
vmt
, 
VMT_STUB
);

513 i‡(
	`EQ
(
obj
, 
dev
Ë|| EQ(
	`uv__øw«me
(obj), devË|| EQ(
°ub
, dev)) {

514 
	`uv__‰ì
(
p
);

517 
vmt
 = (
vmou¡
 *Ë((*Ëvmà+ vmt->
vmt_Àngth
);

522 
	}
}

528 
	$uv__makedú_p
(c⁄° *
dú
) {

529 
tmp
[256];

530 *
p
 = 
NULL
;

531 
size_t
 
Àn
;

532 
îr
;

534 
	`¢¥ötf
(
tmp
, —mp),"%s",
dú
);

535 
Àn
 = 
	`°æí
(
tmp
);

536 i‡(
tmp
[
Àn
 - 1] == '/')

537 
tmp
[
Àn
 - 1] = 0;

538 
p
 = 
tmp
 + 1; *p;Ö++) {

539 i‡(*
p
 == '/') {

540 *
p
 = 0;

541 
îr
 = 
	`mkdú
(
tmp
, 
S_IRWXU
 | 
S_IRWXG
 | 
S_IROTH
 | 
S_IXOTH
);

542 i‡(
îr
 !0 && 
î∫o
 !
EEXIST
)

543  
îr
;

544 *
p
 = '/';

547  
	`mkdú
(
tmp
, 
S_IRWXU
 | 
S_IRWXG
 | 
S_IROTH
 | 
S_IXOTH
);

548 
	}
}

555 
	$uv__make_subdús_p
(c⁄° *
fûíame
) {

556 
cmd
[2048];

557 *
p
;

558 
rc
 = 0;

561 
p
 = 
	`°ºchr
(
fûíame
, '/');

563 i‡(
p
 =
NULL
)

566 i‡(
	`uv__∑th_is_a_dúe˘‹y
((*)
fûíame
) == 0) {

567 
	`•rötf
(
cmd
, "/aha/fs/modDir.monFactory");

569 
	`•rötf
(
cmd
, "/aha/fs/modFile.monFactory");

572 
	`°∫ˇt
(
cmd
, 
fûíame
, (
p
 - filename));

573 
rc
 = 
	`uv__makedú_p
(
cmd
);

575 i‡(
rc
 =-1 && 
î∫o
 !
EEXIST
){

576  -
î∫o
;

579  
rc
;

580 
	}
}

588 
	$uv__£tup_ahafs
(c⁄° * 
fûíame
, *
fd
) {

589 
rc
 = 0;

590 
m⁄_fûe_wrôe_°rög
[
RDWR_BUF_SIZE
];

591 
m⁄_fûe
[
PATH_MAX
];

592 
fûe_is_dúe˘‹y
 = 0;

595 
fûe_is_dúe˘‹y
 = 
	`uv__∑th_is_a_dúe˘‹y
((*)
fûíame
);

597 i‡(
fûe_is_dúe˘‹y
 == 0)

598 
	`•rötf
(
m⁄_fûe
, "/aha/fs/modDir.monFactory");

600 
	`•rötf
(
m⁄_fûe
, "/aha/fs/modFile.monFactory");

602 i‡((
	`°æí
(
m⁄_fûe
Ë+ såÀn(
fûíame
Ë+ 5Ë> 
PATH_MAX
)

603  -
ENAMETOOLONG
;

606 
rc
 = 
	`uv__make_subdús_p
(
fûíame
);

607 i‡(
rc
 =-1 && 
î∫o
 !
EEXIST
)

608  
rc
;

610 
	`°rˇt
(
m⁄_fûe
, 
fûíame
);

611 
	`°rˇt
(
m⁄_fûe
, ".mon");

613 *
fd
 = 0; 
î∫o
 = 0;

616 *
fd
 = 
	`›í
(
m⁄_fûe
, 
O_CREAT
|
O_RDWR
);

617 i‡(*
fd
 < 0)

618  -
î∫o
;

632 i‡(
fûe_is_dúe˘‹y
 == 0)

633 
	`•rötf
(
m⁄_fûe_wrôe_°rög
, "CHANGED=YES;WAIT_TYPE=WAIT_IN_SELECT;INFO_LVL=2");

635 
	`•rötf
(
m⁄_fûe_wrôe_°rög
, "CHANGED=YES;WAIT_TYPE=WAIT_IN_SELECT;INFO_LVL=1");

637 
rc
 = 
	`wrôe
(*
fd
, 
m⁄_fûe_wrôe_°rög
, 
	`°æí
(mon_file_write_string)+1);

638 i‡(
rc
 < 0)

639  -
î∫o
;

642 
	}
}

649 
	$uv__skù_löes
(**
p
, 
n
) {

650 
löes
 = 0;

652 
n
 > 0) {

653 *
p
 = 
	`°rchr
(*p, '\n');

654 i‡(!
p
)

655  
löes
;

657 (*
p
)++;

658 
n
--;

659 
löes
++;

661  
löes
;

662 
	}
}

673 
	$uv__∑r£_d©a
(*
buf
, *
evíts
, 
uv_fs_evít_t
* 
h™dÀ
) {

674 
evp_rc
, 
i
;

675 *
p
;

676 
fûíame
[
PATH_MAX
];

678 
p
 = 
buf
;

679 *
evíts
 = 0;

682 
i
 = 0; i < 
PATH_MAX
; i++) {

683 
fûíame
[
i
] = 0;

685 
i
 = 0;

688 i‡(
	`°∫cmp
(
buf
, "BUF_WRAP", 
	`°æí
("BUF_WRAP")) == 0) {

689 
	`as£π
(0 && "Buffer wrap detected, SomeÉvent occurrencesÜost!");

700 i‡(
	`uv__skù_löes
(&
p
, 9) != 9)

703 i‡(
	`ssˇnf
(
p
, "RC_FROM_EVPROD=%d\nEND_EVENT_DATA", &
evp_rc
) == 1) {

704 i‡(
	`uv__∑th_is_a_dúe˘‹y
(
h™dÀ
->
∑th
) == 0) {

705 i‡(
evp_rc
 =
AHAFS_MODDIR_UNMOUNT
 ||Évp_r¯=
AHAFS_MODDIR_REMOVE_SELF
) {

707 *
evíts
 = 
UV_RENAME
;

708 
h™dÀ
->
dú_fûíame
 = 
NULL
;

711 *
evíts
 = 
UV_CHANGE
;

714 i‡(
	`uv__skù_löes
(&
p
, 1) != 1)

718 i‡(
	`ssˇnf
(
p
, "BEGIN_EVPROD_INFO\n%sEND_EVPROD_INFO", 
fûíame
) == 1) {

719 
h™dÀ
->
dú_fûíame
 = 
	`uv__°rdup
((c⁄° *)&
fûíame
);

724 i‡(
evp_rc
 =
AHAFS_MODFILE_RENAME
)

725 *
evíts
 = 
UV_RENAME
;

727 *
evíts
 = 
UV_CHANGE
;

734 
	}
}

738 
	$uv__ahafs_evít
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
evít_w©ch
, 
fÊags
) {

739 
ªsu…_d©a
[
RDWR_BUF_SIZE
];

740 
byãs
, 
rc
 = 0;

741 
uv_fs_evít_t
* 
h™dÀ
;

742 
evíts
 = 0;

743 
‚ame
[
PATH_MAX
];

744 *
p
;

746 
h™dÀ
 = 
	`c⁄èöî_of
(
evít_w©ch
, 
uv_fs_evít_t
, 
evít_w©chî
);

752 
byãs
 = 
	`¥ód
(
evít_w©ch
->
fd
, 
ªsu…_d©a
, 
RDWR_BUF_SIZE
, 0);

754 
	`as£π
((
byãs
 >= 0) && "uv__ahafs_event - ErrorÑeading monitor file");

757 if(
byãs
 > 0)

758 
rc
 = 
	`uv__∑r£_d©a
(
ªsu…_d©a
, &
evíts
, 
h™dÀ
);

761 i‡(
rc
 == -1)

767 i‡(
	`uv__∑th_is_a_dúe˘‹y
(
h™dÀ
->
∑th
) == 0) {

768 
p
 = 
h™dÀ
->
dú_fûíame
;

770 
p
 = 
	`°ºchr
(
h™dÀ
->
∑th
, '/');

771 i‡(
p
 =
NULL
)

772 
p
 = 
h™dÀ
->
∑th
;

774 
p
++;

776 
	`°∫˝y
(
‚ame
, 
p
, (fname) - 1);

778 
‚ame
[(fname) - 1] = '\0';

780 
h™dÀ
->
	`cb
(h™dÀ, 
‚ame
, 
evíts
, 0);

781 
	}
}

785 
	$uv_fs_evít_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_evít_t
* 
h™dÀ
) {

786 #ifde‡
HAVE_SYS_AHAFS_EVPRODS_H


787 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_FS_EVENT
);

790  -
ENOSYS
;

792 
	}
}

795 
	$uv_fs_evít_°¨t
(
uv_fs_evít_t
* 
h™dÀ
,

796 
uv_fs_evít_cb
 
cb
,

797 c⁄° * 
fûíame
,

798 
Êags
) {

799 #ifde‡
HAVE_SYS_AHAFS_EVPRODS_H


800 
fd
, 
rc
, 
°r_off£t
 = 0;

801 
cwd
[
PATH_MAX
];

802 
absﬁuã_∑th
[
PATH_MAX
];

803 
ªadlök_cwd
[
PATH_MAX
];

807 i‡(
fûíame
[0] == '/') {

809 
	`¢¥ötf
(
absﬁuã_∑th
, ◊bsﬁuã_∑th), "%s", 
fûíame
);

812 
	`¢¥ötf
(
cwd
, (cwd), "/¥oc/%lu/cwd", (Ë
	`gëpid
());

813 
rc
 = 
	`ªadlök
(
cwd
, 
ªadlök_cwd
, (readlink_cwd) - 1);

814 i‡(
rc
 < 0)

815  
rc
;

817 
ªadlök_cwd
[
rc
] = '\0';

819 i‡(
fûíame
[0] == '.' && filename[1] == '/')

820 
°r_off£t
 = 2;

822 
	`¢¥ötf
(
absﬁuã_∑th
, ◊bsﬁuã_∑th), "%s%s", 
ªadlök_cwd
,

823 
fûíame
 + 
°r_off£t
);

826 i‡(
	`uv__is_ahafs_mou¡ed
() < 0)

827  
UV_ENOSYS
;

830 
rc
 = 
	`uv__£tup_ahafs
((c⁄° *)
absﬁuã_∑th
, &
fd
);

831 i‡(
rc
 != 0)

832  
rc
;

835 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

836 
	`uv__io_öô
(&
h™dÀ
->
evít_w©chî
, 
uv__ahafs_evít
, 
fd
);

837 
h™dÀ
->
∑th
 = 
	`uv__°rdup
(
fûíame
);

838 
h™dÀ
->
cb
 = cb;

840 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
evít_w©chî
, 
POLLIN
);

844  -
ENOSYS
;

846 
	}
}

849 
	$uv_fs_evít_°›
(
uv_fs_evít_t
* 
h™dÀ
) {

850 #ifde‡
HAVE_SYS_AHAFS_EVPRODS_H


851 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))

854 
	`uv__io_˛o£
(
h™dÀ
->
lo›
, &h™dÀ->
evít_w©chî
);

855 
	`uv__h™dÀ_°›
(
h™dÀ
);

857 i‡(
	`uv__∑th_is_a_dúe˘‹y
(
h™dÀ
->
∑th
) == 0) {

858 
	`uv__‰ì
(
h™dÀ
->
dú_fûíame
);

859 
h™dÀ
->
dú_fûíame
 = 
NULL
;

862 
	`uv__‰ì
(
h™dÀ
->
∑th
);

863 
h™dÀ
->
∑th
 = 
NULL
;

864 
	`uv__˛o£
(
h™dÀ
->
evít_w©chî
.
fd
);

865 
h™dÀ
->
evít_w©chî
.
fd
 = -1;

869  -
ENOSYS
;

871 
	}
}

874 
	$uv__fs_evít_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

875 #ifde‡
HAVE_SYS_AHAFS_EVPRODS_H


876 
	`uv_fs_evít_°›
(
h™dÀ
);

878 
	`UNREACHABLE
();

880 
	}
}

883 ** 
	$uv_£tup_¨gs
(
¨gc
, ** 
¨gv
) {

884  
¨gv
;

885 
	}
}

888 
	$uv_£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

890 
	}
}

893 
	$uv_gë_¥o˚ss_tôÀ
(* 
buf„r
, 
size_t
 
size
) {

894 i‡(
buf„r
 =
NULL
 || 
size
 == 0)

895  -
EINVAL
;

897 
buf„r
[0] = '\0';

899 
	}
}

902 
	$uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
) {

903 
µ
[64];

904 
psöfo_t
 
psöfo
;

905 
îr
;

906 
fd
;

908 
	`¢¥ötf
(
µ
, ’p), "/¥oc/%lu/psöfo", (Ë
	`gëpid
());

910 
fd
 = 
	`›í
(
µ
, 
O_RDONLY
);

911 i‡(
fd
 == -1)

912  -
î∫o
;

915 
îr
 = -
EINVAL
;

916 i‡(
	`ªad
(
fd
, &
psöfo
, (psinfo)) == (psinfo)) {

917 *
rss
 = (
size_t
)
psöfo
.
¥_rssize
 * 1024;

918 
îr
 = 0;

920 
	`uv__˛o£
(
fd
);

922  
îr
;

923 
	}
}

926 
	$uv_u±ime
(* 
u±ime
) {

927 
utmp
 *
utmp_buf
;

928 
size_t
 
íåõs
 = 0;

929 
time_t
 
boŸ_time
;

931 
	`utm≤ame
(
UTMP_FILE
);

933 
	`£tuã¡
();

935 (
utmp_buf
 = 
	`gëuã¡
()Ë!
NULL
) {

936 i‡(
utmp_buf
->
ut_u£r
[0] && utmp_buf->
ut_ty≥
 =
USER_PROCESS
)

937 ++
íåõs
;

938 i‡(
utmp_buf
->
ut_ty≥
 =
BOOT_TIME
)

939 
boŸ_time
 = 
utmp_buf
->
ut_time
;

942 
	`íduã¡
();

944 i‡(
boŸ_time
 == 0)

945  -
ENOSYS
;

947 *
u±ime
 = 
	`time
(
NULL
Ë- 
boŸ_time
;

949 
	}
}

952 
	$uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
) {

953 
uv_˝u_öfo_t
* 
˝u_öfo
;

954 
≥rf°©_˝u_tŸÆ_t
 
ps_tŸÆ
;

955 
≥rf°©_˝u_t
* 
ps_˝us
;

956 
≥rf°©_id_t
 
˝u_id
;

957 
ªsu…
, 
n˝us
, 
idx
 = 0;

959 
ªsu…
 = 
	`≥rf°©_˝u_tŸÆ
(
NULL
, &
ps_tŸÆ
, (ps_total), 1);

960 i‡(
ªsu…
 == -1) {

961  -
ENOSYS
;

964 
n˝us
 = 
ªsu…
 = 
	`≥rf°©_˝u
(
NULL
, NULL, (
≥rf°©_˝u_t
), 0);

965 i‡(
ªsu…
 == -1) {

966  -
ENOSYS
;

969 
ps_˝us
 = (
≥rf°©_˝u_t
*Ë
	`uv__mÆloc
(
n˝us
 * (perfstat_cpu_t));

970 i‡(!
ps_˝us
) {

971  -
ENOMEM
;

974 
	`°r˝y
(
˝u_id
.
«me
, 
FIRST_CPU
);

975 
ªsu…
 = 
	`≥rf°©_˝u
(&
˝u_id
, 
ps_˝us
, (
≥rf°©_˝u_t
), 
n˝us
);

976 i‡(
ªsu…
 == -1) {

977 
	`uv__‰ì
(
ps_˝us
);

978  -
ENOSYS
;

981 *
˝u_öfos
 = (
uv_˝u_öfo_t
*Ë
	`uv__mÆloc
(
n˝us
 * (uv_cpu_info_t));

982 i‡(!*
˝u_öfos
) {

983 
	`uv__‰ì
(
ps_˝us
);

984  -
ENOMEM
;

987 *
cou¡
 = 
n˝us
;

989 
˝u_öfo
 = *
˝u_öfos
;

990 
idx
 < 
n˝us
) {

991 
˝u_öfo
->
•ìd
 = ()(
ps_tŸÆ
.
¥o˚ss‹HZ
 / 1000000);

992 
˝u_öfo
->
modñ
 = 
	`uv__°rdup
(
ps_tŸÆ
.
des¸ùti⁄
);

993 
˝u_öfo
->
˝u_times
.
u£r
 = 
ps_˝us
[
idx
].user;

994 
˝u_öfo
->
˝u_times
.
sys
 = 
ps_˝us
[
idx
].sys;

995 
˝u_öfo
->
˝u_times
.
idÀ
 = 
ps_˝us
[
idx
].idle;

996 
˝u_öfo
->
˝u_times
.
úq
 = 
ps_˝us
[
idx
].
waô
;

997 
˝u_öfo
->
˝u_times
.
ni˚
 = 0;

998 
˝u_öfo
++;

999 
idx
++;

1002 
	`uv__‰ì
(
ps_˝us
);

1004 
	}
}

1007 
	$uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
) {

1008 
i
;

1010 
i
 = 0; i < 
cou¡
; ++i) {

1011 
	`uv__‰ì
(
˝u_öfos
[
i
].
modñ
);

1014 
	`uv__‰ì
(
˝u_öfos
);

1015 
	}
}

1018 
	$uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
,

1019 * 
cou¡
) {

1020 
uv_öãrÁ˚_addªss_t
* 
addªss
;

1021 
sockfd
, 
size
 = 1;

1022 
ifc⁄f
 
ifc
;

1023 
i‰eq
 *
i‰
, *
p
, 
Êg
;

1025 *
cou¡
 = 0;

1027 i‡(0 > (
sockfd
 = 
	`sockë
(
AF_INET
, 
SOCK_DGRAM
, 
IPPROTO_IP
))) {

1028  -
î∫o
;

1031 i‡(
	`io˘l
(
sockfd
, 
SIOCGSIZIFCONF
, &
size
) == -1) {

1032 
	`uv__˛o£
(
sockfd
);

1033  -
î∫o
;

1036 
ifc
.
ifc_ªq
 = (
i‰eq
*)
	`uv__mÆloc
(
size
);

1037 
ifc
.
ifc_Àn
 = 
size
;

1038 i‡(
	`io˘l
(
sockfd
, 
SIOCGIFCONF
, &
ifc
) == -1) {

1039 
	`uv__˛o£
(
sockfd
);

1040  -
î∫o
;

1043 
	#ADDR_SIZE
(
p
Ë
	`MAX
(’).
ß_Àn
, ’))

	)

1046 
i‰
 = 
ifc
.
ifc_ªq
;

1047 (*)
i‰
 < (*)
ifc
.
ifc_ªq
 + ifc.
ifc_Àn
) {

1048 
p
 = 
i‰
;

1049 
i‰
 = (
i‰eq
*)

1050 ((*)
i‰
 + (i‰->
i‰_«me
Ë+ 
	`ADDR_SIZE
(i‰->
i‰_addr
));

1052 i‡(!(
p
->
i‰_addr
.
ß_Ámûy
 =
AF_INET6
 ||

1053 
p
->
i‰_addr
.
ß_Ámûy
 =
AF_INET
))

1056 
	`mem˝y
(
Êg
.
i‰_«me
, 
p
->ifr_name, (flg.ifr_name));

1057 i‡(
	`io˘l
(
sockfd
, 
SIOCGIFFLAGS
, &
Êg
) == -1) {

1058 
	`uv__˛o£
(
sockfd
);

1059  -
î∫o
;

1062 i‡(!(
Êg
.
i‰_Êags
 & 
IFF_UP
 && flg.i‰_Êag†& 
IFF_RUNNING
))

1065 (*
cou¡
)++;

1069 *
addªs£s
 = (
uv_öãrÁ˚_addªss_t
*)

1070 
	`uv__mÆloc
(*
cou¡
 * (
uv_öãrÁ˚_addªss_t
));

1071 i‡(!(*
addªs£s
)) {

1072 
	`uv__˛o£
(
sockfd
);

1073  -
ENOMEM
;

1075 
addªss
 = *
addªs£s
;

1077 
i‰
 = 
ifc
.
ifc_ªq
;

1078 (*)
i‰
 < (*)
ifc
.
ifc_ªq
 + ifc.
ifc_Àn
) {

1079 
p
 = 
i‰
;

1080 
i‰
 = (
i‰eq
*)

1081 ((*)
i‰
 + (i‰->
i‰_«me
Ë+ 
	`ADDR_SIZE
(i‰->
i‰_addr
));

1083 i‡(!(
p
->
i‰_addr
.
ß_Ámûy
 =
AF_INET6
 ||

1084 
p
->
i‰_addr
.
ß_Ámûy
 =
AF_INET
))

1087 
	`mem˝y
(
Êg
.
i‰_«me
, 
p
->ifr_name, (flg.ifr_name));

1088 i‡(
	`io˘l
(
sockfd
, 
SIOCGIFFLAGS
, &
Êg
) == -1) {

1089 
	`uv__˛o£
(
sockfd
);

1090  -
ENOSYS
;

1093 i‡(!(
Êg
.
i‰_Êags
 & 
IFF_UP
 && flg.i‰_Êag†& 
IFF_RUNNING
))

1098 
addªss
->
«me
 = 
	`uv__°rdup
(
p
->
i‰_«me
);

1100 i‡(
p
->
i‰_addr
.
ß_Ámûy
 =
AF_INET6
) {

1101 
addªss
->addªss.
addªss6
 = *((
sockaddr_ö6
*Ë&
p
->
i‰_addr
);

1103 
addªss
->addªss.
addªss4
 = *((
sockaddr_ö
*Ë&
p
->
i‰_addr
);

1108 
addªss
->
is_öã∫Æ
 = 
Êg
.
i‰_Êags
 & 
IFF_LOOPBACK
 ? 1 : 0;

1110 
addªss
++;

1113 #unde‡
ADDR_SIZE


1115 
	`uv__˛o£
(
sockfd
);

1117 
	}
}

1120 
	$uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
,

1121 
cou¡
) {

1122 
i
;

1124 
i
 = 0; i < 
cou¡
; ++i) {

1125 
	`uv__‰ì
(
addªs£s
[
i
].
«me
);

1128 
	`uv__‰ì
(
addªs£s
);

1129 
	}
}

1131 
	$uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

1132 
pﬁlfd
* 
evíts
;

1133 
uöçå_t
 
i
;

1134 
uöçå_t
 
nfds
;

1135 
pﬁl_˘l
 
pc
;

1137 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

1139 
evíts
 = (
pﬁlfd
*Ë
lo›
->
w©chîs
[lo›->
nw©chîs
];

1140 
nfds
 = (
uöçå_t
Ë
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1];

1142 i‡(
evíts
 !
NULL
)

1144 
i
 = 0; i < 
nfds
; i++)

1145 i‡((Ë
evíts
[
i
].
fd
 == fd)

1146 
evíts
[
i
].
fd
 = -1;

1149 
pc
.
evíts
 = 0;

1150 
pc
.
cmd
 = 
PS_DELETE
;

1151 
pc
.
fd
 = fd;

1152 if(
lo›
->
backíd_fd
 >= 0)

1153 
	`pﬁl£t_˘l
(
lo›
->
backíd_fd
, &
pc
, 1);

1154 
	}
}

	@deps/libtuv/src/unix/android-ifaddrs.c

26 
	~"™droid-iÁddrs.h
"

27 
	~"uv-comm⁄.h
"

29 
	~<°rög.h
>

30 
	~<°dlib.h
>

31 
	~<î∫o.h
>

32 
	~<uni°d.h
>

33 
	~<sys/sockë.h
>

34 
	~<√t/if_¨p.h
>

35 
	~<√töë/ö.h
>

36 
	~<löux/√éök.h
>

37 
	~<löux/π√éök.h
>

39 
	sNëlökLi°


41 
NëlökLi°
 *
	mm_√xt
;

42 
∆msghdr
 *
	mm_d©a
;

43 
	mm_size
;

44 } 
	tNëlökLi°
;

46 
	$√éök_sockë
()

48 
sockaddr_∆
 
l_addr
;

50 
l_sockë
 = 
	`sockë
(
PF_NETLINK
, 
SOCK_RAW
, 
NETLINK_ROUTE
);

51 if(
l_sockë
 < 0)

56 
	`mem£t
(&
l_addr
, 0, (l_addr));

57 
l_addr
.
∆_Ámûy
 = 
AF_NETLINK
;

58 if(
	`böd
(
l_sockë
, (
sockaddr
 *)&
l_addr
, (l_addr)) < 0)

60 
	`˛o£
(
l_sockë
);

64  
l_sockë
;

65 
	}
}

67 
	$√éök_£nd
(
p_sockë
, 
p_ªque°
)

69 
l_buf„r
[
	`NLMSG_ALIGN
((
∆msghdr
)Ë+ NLMSG_ALIGN((
πgímsg
))];

71 
∆msghdr
 *
l_hdr
;

72 
πgímsg
 *
l_msg
;

73 
sockaddr_∆
 
l_addr
;

75 
	`mem£t
(
l_buf„r
, 0, (l_buffer));

77 
l_hdr
 = (
∆msghdr
 *)
l_buf„r
;

78 
l_msg
 = (
πgímsg
 *)
	`NLMSG_DATA
(
l_hdr
);

80 
l_hdr
->
∆msg_Àn
 = 
	`NLMSG_LENGTH
((*
l_msg
));

81 
l_hdr
->
∆msg_ty≥
 = 
p_ªque°
;

82 
l_hdr
->
∆msg_Êags
 = 
NLM_F_ROOT
 | 
NLM_F_MATCH
 | 
NLM_F_REQUEST
;

83 
l_hdr
->
∆msg_pid
 = 0;

84 
l_hdr
->
∆msg_£q
 = 
p_sockë
;

85 
l_msg
->
πgí_Ámûy
 = 
AF_UNSPEC
;

87 
	`mem£t
(&
l_addr
, 0, (l_addr));

88 
l_addr
.
∆_Ámûy
 = 
AF_NETLINK
;

89  (
	`£ndto
(
p_sockë
, 
l_hdr
,Ü_hdr->
∆msg_Àn
, 0, (
sockaddr
 *)&
l_addr
, (l_addr)));

90 
	}
}

92 
	$√éök_ªcv
(
p_sockë
, *
p_buf„r
, 
size_t
 
p_Àn
)

94 
sockaddr_∆
 
l_addr
;

95 
msghdr
 
l_msg
;

97 
iovec
 
l_iov
;

98 
l_iov
.
iov_ba£
 = 
p_buf„r
;

99 
l_iov
.
iov_Àn
 = 
p_Àn
;

103 
l_ªsu…
;

104 
l_msg
.
msg_«me
 = (*)&
l_addr
;

105 
l_msg
.
msg_«mñí
 = (
l_addr
);

106 
l_msg
.
msg_iov
 = &
l_iov
;

107 
l_msg
.
msg_iovÀn
 = 1;

108 
l_msg
.
msg_c⁄åﬁ
 = 
NULL
;

109 
l_msg
.
msg_c⁄åﬁÀn
 = 0;

110 
l_msg
.
msg_Êags
 = 0;

111 
l_ªsu…
 = 
	`ªcvmsg
(
p_sockë
, &
l_msg
, 0);

113 if(
l_ªsu…
 < 0)

115 if(
î∫o
 =
EINTR
)

123 if(
l_msg
.
msg_Êags
 & 
MSG_TRUNC
)

127  
l_ªsu…
;

129 
	}
}

131 
∆msghdr
 *
	$gëNëlökRe•⁄£
(
p_sockë
, *
p_size
, *
p_d⁄e
)

133 
size_t
 
l_size
 = 4096;

134 *
l_buf„r
 = 
NULL
;

138 
l_ªad
;

140 
	`uv__‰ì
(
l_buf„r
);

141 
l_buf„r
 = 
	`uv__mÆloc
(
l_size
);

142 i‡(
l_buf„r
 =
NULL
)

144  
NULL
;

147 
l_ªad
 = 
	`√éök_ªcv
(
p_sockë
, 
l_buf„r
, 
l_size
);

148 *
p_size
 = 
l_ªad
;

149 if(
l_ªad
 == -2)

151 
	`uv__‰ì
(
l_buf„r
);

152  
NULL
;

154 if(
l_ªad
 >= 0)

156 
pid_t
 
l_pid
 = 
	`gëpid
();

157 
∆msghdr
 *
l_hdr
;

158 
l_hdr
 = (
∆msghdr
 *)
l_buf„r
; 
	`NLMSG_OK
÷_hdr, ()
l_ªad
);Ü_hd∏(∆msghd∏*)
	`NLMSG_NEXT
(l_hdr,Ü_read))

160 if((
pid_t
)
l_hdr
->
∆msg_pid
 !
l_pid
 || (Ó_hdr->
∆msg_£q
 !
p_sockë
)

165 if(
l_hdr
->
∆msg_ty≥
 =
NLMSG_DONE
)

167 *
p_d⁄e
 = 1;

171 if(
l_hdr
->
∆msg_ty≥
 =
NLMSG_ERROR
)

173 
	`uv__‰ì
(
l_buf„r
);

174  
NULL
;

177  
l_buf„r
;

180 
l_size
 *= 2;

182 
	}
}

184 
NëlökLi°
 *
	$√wLi°Iãm
(
∆msghdr
 *
p_d©a
, 
p_size
)

186 
NëlökLi°
 *
l_ôem
 = 
	`uv__mÆloc
((NetlinkList));

187 i‡(
l_ôem
 =
NULL
)

189  
NULL
;

192 
l_ôem
->
m_√xt
 = 
NULL
;

193 
l_ôem
->
m_d©a
 = 
p_d©a
;

194 
l_ôem
->
m_size
 = 
p_size
;

195  
l_ôem
;

196 
	}
}

198 
	$‰ìResu…Li°
(
NëlökLi°
 *
p_li°
)

200 
NëlökLi°
 *
l_cur
;

201 
p_li°
)

203 
l_cur
 = 
p_li°
;

204 
p_li°
 =Ö_li°->
m_√xt
;

205 
	`uv__‰ì
(
l_cur
->
m_d©a
);

206 
	`uv__‰ì
(
l_cur
);

208 
	}
}

210 
NëlökLi°
 *
	$gëResu…Li°
(
p_sockë
, 
p_ªque°
)

212 
l_size
;

213 
l_d⁄e
;

214 
NëlökLi°
 *
l_li°
;

215 
NëlökLi°
 *
l_íd
;

217 if(
	`√éök_£nd
(
p_sockë
, 
p_ªque°
) < 0)

219  
NULL
;

222 
l_li°
 = 
NULL
;

223 
l_íd
 = 
NULL
;

225 
l_d⁄e
 = 0;

226 !
l_d⁄e
)

228 
NëlökLi°
 *
l_ôem
;

230 
∆msghdr
 *
l_hdr
 = 
	`gëNëlökRe•⁄£
(
p_sockë
, &
l_size
, &
l_d⁄e
);

232 if(!
l_hdr
)

234 
	`‰ìResu…Li°
(
l_li°
);

235  
NULL
;

238 
l_ôem
 = 
	`√wLi°Iãm
(
l_hdr
, 
l_size
);

239 i‡(!
l_ôem
)

241 
	`‰ìResu…Li°
(
l_li°
);

242  
NULL
;

244 if(!
l_li°
)

246 
l_li°
 = 
l_ôem
;

250 
l_íd
->
m_√xt
 = 
l_ôem
;

252 
l_íd
 = 
l_ôem
;

254  
l_li°
;

255 
	}
}

257 
size_t
 
	$maxSize
(
size_t
 
a
, size_à
b
)

259  (
a
 > 
b
 ?á : b);

260 
	}
}

262 
size_t
 
	$ˇlcAddrLí
(
ß_Ámûy_t
 
p_Ámûy
, 
p_d©aSize
)

264 
p_Ámûy
)

266 
AF_INET
:

267  (
sockaddr_ö
);

268 
AF_INET6
:

269  (
sockaddr_ö6
);

270 
AF_PACKET
:

271  
	`maxSize
((
sockaddr_Œ
), 
	`off£tof
(sockaddr_Œ, 
¶l_addr
Ë+ 
p_d©aSize
);

273  
	`maxSize
((
sockaddr
), 
	`off£tof
(sockaddr, 
ß_d©a
Ë+ 
p_d©aSize
);

275 
	}
}

277 
	$makeSockaddr
(
ß_Ámûy_t
 
p_Ámûy
, 
sockaddr
 *
p_de°
, *
p_d©a
, 
size_t
 
p_size
)

279 
p_Ámûy
)

281 
AF_INET
:

282 
	`mem˝y
(&((
sockaddr_ö
*)
p_de°
)->
sö_addr
, 
p_d©a
, 
p_size
);

284 
AF_INET6
:

285 
	`mem˝y
(&((
sockaddr_ö6
*)
p_de°
)->
sö6_addr
, 
p_d©a
, 
p_size
);

287 
AF_PACKET
:

288 
	`mem˝y
(((
sockaddr_Œ
*)
p_de°
)->
¶l_addr
, 
p_d©a
, 
p_size
);

289 ((
sockaddr_Œ
*)
p_de°
)->
¶l_hÆí
 = 
p_size
;

292 
	`mem˝y
(
p_de°
->
ß_d©a
, 
p_d©a
, 
p_size
);

295 
p_de°
->
ß_Ámûy
 = 
p_Ámûy
;

296 
	}
}

298 
	$addToEnd
(
iÁddrs
 **
p_ªsu…Li°
, iÁddr†*
p_íåy
)

300 if(!*
p_ªsu…Li°
)

302 *
p_ªsu…Li°
 = 
p_íåy
;

306 
iÁddrs
 *
l_cur
 = *
p_ªsu…Li°
;

307 
l_cur
->
iÁ_√xt
)

309 
l_cur
 =Ü_cur->
iÁ_√xt
;

311 
l_cur
->
iÁ_√xt
 = 
p_íåy
;

313 
	}
}

315 
	$öãΩªtLök
(
∆msghdr
 *
p_hdr
, 
iÁddrs
 **
p_ªsu…Li°
)

317 
iÁddrs
 *
l_íåy
;

319 *
l_ödex
;

320 *
l_«me
;

321 *
l_addr
;

322 *
l_d©a
;

324 
iföfomsg
 *
l_öfo
 = (iföfomsg *)
	`NLMSG_DATA
(
p_hdr
);

326 
size_t
 
l_«meSize
 = 0;

327 
size_t
 
l_addrSize
 = 0;

328 
size_t
 
l_d©aSize
 = 0;

330 
size_t
 
l_πaSize
 = 
	`NLMSG_PAYLOAD
(
p_hdr
, (
iföfomsg
));

331 
π©å
 *
l_πa
;

332 
l_πa
 = 
	`IFLA_RTA
(
l_öfo
); 
	`RTA_OK
÷_πa, 
l_πaSize
);Ü_π®
	`RTA_NEXT
(l_rta,Ü_rtaSize))

334 
size_t
 
l_πaD©aSize
 = 
	`RTA_PAYLOAD
(
l_πa
);

335 
l_πa
->
πa_ty≥
)

337 
IFLA_ADDRESS
:

338 
IFLA_BROADCAST
:

339 
l_addrSize
 +
	`NLMSG_ALIGN
(
	`ˇlcAddrLí
(
AF_PACKET
, 
l_πaD©aSize
));

341 
IFLA_IFNAME
:

342 
l_«meSize
 +
	`NLMSG_ALIGN
(
l_πaSize
 + 1);

344 
IFLA_STATS
:

345 
l_d©aSize
 +
	`NLMSG_ALIGN
(
l_πaSize
);

352 
l_íåy
 = 
	`uv__mÆloc
((
iÁddrs
Ë+ (Ë+ 
l_«meSize
 + 
l_addrSize
 + 
l_d©aSize
);

353 i‡(
l_íåy
 =
NULL
)

357 
	`mem£t
(
l_íåy
, 0, (
iÁddrs
));

358 
l_íåy
->
iÁ_«me
 = "";

360 
l_ödex
 = ((*)
l_íåy
Ë+ (
iÁddrs
);

361 
l_«me
 = 
l_ödex
 + ();

362 
l_addr
 = 
l_«me
 + 
l_«meSize
;

363 
l_d©a
 = 
l_addr
 + 
l_addrSize
;

368 
	`mem˝y
(
l_ödex
, &
l_öfo
->
ifi_ödex
, ());

370 
l_íåy
->
iÁ_Êags
 = 
l_öfo
->
ifi_Êags
;

372 
l_πaSize
 = 
	`NLMSG_PAYLOAD
(
p_hdr
, (
iföfomsg
));

373 
l_πa
 = 
	`IFLA_RTA
(
l_öfo
); 
	`RTA_OK
÷_πa, 
l_πaSize
);Ü_π®
	`RTA_NEXT
(l_rta,Ü_rtaSize))

375 *
l_πaD©a
 = 
	`RTA_DATA
(
l_πa
);

376 
size_t
 
l_πaD©aSize
 = 
	`RTA_PAYLOAD
(
l_πa
);

377 
l_πa
->
πa_ty≥
)

379 
IFLA_ADDRESS
:

380 
IFLA_BROADCAST
:

382 
size_t
 
l_addrLí
 = 
	`ˇlcAddrLí
(
AF_PACKET
, 
l_πaD©aSize
);

383 
	`makeSockaddr
(
AF_PACKET
, (
sockaddr
 *)
l_addr
, 
l_πaD©a
, 
l_πaD©aSize
);

384 ((
sockaddr_Œ
 *)
l_addr
)->
¶l_ifödex
 = 
l_öfo
->
ifi_ödex
;

385 ((
sockaddr_Œ
 *)
l_addr
)->
¶l_h©y≥
 = 
l_öfo
->
ifi_ty≥
;

386 if(
l_πa
->
πa_ty≥
 =
IFLA_ADDRESS
)

388 
l_íåy
->
iÁ_addr
 = (
sockaddr
 *)
l_addr
;

392 
l_íåy
->
iÁ_brﬂdaddr
 = (
sockaddr
 *)
l_addr
;

394 
l_addr
 +
	`NLMSG_ALIGN
(
l_addrLí
);

397 
IFLA_IFNAME
:

398 
	`°∫˝y
(
l_«me
, 
l_πaD©a
, 
l_πaD©aSize
);

399 
l_«me
[
l_πaD©aSize
] = '\0';

400 
l_íåy
->
iÁ_«me
 = 
l_«me
;

402 
IFLA_STATS
:

403 
	`mem˝y
(
l_d©a
, 
l_πaD©a
, 
l_πaD©aSize
);

404 
l_íåy
->
iÁ_d©a
 = 
l_d©a
;

411 
	`addToEnd
(
p_ªsu…Li°
, 
l_íåy
);

413 
	}
}

415 
iÁddrs
 *
	$födI¡îÁ˚
(
p_ödex
, 
iÁddrs
 **
p_löks
, 
p_numLöks
)

417 
l_num
 = 0;

418 
iÁddrs
 *
l_cur
 = *
p_löks
;

419 
l_cur
 && 
l_num
 < 
p_numLöks
)

421 *
l_ödexPå
 = ((*)
l_cur
Ë+ (
iÁddrs
);

422 
l_ödex
;

423 
	`mem˝y
(&
l_ödex
, 
l_ödexPå
, ());

424 if(
l_ödex
 =
p_ödex
)

426  
l_cur
;

429 
l_cur
 =Ü_cur->
iÁ_√xt
;

430 ++
l_num
;

432  
NULL
;

433 
	}
}

435 
	$öãΩªtAddr
(
∆msghdr
 *
p_hdr
, 
iÁddrs
 **
p_ªsu…Li°
, 
p_numLöks
)

437 
iÁddrmsg
 *
l_öfo
 = (iÁddrmsg *)
	`NLMSG_DATA
(
p_hdr
);

438 
iÁddrs
 *
l_öãrÁ˚
 = 
	`födI¡îÁ˚
(
l_öfo
->
iÁ_ödex
, 
p_ªsu…Li°
, 
p_numLöks
);

440 
size_t
 
l_«meSize
 = 0;

441 
size_t
 
l_addrSize
 = 0;

443 
l_addedNëmask
 = 0;

445 
size_t
 
l_πaSize
 = 
	`NLMSG_PAYLOAD
(
p_hdr
, (
iÁddrmsg
));

446 
π©å
 *
l_πa
;

447 
iÁddrs
 *
l_íåy
;

449 *
l_«me
;

450 *
l_addr
;

452 
l_πa
 = 
	`IFLA_RTA
(
l_öfo
); 
	`RTA_OK
÷_πa, 
l_πaSize
);Ü_π®
	`RTA_NEXT
(l_rta,Ü_rtaSize))

454 
size_t
 
l_πaD©aSize
 = 
	`RTA_PAYLOAD
(
l_πa
);

455 if(
l_öfo
->
iÁ_Ámûy
 =
AF_PACKET
)

460 
l_πa
->
πa_ty≥
)

462 
IFA_ADDRESS
:

463 
IFA_LOCAL
:

464 if((
l_öfo
->
iÁ_Ámûy
 =
AF_INET
 ||Ü_öfo->iÁ_Ámûy =
AF_INET6
Ë&& !
l_addedNëmask
)

467 
l_addrSize
 +
	`NLMSG_ALIGN
(
	`ˇlcAddrLí
(
l_öfo
->
iÁ_Ámûy
, 
l_πaD©aSize
));

468 
l_addedNëmask
 = 1;

470 
IFA_BROADCAST
:

471 
l_addrSize
 +
	`NLMSG_ALIGN
(
	`ˇlcAddrLí
(
l_öfo
->
iÁ_Ámûy
, 
l_πaD©aSize
));

473 
IFA_LABEL
:

474 
l_«meSize
 +
	`NLMSG_ALIGN
(
l_πaSize
 + 1);

481 
l_íåy
 = 
	`uv__mÆloc
((
iÁddrs
Ë+ 
l_«meSize
 + 
l_addrSize
);

482 i‡(
l_íåy
 =
NULL
)

486 
	`mem£t
(
l_íåy
, 0, (
iÁddrs
));

487 
l_íåy
->
iÁ_«me
 = (
l_öãrÁ˚
 ?Ü_interface->ifa_name : "");

489 
l_«me
 = ((*)
l_íåy
Ë+ (
iÁddrs
);

490 
l_addr
 = 
l_«me
 + 
l_«meSize
;

492 
l_íåy
->
iÁ_Êags
 = 
l_öfo
->ifa_flags;

493 if(
l_öãrÁ˚
)

495 
l_íåy
->
iÁ_Êags
 |
l_öãrÁ˚
->ifa_flags;

498 
l_πaSize
 = 
	`NLMSG_PAYLOAD
(
p_hdr
, (
iÁddrmsg
));

499 
l_πa
 = 
	`IFLA_RTA
(
l_öfo
); 
	`RTA_OK
÷_πa, 
l_πaSize
);Ü_π®
	`RTA_NEXT
(l_rta,Ü_rtaSize))

501 *
l_πaD©a
 = 
	`RTA_DATA
(
l_πa
);

502 
size_t
 
l_πaD©aSize
 = 
	`RTA_PAYLOAD
(
l_πa
);

503 
l_πa
->
πa_ty≥
)

505 
IFA_ADDRESS
:

506 
IFA_BROADCAST
:

507 
IFA_LOCAL
:

509 
size_t
 
l_addrLí
 = 
	`ˇlcAddrLí
(
l_öfo
->
iÁ_Ámûy
, 
l_πaD©aSize
);

510 
	`makeSockaddr
(
l_öfo
->
iÁ_Ámûy
, (
sockaddr
 *)
l_addr
, 
l_πaD©a
, 
l_πaD©aSize
);

511 if(
l_öfo
->
iÁ_Ámûy
 =
AF_INET6
)

513 if(
	`IN6_IS_ADDR_LINKLOCAL
((
ö6_addr
 *)
l_πaD©a
Ë|| 
	`IN6_IS_ADDR_MC_LINKLOCAL
((in6_addr *)l_rtaData))

515 ((
sockaddr_ö6
 *)
l_addr
)->
sö6_sc›e_id
 = 
l_öfo
->
iÁ_ödex
;

522 if(
l_πa
->
πa_ty≥
 =
IFA_ADDRESS
)

524 if(
l_íåy
->
iÁ_addr
)

526 
l_íåy
->
iÁ_d°addr
 = (
sockaddr
 *)
l_addr
;

530 
l_íåy
->
iÁ_addr
 = (
sockaddr
 *)
l_addr
;

533 if(
l_πa
->
πa_ty≥
 =
IFA_LOCAL
)

535 if(
l_íåy
->
iÁ_addr
)

537 
l_íåy
->
iÁ_d°addr
 =Ü_íåy->
iÁ_addr
;

539 
l_íåy
->
iÁ_addr
 = (
sockaddr
 *)
l_addr
;

543 
l_íåy
->
iÁ_brﬂdaddr
 = (
sockaddr
 *)
l_addr
;

545 
l_addr
 +
	`NLMSG_ALIGN
(
l_addrLí
);

548 
IFA_LABEL
:

549 
	`°∫˝y
(
l_«me
, 
l_πaD©a
, 
l_πaD©aSize
);

550 
l_«me
[
l_πaD©aSize
] = '\0';

551 
l_íåy
->
iÁ_«me
 = 
l_«me
;

558 if(
l_íåy
->
iÁ_addr
 && (l_íåy->iÁ_addr->
ß_Ámûy
 =
AF_INET
 ||Ü_íåy->iÁ_addr->ß_Ámûy =
AF_INET6
))

560 
l_maxPªfix
 = (
l_íåy
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET
 ? 32 : 128);

561 
l_¥efix
 = (
l_öfo
->
iÁ_¥efixÀn
 > 
l_maxPªfix
 ?Ü_maxPrefix :Ü_info->ifa_prefixlen);

562 
l_mask
[16] = {0};

563 
i
;

564 
i
=0; i<(
l_¥efix
/8); ++i)

566 
l_mask
[
i
] = 0xff;

568 if(
l_¥efix
 % 8)

570 
l_mask
[
i
] = 0xf‡<< (8 - (
l_¥efix
 % 8));

573 
	`makeSockaddr
(
l_íåy
->
iÁ_addr
->
ß_Ámûy
, (
sockaddr
 *)
l_addr
, 
l_mask
, 
l_maxPªfix
 / 8);

574 
l_íåy
->
iÁ_√tmask
 = (
sockaddr
 *)
l_addr
;

577 
	`addToEnd
(
p_ªsu…Li°
, 
l_íåy
);

579 
	}
}

581 
	$öãΩªtLöks
(
p_sockë
, 
NëlökLi°
 *
p_√éökLi°
, 
iÁddrs
 **
p_ªsu…Li°
)

584 
l_numLöks
 = 0;

585 
pid_t
 
l_pid
 = 
	`gëpid
();

586 ; 
p_√éökLi°
;Ö_√éökLi° =Ö_√éökLi°->
m_√xt
)

588 
l_∆size
 = 
p_√éökLi°
->
m_size
;

589 
∆msghdr
 *
l_hdr
;

590 
l_hdr
 = 
p_√éökLi°
->
m_d©a
; 
	`NLMSG_OK
÷_hdr, 
l_∆size
);Ü_hd∏
	`NLMSG_NEXT
(l_hdr,Ü_nlsize))

592 if((
pid_t
)
l_hdr
->
∆msg_pid
 !
l_pid
 || (Ó_hdr->
∆msg_£q
 !
p_sockë
)

597 if(
l_hdr
->
∆msg_ty≥
 =
NLMSG_DONE
)

602 if(
l_hdr
->
∆msg_ty≥
 =
RTM_NEWLINK
)

604 if(
	`öãΩªtLök
(
l_hdr
, 
p_ªsu…Li°
) == -1)

608 ++
l_numLöks
;

612  
l_numLöks
;

613 
	}
}

615 
	$öãΩªtAddrs
(
p_sockë
, 
NëlökLi°
 *
p_√éökLi°
, 
iÁddrs
 **
p_ªsu…Li°
, 
p_numLöks
)

617 
pid_t
 
l_pid
 = 
	`gëpid
();

618 ; 
p_√éökLi°
;Ö_√éökLi° =Ö_√éökLi°->
m_√xt
)

620 
l_∆size
 = 
p_√éökLi°
->
m_size
;

621 
∆msghdr
 *
l_hdr
;

622 
l_hdr
 = 
p_√éökLi°
->
m_d©a
; 
	`NLMSG_OK
÷_hdr, 
l_∆size
);Ü_hd∏
	`NLMSG_NEXT
(l_hdr,Ü_nlsize))

624 if((
pid_t
)
l_hdr
->
∆msg_pid
 !
l_pid
 || (Ó_hdr->
∆msg_£q
 !
p_sockë
)

629 if(
l_hdr
->
∆msg_ty≥
 =
NLMSG_DONE
)

634 if(
l_hdr
->
∆msg_ty≥
 =
RTM_NEWADDR
)

636 i‡(
	`öãΩªtAddr
(
l_hdr
, 
p_ªsu…Li°
, 
p_numLöks
) == -1)

644 
	}
}

646 
	$gëiÁddrs
(
iÁddrs
 **
iÁp
)

648 
l_sockë
;

649 
l_ªsu…
;

650 
l_numLöks
;

651 
NëlökLi°
 *
l_lökResu…s
;

652 
NëlökLi°
 *
l_addrResu…s
;

654 if(!
iÁp
)

658 *
iÁp
 = 
NULL
;

660 
l_sockë
 = 
	`√éök_sockë
();

661 if(
l_sockë
 < 0)

666 
l_lökResu…s
 = 
	`gëResu…Li°
(
l_sockë
, 
RTM_GETLINK
);

667 if(!
l_lökResu…s
)

669 
	`˛o£
(
l_sockë
);

673 
l_addrResu…s
 = 
	`gëResu…Li°
(
l_sockë
, 
RTM_GETADDR
);

674 if(!
l_addrResu…s
)

676 
	`˛o£
(
l_sockë
);

677 
	`‰ìResu…Li°
(
l_lökResu…s
);

681 
l_ªsu…
 = 0;

682 
l_numLöks
 = 
	`öãΩªtLöks
(
l_sockë
, 
l_lökResu…s
, 
iÁp
);

683 if(
l_numLöks
 =-1 || 
	`öãΩªtAddrs
(
l_sockë
, 
l_addrResu…s
, 
iÁp
,Ü_numLinks) == -1)

685 
l_ªsu…
 = -1;

688 
	`‰ìResu…Li°
(
l_lökResu…s
);

689 
	`‰ìResu…Li°
(
l_addrResu…s
);

690 
	`˛o£
(
l_sockë
);

691  
l_ªsu…
;

692 
	}
}

694 
	$‰ìiÁddrs
(
iÁddrs
 *
iÁ
)

696 
iÁddrs
 *
l_cur
;

697 
iÁ
)

699 
l_cur
 = 
iÁ
;

700 
iÁ
 = iÁ->
iÁ_√xt
;

701 
	`uv__‰ì
(
l_cur
);

703 
	}
}

	@deps/libtuv/src/unix/async.c

40 
	~"uv.h
"

41 
	~"öã∫Æ.h
"

42 
	~"©omic-›s.h
"

44 
	~<î∫o.h
>

45 
	~<°dio.h
>

46 
	~<as£π.h
>

47 
	~<°dlib.h
>

48 
	~<°rög.h
>

49 
	~<uni°d.h
>

51 
uv__async_evít
(
uv_lo›_t
* 
lo›
,

52 
uv__async
* 
w
,

53 
√víts
);

54 
uv__async_evítfd
();

57 
	$uv_async_öô
(
uv_lo›_t
* 
lo›
, 
uv_async_t
* 
h™dÀ
, 
uv_async_cb
 
async_cb
) {

58 
îr
;

60 
îr
 = 
	`uv__async_°¨t
(
lo›
, &lo›->
async_w©chî
, 
uv__async_evít
);

61 i‡(
îr
)

62  
îr
;

64 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_ASYNC
);

65 
h™dÀ
->
async_cb
 =ásync_cb;

66 
h™dÀ
->
≥ndög
 = 0;

68 
	`QUEUE_INSERT_TAIL
(&
lo›
->
async_h™dÀs
, &
h™dÀ
->
queue
);

69 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

72 
	}
}

74 
	$tuv_async_deöô
(
uv_lo›_t
* 
lo›
, 
uv_async_t
* 
h™dÀ
) {

75 
	`uv__async_°›
(
lo›
, &lo›->
async_w©chî
);

76 
	`uv__h™dÀ_°›
(
h™dÀ
);

77 
	`QUEUE_REMOVE
(&
h™dÀ
->
queue
);

78 
	`QUEUE_INIT
(&
h™dÀ
->
queue
);

79 
	`tuv__h™dÀ_deöô
(
h™dÀ
);

82 
	}
}

84 
	$uv_async_£nd
(
uv_async_t
* 
h™dÀ
) {

86 i‡(
	`ACCESS_ONCE
(, 
h™dÀ
->
≥ndög
) != 0)

89 i‡(
	`cmpxchgi
(&
h™dÀ
->
≥ndög
, 0, 1) == 0)

90 
	`uv__async_£nd
(&
h™dÀ
->
lo›
->
async_w©chî
);

93 
	}
}

96 
	$uv__async_˛o£
(
uv_async_t
* 
h™dÀ
) {

97 
	`QUEUE_REMOVE
(&
h™dÀ
->
queue
);

98 
	`uv__h™dÀ_°›
(
h™dÀ
);

99 
	}
}

102 
	$uv__async_evít
(
uv_lo›_t
* 
lo›
,

103 
uv__async
* 
w
,

104 
√víts
) {

105 
QUEUE
 
queue
;

106 
QUEUE
* 
q
;

107 
uv_async_t
* 
h
;

109 
	`QUEUE_MOVE
(&
lo›
->
async_h™dÀs
, &
queue
);

110 !
	`QUEUE_EMPTY
(&
queue
)) {

111 
q
 = 
	`QUEUE_HEAD
(&
queue
);

112 
h
 = 
	`QUEUE_DATA
(
q
, 
uv_async_t
, 
queue
);

114 
	`QUEUE_REMOVE
(
q
);

115 
	`QUEUE_INSERT_TAIL
(&
lo›
->
async_h™dÀs
, 
q
);

117 i‡(
	`cmpxchgi
(&
h
->
≥ndög
, 1, 0) == 0)

120 i‡(
h
->
async_cb
 =
NULL
)

122 
h
->
	`async_cb
(h);

124 
	}
}

127 
	$uv__async_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
) {

128 
uv__async
* 
wa
;

129 
buf
[1024];

130 
n
;

131 
ssize_t
 
r
;

133 
n
 = 0;

135 
r
 = 
	`ªad
(
w
->
fd
, 
buf
, (buf));

137 i‡(
r
 > 0)

138 
n
 +
r
;

140 i‡(
r
 =(
buf
))

143 i‡(
r
 != -1)

146 i‡(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)

149 i‡(
î∫o
 =
EINTR
)

152 
	`ab‹t
();

155 
wa
 = 
	`c⁄èöî_of
(
w
, 
uv__async
, 
io_w©chî
);

157 #i‡
	`deföed
(
__löux__
)

158 i‡(
wa
->
wfd
 == -1) {

159 
uöt64_t
 
vÆ
;

160 
	`as£π
(
n
 =(
vÆ
));

161 
	`mem˝y
(&
vÆ
, 
buf
, (val));

162 
wa
->
	`cb
(
lo›
, wa, 
vÆ
);

167 
wa
->
	`cb
(
lo›
, wa, 
n
);

168 
	}
}

171 
	$uv__async_£nd
(
uv__async
* 
wa
) {

172 c⁄° * 
buf
;

173 
ssize_t
 
Àn
;

174 
fd
;

175 
r
;

177 
buf
 = "";

178 
Àn
 = 1;

179 
fd
 = 
wa
->
wfd
;

181 #i‡
	`deföed
(
__löux__
)

182 i‡(
fd
 == -1) {

183 c⁄° 
uöt64_t
 
vÆ
 = 1;

184 
buf
 = &
vÆ
;

185 
Àn
 = (
vÆ
);

186 
fd
 = 
wa
->
io_w©chî
.fd;

191 
r
 = 
	`wrôe
(
fd
, 
buf
, 
Àn
);

192 
r
 =-1 && 
î∫o
 =
EINTR
);

194 i‡(
r
 =
Àn
)

197 i‡(
r
 == -1)

198 i‡(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)

201 
	`ab‹t
();

202 
	}
}

205 
	$uv__async_öô
(
uv__async
* 
wa
) {

206 
wa
->
io_w©chî
.
fd
 = -1;

207 
wa
->
wfd
 = -1;

208 
	}
}

211 
	$uv__async_°¨t
(
uv_lo›_t
* 
lo›
, 
uv__async
* 
wa
, 
uv__async_cb
 
cb
) {

212 
pùefd
[2];

213 
îr
;

215 i‡(
wa
->
io_w©chî
.
fd
 != -1)

218 
îr
 = 
	`uv__async_evítfd
();

219 i‡(
îr
 >= 0) {

220 
pùefd
[0] = 
îr
;

221 
pùefd
[1] = -1;

223 i‡(
îr
 =-
ENOSYS
) {

224 
îr
 = 
	`uv__make_pùe
(
pùefd
, 
UV__F_NONBLOCK
);

225 #i‡
	`deföed
(
__löux__
)

230 i‡(
îr
 == 0) {

231 
buf
[32];

232 
fd
;

234 
	`¢¥ötf
(
buf
, (buf), "/¥oc/£lf/fd/%d", 
pùefd
[0]);

235 
fd
 = 
	`uv__›í_˛€xec
(
buf
, 
O_RDWR
);

236 i‡(
fd
 >= 0) {

237 
	`uv__˛o£
(
pùefd
[0]);

238 
	`uv__˛o£
(
pùefd
[1]);

239 
pùefd
[0] = 
fd
;

240 
pùefd
[1] = 
fd
;

246 i‡(
îr
 < 0)

247  
îr
;

249 
	`uv__io_öô
(&
wa
->
io_w©chî
, 
uv__async_io
, 
pùefd
[0]);

250 
	`uv__io_°¨t
(
lo›
, &
wa
->
io_w©chî
, 
POLLIN
);

251 
wa
->
wfd
 = 
pùefd
[1];

252 
wa
->
cb
 = cb;

255 
	}
}

258 
	$uv__async_°›
(
uv_lo›_t
* 
lo›
, 
uv__async
* 
wa
) {

259 i‡(
wa
->
io_w©chî
.
fd
 == -1)

262 i‡(
wa
->
wfd
 != -1) {

263 i‡(
wa
->
wfd
 !wa->
io_w©chî
.
fd
)

264 
	`uv__˛o£
(
wa
->
wfd
);

265 
wa
->
wfd
 = -1;

268 
	`uv__io_°›
(
lo›
, &
wa
->
io_w©chî
, 
POLLIN
);

269 
	`uv__˛o£
(
wa
->
io_w©chî
.
fd
);

270 
wa
->
io_w©chî
.
fd
 = -1;

271 
	}
}

274 
	$uv__async_evítfd
() {

275 #i‡
	`deföed
(
__löux__
)

276 
no_evítfd2
;

277 
no_evítfd
;

278 
fd
;

280 i‡(
no_evítfd2
)

281 
skù_evítfd2
;

283 
fd
 = 
	`uv__evítfd2
(0, 
UV__EFD_CLOEXEC
 | 
UV__EFD_NONBLOCK
);

284 i‡(
fd
 != -1)

285  
fd
;

287 i‡(
î∫o
 !
ENOSYS
)

288  -
î∫o
;

290 
no_evítfd2
 = 1;

292 
skù_evítfd2
:

294 i‡(
no_evítfd
)

295 
skù_evítfd
;

297 
fd
 = 
	`uv__evítfd
(0);

298 i‡(
fd
 != -1) {

299 
	`uv__˛€xec
(
fd
, 1);

300 
	`uv__n⁄block
(
fd
, 1);

301  
fd
;

304 i‡(
î∫o
 !
ENOSYS
)

305  -
î∫o
;

307 
no_evítfd
 = 1;

309 
skù_evítfd
:

313  -
ENOSYS
;

314 
	}
}

	@deps/libtuv/src/unix/atomic-ops.h

16 #i‚de‡
UV_ATOMIC_OPS_H_


17 
	#UV_ATOMIC_OPS_H_


	)

19 
	~"öã∫Æ.h
"

21 #i‡
deföed
(
__SUNPRO_C
Ë|| deföed(
__SUNPRO_CC
)

22 
	~<©omic.h
>

23 
	#__sync_vÆ_com∑ª_™d_sw≠
(
p
, 
o
, 
n
Ë
	`©omic_ˇs_±r
’, o,Ç)

	)

26 
UV_UNUSED
(
cmpxchgi
(* 
±r
, 
ﬁdvÆ
, 
√wvÆ
));

27 
UV_UNUSED
(
cmpxchgl
(* 
±r
, 
ﬁdvÆ
, 
√wvÆ
));

28 
UV_UNUSED
(
˝u_ªœx
());

33 
UV_UNUSED
(
	$cmpxchgi
(* 
±r
, 
ﬁdvÆ
, 
√wvÆ
)) {

34 #i‡
	`deföed
(
__i386__
Ë|| deföed(
__x86_64__
)

35 
out
;

36 
__asm__
 
	`__vﬁ©ûe__
 ("lock; cmpxchg %2, %1;"

37 : "˜" (
out
), "+m" (*(vﬁ©ûê*Ë
±r
)

38 : "r" (
√wvÆ
), "0" (
ﬁdvÆ
)

40  
out
;

41 #ñi‡
	`deföed
(
_AIX
Ë&& deföed(
__xlC__
)

42 c⁄° 
out
 = (*(vﬁ©ûê*Ë
±r
);

43 
	`__com∑ª_™d_sw≠
(
±r
, &
ﬁdvÆ
, 
√wvÆ
);

44  
out
;

45 #ñi‡
	`deföed
(
__MVS__
)

46  
	`__∂o_CS
(
±r
, (*)Ötr,

47 
ﬁdvÆ
, (*Ë&
√wvÆ
);

49  
	`__sync_vÆ_com∑ª_™d_sw≠
(
±r
, 
ﬁdvÆ
, 
√wvÆ
);

51 
	}
}

53 
UV_UNUSED
(
	$cmpxchgl
(* 
±r
, 
ﬁdvÆ
, 
√wvÆ
)) {

54 #i‡
	`deföed
(
__i386__
Ë|| deföed(
__x86_64__
)

55 
out
;

56 
__asm__
 
	`__vﬁ©ûe__
 ("lock; cmpxchg %2, %1;"

57 : "˜" (
out
), "+m" (*(vﬁ©ûê*Ë
±r
)

58 : "r" (
√wvÆ
), "0" (
ﬁdvÆ
)

60  
out
;

61 #ñi‡
	`deföed
(
_AIX
Ë&& deföed(
__xlC__
)

62 c⁄° 
out
 = (*(vﬁ©ûê*Ë
±r
);

63 #i‡
	`deföed
(
__64BIT__
)

64 
	`__com∑ª_™d_sw≠Õ
(
±r
, &
ﬁdvÆ
, 
√wvÆ
);

66 
	`__com∑ª_™d_sw≠
(
±r
, &
ﬁdvÆ
, 
√wvÆ
);

68  
out
;

69 #ñi‡
	`deföed
 (
__MVS__
)

70 #ifde‡
_LP64


71  
	`__∂o_CSGR
(
±r
, (*)Ötr,

72 
ﬁdvÆ
, (*Ë&
√wvÆ
);

74  
	`__∂o_CS
(
±r
, (*)Ötr,

75 
ﬁdvÆ
, (*Ë&
√wvÆ
);

78  
	`__sync_vÆ_com∑ª_™d_sw≠
(
±r
, 
ﬁdvÆ
, 
√wvÆ
);

80 
	}
}

82 
UV_UNUSED
(
	$˝u_ªœx
()) {

83 #i‡
	`deföed
(
__i386__
Ë|| deföed(
__x86_64__
)

84 
__asm__
 
	`__vﬁ©ûe__
 ("rep;Çop");

86 
	}
}

	@deps/libtuv/src/unix/core.c

36 
	~"uv.h
"

37 
	~"öã∫Æ.h
"

39 
	~<°ddef.h
>

40 
	~<°dio.h
>

41 
	~<°dlib.h
>

42 
	~<°rög.h
>

43 
	~<î∫o.h
>

44 
	~<as£π.h
>

45 
	~<uni°d.h
>

46 
	~<sys/ty≥s.h
>

47 
	~<sys/°©.h
>

48 
	~<f˙é.h
>

49 
	~<sys/io˘l.h
>

50 
	~<sys/sockë.h
>

51 
	~<sys/un.h
>

52 
	~<√töë/ö.h
>

53 
	~<¨∑/öë.h
>

54 
	~<limôs.h
>

55 #i‡!
deföed
(
__TIZENRT__
)

56 
	~<sys/uio.h
>

57 
	~<pwd.h
>

60 #ifde‡
__sun


61 
	~<sys/fûio.h
>

62 
	~<sys/ty≥s.h
>

63 
	~<sys/waô.h
>

66 #ifde‡
__APPLE__


67 
	~<mach-o/dyld.h
>

68 
	~<sys/fûio.h
>

69 #i‡
deföed
(
O_CLOEXEC
)

70 
	#UV__O_CLOEXEC
 
O_CLOEXEC


	)

74 #i‡
deföed
(
__Døg⁄Fly__
) || \

75 
deföed
(
__FªeBSD__
) || \

76 
	$deföed
(
__FªeBSD_kî√l__
)

77 
	~<sys/sys˘l.h
>

78 
	~<sys/fûio.h
>

79 
	~<sys/waô.h
>

80 
	#UV__O_CLOEXEC
 
O_CLOEXEC


	)

81 #i‡
	`deföed
(
__FªeBSD__
) && __FreeBSD__ >= 10

82 
	#uv__ac˚±4
 
ac˚±4


	)

83 
	#UV__SOCK_NONBLOCK
 
SOCK_NONBLOCK


	)

84 
	#UV__SOCK_CLOEXEC
 
SOCK_CLOEXEC


	)

86 #i‡!
	`deföed
(
F_DUP2FD_CLOEXEC
Ë&& deföed(
_F_DUP2FD_CLOEXEC
)

87 
	#F_DUP2FD_CLOEXEC
 
_F_DUP2FD_CLOEXEC


	)

91 #i‡
	`deföed
(
__ANDROID_API__
) && __ANDROID_API__ < 21

92 
	~<dlf˙.h
>

95 #i‡
	`deföed
(
__MVS__
)

96 
	~<sys/io˘l.h
>

99 
	`uv__run_≥ndög
(
uv_lo›_t
* 
lo›
);

102 
	`STATIC_ASSERT
((
uv_buf_t
Ë=(
iovec
));

103 
	`STATIC_ASSERT
((&((
uv_buf_t
*Ë0)->
ba£
) ==

104 (((
iovec
*Ë0)->
iov_ba£
));

105 
	`STATIC_ASSERT
((&((
uv_buf_t
*Ë0)->
Àn
) ==

106 (((
iovec
*Ë0)->
iov_Àn
));

107 
	`STATIC_ASSERT
(
	`off£tof
(
uv_buf_t
, 
ba£
Ë=off£tof(
iovec
, 
iov_ba£
));

108 
	`STATIC_ASSERT
(
	`off£tof
(
uv_buf_t
, 
Àn
Ë=off£tof(
iovec
, 
iov_Àn
));

111 
	$uv_˛o£
(
uv_h™dÀ_t
* 
h™dÀ
, 
uv_˛o£_cb
 
˛o£_cb
) {

112 
	`as£π
(!
	`uv__is_˛osög
(
h™dÀ
));

114 
h™dÀ
->
Êags
 |
UV_CLOSING
;

115 
h™dÀ
->
˛o£_cb
 = close_cb;

117 
h™dÀ
->
ty≥
) {

118 
UV_TTY
:

119 
	`uv__°ªam_˛o£
((
uv_°ªam_t
*)
h™dÀ
);

122 
UV_TCP
:

123 
	`uv__t˝_˛o£
((
uv_t˝_t
*)
h™dÀ
);

126 
UV_UDP
:

127 
	`uv__udp_˛o£
((
uv_udp_t
*)
h™dÀ
);

130 
UV_IDLE
:

131 
	`uv__idÀ_˛o£
((
uv_idÀ_t
*)
h™dÀ
);

134 
UV_ASYNC
:

135 
	`uv__async_˛o£
((
uv_async_t
*)
h™dÀ
);

138 
UV_TIMER
:

139 
	`uv__timî_˛o£
((
uv_timî_t
*)
h™dÀ
);

142 
UV_POLL
:

143 
	`uv__pﬁl_˛o£
((
uv_pﬁl_t
*)
h™dÀ
);

147 
	`as£π
(0);

150 
	`uv__make_˛o£_≥ndög
(
h™dÀ
);

151 
	}
}

154 
	$uv__make_˛o£_≥ndög
(
uv_h™dÀ_t
* 
h™dÀ
) {

155 
	`as£π
(
h™dÀ
->
Êags
 & 
UV_CLOSING
);

156 
	`as£π
(!(
h™dÀ
->
Êags
 & 
UV_CLOSED
));

157 
h™dÀ
->
√xt_˛osög
 = h™dÀ->
lo›
->
˛osög_h™dÀs
;

158 
h™dÀ
->
lo›
->
˛osög_h™dÀs
 = handle;

159 
	}
}

161 
	$uv__gëiovmax
() {

162 #i‡
	`deföed
(
IOV_MAX
)

163  
IOV_MAX
;

164 #ñi‡
	`deföed
(
_SC_IOV_MAX
)

165 
iovmax
 = -1;

166 i‡(
iovmax
 == -1) {

167 
iovmax
 = 
	`sysc⁄f
(
_SC_IOV_MAX
);

172 i‡(
iovmax
 == -1) iovmax = 1;

174  
iovmax
;

178 
	}
}

181 
	$uv__föish_˛o£
(
uv_h™dÀ_t
* 
h™dÀ
) {

188 
	`as£π
(
h™dÀ
->
Êags
 & 
UV_CLOSING
);

189 
	`as£π
(!(
h™dÀ
->
Êags
 & 
UV_CLOSED
));

190 
h™dÀ
->
Êags
 |
UV_CLOSED
;

192 
h™dÀ
->
ty≥
) {

195 
UV_IDLE
:

196 
UV_ASYNC
:

197 
UV_TIMER
:

201 
UV_POLL
:

205 
UV_NAMED_PIPE
:

206 
UV_TCP
:

207 
UV_TTY
:

208 
	`uv__°ªam_de°roy
((
uv_°ªam_t
*)
h™dÀ
);

211 
UV_UDP
:

212 
	`uv__udp_föish_˛o£
((
uv_udp_t
*)
h™dÀ
);

216 
	`as£π
(0);

220 
	`uv__h™dÀ_uƒef
(
h™dÀ
);

221 
	`QUEUE_REMOVE
(&
h™dÀ
->
h™dÀ_queue
);

223 i‡(
h™dÀ
->
˛o£_cb
) {

224 
h™dÀ
->
	`˛o£_cb
(handle);

226 
	}
}

229 
	$uv__run_˛osög_h™dÀs
(
uv_lo›_t
* 
lo›
) {

230 
uv_h™dÀ_t
* 
p
;

231 
uv_h™dÀ_t
* 
q
;

233 
p
 = 
lo›
->
˛osög_h™dÀs
;

234 
lo›
->
˛osög_h™dÀs
 = 
NULL
;

236 
p
) {

237 
q
 = 
p
->
√xt_˛osög
;

238 
	`uv__föish_˛o£
(
p
);

239 
p
 = 
q
;

241 
	}
}

244 
	$uv_is_˛osög
(c⁄° 
uv_h™dÀ_t
* 
h™dÀ
) {

245  
	`uv__is_˛osög
(
h™dÀ
);

246 
	}
}

249 
	$uv_backíd_timeout
(c⁄° 
uv_lo›_t
* 
lo›
) {

250 i‡(
lo›
->
°›_Êag
 != 0)

253 i‡(!
	`uv__has_a˘ive_h™dÀs
(
lo›
Ë&& !
	`uv__has_a˘ive_ªqs
(loop))

256 i‡(!
	`QUEUE_EMPTY
(&
lo›
->
idÀ_h™dÀs
))

259 i‡(!
	`QUEUE_EMPTY
(&
lo›
->
≥ndög_queue
))

262 i‡(
lo›
->
˛osög_h™dÀs
)

265  
	`uv__√xt_timeout
(
lo›
);

266 
	}
}

269 
	$uv__lo›_Æive
(c⁄° 
uv_lo›_t
* 
lo›
) {

270  
	`uv__has_a˘ive_h™dÀs
(
lo›
) ||

271 
	`uv__has_a˘ive_ªqs
(
lo›
) ||

272 
lo›
->
˛osög_h™dÀs
 !
NULL
;

273 
	}
}

276 
	$uv_lo›_Æive
(c⁄° 
uv_lo›_t
* 
lo›
) {

277  
	`uv__lo›_Æive
(
lo›
);

278 
	}
}

281 
	$uv_lo›_has_a˘ive_ªqs
(c⁄° 
uv_lo›_t
* 
lo›
) {

282  
	`uv__has_a˘ive_ªqs
(
lo›
);

283 
	}
}

286 
	$uv_run
(
uv_lo›_t
* 
lo›
, 
uv_run_mode
 
mode
) {

287 
timeout
;

288 
r
;

289 
øn_≥ndög
;

291 
r
 = 
	`uv__lo›_Æive
(
lo›
);

292 i‡(!
r
)

293 
	`uv__upd©e_time
(
lo›
);

295 
r
 !0 && 
lo›
->
°›_Êag
 == 0) {

296 
	`uv__upd©e_time
(
lo›
);

297 
	`uv__run_timîs
(
lo›
);

298 
øn_≥ndög
 = 
	`uv__run_≥ndög
(
lo›
);

299 
	`uv__run_idÀ
(
lo›
);

301 
timeout
 = 0;

302 i‡((
mode
 =
UV_RUN_ONCE
 && !
øn_≥ndög
Ë|| modê=
UV_RUN_DEFAULT
)

303 
timeout
 = 
	`uv_backíd_timeout
(
lo›
);

305 
	`uv__io_pﬁl
(
lo›
, 
timeout
);

306 
	`uv__run_˛osög_h™dÀs
(
lo›
);

308 i‡(
mode
 =
UV_RUN_ONCE
) {

317 
	`uv__upd©e_time
(
lo›
);

318 
	`uv__run_timîs
(
lo›
);

321 
r
 = 
	`uv__lo›_Æive
(
lo›
);

322 i‡(
mode
 =
UV_RUN_ONCE
 || modê=
UV_RUN_NOWAIT
)

329 i‡(
lo›
->
°›_Êag
 != 0)

330 
lo›
->
°›_Êag
 = 0;

332  
r
;

333 
	}
}

336 
	$uv_upd©e_time
(
uv_lo›_t
* 
lo›
) {

337 
	`uv__upd©e_time
(
lo›
);

338 
	}
}

341 
	$uv_is_a˘ive
(c⁄° 
uv_h™dÀ_t
* 
h™dÀ
) {

342  
	`uv__is_a˘ive
(
h™dÀ
);

343 
	}
}

347 
	$uv__sockë
(
domaö
, 
ty≥
, 
¥Ÿocﬁ
) {

348 
sockfd
;

349 
îr
;

351 #i‡
	`deföed
(
SOCK_NONBLOCK
Ë&& deföed(
SOCK_CLOEXEC
)

352 
sockfd
 = 
	`sockë
(
domaö
, 
ty≥
 | 
SOCK_NONBLOCK
 | 
SOCK_CLOEXEC
, 
¥Ÿocﬁ
);

353 i‡(
sockfd
 != -1)

354  
sockfd
;

356 i‡(
î∫o
 !
EINVAL
)

357  -
î∫o
;

360 
sockfd
 = 
	`sockë
(
domaö
, 
ty≥
, 
¥Ÿocﬁ
);

361 i‡(
sockfd
 == -1)

362  -
î∫o
;

364 
îr
 = 
	`uv__n⁄block
(
sockfd
, 1);

365 i‡(
îr
 == 0)

366 
îr
 = 
	`uv__˛€xec
(
sockfd
, 1);

368 i‡(
îr
) {

369 
	`uv__˛o£
(
sockfd
);

370  
îr
;

373 #i‡
	`deföed
(
SO_NOSIGPIPE
)

375 
⁄
 = 1;

376 
	`£tsock›t
(
sockfd
, 
SOL_SOCKET
, 
SO_NOSIGPIPE
, &
⁄
, (on));

380  
sockfd
;

381 
	}
}

384 
	$uv__ac˚±
(
sockfd
) {

385 
≥îfd
;

386 
îr
;

388 
	`as£π
(
sockfd
 >= 0);

391 #i‡
	`deföed
(
__löux__
Ë|| (deföed(
__FªeBSD__
) && __FreeBSD__ >= 10)

392 
no_ac˚±4
;

394 i‡(
no_ac˚±4
)

395 
skù
;

397 
≥îfd
 = 
	`uv__ac˚±4
(
sockfd
,

398 
NULL
,

399 
NULL
,

400 
UV__SOCK_NONBLOCK
|
UV__SOCK_CLOEXEC
);

401 i‡(
≥îfd
 != -1)

402  
≥îfd
;

404 i‡(
î∫o
 =
EINTR
)

407 i‡(
î∫o
 !
ENOSYS
)

408  -
î∫o
;

410 
no_ac˚±4
 = 1;

411 
skù
:

414 
≥îfd
 = 
	`ac˚±
(
sockfd
, 
NULL
, NULL);

415 i‡(
≥îfd
 == -1) {

416 i‡(
î∫o
 =
EINTR
)

418  -
î∫o
;

421 
îr
 = 
	`uv__˛€xec
(
≥îfd
, 1);

422 i‡(
îr
 == 0)

423 
îr
 = 
	`uv__n⁄block
(
≥îfd
, 1);

425 i‡(
îr
) {

426 
	`uv__˛o£
(
≥îfd
);

427  
îr
;

430  
≥îfd
;

432 
	}
}

435 
	$uv__˛o£_nocheck°dio
(
fd
) {

436 
ßved_î∫o
;

437 
rc
;

439 
	`as£π
(
fd
 > -1);

441 
ßved_î∫o
 = 
î∫o
;

442 
rc
 = 
	`˛o£
(
fd
);

443 i‡(
rc
 == -1) {

444 
rc
 = -
î∫o
;

445 i‡(
rc
 =-
EINTR
 ||Ñ¯=-
EINPROGRESS
)

446 
rc
 = 0;

447 
î∫o
 = 
ßved_î∫o
;

450  
rc
;

451 
	}
}

454 
	$uv__˛o£
(
fd
) {

455 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

456 
	`as£π
(
fd
 > 
STDERR_FILENO
);

458  
	`uv__˛o£_nocheck°dio
(
fd
);

459 
	}
}

462 #i‡
deföed
(
_AIX
) || \

463 
deföed
(
__APPLE__
) || \

464 
deföed
(
__Døg⁄Fly__
) || \

465 
deföed
(
__FªeBSD__
) || \

466 
deföed
(
__FªeBSD_kî√l__
) || \

467 
	$deföed
(
__löux__
)

468 
	$uv__n⁄block_io˘l
(
fd
, 
£t
) {

469 
r
;

472 
r
 = 
	`io˘l
(
fd
, 
FIONBIO
, &
£t
);

473 
r
 =-1 && 
î∫o
 =
EINTR
);

475 i‡(
r
)

476  -
î∫o
;

479 
	}
}

482 
	$uv__˛€xec_io˘l
(
fd
, 
£t
) {

483 
r
;

486 
r
 = 
	`io˘l
(
fd
, 
£t
 ? 
FIOCLEX
 : 
FIONCLEX
);

487 
r
 =-1 && 
î∫o
 =
EINTR
);

489 i‡(
r
)

490  -
î∫o
;

493 
	}
}

496 
	$uv__n⁄block_f˙é
(
fd
, 
£t
) {

497 
Êags
;

498 
r
;

501 
r
 = 
	`f˙é
(
fd
, 
F_GETFL
);

502 
r
 =-1 && 
î∫o
 =
EINTR
);

504 i‡(
r
 == -1)

505  -
î∫o
;

508 i‡(!!(
r
 & 
O_NONBLOCK
Ë=!!
£t
)

511 i‡(
£t
)

512 
Êags
 = 
r
 | 
O_NONBLOCK
;

514 
Êags
 = 
r
 & ~
O_NONBLOCK
;

517 
r
 = 
	`f˙é
(
fd
, 
F_SETFL
, 
Êags
);

518 
r
 =-1 && 
î∫o
 =
EINTR
);

520 i‡(
r
)

521  -
î∫o
;

524 
	}
}

527 
	$uv__˛€xec_f˙é
(
fd
, 
£t
) {

528 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

531 
Êags
;

532 
r
;

535 
r
 = 
	`f˙é
(
fd
, 
F_GETFD
);

536 
r
 =-1 && 
î∫o
 =
EINTR
);

538 i‡(
r
 == -1)

539  -
î∫o
;

542 i‡(!!(
r
 & 
FD_CLOEXEC
Ë=!!
£t
)

545 i‡(
£t
)

546 
Êags
 = 
r
 | 
FD_CLOEXEC
;

548 
Êags
 = 
r
 & ~
FD_CLOEXEC
;

551 
r
 = 
	`f˙é
(
fd
, 
F_SETFD
, 
Êags
);

552 
r
 =-1 && 
î∫o
 =
EINTR
);

554 i‡(
r
)

555  -
î∫o
;

558 
	}
}

561 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

562 
ssize_t
 
	$uv__ªcvmsg
(
fd
, 
msghdr
* 
msg
, 
Êags
) {

564 
	}
}

566 
ssize_t
 
	$uv__ªcvmsg
(
fd
, 
msghdr
* 
msg
, 
Êags
) {

567 
cmsghdr
* 
cmsg
;

568 
ssize_t
 
rc
;

569 * 
pfd
;

570 * 
íd
;

571 #i‡
	`deföed
(
__löux__
)

572 
no_msg_cmsg_˛€xec
;

573 i‡(
no_msg_cmsg_˛€xec
 == 0) {

574 
rc
 = 
	`ªcvmsg
(
fd
, 
msg
, 
Êags
 | 0x40000000);

575 i‡(
rc
 != -1)

576  
rc
;

577 i‡(
î∫o
 !
EINVAL
)

578  -
î∫o
;

579 
rc
 = 
	`ªcvmsg
(
fd
, 
msg
, 
Êags
);

580 i‡(
rc
 == -1)

581  -
î∫o
;

582 
no_msg_cmsg_˛€xec
 = 1;

584 
rc
 = 
	`ªcvmsg
(
fd
, 
msg
, 
Êags
);

587 
rc
 = 
	`ªcvmsg
(
fd
, 
msg
, 
Êags
);

589 i‡(
rc
 == -1)

590  -
î∫o
;

591 i‡(
msg
->
msg_c⁄åﬁÀn
 == 0)

592  
rc
;

593 
cmsg
 = 
	`CMSG_FIRSTHDR
(
msg
); cmsg !
NULL
; cmsg = 
	`CMSG_NXTHDR
(msg, cmsg))

594 i‡(
cmsg
->
cmsg_ty≥
 =
SCM_RIGHTS
)

595 
pfd
 = (*Ë
	`CMSG_DATA
(
cmsg
),

596 
íd
 = (*Ë((*Ë
cmsg
 + cmsg->
cmsg_Àn
);

597 
pfd
 < 
íd
;

598 
pfd
 += 1)

599 
	`uv__˛€xec
(*
pfd
, 1);

600  
rc
;

601 
	}
}

605 
	$uv_cwd
(* 
buf„r
, 
size_t
* 
size
) {

606 i‡(
buf„r
 =
NULL
 || 
size
 == NULL)

607  -
EINVAL
;

609 i‡(
	`gëcwd
(
buf„r
, *
size
Ë=
NULL
)

610  -
î∫o
;

612 *
size
 = 
	`°æí
(
buf„r
);

613 i‡(*
size
 > 1 && 
buf„r
[*size - 1] == '/') {

614 
buf„r
[*
size
-1] = '\0';

615 (*
size
)--;

619 
	}
}

622 
	$uv_chdú
(c⁄° * 
dú
) {

623 i‡(
	`chdú
(
dú
))

624  -
î∫o
;

627 
	}
}

630 
	$uv__run_≥ndög
(
uv_lo›_t
* 
lo›
) {

631 
QUEUE
* 
q
;

632 
QUEUE
 
pq
;

633 
uv__io_t
* 
w
;

635 i‡(
	`QUEUE_EMPTY
(&
lo›
->
≥ndög_queue
))

638 
	`QUEUE_MOVE
(&
lo›
->
≥ndög_queue
, &
pq
);

640 !
	`QUEUE_EMPTY
(&
pq
)) {

641 
q
 = 
	`QUEUE_HEAD
(&
pq
);

642 
	`QUEUE_REMOVE
(
q
);

643 
	`QUEUE_INIT
(
q
);

644 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
≥ndög_queue
);

645 
w
->
	`cb
(
lo›
, w, 
POLLOUT
);

649 
	}
}

652 
	$√xt_powî_of_two
(
vÆ
) {

653 
vÆ
 -= 1;

654 
vÆ
 |= val >> 1;

655 
vÆ
 |= val >> 2;

656 
vÆ
 |= val >> 4;

657 
vÆ
 |= val >> 8;

658 
vÆ
 |= val >> 16;

659 
vÆ
 += 1;

660  
vÆ
;

661 
	}
}

663 
	$maybe_ªsize
(
uv_lo›_t
* 
lo›
, 
Àn
) {

664 
uv__io_t
** 
w©chîs
;

665 * 
Áke_w©chî_li°
;

666 * 
Áke_w©chî_cou¡
;

667 
nw©chîs
;

668 
i
;

670 i‡(
Àn
 <
lo›
->
nw©chîs
)

674 i‡(
lo›
->
w©chîs
 !
NULL
) {

675 
Áke_w©chî_li°
 = 
lo›
->
w©chîs
[lo›->
nw©chîs
];

676 
Áke_w©chî_cou¡
 = 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1];

678 
Áke_w©chî_li°
 = 
NULL
;

679 
Áke_w©chî_cou¡
 = 
NULL
;

682 
nw©chîs
 = 
	`√xt_powî_of_two
(
Àn
 + 2) - 2;

683 
w©chîs
 = 
	`uv__ªÆloc
(
lo›
->watchers,

684 (
nw©chîs
 + 2Ë* (
lo›
->
w©chîs
[0]));

686 i‡(
w©chîs
 =
NULL
)

687 
	`ab‹t
();

688 
i
 = 
lo›
->
nw©chîs
; i <Çwatchers; i++)

689 
w©chîs
[
i
] = 
NULL
;

690 
w©chîs
[
nw©chîs
] = 
Áke_w©chî_li°
;

691 
w©chîs
[
nw©chîs
 + 1] = 
Áke_w©chî_cou¡
;

693 
lo›
->
w©chîs
 = watchers;

694 
lo›
->
nw©chîs
 =Çwatchers;

695 
	}
}

698 
	$uv__io_öô
(
uv__io_t
* 
w
, 
uv__io_cb
 
cb
, 
fd
) {

699 
	`as£π
(
cb
 !
NULL
);

700 
	`as£π
(
fd
 >= -1);

701 
	`QUEUE_INIT
(&
w
->
≥ndög_queue
);

702 
	`QUEUE_INIT
(&
w
->
w©chî_queue
);

703 
w
->
cb
 = cb;

704 
w
->
fd
 = fd;

705 
w
->
evíts
 = 0;

706 
w
->
≥víts
 = 0;

708 #i‡
	`deföed
(
UV_HAVE_KQUEUE
)

709 
w
->
rcou¡
 = 0;

710 
w
->
wcou¡
 = 0;

712 
	}
}

715 
	$uv__io_°¨t
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
) {

716 
	`as£π
(0 =(
evíts
 & ~(
POLLIN
 | 
POLLOUT
 | 
UV__POLLRDHUP
)));

717 
	`as£π
(0 !
evíts
);

718 
	`as£π
(
w
->
fd
 >= 0);

719 
	`as£π
(
w
->
fd
 < 
INT_MAX
);

721 
w
->
≥víts
 |
evíts
;

722 
	`maybe_ªsize
(
lo›
, 
w
->
fd
 + 1);

724 #i‡!
	`deföed
(
__sun
)

729 i‡(
w
->
evíts
 =w->
≥víts
) {

730 i‡(
w
->
evíts
 =0 && !
	`QUEUE_EMPTY
(&w->
w©chî_queue
)) {

731 
	`QUEUE_REMOVE
(&
w
->
w©chî_queue
);

732 
	`QUEUE_INIT
(&
w
->
w©chî_queue
);

738 i‡(
	`QUEUE_EMPTY
(&
w
->
w©chî_queue
))

739 
	`QUEUE_INSERT_TAIL
(&
lo›
->
w©chî_queue
, &
w
->watcher_queue);

741 i‡(
lo›
->
w©chîs
[
w
->
fd
] =
NULL
) {

742 
lo›
->
w©chîs
[
w
->
fd
] = w;

743 
lo›
->
nfds
++;

745 
	}
}

748 
	$uv__io_°›
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
) {

749 
	`as£π
(0 =(
evíts
 & ~(
POLLIN
 | 
POLLOUT
 | 
UV__POLLRDHUP
)));

750 
	`as£π
(0 !
evíts
);

752 i‡(
w
->
fd
 == -1)

755 
	`as£π
(
w
->
fd
 >= 0);

758 i‡((Ë
w
->
fd
 >
lo›
->
nw©chîs
)

761 
w
->
≥víts
 &~
evíts
;

763 i‡(
w
->
≥víts
 == 0) {

764 
	`QUEUE_REMOVE
(&
w
->
w©chî_queue
);

765 
	`QUEUE_INIT
(&
w
->
w©chî_queue
);

767 i‡(
lo›
->
w©chîs
[
w
->
fd
] !
NULL
) {

768 
	`as£π
(
lo›
->
w©chîs
[
w
->
fd
] == w);

769 
	`as£π
(
lo›
->
nfds
 > 0);

770 
lo›
->
w©chîs
[
w
->
fd
] = 
NULL
;

771 
lo›
->
nfds
--;

772 
w
->
evíts
 = 0;

775 i‡(
	`QUEUE_EMPTY
(&
w
->
w©chî_queue
))

776 
	`QUEUE_INSERT_TAIL
(&
lo›
->
w©chî_queue
, &
w
->watcher_queue);

777 
	}
}

780 
	$uv__io_˛o£
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
) {

781 
	`uv__io_°›
(
lo›
, 
w
, 
POLLIN
 | 
POLLOUT
 | 
UV__POLLRDHUP
);

782 
	`QUEUE_REMOVE
(&
w
->
≥ndög_queue
);

785 
	`uv__∂©f‹m_övÆid©e_fd
(
lo›
, 
w
->
fd
);

786 
	}
}

789 
	$uv__io_„ed
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
) {

790 i‡(
	`QUEUE_EMPTY
(&
w
->
≥ndög_queue
))

791 
	`QUEUE_INSERT_TAIL
(&
lo›
->
≥ndög_queue
, &
w
->pending_queue);

792 
	}
}

795 
	$uv__io_a˘ive
(c⁄° 
uv__io_t
* 
w
, 
evíts
) {

796 
	`as£π
(0 =(
evíts
 & ~(
POLLIN
 | 
POLLOUT
 | 
UV__POLLRDHUP
)));

797 
	`as£π
(0 !
evíts
);

798  0 !(
w
->
≥víts
 & 
evíts
);

799 
	}
}

802 
	$uv__›í_˛€xec
(c⁄° * 
∑th
, 
Êags
) {

803 
îr
;

804 
fd
;

806 #i‡
	`deföed
(
UV__O_CLOEXEC
)

807 
no_˛€xec
;

809 i‡(!
no_˛€xec
) {

810 
fd
 = 
	`›í
(
∑th
, 
Êags
 | 
UV__O_CLOEXEC
);

811 i‡(
fd
 != -1)

812  
fd
;

814 i‡(
î∫o
 !
EINVAL
)

815  -
î∫o
;

818 
no_˛€xec
 = 1;

822 
fd
 = 
	`›í
(
∑th
, 
Êags
);

823 i‡(
fd
 == -1)

824  -
î∫o
;

826 
îr
 = 
	`uv__˛€xec
(
fd
, 1);

827 i‡(
îr
) {

828 
	`uv__˛o£
(
fd
);

829  
îr
;

832  
fd
;

833 
	}
}

	@deps/libtuv/src/unix/darwin-proctitle.c

21 
	~<dlf˙.h
>

22 
	~<î∫o.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

26 
	~<T¨gëC⁄dôi⁄Æs.h
>

28 #i‡!
TARGET_OS_IPHONE


29 
	~<C‹eFound©i⁄/C‹eFound©i⁄.h
>

30 
	~<Aµliˇti⁄Sîvi˚s/Aµliˇti⁄Sîvi˚s.h
>

34 
	$uv__±hªad_£äame_≈
(c⁄° * 
«me
) {

35 (*
dy«mic_±hªad_£äame_≈
)(c⁄° * 
«me
);

36 
«mebuf
[64];

37 
îr
;

40 *(**)(&
dy«mic_±hªad_£äame_≈
) =

41 
	`dlsym
(
RTLD_DEFAULT
, "pthread_setname_np");

43 i‡(
dy«mic_±hªad_£äame_≈
 =
NULL
)

44  -
ENOSYS
;

46 
	`°∫˝y
(
«mebuf
, 
«me
, (namebuf) - 1);

47 
«mebuf
[(namebuf) - 1] = '\0';

49 
îr
 = 
	`dy«mic_±hªad_£äame_≈
(
«mebuf
);

50 i‡(
îr
)

51  -
îr
;

54 
	}
}

57 
	$uv__£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

58 #i‡
TARGET_OS_IPHONE


59  
	`uv__±hªad_£äame_≈
(
tôÀ
);

61 
	`CFSåögRef
 (*
pCFSåögCª©eWôhCSåög
)(
CFAŒoˇt‹Ref
,

63 
CFSåögEncodög
);

64 
	`CFBundÀRef
 (*
pCFBundÀGëBundÀWôhIdítifõr
)(
CFSåögRef
);

65 *(*
pCFBundÀGëD©aPoöãrF‹Name
)(
CFBundÀRef
, 
CFSåögRef
);

66 *(*
pCFBundÀGëFun˘i⁄PoöãrF‹Name
)(
CFBundÀRef
, 
CFSåögRef
);

67 
	`CFTy≥Ref
 (*
pLSGëCuºítAµliˇti⁄ASN
)();

68 
	`OSSètus
 (*
pLSSëAµliˇti⁄Inf‹m©i⁄Iãm
)(,

69 
CFTy≥Ref
,

70 
CFSåögRef
,

71 
CFSåögRef
,

72 
CFDi˘i⁄¨yRef
*);

73 * 
≠∂iˇti⁄_£rvi˚s_h™dÀ
;

74 * 
c‹e_found©i⁄_h™dÀ
;

75 
CFBundÀRef
 
œunch_£rvi˚s_bundÀ
;

76 
CFSåögRef
* 
di•œy_«me_key
;

77 
	`CFDi˘i⁄¨yRef
 (*
pCFBundÀGëInfoDi˘i⁄¨y
)(
CFBundÀRef
);

78 
	`CFBundÀRef
 (*
pCFBundÀGëMaöBundÀ
)();

79 
CFBundÀRef
 
hi_£rvi˚s_bundÀ
;

80 
	`OSSètus
 (*
pSëAµliˇti⁄IsD´m⁄
)();

81 
	`CFDi˘i⁄¨yRef
 (*
pLSAµliˇti⁄CheckIn
)(, 
CFDi˘i⁄¨yRef
);

82 (*
pLSSëAµliˇti⁄LaunchSîvi˚sSîvîC⁄√˘i⁄Sètus
)(
uöt64_t
,

84 
CFTy≥Ref
 
a¢
;

85 
îr
;

87 
îr
 = -
ENOENT
;

88 
≠∂iˇti⁄_£rvi˚s_h™dÀ
 = 
	`dl›í
("/System/Library/Frameworks/"

91 
RTLD_LAZY
 | 
RTLD_LOCAL
);

92 
c‹e_found©i⁄_h™dÀ
 = 
	`dl›í
("/System/Library/Frameworks/"

95 
RTLD_LAZY
 | 
RTLD_LOCAL
);

97 i‡(
≠∂iˇti⁄_£rvi˚s_h™dÀ
 =
NULL
 || 
c‹e_found©i⁄_h™dÀ
 == NULL)

98 
out
;

100 *(**)(&
pCFSåögCª©eWôhCSåög
) =

101 
	`dlsym
(
c‹e_found©i⁄_h™dÀ
, "CFStringCreateWithCString");

102 *(**)(&
pCFBundÀGëBundÀWôhIdítifõr
) =

103 
	`dlsym
(
c‹e_found©i⁄_h™dÀ
, "CFBundleGetBundleWithIdentifier");

104 *(**)(&
pCFBundÀGëD©aPoöãrF‹Name
) =

105 
	`dlsym
(
c‹e_found©i⁄_h™dÀ
, "CFBundleGetDataPointerForName");

106 *(**)(&
pCFBundÀGëFun˘i⁄PoöãrF‹Name
) =

107 
	`dlsym
(
c‹e_found©i⁄_h™dÀ
, "CFBundleGetFunctionPointerForName");

109 i‡(
pCFSåögCª©eWôhCSåög
 =
NULL
 ||

110 
pCFBundÀGëBundÀWôhIdítifõr
 =
NULL
 ||

111 
pCFBundÀGëD©aPoöãrF‹Name
 =
NULL
 ||

112 
pCFBundÀGëFun˘i⁄PoöãrF‹Name
 =
NULL
) {

113 
out
;

116 
	#S
(
s
Ë
	`pCFSåögCª©eWôhCSåög
(
NULL
, (s), 
kCFSåögEncodögUTF8
)

	)

118 
œunch_£rvi˚s_bundÀ
 =

119 
	`pCFBundÀGëBundÀWôhIdítifõr
(
	`S
("com.apple.LaunchServices"));

121 i‡(
œunch_£rvi˚s_bundÀ
 =
NULL
)

122 
out
;

124 *(**)(&
pLSGëCuºítAµliˇti⁄ASN
) =

125 
	`pCFBundÀGëFun˘i⁄PoöãrF‹Name
(
œunch_£rvi˚s_bundÀ
,

126 
	`S
("_LSGetCurrentApplicationASN"));

128 i‡(
pLSGëCuºítAµliˇti⁄ASN
 =
NULL
)

129 
out
;

131 *(**)(&
pLSSëAµliˇti⁄Inf‹m©i⁄Iãm
) =

132 
	`pCFBundÀGëFun˘i⁄PoöãrF‹Name
(
œunch_£rvi˚s_bundÀ
,

133 
	`S
("_LSSetApplicationInformationItem"));

135 i‡(
pLSSëAµliˇti⁄Inf‹m©i⁄Iãm
 =
NULL
)

136 
out
;

138 
di•œy_«me_key
 = 
	`pCFBundÀGëD©aPoöãrF‹Name
(
œunch_£rvi˚s_bundÀ
,

139 
	`S
("_kLSDisplayNameKey"));

141 i‡(
di•œy_«me_key
 =
NULL
 || *display_name_key == NULL)

142 
out
;

144 *(**)(&
pCFBundÀGëInfoDi˘i⁄¨y
Ë
	`dlsym
(
c‹e_found©i⁄_h™dÀ
,

146 *(**)(&
pCFBundÀGëMaöBundÀ
Ë
	`dlsym
(
c‹e_found©i⁄_h™dÀ
,

148 i‡(
pCFBundÀGëInfoDi˘i⁄¨y
 =
NULL
 || 
pCFBundÀGëMaöBundÀ
 == NULL)

149 
out
;

152 
hi_£rvi˚s_bundÀ
 =

153 
	`pCFBundÀGëBundÀWôhIdítifõr
(
	`S
("com.apple.HIServices"));

154 
îr
 = -
ENOENT
;

155 i‡(
hi_£rvi˚s_bundÀ
 =
NULL
)

156 
out
;

158 *(**)(&
pSëAµliˇti⁄IsD´m⁄
Ë
	`pCFBundÀGëFun˘i⁄PoöãrF‹Name
(

159 
hi_£rvi˚s_bundÀ
,

160 
	`S
("SetApplicationIsDaemon"));

161 *(**)(&
pLSAµliˇti⁄CheckIn
Ë
	`pCFBundÀGëFun˘i⁄PoöãrF‹Name
(

162 
œunch_£rvi˚s_bundÀ
,

163 
	`S
("_LSApplicationCheckIn"));

164 *(**)(&
pLSSëAµliˇti⁄LaunchSîvi˚sSîvîC⁄√˘i⁄Sètus
) =

165 
	`pCFBundÀGëFun˘i⁄PoöãrF‹Name
(

166 
œunch_£rvi˚s_bundÀ
,

167 
	`S
("_LSSetApplicationLaunchServicesServerConnectionStatus"));

168 i‡(
pSëAµliˇti⁄IsD´m⁄
 =
NULL
 ||

169 
pLSAµliˇti⁄CheckIn
 =
NULL
 ||

170 
pLSSëAµliˇti⁄LaunchSîvi˚sSîvîC⁄√˘i⁄Sètus
 =
NULL
) {

171 
out
;

174 i‡(
	`pSëAµliˇti⁄IsD´m⁄
(1Ë!
noEº
)

175 
out
;

177 
	`pLSSëAµliˇti⁄LaunchSîvi˚sSîvîC⁄√˘i⁄Sètus
(0, 
NULL
);

180 
	`pLSAµliˇti⁄CheckIn
(-2,

181 
	`pCFBundÀGëInfoDi˘i⁄¨y
(
	`pCFBundÀGëMaöBundÀ
()));

183 
a¢
 = 
	`pLSGëCuºítAµliˇti⁄ASN
();

185 
îr
 = -
EINVAL
;

186 i‡(
	`pLSSëAµliˇti⁄Inf‹m©i⁄Iãm
(-2,

187 
a¢
,

188 *
di•œy_«me_key
,

189 
	`S
(
tôÀ
),

190 
NULL
Ë!
noEº
) {

191 
out
;

194 
	`uv__±hªad_£äame_≈
(
tôÀ
);

195 
îr
 = 0;

197 
out
:

198 i‡(
c‹e_found©i⁄_h™dÀ
 !
NULL
)

199 
	`dl˛o£
(
c‹e_found©i⁄_h™dÀ
);

201 i‡(
≠∂iˇti⁄_£rvi˚s_h™dÀ
 !
NULL
)

202 
	`dl˛o£
(
≠∂iˇti⁄_£rvi˚s_h™dÀ
);

204  
îr
;

206 
	}
}

	@deps/libtuv/src/unix/darwin.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<as£π.h
>

25 
	~<°döt.h
>

26 
	~<î∫o.h
>

28 
	~<iÁddrs.h
>

29 
	~<√t/if.h
>

30 
	~<√t/if_dl.h
>

32 
	~<mach/mach.h
>

33 
	~<mach/mach_time.h
>

34 
	~<mach-o/dyld.h
>

35 
	~<sys/ªsour˚.h
>

36 
	~<sys/sys˘l.h
>

37 
	~<uni°d.h
>

40 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

41 
lo›
->
cf_°©e
 = 
NULL
;

43 i‡(
	`uv__kqueue_öô
(
lo›
))

44  -
î∫o
;

47 
	}
}

50 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

51 
	`uv__f£víts_lo›_dñëe
(
lo›
);

52 
	}
}

55 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

56 
mach_timeba£_öfo_d©a_t
 
öfo
;

58 i‡((
	`ACCESS_ONCE
(
uöt32_t
, 
öfo
.
numî
) == 0 ||

59 
	`ACCESS_ONCE
(
uöt32_t
, 
öfo
.
díom
) == 0) &&

60 
	`mach_timeba£_öfo
(&
öfo
Ë!
KERN_SUCCESS
)

61 
	`ab‹t
();

63  
	`mach_absﬁuã_time
(Ë* 
öfo
.
numî
 / info.
díom
;

64 
	}
}

67 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

69 
ab•©h
[
PATH_MAX
 * 2 + 1];

70 
exï©h
[
PATH_MAX
 + 1];

71 
uöt32_t
 
exï©h_size
;

72 
size_t
 
ab•©h_size
;

74 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

75  -
EINVAL
;

77 
exï©h_size
 = (
exï©h
);

78 i‡(
	`_NSGëExecuèbÀP©h
(
exï©h
, &
exï©h_size
))

79  -
EIO
;

81 i‡(
	`ªÆ∑th
(
exï©h
, 
ab•©h
) !=ábspath)

82  -
î∫o
;

84 
ab•©h_size
 = 
	`°æí
(
ab•©h
);

85 i‡(
ab•©h_size
 == 0)

86  -
EIO
;

88 *
size
 -= 1;

89 i‡(*
size
 > 
ab•©h_size
)

90 *
size
 = 
ab•©h_size
;

92 
	`mem˝y
(
buf„r
, 
ab•©h
, *
size
);

93 
buf„r
[*
size
] = '\0';

96 
	}
}

99 
uöt64_t
 
	$uv_gë_‰ì_mem‹y
() {

100 
vm_°©i°ics_d©a_t
 
öfo
;

101 
mach_msg_ty≥_numbî_t
 
cou¡
 = (
öfo
Ë/ (
öãgî_t
);

103 i‡(
	`ho°_°©i°ics
(
	`mach_ho°_£lf
(), 
HOST_VM_INFO
,

104 (
ho°_öfo_t
)&
öfo
, &
cou¡
Ë!
KERN_SUCCESS
) {

105  -
EINVAL
;

108  (
uöt64_t
Ë
öfo
.
‰ì_cou¡
 * 
	`sysc⁄f
(
_SC_PAGESIZE
);

109 
	}
}

112 
uöt64_t
 
	$uv_gë_tŸÆ_mem‹y
() {

113 
uöt64_t
 
öfo
;

114 
which
[] = {
CTL_HW
, 
HW_MEMSIZE
};

115 
size_t
 
size
 = (
öfo
);

117 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

118  -
î∫o
;

120  (
uöt64_t
Ë
öfo
;

121 
	}
}

124 
	$uv_lﬂdavg
(
avg
[3]) {

125 
lﬂdavg
 
öfo
;

126 
size_t
 
size
 = (
öfo
);

127 
which
[] = {
CTL_VM
, 
VM_LOADAVG
};

129 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0) < 0) ;

131 
avg
[0] = (Ë
öfo
.
ldavg
[0] / info.
fsˇÀ
;

132 
avg
[1] = (Ë
öfo
.
ldavg
[1] / info.
fsˇÀ
;

133 
avg
[2] = (Ë
öfo
.
ldavg
[2] / info.
fsˇÀ
;

134 
	}
}

137 
	$uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
) {

138 
mach_msg_ty≥_numbî_t
 
cou¡
;

139 
èsk_basic_öfo_d©a_t
 
öfo
;

140 
kîn_ªtu∫_t
 
îr
;

142 
cou¡
 = 
TASK_BASIC_INFO_COUNT
;

143 
îr
 = 
	`èsk_öfo
(
	`mach_èsk_£lf
(),

144 
TASK_BASIC_INFO
,

145 (
èsk_öfo_t
Ë&
öfo
,

146 &
cou¡
);

147 (Ë&
îr
;

151 
	`as£π
(
îr
 =
KERN_SUCCESS
);

152 *
rss
 = 
öfo
.
ªsidít_size
;

155 
	}
}

158 
	$uv_u±ime
(* 
u±ime
) {

159 
time_t
 
now
;

160 
timevÆ
 
öfo
;

161 
size_t
 
size
 = (
öfo
);

162 
which
[] = {
CTL_KERN
, 
KERN_BOOTTIME
};

164 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

165  -
î∫o
;

167 
now
 = 
	`time
(
NULL
);

168 *
u±ime
 = 
now
 - 
öfo
.
tv_£c
;

171 
	}
}

173 
	$uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
) {

174 
ticks
 = ()
	`sysc⁄f
(
_SC_CLK_TCK
),

175 
mu…ùlõr
 = ((
uöt64_t
)1000L / 
ticks
);

176 
modñ
[512];

177 
uöt64_t
 
˝u•ìd
;

178 
size_t
 
size
;

179 
i
;

180 
«tuøl_t
 
num˝us
;

181 
mach_msg_ty≥_numbî_t
 
msg_ty≥
;

182 
¥o˚ss‹_˝u_lﬂd_öfo_d©a_t
 *
öfo
;

183 
uv_˝u_öfo_t
* 
˝u_öfo
;

185 
size
 = (
modñ
);

186 i‡(
	`sys˘lby«me
("machdï.˝u.bønd_°rög", &
modñ
, &
size
, 
NULL
, 0) &&

187 
	`sys˘lby«me
("hw.modñ", &
modñ
, &
size
, 
NULL
, 0)) {

188  -
î∫o
;

191 
size
 = (
˝u•ìd
);

192 i‡(
	`sys˘lby«me
("hw.˝u‰equícy", &
˝u•ìd
, &
size
, 
NULL
, 0))

193  -
î∫o
;

195 i‡(
	`ho°_¥o˚ss‹_öfo
(
	`mach_ho°_£lf
(), 
PROCESSOR_CPU_LOAD_INFO
, &
num˝us
,

196 (
¥o˚ss‹_öfo_¨øy_t
*)&
öfo
,

197 &
msg_ty≥
Ë!
KERN_SUCCESS
) {

198  -
EINVAL
;

201 *
˝u_öfos
 = 
	`uv__mÆloc
(
num˝us
 * (**cpu_infos));

202 i‡(!(*
˝u_öfos
)) {

203 
	`vm_dóŒoˇã
(
	`mach_èsk_£lf
(), (
vm_addªss_t
)
öfo
, 
msg_ty≥
);

204  -
ENOMEM
;

207 *
cou¡
 = 
num˝us
;

209 
i
 = 0; i < 
num˝us
; i++) {

210 
˝u_öfo
 = &(*
˝u_öfos
)[
i
];

212 
˝u_öfo
->
˝u_times
.
u£r
 = (
uöt64_t
)(
öfo
[
i
].
˝u_ticks
[0]Ë* 
mu…ùlõr
;

213 
˝u_öfo
->
˝u_times
.
ni˚
 = (
uöt64_t
)(
öfo
[
i
].
˝u_ticks
[3]Ë* 
mu…ùlõr
;

214 
˝u_öfo
->
˝u_times
.
sys
 = (
uöt64_t
)(
öfo
[
i
].
˝u_ticks
[1]Ë* 
mu…ùlõr
;

215 
˝u_öfo
->
˝u_times
.
idÀ
 = (
uöt64_t
)(
öfo
[
i
].
˝u_ticks
[2]Ë* 
mu…ùlõr
;

216 
˝u_öfo
->
˝u_times
.
úq
 = 0;

218 
˝u_öfo
->
modñ
 = 
	`uv__°rdup
(model);

219 
˝u_öfo
->
•ìd
 = 
˝u•ìd
/1000000;

221 
	`vm_dóŒoˇã
(
	`mach_èsk_£lf
(), (
vm_addªss_t
)
öfo
, 
msg_ty≥
);

224 
	}
}

227 
	$uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
) {

228 
i
;

230 
i
 = 0; i < 
cou¡
; i++) {

231 
	`uv__‰ì
(
˝u_öfos
[
i
].
modñ
);

234 
	`uv__‰ì
(
˝u_öfos
);

235 
	}
}

238 
	$uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
, * 
cou¡
) {

239 
iÁddrs
 *
addrs
, *
ít
;

240 
uv_öãrÁ˚_addªss_t
* 
addªss
;

241 
i
;

242 
sockaddr_dl
 *
ß_addr
;

244 i‡(
	`gëiÁddrs
(&
addrs
))

245  -
î∫o
;

247 *
cou¡
 = 0;

250 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

251 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

252 (
ít
->
iÁ_addr
 =
NULL
) ||

253 (
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_LINK
)) {

257 (*
cou¡
)++;

260 *
addªs£s
 = 
	`uv__mÆloc
(*
cou¡
 * (**addresses));

261 i‡(!(*
addªs£s
)) {

262 
	`‰ìiÁddrs
(
addrs
);

263  -
ENOMEM
;

266 
addªss
 = *
addªs£s
;

268 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

269 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)))

272 i‡(
ít
->
iÁ_addr
 =
NULL
)

279 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_LINK
)

282 
addªss
->
«me
 = 
	`uv__°rdup
(
ít
->
iÁ_«me
);

284 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET6
) {

285 
addªss
->addªss.
addªss6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_addr
);

287 
addªss
->addªss.
addªss4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_addr
);

290 i‡(
ít
->
iÁ_√tmask
->
ß_Ámûy
 =
AF_INET6
) {

291 
addªss
->
√tmask
.
√tmask6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_√tmask
);

293 
addªss
->
√tmask
.
√tmask4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_√tmask
);

296 
addªss
->
is_öã∫Æ
 = !!(
ít
->
iÁ_Êags
 & 
IFF_LOOPBACK
);

298 
addªss
++;

302 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

303 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

304 (
ít
->
iÁ_addr
 =
NULL
) ||

305 (
ít
->
iÁ_addr
->
ß_Ámûy
 !
AF_LINK
)) {

309 
addªss
 = *
addªs£s
;

311 
i
 = 0; i < (*
cou¡
); i++) {

312 i‡(
	`°rcmp
(
addªss
->
«me
, 
ít
->
iÁ_«me
) == 0) {

313 
ß_addr
 = (
sockaddr_dl
*)(
ít
->
iÁ_addr
);

314 
	`mem˝y
(
addªss
->
phys_addr
, 
	`LLADDR
(
ß_addr
), (address->phys_addr));

316 
addªss
++;

320 
	`‰ìiÁddrs
(
addrs
);

323 
	}
}

326 
	$uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
,

327 
cou¡
) {

328 
i
;

330 
i
 = 0; i < 
cou¡
; i++) {

331 
	`uv__‰ì
(
addªs£s
[
i
].
«me
);

334 
	`uv__‰ì
(
addªs£s
);

335 
	}
}

	@deps/libtuv/src/unix/dl.c

22 
	~"uv.h
"

23 
	~"öã∫Æ.h
"

25 
	~<dlf˙.h
>

26 
	~<î∫o.h
>

27 
	~<°rög.h
>

28 
	~<loˇÀ.h
>

30 
uv__dÀº‹
(
uv_lib_t
* 
lib
);

33 
	$uv_dl›í
(c⁄° * 
fûíame
, 
uv_lib_t
* 
lib
) {

34 
	`dÀº‹
();

35 
lib
->
îrmsg
 = 
NULL
;

36 
lib
->
h™dÀ
 = 
	`dl›í
(
fûíame
, 
RTLD_LAZY
);

37  
lib
->
h™dÀ
 ? 0 : 
	`uv__dÀº‹
(lib);

38 
	}
}

41 
	$uv_dl˛o£
(
uv_lib_t
* 
lib
) {

42 
	`uv__‰ì
(
lib
->
îrmsg
);

43 
lib
->
îrmsg
 = 
NULL
;

45 i‡(
lib
->
h™dÀ
) {

47 
	`dl˛o£
(
lib
->
h™dÀ
);

48 
lib
->
h™dÀ
 = 
NULL
;

50 
	}
}

53 
	$uv_dlsym
(
uv_lib_t
* 
lib
, c⁄° * 
«me
, ** 
±r
) {

54 
	`dÀº‹
();

55 *
±r
 = 
	`dlsym
(
lib
->
h™dÀ
, 
«me
);

56  
	`uv__dÀº‹
(
lib
);

57 
	}
}

60 c⁄° * 
	$uv_dÀº‹
(c⁄° 
uv_lib_t
* 
lib
) {

61  
lib
->
îrmsg
 ?Üib->errmsg : "noÉrror";

62 
	}
}

65 
	$uv__dÀº‹
(
uv_lib_t
* 
lib
) {

66 c⁄° * 
îrmsg
;

68 
	`uv__‰ì
(
lib
->
îrmsg
);

70 
îrmsg
 = 
	`dÀº‹
();

72 i‡(
îrmsg
) {

73 
lib
->
îrmsg
 = 
	`uv__°rdup
(errmsg);

77 
lib
->
îrmsg
 = 
NULL
;

80 
	}
}

	@deps/libtuv/src/unix/freebsd.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<as£π.h
>

25 
	~<°rög.h
>

26 
	~<î∫o.h
>

28 
	~<iÁddrs.h
>

29 
	~<√t/if.h
>

30 
	~<√t/if_dl.h
>

32 
	~<kvm.h
>

33 
	~<∑ths.h
>

34 
	~<sys/u£r.h
>

35 
	~<sys/ty≥s.h
>

36 
	~<sys/ªsour˚.h
>

37 
	~<sys/sys˘l.h
>

38 
	~<vm/vm_∑øm.h
>

39 
	~<time.h
>

40 
	~<°dlib.h
>

41 
	~<uni°d.h
>

42 
	~<f˙é.h
>

44 #unde‡
NANOSEC


45 
	#NANOSEC
 ((
uöt64_t
Ë1e9)

	)

47 #i‚de‡
CPUSTATES


48 
	#CPUSTATES
 5U

	)

50 #i‚de‡
CP_USER


51 
	#CP_USER
 0

	)

52 
	#CP_NICE
 1

	)

53 
	#CP_SYS
 2

	)

54 
	#CP_IDLE
 3

	)

55 
	#CP_INTR
 4

	)

58 *
	g¥o˚ss_tôÀ
;

61 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

62  
	`uv__kqueue_öô
(
lo›
);

63 
	}
}

66 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

67 
	}
}

70 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

71 
time•ec
 
ts
;

72 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
ts
);

73  (((
uöt64_t
Ë
ts
.
tv_£c
Ë* 
NANOSEC
 +Ås.
tv_n£c
);

74 
	}
}

77 #ifde‡
__Døg⁄Fly__


78 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

79 
ab•©h
[
PATH_MAX
 * 2 + 1];

80 
ssize_t
 
ab•©h_size
;

82 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

83  -
EINVAL
;

85 
ab•©h_size
 = 
	`ªadlök
("/¥oc/cuΩroc/fûe", 
ab•©h
, (abspath));

86 i‡(
ab•©h_size
 < 0)

87  -
î∫o
;

89 
	`as£π
(
ab•©h_size
 > 0);

90 *
size
 -= 1;

92 i‡(*
size
 > 
ab•©h_size
)

93 *
size
 = 
ab•©h_size
;

95 
	`mem˝y
(
buf„r
, 
ab•©h
, *
size
);

96 
buf„r
[*
size
] = '\0';

99 
	}
}

101 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

102 
ab•©h
[
PATH_MAX
 * 2 + 1];

103 
mib
[4];

104 
size_t
 
ab•©h_size
;

106 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

107  -
EINVAL
;

109 
mib
[0] = 
CTL_KERN
;

110 
mib
[1] = 
KERN_PROC
;

111 
mib
[2] = 
KERN_PROC_PATHNAME
;

112 
mib
[3] = -1;

114 
ab•©h_size
 =  
ab•©h
;

115 i‡(
	`sys˘l
(
mib
, 4, 
ab•©h
, &
ab•©h_size
, 
NULL
, 0))

116  -
î∫o
;

118 
	`as£π
(
ab•©h_size
 > 0);

119 
ab•©h_size
 -= 1;

120 *
size
 -= 1;

122 i‡(*
size
 > 
ab•©h_size
)

123 *
size
 = 
ab•©h_size
;

125 
	`mem˝y
(
buf„r
, 
ab•©h
, *
size
);

126 
buf„r
[*
size
] = '\0';

129 
	}
}

132 
uöt64_t
 
	$uv_gë_‰ì_mem‹y
() {

133 
‰ìcou¡
;

134 
size_t
 
size
 = (
‰ìcou¡
);

136 i‡(
	`sys˘lby«me
("vm.°©s.vm.v_‰ì_cou¡", &
‰ìcou¡
, &
size
, 
NULL
, 0))

137  -
î∫o
;

139  (
uöt64_t
Ë
‰ìcou¡
 * 
	`sysc⁄f
(
_SC_PAGESIZE
);

141 
	}
}

144 
uöt64_t
 
	$uv_gë_tŸÆ_mem‹y
() {

145 
öfo
;

146 
which
[] = {
CTL_HW
, 
HW_PHYSMEM
};

148 
size_t
 
size
 = (
öfo
);

150 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

151  -
î∫o
;

153  (
uöt64_t
Ë
öfo
;

154 
	}
}

157 
	$uv_lﬂdavg
(
avg
[3]) {

158 
lﬂdavg
 
öfo
;

159 
size_t
 
size
 = (
öfo
);

160 
which
[] = {
CTL_VM
, 
VM_LOADAVG
};

162 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0) < 0) ;

164 
avg
[0] = (Ë
öfo
.
ldavg
[0] / info.
fsˇÀ
;

165 
avg
[1] = (Ë
öfo
.
ldavg
[1] / info.
fsˇÀ
;

166 
avg
[2] = (Ë
öfo
.
ldavg
[2] / info.
fsˇÀ
;

167 
	}
}

170 ** 
	$uv_£tup_¨gs
(
¨gc
, ** 
¨gv
) {

171 
¥o˚ss_tôÀ
 = 
¨gc
 ? 
	`uv__°rdup
(
¨gv
[0]Ë: 
NULL
;

172  
¨gv
;

173 
	}
}

176 
	$uv_£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

177 
oid
[4];

179 
	`uv__‰ì
(
¥o˚ss_tôÀ
);

180 
¥o˚ss_tôÀ
 = 
	`uv__°rdup
(
tôÀ
);

182 
oid
[0] = 
CTL_KERN
;

183 
oid
[1] = 
KERN_PROC
;

184 
oid
[2] = 
KERN_PROC_ARGS
;

185 
oid
[3] = 
	`gëpid
();

187 
	`sys˘l
(
oid
,

188 
	`ARRAY_SIZE
(
oid
),

189 
NULL
,

190 
NULL
,

191 
¥o˚ss_tôÀ
,

192 
	`°æí
(
¥o˚ss_tôÀ
) + 1);

195 
	}
}

198 
	$uv_gë_¥o˚ss_tôÀ
(* 
buf„r
, 
size_t
 
size
) {

199 
size_t
 
Àn
;

201 i‡(
buf„r
 =
NULL
 || 
size
 == 0)

202  -
EINVAL
;

204 i‡(
¥o˚ss_tôÀ
) {

205 
Àn
 = 
	`°æí
(
¥o˚ss_tôÀ
) + 1;

207 i‡(
size
 < 
Àn
)

208  -
ENOBUFS
;

210 
	`mem˝y
(
buf„r
, 
¥o˚ss_tôÀ
, 
Àn
);

212 
Àn
 = 0;

215 
buf„r
[
Àn
] = '\0';

218 
	}
}

221 
	$uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
) {

222 
kvm_t
 *
kd
 = 
NULL
;

223 
köfo_¥oc
 *
köfo
 = 
NULL
;

224 
pid_t
 
pid
;

225 
≈rocs
;

226 
size_t
 
∑ge_size
 = 
	`gë∑gesize
();

228 
pid
 = 
	`gëpid
();

230 
kd
 = 
	`kvm_›í
(
NULL
, 
_PATH_DEVNULL
, NULL, 
O_RDONLY
, "kvm_open");

231 i‡(
kd
 =
NULL
Ë
îr‹
;

233 
köfo
 = 
	`kvm_gë¥ocs
(
kd
, 
KERN_PROC_PID
, 
pid
, &
≈rocs
);

234 i‡(
köfo
 =
NULL
Ë
îr‹
;

236 #ifde‡
__Døg⁄Fly__


237 *
rss
 = 
köfo
->
kp_vm_rssize
 * 
∑ge_size
;

239 *
rss
 = 
köfo
->
ki_rssize
 * 
∑ge_size
;

242 
	`kvm_˛o£
(
kd
);

246 
îr‹
:

247 i‡(
kd
Ë
	`kvm_˛o£
(kd);

248  -
EPERM
;

249 
	}
}

252 
	$uv_u±ime
(* 
u±ime
) {

253 
r
;

254 
time•ec
 
•
;

255 
r
 = 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
•
);

256 i‡(
r
)

257  -
î∫o
;

259 *
u±ime
 = 
•
.
tv_£c
;

261 
	}
}

264 
	$uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
) {

265 
ticks
 = ()
	`sysc⁄f
(
_SC_CLK_TCK
),

266 
mu…ùlõr
 = ((
uöt64_t
)1000L / 
ticks
), 
˝u•ìd
, 
max˝us
,

267 
cur
 = 0;

268 
uv_˝u_öfo_t
* 
˝u_öfo
;

269 c⁄° * 
max˝us_key
;

270 c⁄° * 
˝times_key
;

271 
modñ
[512];

272 * 
˝_times
;

273 
num˝us
;

274 
size_t
 
size
;

275 
i
;

277 #i‡
	`deföed
(
__Døg⁄Fly__
)

282 
max˝us_key
 = "hw.ncpu";

283 
˝times_key
 = "kern.cp_time";

285 
max˝us_key
 = "kern.smp.maxcpus";

286 
˝times_key
 = "kern.cp_times";

289 
size
 = (
modñ
);

290 i‡(
	`sys˘lby«me
("hw.modñ", &
modñ
, &
size
, 
NULL
, 0))

291  -
î∫o
;

293 
size
 = (
num˝us
);

294 i‡(
	`sys˘lby«me
("hw.n˝u", &
num˝us
, &
size
, 
NULL
, 0))

295  -
î∫o
;

297 *
˝u_öfos
 = 
	`uv__mÆloc
(
num˝us
 * (**cpu_infos));

298 i‡(!(*
˝u_öfos
))

299  -
ENOMEM
;

301 *
cou¡
 = 
num˝us
;

303 
size
 = (
˝u•ìd
);

304 i‡(
	`sys˘lby«me
("hw.˛ockøã", &
˝u•ìd
, &
size
, 
NULL
, 0)) {

305 
	`uv__‰ì
(*
˝u_öfos
);

306  -
î∫o
;

312 
size
 = (
max˝us
);

313 i‡(
	`sys˘lby«me
(
max˝us_key
, &
max˝us
, &
size
, 
NULL
, 0)) {

314 
	`uv__‰ì
(*
˝u_öfos
);

315  -
î∫o
;

318 
size
 = 
max˝us
 * 
CPUSTATES
 * ();

320 
˝_times
 = 
	`uv__mÆloc
(
size
);

321 i‡(
˝_times
 =
NULL
) {

322 
	`uv__‰ì
(*
˝u_öfos
);

323  -
ENOMEM
;

326 i‡(
	`sys˘lby«me
(
˝times_key
, 
˝_times
, &
size
, 
NULL
, 0)) {

327 
	`uv__‰ì
(
˝_times
);

328 
	`uv__‰ì
(*
˝u_öfos
);

329  -
î∫o
;

332 
i
 = 0; i < 
num˝us
; i++) {

333 
˝u_öfo
 = &(*
˝u_öfos
)[
i
];

335 
˝u_öfo
->
˝u_times
.
u£r
 = (
uöt64_t
)(
˝_times
[
CP_USER
+
cur
]Ë* 
mu…ùlõr
;

336 
˝u_öfo
->
˝u_times
.
ni˚
 = (
uöt64_t
)(
˝_times
[
CP_NICE
+
cur
]Ë* 
mu…ùlõr
;

337 
˝u_öfo
->
˝u_times
.
sys
 = (
uöt64_t
)(
˝_times
[
CP_SYS
+
cur
]Ë* 
mu…ùlõr
;

338 
˝u_öfo
->
˝u_times
.
idÀ
 = (
uöt64_t
)(
˝_times
[
CP_IDLE
+
cur
]Ë* 
mu…ùlõr
;

339 
˝u_öfo
->
˝u_times
.
úq
 = (
uöt64_t
)(
˝_times
[
CP_INTR
+
cur
]Ë* 
mu…ùlõr
;

341 
˝u_öfo
->
modñ
 = 
	`uv__°rdup
(model);

342 
˝u_öfo
->
•ìd
 = 
˝u•ìd
;

344 
cur
+=
CPUSTATES
;

347 
	`uv__‰ì
(
˝_times
);

349 
	}
}

352 
	$uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
) {

353 
i
;

355 
i
 = 0; i < 
cou¡
; i++) {

356 
	`uv__‰ì
(
˝u_öfos
[
i
].
modñ
);

359 
	`uv__‰ì
(
˝u_öfos
);

360 
	}
}

363 
	$uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
, * 
cou¡
) {

364 
iÁddrs
 *
addrs
, *
ít
;

365 
uv_öãrÁ˚_addªss_t
* 
addªss
;

366 
i
;

367 
sockaddr_dl
 *
ß_addr
;

369 i‡(
	`gëiÁddrs
(&
addrs
))

370  -
î∫o
;

372 *
cou¡
 = 0;

375 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

376 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

377 (
ít
->
iÁ_addr
 =
NULL
) ||

378 (
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_LINK
)) {

382 (*
cou¡
)++;

385 *
addªs£s
 = 
	`uv__mÆloc
(*
cou¡
 * (**addresses));

386 i‡(!(*
addªs£s
)) {

387 
	`‰ìiÁddrs
(
addrs
);

388  -
ENOMEM
;

391 
addªss
 = *
addªs£s
;

393 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

394 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)))

397 i‡(
ít
->
iÁ_addr
 =
NULL
)

404 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_LINK
)

407 
addªss
->
«me
 = 
	`uv__°rdup
(
ít
->
iÁ_«me
);

409 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET6
) {

410 
addªss
->addªss.
addªss6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_addr
);

412 
addªss
->addªss.
addªss4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_addr
);

415 i‡(
ít
->
iÁ_√tmask
->
ß_Ámûy
 =
AF_INET6
) {

416 
addªss
->
√tmask
.
√tmask6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_√tmask
);

418 
addªss
->
√tmask
.
√tmask4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_√tmask
);

421 
addªss
->
is_öã∫Æ
 = !!(
ít
->
iÁ_Êags
 & 
IFF_LOOPBACK
);

423 
addªss
++;

427 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

428 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

429 (
ít
->
iÁ_addr
 =
NULL
) ||

430 (
ít
->
iÁ_addr
->
ß_Ámûy
 !
AF_LINK
)) {

434 
addªss
 = *
addªs£s
;

436 
i
 = 0; i < (*
cou¡
); i++) {

437 i‡(
	`°rcmp
(
addªss
->
«me
, 
ít
->
iÁ_«me
) == 0) {

438 
ß_addr
 = (
sockaddr_dl
*)(
ít
->
iÁ_addr
);

439 
	`mem˝y
(
addªss
->
phys_addr
, 
	`LLADDR
(
ß_addr
), (address->phys_addr));

441 
addªss
++;

445 
	`‰ìiÁddrs
(
addrs
);

448 
	}
}

451 
	$uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
,

452 
cou¡
) {

453 
i
;

455 
i
 = 0; i < 
cou¡
; i++) {

456 
	`uv__‰ì
(
addªs£s
[
i
].
«me
);

459 
	`uv__‰ì
(
addªs£s
);

460 
	}
}

	@deps/libtuv/src/unix/fs.c

44 
	~"uv.h
"

45 
	~"öã∫Æ.h
"

47 
	~<î∫o.h
>

48 
	~<°dio.h
>

49 
	~<°dlib.h
>

50 
	~<°rög.h
>

51 
	~<limôs.h
>

53 
	~<sys/ty≥s.h
>

54 
	~<sys/sockë.h
>

55 
	~<sys/°©.h
>

56 
	~<sys/time.h
>

57 #i‡!
deföed
(
__TIZENRT__
)

58 
	~<sys/uio.h
>

59 
	~<utime.h
>

61 
	~<±hªad.h
>

62 
	~<uni°d.h
>

63 
	~<f˙é.h
>

64 
	~<pﬁl.h
>

66 #i‡
deföed
(
__Døg⁄Fly__
) || \

67 
deföed
(
__FªeBSD__
) || \

68 
deföed
(
__FªeBSD_kî√l_
) || \

69 
deföed
(
__O≥nBSD__
) || \

70 
	$deföed
(
__NëBSD__
)

71 
	#HAVE_PREADV
 1

	)

73 
	#HAVE_PREADV
 0

	)

76 #i‡
	`deföed
(
__löux__
Ë|| deföed(
__sun
)

77 
	~<sys/£ndfûe.h
>

80 
	#INIT
(
subty≥
) \

82 
ªq
->
ty≥
 = 
UV_FS
; \

83 i‡(
cb
 !
NULL
) \

84 
	`uv__ªq_öô
(
lo›
, 
ªq
, 
UV_FS
); \

85 
ªq
->
fs_ty≥
 = 
UV_FS_
 ## 
subty≥
; \

86 
ªq
->
ªsu…
 = 0; \

87 
ªq
->
±r
 = 
NULL
; \

88 
ªq
->
lo›
 =Üoop; \

89 
ªq
->
∑th
 = 
NULL
; \

90 
ªq
->
√w_∑th
 = 
NULL
; \

91 
ªq
->
cb
 = cb; \

92 
	}
} \

93 0)

	)

95 
	#PATH
 \

97 
	`as£π
(
∑th
 !
NULL
); \

98 i‡(
cb
 =
NULL
) { \

99 
ªq
->
∑th
 =Öath; \

101 
ªq
->
∑th
 = 
	`°rdup
(path); \

102 i‡(
ªq
->
∑th
 =
NULL
) { \

103 
	`uv__ªq_uƒegi°î
(
lo›
, 
ªq
); \

104  -
ENOMEM
; \

108 0)

	)

110 
	#PATH2
 \

112 i‡(
cb
 =
NULL
) { \

113 
ªq
->
∑th
 =Öath; \

114 
ªq
->
√w_∑th
 =Çew_path; \

116 
size_t
 
∑th_Àn
; \

117 
size_t
 
√w_∑th_Àn
; \

118 
∑th_Àn
 = 
	`°æí
(
∑th
) + 1; \

119 
√w_∑th_Àn
 = 
	`°æí
(
√w_∑th
) + 1; \

120 
ªq
->
∑th
 = 
	`uv__mÆloc
(
∑th_Àn
 + 
√w_∑th_Àn
); \

121 i‡(
ªq
->
∑th
 =
NULL
) { \

122 
	`uv__ªq_uƒegi°î
(
lo›
, 
ªq
); \

123  -
ENOMEM
; \

125 
ªq
->
√w_∑th
 =Ñeq->
∑th
 + 
∑th_Àn
; \

126 
	`mem˝y
((*Ë
ªq
->
∑th
,Ö©h, 
∑th_Àn
); \

127 
	`mem˝y
((*Ë
ªq
->
√w_∑th
,Çew_∑th, 
√w_∑th_Àn
); \

130 0)

	)

132 
	#POST
 \

134 i‡(
cb
 !
NULL
) { \

135 
	`uv__w‹k_submô
(
lo›
, &
ªq
->
w‹k_ªq
, 
uv__fs_w‹k
, 
uv__fs_d⁄e
); \

139 
	`uv__fs_w‹k
(&
ªq
->
w‹k_ªq
); \

140  
ªq
->
ªsu…
; \

143 0)

	)

146 
ssize_t
 
	$uv__fs_fd©async
(
uv_fs_t
* 
ªq
) {

147 #i‡
	`deföed
(
__löux__
Ë|| deföed(
__sun
Ë|| deföed(
__NëBSD__
)

148  
	`fd©async
(
ªq
->
fûe
);

149 #ñi‡
	`deföed
(
__APPLE__
Ë&& deföed(
SYS_fd©async
)

150  
	`sysˇŒ
(
SYS_fd©async
, 
ªq
->
fûe
);

152  
	`fsync
(
ªq
->
fûe
);

154 
	}
}

157 
ssize_t
 
	$uv__fs_futime
(
uv_fs_t
* 
ªq
) {

158 #i‡
	`deföed
(
__löux__
)

162 
no_utimeßt
;

163 
time•ec
 
ts
[2];

164 
timevÆ
 
tv
[2];

165 
∑th
[("/proc/self/fd/") + 3 * ()];

166 
r
;

168 i‡(
no_utimeßt
)

169 
skù
;

171 
ts
[0].
tv_£c
 = 
ªq
->
©ime
;

172 
ts
[0].
tv_n£c
 = (
uöt64_t
)(
ªq
->
©ime
 * 1000000) % 1000000 * 1000;

173 
ts
[1].
tv_£c
 = 
ªq
->
mtime
;

174 
ts
[1].
tv_n£c
 = (
uöt64_t
)(
ªq
->
mtime
 * 1000000) % 1000000 * 1000;

176 
r
 = 
	`uv__utimeßt
(
ªq
->
fûe
, 
NULL
, 
ts
, 0);

177 i‡(
r
 == 0)

178  
r
;

180 i‡(
î∫o
 !
ENOSYS
)

181  
r
;

183 
no_utimeßt
 = 1;

185 
skù
:

187 
tv
[0].
tv_£c
 = 
ªq
->
©ime
;

188 
tv
[0].
tv_u£c
 = (
uöt64_t
)(
ªq
->
©ime
 * 1000000) % 1000000;

189 
tv
[1].
tv_£c
 = 
ªq
->
mtime
;

190 
tv
[1].
tv_u£c
 = (
uöt64_t
)(
ªq
->
mtime
 * 1000000) % 1000000;

191 
	`¢¥ötf
(
∑th
, ’©h), "/¥oc/£lf/fd/%d", (Ë
ªq
->
fûe
);

193 
r
 = 
	`utimes
(
∑th
, 
tv
);

194 i‡(
r
 == 0)

195  
r
;

197 
î∫o
) {

198 
ENOENT
:

199 i‡(
	`f˙é
(
ªq
->
fûe
, 
F_GETFL
Ë=-1 && 
î∫o
 =
EBADF
)

203 
EACCES
:

204 
ENOTDIR
:

205 
î∫o
 = 
ENOSYS
;

209  
r
;

211 #ñi‡
	`deföed
(
__APPLE__
) \

212 || 
	`deföed
(
__Døg⁄Fly__
) \

213 || 
	`deföed
(
__FªeBSD__
) \

214 || 
	`deföed
(
__FªeBSD_kî√l__
) \

215 || 
	`deföed
(
__NëBSD__
) \

216 || 
	`deföed
(
__O≥nBSD__
) \

217 || 
	`deföed
(
__sun
)

218 
timevÆ
 
tv
[2];

219 
tv
[0].
tv_£c
 = 
ªq
->
©ime
;

220 
tv
[0].
tv_u£c
 = (
uöt64_t
)(
ªq
->
©ime
 * 1000000) % 1000000;

221 
tv
[1].
tv_£c
 = 
ªq
->
mtime
;

222 
tv
[1].
tv_u£c
 = (
uöt64_t
)(
ªq
->
mtime
 * 1000000) % 1000000;

223 #i‡
	`deföed
(
__sun
)

224  
	`futimeßt
(
ªq
->
fûe
, 
NULL
, 
tv
);

226  
	`futimes
(
ªq
->
fûe
, 
tv
);

228 #ñi‡
	`deföed
(
_AIX71
)

229 
time•ec
 
ts
[2];

230 
ts
[0].
tv_£c
 = 
ªq
->
©ime
;

231 
ts
[0].
tv_n£c
 = (
uöt64_t
)(
ªq
->
©ime
 * 1000000) % 1000000 * 1000;

232 
ts
[1].
tv_£c
 = 
ªq
->
mtime
;

233 
ts
[1].
tv_n£c
 = (
uöt64_t
)(
ªq
->
mtime
 * 1000000) % 1000000 * 1000;

234  
	`futimís
(
ªq
->
fûe
, 
ts
);

235 #ñi‡
	`deföed
(
__MVS__
)

236 
©åib_t
 
©r
;

237 
	`mem£t
(&
©r
, 0, (atr));

238 
©r
.
©t_mtimechg
 = 1;

239 
©r
.
©t_©imechg
 = 1;

240 
©r
.
©t_mtime
 = 
ªq
->
mtime
;

241 
©r
.
©t_©ime
 = 
ªq
->
©ime
;

242  
	`__fch©å
(
ªq
->
fûe
, &
©r
, (atr));

244 
î∫o
 = 
ENOSYS
;

247 
	}
}

250 
ssize_t
 
	$uv__fs_›í
(
uv_fs_t
* 
ªq
) {

251 
no_˛€xec_suµ‹t
;

252 
r
;

255 i‡(
no_˛€xec_suµ‹t
 == 0) {

256 #ifde‡
O_CLOEXEC


257 
r
 = 
	`›í
(
ªq
->
∑th
,Ñeq->
Êags
 | 
O_CLOEXEC
,Ñeq->
mode
);

258 i‡(
r
 >= 0)

259  
r
;

260 i‡(
î∫o
 !
EINVAL
)

261  
r
;

262 
no_˛€xec_suµ‹t
 = 1;

266 i‡(
ªq
->
cb
 !
NULL
)

267 
	`uv_rwlock_rdlock
(&
ªq
->
lo›
->
˛€xec_lock
);

269 
r
 = 
	`›í
(
ªq
->
∑th
,Ñeq->
Êags
,Ñeq->
mode
);

274 i‡(
r
 >0 && 
	`uv__˛€xec
(r, 1) != 0) {

275 
r
 = 
	`uv__˛o£
(r);

276 i‡(
r
 != 0)

277 
	`ab‹t
();

278 
r
 = -1;

281 i‡(
ªq
->
cb
 !
NULL
)

282 
	`uv_rwlock_rdu∆ock
(&
ªq
->
lo›
->
˛€xec_lock
);

284  
r
;

285 
	}
}

288 
ssize_t
 
	$uv__fs_ªad
(
uv_fs_t
* 
ªq
) {

289 #i‡
	`deföed
(
__löux__
)

290 
no_¥ódv
;

292 
ssize_t
 
ªsu…
;

294 #i‡
	`deföed
(
_AIX
)

295 
°©
 
buf
;

296 if(
	`f°©
(
ªq
->
fûe
, &
buf
))

298 if(
	`S_ISDIR
(
buf
.
°_mode
)) {

299 
î∫o
 = 
EISDIR
;

303 i‡(
ªq
->
off
 < 0) {

304 i‡(
ªq
->
nbufs
 == 1)

305 
ªsu…
 = 
	`ªad
(
ªq
->
fûe
,Ñeq->
bufs
[0].
ba£
,Ñeq->bufs[0].
Àn
);

307 
ªsu…
 = 
	`ªadv
(
ªq
->
fûe
, (
iovec
*Ëªq->
bufs
,Ñeq->
nbufs
);

309 i‡(
ªq
->
nbufs
 == 1) {

310 
ªsu…
 = 
	`¥ód
(
ªq
->
fûe
,Ñeq->
bufs
[0].
ba£
,Ñeq->bufs[0].
Àn
,Ñeq->
off
);

311 
d⁄e
;

314 #i‡
HAVE_PREADV


315 
ªsu…
 = 
	`¥ódv
(
ªq
->
fûe
, (
iovec
*Ëªq->
bufs
,Ñeq->
nbufs
,Ñeq->
off
);

317 #i‡
	`deföed
(
__löux__
)

318 i‡(
no_¥ódv
Ë
ªåy
:

321 
off_t
 
ƒód
;

322 
size_t
 
ödex
;

324 
ƒód
 = 0;

325 
ödex
 = 0;

326 
ªsu…
 = 1;

328 i‡(
ªq
->
bufs
[
ödex
].
Àn
 > 0) {

329 
ªsu…
 = 
	`¥ód
(
ªq
->
fûe
,

330 
ªq
->
bufs
[
ödex
].
ba£
,

331 
ªq
->
bufs
[
ödex
].
Àn
,

332 
ªq
->
off
 + 
ƒód
);

333 i‡(
ªsu…
 > 0)

334 
ƒód
 +
ªsu…
;

336 
ödex
++;

337 } 
ödex
 < 
ªq
->
nbufs
 && 
ªsu…
 > 0);

338 i‡(
ƒód
 > 0)

339 
ªsu…
 = 
ƒód
;

341 #i‡
	`deföed
(
__löux__
)

343 
ªsu…
 = 
	`uv__¥ódv
(
ªq
->
fûe
,

344 (
iovec
*)
ªq
->
bufs
,

345 
ªq
->
nbufs
,

346 
ªq
->
off
);

347 i‡(
ªsu…
 =-1 && 
î∫o
 =
ENOSYS
) {

348 
no_¥ódv
 = 1;

349 
ªåy
;

356 
d⁄e
:

357  
ªsu…
;

358 
	}
}

361 #i‡
deföed
(
__APPLE__
Ë&& !deföed(
MAC_OS_X_VERSION_10_8
)

362 
	#UV_CONST_DIRENT
 
uv__dúít_t


	)

364 
	#UV_CONST_DIRENT
 c⁄° 
uv__dúít_t


	)

368 
	$uv__fs_sˇndú_fûãr
(
UV_CONST_DIRENT
* 
dít
) {

369  
	`°rcmp
(
dít
->
d_«me
, ".") != 0 && strcmp(dent->d_name, "..") != 0;

370 
	}
}

373 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

374 
uv__dúít_t
* 
	$uv__fs_sˇndú_c›y_íåy
(
UV_CONST_DIRENT
* 
dít
) {

375 
uv__dúít_t
* 
ít
 = (uv__dúít_t*Ë
	`mÆloc
((uv__dirent_t));

376 
	`mem˝y
(
ít
, 
dít
, (
uv__dúít_t
));

377  
ít
;

378 
	}
}

381 
	$uv__fs_sˇndú_s‹t
(c⁄° * 
a
, c⁄° * 
b
) {

382  
	`°rcmp
((*(
uv__dúít_t
**)
a
)->
d_«me
, (*(uv__dúít_t**)
b
)->d_name);

383 
	}
}

385 
	$uv__fs_sˇndú_s‹t
(
UV_CONST_DIRENT
** 
a
, UV_CONST_DIRENT** 
b
) {

386  
	`°rcmp
((*
a
)->
d_«me
, (*
b
)->d_name);

387 
	}
}

391 
ssize_t
 
	$uv__fs_sˇndú
(
uv_fs_t
* 
ªq
) {

392 
uv__dúít_t
 **
díts
 = 
NULL
;

393 
˙t
 = 0;

394 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

395 
DIR
* 
dú
 = 
NULL
;

396 
uv__dúít_t
* 
dít
 = 
NULL
;

397 
idx
 = 0;

399 
dú
 = 
	`›ídú
(
ªq
->
∑th
);

400 i‡(
dú
 =
NULL
) {

401 
˙t
 = -1;

402 
îr‹
;

405 (
dít
 = 
	`ªaddú
(
dú
)Ë!
NULL
) {

406 i‡(
	`uv__fs_sˇndú_fûãr
(
dít
))

407 
˙t
++;

411 
díts
 = (
uv__dúít_t
**Ë
	`mÆloc
( (uv__dúít_t*Ë* 
˙t
);

413 i‡(
˙t
 > 0 && 
díts
 =
NULL
) {

414 
	`˛o£dú
(
dú
);

415 
˙t
 = -1;

416 
îr‹
;

419 
	`ªwöddú
(
dú
);

421 (
dít
 = 
	`ªaddú
(
dú
)Ë!
NULL
) {

422 i‡(
	`uv__fs_sˇndú_fûãr
(
dít
))

423 
díts
[
idx
++] = 
	`uv__fs_sˇndú_c›y_íåy
(
dít
);

426 
	`˛o£dú
(
dú
);

428 
	`qs‹t
 (
díts
, 
˙t
,  (
uv__dúít_t
*), 
uv__fs_sˇndú_s‹t
);

429 
îr‹
:

431 
˙t
 = 
	`sˇndú
(
ªq
->
∑th
, &
díts
, 
uv__fs_sˇndú_fûãr
, 
uv__fs_sˇndú_s‹t
);

435 
ªq
->
nbufs
 = 0;

437 i‡(
˙t
 == 0) {

439 i‡(
díts
 !
NULL
) {

440 
	`‰ì
(
díts
);

441 
díts
 = 
NULL
;

444 i‡(
˙t
 == -1)

445  
˙t
;

447 
ªq
->
±r
 = 
díts
;

449  
˙t
;

450 
	}
}

453 
ssize_t
 
	$uv__fs_utime
(
uv_fs_t
* 
ªq
) {

454 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

457 
utimbuf
 
buf
;

458 
buf
.
a˘ime
 = 
ªq
->
©ime
;

459 
buf
.
modtime
 = 
ªq
->
mtime
;

460  
	`utime
(
ªq
->
∑th
, &
buf
);

462 
	}
}

465 
ssize_t
 
	$uv__fs_wrôe
(
uv_fs_t
* 
ªq
) {

466 #i‡
	`deföed
(
__löux__
)

467 
no_pwrôev
;

469 
ssize_t
 
r
;

475 #i‡
	`deföed
(
__APPLE__
)

476 
±hªad_muãx_t
 
lock
 = 
PTHREAD_MUTEX_INITIALIZER
;

478 i‡(
	`±hªad_muãx_lock
(&
lock
))

479 
	`ab‹t
();

482 i‡(
ªq
->
off
 < 0) {

483 i‡(
ªq
->
nbufs
 == 1)

484 
r
 = 
	`wrôe
(
ªq
->
fûe
,Ñeq->
bufs
[0].
ba£
,Ñeq->bufs[0].
Àn
);

486 
r
 = 
	`wrôev
(
ªq
->
fûe
, (
iovec
*Ëªq->
bufs
,Ñeq->
nbufs
);

488 i‡(
ªq
->
nbufs
 == 1) {

489 
r
 = 
	`pwrôe
(
ªq
->
fûe
,Ñeq->
bufs
[0].
ba£
,Ñeq->bufs[0].
Àn
,Ñeq->
off
);

490 
d⁄e
;

492 #i‡
HAVE_PREADV


493 
r
 = 
	`pwrôev
(
ªq
->
fûe
, (
iovec
*Ëªq->
bufs
,Ñeq->
nbufs
,Ñeq->
off
);

495 #i‡
	`deföed
(
__löux__
)

496 i‡(
no_pwrôev
Ë
ªåy
:

499 
off_t
 
wrôãn
;

500 
size_t
 
ödex
;

502 
wrôãn
 = 0;

503 
ödex
 = 0;

504 
r
 = 0;

506 i‡(
ªq
->
bufs
[
ödex
].
Àn
 > 0) {

507 
r
 = 
	`pwrôe
(
ªq
->
fûe
,

508 
ªq
->
bufs
[
ödex
].
ba£
,

509 
ªq
->
bufs
[
ödex
].
Àn
,

510 
ªq
->
off
 + 
wrôãn
);

511 i‡(
r
 > 0)

512 
wrôãn
 +
r
;

514 
ödex
++;

515 } 
ödex
 < 
ªq
->
nbufs
 && 
r
 >= 0);

516 i‡(
wrôãn
 > 0)

517 
r
 = 
wrôãn
;

519 #i‡
	`deföed
(
__löux__
)

521 
r
 = 
	`uv__pwrôev
(
ªq
->
fûe
,

522 (
iovec
*Ë
ªq
->
bufs
,

523 
ªq
->
nbufs
,

524 
ªq
->
off
);

525 i‡(
r
 =-1 && 
î∫o
 =
ENOSYS
) {

526 
no_pwrôev
 = 1;

527 
ªåy
;

534 
d⁄e
:

535 #i‡
	`deföed
(
__APPLE__
)

536 i‡(
	`±hªad_muãx_u∆ock
(&
lock
))

537 
	`ab‹t
();

540  
r
;

541 
	}
}

543 
	$uv__to_°©
(
°©
* 
§c
, 
uv_°©_t
* 
d°
) {

544 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

545 
d°
->
°_dev
 = 
§c
->st_dev;

547 
d°
->
°_mode
 = 
§c
->st_mode;

548 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

549 
d°
->
°_∆ök
 = 
§c
->st_nlink;

550 
d°
->
°_uid
 = 
§c
->st_uid;

551 
d°
->
°_gid
 = 
§c
->st_gid;

552 
d°
->
°_rdev
 = 
§c
->st_rdev;

553 
d°
->
°_öo
 = 
§c
->st_ino;

555 
d°
->
°_size
 = 
§c
->st_size;

556 
d°
->
°_blksize
 = 
§c
->st_blksize;

557 
d°
->
°_blocks
 = 
§c
->st_blocks;

559 #i‡
	`deföed
(
__APPLE__
)

560 
d°
->
°_©im
.
tv_£c
 = 
§c
->
°_©ime•ec
.tv_sec;

561 
d°
->
°_©im
.
tv_n£c
 = 
§c
->
°_©ime•ec
.tv_nsec;

562 
d°
->
°_mtim
.
tv_£c
 = 
§c
->
°_mtime•ec
.tv_sec;

563 
d°
->
°_mtim
.
tv_n£c
 = 
§c
->
°_mtime•ec
.tv_nsec;

564 
d°
->
°_˘im
.
tv_£c
 = 
§c
->
°_˘ime•ec
.tv_sec;

565 
d°
->
°_˘im
.
tv_n£c
 = 
§c
->
°_˘ime•ec
.tv_nsec;

566 
d°
->
°_búthtim
.
tv_£c
 = 
§c
->
°_búthtime•ec
.tv_sec;

567 
d°
->
°_búthtim
.
tv_n£c
 = 
§c
->
°_búthtime•ec
.tv_nsec;

568 
d°
->
°_Êags
 = 
§c
->st_flags;

569 
d°
->
°_gí
 = 
§c
->st_gen;

570 #ñi‡
	`deföed
(
__ANDROID__
)

571 
d°
->
°_©im
.
tv_£c
 = 
§c
->
°_©ime
;

572 
d°
->
°_©im
.
tv_n£c
 = 
§c
->
°_©imí£c
;

573 
d°
->
°_mtim
.
tv_£c
 = 
§c
->
°_mtime
;

574 
d°
->
°_mtim
.
tv_n£c
 = 
§c
->
°_mtimí£c
;

575 
d°
->
°_˘im
.
tv_£c
 = 
§c
->
°_˘ime
;

576 
d°
->
°_˘im
.
tv_n£c
 = 
§c
->
°_˘imí£c
;

577 
d°
->
°_búthtim
.
tv_£c
 = 
§c
->
°_˘ime
;

578 
d°
->
°_búthtim
.
tv_n£c
 = 
§c
->
°_˘imí£c
;

579 
d°
->
°_Êags
 = 0;

580 
d°
->
°_gí
 = 0;

581 #ñi‡!
	`deföed
(
_AIX
) && ( \

582 
	`deföed
(
_GNU_SOURCE
) || \

583 
	`deföed
(
_BSD_SOURCE
) || \

584 
	`deföed
(
_SVID_SOURCE
) || \

585 
	`deföed
(
_XOPEN_SOURCE
) || \

586 
	`deföed
(
_DEFAULT_SOURCE
))

587 
d°
->
°_©im
.
tv_£c
 = 
§c
->st_atim.tv_sec;

588 
d°
->
°_©im
.
tv_n£c
 = 
§c
->st_atim.tv_nsec;

589 
d°
->
°_mtim
.
tv_£c
 = 
§c
->st_mtim.tv_sec;

590 
d°
->
°_mtim
.
tv_n£c
 = 
§c
->st_mtim.tv_nsec;

591 
d°
->
°_˘im
.
tv_£c
 = 
§c
->st_ctim.tv_sec;

592 
d°
->
°_˘im
.
tv_n£c
 = 
§c
->st_ctim.tv_nsec;

593 #i‡
	`deföed
(
__Døg⁄Fly__
) || \

594 
	`deföed
(
__FªeBSD__
) || \

595 
	`deföed
(
__O≥nBSD__
) || \

596 
	`deföed
(
__NëBSD__
)

597 
d°
->
°_búthtim
.
tv_£c
 = 
§c
->st_birthtim.tv_sec;

598 
d°
->
°_búthtim
.
tv_n£c
 = 
§c
->st_birthtim.tv_nsec;

599 
d°
->
°_Êags
 = 
§c
->st_flags;

600 
d°
->
°_gí
 = 
§c
->st_gen;

602 
d°
->
°_búthtim
.
tv_£c
 = 
§c
->
°_˘im
.tv_sec;

603 
d°
->
°_búthtim
.
tv_n£c
 = 
§c
->
°_˘im
.tv_nsec;

604 
d°
->
°_Êags
 = 0;

605 
d°
->
°_gí
 = 0;

608 
d°
->
°_©im
.
tv_£c
 = 
§c
->
°_©ime
;

609 
d°
->
°_©im
.
tv_n£c
 = 0;

610 
d°
->
°_mtim
.
tv_£c
 = 
§c
->
°_mtime
;

611 
d°
->
°_mtim
.
tv_n£c
 = 0;

612 
d°
->
°_˘im
.
tv_£c
 = 
§c
->
°_˘ime
;

613 
d°
->
°_˘im
.
tv_n£c
 = 0;

614 
d°
->
°_búthtim
.
tv_£c
 = 
§c
->
°_˘ime
;

615 
d°
->
°_búthtim
.
tv_n£c
 = 0;

616 
d°
->
°_Êags
 = 0;

617 
d°
->
°_gí
 = 0;

619 
	}
}

622 
	$uv__fs_°©
(c⁄° *
∑th
, 
uv_°©_t
 *
buf
) {

623 
°©
 
pbuf
;

624 
ªt
;

626 
ªt
 = 
	`°©
(
∑th
, &
pbuf
);

627 i‡(
ªt
 == 0)

628 
	`uv__to_°©
(&
pbuf
, 
buf
);

630  
ªt
;

631 
	}
}

634 
	$uv__fs_f°©
(
fd
, 
uv_°©_t
 *
buf
) {

635 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

638 
°©
 
pbuf
;

639 
ªt
;

641 
ªt
 = 
	`f°©
(
fd
, &
pbuf
);

642 i‡(
ªt
 == 0)

643 
	`uv__to_°©
(&
pbuf
, 
buf
);

645  
ªt
;

647 
	}
}

650 
	$ssize_t
 (*
	tuv__fs_buf_ôî_¥o˚ss‹
)(
	tuv_fs_t
* 
	tªq
);

651 
ssize_t
 
	$uv__fs_buf_ôî
(
uv_fs_t
* 
ªq
, 
uv__fs_buf_ôî_¥o˚ss‹
 
¥o˚ss
) {

652 
iovmax
;

653 
nbufs
;

654 
uv_buf_t
* 
bufs
;

655 
ssize_t
 
tŸÆ
;

656 
ssize_t
 
ªsu…
;

658 
iovmax
 = 
	`uv__gëiovmax
();

659 
nbufs
 = 
ªq
->nbufs;

660 
bufs
 = 
ªq
->bufs;

661 
tŸÆ
 = 0;

663 
nbufs
 > 0) {

664 
ªq
->
nbufs
 =Çbufs;

665 i‡(
ªq
->
nbufs
 > 
iovmax
)

666 
ªq
->
nbufs
 = 
iovmax
;

668 
ªsu…
 = 
	`¥o˚ss
(
ªq
);

669 i‡(
ªsu…
 <= 0) {

670 i‡(
tŸÆ
 == 0)

671 
tŸÆ
 = 
ªsu…
;

675 i‡(
ªq
->
off
 >= 0)

676 
ªq
->
off
 +
ªsu…
;

678 
ªq
->
bufs
 +ªq->
nbufs
;

679 
nbufs
 -
ªq
->nbufs;

680 
tŸÆ
 +
ªsu…
;

683 i‡(
î∫o
 =
EINTR
 && 
tŸÆ
 == -1)

684  
tŸÆ
;

686 i‡(
bufs
 !
ªq
->
bufsml
)

687 
	`uv__‰ì
(
bufs
);

689 
ªq
->
bufs
 = 
NULL
;

690 
ªq
->
nbufs
 = 0;

692  
tŸÆ
;

693 
	}
}

696 
	$uv__fs_w‹k
(
uv__w‹k
* 
w
) {

697 
ªåy_⁄_eöå
;

698 
uv_fs_t
* 
ªq
;

699 
ssize_t
 
r
;

701 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_fs_t
, 
w‹k_ªq
);

702 
ªåy_⁄_eöå
 = !(
ªq
->
fs_ty≥
 =
UV_FS_CLOSE
);

705 
î∫o
 = 0;

707 
	#X
(
ty≥
, 
a˘i⁄
) \

708 
UV_FS_
 ## 
ty≥
: \

709 
r
 = 
a˘i⁄
; \

710 ;

	)

712 
ªq
->
fs_ty≥
) {

713 
	`X
(
CLOSE
, 
	`˛o£
(
ªq
->
fûe
));

714 
	`X
(
FDATASYNC
, 
	`uv__fs_fd©async
(
ªq
));

715 
	`X
(
FSTAT
, 
	`uv__fs_f°©
(
ªq
->
fûe
, &ªq->
°©buf
));

716 
	`X
(
FSYNC
, 
	`fsync
(
ªq
->
fûe
));

717 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

718 
	`X
(
FTRUNCATE
, 
	`·runˇã
(
ªq
->
fûe
,Ñeq->
off
));

720 
	`X
(
FUTIME
, 
	`uv__fs_futime
(
ªq
));

721 
	`X
(
MKDIR
, 
	`mkdú
(
ªq
->
∑th
,Ñeq->
mode
));

722 
	`X
(
OPEN
, 
	`uv__fs_›í
(
ªq
));

723 
	`X
(
READ
, 
	`uv__fs_buf_ôî
(
ªq
, 
uv__fs_ªad
));

724 
	`X
(
SCANDIR
, 
	`uv__fs_sˇndú
(
ªq
));

725 
	`X
(
RENAME
, 
	`ª«me
(
ªq
->
∑th
,Ñeq->
√w_∑th
));

726 
	`X
(
RMDIR
, 
	`rmdú
(
ªq
->
∑th
));

727 
	`X
(
STAT
, 
	`uv__fs_°©
(
ªq
->
∑th
, &ªq->
°©buf
));

728 
	`X
(
UNLINK
, 
	`u∆ök
(
ªq
->
∑th
));

729 
	`X
(
UTIME
, 
	`uv__fs_utime
(
ªq
));

730 
	`X
(
WRITE
, 
	`uv__fs_buf_ôî
(
ªq
, 
uv__fs_wrôe
));

731 : 
	`ab‹t
();

733 #unde‡
X


734 } 
r
 =-1 && 
î∫o
 =
EINTR
 && 
ªåy_⁄_eöå
);

736 i‡(
r
 == -1)

737 
ªq
->
ªsu…
 = -
î∫o
;

739 
ªq
->
ªsu…
 = 
r
;

741 i‡(
r
 =0 && (
ªq
->
fs_ty≥
 =
UV_FS_STAT
 ||

742 
ªq
->
fs_ty≥
 =
UV_FS_FSTAT
 ||

743 
ªq
->
fs_ty≥
 =
UV_FS_LSTAT
)) {

744 
ªq
->
±r
 = &ªq->
°©buf
;

746 
	}
}

749 
	$uv__fs_d⁄e
(
uv__w‹k
* 
w
, 
°©us
) {

750 
uv_fs_t
* 
ªq
;

752 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_fs_t
, 
w‹k_ªq
);

753 
	`uv__ªq_uƒegi°î
(
ªq
->
lo›
,Ñeq);

755 i‡(
°©us
 =-
ECANCELED
) {

756 
	`as£π
(
ªq
->
ªsu…
 == 0);

757 
ªq
->
ªsu…
 = -
ECANCELED
;

760 
ªq
->
	`cb
(req);

761 
	}
}

764 
	$uv_fs_˛o£
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, 
uv_fûe
 
fûe
, 
uv_fs_cb
 
cb
) {

765 
	`INIT
(
CLOSE
);

766 
ªq
->
fûe
 = file;

767 
POST
;

768 
	}
}

771 
	$uv_fs_fd©async
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, 
uv_fûe
 
fûe
, 
uv_fs_cb
 
cb
) {

772 
	`INIT
(
FDATASYNC
);

773 
ªq
->
fûe
 = file;

774 
POST
;

775 
	}
}

778 
	$uv_fs_f°©
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, 
uv_fûe
 
fûe
, 
uv_fs_cb
 
cb
) {

779 
	`INIT
(
FSTAT
);

780 
ªq
->
fûe
 = file;

781 
POST
;

782 
	}
}

785 
	$uv_fs_fsync
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, 
uv_fûe
 
fûe
, 
uv_fs_cb
 
cb
) {

786 
	`INIT
(
FSYNC
);

787 
ªq
->
fûe
 = file;

788 
POST
;

789 
	}
}

792 
	$uv_fs_·runˇã
(
uv_lo›_t
* 
lo›
,

793 
uv_fs_t
* 
ªq
,

794 
uv_fûe
 
fûe
,

795 
öt64_t
 
off
,

796 
uv_fs_cb
 
cb
) {

797 
	`INIT
(
FTRUNCATE
);

798 
ªq
->
fûe
 = file;

799 
ªq
->
off
 = off;

800 
POST
;

801 
	}
}

804 
	$uv_fs_futime
(
uv_lo›_t
* 
lo›
,

805 
uv_fs_t
* 
ªq
,

806 
uv_fûe
 
fûe
,

807 
©ime
,

808 
mtime
,

809 
uv_fs_cb
 
cb
) {

810 
	`INIT
(
FUTIME
);

811 
ªq
->
fûe
 = file;

812 
ªq
->
©ime
 =átime;

813 
ªq
->
mtime
 = mtime;

814 
POST
;

815 
	}
}

818 
	$uv_fs_mkdú
(
uv_lo›_t
* 
lo›
,

819 
uv_fs_t
* 
ªq
,

820 c⁄° * 
∑th
,

821 
mode
,

822 
uv_fs_cb
 
cb
) {

823 
	`INIT
(
MKDIR
);

824 
PATH
;

825 
ªq
->
mode
 = mode;

826 
POST
;

827 
	}
}

830 
	$uv_fs_›í
(
uv_lo›_t
* 
lo›
,

831 
uv_fs_t
* 
ªq
,

832 c⁄° * 
∑th
,

833 
Êags
,

834 
mode
,

835 
uv_fs_cb
 
cb
) {

836 
	`INIT
(
OPEN
);

837 
PATH
;

838 
ªq
->
Êags
 = flags;

839 
ªq
->
mode
 = mode;

840 
POST
;

841 
	}
}

844 
	$uv_fs_ªad
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
,

845 
uv_fûe
 
fûe
,

846 c⁄° 
uv_buf_t
 
bufs
[],

847 
nbufs
,

848 
öt64_t
 
off
,

849 
uv_fs_cb
 
cb
) {

850 i‡(
bufs
 =
NULL
 || 
nbufs
 == 0)

851  -
EINVAL
;

853 
	`INIT
(
READ
);

854 
ªq
->
fûe
 = file;

856 
ªq
->
nbufs
 =Çbufs;

857 
ªq
->
bufs
 =Ñeq->
bufsml
;

858 i‡(
nbufs
 > 
	`ARRAY_SIZE
(
ªq
->
bufsml
))

859 
ªq
->
bufs
 = 
	`uv__mÆloc
(
nbufs
 * (*bufs));

861 i‡(
ªq
->
bufs
 =
NULL
) {

862 i‡(
cb
 !
NULL
)

863 
	`uv__ªq_uƒegi°î
(
lo›
, 
ªq
);

864  -
ENOMEM
;

867 
	`mem˝y
(
ªq
->
bufs
, bufs, 
nbufs
 * (*bufs));

869 
ªq
->
off
 = off;

870 
POST
;

871 
	}
}

874 
	$uv_fs_sˇndú
(
uv_lo›_t
* 
lo›
,

875 
uv_fs_t
* 
ªq
,

876 c⁄° * 
∑th
,

877 
Êags
,

878 
uv_fs_cb
 
cb
) {

879 
	`INIT
(
SCANDIR
);

880 
PATH
;

881 
ªq
->
Êags
 = flags;

882 
POST
;

883 
	}
}

886 
	$uv_fs_ª«me
(
uv_lo›_t
* 
lo›
,

887 
uv_fs_t
* 
ªq
,

888 c⁄° * 
∑th
,

889 c⁄° * 
√w_∑th
,

890 
uv_fs_cb
 
cb
) {

891 
	`INIT
(
RENAME
);

892 
PATH2
;

893 
POST
;

894 
	}
}

897 
	$uv_fs_rmdú
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, c⁄° * 
∑th
, 
uv_fs_cb
 
cb
) {

898 
	`INIT
(
RMDIR
);

899 
PATH
;

900 
POST
;

901 
	}
}

904 
	$uv_fs_°©
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, c⁄° * 
∑th
, 
uv_fs_cb
 
cb
) {

905 
	`INIT
(
STAT
);

906 
PATH
;

907 
POST
;

908 
	}
}

911 
	$uv_fs_u∆ök
(
uv_lo›_t
* 
lo›
, 
uv_fs_t
* 
ªq
, c⁄° * 
∑th
, 
uv_fs_cb
 
cb
) {

912 
	`INIT
(
UNLINK
);

913 
PATH
;

914 
POST
;

915 
	}
}

918 
	$uv_fs_utime
(
uv_lo›_t
* 
lo›
,

919 
uv_fs_t
* 
ªq
,

920 c⁄° * 
∑th
,

921 
©ime
,

922 
mtime
,

923 
uv_fs_cb
 
cb
) {

924 
	`INIT
(
UTIME
);

925 
PATH
;

926 
ªq
->
©ime
 =átime;

927 
ªq
->
mtime
 = mtime;

928 
POST
;

929 
	}
}

932 
	$uv_fs_wrôe
(
uv_lo›_t
* 
lo›
,

933 
uv_fs_t
* 
ªq
,

934 
uv_fûe
 
fûe
,

935 c⁄° 
uv_buf_t
 
bufs
[],

936 
nbufs
,

937 
öt64_t
 
off
,

938 
uv_fs_cb
 
cb
) {

939 i‡(
bufs
 =
NULL
 || 
nbufs
 == 0)

940  -
EINVAL
;

942 
	`INIT
(
WRITE
);

943 
ªq
->
fûe
 = file;

945 
ªq
->
nbufs
 =Çbufs;

946 
ªq
->
bufs
 =Ñeq->
bufsml
;

947 i‡(
nbufs
 > 
	`ARRAY_SIZE
(
ªq
->
bufsml
))

948 
ªq
->
bufs
 = 
	`uv__mÆloc
(
nbufs
 * (*bufs));

950 i‡(
ªq
->
bufs
 =
NULL
) {

951 i‡(
cb
 !
NULL
)

952 
	`uv__ªq_uƒegi°î
(
lo›
, 
ªq
);

953  -
ENOMEM
;

956 
	`mem˝y
(
ªq
->
bufs
, bufs, 
nbufs
 * (*bufs));

958 
ªq
->
off
 = off;

959 
POST
;

960 
	}
}

963 
	$uv_fs_ªq_˛ónup
(
uv_fs_t
* 
ªq
) {

969 i‡(
ªq
->
∑th
 !
NULL
 && (ªq->
cb
 !NULL ||Ñeq->
fs_ty≥
 =
UV_FS_MKDTEMP
))

970 
	`uv__‰ì
((*Ë
ªq
->
∑th
);

972 
ªq
->
∑th
 = 
NULL
;

973 
ªq
->
√w_∑th
 = 
NULL
;

975 i‡(
ªq
->
fs_ty≥
 =
UV_FS_SCANDIR
 &&Ñeq->
±r
 !
NULL
)

976 
	`uv__fs_sˇndú_˛ónup
(
ªq
);

978 i‡(
ªq
->
±r
 !&ªq->
°©buf
)

979 
	`uv__‰ì
(
ªq
->
±r
);

980 
ªq
->
±r
 = 
NULL
;

981 
	}
}

	@deps/libtuv/src/unix/fsevents.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 #i‡
TARGET_OS_IPHONE


28 
	$uv__f£víts_öô
(
uv_fs_evít_t
* 
h™dÀ
) {

30 
	}
}

33 
	$uv__f£víts_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

35 
	}
}

38 
	$uv__f£víts_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

39 
	}
}

43 
	~<dlf˙.h
>

44 
	~<as£π.h
>

45 
	~<°dlib.h
>

46 
	~<±hªad.h
>

48 
	~<C‹eFound©i⁄/CFRunLo›.h
>

49 
	~<C‹eSîvi˚s/C‹eSîvi˚s.h
>

54 
	#kFSEvítsModifõd
 (
kFSEvítSåómEvítFœgIãmFödîInfoMod
 | \

55 
kFSEvítSåómEvítFœgIãmModifõd
 | \

56 
kFSEvítSåómEvítFœgIãmInodeMëaMod
 | \

57 
kFSEvítSåómEvítFœgIãmCh™geOw√r
 | \

58 
kFSEvítSåómEvítFœgIãmX©åMod
)

	)

60 
	#kFSEvítsRíamed
 (
kFSEvítSåómEvítFœgIãmCª©ed
 | \

61 
kFSEvítSåómEvítFœgIãmRemoved
 | \

62 
kFSEvítSåómEvítFœgIãmRíamed
)

	)

64 
	#kFSEvítsSy°em
 (
kFSEvítSåómEvítFœgU£rDr›≥d
 | \

65 
kFSEvítSåómEvítFœgKî√lDr›≥d
 | \

66 
kFSEvítSåómEvítFœgEvítIdsWøµed
 | \

67 
kFSEvítSåómEvítFœgHi°‹yD⁄e
 | \

68 
kFSEvítSåómEvítFœgMou¡
 | \

69 
kFSEvítSåómEvítFœgUnmou¡
 | \

70 
kFSEvítSåómEvítFœgRoŸCh™ged
)

	)

72 
uv__f£víts_evít_s
 
	tuv__f£víts_evít_t
;

73 
uv__cf_lo›_sig«l_s
 
	tuv__cf_lo›_sig«l_t
;

74 
uv__cf_lo›_°©e_s
 
	tuv__cf_lo›_°©e_t
;

76 
	euv__cf_lo›_sig«l_ty≥_e
 {

77 
	mkUVCFLo›Sig«lReguœr
,

78 
	mkUVCFLo›Sig«lClosög


80 
uv__cf_lo›_sig«l_ty≥_e
 
	tuv__cf_lo›_sig«l_ty≥_t
;

82 
	suv__cf_lo›_sig«l_s
 {

83 
QUEUE
 
	mmembî
;

84 
uv_fs_evít_t
* 
	mh™dÀ
;

85 
uv__cf_lo›_sig«l_ty≥_t
 
	mty≥
;

88 
	suv__f£víts_evít_s
 {

89 
QUEUE
 
	mmembî
;

90 
	mevíts
;

91 
	m∑th
[1];

94 
	suv__cf_lo›_°©e_s
 {

95 
CFRunLo›Ref
 
	mlo›
;

96 
CFRunLo›Sour˚Ref
 
	msig«l_sour˚
;

97 
	mf£vít_√ed_ªscheduÀ
;

98 
FSEvítSåómRef
 
	mf£vít_°ªam
;

99 
uv_£m_t
 
	mf£vít_£m
;

100 
uv_muãx_t
 
	mf£vít_muãx
;

101 * 
	mf£vít_h™dÀs
[2];

102 
	mf£vít_h™dÀ_cou¡
;

106 
uv__cf_lo›_cb
(* 
¨g
);

107 * 
uv__cf_lo›_ru¬î
(* 
¨g
);

108 
uv__cf_lo›_sig«l
(
uv_lo›_t
* 
lo›
,

109 
uv_fs_evít_t
* 
h™dÀ
,

110 
uv__cf_lo›_sig«l_ty≥_t
 
ty≥
);

113 
	$CFAºayRef
 (*
pCFAºayCª©e
)(
CFAŒoˇt‹Ref
,

115 
CFIndex
,

116 c⁄° 
CFAºayCÆlBacks
*);

117 (*
pCFRñó£
)(
CFTy≥Ref
);

118 (*
pCFRunLo›AddSour˚
)(
CFRunLo›Ref
,

119 
CFRunLo›Sour˚Ref
,

120 
CFSåögRef
);

121 
	$CFRunLo›Ref
 (*
pCFRunLo›GëCuºít
)();

122 (*
pCFRunLo›RemoveSour˚
)(
CFRunLo›Ref
,

123 
CFRunLo›Sour˚Ref
,

124 
CFSåögRef
);

125 (*
pCFRunLo›Run
)();

126 
	$CFRunLo›Sour˚Ref
 (*
pCFRunLo›Sour˚Cª©e
)(
CFAŒoˇt‹Ref
,

127 
CFIndex
,

128 
CFRunLo›Sour˚C⁄ãxt
*);

129 (*
pCFRunLo›Sour˚Sig«l
)(
CFRunLo›Sour˚Ref
);

130 (*
pCFRunLo›St›
)(
CFRunLo›Ref
);

131 (*
pCFRunLo›WakeUp
)(
CFRunLo›Ref
);

132 
	$CFSåögRef
 (*
pCFSåögCª©eWôhFûeSy°emRïª£¡©i⁄
)(

133 
CFAŒoˇt‹Ref
,

135 
	$CFSåögEncodög
 (*
pCFSåögGëSy°emEncodög
)();

136 
	`CFSåögRef
 (*
pkCFRunLo›DeÁu…Mode
);

137 
	$FSEvítSåómRef
 (*
pFSEvítSåómCª©e
)(
CFAŒoˇt‹Ref
,

138 
FSEvítSåómCÆlback
,

139 
FSEvítSåómC⁄ãxt
*,

140 
CFAºayRef
,

141 
FSEvítSåómEvítId
,

142 
CFTimeI¡îvÆ
,

143 
FSEvítSåómCª©eFœgs
);

144 (*
pFSEvítSåómFlushSync
)(
FSEvítSåómRef
);

145 (*
pFSEvítSåómInvÆid©e
)(
FSEvítSåómRef
);

146 (*
pFSEvítSåómRñó£
)(
FSEvítSåómRef
);

147 (*
pFSEvítSåómScheduÀWôhRunLo›
)(
FSEvítSåómRef
,

148 
CFRunLo›Ref
,

149 
CFSåögRef
);

150 
	$Boﬁón
 (*
pFSEvítSåómSèπ
)(
FSEvítSåómRef
);

151 (*
pFSEvítSåómSt›
)(
FSEvítSåómRef
);

153 
	#UV__FSEVENTS_PROCESS
(
h™dÀ
, 
block
) \

155 
QUEUE
 
evíts
; \

156 
QUEUE
* 
q
; \

157 
uv__f£víts_evít_t
* 
evít
; \

158 
îr
; \

159 
	`uv_muãx_lock
(&(
h™dÀ
)->
cf_muãx
); \

161 
	`QUEUE_MOVE
(&(
h™dÀ
)->
cf_evíts
, &
evíts
); \

163 
îr
 = (
h™dÀ
)->
cf_îr‹
; \

164 (
h™dÀ
)->
cf_îr‹
 = 0; \

165 
	`uv_muãx_u∆ock
(&(
h™dÀ
)->
cf_muãx
); \

167 !
	`QUEUE_EMPTY
(&
evíts
)) { \

168 
q
 = 
	`QUEUE_HEAD
(&
evíts
); \

169 
evít
 = 
	`QUEUE_DATA
(
q
, 
uv__f£víts_evít_t
, 
membî
); \

170 
	`QUEUE_REMOVE
(
q
); \

174 i‡(!
	`uv__is_˛osög
((
h™dÀ
)Ë&& 
	`uv__is_a˘ive
((handle))) \

175 
block
 \

177 
	`uv__‰ì
(
evít
); \

179 i‡(
îr
 !0 && !
	`uv__is_˛osög
((
h™dÀ
)Ë&& 
	`uv__is_a˘ive
((handle))) \

180 (
h™dÀ
)->
	`cb
((h™dÀ), 
NULL
, 0, 
îr
); \

181 
	}
} 0)

	)

185 
	$uv__f£víts_cb
(
uv_async_t
* 
cb
) {

186 
uv_fs_evít_t
* 
h™dÀ
;

188 
h™dÀ
 = 
cb
->
d©a
;

190 
	`UV__FSEVENTS_PROCESS
(
h™dÀ
, {

191 
h™dÀ
->
	`cb
(h™dÀ, 
evít
->
∑th
[0] ?Évít->∑th : 
NULL
,Évít->
evíts
, 0);

193 
	}
}

197 
	$uv__f£víts_push_evít
(
uv_fs_evít_t
* 
h™dÀ
,

198 
QUEUE
* 
evíts
,

199 
îr
) {

200 
	`as£π
(
evíts
 !
NULL
 || 
îr
 != 0);

201 
	`uv_muãx_lock
(&
h™dÀ
->
cf_muãx
);

204 i‡(
evíts
 !
NULL
)

205 
	`QUEUE_ADD
(&
h™dÀ
->
cf_evíts
, 
evíts
);

208 i‡(
îr
 != 0)

209 
h™dÀ
->
cf_îr‹
 = 
îr
;

210 
	`uv_muãx_u∆ock
(&
h™dÀ
->
cf_muãx
);

212 
	`uv_async_£nd
(
h™dÀ
->
cf_cb
);

213 
	}
}

217 
	$uv__f£víts_evít_cb
(
C⁄°FSEvítSåómRef
 
°ªamRef
,

218 * 
öfo
,

219 
size_t
 
numEvíts
,

220 * 
evítP©hs
,

221 c⁄° 
FSEvítSåómEvítFœgs
 
evítFœgs
[],

222 c⁄° 
FSEvítSåómEvítId
 
evítIds
[]) {

223 
size_t
 
i
;

224 
Àn
;

225 ** 
∑ths
;

226 * 
∑th
;

227 * 
pos
;

228 
uv_fs_evít_t
* 
h™dÀ
;

229 
QUEUE
* 
q
;

230 
uv_lo›_t
* 
lo›
;

231 
uv__cf_lo›_°©e_t
* 
°©e
;

232 
uv__f£víts_evít_t
* 
evít
;

233 
QUEUE
 
hód
;

235 
lo›
 = 
öfo
;

236 
°©e
 = 
lo›
->
cf_°©e
;

237 
	`as£π
(
°©e
 !
NULL
);

238 
∑ths
 = 
evítP©hs
;

241 
	`uv_muãx_lock
(&
°©e
->
f£vít_muãx
);

242 
	`QUEUE_FOREACH
(
q
, &
°©e
->
f£vít_h™dÀs
) {

243 
h™dÀ
 = 
	`QUEUE_DATA
(
q
, 
uv_fs_evít_t
, 
cf_membî
);

244 
	`QUEUE_INIT
(&
hód
);

247 
i
 = 0; i < 
numEvíts
; i++) {

249 i‡(
evítFœgs
[
i
] & 
kFSEvítsSy°em
)

252 
∑th
 = 
∑ths
[
i
];

253 
Àn
 = 
	`°æí
(
∑th
);

256 i‡(
	`°∫cmp
(
∑th
, 
h™dÀ
->
ªÆ∑th
, h™dÀ->
ªÆ∑th_Àn
) != 0)

259 i‡(
h™dÀ
->
ªÆ∑th_Àn
 > 1 || *h™dÀ->
ªÆ∑th
 != '/') {

260 
∑th
 +
h™dÀ
->
ªÆ∑th_Àn
;

261 
Àn
 -
h™dÀ
->
ªÆ∑th_Àn
;

264 i‡(*
∑th
 != '\0') {

265 
∑th
++;

266 
Àn
--;

270 #ifde‡
MAC_OS_X_VERSION_10_7


272 i‡(
Àn
 == 0)

277 i‡((
h™dÀ
->
cf_Êags
 & 
UV_FS_EVENT_RECURSIVE
Ë=0 && *
∑th
 != 0) {

278 
pos
 = 
	`°rchr
(
∑th
 + 1, '/');

279 i‡(
pos
 !
NULL
)

283 #i‚de‡
MAC_OS_X_VERSION_10_7


284 
∑th
 = "";

285 
Àn
 = 0;

288 
evít
 = 
	`uv__mÆloc
((*evítË+ 
Àn
);

289 i‡(
evít
 =
NULL
)

292 
	`mem£t
(
evít
, 0, (*event));

293 
	`mem˝y
(
evít
->
∑th
,Ö©h, 
Àn
 + 1);

295 i‡((
evítFœgs
[
i
] & 
kFSEvítsModifõd
) != 0 &&

296 (
evítFœgs
[
i
] & 
kFSEvítsRíamed
) == 0)

297 
evít
->
evíts
 = 
UV_CHANGE
;

299 
evít
->
evíts
 = 
UV_RENAME
;

301 
	`QUEUE_INSERT_TAIL
(&
hód
, &
evít
->
membî
);

304 i‡(!
	`QUEUE_EMPTY
(&
hód
))

305 
	`uv__f£víts_push_evít
(
h™dÀ
, &
hód
, 0);

307 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

308 
	}
}

312 
	$uv__f£víts_¸óã_°ªam
(
uv_lo›_t
* 
lo›
, 
CFAºayRef
 
∑ths
) {

313 
uv__cf_lo›_°©e_t
* 
°©e
;

314 
FSEvítSåómC⁄ãxt
 
˘x
;

315 
FSEvítSåómRef
 
ªf
;

316 
CFAbsﬁuãTime
 
œãncy
;

317 
FSEvítSåómCª©eFœgs
 
Êags
;

320 
˘x
.
vîsi⁄
 = 0;

321 
˘x
.
öfo
 = 
lo›
;

322 
˘x
.
ªèö
 = 
NULL
;

323 
˘x
.
ªÀa£
 = 
NULL
;

324 
˘x
.
c›yDes¸ùti⁄
 = 
NULL
;

326 
œãncy
 = 0.05;

340 
Êags
 = 
kFSEvítSåómCª©eFœgNoDe„r
 | 
kFSEvítSåómCª©eFœgFûeEvíts
;

348 
ªf
 = 
	`pFSEvítSåómCª©e
(
NULL
,

349 &
uv__f£víts_evít_cb
,

350 &
˘x
,

351 
∑ths
,

352 
kFSEvítSåómEvítIdSö˚Now
,

353 
œãncy
,

354 
Êags
);

355 
	`as£π
(
ªf
 !
NULL
);

357 
°©e
 = 
lo›
->
cf_°©e
;

358 
	`pFSEvítSåómScheduÀWôhRunLo›
(
ªf
,

359 
°©e
->
lo›
,

360 *
pkCFRunLo›DeÁu…Mode
);

361 i‡(!
	`pFSEvítSåómSèπ
(
ªf
)) {

362 
	`pFSEvítSåómInvÆid©e
(
ªf
);

363 
	`pFSEvítSåómRñó£
(
ªf
);

364  -
EMFILE
;

367 
°©e
->
f£vít_°ªam
 = 
ªf
;

369 
	}
}

373 
	$uv__f£víts_de°roy_°ªam
(
uv_lo›_t
* 
lo›
) {

374 
uv__cf_lo›_°©e_t
* 
°©e
;

376 
°©e
 = 
lo›
->
cf_°©e
;

378 i‡(
°©e
->
f£vít_°ªam
 =
NULL
)

382 
	`pFSEvítSåómFlushSync
(
°©e
->
f£vít_°ªam
);

385 
	`pFSEvítSåómSt›
(
°©e
->
f£vít_°ªam
);

388 
	`pFSEvítSåómInvÆid©e
(
°©e
->
f£vít_°ªam
);

389 
	`pFSEvítSåómRñó£
(
°©e
->
f£vít_°ªam
);

390 
°©e
->
f£vít_°ªam
 = 
NULL
;

391 
	}
}

395 
	$uv__f£víts_ªscheduÀ
(
uv_fs_evít_t
* 
h™dÀ
,

396 
uv__cf_lo›_sig«l_ty≥_t
 
ty≥
) {

397 
uv__cf_lo›_°©e_t
* 
°©e
;

398 
QUEUE
* 
q
;

399 
uv_fs_evít_t
* 
cuº
;

400 
CFAºayRef
 
cf_∑ths
;

401 
CFSåögRef
* 
∑ths
;

402 
i
;

403 
îr
;

404 
∑th_cou¡
;

406 
°©e
 = 
h™dÀ
->
lo›
->
cf_°©e
;

407 
∑ths
 = 
NULL
;

408 
cf_∑ths
 = 
NULL
;

409 
îr
 = 0;

411 
i
 = 0;

416 
	`uv_muãx_lock
(&
°©e
->
f£vít_muãx
);

417 i‡(
°©e
->
f£vít_√ed_ªscheduÀ
 == 0) {

418 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

419 
föÆ
;

421 
°©e
->
f£vít_√ed_ªscheduÀ
 = 0;

422 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

425 
	`uv__f£víts_de°roy_°ªam
(
h™dÀ
->
lo›
);

428 
îr
 = -
ENOMEM
;

431 
	`uv_muãx_lock
(&
°©e
->
f£vít_muãx
);

432 
∑th_cou¡
 = 
°©e
->
f£vít_h™dÀ_cou¡
;

433 i‡(
∑th_cou¡
 != 0) {

434 
∑ths
 = 
	`uv__mÆloc
((*∑thsË* 
∑th_cou¡
);

435 i‡(
∑ths
 =
NULL
) {

436 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

437 
föÆ
;

440 
q
 = &
°©e
->
f£vít_h™dÀs
;

441 ; 
i
 < 
∑th_cou¡
; i++) {

442 
q
 = 
	`QUEUE_NEXT
(q);

443 
	`as£π
(
q
 !&
°©e
->
f£vít_h™dÀs
);

444 
cuº
 = 
	`QUEUE_DATA
(
q
, 
uv_fs_evít_t
, 
cf_membî
);

446 
	`as£π
(
cuº
->
ªÆ∑th
 !
NULL
);

447 
∑ths
[
i
] =

448 
	`pCFSåögCª©eWôhFûeSy°emRïª£¡©i⁄
(
NULL
, 
cuº
->
ªÆ∑th
);

449 i‡(
∑ths
[
i
] =
NULL
) {

450 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

451 
föÆ
;

455 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

456 
îr
 = 0;

458 i‡(
∑th_cou¡
 != 0) {

460 
cf_∑ths
 = 
	`pCFAºayCª©e
(
NULL
, (c⁄° **Ë
∑ths
, 
∑th_cou¡
, NULL);

461 i‡(
cf_∑ths
 =
NULL
) {

462 
îr
 = -
ENOMEM
;

463 
föÆ
;

465 
îr
 = 
	`uv__f£víts_¸óã_°ªam
(
h™dÀ
->
lo›
, 
cf_∑ths
);

468 
föÆ
:

470 i‡(
îr
 != 0) {

471 i‡(
cf_∑ths
 =
NULL
) {

472 
i
 != 0)

473 
	`pCFRñó£
(
∑ths
[--
i
]);

474 
	`uv__‰ì
(
∑ths
);

477 
	`pCFRñó£
(
cf_∑ths
);

481 
	`uv_muãx_lock
(&
°©e
->
f£vít_muãx
);

482 
	`QUEUE_FOREACH
(
q
, &
°©e
->
f£vít_h™dÀs
) {

483 
cuº
 = 
	`QUEUE_DATA
(
q
, 
uv_fs_evít_t
, 
cf_membî
);

484 
	`uv__f£víts_push_evít
(
cuº
, 
NULL
, 
îr
);

486 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

495 i‡(
ty≥
 =
kUVCFLo›Sig«lClosög
)

496 
	`uv_£m_po°
(&
°©e
->
f£vít_£m
);

497 
	}
}

500 
	$uv__f£víts_globÆ_öô
() {

501 
±hªad_muãx_t
 
globÆ_öô_muãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

502 * 
c‹e_found©i⁄_h™dÀ
;

503 * 
c‹e_£rvi˚s_h™dÀ
;

504 
îr
;

506 
îr
 = 0;

507 
	`±hªad_muãx_lock
(&
globÆ_öô_muãx
);

508 i‡(
c‹e_found©i⁄_h™dÀ
 !
NULL
)

509 
out
;

516 
îr
 = -
ENOSYS
;

517 
c‹e_found©i⁄_h™dÀ
 = 
	`dl›í
("/System/Library/Frameworks/"

520 
RTLD_LAZY
 | 
RTLD_LOCAL
);

521 i‡(
c‹e_found©i⁄_h™dÀ
 =
NULL
)

522 
out
;

524 
c‹e_£rvi˚s_h™dÀ
 = 
	`dl›í
("/System/Library/Frameworks/"

527 
RTLD_LAZY
 | 
RTLD_LOCAL
);

528 i‡(
c‹e_£rvi˚s_h™dÀ
 =
NULL
)

529 
out
;

531 
îr
 = -
ENOENT
;

532 
	#V
(
h™dÀ
, 
symbﬁ
) \

534 *(**)(&
p
 ## 
symbﬁ
Ë
	`dlsym
((
h™dÀ
), #symbol); \

535 i‡(
p
 ## 
symbﬁ
 =
NULL
) \

536 
out
; \

538 0)

	)

539 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFAºayCª©e
);

540 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRñó£
);

541 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›AddSour˚
);

542 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›GëCuºít
);

543 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›RemoveSour˚
);

544 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›Run
);

545 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›Sour˚Cª©e
);

546 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›Sour˚Sig«l
);

547 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›St›
);

548 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFRunLo›WakeUp
);

549 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFSåögCª©eWôhFûeSy°emRïª£¡©i⁄
);

550 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
CFSåögGëSy°emEncodög
);

551 
	`V
(
c‹e_found©i⁄_h™dÀ
, 
kCFRunLo›DeÁu…Mode
);

552 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómCª©e
);

553 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómFlushSync
);

554 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómInvÆid©e
);

555 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómRñó£
);

556 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómScheduÀWôhRunLo›
);

557 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómSèπ
);

558 
	`V
(
c‹e_£rvi˚s_h™dÀ
, 
FSEvítSåómSt›
);

559 #unde‡
V


560 
îr
 = 0;

562 
out
:

563 i‡(
îr
 && 
c‹e_£rvi˚s_h™dÀ
 !
NULL
) {

564 
	`dl˛o£
(
c‹e_£rvi˚s_h™dÀ
);

565 
c‹e_£rvi˚s_h™dÀ
 = 
NULL
;

568 i‡(
îr
 && 
c‹e_found©i⁄_h™dÀ
 !
NULL
) {

569 
	`dl˛o£
(
c‹e_found©i⁄_h™dÀ
);

570 
c‹e_found©i⁄_h™dÀ
 = 
NULL
;

573 
	`±hªad_muãx_u∆ock
(&
globÆ_öô_muãx
);

574  
îr
;

575 
	}
}

579 
	$uv__f£víts_lo›_öô
(
uv_lo›_t
* 
lo›
) {

580 
CFRunLo›Sour˚C⁄ãxt
 
˘x
;

581 
uv__cf_lo›_°©e_t
* 
°©e
;

582 
±hªad_©å_t
 
©å_°‹age
;

583 
±hªad_©å_t
* 
©å
;

584 
îr
;

586 i‡(
lo›
->
cf_°©e
 !
NULL
)

589 
îr
 = 
	`uv__f£víts_globÆ_öô
();

590 i‡(
îr
)

591  
îr
;

593 
°©e
 = 
	`uv__ˇŒoc
(1, (*state));

594 i‡(
°©e
 =
NULL
)

595  -
ENOMEM
;

597 
îr
 = 
	`uv_muãx_öô
(&
lo›
->
cf_muãx
);

598 i‡(
îr
)

599 
Áû_muãx_öô
;

601 
îr
 = 
	`uv_£m_öô
(&
lo›
->
cf_£m
, 0);

602 i‡(
îr
)

603 
Áû_£m_öô
;

605 
	`QUEUE_INIT
(&
lo›
->
cf_sig«ls
);

607 
îr
 = 
	`uv_£m_öô
(&
°©e
->
f£vít_£m
, 0);

608 i‡(
îr
)

609 
Áû_f£vít_£m_öô
;

611 
îr
 = 
	`uv_muãx_öô
(&
°©e
->
f£vít_muãx
);

612 i‡(
îr
)

613 
Áû_f£vít_muãx_öô
;

615 
	`QUEUE_INIT
(&
°©e
->
f£vít_h™dÀs
);

616 
°©e
->
f£vít_√ed_ªscheduÀ
 = 0;

617 
°©e
->
f£vít_h™dÀ_cou¡
 = 0;

619 
	`mem£t
(&
˘x
, 0, (ctx));

620 
˘x
.
öfo
 = 
lo›
;

621 
˘x
.
≥rf‹m
 = 
uv__cf_lo›_cb
;

622 
°©e
->
sig«l_sour˚
 = 
	`pCFRunLo›Sour˚Cª©e
(
NULL
, 0, &
˘x
);

623 i‡(
°©e
->
sig«l_sour˚
 =
NULL
) {

624 
îr
 = -
ENOMEM
;

625 
Áû_sig«l_sour˚_¸óã
;

632 
©å
 = &
©å_°‹age
;

633 i‡(
	`±hªad_©å_öô
(
©å
))

634 
©å
 = 
NULL
;

636 i‡(
©å
 !
NULL
)

637 i‡(
	`±hªad_©å_£t°acksize
(
©å
, 4 * 
PTHREAD_STACK_MIN
))

638 
	`ab‹t
();

640 
lo›
->
cf_°©e
 = 
°©e
;

643 
îr
 = -
	`±hªad_¸óã
(&
lo›
->
cf_thªad
, 
©å
, 
uv__cf_lo›_ru¬î
,Üoop);

645 i‡(
©å
 !
NULL
)

646 
	`±hªad_©å_de°roy
(
©å
);

648 i‡(
îr
)

649 
Áû_thªad_¸óã
;

652 
	`uv_£m_waô
(&
lo›
->
cf_£m
);

655 
Áû_thªad_¸óã
:

656 
lo›
->
cf_°©e
 = 
NULL
;

658 
Áû_sig«l_sour˚_¸óã
:

659 
	`uv_muãx_de°roy
(&
°©e
->
f£vít_muãx
);

661 
Áû_f£vít_muãx_öô
:

662 
	`uv_£m_de°roy
(&
°©e
->
f£vít_£m
);

664 
Áû_f£vít_£m_öô
:

665 
	`uv_£m_de°roy
(&
lo›
->
cf_£m
);

667 
Áû_£m_öô
:

668 
	`uv_muãx_de°roy
(&
lo›
->
cf_muãx
);

670 
Áû_muãx_öô
:

671 
	`uv__‰ì
(
°©e
);

672  
îr
;

673 
	}
}

677 
	$uv__f£víts_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

678 
uv__cf_lo›_sig«l_t
* 
s
;

679 
uv__cf_lo›_°©e_t
* 
°©e
;

680 
QUEUE
* 
q
;

682 i‡(
lo›
->
cf_°©e
 =
NULL
)

685 i‡(
	`uv__cf_lo›_sig«l
(
lo›
, 
NULL
, 
kUVCFLo›Sig«lReguœr
) != 0)

686 
	`ab‹t
();

688 
	`uv_thªad_joö
(&
lo›
->
cf_thªad
);

689 
	`uv_£m_de°roy
(&
lo›
->
cf_£m
);

690 
	`uv_muãx_de°roy
(&
lo›
->
cf_muãx
);

693 !
	`QUEUE_EMPTY
(&
lo›
->
cf_sig«ls
)) {

694 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
cf_sig«ls
);

695 
s
 = 
	`QUEUE_DATA
(
q
, 
uv__cf_lo›_sig«l_t
, 
membî
);

696 
	`QUEUE_REMOVE
(
q
);

697 
	`uv__‰ì
(
s
);

701 
°©e
 = 
lo›
->
cf_°©e
;

702 
	`uv_£m_de°roy
(&
°©e
->
f£vít_£m
);

703 
	`uv_muãx_de°roy
(&
°©e
->
f£vít_muãx
);

704 
	`pCFRñó£
(
°©e
->
sig«l_sour˚
);

705 
	`uv__‰ì
(
°©e
);

706 
lo›
->
cf_°©e
 = 
NULL
;

707 
	}
}

711 * 
	$uv__cf_lo›_ru¬î
(* 
¨g
) {

712 
uv_lo›_t
* 
lo›
;

713 
uv__cf_lo›_°©e_t
* 
°©e
;

715 
lo›
 = 
¨g
;

716 
°©e
 = 
lo›
->
cf_°©e
;

717 
°©e
->
lo›
 = 
	`pCFRunLo›GëCuºít
();

719 
	`pCFRunLo›AddSour˚
(
°©e
->
lo›
,

720 
°©e
->
sig«l_sour˚
,

721 *
pkCFRunLo›DeÁu…Mode
);

723 
	`uv_£m_po°
(&
lo›
->
cf_£m
);

725 
	`pCFRunLo›Run
();

726 
	`pCFRunLo›RemoveSour˚
(
°©e
->
lo›
,

727 
°©e
->
sig«l_sour˚
,

728 *
pkCFRunLo›DeÁu…Mode
);

730  
NULL
;

731 
	}
}

735 
	$uv__cf_lo›_cb
(* 
¨g
) {

736 
uv_lo›_t
* 
lo›
;

737 
uv__cf_lo›_°©e_t
* 
°©e
;

738 
QUEUE
* 
ôem
;

739 
QUEUE
 
•lô_hód
;

740 
uv__cf_lo›_sig«l_t
* 
s
;

742 
lo›
 = 
¨g
;

743 
°©e
 = 
lo›
->
cf_°©e
;

745 
	`uv_muãx_lock
(&
lo›
->
cf_muãx
);

746 
	`QUEUE_MOVE
(&
lo›
->
cf_sig«ls
, &
•lô_hód
);

747 
	`uv_muãx_u∆ock
(&
lo›
->
cf_muãx
);

749 !
	`QUEUE_EMPTY
(&
•lô_hód
)) {

750 
ôem
 = 
	`QUEUE_HEAD
(&
•lô_hód
);

751 
	`QUEUE_REMOVE
(
ôem
);

753 
s
 = 
	`QUEUE_DATA
(
ôem
, 
uv__cf_lo›_sig«l_t
, 
membî
);

756 i‡(
s
->
h™dÀ
 =
NULL
)

757 
	`pCFRunLo›St›
(
°©e
->
lo›
);

759 
	`uv__f£víts_ªscheduÀ
(
s
->
h™dÀ
, s->
ty≥
);

761 
	`uv__‰ì
(
s
);

763 
	}
}

767 
	$uv__cf_lo›_sig«l
(
uv_lo›_t
* 
lo›
,

768 
uv_fs_evít_t
* 
h™dÀ
,

769 
uv__cf_lo›_sig«l_ty≥_t
 
ty≥
) {

770 
uv__cf_lo›_sig«l_t
* 
ôem
;

771 
uv__cf_lo›_°©e_t
* 
°©e
;

773 
ôem
 = 
	`uv__mÆloc
((*item));

774 i‡(
ôem
 =
NULL
)

775  -
ENOMEM
;

777 
ôem
->
h™dÀ
 = handle;

778 
ôem
->
ty≥
 =Åype;

780 
	`uv_muãx_lock
(&
lo›
->
cf_muãx
);

781 
	`QUEUE_INSERT_TAIL
(&
lo›
->
cf_sig«ls
, &
ôem
->
membî
);

782 
	`uv_muãx_u∆ock
(&
lo›
->
cf_muãx
);

784 
°©e
 = 
lo›
->
cf_°©e
;

785 
	`as£π
(
°©e
 !
NULL
);

786 
	`pCFRunLo›Sour˚Sig«l
(
°©e
->
sig«l_sour˚
);

787 
	`pCFRunLo›WakeUp
(
°©e
->
lo›
);

790 
	}
}

794 
	$uv__f£víts_öô
(
uv_fs_evít_t
* 
h™dÀ
) {

795 
îr
;

796 
uv__cf_lo›_°©e_t
* 
°©e
;

798 
îr
 = 
	`uv__f£víts_lo›_öô
(
h™dÀ
->
lo›
);

799 i‡(
îr
)

800  
îr
;

803 
h™dÀ
->
ªÆ∑th
 = 
	`ªÆ∑th
(h™dÀ->
∑th
, 
NULL
);

804 i‡(
h™dÀ
->
ªÆ∑th
 =
NULL
)

805  -
î∫o
;

806 
h™dÀ
->
ªÆ∑th_Àn
 = 
	`°æí
(h™dÀ->
ªÆ∑th
);

809 
	`QUEUE_INIT
(&
h™dÀ
->
cf_evíts
);

810 
h™dÀ
->
cf_îr‹
 = 0;

816 
h™dÀ
->
cf_cb
 = 
	`uv__mÆloc
((*handle->cf_cb));

817 i‡(
h™dÀ
->
cf_cb
 =
NULL
) {

818 
îr
 = -
ENOMEM
;

819 
Áû_cf_cb_mÆloc
;

822 
h™dÀ
->
cf_cb
->
d©a
 = handle;

823 
	`uv_async_öô
(
h™dÀ
->
lo›
, h™dÀ->
cf_cb
, 
uv__f£víts_cb
);

824 
h™dÀ
->
cf_cb
->
Êags
 |
UV__HANDLE_INTERNAL
;

825 
	`uv_uƒef
((
uv_h™dÀ_t
*Ë
h™dÀ
->
cf_cb
);

827 
îr
 = 
	`uv_muãx_öô
(&
h™dÀ
->
cf_muãx
);

828 i‡(
îr
)

829 
Áû_cf_muãx_öô
;

832 
°©e
 = 
h™dÀ
->
lo›
->
cf_°©e
;

833 
	`uv_muãx_lock
(&
°©e
->
f£vít_muãx
);

834 
	`QUEUE_INSERT_TAIL
(&
°©e
->
f£vít_h™dÀs
, &
h™dÀ
->
cf_membî
);

835 
°©e
->
f£vít_h™dÀ_cou¡
++;

836 
°©e
->
f£vít_√ed_ªscheduÀ
 = 1;

837 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

840 
	`as£π
(
h™dÀ
 !
NULL
);

841 
îr
 = 
	`uv__cf_lo›_sig«l
(
h™dÀ
->
lo›
, h™dÀ, 
kUVCFLo›Sig«lReguœr
);

842 i‡(
îr
)

843 
Áû_lo›_sig«l
;

847 
Áû_lo›_sig«l
:

848 
	`uv_muãx_de°roy
(&
h™dÀ
->
cf_muãx
);

850 
Áû_cf_muãx_öô
:

851 
	`uv__‰ì
(
h™dÀ
->
cf_cb
);

852 
h™dÀ
->
cf_cb
 = 
NULL
;

854 
Áû_cf_cb_mÆloc
:

855 
	`uv__‰ì
(
h™dÀ
->
ªÆ∑th
);

856 
h™dÀ
->
ªÆ∑th
 = 
NULL
;

857 
h™dÀ
->
ªÆ∑th_Àn
 = 0;

859  
îr
;

860 
	}
}

864 
	$uv__f£víts_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

865 
îr
;

866 
uv__cf_lo›_°©e_t
* 
°©e
;

868 i‡(
h™dÀ
->
cf_cb
 =
NULL
)

869  -
EINVAL
;

872 
°©e
 = 
h™dÀ
->
lo›
->
cf_°©e
;

873 
	`uv_muãx_lock
(&
°©e
->
f£vít_muãx
);

874 
	`QUEUE_REMOVE
(&
h™dÀ
->
cf_membî
);

875 
°©e
->
f£vít_h™dÀ_cou¡
--;

876 
°©e
->
f£vít_√ed_ªscheduÀ
 = 1;

877 
	`uv_muãx_u∆ock
(&
°©e
->
f£vít_muãx
);

880 
	`as£π
(
h™dÀ
 !
NULL
);

881 
îr
 = 
	`uv__cf_lo›_sig«l
(
h™dÀ
->
lo›
, h™dÀ, 
kUVCFLo›Sig«lClosög
);

882 i‡(
îr
)

883  -
îr
;

886 
	`uv_£m_waô
(&
°©e
->
f£vít_£m
);

888 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë
h™dÀ
->
cf_cb
, (
uv_˛o£_cb
Ë
uv__‰ì
);

889 
h™dÀ
->
cf_cb
 = 
NULL
;

892 
	`UV__FSEVENTS_PROCESS
(
h™dÀ
, {

896 
	`uv_muãx_de°roy
(&
h™dÀ
->
cf_muãx
);

897 
	`uv__‰ì
(
h™dÀ
->
ªÆ∑th
);

898 
h™dÀ
->
ªÆ∑th
 = 
NULL
;

899 
h™dÀ
->
ªÆ∑th_Àn
 = 0;

902 
	}
}

	@deps/libtuv/src/unix/getaddrinfo.c

39 #i‚de‡
_GNU_SOURCE


40 
	#_GNU_SOURCE


	)

43 
	~"uv.h
"

44 
	~"öã∫Æ.h
"

46 
	~<î∫o.h
>

47 
	~<°ddef.h
>

48 
	~<°dlib.h
>

49 
	~<°rög.h
>

52 
	~<√tdb.h
>

55 
	$uv__gëaddröfo_å™¶©e_îr‹
(
sys_îr
) {

56 
sys_îr
) {

58 #i‡
	`deföed
(
EAI_ADDRFAMILY
)

59 
EAI_ADDRFAMILY
:  
UV_EAI_ADDRFAMILY
;

61 #i‡
	`deföed
(
EAI_AGAIN
)

62 
EAI_AGAIN
:  
UV_EAI_AGAIN
;

64 #i‡
	`deföed
(
EAI_BADFLAGS
)

65 
EAI_BADFLAGS
:  
UV_EAI_BADFLAGS
;

67 #i‡
	`deföed
(
EAI_BADHINTS
)

68 
EAI_BADHINTS
:  
UV_EAI_BADHINTS
;

70 #i‡
	`deföed
(
EAI_CANCELED
)

71 
EAI_CANCELED
:  
UV_EAI_CANCELED
;

73 #i‡
	`deföed
(
EAI_FAIL
)

74 
EAI_FAIL
:  
UV_EAI_FAIL
;

76 #i‡
	`deföed
(
EAI_FAMILY
)

77 
EAI_FAMILY
:  
UV_EAI_FAMILY
;

79 #i‡
	`deföed
(
EAI_MEMORY
)

80 
EAI_MEMORY
:  
UV_EAI_MEMORY
;

82 #i‡
	`deföed
(
EAI_NODATA
)

83 
EAI_NODATA
:  
UV_EAI_NODATA
;

85 #i‡
	`deföed
(
EAI_NONAME
)

86 #i‡!
	`deföed
(
EAI_NODATA
Ë|| EAI_NODATA !
EAI_NONAME


87 
EAI_NONAME
:  
UV_EAI_NONAME
;

90 #i‡
	`deföed
(
EAI_OVERFLOW
)

91 
EAI_OVERFLOW
:  
UV_EAI_OVERFLOW
;

93 #i‡
	`deföed
(
EAI_PROTOCOL
)

94 
EAI_PROTOCOL
:  
UV_EAI_PROTOCOL
;

96 #i‡
	`deföed
(
EAI_SERVICE
)

97 
EAI_SERVICE
:  
UV_EAI_SERVICE
;

99 #i‡
	`deföed
(
EAI_SOCKTYPE
)

100 
EAI_SOCKTYPE
:  
UV_EAI_SOCKTYPE
;

102 #i‡
	`deföed
(
EAI_SYSTEM
)

103 
EAI_SYSTEM
:  -
î∫o
;

106 
	`as£π
(!"unknown EAI_*Érror code");

107 
	`ab‹t
();

109 
	}
}

112 
	$uv__gëaddröfo_w‹k
(
uv__w‹k
* 
w
) {

113 
uv_gëaddröfo_t
* 
ªq
;

114 
îr
;

116 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_gëaddröfo_t
, 
w‹k_ªq
);

117 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

118 
îr
 = 0;

121 i‡(
ªq
->
höts
) {

122 
ªq
->
höts
->
ai_Ámûy
 = 
AF_INET
;

124 
îr
 = 
	`gëaddröfo
(
ªq
->
ho°«me
,Ñeq->
£rvi˚
,Ñeq->
höts
, &ªq->
addröfo
);

126 
ªq
->
ªtcode
 = 
	`uv__gëaddröfo_å™¶©e_îr‹
(
îr
);

127 
	}
}

130 
	$uv__gëaddröfo_d⁄e
(
uv__w‹k
* 
w
, 
°©us
) {

131 
uv_gëaddröfo_t
* 
ªq
;

133 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_gëaddröfo_t
, 
w‹k_ªq
);

134 
	`uv__ªq_uƒegi°î
(
ªq
->
lo›
,Ñeq);

137 i‡(
ªq
->
höts
)

138 
	`uv__‰ì
(
ªq
->
höts
);

139 i‡(
ªq
->
£rvi˚
)

140 
	`uv__‰ì
(
ªq
->
£rvi˚
);

141 i‡(
ªq
->
ho°«me
)

142 
	`uv__‰ì
(
ªq
->
ho°«me
);

144 
	`as£π
(0);

146 
ªq
->
höts
 = 
NULL
;

147 
ªq
->
£rvi˚
 = 
NULL
;

148 
ªq
->
ho°«me
 = 
NULL
;

150 i‡(
°©us
 =-
ECANCELED
) {

151 
	`as£π
(
ªq
->
ªtcode
 == 0);

152 
ªq
->
ªtcode
 = 
UV_EAI_CANCELED
;

155 i‡(
ªq
->
cb
)

156 
ªq
->
	`cb
‘eq,Ñeq->
ªtcode
,Ñeq->
addröfo
);

157 
	}
}

160 
	$uv_gëaddröfo
(
uv_lo›_t
* 
lo›
,

161 
uv_gëaddröfo_t
* 
ªq
,

162 
uv_gëaddröfo_cb
 
cb
,

163 c⁄° * 
ho°«me
,

164 c⁄° * 
£rvi˚
,

165 c⁄° 
addröfo
* 
höts
) {

166 
size_t
 
ho°«me_Àn
;

167 
size_t
 
£rvi˚_Àn
;

168 
size_t
 
höts_Àn
;

169 
size_t
 
Àn
;

170 * 
buf
;

172 i‡(
ªq
 =
NULL
 || (
ho°«me
 =NULL && 
£rvi˚
 == NULL))

173  -
EINVAL
;

175 
ho°«me_Àn
 = 
ho°«me
 ? 
	`°æí
(hostname) + 1 : 0;

176 
£rvi˚_Àn
 = 
£rvi˚
 ? 
	`°æí
(service) + 1 : 0;

177 
höts_Àn
 = 
höts
 ? (*hints) : 0;

178 
buf
 = 
	`uv__mÆloc
(
ho°«me_Àn
 + 
£rvi˚_Àn
 + 
höts_Àn
);

180 i‡(
buf
 =
NULL
)

181  -
ENOMEM
;

183 
	`uv__ªq_öô
(
lo›
, 
ªq
, 
UV_GETADDRINFO
);

184 
ªq
->
lo›
 =Üoop;

185 
ªq
->
cb
 = cb;

186 
ªq
->
addröfo
 = 
NULL
;

187 
ªq
->
höts
 = 
NULL
;

188 
ªq
->
£rvi˚
 = 
NULL
;

189 
ªq
->
ho°«me
 = 
NULL
;

190 
ªq
->
ªtcode
 = 0;

193 
Àn
 = 0;

195 i‡(
höts
) {

196 
ªq
->
höts
 = 
	`mem˝y
(
buf
 + 
Àn
, hints, (*hints));

197 
Àn
 +(*
höts
);

200 i‡(
£rvi˚
) {

201 
ªq
->
£rvi˚
 = 
	`mem˝y
(
buf
 + 
Àn
, sîvi˚, 
£rvi˚_Àn
);

202 
Àn
 +
£rvi˚_Àn
;

205 i‡(
ho°«me
)

206 
ªq
->
ho°«me
 = 
	`mem˝y
(
buf
 + 
Àn
, ho°«me, 
ho°«me_Àn
);

208 i‡(
cb
) {

209 
	`uv__w‹k_submô
(
lo›
,

210 &
ªq
->
w‹k_ªq
,

211 
uv__gëaddröfo_w‹k
,

212 
uv__gëaddröfo_d⁄e
);

215 
	`uv__gëaddröfo_w‹k
(&
ªq
->
w‹k_ªq
);

216 
	`uv__gëaddröfo_d⁄e
(&
ªq
->
w‹k_ªq
, 0);

217  
ªq
->
ªtcode
;

219 
	}
}

222 
	$uv_‰ìaddröfo
(
addröfo
* 
ai
) {

223 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

224 i‡(
ai
)

225 
	`‰ìaddröfo
(
ai
);

227 
	}
}

	@deps/libtuv/src/unix/getnameinfo.c

22 
	~<as£π.h
>

23 
	~<°dlib.h
>

24 
	~<°dio.h
>

25 
	~<°rög.h
>

27 
	~"uv.h
"

28 
	~"öã∫Æ.h
"

31 
	$uv__gë«meöfo_w‹k
(
uv__w‹k
* 
w
) {

32 
uv_gë«meöfo_t
* 
ªq
;

33 
îr
;

34 
sockÀn_t
 
ßÀn
;

36 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_gë«meöfo_t
, 
w‹k_ªq
);

38 i‡(
ªq
->
°‹age
.
ss_Ámûy
 =
AF_INET
)

39 
ßÀn
 = (
sockaddr_ö
);

40 i‡(
ªq
->
°‹age
.
ss_Ámûy
 =
AF_INET6
)

41 
ßÀn
 = (
sockaddr_ö6
);

43 
	`ab‹t
();

45 
îr
 = 
	`gë«meöfo
((
sockaddr
*Ë&
ªq
->
°‹age
,

46 
ßÀn
,

47 
ªq
->
ho°
,

48 (
ªq
->
ho°
),

49 
ªq
->
£rvi˚
,

50 (
ªq
->
£rvi˚
),

51 
ªq
->
Êags
);

52 
ªq
->
ªtcode
 = 
	`uv__gëaddröfo_å™¶©e_îr‹
(
îr
);

53 
	}
}

55 
	$uv__gë«meöfo_d⁄e
(
uv__w‹k
* 
w
, 
°©us
) {

56 
uv_gë«meöfo_t
* 
ªq
;

57 * 
ho°
;

58 * 
£rvi˚
;

60 
ªq
 = 
	`c⁄èöî_of
(
w
, 
uv_gë«meöfo_t
, 
w‹k_ªq
);

61 
	`uv__ªq_uƒegi°î
(
ªq
->
lo›
,Ñeq);

62 
ho°
 = 
£rvi˚
 = 
NULL
;

64 i‡(
°©us
 =-
ECANCELED
) {

65 
	`as£π
(
ªq
->
ªtcode
 == 0);

66 
ªq
->
ªtcode
 = 
UV_EAI_CANCELED
;

67 } i‡(
ªq
->
ªtcode
 == 0) {

68 
ho°
 = 
ªq
->host;

69 
£rvi˚
 = 
ªq
->service;

72 i‡(
ªq
->
gë«meöfo_cb
)

73 
ªq
->
	`gë«meöfo_cb
‘eq,Ñeq->
ªtcode
, 
ho°
, 
£rvi˚
);

74 
	}
}

81 
	$uv_gë«meöfo
(
uv_lo›_t
* 
lo›
,

82 
uv_gë«meöfo_t
* 
ªq
,

83 
uv_gë«meöfo_cb
 
gë«meöfo_cb
,

84 c⁄° 
sockaddr
* 
addr
,

85 
Êags
) {

86 i‡(
ªq
 =
NULL
 || 
addr
 == NULL)

87  
UV_EINVAL
;

89 i‡(
addr
->
ß_Ámûy
 =
AF_INET
) {

90 
	`mem˝y
(&
ªq
->
°‹age
,

91 
addr
,

92 (
sockaddr_ö
));

93 } i‡(
addr
->
ß_Ámûy
 =
AF_INET6
) {

94 
	`mem˝y
(&
ªq
->
°‹age
,

95 
addr
,

96 (
sockaddr_ö6
));

98  
UV_EINVAL
;

101 
	`uv__ªq_öô
(
lo›
, (
uv_ªq_t
*)
ªq
, 
UV_GETNAMEINFO
);

103 
ªq
->
gë«meöfo_cb
 = getnameinfo_cb;

104 
ªq
->
Êags
 = flags;

105 
ªq
->
ty≥
 = 
UV_GETNAMEINFO
;

106 
ªq
->
lo›
 =Üoop;

107 
ªq
->
ªtcode
 = 0;

109 i‡(
gë«meöfo_cb
) {

110 
	`uv__w‹k_submô
(
lo›
,

111 &
ªq
->
w‹k_ªq
,

112 
uv__gë«meöfo_w‹k
,

113 
uv__gë«meöfo_d⁄e
);

116 
	`uv__gë«meöfo_w‹k
(&
ªq
->
w‹k_ªq
);

117 
	`uv__gë«meöfo_d⁄e
(&
ªq
->
w‹k_ªq
, 0);

118  
ªq
->
ªtcode
;

120 
	}
}

	@deps/libtuv/src/unix/internal.h

37 #i‚de‡
UV_UNIX_INTERNAL_H_


38 
	#UV_UNIX_INTERNAL_H_


	)

40 
	~"uv-comm⁄.h
"

42 
	~<as£π.h
>

43 
	~<°dlib.h
>

44 
	~<°rög.h
>

45 
	~<f˙é.h
>

46 
	~<°dio.h
>

48 #i‡
deföed
(
__STRICT_ANSI__
)

49 
	#ölöe
 
__ölöe


	)

52 #i‡
deföed
(
__löux__
)

53 
	~"löux-sysˇŒs.h
"

56 #i‡
deföed
(
__sun
)

57 
	~<sys/p‹t.h
>

58 
	~<p‹t.h
>

61 #i‡
deföed
(
_AIX
)

62 
	#ªqevíts
 
evíts


	)

63 
	#π√víts
 
ªvíts


	)

64 
	~<sys/pﬁl.h
>

66 
	~<pﬁl.h
>

69 #i‡
deföed
(
__APPLE__
Ë&& !
TARGET_OS_IPHONE


70 
	~<AvaûabûôyMa¸os.h
>

73 #i‡
deföed
(
__ANDROID__
)

74 
uv__±hªad_sigmask
(
how
, c⁄° 
sig£t_t
* 
£t
, sig£t_t* 
o£t
);

75 #ifde‡
±hªad_sigmask


76 #unde‡
±hªad_sigmask


78 
	#±hªad_sigmask
(
how
, 
£t
, 
ﬁd£t
Ë
	`uv__±hªad_sigmask
(how, së, old£t)

	)

81 
	#ACCESS_ONCE
(
ty≥
, 
v¨
) \

82 (*(vﬁ©ûê
ty≥
*Ë&(
v¨
))

	)

84 
	#ROUND_UP
(
a
, 
b
) \

85 ((
a
Ë% (
b
Ë? (◊Ë+ (b)Ë- (◊Ë% (b)Ë: (a))

	)

87 
	#UNREACHABLE
() \

89 
	`as£π
(0 && "unreachable code"); \

90 
	`ab‹t
(); \

92 0)

	)

94 
	#SAVE_ERRNO
(
block
) \

96 
_ßved_î∫o
 = 
î∫o
; \

97 dÿ{ 
block
; } 0); \

98 
î∫o
 = 
_ßved_î∫o
; \

100 0)

	)

106 #i‡
deföed
(
__˛™g__
) || \

107 
deföed
(
__GNUC__
) || \

108 
deföed
(
__INTEL_COMPILER
) || \

109 
	$deföed
(
__SUNPRO_C
)

110 
	#UV_DESTRUCTOR
(
de˛¨©i⁄
Ë
	`__©åibuã__
((
de°ru˘‹
)Ë
	)
declaration

111 
	#UV_UNUSED
(
de˛¨©i⁄
Ë
	`__©åibuã__
((
unu£d
)Ë
	)
declaration

113 
	#UV_DESTRUCTOR
(
de˛¨©i⁄
Ë
	)
declaration

114 
	#UV_UNUSED
(
de˛¨©i⁄
Ë
	)
declaration

117 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

118 #unde‡
UV_DESTRUCTOR


119 
	#UV_DESTRUCTOR
(
de˛¨©i⁄
Ë
UV_DESTRUCTOR_nŸ_suµ‹ãd
##
	)
declaration

123 #ifde‡
POLLRDHUP


124 
	#UV__POLLRDHUP
 
POLLRDHUP


	)

126 
	#UV__POLLRDHUP
 0x2000

	)

129 #i‡!
	`deföed
(
O_CLOEXEC
Ë&& deföed(
__FªeBSD__
)

134 
	#O_CLOEXEC
 0x00100000

	)

137 
uv__°ªam_queued_fds_s
 
	tuv__°ªam_queued_fds_t
;

141 
UV_CLOSING
 = 0x01,

142 
UV_CLOSED
 = 0x02,

143 
UV_STREAM_READING
 = 0x04,

144 
UV_STREAM_SHUTTING
 = 0x08,

145 
UV_STREAM_SHUT
 = 0x10,

146 
UV_STREAM_READABLE
 = 0x20,

147 
UV_STREAM_WRITABLE
 = 0x40,

148 
UV_STREAM_BLOCKING
 = 0x80,

149 
UV_STREAM_READ_PARTIAL
 = 0x100,

150 
UV_STREAM_READ_EOF
 = 0x200,

151 
UV_TCP_NODELAY
 = 0x400,

152 
UV_TCP_KEEPALIVE
 = 0x800,

153 
UV_TCP_SINGLE_ACCEPT
 = 0x1000,

154 
UV_HANDLE_IPV6
 = 0x10000,

155 
UV_UDP_PROCESSING
 = 0x20000,

156 
UV_HANDLE_BOUND
 = 0x40000

161 
UV_LOOP_BLOCK_SIGPROF
 = 1

165 
UV_CLOCK_PRECISE
 = 0,

166 
UV_CLOCK_FAST
 = 1

167 } 
	tuv_˛ockty≥_t
;

169 
	suv__°ªam_queued_fds_s
 {

170 
size
;

171 
off£t
;

172 
fds
[1];

176 #i‡
	`deföed
(
_AIX
) || \

177 
	`deföed
(
__APPLE__
) || \

178 
	`deföed
(
__Døg⁄Fly__
) || \

179 
	`deföed
(
__FªeBSD__
) || \

180 
	`deföed
(
__FªeBSD_kî√l__
) || \

181 
	$deföed
(
__löux__
)

182 
	#uv__˛€xec
 
uv__˛€xec_io˘l


	)

183 
	#uv__n⁄block
 
uv__n⁄block_io˘l


	)

185 
	#uv__˛€xec
 
uv__˛€xec_f˙é


	)

186 
	#uv__n⁄block
 
uv__n⁄block_f˙é


	)

190 
	`uv__˛€xec_io˘l
(
fd
, 
£t
);

191 
	`uv__˛€xec_f˙é
(
fd
, 
£t
);

192 
	`uv__n⁄block_io˘l
(
fd
, 
£t
);

193 
	`uv__n⁄block_f˙é
(
fd
, 
£t
);

194 
	`uv__˛o£
(
fd
);

195 
	`uv__˛o£_nocheck°dio
(
fd
);

196 
	`uv__sockë
(
domaö
, 
ty≥
, 
¥Ÿocﬁ
);

197 
	`uv__dup
(
fd
);

198 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

199 
msghdr
;

201 
ssize_t
 
	`uv__ªcvmsg
(
fd
, 
msghdr
 *
msg
, 
Êags
);

202 
	`uv__make_˛o£_≥ndög
(
uv_h™dÀ_t
* 
h™dÀ
);

203 
	`uv__gëiovmax
();

205 
	`uv__io_öô
(
uv__io_t
* 
w
, 
uv__io_cb
 
cb
, 
fd
);

206 
	`uv__io_°¨t
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
);

207 
	`uv__io_°›
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
);

208 
	`uv__io_˛o£
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
);

209 
	`uv__io_„ed
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
);

210 
	`uv__io_a˘ive
(c⁄° 
uv__io_t
* 
w
, 
evíts
);

211 
	`uv__io_check_fd
(
uv_lo›_t
* 
lo›
, 
fd
);

212 
	`uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
);

215 
	`uv__async_£nd
(
uv__async
* 
wa
);

216 
	`uv__async_öô
(
uv__async
* 
wa
);

217 
	`uv__async_°¨t
(
uv_lo›_t
* 
lo›
, 
uv__async
* 
wa
, 
uv__async_cb
 
cb
);

218 
	`uv__async_°›
(
uv_lo›_t
* 
lo›
, 
uv__async
* 
wa
);

221 
	`uv__run_idÀ
(
uv_lo›_t
* 
lo›
);

222 
	`uv__run_check
(
uv_lo›_t
* 
lo›
);

223 
	`uv__run_¥ï¨e
(
uv_lo›_t
* 
lo›
);

226 
	`uv__°ªam_öô
(
uv_lo›_t
* 
lo›
, 
uv_°ªam_t
* 
°ªam
,

227 
uv_h™dÀ_ty≥
 
ty≥
);

228 
	`uv__°ªam_›í
(
uv_°ªam_t
*, 
fd
, 
Êags
);

229 
	`uv__°ªam_de°roy
(
uv_°ªam_t
* 
°ªam
);

230 #i‡
	`deföed
(
__APPLE__
)

231 
	`uv__°ªam_åy_£À˘
(
uv_°ªam_t
* 
°ªam
, * 
fd
);

233 
	`uv__£rvî_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
);

234 
	`uv__ac˚±
(
sockfd
);

235 
	`uv__dup2_˛€xec
(
ﬁdfd
, 
√wfd
);

236 
	`uv__›í_˛€xec
(c⁄° * 
∑th
, 
Êags
);

239 
	`uv_t˝_li°í
(
uv_t˝_t
* 
t˝
, 
backlog
, 
uv_c⁄√˘i⁄_cb
 
cb
);

240 
	`uv__t˝_nodñay
(
fd
, 
⁄
);

241 
	`uv__t˝_kì∑live
(
fd
, 
⁄
, 
dñay
);

244 
	`uv_pùe_li°í
(
uv_pùe_t
* 
h™dÀ
, 
backlog
, 
uv_c⁄√˘i⁄_cb
 
cb
);

247 
	`uv__run_timîs
(
uv_lo›_t
* 
lo›
);

248 
	`uv__√xt_timeout
(c⁄° 
uv_lo›_t
* 
lo›
);

251 
	`uv__sig«l_˛o£
(
uv_sig«l_t
* 
h™dÀ
);

252 
	`uv__sig«l_globÆ_⁄˚_öô
();

253 
	`uv__sig«l_lo›_˛ónup
(
uv_lo›_t
* 
lo›
);

256 
uöt64_t
 
	`uv__hπime
(
uv_˛ockty≥_t
 
ty≥
);

257 
	`uv__kqueue_öô
(
uv_lo›_t
* 
lo›
);

258 
	`uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
);

259 
	`uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
);

260 
	`uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
);

263 
	`uv__async_˛o£
(
uv_async_t
* 
h™dÀ
);

264 
	`uv__check_˛o£
(
uv_check_t
* 
h™dÀ
);

265 
	`uv__fs_evít_˛o£
(
uv_fs_evít_t
* 
h™dÀ
);

266 
	`uv__idÀ_˛o£
(
uv_idÀ_t
* 
h™dÀ
);

267 
	`uv__pùe_˛o£
(
uv_pùe_t
* 
h™dÀ
);

268 
	`uv__pﬁl_˛o£
(
uv_pﬁl_t
* 
h™dÀ
);

269 
	`uv__¥ï¨e_˛o£
(
uv_¥ï¨e_t
* 
h™dÀ
);

270 
	`uv__¥o˚ss_˛o£
(
uv_¥o˚ss_t
* 
h™dÀ
);

271 
	`uv__°ªam_˛o£
(
uv_°ªam_t
* 
h™dÀ
);

272 
	`uv__t˝_˛o£
(
uv_t˝_t
* 
h™dÀ
);

273 
	`uv__timî_˛o£
(
uv_timî_t
* 
h™dÀ
);

274 
	`uv__udp_˛o£
(
uv_udp_t
* 
h™dÀ
);

275 
	`uv__udp_föish_˛o£
(
uv_udp_t
* 
h™dÀ
);

276 
uv_h™dÀ_ty≥
 
	`uv__h™dÀ_ty≥
(
fd
);

277 
FILE
* 
	`uv__›í_fûe
(c⁄° * 
∑th
);

278 
	`uv__gëpwuid_r
(
uv_∑sswd_t
* 
pwd
);

281 #i‡
	`deföed
(
__APPLE__
)

282 
	`uv___°ªam_fd
(c⁄° 
uv_°ªam_t
* 
h™dÀ
);

283 
	#uv__°ªam_fd
(
h™dÀ
Ë(
	`uv___°ªam_fd
((c⁄° 
uv_°ªam_t
*Ë(h™dÀ)))

	)

285 
	#uv__°ªam_fd
(
h™dÀ
Ë((h™dÀ)->
io_w©chî
.
fd
)

	)

288 #ifde‡
UV__O_NONBLOCK


289 
	#UV__F_NONBLOCK
 
UV__O_NONBLOCK


	)

291 
	#UV__F_NONBLOCK
 1

	)

294 
	`uv__make_sockë∑ú
(
fds
[2], 
Êags
);

295 
	`uv__make_pùe
(
fds
[2], 
Êags
);

297 #i‡
	`deföed
(
__APPLE__
)

299 
	`uv__f£víts_öô
(
uv_fs_evít_t
* 
h™dÀ
);

300 
	`uv__f£víts_˛o£
(
uv_fs_evít_t
* 
h™dÀ
);

301 
	`uv__f£víts_lo›_dñëe
(
uv_lo›_t
* 
lo›
);

304 #i‚de‡
MAC_OS_X_VERSION_10_7


306 c⁄° 
kFSEvítSåómCª©eFœgFûeEvíts
 = 0x00000010;

307 c⁄° 
kFSEvítSåómEvítFœgIãmCª©ed
 = 0x00000100;

308 c⁄° 
kFSEvítSåómEvítFœgIãmRemoved
 = 0x00000200;

309 c⁄° 
kFSEvítSåómEvítFœgIãmInodeMëaMod
 = 0x00000400;

310 c⁄° 
kFSEvítSåómEvítFœgIãmRíamed
 = 0x00000800;

311 c⁄° 
kFSEvítSåómEvítFœgIãmModifõd
 = 0x00001000;

312 c⁄° 
kFSEvítSåómEvítFœgIãmFödîInfoMod
 = 0x00002000;

313 c⁄° 
kFSEvítSåómEvítFœgIãmCh™geOw√r
 = 0x00004000;

314 c⁄° 
kFSEvítSåómEvítFœgIãmX©åMod
 = 0x00008000;

315 c⁄° 
kFSEvítSåómEvítFœgIãmIsFûe
 = 0x00010000;

316 c⁄° 
kFSEvítSåómEvítFœgIãmIsDú
 = 0x00020000;

317 c⁄° 
kFSEvítSåómEvítFœgIãmIsSymlök
 = 0x00040000;

323 
	`UV_UNUSED
(
	$uv__ªq_öô
(
uv_lo›_t
* 
lo›
,

324 
uv_ªq_t
* 
ªq
,

325 
uv_ªq_ty≥
 
ty≥
)) {

326 
ªq
->
ty≥
 =Åype;

327 
	`uv__ªq_ªgi°î
(
lo›
, 
ªq
);

328 
	}
}

329 
	#uv__ªq_öô
(
lo›
, 
ªq
, 
ty≥
) \

330 
	`uv__ªq_öô
((
lo›
), (
uv_ªq_t
*)(
ªq
), (
ty≥
))

	)

332 
UV_UNUSED
(
	$uv__upd©e_time
(
uv_lo›_t
* 
lo›
)) {

335 
lo›
->
time
 = 
	`uv__hπime
(
UV_CLOCK_FAST
) / 1000000;

336 
	}
}

338 
UV_UNUSED
(* 
	$uv__ba£«me_r
(c⁄° * 
∑th
)) {

339 * 
s
;

341 
s
 = 
	`°ºchr
(
∑th
, '/');

342 i‡(
s
 =
NULL
)

343  (*Ë
∑th
;

345  
s
 + 1;

346 
	}
}

	@deps/libtuv/src/unix/kqueue.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<as£π.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<î∫o.h
>

29 
	~<sys/sys˘l.h
>

30 
	~<sys/ty≥s.h
>

31 
	~<sys/evít.h
>

32 
	~<sys/time.h
>

33 
	~<uni°d.h
>

34 
	~<f˙é.h
>

35 
	~<time.h
>

37 
uv__fs_evít
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
fÊags
);

40 
	$uv__kqueue_öô
(
uv_lo›_t
* 
lo›
) {

41 
lo›
->
backíd_fd
 = 
	`kqueue
();

42 i‡(
lo›
->
backíd_fd
 == -1)

43  -
î∫o
;

45 
	`uv__˛€xec
(
lo›
->
backíd_fd
, 1);

48 
	}
}

51 
	$uv__io_check_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

52 
kevít
 
ev
;

53 
rc
;

55 
rc
 = 0;

56 
	`EV_SET
(&
ev
, 
fd
, 
EVFILT_READ
, 
EV_ADD
, 0, 0, 0);

57 i‡(
	`kevít
(
lo›
->
backíd_fd
, &
ev
, 1, 
NULL
, 0, NULL))

58 
rc
 = -
î∫o
;

60 
	`EV_SET
(&
ev
, 
fd
, 
EVFILT_READ
, 
EV_DELETE
, 0, 0, 0);

61 i‡(
rc
 == 0)

62 i‡(
	`kevít
(
lo›
->
backíd_fd
, &
ev
, 1, 
NULL
, 0, NULL))

63 
	`ab‹t
();

65  
rc
;

66 
	}
}

69 
	$uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
) {

70 
kevít
 
evíts
[1024];

71 
kevít
* 
ev
;

72 
time•ec
 
•ec
;

73 
√víts
;

74 
ªvíts
;

75 
QUEUE
* 
q
;

76 
uv__io_t
* 
w
;

77 
sig£t_t
* 
p£t
;

78 
sig£t_t
 
£t
;

79 
uöt64_t
 
ba£
;

80 
uöt64_t
 
diff
;

81 
have_sig«ls
;

82 
fûãr
;

83 
fÊags
;

84 
cou¡
;

85 
nfds
;

86 
fd
;

87 
›
;

88 
i
;

90 i‡(
lo›
->
nfds
 == 0) {

91 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

95 
√víts
 = 0;

97 !
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
)) {

98 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
w©chî_queue
);

99 
	`QUEUE_REMOVE
(
q
);

100 
	`QUEUE_INIT
(
q
);

102 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
w©chî_queue
);

103 
	`as£π
(
w
->
≥víts
 != 0);

104 
	`as£π
(
w
->
fd
 >= 0);

105 
	`as£π
(
w
->
fd
 < (Ë
lo›
->
nw©chîs
);

107 i‡((
w
->
evíts
 & 
POLLIN
Ë=0 && (w->
≥víts
 & POLLIN) != 0) {

108 
fûãr
 = 
EVFILT_READ
;

109 
fÊags
 = 0;

110 
›
 = 
EV_ADD
;

112 i‡(
w
->
cb
 =
uv__fs_evít
) {

113 
fûãr
 = 
EVFILT_VNODE
;

114 
fÊags
 = 
NOTE_ATTRIB
 | 
NOTE_WRITE
 | 
NOTE_RENAME


115 | 
NOTE_DELETE
 | 
NOTE_EXTEND
 | 
NOTE_REVOKE
;

116 
›
 = 
EV_ADD
 | 
EV_ONESHOT
;

119 
	`EV_SET
(
evíts
 + 
√víts
, 
w
->
fd
, 
fûãr
, 
›
, 
fÊags
, 0, 0);

121 i‡(++
√víts
 =
	`ARRAY_SIZE
(
evíts
)) {

122 i‡(
	`kevít
(
lo›
->
backíd_fd
, 
evíts
, 
√víts
, 
NULL
, 0, NULL))

123 
	`ab‹t
();

124 
√víts
 = 0;

128 i‡((
w
->
evíts
 & 
POLLOUT
Ë=0 && (w->
≥víts
 & POLLOUT) != 0) {

129 
	`EV_SET
(
evíts
 + 
√víts
, 
w
->
fd
, 
EVFILT_WRITE
, 
EV_ADD
, 0, 0, 0);

131 i‡(++
√víts
 =
	`ARRAY_SIZE
(
evíts
)) {

132 i‡(
	`kevít
(
lo›
->
backíd_fd
, 
evíts
, 
√víts
, 
NULL
, 0, NULL))

133 
	`ab‹t
();

134 
√víts
 = 0;

138 
w
->
evíts
 = w->
≥víts
;

141 
p£t
 = 
NULL
;

142 i‡(
lo›
->
Êags
 & 
UV_LOOP_BLOCK_SIGPROF
) {

143 
p£t
 = &
£t
;

144 
	`sigem±y£t
(
p£t
);

145 
	`sigadd£t
(
p£t
, 
SIGPROF
);

148 
	`as£π
(
timeout
 >= -1);

149 
ba£
 = 
lo›
->
time
;

150 
cou¡
 = 48;

152 ;; 
√víts
 = 0) {

153 i‡(
timeout
 != -1) {

154 
•ec
.
tv_£c
 = 
timeout
 / 1000;

155 
•ec
.
tv_n£c
 = (
timeout
 % 1000) * 1000000;

158 i‡(
p£t
 !
NULL
)

159 
	`±hªad_sigmask
(
SIG_BLOCK
, 
p£t
, 
NULL
);

161 
nfds
 = 
	`kevít
(
lo›
->
backíd_fd
,

162 
evíts
,

163 
√víts
,

164 
evíts
,

165 
	`ARRAY_SIZE
(
evíts
),

166 
timeout
 =-1 ? 
NULL
 : &
•ec
);

168 i‡(
p£t
 !
NULL
)

169 
	`±hªad_sigmask
(
SIG_UNBLOCK
, 
p£t
, 
NULL
);

175 
	`SAVE_ERRNO
(
	`uv__upd©e_time
(
lo›
));

177 i‡(
nfds
 == 0) {

178 
	`as£π
(
timeout
 != -1);

182 i‡(
nfds
 == -1) {

183 i‡(
î∫o
 !
EINTR
)

184 
	`ab‹t
();

186 i‡(
timeout
 == 0)

189 i‡(
timeout
 == -1)

193 
upd©e_timeout
;

196 
have_sig«ls
 = 0;

197 
√víts
 = 0;

199 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

200 
lo›
->
w©chîs
[lo›->
nw©chîs
] = (*Ë
evíts
;

201 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = (*Ë(
uöçå_t
Ë
nfds
;

202 
i
 = 0; i < 
nfds
; i++) {

203 
ev
 = 
evíts
 + 
i
;

204 
fd
 = 
ev
->
idít
;

206 i‡(
fd
 == -1)

208 
w
 = 
lo›
->
w©chîs
[
fd
];

210 i‡(
w
 =
NULL
) {

213 
kevít
 
evíts
[1];

215 
	`EV_SET
(
evíts
 + 0, 
fd
, 
ev
->
fûãr
, 
EV_DELETE
, 0, 0, 0);

216 i‡(
	`kevít
(
lo›
->
backíd_fd
, 
evíts
, 1, 
NULL
, 0, NULL))

217 i‡(
î∫o
 !
EBADF
 &&Éºnÿ!
ENOENT
)

218 
	`ab‹t
();

223 i‡(
ev
->
fûãr
 =
EVFILT_VNODE
) {

224 
	`as£π
(
w
->
evíts
 =
POLLIN
);

225 
	`as£π
(
w
->
≥víts
 =
POLLIN
);

226 
w
->
	`cb
(
lo›
, w, 
ev
->
fÊags
);

227 
√víts
++;

231 
ªvíts
 = 0;

233 i‡(
ev
->
fûãr
 =
EVFILT_READ
) {

234 i‡(
w
->
≥víts
 & 
POLLIN
) {

235 
ªvíts
 |
POLLIN
;

236 
w
->
rcou¡
 = 
ev
->
d©a
;

239 
kevít
 
evíts
[1];

240 
	`EV_SET
(
evíts
 + 0, 
fd
, 
ev
->
fûãr
, 
EV_DELETE
, 0, 0, 0);

241 i‡(
	`kevít
(
lo›
->
backíd_fd
, 
evíts
, 1, 
NULL
, 0, NULL))

242 i‡(
î∫o
 !
ENOENT
)

243 
	`ab‹t
();

247 i‡(
ev
->
fûãr
 =
EVFILT_WRITE
) {

248 i‡(
w
->
≥víts
 & 
POLLOUT
) {

249 
ªvíts
 |
POLLOUT
;

250 
w
->
wcou¡
 = 
ev
->
d©a
;

253 
kevít
 
evíts
[1];

254 
	`EV_SET
(
evíts
 + 0, 
fd
, 
ev
->
fûãr
, 
EV_DELETE
, 0, 0, 0);

255 i‡(
	`kevít
(
lo›
->
backíd_fd
, 
evíts
, 1, 
NULL
, 0, NULL))

256 i‡(
î∫o
 !
ENOENT
)

257 
	`ab‹t
();

261 i‡(
ev
->
Êags
 & 
EV_ERROR
)

262 
ªvíts
 |
POLLERR
;

264 i‡((
ev
->
Êags
 & 
EV_EOF
Ë&& (
w
->
≥víts
 & 
UV__POLLRDHUP
))

265 
ªvíts
 |
UV__POLLRDHUP
;

267 i‡(
ªvíts
 == 0)

273 i‡(
w
 =&
lo›
->
sig«l_io_w©chî
)

274 
have_sig«ls
 = 1;

276 
w
->
	`cb
(
lo›
, w, 
ªvíts
);

278 
√víts
++;

281 i‡(
have_sig«ls
 != 0)

282 
lo›
->
sig«l_io_w©chî
.
	`cb
÷o›, &lo›->sig«l_io_w©chî, 
POLLIN
);

284 
lo›
->
w©chîs
[lo›->
nw©chîs
] = 
NULL
;

285 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = 
NULL
;

287 i‡(
have_sig«ls
 != 0)

290 i‡(
√víts
 != 0) {

291 i‡(
nfds
 =
	`ARRAY_SIZE
(
evíts
Ë&& --
cou¡
 != 0) {

293 
timeout
 = 0;

299 i‡(
timeout
 == 0)

302 i‡(
timeout
 == -1)

305 
upd©e_timeout
:

306 
	`as£π
(
timeout
 > 0);

308 
diff
 = 
lo›
->
time
 - 
ba£
;

309 i‡(
diff
 >(
uöt64_t
Ë
timeout
)

312 
timeout
 -
diff
;

314 
	}
}

317 
	$uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

318 
kevít
* 
evíts
;

319 
uöçå_t
 
i
;

320 
uöçå_t
 
nfds
;

322 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

324 
evíts
 = (
kevít
*Ë
lo›
->
w©chîs
[lo›->
nw©chîs
];

325 
nfds
 = (
uöçå_t
Ë
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1];

326 i‡(
evíts
 =
NULL
)

330 
i
 = 0; i < 
nfds
; i++)

331 i‡((Ë
evíts
[
i
].
idít
 =
fd
)

332 
evíts
[
i
].
idít
 = -1;

333 
	}
}

336 
	$uv__fs_evít
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
fÊags
) {

337 
uv_fs_evít_t
* 
h™dÀ
;

338 
kevít
 
ev
;

339 
evíts
;

340 c⁄° * 
∑th
;

341 #i‡
	`deföed
(
F_GETPATH
)

343 
∑thbuf
[
MAXPATHLEN
];

346 
h™dÀ
 = 
	`c⁄èöî_of
(
w
, 
uv_fs_evít_t
, 
evít_w©chî
);

348 i‡(
fÊags
 & (
NOTE_ATTRIB
 | 
NOTE_EXTEND
))

349 
evíts
 = 
UV_CHANGE
;

351 
evíts
 = 
UV_RENAME
;

353 
∑th
 = 
NULL
;

354 #i‡
	`deföed
(
F_GETPATH
)

359 i‡(
	`f˙é
(
h™dÀ
->
evít_w©chî
.
fd
, 
F_GETPATH
, 
∑thbuf
) == 0)

360 
∑th
 = 
	`uv__ba£«me_r
(
∑thbuf
);

362 
h™dÀ
->
	`cb
(h™dÀ, 
∑th
, 
evíts
, 0);

364 i‡(
h™dÀ
->
evít_w©chî
.
fd
 == -1)

368 
fÊags
 = 
NOTE_ATTRIB
 | 
NOTE_WRITE
 | 
NOTE_RENAME


369 | 
NOTE_DELETE
 | 
NOTE_EXTEND
 | 
NOTE_REVOKE
;

371 
	`EV_SET
(&
ev
, 
w
->
fd
, 
EVFILT_VNODE
, 
EV_ADD
 | 
EV_ONESHOT
, 
fÊags
, 0, 0);

373 i‡(
	`kevít
(
lo›
->
backíd_fd
, &
ev
, 1, 
NULL
, 0, NULL))

374 
	`ab‹t
();

375 
	}
}

378 
	$uv_fs_evít_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_evít_t
* 
h™dÀ
) {

379 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_FS_EVENT
);

381 
	}
}

384 
	$uv_fs_evít_°¨t
(
uv_fs_evít_t
* 
h™dÀ
,

385 
uv_fs_evít_cb
 
cb
,

386 c⁄° * 
∑th
,

387 
Êags
) {

388 #i‡
	`deföed
(
__APPLE__
)

389 
°©
 
°©buf
;

391 
fd
;

393 i‡(
	`uv__is_a˘ive
(
h™dÀ
))

394  -
EINVAL
;

397 
fd
 = 
	`›í
(
∑th
, 
O_RDONLY
);

398 i‡(
fd
 == -1)

399  -
î∫o
;

401 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

402 
	`uv__io_öô
(&
h™dÀ
->
evít_w©chî
, 
uv__fs_evít
, 
fd
);

403 
h™dÀ
->
∑th
 = 
	`uv__°rdup
(path);

404 
h™dÀ
->
cb
 = cb;

406 #i‡
	`deföed
(
__APPLE__
)

408 
h™dÀ
->
cf_cb
 = 
NULL
;

409 
h™dÀ
->
ªÆ∑th
 = 
NULL
;

410 
h™dÀ
->
ªÆ∑th_Àn
 = 0;

411 
h™dÀ
->
cf_Êags
 = 
Êags
;

413 i‡(
	`f°©
(
fd
, &
°©buf
))

414 
ÁŒback
;

416 i‡(!(
°©buf
.
°_mode
 & 
S_IFDIR
))

417 
ÁŒback
;

420 
	`uv__˛o£
(
fd
);

421 
h™dÀ
->
evít_w©chî
.
fd
 = -1;

423  
	`uv__f£víts_öô
(
h™dÀ
);

425 
ÁŒback
:

428 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
evít_w©chî
, 
POLLIN
);

431 
	}
}

434 
	$uv_fs_evít_°›
(
uv_fs_evít_t
* 
h™dÀ
) {

435 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))

438 
	`uv__h™dÀ_°›
(
h™dÀ
);

440 #i‡
	`deföed
(
__APPLE__
)

441 i‡(
	`uv__f£víts_˛o£
(
h™dÀ
))

444 
	`uv__io_˛o£
(
h™dÀ
->
lo›
, &h™dÀ->
evít_w©chî
);

447 
	`uv__‰ì
(
h™dÀ
->
∑th
);

448 
h™dÀ
->
∑th
 = 
NULL
;

450 i‡(
h™dÀ
->
evít_w©chî
.
fd
 != -1) {

453 
	`uv__˛o£
(
h™dÀ
->
evít_w©chî
.
fd
);

454 
h™dÀ
->
evít_w©chî
.
fd
 = -1;

458 
	}
}

461 
	$uv__fs_evít_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

462 
	`uv_fs_evít_°›
(
h™dÀ
);

463 
	}
}

	@deps/libtuv/src/unix/linux-core.c

41 
	~"uv.h
"

42 
	~"öã∫Æ.h
"

44 
	~<°döt.h
>

45 
	~<°dio.h
>

46 
	~<°dlib.h
>

47 
	~<°rög.h
>

48 
	~<as£π.h
>

49 
	~<î∫o.h
>

51 
	~<√t/if.h
>

52 
	~<sys/∑øm.h
>

53 
	~<sys/¥˘l.h
>

54 
	~<sys/sysöfo.h
>

55 
	~<uni°d.h
>

56 
	~<f˙é.h
>

57 
	~<time.h
>

59 
	#HAVE_IFADDRS_H
 1

	)

61 #ifde‡
__UCLIBC__


62 #i‡
__UCLIBC_MAJOR__
 < 0 && 
__UCLIBC_MINOR__
 < 9 && 
__UCLIBC_SUBLEVEL__
 < 32

63 #unde‡
HAVE_IFADDRS_H


67 #ifde‡
HAVE_IFADDRS_H


68 #i‡
deföed
(
__ANDROID__
)

69 
	~"™droid-iÁddrs.h
"

71 
	~<iÁddrs.h
>

73 
	~<sys/sockë.h
>

74 
	~<√t/ëhî√t.h
>

75 
	~<√çackë/∑ckë.h
>

79 #i‚de‡
CLOCK_MONOTONIC_COARSE


80 
	#CLOCK_MONOTONIC_COARSE
 6

	)

87 #i‚de‡
CLOCK_BOOTTIME


88 
	#CLOCK_BOOTTIME
 7

	)

91 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

92 
fd
;

94 
fd
 = 
	`uv__ïﬁl_¸óã1
(
UV__EPOLL_CLOEXEC
);

99 i‡(
fd
 =-1 && (
î∫o
 =
ENOSYS
 ||Éºnÿ=
EINVAL
)) {

100 
fd
 = 
	`uv__ïﬁl_¸óã
(256);

102 i‡(
fd
 != -1)

103 
	`uv__˛€xec
(
fd
, 1);

106 
lo›
->
backíd_fd
 = 
fd
;

107 
lo›
->
öŸify_fd
 = -1;

108 
lo›
->
öŸify_w©chîs
 = 
NULL
;

110 i‡(
fd
 == -1)

111  -
î∫o
;

114 
	}
}

117 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

118 i‡(
lo›
->
öŸify_fd
 == -1) ;

119 
	`uv__io_°›
(
lo›
, &lo›->
öŸify_ªad_w©chî
, 
POLLIN
);

120 
	`uv__˛o£
(
lo›
->
öŸify_fd
);

121 
lo›
->
öŸify_fd
 = -1;

122 
	}
}

125 
	$uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

126 
uv__ïﬁl_evít
* 
evíts
;

127 
uv__ïﬁl_evít
 
dummy
;

128 
uöçå_t
 
i
;

129 
uöçå_t
 
nfds
;

131 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

133 
evíts
 = (
uv__ïﬁl_evít
*Ë
lo›
->
w©chîs
[lo›->
nw©chîs
];

134 
nfds
 = (
uöçå_t
Ë
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1];

135 i‡(
evíts
 !
NULL
)

137 
i
 = 0; i < 
nfds
; i++)

138 i‡((Ë
evíts
[
i
].
d©a
 =
fd
)

139 
evíts
[
i
].
d©a
 = -1;

147 i‡(
lo›
->
backíd_fd
 >= 0) {

151 
	`mem£t
(&
dummy
, 0, (dummy));

152 
	`uv__ïﬁl_˘l
(
lo›
->
backíd_fd
, 
UV__EPOLL_CTL_DEL
, 
fd
, &
dummy
);

154 
	}
}

157 
	$uv__io_check_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

158 
uv__ïﬁl_evít
 
e
;

159 
rc
;

161 
e
.
evíts
 = 
POLLIN
;

162 
e
.
d©a
 = -1;

164 
rc
 = 0;

165 i‡(
	`uv__ïﬁl_˘l
(
lo›
->
backíd_fd
, 
UV__EPOLL_CTL_ADD
, 
fd
, &
e
))

166 i‡(
î∫o
 !
EEXIST
)

167 
rc
 = -
î∫o
;

169 i‡(
rc
 == 0)

170 i‡(
	`uv__ïﬁl_˘l
(
lo›
->
backíd_fd
, 
UV__EPOLL_CTL_DEL
, 
fd
, &
e
))

171 
	`ab‹t
();

173  
rc
;

174 
	}
}

177 
	$uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
) {

186 c⁄° 
max_ß„_timeout
 = 1789569;

187 
no_ïﬁl_pwaô
;

188 
no_ïﬁl_waô
;

189 
uv__ïﬁl_evít
 
evíts
[1024];

190 
uv__ïﬁl_evít
* 
≥
;

191 
uv__ïﬁl_evít
 
e
;

192 
ªÆ_timeout
;

193 
QUEUE
* 
q
;

194 
uv__io_t
* 
w
;

195 
sig£t_t
 
sig£t
;

196 
uöt64_t
 
sigmask
;

197 
uöt64_t
 
ba£
;

198 
have_sig«ls
;

199 
√víts
;

200 
cou¡
;

201 
nfds
;

202 
fd
;

203 
›
;

204 
i
;

206 i‡(
lo›
->
nfds
 == 0) {

207 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

211 !
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
)) {

212 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
w©chî_queue
);

213 
	`QUEUE_REMOVE
(
q
);

214 
	`QUEUE_INIT
(
q
);

216 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
w©chî_queue
);

217 
	`as£π
(
w
->
≥víts
 != 0);

218 
	`as£π
(
w
->
fd
 >= 0);

219 
	`as£π
(
w
->
fd
 < (Ë
lo›
->
nw©chîs
);

221 
e
.
evíts
 = 
w
->
≥víts
;

222 
e
.
d©a
 = 
w
->
fd
;

224 i‡(
w
->
evíts
 == 0)

225 
›
 = 
UV__EPOLL_CTL_ADD
;

227 
›
 = 
UV__EPOLL_CTL_MOD
;

232 i‡(
	`uv__ïﬁl_˘l
(
lo›
->
backíd_fd
, 
›
, 
w
->
fd
, &
e
)) {

233 i‡(
î∫o
 !
EEXIST
)

234 
	`ab‹t
();

236 
	`as£π
(
›
 =
UV__EPOLL_CTL_ADD
);

239 i‡(
	`uv__ïﬁl_˘l
(
lo›
->
backíd_fd
, 
UV__EPOLL_CTL_MOD
, 
w
->
fd
, &
e
))

240 
	`ab‹t
();

243 
w
->
evíts
 = w->
≥víts
;

246 
sigmask
 = 0;

247 i‡(
lo›
->
Êags
 & 
UV_LOOP_BLOCK_SIGPROF
) {

248 
	`sigem±y£t
(&
sig£t
);

249 
	`sigadd£t
(&
sig£t
, 
SIGPROF
);

250 
sigmask
 |1 << (
SIGPROF
 - 1);

253 
	`as£π
(
timeout
 >= -1);

254 
ba£
 = 
lo›
->
time
;

255 
cou¡
 = 48;

256 
ªÆ_timeout
 = 
timeout
;

262 i‡((
öt32_t
Ë=(Ë&& 
timeout
 >
max_ß„_timeout
)

263 
timeout
 = 
max_ß„_timeout
;

265 i‡(
sigmask
 !0 && 
no_ïﬁl_pwaô
 != 0)

266 i‡(
	`±hªad_sigmask
(
SIG_BLOCK
, &
sig£t
, 
NULL
))

267 
	`ab‹t
();

269 i‡(
no_ïﬁl_waô
 !0 || (
sigmask
 !0 && 
no_ïﬁl_pwaô
 == 0)) {

270 
nfds
 = 
	`uv__ïﬁl_pwaô
(
lo›
->
backíd_fd
,

271 
evíts
,

272 
	`ARRAY_SIZE
(
evíts
),

273 
timeout
,

274 
sigmask
);

275 i‡(
nfds
 =-1 && 
î∫o
 =
ENOSYS
)

276 
no_ïﬁl_pwaô
 = 1;

278 
nfds
 = 
	`uv__ïﬁl_waô
(
lo›
->
backíd_fd
,

279 
evíts
,

280 
	`ARRAY_SIZE
(
evíts
),

281 
timeout
);

282 i‡(
nfds
 =-1 && 
î∫o
 =
ENOSYS
)

283 
no_ïﬁl_waô
 = 1;

286 i‡(
sigmask
 !0 && 
no_ïﬁl_pwaô
 != 0)

287 i‡(
	`±hªad_sigmask
(
SIG_UNBLOCK
, &
sig£t
, 
NULL
))

288 
	`ab‹t
();

294 
	`SAVE_ERRNO
(
	`uv__upd©e_time
(
lo›
));

296 i‡(
nfds
 == 0) {

297 
	`as£π
(
timeout
 != -1);

299 i‡(
timeout
 == 0)

305 
upd©e_timeout
;

308 i‡(
nfds
 == -1) {

309 i‡(
î∫o
 =
ENOSYS
) {

311 
	`as£π
(
no_ïﬁl_waô
 =0 || 
no_ïﬁl_pwaô
 == 0);

315 i‡(
î∫o
 !
EINTR
)

316 
	`ab‹t
();

318 i‡(
timeout
 == -1)

321 i‡(
timeout
 == 0)

325 
upd©e_timeout
;

328 
have_sig«ls
 = 0;

329 
√víts
 = 0;

331 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

332 
lo›
->
w©chîs
[lo›->
nw©chîs
] = (*Ë
evíts
;

333 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = (*Ë(
uöçå_t
Ë
nfds
;

334 
i
 = 0; i < 
nfds
; i++) {

335 
≥
 = 
evíts
 + 
i
;

336 
fd
 = 
≥
->
d©a
;

339 i‡(
fd
 == -1)

342 
	`as£π
(
fd
 >= 0);

343 
	`as£π
((Ë
fd
 < 
lo›
->
nw©chîs
);

345 
w
 = 
lo›
->
w©chîs
[
fd
];

347 i‡(
w
 =
NULL
) {

353 
	`uv__ïﬁl_˘l
(
lo›
->
backíd_fd
, 
UV__EPOLL_CTL_DEL
, 
fd
, 
≥
);

362 
≥
->
evíts
 &
w
->
≥víts
 | 
POLLERR
 | 
POLLHUP
;

379 i‡(
≥
->
evíts
 =
POLLERR
 ||Öe->evít†=
POLLHUP
)

380 
≥
->
evíts
 |
w
->
≥víts
 & (
POLLIN
 | 
POLLOUT
);

382 i‡(
≥
->
evíts
 != 0) {

386 i‡(
w
 =&
lo›
->
sig«l_io_w©chî
)

387 
have_sig«ls
 = 1;

389 
w
->
	`cb
(
lo›
, w, 
≥
->
evíts
);

391 
√víts
++;

395 i‡(
have_sig«ls
 != 0)

396 
lo›
->
sig«l_io_w©chî
.
	`cb
÷o›, &lo›->sig«l_io_w©chî, 
POLLIN
);

398 
lo›
->
w©chîs
[lo›->
nw©chîs
] = 
NULL
;

399 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = 
NULL
;

401 i‡(
have_sig«ls
 != 0)

404 i‡(
√víts
 != 0) {

405 i‡(
nfds
 =
	`ARRAY_SIZE
(
evíts
Ë&& --
cou¡
 != 0) {

407 
timeout
 = 0;

413 i‡(
timeout
 == 0)

416 i‡(
timeout
 == -1)

419 
upd©e_timeout
:

420 
	`as£π
(
timeout
 > 0);

422 
ªÆ_timeout
 -(
lo›
->
time
 - 
ba£
);

423 i‡(
ªÆ_timeout
 <= 0)

426 
timeout
 = 
ªÆ_timeout
;

428 
	}
}

431 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

432 
˛ock_t
 
Á°_˛ock_id
 = -1;

433 
time•ec
 
t
;

434 
˛ock_t
 
˛ock_id
;

444 i‡(
ty≥
 =
UV_CLOCK_FAST
 && 
Á°_˛ock_id
 == -1) {

445 i‡(
	`˛ock_gëªs
(
CLOCK_MONOTONIC_COARSE
, &
t
) == 0 &&

446 
t
.
tv_n£c
 <= 1 * 1000 * 1000) {

447 
Á°_˛ock_id
 = 
CLOCK_MONOTONIC_COARSE
;

449 
Á°_˛ock_id
 = 
CLOCK_MONOTONIC
;

453 
˛ock_id
 = 
CLOCK_MONOTONIC
;

454 i‡(
ty≥
 =
UV_CLOCK_FAST
)

455 
˛ock_id
 = 
Á°_˛ock_id
;

457 i‡(
	`˛ock_gëtime
(
˛ock_id
, &
t
))

460  
t
.
tv_£c
 * (
uöt64_t
Ë1e9 +Å.
tv_n£c
;

461 
	}
}

	@deps/libtuv/src/unix/linux-inotify.c

21 
	~"uv.h
"

22 
	~"åì.h
"

23 
	~"öã∫Æ.h
"

25 
	~<°döt.h
>

26 
	~<°dio.h
>

27 
	~<°dlib.h
>

28 
	~<°rög.h
>

29 
	~<as£π.h
>

30 
	~<î∫o.h
>

32 
	~<sys/ty≥s.h
>

33 
	~<uni°d.h
>

35 
	sw©chî_li°
 {

36 
RB_ENTRY
(
w©chî_li°
Ë
	míåy
;

37 
QUEUE
 
	mw©chîs
;

38 
	môî©ög
;

39 * 
	m∑th
;

40 
	mwd
;

43 
	sw©chî_roŸ
 {

44 
w©chî_li°
* 
	mrbh_roŸ
;

46 
	#CAST
(
p
Ë((
w©chî_roŸ
*)’))

	)

49 
	$com∑ª_w©chîs
(c⁄° 
w©chî_li°
* 
a
,

50 c⁄° 
w©chî_li°
* 
b
) {

51 i‡(
a
->
wd
 < 
b
->wd)  -1;

52 i‡(
a
->
wd
 > 
b
->wd)  1;

54 
	}
}

57 
	$RB_GENERATE_STATIC
(
w©chî_roŸ
, 
w©chî_li°
, 
íåy
, 
com∑ª_w©chîs
)

60 
	`uv__öŸify_ªad
(
uv_lo›_t
* 
lo›
,

61 
uv__io_t
* 
w
,

62 
ªvíts
);

65 
	$√w_öŸify_fd
() {

66 
îr
;

67 
fd
;

69 
fd
 = 
	`uv__öŸify_öô1
(
UV__IN_NONBLOCK
 | 
UV__IN_CLOEXEC
);

70 i‡(
fd
 != -1)

71  
fd
;

73 i‡(
î∫o
 !
ENOSYS
)

74  -
î∫o
;

76 
fd
 = 
	`uv__öŸify_öô
();

77 i‡(
fd
 == -1)

78  -
î∫o
;

80 
îr
 = 
	`uv__˛€xec
(
fd
, 1);

81 i‡(
îr
 == 0)

82 
îr
 = 
	`uv__n⁄block
(
fd
, 1);

84 i‡(
îr
) {

85 
	`uv__˛o£
(
fd
);

86  
îr
;

89  
fd
;

90 
	}
}

93 
	$öô_öŸify
(
uv_lo›_t
* 
lo›
) {

94 
îr
;

96 i‡(
lo›
->
öŸify_fd
 != -1)

99 
îr
 = 
	`√w_öŸify_fd
();

100 i‡(
îr
 < 0)

101  
îr
;

103 
lo›
->
öŸify_fd
 = 
îr
;

104 
	`uv__io_öô
(&
lo›
->
öŸify_ªad_w©chî
, 
uv__öŸify_ªad
,Üo›->
öŸify_fd
);

105 
	`uv__io_°¨t
(
lo›
, &lo›->
öŸify_ªad_w©chî
, 
POLLIN
);

108 
	}
}

111 
w©chî_li°
* 
	$föd_w©chî
(
uv_lo›_t
* 
lo›
, 
wd
) {

112 
w©chî_li°
 
w
;

113 
w
.
wd
 = wd;

114  
	`RB_FIND
(
w©chî_roŸ
, 
	`CAST
(&
lo›
->
öŸify_w©chîs
), &
w
);

115 
	}
}

117 
	$maybe_‰ì_w©chî_li°
(
w©chî_li°
* 
w
, 
uv_lo›_t
* 
lo›
) {

119 i‡((!
w
->
ôî©ög
Ë&& 
	`QUEUE_EMPTY
(&w->
w©chîs
)) {

121 
	`RB_REMOVE
(
w©chî_roŸ
, 
	`CAST
(&
lo›
->
öŸify_w©chîs
), 
w
);

122 
	`uv__öŸify_rm_w©ch
(
lo›
->
öŸify_fd
, 
w
->
wd
);

123 
	`uv__‰ì
(
w
);

125 
	}
}

127 
	$uv__öŸify_ªad
(
uv_lo›_t
* 
lo›
,

128 
uv__io_t
* 
dummy
,

129 
evíts
) {

130 c⁄° 
uv__öŸify_evít
* 
e
;

131 
w©chî_li°
* 
w
;

132 
uv_fs_evít_t
* 
h
;

133 
QUEUE
 
queue
;

134 
QUEUE
* 
q
;

135 c⁄° * 
∑th
;

136 
ssize_t
 
size
;

137 c⁄° *
p
;

139 
buf
[4096];

143 
size
 = 
	`ªad
(
lo›
->
öŸify_fd
, 
buf
, (buf));

144 
size
 =-1 && 
î∫o
 =
EINTR
);

146 i‡(
size
 == -1) {

147 
	`as£π
(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
);

151 
	`as£π
(
size
 > 0);

154 
p
 = 
buf
;Ö < bu‡+ 
size
;Ö +(*
e
Ë+É->
Àn
) {

155 
e
 = (c⁄° 
uv__öŸify_evít
*)
p
;

157 
evíts
 = 0;

158 i‡(
e
->
mask
 & (
UV__IN_ATTRIB
|
UV__IN_MODIFY
))

159 
evíts
 |
UV_CHANGE
;

160 i‡(
e
->
mask
 & ~(
UV__IN_ATTRIB
|
UV__IN_MODIFY
))

161 
evíts
 |
UV_RENAME
;

163 
w
 = 
	`föd_w©chî
(
lo›
, 
e
->
wd
);

164 i‡(
w
 =
NULL
)

171 
∑th
 = 
e
->
Àn
 ? (c⁄° *Ë” + 1Ë: 
	`uv__ba£«me_r
(
w
->path);

184 
w
->
ôî©ög
 = 1;

185 
	`QUEUE_MOVE
(&
w
->
w©chîs
, &
queue
);

186 !
	`QUEUE_EMPTY
(&
queue
)) {

187 
q
 = 
	`QUEUE_HEAD
(&
queue
);

188 
h
 = 
	`QUEUE_DATA
(
q
, 
uv_fs_evít_t
, 
w©chîs
);

190 
	`QUEUE_REMOVE
(
q
);

191 
	`QUEUE_INSERT_TAIL
(&
w
->
w©chîs
, 
q
);

193 
h
->
	`cb
(h, 
∑th
, 
evíts
, 0);

196 
w
->
ôî©ög
 = 0;

197 
	`maybe_‰ì_w©chî_li°
(
w
, 
lo›
);

200 
	}
}

203 
	$uv_fs_evít_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_evít_t
* 
h™dÀ
) {

204 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_FS_EVENT
);

206 
	}
}

209 
	$uv_fs_evít_°¨t
(
uv_fs_evít_t
* 
h™dÀ
,

210 
uv_fs_evít_cb
 
cb
,

211 c⁄° * 
∑th
,

212 
Êags
) {

213 
w©chî_li°
* 
w
;

214 
evíts
;

215 
îr
;

216 
wd
;

218 i‡(
	`uv__is_a˘ive
(
h™dÀ
))

219  -
EINVAL
;

221 
îr
 = 
	`öô_öŸify
(
h™dÀ
->
lo›
);

222 i‡(
îr
)

223  
îr
;

225 
evíts
 = 
UV__IN_ATTRIB


226 | 
UV__IN_CREATE


227 | 
UV__IN_MODIFY


228 | 
UV__IN_DELETE


229 | 
UV__IN_DELETE_SELF


230 | 
UV__IN_MOVE_SELF


231 | 
UV__IN_MOVED_FROM


232 | 
UV__IN_MOVED_TO
;

234 
wd
 = 
	`uv__öŸify_add_w©ch
(
h™dÀ
->
lo›
->
öŸify_fd
, 
∑th
, 
evíts
);

235 i‡(
wd
 == -1)

236  -
î∫o
;

238 
w
 = 
	`föd_w©chî
(
h™dÀ
->
lo›
, 
wd
);

239 i‡(
w
)

240 
no_ö£π
;

242 
w
 = 
	`uv__mÆloc
((*wË+ 
	`°æí
(
∑th
) + 1);

243 i‡(
w
 =
NULL
)

244  -
ENOMEM
;

246 
w
->
wd
 = wd;

247 
w
->
∑th
 = 
	`°r˝y
((*)(w + 1),Öath);

248 
	`QUEUE_INIT
(&
w
->
w©chîs
);

249 
w
->
ôî©ög
 = 0;

250 
	`RB_INSERT
(
w©chî_roŸ
, 
	`CAST
(&
h™dÀ
->
lo›
->
öŸify_w©chîs
), 
w
);

252 
no_ö£π
:

253 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

254 
	`QUEUE_INSERT_TAIL
(&
w
->
w©chîs
, &
h™dÀ
->watchers);

255 
h™dÀ
->
∑th
 = 
w
->path;

256 
h™dÀ
->
cb
 = cb;

257 
h™dÀ
->
wd
 = wd;

260 
	}
}

263 
	$uv_fs_evít_°›
(
uv_fs_evít_t
* 
h™dÀ
) {

264 
w©chî_li°
* 
w
;

266 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))

269 
w
 = 
	`föd_w©chî
(
h™dÀ
->
lo›
, h™dÀ->
wd
);

270 
	`as£π
(
w
 !
NULL
);

272 
h™dÀ
->
wd
 = -1;

273 
h™dÀ
->
∑th
 = 
NULL
;

274 
	`uv__h™dÀ_°›
(
h™dÀ
);

275 
	`QUEUE_REMOVE
(&
h™dÀ
->
w©chîs
);

277 
	`maybe_‰ì_w©chî_li°
(
w
, 
h™dÀ
->
lo›
);

280 
	}
}

283 
	$uv__fs_evít_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

284 
	`uv_fs_evít_°›
(
h™dÀ
);

285 
	}
}

	@deps/libtuv/src/unix/linux-syscalls.c

37 
	~"löux-sysˇŒs.h
"

38 
	~<uni°d.h
>

39 
	~<sig«l.h
>

40 
	~<sys/sysˇŒ.h
>

41 
	~<sys/ty≥s.h
>

42 
	~<î∫o.h
>

44 #i‡
deföed
(
__has_„©uª
)

45 #i‡
__has_„©uª
(
mem‹y_ßnôizî
)

46 
	#MSAN_ACTIVE
 1

	)

47 
	~<ßnôizî/mßn_öãrÁ˚.h
>

51 #i‡
deföed
(
__i386__
)

52 #i‚de‡
__NR_sockëˇŒ


53 
	#__NR_sockëˇŒ
 102

	)

57 #i‡
deföed
(
__¨m__
)

58 #i‡
deföed
(
__thumb__
Ë|| deföed(
__ARM_EABI__
)

59 
	#UV_SYSCALL_BASE
 0

	)

61 
	#UV_SYSCALL_BASE
 0x900000

	)

65 #i‚de‡
__NR_ac˚±4


66 #i‡
deföed
(
__x86_64__
)

67 
	#__NR_ac˚±4
 288

	)

68 #ñi‡
deföed
(
__i386__
)

70 #ñi‡
deföed
(
__¨m__
)

71 
	#__NR_ac˚±4
 (
UV_SYSCALL_BASE
 + 366)

	)

75 #i‚de‡
__NR_evítfd


76 #i‡
deföed
(
__x86_64__
)

77 
	#__NR_evítfd
 284

	)

78 #ñi‡
deföed
(
__i386__
)

79 
	#__NR_evítfd
 323

	)

80 #ñi‡
deföed
(
__¨m__
)

81 
	#__NR_evítfd
 (
UV_SYSCALL_BASE
 + 351)

	)

85 #i‚de‡
__NR_evítfd2


86 #i‡
deföed
(
__x86_64__
)

87 
	#__NR_evítfd2
 290

	)

88 #ñi‡
deföed
(
__i386__
)

89 
	#__NR_evítfd2
 328

	)

90 #ñi‡
deföed
(
__¨m__
)

91 
	#__NR_evítfd2
 (
UV_SYSCALL_BASE
 + 356)

	)

95 #i‚de‡
__NR_ïﬁl_¸óã


96 #i‡
deföed
(
__x86_64__
)

97 
	#__NR_ïﬁl_¸óã
 213

	)

98 #ñi‡
deföed
(
__i386__
)

99 
	#__NR_ïﬁl_¸óã
 254

	)

100 #ñi‡
deföed
(
__¨m__
)

101 
	#__NR_ïﬁl_¸óã
 (
UV_SYSCALL_BASE
 + 250)

	)

105 #i‚de‡
__NR_ïﬁl_¸óã1


106 #i‡
deföed
(
__x86_64__
)

107 
	#__NR_ïﬁl_¸óã1
 291

	)

108 #ñi‡
deföed
(
__i386__
)

109 
	#__NR_ïﬁl_¸óã1
 329

	)

110 #ñi‡
deföed
(
__¨m__
)

111 
	#__NR_ïﬁl_¸óã1
 (
UV_SYSCALL_BASE
 + 357)

	)

115 #i‚de‡
__NR_ïﬁl_˘l


116 #i‡
deföed
(
__x86_64__
)

117 
	#__NR_ïﬁl_˘l
 233

	)

118 #ñi‡
deföed
(
__i386__
)

119 
	#__NR_ïﬁl_˘l
 255

	)

120 #ñi‡
deföed
(
__¨m__
)

121 
	#__NR_ïﬁl_˘l
 (
UV_SYSCALL_BASE
 + 251)

	)

125 #i‚de‡
__NR_ïﬁl_waô


126 #i‡
deföed
(
__x86_64__
)

127 
	#__NR_ïﬁl_waô
 232

	)

128 #ñi‡
deföed
(
__i386__
)

129 
	#__NR_ïﬁl_waô
 256

	)

130 #ñi‡
deföed
(
__¨m__
)

131 
	#__NR_ïﬁl_waô
 (
UV_SYSCALL_BASE
 + 252)

	)

135 #i‚de‡
__NR_ïﬁl_pwaô


136 #i‡
deföed
(
__x86_64__
)

137 
	#__NR_ïﬁl_pwaô
 281

	)

138 #ñi‡
deföed
(
__i386__
)

139 
	#__NR_ïﬁl_pwaô
 319

	)

140 #ñi‡
deföed
(
__¨m__
)

141 
	#__NR_ïﬁl_pwaô
 (
UV_SYSCALL_BASE
 + 346)

	)

145 #i‚de‡
__NR_öŸify_öô


146 #i‡
deföed
(
__x86_64__
)

147 
	#__NR_öŸify_öô
 253

	)

148 #ñi‡
deföed
(
__i386__
)

149 
	#__NR_öŸify_öô
 291

	)

150 #ñi‡
deföed
(
__¨m__
)

151 
	#__NR_öŸify_öô
 (
UV_SYSCALL_BASE
 + 316)

	)

155 #i‚de‡
__NR_öŸify_öô1


156 #i‡
deföed
(
__x86_64__
)

157 
	#__NR_öŸify_öô1
 294

	)

158 #ñi‡
deföed
(
__i386__
)

159 
	#__NR_öŸify_öô1
 332

	)

160 #ñi‡
deföed
(
__¨m__
)

161 
	#__NR_öŸify_öô1
 (
UV_SYSCALL_BASE
 + 360)

	)

165 #i‚de‡
__NR_öŸify_add_w©ch


166 #i‡
deföed
(
__x86_64__
)

167 
	#__NR_öŸify_add_w©ch
 254

	)

168 #ñi‡
deföed
(
__i386__
)

169 
	#__NR_öŸify_add_w©ch
 292

	)

170 #ñi‡
deföed
(
__¨m__
)

171 
	#__NR_öŸify_add_w©ch
 (
UV_SYSCALL_BASE
 + 317)

	)

175 #i‚de‡
__NR_öŸify_rm_w©ch


176 #i‡
deföed
(
__x86_64__
)

177 
	#__NR_öŸify_rm_w©ch
 255

	)

178 #ñi‡
deföed
(
__i386__
)

179 
	#__NR_öŸify_rm_w©ch
 293

	)

180 #ñi‡
deföed
(
__¨m__
)

181 
	#__NR_öŸify_rm_w©ch
 (
UV_SYSCALL_BASE
 + 318)

	)

185 #i‚de‡
__NR_pùe2


186 #i‡
deföed
(
__x86_64__
)

187 
	#__NR_pùe2
 293

	)

188 #ñi‡
deföed
(
__i386__
)

189 
	#__NR_pùe2
 331

	)

190 #ñi‡
deföed
(
__¨m__
)

191 
	#__NR_pùe2
 (
UV_SYSCALL_BASE
 + 359)

	)

195 #i‚de‡
__NR_ªcvmmsg


196 #i‡
deföed
(
__x86_64__
)

197 
	#__NR_ªcvmmsg
 299

	)

198 #ñi‡
deföed
(
__i386__
)

199 
	#__NR_ªcvmmsg
 337

	)

200 #ñi‡
deföed
(
__¨m__
)

201 
	#__NR_ªcvmmsg
 (
UV_SYSCALL_BASE
 + 365)

	)

205 #i‚de‡
__NR_£ndmmsg


206 #i‡
deföed
(
__x86_64__
)

207 
	#__NR_£ndmmsg
 307

	)

208 #ñi‡
deföed
(
__i386__
)

209 
	#__NR_£ndmmsg
 345

	)

210 #ñi‡
deföed
(
__¨m__
)

211 
	#__NR_£ndmmsg
 (
UV_SYSCALL_BASE
 + 374)

	)

215 #i‚de‡
__NR_utimíßt


216 #i‡
deföed
(
__x86_64__
)

217 
	#__NR_utimíßt
 280

	)

218 #ñi‡
deföed
(
__i386__
)

219 
	#__NR_utimíßt
 320

	)

220 #ñi‡
deföed
(
__¨m__
)

221 
	#__NR_utimíßt
 (
UV_SYSCALL_BASE
 + 348)

	)

225 #i‚de‡
__NR_¥ódv


226 #i‡
deföed
(
__x86_64__
)

227 
	#__NR_¥ódv
 295

	)

228 #ñi‡
deföed
(
__i386__
)

229 
	#__NR_¥ódv
 333

	)

230 #ñi‡
deföed
(
__¨m__
)

231 
	#__NR_¥ódv
 (
UV_SYSCALL_BASE
 + 361)

	)

235 #i‚de‡
__NR_pwrôev


236 #i‡
deföed
(
__x86_64__
)

237 
	#__NR_pwrôev
 296

	)

238 #ñi‡
deföed
(
__i386__
)

239 
	#__NR_pwrôev
 334

	)

240 #ñi‡
deföed
(
__¨m__
)

241 
	#__NR_pwrôev
 (
UV_SYSCALL_BASE
 + 362)

	)

245 #i‚de‡
__NR_dup3


246 #i‡
deföed
(
__x86_64__
)

247 
	#__NR_dup3
 292

	)

248 #ñi‡
deföed
(
__i386__
)

249 
	#__NR_dup3
 330

	)

250 #ñi‡
deföed
(
__¨m__
)

251 
	#__NR_dup3
 (
UV_SYSCALL_BASE
 + 358)

	)

256 
	$uv__ac˚±4
(
fd
, 
sockaddr
* 
addr
, 
sockÀn_t
* 
addæí
, 
Êags
) {

257 #i‡
	`deföed
(
__i386__
)

258 
¨gs
[4];

259 
r
;

261 
¨gs
[0] = (Ë
fd
;

262 
¨gs
[1] = (Ë
addr
;

263 
¨gs
[2] = (Ë
addæí
;

264 
¨gs
[3] = (Ë
Êags
;

266 
r
 = 
	`sysˇŒ
(
__NR_sockëˇŒ
, 18 , 
¨gs
);

271 i‡(
r
 == -1)

272 i‡(
î∫o
 =
EINVAL
)

273 i‡((
Êags
 & ~(
UV__SOCK_CLOEXEC
|
UV__SOCK_NONBLOCK
)) == 0)

274 
î∫o
 = 
ENOSYS
;

276  
r
;

277 #ñi‡
	`deföed
(
__NR_ac˚±4
)

278  
	`sysˇŒ
(
__NR_ac˚±4
, 
fd
, 
addr
, 
addæí
, 
Êags
);

280  
î∫o
 = 
ENOSYS
, -1;

282 
	}
}

285 
	$uv__evítfd
(
cou¡
) {

286 #i‡
	`deföed
(
__NR_evítfd
)

287  
	`sysˇŒ
(
__NR_evítfd
, 
cou¡
);

289  
î∫o
 = 
ENOSYS
, -1;

291 
	}
}

294 
	$uv__evítfd2
(
cou¡
, 
Êags
) {

295 #i‡
	`deföed
(
__NR_evítfd2
)

296  
	`sysˇŒ
(
__NR_evítfd2
, 
cou¡
, 
Êags
);

298  
î∫o
 = 
ENOSYS
, -1;

300 
	}
}

303 
	$uv__ïﬁl_¸óã
(
size
) {

304 #i‡
	`deföed
(
__NR_ïﬁl_¸óã
)

305  
	`sysˇŒ
(
__NR_ïﬁl_¸óã
, 
size
);

307  
î∫o
 = 
ENOSYS
, -1;

309 
	}
}

312 
	$uv__ïﬁl_¸óã1
(
Êags
) {

313 #i‡
	`deföed
(
__NR_ïﬁl_¸óã1
)

314  
	`sysˇŒ
(
__NR_ïﬁl_¸óã1
, 
Êags
);

316  
î∫o
 = 
ENOSYS
, -1;

318 
	}
}

321 
	$uv__ïﬁl_˘l
(
ïfd
, 
›
, 
fd
, 
uv__ïﬁl_evít
* 
evíts
) {

322 #i‡
	`deföed
(
__NR_ïﬁl_˘l
)

323  
	`sysˇŒ
(
__NR_ïﬁl_˘l
, 
ïfd
, 
›
, 
fd
, 
evíts
);

325  
î∫o
 = 
ENOSYS
, -1;

327 
	}
}

330 
	$uv__ïﬁl_waô
(
ïfd
,

331 
uv__ïﬁl_evít
* 
evíts
,

332 
√víts
,

333 
timeout
) {

334 #i‡
	`deföed
(
__NR_ïﬁl_waô
)

335 
ªsu…
;

336 
ªsu…
 = 
	`sysˇŒ
(
__NR_ïﬁl_waô
, 
ïfd
, 
evíts
, 
√víts
, 
timeout
);

337 #i‡
MSAN_ACTIVE


338 i‡(
ªsu…
 > 0)

339 
	`__mßn_u≈ois⁄
(
evíts
, ”víts[0]Ë* 
ªsu…
);

341  
ªsu…
;

343  
î∫o
 = 
ENOSYS
, -1;

345 
	}
}

348 
	$uv__ïﬁl_pwaô
(
ïfd
,

349 
uv__ïﬁl_evít
* 
evíts
,

350 
√víts
,

351 
timeout
,

352 
uöt64_t
 
sigmask
) {

353 #i‡
	`deföed
(
__NR_ïﬁl_pwaô
)

354 
ªsu…
;

355 
ªsu…
 = 
	`sysˇŒ
(
__NR_ïﬁl_pwaô
,

356 
ïfd
,

357 
evíts
,

358 
√víts
,

359 
timeout
,

360 &
sigmask
,

361 (
sigmask
));

362 #i‡
MSAN_ACTIVE


363 i‡(
ªsu…
 > 0)

364 
	`__mßn_u≈ois⁄
(
evíts
, ”víts[0]Ë* 
ªsu…
);

366  
ªsu…
;

368  
î∫o
 = 
ENOSYS
, -1;

370 
	}
}

373 
	$uv__pùe2
(
pùefd
[2], 
Êags
) {

374 #i‡
	`deföed
(
__NR_pùe2
)

375 
ªsu…
;

376 
ªsu…
 = 
	`sysˇŒ
(
__NR_pùe2
, 
pùefd
, 
Êags
);

377 #i‡
MSAN_ACTIVE


378 i‡(!
ªsu…
)

379 
	`__mßn_u≈ois⁄
(
pùefd
, ([2]));

381  
ªsu…
;

383  
î∫o
 = 
ENOSYS
, -1;

385 
	}
}

388 
	$uv__utimeßt
(
dúfd
,

389 c⁄° * 
∑th
,

390 c⁄° 
time•ec
 
times
[2],

391 
Êags
)

393 #i‡
	`deföed
(
__NR_utimíßt
)

394  
	`sysˇŒ
(
__NR_utimíßt
, 
dúfd
, 
∑th
, 
times
, 
Êags
);

396  
î∫o
 = 
ENOSYS
, -1;

398 
	}
}

401 
ssize_t
 
	$uv__¥ódv
(
fd
, c⁄° 
iovec
 *
iov
, 
iov˙t
, 
öt64_t
 
off£t
) {

402 #i‡
	`deföed
(
__NR_¥ódv
)

403  
	`sysˇŒ
(
__NR_¥ódv
, 
fd
, 
iov
, 
iov˙t
, ()
off£t
, ()(offset >> 32));

405  
î∫o
 = 
ENOSYS
, -1;

407 
	}
}

410 
ssize_t
 
	$uv__pwrôev
(
fd
, c⁄° 
iovec
 *
iov
, 
iov˙t
, 
öt64_t
 
off£t
) {

411 #i‡
	`deföed
(
__NR_pwrôev
)

412  
	`sysˇŒ
(
__NR_pwrôev
, 
fd
, 
iov
, 
iov˙t
, ()
off£t
, ()(offset >> 32));

414  
î∫o
 = 
ENOSYS
, -1;

416 
	}
}

	@deps/libtuv/src/unix/linux-syscalls.h

22 #i‚de‡
UV_LINUX_SYSCALL_H_


23 
	#UV_LINUX_SYSCALL_H_


	)

25 #unde‡
_GNU_SOURCE


26 
	#_GNU_SOURCE


	)

28 
	~<°döt.h
>

29 
	~<sig«l.h
>

30 
	~<sys/ty≥s.h
>

31 
	~<sys/time.h
>

32 
	~<sys/sockë.h
>

34 #i‡
deföed
(
__Æpha__
)

35 
	#UV__O_CLOEXEC
 0x200000

	)

36 #ñi‡
deföed
(
__hµa__
)

37 
	#UV__O_CLOEXEC
 0x200000

	)

38 #ñi‡
deföed
(
__•¨c__
)

39 
	#UV__O_CLOEXEC
 0x400000

	)

41 
	#UV__O_CLOEXEC
 0x80000

	)

44 #i‡
deföed
(
__Æpha__
)

45 
	#UV__O_NONBLOCK
 0x4

	)

46 #ñi‡
deföed
(
__hµa__
)

47 
	#UV__O_NONBLOCK
 
O_NONBLOCK


	)

48 #ñi‡
deföed
(
__mùs__
)

49 
	#UV__O_NONBLOCK
 0x80

	)

50 #ñi‡
deföed
(
__•¨c__
)

51 
	#UV__O_NONBLOCK
 0x4000

	)

53 
	#UV__O_NONBLOCK
 0x800

	)

56 
	#UV__EFD_CLOEXEC
 
UV__O_CLOEXEC


	)

57 
	#UV__EFD_NONBLOCK
 
UV__O_NONBLOCK


	)

59 
	#UV__IN_CLOEXEC
 
UV__O_CLOEXEC


	)

60 
	#UV__IN_NONBLOCK
 
UV__O_NONBLOCK


	)

62 
	#UV__SOCK_CLOEXEC
 
UV__O_CLOEXEC


	)

63 #i‡
deföed
(
SOCK_NONBLOCK
)

64 
	#UV__SOCK_NONBLOCK
 
SOCK_NONBLOCK


	)

66 
	#UV__SOCK_NONBLOCK
 
UV__O_NONBLOCK


	)

70 
	#UV__EPOLL_CLOEXEC
 
UV__O_CLOEXEC


	)

71 
	#UV__EPOLL_CTL_ADD
 1

	)

72 
	#UV__EPOLL_CTL_DEL
 2

	)

73 
	#UV__EPOLL_CTL_MOD
 3

	)

76 
	#UV__IN_ACCESS
 0x001

	)

77 
	#UV__IN_MODIFY
 0x002

	)

78 
	#UV__IN_ATTRIB
 0x004

	)

79 
	#UV__IN_CLOSE_WRITE
 0x008

	)

80 
	#UV__IN_CLOSE_NOWRITE
 0x010

	)

81 
	#UV__IN_OPEN
 0x020

	)

82 
	#UV__IN_MOVED_FROM
 0x040

	)

83 
	#UV__IN_MOVED_TO
 0x080

	)

84 
	#UV__IN_CREATE
 0x100

	)

85 
	#UV__IN_DELETE
 0x200

	)

86 
	#UV__IN_DELETE_SELF
 0x400

	)

87 
	#UV__IN_MOVE_SELF
 0x800

	)

89 #i‡
deföed
(
__x86_64__
)

90 
	suv__ïﬁl_evít
 {

91 
uöt32_t
 
	mevíts
;

92 
uöt64_t
 
	md©a
;

93 } 
__©åibuã__
((
∑cked
));

95 
	suv__ïﬁl_evít
 {

96 
uöt32_t
 
	mevíts
;

97 
uöt64_t
 
	md©a
;

101 
	suv__öŸify_evít
 {

102 
öt32_t
 
	mwd
;

103 
uöt32_t
 
	mmask
;

104 
uöt32_t
 
	mcookõ
;

105 
uöt32_t
 
	mÀn
;

109 
	suv__mmsghdr
 {

110 
msghdr
 
	mmsg_hdr
;

111 
	mmsg_Àn
;

114 
uv__ac˚±4
(
fd
, 
sockaddr
* 
addr
, 
sockÀn_t
* 
addæí
, 
Êags
);

115 
uv__evítfd
(
cou¡
);

116 
uv__ïﬁl_¸óã
(
size
);

117 
uv__ïﬁl_¸óã1
(
Êags
);

118 
uv__ïﬁl_˘l
(
ïfd
, 
›
, 
fd
, 
uv__ïﬁl_evít
 *
ev
);

119 
uv__ïﬁl_waô
(
ïfd
,

120 
uv__ïﬁl_evít
* 
evíts
,

121 
√víts
,

122 
timeout
);

123 
uv__ïﬁl_pwaô
(
ïfd
,

124 
uv__ïﬁl_evít
* 
evíts
,

125 
√víts
,

126 
timeout
,

127 
uöt64_t
 
sigmask
);

128 
uv__evítfd2
(
cou¡
, 
Êags
);

129 
uv__öŸify_öô
();

130 
uv__öŸify_öô1
(
Êags
);

131 
uv__öŸify_add_w©ch
(
fd
, c⁄° * 
∑th
, 
uöt32_t
 
mask
);

132 
uv__öŸify_rm_w©ch
(
fd
, 
öt32_t
 
wd
);

133 
uv__pùe2
(
pùefd
[2], 
Êags
);

134 
uv__ªcvmmsg
(
fd
,

135 
uv__mmsghdr
* 
mmsg
,

136 
vÀn
,

137 
Êags
,

138 
time•ec
* 
timeout
);

139 
uv__£ndmmsg
(
fd
,

140 
uv__mmsghdr
* 
mmsg
,

141 
vÀn
,

142 
Êags
);

143 
uv__utimeßt
(
dúfd
,

144 c⁄° * 
∑th
,

145 c⁄° 
time•ec
 
times
[2],

146 
Êags
);

147 
ssize_t
 
uv__¥ódv
(
fd
, c⁄° 
iovec
 *
iov
, 
iov˙t
, 
öt64_t
 
off£t
);

148 
ssize_t
 
uv__pwrôev
(
fd
, c⁄° 
iovec
 *
iov
, 
iov˙t
, 
öt64_t
 
off£t
);

149 
uv__dup3
(
ﬁdfd
, 
√wfd
, 
Êags
);

	@deps/libtuv/src/unix/loop-watcher.c

37 
	~"uv.h
"

38 
	~"öã∫Æ.h
"

40 
	#UV_LOOP_WATCHER_DEFINE
(
«me
, 
ty≥
) \

41 
uv_
##
«me
##
	`_öô
(
uv_lo›_t
* 
lo›
, uv_##«me##
_t
* 
h™dÀ
) { \

42 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_
##
ty≥
); \

43 
h™dÀ
->
«me
##
_cb
 = 
NULL
; \

47 
uv_
##
«me
##
	`_°¨t
(uv_##«me##
_t
* 
h™dÀ
, uv_##«me##
_cb
 
cb
) { \

48 i‡(
	`uv__is_a˘ive
(
h™dÀ
))  0; \

49 i‡(
cb
 =
NULL
Ë -
EINVAL
; \

50 
	`QUEUE_INSERT_HEAD
(&
h™dÀ
->
lo›
->
«me
##
_h™dÀs
, &h™dÀ->
queue
); \

51 
h™dÀ
->
«me
##
_cb
 = 
cb
; \

52 
	`uv__h™dÀ_°¨t
(
h™dÀ
); \

56 
uv_
##
«me
##
	`_°›
(uv_##«me##
_t
* 
h™dÀ
) { \

57 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))  0; \

58 
	`QUEUE_REMOVE
(&
h™dÀ
->
queue
); \

59 
	`uv__h™dÀ_°›
(
h™dÀ
); \

63 
uv__run_
##
	`«me
(
uv_lo›_t
* 
lo›
) { \

64 
uv_
##
«me
##
_t
* 
h
; \

65 
QUEUE
 
queue
; \

66 
QUEUE
* 
q
; \

67 
	`QUEUE_MOVE
(&
lo›
->
«me
##
_h™dÀs
, &
queue
); \

68 !
	`QUEUE_EMPTY
(&
queue
)) { \

69 
q
 = 
	`QUEUE_HEAD
(&
queue
); \

70 
h
 = 
	`QUEUE_DATA
(
q
, 
uv_
##
«me
##
_t
, 
queue
); \

71 
	`QUEUE_REMOVE
(
q
); \

72 
	`QUEUE_INSERT_TAIL
(&
lo›
->
«me
##
_h™dÀs
, 
q
); \

73 
h
->
«me
##
	`_cb
(h); \

77 
uv__
##
«me
##
	`_˛o£
(
uv_
##«me##
_t
* 
h™dÀ
) { \

78 
uv_
##
«me
##
	`_°›
(
h™dÀ
); \

79 }

	)

81 
UV_LOOP_WATCHER_DEFINE
(
idÀ
, 
IDLE
)

	@deps/libtuv/src/unix/loop.c

37 
	~"uv.h
"

38 
	~"åì.h
"

39 
	~"öã∫Æ.h
"

40 
	~"hóp-öl.h
"

41 
	~<°dlib.h
>

42 
	~<°rög.h
>

43 
	~<uni°d.h
>

45 
	$uv_lo›_öô
(
uv_lo›_t
* 
lo›
) {

46 * 
ßved_d©a
;

47 
îr
;

49 
ßved_d©a
 = 
lo›
->
d©a
;

50 
	`mem£t
(
lo›
, 0, (*loop));

51 
lo›
->
d©a
 = 
ßved_d©a
;

53 
	`hóp_öô
((
hóp
*Ë&
lo›
->
timî_hóp
);

54 
	`QUEUE_INIT
(&
lo›
->
wq
);

55 
	`QUEUE_INIT
(&
lo›
->
a˘ive_ªqs
);

56 
	`QUEUE_INIT
(&
lo›
->
idÀ_h™dÀs
);

57 
	`QUEUE_INIT
(&
lo›
->
async_h™dÀs
);

58 
	`QUEUE_INIT
(&
lo›
->
check_h™dÀs
);

59 
	`QUEUE_INIT
(&
lo›
->
¥ï¨e_h™dÀs
);

60 
	`QUEUE_INIT
(&
lo›
->
h™dÀ_queue
);

62 
lo›
->
nfds
 = 0;

63 
lo›
->
w©chîs
 = 
NULL
;

64 
lo›
->
nw©chîs
 = 0;

65 
	`QUEUE_INIT
(&
lo›
->
≥ndög_queue
);

66 
	`QUEUE_INIT
(&
lo›
->
w©chî_queue
);

68 
lo›
->
˛osög_h™dÀs
 = 
NULL
;

69 
	`uv__upd©e_time
(
lo›
);

70 
	`uv__async_öô
(&
lo›
->
async_w©chî
);

71 
lo›
->
backíd_fd
 = -1;

72 
lo›
->
emfûe_fd
 = -1;

74 
lo›
->
timî_cou¡î
 = 0;

75 
lo›
->
°›_Êag
 = 0;

77 
îr
 = 
	`uv__∂©f‹m_lo›_öô
(
lo›
);

78 i‡(
îr
)

79  
îr
;

81 
	`uv__h™dÀ_uƒef
(&
lo›
->
chûd_w©chî
);

82 
lo›
->
chûd_w©chî
.
Êags
 |
UV__HANDLE_INTERNAL
;

83 
	`QUEUE_INIT
(&
lo›
->
¥o˚ss_h™dÀs
);

85 
îr
 = 
	`uv_rwlock_öô
(&
lo›
->
˛€xec_lock
);

86 i‡(
îr
)

87 
Áû_rwlock_öô
;

89 
îr
 = 
	`uv_muãx_öô
(&
lo›
->
wq_muãx
);

90 i‡(
îr
)

91 
Áû_muãx_öô
;

93 
îr
 = 
	`uv_async_öô
(
lo›
, &lo›->
wq_async
, 
uv__w‹k_d⁄e
);

94 i‡(
îr
)

95 
Áû_async_öô
;

97 
	`uv__h™dÀ_uƒef
(&
lo›
->
wq_async
);

98 
lo›
->
wq_async
.
Êags
 |
UV__HANDLE_INTERNAL
;

102 
Áû_async_öô
:

103 
	`uv_muãx_de°roy
(&
lo›
->
wq_muãx
);

105 
Áû_muãx_öô
:

106 
	`uv_rwlock_de°roy
(&
lo›
->
˛€xec_lock
);

108 
Áû_rwlock_öô
:

109 
	`uv__∂©f‹m_lo›_dñëe
(
lo›
);

111  
îr
;

112 
	}
}

115 
	$uv__lo›_˛o£
(
uv_lo›_t
* 
lo›
) {

116 
	`uv__∂©f‹m_lo›_dñëe
(
lo›
);

117 
	`uv__async_°›
(
lo›
, &lo›->
async_w©chî
);

119 i‡(
lo›
->
emfûe_fd
 != -1) {

120 
	`uv__˛o£
(
lo›
->
emfûe_fd
);

121 
lo›
->
emfûe_fd
 = -1;

124 i‡(
lo›
->
backíd_fd
 != -1) {

125 
	`uv__˛o£
(
lo›
->
backíd_fd
);

126 
lo›
->
backíd_fd
 = -1;

129 
	`uv_muãx_lock
(&
lo›
->
wq_muãx
);

130 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
wq
) && "threadÖool work queueÇotÉmpty!");

131 
	`as£π
(!
	`uv__has_a˘ive_ªqs
(
lo›
));

132 
	`uv_muãx_u∆ock
(&
lo›
->
wq_muãx
);

133 
	`uv_muãx_de°roy
(&
lo›
->
wq_muãx
);

139 
	`uv_rwlock_de°roy
(&
lo›
->
˛€xec_lock
);

142 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
≥ndög_queue
));

143 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

144 
	`as£π
(
lo›
->
nfds
 == 0);

147 
	`uv__‰ì
(
lo›
->
w©chîs
);

148 
lo›
->
w©chîs
 = 
NULL
;

149 
lo›
->
nw©chîs
 = 0;

150 
	}
}

	@deps/libtuv/src/unix/netbsd.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<as£π.h
>

25 
	~<°rög.h
>

26 
	~<î∫o.h
>

28 
	~<kvm.h
>

29 
	~<∑ths.h
>

30 
	~<iÁddrs.h
>

31 
	~<uni°d.h
>

32 
	~<time.h
>

33 
	~<°dlib.h
>

34 
	~<f˙é.h
>

36 
	~<√t/if.h
>

37 
	~<√t/if_dl.h
>

38 
	~<sys/ªsour˚.h
>

39 
	~<sys/ty≥s.h
>

40 
	~<sys/sys˘l.h
>

41 
	~<uvm/uvm_exã∫.h
>

43 
	~<uni°d.h
>

44 
	~<time.h
>

46 #unde‡
NANOSEC


47 
	#NANOSEC
 ((
uöt64_t
Ë1e9)

	)

49 *
	g¥o˚ss_tôÀ
;

52 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

53  
	`uv__kqueue_öô
(
lo›
);

54 
	}
}

57 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

58 
	}
}

61 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

62 
time•ec
 
ts
;

63 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
ts
);

64  (((
uöt64_t
Ë
ts
.
tv_£c
Ë* 
NANOSEC
 +Ås.
tv_n£c
);

65 
	}
}

68 
	$uv_lﬂdavg
(
avg
[3]) {

69 
lﬂdavg
 
öfo
;

70 
size_t
 
size
 = (
öfo
);

71 
which
[] = {
CTL_VM
, 
VM_LOADAVG
};

73 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0) == -1) ;

75 
avg
[0] = (Ë
öfo
.
ldavg
[0] / info.
fsˇÀ
;

76 
avg
[1] = (Ë
öfo
.
ldavg
[1] / info.
fsˇÀ
;

77 
avg
[2] = (Ë
öfo
.
ldavg
[2] / info.
fsˇÀ
;

78 
	}
}

81 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

82 
mib
[4];

83 
size_t
 
cb
;

84 
pid_t
 
mypid
;

86 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

87  -
EINVAL
;

89 
mypid
 = 
	`gëpid
();

90 
mib
[0] = 
CTL_KERN
;

91 
mib
[1] = 
KERN_PROC_ARGS
;

92 
mib
[2] = 
mypid
;

93 
mib
[3] = 
KERN_PROC_ARGV
;

95 
cb
 = *
size
;

96 i‡(
	`sys˘l
(
mib
, 4, 
buf„r
, &
cb
, 
NULL
, 0))

97  -
î∫o
;

98 *
size
 = 
	`°æí
(
buf„r
);

101 
	}
}

104 
uöt64_t
 
	$uv_gë_‰ì_mem‹y
() {

105 
uvmexp
 
öfo
;

106 
size_t
 
size
 = (
öfo
);

107 
which
[] = {
CTL_VM
, 
VM_UVMEXP
};

109 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

110  -
î∫o
;

112  (
uöt64_t
Ë
öfo
.
‰ì
 * 
	`sysc⁄f
(
_SC_PAGESIZE
);

113 
	}
}

116 
uöt64_t
 
	$uv_gë_tŸÆ_mem‹y
() {

117 #i‡
	`deföed
(
HW_PHYSMEM64
)

118 
uöt64_t
 
öfo
;

119 
which
[] = {
CTL_HW
, 
HW_PHYSMEM64
};

121 
öfo
;

122 
which
[] = {
CTL_HW
, 
HW_PHYSMEM
};

124 
size_t
 
size
 = (
öfo
);

126 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

127  -
î∫o
;

129  (
uöt64_t
Ë
öfo
;

130 
	}
}

133 ** 
	$uv_£tup_¨gs
(
¨gc
, ** 
¨gv
) {

134 
¥o˚ss_tôÀ
 = 
¨gc
 ? 
	`uv__°rdup
(
¨gv
[0]Ë: 
NULL
;

135  
¨gv
;

136 
	}
}

139 
	$uv_£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

140 i‡(
¥o˚ss_tôÀ
Ë
	`uv__‰ì
(process_title);

142 
¥o˚ss_tôÀ
 = 
	`uv__°rdup
(
tôÀ
);

143 
	`£çro˘ôÀ
("%s", 
tôÀ
);

146 
	}
}

149 
	$uv_gë_¥o˚ss_tôÀ
(* 
buf„r
, 
size_t
 
size
) {

150 
size_t
 
Àn
;

152 i‡(
buf„r
 =
NULL
 || 
size
 == 0)

153  -
EINVAL
;

155 i‡(
¥o˚ss_tôÀ
) {

156 
Àn
 = 
	`°æí
(
¥o˚ss_tôÀ
) + 1;

158 i‡(
size
 < 
Àn
)

159  -
ENOBUFS
;

161 
	`mem˝y
(
buf„r
, 
¥o˚ss_tôÀ
, 
Àn
);

163 
Àn
 = 0;

166 
buf„r
[
Àn
] = '\0';

169 
	}
}

172 
	$uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
) {

173 
kvm_t
 *
kd
 = 
NULL
;

174 
köfo_¥oc2
 *
köfo
 = 
NULL
;

175 
pid_t
 
pid
;

176 
≈rocs
;

177 
max_size
 = (
köfo_¥oc2
);

178 
∑ge_size
;

180 
∑ge_size
 = 
	`gë∑gesize
();

181 
pid
 = 
	`gëpid
();

183 
kd
 = 
	`kvm_›í
(
NULL
, NULL, NULL, 
KVM_NO_FILES
, "kvm_open");

185 i‡(
kd
 =
NULL
Ë
îr‹
;

187 
köfo
 = 
	`kvm_gë¥oc2
(
kd
, 
KERN_PROC_PID
, 
pid
, 
max_size
, &
≈rocs
);

188 i‡(
köfo
 =
NULL
Ë
îr‹
;

190 *
rss
 = 
köfo
->
p_vm_rssize
 * 
∑ge_size
;

192 
	`kvm_˛o£
(
kd
);

196 
îr‹
:

197 i‡(
kd
Ë
	`kvm_˛o£
(kd);

198  -
EPERM
;

199 
	}
}

202 
	$uv_u±ime
(* 
u±ime
) {

203 
time_t
 
now
;

204 
timevÆ
 
öfo
;

205 
size_t
 
size
 = (
öfo
);

206 
which
[] = {
CTL_KERN
, 
KERN_BOOTTIME
};

208 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

209  -
î∫o
;

211 
now
 = 
	`time
(
NULL
);

213 *
u±ime
 = ()(
now
 - 
öfo
.
tv_£c
);

215 
	}
}

218 
	$uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
) {

219 
ticks
 = ()
	`sysc⁄f
(
_SC_CLK_TCK
);

220 
mu…ùlõr
 = ((
uöt64_t
)1000L / 
ticks
);

221 
cur
 = 0;

222 
uv_˝u_öfo_t
* 
˝u_öfo
;

223 
u_öt64_t
* 
˝_times
;

224 
modñ
[512];

225 
u_öt64_t
 
˝u•ìd
;

226 
num˝us
;

227 
size_t
 
size
;

228 
i
;

230 
size
 = (
modñ
);

231 i‡(
	`sys˘lby«me
("machdï.˝u_bønd", &
modñ
, &
size
, 
NULL
, 0) &&

232 
	`sys˘lby«me
("hw.modñ", &
modñ
, &
size
, 
NULL
, 0)) {

233  -
î∫o
;

236 
size
 = (
num˝us
);

237 i‡(
	`sys˘lby«me
("hw.n˝u", &
num˝us
, &
size
, 
NULL
, 0))

238  -
î∫o
;

239 *
cou¡
 = 
num˝us
;

242 
size
 = (
˝u•ìd
);

243 i‡(
	`sys˘lby«me
("machdï.tsc_‰eq", &
˝u•ìd
, &
size
, 
NULL
, 0))

244 
˝u•ìd
 = 0;

246 
size
 = 
num˝us
 * 
CPUSTATES
 * (*
˝_times
);

247 
˝_times
 = 
	`uv__mÆloc
(
size
);

248 i‡(
˝_times
 =
NULL
)

249  -
ENOMEM
;

251 i‡(
	`sys˘lby«me
("kîn.˝_time", 
˝_times
, &
size
, 
NULL
, 0))

252  -
î∫o
;

254 *
˝u_öfos
 = 
	`uv__mÆloc
(
num˝us
 * (**cpu_infos));

255 i‡(!(*
˝u_öfos
)) {

256 
	`uv__‰ì
(
˝_times
);

257 
	`uv__‰ì
(*
˝u_öfos
);

258  -
ENOMEM
;

261 
i
 = 0; i < 
num˝us
; i++) {

262 
˝u_öfo
 = &(*
˝u_öfos
)[
i
];

263 
˝u_öfo
->
˝u_times
.
u£r
 = (
uöt64_t
)(
˝_times
[
CP_USER
+
cur
]Ë* 
mu…ùlõr
;

264 
˝u_öfo
->
˝u_times
.
ni˚
 = (
uöt64_t
)(
˝_times
[
CP_NICE
+
cur
]Ë* 
mu…ùlõr
;

265 
˝u_öfo
->
˝u_times
.
sys
 = (
uöt64_t
)(
˝_times
[
CP_SYS
+
cur
]Ë* 
mu…ùlõr
;

266 
˝u_öfo
->
˝u_times
.
idÀ
 = (
uöt64_t
)(
˝_times
[
CP_IDLE
+
cur
]Ë* 
mu…ùlõr
;

267 
˝u_öfo
->
˝u_times
.
úq
 = (
uöt64_t
)(
˝_times
[
CP_INTR
+
cur
]Ë* 
mu…ùlõr
;

268 
˝u_öfo
->
modñ
 = 
	`uv__°rdup
(model);

269 
˝u_öfo
->
•ìd
 = ()(
˝u•ìd
/(
uöt64_t
) 1e6);

270 
cur
 +
CPUSTATES
;

272 
	`uv__‰ì
(
˝_times
);

274 
	}
}

277 
	$uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
) {

278 
i
;

280 
i
 = 0; i < 
cou¡
; i++) {

281 
	`uv__‰ì
(
˝u_öfos
[
i
].
modñ
);

284 
	`uv__‰ì
(
˝u_öfos
);

285 
	}
}

288 
	$uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
, * 
cou¡
) {

289 
iÁddrs
 *
addrs
, *
ít
;

290 
uv_öãrÁ˚_addªss_t
* 
addªss
;

291 
i
;

292 
sockaddr_dl
 *
ß_addr
;

294 i‡(
	`gëiÁddrs
(&
addrs
))

295  -
î∫o
;

297 *
cou¡
 = 0;

300 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

301 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

302 (
ít
->
iÁ_addr
 =
NULL
) ||

303 (
ít
->
iÁ_addr
->
ß_Ámûy
 !
PF_INET
)) {

306 (*
cou¡
)++;

309 *
addªs£s
 = 
	`uv__mÆloc
(*
cou¡
 * (**addresses));

311 i‡(!(*
addªs£s
)) {

312 
	`‰ìiÁddrs
(
addrs
);

313  -
ENOMEM
;

316 
addªss
 = *
addªs£s
;

318 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

319 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)))

322 i‡(
ít
->
iÁ_addr
 =
NULL
)

325 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 !
PF_INET
)

328 
addªss
->
«me
 = 
	`uv__°rdup
(
ít
->
iÁ_«me
);

330 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET6
) {

331 
addªss
->addªss.
addªss6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_addr
);

333 
addªss
->addªss.
addªss4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_addr
);

336 i‡(
ít
->
iÁ_√tmask
->
ß_Ámûy
 =
AF_INET6
) {

337 
addªss
->
√tmask
.
√tmask6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_√tmask
);

339 
addªss
->
√tmask
.
√tmask4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_√tmask
);

342 
addªss
->
is_öã∫Æ
 = !!(
ít
->
iÁ_Êags
 & 
IFF_LOOPBACK
);

344 
addªss
++;

348 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

349 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

350 (
ít
->
iÁ_addr
 =
NULL
) ||

351 (
ít
->
iÁ_addr
->
ß_Ámûy
 !
AF_LINK
)) {

355 
addªss
 = *
addªs£s
;

357 
i
 = 0; i < (*
cou¡
); i++) {

358 i‡(
	`°rcmp
(
addªss
->
«me
, 
ít
->
iÁ_«me
) == 0) {

359 
ß_addr
 = (
sockaddr_dl
*)(
ít
->
iÁ_addr
);

360 
	`mem˝y
(
addªss
->
phys_addr
, 
	`LLADDR
(
ß_addr
), (address->phys_addr));

362 
addªss
++;

366 
	`‰ìiÁddrs
(
addrs
);

369 
	}
}

372 
	$uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
, 
cou¡
) {

373 
i
;

375 
i
 = 0; i < 
cou¡
; i++) {

376 
	`uv__‰ì
(
addªs£s
[
i
].
«me
);

379 
	`uv__‰ì
(
addªs£s
);

380 
	}
}

	@deps/libtuv/src/unix/nuttx.c

37 
	~<as£π.h
>

38 
	~<°rög.h
>

40 
	~<uv.h
>

41 
	~"unix/öã∫Æ.h
"

45 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

46 
lo›
->
≈ﬁlfds
 = 0;

48 
	}
}

50 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

51 
lo›
->
≈ﬁlfds
 = 0;

52 
	}
}

57 
	$uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

58 
i
;

59 
nfd
 = 
lo›
->
≈ﬁlfds
;

60 
i
 = 0; i < 
nfd
; ++i) {

61 
pﬁlfd
* 
pfd
 = &
lo›
->
pﬁlfds
[
i
];

62 i‡(
fd
 =
pfd
->fd) {

63 
pfd
->
fd
 = -1;

66 
	}
}

75 
	$gë≥î«me
(
sockfd
, 
sockaddr
* 
addr
, 
sockÀn_t
* 
addæí
) {

77 
	}
}

79 
ssize_t
 
	$ªadv
(
fd
, c⁄° 
iovec
* 
iiovec
, 
cou¡
) {

80 
ssize_t
 
ªsu…
 = 0;

81 
ssize_t
 
tŸÆ
 = 0;

82 
idx
;

84 
idx
 = 0; idx < 
cou¡
; ++idx) {

85 
ªsu…
 = 
	`ªad
(
fd
, 
iiovec
[
idx
].
iov_ba£
, iiovec[idx].
iov_Àn
);

86 i‡(
ªsu…
 < 0) {

87  
ªsu…
;

89 
tŸÆ
 +
ªsu…
;

92  
tŸÆ
;

93 
	}
}

96 
ssize_t
 
	$wrôev
(
fd
, c⁄° 
iovec
* 
iiovec
, 
cou¡
) {

97 
ssize_t
 
ªsu…
 = 0;

98 
ssize_t
 
tŸÆ
 = 0;

99 
idx
;

101 
idx
 = 0; idx < 
cou¡
; ++idx) {

102 
ªsu…
 = 
	`wrôe
(
fd
, 
iiovec
[
idx
].
iov_ba£
, iiovec[idx].
iov_Àn
);

103 i‡(
ªsu…
 < 0) {

104  
ªsu…
;

106 
tŸÆ
 +
ªsu…
;

109  
tŸÆ
;

110 
	}
}

113 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

114 
time•ec
 
ts
;

115 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
ts
);

116 
uöt64_t
 
ªt
 = (((uöt64_tË
ts
.
tv_£c
) * ((uint64_t) 1e9) +

117 (
uöt64_t
Ë
ts
.
tv_n£c
);

118  
ªt
;

119 
	}
}

122 
	$uv__add_pﬁlfd
(
uv_lo›_t
* 
lo›
, 
pﬁlfd
* 
≥
) {

123 
i
;

124 
boﬁ
 
exi°
 = 
Ál£
;

125 
‰ì_idx
 = -1;

126 
i
 = 0; i < 
lo›
->
≈ﬁlfds
; ++i) {

127 
pﬁlfd
* 
cur
 = &
lo›
->
pﬁlfds
[
i
];

128 i‡(
cur
->
fd
 =
≥
->fd) {

129 
cur
->
evíts
 = 
≥
->events;

130 
exi°
 = 
åue
;

133 i‡(
cur
->
fd
 == -1) {

134 
‰ì_idx
 = 
i
;

137 i‡(!
exi°
) {

138 i‡(
‰ì_idx
 == -1) {

139 
‰ì_idx
 = 
lo›
->
≈ﬁlfds
++;

140 i‡(
‰ì_idx
 >
TUV_POLL_EVENTS_SIZE
)

142 
	`TDLOG
("uv__add_pﬁlfdáb‹t, beˇu£Üo›->≈ﬁlfd†(%dËªached maximum size", 
‰ì_idx
);

143 
	`ABORT
();

146 
pﬁlfd
* 
cur
 = &
lo›
->
pﬁlfds
[
‰ì_idx
];

148 
cur
->
fd
 = 
≥
->fd;

149 
cur
->
evíts
 = 
≥
->events;

150 
cur
->
ªvíts
 = 0;

151 
cur
->
£m
 = 0;

152 
cur
->
¥iv
 = 0;

154 
	}
}

157 
	$uv__ªm_pﬁlfd
(
uv_lo›_t
* 
lo›
, 
pﬁlfd
* 
≥
) {

158 
i
 = 0;

159 
i
 < 
lo›
->
≈ﬁlfds
) {

160 
pﬁlfd
* 
cur
 = &
lo›
->
pﬁlfds
[
i
];

161 i‡(
cur
->
fd
 =
≥
->fd) {

162 *
cur
 = 
lo›
->
pﬁlfds
[--lo›->
≈ﬁlfds
];

164 ++
i
;

167 
	}
}

170 
	$uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
) {

171 
pﬁlfd
 
pfd
;

172 
pﬁlfd
* 
≥
;

173 
QUEUE
* 
q
;

174 
uv__io_t
* 
w
;

175 
uöt64_t
 
ba£
;

176 
uöt64_t
 
diff
;

177 
√víts
;

178 
cou¡
;

179 
nfd
;

180 
i
;

182 i‡(
lo›
->
nfds
 == 0) {

183 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

187 !
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
)) {

188 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
w©chî_queue
);

189 
	`QUEUE_REMOVE
(
q
);

190 
	`QUEUE_INIT
(
q
);

192 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
w©chî_queue
);

193 
	`as£π
(
w
->
≥víts
 != 0);

194 
	`as£π
(
w
->
fd
 >= 0);

195 
	`as£π
(
w
->
fd
 < ()
lo›
->
nw©chîs
);

197 
pfd
.
fd
 = 
w
->fd;

198 
pfd
.
evíts
 = 
w
->
≥víts
;

199 
	`uv__add_pﬁlfd
(
lo›
, &
pfd
);

201 
w
->
evíts
 = w->
≥víts
;

204 
	`as£π
(
timeout
 >= -1);

205 
ba£
 = 
lo›
->
time
;

206 
cou¡
 = 5;

209 
nfd
 = 
	`pﬁl
(
lo›
->
pﬁlfds
,Üo›->
≈ﬁlfds
, 
timeout
);

211 
	`SAVE_ERRNO
(
	`uv__upd©e_time
(
lo›
));

213 i‡(
nfd
 == 0) {

214 
	`as£π
(
timeout
 != -1);

218 i‡(
nfd
 == -1) {

219 
îr
 = 
	`gë_î∫o
();

220 i‡(
îr
 =
EAGAIN
) {

221 
	`£t_î∫o
(0);

223 i‡(
îr
 !
EINTR
) {

225 
	`TDLOG
("uv__io_pﬁ»ab‹àf‹Éºno(%d)", 
îr
);

226 
h™dÀ_pﬁl
;

228 i‡(
timeout
 == -1) {

231 i‡(
timeout
 == 0) {

234 
upd©e_timeout
;

237 
h™dÀ_pﬁl
:

238 
√víts
 = 0;

240 
i
 = 0; i < 
lo›
->
≈ﬁlfds
; ++i) {

241 
≥
 = &
lo›
->
pﬁlfds
[
i
];

242 
w
 = 
lo›
->
w©chîs
[
≥
->
fd
];

244 i‡(
w
 =
NULL
) {

245 
	`uv__ªm_pﬁlfd
(
lo›
, 
≥
);

246 --
i
;

250 i‡(
≥
->
fd
 >0 && (≥->
ªvíts
 & (
POLLIN
 | 
POLLOUT
 | 
POLLHUP
))) {

251 
w
->
	`cb
(
lo›
, w, 
≥
->
ªvíts
);

252 ++
√víts
;

256 i‡(
√víts
 != 0) {

257 i‡(--
cou¡
 != 0) {

258 
timeout
 = 0;

263 i‡(
timeout
 == 0) {

266 i‡(
timeout
 == -1) {

269 
upd©e_timeout
:

270 
	`as£π
(
timeout
 > 0);

272 
diff
 = 
lo›
->
time
 - 
ba£
;

273 i‡(
diff
 >(
uöt64_t
)
timeout
) {

276 
timeout
 -
diff
;

278 
	}
}

	@deps/libtuv/src/unix/openbsd.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<sys/ty≥s.h
>

25 
	~<sys/∑øm.h
>

26 
	~<sys/ªsour˚.h
>

27 
	~<sys/sched.h
>

28 
	~<sys/time.h
>

29 
	~<sys/sys˘l.h
>

31 
	~<iÁddrs.h
>

32 
	~<√t/if.h
>

33 
	~<√t/if_dl.h
>

35 
	~<î∫o.h
>

36 
	~<f˙é.h
>

37 
	~<kvm.h
>

38 
	~<∑ths.h
>

39 
	~<°dlib.h
>

40 
	~<°rög.h
>

41 
	~<uni°d.h
>

43 #unde‡
NANOSEC


44 
	#NANOSEC
 ((
uöt64_t
Ë1e9)

	)

47 *
	g¥o˚ss_tôÀ
;

50 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

51  
	`uv__kqueue_öô
(
lo›
);

52 
	}
}

55 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

56 
	}
}

59 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

60 
time•ec
 
ts
;

61 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
ts
);

62  (((
uöt64_t
Ë
ts
.
tv_£c
Ë* 
NANOSEC
 +Ås.
tv_n£c
);

63 
	}
}

66 
	$uv_lﬂdavg
(
avg
[3]) {

67 
lﬂdavg
 
öfo
;

68 
size_t
 
size
 = (
öfo
);

69 
which
[] = {
CTL_VM
, 
VM_LOADAVG
};

71 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0) < 0) ;

73 
avg
[0] = (Ë
öfo
.
ldavg
[0] / info.
fsˇÀ
;

74 
avg
[1] = (Ë
öfo
.
ldavg
[1] / info.
fsˇÀ
;

75 
avg
[2] = (Ë
öfo
.
ldavg
[2] / info.
fsˇÀ
;

76 
	}
}

79 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

80 
mib
[4];

81 **
¨gsbuf
 = 
NULL
;

82 **
¨gsbuf_tmp
;

83 
size_t
 
¨gsbuf_size
 = 100U;

84 
size_t
 
exï©h_size
;

85 
pid_t
 
mypid
;

86 
îr
;

88 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

89  -
EINVAL
;

91 
mypid
 = 
	`gëpid
();

93 
îr
 = -
ENOMEM
;

94 
¨gsbuf_tmp
 = 
	`uv__ªÆloc
(
¨gsbuf
, 
¨gsbuf_size
);

95 i‡(
¨gsbuf_tmp
 =
NULL
)

96 
out
;

97 
¨gsbuf
 = 
¨gsbuf_tmp
;

98 
mib
[0] = 
CTL_KERN
;

99 
mib
[1] = 
KERN_PROC_ARGS
;

100 
mib
[2] = 
mypid
;

101 
mib
[3] = 
KERN_PROC_ARGV
;

102 i‡(
	`sys˘l
(
mib
, 4, 
¨gsbuf
, &
¨gsbuf_size
, 
NULL
, 0) == 0) {

105 i‡(
î∫o
 !
ENOMEM
) {

106 
îr
 = -
î∫o
;

107 
out
;

109 
¨gsbuf_size
 *= 2U;

112 i‡(
¨gsbuf
[0] =
NULL
) {

113 
îr
 = -
EINVAL
;

114 
out
;

117 *
size
 -= 1;

118 
exï©h_size
 = 
	`°æí
(
¨gsbuf
[0]);

119 i‡(*
size
 > 
exï©h_size
)

120 *
size
 = 
exï©h_size
;

122 
	`mem˝y
(
buf„r
, 
¨gsbuf
[0], *
size
);

123 
buf„r
[*
size
] = '\0';

124 
îr
 = 0;

126 
out
:

127 
	`uv__‰ì
(
¨gsbuf
);

129  
îr
;

130 
	}
}

133 
uöt64_t
 
	$uv_gë_‰ì_mem‹y
() {

134 
uvmexp
 
öfo
;

135 
size_t
 
size
 = (
öfo
);

136 
which
[] = {
CTL_VM
, 
VM_UVMEXP
};

138 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

139  -
î∫o
;

141  (
uöt64_t
Ë
öfo
.
‰ì
 * 
	`sysc⁄f
(
_SC_PAGESIZE
);

142 
	}
}

145 
uöt64_t
 
	$uv_gë_tŸÆ_mem‹y
() {

146 
uöt64_t
 
öfo
;

147 
which
[] = {
CTL_HW
, 
HW_PHYSMEM64
};

148 
size_t
 
size
 = (
öfo
);

150 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

151  -
î∫o
;

153  (
uöt64_t
Ë
öfo
;

154 
	}
}

157 ** 
	$uv_£tup_¨gs
(
¨gc
, ** 
¨gv
) {

158 
¥o˚ss_tôÀ
 = 
¨gc
 ? 
	`uv__°rdup
(
¨gv
[0]Ë: 
NULL
;

159  
¨gv
;

160 
	}
}

163 
	$uv_£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

164 
	`uv__‰ì
(
¥o˚ss_tôÀ
);

165 
¥o˚ss_tôÀ
 = 
	`uv__°rdup
(
tôÀ
);

166 
	`£çro˘ôÀ
(
tôÀ
);

168 
	}
}

171 
	$uv_gë_¥o˚ss_tôÀ
(* 
buf„r
, 
size_t
 
size
) {

172 
size_t
 
Àn
;

174 i‡(
buf„r
 =
NULL
 || 
size
 == 0)

175  -
EINVAL
;

177 i‡(
¥o˚ss_tôÀ
) {

178 
Àn
 = 
	`°æí
(
¥o˚ss_tôÀ
) + 1;

180 i‡(
size
 < 
Àn
)

181  -
ENOBUFS
;

183 
	`mem˝y
(
buf„r
, 
¥o˚ss_tôÀ
, 
Àn
);

185 
Àn
 = 0;

188 
buf„r
[
Àn
] = '\0';

191 
	}
}

194 
	$uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
) {

195 
köfo_¥oc
 
köfo
;

196 
size_t
 
∑ge_size
 = 
	`gë∑gesize
();

197 
size_t
 
size
 = (
köfo_¥oc
);

198 
mib
[6];

200 
mib
[0] = 
CTL_KERN
;

201 
mib
[1] = 
KERN_PROC
;

202 
mib
[2] = 
KERN_PROC_PID
;

203 
mib
[3] = 
	`gëpid
();

204 
mib
[4] = (
köfo_¥oc
);

205 
mib
[5] = 1;

207 i‡(
	`sys˘l
(
mib
, 6, &
köfo
, &
size
, 
NULL
, 0) < 0)

208  -
î∫o
;

210 *
rss
 = 
köfo
.
p_vm_rssize
 * 
∑ge_size
;

212 
	}
}

215 
	$uv_u±ime
(* 
u±ime
) {

216 
time_t
 
now
;

217 
timevÆ
 
öfo
;

218 
size_t
 
size
 = (
öfo
);

219 
which
[] = {
CTL_KERN
, 
KERN_BOOTTIME
};

221 i‡(
	`sys˘l
(
which
, 2, &
öfo
, &
size
, 
NULL
, 0))

222  -
î∫o
;

224 
now
 = 
	`time
(
NULL
);

226 *
u±ime
 = ()(
now
 - 
öfo
.
tv_£c
);

228 
	}
}

231 
	$uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
) {

232 
ticks
 = ()
	`sysc⁄f
(
_SC_CLK_TCK
),

233 
mu…ùlõr
 = ((
uöt64_t
)1000L / 
ticks
), 
˝u•ìd
;

234 
uöt64_t
 
öfo
[
CPUSTATES
];

235 
modñ
[512];

236 
num˝us
 = 1;

237 
which
[] = {
CTL_HW
,
HW_MODEL
,0};

238 
size_t
 
size
;

239 
i
;

240 
uv_˝u_öfo_t
* 
˝u_öfo
;

242 
size
 = (
modñ
);

243 i‡(
	`sys˘l
(
which
, 2, &
modñ
, &
size
, 
NULL
, 0))

244  -
î∫o
;

246 
which
[1] = 
HW_NCPU
;

247 
size
 = (
num˝us
);

248 i‡(
	`sys˘l
(
which
, 2, &
num˝us
, &
size
, 
NULL
, 0))

249  -
î∫o
;

251 *
˝u_öfos
 = 
	`uv__mÆloc
(
num˝us
 * (**cpu_infos));

252 i‡(!(*
˝u_öfos
))

253  -
ENOMEM
;

255 *
cou¡
 = 
num˝us
;

257 
which
[1] = 
HW_CPUSPEED
;

258 
size
 = (
˝u•ìd
);

259 i‡(
	`sys˘l
(
which
, 2, &
˝u•ìd
, &
size
, 
NULL
, 0)) {

260 
	`uv__‰ì
(*
˝u_öfos
);

261  -
î∫o
;

264 
size
 = (
öfo
);

265 
which
[0] = 
CTL_KERN
;

266 
which
[1] = 
KERN_CPTIME2
;

267 
i
 = 0; i < 
num˝us
; i++) {

268 
which
[2] = 
i
;

269 
size
 = (
öfo
);

270 i‡(
	`sys˘l
(
which
, 3, &
öfo
, &
size
, 
NULL
, 0)) {

271 
	`uv__‰ì
(*
˝u_öfos
);

272  -
î∫o
;

275 
˝u_öfo
 = &(*
˝u_öfos
)[
i
];

277 
˝u_öfo
->
˝u_times
.
u£r
 = (
uöt64_t
)(
öfo
[
CP_USER
]Ë* 
mu…ùlõr
;

278 
˝u_öfo
->
˝u_times
.
ni˚
 = (
uöt64_t
)(
öfo
[
CP_NICE
]Ë* 
mu…ùlõr
;

279 
˝u_öfo
->
˝u_times
.
sys
 = (
uöt64_t
)(
öfo
[
CP_SYS
]Ë* 
mu…ùlõr
;

280 
˝u_öfo
->
˝u_times
.
idÀ
 = (
uöt64_t
)(
öfo
[
CP_IDLE
]Ë* 
mu…ùlõr
;

281 
˝u_öfo
->
˝u_times
.
úq
 = (
uöt64_t
)(
öfo
[
CP_INTR
]Ë* 
mu…ùlõr
;

283 
˝u_öfo
->
modñ
 = 
	`uv__°rdup
(model);

284 
˝u_öfo
->
•ìd
 = 
˝u•ìd
;

288 
	}
}

291 
	$uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
) {

292 
i
;

294 
i
 = 0; i < 
cou¡
; i++) {

295 
	`uv__‰ì
(
˝u_öfos
[
i
].
modñ
);

298 
	`uv__‰ì
(
˝u_öfos
);

299 
	}
}

302 
	$uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
,

303 * 
cou¡
) {

304 
iÁddrs
 *
addrs
, *
ít
;

305 
uv_öãrÁ˚_addªss_t
* 
addªss
;

306 
i
;

307 
sockaddr_dl
 *
ß_addr
;

309 i‡(
	`gëiÁddrs
(&
addrs
) != 0)

310  -
î∫o
;

312 *
cou¡
 = 0;

315 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

316 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

317 (
ít
->
iÁ_addr
 =
NULL
) ||

318 (
ít
->
iÁ_addr
->
ß_Ámûy
 !
PF_INET
)) {

321 (*
cou¡
)++;

324 *
addªs£s
 = 
	`uv__mÆloc
(*
cou¡
 * (**addresses));

326 i‡(!(*
addªs£s
)) {

327 
	`‰ìiÁddrs
(
addrs
);

328  -
ENOMEM
;

331 
addªss
 = *
addªs£s
;

333 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

334 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)))

337 i‡(
ít
->
iÁ_addr
 =
NULL
)

340 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 !
PF_INET
)

343 
addªss
->
«me
 = 
	`uv__°rdup
(
ít
->
iÁ_«me
);

345 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET6
) {

346 
addªss
->addªss.
addªss6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_addr
);

348 
addªss
->addªss.
addªss4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_addr
);

351 i‡(
ít
->
iÁ_√tmask
->
ß_Ámûy
 =
AF_INET6
) {

352 
addªss
->
√tmask
.
√tmask6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_√tmask
);

354 
addªss
->
√tmask
.
√tmask4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_√tmask
);

357 
addªss
->
is_öã∫Æ
 = !!(
ít
->
iÁ_Êags
 & 
IFF_LOOPBACK
);

359 
addªss
++;

363 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

364 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

365 (
ít
->
iÁ_addr
 =
NULL
) ||

366 (
ít
->
iÁ_addr
->
ß_Ámûy
 !
AF_LINK
)) {

370 
addªss
 = *
addªs£s
;

372 
i
 = 0; i < (*
cou¡
); i++) {

373 i‡(
	`°rcmp
(
addªss
->
«me
, 
ít
->
iÁ_«me
) == 0) {

374 
ß_addr
 = (
sockaddr_dl
*)(
ít
->
iÁ_addr
);

375 
	`mem˝y
(
addªss
->
phys_addr
, 
	`LLADDR
(
ß_addr
), (address->phys_addr));

377 
addªss
++;

381 
	`‰ìiÁddrs
(
addrs
);

384 
	}
}

387 
	$uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
,

388 
cou¡
) {

389 
i
;

391 
i
 = 0; i < 
cou¡
; i++) {

392 
	`uv__‰ì
(
addªs£s
[
i
].
«me
);

395 
	`uv__‰ì
(
addªs£s
);

396 
	}
}

	@deps/libtuv/src/unix/os390.c

22 
	~"öã∫Æ.h
"

24 
	$uv__io_check_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

25 
pﬁlfd
 
p
[1];

26 
rv
;

28 
p
[0].
fd
 = fd;

29 
p
[0].
evíts
 = 
POLLIN
;

32 
rv
 = 
	`pﬁl
(
p
, 1, 0);

33 
rv
 =-1 && 
î∫o
 =
EINTR
);

35 i‡(
rv
 == -1)

36 
	`ab‹t
();

38 i‡(
p
[0].
ªvíts
 & 
POLLNVAL
)

42 
	}
}

	@deps/libtuv/src/unix/pipe.c

22 
	~"uv.h
"

23 
	~"öã∫Æ.h
"

25 
	~<as£π.h
>

26 
	~<î∫o.h
>

27 
	~<°rög.h
>

28 
	~<sys/un.h
>

29 
	~<uni°d.h
>

30 
	~<°dlib.h
>

33 
	$uv_pùe_öô
(
uv_lo›_t
* 
lo›
, 
uv_pùe_t
* 
h™dÀ
, 
ùc
) {

34 
	`uv__°ªam_öô
(
lo›
, (
uv_°ªam_t
*)
h™dÀ
, 
UV_NAMED_PIPE
);

35 
h™dÀ
->
shutdown_ªq
 = 
NULL
;

36 
h™dÀ
->
c⁄√˘_ªq
 = 
NULL
;

37 
h™dÀ
->
pùe_‚ame
 = 
NULL
;

38 
h™dÀ
->
ùc
 = ipc;

40 
	}
}

43 
	$uv_pùe_böd
(
uv_pùe_t
* 
h™dÀ
, c⁄° * 
«me
) {

44 
sockaddr_un
 
ßddr
;

45 c⁄° * 
pùe_‚ame
;

46 
sockfd
;

47 
îr
;

49 
pùe_‚ame
 = 
NULL
;

50 
sockfd
 = -1;

53 i‡(
	`uv__°ªam_fd
(
h™dÀ
) >= 0)

54  -
EINVAL
;

57 
pùe_‚ame
 = 
	`uv__°rdup
(
«me
);

58 i‡(
pùe_‚ame
 =
NULL
)

59  -
ENOMEM
;

62 
«me
 = 
NULL
;

64 
îr
 = 
	`uv__sockë
(
AF_UNIX
, 
SOCK_STREAM
, 0);

65 i‡(
îr
 < 0)

66 
îr_sockë
;

67 
sockfd
 = 
îr
;

69 
	`mem£t
(&
ßddr
, 0,  saddr);

70 
	`°∫˝y
(
ßddr
.
sun_∑th
, 
pùe_‚ame
, (saddr.sun_path) - 1);

71 
ßddr
.
sun_∑th
[(saddr.sun_path) - 1] = '\0';

72 
ßddr
.
sun_Ámûy
 = 
AF_UNIX
;

74 i‡(
	`böd
(
sockfd
, (
sockaddr
*)&
ßddr
,  saddr)) {

75 
îr
 = -
î∫o
;

77 i‡(
îr
 =-
ENOENT
)

78 
îr
 = -
EACCES
;

79 
îr_böd
;

83 
h™dÀ
->
Êags
 |
UV_HANDLE_BOUND
;

84 
h™dÀ
->
pùe_‚ame
 =Öipe_fname;

85 
h™dÀ
->
io_w©chî
.
fd
 = 
sockfd
;

88 
îr_böd
:

89 
	`uv__˛o£
(
sockfd
);

91 
îr_sockë
:

92 
	`uv__‰ì
((*)
pùe_‚ame
);

93  
îr
;

94 
	}
}

97 
	$uv_pùe_li°í
(
uv_pùe_t
* 
h™dÀ
, 
backlog
, 
uv_c⁄√˘i⁄_cb
 
cb
) {

98 i‡(
	`uv__°ªam_fd
(
h™dÀ
) == -1)

99  -
EINVAL
;

101 #i‡
	`deföed
(
__MVS__
)

103 i‡(
backlog
 == 0)

104 
backlog
 = 1;

105 i‡(
backlog
 < 0)

106 
backlog
 = 
SOMAXCONN
;

109 i‡(
	`li°í
(
	`uv__°ªam_fd
(
h™dÀ
), 
backlog
))

110  -
î∫o
;

112 
h™dÀ
->
c⁄√˘i⁄_cb
 = 
cb
;

113 
h™dÀ
->
io_w©chî
.
cb
 = 
uv__£rvî_io
;

114 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLIN
);

116 
	}
}

119 
	$uv__pùe_˛o£
(
uv_pùe_t
* 
h™dÀ
) {

120 i‡(
h™dÀ
->
pùe_‚ame
) {

127 
	`u∆ök
(
h™dÀ
->
pùe_‚ame
);

128 
	`uv__‰ì
((*)
h™dÀ
->
pùe_‚ame
);

129 
h™dÀ
->
pùe_‚ame
 = 
NULL
;

132 
	`uv__°ªam_˛o£
((
uv_°ªam_t
*)
h™dÀ
);

133 
	}
}

136 
	$uv_pùe_›í
(
uv_pùe_t
* 
h™dÀ
, 
uv_fûe
 
fd
) {

137 
îr
;

139 
îr
 = 
	`uv__n⁄block
(
fd
, 1);

140 i‡(
îr
)

141  
îr
;

143 #i‡
	`deföed
(
__APPLE__
)

144 
îr
 = 
	`uv__°ªam_åy_£À˘
((
uv_°ªam_t
*Ë
h™dÀ
, &
fd
);

145 i‡(
îr
)

146  
îr
;

149  
	`uv__°ªam_›í
((
uv_°ªam_t
*)
h™dÀ
,

150 
fd
,

151 
UV_STREAM_READABLE
 | 
UV_STREAM_WRITABLE
);

152 
	}
}

155 
	$uv_pùe_c⁄√˘
(
uv_c⁄√˘_t
* 
ªq
,

156 
uv_pùe_t
* 
h™dÀ
,

157 c⁄° * 
«me
,

158 
uv_c⁄√˘_cb
 
cb
) {

159 
sockaddr_un
 
ßddr
;

160 
√w_sock
;

161 
îr
;

162 
r
;

164 
√w_sock
 = (
	`uv__°ªam_fd
(
h™dÀ
) == -1);

166 i‡(
√w_sock
) {

167 
îr
 = 
	`uv__sockë
(
AF_UNIX
, 
SOCK_STREAM
, 0);

168 i‡(
îr
 < 0)

169 
out
;

170 
h™dÀ
->
io_w©chî
.
fd
 = 
îr
;

173 
	`mem£t
(&
ßddr
, 0,  saddr);

174 
	`°∫˝y
(
ßddr
.
sun_∑th
, 
«me
, (saddr.sun_path) - 1);

175 
ßddr
.
sun_∑th
[(saddr.sun_path) - 1] = '\0';

176 
ßddr
.
sun_Ámûy
 = 
AF_UNIX
;

179 
r
 = 
	`c⁄√˘
(
	`uv__°ªam_fd
(
h™dÀ
),

180 (
sockaddr
*)&
ßddr
,  saddr);

182 
r
 =-1 && 
î∫o
 =
EINTR
);

184 i‡(
r
 =-1 && 
î∫o
 !
EINPROGRESS
) {

185 
îr
 = -
î∫o
;

186 
out
;

189 
îr
 = 0;

190 i‡(
√w_sock
) {

191 
îr
 = 
	`uv__°ªam_›í
((
uv_°ªam_t
*)
h™dÀ
,

192 
	`uv__°ªam_fd
(
h™dÀ
),

193 
UV_STREAM_READABLE
 | 
UV_STREAM_WRITABLE
);

196 i‡(
îr
 == 0)

197 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLIN
 | 
POLLOUT
);

199 
out
:

200 
h™dÀ
->
dñayed_îr‹
 = 
îr
;

201 
h™dÀ
->
c⁄√˘_ªq
 = 
ªq
;

203 
	`uv__ªq_öô
(
h™dÀ
->
lo›
, 
ªq
, 
UV_CONNECT
);

204 
ªq
->
h™dÀ
 = (
uv_°ªam_t
*)handle;

205 
ªq
->
cb
 = cb;

206 
	`QUEUE_INIT
(&
ªq
->
queue
);

209 i‡(
îr
)

210 
	`uv__io_„ed
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
);

212 
	}
}

215 (*
	tuv__≥îsockfunc
)(, 
	tsockaddr
*, 
	tsockÀn_t
*);

218 
	$uv__pùe_gësock≥î«me
(c⁄° 
uv_pùe_t
* 
h™dÀ
,

219 
uv__≥îsockfunc
 
func
,

220 * 
buf„r
,

221 
size_t
* 
size
) {

222 
sockaddr_un
 
ß
;

223 
sockÀn_t
 
addæí
;

224 
îr
;

226 
addæí
 = (
ß
);

227 
	`mem£t
(&
ß
, 0, 
addæí
);

228 
îr
 = 
	`func
(
	`uv__°ªam_fd
(
h™dÀ
), (
sockaddr
*Ë&
ß
, &
addæí
);

229 i‡(
îr
 < 0) {

230 *
size
 = 0;

231  -
î∫o
;

234 #i‡
	`deföed
(
__löux__
)

235 i‡(
ß
.
sun_∑th
[0] == 0)

237 
addæí
 -
	`off£tof
(
sockaddr_un
, 
sun_∑th
);

240 
addæí
 = 
	`°æí
(
ß
.
sun_∑th
);

243 i‡(
addæí
 >*
size
) {

244 *
size
 = 
addæí
 + 1;

245  
UV_ENOBUFS
;

248 
	`mem˝y
(
buf„r
, 
ß
.
sun_∑th
, 
addæí
);

249 *
size
 = 
addæí
;

252 i‡(
buf„r
[0] != '\0')

253 
buf„r
[
addæí
] = '\0';

256 
	}
}

259 
	$uv_pùe_gësock«me
(c⁄° 
uv_pùe_t
* 
h™dÀ
, * 
buf„r
, 
size_t
* 
size
) {

260  
	`uv__pùe_gësock≥î«me
(
h™dÀ
, 
gësock«me
, 
buf„r
, 
size
);

261 
	}
}

264 
	$uv_pùe_gë≥î«me
(c⁄° 
uv_pùe_t
* 
h™dÀ
, * 
buf„r
, 
size_t
* 
size
) {

265  
	`uv__pùe_gësock≥î«me
(
h™dÀ
, 
gë≥î«me
, 
buf„r
, 
size
);

266 
	}
}

269 
	$uv_pùe_≥ndög_ö°™˚s
(
uv_pùe_t
* 
h™dÀ
, 
cou¡
) {

270 
	}
}

273 
	$uv_pùe_≥ndög_cou¡
(
uv_pùe_t
* 
h™dÀ
) {

274 
uv__°ªam_queued_fds_t
* 
queued_fds
;

276 i‡(!
h™dÀ
->
ùc
)

279 i‡(
h™dÀ
->
ac˚±ed_fd
 == -1)

282 i‡(
h™dÀ
->
queued_fds
 =
NULL
)

285 
queued_fds
 = 
h™dÀ
->queued_fds;

286  
queued_fds
->
off£t
 + 1;

287 
	}
}

290 
uv_h™dÀ_ty≥
 
	$uv_pùe_≥ndög_ty≥
(
uv_pùe_t
* 
h™dÀ
) {

291 i‡(!
h™dÀ
->
ùc
)

292  
UV_UNKNOWN_HANDLE
;

294 i‡(
h™dÀ
->
ac˚±ed_fd
 == -1)

295  
UV_UNKNOWN_HANDLE
;

297  
	`uv__h™dÀ_ty≥
(
h™dÀ
->
ac˚±ed_fd
);

298 
	}
}

	@deps/libtuv/src/unix/poll.c

37 
	~"uv.h
"

38 
	~"öã∫Æ.h
"

40 
	~<uni°d.h
>

41 
	~<as£π.h
>

42 
	~<î∫o.h
>

45 
	$uv__pﬁl_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
) {

46 
uv_pﬁl_t
* 
h™dÀ
;

47 
≥víts
;

49 
h™dÀ
 = 
	`c⁄èöî_of
(
w
, 
uv_pﬁl_t
, 
io_w©chî
);

51 i‡(
evíts
 & 
POLLERR
) {

52 
	`uv__io_°›
(
lo›
, 
w
, 
POLLIN
 | 
POLLOUT
 | 
UV__POLLRDHUP
);

53 
	`uv__h™dÀ_°›
(
h™dÀ
);

54 
h™dÀ
->
	`pﬁl_cb
(h™dÀ, -
EBADF
, 0);

58 
≥víts
 = 0;

59 i‡(
evíts
 & 
POLLIN
)

60 
≥víts
 |
UV_READABLE
;

61 i‡(
evíts
 & 
POLLOUT
)

62 
≥víts
 |
UV_WRITABLE
;

63 i‡(
evíts
 & 
UV__POLLRDHUP
)

64 
≥víts
 |
UV_DISCONNECT
;

66 
h™dÀ
->
	`pﬁl_cb
(h™dÀ, 0, 
≥víts
);

67 
	}
}

70 
	$uv_pﬁl_öô
(
uv_lo›_t
* 
lo›
, 
uv_pﬁl_t
* 
h™dÀ
, 
fd
) {

71 
îr
;

73 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

74 
îr
 = 
	`uv__io_check_fd
(
lo›
, 
fd
);

75 i‡(
îr
)

76  
îr
;

82 
îr
 = 
	`uv__n⁄block
(
fd
, 1);

83 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

84 i‡(
îr
 =-
ENOTTY
)

85 i‡(
uv__n⁄block
 =
uv__n⁄block_io˘l
)

86 
îr
 = 
	`uv__n⁄block_f˙é
(
fd
, 1);

89 i‡(
îr
)

90  
îr
;

92 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*Ë
h™dÀ
, 
UV_POLL
);

93 
	`uv__io_öô
(&
h™dÀ
->
io_w©chî
, 
uv__pﬁl_io
, 
fd
);

94 
h™dÀ
->
pﬁl_cb
 = 
NULL
;

96 
	}
}

99 
	$uv_pﬁl_öô_sockë
(
uv_lo›_t
* 
lo›
, 
uv_pﬁl_t
* 
h™dÀ
,

100 
uv_os_sock_t
 
sockë
) {

101  
	`uv_pﬁl_öô
(
lo›
, 
h™dÀ
, 
sockë
);

102 
	}
}

105 
	$uv__pﬁl_°›
(
uv_pﬁl_t
* 
h™dÀ
) {

106 
	`uv__io_°›
(
h™dÀ
->
lo›
,

107 &
h™dÀ
->
io_w©chî
,

108 
POLLIN
 | 
POLLOUT
 | 
UV__POLLRDHUP
);

109 
	`uv__h™dÀ_°›
(
h™dÀ
);

110 
	}
}

113 
	$uv_pﬁl_°›
(
uv_pﬁl_t
* 
h™dÀ
) {

114 
	`as£π
(!
	`uv__is_˛osög
(
h™dÀ
));

115 
	`uv__pﬁl_°›
(
h™dÀ
);

117 
	}
}

120 
	$uv_pﬁl_°¨t
(
uv_pﬁl_t
* 
h™dÀ
, 
≥víts
, 
uv_pﬁl_cb
 
pﬁl_cb
) {

121 
evíts
;

123 
	`as£π
((
≥víts
 & ~(
UV_READABLE
 | 
UV_WRITABLE
 | 
UV_DISCONNECT
)) == 0);

124 
	`as£π
(!
	`uv__is_˛osög
(
h™dÀ
));

126 
	`uv__pﬁl_°›
(
h™dÀ
);

128 i‡(
≥víts
 == 0)

131 
evíts
 = 0;

132 i‡(
≥víts
 & 
UV_READABLE
)

133 
evíts
 |
POLLIN
;

134 i‡(
≥víts
 & 
UV_WRITABLE
)

135 
evíts
 |
POLLOUT
;

136 i‡(
≥víts
 & 
UV_DISCONNECT
)

137 
evíts
 |
UV__POLLRDHUP
;

139 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
evíts
);

140 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

141 
h™dÀ
->
pﬁl_cb
 =Öoll_cb;

144 
	}
}

147 
	$uv__pﬁl_˛o£
(
uv_pﬁl_t
* 
h™dÀ
) {

148 
	`uv__pﬁl_°›
(
h™dÀ
);

149 
	}
}

	@deps/libtuv/src/unix/process.c

37 
	~"uv.h
"

38 
	~"öã∫Æ.h
"

40 
	~<°dio.h
>

41 
	~<°dlib.h
>

42 
	~<as£π.h
>

43 
	~<î∫o.h
>

45 
	~<sys/ty≥s.h
>

46 
	~<sys/waô.h
>

47 
	~<uni°d.h
>

48 
	~<f˙é.h
>

49 
	~<pﬁl.h
>

51 #i‡
deföed
(
__APPLE__
Ë&& !
TARGET_OS_IPHONE


52 
	~<¸t_exã∫s.h
>

55 #i‡
deföed
(
__löux__
Ë|| deföed(
__GLIBC__
)

56 
	~<gΩ.h
>

60 
	$uv__make_pùe
(
fds
[2], 
Êags
) {

61 #i‡
	`deföed
(
__löux__
)

62 
no_pùe2
;

64 i‡(
no_pùe2
)

65 
skù
;

67 i‡(
	`uv__pùe2
(
fds
, 
Êags
 | 
UV__O_CLOEXEC
) == 0)

70 i‡(
î∫o
 !
ENOSYS
)

71  -
î∫o
;

73 
no_pùe2
 = 1;

75 
skù
:

78 i‡(
	`pùe
(
fds
))

79  -
î∫o
;

81 
	`uv__˛€xec
(
fds
[0], 1);

82 
	`uv__˛€xec
(
fds
[1], 1);

84 i‡(
Êags
 & 
UV__F_NONBLOCK
) {

85 
	`uv__n⁄block
(
fds
[0], 1);

86 
	`uv__n⁄block
(
fds
[1], 1);

90 
	}
}

	@deps/libtuv/src/unix/proctitle.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<°dlib.h
>

25 
	~<°rög.h
>

27 
uv__£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
);

29 * 
	g¨gs_mem
;

32 * 
	m°r
;

33 
size_t
 
	mÀn
;

34 } 
	g¥o˚ss_tôÀ
;

37 ** 
	$uv_£tup_¨gs
(
¨gc
, ** 
¨gv
) {

38 ** 
√w_¨gv
;

39 
size_t
 
size
;

40 * 
s
;

41 
i
;

43 i‡(
¨gc
 <= 0)

44  
¨gv
;

47 
size
 = 0;

48 
i
 = 0; i < 
¨gc
; i++)

49 
size
 +
	`°æí
(
¨gv
[
i
]) + 1;

51 
¥o˚ss_tôÀ
.
°r
 = 
¨gv
[0];

52 
¥o˚ss_tôÀ
.
Àn
 = 
¨gv
[
¨gc
 - 1] + 
	`°æí
(argv[argc - 1]) -árgv[0];

53 
	`as£π
(
¥o˚ss_tôÀ
.
Àn
 + 1 =
size
);

56 
size
 +(
¨gc
 + 1) * (*);

58 
√w_¨gv
 = 
	`uv__mÆloc
(
size
);

59 i‡(
√w_¨gv
 =
NULL
)

60  
¨gv
;

61 
¨gs_mem
 = 
√w_¨gv
;

64 
s
 = (*Ë&
√w_¨gv
[
¨gc
 + 1];

65 
i
 = 0; i < 
¨gc
; i++) {

66 
size
 = 
	`°æí
(
¨gv
[
i
]) + 1;

67 
	`mem˝y
(
s
, 
¨gv
[
i
], 
size
);

68 
√w_¨gv
[
i
] = 
s
;

69 
s
 +
size
;

71 
√w_¨gv
[
i
] = 
NULL
;

73  
√w_¨gv
;

74 
	}
}

77 
	$uv_£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

78 i‡(
¥o˚ss_tôÀ
.
Àn
 == 0)

82 
	`°∫˝y
(
¥o˚ss_tôÀ
.
°r
, 
tôÀ
,Öro˚ss_tôÀ.
Àn
);

83 
	`uv__£t_¥o˚ss_tôÀ
(
tôÀ
);

86 
	}
}

89 
	$uv_gë_¥o˚ss_tôÀ
(* 
buf„r
, 
size_t
 
size
) {

90 i‡(
buf„r
 =
NULL
 || 
size
 == 0)

91  -
EINVAL
;

92 i‡(
size
 <
¥o˚ss_tôÀ
.
Àn
)

93  -
ENOBUFS
;

95 
	`mem˝y
(
buf„r
, 
¥o˚ss_tôÀ
.
°r
,Öro˚ss_tôÀ.
Àn
 + 1);

96 
buf„r
[
¥o˚ss_tôÀ
.
Àn
] = '\0';

99 
	}
}

102 
UV_DESTRUCTOR
(
	$‰ì_¨gs_mem
()) {

103 
	`uv__‰ì
(
¨gs_mem
);

104 
¨gs_mem
 = 
NULL
;

105 
	}
}

	@deps/libtuv/src/unix/pthread-barrier.c

16 
	~"uv-comm⁄.h
"

17 
	~"±hªad-b¨rõr.h
"

19 
	~<°dlib.h
>

20 
	~<as£π.h
>

23 
	$±hªad_b¨rõr_öô
(
±hªad_b¨rõr_t
* 
b¨rõr
,

24 c⁄° * 
b¨rõr_©å
,

25 
cou¡
) {

26 
rc
;

27 
_uv_b¨rõr
* 
b
;

29 i‡(
b¨rõr
 =
NULL
 || 
cou¡
 == 0)

30  
EINVAL
;

32 i‡(
b¨rõr_©å
 !
NULL
)

33  
ENOTSUP
;

35 
b
 = 
	`uv__mÆloc
((*b));

36 i‡(
b
 =
NULL
)

37  
ENOMEM
;

39 
b
->
ö
 = 0;

40 
b
->
out
 = 0;

41 
b
->
thªshﬁd
 = 
cou¡
;

43 i‡((
rc
 = 
	`±hªad_muãx_öô
(&
b
->
muãx
, 
NULL
)) != 0)

44 
îr‹2
;

45 i‡((
rc
 = 
	`±hªad_c⁄d_öô
(&
b
->
c⁄d
, 
NULL
)) != 0)

46 
îr‹
;

48 
b¨rõr
->
b
 = b;

51 
îr‹
:

52 
	`±hªad_muãx_de°roy
(&
b
->
muãx
);

53 
îr‹2
:

54 
	`uv__‰ì
(
b
);

55  
rc
;

56 
	}
}

58 
	$±hªad_b¨rõr_waô
(
±hªad_b¨rõr_t
* 
b¨rõr
) {

59 
rc
;

60 
_uv_b¨rõr
* 
b
;

62 i‡(
b¨rõr
 =
NULL
 || b¨rõr->
b
 == NULL)

63  
EINVAL
;

65 
b
 = 
b¨rõr
->b;

67 i‡((
rc
 = 
	`±hªad_muãx_lock
(&
b
->
muãx
)) != 0)

68  
rc
;

73 i‡(++
b
->
ö
 =b->
thªshﬁd
) {

74 
b
->
ö
 = 0;

75 
b
->
out
 = b->
thªshﬁd
 - 1;

76 
	`as£π
(
	`±hªad_c⁄d_sig«l
(&
b
->
c⁄d
) == 0);

78 
	`±hªad_muãx_u∆ock
(&
b
->
muãx
);

79  
PTHREAD_BARRIER_SERIAL_THREAD
;

84 i‡((
rc
 = 
	`±hªad_c⁄d_waô
(&
b
->
c⁄d
, &b->
muãx
)) != 0)

86 } 
b
->
ö
 != 0);

89 
b
->
out
--;

90 
	`±hªad_c⁄d_sig«l
(&
b
->
c⁄d
);

91 
	`±hªad_muãx_u∆ock
(&
b
->
muãx
);

92  
rc
;

93 
	}
}

95 
	$±hªad_b¨rõr_de°roy
(
±hªad_b¨rõr_t
* 
b¨rõr
) {

96 
rc
;

97 
_uv_b¨rõr
* 
b
;

99 i‡(
b¨rõr
 =
NULL
 || b¨rõr->
b
 == NULL)

100  
EINVAL
;

102 
b
 = 
b¨rõr
->b;

104 i‡((
rc
 = 
	`±hªad_muãx_lock
(&
b
->
muãx
)) != 0)

105  
rc
;

107 i‡(
b
->
ö
 > 0 || b->
out
 > 0)

108 
rc
 = 
EBUSY
;

110 
	`±hªad_muãx_u∆ock
(&
b
->
muãx
);

112 i‡(
rc
)

113  
rc
;

115 
	`±hªad_c⁄d_de°roy
(&
b
->
c⁄d
);

116 
	`±hªad_muãx_de°roy
(&
b
->
muãx
);

117 
	`uv__‰ì
(
b¨rõr
->
b
);

118 
b¨rõr
->
b
 = 
NULL
;

120 
	}
}

	@deps/libtuv/src/unix/pthread-fixes.c

33 
	~<î∫o.h
>

34 
	~<±hªad.h
>

35 
	~<sig«l.h
>

37 
	$uv__±hªad_sigmask
(
how
, c⁄° 
sig£t_t
* 
£t
, sig£t_t* 
o£t
) {

38 
w‹k¨ound
;

39 
îr
;

41 i‡(
w‹k¨ound
) {

42  
	`sig¥ocmask
(
how
, 
£t
, 
o£t
);

44 
îr
 = 
	`±hªad_sigmask
(
how
, 
£t
, 
o£t
);

45 i‡(
îr
) {

46 i‡(
îr
 =
EINVAL
 && 
	`sig¥ocmask
(
how
, 
£t
, 
o£t
) == 0) {

47 
w‹k¨ound
 = 1;

56 
	}
}

	@deps/libtuv/src/unix/signal.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<as£π.h
>

25 
	~<î∫o.h
>

26 
	~<sig«l.h
>

27 
	~<°dlib.h
>

28 
	~<°rög.h
>

29 
	~<uni°d.h
>

33 
uv_sig«l_t
* 
	mh™dÀ
;

34 
	msignum
;

35 } 
	tuv__sig«l_msg_t
;

37 
RB_HEAD
(
uv__sig«l_åì_s
, 
uv_sig«l_s
);

40 
uv__sig«l_u∆ock
();

41 
uv__sig«l_evít
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
);

42 
uv__sig«l_com∑ª
(
uv_sig«l_t
* 
w1
, uv_sig«l_t* 
w2
);

43 
uv__sig«l_°›
(
uv_sig«l_t
* 
h™dÀ
);

46 
uv_⁄˚_t
 
	guv__sig«l_globÆ_öô_gu¨d
 = 
UV_ONCE_INIT
;

47 
uv__sig«l_åì_s
 
	guv__sig«l_åì
 =

48 
RB_INITIALIZER
(
uv__sig«l_åì
);

49 
	guv__sig«l_lock_pùefd
[2];

52 
	$RB_GENERATE_STATIC
(
uv__sig«l_åì_s
,

53 
uv_sig«l_s
, 
åì_íåy
,

54 
uv__sig«l_com∑ª
)

57 
	$uv__sig«l_globÆ_öô
() {

58 i‡(
	`uv__make_pùe
(
uv__sig«l_lock_pùefd
, 0))

59 
	`ab‹t
();

61 i‡(
	`uv__sig«l_u∆ock
())

62 
	`ab‹t
();

63 
	}
}

66 
	$uv__sig«l_globÆ_⁄˚_öô
() {

67 
	`uv_⁄˚
(&
uv__sig«l_globÆ_öô_gu¨d
, 
uv__sig«l_globÆ_öô
);

68 
	}
}

72 
	$uv__sig«l_lock
() {

73 
r
;

74 
d©a
;

77 
r
 = 
	`ªad
(
uv__sig«l_lock_pùefd
[0], &
d©a
,  data);

78 } 
r
 < 0 && 
î∫o
 =
EINTR
);

80  (
r
 < 0) ? -1 : 0;

81 
	}
}

84 
	$uv__sig«l_u∆ock
() {

85 
r
;

86 
d©a
 = 42;

89 
r
 = 
	`wrôe
(
uv__sig«l_lock_pùefd
[1], &
d©a
,  data);

90 } 
r
 < 0 && 
î∫o
 =
EINTR
);

92  (
r
 < 0) ? -1 : 0;

93 
	}
}

96 
	$uv__sig«l_block_™d_lock
(
sig£t_t
* 
ßved_sigmask
) {

97 
sig£t_t
 
√w_mask
;

99 i‡(
	`sigfûl£t
(&
√w_mask
))

100 
	`ab‹t
();

102 i‡(
	`±hªad_sigmask
(
SIG_SETMASK
, &
√w_mask
, 
ßved_sigmask
))

103 
	`ab‹t
();

105 i‡(
	`uv__sig«l_lock
())

106 
	`ab‹t
();

107 
	}
}

110 
	$uv__sig«l_u∆ock_™d_unblock
(
sig£t_t
* 
ßved_sigmask
) {

111 i‡(
	`uv__sig«l_u∆ock
())

112 
	`ab‹t
();

114 i‡(
	`±hªad_sigmask
(
SIG_SETMASK
, 
ßved_sigmask
, 
NULL
))

115 
	`ab‹t
();

116 
	}
}

119 
uv_sig«l_t
* 
	$uv__sig«l_fú°_h™dÀ
(
signum
) {

121 
uv_sig«l_t
 
lookup
;

122 
uv_sig«l_t
* 
h™dÀ
;

124 
lookup
.
signum
 = signum;

125 
lookup
.
lo›
 = 
NULL
;

127 
h™dÀ
 = 
	`RB_NFIND
(
uv__sig«l_åì_s
, &
uv__sig«l_åì
, &
lookup
);

129 i‡(
h™dÀ
 !
NULL
 && h™dÀ->
signum
 == signum)

130  
h™dÀ
;

132  
NULL
;

133 
	}
}

136 
	$uv__sig«l_h™dÀr
(
signum
) {

137 
uv__sig«l_msg_t
 
msg
;

138 
uv_sig«l_t
* 
h™dÀ
;

139 
ßved_î∫o
;

141 
ßved_î∫o
 = 
î∫o
;

142 
	`mem£t
(&
msg
, 0,  msg);

144 i‡(
	`uv__sig«l_lock
()) {

145 
î∫o
 = 
ßved_î∫o
;

149 
h™dÀ
 = 
	`uv__sig«l_fú°_h™dÀ
(
signum
);

150 
h™dÀ
 !
NULL
 && h™dÀ->
signum
 == signum;

151 
h™dÀ
 = 
	`RB_NEXT
(
uv__sig«l_åì_s
, &
uv__sig«l_åì
, handle)) {

152 
r
;

154 
msg
.
signum
 = signum;

155 
msg
.
h™dÀ
 = handle;

162 
r
 = 
	`wrôe
(
h™dÀ
->
lo›
->
sig«l_pùefd
[1], &
msg
,  msg);

163 } 
r
 =-1 && 
î∫o
 =
EINTR
);

165 
	`as£π
(
r
 = 
msg
 ||

166 (
r
 =-1 && (
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)));

168 i‡(
r
 != -1)

169 
h™dÀ
->
ˇught_sig«ls
++;

172 
	`uv__sig«l_u∆ock
();

173 
î∫o
 = 
ßved_î∫o
;

174 
	}
}

177 
	$uv__sig«l_ªgi°î_h™dÀr
(
signum
) {

179 
siga˘i⁄
 
ß
;

182 
	`mem£t
(&
ß
, 0, (sa));

183 i‡(
	`sigfûl£t
(&
ß
.
ß_mask
))

184 
	`ab‹t
();

185 
ß
.
ß_h™dÀr
 = 
uv__sig«l_h™dÀr
;

188 i‡(
	`siga˘i⁄
(
signum
, &
ß
, 
NULL
))

189  -
î∫o
;

192 
	}
}

195 
	$uv__sig«l_uƒegi°î_h™dÀr
(
signum
) {

197 
siga˘i⁄
 
ß
;

199 
	`mem£t
(&
ß
, 0, (sa));

200 
ß
.
ß_h™dÀr
 = 
SIG_DFL
;

206 i‡(
	`siga˘i⁄
(
signum
, &
ß
, 
NULL
))

207 
	`ab‹t
();

208 
	}
}

211 
	$uv__sig«l_lo›_⁄˚_öô
(
uv_lo›_t
* 
lo›
) {

212 
îr
;

215 i‡(
lo›
->
sig«l_pùefd
[0] != -1)

218 
îr
 = 
	`uv__make_pùe
(
lo›
->
sig«l_pùefd
, 
UV__F_NONBLOCK
);

219 i‡(
îr
)

220  
îr
;

222 
	`uv__io_öô
(&
lo›
->
sig«l_io_w©chî
,

223 
uv__sig«l_evít
,

224 
lo›
->
sig«l_pùefd
[0]);

225 
	`uv__io_°¨t
(
lo›
, &lo›->
sig«l_io_w©chî
, 
POLLIN
);

228 
	}
}

231 
	$uv__sig«l_lo›_˛ónup
(
uv_lo›_t
* 
lo›
) {

232 
QUEUE
* 
q
;

240 
	`QUEUE_FOREACH
(
q
, &
lo›
->
h™dÀ_queue
) {

241 
uv_h™dÀ_t
* 
h™dÀ
 = 
	`QUEUE_DATA
(
q
, uv_h™dÀ_t, 
h™dÀ_queue
);

243 i‡(
h™dÀ
->
ty≥
 =
UV_SIGNAL
)

244 
	`uv__sig«l_°›
((
uv_sig«l_t
*Ë
h™dÀ
);

247 i‡(
lo›
->
sig«l_pùefd
[0] != -1) {

248 
	`uv__˛o£
(
lo›
->
sig«l_pùefd
[0]);

249 
lo›
->
sig«l_pùefd
[0] = -1;

252 i‡(
lo›
->
sig«l_pùefd
[1] != -1) {

253 
	`uv__˛o£
(
lo›
->
sig«l_pùefd
[1]);

254 
lo›
->
sig«l_pùefd
[1] = -1;

256 
	}
}

259 
	$uv_sig«l_öô
(
uv_lo›_t
* 
lo›
, 
uv_sig«l_t
* 
h™dÀ
) {

260 
îr
;

262 
îr
 = 
	`uv__sig«l_lo›_⁄˚_öô
(
lo›
);

263 i‡(
îr
)

264  
îr
;

266 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*Ë
h™dÀ
, 
UV_SIGNAL
);

267 
h™dÀ
->
signum
 = 0;

268 
h™dÀ
->
ˇught_sig«ls
 = 0;

269 
h™dÀ
->
di•©ched_sig«ls
 = 0;

272 
	}
}

275 
	$uv__sig«l_˛o£
(
uv_sig«l_t
* 
h™dÀ
) {

277 
	`uv__sig«l_°›
(
h™dÀ
);

283 i‡(
h™dÀ
->
ˇught_sig«ls
 =h™dÀ->
di•©ched_sig«ls
) {

284 
	`uv__make_˛o£_≥ndög
((
uv_h™dÀ_t
*Ë
h™dÀ
);

286 
	}
}

289 
	$uv_sig«l_°¨t
(
uv_sig«l_t
* 
h™dÀ
, 
uv_sig«l_cb
 
sig«l_cb
, 
signum
) {

290 
sig£t_t
 
ßved_sigmask
;

291 
îr
;

293 
	`as£π
(!
	`uv__is_˛osög
(
h™dÀ
));

299 i‡(
signum
 == 0)

300  -
EINVAL
;

307 i‡(
signum
 =
h™dÀ
->signum) {

308 
h™dÀ
->
sig«l_cb
 = signal_cb;

313 i‡(
h™dÀ
->
signum
 != 0) {

314 
	`uv__sig«l_°›
(
h™dÀ
);

317 
	`uv__sig«l_block_™d_lock
(&
ßved_sigmask
);

322 i‡(
	`uv__sig«l_fú°_h™dÀ
(
signum
Ë=
NULL
) {

323 
îr
 = 
	`uv__sig«l_ªgi°î_h™dÀr
(
signum
);

324 i‡(
îr
) {

326 
	`uv__sig«l_u∆ock_™d_unblock
(&
ßved_sigmask
);

327  
îr
;

331 
h™dÀ
->
signum
 = signum;

332 
	`RB_INSERT
(
uv__sig«l_åì_s
, &
uv__sig«l_åì
, 
h™dÀ
);

334 
	`uv__sig«l_u∆ock_™d_unblock
(&
ßved_sigmask
);

336 
h™dÀ
->
sig«l_cb
 = signal_cb;

337 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

340 
	}
}

343 
	$uv__sig«l_evít
(
uv_lo›_t
* 
lo›
,

344 
uv__io_t
* 
w
,

345 
evíts
) {

346 
uv__sig«l_msg_t
* 
msg
;

347 
uv_sig«l_t
* 
h™dÀ
;

348 
buf
[(
uv__sig«l_msg_t
) * 32];

349 
size_t
 
byãs
, 
íd
, 
i
;

350 
r
;

352 
byãs
 = 0;

353 
íd
 = 0;

356 
r
 = 
	`ªad
(
lo›
->
sig«l_pùefd
[0], 
buf
 + 
byãs
, (buf) - bytes);

358 i‡(
r
 =-1 && 
î∫o
 =
EINTR
)

361 i‡(
r
 =-1 && (
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)) {

366 i‡(
byãs
 > 0)

374 i‡(
r
 == -1)

375 
	`ab‹t
();

377 
byãs
 +
r
;

380 
íd
 = (
byãs
 / (
uv__sig«l_msg_t
)) * (uv__signal_msg_t);

382 
i
 = 0; i < 
íd
; i +(
uv__sig«l_msg_t
)) {

383 
msg
 = (
uv__sig«l_msg_t
*Ë(
buf
 + 
i
);

384 
h™dÀ
 = 
msg
->handle;

386 i‡(
msg
->
signum
 =
h™dÀ
->signum) {

387 
	`as£π
(!(
h™dÀ
->
Êags
 & 
UV_CLOSING
));

388 
h™dÀ
->
	`sig«l_cb
(h™dÀ, h™dÀ->
signum
);

391 
h™dÀ
->
di•©ched_sig«ls
++;

397 i‡((
h™dÀ
->
Êags
 & 
UV_CLOSING
) &&

398 (
h™dÀ
->
ˇught_sig«ls
 =h™dÀ->
di•©ched_sig«ls
)) {

399 
	`uv__make_˛o£_≥ndög
((
uv_h™dÀ_t
*Ë
h™dÀ
);

403 
byãs
 -
íd
;

408 i‡(
byãs
) {

409 
	`memmove
(
buf
, bu‡+ 
íd
, 
byãs
);

412 } 
íd
 = 
buf
);

413 
	}
}

416 
	$uv__sig«l_com∑ª
(
uv_sig«l_t
* 
w1
, uv_sig«l_t* 
w2
) {

420 i‡(
w1
->
signum
 < 
w2
->signum)  -1;

421 i‡(
w1
->
signum
 > 
w2
->signum)  1;

426 i‡(
w1
->
lo›
 < 
w2
->loop)  -1;

427 i‡(
w1
->
lo›
 > 
w2
->loop)  1;

429 i‡(
w1
 < 
w2
)  -1;

430 i‡(
w1
 > 
w2
)  1;

433 
	}
}

436 
	$uv_sig«l_°›
(
uv_sig«l_t
* 
h™dÀ
) {

437 
	`as£π
(!
	`uv__is_˛osög
(
h™dÀ
));

438 
	`uv__sig«l_°›
(
h™dÀ
);

440 
	}
}

443 
	$uv__sig«l_°›
(
uv_sig«l_t
* 
h™dÀ
) {

444 
uv_sig«l_t
* 
ªmoved_h™dÀ
;

445 
sig£t_t
 
ßved_sigmask
;

448 i‡(
h™dÀ
->
signum
 == 0)

451 
	`uv__sig«l_block_™d_lock
(&
ßved_sigmask
);

453 
ªmoved_h™dÀ
 = 
	`RB_REMOVE
(
uv__sig«l_åì_s
, &
uv__sig«l_åì
, 
h™dÀ
);

454 
	`as£π
(
ªmoved_h™dÀ
 =
h™dÀ
);

455 (Ë
ªmoved_h™dÀ
;

460 i‡(
	`uv__sig«l_fú°_h™dÀ
(
h™dÀ
->
signum
Ë=
NULL
)

461 
	`uv__sig«l_uƒegi°î_h™dÀr
(
h™dÀ
->
signum
);

463 
	`uv__sig«l_u∆ock_™d_unblock
(&
ßved_sigmask
);

465 
h™dÀ
->
signum
 = 0;

466 
	`uv__h™dÀ_°›
(
h™dÀ
);

467 
	}
}

	@deps/libtuv/src/unix/spinlock.h

16 #i‚de‡
UV_SPINLOCK_H_


17 
	#UV_SPINLOCK_H_


	)

19 
	~"öã∫Æ.h
"

20 
	~"©omic-›s.h
"

22 
	#UV_SPINLOCK_INITIALIZER
 { 0 }

	)

25 
	mlock
;

26 } 
	tuv_•ölock_t
;

28 
UV_UNUSED
(
uv_•ölock_öô
(
uv_•ölock_t
* 
•ölock
));

29 
UV_UNUSED
(
uv_•ölock_lock
(
uv_•ölock_t
* 
•ölock
));

30 
UV_UNUSED
(
uv_•ölock_u∆ock
(
uv_•ölock_t
* 
•ölock
));

31 
UV_UNUSED
(
uv_•ölock_åylock
(
uv_•ölock_t
* 
•ölock
));

33 
UV_UNUSED
(
	$uv_•ölock_öô
(
uv_•ölock_t
* 
•ölock
)) {

34 
	`ACCESS_ONCE
(, 
•ölock
->
lock
) = 0;

35 
	}
}

37 
UV_UNUSED
(
	$uv_•ölock_lock
(
uv_•ölock_t
* 
•ölock
)) {

38 !
	`uv_•ölock_åylock
(
•ölock
)Ë
	`˝u_ªœx
();

39 
	}
}

41 
UV_UNUSED
(
	$uv_•ölock_u∆ock
(
uv_•ölock_t
* 
•ölock
)) {

42 
	`ACCESS_ONCE
(, 
•ölock
->
lock
) = 0;

43 
	}
}

45 
UV_UNUSED
(
	$uv_•ölock_åylock
(
uv_•ölock_t
* 
•ölock
)) {

50  0 =
	`cmpxchgi
(&
•ölock
->
lock
, 0, 1);

51 
	}
}

	@deps/libtuv/src/unix/stream.c

37 
	~"uv.h
"

38 
	~"öã∫Æ.h
"

40 
	~<°dio.h
>

41 
	~<°dlib.h
>

42 
	~<°rög.h
>

43 
	~<as£π.h
>

44 
	~<î∫o.h
>

46 
	~<sys/ty≥s.h
>

47 
	~<sys/sockë.h
>

48 #i‡!
deföed
(
__TIZENRT__
)

49 
	~<sys/uio.h
>

52 
	~<sys/un.h
>

53 
	~<uni°d.h
>

54 
	~<limôs.h
>

56 #i‡
deföed
(
__APPLE__
)

57 
	~<sys/evít.h
>

58 
	~<sys/time.h
>

59 
	~<sys/£À˘.h
>

62 
uv__°ªam_£À˘_s
 
	tuv__°ªam_£À˘_t
;

64 
	suv__°ªam_£À˘_s
 {

65 
uv_°ªam_t
* 
	m°ªam
;

66 
uv_thªad_t
 
	mthªad
;

67 
uv_£m_t
 
	m˛o£_£m
;

68 
uv_£m_t
 
	masync_£m
;

69 
uv_async_t
 
	masync
;

70 
	mevíts
;

71 
	mÁke_fd
;

72 
	möt_fd
;

73 
	mfd
;

74 
fd_£t
* 
	m§ód
;

75 
size_t
 
	m§ód_sz
;

76 
fd_£t
* 
	mswrôe
;

77 
size_t
 
	mswrôe_sz
;

81 
uv__°ªam_c⁄√˘
(
uv_°ªam_t
*);

82 
uv__wrôe
(
uv_°ªam_t
* 
°ªam
);

83 
uv__ªad
(
uv_°ªam_t
* 
°ªam
);

84 
uv__°ªam_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
);

85 
uv__wrôe_ˇŒbacks
(
uv_°ªam_t
* 
°ªam
);

86 
size_t
 
uv__wrôe_ªq_size
(
uv_wrôe_t
* 
ªq
);

89 
	$uv__°ªam_öô
(
uv_lo›_t
* 
lo›
,

90 
uv_°ªam_t
* 
°ªam
,

91 
uv_h™dÀ_ty≥
 
ty≥
) {

92 
îr
;

94 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
°ªam
, 
ty≥
);

95 
°ªam
->
ªad_cb
 = 
NULL
;

96 
°ªam
->
Æloc_cb
 = 
NULL
;

97 
°ªam
->
˛o£_cb
 = 
NULL
;

98 
°ªam
->
c⁄√˘i⁄_cb
 = 
NULL
;

99 
°ªam
->
c⁄√˘_ªq
 = 
NULL
;

100 
°ªam
->
shutdown_ªq
 = 
NULL
;

101 
°ªam
->
ac˚±ed_fd
 = -1;

102 
°ªam
->
queued_fds
 = 
NULL
;

103 
°ªam
->
dñayed_îr‹
 = 0;

104 
	`QUEUE_INIT
(&
°ªam
->
wrôe_queue
);

105 
	`QUEUE_INIT
(&
°ªam
->
wrôe_com∂ëed_queue
);

106 
°ªam
->
wrôe_queue_size
 = 0;

108 i‡(
lo›
->
emfûe_fd
 == -1) {

109 
îr
 = 
	`uv__›í_˛€xec
("/dev/nuŒ", 
O_RDONLY
);

110 i‡(
îr
 < 0)

114 
îr
 = 
	`uv__›í_˛€xec
("/", 
O_RDONLY
);

115 i‡(
îr
 >= 0)

116 
lo›
->
emfûe_fd
 = 
îr
;

119 #i‡
	`deföed
(
__APPLE__
)

120 
°ªam
->
£À˘
 = 
NULL
;

123 
	`uv__io_öô
(&
°ªam
->
io_w©chî
, 
uv__°ªam_io
, -1);

124 
	}
}

127 
	$uv__°ªam_osx_öãºu±_£À˘
(
uv_°ªam_t
* 
°ªam
) {

128 #i‡
	`deföed
(
__APPLE__
)

130 
uv__°ªam_£À˘_t
* 
s
;

131 
r
;

133 
s
 = 
°ªam
->
£À˘
;

134 i‡(
s
 =
NULL
)

142 
r
 = 
	`wrôe
(
s
->
Áke_fd
, "x", 1);

143 
r
 =-1 && 
î∫o
 =
EINTR
);

145 
	`as£π
(
r
 == 1);

149 
	}
}

152 #i‡
deföed
(
__APPLE__
)

153 
	$uv__°ªam_osx_£À˘
(* 
¨g
) {

154 
uv_°ªam_t
* 
°ªam
;

155 
uv__°ªam_£À˘_t
* 
s
;

156 
buf
[1024];

157 
evíts
;

158 
fd
;

159 
r
;

160 
max_fd
;

162 
°ªam
 = 
¨g
;

163 
s
 = 
°ªam
->
£À˘
;

164 
fd
 = 
s
->fd;

166 i‡(
fd
 > 
s
->
öt_fd
)

167 
max_fd
 = 
fd
;

169 
max_fd
 = 
s
->
öt_fd
;

173 i‡(
	`uv_£m_åywaô
(&
s
->
˛o£_£m
) == 0)

177 
	`mem£t
(
s
->
§ód
, 0, s->
§ód_sz
);

178 
	`mem£t
(
s
->
swrôe
, 0, s->
swrôe_sz
);

180 i‡(
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLIN
))

181 
	`FD_SET
(
fd
, 
s
->
§ód
);

182 i‡(
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLOUT
))

183 
	`FD_SET
(
fd
, 
s
->
swrôe
);

184 
	`FD_SET
(
s
->
öt_fd
, s->
§ód
);

187 
r
 = 
	`£À˘
(
max_fd
 + 1, 
s
->
§ód
, s->
swrôe
, 
NULL
, NULL);

188 i‡(
r
 == -1) {

189 i‡(
î∫o
 =
EINTR
)

193 
	`ab‹t
();

197 i‡(
r
 == 0)

201 i‡(
	`FD_ISSET
(
s
->
öt_fd
, s->
§ód
))

203 
r
 = 
	`ªad
(
s
->
öt_fd
, 
buf
, (buf));

205 i‡(
r
 =(
buf
))

208 i‡(
r
 != -1)

211 i‡(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)

214 i‡(
î∫o
 =
EINTR
)

217 
	`ab‹t
();

221 
evíts
 = 0;

222 i‡(
	`FD_ISSET
(
fd
, 
s
->
§ód
))

223 
evíts
 |
POLLIN
;

224 i‡(
	`FD_ISSET
(
fd
, 
s
->
swrôe
))

225 
evíts
 |
POLLOUT
;

227 
	`as£π
(
evíts
 !0 || 
	`FD_ISSET
(
s
->
öt_fd
, s->
§ód
));

228 i‡(
evíts
 != 0) {

229 
	`ACCESS_ONCE
(, 
s
->
evíts
) =Évents;

231 
	`uv_async_£nd
(&
s
->
async
);

232 
	`uv_£m_waô
(&
s
->
async_£m
);

235 
	`as£π
((
s
->
evíts
 =0Ë|| (
°ªam
->
Êags
 & 
UV_CLOSING
));

238 
	}
}

241 
	$uv__°ªam_osx_£À˘_cb
(
uv_async_t
* 
h™dÀ
) {

242 
uv__°ªam_£À˘_t
* 
s
;

243 
uv_°ªam_t
* 
°ªam
;

244 
evíts
;

246 
s
 = 
	`c⁄èöî_of
(
h™dÀ
, 
uv__°ªam_£À˘_t
, 
async
);

247 
°ªam
 = 
s
->stream;

250 
evíts
 = 
s
->events;

251 
	`ACCESS_ONCE
(, 
s
->
evíts
) = 0;

253 
	`as£π
(
evíts
 != 0);

254 
	`as£π
(
evíts
 =”vít†& (
POLLIN
 | 
POLLOUT
)));

257 i‡((
evíts
 & 
POLLIN
Ë&& 
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, POLLIN))

258 
	`uv__°ªam_io
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

260 i‡((
evíts
 & 
POLLOUT
Ë&& 
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, POLLOUT))

261 
	`uv__°ªam_io
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

263 i‡(
°ªam
->
Êags
 & 
UV_CLOSING
)

269 
	`uv_£m_po°
(&
s
->
async_£m
);

270 
	}
}

273 
	$uv__°ªam_osx_cb_˛o£
(
uv_h™dÀ_t
* 
async
) {

274 
uv__°ªam_£À˘_t
* 
s
;

276 
s
 = 
	`c⁄èöî_of
(
async
, 
uv__°ªam_£À˘_t
,ásync);

277 
	`uv__‰ì
(
s
);

278 
	}
}

281 
	$uv__°ªam_åy_£À˘
(
uv_°ªam_t
* 
°ªam
, * 
fd
) {

287 
kevít
 
fûãr
[1];

288 
kevít
 
evíts
[1];

289 
time•ec
 
timeout
;

290 
uv__°ªam_£À˘_t
* 
s
;

291 
fds
[2];

292 
îr
;

293 
ªt
;

294 
kq
;

295 
ﬁd_fd
;

296 
max_fd
;

297 
size_t
 
§ód_sz
;

298 
size_t
 
swrôe_sz
;

300 
kq
 = 
	`kqueue
();

301 i‡(
kq
 == -1) {

302 
	`≥º‹
("(libuv) kqueue()");

303  -
î∫o
;

306 
	`EV_SET
(&
fûãr
[0], *
fd
, 
EVFILT_READ
, 
EV_ADD
 | 
EV_ENABLE
, 0, 0, 0);

309 
timeout
.
tv_£c
 = 0;

310 
timeout
.
tv_n£c
 = 1;

313 
ªt
 = 
	`kevít
(
kq
, 
fûãr
, 1, 
evíts
, 1, &
timeout
);

314 
ªt
 =-1 && 
î∫o
 =
EINTR
);

316 
	`uv__˛o£
(
kq
);

318 i‡(
ªt
 == -1)

319  -
î∫o
;

321 i‡(
ªt
 =0 || (
evíts
[0].
Êags
 & 
EV_ERROR
Ë=0 ||Évíts[0].
d©a
 !
EINVAL
)

330 i‡(
	`sockë∑ú
(
AF_UNIX
, 
SOCK_STREAM
, 0, 
fds
))

331  -
î∫o
;

333 
max_fd
 = *
fd
;

334 i‡(
fds
[1] > 
max_fd
)

335 
max_fd
 = 
fds
[1];

337 
§ód_sz
 = 
	`ROUND_UP
(
max_fd
 + 1, (
uöt32_t
Ë* 
NBBY
) / NBBY;

338 
swrôe_sz
 = 
§ód_sz
;

340 
s
 = 
	`uv__mÆloc
((*sË+ 
§ód_sz
 + 
swrôe_sz
);

341 i‡(
s
 =
NULL
) {

342 
îr
 = -
ENOMEM
;

343 
Áûed_mÆloc
;

346 
s
->
evíts
 = 0;

347 
s
->
fd
 = *fd;

348 
s
->
§ód
 = (
fd_£t
*) ((*) s + (*s));

349 
s
->
§ód_sz
 = sread_sz;

350 
s
->
swrôe
 = (
fd_£t
*Ë((*Ës->
§ód
 + 
§ód_sz
);

351 
s
->
swrôe_sz
 = swrite_sz;

353 
îr
 = 
	`uv_async_öô
(
°ªam
->
lo›
, &
s
->
async
, 
uv__°ªam_osx_£À˘_cb
);

354 i‡(
îr
)

355 
Áûed_async_öô
;

357 
s
->
async
.
Êags
 |
UV__HANDLE_INTERNAL
;

358 
	`uv__h™dÀ_uƒef
(&
s
->
async
);

360 
îr
 = 
	`uv_£m_öô
(&
s
->
˛o£_£m
, 0);

361 i‡(
îr
 != 0)

362 
Áûed_˛o£_£m_öô
;

364 
îr
 = 
	`uv_£m_öô
(&
s
->
async_£m
, 0);

365 i‡(
îr
 != 0)

366 
Áûed_async_£m_öô
;

368 
s
->
Áke_fd
 = 
fds
[0];

369 
s
->
öt_fd
 = 
fds
[1];

371 
ﬁd_fd
 = *
fd
;

372 
s
->
°ªam
 = stream;

373 
°ªam
->
£À˘
 = 
s
;

374 *
fd
 = 
s
->
Áke_fd
;

376 
îr
 = 
	`uv_thªad_¸óã
(&
s
->
thªad
, 
uv__°ªam_osx_£À˘
, 
°ªam
);

377 i‡(
îr
 != 0)

378 
Áûed_thªad_¸óã
;

382 
Áûed_thªad_¸óã
:

383 
s
->
°ªam
 = 
NULL
;

384 
°ªam
->
£À˘
 = 
NULL
;

385 *
fd
 = 
ﬁd_fd
;

387 
	`uv_£m_de°roy
(&
s
->
async_£m
);

389 
Áûed_async_£m_öô
:

390 
	`uv_£m_de°roy
(&
s
->
˛o£_£m
);

392 
Áûed_˛o£_£m_öô
:

393 
	`uv__˛o£
(
fds
[0]);

394 
	`uv__˛o£
(
fds
[1]);

395 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
s
->
async
, 
uv__°ªam_osx_cb_˛o£
);

396  
îr
;

398 
Áûed_async_öô
:

399 
	`uv__‰ì
(
s
);

401 
Áûed_mÆloc
:

402 
	`uv__˛o£
(
fds
[0]);

403 
	`uv__˛o£
(
fds
[1]);

405  
îr
;

406 
	}
}

410 
	$uv__°ªam_›í
(
uv_°ªam_t
* 
°ªam
, 
fd
, 
Êags
) {

411 #i‡
	`deföed
(
__APPLE__
)

412 
íabÀ
;

415 i‡(!(
°ªam
->
io_w©chî
.
fd
 == -1 || stream->io_watcher.fd == fd))

416  -
EBUSY
;

418 
	`as£π
(
fd
 >= 0);

419 
°ªam
->
Êags
 |= flags;

421 i‡(
°ªam
->
ty≥
 =
UV_TCP
) {

422 i‡((
°ªam
->
Êags
 & 
UV_TCP_NODELAY
Ë&& 
	`uv__t˝_nodñay
(
fd
, 1))

423  -
î∫o
;

426 i‡((
°ªam
->
Êags
 & 
UV_TCP_KEEPALIVE
Ë&& 
	`uv__t˝_kì∑live
(
fd
, 1, 60))

427  -
î∫o
;

430 #i‡
	`deföed
(
__APPLE__
)

431 
íabÀ
 = 1;

432 i‡(
	`£tsock›t
(
fd
, 
SOL_SOCKET
, 
SO_OOBINLINE
, &
íabÀ
, (enable)) &&

433 
î∫o
 !
ENOTSOCK
 &&

434 
î∫o
 !
EINVAL
) {

435  -
î∫o
;

439 
°ªam
->
io_w©chî
.
fd
 = fd;

442 
	}
}

445 
	$uv__°ªam_Êush_wrôe_queue
(
uv_°ªam_t
* 
°ªam
, 
îr‹
) {

446 
uv_wrôe_t
* 
ªq
;

447 
QUEUE
* 
q
;

448 !
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_queue
)) {

449 
q
 = 
	`QUEUE_HEAD
(&
°ªam
->
wrôe_queue
);

450 
	`QUEUE_REMOVE
(
q
);

452 
ªq
 = 
	`QUEUE_DATA
(
q
, 
uv_wrôe_t
, 
queue
);

453 
ªq
->
îr‹
 =Érror;

455 
	`QUEUE_INSERT_TAIL
(&
°ªam
->
wrôe_com∂ëed_queue
, &
ªq
->
queue
);

457 
	}
}

460 
	$uv__°ªam_de°roy
(
uv_°ªam_t
* 
°ªam
) {

461 
	`as£π
(!
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLIN
 | 
POLLOUT
));

462 
	`as£π
(
°ªam
->
Êags
 & 
UV_CLOSED
);

464 i‡(
°ªam
->
c⁄√˘_ªq
) {

465 
	`uv__ªq_uƒegi°î
(
°ªam
->
lo›
, såóm->
c⁄√˘_ªq
);

466 
°ªam
->
c⁄√˘_ªq
->
	`cb
(°ªam->c⁄√˘_ªq, -
ECANCELED
);

467 
°ªam
->
c⁄√˘_ªq
 = 
NULL
;

470 
	`uv__°ªam_Êush_wrôe_queue
(
°ªam
, -
ECANCELED
);

471 
	`uv__wrôe_ˇŒbacks
(
°ªam
);

473 i‡(
°ªam
->
shutdown_ªq
) {

479 
	`uv__ªq_uƒegi°î
(
°ªam
->
lo›
, såóm->
shutdown_ªq
);

480 
°ªam
->
shutdown_ªq
->
	`cb
(°ªam->shutdown_ªq, -
ECANCELED
);

481 
°ªam
->
shutdown_ªq
 = 
NULL
;

484 
	`as£π
(
°ªam
->
wrôe_queue_size
 == 0);

485 
	}
}

499 
	$uv__emfûe_åick
(
uv_lo›_t
* 
lo›
, 
ac˚±_fd
) {

500 
îr
;

501 
emfûe_fd
;

503 i‡(
lo›
->
emfûe_fd
 == -1)

504  -
EMFILE
;

506 
	`uv__˛o£
(
lo›
->
emfûe_fd
);

507 
lo›
->
emfûe_fd
 = -1;

510 
îr
 = 
	`uv__ac˚±
(
ac˚±_fd
);

511 i‡(
îr
 >= 0)

512 
	`uv__˛o£
(
îr
);

513 } 
îr
 >0 ||Éº =-
EINTR
);

515 
emfûe_fd
 = 
	`uv__›í_˛€xec
("/", 
O_RDONLY
);

516 i‡(
emfûe_fd
 >= 0)

517 
lo›
->
emfûe_fd
 =Émfile_fd;

519  
îr
;

520 
	}
}

523 #i‡
deföed
(
UV_HAVE_KQUEUE
)

524 
	#UV_DEC_BACKLOG
(
w
Ëw->
rcou¡
--;

	)

526 
	#UV_DEC_BACKLOG
(
w
Ë

	)

530 
	$uv__£rvî_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
) {

531 
uv_°ªam_t
* 
°ªam
;

532 
îr
;

534 
°ªam
 = 
	`c⁄èöî_of
(
w
, 
uv_°ªam_t
, 
io_w©chî
);

535 
	`as£π
(
evíts
 =
POLLIN
);

536 
	`as£π
(
°ªam
->
ac˚±ed_fd
 == -1);

537 
	`as£π
(!(
°ªam
->
Êags
 & 
UV_CLOSING
));

539 
	`uv__io_°¨t
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

544 
	`uv__°ªam_fd
(
°ªam
) != -1) {

545 
	`as£π
(
°ªam
->
ac˚±ed_fd
 == -1);

547 #i‡
	`deföed
(
UV_HAVE_KQUEUE
)

548 i‡(
w
->
rcou¡
 <= 0)

552 
îr
 = 
	`uv__ac˚±
(
	`uv__°ªam_fd
(
°ªam
));

553 i‡(
îr
 < 0) {

554 i‡(
îr
 =-
EAGAIN
 ||Éº =-
EWOULDBLOCK
)

557 i‡(
îr
 =-
ECONNABORTED
)

560 i‡(
îr
 =-
EMFILE
 ||Éº =-
ENFILE
) {

561 
îr
 = 
	`uv__emfûe_åick
(
lo›
, 
	`uv__°ªam_fd
(
°ªam
));

562 i‡(
îr
 =-
EAGAIN
 ||Éº =-
EWOULDBLOCK
)

566 
°ªam
->
	`c⁄√˘i⁄_cb
(°ªam, 
îr
);

570 
	`UV_DEC_BACKLOG
(
w
)

571 
°ªam
->
ac˚±ed_fd
 = 
îr
;

572 
°ªam
->
	`c⁄√˘i⁄_cb
(stream, 0);

574 i‡(
°ªam
->
ac˚±ed_fd
 != -1) {

576 
	`uv__io_°›
(
lo›
, &
°ªam
->
io_w©chî
, 
POLLIN
);

580 i‡(
°ªam
->
ty≥
 =
UV_TCP
 && (°ªam->
Êags
 & 
UV_TCP_SINGLE_ACCEPT
)) {

582 
time•ec
 
timeout
 = { 0, 1 };

583 
	`«no¶ìp
(&
timeout
, 
NULL
);

586 
	}
}

589 #unde‡
UV_DEC_BACKLOG


592 
	$uv_ac˚±
(
uv_°ªam_t
* 
£rvî
, uv_°ªam_t* 
˛õ¡
) {

593 
îr
;

595 
	`as£π
(
£rvî
->
lo›
 =
˛õ¡
->loop);

597 i‡(
£rvî
->
ac˚±ed_fd
 == -1)

598  -
EAGAIN
;

600 
˛õ¡
->
ty≥
) {

601 
UV_NAMED_PIPE
:

602 
UV_TCP
:

603 
îr
 = 
	`uv__°ªam_›í
(
˛õ¡
,

604 
£rvî
->
ac˚±ed_fd
,

605 
UV_STREAM_READABLE
 | 
UV_STREAM_WRITABLE
);

606 i‡(
îr
) {

608 
	`uv__˛o£
(
£rvî
->
ac˚±ed_fd
);

609 
d⁄e
;

613 
UV_UDP
:

614 
îr
 = 
	`uv_udp_›í
((
uv_udp_t
*Ë
˛õ¡
, 
£rvî
->
ac˚±ed_fd
);

615 i‡(
îr
) {

616 
	`uv__˛o£
(
£rvî
->
ac˚±ed_fd
);

617 
d⁄e
;

622  -
EINVAL
;

625 
˛õ¡
->
Êags
 |
UV_HANDLE_BOUND
;

627 
d⁄e
:

629 i‡(
£rvî
->
queued_fds
 !
NULL
) {

630 
uv__°ªam_queued_fds_t
* 
queued_fds
;

632 
queued_fds
 = 
£rvî
->queued_fds;

635 
£rvî
->
ac˚±ed_fd
 = 
queued_fds
->
fds
[0];

638 
	`as£π
(
queued_fds
->
off£t
 > 0);

639 i‡(--
queued_fds
->
off£t
 == 0) {

640 
	`uv__‰ì
(
queued_fds
);

641 
£rvî
->
queued_fds
 = 
NULL
;

644 
	`memmove
(
queued_fds
->
fds
,

645 
queued_fds
->
fds
 + 1,

646 
queued_fds
->
off£t
 * (*queued_fds->
fds
));

649 
£rvî
->
ac˚±ed_fd
 = -1;

650 i‡(
îr
 == 0)

651 
	`uv__io_°¨t
(
£rvî
->
lo›
, &£rvî->
io_w©chî
, 
POLLIN
);

653  
îr
;

654 
	}
}

657 
	$uv_li°í
(
uv_°ªam_t
* 
°ªam
, 
backlog
, 
uv_c⁄√˘i⁄_cb
 
cb
) {

658 
îr
;

660 
°ªam
->
ty≥
) {

661 
UV_TCP
:

662 
îr
 = 
	`uv_t˝_li°í
((
uv_t˝_t
*)
°ªam
, 
backlog
, 
cb
);

666 
îr
 = -
EINVAL
;

669 i‡(
îr
 == 0)

670 
	`uv__h™dÀ_°¨t
(
°ªam
);

672  
îr
;

673 
	}
}

676 
	$uv__døö
(
uv_°ªam_t
* 
°ªam
) {

677 
uv_shutdown_t
* 
ªq
;

678 
îr
;

680 
	`as£π
(
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_queue
));

681 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

682 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

685 i‡((
°ªam
->
Êags
 & 
UV_STREAM_SHUTTING
) &&

686 !(
°ªam
->
Êags
 & 
UV_CLOSING
) &&

687 !(
°ªam
->
Êags
 & 
UV_STREAM_SHUT
)) {

688 
	`as£π
(
°ªam
->
shutdown_ªq
);

690 
ªq
 = 
°ªam
->
shutdown_ªq
;

691 
°ªam
->
shutdown_ªq
 = 
NULL
;

692 
°ªam
->
Êags
 &~
UV_STREAM_SHUTTING
;

693 
	`uv__ªq_uƒegi°î
(
°ªam
->
lo›
, 
ªq
);

695 
îr
 = 0;

696 i‡(
	`shutdown
(
	`uv__°ªam_fd
(
°ªam
), 
SHUT_WR
))

697 
îr
 = -
î∫o
;

699 i‡(
îr
 == 0)

700 
°ªam
->
Êags
 |
UV_STREAM_SHUT
;

702 i‡(
ªq
->
cb
 !
NULL
)

703 
ªq
->
	`cb
‘eq, 
îr
);

705 
	}
}

708 
size_t
 
	$uv__wrôe_ªq_size
(
uv_wrôe_t
* 
ªq
) {

709 
size_t
 
size
;

711 
	`as£π
(
ªq
->
bufs
 !
NULL
);

712 
size
 = 
	`uv__cou¡_bufs
(
ªq
->
bufs
 +Ñeq->
wrôe_ödex
,

713 
ªq
->
nbufs
 -Ñeq->
wrôe_ödex
);

714 
	`as£π
(
ªq
->
h™dÀ
->
wrôe_queue_size
 >
size
);

716  
size
;

717 
	}
}

720 
	$uv__wrôe_ªq_föish
(
uv_wrôe_t
* 
ªq
) {

721 
uv_°ªam_t
* 
°ªam
 = 
ªq
->
h™dÀ
;

724 
	`QUEUE_REMOVE
(&
ªq
->
queue
);

732 i‡(
ªq
->
îr‹
 == 0) {

733 i‡(
ªq
->
bufs
 !ªq->
bufsml
)

734 
	`uv__‰ì
(
ªq
->
bufs
);

735 
ªq
->
bufs
 = 
NULL
;

741 
	`QUEUE_INSERT_TAIL
(&
°ªam
->
wrôe_com∂ëed_queue
, &
ªq
->
queue
);

742 
	`uv__io_„ed
(
°ªam
->
lo›
, &°ªam->
io_w©chî
);

743 
	}
}

746 
	$uv__h™dÀ_fd
(
uv_h™dÀ_t
* 
h™dÀ
) {

747 
h™dÀ
->
ty≥
) {

748 
UV_NAMED_PIPE
:

749 
UV_TCP
:

750  ((
uv_°ªam_t
*Ë
h™dÀ
)->
io_w©chî
.
fd
;

752 
UV_UDP
:

753  ((
uv_udp_t
*Ë
h™dÀ
)->
io_w©chî
.
fd
;

758 
	}
}

760 
	$uv__wrôe
(
uv_°ªam_t
* 
°ªam
) {

761 
iovec
* 
iov
;

762 
QUEUE
* 
q
;

763 
uv_wrôe_t
* 
ªq
;

764 
iovmax
;

765 
iov˙t
;

766 
ssize_t
 
n
;

768 
°¨t
:

770 
	`as£π
(
	`uv__°ªam_fd
(
°ªam
) >= 0);

772 i‡(
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_queue
))

775 
q
 = 
	`QUEUE_HEAD
(&
°ªam
->
wrôe_queue
);

776 
ªq
 = 
	`QUEUE_DATA
(
q
, 
uv_wrôe_t
, 
queue
);

777 
	`as£π
(
ªq
->
h™dÀ
 =
°ªam
);

783 
	`as£π
((
uv_buf_t
Ë=(
iovec
));

784 
iov
 = (
iovec
*Ë&(
ªq
->
bufs
[ªq->
wrôe_ödex
]);

785 
iov˙t
 = 
ªq
->
nbufs
 -Ñeq->
wrôe_ödex
;

787 
iovmax
 = 
	`uv__gëiovmax
();

790 i‡(
iov˙t
 > 
iovmax
)

791 
iov˙t
 = 
iovmax
;

798 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

799 i‡(
ªq
->
£nd_h™dÀ
) {

800 
msghdr
 
msg
;

801 
cmsghdr
 *
cmsg
;

802 
fd_to_£nd
 = 
	`uv__h™dÀ_fd
((
uv_h™dÀ_t
*Ë
ªq
->
£nd_h™dÀ
);

803 
s¸©ch
[64] = {0};

805 
	`as£π
(
fd_to_£nd
 >= 0);

807 
msg
.
msg_«me
 = 
NULL
;

808 
msg
.
msg_«mñí
 = 0;

809 
msg
.
msg_iov
 = 
iov
;

810 
msg
.
msg_iovÀn
 = 
iov˙t
;

811 
msg
.
msg_Êags
 = 0;

813 
msg
.
msg_c⁄åﬁ
 = (*Ë
s¸©ch
;

814 
msg
.
msg_c⁄åﬁÀn
 = 
	`CMSG_SPACE
((
fd_to_£nd
));

816 
cmsg
 = 
	`CMSG_FIRSTHDR
(&
msg
);

817 
cmsg
->
cmsg_Àvñ
 = 
SOL_SOCKET
;

818 
cmsg
->
cmsg_ty≥
 = 
SCM_RIGHTS
;

819 
cmsg
->
cmsg_Àn
 = 
	`CMSG_LEN
((
fd_to_£nd
));

823 * 
pv
 = 
	`CMSG_DATA
(
cmsg
);

824 * 
pi
 = 
pv
;

825 *
pi
 = 
fd_to_£nd
;

829 
n
 = 
	`£ndmsg
(
	`uv__°ªam_fd
(
°ªam
), &
msg
, 0);

831 #i‡
	`deföed
(
__APPLE__
)

838 
n
 =-1 && (
î∫o
 =
EINTR
 ||Éºnÿ=
EPROTOTYPE
));

840 
n
 =-1 && 
î∫o
 =
EINTR
);

845 i‡(
iov˙t
 == 1) {

846 
n
 = 
	`wrôe
(
	`uv__°ªam_fd
(
°ªam
), 
iov
[0].
iov_ba£
, iov[0].
iov_Àn
);

848 
n
 = 
	`wrôev
(
	`uv__°ªam_fd
(
°ªam
), 
iov
, 
iov˙t
);

851 #i‡
	`deföed
(
__APPLE__
)

858 
n
 =-1 && (
î∫o
 =
EINTR
 ||Éºnÿ=
EPROTOTYPE
));

860 
n
 =-1 && 
î∫o
 =
EINTR
);

862 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

866 i‡(
n
 < 0) {

867 i‡(
î∫o
 !
EAGAIN
 &&Éºnÿ!
EWOULDBLOCK
) {

869 
ªq
->
îr‹
 = -
î∫o
;

870 
	`uv__wrôe_ªq_föish
(
ªq
);

871 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

872 i‡(!
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLIN
))

873 
	`uv__h™dÀ_°›
(
°ªam
);

874 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

876 } i‡(
°ªam
->
Êags
 & 
UV_STREAM_BLOCKING
) {

878 
°¨t
;

883 
n
 >= 0) {

884 
uv_buf_t
* 
buf
 = &(
ªq
->
bufs
[ªq->
wrôe_ödex
]);

885 
size_t
 
Àn
 = 
buf
->len;

887 
	`as£π
(
ªq
->
wrôe_ödex
 <Ñeq->
nbufs
);

889 i‡((
size_t
)
n
 < 
Àn
) {

890 
buf
->
ba£
 +
n
;

891 
buf
->
Àn
 -
n
;

892 
°ªam
->
wrôe_queue_size
 -
n
;

893 
n
 = 0;

896 i‡(
°ªam
->
Êags
 & 
UV_STREAM_BLOCKING
) {

901 
°¨t
;

909 
ªq
->
wrôe_ödex
++;

911 
	`as£π
((
size_t
)
n
 >
Àn
);

912 
n
 -
Àn
;

914 
	`as£π
(
°ªam
->
wrôe_queue_size
 >
Àn
);

915 
°ªam
->
wrôe_queue_size
 -
Àn
;

917 i‡(
ªq
->
wrôe_ödex
 =ªq->
nbufs
) {

919 
	`as£π
(
n
 == 0);

920 
	`uv__wrôe_ªq_föish
(
ªq
);

929 
	`as£π
(
n
 == 0 ||Ç == -1);

932 
	`as£π
(!(
°ªam
->
Êags
 & 
UV_STREAM_BLOCKING
));

935 
	`uv__io_°¨t
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

938 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

939 
	}
}

942 
	$uv__wrôe_ˇŒbacks
(
uv_°ªam_t
* 
°ªam
) {

943 
uv_wrôe_t
* 
ªq
;

944 
QUEUE
* 
q
;

946 !
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_com∂ëed_queue
)) {

948 
q
 = 
	`QUEUE_HEAD
(&
°ªam
->
wrôe_com∂ëed_queue
);

949 
ªq
 = 
	`QUEUE_DATA
(
q
, 
uv_wrôe_t
, 
queue
);

950 
	`QUEUE_REMOVE
(
q
);

951 
	`uv__ªq_uƒegi°î
(
°ªam
->
lo›
, 
ªq
);

953 i‡(
ªq
->
bufs
 !
NULL
) {

954 
°ªam
->
wrôe_queue_size
 -
	`uv__wrôe_ªq_size
(
ªq
);

955 i‡(
ªq
->
bufs
 !ªq->
bufsml
)

956 
	`uv__‰ì
(
ªq
->
bufs
);

957 
ªq
->
bufs
 = 
NULL
;

961 i‡(
ªq
->
cb
)

962 
ªq
->
	`cb
‘eq,Ñeq->
îr‹
);

965 
	`as£π
(
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_com∂ëed_queue
));

966 
	}
}

969 
uv_h™dÀ_ty≥
 
	$uv__h™dÀ_ty≥
(
fd
) {

970 
sockaddr_°‹age
 
ss
;

971 
sockÀn_t
 
s¶í
;

972 
sockÀn_t
 
Àn
;

973 
ty≥
;

975 
	`mem£t
(&
ss
, 0, (ss));

976 
s¶í
 = (
ss
);

978 i‡(
	`gësock«me
(
fd
, (
sockaddr
*)&
ss
, &
s¶í
))

979  
UV_UNKNOWN_HANDLE
;

981 
Àn
 =  
ty≥
;

983 i‡(
	`gësock›t
(
fd
, 
SOL_SOCKET
, 
SO_TYPE
, &
ty≥
, &
Àn
))

984  
UV_UNKNOWN_HANDLE
;

986 i‡(
ty≥
 =
SOCK_STREAM
) {

987 #i‡
	`deföed
(
_AIX
Ë|| deföed(
__Døg⁄Fly__
)

992 i‡(
s¶í
 == 0)

993  
UV_NAMED_PIPE
;

995 
ss
.
ss_Ámûy
) {

996 #i‡!
	`deföed
(
__TIZENRT__
)

997 
AF_UNIX
:

998  
UV_NAMED_PIPE
;

1000 
AF_INET
:

1001 
AF_INET6
:

1002  
UV_TCP
;

1006 i‡(
ty≥
 =
SOCK_DGRAM
 &&

1007 (
ss
.
ss_Ámûy
 =
AF_INET
 || ss.ss_Ámûy =
AF_INET6
))

1008  
UV_UDP
;

1010  
UV_UNKNOWN_HANDLE
;

1011 
	}
}

1014 
	$uv__°ªam_eof
(
uv_°ªam_t
* 
°ªam
, c⁄° 
uv_buf_t
* 
buf
) {

1015 
°ªam
->
Êags
 |
UV_STREAM_READ_EOF
;

1016 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

1017 i‡(!
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLOUT
))

1018 
	`uv__h™dÀ_°›
(
°ªam
);

1019 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1020 
°ªam
->
	`ªad_cb
(°ªam, 
UV_EOF
, 
buf
);

1021 
°ªam
->
Êags
 &~
UV_STREAM_READING
;

1022 
	}
}

1025 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1026 
	$uv__°ªam_queue_fd
(
uv_°ªam_t
* 
°ªam
, 
fd
) {

1027 
uv__°ªam_queued_fds_t
* 
queued_fds
;

1028 
queue_size
;

1030 
queued_fds
 = 
°ªam
->queued_fds;

1031 i‡(
queued_fds
 =
NULL
) {

1032 
queue_size
 = 8;

1033 
queued_fds
 = 
	`uv__mÆloc
((
queue_size
 - 1Ë* (*queued_fds->
fds
) +

1034 (*
queued_fds
));

1035 i‡(
queued_fds
 =
NULL
)

1036  -
ENOMEM
;

1037 
queued_fds
->
size
 = 
queue_size
;

1038 
queued_fds
->
off£t
 = 0;

1039 
°ªam
->
queued_fds
 = queued_fds;

1042 } i‡(
queued_fds
->
size
 =queued_fds->
off£t
) {

1043 
queue_size
 = 
queued_fds
->
size
 + 8;

1044 
queued_fds
 = 
	`uv__ªÆloc
(queued_fds,

1045 (
queue_size
 - 1Ë* (*
queued_fds
->
fds
) +

1046 (*
queued_fds
));

1052 i‡(
queued_fds
 =
NULL
)

1053  -
ENOMEM
;

1054 
queued_fds
->
size
 = 
queue_size
;

1055 
°ªam
->
queued_fds
 = queued_fds;

1059 
queued_fds
->
fds
[queued_fds->
off£t
++] = 
fd
;

1062 
	}
}

1066 
	#UV__CMSG_FD_COUNT
 64

	)

1067 
	#UV__CMSG_FD_SIZE
 (
UV__CMSG_FD_COUNT
 * ())

	)

1070 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1071 
	$uv__°ªam_ªcv_cmsg
(
uv_°ªam_t
* 
°ªam
, 
msghdr
* 
msg
) {

1072 
cmsghdr
* 
cmsg
;

1074 
cmsg
 = 
	`CMSG_FIRSTHDR
(
msg
); cmsg !
NULL
; cmsg = 
	`CMSG_NXTHDR
(msg, cmsg)) {

1075 * 
°¨t
;

1076 * 
íd
;

1077 
îr
;

1078 * 
pv
;

1079 * 
pi
;

1080 
i
;

1081 
cou¡
;

1083 i‡(
cmsg
->
cmsg_ty≥
 !
SCM_RIGHTS
) {

1084 
	`Ârötf
(
°dîr
, "ignoringÇon-SCM_RIGHTSáncillary data: %d\n",

1085 
cmsg
->
cmsg_ty≥
);

1090 
pv
 = 
	`CMSG_DATA
(
cmsg
);

1091 
pi
 = 
pv
;

1094 
°¨t
 = (*Ë
cmsg
;

1095 
íd
 = (*Ë
cmsg
 + cmsg->
cmsg_Àn
;

1096 
cou¡
 = 0;

1097 
°¨t
 + 
	`CMSG_LEN
(
cou¡
 * (*
pi
)Ë< 
íd
)

1098 
cou¡
++;

1099 
	`as£π
(
°¨t
 + 
	`CMSG_LEN
(
cou¡
 * (*
pi
)Ë=
íd
);

1101 
i
 = 0; i < 
cou¡
; i++) {

1103 i‡(
°ªam
->
ac˚±ed_fd
 != -1) {

1104 
îr
 = 
	`uv__°ªam_queue_fd
(
°ªam
, 
pi
[
i
]);

1105 i‡(
îr
 != 0) {

1107 ; 
i
 < 
cou¡
; i++)

1108 
	`uv__˛o£
(
pi
[
i
]);

1109  
îr
;

1112 
°ªam
->
ac˚±ed_fd
 = 
pi
[
i
];

1118 
	}
}

1122 #ifde‡
__˛™g__


1123 #¥agm®
˛™g
 
dügno°ic
 
push


1124 #¥agm®
˛™g
 
dügno°ic
 
ign‹ed
 "-Wgnu-folding-constant"

1127 
	$uv__ªad
(
uv_°ªam_t
* 
°ªam
) {

1128 
uv_buf_t
 
buf
;

1129 
ssize_t
 
ƒód
;

1130 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1131 
msghdr
 
msg
;

1132 
cmsg_•a˚
[
	`CMSG_SPACE
(
UV__CMSG_FD_SIZE
)];

1134 
cou¡
;

1135 
îr
;

1136 
is_ùc
;

1138 
°ªam
->
Êags
 &~
UV_STREAM_READ_PARTIAL
;

1143 
cou¡
 = 32;

1145 
is_ùc
 = 
°ªam
->
ty≥
 =
UV_NAMED_PIPE
 && ((
uv_pùe_t
*Ë°ªam)->
ùc
;

1146 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

1147 
	`as£π
(!
is_ùc
);

1153 
°ªam
->
ªad_cb


1154 && (
°ªam
->
Êags
 & 
UV_STREAM_READING
)

1155 && (
cou¡
-- > 0)) {

1156 
	`as£π
(
°ªam
->
Æloc_cb
 !
NULL
);

1158 
buf
 = 
	`uv_buf_öô
(
NULL
, 0);

1159 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

1160 
°ªam
->
	`Æloc_cb
((
uv_h™dÀ_t
*)°ªam, 2 * 1024, &
buf
);

1162 
°ªam
->
	`Æloc_cb
((
uv_h™dÀ_t
*)°ªam, 64 * 1024, &
buf
);

1164 i‡(
buf
.
ba£
 =
NULL
 || buf.
Àn
 == 0) {

1166 
°ªam
->
	`ªad_cb
(°ªam, 
UV_ENOBUFS
, &
buf
);

1170 
	`as£π
(
buf
.
ba£
 !
NULL
);

1171 
	`as£π
(
	`uv__°ªam_fd
(
°ªam
) >= 0);

1173 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1174 i‡(!
is_ùc
) {

1177 
ƒód
 = 
	`ªad
(
	`uv__°ªam_fd
(
°ªam
), 
buf
.
ba£
, buf.
Àn
);

1179 
ƒód
 < 0 && 
î∫o
 =
EINTR
);

1180 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1183 
msg
.
msg_Êags
 = 0;

1184 
msg
.
msg_iov
 = (
iovec
*Ë&
buf
;

1185 
msg
.
msg_iovÀn
 = 1;

1186 
msg
.
msg_«me
 = 
NULL
;

1187 
msg
.
msg_«mñí
 = 0;

1189 
msg
.
msg_c⁄åﬁÀn
 = (
cmsg_•a˚
);

1190 
msg
.
msg_c⁄åﬁ
 = 
cmsg_•a˚
;

1193 
ƒód
 = 
	`uv__ªcvmsg
(
	`uv__°ªam_fd
(
°ªam
), &
msg
, 0);

1195 
ƒód
 < 0 && 
î∫o
 =
EINTR
);

1199 i‡(
ƒód
 < 0) {

1201 i‡(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
) {

1203 i‡(
°ªam
->
Êags
 & 
UV_STREAM_READING
) {

1204 
	`uv__io_°¨t
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

1205 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1207 
°ªam
->
	`ªad_cb
(°ªam, 0, &
buf
);

1210 
°ªam
->
	`ªad_cb
(°ªam, -
î∫o
, &
buf
);

1211 i‡(
°ªam
->
Êags
 & 
UV_STREAM_READING
) {

1212 
°ªam
->
Êags
 &~
UV_STREAM_READING
;

1213 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

1214 i‡(!
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLOUT
))

1215 
	`uv__h™dÀ_°›
(
°ªam
);

1216 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1220 } i‡(
ƒód
 == 0) {

1221 
	`uv__°ªam_eof
(
°ªam
, &
buf
);

1225 
ssize_t
 
buÊí
 = 
buf
.
Àn
;

1227 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1228 i‡(
is_ùc
) {

1229 
îr
 = 
	`uv__°ªam_ªcv_cmsg
(
°ªam
, &
msg
);

1230 i‡(
îr
 != 0) {

1231 
°ªam
->
	`ªad_cb
(°ªam, 
îr
, &
buf
);

1236 
°ªam
->
	`ªad_cb
(°ªam, 
ƒód
, &
buf
);

1239 i‡(
ƒód
 < 
buÊí
) {

1240 
°ªam
->
Êags
 |
UV_STREAM_READ_PARTIAL
;

1245 
	}
}

1248 #ifde‡
__˛™g__


1249 #¥agm®
˛™g
 
dügno°ic
 
p›


1252 #unde‡
UV__CMSG_FD_COUNT


1253 #unde‡
UV__CMSG_FD_SIZE


1256 
	$uv_shutdown
(
uv_shutdown_t
* 
ªq
, 
uv_°ªam_t
* 
°ªam
, 
uv_shutdown_cb
 
cb
) {

1257 
	`as£π
((
°ªam
->
ty≥
 =
UV_TCP
 || såóm->ty≥ =
UV_NAMED_PIPE
) &&

1260 i‡(!(
°ªam
->
Êags
 & 
UV_STREAM_WRITABLE
) ||

1261 
°ªam
->
Êags
 & 
UV_STREAM_SHUT
 ||

1262 
°ªam
->
Êags
 & 
UV_STREAM_SHUTTING
 ||

1263 
	`uv__is_˛osög
(
°ªam
)) {

1264  -
ENOTCONN
;

1267 
	`as£π
(
	`uv__°ªam_fd
(
°ªam
) >= 0);

1270 
	`uv__ªq_öô
(
°ªam
->
lo›
, 
ªq
, 
UV_SHUTDOWN
);

1271 
ªq
->
h™dÀ
 = 
°ªam
;

1272 
ªq
->
cb
 = cb;

1273 
°ªam
->
shutdown_ªq
 = 
ªq
;

1274 
°ªam
->
Êags
 |
UV_STREAM_SHUTTING
;

1276 
	`uv__io_°¨t
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

1277 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1280 
	}
}

1283 
	$uv__°ªam_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
evíts
) {

1284 
uv_°ªam_t
* 
°ªam
;

1286 
°ªam
 = 
	`c⁄èöî_of
(
w
, 
uv_°ªam_t
, 
io_w©chî
);

1288 
	`as£π
(
°ªam
->
ty≥
 =
UV_TCP
 ||

1289 
°ªam
->
ty≥
 =
UV_NAMED_PIPE
 ||

1290 
°ªam
->
ty≥
 =
UV_TTY
);

1291 
	`as£π
(!(
°ªam
->
Êags
 & 
UV_CLOSING
));

1293 i‡(
°ªam
->
c⁄√˘_ªq
) {

1294 
	`uv__°ªam_c⁄√˘
(
°ªam
);

1298 
	`as£π
(
	`uv__°ªam_fd
(
°ªam
) >= 0);

1301 i‡(
evíts
 & (
POLLIN
 | 
POLLERR
 | 
POLLHUP
))

1302 
	`uv__ªad
(
°ªam
);

1304 i‡(
	`uv__°ªam_fd
(
°ªam
) == -1)

1313 i‡((
evíts
 & 
POLLHUP
) &&

1314 (
°ªam
->
Êags
 & 
UV_STREAM_READING
) &&

1315 (
°ªam
->
Êags
 & 
UV_STREAM_READ_PARTIAL
) &&

1316 !(
°ªam
->
Êags
 & 
UV_STREAM_READ_EOF
)) {

1317 
uv_buf_t
 
buf
 = { 
NULL
, 0 };

1318 
	`uv__°ªam_eof
(
°ªam
, &
buf
);

1321 i‡(
	`uv__°ªam_fd
(
°ªam
) == -1)

1324 i‡(
evíts
 & (
POLLOUT
 | 
POLLERR
 | 
POLLHUP
)) {

1325 
	`uv__wrôe
(
°ªam
);

1326 
	`uv__wrôe_ˇŒbacks
(
°ªam
);

1329 i‡(
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_queue
))

1330 
	`uv__døö
(
°ªam
);

1332 
	}
}

1340 
	$uv__°ªam_c⁄√˘
(
uv_°ªam_t
* 
°ªam
) {

1341 
îr‹
;

1342 
uv_c⁄√˘_t
* 
ªq
 = 
°ªam
->
c⁄√˘_ªq
;

1343 
sockÀn_t
 
îr‹size
 = ();

1345 
	`as£π
(
°ªam
->
ty≥
 =
UV_TCP
 || såóm->ty≥ =
UV_NAMED_PIPE
);

1346 
	`as£π
(
ªq
);

1348 i‡(
°ªam
->
dñayed_îr‹
) {

1353 
îr‹
 = 
°ªam
->
dñayed_îr‹
;

1354 
°ªam
->
dñayed_îr‹
 = 0;

1357 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

1359 
îr‹
 = 0;

1361 
	`as£π
(
	`uv__°ªam_fd
(
°ªam
) >= 0);

1362 
	`gësock›t
(
	`uv__°ªam_fd
(
°ªam
),

1363 
SOL_SOCKET
,

1364 
SO_ERROR
,

1365 &
îr‹
,

1366 &
îr‹size
);

1367 
îr‹
 = -error;

1371 i‡(
îr‹
 =-
EINPROGRESS
)

1374 
°ªam
->
c⁄√˘_ªq
 = 
NULL
;

1375 
	`uv__ªq_uƒegi°î
(
°ªam
->
lo›
, 
ªq
);

1377 i‡(
îr‹
 < 0 || 
	`QUEUE_EMPTY
(&
°ªam
->
wrôe_queue
)) {

1378 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

1381 i‡(
ªq
->
cb
)

1382 
ªq
->
	`cb
‘eq, 
îr‹
);

1384 i‡(
	`uv__°ªam_fd
(
°ªam
) == -1)

1387 i‡(
îr‹
 < 0) {

1388 
	`uv__°ªam_Êush_wrôe_queue
(
°ªam
, -
ECANCELED
);

1389 
	`uv__wrôe_ˇŒbacks
(
°ªam
);

1391 
	}
}

1394 
	$uv_wrôe2
(
uv_wrôe_t
* 
ªq
,

1395 
uv_°ªam_t
* 
°ªam
,

1396 c⁄° 
uv_buf_t
 
bufs
[],

1397 
nbufs
,

1398 
uv_°ªam_t
* 
£nd_h™dÀ
,

1399 
uv_wrôe_cb
 
cb
) {

1400 
em±y_queue
;

1402 
	`as£π
(
nbufs
 > 0);

1403 
	`as£π
((
°ªam
->
ty≥
 =
UV_TCP
 ||

1404 
°ªam
->
ty≥
 =
UV_NAMED_PIPE
 ||

1405 
°ªam
->
ty≥
 =
UV_TTY
) &&

1408 i‡(
	`uv__°ªam_fd
(
°ªam
) < 0)

1409  -
EBADF
;

1411 i‡(
£nd_h™dÀ
) {

1412 i‡(
°ªam
->
ty≥
 !
UV_NAMED_PIPE
 || !((
uv_pùe_t
*)°ªam)->
ùc
)

1413  -
EINVAL
;

1421 i‡(
	`uv__h™dÀ_fd
((
uv_h™dÀ_t
*Ë
£nd_h™dÀ
) < 0)

1422  -
EBADF
;

1431 
em±y_queue
 = (
°ªam
->
wrôe_queue_size
 == 0);

1434 
	`uv__ªq_öô
(
°ªam
->
lo›
, 
ªq
, 
UV_WRITE
);

1435 
ªq
->
cb
 = cb;

1436 
ªq
->
h™dÀ
 = 
°ªam
;

1437 
ªq
->
îr‹
 = 0;

1438 
ªq
->
£nd_h™dÀ
 = send_handle;

1439 
	`QUEUE_INIT
(&
ªq
->
queue
);

1441 
ªq
->
bufs
 =Ñeq->
bufsml
;

1442 i‡(
nbufs
 > 
	`ARRAY_SIZE
(
ªq
->
bufsml
))

1443 
ªq
->
bufs
 = 
	`uv__mÆloc
(
nbufs
 * (bufs[0]));

1445 i‡(
ªq
->
bufs
 =
NULL
)

1446  -
ENOMEM
;

1448 
	`mem˝y
(
ªq
->
bufs
, bufs, 
nbufs
 * (bufs[0]));

1449 
ªq
->
nbufs
 =Çbufs;

1450 
ªq
->
wrôe_ödex
 = 0;

1451 
°ªam
->
wrôe_queue_size
 +
	`uv__cou¡_bufs
(
bufs
, 
nbufs
);

1454 
	`QUEUE_INSERT_TAIL
(&
°ªam
->
wrôe_queue
, &
ªq
->
queue
);

1460 i‡(
°ªam
->
c⁄√˘_ªq
) {

1463 i‡(
em±y_queue
) {

1464 
	`uv__wrôe
(
°ªam
);

1472 
	`as£π
(!(
°ªam
->
Êags
 & 
UV_STREAM_BLOCKING
));

1473 
	`uv__io_°¨t
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

1474 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1478 
	}
}

1484 
	$uv_wrôe
(
uv_wrôe_t
* 
ªq
,

1485 
uv_°ªam_t
* 
h™dÀ
,

1486 c⁄° 
uv_buf_t
 
bufs
[],

1487 
nbufs
,

1488 
uv_wrôe_cb
 
cb
) {

1489  
	`uv_wrôe2
(
ªq
, 
h™dÀ
, 
bufs
, 
nbufs
, 
NULL
, 
cb
);

1490 
	}
}

1493 
	$uv_åy_wrôe_cb
(
uv_wrôe_t
* 
ªq
, 
°©us
) {

1495 
	`ab‹t
();

1496 
	}
}

1499 
	$uv_åy_wrôe
(
uv_°ªam_t
* 
°ªam
,

1500 c⁄° 
uv_buf_t
 
bufs
[],

1501 
nbufs
) {

1502 
r
;

1503 
has_pﬁlout
;

1504 
size_t
 
wrôãn
;

1505 
size_t
 
ªq_size
;

1506 
uv_wrôe_t
 
ªq
;

1509 i‡(
°ªam
->
c⁄√˘_ªq
 !
NULL
 || såóm->
wrôe_queue_size
 != 0)

1510  -
EAGAIN
;

1512 
has_pﬁlout
 = 
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLOUT
);

1514 
r
 = 
	`uv_wrôe
(&
ªq
, 
°ªam
, 
bufs
, 
nbufs
, 
uv_åy_wrôe_cb
);

1515 i‡(
r
 != 0)

1516  
r
;

1519 
wrôãn
 = 
	`uv__cou¡_bufs
(
bufs
, 
nbufs
);

1520 i‡(
ªq
.
bufs
 !
NULL
)

1521 
ªq_size
 = 
	`uv__wrôe_ªq_size
(&
ªq
);

1523 
ªq_size
 = 0;

1524 
wrôãn
 -
ªq_size
;

1525 
°ªam
->
wrôe_queue_size
 -
ªq_size
;

1528 
	`QUEUE_REMOVE
(&
ªq
.
queue
);

1529 
	`uv__ªq_uƒegi°î
(
°ªam
->
lo›
, &
ªq
);

1530 i‡(
ªq
.
bufs
 !ªq.
bufsml
)

1531 
	`uv__‰ì
(
ªq
.
bufs
);

1532 
ªq
.
bufs
 = 
NULL
;

1535 i‡(!
has_pﬁlout
) {

1536 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLOUT
);

1537 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1540 i‡(
wrôãn
 =0 && 
ªq_size
 != 0)

1541  -
EAGAIN
;

1543  
wrôãn
;

1544 
	}
}

1547 
	$uv_ªad_°¨t
(
uv_°ªam_t
* 
°ªam
,

1548 
uv_Æloc_cb
 
Æloc_cb
,

1549 
uv_ªad_cb
 
ªad_cb
) {

1550 
	`as£π
(
°ªam
->
ty≥
 =
UV_TCP
 || såóm->ty≥ =
UV_NAMED_PIPE
 ||

1551 
°ªam
->
ty≥
 =
UV_TTY
);

1553 i‡(
°ªam
->
Êags
 & 
UV_CLOSING
)

1554  -
EINVAL
;

1559 
°ªam
->
Êags
 |
UV_STREAM_READING
;

1565 
	`as£π
(
	`uv__°ªam_fd
(
°ªam
) >= 0);

1566 
	`as£π
(
Æloc_cb
);

1568 
°ªam
->
ªad_cb
 =Ñead_cb;

1569 
°ªam
->
Æloc_cb
 =álloc_cb;

1571 
	`uv__io_°¨t
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

1572 
	`uv__h™dÀ_°¨t
(
°ªam
);

1573 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1576 
	}
}

1579 
	$uv_ªad_°›
(
uv_°ªam_t
* 
°ªam
) {

1580 i‡(!(
°ªam
->
Êags
 & 
UV_STREAM_READING
))

1583 
°ªam
->
Êags
 &~
UV_STREAM_READING
;

1584 
	`uv__io_°›
(
°ªam
->
lo›
, &°ªam->
io_w©chî
, 
POLLIN
);

1585 i‡(!
	`uv__io_a˘ive
(&
°ªam
->
io_w©chî
, 
POLLOUT
))

1586 
	`uv__h™dÀ_°›
(
°ªam
);

1587 
	`uv__°ªam_osx_öãºu±_£À˘
(
°ªam
);

1589 
°ªam
->
ªad_cb
 = 
NULL
;

1590 
°ªam
->
Æloc_cb
 = 
NULL
;

1592 
	}
}

1595 #i‡
deföed
(
__APPLE__
)

1596 
	$uv___°ªam_fd
(c⁄° 
uv_°ªam_t
* 
h™dÀ
) {

1597 c⁄° 
uv__°ªam_£À˘_t
* 
s
;

1599 
	`as£π
(
h™dÀ
->
ty≥
 =
UV_TCP
 ||

1600 
h™dÀ
->
ty≥
 =
UV_TTY
 ||

1601 
h™dÀ
->
ty≥
 =
UV_NAMED_PIPE
);

1603 
s
 = 
h™dÀ
->
£À˘
;

1604 i‡(
s
 !
NULL
)

1605  
s
->
fd
;

1607  
h™dÀ
->
io_w©chî
.
fd
;

1608 
	}
}

1612 
	$uv__°ªam_˛o£
(
uv_°ªam_t
* 
h™dÀ
) {

1613 
i
;

1614 
uv__°ªam_queued_fds_t
* 
queued_fds
;

1616 #i‡
	`deföed
(
__APPLE__
)

1618 i‡(
h™dÀ
->
£À˘
 !
NULL
) {

1619 
uv__°ªam_£À˘_t
* 
s
;

1621 
s
 = 
h™dÀ
->
£À˘
;

1623 
	`uv_£m_po°
(&
s
->
˛o£_£m
);

1624 
	`uv_£m_po°
(&
s
->
async_£m
);

1625 
	`uv__°ªam_osx_öãºu±_£À˘
(
h™dÀ
);

1626 
	`uv_thªad_joö
(&
s
->
thªad
);

1627 
	`uv_£m_de°roy
(&
s
->
˛o£_£m
);

1628 
	`uv_£m_de°roy
(&
s
->
async_£m
);

1629 
	`uv__˛o£
(
s
->
Áke_fd
);

1630 
	`uv__˛o£
(
s
->
öt_fd
);

1631 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
s
->
async
, 
uv__°ªam_osx_cb_˛o£
);

1633 
h™dÀ
->
£À˘
 = 
NULL
;

1637 
	`uv__io_˛o£
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
);

1638 
	`uv_ªad_°›
(
h™dÀ
);

1639 
	`uv__h™dÀ_°›
(
h™dÀ
);

1641 i‡(
h™dÀ
->
io_w©chî
.
fd
 != -1) {

1643 i‡(
h™dÀ
->
io_w©chî
.
fd
 > 
STDERR_FILENO
)

1644 
	`uv__˛o£
(
h™dÀ
->
io_w©chî
.
fd
);

1645 
h™dÀ
->
io_w©chî
.
fd
 = -1;

1648 i‡(
h™dÀ
->
ac˚±ed_fd
 != -1) {

1649 
	`uv__˛o£
(
h™dÀ
->
ac˚±ed_fd
);

1650 
h™dÀ
->
ac˚±ed_fd
 = -1;

1654 i‡(
h™dÀ
->
queued_fds
 !
NULL
) {

1655 
queued_fds
 = 
h™dÀ
->queued_fds;

1656 
i
 = 0; i < 
queued_fds
->
off£t
; i++)

1657 
	`uv__˛o£
(
queued_fds
->
fds
[
i
]);

1658 
	`uv__‰ì
(
h™dÀ
->
queued_fds
);

1659 
h™dÀ
->
queued_fds
 = 
NULL
;

1662 
	`as£π
(!
	`uv__io_a˘ive
(&
h™dÀ
->
io_w©chî
, 
POLLIN
 | 
POLLOUT
));

1663 
	}
}

	@deps/libtuv/src/unix/sunos.c

21 
	~"uv.h
"

22 
	~"öã∫Æ.h
"

24 
	~<°dio.h
>

25 
	~<°döt.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<as£π.h
>

29 
	~<î∫o.h
>

31 #i‚de‡
SUNOS_NO_IFADDRS


32 
	~<iÁddrs.h
>

34 
	~<√t/if.h
>

35 
	~<√t/if_dl.h
>

36 
	~<√t/if_¨p.h
>

37 
	~<sys/sockio.h
>

39 
	~<sys/lﬂdavg.h
>

40 
	~<sys/time.h
>

41 
	~<uni°d.h
>

42 
	~<k°©.h
>

43 
	~<f˙é.h
>

45 
	~<sys/p‹t.h
>

46 
	~<p‹t.h
>

48 
	#PORT_FIRED
 0x69

	)

49 
	#PORT_UNUSED
 0x0

	)

50 
	#PORT_LOADED
 0x99

	)

51 
	#PORT_DELETED
 -1

	)

53 #i‡(!
deföed
(
_LP64
)Ë&& (
_FILE_OFFSET_BITS
 - 0 == 64)

54 
	#PROCFS_FILE_OFFSET_BITS_HACK
 1

	)

55 #unde‡
_FILE_OFFSET_BITS


57 
	#PROCFS_FILE_OFFSET_BITS_HACK
 0

	)

60 
	~<¥ocfs.h
>

62 #i‡(
PROCFS_FILE_OFFSET_BITS_HACK
 - 0 == 1)

63 
	#_FILE_OFFSET_BITS
 64

	)

67 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

68 
îr
;

69 
fd
;

71 
lo›
->
fs_fd
 = -1;

72 
lo›
->
backíd_fd
 = -1;

74 
fd
 = 
	`p‹t_¸óã
();

75 i‡(
fd
 == -1)

76  -
î∫o
;

78 
îr
 = 
	`uv__˛€xec
(
fd
, 1);

79 i‡(
îr
) {

80 
	`uv__˛o£
(
fd
);

81  
îr
;

83 
lo›
->
backíd_fd
 = 
fd
;

86 
	}
}

89 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

90 i‡(
lo›
->
fs_fd
 != -1) {

91 
	`uv__˛o£
(
lo›
->
fs_fd
);

92 
lo›
->
fs_fd
 = -1;

95 i‡(
lo›
->
backíd_fd
 != -1) {

96 
	`uv__˛o£
(
lo›
->
backíd_fd
);

97 
lo›
->
backíd_fd
 = -1;

99 
	}
}

102 
	$uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

103 
p‹t_evít
* 
evíts
;

104 
uöçå_t
 
i
;

105 
uöçå_t
 
nfds
;

107 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

109 
evíts
 = (
p‹t_evít
*Ë
lo›
->
w©chîs
[lo›->
nw©chîs
];

110 
nfds
 = (
uöçå_t
Ë
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1];

111 i‡(
evíts
 =
NULL
)

115 
i
 = 0; i < 
nfds
; i++)

116 i‡((Ë
evíts
[
i
].
p‹ãv_obje˘
 =
fd
)

117 
evíts
[
i
].
p‹ãv_obje˘
 = -1;

118 
	}
}

121 
	$uv__io_check_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

122 i‡(
	`p‹t_assocüã
(
lo›
->
backíd_fd
, 
PORT_SOURCE_FD
, 
fd
, 
POLLIN
, 0))

123  -
î∫o
;

125 i‡(
	`p‹t_dissocüã
(
lo›
->
backíd_fd
, 
PORT_SOURCE_FD
, 
fd
))

126 
	`ab‹t
();

129 
	}
}

132 
	$uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
) {

133 
p‹t_evít
 
evíts
[1024];

134 
p‹t_evít
* 
≥
;

135 
time•ec
 
•ec
;

136 
QUEUE
* 
q
;

137 
uv__io_t
* 
w
;

138 
sig£t_t
* 
p£t
;

139 
sig£t_t
 
£t
;

140 
uöt64_t
 
ba£
;

141 
uöt64_t
 
diff
;

142 
nfds
;

143 
i
;

144 
ßved_î∫o
;

145 
have_sig«ls
;

146 
√víts
;

147 
cou¡
;

148 
îr
;

149 
fd
;

151 i‡(
lo›
->
nfds
 == 0) {

152 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

156 !
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
)) {

157 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
w©chî_queue
);

158 
	`QUEUE_REMOVE
(
q
);

159 
	`QUEUE_INIT
(
q
);

161 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
w©chî_queue
);

162 
	`as£π
(
w
->
≥víts
 != 0);

164 i‡(
	`p‹t_assocüã
(
lo›
->
backíd_fd
, 
PORT_SOURCE_FD
, 
w
->
fd
, w->
≥víts
, 0))

165 
	`ab‹t
();

167 
w
->
evíts
 = w->
≥víts
;

170 
p£t
 = 
NULL
;

171 i‡(
lo›
->
Êags
 & 
UV_LOOP_BLOCK_SIGPROF
) {

172 
p£t
 = &
£t
;

173 
	`sigem±y£t
(
p£t
);

174 
	`sigadd£t
(
p£t
, 
SIGPROF
);

177 
	`as£π
(
timeout
 >= -1);

178 
ba£
 = 
lo›
->
time
;

179 
cou¡
 = 48;

182 i‡(
timeout
 != -1) {

183 
•ec
.
tv_£c
 = 
timeout
 / 1000;

184 
•ec
.
tv_n£c
 = (
timeout
 % 1000) * 1000000;

188 
evíts
[0].
p‹ãv_sour˚
 = 0;

190 
nfds
 = 1;

191 
ßved_î∫o
 = 0;

193 i‡(
p£t
 !
NULL
)

194 
	`±hªad_sigmask
(
SIG_BLOCK
, 
p£t
, 
NULL
);

196 
îr
 = 
	`p‹t_gën
(
lo›
->
backíd_fd
,

197 
evíts
,

198 
	`ARRAY_SIZE
(
evíts
),

199 &
nfds
,

200 
timeout
 =-1 ? 
NULL
 : &
•ec
);

202 i‡(
p£t
 !
NULL
)

203 
	`±hªad_sigmask
(
SIG_UNBLOCK
, 
p£t
, 
NULL
);

205 i‡(
îr
) {

209 i‡(
î∫o
 =
EINTR
 ||Éºnÿ=
ETIME
)

210 
ßved_î∫o
 = 
î∫o
;

212 
	`ab‹t
();

219 
	`SAVE_ERRNO
(
	`uv__upd©e_time
(
lo›
));

221 i‡(
evíts
[0].
p‹ãv_sour˚
 == 0) {

222 i‡(
timeout
 == 0)

225 i‡(
timeout
 == -1)

228 
upd©e_timeout
;

231 i‡(
nfds
 == 0) {

232 
	`as£π
(
timeout
 != -1);

236 
have_sig«ls
 = 0;

237 
√víts
 = 0;

239 
	`as£π
(
lo›
->
w©chîs
 !
NULL
);

240 
lo›
->
w©chîs
[lo›->
nw©chîs
] = (*Ë
evíts
;

241 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = (*Ë(
uöçå_t
Ë
nfds
;

242 
i
 = 0; i < 
nfds
; i++) {

243 
≥
 = 
evíts
 + 
i
;

244 
fd
 = 
≥
->
p‹ãv_obje˘
;

247 i‡(
fd
 == -1)

250 
	`as£π
(
fd
 >= 0);

251 
	`as£π
((Ë
fd
 < 
lo›
->
nw©chîs
);

253 
w
 = 
lo›
->
w©chîs
[
fd
];

256 i‡(
w
 =
NULL
)

262 i‡(
w
 =&
lo›
->
sig«l_io_w©chî
)

263 
have_sig«ls
 = 1;

265 
w
->
	`cb
(
lo›
, w, 
≥
->
p‹ãv_evíts
);

267 
√víts
++;

269 i‡(
w
 !
lo›
->
w©chîs
[
fd
])

273 i‡(
w
->
≥víts
 !0 && 
	`QUEUE_EMPTY
(&w->
w©chî_queue
))

274 
	`QUEUE_INSERT_TAIL
(&
lo›
->
w©chî_queue
, &
w
->watcher_queue);

277 i‡(
have_sig«ls
 != 0)

278 
lo›
->
sig«l_io_w©chî
.
	`cb
÷o›, &lo›->sig«l_io_w©chî, 
POLLIN
);

280 
lo›
->
w©chîs
[lo›->
nw©chîs
] = 
NULL
;

281 
lo›
->
w©chîs
[lo›->
nw©chîs
 + 1] = 
NULL
;

283 i‡(
have_sig«ls
 != 0)

286 i‡(
√víts
 != 0) {

287 i‡(
nfds
 =
	`ARRAY_SIZE
(
evíts
Ë&& --
cou¡
 != 0) {

289 
timeout
 = 0;

295 i‡(
ßved_î∫o
 =
ETIME
) {

296 
	`as£π
(
timeout
 != -1);

300 i‡(
timeout
 == 0)

303 i‡(
timeout
 == -1)

306 
upd©e_timeout
:

307 
	`as£π
(
timeout
 > 0);

309 
diff
 = 
lo›
->
time
 - 
ba£
;

310 i‡(
diff
 >(
uöt64_t
Ë
timeout
)

313 
timeout
 -
diff
;

315 
	}
}

318 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

319  
	`gëhπime
();

320 
	}
}

328 
	$uv_exï©h
(* 
buf„r
, 
size_t
* 
size
) {

329 
ssize_t
 
ªs
;

330 
buf
[128];

332 i‡(
buf„r
 =
NULL
 || 
size
 == NULL || *size == 0)

333  -
EINVAL
;

335 
	`¢¥ötf
(
buf
, (buf), "/¥oc/%lu/∑th/a.out", (Ë
	`gëpid
());

337 
ªs
 = *
size
 - 1;

338 i‡(
ªs
 > 0)

339 
ªs
 = 
	`ªadlök
(
buf
, 
buf„r
,Ñes);

341 i‡(
ªs
 == -1)

342  -
î∫o
;

344 
buf„r
[
ªs
] = '\0';

345 *
size
 = 
ªs
;

347 
	}
}

350 
uöt64_t
 
	$uv_gë_‰ì_mem‹y
() {

351  (
uöt64_t
Ë
	`sysc⁄f
(
_SC_PAGESIZE
Ë* sysc⁄f(
_SC_AVPHYS_PAGES
);

352 
	}
}

355 
uöt64_t
 
	$uv_gë_tŸÆ_mem‹y
() {

356  (
uöt64_t
Ë
	`sysc⁄f
(
_SC_PAGESIZE
Ë* sysc⁄f(
_SC_PHYS_PAGES
);

357 
	}
}

360 
	$uv_lﬂdavg
(
avg
[3]) {

361 (Ë
	`gëlﬂdavg
(
avg
, 3);

362 
	}
}

365 #i‡
deföed
(
PORT_SOURCE_FILE
)

367 
	$uv__fs_evít_ª¨m
(
uv_fs_evít_t
 *
h™dÀ
) {

368 i‡(
h™dÀ
->
fd
 == -1)

369  -
EBADF
;

371 i‡(
	`p‹t_assocüã
(
h™dÀ
->
lo›
->
fs_fd
,

372 
PORT_SOURCE_FILE
,

373 (
uöçå_t
Ë&
h™dÀ
->
fo
,

374 
FILE_ATTRIB
 | 
FILE_MODIFIED
,

375 
h™dÀ
) == -1) {

376  -
î∫o
;

378 
h™dÀ
->
fd
 = 
PORT_LOADED
;

381 
	}
}

384 
	$uv__fs_evít_ªad
(
uv_lo›_t
* 
lo›
,

385 
uv__io_t
* 
w
,

386 
ªvíts
) {

387 
uv_fs_evít_t
 *
h™dÀ
 = 
NULL
;

388 
time•ec_t
 
timeout
;

389 
p‹t_evít_t
 
≥
;

390 
evíts
;

391 
r
;

393 (Ë
w
;

394 (Ë
ªvíts
;

397 
uöt_t
 
n
 = 1;

408 
	`mem£t
(&
timeout
, 0, Åimeout);

409 
r
 = 
	`p‹t_gën
(
lo›
->
fs_fd
, &
≥
, 1, &
n
, &
timeout
);

411 
r
 =-1 && 
î∫o
 =
EINTR
);

413 i‡((
r
 =-1 && 
î∫o
 =
ETIME
Ë|| 
n
 == 0)

416 
h™dÀ
 = (
uv_fs_evít_t
*Ë
≥
.
p‹ãv_u£r
;

417 
	`as£π
((
r
 == 0) && "unexpectedÖort_get()Érror");

419 
evíts
 = 0;

420 i‡(
≥
.
p‹ãv_evíts
 & (
FILE_ATTRIB
 | 
FILE_MODIFIED
))

421 
evíts
 |
UV_CHANGE
;

422 i‡(
≥
.
p‹ãv_evíts
 & ~(
FILE_ATTRIB
 | 
FILE_MODIFIED
))

423 
evíts
 |
UV_RENAME
;

424 
	`as£π
(
evíts
 != 0);

425 
h™dÀ
->
fd
 = 
PORT_FIRED
;

426 
h™dÀ
->
	`cb
(h™dÀ, 
NULL
, 
evíts
, 0);

428 i‡(
h™dÀ
->
fd
 !
PORT_DELETED
) {

429 
r
 = 
	`uv__fs_evít_ª¨m
(
h™dÀ
);

430 i‡(
r
 != 0)

431 
h™dÀ
->
	`cb
(h™dÀ, 
NULL
, 0, 
r
);

434 
h™dÀ
->
fd
 !
PORT_DELETED
);

435 
	}
}

438 
	$uv_fs_evít_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_evít_t
* 
h™dÀ
) {

439 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_FS_EVENT
);

441 
	}
}

444 
	$uv_fs_evít_°¨t
(
uv_fs_evít_t
* 
h™dÀ
,

445 
uv_fs_evít_cb
 
cb
,

446 c⁄° * 
∑th
,

447 
Êags
) {

448 
p‹tfd
;

449 
fú°_run
;

450 
îr
;

452 i‡(
	`uv__is_a˘ive
(
h™dÀ
))

453  -
EINVAL
;

455 
fú°_run
 = 0;

456 i‡(
h™dÀ
->
lo›
->
fs_fd
 == -1) {

457 
p‹tfd
 = 
	`p‹t_¸óã
();

458 i‡(
p‹tfd
 == -1)

459  -
î∫o
;

460 
h™dÀ
->
lo›
->
fs_fd
 = 
p‹tfd
;

461 
fú°_run
 = 1;

464 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

465 
h™dÀ
->
∑th
 = 
	`uv__°rdup
(path);

466 
h™dÀ
->
fd
 = 
PORT_UNUSED
;

467 
h™dÀ
->
cb
 = cb;

469 
	`mem£t
(&
h™dÀ
->
fo
, 0,  handle->fo);

470 
h™dÀ
->
fo
.
fo_«me
 = h™dÀ->
∑th
;

471 
îr
 = 
	`uv__fs_evít_ª¨m
(
h™dÀ
);

472 i‡(
îr
 != 0)

473  
îr
;

475 i‡(
fú°_run
) {

476 
	`uv__io_öô
(&
h™dÀ
->
lo›
->
fs_evít_w©chî
, 
uv__fs_evít_ªad
, 
p‹tfd
);

477 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->lo›->
fs_evít_w©chî
, 
POLLIN
);

481 
	}
}

484 
	$uv_fs_evít_°›
(
uv_fs_evít_t
* 
h™dÀ
) {

485 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))

488 i‡(
h™dÀ
->
fd
 =
PORT_FIRED
 || h™dÀ->fd =
PORT_LOADED
) {

489 
	`p‹t_dissocüã
(
h™dÀ
->
lo›
->
fs_fd
,

490 
PORT_SOURCE_FILE
,

491 (
uöçå_t
Ë&
h™dÀ
->
fo
);

494 
h™dÀ
->
fd
 = 
PORT_DELETED
;

495 
	`uv__‰ì
(
h™dÀ
->
∑th
);

496 
h™dÀ
->
∑th
 = 
NULL
;

497 
h™dÀ
->
fo
.
fo_«me
 = 
NULL
;

498 
	`uv__h™dÀ_°›
(
h™dÀ
);

501 
	}
}

503 
	$uv__fs_evít_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

504 
	`uv_fs_evít_°›
(
h™dÀ
);

505 
	}
}

509 
	$uv_fs_evít_öô
(
uv_lo›_t
* 
lo›
, 
uv_fs_evít_t
* 
h™dÀ
) {

510  -
ENOSYS
;

511 
	}
}

514 
	$uv_fs_evít_°¨t
(
uv_fs_evít_t
* 
h™dÀ
,

515 
uv_fs_evít_cb
 
cb
,

516 c⁄° * 
fûíame
,

517 
Êags
) {

518  -
ENOSYS
;

519 
	}
}

522 
	$uv_fs_evít_°›
(
uv_fs_evít_t
* 
h™dÀ
) {

523  -
ENOSYS
;

524 
	}
}

527 
	$uv__fs_evít_˛o£
(
uv_fs_evít_t
* 
h™dÀ
) {

528 
	`UNREACHABLE
();

529 
	}
}

534 ** 
	$uv_£tup_¨gs
(
¨gc
, ** 
¨gv
) {

535  
¨gv
;

536 
	}
}

539 
	$uv_£t_¥o˚ss_tôÀ
(c⁄° * 
tôÀ
) {

541 
	}
}

544 
	$uv_gë_¥o˚ss_tôÀ
(* 
buf„r
, 
size_t
 
size
) {

545 i‡(
buf„r
 =
NULL
 || 
size
 == 0)

546  -
EINVAL
;

548 
buf„r
[0] = '\0';

550 
	}
}

553 
	$uv_ªsidít_£t_mem‹y
(
size_t
* 
rss
) {

554 
psöfo_t
 
psöfo
;

555 
îr
;

556 
fd
;

558 
fd
 = 
	`›í
("/¥oc/£lf/psöfo", 
O_RDONLY
);

559 i‡(
fd
 == -1)

560  -
î∫o
;

563 
îr
 = -
EINVAL
;

564 i‡(
	`ªad
(
fd
, &
psöfo
, (psinfo)) == (psinfo)) {

565 *
rss
 = (
size_t
)
psöfo
.
¥_rssize
 * 1024;

566 
îr
 = 0;

568 
	`uv__˛o£
(
fd
);

570  
îr
;

571 
	}
}

574 
	$uv_u±ime
(* 
u±ime
) {

575 
k°©_˘l_t
 *
kc
;

576 
k°©_t
 *
k•
;

577 
k°©_«med_t
 *
k≈
;

579 
hz
 = 
	`sysc⁄f
(
_SC_CLK_TCK
);

581 
kc
 = 
	`k°©_›í
();

582 i‡(
kc
 =
NULL
)

583  -
EPERM
;

585 
k•
 = 
	`k°©_lookup
(
kc
, (*) "unix", 0, (*) "system_misc");

586 i‡(
	`k°©_ªad
(
kc
, 
k•
, 
NULL
) == -1) {

587 *
u±ime
 = -1;

589 
k≈
 = (
k°©_«med_t
*Ë
	`k°©_d©a_lookup
(
k•
, (*) "clk_intr");

590 *
u±ime
 = 
k≈
->
vÆue
.
ul
 / 
hz
;

592 
	`k°©_˛o£
(
kc
);

595 
	}
}

598 
	$uv_˝u_öfo
(
uv_˝u_öfo_t
** 
˝u_öfos
, * 
cou¡
) {

599 
lookup_ö°™˚
;

600 
k°©_˘l_t
 *
kc
;

601 
k°©_t
 *
k•
;

602 
k°©_«med_t
 *
k≈
;

603 
uv_˝u_öfo_t
* 
˝u_öfo
;

605 
kc
 = 
	`k°©_›í
();

606 i‡(
kc
 =
NULL
)

607  -
EPERM
;

610 
lookup_ö°™˚
 = 0;

611 (
k•
 = 
	`k°©_lookup
(
kc
, (*Ë"˝u_öfo", 
lookup_ö°™˚
, 
NULL
))) {

612 
lookup_ö°™˚
++;

615 *
˝u_öfos
 = 
	`uv__mÆloc
(
lookup_ö°™˚
 * (**cpu_infos));

616 i‡(!(*
˝u_öfos
)) {

617 
	`k°©_˛o£
(
kc
);

618  -
ENOMEM
;

621 *
cou¡
 = 
lookup_ö°™˚
;

623 
˝u_öfo
 = *
˝u_öfos
;

624 
lookup_ö°™˚
 = 0;

625 (
k•
 = 
	`k°©_lookup
(
kc
, (*Ë"˝u_öfo", 
lookup_ö°™˚
, 
NULL
))) {

626 i‡(
	`k°©_ªad
(
kc
, 
k•
, 
NULL
) == -1) {

627 
˝u_öfo
->
•ìd
 = 0;

628 
˝u_öfo
->
modñ
 = 
NULL
;

630 
k≈
 = 
	`k°©_d©a_lookup
(
k•
, (*) "clock_MHz");

631 
	`as£π
(
k≈
->
d©a_ty≥
 =
KSTAT_DATA_INT32
 ||

632 
k≈
->
d©a_ty≥
 =
KSTAT_DATA_INT64
);

633 
˝u_öfo
->
•ìd
 = (
k≈
->
d©a_ty≥
 =
KSTAT_DATA_INT32
Ë? k≈->
vÆue
.
i32


634 : 
k≈
->
vÆue
.
i64
;

636 
k≈
 = 
	`k°©_d©a_lookup
(
k•
, (*) "brand");

637 
	`as£π
(
k≈
->
d©a_ty≥
 =
KSTAT_DATA_STRING
);

638 
˝u_öfo
->
modñ
 = 
	`uv__°rdup
(
	`KSTAT_NAMED_STR_PTR
(
k≈
));

641 
lookup_ö°™˚
++;

642 
˝u_öfo
++;

645 
˝u_öfo
 = *
˝u_öfos
;

646 
lookup_ö°™˚
 = 0;

648 
k•
 = 
	`k°©_lookup
(
kc
, (*Ë"˝u", 
lookup_ö°™˚
, (*) "sys");

650 i‡(
k•
 =
NULL
)

653 i‡(
	`k°©_ªad
(
kc
, 
k•
, 
NULL
) == -1) {

654 
˝u_öfo
->
˝u_times
.
u£r
 = 0;

655 
˝u_öfo
->
˝u_times
.
ni˚
 = 0;

656 
˝u_öfo
->
˝u_times
.
sys
 = 0;

657 
˝u_öfo
->
˝u_times
.
idÀ
 = 0;

658 
˝u_öfo
->
˝u_times
.
úq
 = 0;

660 
k≈
 = 
	`k°©_d©a_lookup
(
k•
, (*) "cpu_ticks_user");

661 
	`as£π
(
k≈
->
d©a_ty≥
 =
KSTAT_DATA_UINT64
);

662 
˝u_öfo
->
˝u_times
.
u£r
 = 
k≈
->
vÆue
.
ui64
;

664 
k≈
 = 
	`k°©_d©a_lookup
(
k•
, (*) "cpu_ticks_kernel");

665 
	`as£π
(
k≈
->
d©a_ty≥
 =
KSTAT_DATA_UINT64
);

666 
˝u_öfo
->
˝u_times
.
sys
 = 
k≈
->
vÆue
.
ui64
;

668 
k≈
 = 
	`k°©_d©a_lookup
(
k•
, (*) "cpu_ticks_idle");

669 
	`as£π
(
k≈
->
d©a_ty≥
 =
KSTAT_DATA_UINT64
);

670 
˝u_öfo
->
˝u_times
.
idÀ
 = 
k≈
->
vÆue
.
ui64
;

672 
k≈
 = 
	`k°©_d©a_lookup
(
k•
, (*) "intr");

673 
	`as£π
(
k≈
->
d©a_ty≥
 =
KSTAT_DATA_UINT64
);

674 
˝u_öfo
->
˝u_times
.
úq
 = 
k≈
->
vÆue
.
ui64
;

675 
˝u_öfo
->
˝u_times
.
ni˚
 = 0;

678 
lookup_ö°™˚
++;

679 
˝u_öfo
++;

682 
	`k°©_˛o£
(
kc
);

685 
	}
}

688 
	$uv_‰ì_˝u_öfo
(
uv_˝u_öfo_t
* 
˝u_öfos
, 
cou¡
) {

689 
i
;

691 
i
 = 0; i < 
cou¡
; i++) {

692 
	`uv__‰ì
(
˝u_öfos
[
i
].
modñ
);

695 
	`uv__‰ì
(
˝u_öfos
);

696 
	}
}

703 
	$uv__£t_phys_addr
(
uv_öãrÁ˚_addªss_t
* 
addªss
,

704 
iÁddrs
* 
ít
) {

706 
sockaddr_dl
* 
ß_addr
;

707 
sockfd
;

708 
i
;

709 
¨¥eq
árpreq;

712 
ß_addr
 = (
sockaddr_dl
*)(
ít
->
iÁ_addr
);

713 
	`mem˝y
(
addªss
->
phys_addr
, 
	`LLADDR
(
ß_addr
), (address->phys_addr));

714 
i
 = 0; i < (
addªss
->
phys_addr
); i++) {

715 i‡(
addªss
->
phys_addr
[
i
] != 0)

718 
	`mem£t
(&
¨¥eq
, 0, (arpreq));

719 i‡(
addªss
->addªss.
addªss4
.
sö_Ámûy
 =
AF_INET
) {

720 
sockaddr_ö
* 
sö
 = ((sockaddr_ö*)&
¨¥eq
.
¨p_∑
);

721 
sö
->
sö_addr
.
s_addr
 = 
addªss
->addªss.
addªss4
.sin_addr.s_addr;

722 } i‡(
addªss
->addªss.
addªss4
.
sö_Ámûy
 =
AF_INET6
) {

723 
sockaddr_ö6
* 
sö
 = ((sockaddr_ö6*)&
¨¥eq
.
¨p_∑
);

724 
	`mem˝y
(
sö
->
sö6_addr
.
s6_addr
,

725 
addªss
->addªss.
addªss6
.
sö6_addr
.
s6_addr
,

726 (
addªss
->addªss.
addªss6
.
sö6_addr
.
s6_addr
));

731 
sockfd
 = 
	`sockë
(
AF_INET
, 
SOCK_DGRAM
, 0);

732 i‡(
sockfd
 < 0)

733  -
î∫o
;

735 i‡(
	`io˘l
(
sockfd
, 
SIOCGARP
, (*)&
¨¥eq
) == -1) {

736 
	`uv__˛o£
(
sockfd
);

737  -
î∫o
;

739 
	`mem˝y
(
addªss
->
phys_addr
, 
¨¥eq
.
¨p_ha
.
ß_d©a
, (address->phys_addr));

740 
	`uv__˛o£
(
sockfd
);

742 
	}
}

744 
	$uv_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
** 
addªs£s
, * 
cou¡
) {

745 #ifde‡
SUNOS_NO_IFADDRS


746  -
ENOSYS
;

748 
uv_öãrÁ˚_addªss_t
* 
addªss
;

749 
iÁddrs
* 
addrs
;

750 
iÁddrs
* 
ít
;

751 
i
;

753 i‡(
	`gëiÁddrs
(&
addrs
))

754  -
î∫o
;

756 *
cou¡
 = 0;

759 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

760 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)) ||

761 (
ít
->
iÁ_addr
 =
NULL
) ||

762 (
ít
->
iÁ_addr
->
ß_Ámûy
 =
PF_PACKET
)) {

766 (*
cou¡
)++;

769 *
addªs£s
 = 
	`uv__mÆloc
(*
cou¡
 * (**addresses));

770 i‡(!(*
addªs£s
)) {

771 
	`‰ìiÁddrs
(
addrs
);

772  -
ENOMEM
;

775 
addªss
 = *
addªs£s
;

777 
ít
 = 
addrs
;É¡ !
NULL
;É¡ =É¡->
iÁ_√xt
) {

778 i‡(!((
ít
->
iÁ_Êags
 & 
IFF_UP
Ë&& (ít->iÁ_Êag†& 
IFF_RUNNING
)))

781 i‡(
ít
->
iÁ_addr
 =
NULL
)

784 
addªss
->
«me
 = 
	`uv__°rdup
(
ít
->
iÁ_«me
);

786 i‡(
ít
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET6
) {

787 
addªss
->addªss.
addªss6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_addr
);

789 
addªss
->addªss.
addªss4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_addr
);

792 i‡(
ít
->
iÁ_√tmask
->
ß_Ámûy
 =
AF_INET6
) {

793 
addªss
->
√tmask
.
√tmask6
 = *((
sockaddr_ö6
*Ë
ít
->
iÁ_√tmask
);

795 
addªss
->
√tmask
.
√tmask4
 = *((
sockaddr_ö
*Ë
ít
->
iÁ_√tmask
);

798 
addªss
->
is_öã∫Æ
 = !!((
ít
->
iÁ_Êags
 & 
IFF_PRIVATE
) ||

799 (
ít
->
iÁ_Êags
 & 
IFF_LOOPBACK
));

801 
	`uv__£t_phys_addr
(
addªss
, 
ít
);

802 
addªss
++;

805 
	`‰ìiÁddrs
(
addrs
);

809 
	}
}

812 
	$uv_‰ì_öãrÁ˚_addªs£s
(
uv_öãrÁ˚_addªss_t
* 
addªs£s
,

813 
cou¡
) {

814 
i
;

816 
i
 = 0; i < 
cou¡
; i++) {

817 
	`uv__‰ì
(
addªs£s
[
i
].
«me
);

820 
	`uv__‰ì
(
addªs£s
);

821 
	}
}

	@deps/libtuv/src/unix/tcp.c

22 
	~"uv.h
"

23 
	~"öã∫Æ.h
"

25 
	~<°dlib.h
>

26 
	~<uni°d.h
>

27 
	~<as£π.h
>

28 
	~<î∫o.h
>

31 
	$maybe_√w_sockë
(
uv_t˝_t
* 
h™dÀ
, 
domaö
, 
Êags
) {

32 
sockfd
;

33 
îr
;

35 i‡(
domaö
 =
AF_UNSPEC
 || 
	`uv__°ªam_fd
(
h™dÀ
) != -1) {

36 
h™dÀ
->
Êags
 |= flags;

40 
îr
 = 
	`uv__sockë
(
domaö
, 
SOCK_STREAM
, 0);

41 i‡(
îr
 < 0)

42  
îr
;

43 
sockfd
 = 
îr
;

45 
îr
 = 
	`uv__°ªam_›í
((
uv_°ªam_t
*Ë
h™dÀ
, 
sockfd
, 
Êags
);

46 i‡(
îr
) {

47 
	`uv__˛o£
(
sockfd
);

48  
îr
;

52 
	}
}

55 
	$uv_t˝_öô_ex
(
uv_lo›_t
* 
lo›
, 
uv_t˝_t
* 
t˝
, 
Êags
) {

56 
domaö
;

59 
domaö
 = 
Êags
 & 0xFF;

60 i‡(
domaö
 !
AF_INET
 && domaö !
AF_INET6
 && domaö !
AF_UNSPEC
)

61  -
EINVAL
;

63 i‡(
Êags
 & ~0xFF)

64  -
EINVAL
;

66 
	`uv__°ªam_öô
(
lo›
, (
uv_°ªam_t
*)
t˝
, 
UV_TCP
);

72 i‡(
domaö
 !
AF_UNSPEC
) {

73 
îr
 = 
	`maybe_√w_sockë
(
t˝
, 
domaö
, 0);

74 i‡(
îr
) {

75 
	`QUEUE_REMOVE
(&
t˝
->
h™dÀ_queue
);

76  
îr
;

81 
	}
}

84 
	$uv_t˝_öô
(
uv_lo›_t
* 
lo›
, 
uv_t˝_t
* 
t˝
) {

85  
	`uv_t˝_öô_ex
(
lo›
, 
t˝
, 
AF_UNSPEC
);

86 
	}
}

89 
	$uv__t˝_böd
(
uv_t˝_t
* 
t˝
,

90 c⁄° 
sockaddr
* 
addr
,

91 
addæí
,

92 
Êags
) {

93 
îr
;

94 
⁄
;

97 i‡((
Êags
 & 
UV_TCP_IPV6ONLY
Ë&& 
addr
->
ß_Ámûy
 !
AF_INET6
)

98  -
EINVAL
;

100 
îr
 = 
	`maybe_√w_sockë
(
t˝
,

101 
addr
->
ß_Ámûy
,

102 
UV_STREAM_READABLE
 | 
UV_STREAM_WRITABLE
);

103 i‡(
îr
)

104  
îr
;

106 
⁄
 = 1;

107 i‡(
	`£tsock›t
(
t˝
->
io_w©chî
.
fd
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
⁄
, (on)))

108  -
î∫o
;

110 #ifde‡
IPV6_V6ONLY


111 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
) {

112 
⁄
 = (
Êags
 & 
UV_TCP_IPV6ONLY
) != 0;

113 i‡(
	`£tsock›t
(
t˝
->
io_w©chî
.
fd
,

114 
IPPROTO_IPV6
,

115 
IPV6_V6ONLY
,

116 &
⁄
,

117  
⁄
) == -1) {

118 #i‡
	`deföed
(
__MVS__
)

119 i‡(
î∫o
 =
EOPNOTSUPP
)

120  -
EINVAL
;

122  -
î∫o
;

127 
î∫o
 = 0;

128 i‡(
	`böd
(
t˝
->
io_w©chî
.
fd
, 
addr
, 
addæí
Ë&& 
î∫o
 !
EADDRINUSE
) {

129 i‡(
î∫o
 =
EAFNOSUPPORT
)

132  -
EINVAL
;

133  -
î∫o
;

135 
t˝
->
dñayed_îr‹
 = -
î∫o
;

137 
t˝
->
Êags
 |
UV_HANDLE_BOUND
;

138 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

139 
t˝
->
Êags
 |
UV_HANDLE_IPV6
;

142 
	}
}

145 
	$uv__t˝_c⁄√˘
(
uv_c⁄√˘_t
* 
ªq
,

146 
uv_t˝_t
* 
h™dÀ
,

147 c⁄° 
sockaddr
* 
addr
,

148 
addæí
,

149 
uv_c⁄√˘_cb
 
cb
) {

150 
îr
;

151 
r
;

153 
	`as£π
(
h™dÀ
->
ty≥
 =
UV_TCP
);

155 i‡(
h™dÀ
->
c⁄√˘_ªq
 !
NULL
)

156  -
EALREADY
;

158 
îr
 = 
	`maybe_√w_sockë
(
h™dÀ
,

159 
addr
->
ß_Ámûy
,

160 
UV_STREAM_READABLE
 | 
UV_STREAM_WRITABLE
);

161 i‡(
îr
)

162  
îr
;

164 
h™dÀ
->
dñayed_îr‹
 = 0;

167 
î∫o
 = 0;

168 
r
 = 
	`c⁄√˘
(
	`uv__°ªam_fd
(
h™dÀ
), 
addr
, 
addæí
);

169 } 
r
 =-1 && 
î∫o
 =
EINTR
);

176 i‡(
r
 =-1 && 
î∫o
 != 0) {

177 i‡(
î∫o
 =
EINPROGRESS
)

179 i‡(
î∫o
 =
ECONNREFUSED
)

184 
h™dÀ
->
dñayed_îr‹
 = -
î∫o
;

186  -
î∫o
;

189 
	`uv__ªq_öô
(
h™dÀ
->
lo›
, 
ªq
, 
UV_CONNECT
);

190 
ªq
->
cb
 = cb;

191 
ªq
->
h™dÀ
 = (
uv_°ªam_t
*) handle;

192 
	`QUEUE_INIT
(&
ªq
->
queue
);

193 
h™dÀ
->
c⁄√˘_ªq
 = 
ªq
;

195 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLOUT
);

197 i‡(
h™dÀ
->
dñayed_îr‹
)

198 
	`uv__io_„ed
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
);

201 
	}
}

204 
	$uv_t˝_›í
(
uv_t˝_t
* 
h™dÀ
, 
uv_os_sock_t
 
sock
) {

205 
îr
;

207 
îr
 = 
	`uv__n⁄block
(
sock
, 1);

208 i‡(
îr
)

209  
îr
;

211  
	`uv__°ªam_›í
((
uv_°ªam_t
*)
h™dÀ
,

212 
sock
,

213 
UV_STREAM_READABLE
 | 
UV_STREAM_WRITABLE
);

214 
	}
}

217 
	$uv_t˝_gësock«me
(c⁄° 
uv_t˝_t
* 
h™dÀ
,

218 
sockaddr
* 
«me
,

219 * 
«mñí
) {

220 
sockÀn_t
 
sockÀn
;

222 i‡(
h™dÀ
->
dñayed_îr‹
)

223  
h™dÀ
->
dñayed_îr‹
;

225 i‡(
	`uv__°ªam_fd
(
h™dÀ
) < 0)

226  -
EINVAL
;

229 
sockÀn
 = (
sockÀn_t
Ë*
«mñí
;

231 i‡(
	`gësock«me
(
	`uv__°ªam_fd
(
h™dÀ
), 
«me
, &
sockÀn
))

232  -
î∫o
;

234 *
«mñí
 = (Ë
sockÀn
;

236 
	}
}

239 
	$uv_t˝_gë≥î«me
(c⁄° 
uv_t˝_t
* 
h™dÀ
,

240 
sockaddr
* 
«me
,

241 * 
«mñí
) {

242 
sockÀn_t
 
sockÀn
;

244 i‡(
h™dÀ
->
dñayed_îr‹
)

245  
h™dÀ
->
dñayed_îr‹
;

247 i‡(
	`uv__°ªam_fd
(
h™dÀ
) < 0)

248  -
EINVAL
;

251 
sockÀn
 = (
sockÀn_t
Ë*
«mñí
;

253 i‡(
	`gë≥î«me
(
	`uv__°ªam_fd
(
h™dÀ
), 
«me
, &
sockÀn
))

254  -
î∫o
;

256 *
«mñí
 = (Ë
sockÀn
;

258 
	}
}

261 
	$uv_t˝_li°í
(
uv_t˝_t
* 
t˝
, 
backlog
, 
uv_c⁄√˘i⁄_cb
 
cb
) {

262 
sögÀ_ac˚±
 = -1;

263 
îr
;

265 i‡(
t˝
->
dñayed_îr‹
)

266  
t˝
->
dñayed_îr‹
;

268 i‡(
sögÀ_ac˚±
 == -1) {

269 c⁄° * 
vÆ
 = 
	`gëív
("UV_TCP_SINGLE_ACCEPT");

270 
sögÀ_ac˚±
 = (
vÆ
 !
NULL
 && 
	`©oi
(val) != 0);

273 i‡(
sögÀ_ac˚±
)

274 
t˝
->
Êags
 |
UV_TCP_SINGLE_ACCEPT
;

276 
îr
 = 
	`maybe_√w_sockë
(
t˝
, 
AF_INET
, 
UV_STREAM_READABLE
);

277 i‡(
îr
)

278  
îr
;

280 #ifde‡
__MVS__


286 i‡(!(
t˝
->
Êags
 & 
UV_HANDLE_BOUND
)) {

287 
sockaddr_°‹age
 
ßddr
;

288 
sockÀn_t
 
¶í
 = (
ßddr
);

289 
	`mem£t
(&
ßddr
, 0, (saddr));

291 i‡(
	`gësock«me
(
t˝
->
io_w©chî
.
fd
, (
sockaddr
*Ë&
ßddr
, &
¶í
))

292  -
î∫o
;

294 i‡(
	`böd
(
t˝
->
io_w©chî
.
fd
, (
sockaddr
*Ë&
ßddr
, 
¶í
))

295  -
î∫o
;

297 
t˝
->
Êags
 |
UV_HANDLE_BOUND
;

301 i‡(
	`li°í
(
t˝
->
io_w©chî
.
fd
, 
backlog
))

302  -
î∫o
;

304 
t˝
->
c⁄√˘i⁄_cb
 = 
cb
;

305 
t˝
->
Êags
 |
UV_HANDLE_BOUND
;

308 
t˝
->
io_w©chî
.
cb
 = 
uv__£rvî_io
;

309 
	`uv__io_°¨t
(
t˝
->
lo›
, &t˝->
io_w©chî
, 
POLLIN
);

312 
	}
}

315 
	$uv__t˝_nodñay
(
fd
, 
⁄
) {

316 i‡(
	`£tsock›t
(
fd
, 
IPPROTO_TCP
, 
TCP_NODELAY
, &
⁄
, (on)))

317  -
î∫o
;

319 
	}
}

322 
	$uv__t˝_kì∑live
(
fd
, 
⁄
, 
dñay
) {

323 i‡(
	`£tsock›t
(
fd
, 
SOL_SOCKET
, 
SO_KEEPALIVE
, &
⁄
, (on)))

324  -
î∫o
;

326 #ifde‡
TCP_KEEPIDLE


327 i‡(
⁄
 && 
	`£tsock›t
(
fd
, 
IPPROTO_TCP
, 
TCP_KEEPIDLE
, &
dñay
, (delay)))

328  -
î∫o
;

335 #i‡
	`deföed
(
TCP_KEEPALIVE
Ë&& !deföed(
__sun
)

336 i‡(
⁄
 && 
	`£tsock›t
(
fd
, 
IPPROTO_TCP
, 
TCP_KEEPALIVE
, &
dñay
, (delay)))

337  -
î∫o
;

341 
	}
}

344 
	$uv_t˝_nodñay
(
uv_t˝_t
* 
h™dÀ
, 
⁄
) {

345 
îr
;

347 i‡(
	`uv__°ªam_fd
(
h™dÀ
) != -1) {

348 
îr
 = 
	`uv__t˝_nodñay
(
	`uv__°ªam_fd
(
h™dÀ
), 
⁄
);

349 i‡(
îr
)

350  
îr
;

353 i‡(
⁄
)

354 
h™dÀ
->
Êags
 |
UV_TCP_NODELAY
;

356 
h™dÀ
->
Êags
 &~
UV_TCP_NODELAY
;

359 
	}
}

362 
	$uv_t˝_kì∑live
(
uv_t˝_t
* 
h™dÀ
, 
⁄
, 
dñay
) {

363 
îr
;

365 i‡(
	`uv__°ªam_fd
(
h™dÀ
) != -1) {

366 
îr
 =
	`uv__t˝_kì∑live
(
	`uv__°ªam_fd
(
h™dÀ
), 
⁄
, 
dñay
);

367 i‡(
îr
)

368  
îr
;

371 i‡(
⁄
)

372 
h™dÀ
->
Êags
 |
UV_TCP_KEEPALIVE
;

374 
h™dÀ
->
Êags
 &~
UV_TCP_KEEPALIVE
;

381 
	}
}

384 
	$uv_t˝_simu…™eous_ac˚±s
(
uv_t˝_t
* 
h™dÀ
, 
íabÀ
) {

385 i‡(
íabÀ
)

386 
h™dÀ
->
Êags
 &~
UV_TCP_SINGLE_ACCEPT
;

388 
h™dÀ
->
Êags
 |
UV_TCP_SINGLE_ACCEPT
;

390 
	}
}

393 
	$uv__t˝_˛o£
(
uv_t˝_t
* 
h™dÀ
) {

394 
	`uv__°ªam_˛o£
((
uv_°ªam_t
*)
h™dÀ
);

395 
	}
}

	@deps/libtuv/src/unix/thread.c

37 
	~"uv.h
"

38 
	~"öã∫Æ.h
"

40 
	~<±hªad.h
>

41 
	~<as£π.h
>

42 
	~<î∫o.h
>

44 
	~<sys/time.h
>

45 
	~<uni°d.h
>

47 
	~<limôs.h
>

49 #ifde‡
__MVS__


50 
	~<sys/ùc.h
>

51 
	~<sys/£m.h
>

54 #unde‡
NANOSEC


55 
	#NANOSEC
 ((
uöt64_t
Ë1e9)

	)

58 
uv_thªad_¸óã
(
uv_thªad_t
 *
tid
, (*
íåy
)(*
¨g
), *arg) {

59 
îr
;

60 
±hªad_©å_t
* 
©å
;

61 #i‡
	`deföed
(
__APPLE__
)

62 
±hªad_©å_t
 
©å_°‹age
;

63 
æimô
 
lim
;

69 #i‡
	`deföed
(
__APPLE__
)

70 i‡(
	`gëæimô
(
RLIMIT_STACK
, &
lim
))

71 
	`ab‹t
();

73 
©å
 = &
©å_°‹age
;

74 i‡(
	`±hªad_©å_öô
(
©å
))

75 
	`ab‹t
();

77 i‡(
lim
.
æim_cur
 !
RLIM_INFINITY
) {

79 
lim
.
æim_cur
 -lim.æim_cu∏% (
æim_t
Ë
	`gë∑gesize
();

81 i‡(
lim
.
æim_cur
 >
PTHREAD_STACK_MIN
)

82 i‡(
	`±hªad_©å_£t°acksize
(
©å
, 
lim
.
æim_cur
))

83 
	`ab‹t
();

86 
©å
 = 
NULL
;

89 
îr
 = 
	`±hªad_¸óã
(
tid
, 
©å
, (*(*)(*)Ë
íåy
, 
¨g
);

91 i‡(
©å
 !
NULL
)

92 
	`±hªad_©å_de°roy
(
©å
);

94  -
îr
;

95 
	}
}

98 
uv_thªad_t
 
	$uv_thªad_£lf
() {

99  
	`±hªad_£lf
();

100 
	}
}

102 
	$uv_thªad_joö
(
uv_thªad_t
 *
tid
) {

103  -
	`±hªad_joö
(*
tid
, 
NULL
);

104 
	}
}

107 
	$uv_thªad_equÆ
(c⁄° 
uv_thªad_t
* 
t1
, c⁄° uv_thªad_t* 
t2
) {

108  
	`±hªad_equÆ
(*
t1
, *
t2
);

109 
	}
}

112 
	$uv_muãx_öô
(
uv_muãx_t
* 
muãx
) {

113 #i‡
	`deföed
(
NDEBUG
Ë|| !deföed(
PTHREAD_MUTEX_ERRORCHECK
)

114  -
	`±hªad_muãx_öô
(
muãx
, 
NULL
);

116 
±hªad_muãx©å_t
 
©å
;

117 
îr
;

119 i‡(
	`±hªad_muãx©å_öô
(&
©å
))

120 
	`ab‹t
();

122 i‡(
	`±hªad_muãx©å_£ây≥
(&
©å
, 
PTHREAD_MUTEX_ERRORCHECK
))

123 
	`ab‹t
();

125 
îr
 = 
	`±hªad_muãx_öô
(
muãx
, &
©å
);

127 i‡(
	`±hªad_muãx©å_de°roy
(&
©å
))

128 
	`ab‹t
();

130  -
îr
;

132 
	}
}

135 
	$uv_muãx_de°roy
(
uv_muãx_t
* 
muãx
) {

136 i‡(
	`±hªad_muãx_de°roy
(
muãx
))

137 
	`ab‹t
();

138 
	}
}

141 
	$uv_muãx_lock
(
uv_muãx_t
* 
muãx
) {

142 i‡(
	`±hªad_muãx_lock
(
muãx
))

143 
	`ab‹t
();

144 
	}
}

147 
	$uv_muãx_åylock
(
uv_muãx_t
* 
muãx
) {

148 
îr
;

150 
îr
 = 
	`±hªad_muãx_åylock
(
muãx
);

151 i‡(
îr
) {

152 i‡(
îr
 !
EBUSY
 &&Éº !
EAGAIN
)

153 
	`ab‹t
();

154  -
EBUSY
;

158 
	}
}

161 
	$uv_muãx_u∆ock
(
uv_muãx_t
* 
muãx
) {

162 i‡(
	`±hªad_muãx_u∆ock
(
muãx
))

163 
	`ab‹t
();

164 
	}
}

166 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

170 
	$uv_rwlock_öô
(
uv_rwlock_t
* 
rwlock
) {

171  
	`uv_muãx_öô
(
rwlock
);

172 
	}
}

175 
	$uv_rwlock_de°roy
(
uv_rwlock_t
* 
rwlock
) {

176 
	`uv_muãx_de°roy
(
rwlock
);

177 
	}
}

180 
	$uv_rwlock_rdlock
(
uv_rwlock_t
* 
rwlock
) {

181 
	`uv_muãx_lock
(
rwlock
);

182 
	}
}

185 
	$uv_rwlock_åyrdlock
(
uv_rwlock_t
* 
rwlock
) {

186  
	`uv_muãx_åylock
(
rwlock
);

187 
	}
}

190 
	$uv_rwlock_rdu∆ock
(
uv_rwlock_t
* 
rwlock
) {

191 
	`uv_muãx_u∆ock
(
rwlock
);

192 
	}
}

195 
	$uv_rwlock_wæock
(
uv_rwlock_t
* 
rwlock
) {

196 
	`uv_muãx_lock
(
rwlock
);

197 
	}
}

200 
	$uv_rwlock_åywæock
(
uv_rwlock_t
* 
rwlock
) {

201  
	`uv_muãx_åylock
(
rwlock
);

202 
	}
}

205 
	$uv_rwlock_wru∆ock
(
uv_rwlock_t
* 
rwlock
) {

206 
	`uv_muãx_u∆ock
(
rwlock
);

207 
	}
}

211 
	$uv_rwlock_öô
(
uv_rwlock_t
* 
rwlock
) {

212  -
	`±hªad_rwlock_öô
(
rwlock
, 
NULL
);

213 
	}
}

216 
	$uv_rwlock_de°roy
(
uv_rwlock_t
* 
rwlock
) {

217 i‡(
	`±hªad_rwlock_de°roy
(
rwlock
))

218 
	`ab‹t
();

219 
	}
}

222 
	$uv_rwlock_rdlock
(
uv_rwlock_t
* 
rwlock
) {

223 i‡(
	`±hªad_rwlock_rdlock
(
rwlock
))

224 
	`ab‹t
();

225 
	}
}

228 
	$uv_rwlock_åyrdlock
(
uv_rwlock_t
* 
rwlock
) {

229 
îr
;

231 
îr
 = 
	`±hªad_rwlock_åyrdlock
(
rwlock
);

232 i‡(
îr
) {

233 i‡(
îr
 !
EBUSY
 &&Éº !
EAGAIN
)

234 
	`ab‹t
();

235  -
EBUSY
;

239 
	}
}

242 
	$uv_rwlock_rdu∆ock
(
uv_rwlock_t
* 
rwlock
) {

243 i‡(
	`±hªad_rwlock_u∆ock
(
rwlock
))

244 
	`ab‹t
();

245 
	}
}

248 
	$uv_rwlock_wæock
(
uv_rwlock_t
* 
rwlock
) {

249 i‡(
	`±hªad_rwlock_wæock
(
rwlock
))

250 
	`ab‹t
();

251 
	}
}

254 
	$uv_rwlock_åywæock
(
uv_rwlock_t
* 
rwlock
) {

255 
îr
;

257 
îr
 = 
	`±hªad_rwlock_åywæock
(
rwlock
);

258 i‡(
îr
) {

259 i‡(
îr
 !
EBUSY
 &&Éº !
EAGAIN
)

260 
	`ab‹t
();

261  -
EBUSY
;

265 
	}
}

268 
	$uv_rwlock_wru∆ock
(
uv_rwlock_t
* 
rwlock
) {

269 i‡(
	`±hªad_rwlock_u∆ock
(
rwlock
))

270 
	`ab‹t
();

271 
	}
}

275 
uv_⁄˚
(
uv_⁄˚_t
* 
gu¨d
, (*
ˇŒback
)()) {

276 i‡(
	`±hªad_⁄˚
(
gu¨d
, 
ˇŒback
))

277 
	`ab‹t
();

278 
	}
}

280 #i‡
deföed
(
__APPLE__
Ë&& deföed(
__MACH__
)

282 
	$uv_£m_öô
(
uv_£m_t
* 
£m
, 
vÆue
) {

283 
kîn_ªtu∫_t
 
îr
;

285 
îr
 = 
	`£m≠h‹e_¸óã
(
	`mach_èsk_£lf
(), 
£m
, 
SYNC_POLICY_FIFO
, 
vÆue
);

286 i‡(
îr
 =
KERN_SUCCESS
)

288 i‡(
îr
 =
KERN_INVALID_ARGUMENT
)

289  -
EINVAL
;

290 i‡(
îr
 =
KERN_RESOURCE_SHORTAGE
)

291  -
ENOMEM
;

293 
	`ab‹t
();

294  -
EINVAL
;

295 
	}
}

298 
	$uv_£m_de°roy
(
uv_£m_t
* 
£m
) {

299 i‡(
	`£m≠h‹e_de°roy
(
	`mach_èsk_£lf
(), *
£m
))

300 
	`ab‹t
();

301 
	}
}

304 
	$uv_£m_po°
(
uv_£m_t
* 
£m
) {

305 i‡(
	`£m≠h‹e_sig«l
(*
£m
))

306 
	`ab‹t
();

307 
	}
}

310 
	$uv_£m_waô
(
uv_£m_t
* 
£m
) {

311 
r
;

314 
r
 = 
	`£m≠h‹e_waô
(*
£m
);

315 
r
 =
KERN_ABORTED
);

317 i‡(
r
 !
KERN_SUCCESS
)

318 
	`ab‹t
();

319 
	}
}

322 
	$uv_£m_åywaô
(
uv_£m_t
* 
£m
) {

323 
mach_time•ec_t
 
öãrvÆ
;

324 
kîn_ªtu∫_t
 
îr
;

326 
öãrvÆ
.
tv_£c
 = 0;

327 
öãrvÆ
.
tv_n£c
 = 0;

329 
îr
 = 
	`£m≠h‹e_timedwaô
(*
£m
, 
öãrvÆ
);

330 i‡(
îr
 =
KERN_SUCCESS
)

332 i‡(
îr
 =
KERN_OPERATION_TIMED_OUT
)

333  -
EAGAIN
;

335 
	`ab‹t
();

336  -
EINVAL
;

337 
	}
}

339 #ñi‡
deföed
(
__MVS__
)

341 
	$uv_£m_öô
(
uv_£m_t
* 
£m
, 
vÆue
) {

342 
uv_£m_t
 
£mid
;

343 
£mbuf
 
buf
;

344 
îr
;

346 
buf
.
£m_num
 = 0;

347 
buf
.
£m_›
 = 
vÆue
;

348 
buf
.
£m_Êg
 = 0;

350 
£mid
 = 
	`£mgë
(
IPC_PRIVATE
, 1, 
S_IRUSR
 | 
S_IWUSR
);

351 i‡(
£mid
 == -1)

352  -
î∫o
;

354 i‡(-1 =
	`£m›
(
£mid
, &
buf
, 1)) {

355 
îr
 = 
î∫o
;

356 i‡(-1 =
	`£m˘l
(*
£m
, 0, 
IPC_RMID
))

357 
	`ab‹t
();

358  -
îr
;

361 *
£m
 = 
£mid
;

363 
	}
}

365 
	$uv_£m_de°roy
(
uv_£m_t
* 
£m
) {

366 i‡(-1 =
	`£m˘l
(*
£m
, 0, 
IPC_RMID
))

367 
	`ab‹t
();

368 
	}
}

370 
	$uv_£m_po°
(
uv_£m_t
* 
£m
) {

371 
£mbuf
 
buf
;

373 
buf
.
£m_num
 = 0;

374 
buf
.
£m_›
 = 1;

375 
buf
.
£m_Êg
 = 0;

377 i‡(-1 =
	`£m›
(*
£m
, &
buf
, 1))

378 
	`ab‹t
();

379 
	}
}

381 
	$uv_£m_waô
(
uv_£m_t
* 
£m
) {

382 
£mbuf
 
buf
;

383 
›_°©us
;

385 
buf
.
£m_num
 = 0;

386 
buf
.
£m_›
 = -1;

387 
buf
.
£m_Êg
 = 0;

390 
›_°©us
 = 
	`£m›
(*
£m
, &
buf
, 1);

391 
›_°©us
 =-1 && 
î∫o
 =
EINTR
);

393 i‡(
›_°©us
)

394 
	`ab‹t
();

395 
	}
}

397 
	$uv_£m_åywaô
(
uv_£m_t
* 
£m
) {

398 
£mbuf
 
buf
;

399 
›_°©us
;

401 
buf
.
£m_num
 = 0;

402 
buf
.
£m_›
 = -1;

403 
buf
.
£m_Êg
 = 
IPC_NOWAIT
;

406 
›_°©us
 = 
	`£m›
(*
£m
, &
buf
, 1);

407 
›_°©us
 =-1 && 
î∫o
 =
EINTR
);

409 i‡(
›_°©us
) {

410 i‡(
î∫o
 =
EAGAIN
)

411  -
EAGAIN
;

412 
	`ab‹t
();

416 
	}
}

420 
	$uv_£m_öô
(
uv_£m_t
* 
£m
, 
vÆue
) {

421 i‡(
	`£m_öô
(
£m
, 0, 
vÆue
))

422  -
î∫o
;

424 
	}
}

427 
	$uv_£m_de°roy
(
uv_£m_t
* 
£m
) {

428 i‡(
	`£m_de°roy
(
£m
))

429 
	`ab‹t
();

430 
	}
}

433 
	$uv_£m_po°
(
uv_£m_t
* 
£m
) {

434 i‡(
	`£m_po°
(
£m
))

435 
	`ab‹t
();

436 
	}
}

439 
	$uv_£m_waô
(
uv_£m_t
* 
£m
) {

440 
r
;

443 
r
 = 
	`£m_waô
(
£m
);

444 
r
 =-1 && 
î∫o
 =
EINTR
);

446 i‡(
r
)

447 
	`ab‹t
();

448 
	}
}

451 
	$uv_£m_åywaô
(
uv_£m_t
* 
£m
) {

452 
r
;

455 
r
 = 
	`£m_åywaô
(
£m
);

456 
r
 =-1 && 
î∫o
 =
EINTR
);

458 i‡(
r
) {

459 i‡(
î∫o
 =
EAGAIN
)

460  -
EAGAIN
;

461 
	`ab‹t
();

465 
	}
}

470 #i‡
deföed
(
__APPLE__
Ë&& deföed(
__MACH__
Ë|| deföed(
__MVS__
)

472 
	$uv_c⁄d_öô
(
uv_c⁄d_t
* 
c⁄d
) {

473  -
	`±hªad_c⁄d_öô
(
c⁄d
, 
NULL
);

474 
	}
}

478 
	$uv_c⁄d_öô
(
uv_c⁄d_t
* 
c⁄d
) {

479 
±hªad_c⁄d©å_t
 
©å
;

480 
îr
;

482 
îr
 = 
	`±hªad_c⁄d©å_öô
(&
©å
);

483 i‡(
îr
)

484  -
îr
;

486 #i‡!(
	`deföed
(
__ANDROID__
Ë&& deföed(
HAVE_PTHREAD_COND_TIMEDWAIT_MONOTONIC
)) \

487 && !(
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
))

488 
îr
 = 
	`±hªad_c⁄d©å_£t˛ock
(&
©å
, 
CLOCK_MONOTONIC
);

489 i‡(
îr
)

490 
îr‹2
;

493 
îr
 = 
	`±hªad_c⁄d_öô
(
c⁄d
, &
©å
);

494 i‡(
îr
)

495 
îr‹2
;

497 
îr
 = 
	`±hªad_c⁄d©å_de°roy
(&
©å
);

498 i‡(
îr
)

499 
îr‹
;

503 
îr‹
:

504 
	`±hªad_c⁄d_de°roy
(
c⁄d
);

505 
îr‹2
:

506 
	`±hªad_c⁄d©å_de°roy
(&
©å
);

507  -
îr
;

508 
	}
}

512 
	$uv_c⁄d_de°roy
(
uv_c⁄d_t
* 
c⁄d
) {

513 #i‡
	`deföed
(
__APPLE__
Ë&& deföed(
__MACH__
)

518 
±hªad_muãx_t
 
muãx
;

519 
time•ec
 
ts
;

520 
îr
;

522 i‡(
	`±hªad_muãx_öô
(&
muãx
, 
NULL
))

523 
	`ab‹t
();

525 i‡(
	`±hªad_muãx_lock
(&
muãx
))

526 
	`ab‹t
();

528 
ts
.
tv_£c
 = 0;

529 
ts
.
tv_n£c
 = 1;

531 
îr
 = 
	`±hªad_c⁄d_timedwaô_ªœtive_≈
(
c⁄d
, &
muãx
, &
ts
);

532 i‡(
îr
 !0 &&Éº !
ETIMEDOUT
)

533 
	`ab‹t
();

535 i‡(
	`±hªad_muãx_u∆ock
(&
muãx
))

536 
	`ab‹t
();

538 i‡(
	`±hªad_muãx_de°roy
(&
muãx
))

539 
	`ab‹t
();

542 i‡(
	`±hªad_c⁄d_de°roy
(
c⁄d
))

543 
	`ab‹t
();

544 
	}
}

546 
	$uv_c⁄d_sig«l
(
uv_c⁄d_t
* 
c⁄d
) {

547 i‡(
	`±hªad_c⁄d_sig«l
(
c⁄d
))

548 
	`ab‹t
();

549 
	}
}

551 
	$uv_c⁄d_brﬂdˇ°
(
uv_c⁄d_t
* 
c⁄d
) {

552 i‡(
	`±hªad_c⁄d_brﬂdˇ°
(
c⁄d
))

553 
	`ab‹t
();

554 
	}
}

556 
	$uv_c⁄d_waô
(
uv_c⁄d_t
* 
c⁄d
, 
uv_muãx_t
* 
muãx
) {

557 i‡(
	`±hªad_c⁄d_waô
(
c⁄d
, 
muãx
))

558 
	`ab‹t
();

559 
	}
}

562 
	$uv_c⁄d_timedwaô
(
uv_c⁄d_t
* 
c⁄d
, 
uv_muãx_t
* 
muãx
, 
uöt64_t
 
timeout
) {

563 
r
;

564 
time•ec
 
ts
;

566 #i‡
	`deföed
(
__APPLE__
Ë&& deföed(
__MACH__
)

567 
ts
.
tv_£c
 = 
timeout
 / 
NANOSEC
;

568 
ts
.
tv_n£c
 = 
timeout
 % 
NANOSEC
;

569 
r
 = 
	`±hªad_c⁄d_timedwaô_ªœtive_≈
(
c⁄d
, 
muãx
, &
ts
);

571 
timeout
 +
	`uv__hπime
(
UV_CLOCK_PRECISE
);

572 
ts
.
tv_£c
 = 
timeout
 / 
NANOSEC
;

573 
ts
.
tv_n£c
 = 
timeout
 % 
NANOSEC
;

574 #i‡
	`deföed
(
__ANDROID__
Ë&& deföed(
HAVE_PTHREAD_COND_TIMEDWAIT_MONOTONIC
)

579 
r
 = 
	`±hªad_c⁄d_timedwaô_m⁄Ÿ⁄ic_≈
(
c⁄d
, 
muãx
, &
ts
);

581 
r
 = 
	`±hªad_c⁄d_timedwaô
(
c⁄d
, 
muãx
, &
ts
);

586 i‡(
r
 == 0)

589 i‡(
r
 =
ETIMEDOUT
)

590  -
ETIMEDOUT
;

592 
	`ab‹t
();

593  -
EINVAL
;

594 
	}
}

	@deps/libtuv/src/unix/timer.c

36 
	~"uv.h
"

37 
	~"öã∫Æ.h
"

38 
	~"hóp-öl.h
"

40 
	~<as£π.h
>

41 
	~<limôs.h
>

44 
	$timî_Àss_th™
(c⁄° 
hóp_node
* 
ha
,

45 c⁄° 
hóp_node
* 
hb
) {

46 c⁄° 
uv_timî_t
* 
a
;

47 c⁄° 
uv_timî_t
* 
b
;

49 
a
 = 
	`c⁄èöî_of
(
ha
, 
uv_timî_t
, 
hóp_node
);

50 
b
 = 
	`c⁄èöî_of
(
hb
, 
uv_timî_t
, 
hóp_node
);

52 i‡(
a
->
timeout
 < 
b
->timeout)

54 i‡(
b
->
timeout
 < 
a
->timeout)

57 #i‚de‡
TUV_ENABLE_MEMORY_CONSTRAINTS


61 i‡(
a
->
°¨t_id
 < 
b
->start_id)

63 i‡(
b
->
°¨t_id
 < 
a
->start_id)

68 
	}
}

71 
	$uv_timî_öô
(
uv_lo›_t
* 
lo›
, 
uv_timî_t
* 
h™dÀ
) {

72 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_TIMER
);

73 
h™dÀ
->
timî_cb
 = 
NULL
;

74 
h™dÀ
->
ª≥©
 = 0;

76 
	}
}

78 
	$tuv_timî_deöô
(
uv_lo›_t
* 
lo›
, 
uv_timî_t
* 
h™dÀ
) {

79 
QUEUE
* 
q
;

80 
uv_h™dÀ_t
* 
h
;

81 
uv_h™dÀ_t
* 
ht
;

82 
ht
 = (
uv_h™dÀ_t
*)
h™dÀ
;

84 
	`QUEUE_FOREACH
(
q
, &
lo›
->
h™dÀ_queue
) {

85 
h
 = 
	`QUEUE_DATA
(
q
, 
uv_h™dÀ_t
, 
h™dÀ_queue
);

86 i‡(
h
 =
ht
) {

87 
	`tuv__h™dÀ_deöô
(
ht
);

91 
	}
}

93 
	$uv_timî_°¨t
(
uv_timî_t
* 
h™dÀ
,

94 
uv_timî_cb
 
cb
,

95 
uöt64_t
 
timeout
,

96 
uöt64_t
 
ª≥©
) {

97 
uöt64_t
 
˛am≥d_timeout
;

99 i‡(
cb
 =
NULL
)

100  -
EINVAL
;

102 i‡(
	`uv__is_a˘ive
(
h™dÀ
))

103 
	`uv_timî_°›
(
h™dÀ
);

105 
˛am≥d_timeout
 = 
h™dÀ
->
lo›
->
time
 + 
timeout
;

106 i‡(
˛am≥d_timeout
 < 
timeout
)

107 
˛am≥d_timeout
 = (
uöt64_t
) -1;

109 
h™dÀ
->
timî_cb
 = 
cb
;

110 
h™dÀ
->
timeout
 = 
˛am≥d_timeout
;

111 
h™dÀ
->
ª≥©
 =Ñepeat;

112 #i‚de‡
TUV_ENABLE_MEMORY_CONSTRAINTS


114 
h™dÀ
->
°¨t_id
 = h™dÀ->
lo›
->
timî_cou¡î
++;

117 
	`hóp_ö£π
((
hóp
*Ë&
h™dÀ
->
lo›
->
timî_hóp
,

118 (
hóp_node
*Ë&
h™dÀ
->heap_node,

119 
timî_Àss_th™
);

120 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

123 
	}
}

126 
	$uv_timî_°›
(
uv_timî_t
* 
h™dÀ
) {

127 i‡(!
	`uv__is_a˘ive
(
h™dÀ
))

130 #ifde‡
TUV_ENABLE_MEMORY_CONSTRAINTS


131 
	`hóp_ªmove
((
hóp
*Ë&
h™dÀ
->
lo›
->
timî_hóp
,

132 (
hóp_node
*Ë&
h™dÀ
->heap_node);

134 
	`hóp_ªmove
((
hóp
*Ë&
h™dÀ
->
lo›
->
timî_hóp
,

135 (
hóp_node
*Ë&
h™dÀ
->heap_node,

136 
timî_Àss_th™
);

138 
	`uv__h™dÀ_°›
(
h™dÀ
);

141 
	}
}

144 
	$uv_timî_agaö
(
uv_timî_t
* 
h™dÀ
) {

145 i‡(
h™dÀ
->
timî_cb
 =
NULL
)

146  -
EINVAL
;

148 i‡(
h™dÀ
->
ª≥©
) {

149 
	`uv_timî_°›
(
h™dÀ
);

150 
	`uv_timî_°¨t
(
h™dÀ
, h™dÀ->
timî_cb
, h™dÀ->
ª≥©
, handle->repeat);

154 
	}
}

157 
	$uv_timî_£t_ª≥©
(
uv_timî_t
* 
h™dÀ
, 
uöt64_t
 
ª≥©
) {

158 
h™dÀ
->
ª≥©
 =Ñepeat;

159 
	}
}

162 
uöt64_t
 
	$uv_timî_gë_ª≥©
(c⁄° 
uv_timî_t
* 
h™dÀ
) {

163  
h™dÀ
->
ª≥©
;

164 
	}
}

167 
	$uv__√xt_timeout
(c⁄° 
uv_lo›_t
* 
lo›
) {

168 c⁄° 
hóp_node
* heap_node;

169 c⁄° 
uv_timî_t
* 
h™dÀ
;

170 
uöt64_t
 
diff
;

172 
hóp_node
 = 
	`hóp_mö
((c⁄° 
hóp
*Ë&
lo›
->
timî_hóp
);

173 i‡(
hóp_node
 =
NULL
)

176 
h™dÀ
 = 
	`c⁄èöî_of
(
hóp_node
, 
uv_timî_t
, heap_node);

177 i‡(
h™dÀ
->
timeout
 <
lo›
->
time
)

180 
diff
 = 
h™dÀ
->
timeout
 - 
lo›
->
time
;

181 i‡(
diff
 > 
INT_MAX
)

182 
diff
 = 
INT_MAX
;

184  
diff
;

185 
	}
}

188 
	$uv__run_timîs
(
uv_lo›_t
* 
lo›
) {

189 
hóp_node
* heap_node;

190 
uv_timî_t
* 
h™dÀ
;

193 
hóp_node
 = 
	`hóp_mö
((
hóp
*Ë&
lo›
->
timî_hóp
);

194 i‡(
hóp_node
 =
NULL
)

197 
h™dÀ
 = 
	`c⁄èöî_of
(
hóp_node
, 
uv_timî_t
, heap_node);

198 i‡(
h™dÀ
->
timeout
 > 
lo›
->
time
)

201 
	`uv_timî_°›
(
h™dÀ
);

202 
	`uv_timî_agaö
(
h™dÀ
);

203 
h™dÀ
->
	`timî_cb
(handle);

205 
	}
}

208 
	$uv__timî_˛o£
(
uv_timî_t
* 
h™dÀ
) {

209 
	`uv_timî_°›
(
h™dÀ
);

210 
	}
}

	@deps/libtuv/src/unix/tizenrt.c

37 
	~<as£π.h
>

38 
	~<°rög.h
>

40 
	~<uv.h
>

41 
	~"unix/öã∫Æ.h
"

45 
	$uv__∂©f‹m_lo›_öô
(
uv_lo›_t
* 
lo›
) {

46 
lo›
->
≈ﬁlfds
 = 0;

48 
	}
}

50 
	$uv__∂©f‹m_lo›_dñëe
(
uv_lo›_t
* 
lo›
) {

51 
lo›
->
≈ﬁlfds
 = 0;

52 
	}
}

57 
	$uv__∂©f‹m_övÆid©e_fd
(
uv_lo›_t
* 
lo›
, 
fd
) {

58 
i
;

59 
nfd
 = 
lo›
->
≈ﬁlfds
;

60 
i
 = 0; i < 
nfd
; ++i) {

61 
pﬁlfd
* 
pfd
 = &
lo›
->
pﬁlfds
[
i
];

62 i‡(
fd
 =
pfd
->fd) {

63 
pfd
->
fd
 = -1;

66 
	}
}

76 
uöt64_t
 
	$uv__hπime
(
uv_˛ockty≥_t
 
ty≥
) {

77 
time•ec
 
ts
;

78 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
ts
);

79 
uöt64_t
 
ªt
 = (((uöt64_tË
ts
.
tv_£c
) * ((uint64_t) 1e9) +

80 (
uöt64_t
Ë
ts
.
tv_n£c
);

81  
ªt
;

82 
	}
}

85 
	$uv__add_pﬁlfd
(
uv_lo›_t
* 
lo›
, 
pﬁlfd
* 
≥
) {

86 
i
;

87 
boﬁ
 
exi°
 = 
Ál£
;

88 
‰ì_idx
 = -1;

89 
i
 = 0; i < 
lo›
->
≈ﬁlfds
; ++i) {

90 
pﬁlfd
* 
cur
 = &
lo›
->
pﬁlfds
[
i
];

91 i‡(
cur
->
fd
 =
≥
->fd) {

92 
cur
->
evíts
 = 
≥
->events;

93 
exi°
 = 
åue
;

96 i‡(
cur
->
fd
 == -1) {

97 
‰ì_idx
 = 
i
;

100 i‡(!
exi°
) {

101 i‡(
‰ì_idx
 == -1) {

102 
‰ì_idx
 = 
lo›
->
≈ﬁlfds
++;

103 i‡(
‰ì_idx
 >
TUV_POLL_EVENTS_SIZE
)

105 
	`TDLOG
("uv__add_pﬁlfdáb‹t, beˇu£Üo›->≈ﬁlfd†(%dËªached maximum size", 
‰ì_idx
);

106 
	`ABORT
();

109 
pﬁlfd
* 
cur
 = &
lo›
->
pﬁlfds
[
‰ì_idx
];

111 
cur
->
fd
 = 
≥
->fd;

112 
cur
->
evíts
 = 
≥
->events;

113 
cur
->
ªvíts
 = 0;

114 
cur
->
£m
 = 0;

115 
cur
->
¥iv
 = 0;

117 
	}
}

120 
	$uv__ªm_pﬁlfd
(
uv_lo›_t
* 
lo›
, 
pﬁlfd
* 
≥
) {

121 
i
 = 0;

122 
i
 < 
lo›
->
≈ﬁlfds
) {

123 
pﬁlfd
* 
cur
 = &
lo›
->
pﬁlfds
[
i
];

124 i‡(
cur
->
fd
 =
≥
->fd) {

125 *
cur
 = 
lo›
->
pﬁlfds
[--lo›->
≈ﬁlfds
];

127 ++
i
;

130 
	}
}

133 
	$uv__io_pﬁl
(
uv_lo›_t
* 
lo›
, 
timeout
) {

134 
pﬁlfd
 
pfd
;

135 
pﬁlfd
* 
≥
;

136 
QUEUE
* 
q
;

137 
uv__io_t
* 
w
;

138 
uöt64_t
 
ba£
;

139 
uöt64_t
 
diff
;

140 
√víts
;

141 
cou¡
;

142 
nfd
;

143 
i
;

145 i‡(
lo›
->
nfds
 == 0) {

146 
	`as£π
(
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
));

150 !
	`QUEUE_EMPTY
(&
lo›
->
w©chî_queue
)) {

151 
q
 = 
	`QUEUE_HEAD
(&
lo›
->
w©chî_queue
);

152 
	`QUEUE_REMOVE
(
q
);

153 
	`QUEUE_INIT
(
q
);

155 
w
 = 
	`QUEUE_DATA
(
q
, 
uv__io_t
, 
w©chî_queue
);

156 
	`as£π
(
w
->
≥víts
 != 0);

157 
	`as£π
(
w
->
fd
 >= 0);

158 
	`as£π
(
w
->
fd
 < ()
lo›
->
nw©chîs
);

160 
pfd
.
fd
 = 
w
->fd;

161 
pfd
.
evíts
 = 
w
->
≥víts
;

162 
	`uv__add_pﬁlfd
(
lo›
, &
pfd
);

164 
w
->
evíts
 = w->
≥víts
;

167 
	`as£π
(
timeout
 >= -1);

168 
ba£
 = 
lo›
->
time
;

169 
cou¡
 = 5;

172 
nfd
 = 
	`pﬁl
(
lo›
->
pﬁlfds
,Üo›->
≈ﬁlfds
, 
timeout
);

174 
	`SAVE_ERRNO
(
	`uv__upd©e_time
(
lo›
));

176 i‡(
nfd
 == 0) {

177 
	`as£π
(
timeout
 != -1);

181 i‡(
nfd
 == -1) {

182 
îr
 = 
	`gë_î∫o
();

183 i‡(
îr
 =
EAGAIN
) {

184 
	`£t_î∫o
(0);

186 i‡(
îr
 !
EINTR
) {

188 
	`TDLOG
("uv__io_pﬁ»ab‹àf‹Éºno(%d)", 
îr
);

189 
h™dÀ_pﬁl
;

191 i‡(
timeout
 == -1) {

194 i‡(
timeout
 == 0) {

197 
upd©e_timeout
;

200 
h™dÀ_pﬁl
:

201 
√víts
 = 0;

203 
i
 = 0; i < 
lo›
->
≈ﬁlfds
; ++i) {

204 
≥
 = &
lo›
->
pﬁlfds
[
i
];

205 
w
 = 
lo›
->
w©chîs
[
≥
->
fd
];

207 i‡(
w
 =
NULL
) {

208 
	`uv__ªm_pﬁlfd
(
lo›
, 
≥
);

209 --
i
;

213 i‡(
≥
->
fd
 >0 && (≥->
ªvíts
 & (
POLLIN
 | 
POLLOUT
 | 
POLLHUP
))) {

214 
w
->
	`cb
(
lo›
, w, 
≥
->
ªvíts
);

215 ++
√víts
;

219 i‡(
√víts
 != 0) {

220 i‡(--
cou¡
 != 0) {

221 
timeout
 = 0;

226 i‡(
timeout
 == 0) {

229 i‡(
timeout
 == -1) {

232 
upd©e_timeout
:

233 
	`as£π
(
timeout
 > 0);

235 
diff
 = 
lo›
->
time
 - 
ba£
;

236 i‡(
diff
 >(
uöt64_t
)
timeout
) {

239 
timeout
 -
diff
;

241 
	}
}

	@deps/libtuv/src/unix/tty.c

22 
	~"uv.h
"

23 
	~"öã∫Æ.h
"

24 
	~"•ölock.h
"

26 
	~<°dlib.h
>

27 
	~<as£π.h
>

28 
	~<uni°d.h
>

29 
	~<ãrmios.h
>

30 
	~<î∫o.h
>

31 
	~<sys/io˘l.h
>

33 #i‡
deföed
(
__MVS__
Ë&& !deföed(
IMAXBEL
)

34 
	#IMAXBEL
 0

	)

37 
	g‹ig_ãrmios_fd
 = -1;

38 
ãrmios
 
	g‹ig_ãrmios
;

39 
uv_•ölock_t
 
	gãrmios_•ölock
 = 
UV_SPINLOCK_INITIALIZER
;

41 
	$uv__ây_is_¶ave
(c⁄° 
fd
) {

42 
ªsu…
;

43 #i‡
	`deföed
(
__löux__
Ë|| deföed(
__FªeBSD__
Ë|| deföed(
__FªeBSD_kî√l__
)

44 
dummy
;

46 
ªsu…
 = 
	`io˘l
(
fd
, 
TIOCGPTN
, &
dummy
) != 0;

47 #ñi‡
	`deföed
(
__APPLE__
)

48 
dummy
[256];

50 
ªsu…
 = 
	`io˘l
(
fd
, 
TIOCPTYGNAME
, &
dummy
) != 0;

54 
ªsu…
 = 
	`±¢ame
(
fd
Ë=
NULL
;

56  
ªsu…
;

57 
	}
}

59 
	$uv_ây_öô
(
uv_lo›_t
* 
lo›
, 
uv_ây_t
* 
ây
, 
fd
, 
ªadabÀ
) {

60 
uv_h™dÀ_ty≥
 
ty≥
;

61 
Êags
;

62 
√wfd
;

63 
r
;

64 
ßved_Êags
;

65 
∑th
[256];

71 
ty≥
 = 
	`uv_guess_h™dÀ
(
fd
);

72 i‡(
ty≥
 =
UV_FILE
 ||Åy≥ =
UV_UNKNOWN_HANDLE
)

73  -
EINVAL
;

75 
Êags
 = 0;

76 
√wfd
 = -1;

88 i‡(
ty≥
 =
UV_TTY
) {

94 i‡(
	`uv__ây_is_¶ave
(
fd
Ë&& 
	`ây«me_r
(fd, 
∑th
, (path)) == 0)

95 
r
 = 
	`uv__›í_˛€xec
(
∑th
, 
O_RDWR
);

97 
r
 = -1;

99 i‡(
r
 < 0) {

101 i‡(!
ªadabÀ
)

102 
Êags
 |
UV_STREAM_BLOCKING
;

103 
skù
;

106 
√wfd
 = 
r
;

108 
r
 = 
	`uv__dup2_˛€xec
(
√wfd
, 
fd
);

109 i‡(
r
 < 0 &&Ñ !-
EINVAL
) {

114 
	`uv__˛o£
(
√wfd
);

115  
r
;

118 
fd
 = 
√wfd
;

121 #i‡
	`deföed
(
__APPLE__
)

124 
ßved_Êags
 = 
	`f˙é
(
fd
, 
F_GETFL
);

125 
ßved_Êags
 =-1 && 
î∫o
 =
EINTR
);

127 i‡(
ßved_Êags
 == -1) {

128 i‡(
√wfd
 != -1)

129 
	`uv__˛o£
(
√wfd
);

130  -
î∫o
;

135 (Ë&
ßved_Êags
;

137 
skù
:

138 
	`uv__°ªam_öô
(
lo›
, (
uv_°ªam_t
*Ë
ây
, 
UV_TTY
);

144 i‡(!(
Êags
 & 
UV_STREAM_BLOCKING
))

145 
	`uv__n⁄block
(
fd
, 1);

147 #i‡
	`deföed
(
__APPLE__
)

148 
r
 = 
	`uv__°ªam_åy_£À˘
((
uv_°ªam_t
*Ë
ây
, &
fd
);

149 i‡(
r
) {

150 
rc
 = 
r
;

151 i‡(
√wfd
 != -1)

152 
	`uv__˛o£
(
√wfd
);

153 
	`QUEUE_REMOVE
(&
ây
->
h™dÀ_queue
);

155 
r
 = 
	`f˙é
(
fd
, 
F_SETFL
, 
ßved_Êags
);

156 
r
 =-1 && 
î∫o
 =
EINTR
);

157  
rc
;

161 i‡(
ªadabÀ
)

162 
Êags
 |
UV_STREAM_READABLE
;

164 
Êags
 |
UV_STREAM_WRITABLE
;

166 
	`uv__°ªam_›í
((
uv_°ªam_t
*Ë
ây
, 
fd
, 
Êags
);

167 
ây
->
mode
 = 
UV_TTY_MODE_NORMAL
;

170 
	}
}

172 
	$uv__ây_make_øw
(
ãrmios
* 
tio
) {

173 
	`as£π
(
tio
 !
NULL
);

175 #i‡
deföed
 
__sun
 || deföed 
__MVS__


180 
tio
->
c_iÊag
 &~(
IMAXBEL
 | 
IGNBRK
 | 
BRKINT
 | 
PARMRK
 | 
ISTRIP
 | 
INLCR
 |

181 
IGNCR
 | 
ICRNL
 | 
IXON
);

182 
tio
->
c_oÊag
 &~
OPOST
;

183 
tio
->
c_lÊag
 &~(
ECHO
 | 
ECHONL
 | 
ICANON
 | 
ISIG
 | 
IEXTEN
);

184 
tio
->
c_cÊag
 &~(
CSIZE
 | 
PARENB
);

185 
tio
->
c_cÊag
 |
CS8
;

187 
	`cfmakîaw
(
tio
);

189 
	}
}

191 
	$uv_ây_£t_mode
(
uv_ây_t
* 
ây
, 
uv_ây_mode_t
 
mode
) {

192 
ãrmios
 
tmp
;

193 
fd
;

195 i‡(
ây
->
mode
 == () mode)

198 
fd
 = 
	`uv__°ªam_fd
(
ây
);

199 i‡(
ây
->
mode
 =
UV_TTY_MODE_NORMAL
 && mode != UV_TTY_MODE_NORMAL) {

200 i‡(
	`tcgë©å
(
fd
, &
ây
->
‹ig_ãrmios
))

201  -
î∫o
;

204 
	`uv_•ölock_lock
(&
ãrmios_•ölock
);

205 i‡(
‹ig_ãrmios_fd
 == -1) {

206 
‹ig_ãrmios
 = 
ây
->orig_termios;

207 
‹ig_ãrmios_fd
 = 
fd
;

209 
	`uv_•ölock_u∆ock
(&
ãrmios_•ölock
);

212 
tmp
 = 
ây
->
‹ig_ãrmios
;

213 
mode
) {

214 
UV_TTY_MODE_NORMAL
:

216 
UV_TTY_MODE_RAW
:

217 
tmp
.
c_iÊag
 &~(
BRKINT
 | 
ICRNL
 | 
INPCK
 | 
ISTRIP
 | 
IXON
);

218 
tmp
.
c_oÊag
 |(
ONLCR
);

219 
tmp
.
c_cÊag
 |(
CS8
);

220 
tmp
.
c_lÊag
 &~(
ECHO
 | 
ICANON
 | 
IEXTEN
 | 
ISIG
);

221 
tmp
.
c_cc
[
VMIN
] = 1;

222 
tmp
.
c_cc
[
VTIME
] = 0;

224 
UV_TTY_MODE_IO
:

225 
	`uv__ây_make_øw
(&
tmp
);

230 i‡(
	`tc£èâr
(
fd
, 
TCSADRAIN
, &
tmp
))

231  -
î∫o
;

233 
ây
->
mode
 = mode;

235 
	}
}

238 
	$uv_ây_gë_wösize
(
uv_ây_t
* 
ây
, * 
width
, * 
height
) {

239 
wösize
 
ws
;

240 
îr
;

243 
îr
 = 
	`io˘l
(
	`uv__°ªam_fd
(
ây
), 
TIOCGWINSZ
, &
ws
);

244 
îr
 =-1 && 
î∫o
 =
EINTR
);

246 i‡(
îr
 == -1)

247  -
î∫o
;

249 *
width
 = 
ws
.
ws_cﬁ
;

250 *
height
 = 
ws
.
ws_row
;

253 
	}
}

256 
uv_h™dÀ_ty≥
 
	$uv_guess_h™dÀ
(
uv_fûe
 
fûe
) {

257 
sockaddr
 
ß
;

258 
°©
 
s
;

259 
sockÀn_t
 
Àn
;

260 
ty≥
;

262 i‡(
fûe
 < 0)

263  
UV_UNKNOWN_HANDLE
;

265 i‡(
	`ißây
(
fûe
))

266  
UV_TTY
;

268 i‡(
	`f°©
(
fûe
, &
s
))

269  
UV_UNKNOWN_HANDLE
;

271 i‡(
	`S_ISREG
(
s
.
°_mode
))

272  
UV_FILE
;

274 i‡(
	`S_ISCHR
(
s
.
°_mode
))

275  
UV_FILE
;

277 i‡(
	`S_ISFIFO
(
s
.
°_mode
))

278  
UV_NAMED_PIPE
;

280 i‡(!
	`S_ISSOCK
(
s
.
°_mode
))

281  
UV_UNKNOWN_HANDLE
;

283 
Àn
 = (
ty≥
);

284 i‡(
	`gësock›t
(
fûe
, 
SOL_SOCKET
, 
SO_TYPE
, &
ty≥
, &
Àn
))

285  
UV_UNKNOWN_HANDLE
;

287 
Àn
 = (
ß
);

288 i‡(
	`gësock«me
(
fûe
, &
ß
, &
Àn
))

289  
UV_UNKNOWN_HANDLE
;

291 i‡(
ty≥
 =
SOCK_DGRAM
)

292 i‡(
ß
.
ß_Ámûy
 =
AF_INET
 || sa.ß_Ámûy =
AF_INET6
)

293  
UV_UDP
;

295 i‡(
ty≥
 =
SOCK_STREAM
) {

296 #i‡
	`deföed
(
_AIX
Ë|| deföed(
__Døg⁄Fly__
)

301 i‡(
Àn
 == 0)

302  
UV_NAMED_PIPE
;

305 i‡(
ß
.
ß_Ámûy
 =
AF_INET
 || sa.ß_Ámûy =
AF_INET6
)

306  
UV_TCP
;

307 i‡(
ß
.
ß_Ámûy
 =
AF_UNIX
)

308  
UV_NAMED_PIPE
;

311  
UV_UNKNOWN_HANDLE
;

312 
	}
}

319 
	$uv_ây_ª£t_mode
() {

320 
ßved_î∫o
;

321 
îr
;

323 
ßved_î∫o
 = 
î∫o
;

324 i‡(!
	`uv_•ölock_åylock
(&
ãrmios_•ölock
))

325  -
EBUSY
;

327 
îr
 = 0;

328 i‡(
‹ig_ãrmios_fd
 != -1)

329 i‡(
	`tc£èâr
(
‹ig_ãrmios_fd
, 
TCSANOW
, &
‹ig_ãrmios
))

330 
îr
 = -
î∫o
;

332 
	`uv_•ölock_u∆ock
(&
ãrmios_•ölock
);

333 
î∫o
 = 
ßved_î∫o
;

335  
îr
;

336 
	}
}

	@deps/libtuv/src/unix/udp.c

52 
	~"uv.h
"

53 
	~"öã∫Æ.h
"

55 
	~<as£π.h
>

56 
	~<°rög.h
>

57 
	~<î∫o.h
>

58 
	~<°dlib.h
>

59 
	~<uni°d.h
>

60 #i‡
deföed
(
__MVS__
)

61 
	~<xti.h
>

64 #i‡
deföed
(
IPV6_JOIN_GROUP
Ë&& !deföed(
IPV6_ADD_MEMBERSHIP
)

65 
	#IPV6_ADD_MEMBERSHIP
 
IPV6_JOIN_GROUP


	)

68 #i‡
deföed
(
IPV6_LEAVE_GROUP
Ë&& !deföed(
IPV6_DROP_MEMBERSHIP
)

69 
	#IPV6_DROP_MEMBERSHIP
 
IPV6_LEAVE_GROUP


	)

72 #i‡
deföed
(
__TIZENRT__
)

76 
	#IPV6_UNICAST_HOPS
 16

	)

77 
	#IPV6_MULTICAST_IF
 17

	)

78 
	#IPV6_MULTICAST_HOPS
 18

	)

79 
	#IPV6_MULTICAST_LOOP
 19

	)

82 
uv__udp_run_com∂ëed
(
uv_udp_t
* 
h™dÀ
);

83 
uv__udp_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
ªvíts
);

84 
uv__udp_ªcvmsg
(
uv_udp_t
* 
h™dÀ
);

85 
uv__udp_£ndmsg
(
uv_udp_t
* 
h™dÀ
);

86 
uv__udp_maybe_de„ºed_böd
(
uv_udp_t
* 
h™dÀ
,

87 
domaö
,

88 
Êags
);

91 
	$uv__udp_˛o£
(
uv_udp_t
* 
h™dÀ
) {

92 
	`uv__io_˛o£
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
);

93 
	`uv__h™dÀ_°›
(
h™dÀ
);

95 i‡(
h™dÀ
->
io_w©chî
.
fd
 != -1) {

96 
	`uv__˛o£
(
h™dÀ
->
io_w©chî
.
fd
);

97 
h™dÀ
->
io_w©chî
.
fd
 = -1;

99 
	}
}

102 
	$uv__udp_föish_˛o£
(
uv_udp_t
* 
h™dÀ
) {

103 
uv_udp_£nd_t
* 
ªq
;

104 
QUEUE
* 
q
;

106 
	`as£π
(!
	`uv__io_a˘ive
(&
h™dÀ
->
io_w©chî
, 
POLLIN
 | 
POLLOUT
));

107 
	`as£π
(
h™dÀ
->
io_w©chî
.
fd
 == -1);

109 !
	`QUEUE_EMPTY
(&
h™dÀ
->
wrôe_queue
)) {

110 
q
 = 
	`QUEUE_HEAD
(&
h™dÀ
->
wrôe_queue
);

111 
	`QUEUE_REMOVE
(
q
);

113 
ªq
 = 
	`QUEUE_DATA
(
q
, 
uv_udp_£nd_t
, 
queue
);

114 
ªq
->
°©us
 = -
ECANCELED
;

115 
	`QUEUE_INSERT_TAIL
(&
h™dÀ
->
wrôe_com∂ëed_queue
, &
ªq
->
queue
);

118 
	`uv__udp_run_com∂ëed
(
h™dÀ
);

120 
	`as£π
(
h™dÀ
->
£nd_queue_size
 == 0);

121 
	`as£π
(
h™dÀ
->
£nd_queue_cou¡
 == 0);

124 
h™dÀ
->
ªcv_cb
 = 
NULL
;

125 
h™dÀ
->
Æloc_cb
 = 
NULL
;

127 
	}
}

130 
	$uv__udp_run_com∂ëed
(
uv_udp_t
* 
h™dÀ
) {

131 
uv_udp_£nd_t
* 
ªq
;

132 
QUEUE
* 
q
;

134 
	`as£π
(!(
h™dÀ
->
Êags
 & 
UV_UDP_PROCESSING
));

135 
h™dÀ
->
Êags
 |
UV_UDP_PROCESSING
;

137 !
	`QUEUE_EMPTY
(&
h™dÀ
->
wrôe_com∂ëed_queue
)) {

138 
q
 = 
	`QUEUE_HEAD
(&
h™dÀ
->
wrôe_com∂ëed_queue
);

139 
	`QUEUE_REMOVE
(
q
);

141 
ªq
 = 
	`QUEUE_DATA
(
q
, 
uv_udp_£nd_t
, 
queue
);

142 
	`uv__ªq_uƒegi°î
(
h™dÀ
->
lo›
, 
ªq
);

144 
h™dÀ
->
£nd_queue_size
 -
	`uv__cou¡_bufs
(
ªq
->
bufs
,Ñeq->
nbufs
);

145 
h™dÀ
->
£nd_queue_cou¡
--;

147 i‡(
ªq
->
bufs
 !ªq->
bufsml
)

148 
	`uv__‰ì
(
ªq
->
bufs
);

149 
ªq
->
bufs
 = 
NULL
;

151 i‡(
ªq
->
£nd_cb
 =
NULL
)

157 i‡(
ªq
->
°©us
 >= 0)

158 
ªq
->
	`£nd_cb
(req, 0);

160 
ªq
->
	`£nd_cb
‘eq,Ñeq->
°©us
);

163 i‡(
	`QUEUE_EMPTY
(&
h™dÀ
->
wrôe_queue
)) {

165 
	`uv__io_°›
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLOUT
);

166 i‡(!
	`uv__io_a˘ive
(&
h™dÀ
->
io_w©chî
, 
POLLIN
))

167 
	`uv__h™dÀ_°›
(
h™dÀ
);

170 
h™dÀ
->
Êags
 &~
UV_UDP_PROCESSING
;

171 
	}
}

174 
	$uv__udp_io
(
uv_lo›_t
* 
lo›
, 
uv__io_t
* 
w
, 
ªvíts
) {

175 
uv_udp_t
* 
h™dÀ
;

177 
h™dÀ
 = 
	`c⁄èöî_of
(
w
, 
uv_udp_t
, 
io_w©chî
);

178 
	`as£π
(
h™dÀ
->
ty≥
 =
UV_UDP
);

180 i‡(
ªvíts
 & 
POLLIN
)

181 
	`uv__udp_ªcvmsg
(
h™dÀ
);

183 i‡(
ªvíts
 & 
POLLOUT
) {

184 
	`uv__udp_£ndmsg
(
h™dÀ
);

185 
	`uv__udp_run_com∂ëed
(
h™dÀ
);

187 
	}
}

190 
	$uv__udp_ªcvmsg
(
uv_udp_t
* 
h™dÀ
) {

191 
sockaddr_°‹age
 
≥î
;

192 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

193 
msghdr
 
h
;

195 
sockÀn_t
 
addæí
;

197 
ssize_t
 
ƒód
;

198 
uv_buf_t
 
buf
;

199 
Êags
;

200 
cou¡
;

202 
	`as£π
(
h™dÀ
->
ªcv_cb
 !
NULL
);

203 
	`as£π
(
h™dÀ
->
Æloc_cb
 !
NULL
);

208 
cou¡
 = 32;

210 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

211 
	`mem£t
(&
h
, 0, (h));

212 
h
.
msg_«me
 = &
≥î
;

216 
buf
 = 
	`uv_buf_öô
(
NULL
, 0);

217 
h™dÀ
->
	`Æloc_cb
((
uv_h™dÀ_t
*Ëh™dÀ, 64 * 1024, &
buf
);

218 i‡(
buf
.
ba£
 =
NULL
 || buf.
Àn
 == 0) {

219 
h™dÀ
->
	`ªcv_cb
(h™dÀ, 
UV_ENOBUFS
, &
buf
, 
NULL
, 0);

222 
	`as£π
(
buf
.
ba£
 !
NULL
);

224 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

225 
h
.
msg_«mñí
 = (
≥î
);

226 
h
.
msg_iov
 = (*Ë&
buf
;

227 
h
.
msg_iovÀn
 = 1;

230 
ƒód
 = 
	`ªcvmsg
(
h™dÀ
->
io_w©chî
.
fd
, &
h
, 0);

232 
ƒód
 =-1 && 
î∫o
 =
EINTR
);

234 
addæí
 = (
≥î
);

236 
ƒód
 = 
	`ªcv‰om
(
h™dÀ
->
io_w©chî
.
fd
, 
buf
.
ba£
, buf.
Àn
, 0,

237 (
sockaddr
*)&
≥î
, &
addæí
);

239 
ƒód
 =-1 && 
î∫o
 =
EINTR
);

242 i‡(
ƒód
 == -1) {

243 i‡(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)

244 
h™dÀ
->
	`ªcv_cb
(h™dÀ, 0, &
buf
, 
NULL
, 0);

246 
h™dÀ
->
	`ªcv_cb
(h™dÀ, -
î∫o
, &
buf
, 
NULL
, 0);

249 c⁄° 
sockaddr
 *
addr
;

250 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

251 i‡(
h
.
msg_«mñí
 == 0)

253 i‡(
addæí
 == 0)

255 
addr
 = 
NULL
;

257 
addr
 = (c⁄° 
sockaddr
*Ë&
≥î
;

259 
Êags
 = 0;

260 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

261 i‡(
h
.
msg_Êags
 & 
MSG_TRUNC
)

263 i‡(
buf
.
Àn
 > 
ƒód
)

265 
Êags
 |
UV_UDP_PARTIAL
;

267 
h™dÀ
->
	`ªcv_cb
(h™dÀ, 
ƒód
, &
buf
, 
addr
, 
Êags
);

271 
ƒód
 != -1

272 && 
cou¡
-- > 0

273 && 
h™dÀ
->
io_w©chî
.
fd
 != -1

274 && 
h™dÀ
->
ªcv_cb
 !
NULL
);

275 
	}
}

278 
	$uv__udp_£ndmsg
(
uv_udp_t
* 
h™dÀ
) {

279 
uv_udp_£nd_t
* 
ªq
;

280 
QUEUE
* 
q
;

281 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

282 
msghdr
 
h
;

284 
ssize_t
 
size
;

286 !
	`QUEUE_EMPTY
(&
h™dÀ
->
wrôe_queue
)) {

287 
q
 = 
	`QUEUE_HEAD
(&
h™dÀ
->
wrôe_queue
);

288 
	`as£π
(
q
 !
NULL
);

290 
ªq
 = 
	`QUEUE_DATA
(
q
, 
uv_udp_£nd_t
, 
queue
);

291 
	`as£π
(
ªq
 !
NULL
);

293 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

294 
	`mem£t
(&
h
, 0,  h);

295 
h
.
msg_«me
 = &
ªq
->
addr
;

296 
h
.
msg_«mñí
 = (
ªq
->
addr
.
ss_Ámûy
 =
AF_INET6
 ?

297 (
sockaddr_ö6
Ë: (
sockaddr_ö
));

298 
h
.
msg_iov
 = (
iovec
*Ë
ªq
->
bufs
;

299 
h
.
msg_iovÀn
 = 
ªq
->
nbufs
;

302 
size
 = 
	`£ndmsg
(
h™dÀ
->
io_w©chî
.
fd
, &
h
, 0);

303 } 
size
 =-1 && 
î∫o
 =
EINTR
);

305 
	`as£π
(
ªq
->
nbufs
 == 1);

307 
size
 = 
	`£ndto
(
h™dÀ
->
io_w©chî
.
fd
, 
ªq
->
bufs
->
ba£
,

308 
ªq
->
bufs
->
Àn
, 0, (
sockaddr
*)&ªq->
addr
,

309 (
ªq
->
addr
));

310 } 
size
 =-1 && 
î∫o
 =
EINTR
);

312 i‡(
size
 =-1 && (
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
))

315 
ªq
->
°©us
 = (
size
 =-1 ? -
î∫o
 : size);

322 
	`QUEUE_REMOVE
(&
ªq
->
queue
);

323 
	`QUEUE_INSERT_TAIL
(&
h™dÀ
->
wrôe_com∂ëed_queue
, &
ªq
->
queue
);

324 
	`uv__io_„ed
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
);

326 
	}
}

337 
	$uv__£t_ªu£
(
fd
) {

338 
yes
;

340 #i‡
	`deföed
(
SO_REUSEPORT
Ë&& !deföed(
__löux__
Ë&& !deföed(
__TIZENRT__
)

341 
yes
 = 1;

342 i‡(
	`£tsock›t
(
fd
, 
SOL_SOCKET
, 
SO_REUSEPORT
, &
yes
, (yes)))

343  -
î∫o
;

345 
yes
 = 1;

346 i‡(
	`£tsock›t
(
fd
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
yes
, (yes)))

347  -
î∫o
;

351 
	}
}

354 
	$uv__udp_böd
(
uv_udp_t
* 
h™dÀ
,

355 c⁄° 
sockaddr
* 
addr
,

356 
addæí
,

357 
Êags
) {

358 
îr
;

359 
yes
;

360 
fd
;

363 i‡(
Êags
 & ~(
UV_UDP_IPV6ONLY
 | 
UV_UDP_REUSEADDR
))

364  -
EINVAL
;

367 i‡((
Êags
 & 
UV_UDP_IPV6ONLY
Ë&& 
addr
->
ß_Ámûy
 !
AF_INET6
)

368  -
EINVAL
;

370 
fd
 = 
h™dÀ
->
io_w©chî
.fd;

371 i‡(
fd
 == -1) {

372 
îr
 = 
	`uv__sockë
(
addr
->
ß_Ámûy
, 
SOCK_DGRAM
, 0);

373 i‡(
îr
 < 0)

374  
îr
;

375 
fd
 = 
îr
;

376 
h™dÀ
->
io_w©chî
.
fd
 = fd;

379 i‡(
Êags
 & 
UV_UDP_REUSEADDR
) {

380 
îr
 = 
	`uv__£t_ªu£
(
fd
);

381 i‡(
îr
)

382 
out
;

385 i‡(
Êags
 & 
UV_UDP_IPV6ONLY
) {

386 #ifde‡
IPV6_V6ONLY


387 
yes
 = 1;

388 i‡(
	`£tsock›t
(
fd
, 
IPPROTO_IPV6
, 
IPV6_V6ONLY
, &
yes
,  yes) == -1) {

389 
îr
 = -
î∫o
;

390 
out
;

393 
îr
 = -
ENOTSUP
;

394 
out
;

398 i‡(
	`böd
(
fd
, 
addr
, 
addæí
)) {

399 
îr
 = -
î∫o
;

400 i‡(
î∫o
 =
EAFNOSUPPORT
)

403 
îr
 = -
EINVAL
;

404 
out
;

407 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

408 
h™dÀ
->
Êags
 |
UV_HANDLE_IPV6
;

410 
h™dÀ
->
Êags
 |
UV_HANDLE_BOUND
;

414 
out
:

415 
	`uv__˛o£
(
h™dÀ
->
io_w©chî
.
fd
);

416 
h™dÀ
->
io_w©chî
.
fd
 = -1;

417  
îr
;

418 
	}
}

421 
	$uv__udp_maybe_de„ºed_böd
(
uv_udp_t
* 
h™dÀ
,

422 
domaö
,

423 
Êags
) {

424 
èddr
[(
sockaddr_ö6
)];

425 
sockÀn_t
 
addæí
;

427 i‡(
h™dÀ
->
io_w©chî
.
fd
 != -1)

430 
domaö
) {

431 
AF_INET
:

433 
sockaddr_ö
* 
addr
 = (*)&
èddr
;

434 
	`mem£t
(
addr
, 0,  *addr);

435 
addr
->
sö_Ámûy
 = 
AF_INET
;

436 
addr
->
sö_addr
.
s_addr
 = 
INADDR_ANY
;

437 
addæí
 =  *
addr
;

440 #i‡
	`deföed
(
__TIZENRT__
Ë&& deföed(
CONFIG_NET_IPv6
)

441 
AF_INET6
:

443 
sockaddr_ö6
* 
addr
 = (*)&
èddr
;

444 
	`mem£t
(
addr
, 0,  *addr);

445 
addr
->
sö6_Ámûy
 = 
AF_INET6
;

446 
addr
->
sö6_addr
 = 
ö6addr_™y
;

447 
addæí
 =  *
addr
;

452 
	`as£π
(0 && "unsupportedáddress family");

453 
	`ab‹t
();

456  
	`uv__udp_böd
(
h™dÀ
, (c⁄° 
sockaddr
*Ë&
èddr
, 
addæí
, 
Êags
);

457 
	}
}

460 
	$uv__udp_£nd
(
uv_udp_£nd_t
* 
ªq
,

461 
uv_udp_t
* 
h™dÀ
,

462 c⁄° 
uv_buf_t
 
bufs
[],

463 
nbufs
,

464 c⁄° 
sockaddr
* 
addr
,

465 
addæí
,

466 
uv_udp_£nd_cb
 
£nd_cb
) {

467 
îr
;

468 
em±y_queue
;

470 
	`as£π
(
nbufs
 > 0);

472 
îr
 = 
	`uv__udp_maybe_de„ºed_böd
(
h™dÀ
, 
addr
->
ß_Ámûy
, 0);

473 i‡(
îr
)

474  
îr
;

480 
em±y_queue
 = (
h™dÀ
->
£nd_queue_cou¡
 == 0);

482 
	`uv__ªq_öô
(
h™dÀ
->
lo›
, 
ªq
, 
UV_UDP_SEND
);

483 
	`as£π
(
addæí
 <(
ªq
->
addr
));

484 
	`mem˝y
(&
ªq
->
addr
,áddr, 
addæí
);

485 
ªq
->
£nd_cb
 = send_cb;

486 
ªq
->
h™dÀ
 = handle;

487 
ªq
->
nbufs
 =Çbufs;

489 
ªq
->
bufs
 =Ñeq->
bufsml
;

490 i‡(
nbufs
 > 
	`ARRAY_SIZE
(
ªq
->
bufsml
))

491 
ªq
->
bufs
 = 
	`uv__mÆloc
(
nbufs
 * (bufs[0]));

493 i‡(
ªq
->
bufs
 =
NULL
) {

494 
	`uv__ªq_uƒegi°î
(
h™dÀ
->
lo›
, 
ªq
);

495  -
ENOMEM
;

498 
	`mem˝y
(
ªq
->
bufs
, bufs, 
nbufs
 * (bufs[0]));

499 
h™dÀ
->
£nd_queue_size
 +
	`uv__cou¡_bufs
(
ªq
->
bufs
,Ñeq->
nbufs
);

500 
h™dÀ
->
£nd_queue_cou¡
++;

501 
	`QUEUE_INSERT_TAIL
(&
h™dÀ
->
wrôe_queue
, &
ªq
->
queue
);

502 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

504 i‡(
em±y_queue
 && !(
h™dÀ
->
Êags
 & 
UV_UDP_PROCESSING
)) {

505 
	`uv__udp_£ndmsg
(
h™dÀ
);

507 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLOUT
);

511 
	}
}

514 
	$uv__udp_åy_£nd
(
uv_udp_t
* 
h™dÀ
,

515 c⁄° 
uv_buf_t
 
bufs
[],

516 
nbufs
,

517 c⁄° 
sockaddr
* 
addr
,

518 
addæí
) {

519 
îr
;

520 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

521 
msghdr
 
h
;

523 
ssize_t
 
size
;

525 
	`as£π
(
nbufs
 > 0);

528 i‡(
h™dÀ
->
£nd_queue_cou¡
 != 0)

529  -
EAGAIN
;

531 
îr
 = 
	`uv__udp_maybe_de„ºed_böd
(
h™dÀ
, 
addr
->
ß_Ámûy
, 0);

532 i‡(
îr
)

533  
îr
;

535 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

536 
	`mem£t
(&
h
, 0,  h);

537 
h
.
msg_«me
 = (
sockaddr
*Ë
addr
;

538 
h
.
msg_«mñí
 = 
addæí
;

539 
h
.
msg_iov
 = (
iovec
*Ë
bufs
;

540 
h
.
msg_iovÀn
 = 
nbufs
;

543 
size
 = 
	`£ndmsg
(
h™dÀ
->
io_w©chî
.
fd
, &
h
, 0);

544 } 
size
 =-1 && 
î∫o
 =
EINTR
);

546 
	`as£π
(
nbufs
 == 1);

548 
size
 = 
	`£ndto
(
h™dÀ
->
io_w©chî
.
fd
, 
bufs
->
ba£
, bufs->
Àn
,

549 0, 
addr
, 
addæí
);

550 } 
size
 =-1 && 
î∫o
 =
EINTR
);

553 i‡(
size
 == -1) {

554 i‡(
î∫o
 =
EAGAIN
 ||Éºnÿ=
EWOULDBLOCK
)

555  -
EAGAIN
;

557  -
î∫o
;

560  
size
;

561 
	}
}

564 #i‡!
deföed
(
__NUTTX__
)

565 
	$uv__udp_£t_membîshù4
(
uv_udp_t
* 
h™dÀ
,

566 c⁄° 
sockaddr_ö
* 
mu…iˇ°_addr
,

567 c⁄° * 
öãrÁ˚_addr
,

568 
uv_membîshù
 
membîshù
) {

569 
ù_mªq
 
mªq
;

570 
›äame
;

571 
îr
;

573 
	`mem£t
(&
mªq
, 0,  mreq);

575 i‡(
öãrÁ˚_addr
) {

576 
îr
 = 
	`uv_öë_±⁄
(
AF_INET
, 
öãrÁ˚_addr
, &
mªq
.
imr_öãrÁ˚
.
s_addr
);

577 i‡(
îr
)

578  
îr
;

580 
mªq
.
imr_öãrÁ˚
.
s_addr
 = 
	`ht⁄l
(
INADDR_ANY
);

583 
mªq
.
imr_mu…üddr
.
s_addr
 = 
mu…iˇ°_addr
->
sö_addr
.s_addr;

585 
membîshù
) {

586 
UV_JOIN_GROUP
:

587 
›äame
 = 
IP_ADD_MEMBERSHIP
;

589 
UV_LEAVE_GROUP
:

590 
›äame
 = 
IP_DROP_MEMBERSHIP
;

593  -
EINVAL
;

596 i‡(
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

597 
IPPROTO_IP
,

598 
›äame
,

599 &
mªq
,

600 (
mªq
))) {

601 #i‡
	`deföed
(
__MVS__
)

602 i‡(
î∫o
 =
ENXIO
)

603  -
ENODEV
;

605  -
î∫o
;

609 
	}
}

613 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

614 
	$uv__udp_£t_membîshù6
(
uv_udp_t
* 
h™dÀ
,

615 c⁄° 
sockaddr_ö6
* 
mu…iˇ°_addr
,

616 c⁄° * 
öãrÁ˚_addr
,

617 
uv_membîshù
 
membîshù
) {

618 
›äame
;

619 
ùv6_mªq
 
mªq
;

620 
sockaddr_ö6
 
addr6
;

622 
	`mem£t
(&
mªq
, 0,  mreq);

624 i‡(
öãrÁ˚_addr
) {

625 i‡(
	`uv_ù6_addr
(
öãrÁ˚_addr
, 0, &
addr6
))

626  -
EINVAL
;

627 
mªq
.
ùv6mr_öãrÁ˚
 = 
addr6
.
sö6_sc›e_id
;

629 
mªq
.
ùv6mr_öãrÁ˚
 = 0;

632 
mªq
.
ùv6mr_mu…üddr
 = 
mu…iˇ°_addr
->
sö6_addr
;

634 
membîshù
) {

635 
UV_JOIN_GROUP
:

636 
›äame
 = 
IPV6_ADD_MEMBERSHIP
;

638 
UV_LEAVE_GROUP
:

639 
›äame
 = 
IPV6_DROP_MEMBERSHIP
;

642  -
EINVAL
;

645 i‡(
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

646 
IPPROTO_IPV6
,

647 
›äame
,

648 &
mªq
,

649 (
mªq
))) {

650 #i‡
	`deföed
(
__MVS__
)

651 i‡(
î∫o
 =
ENXIO
)

652  -
ENODEV
;

654  -
î∫o
;

658 
	}
}

662 
	$uv_udp_öô_ex
(
uv_lo›_t
* 
lo›
, 
uv_udp_t
* 
h™dÀ
, 
Êags
) {

663 
domaö
;

664 
îr
;

665 
fd
;

668 
domaö
 = 
Êags
 & 0xFF;

669 i‡(
domaö
 !
AF_INET
 && domaö !
AF_INET6
 && domaö !
AF_UNSPEC
)

670  -
EINVAL
;

672 i‡(
Êags
 & ~0xFF)

673  -
EINVAL
;

675 i‡(
domaö
 !
AF_UNSPEC
) {

676 
îr
 = 
	`uv__sockë
(
domaö
, 
SOCK_DGRAM
, 0);

677 i‡(
îr
 < 0)

678  
îr
;

679 
fd
 = 
îr
;

681 
fd
 = -1;

684 
	`uv__h™dÀ_öô
(
lo›
, (
uv_h™dÀ_t
*)
h™dÀ
, 
UV_UDP
);

685 
h™dÀ
->
Æloc_cb
 = 
NULL
;

686 
h™dÀ
->
ªcv_cb
 = 
NULL
;

687 
h™dÀ
->
£nd_queue_size
 = 0;

688 
h™dÀ
->
£nd_queue_cou¡
 = 0;

689 
	`uv__io_öô
(&
h™dÀ
->
io_w©chî
, 
uv__udp_io
, 
fd
);

690 
	`QUEUE_INIT
(&
h™dÀ
->
wrôe_queue
);

691 
	`QUEUE_INIT
(&
h™dÀ
->
wrôe_com∂ëed_queue
);

693 
	}
}

696 
	$uv_udp_öô
(
uv_lo›_t
* 
lo›
, 
uv_udp_t
* 
h™dÀ
) {

697  
	`uv_udp_öô_ex
(
lo›
, 
h™dÀ
, 
AF_UNSPEC
);

698 
	}
}

701 
	$uv_udp_›í
(
uv_udp_t
* 
h™dÀ
, 
uv_os_sock_t
 
sock
) {

702 
îr
;

705 i‡(
h™dÀ
->
io_w©chî
.
fd
 != -1)

706  -
EBUSY
;

708 
îr
 = 
	`uv__n⁄block
(
sock
, 1);

709 i‡(
îr
)

710  
îr
;

712 
îr
 = 
	`uv__£t_ªu£
(
sock
);

713 i‡(
îr
)

714  
îr
;

716 
h™dÀ
->
io_w©chî
.
fd
 = 
sock
;

718 
	}
}

721 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

722 
	$uv_udp_£t_membîshù
(
uv_udp_t
* 
h™dÀ
,

723 c⁄° * 
mu…iˇ°_addr
,

724 c⁄° * 
öãrÁ˚_addr
,

725 
uv_membîshù
 
membîshù
) {

726 
îr
;

727 
sockaddr_ö
 
addr4
;

728 
sockaddr_ö6
 
addr6
;

730 i‡(
	`uv_ù4_addr
(
mu…iˇ°_addr
, 0, &
addr4
) == 0) {

731 
îr
 = 
	`uv__udp_maybe_de„ºed_böd
(
h™dÀ
, 
AF_INET
, 
UV_UDP_REUSEADDR
);

732 i‡(
îr
)

733  
îr
;

734  
	`uv__udp_£t_membîshù4
(
h™dÀ
, &
addr4
, 
öãrÁ˚_addr
, 
membîshù
);

735 } i‡(
	`uv_ù6_addr
(
mu…iˇ°_addr
, 0, &
addr6
) == 0) {

736 
îr
 = 
	`uv__udp_maybe_de„ºed_böd
(
h™dÀ
, 
AF_INET6
, 
UV_UDP_REUSEADDR
);

737 i‡(
îr
)

738  
îr
;

739  
	`uv__udp_£t_membîshù6
(
h™dÀ
, &
addr6
, 
öãrÁ˚_addr
, 
membîshù
);

741  -
EINVAL
;

743 
	}
}

747 #i‡
deföed
(
__TIZENRT__
)

748 
	$uv_udp_£t_membîshù
(
uv_udp_t
* 
h™dÀ
,

749 c⁄° * 
mu…iˇ°_addr
,

750 c⁄° * 
öãrÁ˚_addr
,

751 
uv_membîshù
 
membîshù
) {

752 
îr
;

753 
sockaddr_ö
 
addr4
;

755 i‡(
	`uv_ù4_addr
(
mu…iˇ°_addr
, 0, &
addr4
) == 0) {

756 
îr
 = 
	`uv__udp_maybe_de„ºed_böd
(
h™dÀ
, 
AF_INET
, 
UV_UDP_REUSEADDR
);

757 i‡(
îr
)

758  
îr
;

759  
	`uv__udp_£t_membîshù4
(
h™dÀ
, &
addr4
, 
öãrÁ˚_addr
, 
membîshù
);

761  -
EINVAL
;

763 
	}
}

766 
	$uv__£tsock›t
(
uv_udp_t
* 
h™dÀ
,

767 
›ti⁄4
,

768 
›ti⁄6
,

769 c⁄° * 
vÆ
,

770 
size_t
 
size
) {

771 
r
;

772 #i‡
	`deföed
(
__TIZENRT__
Ë&& deföed(
CONFIG_NET_IPv6
)

773 i‡(
h™dÀ
->
Êags
 & 
UV_HANDLE_IPV6
)

774 
r
 = 
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

775 
IPPROTO_IPV6
,

776 
›ti⁄6
,

777 
vÆ
,

778 
size
);

781 
r
 = 
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

782 
IPPROTO_IP
,

783 
›ti⁄4
,

784 
vÆ
,

785 
size
);

786 i‡(
r
)

787  -
î∫o
;

790 
	}
}

792 
	$uv__£tsock›t_maybe_ch¨
(
uv_udp_t
* 
h™dÀ
,

793 
›ti⁄4
,

794 
›ti⁄6
,

795 
vÆ
) {

796 #i‡
	`deföed
(
__sun
Ë|| deföed(
_AIX
Ë|| deföed(
__MVS__
)

797 
¨g
 = 
vÆ
;

798 #ñi‡
	`deföed
(
__O≥nBSD__
)

799 
¨g
 = 
vÆ
;

801 
¨g
 = 
vÆ
;

804 i‡(
vÆ
 < 0 || val > 255)

805  -
EINVAL
;

807  
	`uv__£tsock›t
(
h™dÀ
, 
›ti⁄4
, 
›ti⁄6
, &
¨g
, (arg));

808 
	}
}

811 
	$uv_udp_£t_brﬂdˇ°
(
uv_udp_t
* 
h™dÀ
, 
⁄
) {

812 i‡(
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

813 
SOL_SOCKET
,

814 
SO_BROADCAST
,

815 &
⁄
,

816 (
⁄
))) {

817  -
î∫o
;

821 
	}
}

824 #i‡!
deföed
(
__NUTTX__
)

825 
	$uv_udp_£t_âl
(
uv_udp_t
* 
h™dÀ
, 
âl
) {

826 i‡(
âl
 < 1 ||Åtl > 255)

827  -
EINVAL
;

829 #i‡
	`deföed
(
__MVS__
)

830 i‡(!(
h™dÀ
->
Êags
 & 
UV_HANDLE_IPV6
))

831  -
ENOTSUP
;

840 #i‡
	`deföed
(
__sun
Ë|| deföed(
_AIX
Ë|| deföed(
__O≥nBSD__
) || \

841 
	`deföed
(
__MVS__
)

843  
	`uv__£tsock›t
(
h™dÀ
,

844 
IP_TTL
,

845 
IPV6_UNICAST_HOPS
,

846 &
âl
,

847 (
âl
));

849 
	`deföed
(
__MVS__
) */

851  
	`uv__£tsock›t_maybe_ch¨
(
h™dÀ
,

852 
IP_TTL
,

853 
IPV6_UNICAST_HOPS
,

854 
âl
);

855 
	}
}

858 
	$uv_udp_£t_mu…iˇ°_âl
(
uv_udp_t
* 
h™dÀ
, 
âl
) {

865 #i‡
	`deföed
(
__sun
Ë|| deföed(
_AIX
Ë|| deföed(
__MVS__
)

866 i‡(
h™dÀ
->
Êags
 & 
UV_HANDLE_IPV6
)

867  
	`uv__£tsock›t
(
h™dÀ
,

868 
IP_MULTICAST_TTL
,

869 
IPV6_MULTICAST_HOPS
,

870 &
âl
,

871 (
âl
));

874  
	`uv__£tsock›t_maybe_ch¨
(
h™dÀ
,

875 
IP_MULTICAST_TTL
,

876 
IPV6_MULTICAST_HOPS
,

877 
âl
);

878 
	}
}

881 
	$uv_udp_£t_mu…iˇ°_lo›
(
uv_udp_t
* 
h™dÀ
, 
⁄
) {

888 #i‡
	`deföed
(
__sun
Ë|| deföed(
_AIX
Ë|| deföed(
__MVS__
)

889 i‡(
h™dÀ
->
Êags
 & 
UV_HANDLE_IPV6
)

890  
	`uv__£tsock›t
(
h™dÀ
,

891 
IP_MULTICAST_LOOP
,

892 
IPV6_MULTICAST_LOOP
,

893 &
⁄
,

894 (
⁄
));

897  
	`uv__£tsock›t_maybe_ch¨
(
h™dÀ
,

898 
IP_MULTICAST_LOOP
,

899 
IPV6_MULTICAST_LOOP
,

900 
⁄
);

901 
	}
}

903 
	$uv_udp_£t_mu…iˇ°_öãrÁ˚
(
uv_udp_t
* 
h™dÀ
, c⁄° * 
öãrÁ˚_addr
) {

904 
sockaddr_°‹age
 
addr_°
;

905 
sockaddr_ö
* 
addr4
;

906 
sockaddr_ö6
* 
addr6
;

908 
addr4
 = (
sockaddr_ö
*Ë&
addr_°
;

909 
addr6
 = (
sockaddr_ö6
*Ë&
addr_°
;

911 i‡(!
öãrÁ˚_addr
) {

912 
	`mem£t
(&
addr_°
, 0, áddr_st);

913 i‡(
h™dÀ
->
Êags
 & 
UV_HANDLE_IPV6
) {

914 
addr_°
.
ss_Ámûy
 = 
AF_INET6
;

915 
addr6
->
sö6_sc›e_id
 = 0;

917 
addr_°
.
ss_Ámûy
 = 
AF_INET
;

918 
addr4
->
sö_addr
.
s_addr
 = 
	`ht⁄l
(
INADDR_ANY
);

920 } i‡(
	`uv_ù4_addr
(
öãrÁ˚_addr
, 0, 
addr4
) == 0) {

922 } i‡(
	`uv_ù6_addr
(
öãrÁ˚_addr
, 0, 
addr6
) == 0) {

925  -
EINVAL
;

928 i‡(
addr_°
.
ss_Ámûy
 =
AF_INET
) {

929 i‡(
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

930 
IPPROTO_IP
,

931 
IP_MULTICAST_IF
,

932 (*Ë&
addr4
->
sö_addr
,

933 (
addr4
->
sö_addr
)) == -1) {

934  -
î∫o
;

937 #i‡
	`deföed
(
__TIZENRT__
Ë&& deföed(
CONFIG_NET_IPv6
)

938 i‡(
addr_°
.
ss_Ámûy
 =
AF_INET6
) {

939 i‡(
	`£tsock›t
(
h™dÀ
->
io_w©chî
.
fd
,

940 
IPPROTO_IPV6
,

941 
IPV6_MULTICAST_IF
,

942 &
addr6
->
sö6_sc›e_id
,

943 (
addr6
->
sö6_sc›e_id
)) == -1) {

944  -
î∫o
;

949 
	`as£π
(0 && "unexpectedáddress family");

950 
	`ab‹t
();

954 
	}
}

957 
	$uv_udp_gësock«me
(c⁄° 
uv_udp_t
* 
h™dÀ
,

958 
sockaddr
* 
«me
,

959 * 
«mñí
) {

960 
sockÀn_t
 
sockÀn
;

962 i‡(
h™dÀ
->
io_w©chî
.
fd
 == -1)

963  -
EINVAL
;

966 
sockÀn
 = (
sockÀn_t
Ë*
«mñí
;

968 i‡(
	`gësock«me
(
h™dÀ
->
io_w©chî
.
fd
, 
«me
, &
sockÀn
))

969  -
î∫o
;

971 *
«mñí
 = (Ë
sockÀn
;

973 
	}
}

976 
	$uv__udp_ªcv_°¨t
(
uv_udp_t
* 
h™dÀ
,

977 
uv_Æloc_cb
 
Æloc_cb
,

978 
uv_udp_ªcv_cb
 
ªcv_cb
) {

979 
îr
;

981 i‡(
Æloc_cb
 =
NULL
 || 
ªcv_cb
 == NULL)

982  -
EINVAL
;

984 i‡(
	`uv__io_a˘ive
(&
h™dÀ
->
io_w©chî
, 
POLLIN
))

985  -
EALREADY
;

987 
îr
 = 
	`uv__udp_maybe_de„ºed_böd
(
h™dÀ
, 
AF_INET
, 0);

988 i‡(
îr
)

989  
îr
;

991 
h™dÀ
->
Æloc_cb
 =álloc_cb;

992 
h™dÀ
->
ªcv_cb
 =Ñecv_cb;

994 
	`uv__io_°¨t
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLIN
);

995 
	`uv__h™dÀ_°¨t
(
h™dÀ
);

998 
	}
}

1001 
	$uv__udp_ªcv_°›
(
uv_udp_t
* 
h™dÀ
) {

1002 
	`uv__io_°›
(
h™dÀ
->
lo›
, &h™dÀ->
io_w©chî
, 
POLLIN
);

1004 i‡(!
	`uv__io_a˘ive
(&
h™dÀ
->
io_w©chî
, 
POLLOUT
))

1005 
	`uv__h™dÀ_°›
(
h™dÀ
);

1007 
h™dÀ
->
Æloc_cb
 = 
NULL
;

1008 
h™dÀ
->
ªcv_cb
 = 
NULL
;

1011 
	}
}

	@deps/libtuv/src/uv-common.c

37 
	~"uv.h
"

38 
	~"uv-comm⁄.h
"

40 
	~<as£π.h
>

41 
	~<î∫o.h
>

42 
	~<°d¨g.h
>

43 
	~<°ddef.h
>

44 
	~<°dio.h
>

45 
	~<°dlib.h
>

46 
	~<°rög.h
>

47 
	~<uni°d.h
>

49 #i‡
deföed
(
_WIN32
)

50 
	~<mÆloc.h
>

52 
	~<√t/if.h
>

57 
uv_mÆloc_func
 
	mloˇl_mÆloc
;

58 
uv_ªÆloc_func
 
	mloˇl_ªÆloc
;

59 
uv_ˇŒoc_func
 
	mloˇl_ˇŒoc
;

60 
uv_‰ì_func
 
	mloˇl_‰ì
;

61 } 
	tuv__Æloˇt‹_t
;

63 
uv__Æloˇt‹_t
 
	guv__Æloˇt‹
 = {

64 
mÆloc
,

65 
ªÆloc
,

66 
ˇŒoc
,

67 
‰ì
,

70 #i‡
deföed
(
__APPLE__
)

71 * 
	$uv__°rdup
(c⁄° * 
s
) {

72 
size_t
 
Àn
 = 
	`°æí
(
s
) + 1;

73 * 
m
 = 
	`uv__mÆloc
(
Àn
);

74 i‡(
m
 =
NULL
)

75  
NULL
;

76  
	`mem˝y
(
m
, 
s
, 
Àn
);

77 
	}
}

80 * 
	$uv__mÆloc
(
size_t
 
size
) {

81  
uv__Æloˇt‹
.
	`loˇl_mÆloc
(
size
);

82 
	}
}

84 
	$uv__‰ì
(* 
±r
) {

85 
ßved_î∫o
;

90 
ßved_î∫o
 = 
î∫o
;

91 
uv__Æloˇt‹
.
	`loˇl_‰ì
(
±r
);

92 
î∫o
 = 
ßved_î∫o
;

93 
	}
}

95 * 
	$uv__ˇŒoc
(
size_t
 
cou¡
, size_à
size
) {

96  
uv__Æloˇt‹
.
	`loˇl_ˇŒoc
(
cou¡
, 
size
);

97 
	}
}

99 * 
	$uv__ªÆloc
(* 
±r
, 
size_t
 
size
) {

100  
uv__Æloˇt‹
.
	`loˇl_ªÆloc
(
±r
, 
size
);

101 
	}
}

103 
uv_buf_t
 
	$uv_buf_öô
(* 
ba£
, 
Àn
) {

104 
uv_buf_t
 
buf
;

105 
buf
.
ba£
 = base;

106 
buf
.
Àn
 =Üen;

107  
buf
;

108 
	}
}

111 
	#UV_ERR_NAME_GEN
(
«me
, 
_
Ë
UV_
 ##Çame:  #«me;

	)

112 c⁄° * 
	$uv_îr_«me
(
îr
) {

113 
îr
) {

114 
	`UV_ERRNO_MAP
(
UV_ERR_NAME_GEN
)

117 
	`TDLOG
("uv_îr_«mêf‹ (%dËi†missög. AddÉºÇamê°rög\n", 
îr
);

120 
	}
}

121 #unde‡
UV_ERR_NAME_GEN


124 
	#UV_STRERROR_GEN
(
«me
, 
msg
Ë
UV_
 ##Çame:  msg;

	)

125 c⁄° * 
	$uv_°ªº‹
(
îr
) {

126 
îr
) {

127 
	`UV_ERRNO_MAP
(
UV_STRERROR_GEN
)

131 
	}
}

132 #unde‡
UV_STRERROR_GEN


135 
	$uv_ù4_addr
(c⁄° * 
ù
, 
p‹t
, 
sockaddr_ö
* 
addr
) {

136 
	`mem£t
(
addr
, 0, (*addr));

137 
addr
->
sö_Ámûy
 = 
AF_INET
;

138 
addr
->
sö_p‹t
 = 
	`ht⁄s
(
p‹t
);

139  
	`uv_öë_±⁄
(
AF_INET
, 
ù
, &(
addr
->
sö_addr
.
s_addr
));

140 
	}
}

143 
	$uv_ù6_addr
(c⁄° * 
ù
, 
p‹t
, 
sockaddr_ö6
* 
addr
) {

144 
addªss_∑π
[40];

145 
size_t
 
addªss_∑π_size
;

146 c⁄° * 
z⁄e_ödex
;

148 
	`mem£t
(
addr
, 0, (*addr));

149 
addr
->
sö6_Ámûy
 = 
AF_INET6
;

150 
addr
->
sö6_p‹t
 = 
	`ht⁄s
(
p‹t
);

152 
z⁄e_ödex
 = 
	`°rchr
(
ù
, '%');

153 i‡(
z⁄e_ödex
 !
NULL
) {

154 
addªss_∑π_size
 = 
z⁄e_ödex
 - 
ù
;

155 i‡(
addªss_∑π_size
 >(
addªss_∑π
))

156 
addªss_∑π_size
 = (
addªss_∑π
) - 1;

158 
	`mem˝y
(
addªss_∑π
, 
ù
, 
addªss_∑π_size
);

159 
addªss_∑π
[
addªss_∑π_size
] = '\0';

160 
ù
 = 
addªss_∑π
;

162 
z⁄e_ödex
++;

164 #ifde‡
_WIN32


165 
addr
->
sö6_sc›e_id
 = 
	`©oi
(
z⁄e_ödex
);

166 #ñi‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

168 
addr
->
sö6_sc›e_id
 = 
	`if_«mëoödex
(
z⁄e_ödex
);

172  
	`uv_öë_±⁄
(
AF_INET6
, 
ù
, &
addr
->
sö6_addr
);

173 
	}
}

176 
	$uv_ù4_«me
(c⁄° 
sockaddr_ö
* 
§c
, * 
d°
, 
size_t
 
size
) {

177  
	`uv_öë_¡›
(
AF_INET
, &
§c
->
sö_addr
, 
d°
, 
size
);

178 
	}
}

181 
	$uv_ù6_«me
(c⁄° 
sockaddr_ö6
* 
§c
, * 
d°
, 
size_t
 
size
) {

182  
	`uv_öë_¡›
(
AF_INET6
, &
§c
->
sö6_addr
, 
d°
, 
size
);

183 
	}
}

186 
	$uv_t˝_böd
(
uv_t˝_t
* 
h™dÀ
,

187 c⁄° 
sockaddr
* 
addr
,

188 
Êags
) {

189 
addæí
;

191 i‡(
h™dÀ
->
ty≥
 !
UV_TCP
)

192  
UV_EINVAL
;

194 i‡(
addr
->
ß_Ámûy
 =
AF_INET
)

195 
addæí
 = (
sockaddr_ö
);

196 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

197 
addæí
 = (
sockaddr_ö6
);

199  
UV_EINVAL
;

201  
	`uv__t˝_böd
(
h™dÀ
, 
addr
, 
addæí
, 
Êags
);

202 
	}
}

205 
	$uv_udp_böd
(
uv_udp_t
* 
h™dÀ
,

206 c⁄° 
sockaddr
* 
addr
,

207 
Êags
) {

208 
addæí
;

210 i‡(
h™dÀ
->
ty≥
 !
UV_UDP
)

211  
UV_EINVAL
;

213 i‡(
addr
->
ß_Ámûy
 =
AF_INET
)

214 
addæí
 = (
sockaddr_ö
);

215 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

216 
addæí
 = (
sockaddr_ö6
);

218  
UV_EINVAL
;

220  
	`uv__udp_böd
(
h™dÀ
, 
addr
, 
addæí
, 
Êags
);

221 
	}
}

224 
	$uv_t˝_c⁄√˘
(
uv_c⁄√˘_t
* 
ªq
,

225 
uv_t˝_t
* 
h™dÀ
,

226 c⁄° 
sockaddr
* 
addr
,

227 
uv_c⁄√˘_cb
 
cb
) {

228 
addæí
;

230 i‡(
h™dÀ
->
ty≥
 !
UV_TCP
)

231  
UV_EINVAL
;

233 i‡(
addr
->
ß_Ámûy
 =
AF_INET
)

234 
addæí
 = (
sockaddr_ö
);

235 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

236 
addæí
 = (
sockaddr_ö6
);

238  
UV_EINVAL
;

240  
	`uv__t˝_c⁄√˘
(
ªq
, 
h™dÀ
, 
addr
, 
addæí
, 
cb
);

241 
	}
}

244 
	$uv_udp_£nd
(
uv_udp_£nd_t
* 
ªq
,

245 
uv_udp_t
* 
h™dÀ
,

246 c⁄° 
uv_buf_t
 
bufs
[],

247 
nbufs
,

248 c⁄° 
sockaddr
* 
addr
,

249 
uv_udp_£nd_cb
 
£nd_cb
) {

250 
addæí
;

252 i‡(
h™dÀ
->
ty≥
 !
UV_UDP
)

253  
UV_EINVAL
;

255 i‡(
addr
->
ß_Ámûy
 =
AF_INET
)

256 
addæí
 = (
sockaddr_ö
);

257 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

258 
addæí
 = (
sockaddr_ö6
);

260  
UV_EINVAL
;

262  
	`uv__udp_£nd
(
ªq
, 
h™dÀ
, 
bufs
, 
nbufs
, 
addr
, 
addæí
, 
£nd_cb
);

263 
	}
}

266 
	$uv_udp_åy_£nd
(
uv_udp_t
* 
h™dÀ
,

267 c⁄° 
uv_buf_t
 
bufs
[],

268 
nbufs
,

269 c⁄° 
sockaddr
* 
addr
) {

270 
addæí
;

272 i‡(
h™dÀ
->
ty≥
 !
UV_UDP
)

273  
UV_EINVAL
;

275 i‡(
addr
->
ß_Ámûy
 =
AF_INET
)

276 
addæí
 = (
sockaddr_ö
);

277 i‡(
addr
->
ß_Ámûy
 =
AF_INET6
)

278 
addæí
 = (
sockaddr_ö6
);

280  
UV_EINVAL
;

282  
	`uv__udp_åy_£nd
(
h™dÀ
, 
bufs
, 
nbufs
, 
addr
, 
addæí
);

283 
	}
}

286 
	$uv_udp_ªcv_°¨t
(
uv_udp_t
* 
h™dÀ
,

287 
uv_Æloc_cb
 
Æloc_cb
,

288 
uv_udp_ªcv_cb
 
ªcv_cb
) {

289 i‡(
h™dÀ
->
ty≥
 !
UV_UDP
 || 
Æloc_cb
 =
NULL
 || 
ªcv_cb
 == NULL)

290  
UV_EINVAL
;

292  
	`uv__udp_ªcv_°¨t
(
h™dÀ
, 
Æloc_cb
, 
ªcv_cb
);

293 
	}
}

296 
	$uv_udp_ªcv_°›
(
uv_udp_t
* 
h™dÀ
) {

297 i‡(
h™dÀ
->
ty≥
 !
UV_UDP
)

298  
UV_EINVAL
;

300  
	`uv__udp_ªcv_°›
(
h™dÀ
);

301 
	}
}

304 
	$uv_wÆk
(
uv_lo›_t
* 
lo›
, 
uv_wÆk_cb
 
wÆk_cb
, * 
¨g
) {

305 
QUEUE
 
queue
;

306 
QUEUE
* 
q
;

307 
uv_h™dÀ_t
* 
h
;

309 
	`QUEUE_MOVE
(&
lo›
->
h™dÀ_queue
, &
queue
);

310 !
	`QUEUE_EMPTY
(&
queue
)) {

311 
q
 = 
	`QUEUE_HEAD
(&
queue
);

312 
h
 = 
	`QUEUE_DATA
(
q
, 
uv_h™dÀ_t
, 
h™dÀ_queue
);

314 
	`QUEUE_REMOVE
(
q
);

315 
	`QUEUE_INSERT_TAIL
(&
lo›
->
h™dÀ_queue
, 
q
);

317 i‡(
h
->
Êags
 & 
UV__HANDLE_INTERNAL
) ;

318 
	`wÆk_cb
(
h
, 
¨g
);

320 
	}
}

323 
	$uv_ªf
(
uv_h™dÀ_t
* 
h™dÀ
) {

324 
	`uv__h™dÀ_ªf
(
h™dÀ
);

325 
	}
}

328 
	$uv_uƒef
(
uv_h™dÀ_t
* 
h™dÀ
) {

329 
	`uv__h™dÀ_uƒef
(
h™dÀ
);

330 
	}
}

333 
uöt64_t
 
	$uv_now
(c⁄° 
uv_lo›_t
* 
lo›
) {

334  
lo›
->
time
;

335 
	}
}

339 
size_t
 
	$uv__cou¡_bufs
(c⁄° 
uv_buf_t
 
bufs
[], 
nbufs
) {

340 
i
;

341 
size_t
 
byãs
;

343 
byãs
 = 0;

344 
i
 = 0; i < 
nbufs
; i++)

345 
byãs
 +(
size_t
Ë
bufs
[
i
].
Àn
;

347  
byãs
;

348 
	}
}

355 * 
	$uv__gë_nbufs
(
uv_fs_t
* 
ªq
) {

356 #ifde‡
_WIN32


357  &
ªq
->
fs
.
öfo
.
nbufs
;

359  &
ªq
->
nbufs
;

361 
	}
}

367 #ifde‡
_WIN32


368 
	#uv__fs_sˇndú_‰ì
 
uv__‰ì


	)

370 
	#uv__fs_sˇndú_‰ì
 
‰ì


	)

373 
	$uv__fs_sˇndú_˛ónup
(
uv_fs_t
* 
ªq
) {

374 
uv__dúít_t
** 
díts
;

376 * 
nbufs
 = 
	`uv__gë_nbufs
(
ªq
);

378 
díts
 = 
ªq
->
±r
;

379 i‡(*
nbufs
 > 0 && *nbuf†!(Ë
ªq
->
ªsu…
)

380 (*
nbufs
)--;

381 ; *
nbufs
 < (Ë
ªq
->
ªsu…
; (*nbufs)++)

382 
	`uv__fs_sˇndú_‰ì
(
díts
[*
nbufs
]);

384 
	`uv__fs_sˇndú_‰ì
(
ªq
->
±r
);

385 
ªq
->
±r
 = 
NULL
;

386 
	}
}

389 
	$uv_fs_sˇndú_√xt
(
uv_fs_t
* 
ªq
, 
uv_dúít_t
* 
ít
) {

390 
uv__dúít_t
** 
díts
;

391 
uv__dúít_t
* 
dít
;

393 * 
nbufs
 = 
	`uv__gë_nbufs
(
ªq
);

395 
díts
 = 
ªq
->
±r
;

398 i‡(*
nbufs
 > 0)

399 
	`uv__fs_sˇndú_‰ì
(
díts
[*
nbufs
 - 1]);

402 i‡(*
nbufs
 =(Ë
ªq
->
ªsu…
) {

403 
	`uv__fs_sˇndú_‰ì
(
díts
);

404 
ªq
->
±r
 = 
NULL
;

405  
UV_EOF
;

408 
dít
 = 
díts
[(*
nbufs
)++];

410 
ít
->
«me
 = 
dít
->
d_«me
;

411 #ifde‡
HAVE_DIRENT_TYPES


412 
dít
->
d_ty≥
) {

413 
UV__DT_DIR
:

414 
ít
->
ty≥
 = 
UV_DIRENT_DIR
;

416 
UV__DT_FILE
:

417 
ít
->
ty≥
 = 
UV_DIRENT_FILE
;

419 
UV__DT_LINK
:

420 
ít
->
ty≥
 = 
UV_DIRENT_LINK
;

422 
UV__DT_FIFO
:

423 
ít
->
ty≥
 = 
UV_DIRENT_FIFO
;

425 
UV__DT_SOCKET
:

426 
ít
->
ty≥
 = 
UV_DIRENT_SOCKET
;

428 
UV__DT_CHAR
:

429 
ít
->
ty≥
 = 
UV_DIRENT_CHAR
;

431 
UV__DT_BLOCK
:

432 
ít
->
ty≥
 = 
UV_DIRENT_BLOCK
;

435 
ít
->
ty≥
 = 
UV_DIRENT_UNKNOWN
;

438 
ít
->
ty≥
 = 
UV_DIRENT_UNKNOWN
;

442 
	}
}

445 
uv_lo›_t
 
	gdeÁu…_lo›_°ru˘
;

446 
uv_lo›_t
* 
	gdeÁu…_lo›_±r
;

449 
uv_lo›_t
* 
	$uv_deÁu…_lo›
() {

450 i‡(
deÁu…_lo›_±r
 !
NULL
)

451  
deÁu…_lo›_±r
;

453 i‡(
	`uv_lo›_öô
(&
deÁu…_lo›_°ru˘
))

454  
NULL
;

456 
deÁu…_lo›_±r
 = &
deÁu…_lo›_°ru˘
;

457  
deÁu…_lo›_±r
;

458 
	}
}

461 
	$uv_lo›_˛o£
(
uv_lo›_t
* 
lo›
) {

462 
QUEUE
* 
q
;

463 
uv_h™dÀ_t
* 
h
;

464 #i‚de‡
NDEBUG


465 * 
ßved_d©a
;

468 i‡(!
	`QUEUE_EMPTY
(&(
lo›
)->
a˘ive_ªqs
))

469  
UV_EBUSY
;

471 
	`tuv_async_deöô
(
lo›
, &lo›->
wq_async
);

473 
	`QUEUE_FOREACH
(
q
, &
lo›
->
h™dÀ_queue
) {

474 
h
 = 
	`QUEUE_DATA
(
q
, 
uv_h™dÀ_t
, 
h™dÀ_queue
);

475 i‡(!(
h
->
Êags
 & 
UV__HANDLE_INTERNAL
))

476  
UV_EBUSY
;

479 
	`uv__lo›_˛o£
(
lo›
);

481 #i‚de‡
NDEBUG


482 
ßved_d©a
 = 
lo›
->
d©a
;

483 
	`mem£t
(
lo›
, -1, (*loop));

484 
lo›
->
d©a
 = 
ßved_d©a
;

486 i‡(
lo›
 =
deÁu…_lo›_±r
)

487 
deÁu…_lo›_±r
 = 
NULL
;

490 
	}
}

493 
	$uv_¶ìp
(
m£c
) {

494 
	`u¶ìp
(
m£c
 * 1000);

495 
	}
}

	@deps/libtuv/src/uv-common.h

42 #i‚de‡
UV_COMMON_H_


43 
	#UV_COMMON_H_


	)

45 
	~<as£π.h
>

46 
	~<°d¨g.h
>

47 
	~<°ddef.h
>

49 #i‡
deföed
(
_MSC_VER
) && _MSC_VER < 1600

50 
	~"°döt-msvc2008.h
"

52 
	~<°döt.h
>

55 
	~"uv.h
"

56 
	~"åì.h
"

57 
	~"queue.h
"

59 #i‡!
deföed
(
¢¥ötf
Ë&& deföed(
_MSC_VER
) && _MSC_VER < 1900

60 
¢¥ötf
(*, 
size_t
, const *, ...);

63 
	#ARRAY_SIZE
(
a
Ë(◊Ë/ (◊)[0]))

	)

65 
	#c⁄èöî_of
(
±r
, 
ty≥
, 
membî
) \

66 ((
ty≥
 *Ë((*Ë(
±r
Ë- 
	`off£tof
—y≥, 
membî
)))

	)

68 
	#STATIC_ASSERT
(
ex¥
) \

69 
	`uv__°©ic_as£π
(
°©ic_as£π_Áûed
[1 - 2 * !(
ex¥
)])

	)

71 #i‚de‡
_WIN32


73 
	mUV__HANDLE_INTERNAL
 = 0x8000,

74 
	mUV__HANDLE_ACTIVE
 = 0x4000,

75 
	mUV__HANDLE_REF
 = 0x2000,

76 
	mUV__HANDLE_CLOSING
 = 0

79 
	#UV__HANDLE_INTERNAL
 0x80

	)

80 
	#UV__HANDLE_ACTIVE
 0x40

	)

81 
	#UV__HANDLE_REF
 0x20

	)

82 
	#UV__HANDLE_CLOSING
 0x01

	)

85 
uv__lo›_c⁄figuª
(
uv_lo›_t
* 
lo›
, 
uv_lo›_›ti⁄
 
›ti⁄
, 
va_li°
 
≠
);

87 
uv__lo›_˛o£
(
uv_lo›_t
* 
lo›
);

89 
uv__t˝_böd
(
uv_t˝_t
* 
t˝
,

90 c⁄° 
sockaddr
* 
addr
,

91 
addæí
,

92 
Êags
);

94 
uv__t˝_c⁄√˘
(
uv_c⁄√˘_t
* 
ªq
,

95 
uv_t˝_t
* 
h™dÀ
,

96 c⁄° 
sockaddr
* 
addr
,

97 
addæí
,

98 
uv_c⁄√˘_cb
 
cb
);

100 
uv__udp_böd
(
uv_udp_t
* 
h™dÀ
,

101 c⁄° 
sockaddr
* 
addr
,

102 
addæí
,

103 
Êags
);

105 
uv__udp_£nd
(
uv_udp_£nd_t
* 
ªq
,

106 
uv_udp_t
* 
h™dÀ
,

107 c⁄° 
uv_buf_t
 
bufs
[],

108 
nbufs
,

109 c⁄° 
sockaddr
* 
addr
,

110 
addæí
,

111 
uv_udp_£nd_cb
 
£nd_cb
);

113 
uv__udp_åy_£nd
(
uv_udp_t
* 
h™dÀ
,

114 c⁄° 
uv_buf_t
 
bufs
[],

115 
nbufs
,

116 c⁄° 
sockaddr
* 
addr
,

117 
addæí
);

119 
uv__udp_ªcv_°¨t
(
uv_udp_t
* 
h™dÀ
, 
uv_Æloc_cb
 
Æloccb
,

120 
uv_udp_ªcv_cb
 
ªcv_cb
);

122 
uv__udp_ªcv_°›
(
uv_udp_t
* 
h™dÀ
);

124 
uv__fs_pﬁl_˛o£
(
uv_fs_pﬁl_t
* 
h™dÀ
);

126 
uv__gëaddröfo_å™¶©e_îr‹
(
sys_îr
);

128 
uv__w‹k_submô
(
uv_lo›_t
* 
lo›
,

129 
uv__w‹k
 *
w
,

130 (*
w‹k
)(
uv__w‹k
 *
w
),

131 (*
d⁄e
)(
uv__w‹k
 *
w
, 
°©us
));

133 
	`uv__w‹k_d⁄e
(
uv_async_t
* 
h™dÀ
);

135 
size_t
 
	`uv__cou¡_bufs
(c⁄° 
uv_buf_t
 
bufs
[], 
nbufs
);

137 
	`uv__sockë_sock›t
(
uv_h™dÀ_t
* 
h™dÀ
, 
›äame
, * 
vÆue
);

139 
	`uv__fs_sˇndú_˛ónup
(
uv_fs_t
* 
ªq
);

141 
	#uv__has_a˘ive_ªqs
(
lo›
) \

142 (
	`QUEUE_EMPTY
(&(
lo›
)->
a˘ive_ªqs
Ë=0)

	)

144 
	#uv__ªq_ªgi°î
(
lo›
, 
ªq
) \

146 
	`QUEUE_INSERT_TAIL
(&(
lo›
)->
a˘ive_ªqs
, &(
ªq
)->
a˘ive_queue
); \

147 
	}
} \

148 0)

	)

150 
	#uv__ªq_uƒegi°î
(
lo›
, 
ªq
) \

152 
	`as£π
(
	`uv__has_a˘ive_ªqs
(
lo›
)); \

153 
	`QUEUE_REMOVE
(&(
ªq
)->
a˘ive_queue
); \

155 0)

	)

157 
	#uv__has_a˘ive_h™dÀs
(
lo›
) \

158 ((
lo›
)->
a˘ive_h™dÀs
 > 0)

	)

160 
	#uv__a˘ive_h™dÀ_add
(
h
) \

162 (
h
)->
lo›
->
a˘ive_h™dÀs
++; \

164 0)

	)

166 
	#uv__a˘ive_h™dÀ_rm
(
h
) \

168 (
h
)->
lo›
->
a˘ive_h™dÀs
--; \

170 0)

	)

172 
	#uv__is_a˘ive
(
h
) \

173 (((
h
)->
Êags
 & 
UV__HANDLE_ACTIVE
Ë!0)

	)

175 
	#uv__is_˛osög
(
h
) \

176 (((
h
)->
Êags
 & (
UV_CLOSING
 | 
UV_CLOSED
)Ë!0)

	)

178 
	#uv__h™dÀ_°¨t
(
h
) \

180 
	`as£π
(((
h
)->
Êags
 & 
UV__HANDLE_CLOSING
) == 0); \

181 i‡(((
h
)->
Êags
 & 
UV__HANDLE_ACTIVE
) != 0) ; \

182 (
h
)->
Êags
 |
UV__HANDLE_ACTIVE
; \

183 i‡(((
h
)->
Êags
 & 
UV__HANDLE_REF
Ë!0Ë
	`uv__a˘ive_h™dÀ_add
(h); \

185 0)

	)

187 
	#uv__h™dÀ_°›
(
h
) \

189 
	`as£π
(((
h
)->
Êags
 & 
UV__HANDLE_CLOSING
) == 0); \

190 i‡(((
h
)->
Êags
 & 
UV__HANDLE_ACTIVE
) == 0) ; \

191 (
h
)->
Êags
 &~
UV__HANDLE_ACTIVE
; \

192 i‡(((
h
)->
Êags
 & 
UV__HANDLE_REF
Ë!0Ë
	`uv__a˘ive_h™dÀ_rm
(h); \

194 0)

	)

196 
	#uv__h™dÀ_ªf
(
h
) \

198 i‡(((
h
)->
Êags
 & 
UV__HANDLE_REF
) != 0) ; \

199 (
h
)->
Êags
 |
UV__HANDLE_REF
; \

200 i‡(((
h
)->
Êags
 & 
UV__HANDLE_CLOSING
) != 0) ; \

201 i‡(((
h
)->
Êags
 & 
UV__HANDLE_ACTIVE
Ë!0Ë
	`uv__a˘ive_h™dÀ_add
(h); \

203 0)

	)

205 
	#uv__h™dÀ_uƒef
(
h
) \

207 i‡(((
h
)->
Êags
 & 
UV__HANDLE_REF
) == 0) ; \

208 (
h
)->
Êags
 &~
UV__HANDLE_REF
; \

209 i‡(((
h
)->
Êags
 & 
UV__HANDLE_CLOSING
) != 0) ; \

210 i‡(((
h
)->
Êags
 & 
UV__HANDLE_ACTIVE
Ë!0Ë
	`uv__a˘ive_h™dÀ_rm
(h); \

212 0)

	)

214 
	#uv__has_ªf
(
h
) \

215 (((
h
)->
Êags
 & 
UV__HANDLE_REF
Ë!0)

	)

217 #i‡
deföed
(
_WIN32
)

218 
	#uv__h™dÀ_∂©f‹m_öô
(
h
Ë((h)->
u
.
fd
 = -1)

	)

220 
	#uv__h™dÀ_∂©f‹m_öô
(
h
Ë((h)->
√xt_˛osög
 = 
NULL
)

	)

223 
	#uv__h™dÀ_öô
(
lo›_
, 
h
, 
ty≥_
) \

225 (
h
)->
lo›
 = (
lo›_
); \

226 (
h
)->
ty≥
 = (
ty≥_
); \

227 (
h
)->
Êags
 = 
UV__HANDLE_REF
; \

228 
	`QUEUE_INSERT_TAIL
(&(
lo›_
)->
h™dÀ_queue
, &(
h
)->handle_queue); \

229 
	`uv__h™dÀ_∂©f‹m_öô
(
h
); \

231 0)

	)

233 
	#tuv__h™dÀ_deöô
(
h
) \

235 
	`QUEUE_REMOVE
(&(
h
)->
h™dÀ_queue
); \

236 
	`QUEUE_INIT
(&(
h
)->
h™dÀ_queue
); \

238 0)

	)

241 *
uv__ˇŒoc
(
size_t
 
cou¡
, size_à
size
);

242 #i‡
deföed
(
__APPLE__
)

243 *
uv__°rdup
(c⁄° * 
s
);

245 * 
uv__mÆloc
(
size_t
 
size
);

246 
uv__‰ì
(* 
±r
);

247 * 
uv__ªÆloc
(* 
±r
, 
size_t
 
size
);

	@deps/libtuv/src/version.c

22 
	~"uv.h
"

24 
	#UV_STRINGIFY
(
v
Ë
	`UV_STRINGIFY_HELPER
(v)

	)

25 
	#UV_STRINGIFY_HELPER
(
v
Ë#v

	)

27 
	#UV_VERSION_STRING_BASE
 
	`UV_STRINGIFY
(
UV_VERSION_MAJOR
) "." \

28 
	`UV_STRINGIFY
(
UV_VERSION_MINOR
) "." \

29 
	`UV_STRINGIFY
(
UV_VERSION_PATCH
)

	)

31 #i‡
UV_VERSION_IS_RELEASE


32 
	#UV_VERSION_STRING
 
UV_VERSION_STRING_BASE


	)

34 
	#UV_VERSION_STRING
 
UV_VERSION_STRING_BASE
 "-" 
UV_VERSION_SUFFIX


	)

38 
	$uv_vîsi⁄
() {

39  
UV_VERSION_HEX
;

40 
	}
}

43 c⁄° * 
	$uv_vîsi⁄_°rög
() {

44  
UV_VERSION_STRING
;

45 
	}
}

	@deps/libtuv/test/echo_server.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

39 
	~<°rög.h
>

41 
	~<uv.h
>

42 
	~"ru¬î.h
"

44 
uv_lo›_t
 
	glo›
;

46 
	g£rvî_˛o£d
;

47 
°ªam_ty≥
 
	g£rvîTy≥
;

48 
uv_t˝_t
 
	gt˝Sîvî
;

49 
uv_h™dÀ_t
* 
	g£rvîH™dÀ
;

54 
	$⁄_˛o£
(
uv_h™dÀ_t
* 
≥î
) {

55 
	`‰ì
(
≥î
);

56 
	}
}

58 
	$⁄_£rvî_˛o£
(
uv_h™dÀ_t
* 
h™dÀ
) {

59 
	`TUV_ASSERT
(
h™dÀ
 =
£rvîH™dÀ
);

60 
	}
}

65 
	$a·î_wrôe
(
uv_wrôe_t
* 
ªq
, 
°©us
) {

66 
wrôe_ªq_t
* 
wr
;

69 
wr
 = (
wrôe_ªq_t
*Ë
ªq
;

70 
	`‰ì
(
wr
->
buf
.
ba£
);

71 
	`‰ì
(
wr
);

73 i‡(
°©us
 == 0)

76 
	`TDLOG
("uv_wrôêîr‹: %†- %s", 
	`uv_îr_«me
(
°©us
), 
	`uv_°ªº‹
(status));

77 
	}
}

80 
	$a·î_shutdown
(
uv_shutdown_t
* 
ªq
, 
°©us
) {

81 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë
ªq
->
h™dÀ
, 
⁄_˛o£
);

82 
	`‰ì
(
ªq
);

83 
	}
}

86 
	$a·î_ªad
(
uv_°ªam_t
* 
h™dÀ
,

87 
ssize_t
 
ƒód
,

88 c⁄° 
uv_buf_t
* 
buf
) {

89 
i
;

90 
wrôe_ªq_t
 *
wr
;

91 
uv_shutdown_t
* 
§eq
;

93 i‡(
ƒód
 < 0) {

95 
	`TUV_ASSERT
(
ƒód
 =
UV_EOF
);

97 
	`‰ì
(
buf
->
ba£
);

98 
§eq
 = (
uv_shutdown_t
*)
	`mÆloc
((uv_shutdown_t));

99 
	`mem£t
(
§eq
, 0, (
uv_shutdown_t
));

100 
	`TUV_ASSERT
(0 =
	`uv_shutdown
(
§eq
, 
h™dÀ
, 
a·î_shutdown
));

104 i‡(
ƒód
 == 0) {

106 
	`‰ì
(
buf
->
ba£
);

114 i‡(!
£rvî_˛o£d
) {

115 
i
 = 0; i < 
ƒód
; i++) {

116 i‡(
buf
->
ba£
[
i
] == 'Q') {

117 i‡(
i
 + 1 < 
ƒód
 && 
buf
->
ba£
[i + 1] == 'S') {

118 
	`‰ì
(
buf
->
ba£
);

119 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄_˛o£
);

122 
	`‰ì
(
buf
->
ba£
);

123 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄_˛o£
);

124 
	`uv_˛o£
(
£rvîH™dÀ
, 
⁄_£rvî_˛o£
);

125 
£rvî_˛o£d
 = 1;

133 
wr
 = (
wrôe_ªq_t
*)
	`mÆloc
((write_req_t));

134 
	`TUV_ASSERT
(
wr
 !
NULL
);

135 
wr
->
buf
 = 
	`uv_buf_öô
(buf->
ba£
, 
ƒód
);

137 i‡(
	`uv_wrôe
(&
wr
->
ªq
, 
h™dÀ
, &wr->
buf
, 1, 
a·î_wrôe
)) {

138 
	`TUV_FATAL
("uv_write failed");

140 
	}
}

143 
	$echo_Æloc
(
uv_h™dÀ_t
* 
h™dÀ
,

144 
size_t
 
sugge°ed_size
,

145 
uv_buf_t
* 
buf
) {

146 
buf
->
ba£
 = (*)
	`mÆloc
(
sugge°ed_size
);

147 
buf
->
Àn
 = 
sugge°ed_size
;

148 
	}
}

151 
	$⁄_c⁄√˘i⁄
(
uv_°ªam_t
* 
£rvî
, 
°©us
) {

152 
uv_°ªam_t
* 
°ªam
;

153 
r
;

155 i‡(
°©us
 != 0) {

156 
	`TDLOG
("echo server on_connection, ConnectÉrror %d, %s",

157 
°©us
, 
	`uv_îr_«me
(status));

160 
	`TUV_ASSERT
(
°©us
 == 0);

162 
£rvîTy≥
) {

163 
TEST_TCP
:

164 
°ªam
 = (
uv_°ªam_t
*)
	`mÆloc
((
uv_t˝_t
));

165 
	`TUV_ASSERT
(
°ªam
 !
NULL
);

166 
r
 = 
	`uv_t˝_öô
(&
lo›
, (
uv_t˝_t
*)
°ªam
);

167 
	`TUV_ASSERT
(
r
 == 0);

180 
	`TUV_ASSERT
(0 && "Bad serverType");

181 
	`ABORT
();

185 
°ªam
->
d©a
 = 
£rvî
;

187 
r
 = 
	`uv_ac˚±
(
£rvî
, 
°ªam
);

188 
	`TUV_ASSERT
(
r
 == 0);

190 
r
 = 
	`uv_ªad_°¨t
(
°ªam
, 
echo_Æloc
, 
a·î_ªad
);

191 
	`TUV_ASSERT
(
r
 == 0);

193 #i‡
	`deföed
(
__HOST_HELPER__
)

194 
sockaddr_ö
 
t˝«me
;

195 
«mñí
;

196 
«mñí
 = (
sockaddr_ö
);

197 
	`uv_t˝_gë≥î«me
(
°ªam
, &
t˝«me
, &
«mñí
);

199 
uöt8_t
 
addr8
[4];

200 
uöt32_t
 
addr32
;

201 } 
c4
;

202 
c4
.
addr32
 = 
t˝«me
.
sö_addr
.
s_addr
;

203 
	`TDDDLOG
("Client has connected: %d.%d.%d.%d",

204 
c4
.
addr8
[0], c4.addr8[1], c4.addr8[2], c4.addr8[3]);

206 
	}
}

211 
	$t˝4_echo_°¨t
(
p‹t
) {

212 
sockaddr_ö
 
addr
;

213 
r
;

215 
	`TUV_ASSERT
(0 =
	`uv_ù4_addr
("0.0.0.0", 
p‹t
, &
addr
));

217 
£rvîH™dÀ
 = (
uv_h™dÀ_t
*)&
t˝Sîvî
;

218 
£rvîTy≥
 = 
TEST_TCP
;

220 
r
 = 
	`uv_t˝_öô
(&
lo›
, &
t˝Sîvî
);

221 i‡(
r
) {

223 
	`TDLOG
("svr Socket creationÉrror");

227 
r
 = 
	`uv_t˝_böd
(&
t˝Sîvî
, (c⁄° 
sockaddr
*Ë&
addr
, 0);

228 i‡(
r
) {

230 
	`TDLOG
("svr BindÉrror");

234 
r
 = 
	`uv_li°í
((
uv_°ªam_t
*)&
t˝Sîvî
, 
SOMAXCONN
, 
⁄_c⁄√˘i⁄
);

235 i‡(
r
) {

237 
	`TDLOG
("sv∏Li°íÉº‹ %s", 
	`uv_îr_«me
(
r
));

242 
	}
}

247 
	$HELPER_IMPL
(
t˝4_echo_£rvî
) {

248 
r
;

250 
£rvî_˛o£d
 = 0;

251 
£rvîH™dÀ
 = 
NULL
;

253 
r
 = 
	`uv_lo›_öô
(&
lo›
);

254 
	`TUV_ASSERT
(
r
 == 0);

256 i‡(
	`t˝4_echo_°¨t
(
TEST_PORT
))

259 
r
 = 
	`uv_run
(&
lo›
, 
UV_RUN_DEFAULT
);

260 
	`TUV_ASSERT
(
r
 == 0);

262 
	`as£π
(
£rvî_˛o£d
 != 0);

264 
	`TUV_ASSERT
(
	`uv_lo›_˛o£
(&
lo›
) == 0);

267 
	}
}

	@deps/libtuv/test/raw/apiemul.h

16 #i‚de‡
__≠õmul_hódî__


17 
	#__≠õmul_hódî__


	)

19 #ifde‡
__˝lu•lus


24 
	#APIEMUL_DUMP_HEAP_ADDRESS
 1

	)

27 
≠õmu…e°î_íåy
();

29 
≠õmul_maö
();

30 
≠õmul_sockë
();

33 #ifde‡
__˝lu•lus


	@deps/libtuv/test/raw/apiemul_main.c

16 
	~<uv.h
>

18 
	~"≠õmul.h
"

21 
	$≠õmul_maö
() {

22 
	`≠õmul_sockë
();

23 
	}
}

	@deps/libtuv/test/raw/apiemul_socket.c

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

18 
	~<°rög.h
>

20 
	~<uv.h
>

22 
	~"≠õmul.h
"

25 #i‡
deföed
(
__TUV_HOST_IPEXIST__
)

26 
	~"tuv_ho°_ùaddªss.h
"

28 #¥agm®
mesßge
("Please createÅuv_host_ipaddress.h forÅcp_openÅest.")

45 
	#HOST_ECHO_PORT
 9123

	)

47 
	#SOCKET_TEST_PORT
 7777

	)

48 
	#SOCKET_TEST_CLIENT_MAX
 16

	)

49 
	#SOCKET_TEST_READBUFFER
 1024

	)

54 
uv_thªad_t
 
	g_thªad
;

55 
uv_thªad_t
 
	g_thªad_˛i
;

57 
sockaddr_ö
 
	g_addr_ö
;

58 
	g_sock_£rvî
;

59 
	g_sock_˛õ¡
;

61 
	gsock_˛õ¡s
[
SOCKET_TEST_CLIENT_MAX
];

62 
	gsock_˛õ¡_˙t
;

64 
	gªad_buf„r
[
SOCKET_TEST_READBUFFER
];

65 
	gªad_˛õ¡
[
SOCKET_TEST_READBUFFER
];

70 
	$ã°_öô_˛õ¡s
() {

71 
i
;

72 
sock_˛õ¡_˙t
 = 0;

73 
i
=0;i<
SOCKET_TEST_CLIENT_MAX
; i++) {

74 
sock_˛õ¡s
[
i
] = -1;

76 
	}
}

78 
	$ã°_˛õ¡_cou¡
() {

79  
sock_˛õ¡_˙t
;

80 
	}
}

82 
	$ã°_˛õ¡_add
(
fd
) {

83 
i
;

84 
i
=0;i<
SOCKET_TEST_CLIENT_MAX
; i++) {

85 i‡(
sock_˛õ¡s
[
i
] < 0) {

86 
sock_˛õ¡s
[
i
] = 
fd
;

87 
sock_˛õ¡_˙t
++;

88  
fd
;

92 
	}
}

94 
	$ã°_˛õ¡_sub
(
fd
) {

95 
i
;

96 
i
=0;i<
SOCKET_TEST_CLIENT_MAX
; i++) {

97 i‡(
sock_˛õ¡s
[
i
] =
fd
) {

98 
sock_˛õ¡s
[
i
] = -1;

99 
sock_˛õ¡_˙t
--;

100  
fd
;

104 
	}
}

106 
	$ã°_˛õ¡_fûlfds
(
pﬁlfd
* 
fds
) {

107 
i
, 
j
;

108 
i
=0, 
j
=0;i<
SOCKET_TEST_CLIENT_MAX
; i++) {

109 i‡(
sock_˛õ¡s
[
i
] > 0) {

110 
fds
[
j
].
fd
 = 
sock_˛õ¡s
[
i
];

111 
fds
[
j
].
evíts
 = 
POLLIN
 | 
POLLHUP
;

112 
j
++;

115  
j
;

116 
	}
}

120 
	$öë_±⁄4
(c⁄° *
§c
, *
d°
) {

121 c⁄° 
digôs
[] = "0123456789";

122 
ßw_digô
, 
o˘ës
, 
ch
;

123 
tmp
[(
ö_addr
)], *
ç
;

125 
ßw_digô
 = 0;

126 
o˘ës
 = 0;

127 *(
ç
 = 
tmp
) = 0;

128 (
ch
 = *
§c
++) != '\0') {

129 c⁄° *
pch
;

131 i‡((
pch
 = 
	`°rchr
(
digôs
, 
ch
)Ë!
NULL
) {

132 
nw
 = *
ç
 * 10 + (
pch
 - 
digôs
);

134 i‡(
ßw_digô
 && *
ç
 == 0)

135  
UV_EINVAL
;

136 i‡(
nw
 > 255)

137  
UV_EINVAL
;

138 *
ç
 = 
nw
;

139 i‡(!
ßw_digô
) {

140 i‡(++
o˘ës
 > 4)

141  
UV_EINVAL
;

142 
ßw_digô
 = 1;

144 } i‡(
ch
 ='.' && 
ßw_digô
) {

145 i‡(
o˘ës
 == 4)

146  
UV_EINVAL
;

147 *++
ç
 = 0;

148 
ßw_digô
 = 0;

150  
UV_EINVAL
;

152 i‡(
o˘ës
 < 4)

153  
UV_EINVAL
;

154 
	`mem˝y
(
d°
, 
tmp
, (
ö_addr
));

156 
	}
}

158 
	$ù4_addr
(c⁄° * 
ù
, 
p‹t
, 
sockaddr_ö
* 
addr
) {

159 
	`mem£t
(
addr
, 0, (*addr));

160 
addr
->
sö_Ámûy
 = 
AF_INET
;

161 
addr
->
sö_p‹t
 = 
p‹t
;

162  
	`öë_±⁄4
(
ù
, (*)&(
addr
->
sö_addr
.
s_addr
));

163 
	}
}

165 
	$dump_sockë_öfo
(
sockfd
) {

166 
sockaddr_ö
 
addπhis
;

167 
sockÀn_t
 
Àn
 = (
addπhis
);

169 
uöt8_t
 
addr8
[4];

170 
uöt32_t
 
addr32
;

171 } 
c4
;

173 
ªt
 = 
	`tuvp_gësock«me
(
sockfd
, (
sockaddr
*)&
addπhis
, &
Àn
);

174 
c4
.
addr32
 = 
addπhis
.
sö_addr
.
s_addr
;

175 i‡(
ªt
 == 0) {

176 
	`¥ötf
("%d.%d.%d.%d:%d",

177 
c4
.
addr8
[0], c4.addr8[1], c4.addr8[2], c4.addr8[3],

178 
addπhis
.
sö_p‹t
);

181 
	`¥ötf
("(invalid socket)");

183 
	}
}

185 
	$ã°_√w_c⁄√˘i⁄
(
sock£rvî
) {

186 
sockaddr
 
addr_˛õ¡
;

187 
˛isockfd
;

188 
sockÀn_t
 
sockÀn
;

190 
	`mem£t
(&
addr_˛õ¡
, 0, (addr_client));

191 
sockÀn
 = (
sockÀn_t
)(
addr_˛õ¡
);

192 
˛isockfd
 = 
	`tuvp_ac˚±
(
sock£rvî
, &
addr_˛õ¡
, &
sockÀn
);

193 
	`as£π
(
addr_˛õ¡
.
ß_Ámûy
 =
AF_INET
);

195 
	`¥ötf
("..Çew connectionÅo ");

196 
	`dump_sockë_öfo
(
˛isockfd
);

198 
sockaddr_ö
* 
addrö
 = (sockaddr_ö*)&
addr_˛õ¡
;

200 
uöt8_t
 
addr8
[4];

201 
uöt32_t
 
addr32
;

202 } 
c4
;

203 
c4
.
addr32
 = 
addrö
->
sö_addr
.
s_addr
;

204 
	`¥ötf
(" fd(%d) from %d.%d.%d.%d:%d\r\n",

205 
˛isockfd
,

206 
c4
.
addr8
[0], c4.addr8[1], c4.addr8[2], c4.addr8[3],

207 
addrö
->
sö_p‹t
);

209 
	`ã°_˛õ¡_add
(
˛isockfd
);

211 c⁄° * 
msg
;

212 
msg
 = "WelcomeÅoÜibtuvápiÅestÉcho server!\r\nSend 'Q'ÅoÉnd.\r\n";

213 
	`tuvp_wrôe
(
˛isockfd
, 
msg
, 
	`°æí
(msg));

214 
	}
}

216 
	$ã°_h™dÀ_ªad
(
sockfd
) {

217 
ssize_t
 
ªsu…
;

218 
ªsu…
 = 
	`tuvp_ªad
(
sockfd
, 
ªad_buf„r
, 
SOCKET_TEST_READBUFFER
);

219 i‡(
ªsu…
 > 0) {

220 
ªad_buf„r
[
ªsu…
] = 0;

221 i‡(
ªad_buf„r
[0] == 'Q') {

222 
	`tuvp_˛o£
(
sockfd
);

223 
	`ã°_˛õ¡_sub
(
sockfd
);

224 
	`¥ötf
(".. RECV with 'Q', socket closed\r\n");

227 
	`tuvp_wrôe
(
sockfd
, 
ªad_buf„r
, 
	`°æí
((const *)read_buffer));

229 
	}
}

231 
	$do_t˝_£rvî_°¨t
() {

232 
ªsu…
;

233 
	`tuvp_t˝_öô
();

235 
	`ù4_addr
("0.0.0.0", 
	`tuvp_ht⁄s
(
SOCKET_TEST_PORT
), &
_addr_ö
);

236 
_sock_£rvî
 = 
	`tuvp_sockë
(
AF_INET
, 
SOCK_STREAM
, 0);

238 
ªsu…
 = 
	`tuvp_böd
(
_sock_£rvî
,

239 (c⁄° 
sockaddr
*)&
_addr_ö
,

240 (
_addr_ö
));

241 i‡(
ªsu…
 != 0) {

242 
	`¥ötf
("!!Åuvp_böd faûed (%d)\r\n", 
ªsu…
);

245 
ªsu…
 = 
	`tuvp_li°í
(
_sock_£rvî
, 
SOMAXCONN
);

246 i‡(
ªsu…
 != 0) {

247 
	`¥ötf
("!!Åuvp_li°í faûed (%d)\r\n", 
ªsu…
);

251 
	`¥ötf
("..Écho server startedát ");

252 
	`dump_sockë_öfo
(
_sock_£rvî
);

253 
	`¥ötf
("\r\n");

255 
	`¥ötf
(".. use 'telnet'ÅoÅest, manually\r\n");

256 
	}
}

258 
	$do_pﬁl_ã°
() {

259 
pﬁlfd
* 
fds
;

260 
fds_˙t
;

263 
fds_˙t
 = 1 + 
	`ã°_˛õ¡_cou¡
();

264 
fds
 = (
pﬁlfd
*)
	`mÆloc
((pﬁlfdË* 
fds_˙t
);

265 
	`mem£t
(
fds
, 0, (
pﬁlfd
Ë* 
fds_˙t
);

268 
fds
[0].
fd
 = 
_sock_£rvî
;

269 
fds
[0].
evíts
 = 
POLLIN
;

271 
	`ã°_˛õ¡_fûlfds
(&
fds
[1]);

274 i‡(
	`tuvp_√t_pﬁl
(
fds
, 
fds_˙t
) > 0) {

275 i‡(
fds
[0].
ªvíts
 & 
POLLIN
) {

277 
	`ã°_√w_c⁄√˘i⁄
(
_sock_£rvî
);

280 
i
;

281 
i
=1; i<
fds_˙t
; i++) {

282 i‡(
fds
[
i
].
ªvíts
 & 
POLLHUP
) {

284 
	`tuvp_˛o£
(
fds
[
i
].
fd
);

285 
	`ã°_˛õ¡_sub
(
fds
[
i
].
fd
);

287 i‡(
fds
[
i
].
ªvíts
 & 
POLLIN
) {

289 
	`ã°_h™dÀ_ªad
(
fds
[
i
].
fd
);

294 
	`‰ì
(
fds
);

295 
	}
}

297 #i‡
deföed
(
__TUV_HOST_IPEXIST__
)

298 
	$˛ôe°_íåy
(* 
¨g
) {

299 
	}
}

301 
	$˛ôe°_lo›
(* 
¨g
) {

302 
r£nd
;

303 
£nd_cou¡
 = 0;

304 
ok_to_£nd
 = 1;

305 
pﬁlfd
 
fds
;

307 
fds
.
fd
 = 
_sock_˛õ¡
;

308 
fds
.
evíts
 = 
POLLIN
 | 
POLLOUT
;

309 i‡(
	`tuvp_√t_pﬁl
(&
fds
, 1) > 0) {

310 i‡(
fds
.
ªvíts
 & 
POLLOUT
) {

311 
r£nd
 = 
	`ønd
() % 100;

312 i‡(
r£nd
 =0 && 
ok_to_£nd
) {

313 c⁄° * 
msg
 = "HelloápiÉmulÅester!";

314 
	`tuvp_wrôe
(
_sock_˛õ¡
, 
msg
, 
	`°æí
(msg));

315 
ok_to_£nd
 = 0;

318 i‡(
fds
.
ªvíts
 & 
POLLIN
) {

319 
	`tuvp_ªad
(
_sock_˛õ¡
, 
ªad_˛õ¡
, 
SOCKET_TEST_READBUFFER
);

320 
	`¥ötf
("::Ñód [%s]\r\n", 
ªad_˛õ¡
);

321 
£nd_cou¡
++;

322 
ok_to_£nd
 = 1;

325 i‡(
£nd_cou¡
 > 10) {

326 
	`tuvp_˛o£
(
_sock_˛õ¡
);

327 
_sock_˛õ¡
 = -1;

328 
ok_to_£nd
 = 0;

329 
	`¥ötf
(":: connect/send ok. close client\r\n");

333 
	}
}

335 
	$do_t˝_˛õ¡_c⁄√˘
() {

336 
_sock_˛õ¡
 = 
	`tuvp_sockë
(
AF_INET
, 
SOCK_STREAM
, 0);

337 i‡(
_sock_˛õ¡
 == -1) {

338 
	`¥ötf
("!!Åuvp_sockë faûed,Éº(%d)\r\n", 
	`gë_î∫o
());

342 
sockaddr_ö
 
£rvî_addr
;

343 
	`uv_ù4_addr
(
HOST_IP_ADDRESS
, 
HOST_ECHO_PORT
, &
£rvî_addr
);

345 
	`tuvp_c⁄√˘
(
_sock_˛õ¡
, (c⁄° 
sockaddr
*)&
£rvî_addr
,

346 (
£rvî_addr
));

348 
	`tuv_èsk_¸óã
(&
_thªad_˛i
, 
˛ôe°_íåy
, 
˛ôe°_lo›
, 
NULL
);

349 
	}
}

352 
	$èsk_íåy
(* 
¨g
) {

353 
	`ã°_öô_˛õ¡s
();

354 
	`do_t˝_£rvî_°¨t
();

355 
	}
}

357 
	$èsk_lo›
(* 
¨g
) {

358 #i‡
	`deföed
(
__TUV_HOST_IPEXIST__
)

359 i‡(
_sock_˛õ¡
 == -2) {

360 
	`do_t˝_˛õ¡_c⁄√˘
();

363 
	`do_pﬁl_ã°
();

365 
	}
}

373 
	$≠õmul_sockë
() {

374 
_sock_˛õ¡
 = -2;

375 
_sock_£rvî
 = -1;

376 
	`tuv_èsk_¸óã
(&
_thªad
, 
èsk_íåy
, 
èsk_lo›
, 
NULL
);

377 
	}
}

	@deps/libtuv/test/raw/echo_server_raw.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

39 
	~<°rög.h
>

41 
	~<uv.h
>

42 
	~"ru¬î.h
"

44 
uv_lo›_t
 
	glo›
;

46 
	g£rvî_˛o£d
;

47 
°ªam_ty≥
 
	g£rvîTy≥
;

48 
uv_t˝_t
 
	gt˝Sîvî
;

49 
uv_h™dÀ_t
* 
	g£rvîH™dÀ
;

54 
	$⁄_˛o£
(
uv_h™dÀ_t
* 
≥î
) {

55 
	`‰ì
(
≥î
);

56 
	}
}

58 
	$⁄_£rvî_˛o£
(
uv_h™dÀ_t
* 
h™dÀ
) {

59 
	`TUV_ASSERT
(
h™dÀ
 =
£rvîH™dÀ
);

60 
	}
}

65 
	$a·î_wrôe
(
uv_wrôe_t
* 
ªq
, 
°©us
) {

66 
wrôe_ªq_t
* 
wr
;

69 
wr
 = (
wrôe_ªq_t
*Ë
ªq
;

70 
	`‰ì
(
wr
->
buf
.
ba£
);

71 
	`‰ì
(
wr
);

73 i‡(
°©us
 == 0)

76 
	`TDLOG
("uv_wrôêîr‹: %†- %s", 
	`uv_îr_«me
(
°©us
), 
	`uv_°ªº‹
(status));

77 
	}
}

80 
	$a·î_shutdown
(
uv_shutdown_t
* 
ªq
, 
°©us
) {

81 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë
ªq
->
h™dÀ
, 
⁄_˛o£
);

82 
	`‰ì
(
ªq
);

83 
	}
}

86 
	$a·î_ªad
(
uv_°ªam_t
* 
h™dÀ
,

87 
ssize_t
 
ƒód
,

88 c⁄° 
uv_buf_t
* 
buf
) {

89 
i
;

90 
wrôe_ªq_t
 *
wr
;

91 
uv_shutdown_t
* 
§eq
;

93 i‡(
ƒód
 < 0) {

95 
	`TUV_ASSERT
(
ƒód
 =
UV_EOF
);

97 
	`‰ì
(
buf
->
ba£
);

98 
§eq
 = (
uv_shutdown_t
*)
	`mÆloc
((uv_shutdown_t));

99 
	`mem£t
(
§eq
, 0, (
uv_shutdown_t
));

100 
	`TUV_ASSERT
(0 =
	`uv_shutdown
(
§eq
, 
h™dÀ
, 
a·î_shutdown
));

104 i‡(
ƒód
 == 0) {

106 
	`‰ì
(
buf
->
ba£
);

114 i‡(!
£rvî_˛o£d
) {

115 
i
 = 0; i < 
ƒód
; i++) {

116 i‡(
buf
->
ba£
[
i
] == 'Q') {

117 i‡(
i
 + 1 < 
ƒód
 && 
buf
->
ba£
[i + 1] == 'S') {

118 
	`‰ì
(
buf
->
ba£
);

119 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄_˛o£
);

122 
	`‰ì
(
buf
->
ba£
);

123 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄_˛o£
);

124 
	`uv_˛o£
(
£rvîH™dÀ
, 
⁄_£rvî_˛o£
);

125 
£rvî_˛o£d
 = 1;

133 
wr
 = (
wrôe_ªq_t
*)
	`mÆloc
((write_req_t));

134 
	`TUV_ASSERT
(
wr
 !
NULL
);

135 
wr
->
buf
 = 
	`uv_buf_öô
(buf->
ba£
, 
ƒód
);

137 i‡(
	`uv_wrôe
(&
wr
->
ªq
, 
h™dÀ
, &wr->
buf
, 1, 
a·î_wrôe
)) {

138 
	`TUV_FATAL
("uv_write failed");

140 
	}
}

143 
	$echo_Æloc
(
uv_h™dÀ_t
* 
h™dÀ
,

144 
size_t
 
sugge°ed_size
,

145 
uv_buf_t
* 
buf
) {

146 
buf
->
ba£
 = (*)
	`mÆloc
(
sugge°ed_size
);

147 
buf
->
Àn
 = 
sugge°ed_size
;

148 
	}
}

151 
	$⁄_c⁄√˘i⁄
(
uv_°ªam_t
* 
£rvî
, 
°©us
) {

152 
uv_°ªam_t
* 
°ªam
;

153 
r
;

155 i‡(
°©us
 != 0) {

156 
	`TDLOG
("echo server on_connection, ConnectÉrror %d, %s",

157 
°©us
, 
	`uv_îr_«me
(status));

160 
	`TUV_ASSERT
(
°©us
 == 0);

161 
	`TDDDLOG
("echÿ£rvîÅe° on_c⁄√˘i⁄ sîvî(%p)", 
£rvî
);

163 
£rvîTy≥
) {

164 
TEST_TCP
:

165 
°ªam
 = (
uv_°ªam_t
*)
	`mÆloc
((
uv_t˝_t
));

166 
	`TUV_ASSERT
(
°ªam
 !
NULL
);

167 
r
 = 
	`uv_t˝_öô
(&
lo›
, (
uv_t˝_t
*)
°ªam
);

168 
	`TUV_ASSERT
(
r
 == 0);

181 
	`TUV_ASSERT
(0 && "Bad serverType");

182 
	`ABORT
();

186 
°ªam
->
d©a
 = 
£rvî
;

188 
r
 = 
	`uv_ac˚±
(
£rvî
, 
°ªam
);

189 
	`TUV_ASSERT
(
r
 == 0);

191 
r
 = 
	`uv_ªad_°¨t
(
°ªam
, 
echo_Æloc
, 
a·î_ªad
);

192 
	`TUV_ASSERT
(
r
 == 0);

193 
	}
}

198 
	$t˝4_echo_°¨t
(
p‹t
) {

199 
sockaddr_ö
 
addr
;

200 
r
;

202 
	`TUV_ASSERT
(0 =
	`uv_ù4_addr
("0.0.0.0", 
p‹t
, &
addr
));

204 
£rvîH™dÀ
 = (
uv_h™dÀ_t
*)&
t˝Sîvî
;

205 
£rvîTy≥
 = 
TEST_TCP
;

207 
r
 = 
	`uv_t˝_öô
(&
lo›
, &
t˝Sîvî
);

208 i‡(
r
) {

210 
	`TDLOG
("svr Socket creationÉrror");

214 
r
 = 
	`uv_t˝_böd
(&
t˝Sîvî
, (c⁄° 
sockaddr
*Ë&
addr
, 0);

215 i‡(
r
) {

217 
	`TDLOG
("svr BindÉrror");

221 
r
 = 
	`uv_li°í
((
uv_°ªam_t
*)&
t˝Sîvî
, 
SOMAXCONN
, 
⁄_c⁄√˘i⁄
);

222 i‡(
r
) {

224 
	`TDLOG
("sv∏Li°íÉº‹ %s", 
	`uv_îr_«me
(
r
));

229 
	}
}

234 
	$echo_£rvî_lo›
(* 
v∑øm
) {

235 
	`uv_run
(&
lo›
, 
UV_RUN_ONCE
);

236 #¥agm®
mesßge
 "Make it stopÑunning when signaled"

238 
	}
}

240 
	$echo_£rvî_föÆ
(* 
v∑øm
) {

241 
	`as£π
(
£rvî_˛o£d
 != 0);

243 
	`TUV_ASSERT
(
	`uv_lo›_˛o£
(&
lo›
) == 0);

244 
	}
}

246 
	$HELPER_IMPL
(
t˝4_echo_£rvî
) {

247 
r
;

249 
£rvî_˛o£d
 = 0;

250 
£rvîH™dÀ
 = 
NULL
;

252 
r
 = 
	`uv_lo›_öô
(&
lo›
);

253 
	`TUV_ASSERT
(
r
 == 0);

255 i‡(
	`t˝4_echo_°¨t
(
TEST_PORT
))

258 
	`tuv_run
(&
lo›
, 
echo_£rvî_lo›
, 
echo_£rvî_föÆ
, 
NULL
);

260 
	`run_ã°s_c⁄töue
();

263 
	}
}

	@deps/libtuv/test/raw/raw_main.c

16 
	~<uv.h
>

18 
	~"øw_maö.h
"

19 
	~"≠õmul.h
"

22 
	$ˇŒ_tuv_ã°î
() {

23 #i‡
	`deföed
(
__TUV_APIEMUL__
)

24 
	`≠õmu…e°î_íåy
();

26 
	`tuvã°î_íåy
();

28 
	}
}

	@deps/libtuv/test/raw/raw_main.h

16 #i‚de‡
__øw_maö_hódî__


17 
	#__øw_maö_hódî__


	)

20 #ifde‡
__˝lu•lus


25 
tuvã°î_íåy
();

28 
ˇŒ_tuv_ã°î
();

33 #ifde‡
__˝lu•lus


	@deps/libtuv/test/raw/runner_main_raw.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<uv.h
>

41 
	~"ru¬î.h
"

47 
	#TEST_ENTRY
(
«me
, 
timeout
) \

48 { #«me, #«me, &
run_ã°_
##
«me
, 0, 0, 
timeout
 },

	)

50 
èsk_íåy_t
 
	gTASKS
[] = {

52 
TEST_LIST_ALL
(
TEST_ENTRY
)

53 
TEST_LIST_EXT
(
TEST_ENTRY
)

55 { 
NULL
, NULL, NULL, 0, 0, 0 }

58 #unde‡
TEST_ENTRY


63 
	#HELPER_ENTRY
(
èsk_«me
, 
«me
) \

64 { #èsk_«me, #«me, &
run_hñ≥r_
##
«me
, 1, 0, 0 },

	)

66 
èsk_íåy_t
 
	gHELPERS
[] = {

68 
HELPER_LIST_ALL
(
HELPER_ENTRY
)

70 { 
NULL
, NULL, NULL, 0, 0, 0 }

73 #unde‡
HELPER_ENTRY


77 
	$run_ã°_∑π
(c⁄° * 
ã°
, c⁄° * 
∑π
) {

78 
r
;

79 
èsk_íåy_t
* 
èsk
;

81 
èsk
 = 
TASKS
;Åask->
maö
;Åask++) {

82 i‡(
	`°rcmp
(
ã°
, 
èsk
->
èsk_«me
) == 0 &&

83 
	`°rcmp
(
∑π
, 
èsk
->
¥o˚ss_«me
) == 0) {

84 
r
 = 
èsk
->
	`maö
();

85  
r
;

89 
	`Ârötf
(
°dîr
, "Nÿã°Ö¨àwôhÅh©Çame: %s:%s\n", 
ã°
, 
∑π
);

91 
	}
}

94 
èsk_íåy_t
* 
	$gë_hñ≥r
(c⁄° * 
ã°
) {

95 
r
;

96 
èsk_íåy_t
* 
èsk
;

98 
èsk
 = 
HELPERS
;Åask->
maö
;Åask++) {

99 i‡(
	`°rcmp
(
ã°
, 
èsk
->
èsk_«me
) == 0) {

100  
èsk
;

103  
NULL
;

104 
	}
}

106 
	gcur_èsk
 = 0;

107 
	gcur_íåy
 = 0;

109 
	$run_ã°s_öô
() {

110 
cur_èsk
 = 0;

111 
cur_íåy
 = 0;

112 
	}
}

115 
	$run_ã°s_⁄e
() {

116 
èsk_íåy_t
* 
èsk_group
 = 
NULL
;

117 
èsk_íåy_t
* 
èsk
 = 
NULL
;

120 
cur_èsk
) {

122 i‡(!
cur_íåy
)

123 
	`Ârötf
(
°dîr
, "Run Helpers...\r\n");

124 
èsk_group
 = 
HELPERS
;

127 i‡(!
cur_íåy
)

128 
	`Ârötf
(
°dîr
, "Stopping Helpers...\r\n");

129 
èsk_group
 = 
HELPERS
;

132 
èsk_group
 = 
TASKS
;

135 
	`run_ã°_⁄e
(
NULL
);

138 
èsk
 = &
èsk_group
[
cur_íåy
];

139 i‡(
èsk
 &&Åask->
èsk_«me
) {

140 
	`Ârötf
(
°dîr
, "[%-30s]\r\n", 
èsk
->
èsk_«me
);

142 
cur_èsk
) {

143 0 : 
	`run_hñ≥r
(
èsk
); ;

144 1 : 
	`run_ã°_⁄e
(
èsk
); ;

145 2 : 
	`waô_hñ≥r
(
èsk
); ;

147 
cur_íåy
++;

150 
cur_íåy
 = 0;

151 
cur_èsk
++;

153 
	}
}

157 
	$≠õmul_maö
() {

158 
	}
}

161 
	$run_ã°s
() {

162 
íåy
;

163 
ªsu…
;

164 
èsk_íåy_t
* 
èsk
;

166 
	`Ârötf
(
°dîr
, "Run Helpers...\r\n");

167 
íåy
 = 0;

168 
HELPERS
[
íåy
].
èsk_«me
) {

169 
èsk
 = &
HELPERS
[
íåy
];

171 
	`Ârötf
(
°dîr
, "[%-30s]...", 
èsk
->
èsk_«me
);

172 
ªsu…
 = 
	`run_hñ≥r
(
èsk
);

173 
	`Ârötf
(
°dîr
, "%s\r\n", 
ªsu…
 ? "failed" : "OK");

174 
íåy
++;

177 
íåy
 = 0;

178 
TASKS
[
íåy
].
èsk_«me
) {

179 
èsk
 = &
TASKS
[
íåy
];

181 
	`Ârötf
(
°dîr
, "[%-30s]...", 
èsk
->
èsk_«me
);

182 
ªsu…
 = 
	`run_ã°_⁄e
(
èsk
);

183 
	`Ârötf
(
°dîr
, "%s\r\n", 
ªsu…
 ? "failed" : "OK");

184 
íåy
++;

187 
	`Ârötf
(
°dîr
, "Waiting HelpersÅoÉnd...\r\n");

188 
íåy
 = 0;

189 
HELPERS
[
íåy
].
èsk_«me
) {

190 
èsk
 = &
HELPERS
[
íåy
];

192 
	`Ârötf
(
°dîr
, "[%-30s]...", 
èsk
->
èsk_«me
);

193 
ªsu…
 = 
	`waô_hñ≥r
(
èsk
);

194 
	`Ârötf
(
°dîr
, "%s\r\n", 
ªsu…
 ? "failed" : "OK");

195 
íåy
++;

198 
	`Ârötf
(
°dîr
, "run_testsÉnd\r\n");

201 
	}
}

	@deps/libtuv/test/raw/test_active_raw.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

45 
	g˛o£_cb_ˇŒed
 = 0;

48 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

49 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

50 
˛o£_cb_ˇŒed
++;

51 
	}
}

54 
	$timî_cb
(
uv_timî_t
* 
h™dÀ
) {

55 
	`TUV_ASSERT
(0 && "timer_cb shouldÇot have been called");

56 
	}
}

61 
uv_lo›_t
* 
	mlo›
;

62 
uv_timî_t
 
	mtimî
;

64 } 
	ta˘ive_∑øm_t
;

67 
	$a˘ive_lo›
(* 
v∑øm
) {

68 
a˘ive_∑øm_t
* 
∑øm
 = (a˘ive_∑øm_t*)
v∑øm
;

69 
uv_lo›_t
* 
lo›
 = 
∑øm
->loop;

70 
r
;

72 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_ONCE
);

74  
r
;

75 
	}
}

77 
	$a˘ive_föÆ
(* 
v∑øm
) {

78 
a˘ive_∑øm_t
* 
∑øm
 = (a˘ive_∑øm_t*)
v∑øm
;

79 
uv_lo›_t
* 
lo›
 = 
∑øm
->loop;

81 
	`TUV_ASSERT
(
˛o£_cb_ˇŒed
 == 1);

82 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

84 
	`‰ì
(
∑øm
);

87 
	`run_ã°s_c⁄töue
();

90 
	}
}

93 
	$TEST_IMPL
(
a˘ive
) {

94 
uv_lo›_t
* 
lo›
;

95 
a˘ive_∑øm_t
* 
∑øm
;

97 
∑øm
 = (
a˘ive_∑øm_t
*)
	`mÆloc
((active_param_t));

98 
lo›
 = 
	`uv_deÁu…_lo›
();

99 
∑øm
->
lo›
 =Üoop;

101 
r
;

103 
˛o£_cb_ˇŒed
 = 0;

105 
r
 = 
	`uv_timî_öô
(
lo›
, &
∑øm
->
timî
);

106 
	`TUV_ASSERT
(
r
 == 0);

109 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

110 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

112 
r
 = 
	`uv_timî_°¨t
(&
∑øm
->
timî
, 
timî_cb
, 1000, 0);

113 
	`TUV_ASSERT
(
r
 == 0);

115 
	`TUV_ASSERT
(1 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

116 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

118 
r
 = 
	`uv_timî_°›
(&
∑øm
->
timî
);

119 
	`TUV_ASSERT
(
r
 == 0);

121 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

122 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

124 
r
 = 
	`uv_timî_°¨t
(&
∑øm
->
timî
, 
timî_cb
, 1000, 0);

125 
	`TUV_ASSERT
(
r
 == 0);

127 
	`TUV_ASSERT
(1 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

128 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

130 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
, 
˛o£_cb
);

132 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

133 
	`TUV_ASSERT
(1 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
∑øm
->
timî
));

135 
	`tuv_run
(
lo›
, 
a˘ive_lo›
, 
a˘ive_föÆ
, 
∑øm
);

138 
	}
}

	@deps/libtuv/test/raw/test_async_raw.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

44 
uv_thªad_t
 
	g_thªad
;

45 
uv_muãx_t
 
	g_muãx
;

47 
uv_timî_t
 
	g_timî
;

48 
uv_async_t
 
	g_async
;

50 
	g_async_cb_ˇŒed
;

51 
	g_timî_cb_ˇŒed
;

52 
	g_˛o£_cb_ˇŒed
;

55 
	$èsk_íåy
(* 
¨g
) {

56 
	}
}

58 
	$èsk_lo›
(* 
¨g
) {

59 
n
;

60 
r
;

62 
	`uv_muãx_lock
(&
_muãx
);

63 
n
 = 
_async_cb_ˇŒed
;

64 
	`uv_muãx_u∆ock
(&
_muãx
);

66 i‡(
n
 == 3) {

71 
r
 = 
	`uv_async_£nd
(&
_async
);

72 
	`TUV_ASSERT
(
r
 == 0);

76 
	}
}

79 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

80 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

81 
_˛o£_cb_ˇŒed
++;

82 
	}
}

85 
	$async_cb
(
uv_async_t
* 
h™dÀ
) {

86 
n
;

88 
	`TUV_ASSERT
(
h™dÀ
 =&
_async
);

90 
	`uv_muãx_lock
(&
_muãx
);

91 
n
 = ++
_async_cb_ˇŒed
;

92 
	`uv_muãx_u∆ock
(&
_muãx
);

94 i‡(
n
 == 3) {

95 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
_async
, 
˛o£_cb
);

97 
	}
}

100 
	$timî_cb
(
uv_timî_t
* 
timî
) {

101 
r
;

103 
	`TUV_ASSERT
(
timî
 =&
_timî
);

104 
_timî_cb_ˇŒed
++;

106 
r
 = 
	`tuv_èsk_¸óã
(&
_thªad
, 
èsk_íåy
, 
èsk_lo›
, 
NULL
);

107 
	`TUV_ASSERT
(
r
 == 0);

108 
	`uv_muãx_u∆ock
(&
_muãx
);

110 
	`uv_˛o£
((
uv_h™dÀ_t
*)
timî
, 
NULL
);

111 
	}
}

117 
uv_lo›_t
* 
	mlo›
;

118 } 
	tasync_∑øm_t
;

121 
	$async_lo›
(* 
v∑øm
) {

122 
async_∑øm_t
* 
∑øm
 = (async_∑øm_t*)
v∑øm
;

123 
r
;

124 
r
 = 
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

125 i‡(
r
 == 0) {

126 i‡(
	`tuv_èsk_ru¬ög
(&
_thªad
))

129  
r
;

130 
	}
}

133 
	$async_föÆ
(* 
v∑øm
) {

134 
async_∑øm_t
* 
∑øm
 = (async_∑øm_t*)
v∑øm
;

136 
	`TUV_ASSERT
(
_async_cb_ˇŒed
 == 3);

137 
	`TUV_ASSERT
(
_˛o£_cb_ˇŒed
 == 1);

138 
	`TUV_ASSERT
(
_timî_cb_ˇŒed
 == 1);

142 
	`uv_muãx_de°roy
(&
_muãx
);

143 
	`tuv_èsk_˛o£
(&
_thªad
);

144 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

147 
	`‰ì
(
∑øm
);

150 
	`run_ã°s_c⁄töue
();

153 
	}
}

156 
	$TEST_IMPL
(
async
) {

157 
async_∑øm_t
* 
∑øm
 = (async_∑øm_t*)
	`mÆloc
((async_param_t));

158 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

160 
r
;

162 
_async_cb_ˇŒed
 = 0;

163 
_timî_cb_ˇŒed
 = 0;

164 
_˛o£_cb_ˇŒed
 = 0;

166 
r
 = 
	`uv_muãx_öô
(&
_muãx
);

167 
	`TUV_ASSERT
(
r
 == 0);

168 
	`uv_muãx_lock
(&
_muãx
);

170 
r
 = 
	`uv_async_öô
(
∑øm
->
lo›
, &
_async
, 
async_cb
);

171 
	`TUV_ASSERT
(
r
 == 0);

173 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &
_timî
);

174 
	`TUV_ASSERT
(
r
 == 0);

175 
r
 = 
	`uv_timî_°¨t
(&
_timî
, 
timî_cb
, 250, 0);

176 
	`TUV_ASSERT
(
r
 == 0);

178 
	`tuv_run
(
∑øm
->
lo›
, 
async_lo›
, 
async_föÆ
,Öaram);

181 
	}
}

	@deps/libtuv/test/raw/test_condvar_raw.c

37 
	~<°rög.h
>

38 
	~<î∫o.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

45 
uv_muãx_t
 
	mmuãx
;

46 
uv_c⁄d_t
 
	mc⁄d
;

47 
	mdñay
;

48 
	mu£_brﬂdˇ°
;

49 vﬁ©ûê
	mpo°ed
;

50 * 
	md©a
;

51 } 
	tw‹kî_c⁄fig
;

54 
	$w‹kî_íåy
(* 
¨g
) {

55 
w‹kî_c⁄fig
* 
c
 = (w‹kî_c⁄fig*)
¨g
;

57 i‡(
c
->
dñay
)

58 
	`run_¶ìp
(
c
->
dñay
);

60 
	`uv_muãx_lock
(&
c
->
muãx
);

61 
	`TUV_ASSERT
(
c
->
po°ed
 == 0);

62 
c
->
po°ed
 = 1;

63 i‡(
c
->
u£_brﬂdˇ°
)

64 
	`uv_c⁄d_brﬂdˇ°
(&
c
->
c⁄d
);

66 
	`uv_c⁄d_sig«l
(&
c
->
c⁄d
);

67 
	`uv_muãx_u∆ock
(&
c
->
muãx
);

68 
	}
}

70 
	$w‹kî_lo›
(* 
¨g
) {

73 
	}
}

77 
uv_lo›_t
* 
	mlo›
;

78 
uv_thªad_t
 
	mthªad
;

79 
w‹kî_c⁄fig
 
	mwc
;

80 
	mwaôc⁄d
;

81 } 
	tc⁄dv¨_1_∑øm_t
;

84 
	$c⁄dv¨_1_lo›
(* 
v∑øm
) {

85 
c⁄dv¨_1_∑øm_t
* 
∑øm
 = (c⁄dv¨_1_∑øm_t*)
v∑øm
;

86 
r
;

88 i‡(
∑øm
->
waôc⁄d
) {

89 
	`uv_muãx_lock
(&
∑øm
->
wc
.
muãx
);

90 
	`run_¶ìp
(100);

91 
r
 = 
	`tuv_c⁄d_waô
(&
∑øm
->
wc
.
c⁄d
, &∑øm->wc.
muãx
);

92 
	`uv_muãx_u∆ock
(&
∑øm
->
wc
.
muãx
);

93 i‡(
r
 == 0) {

97 
∑øm
->
waôc⁄d
 = 0;

100 
r
 = 
	`tuv_èsk_ru¬ög
(&
∑øm
->
thªad
);

103  
r
 > 0 ? 1 : 0;

104 
	}
}

106 
	$c⁄dv¨_1_föÆ
(* 
v∑øm
) {

107 
c⁄dv¨_1_∑øm_t
* 
∑øm
 = (c⁄dv¨_1_∑øm_t*)
v∑øm
;

109 
	`TUV_ASSERT
(
∑øm
->
wc
.
po°ed
 == 1);

111 
	`tuv_èsk_˛o£
(&
∑øm
->
thªad
);

112 
	`uv_muãx_de°roy
(&
∑øm
->
wc
.
muãx
);

113 
	`uv_c⁄d_de°roy
(&
∑øm
->
wc
.
c⁄d
);

116 
	`‰ì
(
∑øm
);

119 
	`run_ã°s_c⁄töue
();

122 
	}
}

125 
	$TEST_IMPL
(
c⁄dv¨_1
) {

126 
c⁄dv¨_1_∑øm_t
* 
∑øm
;

127 
∑øm
 = (
c⁄dv¨_1_∑øm_t
*)
	`mÆloc
((condvar_1_param_t));

128 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

130 
	`mem£t
(&
∑øm
->
wc
, 0, (param->wc));

131 
∑øm
->
wc
.
d©a
 =Öaram;

132 
∑øm
->
waôc⁄d
 = 1;

134 
	`TUV_ASSERT
(0 =
	`uv_c⁄d_öô
(&
∑øm
->
wc
.
c⁄d
));

135 
	`TUV_ASSERT
(0 =
	`uv_muãx_öô
(&
∑øm
->
wc
.
muãx
));

136 
	`TUV_ASSERT
(0 =
	`tuv_èsk_¸óã
(&
∑øm
->
thªad
,

137 
w‹kî_íåy
, 
w‹kî_lo›
,

138 &
∑øm
->
wc
));

140 
	`tuv_run
(
∑øm
->
lo›
, 
c⁄dv¨_1_lo›
, 
c⁄dv¨_1_föÆ
,Öaram);

143 
	}
}

	@deps/libtuv/test/raw/test_idle_raw.c

16 
	~<as£π.h
>

17 
	~<°dlib.h
>

18 
	~<°dio.h
>

19 
	~<uni°d.h
>

21 
	~<uv.h
>

22 
	~"ru¬î.h
"

25 
uv_idÀ_t
 
	gidÀ_h™dÀ
;

26 
	gidÀ_cb_ˇŒed
 = 0;

28 
	$idÀ_ˇŒback
(
uv_idÀ_t
* 
h™dÀ
) {

29 
idÀ_cb_ˇŒed
++;

30 
	}
}

34 
uv_lo›_t
* 
	mlo›
;

35 } 
	tidÀ_∑øm_t
;

38 
	$idÀ_ba£_lo›
(* 
v∑øm
) {

39 
idÀ_∑øm_t
* 
∑øm
 = (idÀ_∑øm_t*)
v∑øm
;

40 
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

42 
	}
}

44 
	$idÀ_ba£_föÆ
(* 
v∑øm
) {

45 
idÀ_∑øm_t
* 
∑øm
 = (idÀ_∑øm_t*)
v∑øm
;

47 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
idÀ_h™dÀ
, 
NULL
);

48 
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

50 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

51 
	`TUV_WARN
(
idÀ_cb_ˇŒed
 == 1);

53 
	`‰ì
(
∑øm
);

56 
	`run_ã°s_c⁄töue
();

59 
	}
}

61 
	$TEST_IMPL
(
idÀ_basic
) {

62 
idÀ_∑øm_t
* 
∑øm
 = (idÀ_∑øm_t*)
	`mÆloc
((idle_param_t));

63 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

65 
idÀ_cb_ˇŒed
 = 0;

67 
	`uv_idÀ_öô
(
∑øm
->
lo›
, &
idÀ_h™dÀ
);

68 
	`uv_idÀ_°¨t
(&
idÀ_h™dÀ
, 
idÀ_ˇŒback
);

70 
	`tuv_run
(
∑øm
->
lo›
, 
idÀ_ba£_lo›
, 
idÀ_ba£_föÆ
,Öaram);

73 
	}
}

	@deps/libtuv/test/raw/test_shutdown_eof_raw.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

41 
	~"ru¬î.h
"

44 #i‡
deföed
(
__TUV_HOST_IPEXIST__
)

45 
	~"tuv_ho°_ùaddªss.h
"

47 #¥agm®
mesßge
("Please createÅuv_host_ipaddress.h for shutdown_eofÅest.")

64 #i‡
deföed
(
__TUV_HOST_IPEXIST__
)

65 
uv_t˝_t
 
	gt˝
;

66 
uv_c⁄√˘_t
 
	gc⁄√˘_ªq
;

67 
uv_wrôe_t
 
	gwrôe_ªq
;

68 
uv_shutdown_t
 
	gshutdown_ªq
;

69 
	ggŸ_q
;

70 
	ggŸ_eof
;

72 
	gˇŒed_c⁄√˘_cb
;

73 
	gˇŒed_shutdown_cb
;

76 
	$Æloc_cb
(
uv_h™dÀ_t
* 
h™dÀ
, 
size_t
 
size
, 
uv_buf_t
* 
buf
) {

77 
buf
->
ba£
 = (*)
	`mÆloc
(
size
);

78 
buf
->
Àn
 = 
size
;

79 
	}
}

82 
	$ªad_cb
(
uv_°ªam_t
* 
t
, 
ssize_t
 
ƒód
, c⁄° 
uv_buf_t
* 
buf
) {

83 
	`TUV_ASSERT
((
uv_t˝_t
*)
t
 =&
t˝
);

86 i‡(
buf
->
ba£
)

87 
	`‰ì
(
buf
->
ba£
);

89 i‡(
ƒód
 == 0) {

93 i‡(
ƒód
 > 0) {

94 
	`TUV_ASSERT
(0);

102 
	`TUV_ASSERT
(
ƒód
 =
UV_EOF
);

103 
	`uv_˛o£
((
uv_h™dÀ_t
*)
t
, 
NULL
);

104 
gŸ_eof
 = 1;

106 
	}
}

109 
	$shutdown_cb
(
uv_shutdown_t
 *
ªq
, 
°©us
) {

110 
	`TUV_ASSERT
(
ªq
 =&
shutdown_ªq
);

111 
	`TUV_ASSERT
(
ˇŒed_c⁄√˘_cb
 == 1);

112 
	`TUV_ASSERT
(!
gŸ_eof
);

114 
ˇŒed_shutdown_cb
++;

115 
	}
}

118 
	$c⁄√˘_cb
(
uv_c⁄√˘_t
 *
ªq
, 
°©us
) {

119 
	`TUV_ASSERT
(
°©us
 == 0);

120 
	`TUV_ASSERT
(
ªq
 =&
c⁄√˘_ªq
);

121 
r
;

124 
r
 = 
	`uv_ªad_°¨t
((
uv_°ªam_t
*)&
t˝
, 
Æloc_cb
, 
ªad_cb
);

125 
	`TUV_ASSERT
(
r
 == 0);

131 
uv_buf_t
 
qsbuf
 = 
	`uv_buf_öô
((*)"Q", 1);

132 
r
 = 
	`uv_wrôe
(&
wrôe_ªq
, (
uv_°ªam_t
*Ë&
t˝
, &
qsbuf
, 1, 
NULL
);

133 
	`TUV_ASSERT
(
r
 == 0);

139 
ˇŒed_c⁄√˘_cb
++;

140 
	`TUV_ASSERT
(
ˇŒed_shutdown_cb
 == 0);

141 
	}
}

145 
uv_lo›_t
* 
	mlo›
;

146 } 
	tshutdown_eof_∑øm_t
;

148 
	$shutdown_eof_lo›
(* 
v∑øm
) {

149 
shutdown_eof_∑øm_t
* 
∑øm
 = (shutdown_eof_∑øm_t*)
v∑øm
;

150  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

151 
	}
}

153 
	$shutdown_eof_föÆ
(* 
v∑øm
) {

154 
shutdown_eof_∑øm_t
* 
∑øm
 = (shutdown_eof_∑øm_t*)
v∑øm
;

156 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

158 
	`TUV_ASSERT
(1 =
ˇŒed_c⁄√˘_cb
);

161 
	`‰ì
(
∑øm
);

164 
	`run_ã°s_c⁄töue
();

167 
	}
}

176 
	$TEST_IMPL
(
shutdown_eof
) {

177 #i‡
	`deföed
(
__TUV_HOST_IPEXIST__
)

178 
shutdown_eof_∑øm_t
* 
∑øm
;

179 
∑øm
 = (
shutdown_eof_∑øm_t
*)
	`mÆloc
((shutdown_eof_param_t));

180 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

182 
sockaddr_ö
 
£rvî_addr
;

183 
r
;

185 
gŸ_q
 = 0;

186 
gŸ_eof
 = 0;

187 
ˇŒed_c⁄√˘_cb
 = 0;

188 
ˇŒed_shutdown_cb
 = 0;

190 
r
 = 
	`uv_ù4_addr
(
HOST_IP_ADDRESS
, 
TEST_PORT
, &
£rvî_addr
);

191 
	`TUV_ASSERT
(
r
 == 0);

192 
r
 = 
	`uv_t˝_öô
(
∑øm
->
lo›
, &
t˝
);

193 
	`TUV_ASSERT
(
r
 == 0);

194 
r
 = 
	`uv_t˝_c⁄√˘
(&
c⁄√˘_ªq
,

195 &
t˝
,

196 (c⁄° 
sockaddr
*Ë&
£rvî_addr
,

197 
c⁄√˘_cb
);

198 
	`TUV_ASSERT
(
r
 == 0);

200 
	`tuv_run
(
∑øm
->
lo›
, 
shutdown_eof_lo›
, 
shutdown_eof_föÆ
,Öaram);

202 
	`TDDLOG
("'HOST_IP_ADDRESS'Çot defined. skipÅest.\r\n");

203 
	`run_ã°s_c⁄töue
();

206 
	}
}

	@deps/libtuv/test/raw/test_tcp_open_raw.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

39 
	~<°rög.h
>

40 
	~<uni°d.h
>

42 
	~<uv.h
>

44 
	~"ru¬î.h
"

46 #i‡
deföed
(
__TUV_HOST_IPEXIST__
)

47 
	~"tuv_ho°_ùaddªss.h
"

49 #¥agm®
mesßge
("Please createÅuv_host_ipaddress.h forÅcp_openÅest.")

65 #i‡
deföed
(
__TUV_HOST_IPEXIST__
)

67 
	gshutdown_cb_ˇŒed
 = 0;

68 
	gc⁄√˘_cb_ˇŒed
 = 0;

69 
	gwrôe_cb_ˇŒed
 = 0;

70 
	g˛o£_cb_ˇŒed
 = 0;

72 
uv_c⁄√˘_t
 
	gc⁄√˘_ªq
;

73 
uv_shutdown_t
 
	gshutdown_ªq
;

74 
uv_wrôe_t
 
	gwrôe_ªq
;

77 
	$°¨tup
() {

78 
	`uv_¶ìp
(1);

79 
	}
}

82 
uv_os_sock_t
 
	$¸óã_t˝_sockë
() {

83 
uv_os_sock_t
 
sock
;

85 
sock
 = 
	`tuvp_sockë
(
AF_INET
, 
SOCK_STREAM
, 
IPPROTO_IP
);

86 
	`TUV_ASSERT
(
sock
 >= 0);

90 
yes
 = 1;

91 
r
 = 
	`tuvp_£tsock›t
(
sock
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
yes
,  yes);

92 
	`TUV_ASSERT
(
r
 == 0);

95  
sock
;

96 
	}
}

99 
	$Æloc_cb
(
uv_h™dÀ_t
* 
h™dÀ
,

100 
size_t
 
sugge°ed_size
,

101 
uv_buf_t
* 
buf
) {

102 #ifde‡
EMBED_LOW_MEMORY


103 
¶ab
[2048];

105 
¶ab
[65536];

107 
	`TUV_ASSERT
(
sugge°ed_size
 <(
¶ab
));

108 
buf
->
ba£
 = 
¶ab
;

109 
buf
->
Àn
 = (
¶ab
);

110 
	}
}

113 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

114 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

115 
˛o£_cb_ˇŒed
++;

116 
	}
}

119 
	$shutdown_cb
(
uv_shutdown_t
* 
ªq
, 
°©us
) {

120 
	`TUV_ASSERT
(
ªq
 =&
shutdown_ªq
);

121 
	`TUV_ASSERT
(
°©us
 == 0);

124 
shutdown_cb_ˇŒed
++;

125 
	}
}

128 
	$ªad_cb
(
uv_°ªam_t
* 
t˝
, 
ssize_t
 
ƒód
, c⁄° 
uv_buf_t
* 
buf
) {

129 
	`TUV_ASSERT
(
t˝
 !
NULL
);

131 i‡(
ƒód
 > 0) {

132 
	`TUV_ASSERT
(
ƒód
 == 4);

133 
	`TUV_ASSERT
(
	`memcmp
("PING", 
buf
->
ba£
, 
ƒód
) == 0);

138 
uv_buf_t
 
buf
 = 
	`uv_buf_öô
((*)"QS", 2);

139 
r
 = 
	`uv_wrôe
(&
wrôe_ªq
, 
t˝
, &
buf
, 1, 
NULL
);

140 
	`TUV_ASSERT
(
r
 == 0);

143 i‡(
ƒód
 == 0) {

146 i‡(
ƒód
 < 0) {

147 
	`TUV_ASSERT
(
ƒód
 =
UV_EOF
);

148 
	`uv_˛o£
((
uv_h™dÀ_t
*)
t˝
, 
˛o£_cb
);

150 
	}
}

153 
	$wrôe_cb
(
uv_wrôe_t
* 
ªq
, 
°©us
) {

154 
	`TUV_ASSERT
(
ªq
 !
NULL
);

156 i‡(
°©us
) {

157 
	`TDLOG
("t˝_›í uv_wrôêîr‹: %s", 
	`uv_°ªº‹
(
°©us
));

158 
	`TUV_ASSERT
(0);

161 
wrôe_cb_ˇŒed
++;

162 
	}
}

165 
	$c⁄√˘_cb
(
uv_c⁄√˘_t
* 
ªq
, 
°©us
) {

166 
uv_buf_t
 
buf
 = 
	`uv_buf_öô
((*)"PING", 4);

167 
uv_°ªam_t
* 
°ªam
;

168 
r
;

170 i‡(
°©us
 =
UV__ECONNREFUSED
) {

171 
	`TDLOG
("tcp_open ConnectionÑefused. Run server first.");

172 
	`TUV_ASSERT
(0);

175 
	`¥ötf
(">> c⁄√˘_cb sètus(%d)", 
°©us
);

177 
	`TUV_ASSERT
(
ªq
 =&
c⁄√˘_ªq
);

178 
	`TUV_ASSERT
(
°©us
 == 0);

180 
°ªam
 = 
ªq
->
h™dÀ
;

181 
c⁄√˘_cb_ˇŒed
++;

183 
r
 = 
	`uv_wrôe
(&
wrôe_ªq
, 
°ªam
, &
buf
, 1, 
wrôe_cb
);

184 
	`TUV_ASSERT
(
r
 == 0);

191 
r
 = 
	`uv_ªad_°¨t
(
°ªam
, 
Æloc_cb
, 
ªad_cb
);

192 
	`TUV_ASSERT
(
r
 == 0);

193 
	}
}

197 
uv_lo›_t
* 
	mlo›
;

198 
uv_t˝_t
 
	m˛õ¡
;

199 
uv_os_sock_t
 
	msock
;

200 } 
	tt˝_›í_∑øm_t
;

203 
	$t˝_›í_lo›
(* 
v∑øm
) {

204 
t˝_›í_∑øm_t
* 
∑øm
 = (t˝_›í_∑øm_t*)
v∑øm
;

205  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

206 
	}
}

209 
	$t˝_›í_föÆ
(* 
v∑øm
) {

210 
t˝_›í_∑øm_t
* 
∑øm
 = (t˝_›í_∑øm_t*)
v∑øm
;

212 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

215 
	`TUV_ASSERT
(
c⁄√˘_cb_ˇŒed
 == 1);

216 
	`TUV_ASSERT
(
wrôe_cb_ˇŒed
 == 1);

217 
	`TUV_ASSERT
(
˛o£_cb_ˇŒed
 == 1);

220 
	`‰ì
(
∑øm
);

223 
	`run_ã°s_c⁄töue
();

226 
	}
}

230 
	$TEST_IMPL
(
t˝_›í
) {

231 #i‡
	`deföed
(
__TUV_HOST_IPEXIST__
)

232 
t˝_›í_∑øm_t
* 
∑øm
;

233 
∑øm
 = (
t˝_›í_∑øm_t
*)
	`mÆloc
((tcp_open_param_t));

234 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

236 
sockaddr_ö
 
addr
;

237 
r
;

239 
shutdown_cb_ˇŒed
 = 0;

240 
c⁄√˘_cb_ˇŒed
 = 0;

241 
wrôe_cb_ˇŒed
 = 0;

242 
˛o£_cb_ˇŒed
 = 0;

244 
	`TUV_ASSERT
(0 =
	`uv_ù4_addr
(
HOST_IP_ADDRESS
, 
TEST_PORT
, &
addr
));

246 
	`°¨tup
();

247 
∑øm
->
sock
 = 
	`¸óã_t˝_sockë
();

249 
r
 = 
	`uv_t˝_öô
(
∑øm
->
lo›
, &∑øm->
˛õ¡
);

250 
	`TUV_ASSERT
(
r
 == 0);

252 
r
 = 
	`uv_t˝_›í
(&
∑øm
->
˛õ¡
,Ö¨am->
sock
);

253 
	`TUV_ASSERT
(
r
 == 0);

255 
r
 = 
	`uv_t˝_c⁄√˘
(&
c⁄√˘_ªq
,

256 &
∑øm
->
˛õ¡
,

257 (c⁄° 
sockaddr
*)&
addr
,

258 
c⁄√˘_cb
);

259 
	`TUV_ASSERT
(
r
 == 0);

261 
	`tuv_run
(
∑øm
->
lo›
, 
t˝_›í_lo›
, 
t˝_›í_föÆ
,Öaram);

263 
	`TDDLOG
("'HOST_IP_ADDRESS'Çot defined. skipÅest.\r\n");

264 
	`run_ã°s_c⁄töue
();

267 
	}
}

	@deps/libtuv/test/raw/test_threadpool_raw_queue_work_simple.c

37 
	~<as£π.h
>

38 
	~<°dio.h
>

40 
	~<uv.h
>

41 
	~"ru¬î.h
"

44 
	gw‹k_cb_cou¡
;

45 
	ga·î_w‹k_cb_cou¡
;

46 
uv_w‹k_t
 
	gw‹k_ªq
;

47 
	gd©a
;

50 
	$w‹k_cb
(
uv_w‹k_t
* 
ªq
) {

51 
	`TUV_ASSERT
(
ªq
 =&
w‹k_ªq
);

52 
	`TUV_ASSERT
(
ªq
->
d©a
 == &data);

53 
w‹k_cb_cou¡
++;

54 
	}
}

57 
	$a·î_w‹k_cb
(
uv_w‹k_t
* 
ªq
, 
°©us
) {

58 
	`TUV_ASSERT
(
°©us
 == 0);

59 
	`TUV_ASSERT
(
ªq
 =&
w‹k_ªq
);

60 
	`TUV_ASSERT
(
ªq
->
d©a
 == &data);

61 
a·î_w‹k_cb_cou¡
++;

62 
	}
}

68 
uv_lo›_t
* 
	mlo›
;

69 } 
	tqueuew‹k_∑øm_t
;

72 
	$queuew‹k_lo›
(* 
v∑øm
) {

73 
queuew‹k_∑øm_t
* 
∑øm
 = (queuew‹k_∑øm_t*)
v∑øm
;

74  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

75 
	}
}

78 
	$queuew‹k_föÆ
(* 
v∑øm
) {

79 
queuew‹k_∑øm_t
* 
∑øm
 = (queuew‹k_∑øm_t*)
v∑øm
;

81 
	`TUV_ASSERT
(
w‹k_cb_cou¡
 == 1);

82 
	`TUV_ASSERT
(
a·î_w‹k_cb_cou¡
 == 1);

84 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

87 
	`‰ì
(
∑øm
);

90 
	`run_ã°s_c⁄töue
();

93 
	}
}

96 
	$TEST_IMPL
(
thªadpoﬁ_queue_w‹k_sim∂e
) {

97 
queuew‹k_∑øm_t
* 
∑øm
 =

98 (
queuew‹k_∑øm_t
*)
	`mÆloc
((queuework_param_t));

99 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

101 
r
;

103 
w‹k_cb_cou¡
 = 0;

104 
a·î_w‹k_cb_cou¡
 = 0;

106 
w‹k_ªq
.
d©a
 = &data;

107 
r
 = 
	`uv_queue_w‹k
(
∑øm
->
lo›
, &
w‹k_ªq
, 
w‹k_cb
, 
a·î_w‹k_cb
);

108 
	`TUV_ASSERT
(
r
 == 0);

110 
	`tuv_run
(
∑øm
->
lo›
, 
queuew‹k_lo›
, 
queuew‹k_föÆ
,Öaram);

113 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_again.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

42 
	g˛o£_cb_ˇŒed
 = 0;

43 
	gª≥©_1_cb_ˇŒed
 = 0;

44 
	gª≥©_2_cb_ˇŒed
 = 0;

45 
	gª≥©_2_cb_Ælowed
 = 0;

47 
uv_timî_t
 
	gdummy
, 
	gª≥©_1
, 
	gª≥©_2
;

49 
uöt64_t
 
	g°¨t_time
;

52 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

53 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

55 
˛o£_cb_ˇŒed
++;

56 
	}
}

59 
	$ª≥©_1_cb
(
uv_timî_t
* 
h™dÀ
) {

60 
r
;

62 
	`TUV_ASSERT
(
h™dÀ
 =&
ª≥©_1
);

63 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
((
uv_timî_t
*)
h™dÀ
) == 50);

65 
ª≥©_1_cb_ˇŒed
++;

67 
r
 = 
	`uv_timî_agaö
(&
ª≥©_2
);

68 
	`TUV_ASSERT
(
r
 == 0);

70 i‡(
ª≥©_1_cb_ˇŒed
 == 10) {

71 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
˛o£_cb
);

74 
ª≥©_2_cb_Ælowed
 = 1;

77 
	}
}

80 
	$ª≥©_2_cb
(
uv_timî_t
* 
h™dÀ
) {

81 
	`TUV_ASSERT
(
h™dÀ
 =&
ª≥©_2
);

82 
	`TUV_ASSERT
(
ª≥©_2_cb_Ælowed
);

84 
ª≥©_2_cb_ˇŒed
++;

86 i‡(
	`uv_timî_gë_ª≥©
(&
ª≥©_2
) == 0) {

87 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

88 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
˛o£_cb
);

92 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_2
) == 100);

95 
	`uv_timî_£t_ª≥©
(&
ª≥©_2
, 0);

96 
	}
}

101 
uv_lo›_t
* 
	mlo›
;

102 } 
	ttimî_∑øm_t
;

105 
	$timî_lo›
(* 
v∑øm
) {

106 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

107  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

108 
	}
}

110 
	$timî_föÆ
(* 
v∑øm
) {

111 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

113 
	`TUV_ASSERT
(
ª≥©_1_cb_ˇŒed
 == 10);

114 
	`TUV_ASSERT
(
ª≥©_2_cb_ˇŒed
 == 2);

115 
	`TUV_ASSERT
(
˛o£_cb_ˇŒed
 == 2);

118 
	`tuv_timî_deöô
(
∑øm
->
lo›
, (
uv_h™dÀ_t
*)&
dummy
);

119 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

122 
	`‰ì
(
∑øm
);

125 
	`run_ã°s_c⁄töue
();

128 
	}
}

130 
	$TEST_IMPL
(
timî_agaö
) {

131 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

132 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

134 
r
;

136 
˛o£_cb_ˇŒed
 = 0;

137 
ª≥©_1_cb_ˇŒed
 = 0;

138 
ª≥©_2_cb_ˇŒed
 = 0;

139 
ª≥©_2_cb_Ælowed
 = 0;

141 
°¨t_time
 = 
	`uv_now
(
∑øm
->
lo›
);

142 
	`TUV_ASSERT
(0 < 
°¨t_time
);

145 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &
dummy
);

146 
	`TUV_ASSERT
(
r
 == 0);

147 
r
 = 
	`uv_timî_agaö
(&
dummy
);

148 
	`TUV_ASSERT
(
r
 =
UV_EINVAL
);

149 
	`uv_uƒef
((
uv_h™dÀ_t
*)&
dummy
);

152 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &
ª≥©_1
);

153 
	`TUV_ASSERT
(
r
 == 0);

154 
r
 = 
	`uv_timî_°¨t
(&
ª≥©_1
, 
ª≥©_1_cb
, 50, 0);

155 
	`TUV_ASSERT
(
r
 == 0);

156 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_1
) == 0);

159 
	`uv_timî_£t_ª≥©
(&
ª≥©_1
, 50);

160 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_1
) == 50);

166 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &
ª≥©_2
);

167 
	`TUV_ASSERT
(
r
 == 0);

168 
r
 = 
	`uv_timî_°¨t
(&
ª≥©_2
, 
ª≥©_2_cb
, 100, 100);

169 
	`TUV_ASSERT
(
r
 == 0);

170 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_2
) == 100);

172 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ
,Öaram);

175 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_huge_repeat.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

44 
uv_timî_t
 
	gtöy_timî
;

45 
uv_timî_t
 
	ghuge_timî1
;

46 
uv_timî_t
 
	ghuge_timî2
;

49 
	ghuge_ª≥©_cb_nˇŒs
;

51 
	$huge_ª≥©_cb
(
uv_timî_t
* 
h™dÀ
) {

52 i‡(
huge_ª≥©_cb_nˇŒs
 == 0)

53 
	`TUV_ASSERT
(
h™dÀ
 =&
huge_timî1
);

55 
	`TUV_ASSERT
(
h™dÀ
 =&
töy_timî
);

57 i‡(++
huge_ª≥©_cb_nˇŒs
 == 10) {

58 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
töy_timî
, 
NULL
);

59 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
huge_timî1
, 
NULL
);

61 
	}
}

66 
uv_lo›_t
* 
	mlo›
;

67 } 
	ttimî_∑øm_t
;

70 
	$timî_lo›
(* 
v∑øm
) {

71 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

72  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

73 
	}
}

75 
	$timî_föÆ
(* 
v∑øm
) {

76 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

79 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

82 
	`‰ì
(
∑øm
);

85 
	`run_ã°s_c⁄töue
();

88 
	}
}

91 
	$TEST_IMPL
(
timî_huge_ª≥©
) {

92 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

93 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

95 
huge_ª≥©_cb_nˇŒs
 = 0;

97 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &
töy_timî
));

98 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &
huge_timî1
));

99 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
töy_timî
, 
huge_ª≥©_cb
, 2, 2));

100 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
huge_timî1
, 
huge_ª≥©_cb
, 1, (
uöt64_t
) -1));

102 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ
,Öaram);

105 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_huge_timeout.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

42 
uv_timî_t
 
	gtöy_timî
;

43 
uv_timî_t
 
	ghuge_timî1
;

44 
uv_timî_t
 
	ghuge_timî2
;

47 
	$töy_timî_cb
(
uv_timî_t
* 
h™dÀ
) {

48 
	`TUV_ASSERT
(
h™dÀ
 =&
töy_timî
);

49 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
töy_timî
, 
NULL
);

50 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
huge_timî1
, 
NULL
);

51 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
huge_timî2
, 
NULL
);

52 
	}
}

58 
uv_lo›_t
* 
	mlo›
;

59 } 
	ttimî_∑øm_t
;

62 
	$timî_lo›
(* 
v∑øm
) {

63 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

64  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

65 
	}
}

67 
	$timî_föÆ
(* 
v∑øm
) {

68 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

71 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

74 
	`‰ì
(
∑øm
);

77 
	`run_ã°s_c⁄töue
();

80 
	}
}

82 
	$TEST_IMPL
(
timî_huge_timeout
) {

83 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

84 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

86 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &
töy_timî
));

87 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &
huge_timî1
));

88 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &
huge_timî2
));

89 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
töy_timî
, 
töy_timî_cb
, 1, 0));

90 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
huge_timî1
, 
töy_timî_cb
, 0xffffffffffffLL, 0));

91 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
huge_timî2
, 
töy_timî_cb
, (
uöt64_t
) -1, 0));

93 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ
,Öaram);

96 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_init.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

45 
uv_lo›_t
* 
	mlo›
;

46 
uv_timî_t
 
	mh™dÀ
;

47 } 
	ttimî_∑øm_t
;

50 
	$timî_lo›
(* 
v∑øm
) {

51 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

52 
uv_lo›_t
* 
lo›
 = 
∑øm
->loop;

54 
	`uv_run
(
lo›
, 
UV_RUN_ONCE
);

57 
	}
}

59 
	$timî_föÆ
(* 
v∑øm
) {

60 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

61 
uv_lo›_t
* 
lo›
 = 
∑øm
->loop;

63 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

65 
	`‰ì
(
∑øm
);

68 
	`run_ã°s_c⁄töue
();

71 
	}
}

73 
	$TEST_IMPL
(
timî_öô
) {

74 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

75 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

77 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
h™dÀ
));

78 
	`TUV_ASSERT
(0 =
	`uv_timî_gë_ª≥©
(&
∑øm
->
h™dÀ
));

79 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
∑øm
->
h™dÀ
));

82 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
∑øm
->
h™dÀ
, 
NULL
);

84 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ
,Öaram);

87 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_norm.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

42 
	g⁄˚_cb_ˇŒed
 = 0;

43 
	g⁄˚_˛o£_cb_ˇŒed
 = 0;

44 
	gª≥©_cb_ˇŒed
 = 0;

45 
	gª≥©_˛o£_cb_ˇŒed
 = 0;

47 
uöt64_t
 
	g°¨t_time
 = 0ll;

50 
	$⁄˚_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

51 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

52 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
(
h™dÀ
));

54 
⁄˚_˛o£_cb_ˇŒed
++;

55 
	}
}

57 
	$⁄˚_cb
(
uv_timî_t
* 
h™dÀ
) {

58 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

59 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

61 
⁄˚_cb_ˇŒed
++;

63 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄˚_˛o£_cb
);

66 
	`uv_upd©e_time
(
	`uv_deÁu…_lo›
());

67 
	}
}

70 
	$ª≥©_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

71 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

73 
ª≥©_˛o£_cb_ˇŒed
++;

74 
	}
}

77 
	$ª≥©_cb
(
uv_timî_t
* 
h™dÀ
) {

78 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

79 
	`TUV_ASSERT
(1 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

81 
ª≥©_cb_ˇŒed
++;

83 i‡(
ª≥©_cb_ˇŒed
 == 5) {

84 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
ª≥©_˛o£_cb
);

86 
	}
}

89 
	$√vî_cb
(
uv_timî_t
* 
h™dÀ
) {

90 
	`TUV_FATAL
("never_cb shouldÇever be called");

91 
	}
}

97 
uv_lo›_t
* 
	mlo›
;

98 
uv_timî_t
 
	m⁄˚_timîs
[10];

99 
uv_timî_t
 
	mª≥©
, 
	m√vî
;

100 } 
	ttimî_∑øm_t
;

103 
	$timî_lo›
(* 
v∑øm
) {

104 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

105  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

106 
	}
}

108 
	$timî_föÆ
(* 
v∑øm
) {

109 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

111 
	`TUV_ASSERT
(
⁄˚_cb_ˇŒed
 == 10);

112 
	`TUV_ASSERT
(
⁄˚_˛o£_cb_ˇŒed
 == 10);

113 
	`TUV_ASSERT
(
ª≥©_cb_ˇŒed
 == 5);

114 
	`TUV_ASSERT
(
ª≥©_˛o£_cb_ˇŒed
 == 1);

116 
	`TUV_ASSERT
(500 <
	`uv_now
(
∑øm
->
lo›
Ë- 
°¨t_time
);

119 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

122 
	`‰ì
(
∑øm
);

125 
	`run_ã°s_c⁄töue
();

128 
	}
}

130 
	$TEST_IMPL
(
timî
) {

131 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

132 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

134 
uv_timî_t
 *
⁄˚
;

135 
i
;

136 
r
;

138 
⁄˚_cb_ˇŒed
 = 0;

139 
⁄˚_˛o£_cb_ˇŒed
 = 0;

140 
ª≥©_cb_ˇŒed
 = 0;

141 
ª≥©_˛o£_cb_ˇŒed
 = 0;

143 
°¨t_time
 = 
	`uv_now
(
∑øm
->
lo›
);

144 
	`TUV_ASSERT
(0 < 
°¨t_time
);

147 
i
 = 0; i < 
	`ARRAY_SIZE
(
∑øm
->
⁄˚_timîs
); i++) {

148 
⁄˚
 = 
∑øm
->
⁄˚_timîs
 + 
i
;

149 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, 
⁄˚
);

150 
	`TUV_ASSERT
(
r
 == 0);

151 
r
 = 
	`uv_timî_°¨t
(
⁄˚
, 
⁄˚_cb
, 
i
 * 50, 0);

152 
	`TUV_ASSERT
(
r
 == 0);

156 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
ª≥©
);

157 
	`TUV_ASSERT
(
r
 == 0);

158 
r
 = 
	`uv_timî_°¨t
(&
∑øm
->
ª≥©
, 
ª≥©_cb
, 100, 100);

159 
	`TUV_ASSERT
(
r
 == 0);

162 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
√vî
);

163 
	`TUV_ASSERT
(
r
 == 0);

164 
r
 = 
	`uv_timî_°¨t
(&
∑øm
->
√vî
, 
√vî_cb
, 100, 100);

165 
	`TUV_ASSERT
(
r
 == 0);

166 
r
 = 
	`uv_timî_°›
(&
∑øm
->
√vî
);

167 
	`TUV_ASSERT
(
r
 == 0);

168 
	`uv_uƒef
((
uv_h™dÀ_t
*)&
∑øm
->
√vî
);

170 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
∑øm
->
√vî
, 
NULL
);

173 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ
,Öaram);

175 
lo›
->
øw_lo›cb
 = 
timî_lo›
;

176 
lo›
->
øw_föÆcb
 = 
timî_föÆ
;

177 
lo›
->
øw_∑øm
 = 
∑øm
;

178 
åue
) {

179 
r
 = 
	`timî_lo›
(
∑øm
);

180 i‡(!
r
) ;

182 
	`timî_föÆ
(
∑øm
);

186 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_order.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<uv.h
>

42 
	~"ru¬î.h
"

48 
	g‹dî_cb_ˇŒed
 = 0;

51 
	$‹dî_cb_a
(
uv_timî_t
 *
h™dÀ
) {

52 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
++ =*(*)
h™dÀ
->
d©a
);

53 
	}
}

56 
	$‹dî_cb_b
(
uv_timî_t
 *
h™dÀ
) {

57 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
++ =*(*)
h™dÀ
->
d©a
);

58 
	}
}

63 
uv_lo›_t
* 
	mlo›
;

64 
uv_timî_t
 
	mh™dÀ_a
;

65 
uv_timî_t
 
	mh™dÀ_b
;

66 
	mfú°
;

67 
	m£c⁄d
;

68 } 
	ttimî_∑øm_t
;

71 
	$timî_lo›
(* 
v∑øm
) {

72 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

73  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

74 
	}
}

76 
timî_föÆ1
(* 
v∑øm
);

77 
timî_föÆ2
(* 
v∑øm
);

79 
	$timî_föÆ1
(* 
v∑øm
) {

80 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

82 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
 == 2);

84 
	`TUV_ASSERT
(0 =
	`uv_timî_°›
(&
∑øm
->
h™dÀ_a
));

85 
	`TUV_ASSERT
(0 =
	`uv_timî_°›
(&
∑øm
->
h™dÀ_b
));

88 
‹dî_cb_ˇŒed
 = 0;

89 
∑øm
->
h™dÀ_b
.
d©a
 = &∑øm->
fú°
;

90 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
∑øm
->
h™dÀ_b
, 
‹dî_cb_b
, 0, 0));

92 
∑øm
->
h™dÀ_a
.
d©a
 = &∑øm->
£c⁄d
;

93 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
∑øm
->
h™dÀ_a
, 
‹dî_cb_a
, 0, 0));

95 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ2
,Öaram);

98 
	}
}

100 
	$timî_föÆ2
(* 
v∑øm
) {

101 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

103 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
 == 2);

106 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
∑øm
->
h™dÀ_a
, 
NULL
);

107 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
∑øm
->
h™dÀ_b
, 
NULL
);

108 
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

109 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

112 
	`‰ì
(
∑øm
);

115 
	`run_ã°s_c⁄töue
();

118 
	}
}

120 
	$TEST_IMPL
(
timî_‹dî
) {

121 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

122 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

124 
‹dî_cb_ˇŒed
 = 0;

126 
∑øm
->
fú°
 = 0;

127 
∑øm
->
£c⁄d
 = 1;

128 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
h™dÀ_a
));

129 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
h™dÀ_b
));

132 
∑øm
->
h™dÀ_a
.
d©a
 = &∑øm->
fú°
;

133 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
∑øm
->
h™dÀ_a
, 
‹dî_cb_a
, 0, 0));

134 
∑øm
->
h™dÀ_b
.
d©a
 = &∑øm->
£c⁄d
;

135 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
∑øm
->
h™dÀ_b
, 
‹dî_cb_b
, 0, 0));

137 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ1
,Öaram);

140 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_run_null_callback.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

42 
	$TEST_IMPL
(
timî_nuŒ_ˇŒback
) {

43 
uv_timî_t
 
h™dÀ
;

45 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
h™dÀ
));

46 
	`TUV_ASSERT
(
UV_EINVAL
 =
	`uv_timî_°¨t
(&
h™dÀ
, 
NULL
, 100, 100));

49 
	`tuv_timî_deöô
(
	`uv_deÁu…_lo›
(), (
uv_h™dÀ_t
*Ë&
h™dÀ
);

50 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

53 
	`run_ã°s_c⁄töue
();

56 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_run_once.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

44 
	gtimî_run_⁄˚_timî_cb_ˇŒed
 = 0;

46 
	$timî_run_⁄˚_timî_cb
(
uv_timî_t
* 
h™dÀ
) {

47 
timî_run_⁄˚_timî_cb_ˇŒed
++;

48 
	}
}

52 
uv_lo›_t
* 
	mlo›
;

53 
uv_timî_t
 
	mtimî_h™dÀ
;

54 } 
	ttimî_∑øm_t
;

57 
	$TEST_IMPL
(
timî_run_⁄˚
) {

58 
timî_∑øm_t
* 
∑øm
;

59 
uv_lo›_t
* 
lo›
;

61 
∑øm
 = (
timî_∑øm_t
*)
	`mÆloc
((timer_param_t));

62 
lo›
 = 
	`uv_deÁu…_lo›
();

63 
∑øm
->
lo›
 =Üoop;

65 
timî_run_⁄˚_timî_cb_ˇŒed
 = 0;

67 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
timî_h™dÀ
));

68 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
∑øm
->
timî_h™dÀ
,

69 
timî_run_⁄˚_timî_cb
, 0, 0));

70 
	`TUV_ASSERT
(0 =
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
));

71 
	`TUV_ASSERT
(1 =
timî_run_⁄˚_timî_cb_ˇŒed
);

73 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
∑øm
->
timî_h™dÀ
,

74 
timî_run_⁄˚_timî_cb
, 1, 0));

77 
	`uv_¶ìp
(1);

78 
	`TUV_ASSERT
(0 =
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
));

79 
	`TUV_ASSERT
(2 =
timî_run_⁄˚_timî_cb_ˇŒed
);

81 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
∑øm
->
timî_h™dÀ
, 
NULL
);

82 
	`TUV_ASSERT
(0 =
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
));

85 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

88 
	`‰ì
(
∑øm
);

91 
	`run_ã°s_c⁄töue
();

94 
	}
}

	@deps/libtuv/test/raw/test_timer_raw_start_twice.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

43 
	g⁄˚_cb_ˇŒed
 = 0;

44 
	g⁄˚_˛o£_cb_ˇŒed
 = 0;

47 
	$⁄˚_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

48 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

49 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
(
h™dÀ
));

51 
⁄˚_˛o£_cb_ˇŒed
++;

52 
	}
}

55 
	$⁄˚_cb
(
uv_timî_t
* 
h™dÀ
) {

56 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

57 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

59 
⁄˚_cb_ˇŒed
++;

61 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄˚_˛o£_cb
);

64 
	`uv_upd©e_time
(
	`uv_deÁu…_lo›
());

65 
	}
}

68 
	$√vî_cb
(
uv_timî_t
* 
h™dÀ
) {

69 
	`TUV_FATAL
("never_cb shouldÇever be called");

70 
	}
}

76 
uv_lo›_t
* 
	mlo›
;

77 
uv_timî_t
 
	m⁄˚
;

78 } 
	ttimî_∑øm_t
;

80 
	$timî_lo›
(* 
v∑øm
) {

81 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

82  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

83 
	}
}

85 
	$timî_föÆ
(* 
v∑øm
) {

86 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
v∑øm
;

88 
	`TUV_ASSERT
(
⁄˚_cb_ˇŒed
 == 1);

91 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

94 
	`‰ì
(
∑øm
);

97 
	`run_ã°s_c⁄töue
();

100 
	}
}

104 
	$TEST_IMPL
(
timî_°¨t_twi˚
) {

105 
timî_∑øm_t
* 
∑øm
 = (timî_∑øm_t*)
	`mÆloc
((timer_param_t));

106 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

108 
r
;

110 
⁄˚_cb_ˇŒed
 = 0;

111 
⁄˚_˛o£_cb_ˇŒed
 = 0;

113 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &∑øm->
⁄˚
);

114 
	`TUV_ASSERT
(
r
 == 0);

115 
r
 = 
	`uv_timî_°¨t
(&
∑øm
->
⁄˚
, 
√vî_cb
, 86400 * 1000, 0);

116 
	`TUV_ASSERT
(
r
 == 0);

117 
r
 = 
	`uv_timî_°¨t
(&
∑øm
->
⁄˚
, 
⁄˚_cb
, 10, 0);

118 
	`TUV_ASSERT
(
r
 == 0);

120 
	`tuv_run
(
∑øm
->
lo›
, 
timî_lo›
, 
timî_föÆ
,Öaram);

123 
	}
}

	@deps/libtuv/test/raw/test_walk_handles_raw.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

45 
	gmagic_cookõ
[] = "magic cookie";

46 
	g£í_timî_h™dÀ
;

47 
uv_timî_t
 
	gtimî
;

50 
	$wÆk_cb
(
uv_h™dÀ_t
* 
h™dÀ
, * 
¨g
) {

51 
	`TUV_ASSERT
(
¨g
 =(*)
magic_cookõ
);

53 i‡(
h™dÀ
 =(
uv_h™dÀ_t
*)&
timî
) {

54 
£í_timî_h™dÀ
++;

56 
	`TUV_ASSERT
(0 && "unexpected handle");

58 
	}
}

61 
	$timî_cb
(
uv_timî_t
* 
h™dÀ
) {

62 
	`TUV_ASSERT
(
h™dÀ
 =&
timî
);

64 
	`uv_wÆk
(
h™dÀ
->
lo›
, 
wÆk_cb
, 
magic_cookõ
);

65 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
NULL
);

66 
	}
}

72 
uv_lo›_t
* 
	mlo›
;

73 } 
	twÆk_∑øm_t
;

75 
	$wÆk_lo›
(* 
v∑øm
) {

76 
wÆk_∑øm_t
* 
∑øm
 = (wÆk_∑øm_t*)
v∑øm
;

77  
	`uv_run
(
∑øm
->
lo›
, 
UV_RUN_ONCE
);

78 
	}
}

80 
	$wÆk_föÆ
(* 
v∑øm
) {

81 
wÆk_∑øm_t
* 
∑øm
 = (wÆk_∑øm_t*)
v∑øm
;

83 
	`TUV_ASSERT
(
£í_timî_h™dÀ
 == 1);

85 
£í_timî_h™dÀ
 = 0;

86 
	`uv_wÆk
(
∑øm
->
lo›
, 
wÆk_cb
, 
magic_cookõ
);

87 
	`TUV_ASSERT
(
£í_timî_h™dÀ
 == 0);

88 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
∑øm
->
lo›
));

91 
	`‰ì
(
∑øm
);

94 
	`run_ã°s_c⁄töue
();

97 
	}
}

100 
	$TEST_IMPL
(
wÆk_h™dÀs
) {

101 
wÆk_∑øm_t
* 
∑øm
 = (wÆk_∑øm_t*)
	`mÆloc
((walk_param_t));

102 
∑øm
->
lo›
 = 
	`uv_deÁu…_lo›
();

104 
r
;

106 
£í_timî_h™dÀ
 = 0;

108 
r
 = 
	`uv_timî_öô
(
∑øm
->
lo›
, &
timî
);

109 
	`TUV_ASSERT
(
r
 == 0);

111 
r
 = 
	`uv_timî_°¨t
(&
timî
, 
timî_cb
, 1, 0);

112 
	`TUV_ASSERT
(
r
 == 0);

115 
	`TUV_ASSERT
(
£í_timî_h™dÀ
 == 0);

117 
	`tuv_run
(
∑øm
->
lo›
, 
wÆk_lo›
, 
wÆk_föÆ
,Öaram);

120 
	}
}

	@deps/libtuv/test/runner.h

37 #i‚de‡
__tuv_ã°_ru¬î_hódî__


38 
	#__tuv_ã°_ru¬î_hódî__


	)

40 
	~<as£π.h
>

41 
	~<°dio.h
>

42 
	~<°dlib.h
>

45 #ifde‡
__˝lu•lus


50 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TUV_RAW__
)

51 
	#EMBED_LOW_MEMORY


	)

55 
	#TEST_PORT
 9123

	)

56 
	#TEST_PORT_2
 9124

	)

60 c⁄° *
èsk_«me
;

61 c⁄° *
¥o˚ss_«me
;

62 (*
maö
)();

63 
is_hñ≥r
;

64 
show_ouçut
;

69 
timeout
;

70 
uv_£m_t
 
£msync
;

71 } 
	tèsk_íåy_t
;

74 
	#TEST_IMPL
(
«me
) \

75 
run_ã°_
##
	`«me
(); \

76 
run_ã°_
##
	`«me
()

	)

78 
	#HELPER_IMPL
(
«me
) \

79 
run_hñ≥r_
##
	`«me
(); \

80 
run_hñ≥r_
##
	`«me
()

	)

86 
	#TUV_ASSERT
(
ex¥
) \

88 i‡(!(
ex¥
)) { \

89 
	`Ârötf
(
°dîr
, \

91 
__FILE__
, \

92 
__LINE__
, \

94 
	`ABORT
(); \

96 } 0)

	)

98 
	#TUV_WARN
(
ex¥
) \

100 i‡(!(
ex¥
)) { \

101 
	`Ârötf
(
°dîr
, \

103 
__FILE__
, \

104 
__LINE__
, \

108 } 0)

	)

110 
	#TUV_FATAL
(
msg
) \

112 
	`Ârötf
(
°dîr
, \

114 
__FILE__
, \

115 
__LINE__
, \

116 
msg
); \

117 
	`fÊush
(
°dîr
); \

118 
	`ABORT
(); \

119 } 0)

	)

122 
	eã°_°©us
 {

123 
TEST_OK
 = 0,

124 
TEST_TODO
,

125 
TEST_SKIP


129 
FILE
* 
°dout_fûe
;

130 
pid_t
 
pid
;

131 * 
«me
;

132 
°©us
;

133 
ãrmö©ed
;

134 } 
	t¥o˚ss_öfo_t
;

137 
pùe
[2];

138 
¥o˚ss_öfo_t
* 
vec
;

139 
n
;

140 } 
	tdowaô_¨gs
;

144 
uv_wrôe_t
 
ªq
;

145 
uv_buf_t
 
buf
;

146 } 
	twrôe_ªq_t
;

149 
TEST_TCP
 = 0,

150 
TEST_UDP
,

151 
TEST_PIPE


152 } 
	t°ªam_ty≥
;

154 #ifde‡
PATH_MAX


155 
	#EXEC_PATH_LENGTH
 
PATH_MAX


	)

157 
	#EXEC_PATH_LENGTH
 4096

	)

161 
¥o˚ss_°¨t
(c⁄° * 
«me
, c⁄° * 
∑π
, 
¥o˚ss_öfo_t
* 
p
,

162 
is_hñ≥r
);

163 
¥o˚ss_waô
(
¥o˚ss_öfo_t
* 
vec
, 
n
, 
timeout
);

164 
¥o˚ss_ª≠
(
¥o˚ss_öfo_t
 *
p
);

165 
¥o˚ss_ªad_œ°_löe
(
¥o˚ss_öfo_t
 *
p
, * 
buf„r
, 
size_t
 
buf„r_Àn
);

166 
¥o˚ss_˛ónup
(
¥o˚ss_öfo_t
 *
p
);

168 
run_ã°_⁄e
(
èsk_íåy_t
* 
èsk
);

169 
run_ã°_∑π
(c⁄° * 
ã°
, c⁄° * 
∑π
);

170 
run_ã°s
();

171 
run_¶ìp
(
m£c
);

173 
èsk_íåy_t
* 
gë_hñ≥r
(c⁄° * 
ã°
);

174 
run_hñ≥r
(
èsk_íåy_t
* 
èsk
);

175 
waô_hñ≥r
(
èsk_íåy_t
* 
èsk
);

179 
run_ã°s_öô
();

180 
run_ã°s_⁄e
();

181 
run_ã°s_c⁄töue
();

184 #ifde‡
__˝lu•lus


191 
	~"ru¬î_li°.h
"

194 
	#TEST_DECLARE
(
«me
,
x
) \

195 
run_ã°_
##
	`«me
();

	)

197 
	#HELPER_DECLARE
(
èsk_«me
,
«me
) \

198 
run_hñ≥r_
##
	`«me
();

	)

201 
	$TEST_LIST_ALL
(
TEST_DECLARE
)

202 
	$TEST_LIST_EXT
(
TEST_DECLARE
)

204 
	$HELPER_LIST_ALL
(
HELPER_DECLARE
)

206 #unde‡
TEST_DECLARE


207 #unde‡
HELPER_DECLARE


	@deps/libtuv/test/runner_linux.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<±hªad.h
>

40 
	~<sys/waô.h
>

41 
	~<sys/°©.h
>

42 
	~<sys/£À˘.h
>

44 
	~<uv.h
>

46 
	~"ru¬î.h
"

49 
	$run_¶ìp
(
m£c
) {

50 
	`u¶ìp
(
m£c
 * 1000);

51 
	}
}

56 
	gexecuèbÀ_∑th
[
EXEC_PATH_LENGTH
];

60 
	$∂©f‹m_öô
(
¨gc
, **
¨gv
) {

63 
	`£tvbuf
(
°dout
, 
NULL
, 
_IONBF
, 0);

64 
	`£tvbuf
(
°dîr
, 
NULL
, 
_IONBF
, 0);

65 
	`sig«l
(
SIGPIPE
, 
SIG_IGN
);

67 i‡(
	`ªÆ∑th
(
¨gv
[0], 
execuèbÀ_∑th
Ë=
NULL
) {

68 
	`≥º‹
("realpath");

73 
	}
}

79 
	$¥o˚ss_°¨t
(c⁄° * 
«me
, c⁄° * 
∑π
, 
¥o˚ss_öfo_t
* 
p
,

80 
is_hñ≥r
) {

81 
FILE
* 
°dout_fûe
;

82 c⁄° * 
¨g
;

83 c⁄° * 
¨gs
[16];

84 
n
;

85 
pid_t
 
pid
;

87 
°dout_fûe
 = 
	`tmpfûe
();

88 i‡(!
°dout_fûe
) {

89 
	`≥º‹
("tmpfile");

93 
p
->
ãrmö©ed
 = 0;

94 
p
->
°©us
 = 0;

96 
pid
 = 
	`f‹k
();

98 i‡(
pid
 < 0) {

99 
	`≥º‹
("fork");

103 i‡(
pid
 == 0) {

105 
n
 = 0;

107 
¨gs
[
n
++] = 
execuèbÀ_∑th
;

108 
¨gs
[
n
++] = 
«me
;

109 
¨gs
[
n
++] = 
∑π
;

110 
¨gs
[
n
++] = 
NULL
;

112 
	`dup2
(
	`fûío
(
°dout_fûe
), 
STDOUT_FILENO
);

113 
	`dup2
(
	`fûío
(
°dout_fûe
), 
STDERR_FILENO
);

114 
	`execvp
(
¨gs
[0], (* const*)args);

115 
	`≥º‹
("execvp()");

116 
	`_exô
(127);

120 
p
->
pid
 =Öid;

121 
p
->
«me
 = 
	`°rdup
(name);

122 
p
->
°dout_fûe
 = stdout_file;

125 
	}
}

130 * 
	$dowaô
(* 
d©a
) {

131 
dowaô_¨gs
* 
¨gs
 = (dowaô_¨gs*)
d©a
;

133 
i
, 
r
;

134 
¥o˚ss_öfo_t
* 
p
;

136 
i
 = 0; i < 
¨gs
->
n
; i++) {

137 
p
 = (
¥o˚ss_öfo_t
*)(
¨gs
->
vec
 + 
i
 * (process_info_t));

138 i‡(
p
->
ãrmö©ed
) ;

139 
r
 = 
	`waôpid
(
p
->
pid
, &p->
°©us
, 0);

140 i‡(
r
 < 0) {

141 
	`≥º‹
("waitpid");

142  
NULL
;

144 
p
->
ãrmö©ed
 = 1;

147 i‡(
¨gs
->
pùe
[1] >= 0) {

149 
ssize_t
 
r
;

152 
r
 = 
	`wrôe
(
¨gs
->
pùe
[1], "", 1);

153 
r
 =-1 && 
î∫o
 =
EINTR
);

156  
NULL
;

157 
	}
}

163 
	$¥o˚ss_waô
(
¥o˚ss_öfo_t
* 
vec
, 
n
, 
timeout
) {

164 
i
;

165 
r
;

166 
ªtvÆ
;

167 
¥o˚ss_öfo_t
* 
p
;

168 
dowaô_¨gs
 
¨gs
;

169 
±hªad_t
 
tid
;

170 
timevÆ
 
tv
;

171 
fd_£t
 
fds
;

173 
¨gs
.
vec
 = vec;

174 
¨gs
.
n
 =Ç;

175 
¨gs
.
pùe
[0] = -1;

176 
¨gs
.
pùe
[1] = -1;

179 i‡(
timeout
 == -1) {

180 
	`dowaô
(&
¨gs
);

190 
r
 = 
	`pùe
((*)&(
¨gs
.
pùe
));

191 i‡(
r
) {

192 
	`≥º‹
("pipe()");

196 
r
 = 
	`±hªad_¸óã
(&
tid
, 
NULL
, 
dowaô
, &
¨gs
);

197 i‡(
r
) {

198 
	`≥º‹
("pthread_create()");

199 
ªtvÆ
 = -1;

200 
ãrmö©e
;

203 
tv
.
tv_£c
 = 
timeout
 / 1000;

204 
tv
.
tv_u£c
 = 0;

206 
	`FD_ZERO
(&
fds
);

207 
	`FD_SET
(
¨gs
.
pùe
[0], &
fds
);

209 
r
 = 
	`£À˘
(
¨gs
.
pùe
[0] + 1, &
fds
, 
NULL
, NULL, &
tv
);

211 i‡(
r
 == -1) {

212 
	`≥º‹
("select()");

213 
ªtvÆ
 = -1;

215 } i‡(
r
) {

217 
ªtvÆ
 = 0;

221 
i
 = 0; i < 
n
; i++) {

222 
p
 = (
¥o˚ss_öfo_t
*)(
vec
 + 
i
 * (process_info_t));

223 
	`kûl
(
p
->
pid
, 
SIGTERM
);

225 
ªtvÆ
 = -2;

228 
r
 = 
	`±hªad_joö
(
tid
, 
NULL
);

229 i‡(
r
) {

230 
	`≥º‹
("pthread_join");

231 
ªtvÆ
 = -1;

235 
ãrmö©e
:

236 
	`˛o£
(
¨gs
.
pùe
[0]);

237 
	`˛o£
(
¨gs
.
pùe
[1]);

238  
ªtvÆ
;

239 
	}
}

243 
	$¥o˚ss_ª≠
(
¥o˚ss_öfo_t
 *
p
) {

244 i‡(
	`WIFEXITED
(
p
->
°©us
)) {

245  
	`WEXITSTATUS
(
p
->
°©us
);

247  
p
->
°©us
;

249 
	}
}

251 
	$¥o˚ss_ªad_œ°_löe
(
¥o˚ss_öfo_t
 *
p
, * 
buf„r
, 
size_t
 
buf„r_Àn
) {

252 * 
±r
;

254 
r
 = 
	`f£ek
(
p
->
°dout_fûe
, 0, 
SEEK_SET
);

255 i‡(
r
 < 0) {

256 
	`≥º‹
("fseek");

260 
buf„r
[0] = '\0';

262 
	`fgës
(
buf„r
, 
buf„r_Àn
, 
p
->
°dout_fûe
Ë!
NULL
) {

263 
±r
 = 
buf„r
; *ptr && *ptr != '\r' && *ptr != '\n';Ötr++);

264 *
±r
 = '\0';

267 i‡(
	`„º‹
(
p
->
°dout_fûe
)) {

268 
	`≥º‹
("read");

269 
buf„r
[0] = '\0';

273 
	}
}

275 
	$¥o˚ss_˛ónup
(
¥o˚ss_öfo_t
 *
p
) {

276 
	`f˛o£
(
p
->
°dout_fûe
);

277 
	`‰ì
(
p
->
«me
);

278 
	}
}

280 
	$run_ã°_⁄e
(
èsk_íåy_t
* 
èsk
) {

281 
¥o˚ss_öfo_t
 
¥o˚s£s
;

282 
îrmsg
[1024] = "noÉrror";

283 
ªsu…
 = 0;

284 
°©us
;

286 
°©us
 = 255;

287 i‡(
	`¥o˚ss_°¨t
(
èsk
->
èsk_«me
,

288 
èsk
->
¥o˚ss_«me
,

289 &
¥o˚s£s
, 0) == -1) {

290 
	`Ârötf
(
°dîr
,

292 
èsk
->
¥o˚ss_«me
);

296 
	`u¶ìp
(1000);

298 i‡(
èsk
->
is_hñ≥r
)

301 
ªsu…
 = 
	`¥o˚ss_waô
(&
¥o˚s£s
, 1, 
èsk
->
timeout
);

302 i‡(
ªsu…
 == -1) {

303 
	`TUV_FATAL
("process_wait failed ");

304 } i‡(
ªsu…
 == -2) {

306 
	`Ârötf
(
°dîr
, "timeout ");

307 
out
;

309 
°©us
 = 
	`¥o˚ss_ª≠
(&
¥o˚s£s
);

310 i‡(
°©us
 !
TEST_OK
) {

311 
	`Ârötf
(
°dîr
, "exô codê%d ", 
°©us
);

312 
ªsu…
 = -1;

313 
out
;

316 
out
:

317 i‡(
ªsu…
 == 0) {

318 
ªsu…
 = 
	`¥o˚ss_ªad_œ°_löe
(&
¥o˚s£s
, 
îrmsg
, (errmsg));

319 i‡(
	`°æí
(
îrmsg
))

320 
	`Ârötf
(
°dîr
, "œ°msg:[%s] ", 
îrmsg
);

322 
	`¥o˚ss_˛ónup
(&
¥o˚s£s
);

324  
ªsu…
;

325 
	}
}

328 
	$maö
(
¨gc
, *
¨gv
[]) {

329 
ªt
 = -1;

330 
TuvU£Debug
 
u£debug
;

332 
	`∂©f‹m_öô
(
¨gc
, 
¨gv
);

334 
¨gc
) {

336 
ªt
 = 
	`run_ã°s
();

339 
ªt
 = 
	`run_ã°_∑π
(
¨gv
[1],árgv[2]);

342 
	`TUV_FATAL
("System Error");

345  
ªt
;

346 
	}
}

350 
±hªad_t
 
	gtid
 = 0;

354 
	$∂©f‹m_öô
(
¨gc
, **
¨gv
) {

356 
	}
}

358 * 
	$hñ≥r_¥oc
(* 
d©a
) {

359 
èsk_íåy_t
* 
èsk
 = (èsk_íåy_t*)
d©a
;

360 
ªt
;

362 
	`£m_po°
(&
èsk
->
£msync
);

363 
ªt
 = 
èsk
->
	`maö
();

364 
	`TUV_ASSERT
(
ªt
 == 0);

366 
	`£m_po°
(&
èsk
->
£msync
);

367 
	`±hªad_exô
(0);

368  
NULL
;

369 
	}
}

371 
	$run_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

372 
r
;

373 
	`£m_öô
(&
èsk
->
£msync
, 0, 0);

374 
r
 = 
	`±hªad_¸óã
(&
tid
, 
NULL
, 
hñ≥r_¥oc
, 
èsk
);

375 
	`£m_waô
(&
èsk
->
£msync
);

376  
r
;

377 
	}
}

379 
	$waô_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

380 
	`£m_waô
(&
èsk
->
£msync
);

381 
	`±hªad_joö
(
tid
, 
NULL
);

382 
	`£m_de°roy
(&
èsk
->
£msync
);

384 
	}
}

386 
	$run_ã°_⁄e
(
èsk_íåy_t
* 
èsk
) {

387  
	`run_ã°_∑π
(
èsk
->
èsk_«me
,Åask->
¥o˚ss_«me
);

388 
	}
}

390 
	$maö
(
¨gc
, *
¨gv
[]) {

391 
ªsu…
;

393 
	`InôDebugSëtögs
();

395 
	`∂©f‹m_öô
(
¨gc
, 
¨gv
);

397 i‡(
¨gc
>2) {

398  
	`run_ã°_∑π
(
¨gv
[1],árgv[2]);

400 
ªsu…
 = 
	`run_ã°s
();

401 
	`Rñó£DebugSëtögs
();

403  
ªsu…
;

404 
	}
}

	@deps/libtuv/test/runner_linux_raw.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<±hªad.h
>

40 
	~<sys/waô.h
>

41 
	~<sys/°©.h
>

42 
	~<sys/£À˘.h
>

44 
	~<uv.h
>

46 
	~"ru¬î.h
"

63 
	$run_¶ìp
(
m£c
) {

64 
	`u¶ìp
(
m£c
 * 1000);

65 
	}
}

68 
±hªad_t
 
	gtid
 = 0;

70 
	$∂©f‹m_öô
(
¨gc
, **
¨gv
) {

72 
	}
}

74 * 
	$hñ≥r_¥oc
(* 
d©a
) {

75 
èsk_íåy_t
* 
èsk
 = (èsk_íåy_t*)
d©a
;

76 
ªt
;

78 
	`£m_po°
(&
èsk
->
£msync
);

79 
ªt
 = 
èsk
->
	`maö
();

80 
	`TUV_ASSERT
(
ªt
 == 0);

82 
	`£m_po°
(&
èsk
->
£msync
);

83 
	`±hªad_exô
(0);

84  
NULL
;

85 
	}
}

87 
	$run_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

88 
r
;

89 
	`£m_öô
(&
èsk
->
£msync
, 0, 0);

90 
r
 = 
	`±hªad_¸óã
(&
tid
, 
NULL
, 
hñ≥r_¥oc
, 
èsk
);

91 
	`£m_waô
(&
èsk
->
£msync
);

92  
r
;

93 
	}
}

95 
	$waô_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

96 
	`£m_waô
(&
èsk
->
£msync
);

97 
	`±hªad_joö
(
tid
, 
NULL
);

98 
	`£m_de°roy
(&
èsk
->
£msync
);

100 
	}
}

102 
	$run_ã°_⁄e
(
èsk_íåy_t
* 
èsk
) {

103  
	`run_ã°_∑π
(
èsk
->
èsk_«me
,Åask->
¥o˚ss_«me
);

104 
	}
}

106 
	$maö
(
¨gc
, *
¨gv
[]) {

107 
	`InôDebugSëtögs
();

108 
	`∂©f‹m_öô
(
¨gc
, 
¨gv
);

110 
èsk_íåy_t
* 
èsk
;

111 
èsk
 = 
	`gë_hñ≥r
("tcp4_echo_server");

112 i‡(
èsk
) {

113 
	`TDDDLOG
("RunningÇetwork helper forÅarget boards.");

114 
	`run_hñ≥r
(
èsk
);

115 
	`TDDDLOG
("Waiting for Test clientánd quit command...");

116 
	`waô_hñ≥r
(
èsk
);

118 
	`Rñó£DebugSëtögs
();

120 
	}
}

	@deps/libtuv/test/runner_list.h

38 #i‡!
deföed
(
__TUV_RAW__
)

39 
	#TEST_LIST_ALL
(
TE
) \

40 
	`TE
(
idÀ_basic
, 5000) \

41 
	`TE
(
a˘ive
, 5000) \

42 
	`TE
(
timî_öô
, 5000) \

43 
	`TE
(
timî
, 5000) \

44 
	`TE
(
timî_°¨t_twi˚
, 5000) \

45 
	`TE
(
timî_‹dî
, 5000) \

46 
	`TE
(
timî_run_⁄˚
, 5000) \

47 
	`TE
(
timî_nuŒ_ˇŒback
, 5000) \

48 
	`TE
(
timî_agaö
, 5000) \

49 
	`TE
(
timî_huge_timeout
, 5000) \

50 
	`TE
(
timî_huge_ª≥©
, 5000) \

52 
	`TE
(
async
, 5000) \

53 
	`TE
(
c⁄dv¨_2
, 5000) \

54 
	`TE
(
c⁄dv¨_3
, 5000) \

55 
	`TE
(
cwd
, 5000) \

57 
	`TE
(
fs_fûe_n€¡
, 5000) \

58 
	`TE
(
fs_fûe_sync
, 5000) \

59 
	`TE
(
fs_fûe_async
, 5000) \

60 
	`TE
(
fs_fûe_wrôe_nuŒ_buf„r
, 5000) \

61 
	`TE
(
fs_°©_missög_∑th
, 5000) \

62 
	`TE
(
fs_sˇndú_em±y_dú
, 5000) \

63 
	`TE
(
fs_sˇndú_fûe
, 5000) \

64 
	`TE
(
fs_›í_dú
, 5000) \

65 
	`TE
(
fs_fûe_›í_≠≥nd
, 5000) \

66 
	`TE
(
fs_ªad_fûe_eof
, 5000) \

67 
	`TE
(
fs_async_dú
, 5000) \

69 
	`TE
(
îr‹_mesßge
, 5000) \

71 
	`TE
(
thªadpoﬁ_queue_w‹k_sim∂e
, 5000) \

72 
	`TE
(
wÆk_h™dÀs
, 5000) \

74 
	`TE
(
t˝_›í
,5000) \

75 
	`TE
(
shutdown_eof
,5000) \

76 

	)

78 
	#TEST_LIST_ALL
(
TE
) \

79 
	`TE
(
idÀ_basic
, 5000) \

80 
	`TE
(
a˘ive
, 5000) \

81 
	`TE
(
timî_öô
, 5000) \

82 
	`TE
(
timî
, 5000) \

83 
	`TE
(
timî_°¨t_twi˚
, 5000) \

84 
	`TE
(
timî_‹dî
, 5000) \

85 
	`TE
(
timî_run_⁄˚
, 5000) \

86 
	`TE
(
timî_nuŒ_ˇŒback
, 5000) \

87 
	`TE
(
timî_agaö
, 5000) \

88 
	`TE
(
timî_huge_timeout
, 5000) \

89 
	`TE
(
timî_huge_ª≥©
, 5000) \

91 
	`TE
(
async
, 5000) \

92 
	`TE
(
c⁄dv¨_1
, 5000) \

94 
	`TE
(
thªadpoﬁ_queue_w‹k_sim∂e
, 5000) \

95 
	`TE
(
wÆk_h™dÀs
, 5000) \

96 
	`TE
(
t˝_›í
,5000) \

97 
	`TE
(
shutdown_eof
,5000) \

98 

	)

104 #i‡
deföed
(
__löux__
)

105 
	#TEST_LIST_EXT
(
TE
) \

106 
	`TE
(
c⁄dv¨_1
, 5000) \

107 
	`TE
(
c⁄dv¨_4
, 5000) \

109 
	`TE
(
fs_fûe_«mëoﬁ⁄g
, 5000) \

110 
	`TE
(
fs_f°©
, 5000) \

111 
	`TE
(
fs_utime
, 5000) \

112 
	`TE
(
fs_futime
, 5000) \

114 
	`TE
(
gëaddröfo_basic
, 5000) \

115 
	`TE
(
gëaddröfo_basic_sync
, 5000) \

116 
	`TE
(
gëaddröfo_c⁄cuºít
, 5000) \

117 

	)

118 #ñi‡
deföed
(
__TUV_RAW__
)

119 
	#TEST_LIST_EXT
(
TE
) \

120 

	)

122 
	#TEST_LIST_EXT
(
TE
) \

123 

	)

126 #i‡!
deföed
(
__TUV_RAW__
)

127 
	#HELPER_LIST_ALL
(
TE
) \

128 
	`TE
(
t˝4_echo_£rvî
,Åcp4_echo_server) \

129 

	)

131 
	#HELPER_LIST_ALL
(
TE
) \

132 

	)

	@deps/libtuv/test/runner_main.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<uv.h
>

41 
	~"ru¬î.h
"

47 
	#TEST_ENTRY
(
«me
, 
timeout
) \

48 { #«me, #«me, &
run_ã°_
##
«me
, 0, 0, 
timeout
 },

	)

50 
èsk_íåy_t
 
	gTASKS
[] = {

52 
TEST_LIST_ALL
(
TEST_ENTRY
)

53 
TEST_LIST_EXT
(
TEST_ENTRY
)

55 { 
NULL
, NULL, NULL, 0, 0, 0 }

58 #unde‡
TEST_ENTRY


63 
	#HELPER_ENTRY
(
èsk_«me
, 
«me
) \

64 { #èsk_«me, #«me, &
run_hñ≥r_
##
«me
, 1, 0, 0 },

	)

66 
èsk_íåy_t
 
	gHELPERS
[] = {

68 
HELPER_LIST_ALL
(
HELPER_ENTRY
)

70 { 
NULL
, NULL, NULL, 0, 0, 0 }

73 #unde‡
HELPER_ENTRY


77 
	$run_ã°_∑π
(c⁄° * 
ã°
, c⁄° * 
∑π
) {

78 
r
;

79 
èsk_íåy_t
* 
èsk
;

81 
èsk
 = 
TASKS
;Åask->
maö
;Åask++) {

82 i‡(
	`°rcmp
(
ã°
, 
èsk
->
èsk_«me
) == 0 &&

83 
	`°rcmp
(
∑π
, 
èsk
->
¥o˚ss_«me
) == 0) {

84 
r
 = 
èsk
->
	`maö
();

85  
r
;

89 
	`Ârötf
(
°dîr
, "Nÿã°Ö¨àwôhÅh©Çame: %s:%s\n", 
ã°
, 
∑π
);

91 
	}
}

94 
èsk_íåy_t
* 
	$gë_hñ≥r
(c⁄° * 
ã°
) {

95 
r
;

96 
èsk_íåy_t
* 
èsk
;

98 
èsk
 = 
HELPERS
;Åask->
maö
;Åask++) {

99 i‡(
	`°rcmp
(
ã°
, 
èsk
->
èsk_«me
) == 0) {

100  
èsk
;

103  
NULL
;

104 
	}
}

107 
	$run_ã°s
() {

108 
íåy
;

109 
ªsu…
;

110 
èsk_íåy_t
* 
èsk
;

112 
	`Ârötf
(
°dîr
, "Run Helpers...\r\n");

113 
íåy
 = 0;

114 
HELPERS
[
íåy
].
èsk_«me
) {

115 
èsk
 = &
HELPERS
[
íåy
];

117 
	`Ârötf
(
°dîr
, "[%-30s]...", 
èsk
->
èsk_«me
);

118 
ªsu…
 = 
	`run_hñ≥r
(
èsk
);

119 
	`Ârötf
(
°dîr
, "%s\r\n", 
ªsu…
 ? "failed" : "OK");

120 
íåy
++;

123 
íåy
 = 0;

124 
TASKS
[
íåy
].
èsk_«me
) {

125 
èsk
 = &
TASKS
[
íåy
];

127 
	`Ârötf
(
°dîr
, "[%-30s]...", 
èsk
->
èsk_«me
);

128 
ªsu…
 = 
	`run_ã°_⁄e
(
èsk
);

129 
	`Ârötf
(
°dîr
, "%s\r\n", 
ªsu…
 ? "failed" : "OK");

130 
íåy
++;

133 
	`Ârötf
(
°dîr
, "Waiting HelpersÅoÉnd...\r\n");

134 
íåy
 = 0;

135 
HELPERS
[
íåy
].
èsk_«me
) {

136 
èsk
 = &
HELPERS
[
íåy
];

138 
	`Ârötf
(
°dîr
, "[%-30s]...", 
èsk
->
èsk_«me
);

139 
ªsu…
 = 
	`waô_hñ≥r
(
èsk
);

140 
	`Ârötf
(
°dîr
, "%s\r\n", 
ªsu…
 ? "failed" : "OK");

141 
íåy
++;

144 
	`Ârötf
(
°dîr
, "run_testsÉnd\r\n");

147 
	}
}

	@deps/libtuv/test/runner_nuttx.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<±hªad.h
>

40 
	~<sys/waô.h
>

41 
	~<sys/°©.h
>

42 
	~<sys/£À˘.h
>

44 
	~<uv.h
>

46 
	~"ru¬î.h
"

50 
	$∂©f‹m_öô
(
¨gc
, **
¨gv
) {

52 
	}
}

54 
	$run_¶ìp
(
m£c
) {

55 
	`u¶ìp
(
m£c
 * 1000);

56 
	}
}

60 
	#HELPER_PRIORITY
 100

	)

61 
	#HELPER_STACKSIZE
 2048

	)

63 
pid_t
 
	gpid_hñ≥r
;

64 
£m_t
 
	g°¨t£m
;

67 
	$hñ≥r_¥o˚duª
(
¨gc
, *
¨gv
[]) {

68 
èsk_íåy_t
* 
hñ≥r
;

69 
ªt
;

70 
hñ≥r
 = 
	`gë_hñ≥r
(
¨gv
[1]);

71 
	`TUV_ASSERT
(
hñ≥r
);

73 
	`£m_po°
(&
hñ≥r
->
£msync
);

74 
ªt
 = 
hñ≥r
->
	`maö
();

75 
	`TUV_ASSERT
(
ªt
 == 0);

77 
	`£m_po°
(&
hñ≥r
->
£msync
);

79  
ªt
;

80 
	}
}

82 
	$run_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

84 c⁄° * 
¨gv
[3] = {

85 
èsk
->
èsk_«me
,

86 
èsk
->
¥o˚ss_«me
,

90 
	`£m_öô
(&
èsk
->
£msync
, 0, 0);

92 
pid_hñ≥r
 = 
	`èsk_¸óã
(
èsk
->
¥o˚ss_«me
,

93 
HELPER_PRIORITY
, 
HELPER_STACKSIZE
,

94 
hñ≥r_¥o˚duª
,

95 (* c⁄° *)
¨gv
);

97 
	`£m_waô
(&
èsk
->
£msync
);

99 
	`u¶ìp
(1000);

102 
	}
}

104 
	$waô_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

105 
	`£m_waô
(&
èsk
->
£msync
);

106 
	`èsk_dñëe
(
pid_hñ≥r
);

107 
	`£m_de°roy
(&
èsk
->
£msync
);

109 
	}
}

112 
	$run_ã°_⁄e
(
èsk_íåy_t
* 
èsk
) {

113  
	`run_ã°_∑π
(
èsk
->
èsk_«me
,Åask->
¥o˚ss_«me
);

114 
	}
}

120 
	$tuvã°î_íåy
(
¨gc
, *
¨gv
[]) {

121 
	`Ârötf
(
°dîr
, ">>Åuvtester_entry call ok\n");

122 
	`fÊush
(
°dîr
);

123 
	`∂©f‹m_öô
(
¨gc
, 
¨gv
);

124 i‡(
¨gc
>2) {

125  
	`run_ã°_∑π
(
¨gv
[1],árgv[2]);

127  
	`run_ã°s
();

128 
	}
}

	@deps/libtuv/test/runner_tizenrt.c

37 
	~<°rög.h
>

38 
	~<uni°d.h
>

39 
	~<±hªad.h
>

40 
	~<sys/waô.h
>

41 
	~<sys/°©.h
>

42 
	~<sys/£À˘.h
>

44 
	~<uv.h
>

46 
	~"ru¬î.h
"

50 
	$∂©f‹m_öô
(
¨gc
, **
¨gv
) {

52 
	}
}

54 
	$run_¶ìp
(
m£c
) {

55 
	`u¶ìp
(
m£c
 * 1000);

56 
	}
}

60 
	#HELPER_PRIORITY
 100

	)

61 
	#HELPER_STACKSIZE
 2048

	)

63 
pid_t
 
	gpid_hñ≥r
;

64 
£m_t
 
	g°¨t£m
;

67 
	$hñ≥r_¥o˚duª
(
¨gc
, *
¨gv
[]) {

68 
èsk_íåy_t
* 
hñ≥r
;

69 
ªt
;

70 
hñ≥r
 = 
	`gë_hñ≥r
(
¨gv
[1]);

71 
	`TUV_ASSERT
(
hñ≥r
);

73 
	`£m_po°
(&
hñ≥r
->
£msync
);

74 
ªt
 = 
hñ≥r
->
	`maö
();

75 
	`TUV_ASSERT
(
ªt
 == 0);

77 
	`£m_po°
(&
hñ≥r
->
£msync
);

79  
ªt
;

80 
	}
}

82 
	$run_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

84 c⁄° * 
¨gv
[3] = {

85 
èsk
->
èsk_«me
,

86 
èsk
->
¥o˚ss_«me
,

90 
	`£m_öô
(&
èsk
->
£msync
, 0, 0);

92 
pid_hñ≥r
 = 
	`èsk_¸óã
(
èsk
->
¥o˚ss_«me
,

93 
HELPER_PRIORITY
, 
HELPER_STACKSIZE
,

94 
hñ≥r_¥o˚duª
,

95 (* c⁄° *)
¨gv
);

97 
	`£m_waô
(&
èsk
->
£msync
);

99 
	`u¶ìp
(1000);

102 
	}
}

104 
	$waô_hñ≥r
(
èsk_íåy_t
* 
èsk
) {

105 
	`£m_waô
(&
èsk
->
£msync
);

106 
	`èsk_dñëe
(
pid_hñ≥r
);

107 
	`£m_de°roy
(&
èsk
->
£msync
);

109 
	}
}

112 
	$run_ã°_⁄e
(
èsk_íåy_t
* 
èsk
) {

113  
	`run_ã°_∑π
(
èsk
->
èsk_«me
,Åask->
¥o˚ss_«me
);

114 
	}
}

120 
	$tuvã°î_íåy
(
¨gc
, *
¨gv
[]) {

121 
	`Ârötf
(
°dîr
, ">>Åuvtester_entry call ok\n");

122 
	`fÊush
(
°dîr
);

123 
	`∂©f‹m_öô
(
¨gc
, 
¨gv
);

124 i‡(
¨gc
>2) {

125  
	`run_ã°_∑π
(
¨gv
[1],árgv[2]);

127  
	`run_ã°s
();

128 
	}
}

	@deps/libtuv/test/test_active.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

45 
	g˛o£_cb_ˇŒed
 = 0;

48 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

49 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

50 
˛o£_cb_ˇŒed
++;

51 
	}
}

54 
	$timî_cb
(
uv_timî_t
* 
h™dÀ
) {

55 
	`TUV_ASSERT
(0 && "timer_cb shouldÇot have been called");

56 
	}
}

59 
	$TEST_IMPL
(
a˘ive
) {

60 
r
;

61 
uv_timî_t
 
timî
;

63 
˛o£_cb_ˇŒed
 = 0;

65 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
timî
);

66 
	`TUV_ASSERT
(
r
 == 0);

69 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
timî
));

70 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
timî
));

72 
r
 = 
	`uv_timî_°¨t
(&
timî
, 
timî_cb
, 1000, 0);

73 
	`TUV_ASSERT
(
r
 == 0);

75 
	`TUV_ASSERT
(1 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
timî
));

76 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
timî
));

78 
r
 = 
	`uv_timî_°›
(&
timî
);

79 
	`TUV_ASSERT
(
r
 == 0);

81 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
timî
));

82 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
timî
));

84 
r
 = 
	`uv_timî_°¨t
(&
timî
, 
timî_cb
, 1000, 0);

85 
	`TUV_ASSERT
(
r
 == 0);

87 
	`TUV_ASSERT
(1 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
timî
));

88 
	`TUV_ASSERT
(0 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
timî
));

90 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
timî
, 
˛o£_cb
);

92 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
timî
));

93 
	`TUV_ASSERT
(1 =
	`uv_is_˛osög
((
uv_h™dÀ_t
*Ë&
timî
));

95 
r
 = 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

96 
	`TUV_ASSERT
(
r
 == 0);

98 
	`TUV_ASSERT
(
˛o£_cb_ˇŒed
 == 1);

100 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

103 
	}
}

	@deps/libtuv/test/test_async.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

44 
uv_thªad_t
 
	g_thªad
;

45 
uv_muãx_t
 
	g_muãx
;

47 
uv_timî_t
 
	g_timî
;

48 
uv_async_t
 
	g_async
;

50 
	g_async_cb_ˇŒed
;

51 
	g_timî_cb_ˇŒed
;

52 
	g_˛o£_cb_ˇŒed
;

55 
	$thªad_cb
(*
¨g
) {

56 
n
;

57 
r
;

60 
	`uv_muãx_lock
(&
_muãx
);

61 
n
 = 
_async_cb_ˇŒed
;

62 
	`uv_muãx_u∆ock
(&
_muãx
);

64 i‡(
n
 == 3) {

68 
r
 = 
	`uv_async_£nd
(&
_async
);

69 
	`TUV_ASSERT
(
r
 == 0);

71 
	`uv_¶ìp
(1);

73 
	}
}

76 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

77 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

78 
_˛o£_cb_ˇŒed
++;

79 
	}
}

82 
	$async_cb
(
uv_async_t
* 
h™dÀ
) {

83 
n
;

85 
	`TUV_ASSERT
(
h™dÀ
 =&
_async
);

87 
	`uv_muãx_lock
(&
_muãx
);

88 
n
 = ++
_async_cb_ˇŒed
;

89 
	`uv_muãx_u∆ock
(&
_muãx
);

91 i‡(
n
 == 3) {

92 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
_async
, 
˛o£_cb
);

94 
	}
}

97 
	$timî_cb
(
uv_timî_t
* 
timî
) {

98 
r
;

100 
	`TUV_ASSERT
(
timî
 =&
_timî
);

101 
_timî_cb_ˇŒed
++;

103 
r
 = 
	`uv_thªad_¸óã
(&
_thªad
, 
thªad_cb
, 
NULL
);

104 
	`TUV_ASSERT
(
r
 == 0);

105 
	`uv_muãx_u∆ock
(&
_muãx
);

107 
	`uv_˛o£
((
uv_h™dÀ_t
*)
timî
, 
NULL
);

108 
	}
}

111 
	$TEST_IMPL
(
async
) {

112 
r
;

113 
uv_lo›_t
* 
lo›
 = 
	`uv_deÁu…_lo›
();

115 
_async_cb_ˇŒed
 = 0;

116 
_timî_cb_ˇŒed
 = 0;

117 
_˛o£_cb_ˇŒed
 = 0;

119 
r
 = 
	`uv_muãx_öô
(&
_muãx
);

120 
	`TUV_ASSERT
(
r
 == 0);

121 
	`uv_muãx_lock
(&
_muãx
);

123 
r
 = 
	`uv_async_öô
(
lo›
, &
_async
, 
async_cb
);

124 
	`TUV_ASSERT
(
r
 == 0);

126 
r
 = 
	`uv_timî_öô
(
lo›
, &
_timî
);

127 
	`TUV_ASSERT
(
r
 == 0);

128 
r
 = 
	`uv_timî_°¨t
(&
_timî
, 
timî_cb
, 250, 0);

129 
	`TUV_ASSERT
(
r
 == 0);

131 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

132 
	`TUV_ASSERT
(
r
 == 0);

134 
	`TUV_ASSERT
(
_async_cb_ˇŒed
 == 3);

135 
	`TUV_ASSERT
(
_˛o£_cb_ˇŒed
 == 1);

136 
	`TUV_ASSERT
(
_timî_cb_ˇŒed
 == 1);

138 
	`TUV_ASSERT
(0 =
	`uv_thªad_joö
(&
_thªad
));

140 
	`uv_muãx_de°roy
(&
_muãx
);

141 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

144 
	}
}

	@deps/libtuv/test/test_condvar.c

37 
	~<°rög.h
>

38 
	~<î∫o.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

45 
uv_muãx_t
 
	mmuãx
;

46 
uv_c⁄d_t
 
	mc⁄d
;

47 
	mdñay
;

48 
	mu£_brﬂdˇ°
;

49 vﬁ©ûê
	mpo°ed
;

50 } 
	tw‹kî_c⁄fig
;

53 
	$w‹kî
(* 
¨g
) {

54 
w‹kî_c⁄fig
* 
c
 = (w‹kî_c⁄fig*)
¨g
;

56 i‡(
c
->
dñay
)

57 
	`run_¶ìp
(
c
->
dñay
);

59 
	`uv_muãx_lock
(&
c
->
muãx
);

60 
	`TUV_ASSERT
(
c
->
po°ed
 == 0);

61 
c
->
po°ed
 = 1;

62 i‡(
c
->
u£_brﬂdˇ°
)

63 
	`uv_c⁄d_brﬂdˇ°
(&
c
->
c⁄d
);

65 
	`uv_c⁄d_sig«l
(&
c
->
c⁄d
);

66 
	`uv_muãx_u∆ock
(&
c
->
muãx
);

67 
	}
}

70 
	$TEST_IMPL
(
c⁄dv¨_1
) {

71 
uv_thªad_t
 
thªad
;

72 
w‹kî_c⁄fig
 
wc
;

74 
	`mem£t
(&
wc
, 0, (wc));

76 
	`TUV_ASSERT
(0 =
	`uv_c⁄d_öô
(&
wc
.
c⁄d
));

77 
	`TUV_ASSERT
(0 =
	`uv_muãx_öô
(&
wc
.
muãx
));

78 
	`TUV_ASSERT
(0 =
	`uv_thªad_¸óã
(&
thªad
, 
w‹kî
, &
wc
));

80 
	`uv_muãx_lock
(&
wc
.
muãx
);

81 
	`run_¶ìp
(100);

82 
	`uv_c⁄d_waô
(&
wc
.
c⁄d
, &wc.
muãx
);

83 
	`TUV_ASSERT
(
wc
.
po°ed
 == 1);

84 
	`uv_muãx_u∆ock
(&
wc
.
muãx
);

86 
	`TUV_ASSERT
(0 =
	`uv_thªad_joö
(&
thªad
));

87 
	`uv_muãx_de°roy
(&
wc
.
muãx
);

88 
	`uv_c⁄d_de°roy
(&
wc
.
c⁄d
);

91 
	}
}

94 
	$TEST_IMPL
(
c⁄dv¨_2
) {

95 
uv_thªad_t
 
thªad
;

96 
w‹kî_c⁄fig
 
wc
;

98 
	`mem£t
(&
wc
, 0, (wc));

99 
wc
.
dñay
 = 100;

101 
	`TUV_ASSERT
(0 =
	`uv_c⁄d_öô
(&
wc
.
c⁄d
));

102 
	`TUV_ASSERT
(0 =
	`uv_muãx_öô
(&
wc
.
muãx
));

103 
	`TUV_ASSERT
(0 =
	`uv_thªad_¸óã
(&
thªad
, 
w‹kî
, &
wc
));

105 
	`uv_muãx_lock
(&
wc
.
muãx
);

106 
	`uv_c⁄d_waô
(&
wc
.
c⁄d
, &wc.
muãx
);

107 
	`uv_muãx_u∆ock
(&
wc
.
muãx
);

109 
	`TUV_ASSERT
(0 =
	`uv_thªad_joö
(&
thªad
));

110 
	`uv_muãx_de°roy
(&
wc
.
muãx
);

111 
	`uv_c⁄d_de°roy
(&
wc
.
c⁄d
);

114 
	}
}

117 
	$TEST_IMPL
(
c⁄dv¨_3
) {

118 
uv_thªad_t
 
thªad
;

119 
w‹kî_c⁄fig
 
wc
;

120 
r
;

122 
	`mem£t
(&
wc
, 0, (wc));

123 
wc
.
dñay
 = 100;

125 
	`TUV_ASSERT
(0 =
	`uv_c⁄d_öô
(&
wc
.
c⁄d
));

126 
	`TUV_ASSERT
(0 =
	`uv_muãx_öô
(&
wc
.
muãx
));

127 
	`TUV_ASSERT
(0 =
	`uv_thªad_¸óã
(&
thªad
, 
w‹kî
, &
wc
));

129 
	`uv_muãx_lock
(&
wc
.
muãx
);

130 
r
 = 
	`uv_c⁄d_timedwaô
(&
wc
.
c⁄d
, &wc.
muãx
, (
uöt64_t
)(50 * 1e6));

131 
	`TUV_ASSERT
(
r
 =
UV_ETIMEDOUT
);

132 
	`uv_muãx_u∆ock
(&
wc
.
muãx
);

134 
	`TUV_ASSERT
(0 =
	`uv_thªad_joö
(&
thªad
));

135 
	`uv_muãx_de°roy
(&
wc
.
muãx
);

136 
	`uv_c⁄d_de°roy
(&
wc
.
c⁄d
);

139 
	}
}

142 
	$TEST_IMPL
(
c⁄dv¨_4
) {

143 
uv_thªad_t
 
thªad
;

144 
w‹kî_c⁄fig
 
wc
;

145 
r
;

147 
	`mem£t
(&
wc
, 0, (wc));

148 
wc
.
dñay
 = 100;

150 
	`TUV_ASSERT
(0 =
	`uv_c⁄d_öô
(&
wc
.
c⁄d
));

151 
	`TUV_ASSERT
(0 =
	`uv_muãx_öô
(&
wc
.
muãx
));

152 
	`TUV_ASSERT
(0 =
	`uv_thªad_¸óã
(&
thªad
, 
w‹kî
, &
wc
));

154 
	`uv_muãx_lock
(&
wc
.
muãx
);

155 
r
 = 
	`uv_c⁄d_timedwaô
(&
wc
.
c⁄d
, &wc.
muãx
, (
uöt64_t
)(250 * 1e6));

156 
	`TUV_ASSERT
(
r
 == 0);

157 
	`uv_muãx_u∆ock
(&
wc
.
muãx
);

159 
	`TUV_ASSERT
(0 =
	`uv_thªad_joö
(&
thªad
));

160 
	`uv_muãx_de°roy
(&
wc
.
muãx
);

161 
	`uv_c⁄d_de°roy
(&
wc
.
c⁄d
);

164 
	}
}

167 
	$TEST_IMPL
(
c⁄dv¨_5
) {

168 
uv_thªad_t
 
thªad
;

169 
w‹kî_c⁄fig
 
wc
;

171 
	`mem£t
(&
wc
, 0, (wc));

172 
wc
.
u£_brﬂdˇ°
 = 1;

173 
wc
.
dñay
 = 100;

175 
	`TUV_ASSERT
(0 =
	`uv_c⁄d_öô
(&
wc
.
c⁄d
));

176 
	`TUV_ASSERT
(0 =
	`uv_muãx_öô
(&
wc
.
muãx
));

177 
	`TUV_ASSERT
(0 =
	`uv_thªad_¸óã
(&
thªad
, 
w‹kî
, &
wc
));

179 
	`uv_muãx_lock
(&
wc
.
muãx
);

180 
	`run_¶ìp
(100);

181 
	`uv_c⁄d_waô
(&
wc
.
c⁄d
, &wc.
muãx
);

182 
	`TUV_ASSERT
(
wc
.
po°ed
 == 1);

183 
	`uv_muãx_u∆ock
(&
wc
.
muãx
);

185 
	`TUV_ASSERT
(0 =
	`uv_thªad_joö
(&
thªad
));

186 
	`uv_muãx_de°roy
(&
wc
.
muãx
);

187 
	`uv_c⁄d_de°roy
(&
wc
.
c⁄d
);

190 
	}
}

	@deps/libtuv/test/test_cwd.c

16 
	~<uv.h
>

17 
	~"ru¬î.h
"

19 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

20 
	#DIR_BUFF_LENGTH
 64

	)

22 
	#DIR_BUFF_LENGTH
 512

	)

25 
	gbuf„r
[
DIR_BUFF_LENGTH
];

27 
	$TEST_IMPL
(
cwd
) {

28 
size_t
 
size
;

29 
îr
;

31 
size
 = (
buf„r
);

32 
îr
 = 
	`uv_cwd
(
buf„r
, &
size
);

33 
	`TUV_ASSERT
(
îr
 == 0);

34 
	`TDDDLOG
("uv_cwd: %s\n", 
buf„r
);

37 
	}
}

	@deps/libtuv/test/test_error.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

39 
	~<°rög.h
>

41 
	~<uv.h
>

42 
	~"ru¬î.h
"

51 
	$TEST_IMPL
(
îr‹_mesßge
) {

62 
	`TUV_ASSERT
(
	`°r°r
(
	`uv_°ªº‹
(
UV_EINVAL
), "Suc˚ss"Ë=
NULL
);

63 
	`TUV_ASSERT
(
	`°rcmp
(
	`uv_°ªº‹
(1337), "UnknownÉrror") == 0);

64 
	`TUV_ASSERT
(
	`°rcmp
(
	`uv_°ªº‹
(-1337), "UnknownÉrror") == 0);

67 
	}
}

	@deps/libtuv/test/test_fs.c

37 
	~<°dio.h
>

38 
	~<uni°d.h
>

39 
	~<°rög.h
>

40 
	~<î∫o.h
>

41 
	~<f˙é.h
>

42 
	~<sys/°©.h
>

43 
	~<uni°d.h
>

44 
	~<dúít.h
>

46 
	~<uv.h
>

48 
	~"ru¬î.h
"

53 #i‡
deföed
(
__löux__
Ë|| deföed(
__APPLE__
)

54 c⁄° * 
	gfûíame1
 = "test_file";

55 c⁄° * 
	gfûíame2
 = "test_file2";

56 #ñi‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

57 c⁄° * 
	gfûíame1
 = "/mnt/sdcard/test_file";

58 c⁄° * 
	gfûíame2
 = "/mnt/sdcard/test_file2";

63 c⁄° * 
	m∑th
;

64 
	m©ime
;

65 
	mmtime
;

66 } 
	tutime_check_t
;

69 
	gdummy_cb_cou¡
;

70 
	g˛o£_cb_cou¡
;

71 
	g¸óã_cb_cou¡
;

72 
	g›í_cb_cou¡
;

73 
	gªad_cb_cou¡
;

74 
	gwrôe_cb_cou¡
;

75 
	gu∆ök_cb_cou¡
;

76 
	gmkdú_cb_cou¡
;

77 
	gmkdãmp_cb_cou¡
;

78 
	grmdú_cb_cou¡
;

79 
	gsˇndú_cb_cou¡
;

80 
	g°©_cb_cou¡
;

81 
	gª«me_cb_cou¡
;

82 
	gfsync_cb_cou¡
;

83 
	gfd©async_cb_cou¡
;

84 
	g·runˇã_cb_cou¡
;

85 
	g£ndfûe_cb_cou¡
;

86 
	gf°©_cb_cou¡
;

87 
	gac˚ss_cb_cou¡
;

88 
	gchmod_cb_cou¡
;

89 
	gfchmod_cb_cou¡
;

90 
	gchown_cb_cou¡
;

91 
	gfchown_cb_cou¡
;

92 
	glök_cb_cou¡
;

93 
	gsymlök_cb_cou¡
;

94 
	gªadlök_cb_cou¡
;

95 
	gutime_cb_cou¡
;

96 
	gfutime_cb_cou¡
;

98 
uv_lo›_t
* 
	glo›
;

100 
uv_fs_t
 
	g›í_ªq1
;

101 
uv_fs_t
 
	g›í_ªq2
;

102 
uv_fs_t
 
	gªad_ªq
;

103 
uv_fs_t
 
	gwrôe_ªq
;

104 
uv_fs_t
 
	gu∆ök_ªq
;

105 
uv_fs_t
 
	g˛o£_ªq
;

106 
uv_fs_t
 
	gmkdú_ªq
;

107 
uv_fs_t
 
	gmkdãmp_ªq1
;

108 
uv_fs_t
 
	gmkdãmp_ªq2
;

109 
uv_fs_t
 
	grmdú_ªq
;

110 
uv_fs_t
 
	gsˇndú_ªq
;

111 
uv_fs_t
 
	g°©_ªq
;

112 
uv_fs_t
 
	gª«me_ªq
;

113 
uv_fs_t
 
	gfsync_ªq
;

114 
uv_fs_t
 
	gfd©async_ªq
;

115 
uv_fs_t
 
	g·runˇã_ªq
;

116 
uv_fs_t
 
	g£ndfûe_ªq
;

117 
uv_fs_t
 
	gutime_ªq
;

118 
uv_fs_t
 
	gfutime_ªq
;

120 
	gbuf
[32];

121 
	gbuf2
[32];

122 
	gã°_buf
[] = "test-buffer\n";

123 
	gã°_buf2
[] = "second-buffer\n";

124 
uv_buf_t
 
	giov
;

126 
	$check_≥rmissi⁄
(c⁄° * 
fûíame
, 
mode
) {

127 
r
;

128 
uv_fs_t
 
ªq
;

129 
uv_°©_t
* 
s
;

131 
r
 = 
	`uv_fs_°©
(
	`uv_deÁu…_lo›
(), &
ªq
, 
fûíame
, 
NULL
);

132 
	`TUV_ASSERT
(
r
 == 0);

133 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

135 
s
 = &
ªq
.
°©buf
;

136 
	`TUV_ASSERT
((
s
->
°_mode
 & 0777Ë=
mode
);

138 
	`uv_fs_ªq_˛ónup
(&
ªq
);

139 
	}
}

142 
	$dummy_cb
(
uv_fs_t
* 
ªq
) {

143 (Ë
ªq
;

144 
dummy_cb_cou¡
++;

145 
	}
}

148 
	$lök_cb
(
uv_fs_t
* 
ªq
) {

149 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_LINK
);

150 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

151 
lök_cb_cou¡
++;

152 
	`uv_fs_ªq_˛ónup
(
ªq
);

153 
	}
}

156 
	$symlök_cb
(
uv_fs_t
* 
ªq
) {

157 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_SYMLINK
);

158 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

159 
symlök_cb_cou¡
++;

160 
	`uv_fs_ªq_˛ónup
(
ªq
);

161 
	}
}

163 
	$ªadlök_cb
(
uv_fs_t
* 
ªq
) {

164 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_READLINK
);

165 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

166 
	`TUV_ASSERT
(
	`°rcmp
((c⁄° *)
ªq
->
±r
, "test_file_symlink2") == 0);

167 
ªadlök_cb_cou¡
++;

168 
	`uv_fs_ªq_˛ónup
(
ªq
);

169 
	}
}

172 
	$ac˚ss_cb
(
uv_fs_t
* 
ªq
) {

173 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_ACCESS
);

174 
ac˚ss_cb_cou¡
++;

175 
	`uv_fs_ªq_˛ónup
(
ªq
);

176 
	}
}

179 
	$fchmod_cb
(
uv_fs_t
* 
ªq
) {

180 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FCHMOD
);

181 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

182 
fchmod_cb_cou¡
++;

183 
	`uv_fs_ªq_˛ónup
(
ªq
);

184 
	`check_≥rmissi⁄
(
fûíame1
, *(*)
ªq
->
d©a
);

185 
	}
}

188 
	$chmod_cb
(
uv_fs_t
* 
ªq
) {

189 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_CHMOD
);

190 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

191 
chmod_cb_cou¡
++;

192 
	`uv_fs_ªq_˛ónup
(
ªq
);

193 
	`check_≥rmissi⁄
(
fûíame1
, *(*)
ªq
->
d©a
);

194 
	}
}

197 
	$fchown_cb
(
uv_fs_t
* 
ªq
) {

198 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FCHOWN
);

199 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

200 
fchown_cb_cou¡
++;

201 
	`uv_fs_ªq_˛ónup
(
ªq
);

202 
	}
}

205 
	$chown_cb
(
uv_fs_t
* 
ªq
) {

206 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_CHOWN
);

207 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

208 
chown_cb_cou¡
++;

209 
	`uv_fs_ªq_˛ónup
(
ªq
);

210 
	}
}

212 
	$chown_roŸ_cb
(
uv_fs_t
* 
ªq
) {

213 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_CHOWN
);

214 #i‡
	`deföed
(
_WIN32
Ë|| deföed(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

216 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

221 i‡(
	`gëeuid
() == 0)

222 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

224 
	`TUV_ASSERT
(
ªq
->
ªsu…
 =
UV_EPERM
);

226 
chown_cb_cou¡
++;

227 
	`uv_fs_ªq_˛ónup
(
ªq
);

228 
	}
}

230 
	$u∆ök_cb
(
uv_fs_t
* 
ªq
) {

231 
	`TUV_ASSERT
(
ªq
 =&
u∆ök_ªq
);

232 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_UNLINK
);

233 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

234 
u∆ök_cb_cou¡
++;

235 
	`uv_fs_ªq_˛ónup
(
ªq
);

236 
	}
}

238 
	$f°©_cb
(
uv_fs_t
* 
ªq
) {

239 
uv_°©_t
* 
s
 = (uv_°©_t*)
ªq
->
±r
;

240 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FSTAT
);

241 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

242 
	`TUV_ASSERT
(
s
->
°_size
 =(
ã°_buf
));

243 
	`uv_fs_ªq_˛ónup
(
ªq
);

244 
f°©_cb_cou¡
++;

245 
	}
}

248 
	$˛o£_cb
(
uv_fs_t
* 
ªq
) {

249 
r
;

250 
	`TUV_ASSERT
(
ªq
 =&
˛o£_ªq
);

251 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_CLOSE
);

252 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

253 
˛o£_cb_cou¡
++;

254 
	`uv_fs_ªq_˛ónup
(
ªq
);

255 i‡(
˛o£_cb_cou¡
 == 3) {

256 
r
 = 
	`uv_fs_u∆ök
(
lo›
, &
u∆ök_ªq
, 
fûíame2
, 
u∆ök_cb
);

257 
	`TUV_ASSERT
(
r
 == 0);

259 
	}
}

262 
	$·runˇã_cb
(
uv_fs_t
* 
ªq
) {

263 
r
;

264 
	`TUV_ASSERT
(
ªq
 =&
·runˇã_ªq
);

265 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FTRUNCATE
);

266 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

267 
·runˇã_cb_cou¡
++;

268 
	`uv_fs_ªq_˛ónup
(
ªq
);

269 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
˛o£_cb
);

270 
	`TUV_ASSERT
(
r
 == 0);

271 
	}
}

274 
	$ªad_cb
(
uv_fs_t
* 
ªq
) {

275 
r
;

276 
	`TUV_ASSERT
(
ªq
 =&
ªad_ªq
);

277 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_READ
);

278 
	`TUV_ASSERT
(
ªq
->
ªsu…
 >= 0);

279 
ªad_cb_cou¡
++;

280 
	`uv_fs_ªq_˛ónup
(
ªq
);

281 i‡(
ªad_cb_cou¡
 == 1) {

282 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, 
ã°_buf
) == 0);

283 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

284 
r
 = 
	`uv_fs_·runˇã
(
lo›
, &
·runˇã_ªq
, 
›í_ªq1
.
ªsu…
, 7,

285 
·runˇã_cb
);

288 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
˛o£_cb
);

291 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

292 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, "test-bu") == 0);

294 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, 
ã°_buf
) == 0);

296 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
˛o£_cb
);

298 
	`TUV_ASSERT
(
r
 == 0);

299 
	}
}

302 
	$›í_cb
(
uv_fs_t
* 
ªq
) {

303 
r
;

304 
	`TUV_ASSERT
(
ªq
 =&
›í_ªq1
);

305 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_OPEN
);

306 i‡(
ªq
->
ªsu…
 < 0) {

307 
	`TDLOG
("asyn¯›íÉº‹: %d\n", ()
ªq
->
ªsu…
);

308 
	`TUV_ASSERT
(0);

310 
›í_cb_cou¡
++;

312 
	`TUV_ASSERT
(
ªq
->
∑th
);

313 
	`TUV_ASSERT
(
	`memcmp
(
ªq
->
∑th
, 
fûíame2
, 
	`°æí
(filename2)) == 0);

314 
	`uv_fs_ªq_˛ónup
(
ªq
);

315 
	`mem£t
(
buf
, 0, (buf));

316 
iov
 = 
	`uv_buf_öô
(
buf
, (buf));

317 
r
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
ªad_cb
);

318 
	`TUV_ASSERT
(
r
 == 0);

319 
	}
}

322 
	$›í_cb_sim∂e
(
uv_fs_t
* 
ªq
) {

323 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_OPEN
);

324 i‡(
ªq
->
ªsu…
 < 0) {

325 
	`TDLOG
("asyn¯›íÉº‹: %d\n", ()
ªq
->
ªsu…
);

326 
	`TUV_ASSERT
(0);

328 
›í_cb_cou¡
++;

330 
	`TUV_ASSERT
(
ªq
->
∑th
);

331 
	`uv_fs_ªq_˛ónup
(
ªq
);

332 
	}
}

335 
	$fsync_cb
(
uv_fs_t
* 
ªq
) {

336 
r
;

337 
	`TUV_ASSERT
(
ªq
 =&
fsync_ªq
);

338 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FSYNC
);

339 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

340 
fsync_cb_cou¡
++;

342 
	`uv_fs_ªq_˛ónup
(
ªq
);

343 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
˛o£_cb
);

344 
	`TUV_ASSERT
(
r
 == 0);

345 
	}
}

348 
	$fd©async_cb
(
uv_fs_t
* 
ªq
) {

349 
r
;

350 
	`TUV_ASSERT
(
ªq
 =&
fd©async_ªq
);

351 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FDATASYNC
);

352 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

353 
fd©async_cb_cou¡
++;

355 
	`uv_fs_ªq_˛ónup
(
ªq
);

356 
r
 = 
	`uv_fs_fsync
(
lo›
, &
fsync_ªq
, 
›í_ªq1
.
ªsu…
, 
fsync_cb
);

357 
	`TUV_ASSERT
(
r
 == 0);

358 
	}
}

361 
	$wrôe_cb
(
uv_fs_t
* 
ªq
) {

362 
r
;

363 
	`TUV_ASSERT
(
ªq
 =&
wrôe_ªq
);

364 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_WRITE
);

365 
	`TUV_ASSERT
(
ªq
->
ªsu…
 >= 0);

366 
wrôe_cb_cou¡
++;

368 
	`uv_fs_ªq_˛ónup
(
ªq
);

369 
r
 = 
	`uv_fs_fd©async
(
lo›
, &
fd©async_ªq
, 
›í_ªq1
.
ªsu…
, 
fd©async_cb
);

370 
	`TUV_ASSERT
(
r
 == 0);

371 
	}
}

374 
	$¸óã_cb
(
uv_fs_t
* 
ªq
) {

375 
r
;

376 
	`TUV_ASSERT
(
ªq
 =&
›í_ªq1
);

377 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_OPEN
);

378 
	`TUV_ASSERT
(
ªq
->
ªsu…
 >= 0);

379 
¸óã_cb_cou¡
++;

380 
	`uv_fs_ªq_˛ónup
(
ªq
);

381 
iov
 = 
	`uv_buf_öô
(
ã°_buf
, (test_buf));

383 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
wrôe_ªq
, 
ªq
->
ªsu…
, &
iov
, 1, -1, 
wrôe_cb
);

384 
	`TUV_ASSERT
(
r
 == 0);

385 
	}
}

388 
	$ª«me_cb
(
uv_fs_t
* 
ªq
) {

389 
	`TUV_ASSERT
(
ªq
 =&
ª«me_ªq
);

390 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_RENAME
);

391 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

392 
ª«me_cb_cou¡
++;

394 
	`uv_fs_ªq_˛ónup
(
ªq
);

395 
	}
}

398 
	$mkdú_cb
(
uv_fs_t
* 
ªq
) {

399 
	`TUV_ASSERT
(
ªq
 =&
mkdú_ªq
);

400 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_MKDIR
);

401 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

402 
mkdú_cb_cou¡
++;

404 
	`TUV_ASSERT
(
ªq
->
∑th
);

405 
	`TUV_ASSERT
(
	`memcmp
(
ªq
->
∑th
, "test_dir\0", 9) == 0);

406 
	`uv_fs_ªq_˛ónup
(
ªq
);

407 
	}
}

410 
	$check_mkdãmp_ªsu…
(
uv_fs_t
* 
ªq
) {

411 
r
;

413 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_MKDTEMP
);

414 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

415 
	`TUV_ASSERT
(
ªq
->
∑th
);

416 
	`TUV_ASSERT
(
	`°æí
(
ªq
->
∑th
) == 15);

417 
	`TUV_ASSERT
(
	`memcmp
(
ªq
->
∑th
, "test_dir_", 9) == 0);

418 
	`TUV_ASSERT
(
	`memcmp
(
ªq
->
∑th
 + 9, "XXXXXX", 6) != 0);

419 
	`check_≥rmissi⁄
(
ªq
->
∑th
, 0700);

422 
r
 = 
	`uv_fs_°©
(
	`uv_deÁu…_lo›
(), &
°©_ªq
, 
ªq
->
∑th
, 
NULL
);

423 
	`TUV_ASSERT
(
r
 == 0);

424 
	`TUV_ASSERT
(((
uv_°©_t
*)
°©_ªq
.
±r
)->
°_mode
 & 
S_IFDIR
);

425 
	`uv_fs_ªq_˛ónup
(&
°©_ªq
);

426 
	}
}

429 
	$mkdãmp_cb
(
uv_fs_t
* 
ªq
) {

430 
	`TUV_ASSERT
(
ªq
 =&
mkdãmp_ªq1
);

431 
	`check_mkdãmp_ªsu…
(
ªq
);

432 
mkdãmp_cb_cou¡
++;

433 
	}
}

436 
	$rmdú_cb
(
uv_fs_t
* 
ªq
) {

437 
	`TUV_ASSERT
(
ªq
 =&
rmdú_ªq
);

438 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_RMDIR
);

439 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

440 
rmdú_cb_cou¡
++;

441 
	`TUV_ASSERT
(
ªq
->
∑th
);

442 
	`TUV_ASSERT
(
	`memcmp
(
ªq
->
∑th
, "test_dir\0", 9) == 0);

443 
	`uv_fs_ªq_˛ónup
(
ªq
);

444 
	}
}

446 
	$as£π_is_fûe_ty≥
(
uv_dúít_t
 
dít
) {

447 #ifde‡
HAVE_DIRENT_TYPES


457 #i‡
	`deföed
(
__APPLE__
Ë|| deföed(
_WIN32
)

458 
	`TUV_ASSERT
(
dít
.
ty≥
 =
UV_DIRENT_FILE
);

460 
	`TUV_ASSERT
(
dít
.
ty≥
 =
UV_DIRENT_FILE
 || dít.ty≥ =
UV_DIRENT_UNKNOWN
);

463 
	`TUV_ASSERT
(
dít
.
ty≥
 =
UV_DIRENT_UNKNOWN
);

465 
	}
}

467 
	$sˇndú_cb
(
uv_fs_t
* 
ªq
) {

468 
uv_dúít_t
 
dít
;

469 
	`TUV_ASSERT
(
ªq
 =&
sˇndú_ªq
);

470 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_SCANDIR
);

471 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 2);

472 
	`TUV_ASSERT
(
ªq
->
±r
);

474 
UV_EOF
 !
	`uv_fs_sˇndú_√xt
(
ªq
, &
dít
)) {

475 
	`TUV_ASSERT
(
	`°rcmp
(
dít
.
«me
, "file1") == 0 || strcmp(dent.name, "file2") == 0);

476 
	`TUV_ASSERT
(
dít
.
ty≥
 =
UV_DIRENT_FILE
 || dít.ty≥ =
UV_DIRENT_UNKNOWN
);

478 
sˇndú_cb_cou¡
++;

479 
	`TUV_ASSERT
(
ªq
->
∑th
);

480 
	`TUV_ASSERT
(
	`memcmp
(
ªq
->
∑th
, "test_dir\0", 9) == 0);

481 
	`uv_fs_ªq_˛ónup
(
ªq
);

482 
	`TUV_ASSERT
(!
ªq
->
±r
);

483 
	}
}

486 
	$em±y_sˇndú_cb
(
uv_fs_t
* 
ªq
) {

487 
uv_dúít_t
 
dít
;

489 
	`TUV_ASSERT
(
ªq
 =&
sˇndú_ªq
);

490 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_SCANDIR
);

491 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

492 
	`TUV_ASSERT
(
ªq
->
±r
 =
NULL
);

493 
	`TUV_ASSERT
(
UV_EOF
 =
	`uv_fs_sˇndú_√xt
(
ªq
, &
dít
));

494 
	`uv_fs_ªq_˛ónup
(
ªq
);

495 
sˇndú_cb_cou¡
++;

496 
	}
}

499 
	$fûe_sˇndú_cb
(
uv_fs_t
* 
ªq
) {

500 
	`TUV_ASSERT
(
ªq
 =&
sˇndú_ªq
);

501 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_SCANDIR
);

502 
	`TUV_ASSERT
(
ªq
->
ªsu…
 =
UV_ENOTDIR
);

503 
	`TUV_ASSERT
(
ªq
->
±r
 =
NULL
);

504 
	`uv_fs_ªq_˛ónup
(
ªq
);

505 
sˇndú_cb_cou¡
++;

506 
	}
}

509 
	$°©_cb
(
uv_fs_t
* 
ªq
) {

510 
	`TUV_ASSERT
(
ªq
 =&
°©_ªq
);

511 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_STAT
 ||Ñeq->fs_ty≥ =
UV_FS_LSTAT
);

512 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

513 
	`TUV_ASSERT
(
ªq
->
±r
);

514 
°©_cb_cou¡
++;

515 
	`uv_fs_ªq_˛ónup
(
ªq
);

516 
	`TUV_ASSERT
(!
ªq
->
±r
);

517 
	}
}

520 
	$£ndfûe_cb
(
uv_fs_t
* 
ªq
) {

521 
	`TUV_ASSERT
(
ªq
 =&
£ndfûe_ªq
);

522 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_SENDFILE
);

523 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 65546);

524 
£ndfûe_cb_cou¡
++;

525 
	`uv_fs_ªq_˛ónup
(
ªq
);

526 
	}
}

529 
	$›í_n€¡_cb
(
uv_fs_t
* 
ªq
) {

530 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_OPEN
);

531 
	`TUV_ASSERT
(
ªq
->
ªsu…
 =
UV_ENOENT
);

532 
›í_cb_cou¡
++;

533 
	`uv_fs_ªq_˛ónup
(
ªq
);

534 
	}
}

536 
	$›í_«mëoﬁ⁄g_cb
(
uv_fs_t
* 
ªq
) {

537 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_OPEN
);

538 
	`TUV_ASSERT
(
ªq
->
ªsu…
 =
UV_ENAMETOOLONG
);

539 
›í_cb_cou¡
++;

540 
	`uv_fs_ªq_˛ónup
(
ªq
);

541 
	}
}

543 
	$›í_lo›_cb
(
uv_fs_t
* 
ªq
) {

544 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_OPEN
);

545 
	`TUV_ASSERT
(
ªq
->
ªsu…
 =
UV_ELOOP
);

546 
›í_cb_cou¡
++;

547 
	`uv_fs_ªq_˛ónup
(
ªq
);

548 
	}
}

551 
	$check_utime
(c⁄° * 
∑th
, 
©ime
, 
mtime
) {

552 
uv_°©_t
* 
s
;

553 
uv_fs_t
 
ªq
;

554 
r
;

556 
r
 = 
	`uv_fs_°©
(
lo›
, &
ªq
, 
∑th
, 
NULL
);

557 
	`TUV_ASSERT
(
r
 == 0);

559 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

560 
s
 = &
ªq
.
°©buf
;

562 
	`TUV_ASSERT
(
s
->
°_©im
.
tv_£c
 =
©ime
);

563 
	`TUV_ASSERT
(
s
->
°_mtim
.
tv_£c
 =
mtime
);

565 
	`uv_fs_ªq_˛ónup
(&
ªq
);

566 
	}
}

569 
	$utime_cb
(
uv_fs_t
* 
ªq
) {

570 
utime_check_t
* 
c
;

572 
	`TUV_ASSERT
(
ªq
 =&
utime_ªq
);

573 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

574 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_UTIME
);

576 
c
 = (
utime_check_t
*)
ªq
->
d©a
;

577 
	`check_utime
(
c
->
∑th
, c->
©ime
, c->
mtime
);

579 
	`uv_fs_ªq_˛ónup
(
ªq
);

580 
utime_cb_cou¡
++;

581 
	}
}

584 
	$futime_cb
(
uv_fs_t
* 
ªq
) {

585 
utime_check_t
* 
c
;

587 
	`TUV_ASSERT
(
ªq
 =&
futime_ªq
);

588 
	`TUV_ASSERT
(
ªq
->
ªsu…
 == 0);

589 
	`TUV_ASSERT
(
ªq
->
fs_ty≥
 =
UV_FS_FUTIME
);

591 
c
 = (
utime_check_t
*)
ªq
->
d©a
;

592 
	`check_utime
(
c
->
∑th
, c->
©ime
, c->
mtime
);

594 
	`uv_fs_ªq_˛ónup
(
ªq
);

595 
futime_cb_cou¡
++;

596 
	}
}

599 
	$TEST_IMPL
(
fs_fûe_n€¡
) {

600 
uv_fs_t
 
ªq
;

601 
r
;

603 
›í_cb_cou¡
 = 0;

605 
lo›
 = 
	`uv_deÁu…_lo›
();

607 
r
 = 
	`uv_fs_›í
(
NULL
, &
ªq
, "/d€s_nŸ_exi°", 
O_RDONLY
, 0, NULL);

608 
	`TUV_ASSERT
(
r
 =
UV_ENOENT
);

609 
	`TUV_ASSERT
(
ªq
.
ªsu…
 =
UV_ENOENT
);

610 
	`uv_fs_ªq_˛ónup
(&
ªq
);

612 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, "/d€s_nŸ_exi°", 
O_RDONLY
, 0, 
›í_n€¡_cb
);

613 
	`TUV_ASSERT
(
r
 == 0);

615 
	`TUV_ASSERT
(
›í_cb_cou¡
 == 0);

616 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

617 
	`TUV_ASSERT
(
›í_cb_cou¡
 == 1);

621 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

624 
	}
}

627 #i‡
deföed
(
__löux__
Ë|| deföed(
__APPLE__
)

628 
	#TOO_LONG_NAME_LENGTH
 65536

	)

630 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

631 
	#TOO_LONG_NAME_LENGTH
 (256+16)

	)

634 
	g«me
[
TOO_LONG_NAME_LENGTH
 + 1];

637 
	$TEST_IMPL
(
fs_fûe_«mëoﬁ⁄g
) {

638 
uv_fs_t
 
ªq
;

639 
r
;

641 
›í_cb_cou¡
 = 0;

643 
lo›
 = 
	`uv_deÁu…_lo›
();

645 
	`mem£t
(
«me
, 'a', 
TOO_LONG_NAME_LENGTH
);

646 
«me
[
TOO_LONG_NAME_LENGTH
] = 0;

648 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
«me
, 
O_RDONLY
, 0, 
NULL
);

649 
	`TUV_ASSERT
(
r
 =
UV_ENAMETOOLONG
);

650 
	`TUV_ASSERT
(
ªq
.
ªsu…
 =
UV_ENAMETOOLONG
);

651 
	`uv_fs_ªq_˛ónup
(&
ªq
);

653 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
«me
, 
O_RDONLY
, 0, 
›í_«mëoﬁ⁄g_cb
);

654 
	`TUV_ASSERT
(
r
 == 0);

656 
	`TUV_ASSERT
(
›í_cb_cou¡
 == 0);

657 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

658 
	`TUV_ASSERT
(
›í_cb_cou¡
 == 1);

660 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

663 
	}
}

696 
	$TEST_IMPL
(
fs_fûe_async
) {

697 
r
;

700 
	`u∆ök
(
fûíame1
);

701 
	`u∆ök
(
fûíame2
);

703 
›í_cb_cou¡
 = 0;

704 
ªad_cb_cou¡
 = 0;

705 
˛o£_cb_cou¡
 = 0;

706 
ª«me_cb_cou¡
 = 0;

707 
¸óã_cb_cou¡
 = 0;

708 
wrôe_cb_cou¡
 = 0;

709 
fsync_cb_cou¡
 = 0;

710 
fd©async_cb_cou¡
 = 0;

711 
u∆ök_cb_cou¡
 = 0;

713 
	`mem£t
(&
›í_ªq1
, 0, (open_req1));

714 
	`mem£t
(&
ª«me_ªq
, 0, (rename_req));

716 
lo›
 = 
	`uv_deÁu…_lo›
();

719 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_WRONLY
 | 
O_CREAT
,

720 
S_IRUSR
 | 
S_IWUSR
, 
¸óã_cb
);

721 
	`TUV_ASSERT
(
r
 == 0);

723 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

724 
	`TUV_ASSERT
(
r
 == 0);

726 
	`TUV_ASSERT
(
¸óã_cb_cou¡
 == 1);

727 
	`TUV_ASSERT
(
wrôe_cb_cou¡
 == 1);

728 
	`TUV_ASSERT
(
fsync_cb_cou¡
 == 1);

729 
	`TUV_ASSERT
(
fd©async_cb_cou¡
 == 1);

730 
	`TUV_ASSERT
(
˛o£_cb_cou¡
 == 1);

732 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

735 
r
 = 
	`uv_lo›_öô
(
lo›
);

736 
	`TUV_ASSERT
(
r
 == 0);

738 
r
 = 
	`uv_fs_ª«me
(
lo›
, &
ª«me_ªq
, 
fûíame1
, 
fûíame2
, 
ª«me_cb
);

739 
	`TUV_ASSERT
(
r
 == 0);

741 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

742 
	`TUV_ASSERT
(
r
 == 0);

744 
	`TUV_ASSERT
(
¸óã_cb_cou¡
 == 1);

745 
	`TUV_ASSERT
(
wrôe_cb_cou¡
 == 1);

746 
	`TUV_ASSERT
(
˛o£_cb_cou¡
 == 1);

747 
	`TUV_ASSERT
(
ª«me_cb_cou¡
 == 1);

749 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

752 
r
 = 
	`uv_lo›_öô
(
lo›
);

753 
	`TUV_ASSERT
(
r
 == 0);

754 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame2
, 
O_RDWR
, 0, 
›í_cb
);

755 
	`TUV_ASSERT
(
r
 == 0);

757 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

758 
	`TUV_ASSERT
(
r
 == 0);

760 
	`TUV_ASSERT
(
›í_cb_cou¡
 == 1);

761 
	`TUV_ASSERT
(
ªad_cb_cou¡
 == 1);

762 
	`TUV_ASSERT
(
˛o£_cb_cou¡
 == 2);

763 
	`TUV_ASSERT
(
ª«me_cb_cou¡
 == 1);

764 
	`TUV_ASSERT
(
¸óã_cb_cou¡
 == 1);

765 
	`TUV_ASSERT
(
wrôe_cb_cou¡
 == 1);

768 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

771 
r
 = 
	`uv_lo›_öô
(
lo›
);

772 
	`TUV_ASSERT
(
r
 == 0);

773 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame2
, 
O_RDONLY
, 0, 
›í_cb
);

774 
	`TUV_ASSERT
(
r
 == 0);

776 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

777 
	`TUV_ASSERT
(
r
 == 0);

779 
	`TUV_ASSERT
(
›í_cb_cou¡
 == 2);

780 
	`TUV_ASSERT
(
ªad_cb_cou¡
 == 2);

781 
	`TUV_ASSERT
(
˛o£_cb_cou¡
 == 3);

782 
	`TUV_ASSERT
(
ª«me_cb_cou¡
 == 1);

783 
	`TUV_ASSERT
(
u∆ök_cb_cou¡
 == 1);

784 
	`TUV_ASSERT
(
¸óã_cb_cou¡
 == 1);

785 
	`TUV_ASSERT
(
wrôe_cb_cou¡
 == 1);

788 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

792 
	`u∆ök
(
fûíame1
);

793 
	`u∆ök
(
fûíame2
);

796 
	}
}

799 
	$TEST_IMPL
(
fs_fûe_sync
) {

800 
r
;

803 
	`u∆ök
(
fûíame1
);

804 
	`u∆ök
(
fûíame2
);

806 
lo›
 = 
	`uv_deÁu…_lo›
();

808 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_WRONLY
 | 
O_CREAT
,

809 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

810 
	`TUV_ASSERT
(
r
 >= 0);

811 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

812 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

814 
iov
 = 
	`uv_buf_öô
(
ã°_buf
, (test_buf));

815 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
wrôe_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

816 
	`TUV_ASSERT
(
r
 >= 0);

817 
	`TUV_ASSERT
(
wrôe_ªq
.
ªsu…
 >= 0);

818 
	`uv_fs_ªq_˛ónup
(&
wrôe_ªq
);

820 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

821 
	`TUV_ASSERT
(
r
 == 0);

822 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

823 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

825 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_RDWR
, 0, 
NULL
);

826 
	`TUV_ASSERT
(
r
 >= 0);

827 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

828 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

830 
iov
 = 
	`uv_buf_öô
(
buf
, (buf));

831 
r
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

832 
	`TUV_ASSERT
(
r
 >= 0);

833 
	`TUV_ASSERT
(
ªad_ªq
.
ªsu…
 >= 0);

834 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, 
ã°_buf
) == 0);

835 
	`uv_fs_ªq_˛ónup
(&
ªad_ªq
);

837 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

838 
r
 = 
	`uv_fs_·runˇã
(
lo›
, &
·runˇã_ªq
, 
›í_ªq1
.
ªsu…
, 7, 
NULL
);

839 
	`TUV_ASSERT
(
r
 == 0);

840 
	`TUV_ASSERT
(
·runˇã_ªq
.
ªsu…
 == 0);

841 
	`uv_fs_ªq_˛ónup
(&
·runˇã_ªq
);

844 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

845 
	`TUV_ASSERT
(
r
 == 0);

846 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

847 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

849 
r
 = 
	`uv_fs_ª«me
(
lo›
, &
ª«me_ªq
, 
fûíame1
, 
fûíame2
, 
NULL
);

850 
	`TUV_ASSERT
(
r
 == 0);

851 
	`TUV_ASSERT
(
ª«me_ªq
.
ªsu…
 == 0);

852 
	`uv_fs_ªq_˛ónup
(&
ª«me_ªq
);

854 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame2
, 
O_RDONLY
, 0, 
NULL
);

855 
	`TUV_ASSERT
(
r
 >= 0);

856 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

857 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

859 
	`mem£t
(
buf
, 0, (buf));

860 
iov
 = 
	`uv_buf_öô
(
buf
, (buf));

861 
r
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

862 
	`TUV_ASSERT
(
r
 >= 0);

863 
	`TUV_ASSERT
(
ªad_ªq
.
ªsu…
 >= 0);

864 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

865 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, "test-bu") == 0);

867 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, 
ã°_buf
) == 0);

869 
	`uv_fs_ªq_˛ónup
(&
ªad_ªq
);

871 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

872 
	`TUV_ASSERT
(
r
 == 0);

873 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

874 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

876 
r
 = 
	`uv_fs_u∆ök
(
lo›
, &
u∆ök_ªq
, 
fûíame2
, 
NULL
);

877 
	`TUV_ASSERT
(
r
 == 0);

878 
	`TUV_ASSERT
(
u∆ök_ªq
.
ªsu…
 == 0);

879 
	`uv_fs_ªq_˛ónup
(&
u∆ök_ªq
);

882 
	`u∆ök
(
fûíame1
);

883 
	`u∆ök
(
fûíame2
);

885 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

888 
	}
}

890 
	$TEST_IMPL
(
fs_fûe_wrôe_nuŒ_buf„r
) {

891 
r
;

894 
	`u∆ök
(
fûíame1
);

896 
lo›
 = 
	`uv_deÁu…_lo›
();

898 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_WRONLY
 | 
O_CREAT
,

899 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

900 
	`TUV_ASSERT
(
r
 >= 0);

901 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

902 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

904 
iov
 = 
	`uv_buf_öô
(
NULL
, 0);

905 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
wrôe_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

906 
	`TUV_ASSERT
(
r
 == 0);

907 
	`TUV_ASSERT
(
wrôe_ªq
.
ªsu…
 == 0);

908 
	`uv_fs_ªq_˛ónup
(&
wrôe_ªq
);

910 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

911 
	`TUV_ASSERT
(
r
 == 0);

912 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

913 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

915 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

916 
	`u∆ök
(
fûíame1
);

919 
	}
}

921 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

922 
	$TEST_IMPL
(
fs_f°©
) {

923 
r
;

924 
uv_fs_t
 
ªq
;

925 
uv_fûe
 
fûe
;

926 
uv_°©_t
* 
s
;

927 
°©
 
t
;

930 
	`u∆ök
(
fûíame1
);

932 
lo›
 = 
	`uv_deÁu…_lo›
();

934 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
fûíame1
, 
O_RDWR
 | 
O_CREAT
,

935 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

936 
	`TUV_ASSERT
(
r
 >= 0);

937 
	`TUV_ASSERT
(
ªq
.
ªsu…
 >= 0);

938 
fûe
 = 
ªq
.
ªsu…
;

939 
	`uv_fs_ªq_˛ónup
(&
ªq
);

941 
iov
 = 
	`uv_buf_öô
(
ã°_buf
, (test_buf));

942 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
ªq
, 
fûe
, &
iov
, 1, -1, 
NULL
);

943 
	`TUV_ASSERT
(
r
 =(
ã°_buf
));

944 
	`TUV_ASSERT
(
ªq
.
ªsu…
 =(
ã°_buf
));

945 
	`uv_fs_ªq_˛ónup
(&
ªq
);

947 
r
 = 
	`uv_fs_f°©
(
lo›
, &
ªq
, 
fûe
, 
NULL
);

948 
	`TUV_ASSERT
(
r
 == 0);

949 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

950 
s
 = (
uv_°©_t
*)
ªq
.
±r
;

951 
	`TUV_ASSERT
(
s
->
°_size
 =(
ã°_buf
));

953 
r
 = 
	`f°©
(
fûe
, &
t
);

954 
	`TUV_ASSERT
(
r
 == 0);

956 #i‡
	`deföed
(
__löux__
)

957 
	`TUV_ASSERT
(
s
->
°_dev
 =(
uöt64_t
Ë
t
.st_dev);

958 
	`TUV_ASSERT
(
s
->
°_∆ök
 =(
uöt64_t
Ë
t
.st_nlink);

959 
	`TUV_ASSERT
(
s
->
°_uid
 =(
uöt64_t
Ë
t
.st_uid);

960 
	`TUV_ASSERT
(
s
->
°_gid
 =(
uöt64_t
Ë
t
.st_gid);

961 
	`TUV_ASSERT
(
s
->
°_rdev
 =(
uöt64_t
Ë
t
.st_rdev);

962 
	`TUV_ASSERT
(
s
->
°_öo
 =(
uöt64_t
Ë
t
.st_ino);

964 
	`TUV_ASSERT
(
s
->
°_mode
 =(
uöt64_t
Ë
t
.st_mode);

965 
	`TUV_ASSERT
(
s
->
°_size
 =(
uöt64_t
Ë
t
.st_size);

966 
	`TUV_ASSERT
(
s
->
°_blksize
 =(
uöt64_t
Ë
t
.st_blksize);

967 
	`TUV_ASSERT
(
s
->
°_blocks
 =(
uöt64_t
Ë
t
.st_blocks);

969 #i‡
	`deföed
 (
__löux__
)

970 
	`TUV_ASSERT
(
s
->
°_©im
.
tv_£c
 =
t
.st_atim.tv_sec);

971 
	`TUV_ASSERT
(
s
->
°_©im
.
tv_n£c
 =
t
.st_atim.tv_nsec);

972 
	`TUV_ASSERT
(
s
->
°_mtim
.
tv_£c
 =
t
.st_mtim.tv_sec);

973 
	`TUV_ASSERT
(
s
->
°_mtim
.
tv_n£c
 =
t
.st_mtim.tv_nsec);

974 
	`TUV_ASSERT
(
s
->
°_˘im
.
tv_£c
 =
t
.st_ctim.tv_sec);

975 
	`TUV_ASSERT
(
s
->
°_˘im
.
tv_n£c
 =
t
.st_ctim.tv_nsec);

977 
	`TUV_ASSERT
(
s
->
°_©im
.
tv_£c
 =
t
.
°_©ime
);

978 
	`TUV_ASSERT
(
s
->
°_©im
.
tv_n£c
 == 0);

979 
	`TUV_ASSERT
(
s
->
°_mtim
.
tv_£c
 =
t
.
°_mtime
);

980 
	`TUV_ASSERT
(
s
->
°_mtim
.
tv_n£c
 == 0);

981 
	`TUV_ASSERT
(
s
->
°_˘im
.
tv_£c
 =
t
.
°_˘ime
);

982 
	`TUV_ASSERT
(
s
->
°_˘im
.
tv_n£c
 == 0);

985 
	`uv_fs_ªq_˛ónup
(&
ªq
);

988 
r
 = 
	`uv_fs_f°©
(
lo›
, &
ªq
, 
fûe
, 
f°©_cb
);

989 
	`TUV_ASSERT
(
r
 == 0);

990 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

991 
	`TUV_ASSERT
(
f°©_cb_cou¡
 == 1);

993 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
ªq
, 
fûe
, 
NULL
);

994 
	`TUV_ASSERT
(
r
 == 0);

995 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

996 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1002 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1005 
	`u∆ök
(
fûíame1
);

1008 
	}
}

1012 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1013 
	$TEST_IMPL
(
fs_utime
) {

1014 
utime_check_t
 
checkme
;

1015 c⁄° * 
∑th
 = 
fûíame1
;

1016 
©ime
;

1017 
mtime
;

1018 
uv_fs_t
 
ªq
;

1019 
r
;

1022 
lo›
 = 
	`uv_deÁu…_lo›
();

1023 
	`u∆ök
(
∑th
);

1024 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
∑th
, 
O_RDWR
 | 
O_CREAT
,

1025 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

1026 
	`TUV_ASSERT
(
r
 >= 0);

1027 
	`TUV_ASSERT
(
ªq
.
ªsu…
 >= 0);

1028 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1029 
	`˛o£
(
r
);

1031 
©ime
 = 
mtime
 = 400497753;

1032 
r
 = 
	`uv_fs_utime
(
lo›
, &
ªq
, 
∑th
, 
©ime
, 
mtime
, 
NULL
);

1033 
	`TUV_ASSERT
(
r
 == 0);

1034 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

1035 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1037 
r
 = 
	`uv_fs_°©
(
lo›
, &
ªq
, 
∑th
, 
NULL
);

1038 
	`TUV_ASSERT
(
r
 == 0);

1039 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

1040 
	`check_utime
(
∑th
, 
©ime
, 
mtime
);

1041 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1044 
©ime
 = 
mtime
 = 1291404900;

1045 
checkme
.
∑th
 =Öath;

1046 
checkme
.
©ime
 =átime;

1047 
checkme
.
mtime
 = mtime;

1050 
utime_ªq
.
d©a
 = &
checkme
;

1051 
r
 = 
	`uv_fs_utime
(
lo›
, &
utime_ªq
, 
∑th
, 
©ime
, 
mtime
, 
utime_cb
);

1052 
	`TUV_ASSERT
(
r
 == 0);

1053 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1054 
	`TUV_ASSERT
(
utime_cb_cou¡
 == 1);

1057 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

1058 
	`u∆ök
(
∑th
);

1061 
	}
}

1064 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

1065 
	$TEST_IMPL
(
fs_futime
) {

1066 
utime_check_t
 
checkme
;

1067 c⁄° * 
∑th
 = 
fûíame1
;

1068 
©ime
;

1069 
mtime
;

1070 
uv_fûe
 
fûe
;

1071 
uv_fs_t
 
ªq
;

1072 
r
;

1075 
lo›
 = 
	`uv_deÁu…_lo›
();

1076 
	`u∆ök
(
∑th
);

1077 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
∑th
, 
O_RDWR
 | 
O_CREAT
,

1078 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

1079 
	`TUV_ASSERT
(
r
 >= 0);

1080 
	`TUV_ASSERT
(
ªq
.
ªsu…
 >= 0);

1081 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1082 
	`˛o£
(
r
);

1084 
©ime
 = 
mtime
 = 400497753;

1086 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
∑th
, 
O_RDWR
, 0, 
NULL
);

1087 
	`TUV_ASSERT
(
r
 >= 0);

1088 
	`TUV_ASSERT
(
ªq
.
ªsu…
 >= 0);

1089 
fûe
 = 
ªq
.
ªsu…
;

1090 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1092 
r
 = 
	`uv_fs_futime
(
lo›
, &
ªq
, 
fûe
, 
©ime
, 
mtime
, 
NULL
);

1093 
	`TUV_ASSERT
(
r
 == 0);

1094 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

1095 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1097 
r
 = 
	`uv_fs_°©
(
lo›
, &
ªq
, 
∑th
, 
NULL
);

1098 
	`TUV_ASSERT
(
r
 == 0);

1099 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

1100 
	`check_utime
(
∑th
, 
©ime
, 
mtime
);

1101 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1103 
©ime
 = 
mtime
 = 1291404900;

1105 
checkme
.
©ime
 =átime;

1106 
checkme
.
mtime
 = mtime;

1107 
checkme
.
∑th
 =Öath;

1110 
futime_ªq
.
d©a
 = &
checkme
;

1111 
r
 = 
	`uv_fs_futime
(
lo›
, &
futime_ªq
, 
fûe
, 
©ime
, 
mtime
, 
futime_cb
);

1112 
	`TUV_ASSERT
(
r
 == 0);

1113 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1114 
	`TUV_ASSERT
(
futime_cb_cou¡
 == 1);

1117 
	`u∆ök
(
∑th
);

1120 
	}
}

1124 
	$TEST_IMPL
(
fs_°©_missög_∑th
) {

1125 
uv_fs_t
 
ªq
;

1126 
r
;

1128 
lo›
 = 
	`uv_deÁu…_lo›
();

1130 
r
 = 
	`uv_fs_°©
(
lo›
, &
ªq
, "n⁄_exi°ít_fûe", 
NULL
);

1131 
	`TUV_ASSERT
(
r
 =
UV_ENOENT
);

1132 
	`TUV_ASSERT
(
ªq
.
ªsu…
 =
UV_ENOENT
);

1133 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1135 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

1138 
	}
}

1141 
	$TEST_IMPL
(
fs_sˇndú_em±y_dú
) {

1142 c⁄° * 
∑th
;

1143 
uv_fs_t
 
ªq
;

1144 
uv_dúít_t
 
dít
;

1145 
r
;

1147 
∑th
 = "./empty_dir/";

1148 
lo›
 = 
	`uv_deÁu…_lo›
();

1150 
	`uv_fs_mkdú
(
NULL
, &
ªq
, 
∑th
, 0777, NULL);

1151 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1154 
	`mem£t
(&
ªq
, 0xdb, (req));

1156 
sˇndú_cb_cou¡
 = 0;

1157 
r
 = 
	`uv_fs_sˇndú
(
NULL
, &
ªq
, 
∑th
, 0, NULL);

1158 
	`TUV_ASSERT
(
r
 == 0);

1159 
	`TUV_ASSERT
(
ªq
.
ªsu…
 == 0);

1160 
	`TUV_ASSERT
(
ªq
.
±r
 =
NULL
);

1161 
	`TUV_ASSERT
(
UV_EOF
 =
	`uv_fs_sˇndú_√xt
(&
ªq
, &
dít
));

1162 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1164 
r
 = 
	`uv_fs_sˇndú
(
lo›
, &
sˇndú_ªq
, 
∑th
, 0, 
em±y_sˇndú_cb
);

1165 
	`TUV_ASSERT
(
r
 == 0);

1167 
	`TUV_ASSERT
(
sˇndú_cb_cou¡
 == 0);

1168 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1169 
	`TUV_ASSERT
(
sˇndú_cb_cou¡
 == 1);

1171 
	`uv_fs_rmdú
(
NULL
, &
ªq
, 
∑th
, NULL);

1172 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1175 
	}
}

1178 
	$TEST_IMPL
(
fs_sˇndú_fûe
) {

1179 c⁄° * 
∑th
;

1180 
r
;

1182 
∑th
 = "test/resources/empty_file";

1183 
lo›
 = 
	`uv_deÁu…_lo›
();

1185 
sˇndú_cb_cou¡
 = 0;

1186 
r
 = 
	`uv_fs_sˇndú
(
NULL
, &
sˇndú_ªq
, 
∑th
, 0, NULL);

1187 
	`TUV_ASSERT
(
r
 =
UV_ENOTDIR
);

1188 
	`uv_fs_ªq_˛ónup
(&
sˇndú_ªq
);

1190 
r
 = 
	`uv_fs_sˇndú
(
lo›
, &
sˇndú_ªq
, 
∑th
, 0, 
fûe_sˇndú_cb
);

1191 
	`TUV_ASSERT
(
r
 == 0);

1193 
	`TUV_ASSERT
(
sˇndú_cb_cou¡
 == 0);

1194 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1195 
	`TUV_ASSERT
(
sˇndú_cb_cou¡
 == 1);

1198 
	}
}

1201 
	$TEST_IMPL
(
fs_›í_dú
) {

1202 c⁄° * 
∑th
;

1203 
uv_fs_t
 
ªq
;

1204 
r
, 
fûe
;

1206 
›í_cb_cou¡
 = 0;

1208 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

1209 
∑th
 = "/mnt/sdcard";

1211 
∑th
 = ".";

1214 
lo›
 = 
	`uv_deÁu…_lo›
();

1216 
r
 = 
	`uv_fs_›í
(
lo›
, &
ªq
, 
∑th
, 
O_RDONLY
, 0, 
NULL
);

1217 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

1218 
	`TUV_ASSERT
(
r
 =-
EISDIR
);

1219 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1221 
	`TUV_ASSERT
(
r
 >= 0);

1222 
	`TUV_ASSERT
(
ªq
.
ªsu…
 >= 0);

1223 
	`TUV_ASSERT
(
ªq
.
±r
 =
NULL
);

1224 
fûe
 = 
r
;

1225 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1227 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
ªq
, 
fûe
, 
NULL
);

1228 
	`TUV_ASSERT
(
r
 == 0);

1229 
	`uv_fs_ªq_˛ónup
(&
ªq
);

1232 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

1235 
	}
}

1238 
	$TEST_IMPL
(
fs_fûe_›í_≠≥nd
) {

1239 
r
;

1242 
	`u∆ök
(
fûíame1
);

1244 
lo›
 = 
	`uv_deÁu…_lo›
();

1246 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_WRONLY
 | 
O_CREAT
,

1247 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

1248 
	`TUV_ASSERT
(
r
 >= 0);

1249 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

1250 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1252 
iov
 = 
	`uv_buf_öô
(
ã°_buf
, (test_buf));

1253 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
wrôe_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

1254 
	`TUV_ASSERT
(
r
 >= 0);

1255 
	`TUV_ASSERT
(
wrôe_ªq
.
ªsu…
 >= 0);

1256 
	`uv_fs_ªq_˛ónup
(&
wrôe_ªq
);

1258 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1259 
	`TUV_ASSERT
(
r
 == 0);

1260 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

1261 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1263 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_RDWR
 | 
O_APPEND
, 0, 
NULL
);

1264 
	`TUV_ASSERT
(
r
 >= 0);

1265 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

1266 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1268 
iov
 = 
	`uv_buf_öô
(
ã°_buf
, (test_buf));

1269 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
wrôe_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

1270 
	`TUV_ASSERT
(
r
 >= 0);

1271 
	`TUV_ASSERT
(
wrôe_ªq
.
ªsu…
 >= 0);

1272 
	`uv_fs_ªq_˛ónup
(&
wrôe_ªq
);

1274 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1275 
	`TUV_ASSERT
(
r
 == 0);

1276 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

1277 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1279 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_RDONLY
, 
S_IRUSR
, 
NULL
);

1280 
	`TUV_ASSERT
(
r
 >= 0);

1281 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

1282 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1284 
iov
 = 
	`uv_buf_öô
(
buf
, (buf));

1285 
r
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

1286 
	`TUV_ASSERT
(
r
 == 26);

1287 
	`TUV_ASSERT
(
ªad_ªq
.
ªsu…
 == 26);

1288 
	`TUV_ASSERT
(
	`memcmp
(
buf
,

1291 
	`uv_fs_ªq_˛ónup
(&
ªad_ªq
);

1293 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1294 
	`TUV_ASSERT
(
r
 == 0);

1295 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

1296 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1299 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

1300 
	`u∆ök
(
fûíame1
);

1303 
	}
}

1306 
	$TEST_IMPL
(
fs_ªad_fûe_eof
) {

1307 
r
;

1310 
	`u∆ök
(
fûíame1
);

1312 
lo›
 = 
	`uv_deÁu…_lo›
();

1314 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_WRONLY
 | 
O_CREAT
,

1315 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

1316 
	`TUV_ASSERT
(
r
 >= 0);

1317 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

1318 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1320 
iov
 = 
	`uv_buf_öô
(
ã°_buf
, (test_buf));

1321 
r
 = 
	`uv_fs_wrôe
(
lo›
, &
wrôe_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

1322 
	`TUV_ASSERT
(
r
 >= 0);

1323 
	`TUV_ASSERT
(
wrôe_ªq
.
ªsu…
 >= 0);

1324 
	`uv_fs_ªq_˛ónup
(&
wrôe_ªq
);

1326 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1327 
	`TUV_ASSERT
(
r
 == 0);

1328 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

1329 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1331 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, 
fûíame1
, 
O_RDONLY
, 0, 
NULL
);

1332 
	`TUV_ASSERT
(
r
 >= 0);

1333 
	`TUV_ASSERT
(
›í_ªq1
.
ªsu…
 >= 0);

1334 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1336 
	`mem£t
(
buf
, 0, (buf));

1337 
iov
 = 
	`uv_buf_öô
(
buf
, (buf));

1338 
r
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1, -1, 
NULL
);

1339 
	`TUV_ASSERT
(
r
 >= 0);

1340 
	`TUV_ASSERT
(
ªad_ªq
.
ªsu…
 >= 0);

1341 
	`TUV_ASSERT
(
	`°rcmp
(
buf
, 
ã°_buf
) == 0);

1342 
	`uv_fs_ªq_˛ónup
(&
ªad_ªq
);

1344 
iov
 = 
	`uv_buf_öô
(
buf
, (buf));

1345 
r
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq1
.
ªsu…
, &
iov
, 1,

1346 
ªad_ªq
.
ªsu…
, 
NULL
);

1347 
	`TUV_ASSERT
(
r
 == 0);

1348 
	`TUV_ASSERT
(
ªad_ªq
.
ªsu…
 == 0);

1349 
	`uv_fs_ªq_˛ónup
(&
ªad_ªq
);

1351 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1352 
	`TUV_ASSERT
(
r
 == 0);

1353 
	`TUV_ASSERT
(
˛o£_ªq
.
ªsu…
 == 0);

1354 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1357 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

1358 
	`u∆ök
(
fûíame1
);

1361 
	}
}

1364 
	$TEST_IMPL
(
fs_async_dú
) {

1365 
r
;

1366 
uv_dúít_t
 
dít
;

1369 
sˇndú_cb_cou¡
 = 0;

1370 
	`u∆ök
("test_dir/file1");

1371 
	`u∆ök
("test_dir/file2");

1372 
	`rmdú
("test_dir");

1374 
lo›
 = 
	`uv_deÁu…_lo›
();

1376 
r
 = 
	`uv_fs_mkdú
(
lo›
, &
mkdú_ªq
, "ã°_dú", 0755, 
mkdú_cb
);

1377 
	`TUV_ASSERT
(
r
 == 0);

1379 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1380 
	`TUV_ASSERT
(
mkdú_cb_cou¡
 == 1);

1383 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, "ã°_dú/fûe1", 
O_WRONLY
 | 
O_CREAT
,

1384 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

1385 
	`TUV_ASSERT
(
r
 >= 0);

1386 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1387 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1388 
	`TUV_ASSERT
(
r
 == 0);

1389 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1391 
r
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq1
, "ã°_dú/fûe2", 
O_WRONLY
 | 
O_CREAT
,

1392 
S_IWUSR
 | 
S_IRUSR
, 
NULL
);

1393 
	`TUV_ASSERT
(
r
 >= 0);

1394 
	`uv_fs_ªq_˛ónup
(&
›í_ªq1
);

1395 
r
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq1
.
ªsu…
, 
NULL
);

1396 
	`TUV_ASSERT
(
r
 == 0);

1397 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

1399 
r
 = 
	`uv_fs_sˇndú
(
lo›
, &
sˇndú_ªq
, "ã°_dú", 0, 
sˇndú_cb
);

1400 
	`TUV_ASSERT
(
r
 == 0);

1402 
	`TUV_ASSERT
(
sˇndú_cb_cou¡
 == 0);

1403 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1404 
	`TUV_ASSERT
(
sˇndú_cb_cou¡
 == 1);

1407 
r
 = 
	`uv_fs_sˇndú
(
NULL
, &
sˇndú_ªq
, "test_dir", 0, NULL);

1408 
	`TUV_ASSERT
(
r
 == 2);

1409 
	`TUV_ASSERT
(
sˇndú_ªq
.
ªsu…
 == 2);

1410 
	`TUV_ASSERT
(
sˇndú_ªq
.
±r
);

1411 
UV_EOF
 !
	`uv_fs_sˇndú_√xt
(&
sˇndú_ªq
, &
dít
)) {

1412 
	`TUV_ASSERT
(
	`°rcmp
(
dít
.
«me
, "file1") == 0 || strcmp(dent.name, "file2") == 0);

1413 
	`as£π_is_fûe_ty≥
(
dít
);

1415 
	`uv_fs_ªq_˛ónup
(&
sˇndú_ªq
);

1416 
	`TUV_ASSERT
(!
sˇndú_ªq
.
±r
);

1418 
r
 = 
	`uv_fs_°©
(
lo›
, &
°©_ªq
, "ã°_dú", 
°©_cb
);

1419 
	`TUV_ASSERT
(
r
 == 0);

1420 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1422 
r
 = 
	`uv_fs_°©
(
lo›
, &
°©_ªq
, "ã°_dú/", 
°©_cb
);

1423 
	`TUV_ASSERT
(
r
 == 0);

1424 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1426 
	`TUV_ASSERT
(
°©_cb_cou¡
 == 2);

1428 
r
 = 
	`uv_fs_u∆ök
(
lo›
, &
u∆ök_ªq
, "ã°_dú/fûe1", 
NULL
);

1429 
	`TUV_ASSERT
(
r
 == 0);

1431 
r
 = 
	`uv_fs_u∆ök
(
lo›
, &
u∆ök_ªq
, "ã°_dú/fûe2", 
NULL
);

1432 
	`TUV_ASSERT
(
r
 == 0);

1434 
r
 = 
	`uv_fs_rmdú
(
lo›
, &
rmdú_ªq
, "ã°_dú", 
rmdú_cb
);

1435 
	`TUV_ASSERT
(
r
 == 0);

1436 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

1437 
	`TUV_ASSERT
(
rmdú_cb_cou¡
 == 1);

1440 
	`u∆ök
("test_dir/file1");

1441 
	`u∆ök
("test_dir/file2");

1442 
	`rmdú
("test_dir");

1444 
	}
}

	@deps/libtuv/test/test_getaddrinfo.c

37 
	~<as£π.h
>

38 
	~<°dio.h
>

40 
	~<uv.h
>

41 
	~"ru¬î.h
"

43 
	#CONCURRENT_COUNT
 10

	)

45 c⁄° * 
	g«me
 = "localhost";

47 
	ggëaddröfo_cbs
 = 0;

49 
uv_gëaddröfo_t
* 
	ggëaddröfo_h™dÀ
;

50 
uv_gëaddröfo_t
 
	ggëaddröfo_h™dÀs
[
CONCURRENT_COUNT
];

51 
	gˇŒback_cou¡s
[
CONCURRENT_COUNT
];

54 
	$gëaddröfo_basic_cb
(
uv_gëaddröfo_t
* 
h™dÀ
,

55 
°©us
,

56 
addröfo
* 
ªs
) {

57 
	`TUV_ASSERT
(
h™dÀ
 =
gëaddröfo_h™dÀ
);

58 
gëaddröfo_cbs
++;

59 
	`‰ì
(
h™dÀ
);

60 
	`uv_‰ìaddröfo
(
ªs
);

61 
	}
}

64 
	$TEST_IMPL
(
gëaddröfo_basic
) {

65 
r
;

67 
gëaddröfo_cbs
 = 0;

69 
gëaddröfo_h™dÀ
 = (
uv_gëaddröfo_t
*)
	`mÆloc
((uv_getaddrinfo_t));

71 
r
 = 
	`uv_gëaddröfo
(
	`uv_deÁu…_lo›
(),

72 
gëaddröfo_h™dÀ
,

73 &
gëaddröfo_basic_cb
,

74 
«me
,

75 
NULL
,

76 
NULL
);

77 
	`TUV_ASSERT
(
r
 == 0);

79 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

81 
	`TUV_ASSERT
(
gëaddröfo_cbs
 == 1);

83 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

86 
	}
}

89 
	$TEST_IMPL
(
gëaddröfo_basic_sync
) {

90 
uv_gëaddröfo_t
 
ªq
;

92 
	`TUV_ASSERT
(0 =
	`uv_gëaddröfo
(
	`uv_deÁu…_lo›
(),

93 &
ªq
,

94 
NULL
,

95 
«me
,

96 
NULL
,

97 
NULL
));

98 
	`uv_‰ìaddröfo
(
ªq
.
addröfo
);

101 
	}
}

105 
	$gëaddröfo_cuncuºít_cb
(
uv_gëaddröfo_t
* 
h™dÀ
,

106 
°©us
,

107 
addröfo
* 
ªs
) {

108 
i
;

109 * 
d©a
 = (*)
h™dÀ
->data;

111 
i
 = 0; i < 
CONCURRENT_COUNT
; i++) {

112 i‡(&
gëaddröfo_h™dÀs
[
i
] =
h™dÀ
) {

113 
	`TUV_ASSERT
(
i
 =*
d©a
);

115 
ˇŒback_cou¡s
[
i
]++;

119 
	`TUV_ASSERT
(
i
 < 
CONCURRENT_COUNT
);

121 
	`‰ì
(
d©a
);

122 
	`uv_‰ìaddröfo
(
ªs
);

124 
gëaddröfo_cbs
++;

125 
	}
}

128 
	$TEST_IMPL
(
gëaddröfo_c⁄cuºít
) {

129 
i
, 
r
;

130 * 
d©a
;

132 
i
 = 0; i < 
CONCURRENT_COUNT
; i++) {

133 
ˇŒback_cou¡s
[
i
] = 0;

135 
d©a
 = (*)
	`mÆloc
(());

136 
	`TUV_ASSERT
(
d©a
 !
NULL
);

137 *
d©a
 = 
i
;

138 
gëaddröfo_h™dÀs
[
i
].
d©a
 = data;

140 
r
 = 
	`uv_gëaddröfo
(
	`uv_deÁu…_lo›
(),

141 &
gëaddröfo_h™dÀs
[
i
],

142 &
gëaddröfo_cuncuºít_cb
,

143 
«me
,

144 
NULL
,

145 
NULL
);

146 
	`TUV_ASSERT
(
r
 == 0);

149 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

151 
i
 = 0; i < 
CONCURRENT_COUNT
; i++) {

152 
	`TUV_ASSERT
(
ˇŒback_cou¡s
[
i
] == 1);

155 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

158 
	}
}

	@deps/libtuv/test/test_idle.c

16 
	~<as£π.h
>

17 
	~<°dlib.h
>

18 
	~<°dio.h
>

19 
	~<uni°d.h
>

21 
	~<uv.h
>

22 
	~"ru¬î.h
"

25 
uv_idÀ_t
 
	gidÀ_h™dÀ
;

26 
	gidÀ_cb_ˇŒed
 = 0;

28 
	$idÀ_ˇŒback
(
uv_idÀ_t
* 
h™dÀ
) {

29 
	`TDDDLOG
("idle_callback handle flag %p, %x, %d",

30 
h™dÀ
, h™dÀ->
Êags
, 
idÀ_cb_ˇŒed
);

31 
idÀ_cb_ˇŒed
++;

32 
	}
}

35 
	$TEST_IMPL
(
idÀ_basic
) {

36 
uv_lo›_t
* 
lo›
;

38 
idÀ_cb_ˇŒed
 = 0;

40 
lo›
 = 
	`uv_deÁu…_lo›
();

41 
	`uv_idÀ_öô
(
lo›
, &
idÀ_h™dÀ
);

42 
	`uv_idÀ_°¨t
(&
idÀ_h™dÀ
, 
idÀ_ˇŒback
);

43 
	`uv_run
(
lo›
, 
UV_RUN_ONCE
);

44 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
idÀ_h™dÀ
, 
NULL
);

45 
	`uv_run
(
lo›
, 
UV_RUN_ONCE
);

47 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
lo›
));

49 
	`TUV_WARN
(
idÀ_cb_ˇŒed
==1);

52 
	}
}

	@deps/libtuv/test/test_shutdown_eof.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

41 
	~"ru¬î.h
"

46 
uv_t˝_t
 
	gt˝
;

47 
uv_c⁄√˘_t
 
	gc⁄√˘_ªq
;

48 
uv_wrôe_t
 
	gwrôe_ªq
;

49 
uv_shutdown_t
 
	gshutdown_ªq
;

50 
	ggŸ_q
;

51 
	ggŸ_eof
;

53 
	gˇŒed_c⁄√˘_cb
;

54 
	gˇŒed_shutdown_cb
;

57 
	$Æloc_cb
(
uv_h™dÀ_t
* 
h™dÀ
, 
size_t
 
size
, 
uv_buf_t
* 
buf
) {

58 
buf
->
ba£
 = (*)
	`mÆloc
(
size
);

59 
buf
->
Àn
 = 
size
;

60 
	}
}

63 
	$ªad_cb
(
uv_°ªam_t
* 
t
, 
ssize_t
 
ƒód
, c⁄° 
uv_buf_t
* 
buf
) {

64 
	`TUV_ASSERT
((
uv_t˝_t
*)
t
 =&
t˝
);

67 i‡(
buf
->
ba£
)

68 
	`‰ì
(
buf
->
ba£
);

70 i‡(
ƒód
 == 0) {

74 i‡(
ƒód
 > 0) {

75 
	`TUV_ASSERT
(0);

83 
	`TUV_ASSERT
(
ƒód
 =
UV_EOF
);

84 
	`uv_˛o£
((
uv_h™dÀ_t
*)
t
, 
NULL
);

85 
gŸ_eof
 = 1;

87 
	}
}

90 
	$shutdown_cb
(
uv_shutdown_t
 *
ªq
, 
°©us
) {

91 
	`TUV_ASSERT
(
ªq
 =&
shutdown_ªq
);

92 
	`TUV_ASSERT
(
ˇŒed_c⁄√˘_cb
 == 1);

93 
	`TUV_ASSERT
(!
gŸ_eof
);

95 
ˇŒed_shutdown_cb
++;

96 
	}
}

99 
	$c⁄√˘_cb
(
uv_c⁄√˘_t
 *
ªq
, 
°©us
) {

100 
	`TUV_ASSERT
(
°©us
 == 0);

101 
	`TUV_ASSERT
(
ªq
 =&
c⁄√˘_ªq
);

102 
r
;

105 
r
 = 
	`uv_ªad_°¨t
((
uv_°ªam_t
*)&
t˝
, 
Æloc_cb
, 
ªad_cb
);

106 
	`TUV_ASSERT
(
r
 == 0);

112 
uv_buf_t
 
qsbuf
 = 
	`uv_buf_öô
((*)"Q", 1);

113 
r
 = 
	`uv_wrôe
(&
wrôe_ªq
, (
uv_°ªam_t
*Ë&
t˝
, &
qsbuf
, 1, 
NULL
);

114 
	`TUV_ASSERT
(
r
 == 0);

120 
ˇŒed_c⁄√˘_cb
++;

121 
	`TUV_ASSERT
(
ˇŒed_shutdown_cb
 == 0);

122 
	}
}

131 
	$TEST_IMPL
(
shutdown_eof
) {

132 
sockaddr_ö
 
£rvî_addr
;

133 
r
;

135 
gŸ_q
 = 0;

136 
gŸ_eof
 = 0;

137 
ˇŒed_c⁄√˘_cb
 = 0;

138 
ˇŒed_shutdown_cb
 = 0;

141 
	`TUV_ASSERT
(0 =
	`uv_ù4_addr
("127.0.0.1", 
TEST_PORT
, &
£rvî_addr
));

142 
r
 = 
	`uv_t˝_öô
(
	`uv_deÁu…_lo›
(), &
t˝
);

143 
	`TUV_ASSERT
(!
r
);

145 
r
 = 
	`uv_t˝_c⁄√˘
(&
c⁄√˘_ªq
,

146 &
t˝
,

147 (c⁄° 
sockaddr
*Ë&
£rvî_addr
,

148 
c⁄√˘_cb
);

149 
	`TUV_ASSERT
(!
r
);

151 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

153 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

156 
	}
}

	@deps/libtuv/test/test_tcp_open.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

39 
	~<°rög.h
>

40 
	~<uni°d.h
>

42 
	~<uv.h
>

44 
	~"ru¬î.h
"

46 
	gshutdown_cb_ˇŒed
 = 0;

47 
	gc⁄√˘_cb_ˇŒed
 = 0;

48 
	gwrôe_cb_ˇŒed
 = 0;

49 
	g˛o£_cb_ˇŒed
 = 0;

51 
uv_c⁄√˘_t
 
	gc⁄√˘_ªq
;

52 
uv_shutdown_t
 
	gshutdown_ªq
;

53 
uv_wrôe_t
 
	gwrôe_ªq
;

56 
	$°¨tup
() {

57 
	`u¶ìp
(1000);

58 
	}
}

61 
uv_os_sock_t
 
	$¸óã_t˝_sockë
() {

62 
uv_os_sock_t
 
sock
;

64 
sock
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 
IPPROTO_IP
);

65 
	`TUV_ASSERT
(
sock
 >= 0);

69 
yes
 = 1;

70 
r
 = 
	`£tsock›t
(
sock
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
yes
,  yes);

71 
	`TUV_ASSERT
(
r
 == 0);

74  
sock
;

75 
	}
}

78 
	$Æloc_cb
(
uv_h™dÀ_t
* 
h™dÀ
,

79 
size_t
 
sugge°ed_size
,

80 
uv_buf_t
* 
buf
) {

81 #ifde‡
EMBED_LOW_MEMORY


82 
¶ab
[2048];

84 
¶ab
[65536];

86 
	`TUV_ASSERT
(
sugge°ed_size
 <(
¶ab
));

87 
buf
->
ba£
 = 
¶ab
;

88 
buf
->
Àn
 = (
¶ab
);

89 
	}
}

92 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

93 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

94 
˛o£_cb_ˇŒed
++;

95 
	}
}

98 
	$shutdown_cb
(
uv_shutdown_t
* 
ªq
, 
°©us
) {

99 
	`TUV_ASSERT
(
ªq
 =&
shutdown_ªq
);

100 
	`TUV_ASSERT
(
°©us
 == 0);

103 
shutdown_cb_ˇŒed
++;

104 
	}
}

107 
	$ªad_cb
(
uv_°ªam_t
* 
t˝
, 
ssize_t
 
ƒód
, c⁄° 
uv_buf_t
* 
buf
) {

108 
	`TUV_ASSERT
(
t˝
 !
NULL
);

110 i‡(
ƒód
 > 0) {

111 
	`TUV_ASSERT
(
ƒód
 == 4);

112 
	`TUV_ASSERT
(
	`memcmp
("PING", 
buf
->
ba£
, 
ƒód
) == 0);

116 
uv_buf_t
 
buf
 = 
	`uv_buf_öô
((*)"QS", 2);

117 
r
 = 
	`uv_wrôe
(&
wrôe_ªq
, 
t˝
, &
buf
, 1, 
NULL
);

118 
	`TUV_ASSERT
(
r
 == 0);

121 i‡(
ƒód
 == 0) {

124 i‡(
ƒód
 < 0) {

125 
	`TUV_ASSERT
(
ƒód
 =
UV_EOF
);

126 
	`uv_˛o£
((
uv_h™dÀ_t
*)
t˝
, 
˛o£_cb
);

128 
	}
}

131 
	$wrôe_cb
(
uv_wrôe_t
* 
ªq
, 
°©us
) {

132 
	`TUV_ASSERT
(
ªq
 !
NULL
);

134 i‡(
°©us
) {

135 
	`TDLOG
("t˝_›í uv_wrôêîr‹: %s", 
	`uv_°ªº‹
(
°©us
));

136 
	`TUV_ASSERT
(0);

139 
wrôe_cb_ˇŒed
++;

140 
	}
}

143 
	$c⁄√˘_cb
(
uv_c⁄√˘_t
* 
ªq
, 
°©us
) {

144 
uv_buf_t
 
buf
 = 
	`uv_buf_öô
((*)"PING", 4);

145 
uv_°ªam_t
* 
°ªam
;

146 
r
;

148 i‡(
°©us
 =
UV__ECONNREFUSED
) {

149 
	`TDLOG
("tcp_open ConnectionÑefused. Run server first.");

150 
	`TUV_ASSERT
(0);

153 
	`TUV_ASSERT
(
ªq
 =&
c⁄√˘_ªq
);

154 
	`TUV_ASSERT
(
°©us
 == 0);

156 
°ªam
 = 
ªq
->
h™dÀ
;

157 
c⁄√˘_cb_ˇŒed
++;

159 
r
 = 
	`uv_wrôe
(&
wrôe_ªq
, 
°ªam
, &
buf
, 1, 
wrôe_cb
);

160 
	`TUV_ASSERT
(
r
 == 0);

167 
r
 = 
	`uv_ªad_°¨t
(
°ªam
, 
Æloc_cb
, 
ªad_cb
);

168 
	`TUV_ASSERT
(
r
 == 0);

169 
	}
}

172 
	$TEST_IMPL
(
t˝_›í
) {

173 
sockaddr_ö
 
addr
;

174 
uv_t˝_t
 
˛õ¡
;

175 
uv_os_sock_t
 
sock
;

176 
r
;

178 
shutdown_cb_ˇŒed
 = 0;

179 
c⁄√˘_cb_ˇŒed
 = 0;

180 
wrôe_cb_ˇŒed
 = 0;

181 
˛o£_cb_ˇŒed
 = 0;

183 
	`TUV_ASSERT
(0 =
	`uv_ù4_addr
("127.0.0.1", 
TEST_PORT
, &
addr
));

185 
	`°¨tup
();

186 
sock
 = 
	`¸óã_t˝_sockë
();

188 
r
 = 
	`uv_t˝_öô
(
	`uv_deÁu…_lo›
(), &
˛õ¡
);

189 
	`TUV_ASSERT
(
r
 == 0);

191 
r
 = 
	`uv_t˝_›í
(&
˛õ¡
, 
sock
);

192 
	`TUV_ASSERT
(
r
 == 0);

194 
r
 = 
	`uv_t˝_c⁄√˘
(&
c⁄√˘_ªq
,

195 &
˛õ¡
,

196 (c⁄° 
sockaddr
*)&
addr
,

197 
c⁄√˘_cb
);

198 
	`TUV_ASSERT
(
r
 == 0);

200 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

202 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

205 
	`TUV_ASSERT
(
c⁄√˘_cb_ˇŒed
 == 1);

206 
	`TUV_ASSERT
(
wrôe_cb_ˇŒed
 == 1);

207 
	`TUV_ASSERT
(
˛o£_cb_ˇŒed
 == 1);

210 
	}
}

	@deps/libtuv/test/test_threadpool.c

37 
	~<as£π.h
>

38 
	~<°dio.h
>

40 
	~<uv.h
>

41 
	~"ru¬î.h
"

44 
	gw‹k_cb_cou¡
;

45 
	ga·î_w‹k_cb_cou¡
;

46 
uv_w‹k_t
 
	gw‹k_ªq
;

47 
	gd©a
;

50 
	$w‹k_cb
(
uv_w‹k_t
* 
ªq
) {

51 
	`TUV_ASSERT
(
ªq
 =&
w‹k_ªq
);

52 
	`TUV_ASSERT
(
ªq
->
d©a
 == &data);

53 
w‹k_cb_cou¡
++;

54 
	}
}

57 
	$a·î_w‹k_cb
(
uv_w‹k_t
* 
ªq
, 
°©us
) {

58 
	`TUV_ASSERT
(
°©us
 == 0);

59 
	`TUV_ASSERT
(
ªq
 =&
w‹k_ªq
);

60 
	`TUV_ASSERT
(
ªq
->
d©a
 == &data);

61 
a·î_w‹k_cb_cou¡
++;

62 
	}
}

65 
	$TEST_IMPL
(
thªadpoﬁ_queue_w‹k_sim∂e
) {

66 
r
;

68 
w‹k_cb_cou¡
 = 0;

69 
a·î_w‹k_cb_cou¡
 = 0;

71 
w‹k_ªq
.
d©a
 = &data;

72 
r
 = 
	`uv_queue_w‹k
(
	`uv_deÁu…_lo›
(), &
w‹k_ªq
, 
w‹k_cb
, 
a·î_w‹k_cb
);

73 
	`TUV_ASSERT
(
r
 == 0);

74 
r
 = 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

75 
	`TUV_ASSERT
(
r
 == 0);

77 
	`TUV_ASSERT
(
w‹k_cb_cou¡
 == 1);

78 
	`TUV_ASSERT
(
a·î_w‹k_cb_cou¡
 == 1);

80 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

83 
	}
}

	@deps/libtuv/test/test_timer.c

37 
	~<°rög.h
>

38 
	~<uv.h
>

41 
	~"uv-comm⁄.h
"

42 
	~"ru¬î.h
"

47 
	$TEST_IMPL
(
timî_öô
) {

48 
uv_timî_t
 
h™dÀ
;

50 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
h™dÀ
));

51 
	`TUV_ASSERT
(0 =
	`uv_timî_gë_ª≥©
(&
h™dÀ
));

52 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë&
h™dÀ
));

55 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
h™dÀ
, 
NULL
);

56 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_ONCE
);

57 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

60 
	}
}

65 
	g⁄˚_cb_ˇŒed
 = 0;

66 
	g⁄˚_˛o£_cb_ˇŒed
 = 0;

67 
	gª≥©_cb_ˇŒed
 = 0;

68 
	gª≥©_˛o£_cb_ˇŒed
 = 0;

70 
uöt64_t
 
	g°¨t_time
 = 0ll;

73 
	$⁄˚_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

74 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

75 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
(
h™dÀ
));

77 
⁄˚_˛o£_cb_ˇŒed
++;

78 
	}
}

81 
	$⁄˚_cb
(
uv_timî_t
* 
h™dÀ
) {

82 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

83 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

85 
⁄˚_cb_ˇŒed
++;

87 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
⁄˚_˛o£_cb
);

90 
	`uv_upd©e_time
(
	`uv_deÁu…_lo›
());

91 
	}
}

94 
	$ª≥©_˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

95 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

97 
ª≥©_˛o£_cb_ˇŒed
++;

98 
	}
}

101 
	$ª≥©_cb
(
uv_timî_t
* 
h™dÀ
) {

102 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

103 
	`TUV_ASSERT
(1 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

105 
ª≥©_cb_ˇŒed
++;

107 i‡(
ª≥©_cb_ˇŒed
 == 5) {

108 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
ª≥©_˛o£_cb
);

110 
	}
}

113 
	$√vî_cb
(
uv_timî_t
* 
h™dÀ
) {

114 
	`TUV_FATAL
("never_cb shouldÇever be called");

115 
	}
}

118 
	$TEST_IMPL
(
timî
) {

119 
uv_timî_t
 
⁄˚_timîs
[10];

120 
uv_timî_t
 *
⁄˚
;

121 
uv_timî_t
 
ª≥©
, 
√vî
;

122 
i
;

123 
r
;

125 
⁄˚_cb_ˇŒed
 = 0;

126 
⁄˚_˛o£_cb_ˇŒed
 = 0;

127 
ª≥©_cb_ˇŒed
 = 0;

128 
ª≥©_˛o£_cb_ˇŒed
 = 0;

130 
°¨t_time
 = 
	`uv_now
(
	`uv_deÁu…_lo›
());

131 
	`TUV_ASSERT
(0 < 
°¨t_time
);

134 
i
 = 0; i < 
	`ARRAY_SIZE
(
⁄˚_timîs
); i++) {

135 
⁄˚
 = 
⁄˚_timîs
 + 
i
;

136 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), 
⁄˚
);

137 
	`TUV_ASSERT
(
r
 == 0);

138 
r
 = 
	`uv_timî_°¨t
(
⁄˚
, 
⁄˚_cb
, 
i
 * 50, 0);

139 
	`TUV_ASSERT
(
r
 == 0);

143 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
ª≥©
);

144 
	`TUV_ASSERT
(
r
 == 0);

145 
r
 = 
	`uv_timî_°¨t
(&
ª≥©
, 
ª≥©_cb
, 100, 100);

146 
	`TUV_ASSERT
(
r
 == 0);

149 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
√vî
);

150 
	`TUV_ASSERT
(
r
 == 0);

151 
r
 = 
	`uv_timî_°¨t
(&
√vî
, 
√vî_cb
, 100, 100);

152 
	`TUV_ASSERT
(
r
 == 0);

153 
r
 = 
	`uv_timî_°›
(&
√vî
);

154 
	`TUV_ASSERT
(
r
 == 0);

155 
	`uv_uƒef
((
uv_h™dÀ_t
*)&
√vî
);

157 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
√vî
, 
NULL
);

159 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

161 
	`TUV_ASSERT
(
⁄˚_cb_ˇŒed
 == 10);

162 
	`TUV_ASSERT
(
⁄˚_˛o£_cb_ˇŒed
 == 10);

163 
	`TUV_ASSERT
(
ª≥©_cb_ˇŒed
 == 5);

164 
	`TUV_ASSERT
(
ª≥©_˛o£_cb_ˇŒed
 == 1);

166 
	`TUV_ASSERT
(500 <
	`uv_now
(
	`uv_deÁu…_lo›
()Ë- 
°¨t_time
);

169 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

172 
	}
}

178 
	$TEST_IMPL
(
timî_°¨t_twi˚
) {

179 
uv_timî_t
 
⁄˚
;

180 
r
;

182 
⁄˚_cb_ˇŒed
 = 0;

184 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
⁄˚
);

185 
	`TUV_ASSERT
(
r
 == 0);

186 
r
 = 
	`uv_timî_°¨t
(&
⁄˚
, 
√vî_cb
, 86400 * 1000, 0);

187 
	`TUV_ASSERT
(
r
 == 0);

188 
r
 = 
	`uv_timî_°¨t
(&
⁄˚
, 
⁄˚_cb
, 10, 0);

189 
	`TUV_ASSERT
(
r
 == 0);

190 
r
 = 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

191 
	`TUV_ASSERT
(
r
 == 0);

192 
	`TUV_ASSERT
(
⁄˚_cb_ˇŒed
 == 1);

195 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

198 
	}
}

203 
	g‹dî_cb_ˇŒed
 = 0;

205 
	$‹dî_cb_a
(
uv_timî_t
 *
h™dÀ
) {

206 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
++ =*(*)
h™dÀ
->
d©a
);

207 
	}
}

210 
	$‹dî_cb_b
(
uv_timî_t
 *
h™dÀ
) {

211 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
++ =*(*)
h™dÀ
->
d©a
);

212 
	}
}

215 
	$TEST_IMPL
(
timî_‹dî
) {

216 
fú°
;

217 
£c⁄d
;

218 
uv_timî_t
 
h™dÀ_a
;

219 
uv_timî_t
 
h™dÀ_b
;

221 
‹dî_cb_ˇŒed
 = 0;

223 
fú°
 = 0;

224 
£c⁄d
 = 1;

225 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
h™dÀ_a
));

226 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
h™dÀ_b
));

229 
h™dÀ_a
.
d©a
 = &
fú°
;

230 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
h™dÀ_a
, 
‹dî_cb_a
, 0, 0));

231 
h™dÀ_b
.
d©a
 = &
£c⁄d
;

232 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
h™dÀ_b
, 
‹dî_cb_b
, 0, 0));

233 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
));

235 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
 == 2);

237 
	`TUV_ASSERT
(0 =
	`uv_timî_°›
(&
h™dÀ_a
));

238 
	`TUV_ASSERT
(0 =
	`uv_timî_°›
(&
h™dÀ_b
));

241 
‹dî_cb_ˇŒed
 = 0;

242 
h™dÀ_b
.
d©a
 = &
fú°
;

243 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
h™dÀ_b
, 
‹dî_cb_b
, 0, 0));

245 
h™dÀ_a
.
d©a
 = &
£c⁄d
;

246 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
h™dÀ_a
, 
‹dî_cb_a
, 0, 0));

247 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
));

249 
	`TUV_ASSERT
(
‹dî_cb_ˇŒed
 == 2);

252 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
h™dÀ_a
, 
NULL
);

253 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
h™dÀ_b
, 
NULL
);

254 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_ONCE
);

255 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

258 
	}
}

263 
uv_timî_t
 
	gtöy_timî
;

264 
uv_timî_t
 
	ghuge_timî1
;

265 
uv_timî_t
 
	ghuge_timî2
;

268 
	$töy_timî_cb
(
uv_timî_t
* 
h™dÀ
) {

269 
	`TUV_ASSERT
(
h™dÀ
 =&
töy_timî
);

270 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
töy_timî
, 
NULL
);

271 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
huge_timî1
, 
NULL
);

272 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
huge_timî2
, 
NULL
);

273 
	}
}

276 
	$TEST_IMPL
(
timî_huge_timeout
) {

277 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
töy_timî
));

278 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
huge_timî1
));

279 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
huge_timî2
));

280 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
töy_timî
, 
töy_timî_cb
, 1, 0));

281 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
huge_timî1
, 
töy_timî_cb
, 0xffffffffffffLL, 0));

282 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
huge_timî2
, 
töy_timî_cb
, (
uöt64_t
) -1, 0));

283 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
));

286 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

289 
	}
}

292 
	ghuge_ª≥©_cb_nˇŒs
;

294 
	$huge_ª≥©_cb
(
uv_timî_t
* 
h™dÀ
) {

295 i‡(
huge_ª≥©_cb_nˇŒs
 == 0)

296 
	`TUV_ASSERT
(
h™dÀ
 =&
huge_timî1
);

298 
	`TUV_ASSERT
(
h™dÀ
 =&
töy_timî
);

300 i‡(++
huge_ª≥©_cb_nˇŒs
 == 10) {

301 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
töy_timî
, 
NULL
);

302 
	`uv_˛o£
((
uv_h™dÀ_t
*Ë&
huge_timî1
, 
NULL
);

304 
	}
}

307 
	$TEST_IMPL
(
timî_huge_ª≥©
) {

308 
huge_ª≥©_cb_nˇŒs
 = 0;

310 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
töy_timî
));

311 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
huge_timî1
));

312 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
töy_timî
, 
huge_ª≥©_cb
, 2, 2));

313 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
huge_timî1
, 
huge_ª≥©_cb
, 1, (
uöt64_t
) -1));

314 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
));

317 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

320 
	}
}

325 
	gtimî_run_⁄˚_timî_cb_ˇŒed
 = 0;

327 
	$timî_run_⁄˚_timî_cb
(
uv_timî_t
* 
h™dÀ
) {

328 
timî_run_⁄˚_timî_cb_ˇŒed
++;

329 
	}
}

332 
	$TEST_IMPL
(
timî_run_⁄˚
) {

333 
uv_timî_t
 
timî_h™dÀ
;

335 
timî_run_⁄˚_timî_cb_ˇŒed
 = 0;

337 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
timî_h™dÀ
));

338 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
timî_h™dÀ
, 
timî_run_⁄˚_timî_cb
, 0, 0));

339 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_ONCE
));

340 
	`TUV_ASSERT
(1 =
timî_run_⁄˚_timî_cb_ˇŒed
);

342 
	`TUV_ASSERT
(0 =
	`uv_timî_°¨t
(&
timî_h™dÀ
, 
timî_run_⁄˚_timî_cb
, 1, 0));

345 
	`uv_¶ìp
(1);

346 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_ONCE
));

347 
	`TUV_ASSERT
(2 =
timî_run_⁄˚_timî_cb_ˇŒed
);

349 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
timî_h™dÀ
, 
NULL
);

350 
	`TUV_ASSERT
(0 =
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_ONCE
));

353 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

356 
	}
}

359 
	$TEST_IMPL
(
timî_nuŒ_ˇŒback
) {

360 
uv_timî_t
 
h™dÀ
;

362 
	`TUV_ASSERT
(0 =
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
h™dÀ
));

363 
	`TUV_ASSERT
(
UV_EINVAL
 =
	`uv_timî_°¨t
(&
h™dÀ
, 
NULL
, 100, 100));

366 
	`tuv_timî_deöô
(
	`uv_deÁu…_lo›
(), &
h™dÀ
);

367 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

370 
	}
}

	@deps/libtuv/test/test_timer_again.c

37 
	~<uv.h
>

39 
	~"ru¬î.h
"

42 
	g˛o£_cb_ˇŒed
 = 0;

43 
	gª≥©_1_cb_ˇŒed
 = 0;

44 
	gª≥©_2_cb_ˇŒed
 = 0;

45 
	gª≥©_2_cb_Ælowed
 = 0;

47 
uv_timî_t
 
	gdummy
, 
	gª≥©_1
, 
	gª≥©_2
;

49 
uöt64_t
 
	g°¨t_time
;

52 
	$˛o£_cb
(
uv_h™dÀ_t
* 
h™dÀ
) {

53 
	`TUV_ASSERT
(
h™dÀ
 !
NULL
);

55 
˛o£_cb_ˇŒed
++;

56 
	}
}

59 
	$ª≥©_1_cb
(
uv_timî_t
* 
h™dÀ
) {

60 
r
;

62 
	`TUV_ASSERT
(
h™dÀ
 =&
ª≥©_1
);

63 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
((
uv_timî_t
*)
h™dÀ
) == 50);

65 
ª≥©_1_cb_ˇŒed
++;

67 
r
 = 
	`uv_timî_agaö
(&
ª≥©_2
);

68 
	`TUV_ASSERT
(
r
 == 0);

70 i‡(
ª≥©_1_cb_ˇŒed
 == 10) {

71 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
˛o£_cb
);

74 
ª≥©_2_cb_Ælowed
 = 1;

77 
	}
}

80 
	$ª≥©_2_cb
(
uv_timî_t
* 
h™dÀ
) {

81 
	`TUV_ASSERT
(
h™dÀ
 =&
ª≥©_2
);

82 
	`TUV_ASSERT
(
ª≥©_2_cb_Ælowed
);

84 
ª≥©_2_cb_ˇŒed
++;

86 i‡(
	`uv_timî_gë_ª≥©
(&
ª≥©_2
) == 0) {

87 
	`TUV_ASSERT
(0 =
	`uv_is_a˘ive
((
uv_h™dÀ_t
*Ë
h™dÀ
));

88 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
˛o£_cb
);

92 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_2
) == 100);

95 
	`uv_timî_£t_ª≥©
(&
ª≥©_2
, 0);

96 
	}
}

99 
	$TEST_IMPL
(
timî_agaö
) {

100 
r
;

102 
˛o£_cb_ˇŒed
 = 0;

103 
ª≥©_1_cb_ˇŒed
 = 0;

104 
ª≥©_2_cb_ˇŒed
 = 0;

105 
ª≥©_2_cb_Ælowed
 = 0;

107 
°¨t_time
 = 
	`uv_now
(
	`uv_deÁu…_lo›
());

108 
	`TUV_ASSERT
(0 < 
°¨t_time
);

111 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
dummy
);

112 
	`TUV_ASSERT
(
r
 == 0);

113 
r
 = 
	`uv_timî_agaö
(&
dummy
);

114 
	`TUV_ASSERT
(
r
 =
UV_EINVAL
);

115 
	`uv_uƒef
((
uv_h™dÀ_t
*)&
dummy
);

118 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
ª≥©_1
);

119 
	`TUV_ASSERT
(
r
 == 0);

120 
r
 = 
	`uv_timî_°¨t
(&
ª≥©_1
, 
ª≥©_1_cb
, 50, 0);

121 
	`TUV_ASSERT
(
r
 == 0);

122 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_1
) == 0);

125 
	`uv_timî_£t_ª≥©
(&
ª≥©_1
, 50);

126 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_1
) == 50);

132 
r
 = 
	`uv_timî_öô
(
	`uv_deÁu…_lo›
(), &
ª≥©_2
);

133 
	`TUV_ASSERT
(
r
 == 0);

134 
r
 = 
	`uv_timî_°¨t
(&
ª≥©_2
, 
ª≥©_2_cb
, 100, 100);

135 
	`TUV_ASSERT
(
r
 == 0);

136 
	`TUV_ASSERT
(
	`uv_timî_gë_ª≥©
(&
ª≥©_2
) == 100);

138 
	`uv_run
(
	`uv_deÁu…_lo›
(), 
UV_RUN_DEFAULT
);

140 
	`TUV_ASSERT
(
ª≥©_1_cb_ˇŒed
 == 10);

141 
	`TUV_ASSERT
(
ª≥©_2_cb_ˇŒed
 == 2);

142 
	`TUV_ASSERT
(
˛o£_cb_ˇŒed
 == 2);

145 
	`tuv_timî_deöô
(
	`uv_deÁu…_lo›
(), &
dummy
);

146 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

149 
	}
}

	@deps/libtuv/test/test_walk_handles.c

37 
	~<°dio.h
>

38 
	~<°dlib.h
>

40 
	~<uv.h
>

42 
	~"ru¬î.h
"

45 
	gmagic_cookõ
[] = "magic cookie";

46 
	g£í_timî_h™dÀ
;

47 
uv_timî_t
 
	gtimî
;

50 
	$wÆk_cb
(
uv_h™dÀ_t
* 
h™dÀ
, * 
¨g
) {

51 
	`TUV_ASSERT
(
¨g
 =(*)
magic_cookõ
);

53 i‡(
h™dÀ
 =(
uv_h™dÀ_t
*)&
timî
) {

54 
£í_timî_h™dÀ
++;

56 
	`TUV_ASSERT
(0 && "unexpected handle");

58 
	}
}

61 
	$timî_cb
(
uv_timî_t
* 
h™dÀ
) {

62 
	`TUV_ASSERT
(
h™dÀ
 =&
timî
);

64 
	`uv_wÆk
(
h™dÀ
->
lo›
, 
wÆk_cb
, 
magic_cookõ
);

65 
	`uv_˛o£
((
uv_h™dÀ_t
*)
h™dÀ
, 
NULL
);

66 
	}
}

69 
	$TEST_IMPL
(
wÆk_h™dÀs
) {

70 
uv_lo›_t
* 
lo›
;

71 
r
;

73 
£í_timî_h™dÀ
 = 0;

75 
lo›
 = 
	`uv_deÁu…_lo›
();

77 
r
 = 
	`uv_timî_öô
(
lo›
, &
timî
);

78 
	`TUV_ASSERT
(
r
 == 0);

80 
r
 = 
	`uv_timî_°¨t
(&
timî
, 
timî_cb
, 1, 0);

81 
	`TUV_ASSERT
(
r
 == 0);

84 
	`TUV_ASSERT
(
£í_timî_h™dÀ
 == 0);

85 
r
 = 
	`uv_run
(
lo›
, 
UV_RUN_DEFAULT
);

86 
	`TUV_ASSERT
(
r
 == 0);

87 
	`TUV_ASSERT
(
£í_timî_h™dÀ
 == 1);

90 
£í_timî_h™dÀ
 = 0;

91 
	`uv_wÆk
(
lo›
, 
wÆk_cb
, 
magic_cookõ
);

92 
	`TUV_ASSERT
(
£í_timî_h™dÀ
 == 0);

94 
	`TUV_ASSERT
(0 =
	`uv_lo›_˛o£
(
	`uv_deÁu…_lo›
()));

97 
	}
}

	@include/iotjs.h

29 #i‚de‡
IOTJS_IOTJS_H


30 
	#IOTJS_IOTJS_H


	)

33 #ifde‡
__˝lu•lus


34 
	#IOTJS_EXTERN_C
 "C"

	)

36 
	#IOTJS_EXTERN_C
 

	)

40 
IOTJS_EXTERN_C
 
iŸjs_íåy
(
¨gc
, ** 
¨gv
);

	@iotjs_linux.c

16 
	~"iŸjs.h
"

18 
	$maö
(
¨gc
, ** 
¨gv
) {

19  
	`iŸjs_íåy
(
¨gc
, 
¨gv
);

20 
	}
}

	@src/iotjs.c

16 
	~"iŸjs_def.h
"

18 
	~"iŸjs.h
"

19 
	~"iŸjs_h™dÀwøp.h
"

20 
	~"iŸjs_js.h
"

21 
	~"iŸjs_°rög_ext.h
"

23 
	~"jîrys¸ùt-debuggî.h
"

24 #i‚de‡
__NUTTX__


25 
	~"jîrys¸ùt-p‹t-deÁu….h
"

27 
	~"jîrys¸ùt-p‹t.h
"

28 
	~"jîrys¸ùt.h
"

30 
	~<°dio.h
>

31 
	~<°rög.h
>

37 
boﬁ
 
	$iŸjs_jîry_öôülize
(
iŸjs_ívú⁄mít_t
* 
ív
) {

39 
jîry_öô_Êag_t
 
jîry_Êags
 = 
JERRY_INIT_EMPTY
;

41 i‡(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
mem°©
) {

42 
jîry_Êags
 |
JERRY_INIT_MEM_STATS
;

43 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

44 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
(
JERRY_LOG_LEVEL_DEBUG
);

48 i‡(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
show_›code
) {

49 
jîry_Êags
 |
JERRY_INIT_SHOW_OPCODES
;

50 #i‡!
	`deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

51 
	`jîry_p‹t_deÁu…_£t_log_Àvñ
(
JERRY_LOG_LEVEL_DEBUG
);

55 i‡(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
is_jîry_jmem_logs_íabÀd
) {

56 
jîry_Êags
 |
JERRY_INIT_JMEM_LOGS_ENABLED
;

59 
	`jîry_öô
(
jîry_Êags
);

61 i‡(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
debuggî
) {

62 
	`jîry_debuggî_öô
(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
debuggî_p‹t
);

65 i‡(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
debuggî
) {

66 
	`jîry_debuggî_c⁄töue
();

70 
	`iŸjs_ªgi°î_jîry_magic_°rög
();

73 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

74 
	`jîry_£t_vm_exec_°›_ˇŒback
(
vm_exec_°›_ˇŒback
, &(
_this
->
°©e
), 2);

77 
jîry_vÆue_t
 
∑r£d_code
 = 
	`jîry_∑r£
((
jîry_ch¨_t
*)"", 0, 
Ál£
);

78 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
∑r£d_code
)) {

79 
	`DLOG
("jerry_parse() failed");

80 
	`jîry_ªÀa£_vÆue
(
∑r£d_code
);

81  
Ál£
;

84 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_run
(
∑r£d_code
);

85 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªt_vÆ
)) {

86 
	`DLOG
("jerry_run() failed");

87 
	`jîry_ªÀa£_vÆue
(
∑r£d_code
);

88 
	`jîry_ªÀa£_vÆue
(
ªt_vÆ
);

89  
Ál£
;

92 
	`jîry_ªÀa£_vÆue
(
∑r£d_code
);

93 
	`jîry_ªÀa£_vÆue
(
ªt_vÆ
);

94  
åue
;

95 
	}
}

98 
	$iŸjs_jîry_ªÀa£
(
iŸjs_ívú⁄mít_t
* 
ív
) {

99 
	`jîry_˛ónup
();

100 
	}
}

103 
boﬁ
 
	$iŸjs_run
(
iŸjs_ívú⁄mít_t
* 
ív
) {

105 
boﬁ
 
throws
 = 
Ál£
;

106 #i‚de‡
ENABLE_SNAPSHOT


107 
iŸjs_jvÆ_t
 
jmaö
 = 
	`iŸjs_jhñ≥r_evÆ
("iŸjs.js", 
	`°æí
("iotjs.js"),

108 
iŸjs_s
, 
iŸjs_l
, 
Ál£
, &
throws
);

110 
iŸjs_jvÆ_t
 
jmaö
 = 
	`iŸjs_jhñ≥r_exec_¢≠shŸ
(
iŸjs_s
, 
iŸjs_l
, &
throws
);

113 i‡(
throws
) {

114 
	`iŸjs_unˇught_ex˚±i⁄
(&
jmaö
);

117 
	`iŸjs_jvÆ_de°roy
(&
jmaö
);

119  !
throws
;

120 
	}
}

123 
	$iŸjs_°¨t
(
iŸjs_ívú⁄mít_t
* 
ív
) {

125 
	`iŸjs_bödög_öôülize
();

128 c⁄° 
iŸjs_jvÆ_t
* 
globÆ
 = 
	`iŸjs_jvÆ_gë_globÆ_obje˘
();

129 
	`iŸjs_jvÆ_£t_obje˘_«tive_h™dÀ
(
globÆ
, (
uöçå_t
)(
ív
), 
NULL
);

132 
	`iŸjs_moduÀ_li°_öô
();

135 c⁄° 
iŸjs_jvÆ_t
* 
¥o˚ss
 = 
	`iŸjs_öô_¥o˚ss_moduÀ
();

136 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
globÆ
, "¥o˚ss", 
¥o˚ss
);

139 
	`iŸjs_ívú⁄mít_go_°©e_ru¬ög_maö
(
ív
);

142 
	`iŸjs_run
(
ív
);

144 
exô_code
 = 0;

145 i‡(!
	`iŸjs_ívú⁄mít_is_exôög
(
ív
)) {

147 
	`iŸjs_ívú⁄mít_go_°©e_ru¬ög_lo›
(
ív
);

149 
boﬁ
 
m‹e
;

151 
m‹e
 = 
	`uv_run
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), 
UV_RUN_ONCE
);

152 
m‹e
 |
	`iŸjs_¥o˚ss_√xt_tick
();

153 i‡(
m‹e
 =
Ál£
) {

154 
m‹e
 = 
	`uv_lo›_Æive
(
	`iŸjs_ívú⁄mít_lo›
(
ív
));

156 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_run_Æl_íqueued_jobs
();

157 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªt_vÆ
)) {

158 
	`DLOG
("jerry_run_all_enqueued_jobs() failed");

160 } 
m‹e
 && !
	`iŸjs_ívú⁄mít_is_exôög
(
ív
));

162 
exô_code
 = 
	`iŸjs_¥o˚ss_exôcode
();

164 i‡(!
	`iŸjs_ívú⁄mít_is_exôög
(
ív
)) {

166 
	`iŸjs_¥o˚ss_emô_exô
(
exô_code
);

168 
	`iŸjs_ívú⁄mít_go_°©e_exôög
(
ív
);

172 
exô_code
 = 
	`iŸjs_¥o˚ss_exôcode
();

175 
	`iŸjs_moduÀ_li°_˛ónup
();

177  
exô_code
;

178 
	}
}

181 
	$iŸjs_uv_wÆk_to_˛o£_ˇŒback
(
uv_h™dÀ_t
* 
h™dÀ
, * 
¨g
) {

182 
iŸjs_h™dÀwøp_t
* 
h™dÀ_wøp
 = 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
h™dÀ
);

183 
	`IOTJS_ASSERT
(
h™dÀ_wøp
 !
NULL
);

185 
	`iŸjs_h™dÀwøp_˛o£
(
h™dÀ_wøp
, 
NULL
);

186 
	}
}

189 
	$iŸjs_íåy
(
¨gc
, ** 
¨gv
) {

191 
	`öô_debug_£âögs
();

194 
iŸjs_ívú⁄mít_t
* 
ív
 = (iŸjs_ívú⁄mít_t*)
	`iŸjs_ívú⁄mít_gë
();

196 
ªt_code
 = 0;

199 i‡(!
	`iŸjs_ívú⁄mít_∑r£_comm™d_löe_¨gumíts
(
ív
, (
uöt32_t
)
¨gc
,

200 
¨gv
)) {

201 
	`DLOG
("iotjs_environment_parse_command_line_arguments failed");

202 
ªt_code
 = 1;

203 
ãrmö©e
;

207 i‡(!
	`iŸjs_jîry_öôülize
(
ív
)) {

208 
	`DLOG
("iotjs_jerry_initialize failed");

209 
ªt_code
 = 1;

210 
ãrmö©e
;

214 
	`iŸjs_ívú⁄mít_£t_lo›
(
ív
, 
	`uv_deÁu…_lo›
());

217 
ªt_code
 = 
	`iŸjs_°¨t
(
ív
);

220 
	`uv_wÆk
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), 
iŸjs_uv_wÆk_to_˛o£_ˇŒback
, 
NULL
);

221 
	`uv_run
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), 
UV_RUN_DEFAULT
);

223 
ªs
 = 
	`uv_lo›_˛o£
(
	`iŸjs_ívú⁄mít_lo›
(
ív
));

224 
	`IOTJS_ASSERT
(
ªs
 == 0);

227 
	`iŸjs_bödög_föÆize
();

230 
	`iŸjs_jîry_ªÀa£
(
ív
);

232 
ãrmö©e
:

234 
	`iŸjs_ívú⁄mít_ªÀa£
();

237 
	`ªÀa£_debug_£âögs
();

239  
ªt_code
;

240 
	}
}

	@src/iotjs_binding.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_bödög.h
"

20 
	~<°rög.h
>

23 
iŸjs_jvÆ_t
 
	gjundeföed
;

24 
iŸjs_jvÆ_t
 
	gjnuŒ
;

25 
iŸjs_jvÆ_t
 
	gjåue
;

26 
iŸjs_jvÆ_t
 
	gjÁl£
;

27 
iŸjs_jvÆ_t
 
	gjglobÆ
;

29 
iŸjs_j¨gs_t
 
	gj¨gs_em±y
;

31 
jîry_vÆue_t
 
iŸjs_jvÆ_as_øw
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
);

34 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_numbî
(
v
) {

35 
iŸjs_jvÆ_t
 
jvÆ
;

36 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

38 
_this
->
vÆue
 = 
	`jîry_¸óã_numbî
(
v
);

39  
jvÆ
;

40 
	}
}

43 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_°rög
(c⁄° 
iŸjs_°rög_t
* 
v
) {

44 
iŸjs_jvÆ_t
 
jvÆ
;

45 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

47 c⁄° 
jîry_ch¨_t
* 
d©a
 = (c⁄° jîry_ch¨_t*)(
	`iŸjs_°rög_d©a
(
v
));

48 
jîry_size_t
 
size
 = 
	`iŸjs_°rög_size
(
v
);

50 i‡(
	`jîry_is_vÆid_utf8_°rög
(
d©a
, 
size
)) {

51 
_this
->
vÆue
 = 
	`jîry_¸óã_°rög_sz_‰om_utf8
(
d©a
, 
size
);

53 
_this
->
vÆue
 =

54 
	`jîry_¸óã_îr‹
(
JERRY_ERROR_TYPE
,

55 (c⁄° 
jîry_ch¨_t
*)"Invalid UTF-8 string");

58  
jvÆ
;

59 
	}
}

62 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_gë_°rög_size
(c⁄° 
iŸjs_°rög_t
* 
°r
) {

63 
iŸjs_jvÆ_t
 
°r_vÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög
(
°r
);

64 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, &
°r_vÆ
);

66 
jîry_size_t
 
size
 = 
	`jîry_gë_°rög_size
(
_this
->
vÆue
);

67 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_numbî
(
size
);

69 
	`iŸjs_jvÆ_de°roy
(&
°r_vÆ
);

71  
jvÆ
;

72 
	}
}

75 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_°rög_øw
(c⁄° * 
d©a
) {

76 
iŸjs_jvÆ_t
 
jvÆ
;

77 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

79 
_this
->
vÆue
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)
d©a
);

81  
jvÆ
;

82 
	}
}

85 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_obje˘
() {

86 
iŸjs_jvÆ_t
 
jvÆ
;

87 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

89 
_this
->
vÆue
 = 
	`jîry_¸óã_obje˘
();

91  
jvÆ
;

92 
	}
}

95 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_¨øy
(
uöt32_t
 
Àn
) {

96 
iŸjs_jvÆ_t
 
jvÆ
;

97 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

99 
_this
->
vÆue
 = 
	`jîry_¸óã_¨øy
(
Àn
);

101  
jvÆ
;

102 
	}
}

105 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_byã_¨øy
(
uöt32_t
 
Àn
, c⁄° * 
d©a
) {

106 
iŸjs_jvÆ_t
 
jvÆ
;

107 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

109 
	`IOTJS_ASSERT
(
d©a
 !
NULL
);

111 
_this
->
vÆue
 = 
	`jîry_¸óã_¨øy
(
Àn
);

112 
uöt32_t
 
i
 = 0; i < 
Àn
; i++) {

113 
jîry_vÆue_t
 
vÆ
 = 
	`jîry_¸óã_numbî
(()
d©a
[
i
]);

114 
	`jîry_£t_¥›îty_by_ödex
(
_this
->
vÆue
, 
i
, 
vÆ
);

115 
	`jîry_ªÀa£_vÆue
(
vÆ
);

118  
jvÆ
;

119 
	}
}

121 
jîry_vÆue_t
 
	$iŸjs_jvÆ_dummy_fun˘i⁄
(c⁄° 
jîry_vÆue_t
 
fun˘i⁄_obj
,

122 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

123 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

124 c⁄° 
jîry_Àngth_t
 
¨gs_cou¡
) {

125  *(
jîry_vÆue_t
*)&
this_vÆ
;

126 
	}
}

128 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_fun˘i⁄
(
JH™dÀrTy≥
 
h™dÀr
) {

129 
iŸjs_jvÆ_t
 
jvÆ
;

130 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

132 
_this
->
vÆue
 = 
	`jîry_¸óã_exã∫Æ_fun˘i⁄
(
h™dÀr
);

133 
	`IOTJS_ASSERT
(
	`jîry_vÆue_is_c⁄°ru˘‹
(
_this
->
vÆue
));

135  
jvÆ
;

136 
	}
}

139 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_îr‹
(c⁄° * 
msg
) {

140  
	`iŸjs_jvÆ_¸óã_îr‹_ty≥
(
IOTJS_ERROR_COMMON
, 
msg
);

141 
	}
}

144 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_îr‹_ty≥
(
iŸjs_îr‹_t
 
ty≥
, c⁄° * 
msg
) {

145 
iŸjs_jvÆ_t
 
jvÆ
;

146 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

148 c⁄° 
jîry_ch¨_t
* 
jmsg
 = (c⁄° jîry_ch¨_t*)(
msg
);

149 
_this
->
vÆue
 = 
	`jîry_¸óã_îr‹
((
jîry_îr‹_t
)
ty≥
, 
jmsg
);

150 
	`jîry_vÆue_˛ór_îr‹_Êag
(&
_this
->
vÆue
);

152  
jvÆ
;

153 
	}
}

156 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_c›õd
(c⁄° 
iŸjs_jvÆ_t
* 
Ÿhî
) {

157 
iŸjs_jvÆ_t
 
jvÆ
;

158 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

160 
_this
->
vÆue
 = 
	`jîry_acquúe_vÆue
(
	`iŸjs_jvÆ_as_øw
(
Ÿhî
));

161  
jvÆ
;

162 
	}
}

165 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_øw
(
jîry_vÆue_t
 
vÆ
) {

166 
iŸjs_jvÆ_t
 
jvÆ
;

167 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jvÆ_t
, &
jvÆ
);

169 
_this
->
vÆue
 = 
vÆ
;

171  
jvÆ
;

172 
	}
}

175 
	$iŸjs_jvÆ_de°roy
(
iŸjs_jvÆ_t
* 
jvÆ
) {

176 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_jvÆ_t
, 
jvÆ
);

177 
	`jîry_ªÀa£_vÆue
(
_this
->
vÆue
);

178 
	}
}

181 
	$iŸjs_jvÆ_de°roy_n‹ñó£
(
iŸjs_jvÆ_t
* 
jvÆ
) {

182 
	`IOTJS_VALIDATABLE_STRUCT_DESTRUCTOR_VALIDATE
(
iŸjs_jvÆ_t
, 
jvÆ
);

183 
	}
}

186 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_gë_undeföed
() {

187  &
jundeföed
;

188 
	}
}

191 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_gë_nuŒ
() {

192  &
jnuŒ
;

193 
	}
}

196 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_gë_boﬁón
(
boﬁ
 
v
) {

197  
v
 ? &
jåue
 : &
jÁl£
;

198 
	}
}

201 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_gë_globÆ_obje˘
() {

202  &
jglobÆ
;

203 
	}
}

206 
	#TYPE_CHECKER_BODY
(
jvÆ_ty≥
) \

207 
boﬁ
 
iŸjs_jvÆ_is_
##
	`jvÆ_ty≥
(c⁄° 
iŸjs_jvÆ_t
* 
vÆ
) { \

208 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
vÆ
); \

209  
jîry_vÆue_is_
##
	`jvÆ_ty≥
(
_this
->
vÆue
); \

210 }

	)

212 
	$FOR_EACH_JVAL_TYPES
(
TYPE_CHECKER_BODY
)

214 #unde‡
TYPE_CHECKER_BODY


217 
boﬁ
 
	$iŸjs_jvÆ_as_boﬁón
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

218 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jvÆ
);

219 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_boﬁón
(
jvÆ
));

220  
	`jîry_gë_boﬁón_vÆue
(
_this
->
vÆue
);

221 
	}
}

224 
	$iŸjs_jvÆ_as_numbî
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

225 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jvÆ
);

226 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_numbî
(
jvÆ
));

227  
	`jîry_gë_numbî_vÆue
(
_this
->
vÆue
);

228 
	}
}

231 
iŸjs_°rög_t
 
	$iŸjs_jvÆ_as_°rög
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

232 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jvÆ
);

233 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_°rög
(
jvÆ
));

235 
jîry_size_t
 
size
 = 
	`jîry_gë_°rög_size
(
_this
->
vÆue
);

237 i‡(
size
 == 0)

238  
	`iŸjs_°rög_¸óã
();

240 * 
buf„r
 = 
	`iŸjs_buf„r_Æloˇã
(
size
 + 1);

241 
jîry_ch¨_t
* 
jîry_buf„r
 = (jîry_ch¨_t*)(
buf„r
);

243 
size_t
 
check
 = 
	`jîry_°rög_to_ch¨_buf„r
(
_this
->
vÆue
, 
jîry_buf„r
, 
size
);

245 
	`IOTJS_ASSERT
(
check
 =
size
);

246 
buf„r
[
size
] = '\0';

248 
iŸjs_°rög_t
 
ªs
 = 
	`iŸjs_°rög_¸óã_wôh_buf„r
(
buf„r
, 
size
);

250  
ªs
;

251 
	}
}

254 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_as_obje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

255 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jvÆ
);

256 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jvÆ
));

257  
jvÆ
;

258 
	}
}

261 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_as_¨øy
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

262 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jvÆ
);

263 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_¨øy
(
jvÆ
));

264  
jvÆ
;

265 
	}
}

268 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_jvÆ_as_fun˘i⁄
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

269 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jvÆ
);

270 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(
jvÆ
));

271  
jvÆ
;

272 
	}
}

275 
jîry_vÆue_t
 
	$iŸjs_jvÆ_as_øw
(c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

276 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jvÆ
);

277  
_this
->
vÆue
;

278 
	}
}

281 
boﬁ
 
	$iŸjs_jvÆ_£t_¥ŸŸy≥
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, iŸjs_jvÆ_t* 
j¥Ÿo
) {

282 
jîry_vÆue_t
 
ªt
 =

283 
	`jîry_£t_¥ŸŸy≥
(
	`iŸjs_jvÆ_as_øw
(
jobj
), iŸjs_jvÆ_as_øw(
j¥Ÿo
));

284 
boﬁ
 
îr‹_found
 = 
	`jîry_vÆue_has_îr‹_Êag
(
ªt
);

285 
	`jîry_ªÀa£_vÆue
(
ªt
);

287  !
îr‹_found
;

288 
	}
}

291 
	$iŸjs_jvÆ_£t_mëhod
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, c⁄° * 
«me
,

292 
iŸjs_«tive_h™dÀr_t
 
h™dÀr
) {

293 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

294 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobj
));

296 
iŸjs_jvÆ_t
 
jfunc
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
h™dÀr
);

297 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, &
jfunc
);

298 
	`iŸjs_jvÆ_de°roy
(&
jfunc
);

299 
	}
}

302 
	$iŸjs_jvÆ_£t_¥›îty_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, c⁄° * 
«me
,

303 c⁄° 
iŸjs_jvÆ_t
* 
vÆ
) {

304 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jobj
);

305 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobj
));

307 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)(
«me
));

308 
jîry_vÆue_t
 
vÆue
 = 
	`iŸjs_jvÆ_as_øw
(
vÆ
);

309 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_£t_¥›îty
(
_this
->
vÆue
, 
¥›_«me
, value);

310 
	`jîry_ªÀa£_vÆue
(
¥›_«me
);

312 
	`IOTJS_ASSERT
(!
	`jîry_vÆue_has_îr‹_Êag
(
ªt_vÆ
));

313 
	`jîry_ªÀa£_vÆue
(
ªt_vÆ
);

314 
	}
}

317 
	$iŸjs_jvÆ_£t_¥›îty_nuŒ
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, c⁄° * 
«me
) {

318 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

319 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, 
	`iŸjs_jvÆ_gë_nuŒ
());

320 
	}
}

323 
	$iŸjs_jvÆ_£t_¥›îty_undeföed
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
,

324 c⁄° * 
«me
) {

325 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

326 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, 
	`iŸjs_jvÆ_gë_undeföed
());

327 
	}
}

330 
	$iŸjs_jvÆ_£t_¥›îty_boﬁón
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, c⁄° * 
«me
,

331 
boﬁ
 
v
) {

332 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

333 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, 
	`iŸjs_jvÆ_gë_boﬁón
(
v
));

334 
	}
}

337 
	$iŸjs_jvÆ_£t_¥›îty_numbî
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, c⁄° * 
«me
,

338 
v
) {

339 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

340 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_numbî
(
v
);

341 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, &
jvÆ
);

342 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

343 
	}
}

346 
	$iŸjs_jvÆ_£t_¥›îty_°rög
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, c⁄° * 
«me
,

347 c⁄° 
iŸjs_°rög_t
* 
v
) {

348 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

349 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög
(
v
);

350 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, &
jvÆ
);

351 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

352 
	}
}

355 
	$iŸjs_jvÆ_£t_¥›îty_°rög_øw
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
,

356 c⁄° * 
«me
, c⁄° * 
v
) {

357 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jvÆ_t
, 
jobj
);

358 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
v
);

359 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, 
«me
, &
jvÆ
);

360 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

361 
	}
}

364 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_gë_¥›îty
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
,

365 c⁄° * 
«me
) {

366 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jobj
);

367 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobj
));

369 
jîry_vÆue_t
 
¥›_«me
 = 
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)(
«me
));

370 
jîry_vÆue_t
 
ªs
 = 
	`jîry_gë_¥›îty
(
_this
->
vÆue
, 
¥›_«me
);

371 
	`jîry_ªÀa£_vÆue
(
¥›_«me
);

373 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªs
)) {

374 
	`jîry_ªÀa£_vÆue
(
ªs
);

375  
	`iŸjs_jvÆ_¸óã_c›õd
(
	`iŸjs_jvÆ_gë_undeföed
());

378  
	`iŸjs_jvÆ_¸óã_øw
(
ªs
);

379 
	}
}

382 
	$iŸjs_jvÆ_£t_obje˘_«tive_h™dÀ
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
,

383 
uöçå_t
 
±r
,

384 
JN©iveInfoTy≥
* 
«tive_öfo
) {

385 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jobj
);

386 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobj
));

388 
	`jîry_£t_obje˘_«tive_poöãr
(
_this
->
vÆue
, (*)
±r
, 
«tive_öfo
);

389 
	}
}

392 
uöçå_t
 
	$iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
) {

393 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
jobj
);

394 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobj
));

396 
uöçå_t
 
±r
 = 0x0;

397 
JN©iveInfoTy≥
* 
out_öfo
;

398 
	`jîry_gë_obje˘_«tive_poöãr
(
_this
->
vÆue
, (**)&
±r
, &
out_öfo
);

399  
±r
;

400 
	}
}

403 
uöçå_t
 
	$iŸjs_jvÆ_gë_obje˘_‰om_jh™dÀr
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

404 
JN©iveInfoTy≥
* 
«tive_öfo
) {

405 c⁄° 
iŸjs_jvÆ_t
* 
jobj
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

406 c⁄° 
	`IOTJS_DECLARE_THIS
(
iŸjs_jvÆ_t
, 
jobj
);

408 i‡(!
	`jîry_vÆue_is_obje˘
(
_this
->
vÆue
)) {

412 
uöçå_t
 
±r
 = 0;

413 
JN©iveInfoTy≥
* 
out_«tive_öfo
;

415 i‡(
	`jîry_gë_obje˘_«tive_poöãr
(
_this
->
vÆue
, (**)&
±r
,

416 &
out_«tive_öfo
)) {

417 i‡(
±r
 && 
out_«tive_öfo
 =
«tive_öfo
) {

418  
±r
;

422 
	`JHANDLER_THROW
(
COMMON
, "Unsafeáccess");

425 
	}
}

428 
uöçå_t
 
	$iŸjs_jvÆ_gë_¨g_obj_‰om_jh™dÀr
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

429 
uöt16_t
 
ödex
,

430 
JN©iveInfoTy≥
* 
«tive_öfo
) {

431 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

433 i‡(
ödex
 >
_this
->
j¨gc
) {

437 c⁄° 
iŸjs_jvÆ_t
 
jobj
 = 
_this
->
j¨gv
[
ödex
];

439 i‡(!
	`jîry_vÆue_is_obje˘
(
jobj
.
unß„
.
vÆue
)) {

443 
uöçå_t
 
±r
 = 0;

444 
JN©iveInfoTy≥
* 
out_«tive_öfo
;

446 i‡(
	`jîry_gë_obje˘_«tive_poöãr
(
jobj
.
unß„
.
vÆue
, (**)&
±r
,

447 &
out_«tive_öfo
)) {

448 i‡(
±r
 && 
out_«tive_öfo
 =
«tive_öfo
) {

449  
±r
;

453 
	`JHANDLER_THROW
(
COMMON
, "Unsafeáccess");

456 
	}
}

459 
	$iŸjs_jvÆ_£t_¥›îty_by_ödex
(c⁄° 
iŸjs_jvÆ_t
* 
j¨r
, 
uöt32_t
 
idx
,

460 c⁄° 
iŸjs_jvÆ_t
* 
jvÆ
) {

461 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
j¨r
);

462 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
j¨r
));

464 
jîry_vÆue_t
 
vÆue
 = 
	`iŸjs_jvÆ_as_øw
(
jvÆ
);

465 
jîry_vÆue_t
 
ªt_vÆ
 = 
	`jîry_£t_¥›îty_by_ödex
(
_this
->
vÆue
, 
idx
, value);

466 
	`IOTJS_ASSERT
(!
	`jîry_vÆue_has_îr‹_Êag
(
ªt_vÆ
));

467 
	`jîry_ªÀa£_vÆue
(
ªt_vÆ
);

468 
	}
}

471 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_gë_¥›îty_by_ödex
(c⁄° 
iŸjs_jvÆ_t
* 
j¨r
,

472 
uöt32_t
 
idx
) {

473 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jvÆ_t
, 
j¨r
);

474 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
j¨r
));

476 
jîry_vÆue_t
 
ªs
 = 
	`jîry_gë_¥›îty_by_ödex
(
_this
->
vÆue
, 
idx
);

478 i‡(
	`jîry_vÆue_has_îr‹_Êag
(
ªs
)) {

479 
	`jîry_ªÀa£_vÆue
(
ªs
);

480  
	`iŸjs_jvÆ_¸óã_c›õd
(
	`iŸjs_jvÆ_gë_undeföed
());

483  
	`iŸjs_jvÆ_¸óã_øw
(
ªs
);

484 
	}
}

487 
iŸjs_jvÆ_t
 
	$iŸjs_jhñ≥r_ˇŒ
(c⁄° 
iŸjs_jvÆ_t
* 
jfunc
,

488 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

489 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
, 
boﬁ
* 
throws
) {

490 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jfunc
));

492 
jîry_vÆue_t
* 
j¨gv_
 = 
NULL
;

493 
jîry_Àngth_t
 
j¨gc_
 = 
	`iŸjs_j¨gs_Àngth
(
j¨gs
);

495 #ifde‡
NDEBUG


496 
j¨gv_
 = (
jîry_vÆue_t
*)
j¨gs
->
unß„
.
¨gv
;

498 i‡(
j¨gc_
 > 0) {

499 
buf„r_size
 = (
iŸjs_jvÆ_t
Ë* 
j¨gc_
;

500 
j¨gv_
 = (
jîry_vÆue_t
*)
	`iŸjs_buf„r_Æloˇã
(
buf„r_size
);

501 
i
 = 0; i < 
j¨gc_
; ++i) {

502 
j¨gv_
[
i
] = 
	`iŸjs_jvÆ_as_øw
(
	`iŸjs_j¨gs_gë
(
j¨gs
, i));

507 
jîry_vÆue_t
 
jfunc_
 = 
	`iŸjs_jvÆ_as_øw
(
jfunc
);

508 
jîry_vÆue_t
 
jthis_
 = 
	`iŸjs_jvÆ_as_øw
(
jthis
);

509 
jîry_vÆue_t
 
ªs
 = 
	`jîry_ˇŒ_fun˘i⁄
(
jfunc_
, 
jthis_
, 
j¨gv_
, 
j¨gc_
);

511 #i‚de‡
NDEBUG


512 i‡(
j¨gv_
) {

513 
	`iŸjs_buf„r_ªÀa£
((*)
j¨gv_
);

517 *
throws
 = 
	`jîry_vÆue_has_îr‹_Êag
(
ªs
);

519 
	`jîry_vÆue_˛ór_îr‹_Êag
(&
ªs
);

521  
	`iŸjs_jvÆ_¸óã_øw
(
ªs
);

522 
	}
}

525 
iŸjs_jvÆ_t
 
	$iŸjs_jhñ≥r_ˇŒ_ok
(c⁄° 
iŸjs_jvÆ_t
* 
jfunc
,

526 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

527 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
) {

528 
boﬁ
 
throws
;

529 
iŸjs_jvÆ_t
 
jªs
 = 
	`iŸjs_jhñ≥r_ˇŒ
(
jfunc
, 
jthis
, 
j¨gs
, &
throws
);

530 
	`IOTJS_ASSERT
(!
throws
);

531  
jªs
;

532 
	}
}

535 
iŸjs_jvÆ_t
 
	$iŸjs_jhñ≥r_evÆ
(c⁄° * 
«me
, 
size_t
 
«me_Àn
,

536 c⁄° 
uöt8_t
* 
d©a
, 
size_t
 
size
,

537 
boﬁ
 
°ri˘_mode
, boﬁ* 
throws
) {

538 
jîry_vÆue_t
 
ªs
 =

539 
	`jîry_∑r£_«med_ªsour˚
((c⁄° 
jîry_ch¨_t
*)
«me
, 
«me_Àn
,

540 (c⁄° 
jîry_ch¨_t
*)
d©a
, 
size
, 
°ri˘_mode
);

542 *
throws
 = 
	`jîry_vÆue_has_îr‹_Êag
(
ªs
);

544 i‡(!*
throws
) {

545 
jîry_vÆue_t
 
func
 = 
ªs
;

546 
ªs
 = 
	`jîry_run
(
func
);

547 
	`jîry_ªÀa£_vÆue
(
func
);

549 *
throws
 = 
	`jîry_vÆue_has_îr‹_Êag
(
ªs
);

552 
	`jîry_vÆue_˛ór_îr‹_Êag
(&
ªs
);

554  
	`iŸjs_jvÆ_¸óã_øw
(
ªs
);

555 
	}
}

558 #ifde‡
ENABLE_SNAPSHOT


559 
iŸjs_jvÆ_t
 
	$iŸjs_jhñ≥r_exec_¢≠shŸ
(c⁄° * 
¢≠shŸ_p
,

560 
size_t
 
¢≠shŸ_size
, 
boﬁ
* 
throws
) {

561 
jîry_vÆue_t
 
ªs
 = 
	`jîry_exec_¢≠shŸ
(
¢≠shŸ_p
, 
¢≠shŸ_size
, 
Ál£
);

565 *
throws
 = 
	`jîry_vÆue_has_îr‹_Êag
(
ªs
);

567 
	`jîry_vÆue_˛ór_îr‹_Êag
(&
ªs
);

569  
	`iŸjs_jvÆ_¸óã_øw
(
ªs
);

570 
	}
}

574 
jîry_vÆue_t
 
	$vm_exec_°›_ˇŒback
(* 
u£r_p
) {

575 
Sèã
* 
°©e_p
 = (Sèã*)
u£r_p
;

577 i‡(*
°©e_p
 !
kExôög
) {

578  
	`jîry_¸óã_undeföed
();

581  
	`jîry_¸óã_°rög
((c⁄° 
jîry_ch¨_t
*)"Abort script");

582 
	}
}

585 
iŸjs_j¨gs_t
 
	$iŸjs_j¨gs_¸óã
(
uöt16_t
 
ˇ∑côy
) {

586 
iŸjs_j¨gs_t
 
j¨gs
;

587 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_j¨gs_t
, &
j¨gs
);

589 
_this
->
ˇ∑côy
 = capacity;

590 
_this
->
¨gc
 = 0;

591 i‡(
ˇ∑côy
 > 0) {

592 
buf„r_size
 = (
iŸjs_jvÆ_t
Ë* 
ˇ∑côy
;

593 
_this
->
¨gv
 = (
iŸjs_jvÆ_t
*)
	`iŸjs_buf„r_Æloˇã
(
buf„r_size
);

595  
j¨gs_em±y
;

598  
j¨gs
;

599 
	}
}

602 
	$iŸjs_j¨gs_öôülize_em±y
(
iŸjs_j¨gs_t
* 
j¨gs
) {

603 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_j¨gs_t
, 
j¨gs
);

604 
_this
->
ˇ∑côy
 = 0;

605 
_this
->
¨gc
 = 0;

606 
_this
->
¨gv
 = 
NULL
;

607 
	}
}

610 c⁄° 
iŸjs_j¨gs_t
* 
	$iŸjs_j¨gs_gë_em±y
() {

611  &
j¨gs_em±y
;

612 
	}
}

615 
	$iŸjs_j¨gs_de°roy
(
iŸjs_j¨gs_t
* 
j¨gs
) {

616 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_j¨gs_t
, 
j¨gs
);

618 
	`IOTJS_ASSERT
(
_this
->
¨gv
 =
NULL
 || _this->
¨gc
 > 0);

619 
	`IOTJS_ASSERT
(
_this
->
¨gc
 <_this->
ˇ∑côy
);

621 i‡(
_this
->
ˇ∑côy
 > 0) {

622 
i
 = 0; i < 
_this
->
¨gc
; ++i) {

623 
	`iŸjs_jvÆ_de°roy
(&
_this
->
¨gv
[
i
]);

625 
	`iŸjs_buf„r_ªÀa£
((*)
_this
->
¨gv
);

627 
	`IOTJS_ASSERT
(
_this
->
¨gv
 =
NULL
);

629 
	}
}

632 
uöt16_t
 
	$iŸjs_j¨gs_Àngth
(c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
) {

633 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_j¨gs_t
, 
j¨gs
);

634  
_this
->
¨gc
;

635 
	}
}

638 
	$iŸjs_j¨gs_≠≥nd_jvÆ
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° 
iŸjs_jvÆ_t
* 
x
) {

639 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_j¨gs_t
, 
j¨gs
);

640 
	`IOTJS_ASSERT
(
_this
->
¨gc
 < _this->
ˇ∑côy
);

641 
_this
->
¨gv
[_this->
¨gc
++] = 
	`iŸjs_jvÆ_¸óã_c›õd
(
x
);

642 
	}
}

645 
	$iŸjs_j¨gs_≠≥nd_undeföed
(
iŸjs_j¨gs_t
* 
j¨gs
) {

646 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

647 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, 
	`iŸjs_jvÆ_gë_undeföed
());

648 
	}
}

651 
	$iŸjs_j¨gs_≠≥nd_nuŒ
(
iŸjs_j¨gs_t
* 
j¨gs
) {

652 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

653 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, 
	`iŸjs_jvÆ_gë_nuŒ
());

654 
	}
}

657 
	$iŸjs_j¨gs_≠≥nd_boﬁ
(
iŸjs_j¨gs_t
* 
j¨gs
, 
boﬁ
 
x
) {

658 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

659 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, 
	`iŸjs_jvÆ_gë_boﬁón
(
x
));

660 
	}
}

663 
	$iŸjs_j¨gs_≠≥nd_numbî
(
iŸjs_j¨gs_t
* 
j¨gs
, 
x
) {

664 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

665 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_numbî
(
x
);

666 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, &
jvÆ
);

667 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

668 
	}
}

671 
	$iŸjs_j¨gs_≠≥nd_°rög
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° 
iŸjs_°rög_t
* 
x
) {

672 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

673 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög
(
x
);

674 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, &
jvÆ
);

675 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

676 
	}
}

679 
	$iŸjs_j¨gs_≠≥nd_îr‹
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° * 
msg
) {

680 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

681 
iŸjs_jvÆ_t
 
îr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
(
msg
);

682 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, &
îr‹
);

683 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

684 
	}
}

687 
	$iŸjs_j¨gs_≠≥nd_°rög_øw
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° * 
x
) {

688 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_j¨gs_t
, 
j¨gs
);

689 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
x
);

690 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
j¨gs
, &
jvÆ
);

691 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

692 
	}
}

695 
	$iŸjs_j¨gs_ª∂a˚
(
iŸjs_j¨gs_t
* 
j¨gs
, 
uöt16_t
 
ödex
,

696 c⁄° 
iŸjs_jvÆ_t
* 
x
) {

697 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_j¨gs_t
, 
j¨gs
);

699 
	`IOTJS_ASSERT
(
ödex
 < 
_this
->
¨gc
);

701 
	`iŸjs_jvÆ_de°roy
(&
_this
->
¨gv
[
ödex
]);

702 
_this
->
¨gv
[
ödex
] = 
	`iŸjs_jvÆ_¸óã_c›õd
(
x
);

703 
	}
}

706 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_j¨gs_gë
(c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
,

707 
uöt16_t
 
ödex
) {

708 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_j¨gs_t
, 
j¨gs
);

710 
	`IOTJS_ASSERT
(
ödex
 < 
_this
->
¨gc
);

711  &
_this
->
¨gv
[
ödex
];

712 
	}
}

715 
	$iŸjs_jh™dÀr_öôülize
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

716 c⁄° 
jîry_vÆue_t
 
jfunc
,

717 c⁄° 
jîry_vÆue_t
 
jthis
,

718 c⁄° 
jîry_vÆue_t
 
j¨gv
[],

719 c⁄° 
uöt16_t
 
j¨gc
) {

720 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

722 
_this
->
jfunc
 = 
	`iŸjs_jvÆ_¸óã_øw
(jfunc);

723 
_this
->
jthis
 = 
	`iŸjs_jvÆ_¸óã_øw
(jthis);

724 
_this
->
jªt
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
	`iŸjs_jvÆ_gë_undeföed
());

725 #ifde‡
NDEBUG


726 
_this
->
j¨gv
 = (
iŸjs_jvÆ_t
*)jargv;

728 i‡(
j¨gc
 > 0) {

729 
buf„r_size
 = (
iŸjs_jvÆ_t
Ë* 
j¨gc
;

730 
_this
->
j¨gv
 = (
iŸjs_jvÆ_t
*)
	`iŸjs_buf„r_Æloˇã
(
buf„r_size
);

731 
i
 = 0; i < 
j¨gc
; ++i) {

732 
_this
->
j¨gv
[
i
] = 
	`iŸjs_jvÆ_¸óã_øw
(jargv[i]);

735 
_this
->
j¨gv
 = 
NULL
;

737 
_this
->
föished
 = 
Ál£
;

740 
_this
->
j¨gc
 = jargc;

741 
	}
}

744 
	$iŸjs_jh™dÀr_de°roy
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

745 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

746 
	`iŸjs_jvÆ_de°roy_n‹ñó£
(&
_this
->
jfunc
);

747 
	`iŸjs_jvÆ_de°roy_n‹ñó£
(&
_this
->
jthis
);

748 
	`iŸjs_jvÆ_de°roy_n‹ñó£
(&
_this
->
jªt
);

749 #i‚de‡
NDEBUG


750 i‡(
_this
->
j¨gc
 > 0) {

751 
i
 = 0; i < 
_this
->
j¨gc
; ++i) {

752 
	`iŸjs_jvÆ_de°roy_n‹ñó£
(&
_this
->
j¨gv
[
i
]);

754 
	`iŸjs_buf„r_ªÀa£
((*)(
_this
->
j¨gv
));

756 
	`IOTJS_ASSERT
(
_this
->
j¨gv
 =
NULL
);

759 
	}
}

762 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_jh™dÀr_gë_fun˘i⁄
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

763 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

764  &
_this
->
jfunc
;

765 
	}
}

768 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_jh™dÀr_gë_this
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

769 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

770  &
_this
->
jthis
;

771 
	}
}

774 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_jh™dÀr_gë_¨g
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

775 
uöt16_t
 
ödex
) {

776 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

777 
	`IOTJS_ASSERT
(
ödex
 < 
_this
->
j¨gc
);

778  &
_this
->
j¨gv
[
ödex
];

779 
	}
}

782 
uöt16_t
 
	$iŸjs_jh™dÀr_gë_¨g_Àngth
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

783 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

784  
_this
->
j¨gc
;

785 
	}
}

788 
	$iŸjs_jh™dÀr_ªtu∫_jvÆ
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

789 c⁄° 
iŸjs_jvÆ_t
* 
ªt
) {

790 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

792 #i‚de‡
NDEBUG


793 
	`IOTJS_ASSERT
(
_this
->
föished
 =
Ál£
);

796 
	`iŸjs_jvÆ_de°roy
(&
_this
->
jªt
);

797 
_this
->
jªt
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
ªt
);

798 #i‚de‡
NDEBUG


799 
_this
->
föished
 = 
åue
;

801 
	}
}

804 
	$iŸjs_jh™dÀr_ªtu∫_undeföed
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

805 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

806 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, 
	`iŸjs_jvÆ_gë_undeföed
());

807 
	}
}

810 
	$iŸjs_jh™dÀr_ªtu∫_nuŒ
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

811 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

812 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, 
	`iŸjs_jvÆ_gë_nuŒ
());

813 
	}
}

816 
	$iŸjs_jh™dÀr_ªtu∫_boﬁón
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
boﬁ
 
ªt
) {

817 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

818 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, 
	`iŸjs_jvÆ_gë_boﬁón
(
ªt
));

819 
	}
}

822 
	$iŸjs_jh™dÀr_ªtu∫_numbî
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
ªt
) {

823 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

824 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_numbî
(
ªt
);

825 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
jvÆ
);

826 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

827 
	}
}

830 
	$iŸjs_jh™dÀr_ªtu∫_°rög
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

831 c⁄° 
iŸjs_°rög_t
* 
ªt
) {

832 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

833 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög
(
ªt
);

834 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
jvÆ
);

835 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

836 
	}
}

839 
	$iŸjs_jh™dÀr_ªtu∫_°rög_øw
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

840 c⁄° * 
ªt
) {

841 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

842 
iŸjs_jvÆ_t
 
jvÆ
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
ªt
);

843 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
jvÆ
);

844 
	`iŸjs_jvÆ_de°roy
(&
jvÆ
);

845 
	}
}

848 
	$iŸjs_jh™dÀr_throw
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, c⁄° 
iŸjs_jvÆ_t
* 
îr
) {

849 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jh™dÀr_t
, 
jh™dÀr
);

850 #i‚de‡
NDEBUG


851 
	`IOTJS_ASSERT
(
_this
->
föished
 =
Ál£
);

854 
	`iŸjs_jvÆ_de°roy
(&
_this
->
jªt
);

855 
_this
->
jªt
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
îr
);

856 
	`jîry_vÆue_£t_îr‹_Êag
(&
_this
->
jªt
.
unß„
.
vÆue
);

858 #i‚de‡
NDEBUG


859 
_this
->
föished
 = 
åue
;

861 
	}
}

864 
jîry_vÆue_t
 
	$iŸjs_«tive_di•©ch_fun˘i⁄
(

865 c⁄° 
jîry_vÆue_t
 
jfunc
, c⁄° jîry_vÆue_à
jthis
,

866 c⁄° 
jîry_vÆue_t
 
j¨gv
[], c⁄° 
JRawLígthTy≥
 
j¨gc
) {

867 
uöçå_t
 
èrgë_fun˘i⁄_±r
 = 0x0;

868 
JN©iveInfoTy≥
* 
out_öfo
;

870 i‡(!
	`jîry_gë_obje˘_«tive_poöãr
(
jfunc
, (**)&
èrgë_fun˘i⁄_±r
,

871 &
out_öfo
)) {

872 c⁄° 
jîry_ch¨_t
* 
jmsg
 = (const jerry_char_t*)("Internal dispatchÉrror");

873  
	`jîry_¸óã_îr‹
((
jîry_îr‹_t
)
IOTJS_ERROR_COMMON
, 
jmsg
);

876 
	`IOTJS_ASSERT
(
èrgë_fun˘i⁄_±r
 != 0x0);

878 
iŸjs_jh™dÀr_t
 
jh™dÀr
;

879 
	`iŸjs_jh™dÀr_öôülize
(&
jh™dÀr
, 
jfunc
, 
jthis
, 
j¨gv
, 
j¨gc
);

881 ((
iŸjs_«tive_h™dÀr_t
)
èrgë_fun˘i⁄_±r
)(&
jh™dÀr
);

883 
jîry_vÆue_t
 
ªt_vÆ
 = 
jh™dÀr
.
unß„
.
jªt
.unß„.
vÆue
;

884 
	`iŸjs_jh™dÀr_de°roy
(&
jh™dÀr
);

885  
ªt_vÆ
;

886 
	}
}

889 
iŸjs_jvÆ_t
 
	$iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(

890 
iŸjs_«tive_h™dÀr_t
 
h™dÀr
) {

891 
iŸjs_jvÆ_t
 
jfunc
 =

892 
	`iŸjs_jvÆ_¸óã_fun˘i⁄
(
iŸjs_«tive_di•©ch_fun˘i⁄
);

893 
	`iŸjs_jvÆ_£t_obje˘_«tive_h™dÀ
(&
jfunc
, (
uöçå_t
)
h™dÀr
, 
NULL
);

894  
jfunc
;

895 
	}
}

898 
	$iŸjs_bödög_öôülize
() {

899 
jundeföed
 = 
	`iŸjs_jvÆ_¸óã_øw
(
	`jîry_¸óã_undeföed
());

900 
jnuŒ
 = 
	`iŸjs_jvÆ_¸óã_øw
(
	`jîry_¸óã_nuŒ
());

901 
jåue
 = 
	`iŸjs_jvÆ_¸óã_øw
(
	`jîry_¸óã_boﬁón
(
åue
));

902 
jÁl£
 = 
	`iŸjs_jvÆ_¸óã_øw
(
	`jîry_¸óã_boﬁón
(
Ál£
));

903 
jglobÆ
 = 
	`iŸjs_jvÆ_¸óã_øw
(
	`jîry_gë_globÆ_obje˘
());

905 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(&
jglobÆ
));

907 
	`iŸjs_j¨gs_öôülize_em±y
(&
j¨gs_em±y
);

909 #ifde‡
NDEBUG


910 
	`as£π
((
iŸjs_jvÆ_t
Ë=(
jîry_vÆue_t
));

912 
	}
}

915 
	$iŸjs_bödög_föÆize
() {

916 
	`iŸjs_jvÆ_de°roy
(&
jundeföed
);

917 
	`iŸjs_jvÆ_de°roy
(&
jnuŒ
);

918 
	`iŸjs_jvÆ_de°roy
(&
jåue
);

919 
	`iŸjs_jvÆ_de°roy
(&
jÁl£
);

920 
	`iŸjs_jvÆ_de°roy
(&
jglobÆ
);

921 
	`iŸjs_j¨gs_de°roy
(&
j¨gs_em±y
);

922 
	}
}

	@src/iotjs_binding.h

16 #i‚de‡
IOTJS_BINDING_H


17 
	#IOTJS_BINDING_H


	)

19 
	~"iŸjs_utû.h
"

20 
	~"jîrys¸ùt.h
"

22 
	~<°dio.h
>

25 
jîry_exã∫Æ_h™dÀr_t
 
	tJH™dÀrTy≥
;

26 c⁄° 
	tjîry_obje˘_«tive_öfo_t
 
	tJN©iveInfoTy≥
;

27 
jîry_Àngth_t
 
	tJRawLígthTy≥
;

31 
	mIOTJS_ERROR_COMMON
 = 
JERRY_ERROR_COMMON
,

32 
	mIOTJS_ERROR_EVAL
 = 
JERRY_ERROR_EVAL
,

33 
	mIOTJS_ERROR_RANGE
 = 
JERRY_ERROR_RANGE
,

34 
	mIOTJS_ERROR_REFERENCE
 = 
JERRY_ERROR_REFERENCE
,

35 
	mIOTJS_ERROR_SYNTAX
 = 
JERRY_ERROR_SYNTAX
,

36 
	mIOTJS_ERROR_TYPE
 = 
JERRY_ERROR_TYPE
,

37 
	mIOTJS_ERROR_URI
 = 
JERRY_ERROR_URI


38 } 
	tiŸjs_îr‹_t
;

41 
	#FOR_EACH_JVAL_TYPES
(
F
) \

42 
	`F
(
undeföed
) \

43 
	`F
(
nuŒ
) \

44 
	`F
(
boﬁón
) \

45 
	`F
(
numbî
) \

46 
	`F
(
°rög
) \

47 
	`F
(
obje˘
) \

48 
	`F
(
¨øy
) \

49 
	`F
(
fun˘i⁄
)

	)

53 
jîry_vÆue_t
 
	mvÆue
;

54 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_jvÆ_t
);

57 
iŸjs_jvÆ_t
 
	mjfunc
;

58 
iŸjs_jvÆ_t
 
	mjthis
;

59 
iŸjs_jvÆ_t
* 
	mj¨gv
;

60 
iŸjs_jvÆ_t
 
	mjªt
;

61 
uöt16_t
 
	mj¨gc
;

62 #i‚de‡
NDEBUG


63 
boﬁ
 
	mföished
;

65 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_jh™dÀr_t
);

67 (*
	tiŸjs_«tive_h™dÀr_t
)(
	tiŸjs_jh™dÀr_t
* 
	tjh™dÀr
);

71 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_numbî
(
v
);

72 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_°rög
(c⁄° 
iŸjs_°rög_t
* 
v
);

73 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_°rög_øw
(c⁄° * 
d©a
);

74 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_obje˘
();

75 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_¨øy
(
uöt32_t
 
Àn
);

76 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_byã_¨øy
(
uöt32_t
 
Àn
, c⁄° * 
d©a
);

77 
jîry_vÆue_t
 
	`iŸjs_jvÆ_dummy_fun˘i⁄
(c⁄° jîry_vÆue_à
fun˘i⁄_obj
,

78 c⁄° 
jîry_vÆue_t
 
this_vÆ
,

79 c⁄° 
jîry_vÆue_t
 
¨gs_p
[],

80 c⁄° 
jîry_Àngth_t
 
¨gs_cou¡
);

81 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_fun˘i⁄
(
JH™dÀrTy≥
 
h™dÀr
);

82 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_îr‹
(c⁄° * 
msg
);

83 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_îr‹_ty≥
(
iŸjs_îr‹_t
 
ty≥
, c⁄° * 
msg
);

84 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_c›õd
(c⁄° iŸjs_jvÆ_t* 
Ÿhî
);

86 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_gë_°rög_size
(c⁄° 
iŸjs_°rög_t
* 
°r
);

88 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_gë_undeföed
();

89 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_gë_nuŒ
();

90 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_gë_boﬁón
(
boﬁ
 
v
);

91 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_gë_globÆ_obje˘
();

94 
	`iŸjs_jvÆ_de°roy
(
iŸjs_jvÆ_t
* 
jvÆ
);

96 
	#THIS_JVAL
 c⁄° 
iŸjs_jvÆ_t
* 
jvÆ


	)

99 
boﬁ
 
	`iŸjs_jvÆ_is_undeföed
(
THIS_JVAL
);

100 
boﬁ
 
	`iŸjs_jvÆ_is_nuŒ
(
THIS_JVAL
);

101 
boﬁ
 
	`iŸjs_jvÆ_is_boﬁón
(
THIS_JVAL
);

102 
boﬁ
 
	`iŸjs_jvÆ_is_numbî
(
THIS_JVAL
);

103 
boﬁ
 
	`iŸjs_jvÆ_is_°rög
(
THIS_JVAL
);

104 
boﬁ
 
	`iŸjs_jvÆ_is_obje˘
(
THIS_JVAL
);

105 
boﬁ
 
	`iŸjs_jvÆ_is_¨øy
(
THIS_JVAL
);

106 
boﬁ
 
	`iŸjs_jvÆ_is_fun˘i⁄
(
THIS_JVAL
);

109 
boﬁ
 
	`iŸjs_jvÆ_as_boﬁón
(
THIS_JVAL
);

110 
	`iŸjs_jvÆ_as_numbî
(
THIS_JVAL
);

111 
iŸjs_°rög_t
 
	`iŸjs_jvÆ_as_°rög
(
THIS_JVAL
);

112 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_as_obje˘
(
THIS_JVAL
);

113 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_as_¨øy
(
THIS_JVAL
);

114 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_jvÆ_as_fun˘i⁄
(
THIS_JVAL
);

117 
boﬁ
 
	`iŸjs_jvÆ_£t_¥ŸŸy≥
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
, iŸjs_jvÆ_t* 
j¥Ÿo
);

118 
	`iŸjs_jvÆ_£t_mëhod
(
THIS_JVAL
, c⁄° * 
«me
,

119 
iŸjs_«tive_h™dÀr_t
 
h™dÀr
);

120 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
THIS_JVAL
, c⁄° * 
«me
,

121 c⁄° 
iŸjs_jvÆ_t
* 
vÆue
);

122 
	`iŸjs_jvÆ_£t_¥›îty_nuŒ
(
THIS_JVAL
, c⁄° * 
«me
);

123 
	`iŸjs_jvÆ_£t_¥›îty_undeföed
(
THIS_JVAL
, c⁄° * 
«me
);

124 
	`iŸjs_jvÆ_£t_¥›îty_boﬁón
(
THIS_JVAL
, c⁄° * 
«me
, 
boﬁ
 
v
);

125 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
THIS_JVAL
, c⁄° * 
«me
, 
v
);

126 
	`iŸjs_jvÆ_£t_¥›îty_°rög
(
THIS_JVAL
, c⁄° * 
«me
,

127 c⁄° 
iŸjs_°rög_t
* 
v
);

128 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(
THIS_JVAL
, c⁄° * 
«me
,

129 c⁄° * 
v
);

131 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_gë_¥›îty
(
THIS_JVAL
, c⁄° * 
«me
);

133 
	`iŸjs_jvÆ_£t_obje˘_«tive_h™dÀ
(
THIS_JVAL
, 
uöçå_t
 
±r
,

134 
JN©iveInfoTy≥
* 
«tive_öfo
);

135 
uöçå_t
 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
THIS_JVAL
);

136 
uöçå_t
 
	`iŸjs_jvÆ_gë_obje˘_‰om_jh™dÀr
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

137 
JN©iveInfoTy≥
* 
«tive_öfo
);

138 
uöçå_t
 
	`iŸjs_jvÆ_gë_¨g_obj_‰om_jh™dÀr
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

139 
uöt16_t
 
ödex
,

140 
JN©iveInfoTy≥
* 
«tive_öfo
);

142 
	`iŸjs_jvÆ_£t_¥›îty_by_ödex
(
THIS_JVAL
, 
uöt32_t
 
idx
,

143 c⁄° 
iŸjs_jvÆ_t
* 
vÆue
);

144 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_gë_¥›îty_by_ödex
(
THIS_JVAL
, 
uöt32_t
 
idx
);

147 #unde‡
THIS_JVAL


151 
uöt16_t
 
ˇ∑côy
;

152 
uöt16_t
 
¨gc
;

153 
iŸjs_jvÆ_t
* 
¨gv
;

154 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_j¨gs_t
);

157 
iŸjs_j¨gs_t
 
	`iŸjs_j¨gs_¸óã
(
uöt16_t
 
ˇ∑côy
);

159 c⁄° 
iŸjs_j¨gs_t
* 
	`iŸjs_j¨gs_gë_em±y
();

161 
	`iŸjs_j¨gs_de°roy
(
iŸjs_j¨gs_t
* 
j¨gs
);

163 
uöt16_t
 
	`iŸjs_j¨gs_Àngth
(c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
);

165 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° 
iŸjs_jvÆ_t
* 
x
);

166 
	`iŸjs_j¨gs_≠≥nd_undeföed
(
iŸjs_j¨gs_t
* 
j¨gs
);

167 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(
iŸjs_j¨gs_t
* 
j¨gs
);

168 
	`iŸjs_j¨gs_≠≥nd_boﬁ
(
iŸjs_j¨gs_t
* 
j¨gs
, 
boﬁ
 
x
);

169 
	`iŸjs_j¨gs_≠≥nd_numbî
(
iŸjs_j¨gs_t
* 
j¨gs
, 
x
);

170 
	`iŸjs_j¨gs_≠≥nd_°rög
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° 
iŸjs_°rög_t
* 
x
);

171 
	`iŸjs_j¨gs_≠≥nd_°rög_øw
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° * 
x
);

172 
	`iŸjs_j¨gs_≠≥nd_îr‹
(
iŸjs_j¨gs_t
* 
j¨gs
, c⁄° * 
msg
);

175 
	`iŸjs_j¨gs_ª∂a˚
(
iŸjs_j¨gs_t
* 
j¨gs
, 
uöt16_t
 
ödex
,

176 c⁄° 
iŸjs_jvÆ_t
* 
x
);

178 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_j¨gs_gë
(c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
, 
uöt16_t
 
ödex
);

182 
iŸjs_jvÆ_t
 
	`iŸjs_jhñ≥r_ˇŒ
(c⁄° iŸjs_jvÆ_t* 
jfunc
,

183 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

184 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
, 
boﬁ
* 
throws
);

187 
iŸjs_jvÆ_t
 
	`iŸjs_jhñ≥r_ˇŒ_ok
(c⁄° iŸjs_jvÆ_t* 
jfunc
,

188 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

189 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
);

192 
iŸjs_jvÆ_t
 
	`iŸjs_jhñ≥r_evÆ
(c⁄° * 
«me
, 
size_t
 
«me_Àn
,

193 c⁄° 
uöt8_t
* 
d©a
, 
size_t
 
size
,

194 
boﬁ
 
°ri˘_mode
, boﬁ* 
throws
);

195 #ifde‡
ENABLE_SNAPSHOT


197 
iŸjs_jvÆ_t
 
	`iŸjs_jhñ≥r_exec_¢≠shŸ
(c⁄° * 
¢≠shŸ_p
,

198 
size_t
 
¢≠shŸ_size
, 
boﬁ
* 
throws
);

202 
	`iŸjs_jh™dÀr_öôülize
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

203 c⁄° 
jîry_vÆue_t
 
jfunc
,

204 c⁄° 
jîry_vÆue_t
 
jthis
,

205 c⁄° 
jîry_vÆue_t
 
j¨gv
[],

206 c⁄° 
uöt16_t
 
j¨gc
);

208 
	`iŸjs_jh™dÀr_de°roy
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
);

210 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_jh™dÀr_gë_fun˘i⁄
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
);

211 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_jh™dÀr_gë_this
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
);

212 c⁄° 
iŸjs_jvÆ_t
* 
	`iŸjs_jh™dÀr_gë_¨g
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

213 
uöt16_t
 
ödex
);

214 
uöt16_t
 
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
);

216 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

217 c⁄° 
iŸjs_jvÆ_t
* 
ªt
);

218 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
);

219 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
);

220 
	`iŸjs_jh™dÀr_ªtu∫_boﬁón
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
boﬁ
 
x
);

221 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
x
);

222 
	`iŸjs_jh™dÀr_ªtu∫_°rög
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

223 c⁄° 
iŸjs_°rög_t
* 
x
);

224 
	`iŸjs_jh™dÀr_ªtu∫_°rög_øw
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

225 c⁄° * 
x
);

227 
	`iŸjs_jh™dÀr_throw
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, c⁄° 
iŸjs_jvÆ_t
* 
îr
);

229 
iŸjs_jvÆ_t
 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(

230 
iŸjs_«tive_h™dÀr_t
 
h™dÀr
);

233 
	#JHANDLER_THROW
(
TYPE
, 
mesßge
) \

234 
iŸjs_jvÆ_t
 
e
 = 
	`iŸjs_jvÆ_¸óã_îr‹_ty≥
(
IOTJS_ERROR_
##
TYPE
, 
mesßge
); \

235 
	`iŸjs_jh™dÀr_throw
(
jh™dÀr
, &
e
); \

236 
	`iŸjs_jvÆ_de°roy
(&
e
);

	)

238 
	#JHANDLER_CHECK
(
¥ediˇã
) \

239 i‡(!(
¥ediˇã
)) { \

240 
buf„r
[64]; \

241 
	`¢¥ötf
(
buf„r
, 63, "I¡î«»îr‹ (%s)", 
__func__
); \

242 
	`JHANDLER_THROW
(
COMMON
, 
buf„r
) \

244 
	}

	)
}

246 
	#JHANDLER_CHECK_TYPE
(
jvÆ
, 
ty≥
) \

247 
	`JHANDLER_CHECK
(
iŸjs_jvÆ_is_
##
	`ty≥
(
jvÆ
));

	)

249 
	#JHANDLER_CHECK_ARG
(
ödex
, 
ty≥
) \

250 
	`JHANDLER_CHECK_TYPE
(
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 
ödex
), 
ty≥
);

	)

252 
	#JHANDLER_CHECK_ARG_IF_EXIST
(
ödex
, 
ty≥
) \

253 i‡(
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
jh™dÀr
Ë> 
ödex
) { \

254 
	`JHANDLER_CHECK_TYPE
(
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 
ödex
), 
ty≥
); \

255 }

	)

257 
	#JHANDLER_CHECK_ARGS_0
()

	)

259 
	#JHANDLER_CHECK_ARGS_1
(
ty≥0
) \

260 
	`JHANDLER_CHECK_ARGS_0
(); \

261 
	`JHANDLER_CHECK_ARG
(0, 
ty≥0
);

	)

263 
	#JHANDLER_CHECK_ARGS_2
(
ty≥0
, 
ty≥1
) \

264 
	`JHANDLER_CHECK_ARGS_1
(
ty≥0
); \

265 
	`JHANDLER_CHECK_ARG
(1, 
ty≥1
);

	)

267 
	#JHANDLER_CHECK_ARGS_3
(
ty≥0
, 
ty≥1
, 
ty≥2
) \

268 
	`JHANDLER_CHECK_ARGS_2
(
ty≥0
, 
ty≥1
); \

269 
	`JHANDLER_CHECK_ARG
(2, 
ty≥2
);

	)

271 
	#JHANDLER_CHECK_ARGS_4
(
ty≥0
, 
ty≥1
, 
ty≥2
, 
ty≥3
) \

272 
	`JHANDLER_CHECK_ARGS_3
(
ty≥0
, 
ty≥1
, 
ty≥2
); \

273 
	`JHANDLER_CHECK_ARG
(3, 
ty≥3
);

	)

275 
	#JHANDLER_CHECK_ARGS_5
(
ty≥0
, 
ty≥1
, 
ty≥2
, 
ty≥3
, 
ty≥4
) \

276 
	`JHANDLER_CHECK_ARGS_4
(
ty≥0
, 
ty≥1
, 
ty≥2
, 
ty≥3
); \

277 
	`JHANDLER_CHECK_ARG
(4, 
ty≥4
);

	)

280 
ölöe
 
boﬁ
 
	$ge
(
uöt16_t
 
a
, uöt16_à
b
) {

281  
a
 >
b
;

282 
	}
}

284 
	#JHANDLER_CHECK_ARGS
(
¨gc
, ...) \

285 
	`JHANDLER_CHECK
(
	`ge
(
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
jh™dÀr
), 
¨gc
)); \

286 
JHANDLER_CHECK_ARGS_
##
	`¨gc
(
__VA_ARGS__
)

	)

288 
	#JHANDLER_CHECK_THIS
(
ty≥
) \

289 
	`JHANDLER_CHECK_TYPE
(
	`iŸjs_jh™dÀr_gë_this
(
jh™dÀr
), 
ty≥
);

	)

291 
	#JHANDLER_GET_ARG
(
ödex
, 
ty≥
) \

292 
iŸjs_jvÆ_as_
##
	`ty≥
(
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 
ödex
))

	)

294 
	#JHANDLER_GET_ARG_IF_EXIST
(
ödex
, 
ty≥
) \

295 ((
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
jh™dÀr
Ë> 
ödex
) \

296 ? (
iŸjs_jvÆ_is_
##
	`ty≥
(
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 
ödex
)) \

297 ? 
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 
ödex
) \

298 : 
NULL
) \

299 : 
NULL
)

	)

301 
	#JHANDLER_GET_THIS
(
ty≥
) \

302 
iŸjs_jvÆ_as_
##
	`ty≥
(
	`iŸjs_jh™dÀr_gë_this
(
jh™dÀr
))

	)

304 
	#JHANDLER_FUNCTION
(
«me
Ë
	`«me
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
)

	)

306 #i‡
deföed
(
EXPERIMENTAL
Ë&& !deföed(
DEBUG
)

308 
	#DJHANDLER_CHECK_ARG
(
ödex
, 
ty≥
Ë(()0)

	)

309 
	#DJHANDLER_CHECK_ARGS
(
¨gc
, ...Ë(()0)

	)

310 
	#DJHANDLER_CHECK_THIS
(
ty≥
Ë(()0)

	)

311 
	#DJHANDLER_CHECK_ARG_IF_EXIST
(
ödex
, 
ty≥
Ë(()0)

	)

313 
	#DJHANDLER_CHECK_ARG
(
ödex
, 
ty≥
Ë
	`JHANDLER_CHECK_ARG
(ödex,Åy≥)

	)

314 
	#DJHANDLER_CHECK_ARGS
(
¨gc
, ...Ë
	`JHANDLER_CHECK_ARGS
◊rgc, 
__VA_ARGS__
)

	)

315 
	#DJHANDLER_CHECK_THIS
(
ty≥
Ë
	`JHANDLER_CHECK_THIS
—y≥)

	)

316 
	#DJHANDLER_CHECK_ARG_IF_EXIST
(
ödex
, 
ty≥
) \

317 
	`JHANDLER_CHECK_ARG_IF_EXIST
(
ödex
, 
ty≥
)

	)

320 
	#JHANDLER_DECLARE_THIS_PTR
(
ty≥
, 
«me
) \

321 
iŸjs_
##
ty≥
##
_t
* 
«me
 = (iotjs_##type##_t*) \

322 
	`iŸjs_jvÆ_gë_obje˘_‰om_jh™dÀr
(
jh™dÀr
, &
this_moduÀ_«tive_öfo
); \

323 i‡(!
«me
) { \

325 }

	)

327 
	#JHANDLER_DECLARE_OBJECT_PTR
(
ödex
, 
ty≥
, 
«me
) \

328 
iŸjs_
##
ty≥
##
_t
* 
«me
 = (iotjs_##type##_t*) \

329 
	`iŸjs_jvÆ_gë_¨g_obj_‰om_jh™dÀr
(
jh™dÀr
, 
ödex
, \

330 &
this_moduÀ_«tive_öfo
); \

331 i‡(!
«me
) { \

333 }

	)

335 
	#DJHANDLER_GET_REQUIRED_CONF_VALUE
(
§c
, 
èrgë
, 
¥›îty
, 
ty≥
) \

337 
iŸjs_jvÆ_t
 
jtmp
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
§c
, 
¥›îty
); \

338 i‡(
	`iŸjs_jvÆ_is_undeföed
(&
jtmp
)) { \

339 
	`JHANDLER_THROW
(
TYPE
, "Missögárgumít,Ñequúed " 
¥›îty
); \

341 } i‡(
iŸjs_jvÆ_is_
##
	`ty≥
(&
jtmp
)) \

342 
èrgë
 = 
iŸjs_jvÆ_as_
##
	`ty≥
(&
jtmp
); \

344 
	`JHANDLER_THROW
(
TYPE
, \

345 "Badárgumíts,Ñequúed " 
¥›îty
 " isÇotá " #type); \

348 
	`iŸjs_jvÆ_de°roy
(&
jtmp
); \

349 } 0);

	)

351 
iŸjs_bödög_öôülize
();

352 
iŸjs_bödög_föÆize
();

354 
jîry_vÆue_t
 
vm_exec_°›_ˇŒback
(* 
u£r_p
);

	@src/iotjs_binding_helper.c

16 
	~"iŸjs_def.h
"

18 
	~<°dio.h
>

19 
	~<°dlib.h
>

20 
	~<°rög.h
>

23 
	$iŸjs_unˇught_ex˚±i⁄
(c⁄° 
iŸjs_jvÆ_t
* 
jex˚±i⁄
) {

24 c⁄° 
iŸjs_jvÆ_t
* 
¥o˚ss
 = 
	`iŸjs_moduÀ_gë
(
MODULE_PROCESS
);

26 
iŸjs_jvÆ_t
 
j⁄unˇughãx˚±i⁄
 =

27 
	`iŸjs_jvÆ_gë_¥›îty
(
¥o˚ss
, 
IOTJS_MAGIC_STRING__ONUNCAUGHTEXCEPTION
);

28 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j⁄unˇughãx˚±i⁄
));

30 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

31 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
¨gs
, 
jex˚±i⁄
);

33 
boﬁ
 
throws
;

34 
iŸjs_jvÆ_t
 
jªs
 =

35 
	`iŸjs_jhñ≥r_ˇŒ
(&
j⁄unˇughãx˚±i⁄
, 
¥o˚ss
, &
¨gs
, &
throws
);

37 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

38 
	`iŸjs_jvÆ_de°roy
(&
jªs
);

39 
	`iŸjs_jvÆ_de°roy
(&
j⁄unˇughãx˚±i⁄
);

41 i‡(
throws
) {

42 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

44 i‡(!
	`iŸjs_ívú⁄mít_is_exôög
(
ív
)) {

45 
	`iŸjs_£t_¥o˚ss_exôcode
(2);

46 
	`iŸjs_ívú⁄mít_go_°©e_exôög
(
ív
);

49 
	}
}

52 
	$iŸjs_¥o˚ss_emô_exô
(
code
) {

53 c⁄° 
iŸjs_jvÆ_t
* 
¥o˚ss
 = 
	`iŸjs_moduÀ_gë
(
MODULE_PROCESS
);

55 
iŸjs_jvÆ_t
 
jexô
 =

56 
	`iŸjs_jvÆ_gë_¥›îty
(
¥o˚ss
, 
IOTJS_MAGIC_STRING_EMITEXIT
);

57 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
jexô
));

59 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

60 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
code
);

62 
boﬁ
 
throws
;

63 
iŸjs_jvÆ_t
 
jªs
 = 
	`iŸjs_jhñ≥r_ˇŒ
(&
jexô
, 
¥o˚ss
, &
j¨gs
, &
throws
);

65 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

66 
	`iŸjs_jvÆ_de°roy
(&
jªs
);

67 
	`iŸjs_jvÆ_de°roy
(&
jexô
);

69 i‡(
throws
) {

70 
	`iŸjs_£t_¥o˚ss_exôcode
(2);

72 
	}
}

76 
boﬁ
 
	$iŸjs_¥o˚ss_√xt_tick
() {

77 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

79 i‡(
	`iŸjs_ívú⁄mít_is_exôög
(
ív
)) {

80  
Ál£
;

83 c⁄° 
iŸjs_jvÆ_t
* 
¥o˚ss
 = 
	`iŸjs_moduÀ_gë
(
MODULE_PROCESS
);

85 
iŸjs_jvÆ_t
 
j⁄_√xt_tick
 =

86 
	`iŸjs_jvÆ_gë_¥›îty
(
¥o˚ss
, 
IOTJS_MAGIC_STRING__ONNEXTTICK
);

87 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j⁄_√xt_tick
));

89 
iŸjs_jvÆ_t
 
jªs
 =

90 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
j⁄_√xt_tick
, 
	`iŸjs_jvÆ_gë_undeföed
(),

91 
	`iŸjs_j¨gs_gë_em±y
());

93 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_boﬁón
(&
jªs
));

95 
boﬁ
 
ªt
 = 
	`iŸjs_jvÆ_as_boﬁón
(&
jªs
);

96 
	`iŸjs_jvÆ_de°roy
(&
jªs
);

97 
	`iŸjs_jvÆ_de°roy
(&
j⁄_√xt_tick
);

99  
ªt
;

100 
	}
}

106 
	$iŸjs_make_ˇŒback
(c⁄° 
iŸjs_jvÆ_t
* 
jfun˘i⁄
,

107 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

108 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
) {

109 
iŸjs_jvÆ_t
 
ªsu…
 =

110 
	`iŸjs_make_ˇŒback_wôh_ªsu…
(
jfun˘i⁄
, 
jthis
, 
j¨gs
);

111 
	`iŸjs_jvÆ_de°roy
(&
ªsu…
);

112 
	}
}

115 
iŸjs_jvÆ_t
 
	$iŸjs_make_ˇŒback_wôh_ªsu…
(c⁄° 
iŸjs_jvÆ_t
* 
jfun˘i⁄
,

116 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

117 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
) {

120 i‡(
	`iŸjs_ívú⁄mít_is_exôög
(
	`iŸjs_ívú⁄mít_gë
())) {

121  *
	`iŸjs_jvÆ_gë_undeföed
();

124 
boﬁ
 
throws
;

125 
iŸjs_jvÆ_t
 
jªs
 = 
	`iŸjs_jhñ≥r_ˇŒ
(
jfun˘i⁄
, 
jthis
, 
j¨gs
, &
throws
);

126 i‡(
throws
) {

127 
	`iŸjs_unˇught_ex˚±i⁄
(&
jªs
);

131 
	`iŸjs_¥o˚ss_√xt_tick
();

134  
jªs
;

135 
	}
}

138 
	$iŸjs_¥o˚ss_exôcode
() {

139 c⁄° 
iŸjs_jvÆ_t
* 
¥o˚ss
 = 
	`iŸjs_moduÀ_gë
(
MODULE_PROCESS
);

141 
iŸjs_jvÆ_t
 
jexôcode
 =

142 
	`iŸjs_jvÆ_gë_¥›îty
(
¥o˚ss
, 
IOTJS_MAGIC_STRING_EXITCODE
);

143 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_numbî
(&
jexôcode
));

145 c⁄° 
exôcode
 = ()
	`iŸjs_jvÆ_as_numbî
(&
jexôcode
);

146 
	`iŸjs_jvÆ_de°roy
(&
jexôcode
);

148  
exôcode
;

149 
	}
}

152 
	$iŸjs_£t_¥o˚ss_exôcode
(
code
) {

153 c⁄° 
iŸjs_jvÆ_t
* 
¥o˚ss
 = 
	`iŸjs_moduÀ_gë
(
MODULE_PROCESS
);

154 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
¥o˚ss
, 
IOTJS_MAGIC_STRING_EXITCODE
, 
code
);

155 
	}
}

158 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_öô_¥o˚ss_moduÀ
() {

159  
	`iŸjs_moduÀ_öôülize_if_√˚sßry
(
MODULE_PROCESS
);

160 
	}
}

	@src/iotjs_binding_helper.h

16 #i‚de‡
IOTJS_BINDING_HELPER_H


17 
	#IOTJS_BINDING_HELPER_H


	)

20 
	~"iŸjs_bödög.h
"

23 
iŸjs_unˇught_ex˚±i⁄
(c⁄° 
iŸjs_jvÆ_t
* 
jex˚±i⁄
);

25 
iŸjs_¥o˚ss_emô_exô
(
code
);

27 
boﬁ
 
iŸjs_¥o˚ss_√xt_tick
();

29 
iŸjs_make_ˇŒback
(c⁄° 
iŸjs_jvÆ_t
* 
jfun˘i⁄
,

30 c⁄° 
iŸjs_jvÆ_t
* 
jthis
, c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
);

32 
iŸjs_jvÆ_t
 
iŸjs_make_ˇŒback_wôh_ªsu…
(c⁄° iŸjs_jvÆ_t* 
jfun˘i⁄
,

33 c⁄° 
iŸjs_jvÆ_t
* 
jthis
,

34 c⁄° 
iŸjs_j¨gs_t
* 
j¨gs
);

37 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_öô_¥o˚ss_moduÀ
();

39 
iŸjs_¥o˚ss_exôcode
();

40 
iŸjs_£t_¥o˚ss_exôcode
(
code
);

	@src/iotjs_debuglog.c

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

19 
	~"iŸjs_debuglog.h
"

21 #ifde‡
ENABLE_DEBUG_LOG


22 
	giŸjs_debug_Àvñ
 = 
DBGLEV_ERR
;

23 
FILE
* 
	giŸjs_log_°ªam
;

24 c⁄° * 
	giŸjs_debug_¥efix
[4] = { "", "ERR", "WRN", "INF" };

28 
	$öô_debug_£âögs
() {

29 #ifde‡
ENABLE_DEBUG_LOG


30 c⁄° * 
dbgÀvñ
 = 
NULL
;

31 c⁄° * 
dbglogfûe
 = 
NULL
;

33 #i‡
	`deföed
(
__löux__
Ë|| deföed(
__APPLE__
)

34 
dbgÀvñ
 = 
	`gëív
("IOTJS_DEBUG_LEVEL");

35 
dbglogfûe
 = 
	`gëív
("IOTJS_DEBUG_LOGFILE");

37 i‡(
dbgÀvñ
) {

38 
iŸjs_debug_Àvñ
 = 
	`©oi
(
dbgÀvñ
);

39 i‡(
iŸjs_debug_Àvñ
 < 0)

40 
iŸjs_debug_Àvñ
 = 0;

41 i‡(
iŸjs_debug_Àvñ
 > 
DBGLEV_INFO
)

42 
iŸjs_debug_Àvñ
 = 
DBGLEV_INFO
;

44 
iŸjs_log_°ªam
 = 
°dîr
;

45 i‡(
dbglogfûe
) {

46 
FILE
* 
log°ªam
;

47 
log°ªam
 = 
	`f›í
(
dbglogfûe
, "w+");

48 i‡(
log°ªam
 !
NULL
)

49 
iŸjs_log_°ªam
 = 
log°ªam
;

54 
	}
}

57 
	$ªÀa£_debug_£âögs
() {

58 #ifde‡
ENABLE_DEBUG_LOG


59 i‡(
iŸjs_log_°ªam
 !
°dîr
 || iŸjs_log_°ªam !
°dout
) {

60 
	`f˛o£
(
iŸjs_log_°ªam
);

63 
iŸjs_log_°ªam
 = 
°dîr
;

64 
iŸjs_debug_Àvñ
 = 
DBGLEV_ERR
;

66 
	}
}

	@src/iotjs_debuglog.h

16 #i‚de‡
IOTJS_DEBUGLOG_H


17 
	#IOTJS_DEBUGLOG_H


	)

20 #ifde‡
ENABLE_DEBUG_LOG


22 
	~<°dio.h
>

24 
iŸjs_debug_Àvñ
;

25 
FILE
* 
iŸjs_log_°ªam
;

26 c⁄° * 
iŸjs_debug_¥efix
[4];

28 
	#DBGLEV_ERR
 1

	)

29 
	#DBGLEV_WARN
 2

	)

30 
	#DBGLEV_INFO
 3

	)

32 
	#IOTJS_DLOG
(
lvl
, ...) \

34 i‡(0 <
lvl
 &&Üv»<
iŸjs_debug_Àvñ
 && 
iŸjs_log_°ªam
) { \

35 
	`Ârötf
(
iŸjs_log_°ªam
, "[%s] ", 
iŸjs_debug_¥efix
[
lvl
]); \

36 
	`Ârötf
(
iŸjs_log_°ªam
, 
__VA_ARGS__
); \

37 
	`Ârötf
(
iŸjs_log_°ªam
, "\n"); \

38 
	`fÊush
(
iŸjs_log_°ªam
); \

40 } 0)

	)

41 
	#DLOG
(...Ë
	`IOTJS_DLOG
(
DBGLEV_ERR
, 
__VA_ARGS__
)

	)

42 
	#DDLOG
(...Ë
	`IOTJS_DLOG
(
DBGLEV_WARN
, 
__VA_ARGS__
)

	)

43 
	#DDDLOG
(...Ë
	`IOTJS_DLOG
(
DBGLEV_INFO
, 
__VA_ARGS__
)

	)

53 
	#IOTJS_DLOG
(...)

	)

54 
	#DLOG
(...)

	)

55 
	#DDLOG
(...)

	)

56 
	#DDDLOG
(...)

	)

61 
öô_debug_£âögs
();

62 
ªÀa£_debug_£âögs
();

	@src/iotjs_def.h

17 #i‚de‡
IOTJS_DEF_H


18 
	#IOTJS_DEF_H


	)

21 #i‚de‡
IOTJS_MAX_READ_BUFFER_SIZE


22 #i‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

23 
	#IOTJS_MAX_READ_BUFFER_SIZE
 1023

	)

24 
	#IOTJS_MAX_PATH_SIZE
 120

	)

26 
	#IOTJS_MAX_READ_BUFFER_SIZE
 65535

	)

27 
	#IOTJS_MAX_PATH_SIZE
 
PATH_MAX


	)

32 #i‚de‡
IOTJS_ASSERT


33 #ifde‡
NDEBUG


34 
	#IOTJS_ASSERT
(
x
Ë(()(x))

	)

36 
¥öt_°ackåa˚
();

37 
f‹˚_ãrmö©e
();

38 
	#IOTJS_ASSERT
(
x
) \

40 i‡(!(
x
)) { \

41 
	`Ârötf
(
°dîr
, "%s:%d: As£πi⁄ '%s' faûed.\n", 
__FILE__
, 
__LINE__
, \

43 
	`¥öt_°ackåa˚
(); \

44 
	`f‹˚_ãrmö©e
(); \

46 } 0)

	)

50 #i‡
deföed
(
__¨m__
)

51 
	#TARGET_ARCH
 "¨m"

	)

52 #ñi‡
deföed
(
__i686__
)

53 
	#TARGET_ARCH
 "ü32"

	)

54 #ñi‡
deföed
(
__x86_64__
)

55 
	#TARGET_ARCH
 "x64"

	)

57 
	#TARGET_ARCH
 "unknown"

	)

61 #i‡
deföed
(
__löux__
)

62 
	#TARGET_OS
 "löux"

	)

63 #ñi‡
deföed
(
__NUTTX__
)

64 
	#TARGET_OS
 "nuâx"

	)

65 #ñi‡
deföed
(
__APPLE__
)

66 
	#TARGET_OS
 "d¨wö"

	)

67 #ñi‡
deföed
(
__TIZENRT__
)

68 
	#TARGET_OS
 "tizíπ"

	)

70 
	#TARGET_OS
 "unknown"

	)

73 
	#IOTJS_VERSION
 "1.0.0"

	)

75 #i‡!
deföed
(
STRINGIFY
)

76 
	#STRINGIFY
(
x
Ë#x

	)

79 #i‡!
deföed
(
TOSTRING
)

80 
	#TOSTRING
(
x
Ë
	`STRINGIFY
(x)

	)

84 #i‡!
deföed
(
TARGET_BOARD
)

85 
	#TARGET_BOARD
 "unknown"

	)

89 
	#IOTJS_VALID_MAGIC_SEQUENCE
 0x„e1c001

	)

90 
	#IOTJS_INVALID_MAGIC_SEQUENCE
 0x„e1badd

	)

92 
	#IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
) \

93 
iŸjs_˛as¢ame_t
##
_im∂_t
* 
_this
 = &(
x
)->
unß„
;

	)

96 
	#IOTJS_UNUSED
(
x
Ë(()(x))

	)

99 #ifde‡
NDEBUG


101 
	#IOTJS_VALIDATED_STRUCT
(
iŸjs_˛as¢ame_t
) \

102 
iŸjs_˛as¢ame_t
##
_im∂_t
; \

103 
	siŸjs_˛as¢ame_t
 { \

104 
iŸjs_˛as¢ame_t
##
_im∂_t
 
unß„
; \

105 } 
	tiŸjs_˛as¢ame_t
;

	)

107 
	#IOTJS_VALIDATED_STRUCT_STATIC_INITIALIZER
(...Ë
__VA_ARGS__


	)

109 
	#IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_˛as¢ame_t
, 
x
) \

110 
	`IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
);

	)

111 
	#IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_˛as¢ame_t
, 
x
) \

112 
	`IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
);

	)

113 
	#IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_˛as¢ame_t
, 
x
) \

114 
	`IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
);

	)

116 
	#IOTJS_VALIDATABLE_STRUCT_DESTRUCTOR_VALIDATE
(
iŸjs_˛as¢ame_t
, 
x
)

	)

117 
	#IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_˛as¢ame_t
, 
x
)

	)

121 
	#IOTJS_VALIDATED_STRUCT
(
iŸjs_˛as¢ame_t
) \

122 
iŸjs_˛as¢ame_t
##
_im∂_t
; \

123 
	siŸjs_˛as¢ame_t
 { \

124 
iŸjs_˛as¢ame_t
##
_im∂_t
 
unß„
; \

125 
uöt32_t
 
Êag_¸óã
; \

126 * 
vÆgröd_åa˚r
; \

127 } 
	tiŸjs_˛as¢ame_t
;

	)

129 
	#IOTJS_VALIDATED_STRUCT_STATIC_INITIALIZER
(...) \

130 { 
IOTJS_VALID_MAGIC_SEQUENCE
, 
	`iŸjs_buf„r_Æloˇã
(4), 
__VA_ARGS__
 }

	)

132 
	#IOTJS_VALIDATE_FLAG
(
iŸjs_˛as¢ame_t
, 
x
) \

133 i‡((
x
)->
Êag_¸óã
 !
IOTJS_VALID_MAGIC_SEQUENCE
) { \

134 
	`DLOG
("`%s %s` isÇot initializedÖroperly.", #iotjs_classname_t, #x); \

135 
	`IOTJS_ASSERT
(
Ál£
); \

136 }

	)

138 
	#IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_˛as¢ame_t
, 
x
) \

139 
	`IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
); \

141 (
x
)->
Êag_¸óã
 = 
IOTJS_VALID_MAGIC_SEQUENCE
; \

142 (
x
)->
vÆgröd_åa˚r
 = 
	`iŸjs_buf„r_Æloˇã
(4);

	)

144 
	#IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_˛as¢ame_t
, 
x
) \

145 
	`IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
); \

146 
	`IOTJS_VALIDATE_FLAG
(
iŸjs_˛as¢ame_t
, 
x
); \

147 (
x
)->
Êag_¸óã
 = 
IOTJS_INVALID_MAGIC_SEQUENCE
; \

148 
	`iŸjs_buf„r_ªÀa£
((
x
)->
vÆgröd_åa˚r
);

	)

150 
	#IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_˛as¢ame_t
, 
x
) \

151 
	`IOTJS_DECLARE_THIS
(
iŸjs_˛as¢ame_t
, 
x
); \

152 
	`IOTJS_VALIDATE_FLAG
(
iŸjs_˛as¢ame_t
, 
x
);

	)

154 
	#IOTJS_VALIDATABLE_STRUCT_DESTRUCTOR_VALIDATE
(
iŸjs_˛as¢ame_t
, 
x
) \

155 
	`IOTJS_VALIDATE_FLAG
(
iŸjs_˛as¢ame_t
, 
x
); \

156 (
x
)->
Êag_¸óã
 = 
IOTJS_INVALID_MAGIC_SEQUENCE
; \

157 
	`iŸjs_buf„r_ªÀa£
((
x
)->
vÆgröd_åa˚r
);

	)

159 
	#IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_˛as¢ame_t
, 
x
) \

160 
	`IOTJS_VALIDATE_FLAG
(
iŸjs_˛as¢ame_t
, 
x
);

	)

164 
	~<uv.h
>

165 
	~<as£π.h
>

166 
	~<limôs.h
>

167 
	~<°dboﬁ.h
>

168 
	~<°rög.h
>

171 
	~"iŸjs_bödög.h
"

172 
	~"iŸjs_bödög_hñ≥r.h
"

173 
	~"iŸjs_debuglog.h
"

174 
	~"iŸjs_ív.h
"

175 
	~"iŸjs_magic_°rögs.h
"

176 
	~"iŸjs_moduÀ.h
"

177 
	~"iŸjs_°rög.h
"

178 
	~"iŸjs_utû.h
"

	@src/iotjs_env.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_ív.h
"

20 
	~<°rög.h
>

23 
iŸjs_ívú⁄mít_t
 
	gcuºít_ív
;

24 
boﬁ
 
	göôülized
 = 
Ál£
;

34 
iŸjs_ívú⁄mít_öôülize
(
iŸjs_ívú⁄mít_t
* 
ív
);

35 
iŸjs_ívú⁄mít_de°roy
(
iŸjs_ívú⁄mít_t
* 
ív
);

41 
iŸjs_ívú⁄mít_t
* 
	$iŸjs_ívú⁄mít_gë
() {

42 i‡(!
öôülized
) {

43 
	`iŸjs_ívú⁄mít_öôülize
(&
cuºít_ív
);

44 
öôülized
 = 
åue
;

46  &
cuºít_ív
;

47 
	}
}

53 
	$iŸjs_ívú⁄mít_ªÀa£
() {

54 i‡(
öôülized
) {

55 
	`iŸjs_ívú⁄mít_de°roy
(&
cuºít_ív
);

56 
öôülized
 = 
Ál£
;

58 
	}
}

64 
	$iŸjs_ívú⁄mít_öôülize
(
iŸjs_ívú⁄mít_t
* 
ív
) {

65 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_ívú⁄mít_t
, 
ív
);

67 
_this
->
¨gc
 = 0;

68 
_this
->
¨gv
 = 
NULL
;

69 
_this
->
lo›
 = 
NULL
;

70 
_this
->
°©e
 = 
kInôülizög
;

71 
_this
->
c⁄fig
.
mem°©
 = 
Ál£
;

72 
_this
->
c⁄fig
.
show_›code
 = 
Ál£
;

73 
_this
->
c⁄fig
.
debuggî
 = 
Ál£
;

74 
_this
->
c⁄fig
.
debuggî_p‹t
 = 5001;

75 
	}
}

81 
	$iŸjs_ívú⁄mít_de°roy
(
iŸjs_ívú⁄mít_t
* 
ív
) {

82 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_ívú⁄mít_t
, 
ív
);

83 i‡(
_this
->
¨gv
) {

87 
uöt32_t
 
i
 = 2; i < 
_this
->
¨gc
; ++i) {

88 
	`iŸjs_buf„r_ªÀa£
(
_this
->
¨gv
[
i
]);

90 
	`iŸjs_buf„r_ªÀa£
((*)
_this
->
¨gv
);

92 
	}
}

98 
boﬁ
 
	$iŸjs_ívú⁄mít_∑r£_comm™d_löe_¨gumíts
(
iŸjs_ívú⁄mít_t
* 
ív
,

99 
uöt32_t
 
¨gc
,

100 ** 
¨gv
) {

101 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

104 
uöt32_t
 
i
 = 1;

105 
uöt8_t
 
p‹t_¨g_Àn
 = 
	`°æí
("--jerry-debugger-port=");

106 
_this
->
c⁄fig
.
is_jîry_jmem_logs_íabÀd
 = 
åue
;

107 
i
 < 
¨gc
 && 
¨gv
[i][0] == '-') {

108 i‡(!
	`°rcmp
(
¨gv
[
i
], "--memstat")) {

109 
_this
->
c⁄fig
.
mem°©
 = 
åue
;

110 } i‡(!
	`°rcmp
(
¨gv
[
i
], "--show-opcodes")) {

111 
_this
->
c⁄fig
.
show_›code
 = 
åue
;

112 } i‡(!
	`°rcmp
(
¨gv
[
i
], "--start-debug-server")) {

113 
_this
->
c⁄fig
.
debuggî
 = 
åue
;

114 } i‡(!
	`°∫cmp
(
¨gv
[
i
], "--jîry-debuggî-p‹t=", 
p‹t_¨g_Àn
)) {

115 
size_t
 
p‹t_Àngth
 = (
	`°æí
(
¨gv
[
i
] - 
p‹t_¨g_Àn
 - 1));

116 
p‹t
[
p‹t_Àngth
];

117 
	`mem˝y
(&
p‹t
, 
¨gv
[
i
] + 
p‹t_¨g_Àn
, 
p‹t_Àngth
);

118 
	`ssˇnf
(
p‹t
, "%d", &(
_this
->
c⁄fig
.
debuggî_p‹t
));

119 } if(!
	`°rcmp
(
¨gv
[
i
], "--no-jmem-logs")) {

120 
_this
->
c⁄fig
.
is_jîry_jmem_logs_íabÀd
 = 
Ál£
;

122 
	`Ârötf
(
°dîr
, "unknow¿comm™dÜöê›ti⁄: %s\n", 
¨gv
[
i
]);

123  
Ál£
;

125 ++
i
;

129 i‡((
¨gc
 - 
i
) < 1) {

130 
	`Ârötf
(
°dîr
,

132  
Ál£
;

136 
_this
->
¨gc
 = 2;

137 
size_t
 
buf„r_size
 = ((size_t)(
_this
->
¨gc
 +árg¯- 
i
)) * (*);

138 
_this
->
¨gv
 = (**)
	`iŸjs_buf„r_Æloˇã
(
buf„r_size
);

139 
_this
->
¨gv
[0] =árgv[0];

140 
_this
->
¨gv
[1] =árgv[
i
++];

142 
size_t
 
Àn
 = 0;

143 
i
 < 
¨gc
) {

144 
Àn
 = 
	`°æí
(
¨gv
[
i
]) + 1;

145 
_this
->
¨gv
[_this->
¨gc
] = 
	`iŸjs_buf„r_Æloˇã
(
Àn
);

146 
	`°∫˝y
(
_this
->
¨gv
[_this->
¨gc
],árgv[
i
], 
Àn
);

147 
_this
->
¨gc
++;

148 
i
++;

151  
åue
;

152 
	}
}

154 
uöt32_t
 
	$iŸjs_ívú⁄mít_¨gc
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
) {

155 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

156  
_this
->
¨gc
;

157 
	}
}

160 c⁄° * 
	$iŸjs_ívú⁄mít_¨gv
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
,

161 
uöt32_t
 
idx
) {

162 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

163  
_this
->
¨gv
[
idx
];

164 
	}
}

167 
uv_lo›_t
* 
	$iŸjs_ívú⁄mít_lo›
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
) {

168 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

169  
_this
->
lo›
;

170 
	}
}

173 
	$iŸjs_ívú⁄mít_£t_lo›
(
iŸjs_ívú⁄mít_t
* 
ív
, 
uv_lo›_t
* 
lo›
) {

174 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

175 
_this
->
lo›
 =Üoop;

176 
	}
}

179 c⁄° 
C⁄fig
* 
	$iŸjs_ívú⁄mít_c⁄fig
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
) {

180 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

181  &
_this
->
c⁄fig
;

182 
	}
}

185 
	$iŸjs_ívú⁄mít_go_°©e_ru¬ög_maö
(
iŸjs_ívú⁄mít_t
* 
ív
) {

186 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

188 
	`IOTJS_ASSERT
(
_this
->
°©e
 =
kInôülizög
);

189 
_this
->
°©e
 = 
kRu¬ögMaö
;

190 
	}
}

193 
	$iŸjs_ívú⁄mít_go_°©e_ru¬ög_lo›
(
iŸjs_ívú⁄mít_t
* 
ív
) {

194 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

196 
	`IOTJS_ASSERT
(
_this
->
°©e
 =
kRu¬ögMaö
);

197 
_this
->
°©e
 = 
kRu¬ögLo›
;

198 
	}
}

201 
	$iŸjs_ívú⁄mít_go_°©e_exôög
(
iŸjs_ívú⁄mít_t
* 
ív
) {

202 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

203 
	`IOTJS_ASSERT
(
_this
->
°©e
 < 
kExôög
);

204 
_this
->
°©e
 = 
kExôög
;

205 
	}
}

207 
boﬁ
 
	$iŸjs_ívú⁄mít_is_exôög
(
iŸjs_ívú⁄mít_t
* 
ív
) {

208 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ívú⁄mít_t
, 
ív
);

209  
_this
->
°©e
 =
kExôög
;

210 
	}
}

	@src/iotjs_env.h

16 #i‚de‡
IOTJS_ENV_H


17 
	#IOTJS_ENV_H


	)

19 
	~"uv.h
"

23 
boﬁ
 
	mmem°©
;

24 
boﬁ
 
	mshow_›code
;

25 
boﬁ
 
	mdebuggî
;

26 
	mdebuggî_p‹t
;

27 
boﬁ
 
	mis_jîry_jmem_logs_íabÀd
;

28 } 
	tC⁄fig
;

31 
	mkInôülizög
,

32 
	mkRu¬ögMaö
,

33 
	mkRu¬ögLo›
,

34 
	mkExôög
,

35 } 
	tSèã
;

40 
uöt32_t
 
	m¨gc
;

43 ** 
	m¨gv
;

46 
uv_lo›_t
* 
	mlo›
;

49 
Sèã
 
	m°©e
;

52 
C⁄fig
 
	mc⁄fig
;

53 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_ívú⁄mít_t
);

56 
iŸjs_ívú⁄mít_t
* 
iŸjs_ívú⁄mít_gë
();

57 
iŸjs_ívú⁄mít_ªÀa£
();

59 
boﬁ
 
iŸjs_ívú⁄mít_∑r£_comm™d_löe_¨gumíts
(
iŸjs_ívú⁄mít_t
* 
ív
,

60 
uöt32_t
 
¨gc
, ** 
¨gv
);

62 
uöt32_t
 
iŸjs_ívú⁄mít_¨gc
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
);

63 c⁄° * 
iŸjs_ívú⁄mít_¨gv
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
,

64 
uöt32_t
 
idx
);

66 
uv_lo›_t
* 
iŸjs_ívú⁄mít_lo›
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
);

67 
iŸjs_ívú⁄mít_£t_lo›
(
iŸjs_ívú⁄mít_t
* 
ív
, 
uv_lo›_t
* 
lo›
);

69 c⁄° 
C⁄fig
* 
iŸjs_ívú⁄mít_c⁄fig
(c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
);

71 
iŸjs_ívú⁄mít_go_°©e_ru¬ög_maö
(
iŸjs_ívú⁄mít_t
* 
ív
);

72 
iŸjs_ívú⁄mít_go_°©e_ru¬ög_lo›
(
iŸjs_ívú⁄mít_t
* 
ív
);

73 
iŸjs_ívú⁄mít_go_°©e_exôög
(
iŸjs_ívú⁄mít_t
* 
ív
);

74 
boﬁ
 
iŸjs_ívú⁄mít_is_exôög
(
iŸjs_ívú⁄mít_t
* 
ív
);

	@src/iotjs_exception.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_ex˚±i⁄.h
"

20 
	~<°dio.h
>

22 
	~"uv.h
"

25 
iŸjs_jvÆ_t
 
	$iŸjs_¸óã_uv_ex˚±i⁄
(
îr‹no
, c⁄° * 
sysˇŒ
) {

26 
msg
[256];

27 
	`¢¥ötf
(
msg
, (msg), "'%s' %s", 
sysˇŒ
, 
	`uv_°ªº‹
(
îr‹no
));

28  
	`iŸjs_jvÆ_¸óã_îr‹
(
msg
);

29 
	}
}

	@src/iotjs_exception.h

16 #i‚de‡
IOTJS_EXCEPTION_H


17 
	#IOTJS_EXCEPTION_H


	)

20 
iŸjs_jvÆ_t
 
iŸjs_¸óã_uv_ex˚±i⁄
(
îr‹no
, c⁄° * 
sysˇŒ
);

	@src/iotjs_handlewrap.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_h™dÀwøp.h
"

20 
	$iŸjs_h™dÀwøp_öôülize
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
,

21 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
,

22 
uv_h™dÀ_t
* 
h™dÀ
,

23 
JN©iveInfoTy≥
* 
«tive_öfo
) {

24 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

28 
iŸjs_jvÆ_t
 
jobje˘ªf
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
jobje˘
);

29 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, &
jobje˘ªf
, 
«tive_öfo
);

31 
_this
->
h™dÀ
 = handle;

32 
_this
->
⁄_˛o£_cb
 = 
NULL
;

34 
h™dÀ
->
d©a
 = 
h™dÀwøp
;

36 
	`iŸjs_h™dÀwøp_vÆid©e
(
h™dÀwøp
);

37 
	}
}

40 
	$iŸjs_h™dÀwøp_de°roy
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
) {

41 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

44 
	`IOTJS_ASSERT
(
_this
->
h™dÀ
 =
NULL
);

46 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

47 
	}
}

50 
iŸjs_h™dÀwøp_t
* 
	$iŸjs_h™dÀwøp_‰om_h™dÀ
(
uv_h™dÀ_t
* 
h™dÀ
) {

51 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = (iŸjs_h™dÀwøp_t*)(
h™dÀ
->
d©a
);

52 
	`iŸjs_h™dÀwøp_vÆid©e
(
h™dÀwøp
);

53  
h™dÀwøp
;

54 
	}
}

57 
iŸjs_h™dÀwøp_t
* 
	$iŸjs_h™dÀwøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
) {

58 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 =

59 (
iŸjs_h™dÀwøp_t
*)(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jobje˘
));

60 
	`iŸjs_h™dÀwøp_vÆid©e
(
h™dÀwøp
);

61  
h™dÀwøp
;

62 
	}
}

65 
uv_h™dÀ_t
* 
	$iŸjs_h™dÀwøp_gë_uv_h™dÀ
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
) {

66 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

67 
	`iŸjs_h™dÀwøp_vÆid©e
(
h™dÀwøp
);

68  
_this
->
h™dÀ
;

69 
	}
}

72 
iŸjs_jvÆ_t
* 
	$iŸjs_h™dÀwøp_jobje˘
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
) {

73 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

74 
	`iŸjs_h™dÀwøp_vÆid©e
(
h™dÀwøp
);

75  
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

76 
	}
}

79 
	$iŸjs_h™dÀwøp_⁄_˛o£
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
) {

80 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

84 i‡(
_this
->
⁄_˛o£_cb
) {

85 
_this
->
	`⁄_˛o£_cb
(_this->
h™dÀ
);

89 
_this
->
h™dÀ
 = 
NULL
;

93 
	`iŸjs_jvÆ_de°roy
(
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
));

94 
	}
}

97 
	$iŸjs_⁄_h™dÀ_˛o£d
(
uv_h™dÀ_t
* 
h™dÀ
) {

98 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
h™dÀ
);

99 
	`iŸjs_h™dÀwøp_⁄_˛o£
(
h™dÀwøp
);

100 
	}
}

103 
	$iŸjs_h™dÀwøp_˛o£
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
,

104 
OnClo£H™dÀr
 
⁄_˛o£_cb
) {

105 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

107 i‡(
_this
->
h™dÀ
 !
NULL
 && !
	`uv_is_˛osög
(_this->handle)) {

108 
_this
->
⁄_˛o£_cb
 = on_close_cb;

109 
	`uv_˛o£
(
_this
->
h™dÀ
, 
iŸjs_⁄_h™dÀ_˛o£d
);

111 
	`DDLOG
("AttemptÅo close uninitialized orálready closed handle");

113 
	}
}

116 
	$iŸjs_h™dÀwøp_vÆid©e
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
) {

117 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_h™dÀwøp_t
, 
h™dÀwøp
);

119 
	`IOTJS_ASSERT
((
iŸjs_h™dÀwøp_t
*)
_this
 =
h™dÀwøp
);

120 
	`IOTJS_ASSERT
((
iŸjs_jobje˘wøp_t
*)
_this
 =&_this->
jobje˘wøp
);

121 
	`IOTJS_ASSERT
((*)
_this
 =_this->
h™dÀ
->
d©a
);

122 
	`IOTJS_ASSERT
((
uöçå_t
)
_this
 ==

123 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(

124 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
)));

125 
	}
}

	@src/iotjs_handlewrap.h

16 #i‚de‡
IOTJS_HANDLEWRAP_H


17 
	#IOTJS_HANDLEWRAP_H


	)

20 
	~<uv.h
>

22 
	~"iŸjs_bödög.h
"

23 
	~"iŸjs_obje˘wøp.h
"

26 (*
	tOnClo£H™dÀr
)(
	tuv_h™dÀ_t
*);

46 
iŸjs_jobje˘wøp_t
 
jobje˘wøp
;

47 
uv_h™dÀ_t
* 
h™dÀ
;

48 
OnClo£H™dÀr
 
⁄_˛o£_cb
;

49 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_h™dÀwøp_t
);

53 
	`iŸjs_h™dÀwøp_öôülize
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
,

54 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
,

55 
uv_h™dÀ_t
* 
h™dÀ
,

56 
JN©iveInfoTy≥
* 
«tive_öfo
);

58 
	`iŸjs_h™dÀwøp_de°roy
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
);

60 
	`iŸjs_h™dÀwøp_˛o£
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
,

61 
OnClo£H™dÀr
 
⁄_˛o£_cb
);

63 
iŸjs_h™dÀwøp_t
* 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
uv_h™dÀ_t
* 
h™dÀ
);

64 
iŸjs_h™dÀwøp_t
* 
	`iŸjs_h™dÀwøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
);

66 
uv_h™dÀ_t
* 
	`iŸjs_h™dÀwøp_gë_uv_h™dÀ
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
);

67 
iŸjs_jvÆ_t
* 
	`iŸjs_h™dÀwøp_jobje˘
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
);

69 
	`iŸjs_h™dÀwøp_vÆid©e
(
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
);

	@src/iotjs_magic_strings.h

16 #i‚de‡
IOTJS_STRING_CONSTANTS_H


17 
	#IOTJS_STRING_CONSTANTS_H


	)

19 
	#IOTJS_MAGIC_STRING_0
 "0"

	)

20 
	#IOTJS_MAGIC_STRING_1
 "1"

	)

21 
	#IOTJS_MAGIC_STRING_2
 "2"

	)

22 
	#IOTJS_MAGIC_STRING_3
 "3"

	)

23 
	#IOTJS_MAGIC_STRING_ABORT
 "ab‹t"

	)

24 
	#IOTJS_MAGIC_STRING_ADC
 "Adc"

	)

25 
	#IOTJS_MAGIC_STRING_ADDHEADER
 "addHódî"

	)

26 
	#IOTJS_MAGIC_STRING_ADDMEMBERSHIP
 "addMembîshù"

	)

27 
	#IOTJS_MAGIC_STRING_ADDRESS
 "addªss"

	)

28 
	#IOTJS_MAGIC_STRING_ARCH
 "¨ch"

	)

29 
	#IOTJS_MAGIC_STRING_ARGV
 "¨gv"

	)

30 
	#IOTJS_MAGIC_STRING_BAUDRATE
 "baudR©e"

	)

31 
	#IOTJS_MAGIC_STRING_BIND
 "böd"

	)

32 
	#IOTJS_MAGIC_STRING_BINDCONTROL
 "bödC⁄åﬁ"

	)

33 
	#IOTJS_MAGIC_STRING_BINDING
 "bödög"

	)

34 
	#IOTJS_MAGIC_STRING_BINDRAW
 "bödRaw"

	)

35 
	#IOTJS_MAGIC_STRING_BINDUSER
 "bödU£r"

	)

36 
	#IOTJS_MAGIC_STRING_BITORDER
 "bôOrdî"

	)

37 
	#IOTJS_MAGIC_STRING_BITORDER_U
 "BITORDER"

	)

38 
	#IOTJS_MAGIC_STRING_BITSPERWORD
 "bôsPîW‹d"

	)

39 
	#IOTJS_MAGIC_STRING_BOARD
 "bﬂrd"

	)

40 
	#IOTJS_MAGIC_STRING_BOTH_U
 "BOTH"

	)

41 
	#IOTJS_MAGIC_STRING_BUFFER
 "Buf„r"

	)

42 
	#IOTJS_MAGIC_STRING__BUFFER
 "_buf„r"

	)

43 
	#IOTJS_MAGIC_STRING__BUILTIN
 "_buûtö"

	)

44 
	#IOTJS_MAGIC_STRING_BUS
 "bus"

	)

45 
	#IOTJS_MAGIC_STRING_BYTELENGTH
 "byãLígth"

	)

46 
	#IOTJS_MAGIC_STRING_REJECTUNAUTHORIZED
 "ªje˘U«uth‹ized"

	)

47 
	#IOTJS_MAGIC_STRING_BYTEPARSED
 "byãP¨£d"

	)

48 
	#IOTJS_MAGIC_STRING_CA
 "ˇ"

	)

49 
	#IOTJS_MAGIC_STRING_CERT
 "˚π"

	)

50 
	#IOTJS_MAGIC_STRING_CHDIR
 "chdú"

	)

51 
	#IOTJS_MAGIC_STRING_CHIP
 "chù"

	)

52 
	#IOTJS_MAGIC_STRING_CHIPSELECT
 "chùSñe˘"

	)

53 
	#IOTJS_MAGIC_STRING_CHIPSELECT_U
 "CHIPSELECT"

	)

54 
	#IOTJS_MAGIC_STRING_CLOSE
 "˛o£"

	)

55 
	#IOTJS_MAGIC_STRING_CLOSESYNC
 "˛o£Sync"

	)

56 
	#IOTJS_MAGIC_STRING_CODE
 "code"

	)

57 
	#IOTJS_MAGIC_STRING_COMPARE
 "com∑ª"

	)

58 
	#IOTJS_MAGIC_STRING_COMPILE
 "compûe"

	)

59 
	#IOTJS_MAGIC_STRING_COMPILENATIVEPTR
 "compûeN©ivePå"

	)

60 
	#IOTJS_MAGIC_STRING_CONNECT
 "c⁄√˘"

	)

61 
	#IOTJS_MAGIC_STRING_COPY
 "c›y"

	)

62 
	#IOTJS_MAGIC_STRING_CREATEREQUEST
 "¸óãReque°"

	)

63 
	#IOTJS_MAGIC_STRING__CREATESTAT
 "_¸óãSèt"

	)

64 
	#IOTJS_MAGIC_STRING_CREATETCP
 "¸óãTCP"

	)

65 
	#IOTJS_MAGIC_STRING_CWD
 "cwd"

	)

66 
	#IOTJS_MAGIC_STRING_DATABITS
 "d©aBôs"

	)

67 
	#IOTJS_MAGIC_STRING_DEVICE
 "devi˚"

	)

68 
	#IOTJS_MAGIC_STRING_DIRECTION
 "dúe˘i⁄"

	)

69 
	#IOTJS_MAGIC_STRING_DIRECTION_U
 "DIRECTION"

	)

70 
	#IOTJS_MAGIC_STRING_DOEXIT
 "doExô"

	)

71 
	#IOTJS_MAGIC_STRING_DROPMEMBERSHIP
 "dr›Membîshù"

	)

72 
	#IOTJS_MAGIC_STRING_DUTYCYCLE
 "dutyCy˛e"

	)

73 
	#IOTJS_MAGIC_STRING_EDGE
 "edge"

	)

74 
	#IOTJS_MAGIC_STRING_EDGE_U
 "EDGE"

	)

75 
	#IOTJS_MAGIC_STRING_EMIT
 "emô"

	)

76 
	#IOTJS_MAGIC_STRING_EMITEXIT
 "emôExô"

	)

77 
	#IOTJS_MAGIC_STRING_ENV
 "ív"

	)

78 
	#IOTJS_MAGIC_STRING_ERRNAME
 "î∫ame"

	)

79 
	#IOTJS_MAGIC_STRING_EXECUTE
 "execuã"

	)

80 
	#IOTJS_MAGIC_STRING_EXITCODE
 "exôCode"

	)

81 
	#IOTJS_MAGIC_STRING_EXPORT
 "exp‹t"

	)

82 
	#IOTJS_MAGIC_STRING_FALLING_U
 "FALLING"

	)

83 
	#IOTJS_MAGIC_STRING_FAMILY
 "Ámûy"

	)

84 
	#IOTJS_MAGIC_STRING_FINISH
 "föish"

	)

85 
	#IOTJS_MAGIC_STRING_FINISHREQUEST
 "föishReque°"

	)

86 
	#IOTJS_MAGIC_STRING_FLOAT
 "FLOAT"

	)

87 
	#IOTJS_MAGIC_STRING_FSTAT
 "f°©"

	)

88 
	#IOTJS_MAGIC_STRING_GETADDRINFO
 "gëaddröfo"

	)

89 
	#IOTJS_MAGIC_STRING_GETSOCKNAME
 "gësock«me"

	)

90 
	#IOTJS_MAGIC_STRING_GPIO
 "Gpio"

	)

91 
	#IOTJS_MAGIC_STRING_HANDLER
 "h™dÀr"

	)

92 
	#IOTJS_MAGIC_STRING_HANDLETIMEOUT
 "h™dÀTimeout"

	)

93 
	#IOTJS_MAGIC_STRING_HEADERS
 "hódîs"

	)

94 
	#IOTJS_MAGIC_STRING_HEXWRITE
 "hexWrôe"

	)

95 
	#IOTJS_MAGIC_STRING_HIGH
 "HIGH"

	)

96 
	#IOTJS_MAGIC_STRING_HOME
 "HOME"

	)

97 
	#IOTJS_MAGIC_STRING_HOST
 "ho°"

	)

98 
	#IOTJS_MAGIC_STRING_HTTPPARSER
 "HTTPP¨£r"

	)

99 
	#IOTJS_MAGIC_STRING_IN
 "IN"

	)

100 
	#IOTJS_MAGIC_STRING__INCOMING
 "_öcomög"

	)

101 
	#IOTJS_MAGIC_STRING_IOTJS_ENV
 "IOTJS_ENV"

	)

102 
	#IOTJS_MAGIC_STRING_IOTJS_PATH
 "IOTJS_PATH"

	)

103 
	#IOTJS_MAGIC_STRING_IOTJS
 "iŸjs"

	)

104 
	#IOTJS_MAGIC_STRING_IPV4
 "IPv4"

	)

105 
	#IOTJS_MAGIC_STRING_IPV6
 "IPv6"

	)

106 
	#IOTJS_MAGIC_STRING_ISALIVEEXCEPTFOR
 "isAliveEx˚±F‹"

	)

107 
	#IOTJS_MAGIC_STRING_ISDEVUP
 "isDevUp"

	)

108 
	#IOTJS_MAGIC_STRING_ISDIRECTORY
 "isDúe˘‹y"

	)

109 
	#IOTJS_MAGIC_STRING_ISFILE
 "isFûe"

	)

110 
	#IOTJS_MAGIC_STRING_KEY
 "key"

	)

111 
	#IOTJS_MAGIC_STRING_LENGTH
 "Àngth"

	)

112 
	#IOTJS_MAGIC_STRING_LISTEN
 "li°í"

	)

113 
	#IOTJS_MAGIC_STRING_LOOPBACK
 "lo›back"

	)

114 
	#IOTJS_MAGIC_STRING_LSB
 "LSB"

	)

115 
	#IOTJS_MAGIC_STRING_MAXSPEED
 "maxS≥ed"

	)

116 
	#IOTJS_MAGIC_STRING_METHOD
 "mëhod"

	)

117 
	#IOTJS_MAGIC_STRING_METHODS
 "mëhods"

	)

118 
	#IOTJS_MAGIC_STRING_MKDIR
 "mkdú"

	)

119 
	#IOTJS_MAGIC_STRING_MODE
 "mode"

	)

120 
	#IOTJS_MAGIC_STRING_MODE_U
 "MODE"

	)

121 
	#IOTJS_MAGIC_STRING_MSB
 "MSB"

	)

122 
	#IOTJS_MAGIC_STRING_NATIVE_SOURCES
 "«tive_sour˚s"

	)

123 
	#IOTJS_MAGIC_STRING_NONE
 "NONE"

	)

124 
	#IOTJS_MAGIC_STRING_ONBODY
 "OnBody"

	)

125 
	#IOTJS_MAGIC_STRING_ONCLOSE
 "⁄˛o£"

	)

126 
	#IOTJS_MAGIC_STRING_ONCLOSED
 "⁄Clo£d"

	)

127 
	#IOTJS_MAGIC_STRING_ONCONNECTION
 "⁄c⁄√˘i⁄"

	)

128 
	#IOTJS_MAGIC_STRING_ONDATA
 "⁄D©a"

	)

129 
	#IOTJS_MAGIC_STRING_ONEND
 "⁄End"

	)

130 
	#IOTJS_MAGIC_STRING_ONERROR
 "⁄Eº‹"

	)

131 
	#IOTJS_MAGIC_STRING_ONHEADERSCOMPLETE
 "OnHódîsCom∂ëe"

	)

132 
	#IOTJS_MAGIC_STRING_ONHEADERS
 "OnHódîs"

	)

133 
	#IOTJS_MAGIC_STRING_ONMESSAGECOMPLETE
 "OnMesßgeCom∂ëe"

	)

134 
	#IOTJS_MAGIC_STRING_ONMESSAGE
 "⁄mesßge"

	)

135 
	#IOTJS_MAGIC_STRING__ONNEXTTICK
 "_⁄NextTick"

	)

136 
	#IOTJS_MAGIC_STRING_ONREAD
 "⁄ªad"

	)

137 
	#IOTJS_MAGIC_STRING_ONSOCKET
 "⁄Sockë"

	)

138 
	#IOTJS_MAGIC_STRING_ONTIMEOUT
 "⁄Timeout"

	)

139 
	#IOTJS_MAGIC_STRING__ONUNCAUGHTEXCEPTION
 "_⁄UnˇughtEx˚±i⁄"

	)

140 
	#IOTJS_MAGIC_STRING_ONWRITABLE
 "⁄WrôabÀ"

	)

141 
	#IOTJS_MAGIC_STRING_OPENDRAIN
 "OPENDRAIN"

	)

142 
	#IOTJS_MAGIC_STRING_OPEN
 "›í"

	)

143 
	#IOTJS_MAGIC_STRING_OUT
 "OUT"

	)

144 
	#IOTJS_MAGIC_STRING_OWNER
 "ow√r"

	)

145 
	#IOTJS_MAGIC_STRING_PAUSE
 "∑u£"

	)

146 
	#IOTJS_MAGIC_STRING_PERIOD
 "≥riod"

	)

147 
	#IOTJS_MAGIC_STRING_PIN
 "pö"

	)

148 
	#IOTJS_MAGIC_STRING_PLATFORM
 "∂©f‹m"

	)

149 
	#IOTJS_MAGIC_STRING_PORT
 "p‹t"

	)

150 
	#IOTJS_MAGIC_STRING_PROTOTYPE
 "¥ŸŸy≥"

	)

151 
	#IOTJS_MAGIC_STRING_PULLDOWN
 "PULLDOWN"

	)

152 
	#IOTJS_MAGIC_STRING_PULLUP
 "PULLUP"

	)

153 
	#IOTJS_MAGIC_STRING_PUSHPULL
 "PUSHPULL"

	)

154 
	#IOTJS_MAGIC_STRING_READDIR
 "ªaddú"

	)

155 
	#IOTJS_MAGIC_STRING_READ
 "ªad"

	)

156 
	#IOTJS_MAGIC_STRING_READSOURCE
 "ªadSour˚"

	)

157 
	#IOTJS_MAGIC_STRING_READSTART
 "ªadSèπ"

	)

158 
	#IOTJS_MAGIC_STRING_READSYNC
 "ªadSync"

	)

159 
	#IOTJS_MAGIC_STRING_READUINT8
 "ªadUI¡8"

	)

160 
	#IOTJS_MAGIC_STRING_RECVSTART
 "ªcvSèπ"

	)

161 
	#IOTJS_MAGIC_STRING_RECVSTOP
 "ªcvSt›"

	)

162 
	#IOTJS_MAGIC_STRING_REF
 "ªf"

	)

163 
	#IOTJS_MAGIC_STRING_REINITIALIZE
 "ªöôülize"

	)

164 
	#IOTJS_MAGIC_STRING_RENAME
 "ª«me"

	)

165 
	#IOTJS_MAGIC_STRING_REQUEST
 "REQUEST"

	)

166 
	#IOTJS_MAGIC_STRING_RESPONSE
 "RESPONSE"

	)

167 
	#IOTJS_MAGIC_STRING_RESUME
 "ªsume"

	)

168 
	#IOTJS_MAGIC_STRING__REUSEADDR
 "_ªu£Addr"

	)

169 
	#IOTJS_MAGIC_STRING_RISING_U
 "RISING"

	)

170 
	#IOTJS_MAGIC_STRING_RMDIR
 "rmdú"

	)

171 
	#IOTJS_MAGIC_STRING_SEND
 "£nd"

	)

172 
	#IOTJS_MAGIC_STRING_SENDREQUEST
 "£ndReque°"

	)

173 
	#IOTJS_MAGIC_STRING_SETADDRESS
 "£tAddªss"

	)

174 
	#IOTJS_MAGIC_STRING_SETBROADCAST
 "£tBrﬂdˇ°"

	)

175 
	#IOTJS_MAGIC_STRING_SETDUTYCYCLE
 "£tDutyCy˛e"

	)

176 
	#IOTJS_MAGIC_STRING_SETENABLE
 "£tE«bÀ"

	)

177 
	#IOTJS_MAGIC_STRING_SETFILTER
 "£tFûãr"

	)

178 
	#IOTJS_MAGIC_STRING_SETFREQUENCY
 "£tFªquícy"

	)

179 
	#IOTJS_MAGIC_STRING_SETKEEPALIVE
 "£tKìpAlive"

	)

180 
	#IOTJS_MAGIC_STRING_SETMULTICASTLOOPBACK
 "£tMu…iˇ°Lo›back"

	)

181 
	#IOTJS_MAGIC_STRING_SETMULTICASTTTL
 "£tMu…iˇ°TTL"

	)

182 
	#IOTJS_MAGIC_STRING_SETPERIOD
 "£tPîiod"

	)

183 
	#IOTJS_MAGIC_STRING_SETTIMEOUT
 "£tTimeout"

	)

184 
	#IOTJS_MAGIC_STRING_SETTTL
 "£tTTL"

	)

185 
	#IOTJS_MAGIC_STRING_SHOULDKEEPALIVE
 "shouldkì∑live"

	)

186 
	#IOTJS_MAGIC_STRING_SHUTDOWN
 "shutdown"

	)

187 
	#IOTJS_MAGIC_STRING_SLICE
 "¶i˚"

	)

188 
	#IOTJS_MAGIC_STRING_SPI
 "Spi"

	)

189 
	#IOTJS_MAGIC_STRING_START
 "°¨t"

	)

190 
	#IOTJS_MAGIC_STRING_STAT
 "°©"

	)

191 
	#IOTJS_MAGIC_STRING_STATS
 "°©s"

	)

192 
	#IOTJS_MAGIC_STRING_STATUS_MSG
 "°©us_msg"

	)

193 
	#IOTJS_MAGIC_STRING_STATUS
 "°©us"

	)

194 
	#IOTJS_MAGIC_STRING_STDERR
 "°dîr"

	)

195 
	#IOTJS_MAGIC_STRING_STDOUT
 "°dout"

	)

196 
	#IOTJS_MAGIC_STRING_REBOOT
 "ªboŸ"

	)

197 
	#IOTJS_MAGIC_STRING_STOP
 "°›"

	)

198 
	#IOTJS_MAGIC_STRING_TOHEXSTRING
 "toHexSåög"

	)

199 
	#IOTJS_MAGIC_STRING_TOSTRING
 "toSåög"

	)

200 
	#IOTJS_MAGIC_STRING_TRANSFERARRAY
 "å™s„rAºay"

	)

201 
	#IOTJS_MAGIC_STRING_TRANSFERBUFFER
 "å™s„rBuf„r"

	)

202 
	#IOTJS_MAGIC_STRING_UNEXPORT
 "u√xp‹t"

	)

203 
	#IOTJS_MAGIC_STRING_UNLINK
 "u∆ök"

	)

204 
	#IOTJS_MAGIC_STRING_UNREF
 "uƒef"

	)

205 
	#IOTJS_MAGIC_STRING_UPGRADE
 "upgøde"

	)

206 
	#IOTJS_MAGIC_STRING_URL
 "uæ"

	)

207 
	#IOTJS_MAGIC_STRING_VERSION
 "vîsi⁄"

	)

208 
	#IOTJS_MAGIC_STRING_WRITESYNC
 "wrôeSync"

	)

209 
	#IOTJS_MAGIC_STRING_WRITEUINT8
 "wrôeUI¡8"

	)

210 
	#IOTJS_MAGIC_STRING_WRITE
 "wrôe"

	)

211 
	#IOTJS_MAGIC_STRING__WRITE
 "_wrôe"

	)

	@src/iotjs_module.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ.h
"

22 
ModuÀKöd
 
	mköd
;

23 
iŸjs_jvÆ_t
 
	mjmoduÀ
;

24 
ªgi°î_func
 
	m‚_ªgi°î
;

25 } 
	tiŸjs_moduÀ_t
;

28 
iŸjs_moduÀ_t
 
	gmoduÀs
[
MODULE_COUNT
];

31 
	#DECLARE_MODULE_INITIALIZER
(
uµî
, 
Camñ
, 
lowî
) \

32 
iŸjs_jvÆ_t
 
Inô
##
	`Camñ
();

	)

34 
	$MAP_MODULE_LIST
(
DECLARE_MODULE_INITIALIZER
)

36 #unde‡
DECLARE_MODULE_INITIALIZER


39 
	#INIT_MODULE_LIST
(
uµî
, 
Camñ
, 
lowî
) \

40 
moduÀs
[
MODULE_
##
uµî
].
köd
 = MODULE_##upper; \

41 
moduÀs
[
MODULE_
##
uµî
].
jmoduÀ
 = *
	`iŸjs_jvÆ_gë_undeföed
(); \

42 
moduÀs
[
MODULE_
##
uµî
].
‚_ªgi°î
 = 
Inô
##
Camñ
;

	)

44 
	$iŸjs_moduÀ_li°_öô
() {

45 
	`MAP_MODULE_LIST
(
INIT_MODULE_LIST
)

46 
	}
}

48 #unde‡
INIT_MODULE_LIST


51 
	#CLENUP_MODULE_LIST
(
uµî
, 
Camñ
, 
lowî
) \

52 i‡(!
	`iŸjs_jvÆ_is_undeföed
(&
moduÀs
[
MODULE_
##
uµî
].
jmoduÀ
)) \

53 
	`iŸjs_jvÆ_de°roy
(&
moduÀs
[
MODULE_
##
uµî
].
jmoduÀ
);

	)

55 
	$iŸjs_moduÀ_li°_˛ónup
() {

56 
	`MAP_MODULE_LIST
(
CLENUP_MODULE_LIST
)

57 
	}
}

59 #unde‡
CLENUP_MODULE_LIST


62 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_moduÀ_öôülize_if_√˚sßry
(
ModuÀKöd
 
köd
) {

63 
	`IOTJS_ASSERT
(
köd
 < 
MODULE_COUNT
);

64 
	`IOTJS_ASSERT
(&
moduÀs
[
köd
].
‚_ªgi°î
 !
NULL
);

66 i‡(
	`iŸjs_jvÆ_is_undeföed
(&
moduÀs
[
köd
].
jmoduÀ
)) {

67 
moduÀs
[
köd
].
jmoduÀ
 = moduÀs[köd].
	`‚_ªgi°î
();

70  
	`iŸjs_moduÀ_gë
(
köd
);

71 
	}
}

74 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_moduÀ_gë
(
ModuÀKöd
 
köd
) {

75 
	`IOTJS_ASSERT
(
köd
 < 
MODULE_COUNT
);

76 
	`IOTJS_ASSERT
(!
	`iŸjs_jvÆ_is_undeföed
(&
moduÀs
[
köd
].
jmoduÀ
));

77  &
moduÀs
[
köd
].
jmoduÀ
;

78 
	}
}

	@src/iotjs_module.h

16 #i‚de‡
IOTJS_MODULE_H


17 
	#IOTJS_MODULE_H


	)

19 
	~"iŸjs_bödög.h
"

22 
iŸjs_jvÆ_t
 (*
	tªgi°î_func
)();

25 
	#CONCATENATE
(
x
, ...Ëx##
__VA_ARGS__


	)

27 
	#IF
(
c
Ë
	`CONCATENATE
(
IF_
, c)

	)

28 
	#IF_1
(
ex¥
Ë
	)
expr

29 
	#IF_0
(
ex¥
)

	)

32 
	#E
(
F
, 
UPPER
, 
Camñ
, 
lowî
) \

33 
	`IF
(
ENABLE_MODULE_
##
UPPER
)(
	`F
(UPPER, 
Camñ
, 
lowî
))

	)

36 
	#MAP_MODULE_LIST
(
F
) \

37 
	`E
(
F
, 
ADC
, 
Adc
, 
adc
) \

38 
	`E
(
F
, 
BLEHCISOCKET
, 
BÀhcisockë
, 
bÀhcisockë
) \

39 
	`E
(
F
, 
BUFFER
, 
Buf„r
, 
buf„r
) \

40 
	`E
(
F
, 
CONSOLE
, 
C⁄sﬁe
, 
c⁄sﬁe
) \

41 
	`E
(
F
, 
CONSTANTS
, 
C⁄°™ts
, 
c⁄°™ts
) \

42 
	`E
(
F
, 
DNS
, 
Dns
, 
dns
) \

43 
	`E
(
F
, 
FS
, 
Fs
, 
fs
) \

44 
	`E
(
F
, 
GPIO
, 
Gpio
, 
gpio
) \

45 
	`E
(
F
, 
HTTPPARSER
, 
Hâµ¨£r
, 
hâµ¨£r
) \

46 
	`E
(
F
, 
HTTPS
, 
Hâps
, 
hâps
) \

47 
	`E
(
F
, 
I2C
, 
I2c
, 
i2c
) \

48 
	`E
(
F
, 
PROCESS
, 
Pro˚ss
, 
¥o˚ss
) \

49 
	`E
(
F
, 
PWM
, 
Pwm
, 
pwm
) \

50 
	`E
(
F
, 
SPI
, 
Spi
, 
•i
) \

51 
	`E
(
F
, 
STM32F4DIS
, 
Stm32f4dis
, 
°m32f4dis
) \

52 
	`E
(
F
, 
TESTDRIVER
, 
Te°drivî
, 
ã°drivî
) \

53 
	`E
(
F
, 
TCP
, 
T˝
, 
t˝
) \

54 
	`E
(
F
, 
TIMER
, 
Timî
, 
timî
) \

55 
	`E
(
F
, 
UART
, 
U¨t
, 
u¨t
) \

56 
	`E
(
F
, 
UDP
, 
Udp
, 
udp
)

	)

58 
	#ENUMDEF_MODULE_LIST
(
uµî
, 
Camñ
, 
lowî
Ë
MODULE_
##uµî,

	)

61 
MAP_MODULE_LIST
(
ENUMDEF_MODULE_LIST
)

62 
	mMODULE_COUNT
,

63 } 
	tModuÀKöd
;

65 #unde‡
ENUMDEF_MODULE_LIST


68 
iŸjs_moduÀ_li°_öô
();

70 
iŸjs_moduÀ_li°_˛ónup
();

72 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_moduÀ_öôülize_if_√˚sßry
(
ModuÀKöd
 
köd
);

73 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_moduÀ_gë
(
ModuÀKöd
 
köd
);

	@src/iotjs_objectwrap.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_obje˘wøp.h
"

20 
	$iŸjs_jobje˘wøp_öôülize
(
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
,

21 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
,

22 
JN©iveInfoTy≥
* 
«tive_öfo
) {

23 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_jobje˘wøp_t
, 
jobje˘wøp
);

25 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobje˘
));

29 
_this
->
jobje˘
 = *((
iŸjs_jvÆ_t
*)jobject);

33 
	`iŸjs_jvÆ_£t_obje˘_«tive_h™dÀ
(&
_this
->
jobje˘
, (
uöçå_t
)
jobje˘wøp
,

34 
«tive_öfo
);

35 
	}
}

38 
	$iŸjs_jobje˘wøp_de°roy
(
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
) {

39 
	`IOTJS_VALIDATABLE_STRUCT_DESTRUCTOR_VALIDATE
(
iŸjs_jobje˘wøp_t
,

40 
jobje˘wøp
);

42 
	}
}

45 
iŸjs_jvÆ_t
* 
	$iŸjs_jobje˘wøp_jobje˘
(
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
) {

46 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_jobje˘wøp_t
, 
jobje˘wøp
);

47 
iŸjs_jvÆ_t
* 
jobje˘
 = &
_this
->jobject;

48 
	`IOTJS_ASSERT
((
uöçå_t
)
jobje˘wøp
 ==

49 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jobje˘
));

50 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobje˘
));

51  
jobje˘
;

52 
	}
}

55 
iŸjs_jobje˘wøp_t
* 
	$iŸjs_jobje˘wøp_‰om_jobje˘
(

56 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
) {

57 
iŸjs_jobje˘wøp_t
* 
wøp
 =

58 (
iŸjs_jobje˘wøp_t
*)(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jobje˘
));

59 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
	`iŸjs_jobje˘wøp_jobje˘
(
wøp
)));

60  
wøp
;

61 
	}
}

	@src/iotjs_objectwrap.h

16 #i‚de‡
IOTJS_OBJECTWRAP_H


17 
	#IOTJS_OBJECTWRAP_H


	)

20 
	~"iŸjs_bödög.h
"

26 
iŸjs_jvÆ_t
 
	mjobje˘
;

27 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_jobje˘wøp_t
);

29 
iŸjs_jobje˘wøp_öôülize
(
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
,

30 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
,

31 
JN©iveInfoTy≥
* 
«tive_öfo
);

33 
iŸjs_jobje˘wøp_de°roy
(
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
);

35 
iŸjs_jvÆ_t
* 
iŸjs_jobje˘wøp_jobje˘
(
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
);

36 
iŸjs_jobje˘wøp_t
* 
iŸjs_jobje˘wøp_‰om_jobje˘
(

37 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
);

39 
	#IOTJS_DEFINE_NATIVE_HANDLE_INFO
(
moduÀ
) \

40 c⁄° 
jîry_obje˘_«tive_öfo_t
 
moduÀ
##
_«tive_öfo
 = { \

41 .
‰ì_cb
 = (
jîry_obje˘_«tive_‰ì_ˇŒback_t
)
iŸjs_
##
moduÀ
##
_de°roy
 \

42 }

	)

44 
	#IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
«me
) \

45 
iŸjs_
##
«me
##
	`_de°roy
(iŸjs_##«me##
_t
* 
wøp
); \

46 c⁄° 
jîry_obje˘_«tive_öfo_t
 
this_moduÀ_«tive_öfo
 = { \

47 .
‰ì_cb
 = (
jîry_obje˘_«tive_‰ì_ˇŒback_t
)
iŸjs_
##
«me
##
_de°roy
 \

48 }

	)

	@src/iotjs_reqwrap.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_ªqwøp.h
"

20 
	$iŸjs_ªqwøp_öôülize
(
iŸjs_ªqwøp_t
* 
ªqwøp
,

21 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
,

22 
uv_ªq_t
* 
ªque°
) {

23 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_ªqwøp_t
, 
ªqwøp
);

24 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(
jˇŒback
));

25 
_this
->
jˇŒback
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(jcallback);

26 
_this
->
ªque°
 =Ñequest;

27 
_this
->
ªque°
->
d©a
 = 
ªqwøp
;

28 
	}
}

31 
	$iŸjs_ªqwøp_de°roy
(
iŸjs_ªqwøp_t
* 
ªqwøp
) {

32 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_ªqwøp_t
, 
ªqwøp
);

33 
	`iŸjs_jvÆ_de°roy
(&
_this
->
jˇŒback
);

34 
	}
}

37 
	$iŸjs_ªqwøp_vÆid©e
(
iŸjs_ªqwøp_t
* 
ªqwøp
) {

38 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ªqwøp_t
, 
ªqwøp
);

39 
	`IOTJS_ASSERT
(
_this
->
ªque°
->
d©a
 =
ªqwøp
);

40 
	}
}

43 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_ªqwøp_jˇŒback
(
iŸjs_ªqwøp_t
* 
ªqwøp
) {

44 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ªqwøp_t
, 
ªqwøp
);

45 
	`iŸjs_ªqwøp_vÆid©e
(
ªqwøp
);

46  &
_this
->
jˇŒback
;

47 
	}
}

50 
uv_ªq_t
* 
	$iŸjs_ªqwøp_ªq
(
iŸjs_ªqwøp_t
* 
ªqwøp
) {

51 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_ªqwøp_t
, 
ªqwøp
);

52 
	`iŸjs_ªqwøp_vÆid©e
(
ªqwøp
);

53  
_this
->
ªque°
;

54 
	}
}

57 
iŸjs_ªqwøp_t
* 
	$iŸjs_ªqwøp_‰om_ªque°
(
uv_ªq_t
* 
ªq
) {

58 
iŸjs_ªqwøp_t
* 
ªqwøp
 = 
ªq
->
d©a
;

59 
	`iŸjs_ªqwøp_vÆid©e
(
ªqwøp
);

60  
ªqwøp
;

61 
	}
}

	@src/iotjs_reqwrap.h

16 #i‚de‡
IOTJS_REQWRAP_H


17 
	#IOTJS_REQWRAP_H


	)

20 
	~<uv.h
>

22 
	~"iŸjs_bödög.h
"

31 
iŸjs_jvÆ_t
 
	mjˇŒback
;

32 
uv_ªq_t
* 
	mªque°
;

33 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_ªqwøp_t
);

36 
iŸjs_ªqwøp_öôülize
(
iŸjs_ªqwøp_t
* 
ªqwøp
,

37 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
uv_ªq_t
* 
ªque°
);

38 
iŸjs_ªqwøp_de°roy
(
iŸjs_ªqwøp_t
* 
ªqwøp
);

41 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_ªqwøp_jˇŒback
(
iŸjs_ªqwøp_t
* 
ªqwøp
);

44 
uv_ªq_t
* 
iŸjs_ªqwøp_ªq
(
iŸjs_ªqwøp_t
* 
ªqwøp
);

47 
iŸjs_ªqwøp_t
* 
iŸjs_ªqwøp_‰om_ªque°
(
uv_ªq_t
* 
ªq
);

	@src/iotjs_string.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_°rög.h
"

19 
	~"iŸjs_utû.h
"

21 
	~<°rög.h
>

24 
iŸjs_°rög_t
 
	$iŸjs_°rög_¸óã
() {

25 
iŸjs_°rög_t
 
°r
;

26 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_°rög_t
, &
°r
);

28 
_this
->
size
 = 0;

29 
_this
->
d©a
 = 
NULL
;

31  
°r
;

32 
	}
}

35 
iŸjs_°rög_t
 
	$iŸjs_°rög_¸óã_wôh_size
(c⁄° * 
d©a
, 
size_t
 
size
) {

36 
iŸjs_°rög_t
 
°r
;

37 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_°rög_t
, &
°r
);

39 
_this
->
size
 = size;

41 i‡(
size
 > 0) {

42 
	`IOTJS_ASSERT
(
d©a
 !
NULL
);

43 
_this
->
d©a
 = 
	`iŸjs_buf„r_Æloˇã
(
size
);

44 
	`mem˝y
(
_this
->
d©a
, d©a, 
size
);

46 
_this
->
d©a
 = 
NULL
;

49  
°r
;

50 
	}
}

53 
iŸjs_°rög_t
 
	$iŸjs_°rög_¸óã_wôh_buf„r
(* 
buf„r
, 
size_t
 
size
) {

54 
iŸjs_°rög_t
 
°r
;

55 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_°rög_t
, &
°r
);

57 
_this
->
size
 = size;

59 i‡(
size
 > 0) {

60 
	`IOTJS_ASSERT
(
buf„r
 !
NULL
);

61 
_this
->
d©a
 = 
buf„r
;

63 
_this
->
d©a
 = 
NULL
;

66  
°r
;

67 
	}
}

70 
	$iŸjs_°rög_de°roy
(
iŸjs_°rög_t
* 
°r
) {

71 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_°rög_t
, 
°r
);

73 i‡(
_this
->
d©a
 !
NULL
) {

74 
	`iŸjs_buf„r_ªÀa£
(
_this
->
d©a
);

75 
_this
->
size
 = 0;

77 
	}
}

80 
boﬁ
 
	$iŸjs_°rög_is_em±y
(c⁄° 
iŸjs_°rög_t
* 
°r
) {

81 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_°rög_t
, 
°r
);

83  
_this
->
size
 == 0;

84 
	}
}

87 
	$iŸjs_°rög_make_em±y
(
iŸjs_°rög_t
* 
°r
) {

88 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_°rög_t
, 
°r
);

90 i‡(
_this
->
d©a
 !
NULL
) {

91 
	`iŸjs_buf„r_ªÀa£
(
_this
->
d©a
);

92 
_this
->
size
 = 0;

93 
_this
->
d©a
 = 
NULL
;

95 
	}
}

98 
	$iŸjs_°rög_≠≥nd
(
iŸjs_°rög_t
* 
°r
, c⁄° * 
d©a
, 
size_t
 
size
) {

99 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_°rög_t
, 
°r
);

101 
	`IOTJS_ASSERT
(
d©a
 !
NULL
);

103 i‡(
size
 == 0) {

107 i‡(
_this
->
d©a
 !
NULL
) {

108 
_this
->
d©a
 = 
	`iŸjs_buf„r_ªÆloˇã
(_this->d©a, _this->
size
 + size);

110 
	`IOTJS_ASSERT
(
_this
->
size
 == 0);

111 
_this
->
d©a
 = 
	`iŸjs_buf„r_Æloˇã
(
size
);

114 
	`mem˝y
(
_this
->
d©a
 + _this->
size
, data, size);

115 
_this
->
size
 += size;

116 
	}
}

119 c⁄° * 
	$iŸjs_°rög_d©a
(c⁄° 
iŸjs_°rög_t
* 
°r
) {

120 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_°rög_t
, 
°r
);

121 i‡(
_this
->
d©a
 =
NULL
) {

125  
_this
->
d©a
;

126 
	}
}

129 
	$iŸjs_°rög_size
(c⁄° 
iŸjs_°rög_t
* 
°r
) {

130 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_°rög_t
, 
°r
);

131  
_this
->
size
;

132 
	}
}

	@src/iotjs_string.h

16 #i‚de‡
IOTJS_STRING_H


17 
	#IOTJS_STRING_H


	)

21 
size_t
 
	msize
;

22 * 
	md©a
;

23 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_°rög_t
);

26 
iŸjs_°rög_t
 
iŸjs_°rög_¸óã
();

27 
iŸjs_°rög_t
 
iŸjs_°rög_¸óã_wôh_size
(c⁄° * 
d©a
, 
size_t
 
size
);

28 
iŸjs_°rög_t
 
iŸjs_°rög_¸óã_wôh_buf„r
(* 
buf„r
, 
size_t
 
size
);

31 
iŸjs_°rög_de°roy
(
iŸjs_°rög_t
* 
°r
);

34 
boﬁ
 
iŸjs_°rög_is_em±y
(c⁄° 
iŸjs_°rög_t
* 
°r
);

37 
iŸjs_°rög_make_em±y
(
iŸjs_°rög_t
* 
°r
);

40 
iŸjs_°rög_≠≥nd
(
iŸjs_°rög_t
* 
°r
, c⁄° * 
d©a
, 
size_t
 
size
);

43 c⁄° * 
iŸjs_°rög_d©a
(c⁄° 
iŸjs_°rög_t
* 
°r
);

45 
iŸjs_°rög_size
(c⁄° 
iŸjs_°rög_t
* 
°r
);

	@src/iotjs_string_ext.c

17 
	~"iŸjs_def.h
"

22 
	~"iŸjs_°rög_ext.öl.h
"

27 
	#MAGICSTR_EX_DEF
(
NAME
, 
STRING
) \

28 c⁄° 
jîry_magic_°rög_ex_
##
NAME
[] = 
STRING
;

	)

30 
	gJERRY_MAGIC_STRING_ITEMS


32 #unde‡
MAGICSTR_EX_DEF


38 c⁄° 
jîry_Àngth_t
 
	gmagic_°rög_Àngths
[] = {

39 
	#MAGICSTR_EX_DEF
(
NAME
, 
STRING
) \

40 (
jîry_Àngth_t
)((
jîry_magic_°rög_ex_
##
NAME
Ë- 1u),

	)

42 
JERRY_MAGIC_STRING_ITEMS


44 #unde‡
MAGICSTR_EX_DEF


51 c⁄° 
jîry_ch¨_±r_t
 
	gmagic_°rög_ôems
[] = {

52 
	#MAGICSTR_EX_DEF
(
NAME
, 
STRING
) \

53 (c⁄° 
jîry_ch¨_±r_t
Ë
jîry_magic_°rög_ex_
##
NAME
,

	)

55 
JERRY_MAGIC_STRING_ITEMS


57 #unde‡
MAGICSTR_EX_DEF


61 
	$iŸjs_ªgi°î_jîry_magic_°rög
() {

62 
uöt32_t
 
num_magic_°rög_ôems
 =

63 (
uöt32_t
)((
magic_°rög_ôems
Ë/ (
jîry_ch¨_±r_t
));

64 
	`jîry_ªgi°î_magic_°rögs
(
magic_°rög_ôems
, 
num_magic_°rög_ôems
,

65 
magic_°rög_Àngths
);

66 
	}
}

	@src/iotjs_string_ext.h

16 #i‚de‡
IOTJS_STRING_EXT_H


17 
	#IOTJS_STRING_EXT_H


	)

20 
iŸjs_ªgi°î_jîry_magic_°rög
();

	@src/iotjs_util.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_utû.h
"

20 
	~<°dio.h
>

21 
	~<°dlib.h
>

22 
	~<°rög.h
>

24 #i‡
deföed
(
__löux__
)

25 
	~<execöfo.h
>

28 
iŸjs_°rög_t
 
	$iŸjs_fûe_ªad
(c⁄° * 
∑th
) {

29 
FILE
* 
fûe
 = 
	`f›í
(
∑th
, "rb");

30 i‡(
fûe
 =
NULL
) {

31 
iŸjs_°rög_t
 
em±y_c⁄ã¡
 = 
	`iŸjs_°rög_¸óã
();

32  
em±y_c⁄ã¡
;

35 
	`f£ek
(
fûe
, 0, 
SEEK_END
);

36 
·ñl_ªt
 = 
	`·ñl
(
fûe
);

37 
	`IOTJS_ASSERT
(
·ñl_ªt
 >= 0);

38 
size_t
 
Àn
 = (size_t)
·ñl_ªt
;

39 
	`f£ek
(
fûe
, 0, 
SEEK_SET
);

41 * 
buf„r
 = 
	`iŸjs_buf„r_Æloˇã
(
Àn
 + 1);

43 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

44 * 
±r
 = 
buf„r
;

45 
ƒód
 = 0;

46 
ªad
 = 0;

48 (
ƒód
 = 
	`‰ód
(
±r
, 1, 
IOTJS_MAX_READ_BUFFER_SIZE
, 
fûe
)) > 0) {

49 
ªad
 +
ƒód
;

50 
±r
 = 
buf„r
 + 
ªad
;

53 
size_t
 
ªad
 = 
	`‰ód
(
buf„r
, 1, 
Àn
, 
fûe
);

55 
	`IOTJS_ASSERT
(
ªad
 =
Àn
);

57 *(
buf„r
 + 
Àn
) = 0;

59 
	`f˛o£
(
fûe
);

61 
iŸjs_°rög_t
 
c⁄ã¡s
 = 
	`iŸjs_°rög_¸óã_wôh_buf„r
(
buf„r
, 
Àn
);

63  
c⁄ã¡s
;

64 
	}
}

67 * 
	$iŸjs_buf„r_Æloˇã
(
size_t
 
size
) {

68 * 
buf„r
 = (*)(
	`ˇŒoc
(
size
, ()));

69 
	`IOTJS_ASSERT
(
buf„r
 !
NULL
);

70  
buf„r
;

71 
	}
}

74 * 
	$iŸjs_buf„r_ªÆloˇã
(* 
buf„r
, 
size_t
 
size
) {

75 
	`IOTJS_ASSERT
(
buf„r
 !
NULL
);

76  (*)(
	`ªÆloc
(
buf„r
, 
size
));

77 
	}
}

80 
	$iŸjs_buf„r_ªÀa£
(* 
buf„r
) {

81 
	`IOTJS_ASSERT
(
buf„r
 !
NULL
);

82 
	`‰ì
(
buf„r
);

83 
	}
}

85 
	$¥öt_°ackåa˚
() {

86 #i‡
	`deföed
(
__löux__
Ë&& deföed(
DEBUG
)

88 c⁄° 
numOfSèckTø˚
 = 100;

89 * 
buf„r
[
numOfSèckTø˚
];

90 
comm™d
[256];

92 
≈ås
 = 
	`backåa˚
(
buf„r
, 
numOfSèckTø˚
);

93 ** 
°rögs
 = 
	`backåa˚_symbﬁs
(
buf„r
, 
≈ås
);

95 i‡(
°rögs
 =
NULL
) {

96 
	`≥º‹
("backtrace_symbols");

97 
	`exô
(
EXIT_FAILURE
);

100 
	`¥ötf
("\n[Backtrace]:\n");

101 
j
 = 0; j < 
≈ås
 - 2; j++) {

102 
idx
 = 0;

103 
°rögs
[
j
][
idx
] != '\0') {

104 i‡(
°rögs
[
j
][
idx
] == '(') {

107 
idx
++;

109 
	`¢¥ötf
(
comm™d
, (comm™d), "addr2löê%∞-ê%.*s", 
buf„r
[
j
], 
idx
,

110 
°rögs
[
j
]);

112 i‡(
	`sy°em
(
comm™d
)) {

117 
	`‰ì
(
°rögs
);

119 
	}
}

121 
	$f‹˚_ãrmö©e
() {

122 
	`exô
(
EXIT_FAILURE
);

123 
	}
}

	@src/iotjs_util.h

16 #i‚de‡
IOTJS_UTIL_H


17 
	#IOTJS_UTIL_H


	)

20 
	~"iŸjs_°rög.h
"

24 
iŸjs_°rög_t
 
iŸjs_fûe_ªad
(c⁄° * 
∑th
);

26 * 
iŸjs_buf„r_Æloˇã
(
size_t
 
size
);

27 * 
iŸjs_buf„r_ªÆloˇã
(* 
buf„r
, 
size_t
 
size
);

28 
iŸjs_buf„r_ªÀa£
(* 
buff
);

30 
	#IOTJS_ALLOC
(
ty≥
) \

31 (
ty≥
*)
	`iŸjs_buf„r_Æloˇã
(—y≥))

	)

33 
	#IOTJS_RELEASE
(
±r
) \

34 
	`iŸjs_buf„r_ªÀa£
((*)
±r
)

	)

	@src/modules/iotjs_module_adc.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_adc.h
"

18 
	~"iŸjs_obje˘wøp.h
"

21 
JN©iveInfoTy≥
 
	gthis_moduÀ_«tive_öfo
 = {.
‰ì_cb
 = 
NULL
 };

24 
iŸjs_adc_t
* 
iŸjs_adc_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jadc
);

27 
iŸjs_adc_t
* 
	$iŸjs_adc_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jadc
) {

28 
iŸjs_adc_t
* 
adc
 = 
	`IOTJS_ALLOC
(iotjs_adc_t);

29 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_adc_t
, 
adc
);

30 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
jadc
,

31 &
this_moduÀ_«tive_öfo
);

33  
adc
;

34 
	}
}

37 
	$iŸjs_adc_de°roy
(
iŸjs_adc_t
* 
adc
) {

38 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_adc_t
, 
adc
);

39 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

40 #i‡
	`deföed
(
__löux__
)

41 
	`iŸjs_°rög_de°roy
(&
_this
->
devi˚
);

43 
	`IOTJS_RELEASE
(
adc
);

44 
	}
}

47 
	#THIS
 
iŸjs_adc_ªqwøp_t
* 
adc_ªqwøp


	)

50 
iŸjs_adc_ªqwøp_t
* 
	$iŸjs_adc_ªqwøp_¸óã
(

51 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
iŸjs_adc_t
* 
adc
, 
AdcOp
 
›
) {

52 
iŸjs_adc_ªqwøp_t
* 
adc_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_adc_reqwrap_t);

53 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

55 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

57 
_this
->
ªq_d©a
.
›
 = op;

58 
_this
->
adc_ö°™˚
 = 
adc
;

59  
adc_ªqwøp
;

60 
	}
}

62 
	$iŸjs_adc_ªqwøp_de°roy
(
THIS
) {

63 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

64 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

65 
	`IOTJS_RELEASE
(
adc_ªqwøp
);

66 
	}
}

69 
	$iŸjs_adc_ªqwøp_di•©ched
(
THIS
) {

70 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

71 
	`iŸjs_adc_ªqwøp_de°roy
(
adc_ªqwøp
);

72 
	}
}

75 
uv_w‹k_t
* 
	$iŸjs_adc_ªqwøp_ªq
(
THIS
) {

76 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

77  &
_this
->
ªq
;

78 
	}
}

81 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_adc_ªqwøp_jˇŒback
(
THIS
) {

82 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

83  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

84 
	}
}

87 
iŸjs_adc_t
* 
	$iŸjs_adc_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jadc
) {

88 
uöçå_t
 
h™dÀ
 = 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jadc
);

89  (
iŸjs_adc_t
*)
h™dÀ
;

90 
	}
}

93 
iŸjs_adc_ªqwøp_t
* 
	$iŸjs_adc_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
) {

94  (
iŸjs_adc_ªqwøp_t
*)(
	`iŸjs_ªqwøp_‰om_ªque°
((
uv_ªq_t
*)
ªq
));

95 
	}
}

98 
iŸjs_adc_ªqd©a_t
* 
	$iŸjs_adc_ªqwøp_d©a
(
THIS
) {

99 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

100  &
_this
->
ªq_d©a
;

101 
	}
}

104 
iŸjs_adc_t
* 
	$iŸjs_adc_ö°™˚_‰om_ªqwøp
(
THIS
) {

105 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_ªqwøp_t
, 
adc_ªqwøp
);

106  
_this
->
adc_ö°™˚
;

107 
	}
}

110 #unde‡
THIS


113 
	$iŸjs_adc_a·î_w‹k
(
uv_w‹k_t
* 
w‹k_ªq
, 
°©us
) {

114 
iŸjs_adc_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_adc_ªqwøp_‰om_ªque°
(
w‹k_ªq
);

115 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_ªqwøp_t
, 
ªq_wøp
);

117 
iŸjs_adc_ªqd©a_t
* 
ªq_d©a
 = &
_this
->req_data;

118 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

119 
boﬁ
 
ªsu…
 = 
ªq_d©a
->result;

121 i‡(
°©us
) {

122 
iŸjs_jvÆ_t
 
îr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
("SystemÉrror");

123 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

124 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

126 
ªq_d©a
->
›
) {

127 
kAdcOpO≥n
:

128 i‡(!
ªsu…
) {

129 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo open ADC device");

131 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

134 
kAdcOpRód
:

135 i‡(!
ªsu…
) {

136 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "CannotÑead from ADC device");

138 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

139 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
ªq_d©a
->
vÆue
);

142 
kAdcOpClo£
:

143 i‡(!
ªsu…
) {

144 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "Cannot close ADC device");

146 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

150 
	`IOTJS_ASSERT
(!"Unreachable");

156 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_adc_ªqwøp_jˇŒback
(
ªq_wøp
);

157 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

159 i‡(
ªq_d©a
->
›
 =
kAdcOpClo£
) {

160 
	`iŸjs_adc_de°roy
(
_this
->
adc_ö°™˚
);

163 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

164 
	`iŸjs_adc_ªqwøp_di•©ched
(
ªq_wøp
);

165 
	}
}

168 
	$iŸjs_adc_ªad_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

169 
ADC_WORKER_INIT
;

170 
öt32_t
 
vÆue
 = 
	`iŸjs_adc_ªad
(
adc
);

172 i‡(
vÆue
 < 0) {

173 
ªq_d©a
->
ªsu…
 = 
Ál£
;

177 
ªq_d©a
->
vÆue
 = value;

178 
ªq_d©a
->
ªsu…
 = 
åue
;

179 
	}
}

182 
	$iŸjs_adc_˛o£_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

183 
ADC_WORKER_INIT
;

186 i‡(!
	`iŸjs_adc_˛o£
(
adc
)) {

187 
ªq_d©a
->
ªsu…
 = 
Ál£
;

191 
ªq_d©a
->
ªsu…
 = 
åue
;

192 
	}
}

195 
	#ADC_ASYNC
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
) \

197 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

198 
iŸjs_adc_ªqwøp_t
* 
ªq_wøp
 = \

199 
	`iŸjs_adc_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

200 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_adc_ªqwøp_ªq
(
ªq_wøp
); \

201 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_adc_
##
ˇŒ
##
_w‹kî
, 
iŸjs_adc_a·î_w‹k
); \

202 } 0)

	)

204 
	$JHANDLER_FUNCTION
(
AdcC⁄°ru˘‹
) {

205 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

208 c⁄° 
iŸjs_jvÆ_t
* 
jadc
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

209 
iŸjs_adc_t
* 
adc
 = 
	`iŸjs_adc_¸óã
(
jadc
);

210 
	`IOTJS_ASSERT
(
adc
 =
	`iŸjs_adc_ö°™˚_‰om_jvÆ
(
jadc
));

211 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

213 c⁄° 
iŸjs_jvÆ_t
* 
jc⁄figuøti⁄
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
obje˘
);

214 i‡(
jc⁄figuøti⁄
 =
NULL
) {

215 
	`JHANDLER_THROW
(
TYPE
, "Badárguments - configuration should be Object");

219 #i‡
	`deföed
(
__löux__
)

220 
	`DJHANDLER_GET_REQUIRED_CONF_VALUE
(
jc⁄figuøti⁄
, 
_this
->
devi˚
,

221 
IOTJS_MAGIC_STRING_DEVICE
, 
°rög
);

222 #ñi‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

223 
	`DJHANDLER_GET_REQUIRED_CONF_VALUE
(
jc⁄figuøti⁄
, 
_this
->
pö
,

224 
IOTJS_MAGIC_STRING_PIN
, 
numbî
);

227 i‡(
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
jh™dÀr
) > 1) {

228 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 1);

229 i‡(
	`iŸjs_jvÆ_is_fun˘i⁄
(
jˇŒback
)) {

230 
	`ADC_ASYNC
(
›í
, 
adc
, 
jˇŒback
, 
kAdcOpO≥n
);

232 
	`JHANDLER_THROW
(
TYPE
, "Badárguments - callback should be Function");

236 
iŸjs_jvÆ_t
 
jdummyˇŒback
 =

237 
	`iŸjs_jvÆ_¸óã_fun˘i⁄
(&
iŸjs_jvÆ_dummy_fun˘i⁄
);

238 
	`ADC_ASYNC
(
›í
, 
adc
, &
jdummyˇŒback
, 
kAdcOpO≥n
);

239 
	`iŸjs_jvÆ_de°roy
(&
jdummyˇŒback
);

241 
	}
}

244 
	$JHANDLER_FUNCTION
(
Ród
) {

245 
	`JHANDLER_DECLARE_THIS_PTR
(
adc
,ádc);

246 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

248 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

250 i‡(
jˇŒback
 =
NULL
) {

251 
	`JHANDLER_THROW
(
TYPE
, "Badárguments - callbackÑequired");

253 
	`ADC_ASYNC
(
ªad
, 
adc
, 
jˇŒback
, 
kAdcOpRód
);

255 
	}
}

257 
	$JHANDLER_FUNCTION
(
RódSync
) {

258 
	`JHANDLER_DECLARE_THIS_PTR
(
adc
,ádc);

260 
öt32_t
 
vÆue
 = 
	`iŸjs_adc_ªad
(
adc
);

261 i‡(
vÆue
 < 0) {

262 
	`JHANDLER_THROW
(
COMMON
, "ADC Read Error");

264 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
vÆue
);

266 
	}
}

268 
	$JHANDLER_FUNCTION
(
Clo£
) {

269 
	`JHANDLER_DECLARE_THIS_PTR
(
adc
,ádc);

270 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

272 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 =

273 (
iŸjs_jvÆ_t
*)
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

275 i‡(
jˇŒback
 =
NULL
) {

276 
iŸjs_jvÆ_t
 
jdummyˇŒback
 =

277 
	`iŸjs_jvÆ_¸óã_fun˘i⁄
(&
iŸjs_jvÆ_dummy_fun˘i⁄
);

278 
	`ADC_ASYNC
(
˛o£
, 
adc
, &
jdummyˇŒback
, 
kAdcOpClo£
);

279 
	`iŸjs_jvÆ_de°roy
(&
jdummyˇŒback
);

281 
	`ADC_ASYNC
(
˛o£
, 
adc
, 
jˇŒback
, 
kAdcOpClo£
);

284 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

285 
	}
}

287 
	$JHANDLER_FUNCTION
(
Clo£Sync
) {

288 
	`JHANDLER_DECLARE_THIS_PTR
(
adc
,ádc);

290 
boﬁ
 
ªt
 = 
	`iŸjs_adc_˛o£
(
adc
);

291 
	`iŸjs_adc_de°roy
(
adc
);

292 i‡(!
ªt
) {

293 
	`JHANDLER_THROW
(
COMMON
, "ADC Close Error");

296 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

297 
	}
}

299 
iŸjs_jvÆ_t
 
	$InôAdc
() {

300 
iŸjs_jvÆ_t
 
jadc
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

301 
iŸjs_jvÆ_t
 
jadcC⁄°ru˘‹
 =

302 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
AdcC⁄°ru˘‹
);

303 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jadc
, 
IOTJS_MAGIC_STRING_ADC
, &
jadcC⁄°ru˘‹
);

305 
iŸjs_jvÆ_t
 
j¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

306 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_READ
, 
Ród
);

307 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_READSYNC
, 
RódSync
);

308 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

309 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSESYNC
, 
Clo£Sync
);

310 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jadcC⁄°ru˘‹
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

311 &
j¥ŸŸy≥
);

313 
	`iŸjs_jvÆ_de°roy
(&
j¥ŸŸy≥
);

314 
	`iŸjs_jvÆ_de°roy
(&
jadcC⁄°ru˘‹
);

316  
jadc
;

317 
	}
}

	@src/modules/iotjs_module_adc.h

17 #i‚de‡
IOTJS_MODULE_ADC_H


18 
	#IOTJS_MODULE_ADC_H


	)

20 
	~"iŸjs_def.h
"

21 
	~"iŸjs_obje˘wøp.h
"

22 
	~"iŸjs_ªqwøp.h
"

26 
	mkAdcOpO≥n
,

27 
	mkAdcOpRód
,

28 
	mkAdcOpClo£
,

29 } 
	tAdcOp
;

33 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

35 #i‡
deföed
(
__löux__
)

36 
iŸjs_°rög_t
 
	mdevi˚
;

37 #ñi‡
deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

38 
uöt32_t
 
	mpö
;

40 
öt32_t
 
	mdevi˚_fd
;

41 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_adc_t
);

45 
öt32_t
 
	mvÆue
;

47 
boﬁ
 
	mªsu…
;

48 
AdcOp
 
	m›
;

49 } 
	tiŸjs_adc_ªqd©a_t
;

53 
iŸjs_ªqwøp_t
 
	mªqwøp
;

54 
uv_w‹k_t
 
	mªq
;

55 
iŸjs_adc_ªqd©a_t
 
	mªq_d©a
;

56 
iŸjs_adc_t
* 
	madc_ö°™˚
;

57 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_adc_ªqwøp_t
);

60 
	#THIS
 
iŸjs_adc_ªqwøp_t
* 
adc_ªqwøp


	)

62 
iŸjs_adc_ªqwøp_t
* 
iŸjs_adc_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
);

63 
iŸjs_adc_ªqd©a_t
* 
iŸjs_adc_ªqwøp_d©a
(
THIS
);

65 
iŸjs_adc_t
* 
iŸjs_adc_ö°™˚_‰om_ªqwøp
(
THIS
);

67 #unde‡
THIS


70 
	#ADC_WORKER_INIT
 \

71 
iŸjs_adc_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_adc_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

72 
iŸjs_adc_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_adc_ªqwøp_d©a
(
ªq_wøp
); \

73 
iŸjs_adc_t
* 
adc
 = 
	`iŸjs_adc_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

	)

76 
öt32_t
 
iŸjs_adc_ªad
(
iŸjs_adc_t
* 
adc
);

77 
boﬁ
 
iŸjs_adc_˛o£
(
iŸjs_adc_t
* 
adc
);

78 
iŸjs_adc_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

	@src/modules/iotjs_module_blehcisocket.c

37 
	~"iŸjs_def.h
"

38 
	~"iŸjs_moduÀ_bÀhcisockë.h
"

39 
	~"iŸjs_moduÀ_buf„r.h
"

40 
	~<°dio.h
>

41 
	~<°dlib.h
>

42 
	~<°rög.h
>

45 
	#THIS
 
iŸjs_bÀhcisockë_t
* 
bÀhcisockë


	)

48 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
bÀhcisockë
);

51 
iŸjs_bÀhcisockë_t
* 
	$iŸjs_bÀhcisockë_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jbÀ
) {

52 
THIS
 = 
	`IOTJS_ALLOC
(
iŸjs_bÀhcisockë_t
);

53 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

55 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
jbÀ
,

56 &
this_moduÀ_«tive_öfo
);

58 
	`iŸjs_bÀhcisockë_öôülize
(
bÀhcisockë
);

60  
bÀhcisockë
;

61 
	}
}

64 
iŸjs_bÀhcisockë_t
* 
	$iŸjs_bÀhcisockë_ö°™˚_‰om_jvÆ
(

65 c⁄° 
iŸjs_jvÆ_t
* 
jbÀ
) {

66 
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
 = 
	`iŸjs_jobje˘wøp_‰om_jobje˘
(
jbÀ
);

67  (
iŸjs_bÀhcisockë_t
*)
jobje˘wøp
;

68 
	}
}

71 
	$iŸjs_bÀhcisockë_de°roy
(
THIS
) {

72 
	`iŸjs_bÀhcisockë_˛o£
(
bÀhcisockë
);

74 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

75 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

76 
	`IOTJS_RELEASE
(
bÀhcisockë
);

77 
	}
}

80 
	$JHANDLER_FUNCTION
(
Sèπ
) {

81 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

82 
	`DJHANDLER_CHECK_ARGS
(0);

84 
	`iŸjs_bÀhcisockë_°¨t
(
bÀhcisockë
);

86 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
jh™dÀr
);

87 
	}
}

90 
	$JHANDLER_FUNCTION
(
BödRaw
) {

91 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

92 
	`JHANDLER_CHECK
(
	`ge
(
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
jh™dÀr
), 1));

94 
devId
 = 0;

95 * 
pDevId
 = 
NULL
;

97 c⁄° 
iŸjs_jvÆ_t
* 
øw
 = 
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 0);

98 i‡(
	`iŸjs_jvÆ_is_numbî
(
øw
)) {

99 
devId
 = 
	`iŸjs_jvÆ_as_numbî
(
øw
);

100 
pDevId
 = &
devId
;

103 
ªt
 = 
	`iŸjs_bÀhcisockë_bödRaw
(
bÀhcisockë
, 
pDevId
);

105 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
ªt
);

106 
	}
}

109 
	$JHANDLER_FUNCTION
(
BödU£r
) {

110 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

111 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

113 
devId
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

114 * 
pDevId
 = &
devId
;

116 
ªt
 = 
	`iŸjs_bÀhcisockë_bödU£r
(
bÀhcisockë
, 
pDevId
);

118 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
ªt
);

119 
	}
}

122 
	$JHANDLER_FUNCTION
(
BödC⁄åﬁ
) {

123 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

124 
	`DJHANDLER_CHECK_ARGS
(0);

126 
	`iŸjs_bÀhcisockë_bödC⁄åﬁ
(
bÀhcisockë
);

128 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
jh™dÀr
);

129 
	}
}

132 
	$JHANDLER_FUNCTION
(
IsDevUp
) {

133 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

134 
	`DJHANDLER_CHECK_ARGS
(0);

136 
boﬁ
 
ªt
 = 
	`iŸjs_bÀhcisockë_isDevUp
(
bÀhcisockë
);

138 
	`iŸjs_jh™dÀr_ªtu∫_boﬁón
(
jh™dÀr
, 
ªt
);

139 
	}
}

142 
	$JHANDLER_FUNCTION
(
SëFûãr
) {

143 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

144 
	`DJHANDLER_CHECK_ARGS
(1, 
obje˘
);

146 
iŸjs_buf„rwøp_t
* 
buf„r
 =

147 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
	`JHANDLER_GET_ARG
(0, 
obje˘
));

149 
	`iŸjs_bÀhcisockë_£tFûãr
(
bÀhcisockë
, 
	`iŸjs_buf„rwøp_buf„r
(
buf„r
),

150 
	`iŸjs_buf„rwøp_Àngth
(
buf„r
));

152 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
jh™dÀr
);

153 
	}
}

156 
	$JHANDLER_FUNCTION
(
St›
) {

157 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

158 
	`DJHANDLER_CHECK_ARGS
(0);

160 
	`iŸjs_bÀhcisockë_°›
(
bÀhcisockë
);

162 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
jh™dÀr
);

163 
	}
}

166 
	$JHANDLER_FUNCTION
(
Wrôe
) {

167 
	`JHANDLER_DECLARE_THIS_PTR
(
bÀhcisockë
, blehcisocket);

168 
	`DJHANDLER_CHECK_ARGS
(1, 
obje˘
);

170 
iŸjs_buf„rwøp_t
* 
buf„r
 =

171 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
	`JHANDLER_GET_ARG
(0, 
obje˘
));

173 
	`iŸjs_bÀhcisockë_wrôe
(
bÀhcisockë
, 
	`iŸjs_buf„rwøp_buf„r
(
buf„r
),

174 
	`iŸjs_buf„rwøp_Àngth
(
buf„r
));

176 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
jh™dÀr
);

177 
	}
}

180 
	$JHANDLER_FUNCTION
(
BÀHciSockëC⁄s
) {

181 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

182 
	`DJHANDLER_CHECK_ARGS
(0);

185 c⁄° 
iŸjs_jvÆ_t
* 
jbÀhcisockë
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

186 
iŸjs_bÀhcisockë_t
* 
bÀhcisockë
 = 
	`iŸjs_bÀhcisockë_¸óã
(
jbÀhcisockë
);

187 
	`IOTJS_ASSERT
(
bÀhcisockë
 ==

188 (
iŸjs_bÀhcisockë_t
*)(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(

189 
jbÀhcisockë
)));

190 
	}
}

193 
iŸjs_jvÆ_t
 
	$InôBÀhcisockë
() {

194 
iŸjs_jvÆ_t
 
jbÀhcisockëC⁄s
 =

195 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
BÀHciSockëC⁄s
);

197 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

199 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_START
, 
Sèπ
);

200 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_BINDRAW
, 
BödRaw
);

201 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_BINDUSER
, 
BödU£r
);

202 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_BINDCONTROL
,

203 
BödC⁄åﬁ
);

204 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_ISDEVUP
, 
IsDevUp
);

205 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETFILTER
, 
SëFûãr
);

206 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_STOP
, 
St›
);

207 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

209 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jbÀhcisockëC⁄s
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

210 &
¥ŸŸy≥
);

212 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

214  
jbÀhcisockëC⁄s
;

215 
	}
}

	@src/modules/iotjs_module_blehcisocket.h

37 #i‚de‡
IOTJS_MODULE_BLE_HCI_SOCKET_H


38 
	#IOTJS_MODULE_BLE_HCI_SOCKET_H


	)

40 
	~"iŸjs_def.h
"

41 
	~"iŸjs_obje˘wøp.h
"

42 
	~"iŸjs_ªqwøp.h
"

45 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

47 
	m_mode
;

48 
	m_sockë
;

49 
	m_devId
;

50 
uv_pﬁl_t
 
	m_pﬁlH™dÀ
;

51 
	m_l2sockës
[1024];

52 
	m_l2sockëCou¡
;

53 
uöt8_t
 
	m_addªss
[6];

54 
uöt8_t
 
	m_addªssTy≥
;

55 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_bÀhcisockë_t
);

58 
	#THIS
 
iŸjs_bÀhcisockë_t
* 
iŸjs_bÀhcisockë


	)

61 
iŸjs_bÀhcisockë_t
* 
iŸjs_bÀhcisockë_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jbÀ
);

62 
iŸjs_bÀhcisockë_t
* 
iŸjs_bÀhcisockë_ö°™˚_‰om_jvÆ
(

63 c⁄° 
iŸjs_jvÆ_t
* 
jbÀ
);

66 
iŸjs_bÀhcisockë_öôülize
(
THIS
);

67 
iŸjs_bÀhcisockë_˛o£
(
THIS
);

68 
iŸjs_bÀhcisockë_°¨t
(
THIS
);

69 
iŸjs_bÀhcisockë_bödRaw
(
THIS
, * 
devId
);

70 
iŸjs_bÀhcisockë_bödU£r
(
THIS
, * 
devId
);

71 
iŸjs_bÀhcisockë_bödC⁄åﬁ
(
THIS
);

72 
boﬁ
 
iŸjs_bÀhcisockë_isDevUp
(
THIS
);

73 
iŸjs_bÀhcisockë_£tFûãr
(
THIS
, * 
d©a
, 
size_t
 
Àngth
);

74 
iŸjs_bÀhcisockë_pﬁl
(
THIS
);

75 
iŸjs_bÀhcisockë_°›
(
THIS
);

76 
iŸjs_bÀhcisockë_wrôe
(
THIS
, * 
d©a
, 
size_t
 
Àngth
);

77 
iŸjs_bÀhcisockë_emôEºnoEº‹
(
THIS
);

78 
iŸjs_bÀhcisockë_devIdF‹
(
THIS
, * 
pDevId
, 
boﬁ
 
isUp
);

79 
iŸjs_bÀhcisockë_kî√lDisc⁄√˘W‹kArounds
(
THIS
, 
Àngth
,

80 * 
d©a
);

82 #unde‡
THIS


84 
iŸjs_bÀhcisockë_pﬁl_cb
(
uv_pﬁl_t
* 
h™dÀ
, 
°©us
, 
evíts
);

	@src/modules/iotjs_module_buffer.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_buf„r.h
"

19 
	~<m©h.h
>

20 
	~<°dlib.h
>

21 
	~<°rög.h
>

24 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
buf„rwøp
);

27 
iŸjs_buf„rwøp_t
* 
	$iŸjs_buf„rwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jbuûtö
,

28 
size_t
 
Àngth
) {

29 
iŸjs_buf„rwøp_t
* 
buf„rwøp
 = 
	`IOTJS_ALLOC
(iotjs_bufferwrap_t);

30 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

32 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
jbuûtö
,

33 &
this_moduÀ_«tive_öfo
);

34 i‡(
Àngth
 > 0) {

35 
_this
->
Àngth
 =Üength;

36 
_this
->
buf„r
 = 
	`iŸjs_buf„r_Æloˇã
(
Àngth
);

37 
	`IOTJS_ASSERT
(
_this
->
buf„r
 !
NULL
);

39 
_this
->
Àngth
 = 0;

40 
_this
->
buf„r
 = 
NULL
;

43 
	`IOTJS_ASSERT
(

44 
buf„rwøp
 ==

45 (
iŸjs_buf„rwøp_t
*)(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jbuûtö
)));

47  
buf„rwøp
;

48 
	}
}

51 
	$iŸjs_buf„rwøp_de°roy
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
) {

52 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

53 i‡(
_this
->
buf„r
 !
NULL
) {

54 
	`iŸjs_buf„r_ªÀa£
(
_this
->
buf„r
);

56 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

57 
	`IOTJS_RELEASE
(
buf„rwøp
);

58 
	}
}

61 
iŸjs_buf„rwøp_t
* 
	$iŸjs_buf„rwøp_‰om_jbuûtö
(

62 c⁄° 
iŸjs_jvÆ_t
* 
jbuûtö
) {

63 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jbuûtö
));

64 
iŸjs_buf„rwøp_t
* 
buf„r
 =

65 (
iŸjs_buf„rwøp_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jbuûtö
);

66 
	`IOTJS_ASSERT
(
buf„r
 !
NULL
);

67  
buf„r
;

68 
	}
}

71 
iŸjs_buf„rwøp_t
* 
	$iŸjs_buf„rwøp_‰om_jbuf„r
(c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
) {

72 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jbuf„r
));

73 
iŸjs_jvÆ_t
 
jbuûtö
 =

74 
	`iŸjs_jvÆ_gë_¥›îty
(
jbuf„r
, 
IOTJS_MAGIC_STRING__BUILTIN
);

75 
iŸjs_buf„rwøp_t
* 
buf„r
 = 
	`iŸjs_buf„rwøp_‰om_jbuûtö
(&
jbuûtö
);

76 
	`iŸjs_jvÆ_de°roy
(&
jbuûtö
);

77  
buf„r
;

78 
	}
}

81 
iŸjs_jvÆ_t
* 
	$iŸjs_buf„rwøp_jbuûtö
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
) {

82 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

83  
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

84 
	}
}

87 
iŸjs_jvÆ_t
 
	$iŸjs_buf„rwøp_jbuf„r
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
) {

88 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

89 
iŸjs_jvÆ_t
* 
jbuûtö
 = 
	`iŸjs_buf„rwøp_jbuûtö
(
buf„rwøp
);

90  
	`iŸjs_jvÆ_gë_¥›îty
(
jbuûtö
, 
IOTJS_MAGIC_STRING__BUFFER
);

91 
	}
}

94 * 
	$iŸjs_buf„rwøp_buf„r
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
) {

95 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

96  
_this
->
buf„r
;

97 
	}
}

100 
size_t
 
	$iŸjs_buf„rwøp_Àngth
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
) {

101 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

102 #i‚de‡
NDEBUG


103 
iŸjs_jvÆ_t
 
jbuf
 = 
	`iŸjs_buf„rwøp_jbuf„r
(
buf„rwøp
);

104 
iŸjs_jvÆ_t
 
jÀngth
 =

105 
	`iŸjs_jvÆ_gë_¥›îty
(&
jbuf
, 
IOTJS_MAGIC_STRING_LENGTH
);

106 
size_t
 
Àngth
 = 
	`iŸjs_jvÆ_as_numbî
(&
jÀngth
);

107 
	`IOTJS_ASSERT
(
Àngth
 =
_this
->length);

108 
	`iŸjs_jvÆ_de°roy
(&
jbuf
);

109 
	`iŸjs_jvÆ_de°roy
(&
jÀngth
);

111  
_this
->
Àngth
;

112 
	}
}

115 
size_t
 
	$bound_ønge
(
size_t
 
ödex
, size_à
low
, size_à
uµî
) {

116 i‡(
ödex
 =
SIZE_MAX
) {

117  
low
;

119 i‡(
ödex
 > 
uµî
) {

120  
uµî
;

122  
ödex
;

123 
	}
}

126 
öt8_t
 
	$hex2bö
(
c
) {

127 i‡(
c
 >= '0' && c <= '9')

128  (
öt8_t
)(
c
 - '0');

129 i‡(
c
 >= 'A' && c <= 'F')

130  (
öt8_t
)(10 + (
c
 - 'A'));

131 i‡(
c
 >= 'a' && c <= 'f')

132  (
öt8_t
)(10 + (
c
 - 'a'));

134  (
öt8_t
)(-1);

135 
	}
}

138 
size_t
 
	$hex_decode
(* 
buf
, 
size_t
 
Àn
, c⁄° * 
§c
,

139 c⁄° 
size_t
 
§cLí
) {

140 
size_t
 
i
;

142 
i
 = 0; i < 
Àn
 && i * 2 + 1 < 
§cLí
; ++i) {

143 
öt8_t
 
a
 = 
	`hex2bö
(
§c
[
i
 * 2 + 0]);

144 
öt8_t
 
b
 = 
	`hex2bö
(
§c
[
i
 * 2 + 1]);

145 i‡(
a
 =-1 || 
b
 == -1)

146  
i
;

147 
buf
[
i
] = (
a
 << 4Ë| 
b
;

150  
i
;

151 
	}
}

154 
size_t
 
	$iŸjs_c⁄vît_doubÀ_to_sizë
(
vÆue
) {

155 
size_t
 
√w_vÆue
;

157 i‡(
vÆue
 < 0 || 
	`i¢™
(vÆueË|| 
	`isöf
(value)) {

158 
√w_vÆue
 = 
SIZE_MAX
;

160 
√w_vÆue
 = (
size_t
)
vÆue
;

163  
√w_vÆue
;

164 
	}
}

167 
	$iŸjs_buf„rwøp_com∑ª
(c⁄° 
iŸjs_buf„rwøp_t
* 
buf„rwøp
,

168 c⁄° 
iŸjs_buf„rwøp_t
* 
Ÿhî
) {

169 c⁄° 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

171 c⁄° * 
Ÿhî_buf„r
 = 
Ÿhî
->
unß„
.
buf„r
;

172 
size_t
 
Ÿhî_Àngth
 = 
Ÿhî
->
unß„
.
Àngth
;

174 
size_t
 
i
 = 0;

175 
size_t
 
j
 = 0;

176 
i
 < 
_this
->
Àngth
 && 
j
 < 
Ÿhî_Àngth
) {

177 i‡(
_this
->
buf„r
[
i
] < 
Ÿhî_buf„r
[
j
]) {

179 } i‡(
_this
->
buf„r
[
i
] > 
Ÿhî_buf„r
[
j
]) {

182 ++
i
;

183 ++
j
;

185 i‡(
j
 < 
Ÿhî_Àngth
) {

187 } i‡(
i
 < 
_this
->
Àngth
) {

191 
	}
}

193 
size_t
 
	$iŸjs_buf„rwøp_c›y_öã∫Æ
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
,

194 c⁄° * 
§c
, 
size_t
 
§c_‰om
,

195 
size_t
 
§c_to
, size_à
d°_‰om
) {

196 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

197 
size_t
 
c›õd
 = 0;

198 
size_t
 
d°_Àngth
 = 
_this
->
Àngth
;

199 
size_t
 
i
 = 
§c_‰om
, 
j
 = 
d°_‰om
; i < 
§c_to
 && j < 
d°_Àngth
;

200 ++
i
, ++
j
) {

201 *(
_this
->
buf„r
 + 
j
Ë*(
§c
 + 
i
);

202 ++
c›õd
;

204  
c›õd
;

205 
	}
}

208 
size_t
 
	$iŸjs_buf„rwøp_c›y
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
, c⁄° * 
§c
,

209 
size_t
 
Àn
) {

210 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_buf„rwøp_t
, 
buf„rwøp
);

211  
	`iŸjs_buf„rwøp_c›y_öã∫Æ
(
buf„rwøp
, 
§c
, 0, 
Àn
, 0);

212 
	}
}

215 
iŸjs_jvÆ_t
 
	$iŸjs_buf„rwøp_¸óã_buf„r
(
size_t
 
Àn
) {

216 
iŸjs_jvÆ_t
* 
jglobÆ
 = 
	`iŸjs_jvÆ_gë_globÆ_obje˘
();

218 
iŸjs_jvÆ_t
 
jbuf„r
 =

219 
	`iŸjs_jvÆ_gë_¥›îty
(
jglobÆ
, 
IOTJS_MAGIC_STRING_BUFFER
);

220 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
jbuf„r
));

222 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

223 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
Àn
);

225 
iŸjs_jvÆ_t
 
jªs
 =

226 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
jbuf„r
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

227 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(&
jªs
));

229 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

230 
	`iŸjs_jvÆ_de°roy
(&
jbuf„r
);

232  
jªs
;

233 
	}
}

236 
	$JHANDLER_FUNCTION
(
Buf„r
) {

237 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

238 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, 
numbî
);

240 c⁄° 
iŸjs_jvÆ_t
* 
jbuûtö
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

241 c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

242 
size_t
 
Àngth
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

244 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jbuûtö
, 
IOTJS_MAGIC_STRING__BUFFER
, 
jbuf„r
);

246 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_¸óã
(
jbuûtö
, 
Àngth
);

247 
	`IOTJS_UNUSED
(
buf„r_wøp
);

248 
	}
}

251 
	$JHANDLER_FUNCTION
(
Com∑ª
) {

252 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
§c_buf„r_wøp
);

253 
	`JHANDLER_DECLARE_OBJECT_PTR
(0, 
buf„rwøp
, 
d°_buf„r_wøp
);

255 
com∑ª
 = 
	`iŸjs_buf„rwøp_com∑ª
(
§c_buf„r_wøp
, 
d°_buf„r_wøp
);

256 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
com∑ª
);

257 
	}
}

260 
	$JHANDLER_FUNCTION
(
C›y
) {

261 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
§c_buf„r_wøp
);

262 
	`DJHANDLER_CHECK_ARGS
(4, 
obje˘
, 
numbî
,Çumber,Çumber);

264 c⁄° 
iŸjs_jvÆ_t
* 
jd°_buf„r
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

265 
iŸjs_buf„rwøp_t
* 
d°_buf„r_wøp
 =

266 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jd°_buf„r
);

268 
size_t
 
d°_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
d°_buf„r_wøp
);

269 
size_t
 
§c_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
§c_buf„r_wøp
);

271 
size_t
 
d°_°¨t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(1, 
numbî
));

272 
d°_°¨t
 = 
	`bound_ønge
(d°_°¨t, 0, 
d°_Àngth
);

274 
size_t
 
§c_°¨t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(2, 
numbî
));

275 
§c_°¨t
 = 
	`bound_ønge
(§c_°¨t, 0, 
§c_Àngth
);

277 
size_t
 
§c_íd
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(3, 
numbî
));

278 
§c_íd
 = 
	`bound_ønge
(§c_íd, 0, 
§c_Àngth
);

280 i‡(
§c_íd
 < 
§c_°¨t
) {

281 
§c_íd
 = 
§c_°¨t
;

284 c⁄° * 
§c_d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
§c_buf„r_wøp
);

285 
size_t
 
c›õd
 = 
	`iŸjs_buf„rwøp_c›y_öã∫Æ
(
d°_buf„r_wøp
, 
§c_d©a
,

286 
§c_°¨t
, 
§c_íd
, 
d°_°¨t
);

288 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
c›õd
);

289 
	}
}

292 
	$JHANDLER_FUNCTION
(
Wrôe
) {

293 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

294 
	`DJHANDLER_CHECK_ARGS
(3, 
°rög
, 
numbî
,Çumber);

296 
iŸjs_°rög_t
 
§c
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

298 
size_t
 
buf„r_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

299 
size_t
 
off£t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(1, 
numbî
));

300 
off£t
 = 
	`bound_ønge
(off£t, 0, 
buf„r_Àngth
);

302 
size_t
 
Àngth
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(2, 
numbî
));

303 
Àngth
 = 
	`bound_ønge
÷ígth, 0, 
buf„r_Àngth
 - 
off£t
);

304 
Àngth
 = 
	`bound_ønge
÷ígth, 0, 
	`iŸjs_°rög_size
(&
§c
));

306 c⁄° * 
§c_d©a
 = 
	`iŸjs_°rög_d©a
(&
§c
);

307 
size_t
 
c›õd
 =

308 
	`iŸjs_buf„rwøp_c›y_öã∫Æ
(
buf„r_wøp
, 
§c_d©a
, 0, 
Àngth
, 
off£t
);

310 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
c›õd
);

312 
	`iŸjs_°rög_de°roy
(&
§c
);

313 
	}
}

316 
	$JHANDLER_FUNCTION
(
WrôeUI¡8
) {

317 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

318 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
,Çumber);

320 c⁄° 
§c
[] = { ()
	`JHANDLER_GET_ARG
(0, 
numbî
) };

321 
size_t
 
Àngth
 = 1;

323 
size_t
 
buf„r_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

324 
size_t
 
off£t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(1, 
numbî
));

325 
off£t
 = 
	`bound_ønge
(off£t, 0, 
buf„r_Àngth
);

326 
Àngth
 = 
	`bound_ønge
÷ígth, 0, 
buf„r_Àngth
 - 
off£t
);

327 
Àngth
 = 
	`bound_ønge
(length, 0, 1);

329 
size_t
 
c›õd
 =

330 
	`iŸjs_buf„rwøp_c›y_öã∫Æ
(
buf„r_wøp
, 
§c
, 0, 
Àngth
, 
off£t
);

332 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
c›õd
);

333 
	}
}

336 
	$JHANDLER_FUNCTION
(
HexWrôe
) {

337 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

338 
	`DJHANDLER_CHECK_ARGS
(3, 
°rög
, 
numbî
,Çumber);

340 
iŸjs_°rög_t
 
§c
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

342 
size_t
 
buf„r_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

343 
size_t
 
off£t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(1, 
numbî
));

344 
off£t
 = 
	`bound_ønge
(off£t, 0, 
buf„r_Àngth
);

346 
size_t
 
Àngth
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(2, 
numbî
));

347 
Àngth
 = 
	`bound_ønge
÷ígth, 0, 
buf„r_Àngth
 - 
off£t
);

349 c⁄° * 
§c_d©a
 = 
	`iŸjs_°rög_d©a
(&
§c
);

350 
§c_Àngth
 = 
	`iŸjs_°rög_size
(&
§c
);

351 * 
§c_buf
 = 
	`iŸjs_buf„r_Æloˇã
(
Àngth
);

353 
size_t
 
nbyãs
 = 
	`hex_decode
(
§c_buf
, 
Àngth
, 
§c_d©a
, 
§c_Àngth
);

355 
size_t
 
c›õd
 =

356 
	`iŸjs_buf„rwøp_c›y_öã∫Æ
(
buf„r_wøp
, 
§c_buf
, 0, 
nbyãs
, 
off£t
);

358 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
c›õd
);

360 
	`iŸjs_buf„r_ªÀa£
(
§c_buf
);

361 
	`iŸjs_°rög_de°roy
(&
§c
);

362 
	}
}

365 
	$JHANDLER_FUNCTION
(
RódUI¡8
) {

366 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

367 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

369 
size_t
 
buf„r_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

370 
size_t
 
off£t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(0, 
numbî
));

371 
off£t
 = 
	`bound_ønge
(off£t, 0, 
buf„r_Àngth
 - 1);

373 * 
buf„r
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

374 
uöt8_t
 
ªsu…
 = 0;

376 i‡(
buf„r
 !
NULL
) {

377 
ªsu…
 = (
uöt8_t
)
buf„r
[
off£t
];

380 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
ªsu…
);

381 
	}
}

384 
	$JHANDLER_FUNCTION
(
Sli˚
) {

385 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

386 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
,Çumber);

388 
öt64_t
 
°¨t
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

389 
öt64_t
 
íd
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

390 
size_t
 
°¨t_idx
, 
íd_idx
;

392 i‡(
°¨t
 < 0) {

393 
size_t
 
Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

394 i‡((
size_t
)(-
°¨t
Ë> 
Àn
) {

395 
°¨t_idx
 = 
SIZE_MAX
;

397 
°¨t_idx
 = (
size_t
)
°¨t
 + 
Àn
;

400 
°¨t_idx
 = (
size_t
)
°¨t
;

402 
°¨t_idx
 = 
	`bound_ønge
(°¨t_idx, 0, 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
));

404 i‡(
íd
 < 0) {

405 
size_t
 
Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

406 i‡((
size_t
)(-
íd
Ë> 
Àn
) {

407 
íd_idx
 = 
SIZE_MAX
;

409 
íd_idx
 = (
size_t
)
íd
 + 
Àn
;

412 
íd_idx
 = (
size_t
)
íd
;

414 
íd_idx
 = 
	`bound_ønge
”nd_idx, 0, 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
));

416 i‡(
íd_idx
 < 
°¨t_idx
) {

417 
íd_idx
 = 
°¨t_idx
;

420 
size_t
 
Àngth
 = (size_t)(
íd_idx
 - 
°¨t_idx
);

422 
iŸjs_jvÆ_t
 
j√w_buf„r
 = 
	`iŸjs_buf„rwøp_¸óã_buf„r
(
Àngth
);

423 
iŸjs_buf„rwøp_t
* 
√w_buf„r_wøp
 =

424 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(&
j√w_buf„r
);

425 
	`iŸjs_buf„rwøp_c›y_öã∫Æ
(
√w_buf„r_wøp
,

426 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
),

427 
°¨t_idx
, 
íd_idx
, 0);

429 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
j√w_buf„r
);

430 
	`iŸjs_jvÆ_de°roy
(&
j√w_buf„r
);

431 
	}
}

434 
	$JHANDLER_FUNCTION
(
ToSåög
) {

435 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

436 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
,Çumber);

438 
size_t
 
°¨t
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(0, 
numbî
));

439 
°¨t
 = 
	`bound_ønge
(°¨t, 0, 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
));

441 
size_t
 
íd
 = 
	`iŸjs_c⁄vît_doubÀ_to_sizë
(
	`JHANDLER_GET_ARG
(1, 
numbî
));

442 
íd
 = 
	`bound_ønge
”nd, 0, 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
));

444 i‡(
íd
 < 
°¨t
) {

445 
íd
 = 
°¨t
;

448 
size_t
 
Àngth
 = 
íd
 - 
°¨t
;

450 c⁄° * 
d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
Ë+ 
°¨t
;

451 
Àngth
 = 
	`°∫Àn
(
d©a
,Üength);

452 
iŸjs_°rög_t
 
°r
 = 
	`iŸjs_°rög_¸óã_wôh_size
(
d©a
, 
Àngth
);

454 
	`iŸjs_jh™dÀr_ªtu∫_°rög
(
jh™dÀr
, &
°r
);

456 
	`iŸjs_°rög_de°roy
(&
°r
);

457 
	}
}

460 
	$JHANDLER_FUNCTION
(
ToHexSåög
) {

461 
	`JHANDLER_DECLARE_THIS_PTR
(
buf„rwøp
, 
buf„r_wøp
);

463 
size_t
 
Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

464 c⁄° * 
d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

465 
	`JHANDLER_CHECK
(
d©a
 !
NULL
);

467 * 
buf„r
 = 
	`iŸjs_buf„r_Æloˇã
(
Àngth
 * 2);

468 
iŸjs_°rög_t
 
°r
 = 
	`iŸjs_°rög_¸óã_wôh_buf„r
(
buf„r
, 
Àngth
 * 2);

470 
size_t
 
i
 = 0; i < 
Àngth
; i++) {

471 
	`mem˝y
(
buf„r
, &"0123456789abcdef"[
d©a
[
i
] >> 4 & 0xF], 1);

472 
buf„r
++;

473 
	`mem˝y
(
buf„r
, &"0123456789abcdef"[
d©a
[
i
] >> 0 & 0xF], 1);

474 
buf„r
++;

477 
	`iŸjs_jh™dÀr_ªtu∫_°rög
(
jh™dÀr
, &
°r
);

478 
	`iŸjs_°rög_de°roy
(&
°r
);

479 
	}
}

482 
	$JHANDLER_FUNCTION
(
ByãLígth
) {

483 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

484 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

486 
iŸjs_°rög_t
 
°r
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

487 
iŸjs_jvÆ_t
 
size
 = 
	`iŸjs_jvÆ_gë_°rög_size
(&
°r
);

489 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
size
);

490 
	`iŸjs_°rög_de°roy
(&
°r
);

491 
	`iŸjs_jvÆ_de°roy
(&
size
);

492 
	}
}

495 
iŸjs_jvÆ_t
 
	$InôBuf„r
() {

496 
iŸjs_jvÆ_t
 
buf„r
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
Buf„r
);

498 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

499 
iŸjs_jvÆ_t
 
byã_Àngth
 =

500 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
ByãLígth
);

502 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
buf„r
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

503 &
¥ŸŸy≥
);

504 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
buf„r
, 
IOTJS_MAGIC_STRING_BYTELENGTH
,

505 &
byã_Àngth
);

507 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_COMPARE
, 
Com∑ª
);

508 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_COPY
, 
C›y
);

509 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

510 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_HEXWRITE
, 
HexWrôe
);

511 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITEUINT8
, 
WrôeUI¡8
);

512 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_READUINT8
, 
RódUI¡8
);

513 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SLICE
, 
Sli˚
);

514 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_TOSTRING
, 
ToSåög
);

515 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_TOHEXSTRING
,

516 
ToHexSåög
);

518 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

519 
	`iŸjs_jvÆ_de°roy
(&
byã_Àngth
);

521  
buf„r
;

522 
	}
}

	@src/modules/iotjs_module_buffer.h

16 #i‚de‡
IOTJS_MODULE_BUFFER_H


17 
	#IOTJS_MODULE_BUFFER_H


	)

20 
	~"iŸjs_obje˘wøp.h
"

24 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

25 * 
	mbuf„r
;

26 
size_t
 
	mÀngth
;

27 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_buf„rwøp_t
);

30 
iŸjs_buf„rwøp_t
* 
iŸjs_buf„rwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jbuûtö
,

31 
size_t
 
Àngth
);

33 
iŸjs_buf„rwøp_t
* 
iŸjs_buf„rwøp_‰om_jbuûtö
(

34 c⁄° 
iŸjs_jvÆ_t
* 
jbuûtö
);

35 
iŸjs_buf„rwøp_t
* 
iŸjs_buf„rwøp_‰om_jbuf„r
(c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
);

37 
iŸjs_jvÆ_t
* 
iŸjs_buf„rwøp_jbuûtö
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
);

38 
iŸjs_jvÆ_t
 
iŸjs_buf„rwøp_jbuf„r
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
);

40 * 
iŸjs_buf„rwøp_buf„r
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
);

41 
size_t
 
iŸjs_buf„rwøp_Àngth
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
);

43 
iŸjs_buf„rwøp_com∑ª
(c⁄° 
iŸjs_buf„rwøp_t
* 
buf„rwøp
,

44 c⁄° 
iŸjs_buf„rwøp_t
* 
Ÿhî
);

46 
size_t
 
iŸjs_buf„rwøp_c›y
(
iŸjs_buf„rwøp_t
* 
buf„rwøp
, c⁄° * 
§c
,

47 
size_t
 
Àn
);

50 
iŸjs_jvÆ_t
 
iŸjs_buf„rwøp_¸óã_buf„r
(
size_t
 
Àn
);

	@src/modules/iotjs_module_console.c

16 
	~"iŸjs_def.h
"

17 
	~"jîry-bﬂrd-c⁄fig.h
"

19 
	~<°dlib.h
>

21 #ifde‡
PROF_MODE_ARTIK053


22 
	~<sys/bﬂrd˘l.h
>

27 
	$Pröt
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
FILE
* 
out_fd
) {

28 
	`JHANDLER_CHECK_ARGS
(1, 
°rög
);

30 
iŸjs_°rög_t
 
msg
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

31 c⁄° * 
°r
 = 
	`iŸjs_°rög_d©a
(&
msg
);

32 
°r_Àn
 = 
	`iŸjs_°rög_size
(&
msg
);

33 
idx
 = 0;

35 
idx
 = 0; idx < 
°r_Àn
; idx++) {

36 i‡(
°r
[
idx
] != 0) {

37 
	`Ârötf
(
out_fd
, "%c", 
°r
[
idx
]);

39 
	`Ârötf
(
out_fd
, "\\u0000");

42 
	`iŸjs_°rög_de°roy
(&
msg
);

43 
	}
}

46 
	$JHANDLER_FUNCTION
(
Stdout
) {

47 
	`Pröt
(
jh™dÀr
, 
°dout
);

48 
	}
}

51 
	$JHANDLER_FUNCTION
(
Stdîr
) {

52 
	`Pröt
(
jh™dÀr
, 
°dîr
);

53 
	}
}

55 #ifde‡
PROF_MODE_ARTIK053


56 
	$JHANDLER_FUNCTION
(
ReboŸ
) {

58 
	`jîry_wûl_˛ónup
();

61 
	`bﬂrd˘l
(
BOARDIOC_RESET
, 
EXIT_SUCCESS
);

62 
	}
}

65 
iŸjs_jvÆ_t
 
	$InôC⁄sﬁe
() {

66 
iŸjs_jvÆ_t
 
c⁄sﬁe
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

68 
	`iŸjs_jvÆ_£t_mëhod
(&
c⁄sﬁe
, 
IOTJS_MAGIC_STRING_STDOUT
, 
Stdout
);

69 
	`iŸjs_jvÆ_£t_mëhod
(&
c⁄sﬁe
, 
IOTJS_MAGIC_STRING_STDERR
, 
Stdîr
);

70 #ifde‡
PROF_MODE_ARTIK053


71 
	`iŸjs_jvÆ_£t_mëhod
(&
c⁄sﬁe
, 
IOTJS_MAGIC_STRING_REBOOT
, 
ReboŸ
);

74  
c⁄sﬁe
;

75 
	}
}

	@src/modules/iotjs_module_constants.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ.h
"

20 
	#SET_CONSTANT
(
obje˘
, 
c⁄°™t
) \

22 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
obje˘
, #c⁄°™t, 
c⁄°™t
); \

23 } 0)

	)

25 
iŸjs_jvÆ_t
 
	$InôC⁄°™ts
() {

26 
iŸjs_jvÆ_t
 
c⁄°™ts
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

28 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_APPEND
);

29 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_CREAT
);

30 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_EXCL
);

31 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_RDONLY
);

32 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_RDWR
);

33 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_SYNC
);

34 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_TRUNC
);

35 
	`SET_CONSTANT
(&
c⁄°™ts
, 
O_WRONLY
);

36 
	`SET_CONSTANT
(&
c⁄°™ts
, 
S_IFMT
);

37 
	`SET_CONSTANT
(&
c⁄°™ts
, 
S_IFDIR
);

38 
	`SET_CONSTANT
(&
c⁄°™ts
, 
S_IFREG
);

40  
c⁄°™ts
;

41 
	}
}

	@src/modules/iotjs_module_dns.c

16 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ_dns.h
"

20 
	~"iŸjs_ªqwøp.h
"

21 
	~"uv.h
"

24 
	#THIS
 
iŸjs_gëaddröfo_ªqwøp_t
* 
gëaddröfo_ªqwøp


	)

26 
iŸjs_gëaddröfo_ªqwøp_t
* 
	$iŸjs_gëaddröfo_ªqwøp_¸óã
(

27 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
) {

28 
iŸjs_gëaddröfo_ªqwøp_t
* 
gëaddröfo_ªqwøp
 =

29 
	`IOTJS_ALLOC
(
iŸjs_gëaddröfo_ªqwøp_t
);

30 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_gëaddröfo_ªqwøp_t
,

31 
gëaddröfo_ªqwøp
);

32 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

33  
gëaddröfo_ªqwøp
;

34 
	}
}

37 
	$iŸjs_gëaddröfo_ªqwøp_de°roy
(
THIS
) {

38 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_gëaddröfo_ªqwøp_t
,

39 
gëaddröfo_ªqwøp
);

40 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

41 
	`IOTJS_RELEASE
(
gëaddröfo_ªqwøp
);

42 
	}
}

45 
	$iŸjs_gëaddröfo_ªqwøp_di•©ched
(
THIS
) {

46 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_gëaddröfo_ªqwøp_t
,

47 
gëaddröfo_ªqwøp
);

48 
	`iŸjs_gëaddröfo_ªqwøp_de°roy
(
gëaddröfo_ªqwøp
);

49 
	}
}

52 
uv_gëaddröfo_t
* 
	$iŸjs_gëaddröfo_ªqwøp_ªq
(
THIS
) {

53 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gëaddröfo_ªqwøp_t
,

54 
gëaddröfo_ªqwøp
);

55  &
_this
->
ªq
;

56 
	}
}

59 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_gëaddröfo_ªqwøp_jˇŒback
(
THIS
) {

60 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gëaddröfo_ªqwøp_t
,

61 
gëaddröfo_ªqwøp
);

62  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

63 
	}
}

65 #unde‡
THIS


68 #i‡!
deföed
(
__NUTTX__
Ë&& !deföed(
__TIZENRT__
)

69 * 
	$gëaddröfo_îr‹_°r
(
°©us
) {

70 
°©us
) {

71 
UV__EAI_ADDRFAMILY
:

74 
UV__EAI_AGAIN
:

77 
UV__EAI_BADFLAGS
:

80 
UV__EAI_FAIL
:

83 
UV__EAI_FAMILY
:

86 
UV__EAI_CANCELED
:

89 
UV__EAI_MEMORY
:

92 
UV__EAI_NODATA
:

95 
UV__EAI_NONAME
:

98 
UV__EAI_OVERFLOW
:

101 
UV__EAI_SERVICE
:

104 
UV__EAI_SOCKTYPE
:

107 
UV__EAI_PROTOCOL
:

114 
	}
}

116 
	$A·îGëAddrInfo
(
uv_gëaddröfo_t
* 
ªq
, 
°©us
,

117 
addröfo
* 
ªs
) {

118 
iŸjs_gëaddröfo_ªqwøp_t
* 
ªq_wøp
 =

119 (
iŸjs_gëaddröfo_ªqwøp_t
*)(
ªq
->
d©a
);

121 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(3);

123 i‡(
°©us
 == 0) {

124 
ù
[
INET6_ADDRSTRLEN
];

125 
Ámûy
;

126 c⁄° * 
addr
;

129 i‡(
ªs
->
ai_Ámûy
 =
AF_INET
) {

130 
sockaddr_ö
* 
sockaddr
 = (sockaddr_ö*)(
ªs
->
ai_addr
);

131 
addr
 = (*)(&(
sockaddr
->
sö_addr
));

132 
Ámûy
 = 4;

134 
sockaddr_ö6
* 
sockaddr
 = (sockaddr_ö6*)(
ªs
->
ai_addr
);

135 
addr
 = (*)(&(
sockaddr
->
sö6_addr
));

136 
Ámûy
 = 6;

139 
îr
 = 
	`uv_öë_¡›
(
ªs
->
ai_Ámûy
, 
addr
, 
ù
, 
INET6_ADDRSTRLEN
);

140 i‡(
îr
) {

141 
ù
[0] = 0;

142 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
¨gs
,

145 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
¨gs
);

148 
	`iŸjs_j¨gs_≠≥nd_°rög_øw
(&
¨gs
, 
ù
);

149 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gs
, 
Ámûy
);

151 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
¨gs
, 
	`gëaddröfo_îr‹_°r
(
°©us
));

154 
	`uv_‰ìaddröfo
(
ªs
);

157 
	`iŸjs_make_ˇŒback
(
	`iŸjs_gëaddröfo_ªqwøp_jˇŒback
(
ªq_wøp
),

158 
	`iŸjs_jvÆ_gë_undeföed
(), &
¨gs
);

160 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

162 
	`iŸjs_gëaddröfo_ªqwøp_di•©ched
(
ªq_wøp
);

163 
	}
}

167 
	$JHANDLER_FUNCTION
(
GëAddrInfo
) {

168 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

169 
	`DJHANDLER_CHECK_ARGS
(4, 
°rög
, 
numbî
,Çumbî, 
fun˘i⁄
);

171 
iŸjs_°rög_t
 
ho°«me
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

172 
›ti⁄
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

173 
Êags
 = 
	`JHANDLER_GET_ARG
(2, 
numbî
);

174 
îr‹
 = 0;

175 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(3, 
fun˘i⁄
);

177 
Ámûy
;

178 i‡(
›ti⁄
 == 0) {

179 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

180 
Ámûy
 = 
AF_INET
;

182 
Ámûy
 = 
AF_UNSPEC
;

184 } i‡(
›ti⁄
 == 4) {

185 
Ámûy
 = 
AF_INET
;

186 } i‡(
›ti⁄
 == 6) {

187 
Ámûy
 = 
AF_INET6
;

189 
	`iŸjs_°rög_de°roy
(&
ho°«me
);

190 
	`JHANDLER_THROW
(
TYPE
, "badáddress family");

194 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

195 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(3);

196 
ù
[
INET6_ADDRSTRLEN
] = "";

197 c⁄° * 
ho°«me_d©a
 = 
	`iŸjs_°rög_d©a
(&
ho°«me
);

199 i‡(
	`°rcmp
(
ho°«me_d©a
, "localhost") == 0) {

200 
	`°∫˝y
(
ù
, "127.0.0.1", ("127.0.0.1")+1);

202 
sockaddr_ö
 
addr
;

204 i‡(
	`öë_±⁄
(
Ámûy
, 
ho°«me_d©a
, &(
addr
.
sö_addr
)) == 1) {

205 
	`öë_¡›
(
Ámûy
, &(
addr
.
sö_addr
), 
ù
, 
INET6_ADDRSTRLEN
);

207 
îr‹
 = 
EAFNOSUPPORT
;

211 i‡(
îr‹
) {

212 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
¨gs
, "EAFNOSUPPORT, couldÇotÑesolve hostname");

214 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
¨gs
);

217 
	`iŸjs_j¨gs_≠≥nd_°rög_øw
(&
¨gs
, 
ù
);

218 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gs
, 
›ti⁄
);

220 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
¨gs
);

221 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

222 
	`IOTJS_UNUSED
(
Êags
);

224 
iŸjs_gëaddröfo_ªqwøp_t
* 
ªq_wøp
 =

225 
	`iŸjs_gëaddröfo_ªqwøp_¸óã
(
jˇŒback
);

227 c⁄° 
addröfo
 
em±y_höts
;

228 
addröfo
 
höts
 = 
em±y_höts
;

229 
höts
.
ai_Ámûy
 = 
Ámûy
;

230 
höts
.
ai_sockty≥
 = 
SOCK_STREAM
;

231 
höts
.
ai_Êags
 = 
Êags
;

233 
îr‹
 =

234 
	`uv_gëaddröfo
(
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()),

235 
	`iŸjs_gëaddröfo_ªqwøp_ªq
(
ªq_wøp
), 
A·îGëAddrInfo
,

236 
	`iŸjs_°rög_d©a
(&
ho°«me
), 
NULL
, &
höts
);

238 i‡(
îr‹
) {

239 
	`iŸjs_gëaddröfo_ªqwøp_di•©ched
(
ªq_wøp
);

243 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr‹
);

245 
	`iŸjs_°rög_de°roy
(&
ho°«me
);

246 
	}
}

249 
	#SET_CONSTANT
(
obje˘
, 
c⁄°™t
) \

251 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
obje˘
, #c⁄°™t, 
c⁄°™t
); \

252 } 0)

	)

255 
iŸjs_jvÆ_t
 
	$InôDns
() {

256 
iŸjs_jvÆ_t
 
dns
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

258 
	`iŸjs_jvÆ_£t_mëhod
(&
dns
, 
IOTJS_MAGIC_STRING_GETADDRINFO
, 
GëAddrInfo
);

259 
	`SET_CONSTANT
(&
dns
, 
AI_ADDRCONFIG
);

260 
	`SET_CONSTANT
(&
dns
, 
AI_V4MAPPED
);

262  
dns
;

263 
	}
}

	@src/modules/iotjs_module_dns.h

17 #i‚de‡
IOTJS_MODULE_DNS_H


18 
	#IOTJS_MODULE_DNS_H


	)

21 
	~"iŸjs_def.h
"

22 
	~"iŸjs_ªqwøp.h
"

26 
iŸjs_ªqwøp_t
 
	mªqwøp
;

27 
uv_gëaddröfo_t
 
	mªq
;

28 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_gëaddröfo_ªqwøp_t
);

30 
	#THIS
 
iŸjs_gëaddröfo_ªqwøp_t
* 
gëaddröfo_ªqwøp


	)

32 
iŸjs_gëaddröfo_ªqwøp_t
* 
iŸjs_gëaddröfo_ªqwøp_¸óã
(

33 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
);

35 
iŸjs_gëaddröfo_ªqwøp_di•©ched
(
THIS
);

37 
uv_gëaddröfo_t
* 
iŸjs_gëaddröfo_ªqwøp_ªq
(
THIS
);

38 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_gëaddröfo_ªqwøp_jˇŒback
(
THIS
);

40 #unde‡
THIS


	@src/modules/iotjs_module_fs.c

16 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ_buf„r.h
"

20 
	~"iŸjs_ex˚±i⁄.h
"

21 
	~"iŸjs_ªqwøp.h
"

25 
iŸjs_ªqwøp_t
 
	mªqwøp
;

26 
uv_fs_t
 
	mªq
;

27 } 
	tiŸjs_fs_ªqwøp_t
;

30 
iŸjs_fs_ªqwøp_t
* 
	$iŸjs_fs_ªqwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
) {

31 
iŸjs_fs_ªqwøp_t
* 
fs_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_fs_reqwrap_t);

32 
	`iŸjs_ªqwøp_öôülize
(&
fs_ªqwøp
->
ªqwøp
, 
jˇŒback
,

33 (
uv_ªq_t
*)&
fs_ªqwøp
->
ªq
);

34  
fs_ªqwøp
;

35 
	}
}

38 
	$iŸjs_fs_ªqwøp_de°roy
(
iŸjs_fs_ªqwøp_t
* 
fs_ªqwøp
) {

39 
	`uv_fs_ªq_˛ónup
(&
fs_ªqwøp
->
ªq
);

40 
	`iŸjs_ªqwøp_de°roy
(&
fs_ªqwøp
->
ªqwøp
);

41 
	`IOTJS_RELEASE
(
fs_ªqwøp
);

42 
	}
}

44 
iŸjs_jvÆ_t
 
MakeSètObje˘
(
uv_°©_t
* 
°©buf
);

47 
	$A·îAsync
(
uv_fs_t
* 
ªq
) {

48 
iŸjs_fs_ªqwøp_t
* 
ªq_wøp
 = (iŸjs_fs_ªqwøp_t*)(
ªq
->
d©a
);

49 
	`IOTJS_ASSERT
(
ªq_wøp
 !
NULL
);

50 
	`IOTJS_ASSERT
(&
ªq_wøp
->
ªq
 ==Ñeq);

52 c⁄° 
iŸjs_jvÆ_t
* 
cb
 = 
	`iŸjs_ªqwøp_jˇŒback
(&
ªq_wøp
->
ªqwøp
);

53 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(
cb
));

55 
iŸjs_j¨gs_t
 
j¨g
 = 
	`iŸjs_j¨gs_¸óã
(2);

56 i‡(
ªq
->
ªsu…
 < 0) {

57 
iŸjs_jvÆ_t
 
jîr‹
 = 
	`iŸjs_¸óã_uv_ex˚±i⁄
(
ªq
->
ªsu…
, "open");

58 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨g
, &
jîr‹
);

59 
	`iŸjs_jvÆ_de°roy
(&
jîr‹
);

61 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨g
);

62 
ªq
->
fs_ty≥
) {

63 
UV_FS_CLOSE
: {

66 
UV_FS_OPEN
:

67 
UV_FS_READ
:

68 
UV_FS_WRITE
: {

69 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨g
, ()
ªq
->
ªsu…
);

72 
UV_FS_SCANDIR
: {

73 
r
;

74 
uv_dúít_t
 
ít
;

75 
uöt32_t
 
idx
 = 0;

76 
iŸjs_jvÆ_t
 
ªt
 = 
	`iŸjs_jvÆ_¸óã_¨øy
(0);

77 (
r
 = 
	`uv_fs_sˇndú_√xt
(
ªq
, &
ít
)Ë!
UV_EOF
) {

78 
iŸjs_jvÆ_t
 
«me
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
ít
.name);

79 
	`iŸjs_jvÆ_£t_¥›îty_by_ödex
(&
ªt
, 
idx
, &
«me
);

80 
	`iŸjs_jvÆ_de°roy
(&
«me
);

81 
idx
++;

83 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨g
, &
ªt
);

84 
	`iŸjs_jvÆ_de°roy
(&
ªt
);

87 
UV_FS_FSTAT
:

88 
UV_FS_STAT
: {

89 
uv_°©_t
 
s
 = (
ªq
->
°©buf
);

90 
iŸjs_jvÆ_t
 
ªt
 = 
	`MakeSètObje˘
(&
s
);

91 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨g
, &
ªt
);

92 
	`iŸjs_jvÆ_de°roy
(&
ªt
);

96 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨g
);

102 
	`iŸjs_make_ˇŒback
(
cb
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨g
);

104 
	`iŸjs_j¨gs_de°roy
(&
j¨g
);

105 
	`iŸjs_fs_ªqwøp_de°roy
(
ªq_wøp
);

106 
	}
}

109 
	$A·îSync
(
uv_fs_t
* 
ªq
, 
îr
, c⁄° * 
sysˇŒ_«me
,

110 
iŸjs_jh™dÀr_t
* 
jh™dÀr
) {

111 i‡(
îr
 < 0) {

112 
iŸjs_jvÆ_t
 
jîr‹
 = 
	`iŸjs_¸óã_uv_ex˚±i⁄
(
îr
, 
sysˇŒ_«me
);

113 
	`iŸjs_jh™dÀr_throw
(
jh™dÀr
, &
jîr‹
);

114 
	`iŸjs_jvÆ_de°roy
(&
jîr‹
);

116 
ªq
->
fs_ty≥
) {

117 
UV_FS_CLOSE
:

119 
UV_FS_OPEN
:

120 
UV_FS_READ
:

121 
UV_FS_WRITE
:

122 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

124 
UV_FS_FSTAT
:

125 
UV_FS_STAT
: {

126 
uv_°©_t
* 
s
 = &(
ªq
->
°©buf
);

127 
iŸjs_jvÆ_t
 
°©
 = 
	`MakeSètObje˘
(
s
);

128 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
°©
);

129 
	`iŸjs_jvÆ_de°roy
(&
°©
);

132 
UV_FS_MKDIR
:

133 
UV_FS_RMDIR
:

134 
UV_FS_UNLINK
:

135 
UV_FS_RENAME
:

136 
	`iŸjs_jh™dÀr_ªtu∫_undeföed
(
jh™dÀr
);

138 
UV_FS_SCANDIR
: {

139 
r
;

140 
uv_dúít_t
 
ít
;

141 
uöt32_t
 
idx
 = 0;

142 
iŸjs_jvÆ_t
 
ªt
 = 
	`iŸjs_jvÆ_¸óã_¨øy
(0);

143 (
r
 = 
	`uv_fs_sˇndú_√xt
(
ªq
, &
ít
)Ë!
UV_EOF
) {

144 
iŸjs_jvÆ_t
 
«me
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
ít
.name);

145 
	`iŸjs_jvÆ_£t_¥›îty_by_ödex
(&
ªt
, 
idx
, &
«me
);

146 
	`iŸjs_jvÆ_de°roy
(&
«me
);

147 
idx
++;

149 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
ªt
);

150 
	`iŸjs_jvÆ_de°roy
(&
ªt
);

154 
	`IOTJS_ASSERT
(
Ál£
);

159 
	}
}

162 
ölöe
 
boﬁ
 
	$IsWôhöBounds
(
size_t
 
off
, size_à
Àn
, size_à
max
) {

163 i‡(
off
 > 
max
)

164  
Ál£
;

166 i‡(
max
 - 
off
 < 
Àn
)

167  
Ál£
;

169  
åue
;

170 
	}
}

172 
	#FS_ASYNC
(
ív
, 
sysˇŒ
, 
pˇŒback
, ...) \

173 
iŸjs_fs_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_fs_ªqwøp_¸óã
(
pˇŒback
); \

174 
uv_fs_t
* 
fs_ªq
 = &
ªq_wøp
->
ªq
; \

175 
îr
 = 
uv_fs_
##
	`sysˇŒ
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), 
fs_ªq
, 
__VA_ARGS__
, \

176 
A·îAsync
); \

177 i‡(
îr
 < 0) { \

178 
fs_ªq
->
ªsu…
 = 
îr
; \

179 
	`A·îAsync
(
fs_ªq
); \

181 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

	)

184 
	#FS_SYNC
(
ív
, 
sysˇŒ
, ...) \

185 
uv_fs_t
 
fs_ªq
; \

186 
îr
 = 
uv_fs_
##
	`sysˇŒ
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), &
fs_ªq
, 
__VA_ARGS__
, \

187 
NULL
); \

188 
	`A·îSync
(&
fs_ªq
, 
îr
, #sysˇŒ, 
jh™dÀr
); \

189 
	`uv_fs_ªq_˛ónup
(&
fs_ªq
);

	)

192 
	$JHANDLER_FUNCTION
(
Clo£
) {

193 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

194 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

195 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

197 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

199 
fd
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

200 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

202 i‡(
jˇŒback
) {

203 
	`FS_ASYNC
(
ív
, 
˛o£
, 
jˇŒback
, 
fd
);

205 
	`FS_SYNC
(
ív
, 
˛o£
, 
fd
);

207 
	}
}

210 
	$JHANDLER_FUNCTION
(
O≥n
) {

211 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

212 
	`DJHANDLER_CHECK_ARGS
(3, 
°rög
, 
numbî
,Çumber);

213 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(3, 
fun˘i⁄
);

215 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

217 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

218 
Êags
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

219 
mode
 = 
	`JHANDLER_GET_ARG
(2, 
numbî
);

220 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(3, 
fun˘i⁄
);

222 i‡(
jˇŒback
) {

223 
	`FS_ASYNC
(
ív
, 
›í
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
∑th
), 
Êags
, 
mode
);

225 
	`FS_SYNC
(
ív
, 
›í
, 
	`iŸjs_°rög_d©a
(&
∑th
), 
Êags
, 
mode
);

228 
	`iŸjs_°rög_de°roy
(&
∑th
);

229 
	}
}

232 
	$JHANDLER_FUNCTION
(
Ród
) {

233 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

234 
	`DJHANDLER_CHECK_ARGS
(5, 
numbî
, 
obje˘
,Çumber,Çumber,Çumber);

235 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(5, 
fun˘i⁄
);

237 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

239 
fd
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

240 c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
 = 
	`JHANDLER_GET_ARG
(1, 
obje˘
);

241 
size_t
 
off£t
 = 
	`JHANDLER_GET_ARG
(2, 
numbî
);

242 
size_t
 
Àngth
 = 
	`JHANDLER_GET_ARG
(3, 
numbî
);

243 
posôi⁄
 = 
	`JHANDLER_GET_ARG
(4, 
numbî
);

244 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(5, 
fun˘i⁄
);

246 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jbuf„r
);

247 * 
d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

248 
size_t
 
d©a_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

249 
	`JHANDLER_CHECK
(
d©a
 !
NULL
);

250 
	`JHANDLER_CHECK
(
d©a_Àngth
 > 0);

252 i‡(
off£t
 >
d©a_Àngth
) {

253 
	`JHANDLER_THROW
(
RANGE
, "offset out of bound");

256 i‡(!
	`IsWôhöBounds
(
off£t
, 
Àngth
, 
d©a_Àngth
)) {

257 
	`JHANDLER_THROW
(
RANGE
, "length out of bound");

261 
uv_buf_t
 
uvbuf
 = 
	`uv_buf_öô
(
d©a
 + 
off£t
, 
Àngth
);

263 i‡(
jˇŒback
) {

264 
	`FS_ASYNC
(
ív
, 
ªad
, 
jˇŒback
, 
fd
, &
uvbuf
, 1, 
posôi⁄
);

266 
	`FS_SYNC
(
ív
, 
ªad
, 
fd
, &
uvbuf
, 1, 
posôi⁄
);

268 
	}
}

271 
	$JHANDLER_FUNCTION
(
Wrôe
) {

272 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

273 
	`DJHANDLER_CHECK_ARGS
(5, 
numbî
, 
obje˘
,Çumber,Çumber,Çumber);

274 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(5, 
fun˘i⁄
);

276 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

278 
fd
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

279 c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
 = 
	`JHANDLER_GET_ARG
(1, 
obje˘
);

280 
size_t
 
off£t
 = 
	`JHANDLER_GET_ARG
(2, 
numbî
);

281 
size_t
 
Àngth
 = 
	`JHANDLER_GET_ARG
(3, 
numbî
);

282 
posôi⁄
 = 
	`JHANDLER_GET_ARG
(4, 
numbî
);

283 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(5, 
fun˘i⁄
);

285 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jbuf„r
);

286 * 
d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

287 
size_t
 
d©a_Àngth
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

288 
	`JHANDLER_CHECK
(
d©a
 !
NULL
);

289 
	`JHANDLER_CHECK
(
d©a_Àngth
 > 0);

291 i‡(
off£t
 >
d©a_Àngth
) {

292 
	`JHANDLER_THROW
(
RANGE
, "offset out of bound");

295 i‡(!
	`IsWôhöBounds
(
off£t
, 
Àngth
, 
d©a_Àngth
)) {

296 
	`JHANDLER_THROW
(
RANGE
, "length out of bound");

300 
uv_buf_t
 
uvbuf
 = 
	`uv_buf_öô
(
d©a
 + 
off£t
, 
Àngth
);

302 i‡(
jˇŒback
) {

303 
	`FS_ASYNC
(
ív
, 
wrôe
, 
jˇŒback
, 
fd
, &
uvbuf
, 1, 
posôi⁄
);

305 
	`FS_SYNC
(
ív
, 
wrôe
, 
fd
, &
uvbuf
, 1, 
posôi⁄
);

307 
	}
}

310 
iŸjs_jvÆ_t
 
	$MakeSètObje˘
(
uv_°©_t
* 
°©buf
) {

311 c⁄° 
iŸjs_jvÆ_t
* 
fs
 = 
	`iŸjs_moduÀ_gë
(
MODULE_FS
);

313 
iŸjs_jvÆ_t
 
°©_¥ŸŸy≥
 =

314 
	`iŸjs_jvÆ_gë_¥›îty
(
fs
, 
IOTJS_MAGIC_STRING_STATS
);

315 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(&
°©_¥ŸŸy≥
));

317 
iŸjs_jvÆ_t
 
j°©
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

318 
	`iŸjs_jvÆ_£t_¥ŸŸy≥
(&
j°©
, &
°©_¥ŸŸy≥
);

320 
	`iŸjs_jvÆ_de°roy
(&
°©_¥ŸŸy≥
);

323 
	#X
(
°©obj
, 
«me
) \

324 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
°©obj
, #«me, 
°©buf
->
°_
##
«me
);

	)

326 
	`X
(&
j°©
, 
dev
)

327 
	`X
(&
j°©
, 
mode
)

328 
	`X
(&
j°©
, 
∆ök
)

329 
	`X
(&
j°©
, 
uid
)

330 
	`X
(&
j°©
, 
gid
)

331 
	`X
(&
j°©
, 
rdev
)

332 
	`X
(&
j°©
, 
blksize
)

333 
	`X
(&
j°©
, 
öo
)

334 
	`X
(&
j°©
, 
size
)

335 
	`X
(&
j°©
, 
blocks
)

337 #unde‡
X


339  
j°©
;

340 
	}
}

343 
	$JHANDLER_FUNCTION
(
Sèt
) {

344 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

345 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

346 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

348 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

350 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

351 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

353 i‡(
jˇŒback
) {

354 
	`FS_ASYNC
(
ív
, 
°©
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
∑th
));

356 
	`FS_SYNC
(
ív
, 
°©
, 
	`iŸjs_°rög_d©a
(&
∑th
));

359 
	`iŸjs_°rög_de°roy
(&
∑th
);

360 
	}
}

363 
	$JHANDLER_FUNCTION
(
F°©
) {

364 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

365 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

366 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

368 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

370 
fd
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

371 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

373 i‡(
jˇŒback
) {

374 
	`FS_ASYNC
(
ív
, 
f°©
, 
jˇŒback
, 
fd
);

376 
	`FS_SYNC
(
ív
, 
f°©
, 
fd
);

378 
	}
}

381 
	$JHANDLER_FUNCTION
(
MkDú
) {

382 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

383 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, 
numbî
);

384 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(2, 
fun˘i⁄
);

386 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

388 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

389 
mode
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

390 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(2, 
fun˘i⁄
);

392 i‡(
jˇŒback
) {

393 
	`FS_ASYNC
(
ív
, 
mkdú
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
∑th
), 
mode
);

395 
	`FS_SYNC
(
ív
, 
mkdú
, 
	`iŸjs_°rög_d©a
(&
∑th
), 
mode
);

398 
	`iŸjs_°rög_de°roy
(&
∑th
);

399 
	}
}

402 
	$JHANDLER_FUNCTION
(
RmDú
) {

403 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

404 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

405 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

407 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

409 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

410 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

412 i‡(
jˇŒback
) {

413 
	`FS_ASYNC
(
ív
, 
rmdú
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
∑th
));

415 
	`FS_SYNC
(
ív
, 
rmdú
, 
	`iŸjs_°rög_d©a
(&
∑th
));

418 
	`iŸjs_°rög_de°roy
(&
∑th
);

419 
	}
}

422 
	$JHANDLER_FUNCTION
(
U∆ök
) {

423 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

424 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

425 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

427 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

429 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

430 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

432 i‡(
jˇŒback
) {

433 
	`FS_ASYNC
(
ív
, 
u∆ök
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
∑th
));

435 
	`FS_SYNC
(
ív
, 
u∆ök
, 
	`iŸjs_°rög_d©a
(&
∑th
));

438 
	`iŸjs_°rög_de°roy
(&
∑th
);

439 
	}
}

442 
	$JHANDLER_FUNCTION
(
Ríame
) {

443 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

444 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, string);

445 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(2, 
fun˘i⁄
);

447 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

449 
iŸjs_°rög_t
 
ﬁdP©h
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

450 
iŸjs_°rög_t
 
√wP©h
 = 
	`JHANDLER_GET_ARG
(1, 
°rög
);

451 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(2, 
fun˘i⁄
);

453 i‡(
jˇŒback
) {

454 
	`FS_ASYNC
(
ív
, 
ª«me
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
ﬁdP©h
),

455 
	`iŸjs_°rög_d©a
(&
√wP©h
));

457 
	`FS_SYNC
(
ív
, 
ª«me
, 
	`iŸjs_°rög_d©a
(&
ﬁdP©h
),

458 
	`iŸjs_°rög_d©a
(&
√wP©h
));

461 
	`iŸjs_°rög_de°roy
(&
ﬁdP©h
);

462 
	`iŸjs_°rög_de°roy
(&
√wP©h
);

463 
	}
}

466 
	$JHANDLER_FUNCTION
(
RódDú
) {

467 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

468 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

469 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

471 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

472 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

473 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

475 i‡(
jˇŒback
) {

476 
	`FS_ASYNC
(
ív
, 
sˇndú
, 
jˇŒback
, 
	`iŸjs_°rög_d©a
(&
∑th
), 0);

478 
	`FS_SYNC
(
ív
, 
sˇndú
, 
	`iŸjs_°rög_d©a
(&
∑th
), 0);

480 
	`iŸjs_°rög_de°roy
(&
∑th
);

481 
	}
}

483 
	$SètsIsTy≥Of
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
ty≥
) {

484 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

485 c⁄° 
iŸjs_jvÆ_t
* 
°©s
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

486 
iŸjs_jvÆ_t
 
mode
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
°©s
, 
IOTJS_MAGIC_STRING_MODE
);

488 
mode_numbî
 = ()
	`iŸjs_jvÆ_as_numbî
(&
mode
);

490 
	`iŸjs_jvÆ_de°roy
(&
mode
);

492 
	`iŸjs_jh™dÀr_ªtu∫_boﬁón
(
jh™dÀr
, (
mode_numbî
 & 
S_IFMT
Ë=
ty≥
);

493 
	}
}

495 
	$JHANDLER_FUNCTION
(
SètsIsDúe˘‹y
) {

496 
	`SètsIsTy≥Of
(
jh™dÀr
, 
S_IFDIR
);

497 
	}
}

499 
	$JHANDLER_FUNCTION
(
SètsIsFûe
) {

500 
	`SètsIsTy≥Of
(
jh™dÀr
, 
S_IFREG
);

501 
	}
}

503 
iŸjs_jvÆ_t
 
	$InôFs
() {

504 
iŸjs_jvÆ_t
 
fs
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

506 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

507 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_OPEN
, 
O≥n
);

508 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_READ
, 
Ród
);

509 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

510 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_STAT
, 
Sèt
);

511 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_FSTAT
, 
F°©
);

512 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_MKDIR
, 
MkDú
);

513 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_RMDIR
, 
RmDú
);

514 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_UNLINK
, 
U∆ök
);

515 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_RENAME
, 
Ríame
);

516 
	`iŸjs_jvÆ_£t_mëhod
(&
fs
, 
IOTJS_MAGIC_STRING_READDIR
, 
RódDú
);

518 
iŸjs_jvÆ_t
 
°©s_¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

520 
	`iŸjs_jvÆ_£t_mëhod
(&
°©s_¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_ISDIRECTORY
,

521 
SètsIsDúe˘‹y
);

522 
	`iŸjs_jvÆ_£t_mëhod
(&
°©s_¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_ISFILE
,

523 
SètsIsFûe
);

525 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
fs
, 
IOTJS_MAGIC_STRING_STATS
, &
°©s_¥ŸŸy≥
);

526 
	`iŸjs_jvÆ_de°roy
(&
°©s_¥ŸŸy≥
);

528  
fs
;

529 
	}
}

	@src/modules/iotjs_module_gpio.c

16 
	~<°rög.h
>

18 
	~"iŸjs_def.h
"

19 
	~"iŸjs_moduÀ_gpio.h
"

20 
	~"iŸjs_obje˘wøp.h
"

21 
	~<°dio.h
>

24 
iŸjs_gpio_t
* 
iŸjs_gpio_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jgpio
);

25 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
gpio
);

28 
iŸjs_gpio_t
* 
	$iŸjs_gpio_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jgpio
) {

29 
iŸjs_gpio_t
* 
gpio
 = 
	`IOTJS_ALLOC
(iotjs_gpio_t);

30 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_gpio_t
, 
gpio
);

31 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
jgpio
,

32 &
this_moduÀ_«tive_öfo
);

34 
	`iŸjs_gpio_∂©f‹m_¸óã
(
_this
);

35  
gpio
;

36 
	}
}

39 
	$iŸjs_gpio_de°roy
(
iŸjs_gpio_t
* 
gpio
) {

40 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_gpio_t
, 
gpio
);

41 
	`iŸjs_gpio_∂©f‹m_de°roy
(
_this
);

42 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

43 
	`IOTJS_RELEASE
(
gpio
);

44 
	}
}

47 
	#THIS
 
iŸjs_gpio_ªqwøp_t
* 
gpio_ªqwøp


	)

50 
iŸjs_gpio_ªqwøp_t
* 
	$iŸjs_gpio_ªqwøp_¸óã
(

51 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
iŸjs_gpio_t
* 
gpio
, 
GpioOp
 
›
) {

52 
iŸjs_gpio_ªqwøp_t
* 
gpio_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_gpio_reqwrap_t);

53 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

55 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

57 
_this
->
ªq_d©a
.
›
 = op;

58 
_this
->
gpio_ö°™˚
 = 
gpio
;

59  
gpio_ªqwøp
;

60 
	}
}

63 
	$iŸjs_gpio_ªqwøp_de°roy
(
THIS
) {

64 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

65 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

66 
	`IOTJS_RELEASE
(
gpio_ªqwøp
);

67 
	}
}

70 
	$iŸjs_gpio_ªqwøp_di•©ched
(
THIS
) {

71 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

72 
	`iŸjs_gpio_ªqwøp_de°roy
(
gpio_ªqwøp
);

73 
	}
}

76 
uv_w‹k_t
* 
	$iŸjs_gpio_ªqwøp_ªq
(
THIS
) {

77 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

78  &
_this
->
ªq
;

79 
	}
}

82 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_gpio_ªqwøp_jˇŒback
(
THIS
) {

83 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

84  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

85 
	}
}

88 
iŸjs_gpio_t
* 
	$iŸjs_gpio_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jgpio
) {

89 
uöçå_t
 
h™dÀ
 = 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jgpio
);

90  (
iŸjs_gpio_t
*)
h™dÀ
;

91 
	}
}

94 
iŸjs_gpio_ªqwøp_t
* 
	$iŸjs_gpio_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
) {

95  (
iŸjs_gpio_ªqwøp_t
*)(
	`iŸjs_ªqwøp_‰om_ªque°
((
uv_ªq_t
*)
ªq
));

96 
	}
}

99 
iŸjs_gpio_ªqd©a_t
* 
	$iŸjs_gpio_ªqwøp_d©a
(
THIS
) {

100 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

101  &
_this
->
ªq_d©a
;

102 
	}
}

105 
iŸjs_gpio_t
* 
	$iŸjs_gpio_ö°™˚_‰om_ªqwøp
(
THIS
) {

106 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_ªqwøp_t
, 
gpio_ªqwøp
);

107  
_this
->
gpio_ö°™˚
;

108 
	}
}

111 #unde‡
THIS


114 
	$iŸjs_gpio_wrôe_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

115 
GPIO_WORKER_INIT
;

117 i‡(!
	`iŸjs_gpio_wrôe
(
gpio
, 
ªq_d©a
->
vÆue
)) {

118 
ªq_d©a
->
ªsu…
 = 
Ál£
;

122 
ªq_d©a
->
ªsu…
 = 
åue
;

123 
	}
}

126 
	$iŸjs_gpio_ªad_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

127 
GPIO_WORKER_INIT
;

129 
ªsu…
 = 
	`iŸjs_gpio_ªad
(
gpio
);

130 i‡(
ªsu…
 < 0) {

131 
ªq_d©a
->
ªsu…
 = 
Ál£
;

134 
ªq_d©a
->
ªsu…
 = 
åue
;

135 
ªq_d©a
->
vÆue
 = (
boﬁ
)
ªsu…
;

136 
	}
}

139 
	$iŸjs_gpio_˛o£_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

140 
GPIO_WORKER_INIT
;

142 i‡(!
	`iŸjs_gpio_˛o£
(
gpio
)) {

143 
ªq_d©a
->
ªsu…
 = 
Ál£
;

147 
ªq_d©a
->
ªsu…
 = 
åue
;

148 
	}
}

151 
	$iŸjs_gpio_a·î_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
, 
°©us
) {

152 
iŸjs_gpio_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_gpio_ªqwøp_‰om_ªque°
(
w‹k_ªq
);

153 
iŸjs_gpio_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_gpio_ªqwøp_d©a
(
ªq_wøp
);

154 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

155 
boﬁ
 
ªsu…
 = 
ªq_d©a
->result;

157 i‡(
°©us
) {

158 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "GPIO System Error");

160 
ªq_d©a
->
›
) {

161 
kGpioOpO≥n
:

162 i‡(!
ªsu…
) {

163 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "GPIO Open Error");

165 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

168 
kGpioOpWrôe
:

169 i‡(!
ªsu…
) {

170 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "GPIO Write Error");

172 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

175 
kGpioOpRód
:

176 i‡(!
ªsu…
) {

177 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "GPIO Read Error");

179 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

180 
	`iŸjs_j¨gs_≠≥nd_boﬁ
(&
j¨gs
, 
ªq_d©a
->
vÆue
);

183 
kGpioOpClo£
:

184 i‡(!
ªsu…
) {

185 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "GPIO Close Error");

187 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

191 
	`IOTJS_ASSERT
(!"Unreachable");

196 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_gpio_ªqwøp_jˇŒback
(
ªq_wøp
);

197 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

199 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

201 
	`iŸjs_gpio_ªqwøp_di•©ched
(
ªq_wøp
);

202 
	}
}

205 
	$gpio_£t_c⁄figuøbÀ
(
iŸjs_gpio_t
* 
gpio
,

206 c⁄° 
iŸjs_jvÆ_t
* 
jc⁄figuøbÀ
) {

207 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

209 
iŸjs_jvÆ_t
 
jpö
 =

210 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøbÀ
, 
IOTJS_MAGIC_STRING_PIN
);

211 
_this
->
pö
 = 
	`iŸjs_jvÆ_as_numbî
(&
jpö
);

212 
	`iŸjs_jvÆ_de°roy
(&
jpö
);

214 
iŸjs_jvÆ_t
 
jdúe˘i⁄
 =

215 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøbÀ
, 
IOTJS_MAGIC_STRING_DIRECTION
);

216 
_this
->
dúe˘i⁄
 = (
GpioDúe˘i⁄
)
	`iŸjs_jvÆ_as_numbî
(&
jdúe˘i⁄
);

217 
	`iŸjs_jvÆ_de°roy
(&
jdúe˘i⁄
);

219 
iŸjs_jvÆ_t
 
jmode
 =

220 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøbÀ
, 
IOTJS_MAGIC_STRING_MODE
);

221 
_this
->
mode
 = (
GpioMode
)
	`iŸjs_jvÆ_as_numbî
(&
jmode
);

222 
	`iŸjs_jvÆ_de°roy
(&
jmode
);

224 
iŸjs_jvÆ_t
 
jedge
 =

225 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøbÀ
, 
IOTJS_MAGIC_STRING_EDGE
);

226 
_this
->
edge
 = (
GpioMode
)
	`iŸjs_jvÆ_as_numbî
(&
jedge
);

227 
	`iŸjs_jvÆ_de°roy
(&
jedge
);

228 
	}
}

231 
	#GPIO_ASYNC
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
) \

233 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

234 
iŸjs_gpio_ªqwøp_t
* 
ªq_wøp
 = \

235 
	`iŸjs_gpio_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

236 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_gpio_ªqwøp_ªq
(
ªq_wøp
); \

237 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_gpio_
##
ˇŒ
##
_w‹kî
, \

238 
iŸjs_gpio_a·î_w‹kî
); \

239 } 0)

	)

242 
	#GPIO_ASYNC_WITH_VALUE
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
, 
vÆ
) \

244 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

245 
iŸjs_gpio_ªqwøp_t
* 
ªq_wøp
 = \

246 
	`iŸjs_gpio_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

247 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_gpio_ªqwøp_ªq
(
ªq_wøp
); \

248 
iŸjs_gpio_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_gpio_ªqwøp_d©a
(
ªq_wøp
); \

249 
ªq_d©a
->
vÆue
 = 
vÆ
; \

250 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_gpio_
##
ˇŒ
##
_w‹kî
, \

251 
iŸjs_gpio_a·î_w‹kî
); \

252 } 0)

	)

255 
	$JHANDLER_FUNCTION
(
GpioC⁄°ru˘‹
) {

256 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

257 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, 
fun˘i⁄
);

260 c⁄° 
iŸjs_jvÆ_t
* 
jgpio
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

261 
iŸjs_gpio_t
* 
gpio
 = 
	`iŸjs_gpio_¸óã
(
jgpio
);

262 
	`IOTJS_ASSERT
(
gpio
 =
	`iŸjs_gpio_ö°™˚_‰om_jvÆ
(
jgpio
));

264 
	`gpio_£t_c⁄figuøbÀ
(
gpio
, 
	`JHANDLER_GET_ARG
(0, 
obje˘
));

266 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(1, 
fun˘i⁄
);

267 
	`GPIO_ASYNC
(
›í
, 
gpio
, 
jˇŒback
, 
kGpioOpO≥n
);

268 
	}
}

271 
	$JHANDLER_FUNCTION
(
Wrôe
) {

272 
	`JHANDLER_DECLARE_THIS_PTR
(
gpio
, gpio);

273 
	`DJHANDLER_CHECK_ARGS
(1, 
boﬁón
);

274 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

276 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

278 
boﬁ
 
vÆue
 = 
	`JHANDLER_GET_ARG
(0, 
boﬁón
);

280 i‡(
jˇŒback
) {

281 
	`GPIO_ASYNC_WITH_VALUE
(
wrôe
, 
gpio
, 
jˇŒback
, 
kGpioOpWrôe
, 
vÆue
);

283 i‡(!
	`iŸjs_gpio_wrôe
(
gpio
, 
vÆue
)) {

284 
	`JHANDLER_THROW
(
COMMON
, "GPIO WriteSync Error");

288 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

289 
	}
}

292 
	$JHANDLER_FUNCTION
(
Ród
) {

293 
	`JHANDLER_DECLARE_THIS_PTR
(
gpio
, gpio);

294 
	`DJHANDLER_CHECK_ARGS
(0);

295 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

297 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

299 i‡(
jˇŒback
) {

300 
	`GPIO_ASYNC
(
ªad
, 
gpio
, 
jˇŒback
, 
kGpioOpRód
);

301 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

303 
vÆue
 = 
	`iŸjs_gpio_ªad
(
gpio
);

304 i‡(
vÆue
 < 0) {

305 
	`JHANDLER_THROW
(
COMMON
, "GPIO ReadSync Error");

307 
	`iŸjs_jh™dÀr_ªtu∫_boﬁón
(
jh™dÀr
, 
vÆue
);

309 
	}
}

312 
	$JHANDLER_FUNCTION
(
Clo£
) {

313 
	`JHANDLER_DECLARE_THIS_PTR
(
gpio
, gpio)

314 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

316 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

318 i‡(
jˇŒback
) {

319 
	`GPIO_ASYNC
(
˛o£
, 
gpio
, 
jˇŒback
, 
kGpioOpClo£
);

321 i‡(!
	`iŸjs_gpio_˛o£
(
gpio
)) {

322 
	`JHANDLER_THROW
(
COMMON
, "GPIO CloseSync Error");

326 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

327 
	}
}

330 
iŸjs_jvÆ_t
 
	$InôGpio
() {

331 
iŸjs_jvÆ_t
 
jgpio
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

332 
iŸjs_jvÆ_t
 
jgpioC⁄°ru˘‹
 =

333 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
GpioC⁄°ru˘‹
);

334 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jgpio
, 
IOTJS_MAGIC_STRING_GPIO
,

335 &
jgpioC⁄°ru˘‹
);

337 
iŸjs_jvÆ_t
 
j¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

338 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

339 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_READ
, 
Ród
);

340 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

341 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jgpioC⁄°ru˘‹
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

342 &
j¥ŸŸy≥
);

343 
	`iŸjs_jvÆ_de°roy
(&
j¥ŸŸy≥
);

344 
	`iŸjs_jvÆ_de°roy
(&
jgpioC⁄°ru˘‹
);

347 
iŸjs_jvÆ_t
 
jdúe˘i⁄
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

348 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jdúe˘i⁄
, 
IOTJS_MAGIC_STRING_IN
,

349 
kGpioDúe˘i⁄In
);

350 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jdúe˘i⁄
, 
IOTJS_MAGIC_STRING_OUT
,

351 
kGpioDúe˘i⁄Out
);

352 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jgpio
, 
IOTJS_MAGIC_STRING_DIRECTION_U
,

353 &
jdúe˘i⁄
);

354 
	`iŸjs_jvÆ_de°roy
(&
jdúe˘i⁄
);

358 
iŸjs_jvÆ_t
 
jmode
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

359 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_NONE
,

360 
kGpioModeN⁄e
);

361 #i‡
	`deföed
(
__NUTTX__
)

362 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_PULLUP
,

363 
kGpioModePuŒup
);

364 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_PULLDOWN
,

365 
kGpioModePuŒdown
);

366 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_FLOAT
,

367 
kGpioModeFlﬂt
);

368 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_PUSHPULL
,

369 
kGpioModePushpuŒ
);

370 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_OPENDRAIN
,

371 
kGpioModeO≥ndøö
);

373 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jgpio
, 
IOTJS_MAGIC_STRING_MODE_U
, &
jmode
);

374 
	`iŸjs_jvÆ_de°roy
(&
jmode
);

377 
iŸjs_jvÆ_t
 
jedge
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

378 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jedge
, 
IOTJS_MAGIC_STRING_NONE
,

379 
kGpioEdgeN⁄e
);

380 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jedge
, 
IOTJS_MAGIC_STRING_RISING_U
,

381 
kGpioEdgeRisög
);

382 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jedge
, 
IOTJS_MAGIC_STRING_FALLING_U
,

383 
kGpioEdgeFÆlög
);

384 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jedge
, 
IOTJS_MAGIC_STRING_BOTH_U
,

385 
kGpioEdgeBŸh
);

386 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jgpio
, 
IOTJS_MAGIC_STRING_EDGE_U
, &
jedge
);

387 
	`iŸjs_jvÆ_de°roy
(&
jedge
);

389  
jgpio
;

390 
	}
}

	@src/modules/iotjs_module_gpio.h

17 #i‚de‡
IOTJS_MODULE_GPIO_H


18 
	#IOTJS_MODULE_GPIO_H


	)

21 
	~"iŸjs_def.h
"

22 
	~"iŸjs_obje˘wøp.h
"

23 
	~"iŸjs_ªqwøp.h
"

27 
	mkGpioDúe˘i⁄In
 = 0,

28 
	mkGpioDúe˘i⁄Out
,

29 } 
	tGpioDúe˘i⁄
;

33 
	mkGpioModeN⁄e
 = 0,

34 
	mkGpioModePuŒup
,

35 
	mkGpioModePuŒdown
,

36 
	mkGpioModeFlﬂt
,

37 
	mkGpioModePushpuŒ
,

38 
	mkGpioModeO≥ndøö
,

39 } 
	tGpioMode
;

43 
	mkGpioEdgeN⁄e
 = 0,

44 
	mkGpioEdgeRisög
,

45 
	mkGpioEdgeFÆlög
,

46 
	mkGpioEdgeBŸh
,

47 } 
	tGpioEdge
;

51 
	mkGpioOpO≥n
,

52 
	mkGpioOpWrôe
,

53 
	mkGpioOpRód
,

54 
	mkGpioOpClo£
,

55 } 
	tGpioOp
;

59 
boﬁ
 
	mvÆue
;

60 
boﬁ
 
	mªsu…
;

61 
GpioOp
 
	m›
;

62 } 
	tiŸjs_gpio_ªqd©a_t
;

64 
_iŸjs_gpio_moduÀ_∂©f‹m_t
* 
	tiŸjs_gpio_moduÀ_∂©f‹m_t
;

68 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

69 
uöt32_t
 
	mpö
;

70 
GpioDúe˘i⁄
 
	mdúe˘i⁄
;

71 
GpioMode
 
	mmode
;

72 
GpioEdge
 
	medge
;

73 
iŸjs_gpio_moduÀ_∂©f‹m_t
 
	m∂©f‹m
;

74 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_gpio_t
);

78 
iŸjs_ªqwøp_t
 
	mªqwøp
;

79 
uv_w‹k_t
 
	mªq
;

80 
iŸjs_gpio_ªqd©a_t
 
	mªq_d©a
;

81 
iŸjs_gpio_t
* 
	mgpio_ö°™˚
;

82 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_gpio_ªqwøp_t
);

85 
	#THIS
 
iŸjs_gpio_ªqwøp_t
* 
gpio_ªqwøp


	)

87 
iŸjs_gpio_ªqwøp_t
* 
iŸjs_gpio_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
);

88 
iŸjs_gpio_ªqd©a_t
* 
iŸjs_gpio_ªqwøp_d©a
(
THIS
);

90 
iŸjs_gpio_t
* 
iŸjs_gpio_ö°™˚_‰om_ªqwøp
(
THIS
);

92 #unde‡
THIS


95 
	#GPIO_WORKER_INIT
 \

96 
iŸjs_gpio_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_gpio_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

97 
iŸjs_gpio_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_gpio_ªqwøp_d©a
(
ªq_wøp
); \

98 
iŸjs_gpio_t
* 
gpio
 = 
	`iŸjs_gpio_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

	)

101 
iŸjs_gpio_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

102 
boﬁ
 
iŸjs_gpio_wrôe
(
iŸjs_gpio_t
* 
gpio
, boﬁ 
vÆue
);

103 
iŸjs_gpio_ªad
(
iŸjs_gpio_t
* 
gpio
);

104 
boﬁ
 
iŸjs_gpio_˛o£
(
iŸjs_gpio_t
* 
gpio
);

105 
iŸjs_gpio_∂©f‹m_¸óã
(
iŸjs_gpio_t_im∂_t
* 
gpio
);

106 
iŸjs_gpio_∂©f‹m_de°roy
(
iŸjs_gpio_t_im∂_t
* 
gpio
);

	@src/modules/iotjs_module_httpparser.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ_buf„r.h
"

19 
	~<°dio.h
>

20 
	~<°dlib.h
>

21 
	~<°rög.h
>

23 
	~"hâp_∑r£r.h
"

33 
	#HEADER_MAX
 10

	)

37 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

39 
hâp_∑r£r
 
	m∑r£r
;

41 
iŸjs_°rög_t
 
	muæ
;

42 
iŸjs_°rög_t
 
	m°©us_msg
;

44 
iŸjs_°rög_t
 
	mfõlds
[
HEADER_MAX
];

45 
iŸjs_°rög_t
 
	mvÆues
[
HEADER_MAX
];

46 
size_t
 
	mn_fõlds
;

47 
size_t
 
	mn_vÆues
;

49 
iŸjs_jvÆ_t
* 
	mcur_jbuf
;

50 * 
	mcur_buf
;

51 
size_t
 
	mcur_buf_Àn
;

53 
boﬁ
 
	mÊushed
;

54 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_hâµ¨£rwøp_t
);

57 
hâp_∑r£r_ty≥
 
	thâp_∑r£r_ty≥
;

60 
	$iŸjs_hâµ¨£rwøp_öôülize
(

61 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
, 
hâp_∑r£r_ty≥
 
ty≥
) {

62 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

63 
	`hâp_∑r£r_öô
(&
_this
->
∑r£r
, 
ty≥
);

64 
	`iŸjs_°rög_make_em±y
(&
_this
->
uæ
);

65 
	`iŸjs_°rög_make_em±y
(&
_this
->
°©us_msg
);

66 
_this
->
n_fõlds
 = 0;

67 
_this
->
n_vÆues
 = 0;

68 
_this
->
Êushed
 = 
Ál£
;

69 
_this
->
cur_jbuf
 = 
NULL
;

70 
_this
->
cur_buf
 = 
NULL
;

71 
_this
->
cur_buf_Àn
 = 0;

72 
	}
}

75 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
hâµ¨£rwøp
);

78 
	$iŸjs_hâµ¨£rwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
j∑r£r
,

79 
hâp_∑r£r_ty≥
 
ty≥
) {

80 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 = 
	`IOTJS_ALLOC
(iotjs_httpparserwrap_t);

81 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

82 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
j∑r£r
,

83 &
this_moduÀ_«tive_öfo
);

85 
_this
->
uæ
 = 
	`iŸjs_°rög_¸óã
();

86 
_this
->
°©us_msg
 = 
	`iŸjs_°rög_¸óã
();

87 
size_t
 
i
 = 0; i < 
HEADER_MAX
; i++) {

88 
_this
->
fõlds
[
i
] = 
	`iŸjs_°rög_¸óã
();

89 
_this
->
vÆues
[
i
] = 
	`iŸjs_°rög_¸óã
();

92 
	`iŸjs_hâµ¨£rwøp_öôülize
(
hâµ¨£rwøp
, 
ty≥
);

93 
_this
->
∑r£r
.
d©a
 = 
hâµ¨£rwøp
;

95 
	`IOTJS_ASSERT
(

96 
	`iŸjs_jvÆ_is_obje˘
(
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
)));

97 
	}
}

100 
	$iŸjs_hâµ¨£rwøp_de°roy
(

101 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
) {

102 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

104 
	`iŸjs_°rög_de°roy
(&
_this
->
uæ
);

105 
	`iŸjs_°rög_de°roy
(&
_this
->
°©us_msg
);

106 
size_t
 
i
 = 0; i < 
HEADER_MAX
; i++) {

107 
	`iŸjs_°rög_de°roy
(&
_this
->
fõlds
[
i
]);

108 
	`iŸjs_°rög_de°roy
(&
_this
->
vÆues
[
i
]);

110 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

112 
	`IOTJS_RELEASE
(
hâµ¨£rwøp
);

113 
	}
}

116 
iŸjs_jvÆ_t
 
	$iŸjs_hâµ¨£rwøp_make_hódî
(

117 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
) {

118 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

119 
iŸjs_jvÆ_t
 
jhódî
 = 
	`iŸjs_jvÆ_¸óã_¨øy
(
_this
->
n_vÆues
 * 2);

120 
size_t
 
i
 = 0; i < 
_this
->
n_vÆues
; i++) {

121 
iŸjs_jvÆ_t
 
f
 = 
	`iŸjs_jvÆ_¸óã_°rög
(&
_this
->
fõlds
[
i
]);

122 
iŸjs_jvÆ_t
 
v
 = 
	`iŸjs_jvÆ_¸óã_°rög
(&
_this
->
vÆues
[
i
]);

123 
	`iŸjs_jvÆ_£t_¥›îty_by_ödex
(&
jhódî
, 
i
 * 2, &
f
);

124 
	`iŸjs_jvÆ_£t_¥›îty_by_ödex
(&
jhódî
, 
i
 * 2 + 1, &
v
);

125 
	`iŸjs_jvÆ_de°roy
(&
f
);

126 
	`iŸjs_jvÆ_de°roy
(&
v
);

128  
jhódî
;

129 
	}
}

132 
	$iŸjs_hâµ¨£rwøp_Êush
(
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
) {

133 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

134 c⁄° 
iŸjs_jvÆ_t
* 
jobj
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

135 
iŸjs_jvÆ_t
 
func
 =

136 
	`iŸjs_jvÆ_gë_¥›îty
(
jobj
, 
IOTJS_MAGIC_STRING_ONHEADERS
);

137 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
func
));

139 
iŸjs_j¨gs_t
 
¨gv
 = 
	`iŸjs_j¨gs_¸óã
(2);

140 
iŸjs_jvÆ_t
 
jhódî
 = 
	`iŸjs_hâµ¨£rwøp_make_hódî
(
hâµ¨£rwøp
);

141 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
¨gv
, &
jhódî
);

142 
	`iŸjs_jvÆ_de°roy
(&
jhódî
);

143 i‡(
_this
->
∑r£r
.
ty≥
 =
HTTP_REQUEST
 &&

144 !
	`iŸjs_°rög_is_em±y
(&
_this
->
uæ
)) {

145 
	`iŸjs_j¨gs_≠≥nd_°rög
(&
¨gv
, &
_this
->
uæ
);

148 
	`iŸjs_make_ˇŒback
(&
func
, 
jobj
, &
¨gv
);

150 
	`iŸjs_°rög_make_em±y
(&
_this
->
uæ
);

151 
	`iŸjs_j¨gs_de°roy
(&
¨gv
);

152 
	`iŸjs_jvÆ_de°roy
(&
func
);

153 
_this
->
Êushed
 = 
åue
;

154 
	}
}

157 
	$iŸjs_hâµ¨£rwøp_£t_buf
(
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
,

158 
iŸjs_jvÆ_t
* 
jbuf
, * 
buf
,

159 
size_t
 
sz
) {

160 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

161 
_this
->
cur_jbuf
 = 
jbuf
;

162 
_this
->
cur_buf
 = 
buf
;

163 
_this
->
cur_buf_Àn
 = 
sz
;

164 
	}
}

168 
	$iŸjs_hâµ¨£rwøp_⁄_mesßge_begö
(
hâp_∑r£r
* 
∑r£r
) {

169 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

170 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

171 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

172 
	`iŸjs_°rög_make_em±y
(&
_this
->
uæ
);

173 
	`iŸjs_°rög_make_em±y
(&
_this
->
°©us_msg
);

175 
	}
}

178 
	$iŸjs_hâµ¨£rwøp_⁄_uæ
(
hâp_∑r£r
* 
∑r£r
, c⁄° * 
©
,

179 
size_t
 
Àngth
) {

180 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

181 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

182 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

183 
	`iŸjs_°rög_≠≥nd
(&
_this
->
uæ
, 
©
, 
Àngth
);

185 
	}
}

188 
	$iŸjs_hâµ¨£rwøp_⁄_°©us
(
hâp_∑r£r
* 
∑r£r
, c⁄° * 
©
,

189 
size_t
 
Àngth
) {

190 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

191 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

192 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

193 
	`iŸjs_°rög_≠≥nd
(&
_this
->
°©us_msg
, 
©
, 
Àngth
);

195 
	}
}

198 
	$iŸjs_hâµ¨£rwøp_⁄_hódî_fõld
(
hâp_∑r£r
* 
∑r£r
,

199 c⁄° * 
©
, 
size_t
 
Àngth
) {

200 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

201 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

202 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

203 i‡(
_this
->
n_fõlds
 =_this->
n_vÆues
) {

204 
_this
->
n_fõlds
++;

207 i‡(
_this
->
n_fõlds
 =
HEADER_MAX
) {

208 
	`iŸjs_hâµ¨£rwøp_Êush
(
hâµ¨£rwøp
);

209 
_this
->
n_fõlds
 = 1;

210 
_this
->
n_vÆues
 = 0;

212 
	`iŸjs_°rög_make_em±y
(&
_this
->
fõlds
[_this->
n_fõlds
 - 1]);

214 
	`IOTJS_ASSERT
(
_this
->
n_fõlds
 =_this->
n_vÆues
 + 1);

215 
	`iŸjs_°rög_≠≥nd
(&
_this
->
fõlds
[_this->
n_fõlds
 - 1], 
©
, 
Àngth
);

218 
	}
}

221 
	$iŸjs_hâµ¨£rwøp_⁄_hódî_vÆue
(
hâp_∑r£r
* 
∑r£r
,

222 c⁄° * 
©
, 
size_t
 
Àngth
) {

223 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

224 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

225 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

226 i‡(
_this
->
n_fõlds
 !_this->
n_vÆues
) {

227 
_this
->
n_vÆues
++;

228 
	`iŸjs_°rög_make_em±y
(&
_this
->
vÆues
[_this->
n_vÆues
 - 1]);

231 
	`IOTJS_ASSERT
(
_this
->
n_fõlds
 =_this->
n_vÆues
);

233 
	`iŸjs_°rög_≠≥nd
(&
_this
->
vÆues
[_this->
n_vÆues
 - 1], 
©
, 
Àngth
);

236 
	}
}

239 
	$iŸjs_hâµ¨£rwøp_⁄_hódîs_com∂ëe
(
hâp_∑r£r
* 
∑r£r
) {

240 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

241 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

242 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

243 c⁄° 
iŸjs_jvÆ_t
* 
jobj
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

244 
iŸjs_jvÆ_t
 
func
 =

245 
	`iŸjs_jvÆ_gë_¥›îty
(
jobj
, 
IOTJS_MAGIC_STRING_ONHEADERSCOMPLETE
);

246 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
func
));

249 
iŸjs_j¨gs_t
 
¨gv
 = 
	`iŸjs_j¨gs_¸óã
(1);

250 
iŸjs_jvÆ_t
 
öfo
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

252 i‡(
_this
->
Êushed
) {

256 
	`iŸjs_hâµ¨£rwøp_Êush
(
hâµ¨£rwøp
);

260 
iŸjs_jvÆ_t
 
jhódî
 = 
	`iŸjs_hâµ¨£rwøp_make_hódî
(
hâµ¨£rwøp
);

261 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
öfo
, 
IOTJS_MAGIC_STRING_HEADERS
, &
jhódî
);

262 
	`iŸjs_jvÆ_de°roy
(&
jhódî
);

263 i‡(
_this
->
∑r£r
.
ty≥
 =
HTTP_REQUEST
) {

264 
	`IOTJS_ASSERT
(!
	`iŸjs_°rög_is_em±y
(&
_this
->
uæ
));

265 
	`iŸjs_jvÆ_£t_¥›îty_°rög
(&
öfo
, 
IOTJS_MAGIC_STRING_URL
,

266 &
_this
->
uæ
);

269 
_this
->
n_fõlds
 = _this->
n_vÆues
 = 0;

272 i‡(
_this
->
∑r£r
.
ty≥
 =
HTTP_REQUEST
) {

273 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
öfo
, 
IOTJS_MAGIC_STRING_METHOD
,

274 
_this
->
∑r£r
.
mëhod
);

277 i‡(
_this
->
∑r£r
.
ty≥
 =
HTTP_RESPONSE
) {

278 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
öfo
, 
IOTJS_MAGIC_STRING_STATUS
,

279 
_this
->
∑r£r
.
°©us_code
);

280 
	`iŸjs_jvÆ_£t_¥›îty_°rög
(&
öfo
, 
IOTJS_MAGIC_STRING_STATUS_MSG
,

281 &
_this
->
°©us_msg
);

288 
	`iŸjs_jvÆ_£t_¥›îty_boﬁón
(&
öfo
, 
IOTJS_MAGIC_STRING_UPGRADE
,

289 
_this
->
∑r£r
.
upgøde
);

291 
	`iŸjs_jvÆ_£t_¥›îty_boﬁón
(&
öfo
, 
IOTJS_MAGIC_STRING_SHOULDKEEPALIVE
,

292 
	`hâp_should_kìp_Æive
(&
_this
->
∑r£r
));

295 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
¨gv
, &
öfo
);

297 
iŸjs_jvÆ_t
 
ªs
 = 
	`iŸjs_make_ˇŒback_wôh_ªsu…
(&
func
, 
jobj
, &
¨gv
);

299 
ªt
 = 1;

300 i‡(
	`iŸjs_jvÆ_is_boﬁón
(&
ªs
)) {

301 
ªt
 = 
	`iŸjs_jvÆ_as_boﬁón
(&
ªs
);

302 } i‡(
	`iŸjs_jvÆ_is_obje˘
(&
ªs
)) {

305 
ªt
 = 0;

308 
	`iŸjs_j¨gs_de°roy
(&
¨gv
);

309 
	`iŸjs_jvÆ_de°roy
(&
func
);

310 
	`iŸjs_jvÆ_de°roy
(&
ªs
);

311 
	`iŸjs_jvÆ_de°roy
(&
öfo
);

313  
ªt
;

314 
	}
}

317 
	$iŸjs_hâµ¨£rwøp_⁄_body
(
hâp_∑r£r
* 
∑r£r
, c⁄° * 
©
,

318 
size_t
 
Àngth
) {

319 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

320 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

321 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

322 c⁄° 
iŸjs_jvÆ_t
* 
jobj
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

323 
iŸjs_jvÆ_t
 
func
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jobj
, 
IOTJS_MAGIC_STRING_ONBODY
);

324 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
func
));

326 
iŸjs_j¨gs_t
 
¨gv
 = 
	`iŸjs_j¨gs_¸óã
(3);

327 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
¨gv
, 
_this
->
cur_jbuf
);

328 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gv
, 
©
 - 
_this
->
cur_buf
);

329 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gv
, 
Àngth
);

332 
	`iŸjs_make_ˇŒback
(&
func
, 
jobj
, &
¨gv
);

334 
	`iŸjs_j¨gs_de°roy
(&
¨gv
);

335 
	`iŸjs_jvÆ_de°roy
(&
func
);

338 
	}
}

341 
	$iŸjs_hâµ¨£rwøp_⁄_mesßge_com∂ëe
(
hâp_∑r£r
* 
∑r£r
) {

342 
iŸjs_hâµ¨£rwøp_t
* 
hâµ¨£rwøp
 =

343 (
iŸjs_hâµ¨£rwøp_t
*)(
∑r£r
->
d©a
);

344 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
hâµ¨£rwøp
);

345 c⁄° 
iŸjs_jvÆ_t
* 
jobj
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

346 
iŸjs_jvÆ_t
 
func
 =

347 
	`iŸjs_jvÆ_gë_¥›îty
(
jobj
, 
IOTJS_MAGIC_STRING_ONMESSAGECOMPLETE
);

348 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
func
));

350 
	`iŸjs_make_ˇŒback
(&
func
, 
jobj
, 
	`iŸjs_j¨gs_gë_em±y
());

352 
	`iŸjs_jvÆ_de°roy
(&
func
);

355 
	}
}

358 c⁄° 
hâp_∑r£r_£âögs
 
	g£âögs
 = {

359 
iŸjs_hâµ¨£rwøp_⁄_mesßge_begö
,

360 
iŸjs_hâµ¨£rwøp_⁄_uæ
,

361 
iŸjs_hâµ¨£rwøp_⁄_°©us
,

362 
iŸjs_hâµ¨£rwøp_⁄_hódî_fõld
,

363 
iŸjs_hâµ¨£rwøp_⁄_hódî_vÆue
,

364 
iŸjs_hâµ¨£rwøp_⁄_hódîs_com∂ëe
,

365 
iŸjs_hâµ¨£rwøp_⁄_body
,

366 
iŸjs_hâµ¨£rwøp_⁄_mesßge_com∂ëe
,

367 
NULL
,

368 
NULL
,

372 
	$iŸjs_hâµ¨£r_ªtu∫_∑r£ºr‹
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

373 
hâp_∑r£r
* 
«tivï¨£r
) {

374 
hâp_î∫o
 
îr
 = 
	`HTTP_PARSER_ERRNO
(
«tivï¨£r
);

376 
iŸjs_jvÆ_t
 
eobj
 = 
	`iŸjs_jvÆ_¸óã_îr‹
("Parse Error");

377 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
eobj
, 
IOTJS_MAGIC_STRING_BYTEPARSED
, 0);

378 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
eobj
, 
IOTJS_MAGIC_STRING_CODE
,

379 
	`hâp_î∫o_«me
(
îr
));

380 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
eobj
);

381 
	`iŸjs_jvÆ_de°roy
(&
eobj
);

382 
	}
}

385 
	$JHANDLER_FUNCTION
(
Reöôülize
) {

386 
	`JHANDLER_DECLARE_THIS_PTR
(
hâµ¨£rwøp
, 
∑r£r
);

387 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

389 
hâp_∑r£r_ty≥
 
hâµ¨£r_ty≥
 =

390 (
hâp_∑r£r_ty≥
)(
	`JHANDLER_GET_ARG
(0, 
numbî
));

391 
	`IOTJS_ASSERT
(
hâµ¨£r_ty≥
 =
HTTP_REQUEST
 ||

392 
hâµ¨£r_ty≥
 =
HTTP_RESPONSE
);

394 
	`iŸjs_hâµ¨£rwøp_öôülize
(
∑r£r
, 
hâµ¨£r_ty≥
);

395 
	}
}

398 
	$JHANDLER_FUNCTION
(
Föish
) {

399 
	`JHANDLER_DECLARE_THIS_PTR
(
hâµ¨£rwøp
, 
∑r£r
);

400 
	`DJHANDLER_CHECK_ARGS
(0);

401 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
∑r£r
);

403 
hâp_∑r£r
* 
«tivï¨£r
 = &
_this
->
∑r£r
;

404 
size_t
 
rv
 = 
	`hâp_∑r£r_execuã
(
«tivï¨£r
, &
£âögs
, 
NULL
, 0);

406 i‡(
rv
 != 0) {

407 
	`iŸjs_hâµ¨£r_ªtu∫_∑r£ºr‹
(
jh™dÀr
, 
«tivï¨£r
);

409 
	}
}

412 
	$JHANDLER_FUNCTION
(
Execuã
) {

413 
	`JHANDLER_DECLARE_THIS_PTR
(
hâµ¨£rwøp
, 
∑r£r
);

414 
	`DJHANDLER_CHECK_ARGS
(1, 
obje˘
);

416 c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

417 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jbuf„r
);

418 * 
buf_d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

419 
size_t
 
buf_Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

420 
	`JHANDLER_CHECK
(
buf_d©a
 !
NULL
);

421 
	`JHANDLER_CHECK
(
buf_Àn
 > 0);

423 
	`iŸjs_hâµ¨£rwøp_£t_buf
(
∑r£r
, (
iŸjs_jvÆ_t
*)
jbuf„r
, 
buf_d©a
,

424 
buf_Àn
);

426 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
∑r£r
);

427 
hâp_∑r£r
* 
«tivï¨£r
 = &
_this
->
∑r£r
;

428 
size_t
 
≈¨£d
 =

429 
	`hâp_∑r£r_execuã
(
«tivï¨£r
, &
£âögs
, 
buf_d©a
, 
buf_Àn
);

431 
	`iŸjs_hâµ¨£rwøp_£t_buf
(
∑r£r
, 
NULL
, NULL, 0);

434 i‡(!
«tivï¨£r
->
upgøde
 && 
≈¨£d
 !
buf_Àn
) {

436 
	`iŸjs_hâµ¨£r_ªtu∫_∑r£ºr‹
(
jh™dÀr
, 
«tivï¨£r
);

438 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
≈¨£d
);

440 
	}
}

442 
	$iŸjs_hâµ¨£r_∑u£
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
∑u£d
) {

443 
	`JHANDLER_DECLARE_THIS_PTR
(
hâµ¨£rwøp
, 
∑r£r
);

444 
	`DJHANDLER_CHECK_ARGS
(0);

445 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâµ¨£rwøp_t
, 
∑r£r
);

447 
hâp_∑r£r
* 
«tivï¨£r
 = &
_this
->
∑r£r
;

448 
	`hâp_∑r£r_∑u£
(
«tivï¨£r
, 
∑u£d
);

449 
	}
}

451 
	$JHANDLER_FUNCTION
(
Pau£
) {

452 
	`iŸjs_hâµ¨£r_∑u£
(
jh™dÀr
, 1);

453 
	}
}

456 
	$JHANDLER_FUNCTION
(
Resume
) {

457 
	`iŸjs_hâµ¨£r_∑u£
(
jh™dÀr
, 0);

458 
	}
}

461 
	$JHANDLER_FUNCTION
(
HTTPP¨£rC⁄s
) {

462 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

463 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

465 c⁄° 
iŸjs_jvÆ_t
* 
j∑r£r
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

467 
hâp_∑r£r_ty≥
 
hâµ¨£r_ty≥
 =

468 (
hâp_∑r£r_ty≥
)(
	`JHANDLER_GET_ARG
(0, 
numbî
));

469 
	`IOTJS_ASSERT
(
hâµ¨£r_ty≥
 =
HTTP_REQUEST
 ||

470 
hâµ¨£r_ty≥
 =
HTTP_RESPONSE
);

471 
	`iŸjs_hâµ¨£rwøp_¸óã
(
j∑r£r
, 
hâµ¨£r_ty≥
);

472 
	}
}

475 
iŸjs_jvÆ_t
 
	$InôHâµ¨£r
() {

476 
iŸjs_jvÆ_t
 
hâµ¨£r
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

478 
iŸjs_jvÆ_t
 
jP¨£rC⁄s
 =

479 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
HTTPP¨£rC⁄s
);

480 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
hâµ¨£r
, 
IOTJS_MAGIC_STRING_HTTPPARSER
,

481 &
jP¨£rC⁄s
);

483 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jP¨£rC⁄s
, 
IOTJS_MAGIC_STRING_REQUEST
,

484 
HTTP_REQUEST
);

485 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jP¨£rC⁄s
, 
IOTJS_MAGIC_STRING_RESPONSE
,

486 
HTTP_RESPONSE
);

488 
iŸjs_jvÆ_t
 
mëhods
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

489 
	#V
(
num
, 
«me
, 
°rög
) \

490 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
mëhods
, #num, #°rög);

	)

491 
	`HTTP_METHOD_MAP
(
V
)

492 #unde‡
V


494 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jP¨£rC⁄s
, 
IOTJS_MAGIC_STRING_METHODS
,

495 &
mëhods
);

497 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

499 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_EXECUTE
, 
Execuã
);

500 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_REINITIALIZE
,

501 
Reöôülize
);

502 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_FINISH
, 
Föish
);

503 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_PAUSE
, 
Pau£
);

504 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_RESUME
, 
Resume
);

506 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jP¨£rC⁄s
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

507 &
¥ŸŸy≥
);

509 
	`iŸjs_jvÆ_de°roy
(&
jP¨£rC⁄s
);

510 
	`iŸjs_jvÆ_de°roy
(&
mëhods
);

511 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

513  
hâµ¨£r
;

514 
	}
}

	@src/modules/iotjs_module_https.c

16 
	~"iŸjs_moduÀ_hâps.h
"

17 
	~"iŸjs_obje˘wøp.h
"

18 
	~<öây≥s.h
>

19 
	~<limôs.h
>

20 
	~<°dboﬁ.h
>

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<°dlib.h
>

24 
	~<°rög.h
>

26 
iŸjs_hâps_de°roy
(
iŸjs_hâps_t
* 
hâps_d©a
);

27 
IOTJS_DEFINE_NATIVE_HANDLE_INFO
(
hâps
);

30 
iŸjs_hâps_t
* 
	$iŸjs_hâps_¸óã
(c⁄° * 
URL
, c⁄° * 
mëhod
,

31 c⁄° * 
ˇ
, c⁄° * 
˚π
,

32 c⁄° * 
key
,

33 c⁄° 
boﬁ
 
ªje˘_u«uth‹ized
,

34 c⁄° 
iŸjs_jvÆ_t
* 
jthis
) {

35 
iŸjs_hâps_t
* 
hâps_d©a
 = 
	`IOTJS_ALLOC
(iotjs_https_t);

36 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_hâps_t
, 
hâps_d©a
);

39 
_this
->
URL
 = URL;

40 
_this
->
hódî_li°
 = 
NULL
;

41 i‡(
	`°rcmp
(
mëhod
, 
STRING_GET
) == 0)

42 
_this
->
mëhod
 = 
HTTPS_GET
;

43 i‡(
	`°rcmp
(
mëhod
, 
STRING_POST
) == 0)

44 
_this
->
mëhod
 = 
HTTPS_POST
;

45 i‡(
	`°rcmp
(
mëhod
, 
STRING_PUT
) == 0)

46 
_this
->
mëhod
 = 
HTTPS_PUT
;

47 i‡(
	`°rcmp
(
mëhod
, 
STRING_DELETE
) == 0)

48 
_this
->
mëhod
 = 
HTTPS_DELETE
;

49 i‡(
	`°rcmp
(
mëhod
, 
STRING_HEAD
) == 0)

50 
_this
->
mëhod
 = 
HTTPS_HEAD
;

51 i‡(
	`°rcmp
(
mëhod
, 
STRING_CONNECT
) == 0)

52 
_this
->
mëhod
 = 
HTTPS_CONNECT
;

53 i‡(
	`°rcmp
(
mëhod
, 
STRING_OPTIONS
) == 0)

54 
_this
->
mëhod
 = 
HTTPS_OPTIONS
;

55 i‡(
	`°rcmp
(
mëhod
, 
STRING_TRACE
) == 0)

56 
_this
->
mëhod
 = 
HTTPS_TRACE
;

58 
	`IOTJS_ASSERT
(0);

62 
_this
->
ˇ
 = ca;

63 
_this
->
˚π
 = cert;

64 
_this
->
key
 = key;

65 
_this
->
ªje˘_u«uth‹ized
 =Ñeject_unauthorized;

67 
_this
->
c⁄ã¡_Àngth
 = -1;

70 
_this
->
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
());

71 
_this
->
jthis_«tive
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
jthis
);

72 
	`iŸjs_jvÆ_£t_obje˘_«tive_h™dÀ
(&(
_this
->
jthis_«tive
),

73 (
uöçå_t
)
hâps_d©a
,

74 &
hâps_«tive_öfo
);

75 
_this
->
cuæ_mu…i_h™dÀ
 = 
	`cuæ_mu…i_öô
();

76 
_this
->
cuæ_ósy_h™dÀ
 = 
	`cuæ_ósy_öô
();

77 
_this
->
timeout
.
d©a
 = (*)
hâps_d©a
;

78 
	`uv_timî_öô
(
_this
->
lo›
, &(_this->
timeout
));

79 
_this
->
ªque°_d⁄e
 = 
Ál£
;

80 
_this
->
˛osög_h™dÀs
 = 3;

81 
_this
->
pﬁl_d©a
 = 
NULL
;

84 
_this
->
timeout_ms
 = -1;

85 
_this
->
œ°_byãs_num
 = -1;

86 
_this
->
œ°_byãs_time
 = 0;

87 
_this
->
sockë_timeout
.
d©a
 = (*)
hâps_d©a
;

88 
	`uv_timî_öô
(
_this
->
lo›
, &(_this->
sockë_timeout
));

91 
_this
->
cur_ªad_ödex
 = 0;

92 
_this
->
is_°ªam_wrôabÀ
 = 
Ál£
;

93 
_this
->
°ªam_íded
 = 
Ál£
;

94 
_this
->
d©a_to_ªad
 = 
Ál£
;

95 
_this
->
to_de°roy_ªad_⁄wrôe
 = 
Ál£
;

96 
_this
->
async_ªad_⁄wrôe
.
d©a
 = (*)
hâps_d©a
;

97 
	`uv_timî_öô
(
_this
->
lo›
, &(_this->
async_ªad_⁄wrôe
));

99 i‡(
_this
->
mëhod
 =
HTTPS_GET
 || _this->mëhod =
HTTPS_DELETE
 ||

100 
_this
->
mëhod
 =
HTTPS_HEAD
 || _this->mëhod =
HTTPS_OPTIONS
 ||

101 
_this
->
mëhod
 =
HTTPS_TRACE
)

102 
_this
->
°ªam_íded
 = 
åue
;

104  
hâps_d©a
;

105 
	}
}

108 
	$iŸjs_hâps_de°roy
(
iŸjs_hâps_t
* 
hâps_d©a
) {

109 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_hâps_t
, 
hâps_d©a
);

111 
_this
->
URL
 = 
NULL
;

112 
	`IOTJS_RELEASE
(
hâps_d©a
);

113 
	}
}

116 
	$iŸjs_hâps_check_d⁄e
(
iŸjs_hâps_t
* 
hâps_d©a
) {

117 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

118 * 
d⁄e_uæ
;

119 
CURLMsg
* 
mesßge
;

120 
≥ndög
;

121 
boﬁ
 
îr‹
 = 
Ál£
;

123 (
mesßge
 = 
	`cuæ_mu…i_öfo_ªad
(
_this
->
cuæ_mu…i_h™dÀ
, &
≥ndög
))) {

124 
mesßge
->
msg
) {

125 
CURLMSG_DONE
:

126 
	`cuæ_ósy_gëöfo
(
mesßge
->
ósy_h™dÀ
, 
CURLINFO_EFFECTIVE_URL
,

127 &
d⁄e_uæ
);

130 
îr‹
 = 
åue
;

132 i‡(
îr‹
) {

133 
iŸjs_j¨gs_t
 
j¨g
 = 
	`iŸjs_j¨gs_¸óã
(1);

134 
îr‹
[] = "Unknown Error has occured.";

135 
iŸjs_°rög_t
 
jªsu…_°rög
 =

136 
	`iŸjs_°rög_¸óã_wôh_size
(
îr‹
, 
	`°æí
(error));

137 
	`iŸjs_j¨gs_≠≥nd_°rög
(&
j¨g
, &
jªsu…_°rög
);

138 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONERROR
, &
j¨g
,

139 
Ál£
);

140 
	`iŸjs_°rög_de°roy
(&
jªsu…_°rög
);

141 
	`iŸjs_j¨gs_de°roy
(&
j¨g
);

143 i‡(
_this
->
°ªam_íded
) {

144 
	`iŸjs_hâps_˛ónup
(
hâps_d©a
);

146 i‡(
_this
->
to_de°roy_ªad_⁄wrôe
) {

147 
	`iŸjs_hâps_ˇŒ_ªad_⁄wrôe_async
(
hâps_d©a
);

149 
_this
->
ªque°_d⁄e
 = 
åue
;

153 
	}
}

156 
	$iŸjs_hâps_˛ónup
(
iŸjs_hâps_t
* 
hâps_d©a
) {

157 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

158 
_this
->
lo›
 = 
NULL
;

160 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
_this
->
timeout
,

161 (
uv_˛o£_cb
)
iŸjs_hâps_uv_˛o£_ˇŒback
);

162 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
_this
->
sockë_timeout
,

163 (
uv_˛o£_cb
)
iŸjs_hâps_uv_˛o£_ˇŒback
);

164 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
_this
->
async_ªad_⁄wrôe
,

165 (
uv_˛o£_cb
)
iŸjs_hâps_uv_˛o£_ˇŒback
);

167 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONEND
,

168 
	`iŸjs_j¨gs_gë_em±y
(), 
Ál£
);

169 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONCLOSED
,

170 
	`iŸjs_j¨gs_gë_em±y
(), 
Ál£
);

172 
	`cuæ_mu…i_ªmove_h™dÀ
(
_this
->
cuæ_mu…i_h™dÀ
, _this->
cuæ_ósy_h™dÀ
);

173 
	`cuæ_ósy_˛ónup
(
_this
->
cuæ_ósy_h™dÀ
);

174 
_this
->
cuæ_ósy_h™dÀ
 = 
NULL
;

175 
	`cuæ_mu…i_˛ónup
(
_this
->
cuæ_mu…i_h™dÀ
);

176 
_this
->
cuæ_mu…i_h™dÀ
 = 
NULL
;

177 
	`cuæ_¶i°_‰ì_Æl
(
_this
->
hódî_li°
);

179 i‡(
_this
->
pﬁl_d©a
 !
NULL
)

180 
	`iŸjs_hâps_pﬁl_˛o£_Æl
(
_this
->
pﬁl_d©a
);

182 i‡(
_this
->
to_de°roy_ªad_⁄wrôe
) {

183 c⁄° 
iŸjs_j¨gs_t
* 
j¨g
 = 
	`iŸjs_j¨gs_gë_em±y
();

184 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = &(
_this
->
jthis_«tive
);

185 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&(
_this
->
ªad_⁄wrôe
)));

187 i‡(!
	`iŸjs_jvÆ_is_undeföed
(&(
_this
->
ªad_ˇŒback
)))

188 
	`iŸjs_make_ˇŒback
(&(
_this
->
ªad_ˇŒback
), 
jthis
, 
j¨g
);

190 
	`iŸjs_make_ˇŒback
(&(
_this
->
ªad_⁄wrôe
), 
jthis
, 
j¨g
);

191 
_this
->
to_de°roy_ªad_⁄wrôe
 = 
Ál£
;

192 
	`iŸjs_°rög_de°roy
(&(
_this
->
ªad_chunk
));

193 
	`iŸjs_jvÆ_de°roy
(&(
_this
->
ªad_⁄wrôe
));

194 
	`iŸjs_jvÆ_de°roy
(&(
_this
->
ªad_ˇŒback
));

197 
	}
}

199 
CURLM
* 
	$iŸjs_hâps_gë_mu…i_h™dÀ
(
iŸjs_hâps_t
* 
hâps_d©a
) {

200 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

201  
_this
->
cuæ_mu…i_h™dÀ
;

202 
	}
}

205 
	$iŸjs_hâps_öôülize_cuæ_›ts
(
iŸjs_hâps_t
* 
hâps_d©a
) {

206 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

209 
	`cuæ_mu…i_£t›t
(
_this
->
cuæ_mu…i_h™dÀ
, 
CURLMOPT_SOCKETFUNCTION
,

210 
iŸjs_hâps_cuæ_sockë_ˇŒback
);

211 
	`cuæ_mu…i_£t›t
(
_this
->
cuæ_mu…i_h™dÀ
, 
CURLMOPT_SOCKETDATA
,

212 (*)
hâps_d©a
);

213 
	`cuæ_mu…i_£t›t
(
_this
->
cuæ_mu…i_h™dÀ
, 
CURLMOPT_TIMERFUNCTION
,

214 
iŸjs_hâps_cuæ_°¨t_timeout_ˇŒback
);

215 
	`cuæ_mu…i_£t›t
(
_this
->
cuæ_mu…i_h™dÀ
, 
CURLMOPT_TIMERDATA
,

216 (*)
hâps_d©a
);

218 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_PROXY
, "");

219 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_HEADERDATA
,

220 (*)
hâps_d©a
);

221 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_WRITEFUNCTION
,

222 
iŸjs_hâps_cuæ_wrôe_ˇŒback
);

223 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_WRITEDATA
,

224 (*)
hâps_d©a
);

227 i‡(
_this
->
mëhod
 =
HTTPS_POST
 || _this->mëhod =
HTTPS_PUT
 ||

228 
_this
->
mëhod
 =
HTTPS_CONNECT
) {

229 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_READFUNCTION
,

230 
iŸjs_hâps_cuæ_ªad_ˇŒback
);

231 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_READDATA
,

232 (*)
hâps_d©a
);

235 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_SOCKOPTFUNCTION
,

236 
iŸjs_hâps_cuæ_sock›t_ˇŒback
);

237 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_SOCKOPTDATA
,

238 (*)
hâps_d©a
);

240 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_URL
, _this->
URL
);

241 
_this
->
URL
 = 
NULL
;

242 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_PROTOCOLS
,

243 
CURLPROTO_HTTP
 | 
CURLPROTO_HTTPS
);

245 i‡(
	`°æí
(
_this
->
ˇ
) > 0)

246 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_CAINFO
, _this->
ˇ
);

247 
_this
->
ˇ
 = 
NULL
;

248 i‡(
	`°æí
(
_this
->
˚π
) > 0)

249 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_SSLCERT
, _this->
˚π
);

250 
_this
->
˚π
 = 
NULL
;

251 i‡(
	`°æí
(
_this
->
key
) > 0)

252 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_SSLKEY
, _this->
key
);

253 
_this
->
key
 = 
NULL
;

254 i‡(!
_this
->
ªje˘_u«uth‹ized
) {

255 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_SSL_VERIFYPEER
, 0);

256 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_SSL_VERIFYHOST
, 0);

260 
_this
->
mëhod
) {

261 
HTTPS_GET
:

262 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_HTTPGET
, 1L);

264 
HTTPS_POST
:

265 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_POST
, 1L);

267 
HTTPS_PUT
:

268 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_UPLOAD
, 1L);

270 
HTTPS_DELETE
:

271 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_CUSTOMREQUEST
,

274 
HTTPS_HEAD
:

275 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_NOBODY
, 1L);

277 
HTTPS_CONNECT
:

278 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_CUSTOMREQUEST
,

281 
HTTPS_OPTIONS
:

282 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_CUSTOMREQUEST
,

285 
HTTPS_TRACE
:

286 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_CUSTOMREQUEST
, "TRACE");

290 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_HTTP_TRANSFER_DECODING
, 0L);

291 
	}
}

294 
iŸjs_jvÆ_t
* 
	$iŸjs_hâps_jthis_‰om_hâps
(
iŸjs_hâps_t
* 
hâps_d©a
) {

295 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

296  &(
_this
->
jthis_«tive
);

297 
	}
}

300 
boﬁ
 
	$iŸjs_hâps_jˇŒback
(
iŸjs_hâps_t
* 
hâps_d©a
, c⁄° * 
¥›îty
,

301 c⁄° 
iŸjs_j¨gs_t
* 
j¨g
, 
boﬁ
 
ªsu…vÆue
) {

302 
iŸjs_jvÆ_t
* 
jthis
 = 
	`iŸjs_hâps_jthis_‰om_hâps
(
hâps_d©a
);

303 
boﬁ
 
ªtvÆ
 = 
åue
;

304 i‡(
	`iŸjs_jvÆ_is_nuŒ
(
jthis
))

305  
ªtvÆ
;

307 
iŸjs_jvÆ_t
 
jöcomög
 =

308 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING__INCOMING
);

309 
iŸjs_jvÆ_t
 
cb
 = 
	`iŸjs_jvÆ_gë_¥›îty
(&
jöcomög
, 
¥›îty
);

311 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
cb
));

312 i‡(!
ªsu…vÆue
) {

313 
	`iŸjs_make_ˇŒback
(&
cb
, &
jöcomög
, 
j¨g
);

315 
iŸjs_jvÆ_t
 
ªsu…
 =

316 
	`iŸjs_make_ˇŒback_wôh_ªsu…
(&
cb
, &
jöcomög
, 
j¨g
);

317 
ªtvÆ
 = 
	`iŸjs_jvÆ_as_boﬁón
(&
ªsu…
);

318 
	`iŸjs_jvÆ_de°roy
(&
ªsu…
);

321 
	`iŸjs_jvÆ_de°roy
(&
jöcomög
);

322 
	`iŸjs_jvÆ_de°roy
(&
cb
);

323  
ªtvÆ
;

324 
	}
}

327 
	$iŸjs_hâps_ˇŒ_ªad_⁄wrôe
(
uv_timî_t
* 
timî
) {

328 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)(
timî
->
d©a
);

329 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

331 
	`uv_timî_°›
(&(
_this
->
async_ªad_⁄wrôe
));

332 i‡(
	`iŸjs_jvÆ_is_nuŒ
(&
_this
->
jthis_«tive
))

334 c⁄° 
iŸjs_j¨gs_t
* 
j¨g
 = 
	`iŸjs_j¨gs_gë_em±y
();

335 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = &(
_this
->
jthis_«tive
);

336 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&(
_this
->
ªad_⁄wrôe
)));

338 i‡(!
	`iŸjs_jvÆ_is_undeföed
(&(
_this
->
ªad_ˇŒback
)))

339 
	`iŸjs_make_ˇŒback
(&(
_this
->
ªad_ˇŒback
), 
jthis
, 
j¨g
);

341 
	`iŸjs_make_ˇŒback
(&(
_this
->
ªad_⁄wrôe
), 
jthis
, 
j¨g
);

342 
	}
}

345 
	$iŸjs_hâps_ˇŒ_ªad_⁄wrôe_async
(
iŸjs_hâps_t
* 
hâps_d©a
) {

346 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

347 
	`uv_timî_°¨t
(&(
_this
->
async_ªad_⁄wrôe
), 
iŸjs_hâps_ˇŒ_ªad_⁄wrôe
, 0,

349 
	}
}

353 
	$iŸjs_hâps_add_hódî
(
iŸjs_hâps_t
* 
hâps_d©a
,

354 c⁄° * 
ch¨_hódî
) {

355 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

356 
_this
->
hódî_li°
 = 
	`cuæ_¶i°_≠≥nd
(_this->hódî_li°, 
ch¨_hódî
);

357 i‡(
_this
->
mëhod
 =
HTTPS_POST
 || _this->mëhod =
HTTPS_PUT
) {

358 i‡(
	`°∫cmp
(
ch¨_hódî
, "C⁄ã¡-Lígth: ", 
	`°æí
("Content-Length: ")) ==

360 c⁄° * 
numbîSåög
 = 
ch¨_hódî
 + 
	`°æí
("Content-Length: ");

361 
_this
->
c⁄ã¡_Àngth
 = 
	`°πﬁ
(
numbîSåög
, 
NULL
, 10);

364 
	}
}

367 
	$iŸjs_hâps_d©a_to_wrôe
(
iŸjs_hâps_t
* 
hâps_d©a
,

368 
iŸjs_°rög_t
 
ªad_chunk
,

369 c⁄° 
iŸjs_jvÆ_t
* 
ˇŒback
,

370 c⁄° 
iŸjs_jvÆ_t
* 
⁄wrôe
) {

371 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

373 i‡(
_this
->
to_de°roy_ªad_⁄wrôe
) {

374 
_this
->
to_de°roy_ªad_⁄wrôe
 = 
Ál£
;

375 
	`iŸjs_°rög_de°roy
(&(
_this
->
ªad_chunk
));

376 
	`iŸjs_jvÆ_de°roy
(&(
_this
->
ªad_⁄wrôe
));

377 
	`iŸjs_jvÆ_de°roy
(&(
_this
->
ªad_ˇŒback
));

380 
_this
->
ªad_chunk
 =Ñead_chunk;

381 
_this
->
d©a_to_ªad
 = 
åue
;

383 
_this
->
ªad_ˇŒback
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
ˇŒback
);

384 
_this
->
ªad_⁄wrôe
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(
⁄wrôe
);

385 
_this
->
to_de°roy_ªad_⁄wrôe
 = 
åue
;

387 i‡(
_this
->
ªque°_d⁄e
) {

388 
	`iŸjs_hâps_ˇŒ_ªad_⁄wrôe_async
(
hâps_d©a
);

389 } i‡(
_this
->
is_°ªam_wrôabÀ
) {

390 
	`cuæ_ósy_∑u£
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLPAUSE_CONT
);

391 
	`uv_timî_°›
(&(
_this
->
timeout
));

392 
	`uv_timî_°¨t
(&(
_this
->
timeout
), 
iŸjs_hâps_uv_timeout_ˇŒback
, 1, 0);

394 
	}
}

397 
	$iŸjs_hâps_föish_ªque°
(
iŸjs_hâps_t
* 
hâps_d©a
) {

398 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

399 
_this
->
°ªam_íded
 = 
åue
;

400 i‡(
_this
->
ªque°_d⁄e
) {

401 
	`iŸjs_hâps_˛ónup
(
hâps_d©a
);

402 } i‡(
_this
->
is_°ªam_wrôabÀ
) {

403 
	`cuæ_ósy_∑u£
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLPAUSE_CONT
);

404 
	`uv_timî_°›
(&(
_this
->
timeout
));

405 
	`uv_timî_°¨t
(&(
_this
->
timeout
), 
iŸjs_hâps_uv_timeout_ˇŒback
, 1, 0);

407 
	}
}

410 
	$iŸjs_hâps_£nd_ªque°
(
iŸjs_hâps_t
* 
hâps_d©a
) {

411 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

413 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_HTTPHEADER
,

414 
_this
->
hódî_li°
);

416 i‡(
_this
->
mëhod
 =
HTTPS_POST
 && _this->
c⁄ã¡_Àngth
 != -1)

417 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_POSTFIELDSIZE
,

418 
_this
->
c⁄ã¡_Àngth
);

419 i‡(
_this
->
mëhod
 =
HTTPS_PUT
 && _this->
c⁄ã¡_Àngth
 != -1)

420 
	`cuæ_ósy_£t›t
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLOPT_INFILESIZE
,

421 
_this
->
c⁄ã¡_Àngth
);

423 
	`cuæ_mu…i_add_h™dÀ
(
_this
->
cuæ_mu…i_h™dÀ
, _this->
cuæ_ósy_h™dÀ
);

424 
	}
}

427 
	$iŸjs_hâps_£t_timeout
(
ms
, 
iŸjs_hâps_t
* 
hâps_d©a
) {

428 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

429 i‡(
ms
 < 0)

431 
_this
->
timeout_ms
 = 
ms
;

432 
	`uv_timî_°¨t
(&(
_this
->
sockë_timeout
),

433 
iŸjs_hâps_uv_sockë_timeout_ˇŒback
, 1, (
uöt64_t
)
ms
);

434 
	}
}

439 
size_t
 
	$iŸjs_hâps_cuæ_ªad_ˇŒback
(* 
c⁄ã¡s
, 
size_t
 
size
, size_à
nmemb
,

440 * 
u£Ω
) {

441 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
u£Ω
;

442 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

445 i‡(!
_this
->
is_°ªam_wrôabÀ
) {

446 
_this
->
is_°ªam_wrôabÀ
 = 
åue
;

447 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONWRITABLE
,

448 
	`iŸjs_j¨gs_gë_em±y
(), 
Ál£
);

451 i‡(
_this
->
d©a_to_ªad
) {

452 
size_t
 
ªÆ_size
 = 
size
 * 
nmemb
;

453 
size_t
 
chunk_size
 = 
	`iŸjs_°rög_size
(&(
_this
->
ªad_chunk
));

454 
size_t
 
À·_to_c›y_size
 = 
chunk_size
 - 
_this
->
cur_ªad_ödex
;

456 i‡(
ªÆ_size
 < 1)

460 i‡(
_this
->
cur_ªad_ödex
 < 
chunk_size
) {

461 
size_t
 
num_to_c›y
 =

462 (
À·_to_c›y_size
 < 
ªÆ_size
) ?Üeft_to_copy_size :Ñeal_size;

463 c⁄° * 
buf
 = 
	`iŸjs_°rög_d©a
(&(
_this
->
ªad_chunk
));

464 
buf
 = &buf[
_this
->
cur_ªad_ödex
];

465 
	`°∫˝y
((*)
c⁄ã¡s
, 
buf
, 
num_to_c›y
);

466 
_this
->
cur_ªad_ödex
 = _this->cur_ªad_ödex + 
num_to_c›y
;

467  
num_to_c›y
;

471 
_this
->
cur_ªad_ödex
 = 0;

472 
_this
->
d©a_to_ªad
 = 
Ál£
;

473 
	`iŸjs_hâps_ˇŒ_ªad_⁄wrôe_async
(
hâps_d©a
);

477 i‡(!
_this
->
°ªam_íded
) {

478  
CURL_READFUNC_PAUSE
;

483 
	}
}

486 
	$iŸjs_hâps_cuæ_sockë_ˇŒback
(
CURL
* 
ósy
, 
cuæ_sockë_t
 
sockfd
,

487 
a˘i⁄
, * 
u£Ω
, * 
sockëp
) {

488 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
u£Ω
;

489 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

490 i‡(
a˘i⁄
 =
CURL_POLL_IN
 ||á˘i⁄ =
CURL_POLL_OUT
 ||

491 
a˘i⁄
 =
CURL_POLL_INOUT
) {

492 
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
 = 
NULL
;

494 i‡(!
sockëp
) {

495 
pﬁl_d©a
 = 
	`iŸjs_hâps_pﬁl_¸óã
(
_this
->
lo›
, 
sockfd
, 
hâps_d©a
);

496 
	`cuæ_mu…i_assign
(
_this
->
cuæ_mu…i_h™dÀ
, 
sockfd
, (*)
pﬁl_d©a
);

497 
_this
->
˛osög_h™dÀs
 = _this->closing_handles + 1;

498 i‡(
_this
->
pﬁl_d©a
 =
NULL
)

499 
_this
->
pﬁl_d©a
 =Öoll_data;

501 
	`iŸjs_hâps_pﬁl_≠≥nd
(
_this
->
pﬁl_d©a
,Öoll_data);

503 
pﬁl_d©a
 = (
iŸjs_hâps_pﬁl_t
*)
sockëp
;

505 i‡(
a˘i⁄
 =
CURL_POLL_IN
)

506 
	`uv_pﬁl_°¨t
(
	`iŸjs_hâps_pﬁl_gë_pﬁl_h™dÀ
(
pﬁl_d©a
), 
UV_READABLE
,

507 
iŸjs_hâps_uv_pﬁl_ˇŒback
);

508 i‡(
a˘i⁄
 =
CURL_POLL_OUT
)

509 
	`uv_pﬁl_°¨t
(
	`iŸjs_hâps_pﬁl_gë_pﬁl_h™dÀ
(
pﬁl_d©a
), 
UV_WRITABLE
,

510 
iŸjs_hâps_uv_pﬁl_ˇŒback
);

511 i‡(
a˘i⁄
 =
CURL_POLL_INOUT
)

512 
	`uv_pﬁl_°¨t
(
	`iŸjs_hâps_pﬁl_gë_pﬁl_h™dÀ
(
pﬁl_d©a
),

513 
UV_READABLE
 | 
UV_WRITABLE
, 
iŸjs_hâps_uv_pﬁl_ˇŒback
);

515 i‡(
sockëp
) {

516 
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
 = (iŸjs_hâps_pﬁl_t*)
sockëp
;

517 
	`iŸjs_hâps_pﬁl_˛o£
(
pﬁl_d©a
);

518 
	`cuæ_mu…i_assign
(
_this
->
cuæ_mu…i_h™dÀ
, 
sockfd
, 
NULL
);

522 
	}
}

525 
	$iŸjs_hâps_cuæ_sock›t_ˇŒback
(* 
u£Ω
, 
cuæ_sockë_t
 
cuæfd
,

526 
cuæsockty≥
 
puΩo£
) {

527 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
u£Ω
;

528 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONSOCKET
,

529 
	`iŸjs_j¨gs_gë_em±y
(), 
Ál£
);

530  
CURL_SOCKOPT_OK
;

531 
	}
}

534 
	$iŸjs_hâps_cuæ_°¨t_timeout_ˇŒback
(
CURLM
* 
mu…i
, 
timeout_ms
,

535 * 
u£Ω
) {

536 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
u£Ω
;

537 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

538 i‡(
timeout_ms
 < 0)

539 
	`uv_timî_°›
(&(
_this
->
timeout
));

541 i‡(
timeout_ms
 == 0)

542 
timeout_ms
 = 1;

543 i‡((
_this
->
timeout_ms
 != -1) && (timeout_ms > _this->timeout_ms))

544 
timeout_ms
 = 
_this
->timeout_ms;

545 
	`uv_timî_°¨t
(&(
_this
->
timeout
), 
iŸjs_hâps_uv_timeout_ˇŒback
,

546 (
uöt64_t
)
timeout_ms
, 0);

549 
	}
}

552 
size_t
 
	$iŸjs_hâps_cuæ_wrôe_ˇŒback
(* 
c⁄ã¡s
, 
size_t
 
size
,

553 
size_t
 
nmemb
, * 
u£Ω
) {

554 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
u£Ω
;

555 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

556 
size_t
 
ªÆ_size
 = 
size
 * 
nmemb
;

557 i‡(
	`iŸjs_jvÆ_is_nuŒ
(&
_this
->
jthis_«tive
))

558  
ªÆ_size
 - 1;

559 
iŸjs_j¨gs_t
 
j¨g
 = 
	`iŸjs_j¨gs_¸óã
(1);

560 
iŸjs_jvÆ_t
 
jªsu…_¨r
 = 
	`iŸjs_jvÆ_¸óã_byã_¨øy
(
ªÆ_size
, 
c⁄ã¡s
);

561 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨g
, &
jªsu…_¨r
);

563 
boﬁ
 
ªsu…
 =

564 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONDATA
, &
j¨g
, 
åue
);

566 
	`iŸjs_jvÆ_de°roy
(&
jªsu…_¨r
);

567 
	`iŸjs_j¨gs_de°roy
(&
j¨g
);

569 i‡(!
ªsu…
) {

570  
ªÆ_size
 - 1;

573  
ªÆ_size
;

574 
	}
}

579 
	$iŸjs_hâps_uv_˛o£_ˇŒback
(
uv_h™dÀ_t
* 
h™dÀ
) {

580 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
h™dÀ
->
d©a
;

581 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

582 
_this
->
˛osög_h™dÀs
 = _this->closing_handles - 1;

583 i‡(
_this
->
˛osög_h™dÀs
 <= 0) {

584 i‡(
_this
->
pﬁl_d©a
 !
NULL
)

585 
	`iŸjs_hâps_pﬁl_de°roy
(
_this
->
pﬁl_d©a
);

586 
	`iŸjs_jvÆ_de°roy
(&
_this
->
jthis_«tive
);

588 
	}
}

591 
	$iŸjs_hâps_uv_pﬁl_ˇŒback
(
uv_pﬁl_t
* 
pﬁl
, 
°©us
, 
evíts
) {

592 
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
 = (iŸjs_hâps_pﬁl_t*)
pﬁl
->
d©a
;

593 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_pﬁl_t
, 
pﬁl_d©a
);

594 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)
_this
->https_data;

596 
Êags
 = 0;

597 i‡(
°©us
 < 0)

598 
Êags
 = 
CURL_CSELECT_ERR
;

599 i‡(!
°©us
 && 
evíts
 & 
UV_READABLE
)

600 
Êags
 |
CURL_CSELECT_IN
;

601 i‡(!
°©us
 && 
evíts
 & 
UV_WRITABLE
)

602 
Êags
 |
CURL_CSELECT_OUT
;

603 
ru¬ög_h™dÀs
;

604 
	`cuæ_mu…i_sockë_a˘i⁄
(
	`iŸjs_hâps_gë_mu…i_h™dÀ
(
hâps_d©a
),

605 
_this
->
sockfd
, 
Êags
, &
ru¬ög_h™dÀs
);

606 
	`iŸjs_hâps_check_d⁄e
(
hâps_d©a
);

607 
	}
}

611 
	$iŸjs_hâps_uv_timeout_ˇŒback
(
uv_timî_t
* 
timî
) {

612 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)(
timî
->
d©a
);

613 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

614 
	`uv_timî_°›
(
timî
);

615 
	`cuæ_mu…i_sockë_a˘i⁄
(
_this
->
cuæ_mu…i_h™dÀ
, 
CURL_SOCKET_TIMEOUT
, 0,

616 &
_this
->
ru¬ög_h™dÀs
);

617 
	`iŸjs_hâps_check_d⁄e
(
hâps_d©a
);

618 
	}
}

621 
	$iŸjs_hâps_uv_sockë_timeout_ˇŒback
(
uv_timî_t
* 
timî
) {

622 
iŸjs_hâps_t
* 
hâps_d©a
 = (iŸjs_hâps_t*)(
timî
->
d©a
);

623 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_t
, 
hâps_d©a
);

624 
dow∆ﬂd_byãs
 = 0;

625 
u∂ﬂd_byãs
 = 0;

626 
uöt64_t
 
tŸÆ_time_ms
 = 0;

628 i‡(
_this
->
timeout_ms
 != -1) {

629 
	`cuæ_ósy_gëöfo
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLINFO_SIZE_DOWNLOAD
,

630 &
dow∆ﬂd_byãs
);

631 
	`cuæ_ósy_gëöfo
(
_this
->
cuæ_ósy_h™dÀ
, 
CURLINFO_SIZE_UPLOAD
,

632 &
u∂ﬂd_byãs
);

633 
tŸÆ_time_ms
 = 
	`uv_now
(
_this
->
lo›
);

634 
tŸÆ_byãs
 = 
dow∆ﬂd_byãs
 + 
u∂ﬂd_byãs
;

636 i‡(
_this
->
œ°_byãs_num
 =
tŸÆ_byãs
) {

637 i‡(
tŸÆ_time_ms
 >

638 ((
uöt64_t
)
_this
->
timeout_ms
 + _this->
œ°_byãs_time
)) {

639 i‡(!
_this
->
ªque°_d⁄e
) {

640 
	`iŸjs_hâps_jˇŒback
(
hâps_d©a
, 
IOTJS_MAGIC_STRING_ONTIMEOUT
,

641 
	`iŸjs_j¨gs_gë_em±y
(), 
Ál£
);

643 
	`uv_timî_°›
(&(
_this
->
sockë_timeout
));

646 
_this
->
œ°_byãs_num
 = 
tŸÆ_byãs
;

647 
_this
->
œ°_byãs_time
 = 
tŸÆ_time_ms
;

650 
	}
}

653 
iŸjs_hâps_pﬁl_t
* 
	$iŸjs_hâps_pﬁl_¸óã
(
uv_lo›_t
* 
lo›
,

654 
cuæ_sockë_t
 
sockfd
,

655 
iŸjs_hâps_t
* 
hâps_d©a
) {

656 
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
 = 
	`IOTJS_ALLOC
(iotjs_https_poll_t);

657 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_hâps_pﬁl_t
, 
pﬁl_d©a
);

658 
_this
->
sockfd
 = sockfd;

659 
_this
->
pﬁl_h™dÀ
.
d©a
 = 
pﬁl_d©a
;

660 
_this
->
hâps_d©a
 = https_data;

661 
_this
->
˛osög
 = 
Ál£
;

662 
_this
->
√xt
 = 
NULL
;

663 
	`uv_pﬁl_öô_sockë
(
lo›
, &
_this
->
pﬁl_h™dÀ
, 
sockfd
);

664  
pﬁl_d©a
;

665 
	}
}

667 
	$iŸjs_hâps_pﬁl_≠≥nd
(
iŸjs_hâps_pﬁl_t
* 
hód
,

668 
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
) {

669 
iŸjs_hâps_pﬁl_t
* 
cuºít
 = 
hód
;

670 
iŸjs_hâps_pﬁl_t
* 
√xt
 = 
	`iŸjs_hâps_pﬁl_gë_√xt
(
cuºít
);

671 
√xt
 !
NULL
) {

672 
cuºít
 = 
√xt
;

673 
√xt
 = 
	`iŸjs_hâps_pﬁl_gë_√xt
(
cuºít
);

675 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_pﬁl_t
, 
cuºít
);

676 
_this
->
√xt
 = 
pﬁl_d©a
;

677 
	}
}

679 
iŸjs_hâps_pﬁl_t
* 
	$iŸjs_hâps_pﬁl_gë_√xt
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
) {

680 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_pﬁl_t
, 
pﬁl_d©a
);

681  
_this
->
√xt
;

682 
	}
}

684 
uv_pﬁl_t
* 
	$iŸjs_hâps_pﬁl_gë_pﬁl_h™dÀ
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
) {

685 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_pﬁl_t
, 
pﬁl_d©a
);

686  &
_this
->
pﬁl_h™dÀ
;

687 
	}
}

689 
	$iŸjs_hâps_pﬁl_˛o£
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
) {

690 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_hâps_pﬁl_t
, 
pﬁl_d©a
);

691 i‡(
_this
->
˛osög
 =
Ál£
) {

692 
_this
->
˛osög
 = 
åue
;

693 
	`uv_pﬁl_°›
(&
_this
->
pﬁl_h™dÀ
);

694 
_this
->
pﬁl_h™dÀ
.
d©a
 = _this->
hâps_d©a
;

695 
	`uv_˛o£
((
uv_h™dÀ_t
*)&
_this
->
pﬁl_h™dÀ
, 
iŸjs_hâps_uv_˛o£_ˇŒback
);

698 
	}
}

700 
	$iŸjs_hâps_pﬁl_˛o£_Æl
(
iŸjs_hâps_pﬁl_t
* 
hód
) {

701 
iŸjs_hâps_pﬁl_t
* 
cuºít
 = 
hód
;

702 
cuºít
 !
NULL
) {

703 
	`iŸjs_hâps_pﬁl_˛o£
(
cuºít
);

704 
cuºít
 = 
	`iŸjs_hâps_pﬁl_gë_√xt
(current);

706 
	}
}

708 
	$iŸjs_hâps_pﬁl_de°roy
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
) {

709 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_hâps_pﬁl_t
, 
pﬁl_d©a
);

710 i‡(
_this
->
√xt
 !
NULL
) {

711 
	`iŸjs_hâps_pﬁl_de°roy
(
_this
->
√xt
);

713 
	`IOTJS_RELEASE
(
pﬁl_d©a
);

714 
	}
}

718 
	$JHANDLER_FUNCTION
(
¸óãReque°
) {

719 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

720 
	`DJHANDLER_CHECK_ARGS
(1, 
obje˘
);

722 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

724 
iŸjs_jvÆ_t
 
jho°
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING_HOST
);

725 
iŸjs_°rög_t
 
ho°
 = 
	`iŸjs_jvÆ_as_°rög
(&
jho°
);

726 
	`iŸjs_jvÆ_de°roy
(&
jho°
);

728 
iŸjs_jvÆ_t
 
jmëhod
 =

729 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING_METHOD
);

730 
iŸjs_°rög_t
 
mëhod
 = 
	`iŸjs_jvÆ_as_°rög
(&
jmëhod
);

731 
	`iŸjs_jvÆ_de°roy
(&
jmëhod
);

733 
iŸjs_jvÆ_t
 
jˇ
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING_CA
);

734 
iŸjs_°rög_t
 
ˇ
 = 
	`iŸjs_jvÆ_as_°rög
(&
jˇ
);

735 
	`iŸjs_jvÆ_de°roy
(&
jˇ
);

737 
iŸjs_jvÆ_t
 
j˚π
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING_CERT
);

738 
iŸjs_°rög_t
 
˚π
 = 
	`iŸjs_jvÆ_as_°rög
(&
j˚π
);

739 
	`iŸjs_jvÆ_de°roy
(&
j˚π
);

741 
iŸjs_jvÆ_t
 
jkey
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING_KEY
);

742 
iŸjs_°rög_t
 
key
 = 
	`iŸjs_jvÆ_as_°rög
(&
jkey
);

743 
	`iŸjs_jvÆ_de°roy
(&
jkey
);

745 
iŸjs_jvÆ_t
 
jªje˘_u«uth‹ized
 =

746 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, 
IOTJS_MAGIC_STRING_REJECTUNAUTHORIZED
);

747 c⁄° 
boﬁ
 
ªje˘_u«uth‹ized
 = 
	`iŸjs_jvÆ_as_boﬁón
(&
jªje˘_u«uth‹ized
);

749 i‡(
	`cuæ_globÆ_öô
(
CURL_GLOBAL_SSL
)) {

752 
iŸjs_hâps_t
* 
hâps_d©a
 =

753 
	`iŸjs_hâps_¸óã
(
	`iŸjs_°rög_d©a
(&
ho°
), iŸjs_°rög_d©a(&
mëhod
),

754 
	`iŸjs_°rög_d©a
(&
ˇ
), iŸjs_°rög_d©a(&
˚π
),

755 
	`iŸjs_°rög_d©a
(&
key
), 
ªje˘_u«uth‹ized
, 
jthis
);

757 
	`iŸjs_hâps_öôülize_cuæ_›ts
(
hâps_d©a
);

759 
	`iŸjs_°rög_de°roy
(&
ho°
);

760 
	`iŸjs_°rög_de°roy
(&
mëhod
);

761 
	`iŸjs_°rög_de°roy
(&
ˇ
);

762 
	`iŸjs_°rög_de°roy
(&
˚π
);

763 
	`iŸjs_°rög_de°roy
(&
key
);

764 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

765 
	}
}

767 
	$JHANDLER_FUNCTION
(
addHódî
) {

768 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

770 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, 
obje˘
);

771 
iŸjs_°rög_t
 
hódî
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

772 c⁄° * 
ch¨_hódî
 = 
	`iŸjs_°rög_d©a
(&
hódî
);

774 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(1, 
obje˘
);

775 
iŸjs_hâps_t
* 
hâps_d©a
 =

776 (
iŸjs_hâps_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jthis
);

777 
	`iŸjs_hâps_add_hódî
(
hâps_d©a
, 
ch¨_hódî
);

779 
	`iŸjs_°rög_de°roy
(&
hódî
);

780 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

781 
	}
}

783 
	$JHANDLER_FUNCTION
(
£ndReque°
) {

784 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

786 
	`DJHANDLER_CHECK_ARG
(0, 
obje˘
);

787 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

788 
iŸjs_hâps_t
* 
hâps_d©a
 =

789 (
iŸjs_hâps_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jthis
);

790 
	`iŸjs_hâps_£nd_ªque°
(
hâps_d©a
);

791 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

792 
	}
}

794 
	$JHANDLER_FUNCTION
(
£tTimeout
) {

795 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

796 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
, 
obje˘
);

798 
ms
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

799 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(1, 
obje˘
);

801 
iŸjs_hâps_t
* 
hâps_d©a
 =

802 (
iŸjs_hâps_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jthis
);

803 
	`iŸjs_hâps_£t_timeout
(()
ms
, 
hâps_d©a
);

805 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

806 
	}
}

808 
	$JHANDLER_FUNCTION
(
_wrôe
) {

809 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

810 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, 
°rög
);

812 
	`DJHANDLER_CHECK_ARG
(3, 
fun˘i⁄
);

814 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

815 
iŸjs_°rög_t
 
ªad_chunk
 = 
	`JHANDLER_GET_ARG
(1, 
°rög
);

817 c⁄° 
iŸjs_jvÆ_t
* 
ˇŒback
 = 
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 2);

818 c⁄° 
iŸjs_jvÆ_t
* 
⁄wrôe
 = 
	`JHANDLER_GET_ARG
(3, 
fun˘i⁄
);

820 
iŸjs_hâps_t
* 
hâps_d©a
 =

821 (
iŸjs_hâps_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jthis
);

822 
	`iŸjs_hâps_d©a_to_wrôe
(
hâps_d©a
, 
ªad_chunk
, 
ˇŒback
, 
⁄wrôe
);

825 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

826 
	}
}

828 
	$JHANDLER_FUNCTION
(
föishReque°
) {

829 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

830 
	`DJHANDLER_CHECK_ARG
(0, 
obje˘
);

832 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

833 
iŸjs_hâps_t
* 
hâps_d©a
 =

834 (
iŸjs_hâps_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jthis
);

835 
	`iŸjs_hâps_föish_ªque°
(
hâps_d©a
);

837 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

838 
	}
}

840 
	$JHANDLER_FUNCTION
(
Ab‹t
) {

841 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

842 
	`DJHANDLER_CHECK_ARG
(0, 
obje˘
);

844 c⁄° 
iŸjs_jvÆ_t
* 
jthis
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

845 
iŸjs_hâps_t
* 
hâps_d©a
 =

846 (
iŸjs_hâps_t
*)
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jthis
);

847 
	`iŸjs_hâps_˛ónup
(
hâps_d©a
);

849 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

850 
	}
}

852 
iŸjs_jvÆ_t
 
	$InôHâps
() {

853 
iŸjs_jvÆ_t
 
hâps
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

855 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING_CREATEREQUEST
,

856 
¸óãReque°
);

857 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING_ADDHEADER
, 
addHódî
);

858 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING_SENDREQUEST
, 
£ndReque°
);

859 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING_SETTIMEOUT
, 
£tTimeout
);

860 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING__WRITE
, 
_wrôe
);

861 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING_FINISHREQUEST
,

862 
föishReque°
);

863 
	`iŸjs_jvÆ_£t_mëhod
(&
hâps
, 
IOTJS_MAGIC_STRING_ABORT
, 
Ab‹t
);

865  
hâps
;

866 
	}
}

	@src/modules/iotjs_module_https.h

16 #i‚de‡
IOTJS_MODULE_HTTPS_H


17 
	#IOTJS_MODULE_HTTPS_H


	)

19 
	~"iŸjs_def.h
"

20 
	~<uv.h
>

21 
	~<cuæ/cuæ.h
>

24 
	mHTTPS_GET
 = 0,

25 
	mHTTPS_POST
,

26 
	mHTTPS_PUT
,

27 
	mHTTPS_DELETE
,

28 
	mHTTPS_HEAD
,

29 
	mHTTPS_CONNECT
,

30 
	mHTTPS_OPTIONS
,

31 
	mHTTPS_TRACE


32 } 
	tHTTPS_Mëhods
;

34 
	#STRING_GET
 "GET"

	)

35 
	#STRING_POST
 "POST"

	)

36 
	#STRING_PUT
 "PUT"

	)

37 
	#STRING_DELETE
 "DELETE"

	)

38 
	#STRING_HEAD
 "HEAD"

	)

39 
	#STRING_CONNECT
 "CONNECT"

	)

40 
	#STRING_OPTIONS
 "OPTIONS"

	)

41 
	#STRING_TRACE
 "TRACE"

	)

46 c⁄° * 
	mURL
;

47 
HTTPS_Mëhods
 
	mmëhod
;

48 
cuæ_¶i°
* 
	mhódî_li°
;

50 c⁄° * 
	mˇ
;

51 c⁄° * 
	m˚π
;

52 c⁄° * 
	mkey
;

53 
boﬁ
 
	mªje˘_u«uth‹ized
;

55 
	mc⁄ã¡_Àngth
;

58 
uv_lo›_t
* 
	mlo›
;

59 
iŸjs_jvÆ_t
 
	mjthis_«tive
;

60 
CURLM
* 
	mcuæ_mu…i_h™dÀ
;

61 
uv_timî_t
 
	mtimeout
;

62 
CURL
* 
	mcuæ_ósy_h™dÀ
;

64 
	mru¬ög_h™dÀs
;

65 
	m˛osög_h™dÀs
;

66 
boﬁ
 
	mªque°_d⁄e
;

67 
iŸjs_hâps_pﬁl_t
* 
	mpﬁl_d©a
;

70 
uv_timî_t
 
	msockë_timeout
;

71 
	mtimeout_ms
;

72 
	mœ°_byãs_num
;

73 
uöt64_t
 
	mœ°_byãs_time
;

76 
size_t
 
	mcur_ªad_ödex
;

77 
boﬁ
 
	mis_°ªam_wrôabÀ
;

78 
boﬁ
 
	md©a_to_ªad
;

79 
boﬁ
 
	m°ªam_íded
;

80 
boﬁ
 
	mto_de°roy_ªad_⁄wrôe
;

81 
iŸjs_°rög_t
 
	mªad_chunk
;

82 
iŸjs_jvÆ_t
 
	mªad_ˇŒback
;

83 
iŸjs_jvÆ_t
 
	mªad_⁄wrôe
;

84 
uv_timî_t
 
	masync_ªad_⁄wrôe
;

86 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_hâps_t
);

88 
iŸjs_hâps_t
* 
iŸjs_hâps_¸óã
(c⁄° * 
URL
, c⁄° * 
mëhod
,

89 c⁄° * 
ˇ
, c⁄° * 
˚π
,

90 c⁄° * 
key
,

91 c⁄° 
boﬁ
 
ªje˘_u«uth‹ized
,

92 c⁄° 
iŸjs_jvÆ_t
* 
jthis
);

94 
	#THIS
 
iŸjs_hâps_t
* 
hâps_d©a


	)

96 
iŸjs_hâps_check_d⁄e
(
THIS
);

97 
iŸjs_hâps_˛ónup
(
THIS
);

98 
CURLM
* 
iŸjs_hâps_gë_mu…i_h™dÀ
(
THIS
);

99 
iŸjs_hâps_öôülize_cuæ_›ts
(
THIS
);

100 
iŸjs_jvÆ_t
* 
iŸjs_hâps_jthis_‰om_hâps
(
THIS
);

101 
boﬁ
 
iŸjs_hâps_jˇŒback
(
THIS
, c⁄° * 
¥›îty
,

102 c⁄° 
iŸjs_j¨gs_t
* 
j¨g
, 
boﬁ
 
ªsu…vÆue
);

103 
iŸjs_hâps_ˇŒ_ªad_⁄wrôe
(
uv_timî_t
* 
timî
);

104 
iŸjs_hâps_ˇŒ_ªad_⁄wrôe_async
(
THIS
);

107 
iŸjs_hâps_add_hódî
(
THIS
, c⁄° * 
ch¨_hódî
);

108 
iŸjs_hâps_d©a_to_wrôe
(
THIS
, 
iŸjs_°rög_t
 
ªad_chunk
,

109 c⁄° 
iŸjs_jvÆ_t
* 
ˇŒback
,

110 c⁄° 
iŸjs_jvÆ_t
* 
⁄wrôe
);

111 
iŸjs_hâps_föish_ªque°
(
THIS
);

112 
iŸjs_hâps_£nd_ªque°
(
THIS
);

113 
iŸjs_hâps_£t_timeout
(
ms
, 
THIS
);

114 #unde‡
THIS


118 
size_t
 
iŸjs_hâps_cuæ_ªad_ˇŒback
(* 
c⁄ã¡s
, size_à
size
, size_à
nmemb
,

119 * 
u£Ω
);

120 
iŸjs_hâps_cuæ_sockë_ˇŒback
(
CURL
* 
ósy
, 
cuæ_sockë_t
 
sockfd
,

121 
a˘i⁄
, * 
u£Ω
, * 
sockëp
);

122 
iŸjs_hâps_cuæ_sock›t_ˇŒback
(* 
u£Ω
, 
cuæ_sockë_t
 
cuæfd
,

123 
cuæsockty≥
 
puΩo£
);

124 
iŸjs_hâps_cuæ_°¨t_timeout_ˇŒback
(
CURLM
* 
mu…i
, 
timeout_ms
,

125 * 
u£Ω
);

126 
size_t
 
iŸjs_hâps_cuæ_wrôe_ˇŒback
(* 
c⁄ã¡s
, size_à
size
,

127 
size_t
 
nmemb
, * 
u£Ω
);

130 
iŸjs_hâps_uv_˛o£_ˇŒback
(
uv_h™dÀ_t
* 
h™dÀ
);

131 
iŸjs_hâps_uv_pﬁl_ˇŒback
(
uv_pﬁl_t
* 
pﬁl
, 
°©us
, 
evíts
);

132 
iŸjs_hâps_uv_sockë_timeout_ˇŒback
(
uv_timî_t
* 
timî
);

133 
iŸjs_hâps_uv_timeout_ˇŒback
(
uv_timî_t
* 
timî
);

136 
uv_pﬁl_t
 
	mpﬁl_h™dÀ
;

137 
iŸjs_hâps_pﬁl_t
* 
	m√xt
;

138 
iŸjs_hâps_t
* 
	mhâps_d©a
;

139 
cuæ_sockë_t
 
	msockfd
;

140 
boﬁ
 
	m˛osög
;

141 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_hâps_pﬁl_t
);

143 
iŸjs_hâps_pﬁl_t
* 
iŸjs_hâps_pﬁl_¸óã
(
uv_lo›_t
* 
lo›
,

144 
cuæ_sockë_t
 
sockfd
,

145 
iŸjs_hâps_t
* 
hâps_d©a
);

146 
iŸjs_hâps_pﬁl_≠≥nd
(
iŸjs_hâps_pﬁl_t
* 
hód
,

147 
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
);

148 
iŸjs_hâps_pﬁl_t
* 
iŸjs_hâps_pﬁl_gë_√xt
(iŸjs_hâps_pﬁl_t* 
pﬁl_d©a
);

149 
uv_pﬁl_t
* 
iŸjs_hâps_pﬁl_gë_pﬁl_h™dÀ
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
);

150 
iŸjs_hâps_pﬁl_˛o£
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
);

151 
iŸjs_hâps_pﬁl_de°roy
(
iŸjs_hâps_pﬁl_t
* 
pﬁl_d©a
);

152 
iŸjs_hâps_pﬁl_˛o£_Æl
(
iŸjs_hâps_pﬁl_t
* 
hód
);

	@src/modules/iotjs_module_i2c.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ_i2c.h
"

19 
	~"iŸjs_obje˘wøp.h
"

22 
	#THIS
 
iŸjs_i2c_ªqwøp_t
* 
i2c_ªqwøp


	)

24 
JN©iveInfoTy≥
 
	gthis_moduÀ_«tive_öfo
 = {.
‰ì_cb
 = 
NULL
 };

26 
	$i2c_de°roy_d©a
(
iŸjs_i2c_t
* 
i2c
) {

27 
	`IOTJS_DECLARE_THIS
(
iŸjs_i2c_t
, 
i2c
);

28 
	`i2c_de°roy_∂©f‹m_d©a
(
_this
->
∂©f‹m_d©a
);

29 
	}
}

31 
iŸjs_i2c_t
* 
	$iŸjs_i2c_¸óã
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
,

32 c⁄° 
iŸjs_jvÆ_t
* 
ji2c
) {

33 
iŸjs_i2c_t
* 
i2c
 = 
	`IOTJS_ALLOC
(iotjs_i2c_t);

34 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_i2c_t
, 
i2c
);

35 
	`i2c_¸óã_∂©f‹m_d©a
(
jh™dÀr
, 
i2c
, &
_this
->
∂©f‹m_d©a
);

36 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
ji2c
,

37 &
this_moduÀ_«tive_öfo
);

38  
i2c
;

39 
	}
}

41 
iŸjs_i2c_ªqwøp_t
* 
	$iŸjs_i2c_ªqwøp_¸óã
(

42 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
iŸjs_i2c_t
* 
i2c
, 
I2cOp
 
›
) {

43 
iŸjs_i2c_ªqwøp_t
* 
i2c_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_i2c_reqwrap_t);

44 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

46 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

48 
_this
->
ªq_d©a
.
›
 = op;

49 
_this
->
i2c_d©a
 = 
i2c
;

50  
i2c_ªqwøp
;

51 
	}
}

53 
	$iŸjs_i2c_ªqwøp_de°roy
(
THIS
) {

54 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

55 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

56 
	`IOTJS_RELEASE
(
i2c_ªqwøp
);

57 
	}
}

59 
	$iŸjs_i2c_ªqwøp_di•©ched
(
THIS
) {

60 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

61 
	`iŸjs_i2c_ªqwøp_de°roy
(
i2c_ªqwøp
);

62 
	}
}

64 
uv_w‹k_t
* 
	$iŸjs_i2c_ªqwøp_ªq
(
THIS
) {

65 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

66  &
_this
->
ªq
;

67 
	}
}

69 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_i2c_ªqwøp_jˇŒback
(
THIS
) {

70 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

71  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

72 
	}
}

74 
iŸjs_i2c_ªqwøp_t
* 
	$iŸjs_i2c_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
) {

75  (
iŸjs_i2c_ªqwøp_t
*)(
	`iŸjs_ªqwøp_‰om_ªque°
((
uv_ªq_t
*)
ªq
));

76 
	}
}

78 
iŸjs_i2c_ªqd©a_t
* 
	$iŸjs_i2c_ªqwøp_d©a
(
THIS
) {

79 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

80  &
_this
->
ªq_d©a
;

81 
	}
}

83 
iŸjs_i2c_t
* 
	$iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
THIS
) {

84 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_ªqwøp_t
, 
i2c_ªqwøp
);

85  
_this
->
i2c_d©a
;

86 
	}
}

87 #unde‡
THIS


89 
	$iŸjs_i2c_de°roy
(
iŸjs_i2c_t
* 
i2c
) {

90 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_i2c_t
, 
i2c
);

91 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

92 
	`i2c_de°roy_d©a
(
i2c
);

93 
	`IOTJS_RELEASE
(
i2c
);

94 
	}
}

96 
iŸjs_i2c_t
* 
	$iŸjs_i2c_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
ji2c
) {

97 
iŸjs_jobje˘wøp_t
* 
jobje˘wøp
 = 
	`iŸjs_jobje˘wøp_‰om_jobje˘
(
ji2c
);

98  (
iŸjs_i2c_t
*)
jobje˘wøp
;

99 
	}
}

101 
	$A·îI2CW‹k
(
uv_w‹k_t
* 
w‹k_ªq
, 
°©us
) {

102 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_i2c_ªqwøp_‰om_ªque°
(
w‹k_ªq
);

103 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

105 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

107 i‡(
°©us
) {

108 
iŸjs_jvÆ_t
 
îr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
("SystemÉrror");

109 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

110 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

112 
ªq_d©a
->
›
) {

113 
kI2cOpO≥n
: {

114 i‡(
ªq_d©a
->
îr‹
 =
kI2cEºO≥n
) {

115 
iŸjs_jvÆ_t
 
îr‹
 =

116 
	`iŸjs_jvÆ_¸óã_îr‹
("FailedÅo open I2C device");

117 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

118 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

120 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

124 
kI2cOpWrôe
: {

125 i‡(
ªq_d©a
->
îr‹
 =
kI2cEºWrôe
) {

126 
iŸjs_jvÆ_t
 
îr‹
 =

127 
	`iŸjs_jvÆ_¸óã_îr‹
("Cannot writeÅo device");

128 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

129 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

131 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

135 
kI2cOpRód
: {

136 i‡(
ªq_d©a
->
îr‹
 =
kI2cEºRód
) {

137 
iŸjs_jvÆ_t
 
îr‹
 =

138 
	`iŸjs_jvÆ_¸óã_îr‹
("CannotÑead from device");

139 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

140 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

141 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

143 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

144 
iŸjs_jvÆ_t
 
ªsu…
 =

145 
	`iŸjs_jvÆ_¸óã_byã_¨øy
(
ªq_d©a
->
buf_Àn
,

146 
ªq_d©a
->
buf_d©a
);

147 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
ªsu…
);

148 
	`iŸjs_jvÆ_de°roy
(&
ªsu…
);

150 i‡(
ªq_d©a
->
dñay
 > 0) {

151 
	`uv_¶ìp
(
ªq_d©a
->
dñay
);

154 i‡(
ªq_d©a
->
buf_d©a
 !
NULL
) {

155 
	`iŸjs_buf„r_ªÀa£
(
ªq_d©a
->
buf_d©a
);

161 
	`IOTJS_ASSERT
(!"Unreachable");

167 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_i2c_ªqwøp_jˇŒback
(
ªq_wøp
);

168 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

170 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

171 
	`iŸjs_i2c_ªqwøp_di•©ched
(
ªq_wøp
);

172 
	}
}

174 
	$GëI2cAºay
(c⁄° 
iŸjs_jvÆ_t
* 
j¨øy
,

175 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
) {

178 
iŸjs_jvÆ_t
 
jÀngth
 =

179 
	`iŸjs_jvÆ_gë_¥›îty
(
j¨øy
, 
IOTJS_MAGIC_STRING_LENGTH
);

180 
	`IOTJS_ASSERT
(!
	`iŸjs_jvÆ_is_undeföed
(&
jÀngth
));

182 
ªq_d©a
->
buf_Àn
 = 
	`iŸjs_jvÆ_as_numbî
(&
jÀngth
);

183 
ªq_d©a
->
buf_d©a
 = 
	`iŸjs_buf„r_Æloˇã
‘eq_d©a->
buf_Àn
);

185 
uöt8_t
 
i
 = 0; i < 
ªq_d©a
->
buf_Àn
; i++) {

186 
iŸjs_jvÆ_t
 
jd©a
 = 
	`iŸjs_jvÆ_gë_¥›îty_by_ödex
(
j¨øy
, 
i
);

187 
ªq_d©a
->
buf_d©a
[
i
] = 
	`iŸjs_jvÆ_as_numbî
(&
jd©a
);

188 
	`iŸjs_jvÆ_de°roy
(&
jd©a
);

191 
	`iŸjs_jvÆ_de°roy
(&
jÀngth
);

192 
	}
}

194 
	#I2C_ASYNC
(
›
) \

196 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

197 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_i2c_ªqwøp_ªq
(
ªq_wøp
); \

198 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
›
##
W‹kî
, 
A·îI2CW‹k
); \

199 } 0)

	)

201 
	$JHANDLER_FUNCTION
(
I2cC⁄s
) {

202 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

204 c⁄° 
iŸjs_jvÆ_t
* 
ji2c
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

205 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_¸óã
(
jh™dÀr
, 
ji2c
);

206 
	`IOTJS_ASSERT
(
i2c
 ==

207 (
iŸjs_i2c_t
*)(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
ji2c
)));

210 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(1, 
fun˘i⁄
);

211 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 =

212 
	`iŸjs_i2c_ªqwøp_¸óã
(
jˇŒback
, 
i2c
, 
kI2cOpO≥n
);

214 
	`I2C_ASYNC
(
O≥n
);

215 
	}
}

217 
	$JHANDLER_FUNCTION
(
SëAddªss
) {

218 
	`JHANDLER_DECLARE_THIS_PTR
(
i2c
, i2c);

219 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

221 
	`I2cSëAddªss
(
i2c
, 
	`JHANDLER_GET_ARG
(0, 
numbî
));

223 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

224 
	}
}

226 
	$JHANDLER_FUNCTION
(
Clo£
) {

227 
	`JHANDLER_DECLARE_THIS_PTR
(
i2c
, i2c);

228 
	`DJHANDLER_CHECK_ARGS
(0);

230 
	`I2cClo£
(
i2c
);

231 
	`iŸjs_i2c_de°roy
(
i2c
);

233 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

234 
	}
}

236 
	$JHANDLER_FUNCTION
(
Wrôe
) {

237 
	`JHANDLER_DECLARE_THIS_PTR
(
i2c
, i2c);

238 
	`DJHANDLER_CHECK_ARGS
(2, 
¨øy
, 
fun˘i⁄
);

240 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(1, 
fun˘i⁄
);

242 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 =

243 
	`iŸjs_i2c_ªqwøp_¸óã
(
jˇŒback
, 
i2c
, 
kI2cOpWrôe
);

244 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

246 
	`GëI2cAºay
(
	`JHANDLER_GET_ARG
(0, 
¨øy
), 
ªq_d©a
);

248 
	`I2C_ASYNC
(
Wrôe
);

250 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

251 
	}
}

253 
	$JHANDLER_FUNCTION
(
Ród
) {

254 
	`JHANDLER_DECLARE_THIS_PTR
(
i2c
, i2c);

255 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
, 
fun˘i⁄
);

257 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(1, 
fun˘i⁄
);

259 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 =

260 
	`iŸjs_i2c_ªqwøp_¸óã
(
jˇŒback
, 
i2c
, 
kI2cOpRód
);

262 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

263 
ªq_d©a
->
buf_Àn
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

264 
ªq_d©a
->
dñay
 = 0;

266 
	`I2C_ASYNC
(
Ród
);

268 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

269 
	}
}

271 
iŸjs_jvÆ_t
 
	$InôI2c
() {

272 
iŸjs_jvÆ_t
 
jI2cC⁄s
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
I2cC⁄s
);

274 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

276 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETADDRESS
, 
SëAddªss
);

277 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

278 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

279 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_READ
, 
Ród
);

281 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jI2cC⁄s
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

282 &
¥ŸŸy≥
);

284 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

286  
jI2cC⁄s
;

287 
	}
}

	@src/modules/iotjs_module_i2c.h

17 #i‚de‡
IOTJS_MODULE_I2C_H


18 
	#IOTJS_MODULE_I2C_H


	)

20 
	~"iŸjs_def.h
"

21 
	~"iŸjs_obje˘wøp.h
"

22 
	~"iŸjs_ªqwøp.h
"

25 
	mkI2cOpSëAddªss
,

26 
	mkI2cOpO≥n
,

27 
	mkI2cOpClo£
,

28 
	mkI2cOpWrôe
,

29 
	mkI2cOpRód
,

30 } 
	tI2cOp
;

33 
	mkI2cEºOk
 = 0,

34 
	mkI2cEºO≥n
 = -1,

35 
	mkI2cEºRód
 = -2,

36 
	mkI2cEºWrôe
 = -3,

37 } 
	tI2cEº‹
;

40 * 
	mbuf_d©a
;

41 
uöt8_t
 
	mbuf_Àn
;

42 
uöt8_t
 
	mbyã
;

43 
uöt8_t
 
	mcmd
;

44 
öt32_t
 
	mdñay
;

46 
I2cOp
 
	m›
;

47 
I2cEº‹
 
	mîr‹
;

48 } 
	tiŸjs_i2c_ªqd©a_t
;

52 
iŸjs_i2c_∂©f‹m_d©a_s
 
	tiŸjs_i2c_∂©f‹m_d©a_t
;

55 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

56 
iŸjs_i2c_∂©f‹m_d©a_t
* 
	m∂©f‹m_d©a
;

57 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_i2c_t
);

60 
iŸjs_ªqwøp_t
 
	mªqwøp
;

61 
uv_w‹k_t
 
	mªq
;

62 
iŸjs_i2c_ªqd©a_t
 
	mªq_d©a
;

63 
iŸjs_i2c_t
* 
	mi2c_d©a
;

64 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_i2c_ªqwøp_t
);

67 
iŸjs_i2c_t
* 
iŸjs_i2c_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
ji2c
);

68 
iŸjs_i2c_ªqwøp_t
* 
iŸjs_i2c_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
);

69 
	#THIS
 
iŸjs_i2c_ªqwøp_t
* 
i2c_ªqwøp


	)

70 
iŸjs_i2c_ªqwøp_di•©ched
(
THIS
);

71 
uv_w‹k_t
* 
iŸjs_i2c_ªqwøp_ªq
(
THIS
);

72 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_i2c_ªqwøp_jˇŒback
(
THIS
);

73 
iŸjs_i2c_ªqd©a_t
* 
iŸjs_i2c_ªqwøp_d©a
(
THIS
);

74 
iŸjs_i2c_t
* 
iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
THIS
);

75 #unde‡
THIS


77 
I2cSëAddªss
(
iŸjs_i2c_t
* 
i2c
, 
uöt8_t
 
addªss
);

78 
O≥nW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

79 
I2cClo£
(
iŸjs_i2c_t
* 
i2c
);

80 
WrôeW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

81 
RódW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

85 
i2c_¸óã_∂©f‹m_d©a
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
iŸjs_i2c_t
* 
i2c
,

86 
iŸjs_i2c_∂©f‹m_d©a_t
** 
µd©a
);

87 
i2c_de°roy_∂©f‹m_d©a
(
iŸjs_i2c_∂©f‹m_d©a_t
* 
∂©f‹m_d©a
);

	@src/modules/iotjs_module_process.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_js.h
"

18 
	~"jîrys¸ùt-debuggî.h
"

20 
	~<°dlib.h
>

23 
	$JHANDLER_FUNCTION
(
Bödög
) {

24 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

26 
ModuÀKöd
 
moduÀ_köd
 = (ModuÀKöd)
	`JHANDLER_GET_ARG
(0, 
numbî
);

28 c⁄° 
iŸjs_jvÆ_t
* 
jmoduÀ
 =

29 
	`iŸjs_moduÀ_öôülize_if_√˚sßry
(
moduÀ_köd
);

31 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, 
jmoduÀ
);

32 
	}
}

35 
iŸjs_jvÆ_t
 
	$WøpEvÆ
(c⁄° * 
«me
, 
size_t
 
«me_Àn
,

36 c⁄° * 
sour˚
, 
size_t
 
Àngth
, 
boﬁ
* 
throws
) {

37 c⁄° * 
wøµî
[2] = { "(function(exports,Ñequire, module) {",

40 
size_t
 
Àn0
 = 
	`°æí
(
wøµî
[0]);

41 
size_t
 
Àn1
 = 
	`°æí
(
wøµî
[1]);

43 
size_t
 
buf„r_Àngth
 = 
Àn0
 + 
Àn1
 + 
Àngth
;

44 * 
buf„r
 = 
	`iŸjs_buf„r_Æloˇã
(
buf„r_Àngth
);

45 
	`mem˝y
(
buf„r
, 
wøµî
[0], 
Àn0
);

46 
	`mem˝y
(
buf„r
 + 
Àn0
, 
sour˚
, 
Àngth
);

47 
	`mem˝y
(
buf„r
 + 
Àn0
 + 
Àngth
, 
wøµî
[1], 
Àn1
);

49 
iŸjs_jvÆ_t
 
ªs
 = 
	`iŸjs_jhñ≥r_evÆ
(
«me
, 
«me_Àn
, (
uöt8_t
*)
buf„r
,

50 
buf„r_Àngth
, 
Ál£
, 
throws
);

52 
	`iŸjs_buf„r_ªÀa£
(
buf„r
);

54  
ªs
;

55 
	}
}

58 
	$JHANDLER_FUNCTION
(
Compûe
) {

59 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, string);

61 
iŸjs_°rög_t
 
fûe
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

62 
iŸjs_°rög_t
 
sour˚
 = 
	`JHANDLER_GET_ARG
(1, 
°rög
);

64 c⁄° * 
fûíame
 = 
	`iŸjs_°rög_d©a
(&
fûe
);

65 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

67 i‡(
	`iŸjs_ívú⁄mít_c⁄fig
(
ív
)->
debuggî
) {

68 
	`jîry_debuggî_°›
();

71 
boﬁ
 
throws
;

72 
iŸjs_jvÆ_t
 
jªs
 =

73 
	`WøpEvÆ
(
fûíame
, 
	`°æí
(fûíame), 
	`iŸjs_°rög_d©a
(&
sour˚
),

74 
	`iŸjs_°rög_size
(&
sour˚
), &
throws
);

76 i‡(!
throws
) {

77 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
jªs
);

79 
	`iŸjs_jh™dÀr_throw
(
jh™dÀr
, &
jªs
);

82 
	`iŸjs_°rög_de°roy
(&
fûe
);

83 
	`iŸjs_°rög_de°roy
(&
sour˚
);

84 
	`iŸjs_jvÆ_de°roy
(&
jªs
);

85 
	}
}

88 
	$JHANDLER_FUNCTION
(
CompûeN©ivePå
) {

89 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

91 
iŸjs_°rög_t
 
id
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

92 c⁄° * 
«me
 = 
	`iŸjs_°rög_d©a
(&
id
);

94 
i
 = 0;

95 
«tives
[
i
].
«me
 !
NULL
) {

96 i‡(!
	`°rcmp
(
«tives
[
i
].
«me
,Çame)) {

100 
i
++;

103 i‡(
«tives
[
i
].
«me
 !
NULL
) {

104 
boﬁ
 
throws
;

105 #ifde‡
ENABLE_SNAPSHOT


106 
iŸjs_jvÆ_t
 
jªs
 = 
	`iŸjs_jhñ≥r_exec_¢≠shŸ
(
«tives
[
i
].
code
,

107 
«tives
[
i
].
Àngth
, &
throws
);

109 
iŸjs_jvÆ_t
 
jªs
 =

110 
	`WøpEvÆ
(
«me
, 
	`iŸjs_°rög_size
(&
id
), (c⁄° *)
«tives
[
i
].
code
,

111 
«tives
[
i
].
Àngth
, &
throws
);

114 i‡(!
throws
) {

115 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
jªs
);

117 
	`iŸjs_jh™dÀr_throw
(
jh™dÀr
, &
jªs
);

119 
	`iŸjs_jvÆ_de°roy
(&
jªs
);

121 
iŸjs_jvÆ_t
 
jîr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
("UnknownÇative module");

122 
	`iŸjs_jh™dÀr_throw
(
jh™dÀr
, &
jîr‹
);

123 
	`iŸjs_jvÆ_de°roy
(&
jîr‹
);

126 
	`iŸjs_°rög_de°roy
(&
id
);

127 
	}
}

130 
	$JHANDLER_FUNCTION
(
RódSour˚
) {

131 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

133 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

134 
iŸjs_°rög_t
 
code
 = 
	`iŸjs_fûe_ªad
(
	`iŸjs_°rög_d©a
(&
∑th
));

136 
	`iŸjs_jh™dÀr_ªtu∫_°rög
(
jh™dÀr
, &
code
);

138 
	`iŸjs_°rög_de°roy
(&
∑th
);

139 
	`iŸjs_°rög_de°roy
(&
code
);

140 
	}
}

143 
	$JHANDLER_FUNCTION
(
Cwd
) {

144 
	`DJHANDLER_CHECK_ARGS
(0);

146 
∑th
[
IOTJS_MAX_PATH_SIZE
];

147 
size_t
 
size_∑th
 = (
∑th
);

148 
îr
 = 
	`uv_cwd
(
∑th
, &
size_∑th
);

149 i‡(
îr
) {

150 
	`JHANDLER_THROW
(
COMMON
, "cwdÉrror");

153 
	`iŸjs_jh™dÀr_ªtu∫_°rög_øw
(
jh™dÀr
, 
∑th
);

154 
	}
}

156 
	$JHANDLER_FUNCTION
(
Chdú
) {

157 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

159 
iŸjs_°rög_t
 
∑th
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

160 
îr
 = 
	`uv_chdú
(
	`iŸjs_°rög_d©a
(&
∑th
));

162 i‡(
îr
) {

163 
	`iŸjs_°rög_de°roy
(&
∑th
);

164 
	`JHANDLER_THROW
(
COMMON
, "chdirÉrror");

168 
	`iŸjs_°rög_de°roy
(&
∑th
);

169 
	}
}

172 
	$JHANDLER_FUNCTION
(
DoExô
) {

173 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

175 i‡(!
	`iŸjs_ívú⁄mít_is_exôög
(
ív
)) {

176 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

177 
exô_code
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

179 
	`iŸjs_£t_¥o˚ss_exôcode
(
exô_code
);

180 
	`iŸjs_ívú⁄mít_go_°©e_exôög
(
ív
);

182 
	}
}

185 
	$SëN©iveSour˚s
(
iŸjs_jvÆ_t
* 
«tive_sour˚s
) {

186 
i
 = 0; 
«tives
[i].
«me
; i++) {

187 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
«tive_sour˚s
, 
«tives
[
i
].
«me
,

188 
	`iŸjs_jvÆ_gë_boﬁón
(
åue
));

190 
	}
}

193 
	$SëPro˚ssEnv
(
iŸjs_jvÆ_t
* 
¥o˚ss
) {

194 c⁄° *
homedú
, *
iŸj•©h
, *
iŸj£nv
;

196 
homedú
 = 
	`gëív
("HOME");

197 i‡(
homedú
 =
NULL
) {

198 
homedú
 = "";

201 
iŸj•©h
 = 
	`gëív
("IOTJS_PATH");

202 i‡(
iŸj•©h
 =
NULL
) {

203 #i‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

204 
iŸj•©h
 = "/mnt/sdcard";

206 
iŸj•©h
 = "";

210 #i‡
	`deföed
(
EXPERIMENTAL
)

211 
iŸj£nv
 = "experimental";

213 
iŸj£nv
 = "";

216 
iŸjs_jvÆ_t
 
ív
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

217 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
ív
, 
IOTJS_MAGIC_STRING_HOME
, 
homedú
);

218 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
ív
, 
IOTJS_MAGIC_STRING_IOTJS_PATH
,

219 
iŸj•©h
);

220 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
ív
, 
IOTJS_MAGIC_STRING_IOTJS_ENV
,

221 
iŸj£nv
);

223 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
¥o˚ss
, 
IOTJS_MAGIC_STRING_ENV
, &
ív
);

225 
	`iŸjs_jvÆ_de°roy
(&
ív
);

226 
	}
}

229 
	$SëPro˚ssIŸjs
(
iŸjs_jvÆ_t
* 
¥o˚ss
) {

231 
iŸjs_jvÆ_t
 
iŸjs
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

232 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
¥o˚ss
, 
IOTJS_MAGIC_STRING_IOTJS
, &
iŸjs
);

234 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
iŸjs
, 
IOTJS_MAGIC_STRING_BOARD
,

235 
	`TOSTRING
(
TARGET_BOARD
));

236 
	`iŸjs_jvÆ_de°roy
(&
iŸjs
);

237 
	}
}

240 
	$SëPro˚ssArgv
(
iŸjs_jvÆ_t
* 
¥o˚ss
) {

241 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

242 
uöt32_t
 
¨gc
 = 
	`iŸjs_ívú⁄mít_¨gc
(
ív
);

244 
iŸjs_jvÆ_t
 
¨gv
 = 
	`iŸjs_jvÆ_¸óã_¨øy
(
¨gc
);

246 
uöt32_t
 
i
 = 0; i < 
¨gc
; ++i) {

247 c⁄° * 
¨gvi
 = 
	`iŸjs_ívú⁄mít_¨gv
(
ív
, 
i
);

248 
iŸjs_jvÆ_t
 
¨g
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
¨gvi
);

249 
	`iŸjs_jvÆ_£t_¥›îty_by_ödex
(&
¨gv
, 
i
, &
¨g
);

250 
	`iŸjs_jvÆ_de°roy
(&
¨g
);

252 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
¥o˚ss
, 
IOTJS_MAGIC_STRING_ARGV
, &
¨gv
);

254 
	`iŸjs_jvÆ_de°roy
(&
¨gv
);

255 
	}
}

258 
iŸjs_jvÆ_t
 
	$InôPro˚ss
() {

259 
iŸjs_jvÆ_t
 
¥o˚ss
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

261 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_BINDING
, 
Bödög
);

262 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_COMPILE
, 
Compûe
);

263 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_COMPILENATIVEPTR
,

264 
CompûeN©ivePå
);

265 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_READSOURCE
, 
RódSour˚
);

266 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_CWD
, 
Cwd
);

267 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_CHDIR
, 
Chdú
);

268 
	`iŸjs_jvÆ_£t_mëhod
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_DOEXIT
, 
DoExô
);

269 
	`SëPro˚ssEnv
(&
¥o˚ss
);

272 
iŸjs_jvÆ_t
 
«tive_sour˚s
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

273 
	`SëN©iveSour˚s
(&
«tive_sour˚s
);

274 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_NATIVE_SOURCES
,

275 &
«tive_sour˚s
);

276 
	`iŸjs_jvÆ_de°roy
(&
«tive_sour˚s
);

279 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_PLATFORM
,

280 
TARGET_OS
);

283 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_ARCH
,

284 
TARGET_ARCH
);

287 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_VERSION
,

288 
IOTJS_VERSION
);

291 
	`SëPro˚ssIŸjs
(&
¥o˚ss
);

293 
	`SëPro˚ssArgv
(&
¥o˚ss
);

296 
iŸjs_jvÆ_t
 
jbödög
 =

297 
	`iŸjs_jvÆ_gë_¥›îty
(&
¥o˚ss
, 
IOTJS_MAGIC_STRING_BINDING
);

299 
	#ENUMDEF_MODULE_LIST
(
uµî
, 
Camñ
, 
lowî
) \

300 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jbödög
, #lowî, 
MODULE_
##
uµî
);

	)

302 
	`MAP_MODULE_LIST
(
ENUMDEF_MODULE_LIST
)

304 #unde‡
ENUMDEF_MODULE_LIST


306 
	`iŸjs_jvÆ_de°roy
(&
jbödög
);

308  
¥o˚ss
;

309 
	}
}

	@src/modules/iotjs_module_pwm.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_pwm.h
"

18 
	~"iŸjs_obje˘wøp.h
"

20 
iŸjs_pwm_t
* 
iŸjs_pwm_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jpwm
);

22 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
pwm
);

25 
iŸjs_pwm_t
* 
	$iŸjs_pwm_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jpwm
) {

26 
iŸjs_pwm_t
* 
pwm
 = 
	`IOTJS_ALLOC
(iotjs_pwm_t);

27 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_pwm_t
, 
pwm
);

28 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
jpwm
,

29 &
this_moduÀ_«tive_öfo
);

31 
_this
->
≥riod
 = -1;

32 
_this
->
duty_cy˛e
 = 0;

33 #i‡
	`deföed
(
__NUTTX__
)

34 
_this
->
devi˚_fd
 = -1;

36  
pwm
;

37 
	}
}

40 
	$iŸjs_pwm_de°roy
(
iŸjs_pwm_t
* 
pwm
) {

41 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_pwm_t
, 
pwm
);

42 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

43 #i‡
	`deföed
(
__löux__
)

44 
	`iŸjs_°rög_de°roy
(&
_this
->
devi˚
);

46 
	`IOTJS_RELEASE
(
pwm
);

47 
	}
}

50 
	#THIS
 
iŸjs_pwm_ªqwøp_t
* 
pwm_ªqwøp


	)

53 
iŸjs_pwm_ªqwøp_t
* 
	$iŸjs_pwm_ªqwøp_¸óã
(

54 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
iŸjs_pwm_t
* 
pwm
, 
PwmOp
 
›
) {

55 
iŸjs_pwm_ªqwøp_t
* 
pwm_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_pwm_reqwrap_t);

56 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

58 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

60 
_this
->
ªq_d©a
.
›
 = op;

61 
_this
->
pwm_ö°™˚
 = 
pwm
;

62 
_this
->
ªq_d©a
.
ˇŒî
 = 
NULL
;

64  
pwm_ªqwøp
;

65 
	}
}

68 
	$iŸjs_pwm_ªqwøp_de°roy
(
THIS
) {

69 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

70 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

71 
	`IOTJS_RELEASE
(
pwm_ªqwøp
);

72 
	}
}

75 
	$iŸjs_pwm_ªqwøp_di•©ched
(
THIS
) {

76 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

77 
	`iŸjs_pwm_ªqwøp_de°roy
(
pwm_ªqwøp
);

78 
	}
}

81 
uv_w‹k_t
* 
	$iŸjs_pwm_ªqwøp_ªq
(
THIS
) {

82 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

83  &
_this
->
ªq
;

84 
	}
}

87 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_pwm_ªqwøp_jˇŒback
(
THIS
) {

88 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

89  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

90 
	}
}

93 
iŸjs_pwm_t
* 
	$iŸjs_pwm_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
jpwm
) {

94 
uöçå_t
 
h™dÀ
 = 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jpwm
);

95  (
iŸjs_pwm_t
*)
h™dÀ
;

96 
	}
}

99 
iŸjs_pwm_ªqwøp_t
* 
	$iŸjs_pwm_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
) {

100  (
iŸjs_pwm_ªqwøp_t
*)(
	`iŸjs_ªqwøp_‰om_ªque°
((
uv_ªq_t
*)
ªq
));

101 
	}
}

104 
iŸjs_pwm_ªqd©a_t
* 
	$iŸjs_pwm_ªqwøp_d©a
(
THIS
) {

105 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

106  &
_this
->
ªq_d©a
;

107 
	}
}

110 
iŸjs_pwm_t
* 
	$iŸjs_pwm_ö°™˚_‰om_ªqwøp
(
THIS
) {

111 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_ªqwøp_t
, 
pwm_ªqwøp
);

112  
_this
->
pwm_ö°™˚
;

113 
	}
}

116 
	$iŸjs_pwm_£t_c⁄figuøti⁄
(c⁄° 
iŸjs_jvÆ_t
* 
jc⁄figuøti⁄
,

117 
iŸjs_pwm_t
* 
pwm
) {

118 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

120 
iŸjs_jvÆ_t
 
jpö
 =

121 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_PIN
);

122 
_this
->
pö
 = 
	`iŸjs_jvÆ_as_numbî
(&
jpö
);

124 #i‡
	`deföed
(
__löux__
)

125 
iŸjs_jvÆ_t
 
jchù
 =

126 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_CHIP
);

127 
_this
->
chù
 = 
	`iŸjs_jvÆ_as_numbî
(&
jchù
);

128 
	`iŸjs_jvÆ_de°roy
(&
jchù
);

131 
iŸjs_jvÆ_t
 
j≥riod
 =

132 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_PERIOD
);

133 i‡(
	`iŸjs_jvÆ_is_numbî
(&
j≥riod
))

134 
_this
->
≥riod
 = 
	`iŸjs_jvÆ_as_numbî
(&
j≥riod
);

136 
iŸjs_jvÆ_t
 
jduty_cy˛e
 =

137 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_DUTYCYCLE
);

138 i‡(
	`iŸjs_jvÆ_is_numbî
(&
jduty_cy˛e
))

139 
_this
->
duty_cy˛e
 = 
	`iŸjs_jvÆ_as_numbî
(&
jduty_cy˛e
);

141 
	`iŸjs_jvÆ_de°roy
(&
jpö
);

142 
	`iŸjs_jvÆ_de°roy
(&
j≥riod
);

143 
	`iŸjs_jvÆ_de°roy
(&
jduty_cy˛e
);

144 
	}
}

146 #unde‡
THIS


149 
	$iŸjs_pwm_comm⁄_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

150 
PWM_WORKER_INIT
;

152 
	`IOTJS_ASSERT
(
ªq_d©a
->
ˇŒî
 !
NULL
);

154 i‡(!
ªq_d©a
->
	`ˇŒî
(
pwm
)) {

155 
ªq_d©a
->
ªsu…
 = 
Ál£
;

159 
ªq_d©a
->
ªsu…
 = 
åue
;

160 
	}
}

163 
	$iŸjs_pwm_a·î_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
, 
°©us
) {

164 
iŸjs_pwm_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_pwm_ªqwøp_‰om_ªque°
(
w‹k_ªq
);

165 
iŸjs_pwm_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_pwm_ªqwøp_d©a
(
ªq_wøp
);

166 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

167 
boﬁ
 
ªsu…
 = 
ªq_d©a
->result;

169 i‡(
°©us
) {

170 
iŸjs_jvÆ_t
 
îr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
("SystemÉrror");

171 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

172 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

174 
ªq_d©a
->
›
) {

175 
kPwmOpO≥n
:

176 i‡(!
ªsu…
) {

177 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo open PWM device");

179 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

182 
kPwmOpSëDutyCy˛e
:

183 i‡(!
ªsu…
) {

184 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo set duty-cycle");

186 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

189 
kPwmOpSëPîiod
:

190 i‡(!
ªsu…
) {

191 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo setÖeriod");

193 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

196 
kPwmOpSëE«bÀ
:

197 i‡(!
ªsu…
) {

198 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo setÉnable");

200 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

203 
kPwmOpClo£
:

204 i‡(!
ªsu…
) {

205 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "Cannot close PWM device");

207 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

211 
	`IOTJS_ASSERT
(!"Unreachable");

217 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_pwm_ªqwøp_jˇŒback
(
ªq_wøp
);

218 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

220 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

222 
	`iŸjs_pwm_ªqwøp_di•©ched
(
ªq_wøp
);

223 
	}
}

226 
	#PWM_ASYNC
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
) \

228 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

229 
iŸjs_pwm_ªqwøp_t
* 
ªq_wøp
 = \

230 
	`iŸjs_pwm_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

231 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_pwm_ªqwøp_ªq
(
ªq_wøp
); \

232 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_pwm_
##
ˇŒ
##
_w‹kî
, \

233 
iŸjs_pwm_a·î_w‹kî
); \

234 } 0)

	)

237 
	#PWM_ASYNC_COMMON_WORKER
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
) \

239 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

240 
iŸjs_pwm_ªqwøp_t
* 
ªq_wøp
 = \

241 
	`iŸjs_pwm_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

242 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_pwm_ªqwøp_ªq
(
ªq_wøp
); \

243 
iŸjs_pwm_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_pwm_ªqwøp_d©a
(
ªq_wøp
); \

244 
ªq_d©a
->
ˇŒî
 = 
ˇŒ
; \

245 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_pwm_comm⁄_w‹kî
, 
iŸjs_pwm_a·î_w‹kî
); \

246 } 0)

	)

249 
	$JHANDLER_FUNCTION
(
PWMC⁄°ru˘‹
) {

250 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

251 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, 
fun˘i⁄
);

254 c⁄° 
iŸjs_jvÆ_t
* 
jpwm
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

255 
iŸjs_pwm_t
* 
pwm
 = 
	`iŸjs_pwm_¸óã
(
jpwm
);

256 
	`IOTJS_ASSERT
(
pwm
 =
	`iŸjs_pwm_ö°™˚_‰om_jvÆ
(
jpwm
));

258 c⁄° 
iŸjs_jvÆ_t
* 
jc⁄figuøti⁄
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

259 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(1, 
fun˘i⁄
);

262 
	`iŸjs_pwm_£t_c⁄figuøti⁄
(
jc⁄figuøti⁄
, 
pwm
);

264 
	`PWM_ASYNC
(
›í
, 
pwm
, 
jˇŒback
, 
kPwmOpO≥n
);

265 
	}
}

268 
	$JHANDLER_FUNCTION
(
SëPîiod
) {

269 
	`JHANDLER_DECLARE_THIS_PTR
(
pwm
,Öwm);

271 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

272 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

274 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

276 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

277 
_this
->
≥riod
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

279 i‡(
jˇŒback
) {

280 
	`PWM_ASYNC_COMMON_WORKER
(
iŸjs_pwm_£t_≥riod
, 
pwm
, 
jˇŒback
,

281 
kPwmOpSëPîiod
);

283 i‡(!
	`iŸjs_pwm_£t_≥riod
(
pwm
)) {

284 
	`JHANDLER_THROW
(
COMMON
, "PWM SetPeriod Error");

288 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

289 
	}
}

292 
	$JHANDLER_FUNCTION
(
SëDutyCy˛e
) {

293 
	`JHANDLER_DECLARE_THIS_PTR
(
pwm
,Öwm);

295 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

296 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

298 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

300 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

301 
_this
->
duty_cy˛e
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

303 i‡(
jˇŒback
) {

304 
	`PWM_ASYNC_COMMON_WORKER
(
iŸjs_pwm_£t_dutycy˛e
, 
pwm
, 
jˇŒback
,

305 
kPwmOpSëDutyCy˛e
);

307 i‡(!
	`iŸjs_pwm_£t_dutycy˛e
(
pwm
)) {

308 
	`JHANDLER_THROW
(
COMMON
, "PWM SetDutyCycle Error");

312 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

313 
	}
}

316 
	$JHANDLER_FUNCTION
(
SëE«bÀ
) {

317 
	`JHANDLER_DECLARE_THIS_PTR
(
pwm
,Öwm);

319 
	`DJHANDLER_CHECK_ARGS
(1, 
boﬁón
);

320 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

322 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

324 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

325 
_this
->
íabÀ
 = 
	`JHANDLER_GET_ARG
(0, 
boﬁón
);

327 i‡(
jˇŒback
) {

328 
	`PWM_ASYNC_COMMON_WORKER
(
iŸjs_pwm_£t_íabÀ
, 
pwm
, 
jˇŒback
,

329 
kPwmOpSëE«bÀ
);

331 i‡(!
	`iŸjs_pwm_£t_íabÀ
(
pwm
)) {

332 
	`JHANDLER_THROW
(
COMMON
, "PWM SetEnabe Error");

336 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

337 
	}
}

340 
	$JHANDLER_FUNCTION
(
Clo£
) {

341 
	`JHANDLER_DECLARE_THIS_PTR
(
pwm
,Öwm);

342 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

344 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

346 i‡(
jˇŒback
) {

347 
	`PWM_ASYNC_COMMON_WORKER
(
iŸjs_pwm_˛o£
, 
pwm
, 
jˇŒback
, 
kPwmOpClo£
);

349 i‡(!
	`iŸjs_pwm_˛o£
(
pwm
)) {

350 
	`JHANDLER_THROW
(
COMMON
, "PWM Close Error");

354 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

355 
	}
}

358 
iŸjs_jvÆ_t
 
	$InôPwm
() {

359 
iŸjs_jvÆ_t
 
jpwm_c⁄°ru˘‹
 =

360 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
PWMC⁄°ru˘‹
);

362 
iŸjs_jvÆ_t
 
j¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

364 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETPERIOD
, 
SëPîiod
);

365 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETDUTYCYCLE
,

366 
SëDutyCy˛e
);

367 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETENABLE
, 
SëE«bÀ
);

368 
	`iŸjs_jvÆ_£t_mëhod
(&
j¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

370 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
jpwm_c⁄°ru˘‹
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

371 &
j¥ŸŸy≥
);

373 
	`iŸjs_jvÆ_de°roy
(&
j¥ŸŸy≥
);

375  
jpwm_c⁄°ru˘‹
;

376 
	}
}

	@src/modules/iotjs_module_pwm.h

17 #i‚de‡
IOTJS_MODULE_PWM_H


18 
	#IOTJS_MODULE_PWM_H


	)

20 
	~"iŸjs_def.h
"

21 
	~"iŸjs_obje˘wøp.h
"

22 
	~"iŸjs_ªqwøp.h
"

24 #i‡
deföed
(
__TIZENRT__
)

25 
	~<iŸbus/iŸbus_pwm.h
>

26 
	~<°döt.h
>

31 
	mkPwmOpO≥n
,

32 
	mkPwmOpSëDutyCy˛e
,

33 
	mkPwmOpSëPîiod
,

34 
	mkPwmOpSëFªquícy
,

35 
	mkPwmOpSëE«bÀ
,

36 
	mkPwmOpClo£
,

37 } 
	tPwmOp
;

41 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

43 #i‡
deföed
(
__löux__
)

44 
	mchù
;

45 
iŸjs_°rög_t
 
	mdevi˚
;

46 #ñi‡
deföed
(
__NUTTX__
)

47 
	mdevi˚_fd
;

48 #ñi‡
deföed
(
__TIZENRT__
)

49 
iŸbus_pwm_c⁄ãxt_h
 
	m˘x
;

51 
uöt32_t
 
	mpö
;

52 
	mduty_cy˛e
;

53 
	m≥riod
;

54 
boﬁ
 
	míabÀ
;

55 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_pwm_t
);

58 
	$boﬁ
 (*
	tpwm_func_±r
)(
	tiŸjs_pwm_t
*);

62 
pwm_func_±r
 
ˇŒî
;

63 
boﬁ
 
ªsu…
;

64 
PwmOp
 
›
;

65 } 
	tiŸjs_pwm_ªqd©a_t
;

69 
iŸjs_ªqwøp_t
 
ªqwøp
;

70 
uv_w‹k_t
 
ªq
;

71 
iŸjs_pwm_ªqd©a_t
 
ªq_d©a
;

72 
iŸjs_pwm_t
* 
pwm_ö°™˚
;

73 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_pwm_ªqwøp_t
);

76 
	#THIS
 
iŸjs_pwm_ªqwøp_t
* 
pwm_ªqwøp


	)

78 
iŸjs_pwm_ªqwøp_t
* 
	`iŸjs_pwm_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
);

79 
iŸjs_pwm_ªqd©a_t
* 
	`iŸjs_pwm_ªqwøp_d©a
(
THIS
);

81 
iŸjs_pwm_t
* 
	`iŸjs_pwm_ö°™˚_‰om_ªqwøp
(
THIS
);

83 #unde‡
THIS


86 
	#PWM_WORKER_INIT
 \

87 
iŸjs_pwm_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_pwm_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

88 
iŸjs_pwm_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_pwm_ªqwøp_d©a
(
ªq_wøp
); \

89 
iŸjs_pwm_t
* 
pwm
 = 
	`iŸjs_pwm_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

	)

92 
	`iŸjs_pwm_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

94 
boﬁ
 
	`iŸjs_pwm_£t_≥riod
(
iŸjs_pwm_t
* 
pwm
);

95 
boﬁ
 
	`iŸjs_pwm_£t_dutycy˛e
(
iŸjs_pwm_t
* 
pwm
);

96 
boﬁ
 
	`iŸjs_pwm_£t_íabÀ
(
iŸjs_pwm_t
* 
pwm
);

97 
boﬁ
 
	`iŸjs_pwm_˛o£
(
iŸjs_pwm_t
* 
pwm
);

	@src/modules/iotjs_module_spi.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_•i.h
"

18 
	~"iŸjs_moduÀ_buf„r.h
"

19 
	~"iŸjs_obje˘wøp.h
"

20 
	~<uni°d.h
>

23 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
•i
);

25 
iŸjs_•i_t
* 
	$iŸjs_•i_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
j•i
) {

26 
iŸjs_•i_t
* 
•i
 = 
	`IOTJS_ALLOC
(iotjs_spi_t);

27 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_•i_t
, 
•i
);

28 
	`iŸjs_jobje˘wøp_öôülize
(&
_this
->
jobje˘wøp
, 
j•i
,

29 &
this_moduÀ_«tive_öfo
);

31 #i‡
	`deföed
(
__löux__
)

32 
_this
->
devi˚
 = 
	`iŸjs_°rög_¸óã
("");

35  
•i
;

36 
	}
}

39 
	$iŸjs_•i_de°roy
(
iŸjs_•i_t
* 
•i
) {

40 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_•i_t
, 
•i
);

41 
	`iŸjs_jobje˘wøp_de°roy
(&
_this
->
jobje˘wøp
);

43 #i‡
	`deföed
(
__löux__
)

44 
	`iŸjs_°rög_de°roy
(&
_this
->
devi˚
);

47 
	`IOTJS_RELEASE
(
•i
);

48 
	}
}

51 
	#THIS
 
iŸjs_•i_ªqwøp_t
* 
•i_ªqwøp


	)

54 
iŸjs_•i_ªqwøp_t
* 
	$iŸjs_•i_ªqwøp_¸óã
(

55 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
iŸjs_•i_t
* 
•i
, 
SpiOp
 
›
) {

56 
iŸjs_•i_ªqwøp_t
* 
•i_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_spi_reqwrap_t);

57 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

59 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

61 
_this
->
ªq_d©a
.
›
 = op;

62 
_this
->
•i_ö°™˚
 = 
•i
;

64  
•i_ªqwøp
;

65 
	}
}

68 
	$iŸjs_•i_ªqwøp_de°roy
(
THIS
) {

69 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

70 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

71 
	`IOTJS_RELEASE
(
•i_ªqwøp
);

72 
	}
}

75 
	$iŸjs_•i_ªqwøp_di•©ched
(
THIS
) {

76 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

77 
	`iŸjs_•i_ªqwøp_de°roy
(
•i_ªqwøp
);

78 
	}
}

81 
uv_w‹k_t
* 
	$iŸjs_•i_ªqwøp_ªq
(
THIS
) {

82 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

83  &
_this
->
ªq
;

84 
	}
}

87 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_•i_ªqwøp_jˇŒback
(
THIS
) {

88 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

89  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

90 
	}
}

93 
iŸjs_•i_ªqwøp_t
* 
	$iŸjs_•i_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
) {

94  (
iŸjs_•i_ªqwøp_t
*)(
	`iŸjs_ªqwøp_‰om_ªque°
((
uv_ªq_t
*)
ªq
));

95 
	}
}

98 
iŸjs_•i_ªqd©a_t
* 
	$iŸjs_•i_ªqwøp_d©a
(
THIS
) {

99 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

100  &
_this
->
ªq_d©a
;

101 
	}
}

104 
iŸjs_•i_t
* 
	$iŸjs_•i_ö°™˚_‰om_ªqwøp
(
THIS
) {

105 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_ªqwøp_t
, 
•i_ªqwøp
);

106  
_this
->
•i_ö°™˚
;

107 
	}
}

110 #unde‡
THIS


113 
	$iŸjs_•i_gë_¨øy_d©a
(** 
buf
, c⁄° 
iŸjs_jvÆ_t
* 
j¨øy
) {

114 
iŸjs_jvÆ_t
 
jÀngth
 =

115 
	`iŸjs_jvÆ_gë_¥›îty
(
j¨øy
, 
IOTJS_MAGIC_STRING_LENGTH
);

116 
	`IOTJS_ASSERT
(!
	`iŸjs_jvÆ_is_undeföed
(&
jÀngth
));

118 
size_t
 
Àngth
 = 
	`iŸjs_jvÆ_as_numbî
(&
jÀngth
);

119 
	`IOTJS_ASSERT
(()
Àngth
 >= 0);

120 *
buf
 = 
	`iŸjs_buf„r_Æloˇã
(
Àngth
);

122 
size_t
 
i
 = 0; i < 
Àngth
; i++) {

123 
iŸjs_jvÆ_t
 
jd©a
 = 
	`iŸjs_jvÆ_gë_¥›îty_by_ödex
(
j¨øy
, 
i
);

124 (*
buf
)[
i
] = 
	`iŸjs_jvÆ_as_numbî
(&
jd©a
);

125 
	`iŸjs_jvÆ_de°roy
(&
jd©a
);

128 
	`iŸjs_jvÆ_de°roy
(&
jÀngth
);

130  ()
Àngth
;

131 
	}
}

134 
	$iŸjs_•i_£t_¨øy_buf„r
(
iŸjs_•i_t
* 
•i
,

135 c⁄° 
iŸjs_jvÆ_t
* 
jtx_buf
,

136 c⁄° 
iŸjs_jvÆ_t
* 
jrx_buf
) {

137 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

139 
tx_buf_Àn
 = 
	`iŸjs_•i_gë_¨øy_d©a
(&
_this
->
tx_buf_d©a
, 
jtx_buf
);

140 
rx_buf_Àn
 = 
	`iŸjs_•i_gë_¨øy_d©a
(&
_this
->
rx_buf_d©a
, 
jrx_buf
);

142 
	`IOTJS_ASSERT
(
_this
->
tx_buf_d©a
 !
NULL
 && _this->
rx_buf_d©a
 != NULL);

143 
	`IOTJS_ASSERT
(
tx_buf_Àn
 > 0 && 
rx_buf_Àn
 > 0 &&Åx_buf_len ==Ñx_buf_len);

145 
_this
->
buf_Àn
 = 
tx_buf_Àn
;

146 
	}
}

149 
	$iŸjs_•i_£t_buf„r
(
iŸjs_•i_t
* 
•i
, c⁄° 
iŸjs_jvÆ_t
* 
jtx_buf
,

150 c⁄° 
iŸjs_jvÆ_t
* 
jrx_buf
) {

151 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

153 
iŸjs_buf„rwøp_t
* 
tx_buf
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jtx_buf
);

154 
iŸjs_buf„rwøp_t
* 
rx_buf
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jrx_buf
);

156 
_this
->
tx_buf_d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
tx_buf
);

157 
uöt8_t
 
tx_buf_Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
tx_buf
);

158 
_this
->
rx_buf_d©a
 = 
	`iŸjs_buf„rwøp_buf„r
(
rx_buf
);

159 
uöt8_t
 
rx_buf_Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
rx_buf
);

161 
	`IOTJS_ASSERT
(
_this
->
tx_buf_d©a
 !
NULL
 && _this->
rx_buf_d©a
 != NULL);

162 
	`IOTJS_ASSERT
(
tx_buf_Àn
 > 0 && 
rx_buf_Àn
 > 0 &&Åx_buf_len ==Ñx_buf_len);

164 
_this
->
buf_Àn
 = 
tx_buf_Àn
;

165 
	}
}

168 
	$iŸjs_•i_ªÀa£_buf„r
(
iŸjs_•i_t
* 
•i
) {

169 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

171 
	`iŸjs_buf„r_ªÀa£
(
_this
->
tx_buf_d©a
);

172 
	`iŸjs_buf„r_ªÀa£
(
_this
->
rx_buf_d©a
);

173 
	}
}

176 
	$iŸjs_•i_£t_c⁄figuøti⁄
(
iŸjs_•i_t
* 
•i
,

177 c⁄° 
iŸjs_jvÆ_t
* 
j›ti⁄s
) {

178 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

180 #i‡
	`deföed
(
__löux__
)

181 
iŸjs_jvÆ_t
 
jdevi˚
 =

182 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_DEVICE
);

183 
_this
->
devi˚
 = 
	`iŸjs_jvÆ_as_°rög
(&
jdevi˚
);

184 
	`iŸjs_jvÆ_de°roy
(&
jdevi˚
);

185 #ñi‡
	`deföed
(
__NUTTX__
Ë|| deföed(
__TIZENRT__
)

186 
iŸjs_jvÆ_t
 
jbus
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_BUS
);

187 
_this
->
bus
 = 
	`iŸjs_jvÆ_as_numbî
(&
jbus
);

188 
	`iŸjs_jvÆ_de°roy
(&
jbus
);

190 
iŸjs_jvÆ_t
 
jmode
 =

191 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_MODE
);

192 
_this
->
mode
 = (
SpiMode
)
	`iŸjs_jvÆ_as_numbî
(&
jmode
);

193 
	`iŸjs_jvÆ_de°roy
(&
jmode
);

195 
iŸjs_jvÆ_t
 
jchù_£À˘
 =

196 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_CHIPSELECT
);

197 
_this
->
chù_£À˘
 = (
SpiChùSñe˘
)
	`iŸjs_jvÆ_as_numbî
(&
jchù_£À˘
);

198 
	`iŸjs_jvÆ_de°roy
(&
jchù_£À˘
);

200 
iŸjs_jvÆ_t
 
jmax_•ìd
 =

201 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_MAXSPEED
);

202 
_this
->
max_•ìd
 = 
	`iŸjs_jvÆ_as_numbî
(&
jmax_•ìd
);

203 
	`iŸjs_jvÆ_de°roy
(&
jmax_•ìd
);

205 
iŸjs_jvÆ_t
 
jbôs_≥r_w‹d
 =

206 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_BITSPERWORD
);

207 
_this
->
bôs_≥r_w‹d
 = (
SpiOrdî
)
	`iŸjs_jvÆ_as_numbî
(&
jbôs_≥r_w‹d
);

208 
	`iŸjs_jvÆ_de°roy
(&
jbôs_≥r_w‹d
);

210 
iŸjs_jvÆ_t
 
jbô_‹dî
 =

211 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_BITORDER
);

212 
_this
->
bô_‹dî
 = (
SpiOrdî
)
	`iŸjs_jvÆ_as_numbî
(&
jbô_‹dî
);

213 
	`iŸjs_jvÆ_de°roy
(&
jbô_‹dî
);

215 
iŸjs_jvÆ_t
 
jlo›back
 =

216 
	`iŸjs_jvÆ_gë_¥›îty
(
j›ti⁄s
, 
IOTJS_MAGIC_STRING_LOOPBACK
);

217 
_this
->
lo›back
 = 
	`iŸjs_jvÆ_as_boﬁón
(&
jlo›back
);

218 
	`iŸjs_jvÆ_de°roy
(&
jlo›back
);

219 
	}
}

225 
	$iŸjs_•i_å™s„r_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

226 
SPI_WORKER_INIT
;

228 i‡(!
	`iŸjs_•i_å™s„r
(
•i
)) {

229 
ªq_d©a
->
ªsu…
 = 
Ál£
;

233 
ªq_d©a
->
ªsu…
 = 
åue
;

234 
	}
}

237 
	$iŸjs_•i_˛o£_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

238 
SPI_WORKER_INIT
;

240 i‡(!
	`iŸjs_•i_˛o£
(
•i
)) {

241 
ªq_d©a
->
ªsu…
 = 
Ál£
;

245 
ªq_d©a
->
ªsu…
 = 
åue
;

246 
	}
}

249 
	$iŸjs_•i_a·î_w‹k
(
uv_w‹k_t
* 
w‹k_ªq
, 
°©us
) {

250 
iŸjs_•i_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_•i_ªqwøp_‰om_ªque°
(
w‹k_ªq
);

251 
iŸjs_•i_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_•i_ªqwøp_d©a
(
ªq_wøp
);

252 
iŸjs_•i_t
* 
•i
 = 
	`iŸjs_•i_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

254 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

256 
boﬁ
 
ªsu…
 = 
ªq_d©a
->result;

258 i‡(
°©us
) {

259 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "SystemÉrror");

261 
ªq_d©a
->
›
) {

262 
kSpiOpO≥n
:

263 i‡(!
ªsu…
) {

264 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅoÉxport SPI device");

266 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

269 
kSpiOpTøns„rAºay
:

270 
kSpiOpTøns„rBuf„r
:

271 i‡(!
ªsu…
) {

272 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "CannotÅransfer from SPI device");

274 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

276 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

279 
iŸjs_jvÆ_t
 
ªsu…_d©a
 =

280 
	`iŸjs_jvÆ_¸óã_byã_¨øy
(
_this
->
buf_Àn
, _this->
rx_buf_d©a
);

281 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
ªsu…_d©a
);

282 
	`iŸjs_jvÆ_de°roy
(&
ªsu…_d©a
);

285 i‡(
ªq_d©a
->
›
 =
kSpiOpTøns„rAºay
)

286 
	`iŸjs_•i_ªÀa£_buf„r
(
•i
);

289 
kSpiOpClo£
:

290 i‡(!
ªsu…
) {

291 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo unexport SPI device");

293 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

297 
	`IOTJS_ASSERT
(!"Unreachable");

303 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_•i_ªqwøp_jˇŒback
(
ªq_wøp
);

304 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

306 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

308 
	`iŸjs_•i_ªqwøp_di•©ched
(
ªq_wøp
);

309 
	}
}

312 
iŸjs_•i_t
* 
	$iŸjs_•i_gë_ö°™˚
(c⁄° 
iŸjs_jvÆ_t
* 
j•i
) {

313 
uöçå_t
 
h™dÀ
 = 
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
j•i
);

314  (
iŸjs_•i_t
*)(
h™dÀ
);

315 
	}
}

318 
	#SPI_ASYNC
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
) \

320 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

321 
iŸjs_•i_ªqwøp_t
* 
ªq_wøp
 = \

322 
	`iŸjs_•i_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

323 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_•i_ªqwøp_ªq
(
ªq_wøp
); \

324 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_•i_
##
ˇŒ
##
_w‹kî
, 
iŸjs_•i_a·î_w‹k
); \

325 } 0)

	)

328 
	$JHANDLER_FUNCTION
(
SpiC⁄°ru˘‹
) {

329 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

330 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, 
fun˘i⁄
);

333 c⁄° 
iŸjs_jvÆ_t
* 
j•i
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

334 
iŸjs_•i_t
* 
•i
 = 
	`iŸjs_•i_¸óã
(
j•i
);

335 
	`IOTJS_ASSERT
(
•i
 =
	`iŸjs_•i_gë_ö°™˚
(
j•i
));

338 c⁄° 
iŸjs_jvÆ_t
* 
jc⁄figuøti⁄
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

339 
	`iŸjs_•i_£t_c⁄figuøti⁄
(
•i
, 
jc⁄figuøti⁄
);

341 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(1, 
fun˘i⁄
);

342 
	`SPI_ASYNC
(
›í
, 
•i
, 
jˇŒback
, 
kSpiOpO≥n
);

343 
	}
}

347 
	$JHANDLER_FUNCTION
(
Tøns„rAºay
) {

348 
	`JHANDLER_DECLARE_THIS_PTR
(
•i
, spi);

350 
	`DJHANDLER_CHECK_ARGS
(2, 
¨øy
,árray);

351 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(2, 
fun˘i⁄
);

353 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(2, 
fun˘i⁄
);

355 
	`iŸjs_•i_£t_¨øy_buf„r
(
•i
, 
	`JHANDLER_GET_ARG
(0, 
¨øy
),

356 
	`JHANDLER_GET_ARG
(1, 
¨øy
));

358 i‡(
jˇŒback
) {

359 
	`SPI_ASYNC
(
å™s„r
, 
•i
, 
jˇŒback
, 
kSpiOpTøns„rAºay
);

361 i‡(!
	`iŸjs_•i_å™s„r
(
•i
)) {

362 
	`JHANDLER_THROW
(
COMMON
, "SPI Transfer Error");

364 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

366 
iŸjs_jvÆ_t
 
ªsu…
 =

367 
	`iŸjs_jvÆ_¸óã_byã_¨øy
(
_this
->
buf_Àn
, _this->
rx_buf_d©a
);

368 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
ªsu…
);

369 
	`iŸjs_jvÆ_de°roy
(&
ªsu…
);

372 
	`iŸjs_•i_ªÀa£_buf„r
(
•i
);

374 
	}
}

377 
	$JHANDLER_FUNCTION
(
Tøns„rBuf„r
) {

378 
	`JHANDLER_DECLARE_THIS_PTR
(
•i
, spi);

380 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, object);

381 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(2, 
fun˘i⁄
);

383 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(2, 
fun˘i⁄
);

385 
	`iŸjs_•i_£t_buf„r
(
•i
, 
	`JHANDLER_GET_ARG
(0, 
obje˘
),

386 
	`JHANDLER_GET_ARG
(1, 
obje˘
));

388 i‡(
jˇŒback
) {

389 
	`SPI_ASYNC
(
å™s„r
, 
•i
, 
jˇŒback
, 
kSpiOpTøns„rBuf„r
);

391 i‡(!
	`iŸjs_•i_å™s„r
(
•i
)) {

392 
	`JHANDLER_THROW
(
COMMON
, "SPI Transfer Error");

394 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

396 
iŸjs_jvÆ_t
 
ªsu…
 =

397 
	`iŸjs_jvÆ_¸óã_byã_¨øy
(
_this
->
buf_Àn
, _this->
rx_buf_d©a
);

398 
	`iŸjs_jh™dÀr_ªtu∫_jvÆ
(
jh™dÀr
, &
ªsu…
);

399 
	`iŸjs_jvÆ_de°roy
(&
ªsu…
);

402 
	}
}

405 
	$JHANDLER_FUNCTION
(
Clo£
) {

406 
	`JHANDLER_DECLARE_THIS_PTR
(
•i
, spi);

408 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

410 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

412 i‡(
jˇŒback
) {

413 
	`SPI_ASYNC
(
˛o£
, 
•i
, 
jˇŒback
, 
kSpiOpClo£
);

415 i‡(!
	`iŸjs_•i_˛o£
(
•i
)) {

416 
	`JHANDLER_THROW
(
COMMON
, "SPI Close Error");

420 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

421 
	}
}

424 
iŸjs_jvÆ_t
 
	$InôSpi
() {

425 
iŸjs_jvÆ_t
 
j•i
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

426 
iŸjs_jvÆ_t
 
j•iC⁄°ru˘‹
 =

427 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
SpiC⁄°ru˘‹
);

428 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
j•i
, 
IOTJS_MAGIC_STRING_SPI
, &
j•iC⁄°ru˘‹
);

430 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

431 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_TRANSFERARRAY
,

432 
Tøns„rAºay
);

433 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_TRANSFERBUFFER
,

434 
Tøns„rBuf„r
);

435 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

436 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
j•iC⁄°ru˘‹
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

437 &
¥ŸŸy≥
);

438 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

439 
	`iŸjs_jvÆ_de°roy
(&
j•iC⁄°ru˘‹
);

442 
iŸjs_jvÆ_t
 
jmode
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

443 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_0
, 
kSpiMode_0
);

444 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_1
, 
kSpiMode_1
);

445 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_2
, 
kSpiMode_2
);

446 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jmode
, 
IOTJS_MAGIC_STRING_3
, 
kSpiMode_3
);

447 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
j•i
, 
IOTJS_MAGIC_STRING_MODE_U
, &
jmode
);

448 
	`iŸjs_jvÆ_de°roy
(&
jmode
);

451 
iŸjs_jvÆ_t
 
jcs
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

452 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jcs
, 
IOTJS_MAGIC_STRING_NONE
, 
kSpiCsN⁄e
);

453 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jcs
, 
IOTJS_MAGIC_STRING_HIGH
, 
kSpiCsHigh
);

454 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
j•i
, 
IOTJS_MAGIC_STRING_CHIPSELECT_U
, &
jcs
);

455 
	`iŸjs_jvÆ_de°roy
(&
jcs
);

458 
iŸjs_jvÆ_t
 
jbô_‹dî
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

459 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jbô_‹dî
, 
IOTJS_MAGIC_STRING_MSB
,

460 
kSpiOrdîMsb
);

461 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jbô_‹dî
, 
IOTJS_MAGIC_STRING_LSB
,

462 
kSpiOrdîLsb
);

463 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
j•i
, 
IOTJS_MAGIC_STRING_BITORDER_U
,

464 &
jbô_‹dî
);

465 
	`iŸjs_jvÆ_de°roy
(&
jbô_‹dî
);

467  
j•i
;

468 
	}
}

	@src/modules/iotjs_module_spi.h

17 #i‚de‡
IOTJS_MODULE_SPI_H


18 
	#IOTJS_MODULE_SPI_H


	)

20 
	~"iŸjs_def.h
"

21 
	~"iŸjs_moduÀ_buf„r.h
"

22 
	~"iŸjs_obje˘wøp.h
"

23 
	~"iŸjs_ªqwøp.h
"

25 #i‡
deföed
(
__TIZENRT__
)

26 
	~<iŸbus/iŸbus_•i.h
>

27 
	~<töy¨a/c⁄fig.h
>

31 #i‡
deföed
(
__NUTTX__
)

32 
	~<nuâx/•i/•i.h
>

36 
	mkSpiOpO≥n
,

37 
	mkSpiOpTøns„rAºay
,

38 
	mkSpiOpTøns„rBuf„r
,

39 
	mkSpiOpClo£
,

40 } 
	tSpiOp
;

43 
	mkSpiMode_0
,

44 
	mkSpiMode_1
,

45 
	mkSpiMode_2
,

46 
	mkSpiMode_3
,

47 } 
	tSpiMode
;

50 
	mkSpiCsN⁄e
,

51 
	mkSpiCsHigh
,

52 } 
	tSpiChùSñe˘
;

54 íum { 
	mkSpiOrdîMsb
, 
	mkSpiOrdîLsb
 } 
	tSpiOrdî
;

58 
iŸjs_jobje˘wøp_t
 
	mjobje˘wøp
;

59 #i‡
deföed
(
__löux__
)

60 
iŸjs_°rög_t
 
	mdevi˚
;

61 
öt32_t
 
	mdevi˚_fd
;

62 #ñi‡
deföed
(
__NUTTX__
)

63 
	mbus
;

64 
uöt32_t
 
	mcs_chù
;

65 
•i_dev_s
* 
	m•i_dev
;

66 #ñi‡
deföed
(
__TIZENRT__
)

67 
	mbus
;

68 
iŸbus_•i_c⁄ãxt_h
 
	mhSpi
;

70 
SpiMode
 
	mmode
;

71 
SpiChùSñe˘
 
	mchù_£À˘
;

72 
SpiOrdî
 
	mbô_‹dî
;

73 
uöt8_t
 
	mbôs_≥r_w‹d
;

74 
uöt16_t
 
	mdñay
;

75 
uöt32_t
 
	mmax_•ìd
;

76 
boﬁ
 
	mlo›back
;

79 * 
	mtx_buf_d©a
;

80 * 
	mrx_buf_d©a
;

81 
uöt8_t
 
	mbuf_Àn
;

83 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_•i_t
);

87 
boﬁ
 
	mªsu…
;

88 
SpiOp
 
	m›
;

89 } 
	tiŸjs_•i_ªqd©a_t
;

93 
iŸjs_ªqwøp_t
 
	mªqwøp
;

94 
uv_w‹k_t
 
	mªq
;

95 
iŸjs_•i_ªqd©a_t
 
	mªq_d©a
;

96 
iŸjs_•i_t
* 
	m•i_ö°™˚
;

97 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_•i_ªqwøp_t
);

100 
	#THIS
 
iŸjs_•i_ªqwøp_t
* 
•i_ªqwøp


	)

102 
iŸjs_•i_ªqwøp_t
* 
iŸjs_•i_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
);

103 
iŸjs_•i_ªqd©a_t
* 
iŸjs_•i_ªqwøp_d©a
(
THIS
);

105 
iŸjs_•i_t
* 
iŸjs_•i_ö°™˚_‰om_ªqwøp
(
THIS
);

107 #unde‡
THIS


110 
	#SPI_WORKER_INIT
 \

111 
iŸjs_•i_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_•i_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

112 
iŸjs_•i_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_•i_ªqwøp_d©a
(
ªq_wøp
); \

113 
iŸjs_•i_t
* 
•i
 = 
	`iŸjs_•i_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

	)

116 
boﬁ
 
iŸjs_•i_å™s„r
(
iŸjs_•i_t
* 
•i
);

117 
boﬁ
 
iŸjs_•i_˛o£
(
iŸjs_•i_t
* 
•i
);

119 
iŸjs_•i_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

	@src/modules/iotjs_module_stm32f4dis.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_°m32f4dis.h
"

20 
iŸjs_jvÆ_t
 
	$InôStm32f4dis
() {

21 
iŸjs_jvÆ_t
 
°m32f4dis
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

23 #i‡
	`deföed
(
__NUTTX__
)

25 
	`iŸjs_°m32f4dis_pö_öôülize
(&
°m32f4dis
);

29  
°m32f4dis
;

30 
	}
}

	@src/modules/iotjs_module_stm32f4dis.h

16 #i‚de‡
IOTJS_MODULE_STM32F4DIS_H


17 
	#IOTJS_MODULE_STM32F4DIS_H


	)

20 
iŸjs_°m32f4dis_pö_öôülize
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
);

	@src/modules/iotjs_module_tcp.c

17 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ_t˝.h
"

20 
	~"iŸjs_h™dÀwøp.h
"

21 
	~"iŸjs_moduÀ_buf„r.h
"

22 
	~"iŸjs_ªqwøp.h
"

25 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
t˝wøp
);

28 
iŸjs_t˝wøp_t
* 
	$iŸjs_t˝wøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jt˝
) {

29 
iŸjs_t˝wøp_t
* 
t˝wøp
 = 
	`IOTJS_ALLOC
(iotjs_tcpwrap_t);

30 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_t˝wøp_t
, 
t˝wøp
);

32 
	`iŸjs_h™dÀwøp_öôülize
(&
_this
->
h™dÀwøp
, 
jt˝
,

33 (
uv_h™dÀ_t
*)(&
_this
->
h™dÀ
),

34 &
this_moduÀ_«tive_öfo
);

36 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

37 
	`uv_t˝_öô
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), &
_this
->
h™dÀ
);

39  
t˝wøp
;

40 
	}
}

43 
	$iŸjs_t˝wøp_de°roy
(
iŸjs_t˝wøp_t
* 
t˝wøp
) {

44 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_t˝wøp_t
, 
t˝wøp
);

45 
	`iŸjs_h™dÀwøp_de°roy
(&
_this
->
h™dÀwøp
);

46 
	`IOTJS_RELEASE
(
t˝wøp
);

47 
	}
}

50 
iŸjs_t˝wøp_t
* 
	$iŸjs_t˝wøp_‰om_h™dÀ
(
uv_t˝_t
* 
t˝_h™dÀ
) {

51 
uv_h™dÀ_t
* 
h™dÀ
 = (uv_h™dÀ_t*)(
t˝_h™dÀ
);

52 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
h™dÀ
);

53 
iŸjs_t˝wøp_t
* 
t˝wøp
 = (iŸjs_t˝wøp_t*)
h™dÀwøp
;

54 
	`IOTJS_ASSERT
(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝wøp
Ë=
t˝_h™dÀ
);

55  
t˝wøp
;

56 
	}
}

59 
iŸjs_t˝wøp_t
* 
	$iŸjs_t˝wøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jt˝
) {

60 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_jobje˘
(
jt˝
);

61  (
iŸjs_t˝wøp_t
*)
h™dÀwøp
;

62 
	}
}

65 
uv_t˝_t
* 
	$iŸjs_t˝wøp_t˝_h™dÀ
(
iŸjs_t˝wøp_t
* 
t˝wøp
) {

66 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_t˝wøp_t
, 
t˝wøp
);

67 
uv_h™dÀ_t
* 
h™dÀ
 = 
	`iŸjs_h™dÀwøp_gë_uv_h™dÀ
(&
_this
->
h™dÀwøp
);

68  (
uv_t˝_t
*)
h™dÀ
;

69 
	}
}

72 
iŸjs_jvÆ_t
* 
	$iŸjs_t˝wøp_jobje˘
(
iŸjs_t˝wøp_t
* 
t˝wøp
) {

73 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_t˝wøp_t
, 
t˝wøp
);

74  
	`iŸjs_h™dÀwøp_jobje˘
(&
_this
->
h™dÀwøp
);

75 
	}
}

78 
	#THIS
 
iŸjs_c⁄√˘_ªqwøp_t
* 
c⁄√˘_ªqwøp


	)

81 
iŸjs_c⁄√˘_ªqwøp_de°roy
(
THIS
);

84 
iŸjs_c⁄√˘_ªqwøp_t
* 
	$iŸjs_c⁄√˘_ªqwøp_¸óã
(

85 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
) {

86 
iŸjs_c⁄√˘_ªqwøp_t
* 
c⁄√˘_ªqwøp
 =

87 
	`IOTJS_ALLOC
(
iŸjs_c⁄√˘_ªqwøp_t
);

88 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_c⁄√˘_ªqwøp_t
, 
c⁄√˘_ªqwøp
);

89 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

90  
c⁄√˘_ªqwøp
;

91 
	}
}

94 
	$iŸjs_c⁄√˘_ªqwøp_de°roy
(
THIS
) {

95 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_c⁄√˘_ªqwøp_t
, 
c⁄√˘_ªqwøp
);

96 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

97 
	`IOTJS_RELEASE
(
c⁄√˘_ªqwøp
);

98 
	}
}

101 
	$iŸjs_c⁄√˘_ªqwøp_di•©ched
(
THIS
) {

102 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_c⁄√˘_ªqwøp_t
,

103 
c⁄√˘_ªqwøp
);

104 
	`iŸjs_c⁄√˘_ªqwøp_de°roy
(
c⁄√˘_ªqwøp
);

105 
	}
}

108 
uv_c⁄√˘_t
* 
	$iŸjs_c⁄√˘_ªqwøp_ªq
(
THIS
) {

109 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_c⁄√˘_ªqwøp_t
, 
c⁄√˘_ªqwøp
);

110  &
_this
->
ªq
;

111 
	}
}

114 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_c⁄√˘_ªqwøp_jˇŒback
(
THIS
) {

115 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_c⁄√˘_ªqwøp_t
, 
c⁄√˘_ªqwøp
);

116  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

117 
	}
}

119 #unde‡
THIS


122 
	#THIS
 
iŸjs_wrôe_ªqwøp_t
* 
wrôe_ªqwøp


	)

125 
iŸjs_wrôe_ªqwøp_de°roy
(
THIS
);

128 
iŸjs_wrôe_ªqwøp_t
* 
	$iŸjs_wrôe_ªqwøp_¸óã
(

129 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
) {

130 
iŸjs_wrôe_ªqwøp_t
* 
wrôe_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_write_reqwrap_t);

131 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_wrôe_ªqwøp_t
, 
wrôe_ªqwøp
);

132 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

133  
wrôe_ªqwøp
;

134 
	}
}

137 
	$iŸjs_wrôe_ªqwøp_de°roy
(
THIS
) {

138 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_wrôe_ªqwøp_t
, 
wrôe_ªqwøp
);

139 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

140 
	`IOTJS_RELEASE
(
wrôe_ªqwøp
);

141 
	}
}

144 
	$iŸjs_wrôe_ªqwøp_di•©ched
(
THIS
) {

145 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_wrôe_ªqwøp_t
,

146 
wrôe_ªqwøp
);

147 
	`iŸjs_wrôe_ªqwøp_de°roy
(
wrôe_ªqwøp
);

148 
	}
}

151 
uv_wrôe_t
* 
	$iŸjs_wrôe_ªqwøp_ªq
(
THIS
) {

152 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_wrôe_ªqwøp_t
, 
wrôe_ªqwøp
);

153  &
_this
->
ªq
;

154 
	}
}

157 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_wrôe_ªqwøp_jˇŒback
(
THIS
) {

158 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_wrôe_ªqwøp_t
, 
wrôe_ªqwøp
);

159  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

160 
	}
}

162 #unde‡
THIS


165 
	#THIS
 
iŸjs_shutdown_ªqwøp_t
* 
shutdown_ªqwøp


	)

168 
iŸjs_shutdown_ªqwøp_de°roy
(
THIS
);

171 
iŸjs_shutdown_ªqwøp_t
* 
	$iŸjs_shutdown_ªqwøp_¸óã
(

172 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
) {

173 
iŸjs_shutdown_ªqwøp_t
* 
shutdown_ªqwøp
 =

174 
	`IOTJS_ALLOC
(
iŸjs_shutdown_ªqwøp_t
);

175 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_shutdown_ªqwøp_t
,

176 
shutdown_ªqwøp
);

177 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

178  
shutdown_ªqwøp
;

179 
	}
}

182 
	$iŸjs_shutdown_ªqwøp_de°roy
(
THIS
) {

183 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_shutdown_ªqwøp_t
, 
shutdown_ªqwøp
);

184 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

185 
	`IOTJS_RELEASE
(
shutdown_ªqwøp
);

186 
	}
}

189 
	$iŸjs_shutdown_ªqwøp_di•©ched
(
THIS
) {

190 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_shutdown_ªqwøp_t
,

191 
shutdown_ªqwøp
);

192 
	`iŸjs_shutdown_ªqwøp_de°roy
(
shutdown_ªqwøp
);

193 
	}
}

196 
uv_shutdown_t
* 
	$iŸjs_shutdown_ªqwøp_ªq
(
THIS
) {

197 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_shutdown_ªqwøp_t
, 
shutdown_ªqwøp
);

198  &
_this
->
ªq
;

199 
	}
}

202 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_shutdown_ªqwøp_jˇŒback
(
THIS
) {

203 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_shutdown_ªqwøp_t
, 
shutdown_ªqwøp
);

204  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

205 
	}
}

207 #unde‡
THIS


210 
	$JHANDLER_FUNCTION
(
TCP
) {

211 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

212 
	`DJHANDLER_CHECK_ARGS
(0);

214 c⁄° 
iŸjs_jvÆ_t
* 
jt˝
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

215 
iŸjs_t˝wøp_t
* 
t˝_wøp
 = 
	`iŸjs_t˝wøp_¸óã
(
jt˝
);

216 
	`IOTJS_UNUSED
(
t˝_wøp
);

217 
	}
}

220 
	$JHANDLER_FUNCTION
(
O≥n
) {

221 
	}
}

225 
	$A·îClo£
(
uv_h™dÀ_t
* 
h™dÀ
) {

226 
iŸjs_h™dÀwøp_t
* 
wøp
 = 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
h™dÀ
);

229 c⁄° 
iŸjs_jvÆ_t
* 
jt˝
 = 
	`iŸjs_h™dÀwøp_jobje˘
(
wøp
);

232 
iŸjs_jvÆ_t
 
jˇŒback
 =

233 
	`iŸjs_jvÆ_gë_¥›îty
(
jt˝
, 
IOTJS_MAGIC_STRING_ONCLOSE
);

234 i‡(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
jˇŒback
)) {

235 
	`iŸjs_make_ˇŒback
(&
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(),

236 
	`iŸjs_j¨gs_gë_em±y
());

238 
	`iŸjs_jvÆ_de°roy
(&
jˇŒback
);

239 
	}
}

243 
	$JHANDLER_FUNCTION
(
Clo£
) {

244 
	`JHANDLER_DECLARE_THIS_PTR
(
h™dÀwøp
, 
wøp
);

245 
	`DJHANDLER_CHECK_ARGS
(0);

248 
	`iŸjs_h™dÀwøp_˛o£
(
wøp
, 
A·îClo£
);

249 
	}
}

256 
	$JHANDLER_FUNCTION
(
Böd
) {

257 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

259 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, 
numbî
);

261 
iŸjs_°rög_t
 
addªss
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

262 
p‹t
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

264 
sockaddr_ö
 
addr
;

265 
îr
 = 
	`uv_ù4_addr
(
	`iŸjs_°rög_d©a
(&
addªss
), 
p‹t
, &
addr
);

267 i‡(
îr
 == 0) {

268 
îr
 = 
	`uv_t˝_böd
(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
),

269 (c⁄° 
sockaddr
*)(&
addr
), 0);

272 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

274 
	`iŸjs_°rög_de°roy
(&
addªss
);

275 
	}
}

279 
	$A·îC⁄√˘
(
uv_c⁄√˘_t
* 
ªq
, 
°©us
) {

280 
iŸjs_c⁄√˘_ªqwøp_t
* 
ªq_wøp
 = (iŸjs_c⁄√˘_ªqwøp_t*)(
ªq
->
d©a
);

281 
	`IOTJS_ASSERT
(
ªq_wøp
 !
NULL
);

285 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_c⁄√˘_ªqwøp_jˇŒback
(
ªq_wøp
);

286 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(
jˇŒback
));

289 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

290 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gs
, 
°©us
);

293 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
¨gs
);

296 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

299 
	`iŸjs_c⁄√˘_ªqwøp_di•©ched
(
ªq_wøp
);

300 
	}
}

307 
	$JHANDLER_FUNCTION
(
C⁄√˘
) {

308 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

310 
	`DJHANDLER_CHECK_ARGS
(3, 
°rög
, 
numbî
, 
fun˘i⁄
);

312 
iŸjs_°rög_t
 
addªss
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

313 
p‹t
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

314 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(2, 
fun˘i⁄
);

316 
sockaddr_ö
 
addr
;

317 
îr
 = 
	`uv_ù4_addr
(
	`iŸjs_°rög_d©a
(&
addªss
), 
p‹t
, &
addr
);

319 i‡(
îr
 == 0) {

321 
iŸjs_c⁄√˘_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_c⁄√˘_ªqwøp_¸óã
(
jˇŒback
);

324 
îr
 = 
	`uv_t˝_c⁄√˘
(
	`iŸjs_c⁄√˘_ªqwøp_ªq
(
ªq_wøp
),

325 
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
),

326 (c⁄° 
sockaddr
*)(&
addr
), 
A·îC⁄√˘
);

328 i‡(
îr
) {

329 
	`iŸjs_c⁄√˘_ªqwøp_di•©ched
(
ªq_wøp
);

333 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

335 
	`iŸjs_°rög_de°roy
(&
addªss
);

336 
	}
}

343 
	$OnC⁄√˘i⁄
(
uv_°ªam_t
* 
h™dÀ
, 
°©us
) {

345 
iŸjs_t˝wøp_t
* 
t˝_wøp
 = 
	`iŸjs_t˝wøp_‰om_h™dÀ
((
uv_t˝_t
*)
h™dÀ
);

348 c⁄° 
iŸjs_jvÆ_t
* 
jt˝
 = 
	`iŸjs_t˝wøp_jobje˘
(
t˝_wøp
);

351 
iŸjs_jvÆ_t
 
j⁄c⁄√˘i⁄
 =

352 
	`iŸjs_jvÆ_gë_¥›îty
(
jt˝
, 
IOTJS_MAGIC_STRING_ONCONNECTION
);

353 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j⁄c⁄√˘i⁄
));

358 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

359 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gs
, 
°©us
);

361 i‡(
°©us
 == 0) {

363 
iŸjs_jvÆ_t
 
j¸óã_t˝
 =

364 
	`iŸjs_jvÆ_gë_¥›îty
(
jt˝
, 
IOTJS_MAGIC_STRING_CREATETCP
);

365 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j¸óã_t˝
));

367 
iŸjs_jvÆ_t
 
j˛õ¡_t˝
 =

368 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
j¸óã_t˝
, 
	`iŸjs_jvÆ_gë_undeföed
(),

369 
	`iŸjs_j¨gs_gë_em±y
());

370 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(&
j˛õ¡_t˝
));

372 
iŸjs_t˝wøp_t
* 
t˝_wøp_˛õ¡
 =

373 (
iŸjs_t˝wøp_t
*)(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(&
j˛õ¡_t˝
));

375 
uv_°ªam_t
* 
˛õ¡_h™dÀ
 =

376 (
uv_°ªam_t
*)(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp_˛õ¡
));

378 
îr
 = 
	`uv_ac˚±
(
h™dÀ
, 
˛õ¡_h™dÀ
);

379 i‡(
îr
) {

380 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

384 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
¨gs
, &
j˛õ¡_t˝
);

385 
	`iŸjs_jvÆ_de°roy
(&
j¸óã_t˝
);

386 
	`iŸjs_jvÆ_de°roy
(&
j˛õ¡_t˝
);

389 
	`iŸjs_make_ˇŒback
(&
j⁄c⁄√˘i⁄
, 
jt˝
, &
¨gs
);

391 
	`iŸjs_jvÆ_de°roy
(&
j⁄c⁄√˘i⁄
);

392 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

393 
	}
}

396 
	$JHANDLER_FUNCTION
(
Li°í
) {

397 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

398 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

400 
backlog
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

402 
îr
 = 
	`uv_li°í
((
uv_°ªam_t
*)(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
)),

403 
backlog
, 
OnC⁄√˘i⁄
);

405 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

406 
	}
}

409 
	$A·îWrôe
(
uv_wrôe_t
* 
ªq
, 
°©us
) {

410 
iŸjs_wrôe_ªqwøp_t
* 
ªq_wøp
 = (iŸjs_wrôe_ªqwøp_t*)(
ªq
->
d©a
);

411 
iŸjs_t˝wøp_t
* 
t˝_wøp
 = (iŸjs_t˝wøp_t*)(
ªq
->
h™dÀ
->
d©a
);

412 
	`IOTJS_ASSERT
(
ªq_wøp
 !
NULL
);

413 
	`IOTJS_ASSERT
(
t˝_wøp
 !
NULL
);

416 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_wrôe_ªqwøp_jˇŒback
(
ªq_wøp
);

419 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

420 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gs
, 
°©us
);

423 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
¨gs
);

426 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

429 
	`iŸjs_wrôe_ªqwøp_di•©ched
(
ªq_wøp
);

430 
	}
}

433 
	$JHANDLER_FUNCTION
(
Wrôe
) {

434 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

435 
	`DJHANDLER_CHECK_ARGS
(2, 
obje˘
, 
fun˘i⁄
);

437 c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

438 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jbuf„r
);

439 * 
buf„r
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

440 
size_t
 
Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

442 
uv_buf_t
 
buf
;

443 
buf
.
ba£
 = 
buf„r
;

444 
buf
.
Àn
 =Üen;

446 c⁄° 
iŸjs_jvÆ_t
* 
¨g1
 = 
	`JHANDLER_GET_ARG
(1, 
obje˘
);

447 
iŸjs_wrôe_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_wrôe_ªqwøp_¸óã
(
¨g1
);

449 
îr
 = 
	`uv_wrôe
(
	`iŸjs_wrôe_ªqwøp_ªq
(
ªq_wøp
),

450 (
uv_°ªam_t
*)(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
)), &
buf
,

451 1, 
A·îWrôe
);

453 i‡(
îr
) {

454 
	`iŸjs_wrôe_ªqwøp_di•©ched
(
ªq_wøp
);

457 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

458 
	}
}

461 
	$OnAŒoc
(
uv_h™dÀ_t
* 
h™dÀ
, 
size_t
 
sugge°ed_size
, 
uv_buf_t
* 
buf
) {

462 i‡(
sugge°ed_size
 > 
IOTJS_MAX_READ_BUFFER_SIZE
) {

463 
sugge°ed_size
 = 
IOTJS_MAX_READ_BUFFER_SIZE
;

466 
buf
->
ba£
 = 
	`iŸjs_buf„r_Æloˇã
(
sugge°ed_size
);

467 
buf
->
Àn
 = 
sugge°ed_size
;

468 
	}
}

471 
	$OnRód
(
uv_°ªam_t
* 
h™dÀ
, 
ssize_t
 
ƒód
, c⁄° 
uv_buf_t
* 
buf
) {

472 
iŸjs_t˝wøp_t
* 
t˝_wøp
 = 
	`iŸjs_t˝wøp_‰om_h™dÀ
((
uv_t˝_t
*)
h™dÀ
);

475 c⁄° 
iŸjs_jvÆ_t
* 
jt˝
 = 
	`iŸjs_t˝wøp_jobje˘
(
t˝_wøp
);

478 
iŸjs_jvÆ_t
 
jsockë
 =

479 
	`iŸjs_jvÆ_gë_¥›îty
(
jt˝
, 
IOTJS_MAGIC_STRING_OWNER
);

480 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(&
jsockë
));

483 
iŸjs_jvÆ_t
 
j⁄ªad
 =

484 
	`iŸjs_jvÆ_gë_¥›îty
(
jt˝
, 
IOTJS_MAGIC_STRING_ONREAD
);

485 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j⁄ªad
));

487 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(4);

488 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
jsockë
);

489 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
ƒód
);

490 
	`iŸjs_j¨gs_≠≥nd_boﬁ
(&
j¨gs
, 
Ál£
);

492 i‡(
ƒód
 <= 0) {

493 i‡(
buf
->
ba£
 !
NULL
) {

494 
	`iŸjs_buf„r_ªÀa£
(
buf
->
ba£
);

496 i‡(
ƒód
 < 0) {

497 i‡(
ƒód
 =
UV__EOF
) {

498 
	`iŸjs_j¨gs_ª∂a˚
(&
j¨gs
, 2, 
	`iŸjs_jvÆ_gë_boﬁón
(
åue
));

501 
	`iŸjs_make_ˇŒback
(&
j⁄ªad
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

504 
iŸjs_jvÆ_t
 
jbuf„r
 = 
	`iŸjs_buf„rwøp_¸óã_buf„r
((
size_t
)
ƒód
);

505 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(&
jbuf„r
);

507 
	`iŸjs_buf„rwøp_c›y
(
buf„r_wøp
, 
buf
->
ba£
, (
size_t
)
ƒód
);

509 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
jbuf„r
);

510 
	`iŸjs_make_ˇŒback
(&
j⁄ªad
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

512 
	`iŸjs_jvÆ_de°roy
(&
jbuf„r
);

513 
	`iŸjs_buf„r_ªÀa£
(
buf
->
ba£
);

516 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

517 
	`iŸjs_jvÆ_de°roy
(&
j⁄ªad
);

518 
	`iŸjs_jvÆ_de°roy
(&
jsockë
);

519 
	}
}

522 
	$JHANDLER_FUNCTION
(
RódSèπ
) {

523 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

525 
îr
 = 
	`uv_ªad_°¨t
((
uv_°ªam_t
*)(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
)),

526 
OnAŒoc
, 
OnRód
);

528 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

529 
	}
}

532 
	$A·îShutdown
(
uv_shutdown_t
* 
ªq
, 
°©us
) {

533 
iŸjs_shutdown_ªqwøp_t
* 
ªq_wøp
 = (iŸjs_shutdown_ªqwøp_t*)(
ªq
->
d©a
);

534 
iŸjs_t˝wøp_t
* 
t˝_wøp
 = (iŸjs_t˝wøp_t*)(
ªq
->
h™dÀ
->
d©a
);

535 
	`IOTJS_ASSERT
(
ªq_wøp
 !
NULL
);

536 
	`IOTJS_ASSERT
(
t˝_wøp
 !
NULL
);

539 c⁄° 
iŸjs_jvÆ_t
* 
j⁄shutdown
 = 
	`iŸjs_shutdown_ªqwøp_jˇŒback
(
ªq_wøp
);

540 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(
j⁄shutdown
));

542 
iŸjs_j¨gs_t
 
¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

543 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
¨gs
, 
°©us
);

545 
	`iŸjs_make_ˇŒback
(
j⁄shutdown
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
¨gs
);

547 
	`iŸjs_j¨gs_de°roy
(&
¨gs
);

549 
	`iŸjs_shutdown_ªqwøp_di•©ched
(
ªq_wøp
);

550 
	}
}

553 
	$JHANDLER_FUNCTION
(
Shutdown
) {

554 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

556 
	`DJHANDLER_CHECK_ARGS
(1, 
fun˘i⁄
);

558 c⁄° 
iŸjs_jvÆ_t
* 
¨g0
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

559 
iŸjs_shutdown_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_shutdown_ªqwøp_¸óã
(
¨g0
);

561 
îr
 = 
	`uv_shutdown
(
	`iŸjs_shutdown_ªqwøp_ªq
(
ªq_wøp
),

562 (
uv_°ªam_t
*)(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
)),

563 
A·îShutdown
);

565 i‡(
îr
) {

566 
	`iŸjs_shutdown_ªqwøp_di•©ched
(
ªq_wøp
);

569 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

570 
	}
}

576 
	$JHANDLER_FUNCTION
(
SëKìpAlive
) {

577 
	`JHANDLER_DECLARE_THIS_PTR
(
t˝wøp
, 
t˝_wøp
);

579 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
,Çumber);

581 
íabÀ
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

582 
dñay
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

584 
îr
 = 
	`uv_t˝_kì∑live
(
	`iŸjs_t˝wøp_t˝_h™dÀ
(
t˝_wøp
), 
íabÀ
, 
dñay
);

586 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

587 
	}
}

589 
	$JHANDLER_FUNCTION
(
EºName
) {

590 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

591 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
);

593 
îr‹code
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

594 
	`iŸjs_jh™dÀr_ªtu∫_°rög_øw
(
jh™dÀr
, 
	`uv_îr_«me
(
îr‹code
));

595 
	}
}

598 
	$AddªssToJS
(c⁄° 
iŸjs_jvÆ_t
* 
obj
, c⁄° 
sockaddr
* 
addr
) {

599 
ù
[
INET6_ADDRSTRLEN
];

600 c⁄° 
sockaddr_ö
* 
a4
;

601 c⁄° 
sockaddr_ö6
* 
a6
;

602 
p‹t
;

604 
addr
->
ß_Ámûy
) {

605 
AF_INET6
: {

606 
a6
 = (c⁄° 
sockaddr_ö6
*)(
addr
);

607 
	`uv_öë_¡›
(
AF_INET6
, &
a6
->
sö6_addr
, 
ù
,  ip);

608 
p‹t
 = 
	`¡ohs
(
a6
->
sö6_p‹t
);

609 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(
obj
, 
IOTJS_MAGIC_STRING_ADDRESS
, 
ù
);

610 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(
obj
, 
IOTJS_MAGIC_STRING_FAMILY
,

611 
IOTJS_MAGIC_STRING_IPV6
);

612 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
obj
, 
IOTJS_MAGIC_STRING_PORT
, 
p‹t
);

616 
AF_INET
: {

617 
a4
 = (c⁄° 
sockaddr_ö
*)(
addr
);

618 
	`uv_öë_¡›
(
AF_INET
, &
a4
->
sö_addr
, 
ù
,  ip);

619 
p‹t
 = 
	`¡ohs
(
a4
->
sö_p‹t
);

620 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(
obj
, 
IOTJS_MAGIC_STRING_ADDRESS
, 
ù
);

621 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(
obj
, 
IOTJS_MAGIC_STRING_FAMILY
,

622 
IOTJS_MAGIC_STRING_IPV4
);

623 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
obj
, 
IOTJS_MAGIC_STRING_PORT
, 
p‹t
);

628 
	`iŸjs_jvÆ_£t_¥›îty_°rög_øw
(
obj
, 
IOTJS_MAGIC_STRING_ADDRESS
, "");

632 
	}
}

634 
GëSockNameFun˘i⁄
(
t˝wøp
, 
t˝_h™dÀ
, 
uv_t˝_gësock«me
);

637 
	$JHANDLER_FUNCTION
(
GëSockeName
) {

638 
	`DoGëSockName
(
jh™dÀr
);

639 
	}
}

641 
iŸjs_jvÆ_t
 
	$InôT˝
() {

642 
iŸjs_jvÆ_t
 
t˝
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
TCP
);

644 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

645 
iŸjs_jvÆ_t
 
î∫ame
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
EºName
);

647 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
t˝
, 
IOTJS_MAGIC_STRING_PROTOTYPE
, &
¥ŸŸy≥
);

648 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
t˝
, 
IOTJS_MAGIC_STRING_ERRNAME
, &
î∫ame
);

650 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_OPEN
, 
O≥n
);

651 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

652 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CONNECT
, 
C⁄√˘
);

653 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_BIND
, 
Böd
);

654 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_LISTEN
, 
Li°í
);

655 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

656 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_READSTART
, 
RódSèπ
);

657 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SHUTDOWN
, 
Shutdown
);

658 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETKEEPALIVE
,

659 
SëKìpAlive
);

660 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_GETSOCKNAME
,

661 
GëSockeName
);

663 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

664 
	`iŸjs_jvÆ_de°roy
(&
î∫ame
);

666  
t˝
;

667 
	}
}

	@src/modules/iotjs_module_tcp.h

17 #i‚de‡
IOTJS_MODULE_TCP_H


18 
	#IOTJS_MODULE_TCP_H


	)

21 
	~"iŸjs_bödög.h
"

22 
	~"iŸjs_h™dÀwøp.h
"

23 
	~"iŸjs_ªqwøp.h
"

26 
sockaddr
 
	tsockaddr
;

27 
sockaddr_ö
 
	tsockaddr_ö
;

28 
sockaddr_ö6
 
	tsockaddr_ö6
;

29 
sockaddr_°‹age
 
	tsockaddr_°‹age
;

33 
iŸjs_h™dÀwøp_t
 
	mh™dÀwøp
;

34 
uv_t˝_t
 
	mh™dÀ
;

35 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_t˝wøp_t
);

38 
iŸjs_t˝wøp_t
* 
iŸjs_t˝wøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jt˝
);

40 
iŸjs_t˝wøp_t
* 
iŸjs_t˝wøp_‰om_h™dÀ
(
uv_t˝_t
* 
h™dÀ
);

41 
iŸjs_t˝wøp_t
* 
iŸjs_t˝wøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jt˝
);

43 
uv_t˝_t
* 
iŸjs_t˝wøp_t˝_h™dÀ
(
iŸjs_t˝wøp_t
* 
t˝wøp
);

44 
iŸjs_jvÆ_t
* 
iŸjs_t˝wøp_jobje˘
(
iŸjs_t˝wøp_t
* 
t˝wøp
);

48 
iŸjs_ªqwøp_t
 
	mªqwøp
;

49 
uv_c⁄√˘_t
 
	mªq
;

50 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_c⁄√˘_ªqwøp_t
);

52 
	#THIS
 
iŸjs_c⁄√˘_ªqwøp_t
* 
c⁄√˘_ªqwøp


	)

53 
iŸjs_c⁄√˘_ªqwøp_t
* 
iŸjs_c⁄√˘_ªqwøp_¸óã
(

54 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
);

55 
iŸjs_c⁄√˘_ªqwøp_di•©ched
(
THIS
);

56 
uv_c⁄√˘_t
* 
iŸjs_c⁄√˘_ªqwøp_ªq
(
THIS
);

57 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_c⁄√˘_ªqwøp_jˇŒback
(
THIS
);

58 #unde‡
THIS


62 
iŸjs_ªqwøp_t
 
	mªqwøp
;

63 
uv_wrôe_t
 
	mªq
;

64 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_wrôe_ªqwøp_t
);

66 
	#THIS
 
iŸjs_wrôe_ªqwøp_t
* 
wrôe_ªqwøp


	)

67 
iŸjs_wrôe_ªqwøp_t
* 
iŸjs_wrôe_ªqwøp_¸óã
(

68 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
);

69 
iŸjs_wrôe_ªqwøp_di•©ched
(
THIS
);

70 
uv_wrôe_t
* 
iŸjs_wrôe_ªqwøp_ªq
(
THIS
);

71 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_wrôe_ªqwøp_jˇŒback
(
THIS
);

72 #unde‡
THIS


76 
iŸjs_ªqwøp_t
 
	mªqwøp
;

77 
uv_shutdown_t
 
	mªq
;

78 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_shutdown_ªqwøp_t
);

80 
	#THIS
 
iŸjs_shutdown_ªqwøp_t
* 
shutdown_ªqwøp


	)

81 
iŸjs_shutdown_ªqwøp_t
* 
iŸjs_shutdown_ªqwøp_¸óã
(

82 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
);

83 
iŸjs_shutdown_ªqwøp_di•©ched
(
THIS
);

84 
uv_shutdown_t
* 
iŸjs_shutdown_ªqwøp_ªq
(
THIS
);

85 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_shutdown_ªqwøp_jˇŒback
(
THIS
);

86 #unde‡
THIS


89 
AddªssToJS
(c⁄° 
iŸjs_jvÆ_t
* 
obj
, c⁄° 
sockaddr
* 
addr
);

92 
	#GëSockNameFun˘i⁄
(
wø±y≥
, 
h™dÀty≥
, 
fun˘i⁄
) \

93 
	`DoGëSockName
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
) { \

94 
	`DJHANDLER_CHECK_ARGS
(1, 
obje˘
); \

96 
iŸjs_
##
wø±y≥
##
_t
* 
wøp
 = \

97 
iŸjs_
##
wø±y≥
##
	`_‰om_jobje˘
(
	`JHANDLER_GET_THIS
(
obje˘
)); \

98 
	`IOTJS_ASSERT
(
wøp
 !
NULL
); \

100 
sockaddr_°‹age
 
°‹age
; \

101 
addæí
 = (
°‹age
); \

102 
sockaddr
* c⁄° 
addr
 = (sockaddr*)(&
°‹age
); \

103 
îr
 = 
	`fun˘i⁄
(
iŸjs_
##
wø±y≥
##
_
##
	`h™dÀty≥
(
wøp
), 
addr
, &
addæí
); \

104 i‡(
îr
 == 0) \

105 
	`AddªssToJS
(
	`JHANDLER_GET_ARG
(0, 
obje˘
), 
addr
); \

106 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
); \

107 }

	)

	@src/modules/iotjs_module_testdriver.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_timî.h
"

21 
	$JHANDLER_FUNCTION
(
IsAliveEx˚±F‹
) {

22 
	`JHANDLER_CHECK
(
	`iŸjs_jh™dÀr_gë_¨g_Àngth
(
jh™dÀr
) == 1);

23 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

24 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
ív
);

26 c⁄° 
iŸjs_jvÆ_t
* 
¨g0
 = 
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 0);

28 i‡(
	`iŸjs_jvÆ_is_nuŒ
(
¨g0
)) {

29 
Æive
 = 
	`uv_lo›_Æive
(
lo›
);

31 
	`iŸjs_jh™dÀr_ªtu∫_boﬁón
(
jh™dÀr
, 
Æive
);

33 
	`JHANDLER_CHECK
(
	`iŸjs_jvÆ_is_obje˘
(
¨g0
));

35 
iŸjs_jvÆ_t
 
jtimî
 =

36 
	`iŸjs_jvÆ_gë_¥›îty
(
¨g0
, 
IOTJS_MAGIC_STRING_HANDLER
);

38 
iŸjs_timîwøp_t
* 
timî_wøp
 = 
	`iŸjs_timîwøp_‰om_jobje˘
(&
jtimî
);

39 
	`iŸjs_jvÆ_de°roy
(&
jtimî
);

41 
boﬁ
 
has_a˘ive_ªqs
 = 
	`uv_lo›_has_a˘ive_ªqs
(
lo›
);

42 
boﬁ
 
has_˛osög_h™dÀr
 = 
lo›
->
˛osög_h™dÀs
 !
NULL
;

44 
boﬁ
 
ªt
 = 
åue
;

45 
boﬁ
 
Æive
 = !
has_a˘ive_ªqs
 && !
has_˛osög_h™dÀr
;

46 i‡(
Æive
) {

47 
a˘ive_h™dÀrs
 = 
lo›
->
a˘ive_h™dÀs
;

48 i‡(
a˘ive_h™dÀrs
 == 1u) {

49 c⁄° 
uv_timî_t
* 
timî_h™dÀ
 = 
	`iŸjs_timîwøp_h™dÀ
(
timî_wøp
);

50 
timî_Æive
 = 
	`uv_is_a˘ive
((
uv_h™dÀ_t
*)
timî_h™dÀ
);

52 i‡(
timî_Æive
) {

55 
ªt
 = 
Ál£
;

60 
	`iŸjs_jh™dÀr_ªtu∫_boﬁón
(
jh™dÀr
, 
ªt
);

62 
	}
}

65 
iŸjs_jvÆ_t
 
	$InôTe°drivî
() {

66 
iŸjs_jvÆ_t
 
ã°drivî
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

67 
	`iŸjs_jvÆ_£t_mëhod
(&
ã°drivî
, 
IOTJS_MAGIC_STRING_ISALIVEEXCEPTFOR
,

68 
IsAliveEx˚±F‹
);

70  
ã°drivî
;

71 
	}
}

	@src/modules/iotjs_module_timer.c

16 
	~"iŸjs_def.h
"

17 
	~"iŸjs_moduÀ_timî.h
"

20 
iŸjs_timîwøp_de°roy
(
iŸjs_timîwøp_t
* 
timîwøp
);

21 
iŸjs_timîwøp_⁄_timeout
(
iŸjs_timîwøp_t
* 
timîwøp
);

22 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
timîwøp
);

25 
iŸjs_timîwøp_t
* 
	$iŸjs_timîwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jtimî
) {

26 
iŸjs_timîwøp_t
* 
timîwøp
 = 
	`IOTJS_ALLOC
(iotjs_timerwrap_t);

27 
uv_timî_t
* 
uv_timî
 = 
	`IOTJS_ALLOC
(uv_timer_t);

28 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_timîwøp_t
, 
timîwøp
);

30 
	`iŸjs_h™dÀwøp_öôülize
(&
_this
->
h™dÀwøp
, 
jtimî
,

31 (
uv_h™dÀ_t
*)(
uv_timî
),

32 &
this_moduÀ_«tive_öfo
);

35 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

36 
	`uv_timî_öô
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), 
uv_timî
);

38  
timîwøp
;

39 
	}
}

42 
	$iŸjs_timîwøp_de°roy
(
iŸjs_timîwøp_t
* 
timîwøp
) {

43 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_timîwøp_t
, 
timîwøp
);

44 
	`iŸjs_h™dÀwøp_de°roy
(&
_this
->
h™dÀwøp
);

46 
	`IOTJS_RELEASE
(
timîwøp
);

47 
	}
}

49 
	$TimoutH™dÀrDe°roy
(
uv_h™dÀ_t
* 
h™dÀ
) {

50 
	`IOTJS_RELEASE
(
h™dÀ
);

51 
	}
}

54 
	$TimeoutH™dÀr
(
uv_timî_t
* 
h™dÀ
) {

56 
iŸjs_timîwøp_t
* 
timî_wøp
 = 
	`iŸjs_timîwøp_‰om_h™dÀ
(
h™dÀ
);

59 
	`iŸjs_timîwøp_⁄_timeout
(
timî_wøp
);

60 
	}
}

63 
	$iŸjs_timîwøp_°¨t
(
iŸjs_timîwøp_t
* 
timîwøp
, 
uöt64_t
 
timeout
,

64 
uöt64_t
 
ª≥©
) {

65 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_timîwøp_t
, 
timîwøp
);

68 
uv_timî_t
* 
uv_timî
 =

69 (
uv_timî_t
*)
	`iŸjs_h™dÀwøp_gë_uv_h™dÀ
(&
_this
->
h™dÀwøp
);

70  
	`uv_timî_°¨t
(
uv_timî
, 
TimeoutH™dÀr
, 
timeout
, 
ª≥©
);

71 
	}
}

74 
	$iŸjs_timîwøp_°›
(
iŸjs_timîwøp_t
* 
timîwøp
) {

75 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_timîwøp_t
, 
timîwøp
);

77 i‡(!
	`uv_is_˛osög
(
	`iŸjs_h™dÀwøp_gë_uv_h™dÀ
(&
_this
->
h™dÀwøp
))) {

78 
	`iŸjs_h™dÀwøp_˛o£
(&
_this
->
h™dÀwøp
, 
TimoutH™dÀrDe°roy
);

82 
	}
}

85 
	$iŸjs_timîwøp_⁄_timeout
(
iŸjs_timîwøp_t
* 
timîwøp
) {

86 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_timîwøp_t
, 
timîwøp
);

89 c⁄° 
iŸjs_jvÆ_t
* 
jobje˘
 = 
	`iŸjs_timîwøp_jobje˘
(
timîwøp
);

90 
iŸjs_jvÆ_t
 
jˇŒback
 =

91 
	`iŸjs_jvÆ_gë_¥›îty
(
jobje˘
, 
IOTJS_MAGIC_STRING_HANDLETIMEOUT
);

92 
	`iŸjs_make_ˇŒback
(&
jˇŒback
, 
jobje˘
, 
	`iŸjs_j¨gs_gë_em±y
());

93 
	`iŸjs_jvÆ_de°roy
(&
jˇŒback
);

94 
	}
}

97 
uv_timî_t
* 
	$iŸjs_timîwøp_h™dÀ
(
iŸjs_timîwøp_t
* 
timîwøp
) {

98 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_timîwøp_t
, 
timîwøp
);

99  (
uv_timî_t
*)
	`iŸjs_h™dÀwøp_gë_uv_h™dÀ
(&
_this
->
h™dÀwøp
);

100 
	}
}

103 
iŸjs_jvÆ_t
* 
	$iŸjs_timîwøp_jobje˘
(
iŸjs_timîwøp_t
* 
timîwøp
) {

104 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_timîwøp_t
, 
timîwøp
);

105 
iŸjs_jvÆ_t
* 
jobje˘
 = 
	`iŸjs_h™dÀwøp_jobje˘
(&
_this
->
h™dÀwøp
);

106 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
jobje˘
));

107  
jobje˘
;

108 
	}
}

111 
iŸjs_timîwøp_t
* 
	$iŸjs_timîwøp_‰om_h™dÀ
(
uv_timî_t
* 
timî_h™dÀ
) {

112 
uv_h™dÀ_t
* 
h™dÀ
 = (uv_h™dÀ_t*)(
timî_h™dÀ
);

113 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
h™dÀ
);

114 
iŸjs_timîwøp_t
* 
timîwøp
 = (iŸjs_timîwøp_t*)
h™dÀwøp
;

115 
	`IOTJS_ASSERT
(
	`iŸjs_timîwøp_h™dÀ
(
timîwøp
Ë=
timî_h™dÀ
);

116  
timîwøp
;

117 
	}
}

120 
iŸjs_timîwøp_t
* 
	$iŸjs_timîwøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jtimî
) {

121 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_jobje˘
(
jtimî
);

122  (
iŸjs_timîwøp_t
*)
h™dÀwøp
;

123 
	}
}

126 
	$JHANDLER_FUNCTION
(
Sèπ
) {

128 
	`JHANDLER_DECLARE_THIS_PTR
(
timîwøp
, 
timî_wøp
);

129 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
,Çumber);

132 
uöt64_t
 
timeout
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

133 
uöt64_t
 
ª≥©
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

136 
ªs
 = 
	`iŸjs_timîwøp_°¨t
(
timî_wøp
, 
timeout
, 
ª≥©
);

138 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
ªs
);

139 
	}
}

142 
	$JHANDLER_FUNCTION
(
St›
) {

143 
	`JHANDLER_DECLARE_THIS_PTR
(
timîwøp
, 
timî_wøp
);

145 
ªs
 = 
	`iŸjs_timîwøp_°›
(
timî_wøp
);

147 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
ªs
);

148 
	}
}

151 
	$JHANDLER_FUNCTION
(
Timî
) {

152 
	`JHANDLER_CHECK_THIS
(
obje˘
);

154 c⁄° 
iŸjs_jvÆ_t
* 
jtimî
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

156 
iŸjs_timîwøp_t
* 
timî_wøp
 = 
	`iŸjs_timîwøp_¸óã
(
jtimî
);

157 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
	`iŸjs_timîwøp_jobje˘
(
timî_wøp
)));

158 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_gë_obje˘_«tive_h™dÀ
(
jtimî
) != 0);

159 
	}
}

162 
iŸjs_jvÆ_t
 
	$InôTimî
() {

163 
iŸjs_jvÆ_t
 
timî
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
Timî
);

165 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

166 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
timî
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

167 &
¥ŸŸy≥
);

169 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_START
, 
Sèπ
);

170 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_STOP
, 
St›
);

172 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

174  
timî
;

175 
	}
}

	@src/modules/iotjs_module_timer.h

16 #i‚de‡
IOTJS_MODULE_TIMER_H


17 
	#IOTJS_MODULE_TIMER_H


	)

20 
	~"iŸjs_bödög.h
"

21 
	~"iŸjs_h™dÀwøp.h
"

25 
iŸjs_h™dÀwøp_t
 
	mh™dÀwøp
;

26 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_timîwøp_t
);

29 
iŸjs_timîwøp_t
* 
iŸjs_timîwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jtimî
);

31 
iŸjs_timîwøp_t
* 
iŸjs_timîwøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
jtimî
);

32 
iŸjs_timîwøp_t
* 
iŸjs_timîwøp_‰om_h™dÀ
(
uv_timî_t
* 
timî_h™dÀ
);

34 
uv_timî_t
* 
iŸjs_timîwøp_h™dÀ
(
iŸjs_timîwøp_t
* 
timîwøp
);

35 
iŸjs_jvÆ_t
* 
iŸjs_timîwøp_jobje˘
(
iŸjs_timîwøp_t
* 
timîwøp
);

38 
iŸjs_timîwøp_°¨t
(
iŸjs_timîwøp_t
* 
timîwøp
, 
uöt64_t
 
timeout
,

39 
uöt64_t
 
ª≥©
);

41 
iŸjs_timîwøp_°›
(
iŸjs_timîwøp_t
* 
timîwøp
);

	@src/modules/iotjs_module_uart.c

16 
	~<uni°d.h
>

18 
	~"iŸjs_def.h
"

19 
	~"iŸjs_moduÀ_u¨t.h
"

20 
	~"iŸjs_obje˘wøp.h
"

23 
iŸjs_u¨t_t
* 
iŸjs_u¨t_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
ju¨t
);

24 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
u¨t
);

26 
iŸjs_u¨t_t
* 
	$iŸjs_u¨t_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
ju¨t
) {

27 
iŸjs_u¨t_t
* 
u¨t
 = 
	`IOTJS_ALLOC
(iotjs_uart_t);

28 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_u¨t_t
, 
u¨t
);

30 
	`iŸjs_h™dÀwøp_öôülize
(&
_this
->
h™dÀwøp
, 
ju¨t
,

31 (
uv_h™dÀ_t
*)(&
_this
->
pﬁl_h™dÀ
),

32 &
this_moduÀ_«tive_öfo
);

34 
_this
->
devi˚_fd
 = -1;

35  
u¨t
;

36 
	}
}

38 
	$iŸjs_u¨t_de°roy
(
iŸjs_u¨t_t
* 
u¨t
) {

39 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_u¨t_t
, 
u¨t
);

40 
	`iŸjs_h™dÀwøp_de°roy
(&
_this
->
h™dÀwøp
);

41 
	`iŸjs_°rög_de°roy
(&
_this
->
devi˚_∑th
);

42 
	`IOTJS_RELEASE
(
u¨t
);

43 
	}
}

46 
	#THIS
 
iŸjs_u¨t_ªqwøp_t
* 
u¨t_ªqwøp


	)

49 
iŸjs_u¨t_ªqwøp_t
* 
	$iŸjs_u¨t_ªqwøp_¸óã
(

50 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
, 
iŸjs_u¨t_t
* 
u¨t
, 
U¨tOp
 
›
) {

51 
iŸjs_u¨t_ªqwøp_t
* 
u¨t_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_uart_reqwrap_t);

52 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

54 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

56 
_this
->
ªq_d©a
.
›
 = op;

57 
_this
->
u¨t_ö°™˚
 = 
u¨t
;

59  
u¨t_ªqwøp
;

60 
	}
}

63 
	$iŸjs_u¨t_ªqwøp_de°roy
(
THIS
) {

64 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

65 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

66 
	`IOTJS_RELEASE
(
u¨t_ªqwøp
);

67 
	}
}

70 
	$iŸjs_u¨t_ªqwøp_di•©ched
(
THIS
) {

71 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

72 
	`iŸjs_u¨t_ªqwøp_de°roy
(
u¨t_ªqwøp
);

73 
	}
}

76 
uv_w‹k_t
* 
	$iŸjs_u¨t_ªqwøp_ªq
(
THIS
) {

77 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

78  &
_this
->
ªq
;

79 
	}
}

82 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_u¨t_ªqwøp_jˇŒback
(
THIS
) {

83 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

84  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

85 
	}
}

88 
iŸjs_u¨t_t
* 
	$iŸjs_u¨t_ö°™˚_‰om_jvÆ
(c⁄° 
iŸjs_jvÆ_t
* 
ju¨t
) {

89 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_jobje˘
(
ju¨t
);

90  (
iŸjs_u¨t_t
*)
h™dÀwøp
;

91 
	}
}

94 
iŸjs_u¨t_ªqwøp_t
* 
	$iŸjs_u¨t_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
) {

95  (
iŸjs_u¨t_ªqwøp_t
*)(
	`iŸjs_ªqwøp_‰om_ªque°
((
uv_ªq_t
*)
ªq
));

96 
	}
}

99 
iŸjs_u¨t_ªqd©a_t
* 
	$iŸjs_u¨t_ªqwøp_d©a
(
THIS
) {

100 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

101  &
_this
->
ªq_d©a
;

102 
	}
}

105 
iŸjs_u¨t_t
* 
	$iŸjs_u¨t_ö°™˚_‰om_ªqwøp
(
THIS
) {

106 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_ªqwøp_t
, 
u¨t_ªqwøp
);

107  
_this
->
u¨t_ö°™˚
;

108 
	}
}

111 #unde‡
THIS


114 
	$h™dÀwøp_˛o£_ˇŒback
(
uv_h™dÀ_t
* 
h™dÀ
) {

115 
iŸjs_u¨t_t
* 
u¨t
 = (iŸjs_u¨t_t*)
h™dÀ
->
d©a
;

116 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

118 i‡(
	`˛o£
(
_this
->
devi˚_fd
) < 0) {

119 
	`DLOG
("UART Close Error");

120 
	`IOTJS_ASSERT
(0);

122 
	}
}

124 
boﬁ
 
	$iŸjs_u¨t_˛o£
(
iŸjs_u¨t_t
* 
u¨t
) {

125 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

127 
	`iŸjs_h™dÀwøp_˛o£
(&
_this
->
h™dÀwøp
, 
h™dÀwøp_˛o£_ˇŒback
);

129  
åue
;

130 
	}
}

133 
	$iŸjs_u¨t_wrôe_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

134 
UART_WORKER_INIT
;

136 i‡(!
	`iŸjs_u¨t_wrôe
(
u¨t
)) {

137 
ªq_d©a
->
ªsu…
 = 
Ál£
;

141 
ªq_d©a
->
ªsu…
 = 
åue
;

142 
	}
}

145 
	$iŸjs_u¨t_˛o£_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

146 
UART_WORKER_INIT
;

148 i‡(!
	`iŸjs_u¨t_˛o£
(
u¨t
)) {

149 
ªq_d©a
->
ªsu…
 = 
Ál£
;

153 
ªq_d©a
->
ªsu…
 = 
åue
;

154 
	}
}

157 
	$iŸjs_u¨t_a·î_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
, 
°©us
) {

158 
iŸjs_u¨t_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_u¨t_ªqwøp_‰om_ªque°
(
w‹k_ªq
);

159 
iŸjs_u¨t_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_u¨t_ªqwøp_d©a
(
ªq_wøp
);

161 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(1);

163 i‡(
°©us
) {

164 
iŸjs_jvÆ_t
 
îr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
("SystemÉrror");

165 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
îr‹
);

166 
	`iŸjs_jvÆ_de°roy
(&
îr‹
);

168 
ªq_d©a
->
›
) {

169 
kU¨tOpO≥n
: {

170 i‡(!
ªq_d©a
->
ªsu…
) {

171 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo open UART device");

173 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

177 
kU¨tOpWrôe
: {

178 
iŸjs_u¨t_t
* 
u¨t
 = 
	`iŸjs_u¨t_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

179 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

181 
	`iŸjs_°rög_de°roy
(&
_this
->
buf_d©a
);

183 i‡(!
ªq_d©a
->
ªsu…
) {

184 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "Cannot writeÅo device");

186 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

190 
kU¨tOpClo£
: {

191 i‡(!
ªq_d©a
->
ªsu…
) {

192 
	`iŸjs_j¨gs_≠≥nd_îr‹
(&
j¨gs
, "FailedÅo close UART device");

194 
	`iŸjs_j¨gs_≠≥nd_nuŒ
(&
j¨gs
);

199 
	`IOTJS_ASSERT
(!"Unreachable");

205 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_u¨t_ªqwøp_jˇŒback
(
ªq_wøp
);

206 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

208 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

209 
	`iŸjs_u¨t_ªqwøp_di•©ched
(
ªq_wøp
);

210 
	}
}

213 
	$iŸjs_u¨t_⁄ªad
(
iŸjs_jvÆ_t
* 
jthis
, * 
buf
) {

214 
iŸjs_jvÆ_t
 
jemô
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jthis
, "emit");

215 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
jemô
));

217 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

218 
iŸjs_jvÆ_t
 
°r
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
("data");

219 
iŸjs_jvÆ_t
 
d©a
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
(
buf
);

220 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
°r
);

221 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
d©a
);

222 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
jemô
, 
jthis
, &
j¨gs
);

224 
	`iŸjs_jvÆ_de°roy
(&
°r
);

225 
	`iŸjs_jvÆ_de°roy
(&
d©a
);

226 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

227 
	`iŸjs_jvÆ_de°roy
(&
jemô
);

228 
	}
}

231 
	$iŸjs_u¨t_ªad_cb
(
uv_pﬁl_t
* 
ªq
, 
°©us
, 
evíts
) {

232 
iŸjs_u¨t_t
* 
u¨t
 = (iŸjs_u¨t_t*)
ªq
->
d©a
;

233 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

235 
buf
[
UART_WRITE_BUFFER_SIZE
];

236 
i
 = 
	`ªad
(
_this
->
devi˚_fd
, 
buf
, 
UART_WRITE_BUFFER_SIZE
 - 1);

237 i‡(
i
 > 0) {

238 
buf
[
i
] = '\0';

239 
	`DDDLOG
("%†-Ñód d©a: %s", 
__func__
, 
buf
);

240 
	`iŸjs_u¨t_⁄ªad
(&
_this
->
jemôãr_this
, 
buf
);

242 
	}
}

245 
	#UART_ASYNC
(
ˇŒ
, 
this
, 
jˇŒback
, 
›
) \

247 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
()); \

248 
iŸjs_u¨t_ªqwøp_t
* 
ªq_wøp
 = \

249 
	`iŸjs_u¨t_ªqwøp_¸óã
(
jˇŒback
, 
this
, 
›
); \

250 
uv_w‹k_t
* 
ªq
 = 
	`iŸjs_u¨t_ªqwøp_ªq
(
ªq_wøp
); \

251 
	`uv_queue_w‹k
(
lo›
, 
ªq
, 
iŸjs_u¨t_
##
ˇŒ
##
_w‹kî
, \

252 
iŸjs_u¨t_a·î_w‹kî
); \

253 } 0)

	)

256 
	$JHANDLER_FUNCTION
(
U¨tC⁄°ru˘‹
) {

257 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

258 
	`DJHANDLER_CHECK_ARGS
(3, 
obje˘
, obje˘, 
fun˘i⁄
);

261 c⁄° 
iŸjs_jvÆ_t
* 
ju¨t
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

262 
iŸjs_u¨t_t
* 
u¨t
 = 
	`iŸjs_u¨t_¸óã
(
ju¨t
);

263 
	`IOTJS_ASSERT
(
u¨t
 =
	`iŸjs_u¨t_ö°™˚_‰om_jvÆ
(
ju¨t
));

264 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

266 c⁄° 
iŸjs_jvÆ_t
* 
jc⁄figuøti⁄
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

267 c⁄° 
iŸjs_jvÆ_t
* 
jemôãr_this
 = 
	`JHANDLER_GET_ARG
(1, 
obje˘
);

268 
_this
->
jemôãr_this
 = 
	`iŸjs_jvÆ_¸óã_c›õd
(jemitter_this);

269 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(2, 
fun˘i⁄
);

272 
iŸjs_jvÆ_t
 
jdevi˚
 =

273 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_DEVICE
);

274 
iŸjs_jvÆ_t
 
jbaud_øã
 =

275 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_BAUDRATE
);

276 
iŸjs_jvÆ_t
 
jd©a_bôs
 =

277 
	`iŸjs_jvÆ_gë_¥›îty
(
jc⁄figuøti⁄
, 
IOTJS_MAGIC_STRING_DATABITS
);

279 
_this
->
devi˚_∑th
 = 
	`iŸjs_jvÆ_as_°rög
(&
jdevi˚
);

280 
_this
->
baud_øã
 = 
	`iŸjs_jvÆ_as_numbî
(&
jbaud_øã
);

281 
_this
->
d©a_bôs
 = 
	`iŸjs_jvÆ_as_numbî
(&
jd©a_bôs
);

283 
	`DDDLOG
("%†-Ö©h: %s, baudR©e: %d, d©aBôs: %d", 
__func__
,

284 
	`iŸjs_°rög_d©a
(&
_this
->
devi˚_∑th
), _this->
baud_øã
,

285 
_this
->
d©a_bôs
);

287 
	`iŸjs_jvÆ_de°roy
(&
jdevi˚
);

288 
	`iŸjs_jvÆ_de°roy
(&
jbaud_øã
);

289 
	`iŸjs_jvÆ_de°roy
(&
jd©a_bôs
);

291 
	`UART_ASYNC
(
›í
, 
u¨t
, 
jˇŒback
, 
kU¨tOpO≥n
);

292 
	}
}

295 
	$JHANDLER_FUNCTION
(
Wrôe
) {

296 
	`JHANDLER_DECLARE_THIS_PTR
(
u¨t
, uart);

297 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

298 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(1, 
fun˘i⁄
);

300 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(1, 
fun˘i⁄
);

302 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

304 
_this
->
buf_d©a
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

305 
_this
->
buf_Àn
 = 
	`iŸjs_°rög_size
(&_this->
buf_d©a
);

307 i‡(
jˇŒback
) {

308 
	`UART_ASYNC
(
wrôe
, 
u¨t
, 
jˇŒback
, 
kU¨tOpWrôe
);

310 
boﬁ
 
ªsu…
 = 
	`iŸjs_u¨t_wrôe
(
u¨t
);

311 
	`iŸjs_°rög_de°roy
(&
_this
->
buf_d©a
);

313 i‡(!
ªsu…
) {

314 
	`JHANDLER_THROW
(
COMMON
, "UART Write Error");

319 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

320 
	}
}

323 
	$JHANDLER_FUNCTION
(
Clo£
) {

324 
	`JHANDLER_DECLARE_THIS_PTR
(
u¨t
, uart);

325 
	`DJHANDLER_CHECK_ARG_IF_EXIST
(0, 
fun˘i⁄
);

327 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG_IF_EXIST
(0, 
fun˘i⁄
);

329 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

330 
	`iŸjs_jvÆ_de°roy
(&
_this
->
jemôãr_this
);

332 i‡(
jˇŒback
) {

333 
	`UART_ASYNC
(
˛o£
, 
u¨t
, 
jˇŒback
, 
kU¨tOpClo£
);

335 i‡(!
	`iŸjs_u¨t_˛o£
(
u¨t
)) {

336 
	`JHANDLER_THROW
(
COMMON
, "UART Close Error");

339 
	}
}

342 
iŸjs_jvÆ_t
 
	$InôU¨t
() {

343 
iŸjs_jvÆ_t
 
ju¨t_c⁄°ru˘‹
 =

344 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
U¨tC⁄°ru˘‹
);

346 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

348 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_WRITE
, 
Wrôe
);

349 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

351 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
ju¨t_c⁄°ru˘‹
, 
IOTJS_MAGIC_STRING_PROTOTYPE
,

352 &
¥ŸŸy≥
);

354 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

356  
ju¨t_c⁄°ru˘‹
;

357 
	}
}

	@src/modules/iotjs_module_uart.h

17 #i‚de‡
IOTJS_MODULE_UART_H


18 
	#IOTJS_MODULE_UART_H


	)

20 
	~"iŸjs_def.h
"

21 
	~"iŸjs_h™dÀwøp.h
"

22 
	~"iŸjs_ªqwøp.h
"

25 
	#UART_WRITE_BUFFER_SIZE
 512

	)

29 
	mkU¨tOpO≥n
,

30 
	mkU¨tOpClo£
,

31 
	mkU¨tOpWrôe
,

32 } 
	tU¨tOp
;

36 
iŸjs_h™dÀwøp_t
 
	mh™dÀwøp
;

37 
iŸjs_jvÆ_t
 
	mjemôãr_this
;

38 
	mdevi˚_fd
;

39 
	mbaud_øã
;

40 
uöt8_t
 
	md©a_bôs
;

41 
iŸjs_°rög_t
 
	mdevi˚_∑th
;

42 
iŸjs_°rög_t
 
	mbuf_d©a
;

43 
	mbuf_Àn
;

44 
uv_pﬁl_t
 
	mpﬁl_h™dÀ
;

45 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_u¨t_t
);

49 
U¨tOp
 
	m›
;

50 
boﬁ
 
	mªsu…
;

51 } 
	tiŸjs_u¨t_ªqd©a_t
;

55 
iŸjs_ªqwøp_t
 
	mªqwøp
;

56 
uv_w‹k_t
 
	mªq
;

57 
iŸjs_u¨t_ªqd©a_t
 
	mªq_d©a
;

58 
iŸjs_u¨t_t
* 
	mu¨t_ö°™˚
;

59 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_u¨t_ªqwøp_t
);

61 
	#THIS
 
iŸjs_u¨t_ªqwøp_t
* 
u¨t_ªqwøp


	)

63 
iŸjs_u¨t_ªqwøp_t
* 
iŸjs_u¨t_ªqwøp_‰om_ªque°
(
uv_w‹k_t
* 
ªq
);

64 
iŸjs_u¨t_ªqd©a_t
* 
iŸjs_u¨t_ªqwøp_d©a
(
THIS
);

66 
iŸjs_u¨t_t
* 
iŸjs_u¨t_ö°™˚_‰om_ªqwøp
(
THIS
);

68 #unde‡
THIS


71 
	#UART_WORKER_INIT
 \

72 
iŸjs_u¨t_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_u¨t_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

73 
iŸjs_u¨t_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_u¨t_ªqwøp_d©a
(
ªq_wøp
); \

74 
iŸjs_u¨t_t
* 
u¨t
 = 
	`iŸjs_u¨t_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

	)

77 
iŸjs_u¨t_ªad_cb
(
uv_pﬁl_t
* 
ªq
, 
°©us
, 
evíts
);

79 
iŸjs_u¨t_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
);

80 
boﬁ
 
iŸjs_u¨t_wrôe
(
iŸjs_u¨t_t
* 
u¨t
);

	@src/modules/iotjs_module_udp.c

16 
	~"iŸjs_def.h
"

18 
	~"iŸjs_moduÀ_udp.h
"

20 
	~"iŸjs_h™dÀwøp.h
"

21 
	~"iŸjs_moduÀ_buf„r.h
"

22 
	~"iŸjs_moduÀ_t˝.h
"

23 
	~"iŸjs_ªqwøp.h
"

26 
IOTJS_DEFINE_NATIVE_HANDLE_INFO_THIS_MODULE
(
udpwøp
);

29 
iŸjs_udpwøp_t
* 
	$iŸjs_udpwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
judp
) {

30 
iŸjs_udpwøp_t
* 
udpwøp
 = 
	`IOTJS_ALLOC
(iotjs_udpwrap_t);

31 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_udpwøp_t
, 
udpwøp
);

33 
	`iŸjs_h™dÀwøp_öôülize
(&
_this
->
h™dÀwøp
, 
judp
,

34 (
uv_h™dÀ_t
*)(&
_this
->
h™dÀ
),

35 &
this_moduÀ_«tive_öfo
);

37 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

38 
	`uv_udp_öô
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), &
_this
->
h™dÀ
);

40  
udpwøp
;

41 
	}
}

44 
	$iŸjs_udpwøp_de°roy
(
iŸjs_udpwøp_t
* 
udpwøp
) {

45 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_udpwøp_t
, 
udpwøp
);

46 
	`iŸjs_h™dÀwøp_de°roy
(&
_this
->
h™dÀwøp
);

47 
	`IOTJS_RELEASE
(
udpwøp
);

48 
	}
}

51 
iŸjs_udpwøp_t
* 
	$iŸjs_udpwøp_‰om_h™dÀ
(
uv_udp_t
* 
udp_h™dÀ
) {

52 
uv_h™dÀ_t
* 
h™dÀ
 = (uv_h™dÀ_t*)(
udp_h™dÀ
);

53 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_h™dÀ
(
h™dÀ
);

54 
iŸjs_udpwøp_t
* 
udpwøp
 = (iŸjs_udpwøp_t*)
h™dÀwøp
;

55 
	`IOTJS_ASSERT
(
	`iŸjs_udpwøp_udp_h™dÀ
(
udpwøp
Ë=
udp_h™dÀ
);

56  
udpwøp
;

57 
	}
}

60 
iŸjs_udpwøp_t
* 
	$iŸjs_udpwøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
judp
) {

61 
iŸjs_h™dÀwøp_t
* 
h™dÀwøp
 = 
	`iŸjs_h™dÀwøp_‰om_jobje˘
(
judp
);

62  (
iŸjs_udpwøp_t
*)
h™dÀwøp
;

63 
	}
}

66 
uv_udp_t
* 
	$iŸjs_udpwøp_udp_h™dÀ
(
iŸjs_udpwøp_t
* 
udpwøp
) {

67 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_udpwøp_t
, 
udpwøp
);

68 
uv_h™dÀ_t
* 
h™dÀ
 = 
	`iŸjs_h™dÀwøp_gë_uv_h™dÀ
(&
_this
->
h™dÀwøp
);

69  (
uv_udp_t
*)
h™dÀ
;

70 
	}
}

73 
iŸjs_jvÆ_t
* 
	$iŸjs_udpwøp_jobje˘
(
iŸjs_udpwøp_t
* 
udpwøp
) {

74 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_udpwøp_t
, 
udpwøp
);

75  
	`iŸjs_h™dÀwøp_jobje˘
(&
_this
->
h™dÀwøp
);

76 
	}
}

79 
	#THIS
 
iŸjs_£nd_ªqwøp_t
* 
£nd_ªqwøp


	)

81 
iŸjs_£nd_ªqwøp_t
* 
	$iŸjs_£nd_ªqwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
,

82 c⁄° 
size_t
 
msg_size
) {

83 
iŸjs_£nd_ªqwøp_t
* 
£nd_ªqwøp
 = 
	`IOTJS_ALLOC
(iotjs_send_reqwrap_t);

84 
	`IOTJS_VALIDATED_STRUCT_CONSTRUCTOR
(
iŸjs_£nd_ªqwøp_t
, 
£nd_ªqwøp
);

86 
	`iŸjs_ªqwøp_öôülize
(&
_this
->
ªqwøp
, 
jˇŒback
, (
uv_ªq_t
*)&_this->
ªq
);

87 
_this
->
msg_size
 = msg_size;

89  
£nd_ªqwøp
;

90 
	}
}

93 
	$iŸjs_£nd_ªqwøp_de°roy
(
THIS
) {

94 
	`IOTJS_VALIDATED_STRUCT_DESTRUCTOR
(
iŸjs_£nd_ªqwøp_t
, 
£nd_ªqwøp
);

95 
	`iŸjs_ªqwøp_de°roy
(&
_this
->
ªqwøp
);

96 
	`IOTJS_RELEASE
(
£nd_ªqwøp
);

97 
	}
}

100 
	$iŸjs_£nd_ªqwøp_di•©ched
(
THIS
) {

101 
	`IOTJS_VALIDATABLE_STRUCT_METHOD_VALIDATE
(
iŸjs_£nd_ªqwøp_t
, 
£nd_ªqwøp
);

102 
	`iŸjs_£nd_ªqwøp_de°roy
(
£nd_ªqwøp
);

103 
	}
}

106 
uv_udp_£nd_t
* 
	$iŸjs_£nd_ªqwøp_ªq
(
THIS
) {

107 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_£nd_ªqwøp_t
, 
£nd_ªqwøp
);

108  &
_this
->
ªq
;

109 
	}
}

112 c⁄° 
iŸjs_jvÆ_t
* 
	$iŸjs_£nd_ªqwøp_jˇŒback
(
THIS
) {

113 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_£nd_ªqwøp_t
, 
£nd_ªqwøp
);

114  
	`iŸjs_ªqwøp_jˇŒback
(&
_this
->
ªqwøp
);

115 
	}
}

118 
size_t
 
	$iŸjs_£nd_ªqwøp_msg_size
(
THIS
) {

119 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_£nd_ªqwøp_t
, 
£nd_ªqwøp
);

120  
_this
->
msg_size
;

121 
	}
}

123 #unde‡
THIS


126 
	$JHANDLER_FUNCTION
(
UDP
) {

127 
	`DJHANDLER_CHECK_THIS
(
obje˘
);

128 
	`DJHANDLER_CHECK_ARGS
(0);

130 c⁄° 
iŸjs_jvÆ_t
* 
judp
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

131 
iŸjs_udpwøp_t
* 
udp_wøp
 = 
	`iŸjs_udpwøp_¸óã
(
judp
);

132 
	`IOTJS_UNUSED
(
udp_wøp
);

133 
	}
}

136 
	$JHANDLER_FUNCTION
(
Böd
) {

137 
	`JHANDLER_DECLARE_THIS_PTR
(
udpwøp
, 
udp_wøp
);

138 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, 
numbî
);

140 
iŸjs_°rög_t
 
addªss
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

141 c⁄° 
p‹t
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

142 c⁄° 
iŸjs_jvÆ_t
* 
this_obj
 = 
	`JHANDLER_GET_THIS
(
obje˘
);

143 
iŸjs_jvÆ_t
 
ªu£_addr
 =

144 
	`iŸjs_jvÆ_gë_¥›îty
(
this_obj
, 
IOTJS_MAGIC_STRING__REUSEADDR
);

145 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_boﬁón
(&
ªu£_addr
) ||

146 
	`iŸjs_jvÆ_is_undeföed
(&
ªu£_addr
));

148 
Êags
 = 0;

149 i‡(!
	`iŸjs_jvÆ_is_undeföed
(&
ªu£_addr
)) {

150 
Êags
 = 
	`iŸjs_jvÆ_as_boﬁón
(&
ªu£_addr
Ë? 
UV_UDP_REUSEADDR
 : 0;

153 
addr
[(
sockaddr_ö6
)];

154 
îr
 =

155 
	`uv_ù4_addr
(
	`iŸjs_°rög_d©a
(&
addªss
), 
p‹t
, (
sockaddr_ö
*)(&
addr
));

157 i‡(
îr
 == 0) {

158 
îr
 = 
	`uv_udp_böd
(
	`iŸjs_udpwøp_udp_h™dÀ
(
udp_wøp
),

159 (c⁄° 
sockaddr
*)(&
addr
), 
Êags
);

162 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

164 
	`iŸjs_jvÆ_de°roy
(&
ªu£_addr
);

165 
	`iŸjs_°rög_de°roy
(&
addªss
);

166 
	}
}

169 
	$OnAŒoc
(
uv_h™dÀ_t
* 
h™dÀ
, 
size_t
 
sugge°ed_size
, 
uv_buf_t
* 
buf
) {

170 i‡(
sugge°ed_size
 > 
IOTJS_MAX_READ_BUFFER_SIZE
) {

171 
sugge°ed_size
 = 
IOTJS_MAX_READ_BUFFER_SIZE
;

174 
buf
->
ba£
 = 
	`iŸjs_buf„r_Æloˇã
(
sugge°ed_size
);

175 
buf
->
Àn
 = 
sugge°ed_size
;

176 
	}
}

179 
	$OnRecv
(
uv_udp_t
* 
h™dÀ
, 
ssize_t
 
ƒód
, c⁄° 
uv_buf_t
* 
buf
,

180 c⁄° 
sockaddr
* 
addr
, 
Êags
) {

181 i‡(
ƒód
 =0 && 
addr
 =
NULL
) {

182 i‡(
buf
->
ba£
 !
NULL
)

183 
	`iŸjs_buf„r_ªÀa£
(
buf
->
ba£
);

187 
iŸjs_udpwøp_t
* 
udp_wøp
 = 
	`iŸjs_udpwøp_‰om_h™dÀ
(
h™dÀ
);

190 c⁄° 
iŸjs_jvÆ_t
* 
judp
 = 
	`iŸjs_udpwøp_jobje˘
(
udp_wøp
);

191 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_obje˘
(
judp
));

194 
iŸjs_jvÆ_t
 
j⁄mesßge
 =

195 
	`iŸjs_jvÆ_gë_¥›îty
(
judp
, 
IOTJS_MAGIC_STRING_ONMESSAGE
);

196 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j⁄mesßge
));

198 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(4);

199 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
ƒód
);

200 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, 
judp
);

202 i‡(
ƒód
 < 0) {

203 i‡(
buf
->
ba£
 !
NULL
)

204 
	`iŸjs_buf„r_ªÀa£
(
buf
->
ba£
);

205 
	`iŸjs_make_ˇŒback
(&
j⁄mesßge
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

206 
	`iŸjs_jvÆ_de°roy
(&
j⁄mesßge
);

207 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

211 
iŸjs_jvÆ_t
 
jbuf„r
 = 
	`iŸjs_buf„rwøp_¸óã_buf„r
((
size_t
)
ƒód
);

212 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(&
jbuf„r
);

214 
	`iŸjs_buf„rwøp_c›y
(
buf„r_wøp
, 
buf
->
ba£
, (
size_t
)
ƒód
);

216 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
jbuf„r
);

218 
iŸjs_jvÆ_t
 
röfo
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

219 
	`AddªssToJS
(&
röfo
, 
addr
);

220 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
röfo
);

222 
	`iŸjs_make_ˇŒback
(&
j⁄mesßge
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

224 
	`iŸjs_jvÆ_de°roy
(&
röfo
);

225 
	`iŸjs_jvÆ_de°roy
(&
jbuf„r
);

226 
	`iŸjs_jvÆ_de°roy
(&
j⁄mesßge
);

227 
	`iŸjs_buf„r_ªÀa£
(
buf
->
ba£
);

228 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

229 
	}
}

232 
	$JHANDLER_FUNCTION
(
RecvSèπ
) {

233 
	`JHANDLER_DECLARE_THIS_PTR
(
udpwøp
, 
udp_wøp
);

234 
	`DJHANDLER_CHECK_ARGS
(0);

236 
îr
 =

237 
	`uv_udp_ªcv_°¨t
(
	`iŸjs_udpwøp_udp_h™dÀ
(
udp_wøp
), 
OnAŒoc
, 
OnRecv
);

240 i‡(
îr
 =
UV_EALREADY
)

241 
îr
 = 0;

243 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

244 
	}
}

247 
	$JHANDLER_FUNCTION
(
RecvSt›
) {

248 
	`JHANDLER_DECLARE_THIS_PTR
(
udpwøp
, 
udp_wøp
);

249 
	`DJHANDLER_CHECK_ARGS
(0);

251 
r
 = 
	`uv_udp_ªcv_°›
(
	`iŸjs_udpwøp_udp_h™dÀ
(
udp_wøp
));

253 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
r
);

254 
	}
}

257 
	$OnSíd
(
uv_udp_£nd_t
* 
ªq
, 
°©us
) {

258 
iŸjs_£nd_ªqwøp_t
* 
ªq_wøp
 = (iŸjs_£nd_ªqwøp_t*)(
ªq
->
d©a
);

259 
	`IOTJS_ASSERT
(
ªq_wøp
 !
NULL
);

262 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`iŸjs_£nd_ªqwøp_jˇŒback
(
ªq_wøp
);

264 i‡(
	`iŸjs_jvÆ_is_fun˘i⁄
(
jˇŒback
)) {

267 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

268 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
°©us
);

269 
	`iŸjs_j¨gs_≠≥nd_numbî
(&
j¨gs
, 
	`iŸjs_£nd_ªqwøp_msg_size
(
ªq_wøp
));

271 
	`iŸjs_make_ˇŒback
(
jˇŒback
, 
	`iŸjs_jvÆ_gë_undeföed
(), &
j¨gs
);

272 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

275 
	`iŸjs_£nd_ªqwøp_di•©ched
(
ªq_wøp
);

276 
	}
}

284 
	$JHANDLER_FUNCTION
(
Síd
) {

285 
	`JHANDLER_DECLARE_THIS_PTR
(
udpwøp
, 
udp_wøp
);

286 
	`DJHANDLER_CHECK_ARGS
(3, 
obje˘
, 
numbî
, 
°rög
);

287 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 3)) ||

288 
	`iŸjs_jvÆ_is_undeföed
(
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 3)));

290 c⁄° 
iŸjs_jvÆ_t
* 
jbuf„r
 = 
	`JHANDLER_GET_ARG
(0, 
obje˘
);

291 c⁄° 
p‹t
 = 
	`JHANDLER_GET_ARG
(1, 
numbî
);

292 
iŸjs_°rög_t
 
addªss
 = 
	`JHANDLER_GET_ARG
(2, 
°rög
);

293 c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
 = 
	`JHANDLER_GET_ARG
(3, 
obje˘
);

295 
iŸjs_buf„rwøp_t
* 
buf„r_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(
jbuf„r
);

296 * 
buf„r
 = 
	`iŸjs_buf„rwøp_buf„r
(
buf„r_wøp
);

297 
size_t
 
Àn
 = 
	`iŸjs_buf„rwøp_Àngth
(
buf„r_wøp
);

299 
iŸjs_£nd_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_£nd_ªqwøp_¸óã
(
jˇŒback
, 
Àn
);

301 
uv_buf_t
 
buf
;

302 
buf
.
ba£
 = 
buf„r
;

303 
buf
.
Àn
 =Üen;

305 
addr
[(
sockaddr_ö6
)];

306 
îr
 =

307 
	`uv_ù4_addr
(
	`iŸjs_°rög_d©a
(&
addªss
), 
p‹t
, (
sockaddr_ö
*)(&
addr
));

309 i‡(
îr
 == 0) {

310 
îr
 = 
	`uv_udp_£nd
(
	`iŸjs_£nd_ªqwøp_ªq
(
ªq_wøp
),

311 
	`iŸjs_udpwøp_udp_h™dÀ
(
udp_wøp
), &
buf
, 1,

312 (c⁄° 
sockaddr
*)(&
addr
), 
OnSíd
);

315 i‡(
îr
) {

316 
	`iŸjs_£nd_ªqwøp_di•©ched
(
ªq_wøp
);

319 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

321 
	`iŸjs_°rög_de°roy
(&
addªss
);

322 
	}
}

326 
	$JHANDLER_FUNCTION
(
Clo£
) {

327 
	`JHANDLER_DECLARE_THIS_PTR
(
h™dÀwøp
, 
wøp
);

328 
	`DJHANDLER_CHECK_ARGS
(0);

330 
	`iŸjs_h™dÀwøp_˛o£
(
wøp
, 
NULL
);

331 
	}
}

334 
GëSockNameFun˘i⁄
(
udpwøp
, 
udp_h™dÀ
, 
uv_udp_gësock«me
);

337 
	$JHANDLER_FUNCTION
(
GëSockeName
) {

338 
	`DoGëSockName
(
jh™dÀr
);

339 
	}
}

342 
	#IOTJS_UV_SET_SOCKOPT
(
‚
) \

343 
	`JHANDLER_DECLARE_THIS_PTR
(
udpwøp
, 
udp_wøp
); \

344 
	`DJHANDLER_CHECK_ARGS
(1, 
numbî
); \

346 
Êag
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
); \

347 
îr
 = 
	`‚
(
	`iŸjs_udpwøp_udp_h™dÀ
(
udp_wøp
), 
Êag
); \

349 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

	)

352 
	$JHANDLER_FUNCTION
(
SëBrﬂdˇ°
) {

353 #i‡!
	`deföed
(
__NUTTX__
)

354 
	`IOTJS_UV_SET_SOCKOPT
(
uv_udp_£t_brﬂdˇ°
);

356 
	`IOTJS_ASSERT
(!"Not implemented");

358 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

360 
	}
}

363 
	$JHANDLER_FUNCTION
(
SëTTL
) {

364 #i‡!
	`deföed
(
__NUTTX__
)

365 
	`IOTJS_UV_SET_SOCKOPT
(
uv_udp_£t_âl
);

367 
	`IOTJS_ASSERT
(!"Not implemented");

369 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

371 
	}
}

374 
	$JHANDLER_FUNCTION
(
SëMu…iˇ°TTL
) {

375 #i‡!
	`deföed
(
__NUTTX__
)

376 
	`IOTJS_UV_SET_SOCKOPT
(
uv_udp_£t_mu…iˇ°_âl
);

378 
	`IOTJS_ASSERT
(!"Not implemented");

380 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

382 
	}
}

385 
	$JHANDLER_FUNCTION
(
SëMu…iˇ°Lo›back
) {

386 #i‡!
	`deföed
(
__NUTTX__
)

387 
	`IOTJS_UV_SET_SOCKOPT
(
uv_udp_£t_mu…iˇ°_lo›
);

389 
	`IOTJS_ASSERT
(!"Not implemented");

391 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

393 
	}
}

395 #unde‡
IOTJS_UV_SET_SOCKOPT


398 
	$SëMembîshù
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
uv_membîshù
 
membîshù
) {

399 #i‡!
	`deföed
(
__NUTTX__
)

400 
	`JHANDLER_DECLARE_THIS_PTR
(
udpwøp
, 
udp_wøp
);

401 
	`DJHANDLER_CHECK_ARGS
(1, 
°rög
);

403 
iŸjs_°rög_t
 
addªss
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

404 c⁄° 
iŸjs_jvÆ_t
* 
¨g1
 = 
	`iŸjs_jh™dÀr_gë_¨g
(
jh™dÀr
, 1);

405 
boﬁ
 
isUndeföedOrNuŒ
 =

406 
	`iŸjs_jvÆ_is_undeföed
(
¨g1
Ë|| 
	`iŸjs_jvÆ_is_nuŒ
(arg1);

407 
iŸjs_°rög_t
 
iÁ˚
;

409 c⁄° * 
iÁ˚_c°r
;

410 i‡(
isUndeföedOrNuŒ
) {

411 
iÁ˚_c°r
 = 
NULL
;

413 
iÁ˚
 = 
	`iŸjs_jvÆ_as_°rög
(
¨g1
);

414 
iÁ˚_c°r
 = 
	`iŸjs_°rög_d©a
(&
iÁ˚
);

417 
îr
 = 
	`uv_udp_£t_membîshù
(
	`iŸjs_udpwøp_udp_h™dÀ
(
udp_wøp
),

418 
	`iŸjs_°rög_d©a
(&
addªss
), 
iÁ˚_c°r
,

419 
membîshù
);

421 
	`iŸjs_jh™dÀr_ªtu∫_numbî
(
jh™dÀr
, 
îr
);

423 
	`iŸjs_°rög_de°roy
(&
addªss
);

424 i‡(!
isUndeföedOrNuŒ
)

425 
	`iŸjs_°rög_de°roy
(&
iÁ˚
);

427 
	`IOTJS_ASSERT
(!"Not implemented");

429 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

431 
	}
}

434 
	$JHANDLER_FUNCTION
(
AddMembîshù
) {

435 
	`SëMembîshù
(
jh™dÀr
, 
UV_JOIN_GROUP
);

436 
	}
}

439 
	$JHANDLER_FUNCTION
(
Dr›Membîshù
) {

440 
	`SëMembîshù
(
jh™dÀr
, 
UV_LEAVE_GROUP
);

441 
	}
}

444 
	$JHANDLER_FUNCTION
(
Ref
) {

445 
	`IOTJS_ASSERT
(!"Not implemented");

447 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

448 
	}
}

451 
	$JHANDLER_FUNCTION
(
Uƒef
) {

452 
	`IOTJS_ASSERT
(!"Not implemented");

454 
	`iŸjs_jh™dÀr_ªtu∫_nuŒ
(
jh™dÀr
);

455 
	}
}

458 
iŸjs_jvÆ_t
 
	$InôUdp
() {

459 
iŸjs_jvÆ_t
 
udp
 = 
	`iŸjs_jvÆ_¸óã_fun˘i⁄_wôh_di•©ch
(
UDP
);

461 
iŸjs_jvÆ_t
 
¥ŸŸy≥
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

462 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(&
udp
, 
IOTJS_MAGIC_STRING_PROTOTYPE
, &
¥ŸŸy≥
);

464 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_BIND
, 
Böd
);

465 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_RECVSTART
, 
RecvSèπ
);

466 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_RECVSTOP
, 
RecvSt›
);

467 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SEND
, 
Síd
);

468 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_CLOSE
, 
Clo£
);

469 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_GETSOCKNAME
,

470 
GëSockeName
);

471 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETBROADCAST
,

472 
SëBrﬂdˇ°
);

473 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETTTL
, 
SëTTL
);

474 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETMULTICASTTTL
,

475 
SëMu…iˇ°TTL
);

476 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_SETMULTICASTLOOPBACK
,

477 
SëMu…iˇ°Lo›back
);

478 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_ADDMEMBERSHIP
,

479 
AddMembîshù
);

480 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_DROPMEMBERSHIP
,

481 
Dr›Membîshù
);

482 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_REF
, 
Ref
);

483 
	`iŸjs_jvÆ_£t_mëhod
(&
¥ŸŸy≥
, 
IOTJS_MAGIC_STRING_UNREF
, 
Uƒef
);

485 
	`iŸjs_jvÆ_de°roy
(&
¥ŸŸy≥
);

487  
udp
;

488 
	}
}

	@src/modules/iotjs_module_udp.h

17 #i‚de‡
IOTJS_MODULE_UDP_H


18 
	#IOTJS_MODULE_UDP_H


	)

21 
	~"iŸjs_def.h
"

22 
	~"iŸjs_h™dÀwøp.h
"

23 
	~"iŸjs_ªqwøp.h
"

27 
iŸjs_h™dÀwøp_t
 
	mh™dÀwøp
;

28 
uv_udp_t
 
	mh™dÀ
;

29 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_udpwøp_t
);

32 
iŸjs_udpwøp_t
* 
iŸjs_udpwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
judp
);

34 
iŸjs_udpwøp_t
* 
iŸjs_udpwøp_‰om_h™dÀ
(
uv_udp_t
* 
h™dÀ
);

35 
iŸjs_udpwøp_t
* 
iŸjs_udpwøp_‰om_jobje˘
(c⁄° 
iŸjs_jvÆ_t
* 
judp
);

37 
uv_udp_t
* 
iŸjs_udpwøp_udp_h™dÀ
(
iŸjs_udpwøp_t
* 
udpwøp
);

38 
iŸjs_jvÆ_t
* 
iŸjs_udpwøp_jobje˘
(
iŸjs_udpwøp_t
* 
udpwøp
);

42 
iŸjs_ªqwøp_t
 
	mªqwøp
;

43 
uv_udp_£nd_t
 
	mªq
;

44 
size_t
 
	mmsg_size
;

45 } 
	tIOTJS_VALIDATED_STRUCT
(
	tiŸjs_£nd_ªqwøp_t
);

47 
	#THIS
 
iŸjs_£nd_ªqwøp_t
* 
£nd_ªqwøp


	)

49 
iŸjs_£nd_ªqwøp_t
* 
iŸjs_£nd_ªqwøp_¸óã
(c⁄° 
iŸjs_jvÆ_t
* 
jˇŒback
,

50 c⁄° 
size_t
 
msg_size
);

52 
iŸjs_£nd_ªqwøp_di•©ched
(
THIS
);

54 
uv_udp_£nd_t
* 
iŸjs_£nd_ªqwøp_ªq
(
THIS
);

55 c⁄° 
iŸjs_jvÆ_t
* 
iŸjs_£nd_ªqwøp_jˇŒback
(
THIS
);

57 #unde‡
THIS


	@src/platform/linux/iotjs_module_adc-linux.c

16 #i‚de‡
IOTJS_MODULE_ADC_LINUX_GENERAL_INL_H


17 
	#IOTJS_MODULE_ADC_LINUX_GENERAL_INL_H


	)

19 
	~<°dio.h
>

20 
	~<°dlib.h
>

21 
	~<°rög.h
>

22 
	~<uni°d.h
>

24 
	~"iŸjs_sy°emio-löux.h
"

25 
	~"moduÀs/iŸjs_moduÀ_adc.h
"

28 
	#ADC_PIN_FORMAT
 
ADC_INTERFACE
 
ADC_PIN_INTERFACE


	)

30 
	#ADC_PATH_BUFFER_SIZE
 
DEVICE_IO_PATH_BUFFER_SIZE


	)

31 
	#ADC_PIN_BUFFER_SIZE
 
DEVICE_IO_PIN_BUFFER_SIZE


	)

32 
	#ADC_VALUE_BUFFER_SIZE
 64

	)

38 
öt32_t
 
	$iŸjs_adc_ªad
(
iŸjs_adc_t
* 
adc
) {

39 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

41 c⁄° * 
devi˚_∑th
 = 
	`iŸjs_°rög_d©a
(&
_this
->
devi˚
);

42 
buf„r
[
ADC_VALUE_BUFFER_SIZE
];

44 i‡(!
	`iŸjs_sy°emio_›í_ªad_˛o£
(
devi˚_∑th
, 
buf„r
, (buffer))) {

48  
	`©oi
(
buf„r
);

49 
	}
}

52 
boﬁ
 
	$iŸjs_adc_˛o£
(
iŸjs_adc_t
* 
adc
) {

53  
åue
;

54 
	}
}

56 
	$iŸjs_adc_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

57 
ADC_WORKER_INIT
;

58 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

60 
	`DDDLOG
("%s()", 
__func__
);

61 c⁄° * 
devi˚_∑th
 = 
	`iŸjs_°rög_d©a
(&
_this
->
devi˚
);

64 
ªq_d©a
->
ªsu…
 = 
	`iŸjs_sy°emio_check_∑th
(
devi˚_∑th
);

65 
	}
}

	@src/platform/linux/iotjs_module_blehcisocket-linux.c

37 #i‚de‡
IOTJS_MODULE_BLE_HCI_SOCKET_LINUX_GENERAL_INL_H


38 
	#IOTJS_MODULE_BLE_HCI_SOCKET_LINUX_GENERAL_INL_H


	)

40 
	~<î∫o.h
>

41 
	~<°dlib.h
>

42 
	~<sys/io˘l.h
>

43 
	~<sys/sockë.h
>

44 
	~<sys/ty≥s.h
>

45 
	~<uni°d.h
>

47 
	~"iŸjs_def.h
"

48 
	~"moduÀs/iŸjs_moduÀ_bÀhcisockë.h
"

49 
	~"moduÀs/iŸjs_moduÀ_buf„r.h
"

51 
	#BTPROTO_L2CAP
 0

	)

52 
	#BTPROTO_HCI
 1

	)

54 
	#SOL_HCI
 0

	)

55 
	#HCI_FILTER
 2

	)

57 
	#HCIGETDEVLIST
 
	`_IOR
('H', 210, )

	)

58 
	#HCIGETDEVINFO
 
	`_IOR
('H', 211, )

	)

60 
	#HCI_CHANNEL_RAW
 0

	)

61 
	#HCI_CHANNEL_USER
 1

	)

62 
	#HCI_CHANNEL_CONTROL
 3

	)

64 
	#HCI_DEV_NONE
 0xffff

	)

66 
	#HCI_MAX_DEV
 16

	)

68 
	#ATT_CID
 4

	)

71 
	mHCI_UP
,

72 
	mHCI_INIT
,

73 
	mHCI_RUNNING
,

75 
	mHCI_PSCAN
,

76 
	mHCI_ISCAN
,

77 
	mHCI_AUTH
,

78 
	mHCI_ENCRYPT
,

79 
	mHCI_INQUIRY
,

81 
	mHCI_RAW
,

84 
	ssockaddr_hci
 {

85 
ß_Ámûy_t
 
	mhci_Ámûy
;

86 
	mhci_dev
;

87 
	mhci_ch™√l
;

90 
	shci_dev_ªq
 {

91 
uöt16_t
 
	mdev_id
;

92 
uöt32_t
 
	mdev_›t
;

95 
	shci_dev_li°_ªq
 {

96 
uöt16_t
 
	mdev_num
;

97 
hci_dev_ªq
 
	mdev_ªq
[0];

100 
hci_dev_li°_ªq
 
	thci_dev_li°_ªq_ty≥
;

102 °ru˘ { 
uöt8_t
 
	mb
[6]; } 
	t__©åibuã__
((
	t∑cked
)Ë
	tbdaddr_t
;

104 
	shci_dev_öfo
 {

105 
uöt16_t
 
	mdev_id
;

106 
	m«me
[8];

108 
bdaddr_t
 
	mbdaddr
;

110 
uöt32_t
 
	mÊags
;

111 
uöt8_t
 
	mty≥
;

113 
uöt8_t
 
	m„©uªs
[8];

115 
uöt32_t
 
	mpkt_ty≥
;

116 
uöt32_t
 
	mlök_pﬁicy
;

117 
uöt32_t
 
	mlök_mode
;

119 
uöt16_t
 
	ma˛_mtu
;

120 
uöt16_t
 
	ma˛_pkts
;

121 
uöt16_t
 
	msco_mtu
;

122 
uöt16_t
 
	msco_pkts
;

125 
uöt32_t
 
	mîr_rx
;

126 
uöt32_t
 
	mîr_tx
;

127 
uöt32_t
 
	mcmd_tx
;

128 
uöt32_t
 
	mevt_rx
;

129 
uöt32_t
 
	ma˛_tx
;

130 
uöt32_t
 
	ma˛_rx
;

131 
uöt32_t
 
	msco_tx
;

132 
uöt32_t
 
	msco_rx
;

133 
uöt32_t
 
	mbyã_rx
;

134 
uöt32_t
 
	mbyã_tx
;

137 
	ssockaddr_l2
 {

138 
ß_Ámûy_t
 
	ml2_Ámûy
;

139 
	ml2_psm
;

140 
bdaddr_t
 
	ml2_bdaddr
;

141 
	ml2_cid
;

142 
uöt8_t
 
	ml2_bdaddr_ty≥
;

146 
	#THIS
 
iŸjs_bÀhcisockë_t
* 
bÀhcisockë


	)

149 
	$iŸjs_bÀhcisockë_öôülize
(
THIS
) {

150 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

152 
_this
->
_l2sockëCou¡
 = 0;

154 
_this
->
_sockë
 = 
	`sockë
(
AF_BLUETOOTH
, 
SOCK_RAW
 | 
SOCK_CLOEXEC
, 
BTPROTO_HCI
);

156 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
());

157 
	`uv_pﬁl_öô
(
lo›
, &(
_this
->
_pﬁlH™dÀ
), _this->
_sockë
);

159 
_this
->
_pﬁlH™dÀ
.
d©a
 = 
bÀhcisockë
;

160 
	}
}

163 
	$iŸjs_bÀhcisockë_˛o£
(
THIS
) {

164 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

166 
	`uv_˛o£
((
uv_h™dÀ_t
*)&(
_this
->
_pﬁlH™dÀ
), 
NULL
);

168 
	`˛o£
(
_this
->
_sockë
);

169 
	}
}

172 
	$iŸjs_bÀhcisockë_°¨t
(
THIS
) {

173 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

175 
	`uv_pﬁl_°¨t
(&
_this
->
_pﬁlH™dÀ
, 
UV_READABLE
, 
iŸjs_bÀhcisockë_pﬁl_cb
);

176 
	}
}

179 
	$iŸjs_bÀhcisockë_bödRaw
(
THIS
, * 
devId
) {

180 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

182 
sockaddr_hci
 
a
;

183 
hci_dev_öfo
 
di
;

185 
	`mem£t
(&
a
, 0, (a));

186 
a
.
hci_Ámûy
 = 
AF_BLUETOOTH
;

187 
a
.
hci_dev
 = 
	`iŸjs_bÀhcisockë_devIdF‹
(
bÀhcisockë
, 
devId
, 
åue
);

188 
a
.
hci_ch™√l
 = 
HCI_CHANNEL_RAW
;

190 
_this
->
_devId
 = 
a
.
hci_dev
;

191 
_this
->
_mode
 = 
HCI_CHANNEL_RAW
;

193 i‡(
	`böd
(
_this
->
_sockë
, (
sockaddr
*)&
a
, (a)) < 0) {

194 
	`DLOG
("ERROR o¿bödög: %s", 
	`°ªº‹
(
î∫o
));

195  
_this
->
_devId
;

199 
	`mem£t
(&
di
, 0x00, (di));

200 
di
.
dev_id
 = 
_this
->
_devId
;

201 
	`mem£t
(
_this
->
_addªss
, 0, (_this->_address));

202 
_this
->
_addªssTy≥
 = 0;

204 i‡(
	`io˘l
(
_this
->
_sockë
, 
HCIGETDEVINFO
, (*)&
di
) > -1) {

205 
	`mem˝y
(
_this
->
_addªss
, &
di
.
bdaddr
, (di.bdaddr));

206 
_this
->
_addªssTy≥
 = 
di
.
ty≥
;

208 i‡(
_this
->
_addªssTy≥
 == 3) {

210 
_this
->
_addªssTy≥
 = 1;

214  
_this
->
_devId
;

215 
	}
}

218 
	$iŸjs_bÀhcisockë_bödU£r
(
THIS
, * 
devId
) {

219 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

221 
sockaddr_hci
 
a
;

223 
	`mem£t
(&
a
, 0, (a));

224 
a
.
hci_Ámûy
 = 
AF_BLUETOOTH
;

225 
a
.
hci_dev
 = 
	`iŸjs_bÀhcisockë_devIdF‹
(
bÀhcisockë
, 
devId
, 
Ál£
);

226 
a
.
hci_ch™√l
 = 
HCI_CHANNEL_USER
;

228 
_this
->
_devId
 = 
a
.
hci_dev
;

229 
_this
->
_mode
 = 
HCI_CHANNEL_USER
;

231 i‡(
	`böd
(
_this
->
_sockë
, (
sockaddr
*)&
a
, (a)) < 0) {

232 
	`DLOG
("ERROR o¿bödög: %s", 
	`°ªº‹
(
î∫o
));

235  
_this
->
_devId
;

236 
	}
}

239 
	$iŸjs_bÀhcisockë_bödC⁄åﬁ
(
THIS
) {

240 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

242 
sockaddr_hci
 
a
;

244 
	`mem£t
(&
a
, 0, (a));

245 
a
.
hci_Ámûy
 = 
AF_BLUETOOTH
;

246 
a
.
hci_dev
 = 
HCI_DEV_NONE
;

247 
a
.
hci_ch™√l
 = 
HCI_CHANNEL_CONTROL
;

249 
_this
->
_mode
 = 
HCI_CHANNEL_CONTROL
;

251 i‡(
	`böd
(
_this
->
_sockë
, (
sockaddr
*)&
a
, (a)) < 0) {

252 
	`DLOG
("ERROR o¿bödög: %s", 
	`°ªº‹
(
î∫o
));

254 
	}
}

257 
boﬁ
 
	$iŸjs_bÀhcisockë_isDevUp
(
THIS
) {

258 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

260 
hci_dev_öfo
 
di
;

261 
boﬁ
 
isUp
 = 
Ál£
;

263 
	`mem£t
(&
di
, 0x00, (di));

264 
di
.
dev_id
 = 
_this
->
_devId
;

266 i‡(
	`io˘l
(
_this
->
_sockë
, 
HCIGETDEVINFO
, (*)&
di
) > -1) {

267 
isUp
 = (
di
.
Êags
 & (1 << 
HCI_UP
)) != 0;

270  
isUp
;

271 
	}
}

274 
	$iŸjs_bÀhcisockë_£tFûãr
(
THIS
, * 
d©a
, 
size_t
 
Àngth
) {

275 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

277 i‡(
	`£tsock›t
(
_this
->
_sockë
, 
SOL_HCI
, 
HCI_FILTER
, 
d©a
, (
sockÀn_t
)
Àngth
) <

279 
	`iŸjs_bÀhcisockë_emôEºnoEº‹
(
bÀhcisockë
);

281 
	}
}

284 
	$iŸjs_bÀhcisockë_pﬁl
(
THIS
) {

285 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

287 
Àngth
 = 0;

288 
d©a
[1024];

290 
Àngth
 = 
	`ªad
(
_this
->
_sockë
, 
d©a
, (data));

292 i‡(
Àngth
 > 0) {

293 i‡(
_this
->
_mode
 =
HCI_CHANNEL_RAW
) {

294 i‡(
	`iŸjs_bÀhcisockë_kî√lDisc⁄√˘W‹kArounds
(
bÀhcisockë
, 
Àngth
,

295 
d©a
) < 0) {

300 
iŸjs_jvÆ_t
* 
jhcisockë
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

301 
iŸjs_jvÆ_t
 
jemô
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jhcisockë
, "emit");

302 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
jemô
));

304 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

305 
iŸjs_jvÆ_t
 
°r
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
("data");

306 
	`IOTJS_ASSERT
(
Àngth
 >= 0);

307 
iŸjs_jvÆ_t
 
jbuf
 = 
	`iŸjs_buf„rwøp_¸óã_buf„r
((
size_t
)
Àngth
);

308 
iŸjs_buf„rwøp_t
* 
buf_wøp
 = 
	`iŸjs_buf„rwøp_‰om_jbuf„r
(&
jbuf
);

309 
	`iŸjs_buf„rwøp_c›y
(
buf_wøp
, 
d©a
, (
size_t
)
Àngth
);

310 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
°r
);

311 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
jbuf
);

312 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
jemô
, 
jhcisockë
, &
j¨gs
);

314 
	`iŸjs_jvÆ_de°roy
(&
°r
);

315 
	`iŸjs_jvÆ_de°roy
(&
jbuf
);

316 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

317 
	`iŸjs_jvÆ_de°roy
(&
jemô
);

319 
	}
}

322 
	$iŸjs_bÀhcisockë_°›
(
THIS
) {

323 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

325 
	`uv_pﬁl_°›
(&
_this
->
_pﬁlH™dÀ
);

326 
	}
}

329 
	$iŸjs_bÀhcisockë_wrôe
(
THIS
, * 
d©a
, 
size_t
 
Àngth
) {

330 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

332 i‡(
	`wrôe
(
_this
->
_sockë
, 
d©a
, 
Àngth
) < 0) {

333 
	`iŸjs_bÀhcisockë_emôEºnoEº‹
(
bÀhcisockë
);

335 
	}
}

338 
	$iŸjs_bÀhcisockë_emôEºnoEº‹
(
THIS
) {

339 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

341 
iŸjs_jvÆ_t
* 
jhcisockë
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

342 
iŸjs_jvÆ_t
 
jemô
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jhcisockë
, "emit");

343 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
jemô
));

345 
iŸjs_j¨gs_t
 
j¨gs
 = 
	`iŸjs_j¨gs_¸óã
(2);

346 
iŸjs_jvÆ_t
 
°r
 = 
	`iŸjs_jvÆ_¸óã_°rög_øw
("error");

347 
iŸjs_jvÆ_t
 
jîr‹
 = 
	`iŸjs_jvÆ_¸óã_îr‹
(
	`°ªº‹
(
î∫o
));

348 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
°r
);

349 
	`iŸjs_j¨gs_≠≥nd_jvÆ
(&
j¨gs
, &
jîr‹
);

350 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
jemô
, 
jhcisockë
, &
j¨gs
);

352 
	`iŸjs_jvÆ_de°roy
(&
°r
);

353 
	`iŸjs_jvÆ_de°roy
(&
jîr‹
);

354 
	`iŸjs_j¨gs_de°roy
(&
j¨gs
);

355 
	`iŸjs_jvÆ_de°roy
(&
jemô
);

356 
	}
}

359 
	$iŸjs_bÀhcisockë_devIdF‹
(
THIS
, * 
pDevId
, 
boﬁ
 
isUp
) {

360 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

362 
devId
 = 0;

364 i‡(
pDevId
 =
NULL
) {

365 
hci_dev_li°_ªq
* 
dl
;

366 
hci_dev_ªq
* 
dr
;

368 
dl
 = (
hci_dev_li°_ªq
*)
	`ˇŒoc
(
HCI_MAX_DEV
 * (*
dr
) +

369 (*
dl
),

371 
dr
 = 
dl
->
dev_ªq
;

373 
dl
->
dev_num
 = 
HCI_MAX_DEV
;

375 i‡(
	`io˘l
(
_this
->
_sockë
, 
HCIGETDEVLIST
, 
dl
) > -1) {

376 
i
 = 0; i < 
dl
->
dev_num
; i++, 
dr
++) {

377 
boﬁ
 
devUp
 = 
dr
->
dev_›t
 & (1 << 
HCI_UP
);

378 
boﬁ
 
m©ch
 = 
isUp
 ? 
devUp
 : !devUp;

380 i‡(
m©ch
) {

381 
devId
 = 
dr
->
dev_id
;

387 
	`‰ì
(
dl
);

389 
devId
 = *
pDevId
;

392  
devId
;

393 
	}
}

396 
	$iŸjs_bÀhcisockë_kî√lDisc⁄√˘W‹kArounds
(
THIS
, 
Àngth
,

397 * 
d©a
) {

398 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_bÀhcisockë_t
, 
bÀhcisockë
);

400 i‡(
Àngth
 =22 && 
d©a
[0] == 0x04 && data[1] == 0x3e && data[2] == 0x13 &&

401 
d©a
[3] == 0x01 && data[4] == 0x00) {

402 
l2sockë
;

403 
sockaddr_l2
 
l2a
;

404 
l2cid
;

405 
h™dÀ
 = *((*)(&
d©a
[5]));

407 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


408 
l2cid
 = 
ATT_CID
;

409 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


410 
l2cid
 = 
	`bsw≠_16
(
ATT_CID
);

415 
l2sockë
 = 
	`sockë
(
PF_BLUETOOTH
, 
SOCK_SEQPACKET
, 
BTPROTO_L2CAP
);

417 i‡(
l2sockë
 < 0) {

418 
	`DLOG
("ERROR cª©ög sockë: %s", 
	`°ªº‹
(
î∫o
));

422 
	`mem£t
(&
l2a
, 0, (l2a));

423 
l2a
.
l2_Ámûy
 = 
AF_BLUETOOTH
;

424 
l2a
.
l2_cid
 = 
l2cid
;

425 
	`mem˝y
(&
l2a
.
l2_bdaddr
, 
_this
->
_addªss
, (l2a.l2_bdaddr));

426 
l2a
.
l2_bdaddr_ty≥
 = 
_this
->
_addªssTy≥
;

428 i‡(
	`böd
(
l2sockë
, (
sockaddr
*)&
l2a
, (l2a)) < 0) {

429 
	`DLOG
("ERROR o¿bödög: %s", 
	`°ªº‹
(
î∫o
));

430 
	`˛o£
(
l2sockë
);

434 
	`mem£t
(&
l2a
, 0, (l2a));

435 
l2a
.
l2_Ámûy
 = 
AF_BLUETOOTH
;

436 
	`mem˝y
(&
l2a
.
l2_bdaddr
, &
d©a
[9], (l2a.l2_bdaddr));

437 
l2a
.
l2_cid
 = 
l2cid
;

438 
l2a
.
l2_bdaddr_ty≥
 = 
d©a
[8] + 1;

440 i‡(
	`c⁄√˘
(
l2sockë
, (
sockaddr
*)&
l2a
, (l2a)) < 0) {

441 
	`DLOG
("ERROR c⁄√˘ög sockë: %s", 
	`°ªº‹
(
î∫o
));

442 
	`˛o£
(
l2sockë
);

446 
_this
->
_l2sockës
[
h™dÀ
] = 
l2sockë
;

447 
_this
->
_l2sockëCou¡
++;

448 } i‡(
Àngth
 =7 && 
d©a
[0] == 0x04 && data[1] == 0x05 &&

449 
d©a
[2] == 0x04 && data[3] == 0x00) {

450 
h™dÀ
 = *((*)(&
d©a
[4]));

452 i‡(
_this
->
_l2sockëCou¡
 > 0) {

453 
	`˛o£
(
_this
->
_l2sockës
[
h™dÀ
]);

454 
_this
->
_l2sockëCou¡
--;

459 
	}
}

461 #unde‡
THIS


463 
	$iŸjs_bÀhcisockë_pﬁl_cb
(
uv_pﬁl_t
* 
h™dÀ
, 
°©us
, 
evíts
) {

464 
iŸjs_bÀhcisockë_t
* 
bÀhcisockë
 = (iŸjs_bÀhcisockë_t*)
h™dÀ
->
d©a
;

466 
	`iŸjs_bÀhcisockë_pﬁl
(
bÀhcisockë
);

467 
	}
}

	@src/platform/linux/iotjs_module_gpio-linux.c

17 
	~<pﬁl.h
>

18 
	~<°dio.h
>

19 
	~<°dlib.h
>

20 
	~<°rög.h
>

21 
	~<uni°d.h
>

23 
	~"iŸjs_sy°emio-löux.h
"

24 
	~"moduÀs/iŸjs_moduÀ_gpio.h
"

27 
	#GPIO_INTERFACE
 "/sys/˛ass/gpio/"

	)

28 
	#GPIO_EXPORT
 "exp‹t"

	)

29 
	#GPIO_UNEXPORT
 "u√xp‹t"

	)

30 
	#GPIO_DIRECTION
 "dúe˘i⁄"

	)

31 
	#GPIO_EDGE
 "edge"

	)

32 
	#GPIO_VALUE
 "vÆue"

	)

33 
	#GPIO_PIN_INTERFACE
 "gpio%d/"

	)

34 
	#GPIO_PIN_FORMAT_EXPORT
 
GPIO_INTERFACE
 "exp‹t"

	)

35 
	#GPIO_PIN_FORMAT_UNEXPORT
 
GPIO_INTERFACE
 "u√xp‹t"

	)

36 
	#GPIO_PIN_FORMAT
 
GPIO_INTERFACE
 
GPIO_PIN_INTERFACE


	)

37 
	#GPIO_PIN_FORMAT_DIRECTION
 
GPIO_PIN_FORMAT
 
GPIO_DIRECTION


	)

38 
	#GPIO_PIN_FORMAT_EDGE
 
GPIO_PIN_FORMAT
 
GPIO_EDGE


	)

39 
	#GPIO_PIN_FORMAT_VALUE
 
GPIO_PIN_FORMAT
 
GPIO_VALUE


	)

41 
	#GPIO_PATH_BUFFER_SIZE
 
DEVICE_IO_PATH_BUFFER_SIZE


	)

42 
	#GPIO_PIN_BUFFER_SIZE
 
DEVICE_IO_PIN_BUFFER_SIZE


	)

43 
	#GPIO_VALUE_BUFFER_SIZE
 10

	)

45 
	s_iŸjs_gpio_moduÀ_∂©f‹m_t
 {

46 
	mvÆue_fd
;

47 
uv_thªad_t
 
	mthªad
;

48 
uv_muãx_t
 
	mmuãx
;

55 c⁄° * 
	ggpio_edge_°rög
[] = { "none", "rising", "falling", "both" };

58 
	$gpio_gë_vÆue_fd
(
iŸjs_gpio_t
* 
gpio
) {

59 
fd
;

60 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

62 
	`uv_muãx_lock
(&
_this
->
∂©f‹m
->
muãx
);

63 
fd
 = 
_this
->
∂©f‹m
->
vÆue_fd
;

64 
	`uv_muãx_u∆ock
(&
_this
->
∂©f‹m
->
muãx
);

66  
fd
;

67 
	}
}

70 
	$gpio_£t_vÆue_fd
(
iŸjs_gpio_t
* 
gpio
, 
fd
) {

71 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

73 
	`uv_muãx_lock
(&
_this
->
∂©f‹m
->
muãx
);

74 
_this
->
∂©f‹m
->
vÆue_fd
 = 
fd
;

75 
	`uv_muãx_u∆ock
(&
_this
->
∂©f‹m
->
muãx
);

76 
	}
}

79 
	$gpio_emô_ch™ge_evít
(
iŸjs_gpio_t
* 
gpio
) {

80 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

82 
iŸjs_jvÆ_t
* 
jgpio
 = 
	`iŸjs_jobje˘wøp_jobje˘
(&
_this
->
jobje˘wøp
);

83 
iŸjs_jvÆ_t
 
j⁄Ch™ge
 = 
	`iŸjs_jvÆ_gë_¥›îty
(
jgpio
, "onChange");

84 
	`IOTJS_ASSERT
(
	`iŸjs_jvÆ_is_fun˘i⁄
(&
j⁄Ch™ge
));

86 
	`iŸjs_jhñ≥r_ˇŒ_ok
(&
j⁄Ch™ge
, 
jgpio
, 
	`iŸjs_j¨gs_gë_em±y
());

88 
	`iŸjs_jvÆ_de°roy
(&
j⁄Ch™ge
);

89 
	}
}

92 
boﬁ
 
	$gpio_˛ór_dummy_vÆue
(
fd
) {

93 
buf„r
[1];

95 i‡(
	`l£ek
(
fd
, 0, 
SEEK_SET
) < 0) {

96 
	`DLOG
("GPIO Error inÜseek");

97  
Ál£
;

100 i‡(
	`ªad
(
fd
, &
buf„r
, 1) < 0) {

101 
	`DLOG
("GPIO Error inÑead");

102  
Ál£
;

105  
åue
;

106 
	}
}

109 
	$gpio_edge_pﬁl
(
pﬁlfd
*Öollfd) {

110 
ªt
;

113 i‡((
ªt
 = 
	`pﬁl
(
pﬁlfd
, 1, -1)) > 0) {

114 i‡(!
	`gpio_˛ór_dummy_vÆue
(
pﬁlfd
->
fd
))

118  
ªt
;

119 
	}
}

122 
	$gpio_edge_dëe˘i⁄_cb
(* 
d©a
) {

123 
fd
;

124 
iŸjs_gpio_t
* 
gpio
 = (iŸjs_gpio_t*)
d©a
;

125 
pﬁlfd
Öollfd;

127 i‡((
fd
 = 
	`gpio_gë_vÆue_fd
(
gpio
)) < 0) {

128 
	`DLOG
("GPIO Error: cannot startÉdge detection");

132 
	`mem£t
(&
pﬁlfd
, 0, (pollfd));

133 
pﬁlfd
.
fd
 = fd;

134 
pﬁlfd
.
evíts
 = 
POLLPRI
 | 
POLLERR
;

136 i‡(!
	`gpio_˛ór_dummy_vÆue
(
fd
))

139 
åue
) {

140 i‡((
fd
 = 
	`gpio_gë_vÆue_fd
(
gpio
)) < 0)

143 i‡(
	`gpio_edge_pﬁl
(&
pﬁlfd
) > 0) {

144 
	`gpio_emô_ch™ge_evít
(
gpio
);

146 
	`DLOG
("GPIO Eº‹ o¿pﬁl: %s", 
	`°ªº‹
(
î∫o
));

149 
	}
}

152 
boﬁ
 
	$gpio_£t_dúe˘i⁄
(
uöt32_t
 
pö
, 
GpioDúe˘i⁄
 
dúe˘i⁄
) {

153 
	`IOTJS_ASSERT
(
dúe˘i⁄
 =
kGpioDúe˘i⁄In
 || dúe˘i⁄ =
kGpioDúe˘i⁄Out
);

155 
dúe˘i⁄_∑th
[
GPIO_PATH_BUFFER_SIZE
];

156 
	`¢¥ötf
(
dúe˘i⁄_∑th
, 
GPIO_PATH_BUFFER_SIZE
, 
GPIO_PIN_FORMAT_DIRECTION
,

157 
pö
);

159 c⁄° * 
buf„r
 = (
dúe˘i⁄
 =
kGpioDúe˘i⁄In
) ? "in" : "out";

161 
	`DDDLOG
("%†-Ö©h: %s, dú: %s", 
__func__
, 
dúe˘i⁄_∑th
, 
buf„r
);

163  
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
dúe˘i⁄_∑th
, 
buf„r
);

164 
	}
}

168 
boﬁ
 
	$gpio_£t_mode
(
uöt32_t
 
pö
, 
GpioMode
 
mode
) {

169  
åue
;

170 
	}
}

173 
boﬁ
 
	$gpio_£t_edge
(
iŸjs_gpio_t
* 
gpio
) {

174 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

176 
edge_∑th
[
GPIO_PATH_BUFFER_SIZE
];

177 
	`¢¥ötf
(
edge_∑th
, 
GPIO_PATH_BUFFER_SIZE
, 
GPIO_PIN_FORMAT_EDGE
, 
_this
->
pö
);

178 
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
edge_∑th
, 
gpio_edge_°rög
[
_this
->
edge
]);

180 i‡(
_this
->
dúe˘i⁄
 =
kGpioDúe˘i⁄In
 && _this->
edge
 !
kGpioEdgeN⁄e
) {

181 
vÆue_∑th
[
GPIO_PATH_BUFFER_SIZE
];

182 
	`¢¥ötf
(
vÆue_∑th
, 
GPIO_PATH_BUFFER_SIZE
, 
GPIO_PIN_FORMAT_VALUE
,

183 
_this
->
pö
);

184 i‡((
_this
->
∂©f‹m
->
vÆue_fd
 = 
	`›í
(
vÆue_∑th
, 
O_RDONLY
)) < 0) {

185 
	`DLOG
("GPIO Error in open");

186  
Ál£
;

192 
ªt
 = 
	`uv_thªad_¸óã
(&
_this
->
∂©f‹m
->
thªad
, 
gpio_edge_dëe˘i⁄_cb
,

193 (*)
gpio
);

194 i‡(
ªt
 < 0) {

195 
	`DLOG
("GPIO Error in uv_thread_create");

197  
Ál£
;

200  
åue
;

201 
	}
}

204 
	$iŸjs_gpio_∂©f‹m_¸óã
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

205 
size_t
 
¥iv©e_mem
 = (
_iŸjs_gpio_moduÀ_∂©f‹m_t
);

206 
_this
->
∂©f‹m
 = (
iŸjs_gpio_moduÀ_∂©f‹m_t
)
	`mÆloc
(
¥iv©e_mem
);

207 
_this
->
∂©f‹m
->
vÆue_fd
 = -1;

208 
	`uv_muãx_öô
(&
_this
->
∂©f‹m
->
muãx
);

209 
	}
}

212 
	$iŸjs_gpio_∂©f‹m_de°roy
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

213 
	`iŸjs_buf„r_ªÀa£
((*)
_this
->
∂©f‹m
);

214 
	}
}

217 
boﬁ
 
	$iŸjs_gpio_wrôe
(
iŸjs_gpio_t
* 
gpio
, 
boﬁ
 
vÆue
) {

218 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

220 
vÆue_∑th
[
GPIO_PATH_BUFFER_SIZE
];

221 
	`¢¥ötf
(
vÆue_∑th
, 
GPIO_PATH_BUFFER_SIZE
, 
GPIO_PIN_FORMAT_VALUE
,

222 
_this
->
pö
);

224 c⁄° * 
buf„r
 = 
vÆue
 ? "1" : "0";

226 
	`DDDLOG
("%†-Öö: %d, vÆue: %d", 
__func__
, 
_this
->
pö
, 
vÆue
);

228  
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
vÆue_∑th
, 
buf„r
);

229 
	}
}

232 
	$iŸjs_gpio_ªad
(
iŸjs_gpio_t
* 
gpio
) {

233 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

235 
buf„r
[
GPIO_VALUE_BUFFER_SIZE
];

236 
vÆue_∑th
[
GPIO_PATH_BUFFER_SIZE
];

237 
	`¢¥ötf
(
vÆue_∑th
, 
GPIO_PATH_BUFFER_SIZE
, 
GPIO_PIN_FORMAT_VALUE
,

238 
_this
->
pö
);

240 i‡(!
	`iŸjs_sy°emio_›í_ªad_˛o£
(
vÆue_∑th
, 
buf„r
,

241 
GPIO_VALUE_BUFFER_SIZE
 - 1)) {

245  
	`©oi
(
buf„r
);

246 
	}
}

249 
boﬁ
 
	$iŸjs_gpio_˛o£
(
iŸjs_gpio_t
* 
gpio
) {

250 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

252 
buff
[
GPIO_PIN_BUFFER_SIZE
];

253 
	`¢¥ötf
(
buff
, 
GPIO_PIN_BUFFER_SIZE
, "%d", 
_this
->
pö
);

255 
	`gpio_£t_vÆue_fd
(
gpio
, -1);

256 
	`˛o£
(
_this
->
∂©f‹m
->
vÆue_fd
);

258  
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
GPIO_PIN_FORMAT_UNEXPORT
, 
buff
);

259 
	}
}

262 
	$iŸjs_gpio_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

263 
GPIO_WORKER_INIT
;

264 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

266 
	`DDDLOG
("%†-Öö: %d, dú: %d, mode: %d", 
__func__
, 
_this
->
pö
,

267 
_this
->
dúe˘i⁄
, _this->
mode
);

270 
exp‹ãd_∑th
[
GPIO_PATH_BUFFER_SIZE
];

271 
	`¢¥ötf
(
exp‹ãd_∑th
, 
GPIO_PATH_BUFFER_SIZE
, 
GPIO_PIN_FORMAT
, 
_this
->
pö
);

273 c⁄° * 
¸óãd_fûes
[] = { 
GPIO_DIRECTION
, 
GPIO_EDGE
, 
GPIO_VALUE
 };

274 
¸óãd_fûes_Àngth
 = (
¸óãd_fûes
) / (created_files[0]);

276 i‡(!
	`iŸjs_sy°emio_devi˚_›í
(
GPIO_PIN_FORMAT_EXPORT
, 
_this
->
pö
,

277 
exp‹ãd_∑th
, 
¸óãd_fûes
,

278 
¸óãd_fûes_Àngth
)) {

279 
ªq_d©a
->
ªsu…
 = 
Ál£
;

284 i‡(!
	`gpio_£t_dúe˘i⁄
(
_this
->
pö
, _this->
dúe˘i⁄
)) {

285 
ªq_d©a
->
ªsu…
 = 
Ál£
;

290 i‡(!
	`gpio_£t_mode
(
_this
->
pö
, _this->
mode
)) {

291 
ªq_d©a
->
ªsu…
 = 
Ál£
;

296 i‡(!
	`gpio_£t_edge
(
gpio
)) {

297 
ªq_d©a
->
ªsu…
 = 
Ál£
;

301 
ªq_d©a
->
ªsu…
 = 
åue
;

302 
	}
}

	@src/platform/linux/iotjs_module_i2c-linux.c

47 
	~<f˙é.h
>

48 
	~<°döt.h
>

49 
	~<°dio.h
>

50 
	~<°dlib.h
>

51 
	~<°rög.h
>

52 
	~<sys/io˘l.h
>

53 
	~<sys/°©.h
>

54 
	~<sys/ty≥s.h
>

55 
	~<uni°d.h
>

58 
	~"moduÀs/iŸjs_moduÀ_i2c.h
"

61 
	#I2C_SLAVE_FORCE
 0x0706

	)

64 
	#I2C_WORKER_INIT_TEMPLATE
 \

65 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_i2c_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

66 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

	)

68 
	#IOTJS_I2C_METHOD_HEADER
(
¨g
) \

69 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
¨g
) \

70 
iŸjs_i2c_∂©f‹m_d©a_t
* 
∂©f‹m_d©a
 = 
_this
->∂©f‹m_d©a;

	)

72 
	siŸjs_i2c_∂©f‹m_d©a_s
 {

73 
iŸjs_°rög_t
 
	mdevi˚
;

74 
	mdevi˚_fd
;

75 
uöt8_t
 
	maddr
;

78 
	$i2c_¸óã_∂©f‹m_d©a
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
iŸjs_i2c_t
* 
i2c
,

79 
iŸjs_i2c_∂©f‹m_d©a_t
** 
µd©a
) {

80 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
	`IOTJS_ALLOC
(iotjs_i2c_platform_data_t);

82 
pd©a
->
devi˚
 = 
	`iŸjs_°rög_¸óã
("");

83 
	`DJHANDLER_CHECK_ARGS
(2, 
°rög
, 
fun˘i⁄
);

84 
iŸjs_°rög_t
 
devi˚
 = 
	`JHANDLER_GET_ARG
(0, 
°rög
);

85 
	`iŸjs_°rög_≠≥nd
(&
pd©a
->
devi˚
, 
	`iŸjs_°rög_d©a
(&device),

86 
	`iŸjs_°rög_size
(&
devi˚
));

87 
pd©a
->
devi˚_fd
 = -1;

88 *
µd©a
 = 
pd©a
;

89 
	}
}

91 
	$i2c_de°roy_∂©f‹m_d©a
(
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
) {

92 
	`iŸjs_°rög_de°roy
(&
pd©a
->
devi˚
);

93 
	`IOTJS_RELEASE
(
pd©a
);

94 
	}
}

96 
	$I2cSëAddªss
(
iŸjs_i2c_t
* 
i2c
, 
uöt8_t
 
addªss
) {

97 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

98 
∂©f‹m_d©a
->
addr
 = 
addªss
;

99 
	`io˘l
(
∂©f‹m_d©a
->
devi˚_fd
, 
I2C_SLAVE_FORCE
,Öœtf‹m_d©a->
addr
);

100 
	}
}

102 
	$O≥nW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

103 
I2C_WORKER_INIT_TEMPLATE
;

104 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

105 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

107 
∂©f‹m_d©a
->
devi˚_fd
 =

108 
	`›í
(
	`iŸjs_°rög_d©a
(&
∂©f‹m_d©a
->
devi˚
), 
O_RDWR
);

110 i‡(
∂©f‹m_d©a
->
devi˚_fd
 == -1) {

111 
ªq_d©a
->
îr‹
 = 
kI2cEºO≥n
;

113 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

115 
	}
}

117 
	$I2cClo£
(
iŸjs_i2c_t
* 
i2c
) {

118 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

120 i‡(
∂©f‹m_d©a
->
devi˚_fd
 >= 0) {

121 
	`˛o£
(
∂©f‹m_d©a
->
devi˚_fd
);

122 
∂©f‹m_d©a
->
devi˚_fd
 = -1;

124 
	}
}

126 
	$WrôeW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

127 
I2C_WORKER_INIT_TEMPLATE
;

128 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

129 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

131 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

132 * 
d©a
 = 
ªq_d©a
->
buf_d©a
;

134 i‡(
	`wrôe
(
∂©f‹m_d©a
->
devi˚_fd
, 
d©a
, 
Àn
) !=Üen) {

135 
ªq_d©a
->
îr‹
 = 
kI2cEºWrôe
;

138 i‡(
ªq_d©a
->
buf_d©a
 !
NULL
) {

139 
	`iŸjs_buf„r_ªÀa£
(
ªq_d©a
->
buf_d©a
);

141 
	}
}

143 
	$RódW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

144 
I2C_WORKER_INIT_TEMPLATE
;

145 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

146 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

148 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

149 
ªq_d©a
->
buf_d©a
 = 
	`iŸjs_buf„r_Æloˇã
(
Àn
);

151 i‡(
	`ªad
(
∂©f‹m_d©a
->
devi˚_fd
, 
ªq_d©a
->
buf_d©a
, 
Àn
) !=Üen) {

152 
ªq_d©a
->
îr‹
 = 
kI2cEºRód
;

154 
	}
}

	@src/platform/linux/iotjs_module_pwm-linux.c

16 #i‚de‡
IOTJS_MODULE_PWM_LINUX_GENERAL_INL_H


17 
	#IOTJS_MODULE_PWM_LINUX_GENERAL_INL_H


	)

20 
	~<m©h.h
>

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

25 
	~"iŸjs_sy°emio-löux.h
"

26 
	~"moduÀs/iŸjs_moduÀ_pwm.h
"

32 
	#PWM_INTERFACE
 "/sys/˛ass/pwm/pwmchù%d/"

	)

33 
	#PWM_PIN_INTERFACE
 "pwm%d/"

	)

34 
	#PWM_PIN_FORMAT
 
PWM_INTERFACE
 
PWM_PIN_INTERFACE


	)

35 
	#PWM_EXPORT
 
PWM_INTERFACE
 "exp‹t"

	)

36 
	#PWM_UNEXPORT
 
PWM_INTERFACE
 "u√xp‹t"

	)

37 
	#PWM_PIN_DUTYCYCLE
 "duty_cy˛e"

	)

38 
	#PWM_PIN_PERIOD
 "≥riod"

	)

39 
	#PWM_PIN_ENABlE
 "íabÀ"

	)

41 
	#PWM_PATH_BUFFER_SIZE
 64

	)

42 
	#PWM_VALUE_BUFFER_SIZE
 32

	)

50 * 
	$gíî©e_devi˚_sub∑th
(
iŸjs_°rög_t
* 
devi˚
,

51 c⁄° * 
fûeName
) {

52 * 
devi˚P©h
 = 
NULL
;

54 
size_t
 
¥efixSize
 = 
	`iŸjs_°rög_size
(
devi˚
);

55 i‡(
¥efixSize
 > 0) {

56 
size_t
 
suffixSize
 = 
fûeName
 ? 
	`°æí
(fileName) : 0;

57 
devi˚P©h
 = 
	`iŸjs_buf„r_Æloˇã
(
¥efixSize
 + 
suffixSize
 + 1);

58 i‡(
devi˚P©h
) {

60 
	`mem˝y
(
devi˚P©h
, 
	`iŸjs_°rög_d©a
(
devi˚
), 
¥efixSize
);

61 
	`mem˝y
(
devi˚P©h
 + 
¥efixSize
, 
fûeName
, 
suffixSize
);

62 
devi˚P©h
[
¥efixSize
 + 
suffixSize
] = 0;

65  
devi˚P©h
;

66 
	}
}

69 
	$adju°_≥riod
(
≥riod
) {

70 i‡(
≥riod
 < 0) {

72 } i‡(
≥riod
 > 1) {

75  
≥riod
;

77 
	}
}

80 
	$iŸjs_pwm_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

81 
PWM_WORKER_INIT
;

82 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

84 
∑th
[
PWM_PATH_BUFFER_SIZE
] = { 0 };

85 i‡(
	`¢¥ötf
(
∑th
, 
PWM_PATH_BUFFER_SIZE
, 
PWM_PIN_FORMAT
, 
_this
->
chù
,

86 
_this
->
pö
) < 0) {

87 
ªq_d©a
->
ªsu…
 = 
Ál£
;

91 
_this
->
devi˚
 = 
	`iŸjs_°rög_¸óã_wôh_size
(
∑th
, 
	`°æí
(path));

94 i‡(!
	`iŸjs_sy°emio_check_∑th
(
∑th
)) {

96 
exp‹t_∑th
[
PWM_PATH_BUFFER_SIZE
] = { 0 };

97 
	`¢¥ötf
(
exp‹t_∑th
, 
PWM_PATH_BUFFER_SIZE
, 
PWM_EXPORT
, 
_this
->
chù
);

99 c⁄° * 
¸óãd_fûes
[] = { 
PWM_PIN_DUTYCYCLE
, 
PWM_PIN_PERIOD
,

100 
PWM_PIN_ENABlE
 };

101 
¸óãd_fûes_Àngth
 = (
¸óãd_fûes
) / (created_files[0]);

102 i‡(!
	`iŸjs_sy°emio_devi˚_›í
(
exp‹t_∑th
, 
_this
->
pö
, 
∑th
,

103 
¸óãd_fûes
, 
¸óãd_fûes_Àngth
)) {

104 
ªq_d©a
->
ªsu…
 = 
Ál£
;

110 i‡(
_this
->
≥riod
 >= 0) {

111 i‡(!
	`iŸjs_pwm_£t_≥riod
(
pwm
)) {

112 
ªq_d©a
->
ªsu…
 = 
Ál£
;

115 i‡(
_this
->
duty_cy˛e
 >= 0) {

116 i‡(!
	`iŸjs_pwm_£t_dutycy˛e
(
pwm
)) {

117 
ªq_d©a
->
ªsu…
 = 
Ál£
;

123 
	`DDDLOG
("%†-Ö©h: %s", 
__func__
, 
∑th
);

125 
ªq_d©a
->
ªsu…
 = 
åue
;

126 
	}
}

129 
boﬁ
 
	$iŸjs_pwm_£t_≥riod
(
iŸjs_pwm_t
* 
pwm
) {

130 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

132 
boﬁ
 
ªsu…
 = 
Ál£
;

133 i‡(
	`isföôe
(
_this
->
≥riod
) && _this->period >= 0.0) {

134 * 
devi˚P©h
 = 
	`gíî©e_devi˚_sub∑th
(&
_this
->
devi˚
, 
PWM_PIN_PERIOD
);

135 i‡(
devi˚P©h
) {

137 
vÆue
 = ()(
	`adju°_≥riod
(
_this
->
≥riod
) * 1.E9);

138 
	`DDDLOG
("%†-Ö©h: %s, vÆue: %fs", 
__func__
, 
devi˚P©h
, 1.E-9 * 
vÆue
);

139 
buf
[
PWM_VALUE_BUFFER_SIZE
];

140 i‡(
	`¢¥ötf
(
buf
, (buf), "%d", 
vÆue
) > 0) {

141 
ªsu…
 = 
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
devi˚P©h
, 
buf
);

143 
	`iŸjs_buf„r_ªÀa£
(
devi˚P©h
);

146  
ªsu…
;

147 
	}
}

150 
boﬁ
 
	$iŸjs_pwm_£t_dutycy˛e
(
iŸjs_pwm_t
* 
pwm
) {

151 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

153 
boﬁ
 
ªsu…
 = 
Ál£
;

154 
dutyCy˛e
 = 
_this
->
duty_cy˛e
;

155 i‡(
	`isföôe
(
_this
->
≥riod
Ë&& _this->≥riod >0.0 && isföôe(
dutyCy˛e
) &&

156 0.0 <
dutyCy˛e
 && dutyCycle <= 1.0) {

157 * 
devi˚P©h
 =

158 
	`gíî©e_devi˚_sub∑th
(&
_this
->
devi˚
, 
PWM_PIN_DUTYCYCLE
);

159 i‡(
devi˚P©h
) {

160 
≥riod
 = 
	`adju°_≥riod
(
_this
->period);

162 
dutyCy˛eVÆue
 = ()(
≥riod
 * 
_this
->
duty_cy˛e
 * 1E9);

164 
	`DDDLOG
("%†-Ö©h: %s, vÆue: %d\n", 
__func__
, 
devi˚P©h
,

165 
dutyCy˛eVÆue
);

166 
buf
[
PWM_VALUE_BUFFER_SIZE
];

167 i‡(
	`¢¥ötf
(
buf
, (buf), "%d", 
dutyCy˛eVÆue
) < 0) {

168  
Ál£
;

171 
ªsu…
 = 
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
devi˚P©h
, 
buf
);

172 
	`iŸjs_buf„r_ªÀa£
(
devi˚P©h
);

175  
ªsu…
;

176 
	}
}

179 
boﬁ
 
	$iŸjs_pwm_£t_íabÀ
(
iŸjs_pwm_t
* 
pwm
) {

180 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

182 
boﬁ
 
ªsu…
 = 
Ál£
;

184 * 
devi˚P©h
 = 
	`gíî©e_devi˚_sub∑th
(&
_this
->
devi˚
, 
PWM_PIN_ENABlE
);

185 i‡(
devi˚P©h
) {

186 
vÆue
[4];

187 i‡(
	`¢¥ötf
(
vÆue
, (vÆue), "%d", 
_this
->
íabÀ
) < 0) {

188  
Ál£
;

191 
	`DDDLOG
("%†-Ö©h: %s, së: %d\n", 
__func__
, 
devi˚P©h
, 
_this
->
íabÀ
);

192 
buf
[
PWM_VALUE_BUFFER_SIZE
];

193 i‡(
	`¢¥ötf
(
buf
, (buf), "%d", 
_this
->
íabÀ
) < 0) {

194  
Ál£
;

197 
ªsu…
 = 
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
devi˚P©h
, 
buf
);

198 
	`iŸjs_buf„r_ªÀa£
(
devi˚P©h
);

200  
ªsu…
;

201 
	}
}

204 
boﬁ
 
	$iŸjs_pwm_˛o£
(
iŸjs_pwm_t
* 
pwm
) {

205 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

207 
∑th
[
PWM_PATH_BUFFER_SIZE
] = { 0 };

208 i‡(
	`¢¥ötf
(
∑th
, 
PWM_PATH_BUFFER_SIZE
, 
PWM_PIN_FORMAT
, 
_this
->
chù
,

209 
_this
->
pö
) < 0) {

210  
Ál£
;

213 i‡(
	`iŸjs_sy°emio_check_∑th
(
∑th
)) {

215 
u√xp‹t_∑th
[
PWM_PATH_BUFFER_SIZE
] = { 0 };

216 i‡(
	`¢¥ötf
(
u√xp‹t_∑th
, 
PWM_PATH_BUFFER_SIZE
, 
PWM_UNEXPORT
,

217 
_this
->
chù
) < 0) {

218  
Ál£
;

221 
	`iŸjs_sy°emio_devi˚_˛o£
(
u√xp‹t_∑th
, 
_this
->
pö
);

224 
	`DDDLOG
("%s-Ö©h: %s", 
__func__
, 
∑th
);

226  
åue
;

227 
	}
}

	@src/platform/linux/iotjs_module_spi-linux.c

16 #i‚de‡
IOTJS_MODULE_SPI_LINUX_GENERAL_INL_H


17 
	#IOTJS_MODULE_SPI_LINUX_GENERAL_INL_H


	)

20 
	~<uv.h
>

21 
	~<löux/•i/•idev.h
>

22 
	~<sys/io˘l.h
>

24 
	~"iŸjs_def.h
"

25 
	~"iŸjs_sy°emio-löux.h
"

26 
	~"moduÀs/iŸjs_moduÀ_buf„r.h
"

27 
	~"moduÀs/iŸjs_moduÀ_•i.h
"

29 
	#ADC_DEVICE_PATH_FORMAT
 "/dev/•idev%d.%d"

	)

30 
	#ADC_DEVICE_PATH_BUFFER_SIZE
 16

	)

33 
boﬁ
 
	$iŸjs_•i_£t_c⁄figuøti⁄
(
iŸjs_•i_t
* 
•i
) {

34 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

36 
fd
 = 
_this
->
devi˚_fd
;

37 i‡(
fd
 < 0) {

38  
Ál£
;

41 
uöt8_t
 
d©a
;

43 
_this
->
mode
) {

44 
kSpiMode_0
:

45 
d©a
 = 
SPI_MODE_0
;

47 
kSpiMode_1
:

48 
d©a
 = 
SPI_MODE_1
;

50 
kSpiMode_2
:

51 
d©a
 = 
SPI_MODE_2
;

53 
kSpiMode_3
:

54 
d©a
 = 
SPI_MODE_3
;

57 
d©a
 = 
SPI_MODE_0
;

59 i‡(
_this
->
lo›back
) {

60 
d©a
 |
SPI_LOOP
;

63 i‡(
_this
->
chù_£À˘
 =
kSpiCsHigh
) {

64 
d©a
 |
SPI_CS_HIGH
;

67 i‡(
	`io˘l
(
fd
, 
SPI_IOC_WR_MODE
, &
_this
->
mode
) < 0) {

68  
Ál£
;

72 i‡(
_this
->
bô_‹dî
 =
kSpiOrdîLsb
) {

73 
d©a
 = 1;

74 i‡(
	`io˘l
(
fd
, 
SPI_IOC_WR_LSB_FIRST
, &
d©a
) < 0) {

75  
Ál£
;

79 i‡(
	`io˘l
(
fd
, 
SPI_IOC_WR_BITS_PER_WORD
, &
_this
->
bôs_≥r_w‹d
) < 0) {

80  
Ál£
;

83 i‡(
	`io˘l
(
fd
, 
SPI_IOC_WR_MAX_SPEED_HZ
, &
_this
->
max_•ìd
) < 0) {

84  
Ál£
;

87 
	`DDDLOG
(

90 
_this
->
mode
, _this->
chù_£À˘
, _this->
bô_‹dî
, _this->
max_•ìd
,

91 
_this
->
bôs_≥r_w‹d
, _this->
lo›back
);

93  
åue
;

94 
	}
}

97 
boﬁ
 
	$iŸjs_•i_å™s„r
(
iŸjs_•i_t
* 
•i
) {

98 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

100 
•i_ioc_å™s„r
 
d©a
 = {.
tx_buf
 = ()
_this
->
tx_buf_d©a
,

101 .
rx_buf
 = ()
_this
->
rx_buf_d©a
,

102 .
Àn
 = 
_this
->
buf_Àn
,

103 .
•ìd_hz
 = 
_this
->
max_•ìd
,

104 .
bôs_≥r_w‹d
 = 
_this
->bits_per_word,

105 .
dñay_u£cs
 = 0 };

108 
îr
 = 
	`io˘l
(
_this
->
devi˚_fd
, 
	`SPI_IOC_MESSAGE
(1), &
d©a
);

109 i‡(
îr
 < 1) {

110 
	`DLOG
("%†-Åøns„∏Áûed: %d", 
__func__
, 
îr
);

111  
Ál£
;

114  
åue
;

115 
	}
}

118 
boﬁ
 
	$iŸjs_•i_˛o£
(
iŸjs_•i_t
* 
•i
) {

119 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

121 i‡(
_this
->
devi˚_fd
 >= 0) {

122 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

123 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
ív
);

124 
uv_fs_t
 
fs_˛o£_ªq
;

126 
îr
 = 
	`uv_fs_˛o£
(
lo›
, &
fs_˛o£_ªq
, 
_this
->
devi˚_fd
, 
NULL
);

127 
	`uv_fs_ªq_˛ónup
(&
fs_˛o£_ªq
);

128 i‡(
îr
 < 0) {

129 
	`DLOG
("%†- clo£ faûed: %d", 
__func__
, 
îr
);

130  
Ál£
;

132 
_this
->
devi˚_fd
 = -1;

135  
åue
;

136 
	}
}

139 
	$iŸjs_•i_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

140 
SPI_WORKER_INIT
;

141 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

143 c⁄° * 
devi˚_∑th
 = 
	`iŸjs_°rög_d©a
(&
_this
->
devi˚
);

144 i‡(
	`iŸjs_sy°emio_check_∑th
(
devi˚_∑th
)) {

146 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

147 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
ív
);

149 
uv_fs_t
 
›í_ªq
;

150 
ªsu…
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq
, 
devi˚_∑th
, 
O_RDONLY
, 0666, 
NULL
);

151 
	`uv_fs_ªq_˛ónup
(&
›í_ªq
);

152 i‡(
ªsu…
 < 0) {

153 
ªq_d©a
->
ªsu…
 = 
Ál£
;

155 
_this
->
devi˚_fd
 = 
›í_ªq
.
ªsu…
;

158 i‡(!
	`iŸjs_•i_£t_c⁄figuøti⁄
(
•i
)) {

159 
ªq_d©a
->
ªsu…
 = 
Ál£
;

162 
ªq_d©a
->
ªsu…
 = 
åue
;

164 
ªq_d©a
->
ªsu…
 = 
Ál£
;

166 
	}
}

	@src/platform/linux/iotjs_module_uart-linux.c

17 #i‚de‡
IOTJS_MODULE_UART_LINUX_GENERAL_INL_H


18 
	#IOTJS_MODULE_UART_LINUX_GENERAL_INL_H


	)

20 
	~<î∫o.h
>

21 
	~<f˙é.h
>

22 
	~<ãrmios.h
>

23 
	~<uni°d.h
>

25 
	~"moduÀs/iŸjs_moduÀ_u¨t.h
"

27 
	$baud_to_c⁄°™t
(
baudR©e
) {

28 
baudR©e
) {

30  
B0
;

32  
B50
;

34  
B75
;

36  
B110
;

38  
B134
;

40  
B150
;

42  
B200
;

44  
B300
;

46  
B600
;

48  
B1200
;

50  
B1800
;

52  
B2400
;

54  
B4800
;

56  
B9600
;

58  
B19200
;

60  
B38400
;

62  
B57600
;

64  
B115200
;

66  
B230400
;

69 
	}
}

72 
	$d©abôs_to_c⁄°™t
(
d©aBôs
) {

73 
d©aBôs
) {

75  
CS8
;

77  
CS7
;

79  
CS6
;

81  
CS5
;

84 
	}
}

87 
	$iŸjs_u¨t_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

88 
UART_WORKER_INIT
;

89 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

91 
fd
 = 
	`›í
(
	`iŸjs_°rög_d©a
(&
_this
->
devi˚_∑th
),

92 
O_RDWR
 | 
O_NOCTTY
 | 
O_NDELAY
);

93 i‡(
fd
 < 0) {

94 
ªq_d©a
->
ªsu…
 = 
Ál£
;

98 
ãrmios
 
›ti⁄s
;

99 
	`tcgë©å
(
fd
, &
›ti⁄s
);

100 
›ti⁄s
.
c_cÊag
 = 
CLOCAL
 | 
CREAD
;

101 
›ti⁄s
.
c_cÊag
 |(
tcÊag_t
)
	`baud_to_c⁄°™t
(
_this
->
baud_øã
);

102 
›ti⁄s
.
c_cÊag
 |(
tcÊag_t
)
	`d©abôs_to_c⁄°™t
(
_this
->
d©a_bôs
);

103 
›ti⁄s
.
c_iÊag
 = 
IGNPAR
;

104 
›ti⁄s
.
c_oÊag
 = 0;

105 
›ti⁄s
.
c_lÊag
 = 0;

106 
	`tcÊush
(
fd
, 
TCIFLUSH
);

107 
	`tc£èâr
(
fd
, 
TCSANOW
, &
›ti⁄s
);

109 
_this
->
devi˚_fd
 = 
fd
;

110 
uv_pﬁl_t
* 
pﬁl_h™dÀ
 = &
_this
->poll_handle;

112 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
());

113 
	`uv_pﬁl_öô
(
lo›
, 
pﬁl_h™dÀ
, 
fd
);

114 
pﬁl_h™dÀ
->
d©a
 = 
u¨t
;

115 
	`uv_pﬁl_°¨t
(
pﬁl_h™dÀ
, 
UV_READABLE
, 
iŸjs_u¨t_ªad_cb
);

117 
ªq_d©a
->
ªsu…
 = 
åue
;

118 
	}
}

121 
boﬁ
 
	$iŸjs_u¨t_wrôe
(
iŸjs_u¨t_t
* 
u¨t
) {

122 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

123 
byãsWrôãn
 = 0;

124 
off£t
 = 0;

125 
fd
 = 
_this
->
devi˚_fd
;

126 c⁄° * 
buf_d©a
 = 
	`iŸjs_°rög_d©a
(&
_this
->buf_data);

128 
	`DDDLOG
("%†- d©a: %s", 
__func__
, 
buf_d©a
);

131 
î∫o
 = 0;

132 
byãsWrôãn
 = 
	`wrôe
(
fd
, 
buf_d©a
 + 
off£t
, 
_this
->
buf_Àn
 - offset);

133 
	`tcdøö
(
fd
);

135 
	`DDDLOG
("%†- size: %d", 
__func__
, 
_this
->
buf_Àn
 - 
off£t
);

137 i‡(
byãsWrôãn
 != -1) {

138 
off£t
 +()
byãsWrôãn
;

142 i‡(
î∫o
 =
EINTR
) {

146  
Ál£
;

148 } 
_this
->
buf_Àn
 > 
off£t
);

150  
åue
;

151 
	}
}

	@src/platform/linux/iotjs_systemio-linux.c

17 
	~<uv.h
>

18 
	~<uni°d.h
>

20 
	~"iŸjs_sy°emio-löux.h
"

24 
boﬁ
 
	$iŸjs_sy°emio_check_∑th
(c⁄° * 
∑th
) {

25 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

27 
	`DDDLOG
("%†-Ö©h: %s", 
__func__
, 
∑th
);

30 
uv_fs_t
 
fs_ªq
;

31 
îr
 = 
	`uv_fs_°©
(
	`iŸjs_ívú⁄mít_lo›
(
ív
), &
fs_ªq
, 
∑th
, 
NULL
);

32 
	`uv_fs_ªq_˛ónup
(&
fs_ªq
);

35 i‡(
îr
 || 
fs_ªq
.
ªsu…
) {

36  
Ál£
;

39 
	`DDDLOG
("%†-Ö©hÉxi°", 
__func__
);

41  
åue
;

42 
	}
}

45 
boﬁ
 
	$iŸjs_sy°emio_›í_wrôe_˛o£
(c⁄° * 
∑th
, c⁄° * 
vÆue
) {

46 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

47 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
ív
);

49 
	`DDDLOG
("%†-Ö©h %s, vÆue: %s", 
__func__
, 
∑th
, 
vÆue
);

52 
uv_fs_t
 
fs_ªq
;

53 
fd
 = 
	`uv_fs_›í
(
lo›
, &
fs_ªq
, 
∑th
, 
O_WRONLY
, 0666, 
NULL
);

54 
	`uv_fs_ªq_˛ónup
(&
fs_ªq
);

55 i‡(
fd
 < 0) {

56 
	`DLOG
("%†- o≥¿%†Áûed: %d", 
__func__
, 
∑th
, 
fd
);

57  
Ál£
;

62 
uv_buf_t
 
uvbuf
 = 
	`uv_buf_öô
((*)
vÆue
, 
	`°æí
(value));

63 
wrôe_îr
 = 
	`uv_fs_wrôe
(
lo›
, &
fs_ªq
, 
fd
, &
uvbuf
, 1, 0, 
NULL
);

64 
	`uv_fs_ªq_˛ónup
(&
fs_ªq
);

67 
˛o£_îr
 = 
	`uv_fs_˛o£
(
lo›
, &
fs_ªq
, 
fd
, 
NULL
);

68 
	`uv_fs_ªq_˛ónup
(&
fs_ªq
);

70 i‡(
wrôe_îr
 < 0) {

71 
	`DLOG
("%†- wrôê%†%†Áûed: %d", 
__func__
, 
∑th
, 
vÆue
, 
wrôe_îr
);

72  
Ál£
;

75 i‡(
˛o£_îr
 < 0) {

76 
	`DLOG
("%†- clo£ faûed: %d", 
__func__
, 
˛o£_îr
);

77  
Ál£
;

80  
åue
;

81 
	}
}

84 
boﬁ
 
	$iŸjs_sy°emio_›í_ªad_˛o£
(c⁄° * 
∑th
, * 
buf„r
,

85 
buf„r_Àn
) {

86 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

87 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
ív
);

89 
	`DDDLOG
("%†-Ö©h %s", 
__func__
, 
∑th
);

92 
uv_fs_t
 
fs_›í_ªq
;

93 
fd
 = 
	`uv_fs_›í
(
lo›
, &
fs_›í_ªq
, 
∑th
, 
O_RDONLY
, 0666, 
NULL
);

94 
	`uv_fs_ªq_˛ónup
(&
fs_›í_ªq
);

95 i‡(
fd
 < 0) {

96 
	`DLOG
("%†- o≥¿%†Áûed: %d", 
__func__
, 
∑th
, 
fd
);

97  
Ál£
;

101 
uv_fs_t
 
fs_wrôe_ªq
;

102 
uv_buf_t
 
uvbuf
 = 
	`uv_buf_öô
(
buf„r
, 
buf„r_Àn
);

103 
îr
 = 
	`uv_fs_ªad
(
lo›
, &
fs_wrôe_ªq
, 
fd
, &
uvbuf
, 1, 0, 
NULL
);

104 
	`uv_fs_ªq_˛ónup
(&
fs_wrôe_ªq
);

105 i‡(
îr
 < 0) {

106 
	`DLOG
("%†-Ñód faûed: %d", 
__func__
, 
îr
);

107  
Ál£
;

110 
	`DDDLOG
("%†-Ñód vÆue: %s", 
__func__
, 
buf„r
);

113 
uv_fs_t
 
fs_˛o£_ªq
;

114 
îr
 = 
	`uv_fs_˛o£
(
lo›
, &
fs_˛o£_ªq
, 
fd
, 
NULL
);

115 
	`uv_fs_ªq_˛ónup
(&
fs_˛o£_ªq
);

116 i‡(
îr
 < 0) {

117 
	`DLOG
("%†- clo£ faûed: %d", 
__func__
, 
îr
);

118  
Ál£
;

121  
åue
;

122 
	}
}

126 
boﬁ
 
	$iŸjs_sy°emio_devi˚_›í
(c⁄° * 
exp‹t_∑th
, 
uöt32_t
 
vÆue
,

127 c⁄° * 
exp‹ãd_∑th
,

128 c⁄° ** 
¸óãd_fûes
,

129 
¸óãd_fûes_Àngth
) {

131 i‡(
	`iŸjs_sy°emio_check_∑th
(
exp‹ãd_∑th
)) {

132  
åue
;

135 
	`DDDLOG
("%†-Ö©h: %s", 
__func__
, 
exp‹t_∑th
);

138 
buff
[
DEVICE_IO_PIN_BUFFER_SIZE
] = { 0 };

139 
	`¢¥ötf
(
buff
, 
DEVICE_IO_PIN_BUFFER_SIZE
 - 1, "%d", 
vÆue
);

141 i‡(!
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
exp‹t_∑th
, 
buff
)) {

142  
Ál£
;

146 
cou¡
 = 0;

147 
cou¡_limô
 = 
¸óãd_fûes_Àngth
 * 10;

148 
buf„r
[
DEVICE_IO_PIN_BUFFER_SIZE
];

149 
∑th
[
DEVICE_IO_PATH_BUFFER_SIZE
] = { 0 };

150 
check_f‹m©
[
DEVICE_IO_PATH_BUFFER_SIZE
] = { 0 };

152 !
	`iŸjs_sy°emio_check_∑th
(
exp‹ãd_∑th
Ë&& 
cou¡
 < 
cou¡_limô
) {

153 
	`u¶ìp
(100 * 1000);

154 
cou¡
++;

157 
	`°rˇt
(
check_f‹m©
, 
exp‹ãd_∑th
);

158 
	`°rˇt
(
check_f‹m©
, "%s");

160 
i
 = 0; i < 
¸óãd_fûes_Àngth
; i++) {

161 
	`¢¥ötf
(
∑th
, 
DEVICE_IO_PATH_BUFFER_SIZE
 - 1, 
check_f‹m©
,

162 
¸óãd_fûes
[
i
]);

164 
	`DDDLOG
("%†- cª©ed fûe: %s", 
__func__
, 
∑th
);

166 !
	`iŸjs_sy°emio_›í_ªad_˛o£
(
∑th
, 
buf„r
,

167 
DEVICE_IO_PIN_BUFFER_SIZE
) &&

168 
cou¡
 < 
cou¡_limô
) {

169 
	`u¶ìp
(100 * 1000);

170 
cou¡
++;

174 
	`u¶ìp
(1000 * 100);

176  
cou¡
 < 
cou¡_limô
;

177 
	}
}

181 
boﬁ
 
	$iŸjs_sy°emio_devi˚_˛o£
(c⁄° * 
exp‹t_∑th
, 
uöt32_t
 
vÆue
) {

182 
	`DDDLOG
("%†-Ö©h: %s", 
__func__
, 
exp‹t_∑th
);

184 
buff
[
DEVICE_IO_PIN_BUFFER_SIZE
];

185 
	`¢¥ötf
(
buff
, 
DEVICE_IO_PIN_BUFFER_SIZE
 - 1, "%d", 
vÆue
);

187 i‡(!
	`iŸjs_sy°emio_›í_wrôe_˛o£
(
exp‹t_∑th
, 
buff
)) {

188  
Ál£
;

191  
åue
;

192 
	}
}

	@src/platform/linux/iotjs_systemio-linux.h

16 #i‚de‡
IOTJS_DEVICE_IO_LINUX_GENERAL_H


17 
	#IOTJS_DEVICE_IO_LINUX_GENERAL_H


	)

19 
	~"iŸjs_def.h
"

21 
	#DEVICE_IO_PATH_BUFFER_SIZE
 64

	)

22 
	#DEVICE_IO_PIN_BUFFER_SIZE
 10

	)

25 
boﬁ
 
iŸjs_sy°emio_check_∑th
(c⁄° * 
∑th
);

27 
boﬁ
 
iŸjs_sy°emio_›í_wrôe_˛o£
(c⁄° * 
∑th
, c⁄° * 
vÆue
);

29 
boﬁ
 
iŸjs_sy°emio_›í_ªad_˛o£
(c⁄° * 
∑th
, * 
buf„r
,

30 
buf„r_Àn
);

32 
boﬁ
 
iŸjs_sy°emio_devi˚_›í
(c⁄° * 
exp‹t_∑th
, 
uöt32_t
 
vÆue
,

33 c⁄° * 
exp‹ãd_∑th
,

34 c⁄° ** 
¸óãd_fûes
,

35 
¸óãd_fûes_Àngth
);

37 
boﬁ
 
iŸjs_sy°emio_devi˚_˛o£
(c⁄° * 
exp‹t_∑th
, 
uöt32_t
 
vÆue
);

	@src/platform/nuttx/iotjs_module_adc-nuttx.c

16 #i‡
deföed
(
__NUTTX__
)

19 
	~<uv.h
>

20 
	~<nuâx/™Æog/adc.h
>

21 
	~<°dlib.h
>

23 
	~"iŸjs_def.h
"

24 
	~"iŸjs_sy°emio-nuâx.h
"

25 
	~"moduÀs/iŸjs_moduÀ_adc.h
"

26 
	~"moduÀs/iŸjs_moduÀ_°m32f4dis.h
"

29 
	#ADC_DEVICE_PATH_FORMAT
 "/dev/adc%d"

	)

30 
	#ADC_DEVICE_PATH_BUFFER_SIZE
 12

	)

33 
	$iŸjs_adc_gë_∑th
(* 
buf„r
, 
öt32_t
 
numbî
) {

35 
	`¢¥ötf
(
buf„r
, 
ADC_DEVICE_PATH_BUFFER_SIZE
 - 1, 
ADC_DEVICE_PATH_FORMAT
,

36 
numbî
);

37 
	}
}

40 
boﬁ
 
	$iŸjs_adc_ªad_d©a
(
uöt32_t
 
pö
, 
adc_msg_s
* 
msg
) {

41 
öt32_t
 
adc_numbî
 = 
	`ADC_GET_NUMBER
(
pö
);

42 
∑th
[
ADC_DEVICE_PATH_BUFFER_SIZE
] = { 0 };

43 
	`iŸjs_adc_gë_∑th
(
∑th
, 
adc_numbî
);

45 c⁄° 
iŸjs_ívú⁄mít_t
* 
ív
 = 
	`iŸjs_ívú⁄mít_gë
();

46 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
ív
);

47 
ªsu…
, 
˛o£_ªsu…
;

50 
uv_fs_t
 
›í_ªq
;

51 
ªsu…
 = 
	`uv_fs_›í
(
lo›
, &
›í_ªq
, 
∑th
, 
O_RDONLY
, 0666, 
NULL
);

52 
	`uv_fs_ªq_˛ónup
(&
›í_ªq
);

53 i‡(
ªsu…
 < 0) {

54  
Ál£
;

58 
uv_fs_t
 
ªad_ªq
;

59 
uv_buf_t
 
uvbuf
 = 
	`uv_buf_öô
((*)
msg
, (*msg));

60 
ªsu…
 = 
	`uv_fs_ªad
(
lo›
, &
ªad_ªq
, 
›í_ªq
.ªsu…, &
uvbuf
, 1, 0, 
NULL
);

61 
	`uv_fs_ªq_˛ónup
(&
ªad_ªq
);

64 
uv_fs_t
 
˛o£_ªq
;

65 
˛o£_ªsu…
 = 
	`uv_fs_˛o£
(
lo›
, &
˛o£_ªq
, 
›í_ªq
.
ªsu…
, 
NULL
);

66 
	`uv_fs_ªq_˛ónup
(&
˛o£_ªq
);

67 i‡(
ªsu…
 < 0 || 
˛o£_ªsu…
 < 0) {

68  
Ál£
;

71 
	`DDDLOG
("ADC Ród -Ö©h: %s, vÆue: %d", 
∑th
, 
msg
->
am_d©a
);

73  
åue
;

74 
	}
}

77 
öt32_t
 
	$iŸjs_adc_ªad
(
iŸjs_adc_t
* 
adc
) {

78 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

80 
adc_msg_s
 
msg
;

82 i‡(!
	`iŸjs_adc_ªad_d©a
(
_this
->
pö
, &
msg
)) {

86  
msg
.
am_d©a
;

87 
	}
}

90 
boﬁ
 
	$iŸjs_adc_˛o£
(
iŸjs_adc_t
* 
adc
) {

91 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

93 
uöt32_t
 
pö
 = 
_this
->pin;

94 
öt32_t
 
adc_numbî
 = 
	`ADC_GET_NUMBER
(
pö
);

96 
∑th
[
ADC_DEVICE_PATH_BUFFER_SIZE
] = { 0 };

97 
	`iŸjs_adc_gë_∑th
(
∑th
, 
adc_numbî
);

100 i‡(
	`uƒegi°î_drivî
(
∑th
) < 0) {

101  
Ál£
;

104 
	`iŸjs_gpio_unc⁄fig_nuâx
(
pö
);

106  
åue
;

107 
	}
}

110 
	$iŸjs_adc_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

111 
ADC_WORKER_INIT
;

112 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

114 
uöt32_t
 
pö
 = 
_this
->pin;

115 
öt32_t
 
adc_numbî
 = 
	`ADC_GET_NUMBER
(
pö
);

116 
öt32_t
 
timî
 = 
	`SYSIO_GET_TIMER
(
pö
);

117 
adc_dev_s
* 
adc_dev
 = 
	`iŸjs_adc_c⁄fig_nuâx
(
adc_numbî
, 
timî
, 
pö
);

119 
∑th
[
ADC_DEVICE_PATH_BUFFER_SIZE
] = { 0 };

120 
	`iŸjs_adc_gë_∑th
(
∑th
, 
adc_numbî
);

122 i‡(
	`adc_ªgi°î
(
∑th
, 
adc_dev
) != 0) {

123 
ªq_d©a
->
ªsu…
 = 
Ál£
;

127 
	`DDDLOG
("%†-Ö©h: %s,Çumbî: %d,Åimî: %d", 
__func__
, 
∑th
, 
adc_numbî
,

128 
timî
);

130 
ªq_d©a
->
ªsu…
 = 
åue
;

131 
	}
}

	@src/platform/nuttx/iotjs_module_blehcisocket-nuttx.c

16 #i‚de‡
IOTJS_MODULE_BLE_HCI_SOCKET_LINUX_GENERAL_INL_H


17 
	#IOTJS_MODULE_BLE_HCI_SOCKET_LINUX_GENERAL_INL_H


	)

20 
	~"iŸjs_def.h
"

21 
	~"moduÀs/iŸjs_moduÀ_bÀhcisockë.h
"

23 
	#THIS
 
iŸjs_bÀhcisockë_t
* 
bÀhcisockë


	)

26 
	$iŸjs_bÀhcisockë_öôülize
(
THIS
) {

27 
	`IOTJS_ASSERT
(!"Not implemented");

28 
	}
}

31 
	$iŸjs_bÀhcisockë_˛o£
(
THIS
) {

32 
	`IOTJS_ASSERT
(!"Not implemented");

33 
	}
}

36 
	$iŸjs_bÀhcisockë_°¨t
(
THIS
) {

37 
	`IOTJS_ASSERT
(!"Not implemented");

38 
	}
}

41 
	$iŸjs_bÀhcisockë_bödRaw
(
THIS
, * 
devId
) {

42 
	`IOTJS_ASSERT
(!"Not implemented");

44 
	}
}

47 
	$iŸjs_bÀhcisockë_bödU£r
(
THIS
, * 
devId
) {

48 
	`IOTJS_ASSERT
(!"Not implemented");

50 
	}
}

53 
	$iŸjs_bÀhcisockë_bödC⁄åﬁ
(
THIS
) {

54 
	`IOTJS_ASSERT
(!"Not implemented");

55 
	}
}

58 
boﬁ
 
	$iŸjs_bÀhcisockë_isDevUp
(
THIS
) {

59 
	`IOTJS_ASSERT
(!"Not implemented");

60  
Ál£
;

61 
	}
}

64 
	$iŸjs_bÀhcisockë_£tFûãr
(
THIS
, * 
d©a
, 
size_t
 
Àngth
) {

65 
	`IOTJS_ASSERT
(!"Not implemented");

66 
	}
}

69 
	$iŸjs_bÀhcisockë_pﬁl
(
THIS
) {

70 
	`IOTJS_ASSERT
(!"Not implemented");

71 
	}
}

74 
	$iŸjs_bÀhcisockë_°›
(
THIS
) {

75 
	`IOTJS_ASSERT
(!"Not implemented");

76 
	}
}

79 
	$iŸjs_bÀhcisockë_wrôe
(
THIS
, * 
d©a
, 
size_t
 
Àngth
) {

80 
	`IOTJS_ASSERT
(!"Not implemented");

81 
	}
}

84 
	$iŸjs_bÀhcisockë_emôEºnoEº‹
(
THIS
) {

85 
	`IOTJS_ASSERT
(!"Not implemented");

86 
	}
}

89 
	$iŸjs_bÀhcisockë_devIdF‹
(
THIS
, * 
pDevId
, 
boﬁ
 
isUp
) {

90 
	`IOTJS_ASSERT
(!"Not implemented");

92 
	}
}

95 
	$iŸjs_bÀhcisockë_kî√lDisc⁄√˘W‹kArounds
(
THIS
, 
Àngth
,

96 * 
d©a
) {

97 
	`IOTJS_ASSERT
(!"Not implemented");

99 
	}
}

102 #unde‡
THIS


	@src/platform/nuttx/iotjs_module_i2c-nuttx.c

16 #i‡!
deföed
(
__NUTTX__
)

20 
	~<nuâx/i2c/i2c_ma°î.h
>

22 
	~"iŸjs_sy°emio-nuâx.h
"

24 
	~"moduÀs/iŸjs_moduÀ_i2c.h
"

27 
	#I2C_DEFAULT_FREQUENCY
 400000

	)

29 
	siŸjs_i2c_∂©f‹m_d©a_s
 {

30 
	mdevi˚
;

31 
i2c_ma°î_s
* 
	mi2c_ma°î
;

32 
i2c_c⁄fig_s
 
	mc⁄fig
;

35 
	$i2c_¸óã_∂©f‹m_d©a
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
iŸjs_i2c_t
* 
i2c
,

36 
iŸjs_i2c_∂©f‹m_d©a_t
** 
µd©a
) {

37 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
	`IOTJS_ALLOC
(iotjs_i2c_platform_data_t);

39 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
, 
fun˘i⁄
);

40 
pd©a
->
devi˚
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

41 
pd©a
->
i2c_ma°î
 = 
NULL
;

42 *
µd©a
 = 
pd©a
;

43 
	}
}

45 
	$i2c_de°roy_∂©f‹m_d©a
(
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
) {

46 
	`IOTJS_RELEASE
(
pd©a
);

47 
	}
}

49 
	#I2C_WORKER_INIT_TEMPLATE
 \

50 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_i2c_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

51 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

	)

53 
	#IOTJS_I2C_METHOD_HEADER
(
¨g
) \

54 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
¨g
) \

55 
iŸjs_i2c_∂©f‹m_d©a_t
* 
∂©f‹m_d©a
 = 
_this
->∂©f‹m_d©a;

	)

58 
	$I2cSëAddªss
(
iŸjs_i2c_t
* 
i2c
, 
uöt8_t
 
addªss
) {

59 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

60 
∂©f‹m_d©a
->
c⁄fig
.
addªss
 =áddress;

61 
∂©f‹m_d©a
->
c⁄fig
.
addæí
 = 7;

62 
	}
}

64 
	$O≥nW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

65 
I2C_WORKER_INIT_TEMPLATE
;

66 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

68 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

69 
∂©f‹m_d©a
->
i2c_ma°î
 = 
	`iŸjs_i2c_c⁄fig_nuâx
’œtf‹m_d©a->
devi˚
);

70 i‡(!
∂©f‹m_d©a
->
i2c_ma°î
) {

71 
	`DLOG
("I2C OpenWorker : cannot open");

72 
ªq_d©a
->
îr‹
 = 
kI2cEºO≥n
;

76 
∂©f‹m_d©a
->
c⁄fig
.
‰equícy
 = 
I2C_DEFAULT_FREQUENCY
;

78 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

79 
	}
}

81 
	$I2cClo£
(
iŸjs_i2c_t
* 
i2c
) {

82 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

83 
	`iŸjs_i2c_unc⁄fig_nuâx
(
∂©f‹m_d©a
->
i2c_ma°î
);

84 
	}
}

86 
	$WrôeW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

87 
I2C_WORKER_INIT_TEMPLATE
;

88 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

89 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

91 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

92 
uöt8_t
* 
d©a
 = (uöt8_t*)
ªq_d©a
->
buf_d©a
;

94 
	`IOTJS_ASSERT
(
∂©f‹m_d©a
->
i2c_ma°î
);

95 
	`IOTJS_ASSERT
(
Àn
 > 0);

97 
ªt
 =

98 
	`i2c_wrôe
(
∂©f‹m_d©a
->
i2c_ma°î
, &∂©f‹m_d©a->
c⁄fig
, 
d©a
, 
Àn
);

99 i‡(
ªt
 < 0) {

100 
	`DLOG
("I2C WrôeW‹kî : c™nŸ wrôê- %d", 
ªt
);

101 
ªq_d©a
->
îr‹
 = 
kI2cEºWrôe
;

103 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

106 i‡(
ªq_d©a
->
buf_d©a
 !
NULL
) {

107 
	`iŸjs_buf„r_ªÀa£
(
ªq_d©a
->
buf_d©a
);

109 
	}
}

111 
	$RódW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

112 
I2C_WORKER_INIT_TEMPLATE
;

113 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

114 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

116 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

117 
ªq_d©a
->
buf_d©a
 = 
	`iŸjs_buf„r_Æloˇã
(
Àn
);

119 
	`IOTJS_ASSERT
(
∂©f‹m_d©a
->
i2c_ma°î
);

120 
	`IOTJS_ASSERT
(
Àn
 > 0);

122 
ªt
 = 
	`i2c_ªad
(
∂©f‹m_d©a
->
i2c_ma°î
, &∂©f‹m_d©a->
c⁄fig
,

123 (
uöt8_t
*)
ªq_d©a
->
buf_d©a
, 
Àn
);

124 i‡(
ªt
 != 0) {

125 
	`DLOG
("I2C RódW‹kî : c™nŸÑód - %d", 
ªt
);

126 
ªq_d©a
->
îr‹
 = 
kI2cEºRód
;

129 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

130 
	}
}

	@src/platform/nuttx/iotjs_module_pwm-nuttx.c

16 #i‡
deföed
(
__NUTTX__
)

19 
	~<nuâx/drivîs/pwm.h
>

20 
	~<°dlib.h
>

21 
	~<sys/io˘l.h
>

23 
	~"iŸjs_def.h
"

24 
	~"iŸjs_sy°emio-nuâx.h
"

25 
	~"moduÀs/iŸjs_moduÀ_pwm.h
"

28 
	#PWM_DEVICE_PATH_FORMAT
 "/dev/pwm%d"

	)

29 
	#PWM_DEVICE_PATH_BUFFER_SIZE
 12

	)

32 
boﬁ
 
	$iŸjs_pwm_£t_›ti⁄s
(
iŸjs_pwm_t
* 
pwm
) {

33 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

35 
fd
 = 
_this
->
devi˚_fd
;

36 i‡(
fd
 < 0) {

37 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

38  
Ál£
;

41 
pwm_öfo_s
 
öfo
;

44 i‡(
_this
->
≥riod
 < 2.33E-10)

45 
_this
->
≥riod
 = 2.33E-10;

46 
öfo
.
‰equícy
 = (
uöt32_t
)(1.0 / 
_this
->
≥riod
);

48 
duty_vÆue
 = 
_this
->
duty_cy˛e
 * (1 << 16);

49 i‡(
duty_vÆue
 > 0xffff)

50 
duty_vÆue
 = 0xffff;

51 i‡(
duty_vÆue
 < 1)

52 
duty_vÆue
 = 1;

53 
öfo
.
duty
 = (
ub16_t
)
duty_vÆue
;

55 
	`DDDLOG
("%†- fªquícy: %d, duty: %d", 
__func__
, 
öfo
.
‰equícy
, info.
duty
);

58 i‡(
	`io˘l
(
fd
, 
PWMIOC_SETCHARACTERISTICS
, ()((
uöçå_t
)&
öfo
)) <

60  
Ál£
;

63  
åue
;

64 
	}
}

67 
	$iŸjs_pwm_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

68 
PWM_WORKER_INIT
;

69 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

71 
timî
 = 
	`SYSIO_GET_TIMER
(
_this
->
pö
);

72 
∑th
[
PWM_DEVICE_PATH_BUFFER_SIZE
] = { 0 };

74 i‡(
	`¢¥ötf
(
∑th
, 
PWM_DEVICE_PATH_BUFFER_SIZE
, 
PWM_DEVICE_PATH_FORMAT
,

75 
timî
) < 0) {

76 
ªq_d©a
->
ªsu…
 = 
Ál£
;

80 
pwm_lowîhÆf_s
* 
pwm_lowîhÆf
 =

81 
	`iŸjs_pwm_c⁄fig_nuâx
(
timî
, 
_this
->
pö
);

83 
	`DDDLOG
("%†-Ö©h: %s,Åimî: %d\n", 
__func__
, 
∑th
, 
timî
);

85 i‡(
	`pwm_ªgi°î
(
∑th
, 
pwm_lowîhÆf
) != 0) {

86 
ªq_d©a
->
ªsu…
 = 
Ál£
;

91 
_this
->
devi˚_fd
 = 
	`›í
(
∑th
, 
O_RDONLY
);

92 i‡(
_this
->
devi˚_fd
 < 0) {

93 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

94 
ªq_d©a
->
ªsu…
 = 
Ál£
;

98 i‡(!
	`iŸjs_pwm_£t_›ti⁄s
(
pwm
)) {

99 
ªq_d©a
->
ªsu…
 = 
Ál£
;

103 
ªq_d©a
->
ªsu…
 = 
åue
;

104 
	}
}

107 
boﬁ
 
	$iŸjs_pwm_£t_≥riod
(
iŸjs_pwm_t
* 
pwm
) {

108  
	`iŸjs_pwm_£t_›ti⁄s
(
pwm
);

109 
	}
}

112 
boﬁ
 
	$iŸjs_pwm_£t_dutycy˛e
(
iŸjs_pwm_t
* 
pwm
) {

113  
	`iŸjs_pwm_£t_›ti⁄s
(
pwm
);

114 
	}
}

117 
boﬁ
 
	$iŸjs_pwm_£t_íabÀ
(
iŸjs_pwm_t
* 
pwm
) {

118 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

120 
fd
 = 
_this
->
devi˚_fd
;

121 i‡(
fd
 < 0) {

122 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

123  
Ál£
;

126 
	`DDDLOG
("%†-É«bÀ: %d", 
__func__
, 
_this
->
íabÀ
);

128 
ªt
;

129 i‡(
_this
->
íabÀ
) {

130 
ªt
 = 
	`io˘l
(
fd
, 
PWMIOC_START
, 0);

132 
ªt
 = 
	`io˘l
(
fd
, 
PWMIOC_STOP
, 0);

135 i‡(
ªt
 < 0) {

136 
	`DLOG
("%†- sëE«bÀ faûed", 
__func__
);

137  
Ál£
;

140  
åue
;

141 
	}
}

144 
boﬁ
 
	$iŸjs_pwm_˛o£
(
iŸjs_pwm_t
* 
pwm
) {

145 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

147 
fd
 = 
_this
->
devi˚_fd
;

148 i‡(
fd
 < 0) {

149 
	`DLOG
("%†- fûênŸ o≥√d", 
__func__
);

150  
Ál£
;

153 
	`DDDLOG
("%s", 
__func__
);

156 
	`˛o£
(
fd
);

157 
_this
->
devi˚_fd
 = -1;

159 
uöt32_t
 
timî
 = 
	`SYSIO_GET_TIMER
(
_this
->
pö
);

160 
∑th
[
PWM_DEVICE_PATH_BUFFER_SIZE
] = { 0 };

161 i‡(
	`¢¥ötf
(
∑th
, 
PWM_DEVICE_PATH_BUFFER_SIZE
 - 1, 
PWM_DEVICE_PATH_FORMAT
,

162 
timî
) < 0) {

163  
Ál£
;

167 
	`uƒegi°î_drivî
(
∑th
);

169 
	`iŸjs_gpio_unc⁄fig_nuâx
(
_this
->
pö
);

171  
åue
;

172 
	}
}

	@src/platform/nuttx/iotjs_module_spi-nuttx.c

16 #i‡
deföed
(
__NUTTX__
)

18 
	~<nuâx/bﬂrd.h
>

20 
	~"iŸjs_sy°emio-nuâx.h
"

21 
	~"chù.h
"

22 
	~"moduÀs/iŸjs_moduÀ_•i.h
"

25 
boﬁ
 
	$iŸjs_•i_å™s„r
(
iŸjs_•i_t
* 
•i
) {

26 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

28 
•i_dev_s
* 
•i_dev
 = 
_this
->spi_dev;

30 
	`SPI_LOCK
(
•i_dev
, 
åue
);

32 
	`SPI_SETFREQUENCY
(
•i_dev
, 
_this
->
max_•ìd
);

34 
	`SPI_SETMODE
(
•i_dev
, 
_this
->
mode
);

35 
	`SPI_SETBITS
(
•i_dev
, 
_this
->
bôs_≥r_w‹d
);

38 
	`iŸjs_gpio_wrôe_nuâx
(
_this
->
cs_chù
, 
Ál£
);

40 
	`SPI_EXCHANGE
(
•i_dev
, 
_this
->
tx_buf_d©a
, _this->
rx_buf_d©a
, _this->
buf_Àn
);

43 
	`iŸjs_gpio_wrôe_nuâx
(
_this
->
cs_chù
, 
åue
);

45 
	`SPI_LOCK
(
•i_dev
, 
Ál£
);

47  
åue
;

48 
	}
}

51 
boﬁ
 
	$iŸjs_•i_˛o£
(
iŸjs_•i_t
* 
•i
) {

52 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

54 
	`iŸjs_gpio_unc⁄fig_nuâx
(
_this
->
cs_chù
);

56  
åue
;

57 
	}
}

60 
	$iŸjs_•i_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

61 
SPI_WORKER_INIT
;

62 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

64 
_this
->
bus
) {

66 
_this
->
cs_chù
 = (
GPIO_OUTPUT
 | 
GPIO_PUSHPULL
 | 
GPIO_SPEED_50MHz
 |

67 
GPIO_PORTA
 | 
GPIO_PIN15
 | 
GPIO_OUTPUT_SET
);

70 
ªq_d©a
->
ªsu…
 = 
Ál£
;

74 
	`iŸjs_gpio_c⁄fig_nuâx
(
_this
->
cs_chù
);

76 i‡(!(
_this
->
•i_dev
 = 
	`iŸjs_•i_c⁄fig_nuâx
(_this->
bus
, _this->
cs_chù
))) {

77 
	`DLOG
("%†- SPI o≥¿Áûed %d", 
__func__
, 
_this
->
bus
);

78 
ªq_d©a
->
ªsu…
 = 
Ál£
;

82 
ªq_d©a
->
ªsu…
 = 
åue
;

83 
	}
}

	@src/platform/nuttx/iotjs_module_stm32f4dis-nuttx.c

16 #i‡
deföed
(
__NUTTX__
Ë&& 
TARGET_BOARD
 =
STM32F4DIS


19 
	~"iŸjs_def.h
"

20 
	~"iŸjs_sy°emio-nuâx.h
"

21 
	~"°m32_gpio.h
"

23 
	~"moduÀs/iŸjs_moduÀ_°m32f4dis.h
"

26 #i‡
ENABLE_MODULE_ADC


27 
	$iŸjs_pö_öôülize_adc
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
) {

28 
numbî_bô
;

31 
	#SET_ADC_CONSTANT
(
numbî
, 
timî
) \

32 
numbî_bô
 = (
GPIO_ADC
##
numbî
##
_IN
##
timî
); \

33 
numbî_bô
 |(
	`ADC_NUMBER
(
numbî
)); \

34 
numbî_bô
 |(
	`SYSIO_TIMER_NUMBER
(
timî
)); \

35 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
jobj
, "ADC" #numbî "_" #timî, 
numbî_bô
);

	)

37 
	#SET_ADC_CONSTANT_NUMBER
(
numbî
) \

38 
	`SET_ADC_CONSTANT
(
numbî
, 0); \

39 
	`SET_ADC_CONSTANT
(
numbî
, 1); \

40 
	`SET_ADC_CONSTANT
(
numbî
, 2); \

41 
	`SET_ADC_CONSTANT
(
numbî
, 3); \

42 
	`SET_ADC_CONSTANT
(
numbî
, 4); \

43 
	`SET_ADC_CONSTANT
(
numbî
, 5); \

44 
	`SET_ADC_CONSTANT
(
numbî
, 6); \

45 
	`SET_ADC_CONSTANT
(
numbî
, 7); \

46 
	`SET_ADC_CONSTANT
(
numbî
, 8); \

47 
	`SET_ADC_CONSTANT
(
numbî
, 9); \

48 
	`SET_ADC_CONSTANT
(
numbî
, 10); \

49 
	`SET_ADC_CONSTANT
(
numbî
, 11); \

50 
	`SET_ADC_CONSTANT
(
numbî
, 12); \

51 
	`SET_ADC_CONSTANT
(
numbî
, 13); \

52 
	`SET_ADC_CONSTANT
(
numbî
, 14); \

53 
	`SET_ADC_CONSTANT
(
numbî
, 15);

	)

55 
	`SET_ADC_CONSTANT_NUMBER
(1);

56 
	`SET_ADC_CONSTANT_NUMBER
(2);

57 
	`SET_ADC_CONSTANT_NUMBER
(3);

59 #unde‡
SET_ADC_CONSTANT_NUMBER


60 #unde‡
SET_ADC_CONSTANT


61 
	}
}

65 #i‡
ENABLE_MODULE_GPIO


67 
	$iŸjs_pö_öôülize_gpio
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
) {

70 
	#SET_GPIO_CONSTANT
(
p‹t
, 
pö
) \

71 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(
jobj
, "P" #port #pin, \

72 (
GPIO_PORT
##
p‹t
 | 
GPIO_PIN
##
pö
));

	)

74 
	#SET_GPIO_CONSTANT_PORT
(
p‹t
) \

75 
	`SET_GPIO_CONSTANT
(
p‹t
, 0); \

76 
	`SET_GPIO_CONSTANT
(
p‹t
, 1); \

77 
	`SET_GPIO_CONSTANT
(
p‹t
, 2); \

78 
	`SET_GPIO_CONSTANT
(
p‹t
, 3); \

79 
	`SET_GPIO_CONSTANT
(
p‹t
, 4); \

80 
	`SET_GPIO_CONSTANT
(
p‹t
, 5); \

81 
	`SET_GPIO_CONSTANT
(
p‹t
, 6); \

82 
	`SET_GPIO_CONSTANT
(
p‹t
, 7); \

83 
	`SET_GPIO_CONSTANT
(
p‹t
, 8); \

84 
	`SET_GPIO_CONSTANT
(
p‹t
, 9); \

85 
	`SET_GPIO_CONSTANT
(
p‹t
, 10); \

86 
	`SET_GPIO_CONSTANT
(
p‹t
, 11); \

87 
	`SET_GPIO_CONSTANT
(
p‹t
, 12); \

88 
	`SET_GPIO_CONSTANT
(
p‹t
, 13); \

89 
	`SET_GPIO_CONSTANT
(
p‹t
, 14); \

90 
	`SET_GPIO_CONSTANT
(
p‹t
, 15);

	)

92 
	`SET_GPIO_CONSTANT_PORT
(
A
);

93 
	`SET_GPIO_CONSTANT_PORT
(
B
);

94 
	`SET_GPIO_CONSTANT_PORT
(
C
);

95 
	`SET_GPIO_CONSTANT_PORT
(
D
);

96 
	`SET_GPIO_CONSTANT_PORT
(
E
);

98 
	`SET_GPIO_CONSTANT
(
H
, 0);

99 
	`SET_GPIO_CONSTANT
(
H
, 1);

101 #unde‡
SET_GPIO_CONSTANT_PORT


102 #unde‡
SET_GPIO_CONSTANT


103 
	}
}

108 #i‡
ENABLE_MODULE_PWM


110 
	$iŸjs_pö_öôülize_pwm
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
) {

111 
timî_bô
;

115 
	#SET_GPIO_CONSTANT
(
timî
, 
ch™√l
, 
‹dî
) \

116 
timî_bô
 = (
GPIO_TIM
##
timî
##
_CH
##
ch™√l
##
OUT_
##
‹dî
); \

117 
timî_bô
 |(
	`SYSIO_TIMER_NUMBER
(
timî
)); \

118 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jtim
##
timî
, "CH" #channel "_" #order, \

119 
timî_bô
);

	)

121 
	#SET_GPIO_CONSTANT_CHANNEL
(
timî
, 
ch™√l
) \

122 
	`SET_GPIO_CONSTANT
(
timî
, 
ch™√l
, 1); \

123 
	`SET_GPIO_CONSTANT
(
timî
, 
ch™√l
, 2);

	)

125 
	#SET_GPIO_CONSTANT_TIM
(
timî
) \

126 
iŸjs_jvÆ_t
 
jtim
##
timî
 = 
	`iŸjs_jvÆ_¸óã_obje˘
(); \

127 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, "PWM" #timî, &
jtim
##
timî
);

	)

129 
	#SET_GPIO_CONSTANT_TIM_1
(
timî
) \

130 
	`SET_GPIO_CONSTANT_TIM
(
timî
); \

131 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 1);

	)

133 
	#SET_GPIO_CONSTANT_TIM_2
(
timî
) \

134 
	`SET_GPIO_CONSTANT_TIM
(
timî
); \

135 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 1); \

136 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 2);

	)

138 
	#SET_GPIO_CONSTANT_TIM_4
(
timî
) \

139 
	`SET_GPIO_CONSTANT_TIM
(
timî
); \

140 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 1); \

141 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 2); \

142 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 3); \

143 
	`SET_GPIO_CONSTANT_CHANNEL
(
timî
, 4);

	)

145 
	`SET_GPIO_CONSTANT_TIM_4
(1);

146 
	`iŸjs_jvÆ_de°roy
(&
jtim1
);

147 
	`SET_GPIO_CONSTANT_TIM_4
(2);

148 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jtim2
, "CH1_3", 
GPIO_TIM2_CH1OUT_3
);

149 
	`iŸjs_jvÆ_de°roy
(&
jtim2
);

150 
	`SET_GPIO_CONSTANT_TIM_4
(3);

151 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jtim3
, "CH1_3", 
GPIO_TIM3_CH1OUT_3
);

152 
	`iŸjs_jvÆ_£t_¥›îty_numbî
(&
jtim3
, "CH2_3", 
GPIO_TIM3_CH2OUT_3
);

153 
	`iŸjs_jvÆ_de°roy
(&
jtim3
);

154 
	`SET_GPIO_CONSTANT_TIM_4
(4);

155 
	`iŸjs_jvÆ_de°roy
(&
jtim4
);

156 
	`SET_GPIO_CONSTANT_TIM_4
(5);

157 
	`iŸjs_jvÆ_de°roy
(&
jtim5
);

158 
	`SET_GPIO_CONSTANT_TIM_4
(8);

159 
	`iŸjs_jvÆ_de°roy
(&
jtim8
);

160 
	`SET_GPIO_CONSTANT_TIM_2
(9);

161 
	`iŸjs_jvÆ_de°roy
(&
jtim9
);

162 
	`SET_GPIO_CONSTANT_TIM_1
(10);

163 
	`iŸjs_jvÆ_de°roy
(&
jtim10
);

164 
	`SET_GPIO_CONSTANT_TIM_1
(11);

165 
	`iŸjs_jvÆ_de°roy
(&
jtim11
);

166 
	`SET_GPIO_CONSTANT_TIM_2
(12);

167 
	`iŸjs_jvÆ_de°roy
(&
jtim12
);

168 
	`SET_GPIO_CONSTANT_TIM_1
(13);

169 
	`iŸjs_jvÆ_de°roy
(&
jtim13
);

170 
	`SET_GPIO_CONSTANT_TIM_1
(14);

171 
	`iŸjs_jvÆ_de°roy
(&
jtim14
);

173 #unde‡
SET_GPIO_CONSTANT_TIM_4


174 #unde‡
SET_GPIO_CONSTANT_TIM_2


175 #unde‡
SET_GPIO_CONSTANT_TIM_1


176 #unde‡
SET_GPIO_CONSTANT_TIM


177 #unde‡
SET_GPIO_CONSTANT_CHANNEL


178 #unde‡
SET_GPIO_CONSTANT


179 
	}
}

184 
	$iŸjs_°m32f4dis_pö_öôülize
(c⁄° 
iŸjs_jvÆ_t
* 
jobj
) {

185 
iŸjs_jvÆ_t
 
jpö
 = 
	`iŸjs_jvÆ_¸óã_obje˘
();

186 
	`iŸjs_jvÆ_£t_¥›îty_jvÆ
(
jobj
, "pö", &
jpö
);

188 #i‡
ENABLE_MODULE_ADC


189 
	`iŸjs_pö_öôülize_adc
(&
jpö
);

192 #i‡
ENABLE_MODULE_GPIO


193 
	`iŸjs_pö_öôülize_gpio
(&
jpö
);

196 #i‡
ENABLE_MODULE_PWM


197 
	`iŸjs_pö_öôülize_pwm
(&
jpö
);

200 
	`iŸjs_jvÆ_de°roy
(&
jpö
);

201 
	}
}

	@src/platform/nuttx/iotjs_module_uart-nuttx.c

16 #i‡
deföed
(
__NUTTX__
)

19 
	~"moduÀs/iŸjs_moduÀ_u¨t.h
"

22 
	$iŸjs_u¨t_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

23 
UART_WORKER_INIT
;

24 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

26 
fd
 = 
	`›í
(
	`iŸjs_°rög_d©a
(&
_this
->
devi˚_∑th
),

27 
O_RDWR
 | 
O_NOCTTY
 | 
O_NDELAY
);

29 i‡(
fd
 < 0) {

30 
ªq_d©a
->
ªsu…
 = 
Ál£
;

34 
_this
->
devi˚_fd
 = 
fd
;

35 
uv_pﬁl_t
* 
pﬁl_h™dÀ
 = &
_this
->poll_handle;

37 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
());

38 
	`uv_pﬁl_öô
(
lo›
, 
pﬁl_h™dÀ
, 
fd
);

39 
pﬁl_h™dÀ
->
d©a
 = 
u¨t
;

40 
	`uv_pﬁl_°¨t
(
pﬁl_h™dÀ
, 
UV_READABLE
, 
iŸjs_u¨t_ªad_cb
);

42 
ªq_d©a
->
ªsu…
 = 
åue
;

43 
	}
}

46 
boﬁ
 
	$iŸjs_u¨t_wrôe
(
iŸjs_u¨t_t
* 
u¨t
) {

47 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

48 
byãsWrôãn
 = 0;

49 
off£t
 = 0;

50 
fd
 = 
_this
->
devi˚_fd
;

51 c⁄° * 
buf_d©a
 = 
	`iŸjs_°rög_d©a
(&
_this
->buf_data);

53 
	`DDDLOG
("%†- d©a: %s", 
__func__
, 
buf_d©a
);

56 
î∫o
 = 0;

57 
byãsWrôãn
 = 
	`wrôe
(
fd
, 
buf_d©a
 + 
off£t
, 
_this
->
buf_Àn
 - offset);

59 
	`DDDLOG
("%†- size: %d", 
__func__
, 
_this
->
buf_Àn
 - 
off£t
);

61 i‡(
byãsWrôãn
 != -1) {

62 
off£t
 +()
byãsWrôãn
;

66 i‡(
î∫o
 =
EINTR
) {

70  
Ál£
;

72 } 
_this
->
buf_Àn
 > 
off£t
);

74  
åue
;

75 
	}
}

	@src/platform/nuttx/iotjs_systemio-nuttx.h

16 #i‚de‡
IOTJS_SYSTEMIO_ARM_NUTTX_H


17 
	#IOTJS_SYSTEMIO_ARM_NUTTX_H


	)

19 
	~<°döt.h
>

21 
	~"iŸjs_def.h
"

23 
iŸjs_gpio_c⁄fig_nuâx
(
uöt32_t
 
pö
);

24 
iŸjs_gpio_unc⁄fig_nuâx
(
uöt32_t
 
pö
);

25 
iŸjs_gpio_wrôe_nuâx
(
uöt32_t
 
pö
, 
boﬁ
 
vÆue
);

28 #i‡
ENABLE_MODULE_ADC
 || 
ENABLE_MODULE_PWM


30 
	#SYSIO_TIMER_PIN_SHIFT
 21

	)

31 
	#SYSIO_TIMER_PIN_MASK
 15

	)

32 
	#SYSIO_TIMER_NUMBER
(
n
Ë(“Ë<< 
SYSIO_TIMER_PIN_SHIFT
)

	)

33 
	#SYSIO_GET_TIMER
(
n
) \

34 (((
n
Ë>> 
SYSIO_TIMER_PIN_SHIFT
Ë& 
SYSIO_TIMER_PIN_MASK
)

	)

39 #i‡
ENABLE_MODULE_ADC


41 
	~<nuâx/™Æog/adc.h
>

43 
	#ADC_NUMBER_SHIFT
 25

	)

44 
	#ADC_NUMBER_MASK
 3

	)

45 
	#ADC_NUMBER
(
n
Ë(“Ë<< 
ADC_NUMBER_SHIFT
)

	)

46 
	#ADC_GET_NUMBER
(
n
Ë((“Ë>> 
ADC_NUMBER_SHIFT
Ë& 
ADC_NUMBER_MASK
)

	)

48 
adc_dev_s
* 
iŸjs_adc_c⁄fig_nuâx
(
numbî
, 
timî
, 
uöt32_t
 
pö
);

53 #i‡
ENABLE_MODULE_I2C


55 
	~<nuâx/i2c/i2c_ma°î.h
>

57 
i2c_ma°î_s
* 
iŸjs_i2c_c⁄fig_nuâx
(
p‹t
);

58 
iŸjs_i2c_unc⁄fig_nuâx
(
i2c_ma°î_s
* 
i2c
);

63 #i‡
ENABLE_MODULE_PWM


65 
	~<nuâx/drivîs/pwm.h
>

67 
pwm_lowîhÆf_s
* 
iŸjs_pwm_c⁄fig_nuâx
(
timî
, 
uöt32_t
 
pö
);

72 #i‡
ENABLE_MODULE_SPI


74 
	~<nuâx/•i/•i.h
>

76 
•i_dev_s
* 
iŸjs_•i_c⁄fig_nuâx
(
bus
, 
uöt32_t
 
cs_chù
);

	@src/platform/nuttx/stm32f4dis/iotjs_module_gpio-nuttx-stm32f4dis.c

17 
	~"moduÀs/iŸjs_moduÀ_gpio.h
"

18 
	~"°m32_gpio.h
"

20 
	#GPIO_FREQUENCY_DEFAULT
 
GPIO_SPEED_25MHz


	)

21 
	#GPIO_PINCNT_IN_NUTTXPORT
 16

	)

23 
	#GPIO_CONFIG_OK
 0

	)

26 
uöt32_t
 
	ggpioDúe˘i⁄
[] = {

27 
GPIO_INPUT
, 
GPIO_OUTPUT
 | 
GPIO_OUTPUT_SET
 | 
GPIO_FREQUENCY_DEFAULT
,

31 
uöt32_t
 
	ggpioMode
[] = {

33 
GPIO_PULLUP
, 
GPIO_PULLDOWN
, 
GPIO_FLOAT
, 
GPIO_PUSHPULL
, 
GPIO_OPENDRAIN
,

37 
	$iŸjs_gpio_∂©f‹m_¸óã
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

38 
	}
}

41 
	$iŸjs_gpio_∂©f‹m_de°roy
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

42 
	}
}

45 
boﬁ
 
	$iŸjs_gpio_wrôe
(
iŸjs_gpio_t
* 
gpio
, 
boﬁ
 
vÆue
) {

46 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

48 
	`DDDLOG
("%†-Öö: %d, vÆue: %d", 
__func__
, 
_this
->
pö
, 
vÆue
);

49 
	`°m32_gpiowrôe
(
_this
->
pö
, 
vÆue
);

51  
åue
;

52 
	}
}

55 
	$iŸjs_gpio_ªad
(
iŸjs_gpio_t
* 
gpio
) {

56 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

58 
	`DDDLOG
("%†-Öö: %d", 
__func__
, 
_this
->
pö
);

59  
	`°m32_gpi‹ód
(
_this
->
pö
);

60 
	}
}

63 
boﬁ
 
	$iŸjs_gpio_˛o£
(
iŸjs_gpio_t
* 
gpio
) {

64 
	`iŸjs_gpio_wrôe
(
gpio
, 0);

66  
åue
;

67 
	}
}

70 
	$iŸjs_gpio_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

71 
GPIO_WORKER_INIT
;

72 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

74 
	`DDDLOG
("%†-Öö: %d, dú: %d, mode: %d", 
__func__
, 
_this
->
pö
,

75 
_this
->
dúe˘i⁄
, _this->
mode
);

77 
uöt32_t
 
cfg£t
 = 0;

80 
cfg£t
 = 
gpioDúe˘i⁄
[
_this
->
dúe˘i⁄
] | 
gpioMode
[_this->
mode
] | _this->
pö
;

82 i‡(
	`°m32_c⁄figgpio
(
cfg£t
Ë!
GPIO_CONFIG_OK
) {

83 
ªq_d©a
->
ªsu…
 = 
Ál£
;

87 
ªq_d©a
->
ªsu…
 = 
åue
;

88 
	}
}

	@src/platform/nuttx/stm32f4dis/iotjs_systemio-nuttx-stm32f4dis.c

16 #i‡
deföed
(
__NUTTX__
Ë&& 
TARGET_BOARD
 =
STM32F4DIS


18 
	~<°döt.h
>

20 
	~"../iŸjs_sy°emio-nuâx.h
"

21 
	~"°m32_gpio.h
"

24 
	$iŸjs_gpio_c⁄fig_nuâx
(
uöt32_t
 
pö
) {

25 
	`°m32_c⁄figgpio
(
pö
);

26 
	}
}

29 
	$iŸjs_gpio_unc⁄fig_nuâx
(
uöt32_t
 
pö
) {

30 
	`°m32_unc⁄figgpio
(
pö
);

31 
	}
}

34 
	$iŸjs_gpio_wrôe_nuâx
(
uöt32_t
 
pö
, 
boﬁ
 
vÆue
) {

35 
	`°m32_gpiowrôe
(
pö
, 
vÆue
);

36 
	}
}

39 #i‡
ENABLE_MODULE_ADC


41 
	~"°m32_adc.h
"

43 
adc_dev_s
* 
	$iŸjs_adc_c⁄fig_nuâx
(
numbî
, 
timî
, 
uöt32_t
 
pö
) {

44 
	`°m32_c⁄figgpio
(
pö
);

46 
uöt8_t
 
ch™√l_li°
[1] = { 
timî
 };

47  
	`°m32_adcöôülize
(
numbî
, 
ch™√l_li°
, 1);

48 
	}
}

53 #i‡
ENABLE_MODULE_I2C


55 
	~"°m32_i2c.h
"

57 
i2c_ma°î_s
* 
	$iŸjs_i2c_c⁄fig_nuâx
(
p‹t
) {

58  
	`°m32_i2cbus_öôülize
(
p‹t
);

59 
	}
}

62 
	$iŸjs_i2c_unc⁄fig_nuâx
(
i2c_ma°î_s
* 
i2c
) {

63  
	`°m32_i2cbus_unöôülize
(
i2c
);

64 
	}
}

69 #i‡
ENABLE_MODULE_PWM


71 
	~"°m32_pwm.h
"

73 
pwm_lowîhÆf_s
* 
	$iŸjs_pwm_c⁄fig_nuâx
(
timî
, 
uöt32_t
 
pö
) {

75 
	`°m32_c⁄figgpio
(
pö
);

78  
	`°m32_pwmöôülize
(
timî
);

79 
	}
}

84 #i‡
ENABLE_MODULE_SPI


86 
	~"°m32_•i.h
"

88 
•i_dev_s
* 
	$iŸjs_•i_c⁄fig_nuâx
(
bus
, 
uöt32_t
 
cs_chù
) {

89 
	`°m32_c⁄figgpio
(
cs_chù
);

91  
	`°m32_•ibus_öôülize
(
bus
);

92 
	}
}

	@src/platform/tizen/iotjs_module_gpio-tizen.c

16 
	~<≥rùhîÆ_io.h
>

17 
	~<°dlib.h
>

19 
	~"moduÀs/iŸjs_moduÀ_gpio.h
"

21 
	s_iŸjs_gpio_moduÀ_∂©f‹m_t
 {

22 
≥rùhîÆ_gpio_h
 
	m≥rùhîÆ_gpio
;

25 
	$iŸjs_gpio_∂©f‹m_¸óã
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

26 
size_t
 
¥iv©e_mem
 = (
_iŸjs_gpio_moduÀ_∂©f‹m_t
);

27 
_this
->
∂©f‹m
 = (
iŸjs_gpio_moduÀ_∂©f‹m_t
)
	`mÆloc
(
¥iv©e_mem
);

28 
	}
}

30 
	$iŸjs_gpio_∂©f‹m_de°roy
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

31 
	`iŸjs_buf„r_ªÀa£
((*)
_this
->
∂©f‹m
);

32 
	}
}

34 
boﬁ
 
	$iŸjs_gpio_wrôe
(
iŸjs_gpio_t
* 
gpio
, 
boﬁ
 
vÆue
) {

35 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

36 
ªtVÆ
 = 
	`≥rùhîÆ_gpio_wrôe
(
_this
->
∂©f‹m
->
≥rùhîÆ_gpio
, 
vÆue
);

37  
PERIPHERAL_ERROR_NONE
 =
ªtVÆ
;

38 
	}
}

41 
	$iŸjs_gpio_ªad
(
iŸjs_gpio_t
* 
gpio
) {

42 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

43 
vÆue
;

44 
ªtVÆ
 = 
	`≥rùhîÆ_gpio_ªad
(
_this
->
∂©f‹m
->
≥rùhîÆ_gpio
, &
vÆue
);

45 i‡(
PERIPHERAL_ERROR_NONE
 =
ªtVÆ
) {

46  
vÆue
;

50 
	}
}

53 
boﬁ
 
	$iŸjs_gpio_˛o£
(
iŸjs_gpio_t
* 
gpio
) {

54 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

55 
	`≥rùhîÆ_gpio_˛o£
(
_this
->
∂©f‹m
->
≥rùhîÆ_gpio
);

56  
åue
;

57 
	}
}

60 
	$iŸjs_gpio_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

61 
GPIO_WORKER_INIT
;

62 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

64 
≥rùhîÆ_gpio_h
 
_gpio
;

65 
ªtVÆ
 = 
	`≥rùhîÆ_gpio_›í
(()
_this
->
pö
, &
_gpio
);

66 i‡(
ªtVÆ
 !
PERIPHERAL_ERROR_NONE
) {

67 
ªq_d©a
->
ªsu…
 = 
Ál£
;

70 
_this
->
∂©f‹m
->
≥rùhîÆ_gpio
 = 
_gpio
;

71 
≥rùhîÆ_gpio_dúe˘i⁄_e
 
_dúe˘i⁄
;

72 i‡(
_this
->
dúe˘i⁄
 =
kGpioDúe˘i⁄In
) {

73 
_dúe˘i⁄
 = 
PERIPHERAL_GPIO_DIRECTION_IN
;

75 
_dúe˘i⁄
 = 
PERIPHERAL_GPIO_DIRECTION_OUT
;

77 
ªtVÆ
 = 
	`≥rùhîÆ_gpio_£t_dúe˘i⁄
(
_gpio
, 
_dúe˘i⁄
);

78 i‡(
ªtVÆ
 !
PERIPHERAL_ERROR_NONE
) {

79 
ªq_d©a
->
ªsu…
 = 
Ál£
;

83 
≥rùhîÆ_gpio_edge_e
 
_edge
;

84 
_this
->
edge
) {

85 
kGpioEdgeN⁄e
:

86 
_edge
 = 
PERIPHERAL_GPIO_EDGE_NONE
;

88 
kGpioEdgeRisög
:

89 
_edge
 = 
PERIPHERAL_GPIO_EDGE_RISING
;

91 
kGpioEdgeFÆlög
:

92 
_edge
 = 
PERIPHERAL_GPIO_EDGE_FALLING
;

94 
kGpioEdgeBŸh
:

95 
_edge
 = 
PERIPHERAL_GPIO_EDGE_BOTH
;

98 
_edge
 = 
PERIPHERAL_GPIO_EDGE_NONE
;

100 
ªtVÆ
 = 
	`≥rùhîÆ_gpio_£t_edge_mode
(
_gpio
, 
_edge
);

101 i‡(
ªtVÆ
 !
PERIPHERAL_ERROR_NONE
) {

102 
ªq_d©a
->
ªsu…
 = 
Ál£
;

105 
ªq_d©a
->
ªsu…
 = 
åue
;

106 
	}
}

	@src/platform/tizen/iotjs_module_i2c-tizen.c

16 
	~"moduÀs/iŸjs_moduÀ_i2c.h
"

17 
	~<≥rùhîÆ_io.h
>

18 
	~<°döt.h
>

21 
	#I2C_WORKER_INIT_TEMPLATE
 \

22 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_i2c_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

23 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

	)

25 
	#IOTJS_I2C_METHOD_HEADER
(
¨g
) \

26 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
¨g
) \

27 
iŸjs_i2c_∂©f‹m_d©a_t
* 
∂©f‹m_d©a
 = 
_this
->∂©f‹m_d©a;

	)

29 
_≥rùhîÆ_i2c_s
* 
	t≥rùhîÆ_i2c_h
;

31 
	siŸjs_i2c_∂©f‹m_d©a_s
 {

32 
	mbus
;

33 
	maddªss
;

34 
≥rùhîÆ_i2c_h
 
	mh™dÀ
;

37 
	$i2c_¸óã_∂©f‹m_d©a
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
iŸjs_i2c_t
* 
i2c
,

38 
iŸjs_i2c_∂©f‹m_d©a_t
** 
µd©a
) {

39 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
	`IOTJS_ALLOC
(iotjs_i2c_platform_data_t);

43 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
, 
fun˘i⁄
);

44 
pd©a
->
bus
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

46 
pd©a
->
addªss
 = -1;

47 
pd©a
->
h™dÀ
 = 
NULL
;

50 *
µd©a
 = 
pd©a
;

51 
	}
}

53 
	$i2c_de°roy_∂©f‹m_d©a
(
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
) {

54 ()
pd©a
;

55 
	}
}

58 
	$I2cSëAddªss
(
iŸjs_i2c_t
* 
i2c
, 
uöt8_t
 
addªss
) {

59 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

61 i‡(
∂©f‹m_d©a
->
addªss
 == -1) {

63 
∂©f‹m_d©a
->
addªss
 =áddress;

64 i‡(
	`≥rùhîÆ_i2c_›í
(
∂©f‹m_d©a
->
bus
,Öœtf‹m_d©a->
addªss
,

65 &
∂©f‹m_d©a
->
h™dÀ
) < 0) {

68 } i‡(
∂©f‹m_d©a
->
addªss
 !=áddress) {

71 
	}
}

73 
	$O≥nW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

74 
I2C_WORKER_INIT_TEMPLATE
;

77 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

78 
	}
}

80 
	$I2cClo£
(
iŸjs_i2c_t
* 
i2c
) {

81 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

83 i‡(
∂©f‹m_d©a
->
h™dÀ
 !
NULL
) {

84 
	`≥rùhîÆ_i2c_˛o£
(
∂©f‹m_d©a
->
h™dÀ
);

85 
∂©f‹m_d©a
->
h™dÀ
 = 
NULL
;

87 
	}
}

89 
	$WrôeW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

90 
I2C_WORKER_INIT_TEMPLATE
;

91 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

92 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

94 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

95 i‡(
	`≥rùhîÆ_i2c_wrôe
(
∂©f‹m_d©a
->
h™dÀ
,

96 (*)
ªq_d©a
->
buf_d©a
,

97 
ªq_d©a
->
buf_Àn
) < 0) {

98 
ªq_d©a
->
îr‹
 = 
kI2cEºWrôe
;

101 i‡(
ªq_d©a
->
buf_d©a
 !
NULL
) {

102 
	`iŸjs_buf„r_ªÀa£
(
ªq_d©a
->
buf_d©a
);

104 
	}
}

106 
	$RódW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

107 
I2C_WORKER_INIT_TEMPLATE
;

108 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

109 
	`IOTJS_I2C_METHOD_HEADER
(
i2c
);

111 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

112 
ªq_d©a
->
buf_d©a
 = 
	`iŸjs_buf„r_Æloˇã
(
Àn
);

114 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

115 i‡(
	`≥rùhîÆ_i2c_ªad
(
∂©f‹m_d©a
->
h™dÀ
,

116 (*)
ªq_d©a
->
buf_d©a
,

117 
ªq_d©a
->
buf_Àn
) < 0) {

118 
ªq_d©a
->
îr‹
 = 
kI2cEºWrôe
;

120 
	}
}

	@src/platform/tizenrt/iotjs_main.c

20 
	~<≠ps/shñl/èsh.h
>

21 
	~<töy¨a/¨ch.h
>

22 
	~<töy¨a/c⁄fig.h
>

24 
	~<sys/bﬂrd˘l.h
>

26 
	~<£tjmp.h
>

27 
	~<°dio.h
>

28 
	~<°dlib.h
>

29 
	~<°rög.h
>

32 
	~"jîrys¸ùt-p‹t.h
"

33 
	~"jîrys¸ùt.h
"

35 
	#USE_IOTJS_THREAD
 1

	)

40 
	$jîry_p‹t_Áèl
(
jîry_Áèl_code_t
 
code
) {

41 
	`exô
(1);

42 
	}
}

47 
	$jîry_p‹t_log
(
jîry_log_Àvñ_t
 
Àvñ
,

48 c⁄° *
f‹m©
,

51 
	}
}

58 
boﬁ
 
	$jîry_p‹t_gë_time_z⁄e
(
jîry_time_z⁄e_t
 *
tz_p
) {

60 
tz_p
->
off£t
 = 0;

61 
tz_p
->
daylight_ßvög_time
 = 0;

63  
åue
;

64 
	}
}

71 
	$jîry_p‹t_gë_cuºít_time
() {

73 
	}
}

79 
	$jîryx_p‹t_h™dÀr_¥öt_ch¨
(
c
) {

81 
	}
}

92 
	$£tjmp
(
jmp_buf
 
buf
) {

93  
	`__buûtö_£tjmp
(
buf
);

94 
	}
}

103 
	$l⁄gjmp
(
jmp_buf
 
buf
, 
vÆue
) {

105 
	`__buûtö_l⁄gjmp
(
buf
, 1);

106 
	}
}

108 
iŸjs_íåy
(
¨gc
, **
¨gv
);

109 
tuv_˛ónup
();

112 #i‡
USE_IOTJS_THREAD


113 
	siŸjs_thªad_¨g
 {

114 
	m¨gc
;

115 **
	m¨gv
;

118 
±hªad_addr_t
 
	$iŸjs_thªad
(*
thªad_¨g
) {

119 
iŸjs_thªad_¨g
 *
¨g
 = 
thªad_¨g
;

121 #ifde‡
CONFIG_DEBUG_VERBOSE


122 
ªt
 = 
	`iŸjs_íåy
(
¨g
->
¨gc
,árg->
¨gv
);

123 
	`¥ötf
("IoT.j†Resu…: %d\n", 
ªt
);

125 
	`iŸjs_íåy
(
¨g
->
¨gc
,árg->
¨gv
);

127 
	`tuv_˛ónup
();

129 
	`¶ìp
(1);

131 
	`¥ötf
("Workload done! RebootÅhe device...\n");

132 
	`bﬂrd˘l
(
BOARDIOC_RESET
, 
EXIT_SUCCESS
);

133  
NULL
;

134 
	}
}

136 
	$iŸjs
(
¨gc
, *
¨gv
[]) {

137 
±hªad_©å_t
 
©å
;

138 
°©us
;

139 
sched_∑øm
 
•¨am
;

140 
±hªad_t
 
tid
 = (pthread_t)0;

141 
iŸjs_thªad_¨g
 
¨g
;

143 
°©us
 = 
	`±hªad_©å_öô
(&
©å
);

144 i‡(
°©us
 != 0) {

145 
	`¥ötf
("failÅo initialize iotjsÅhread\n");

149 
•¨am
.
sched_¥i‹ôy
 = 
CONFIG_IOTJS_PRIORITY
;

150 
°©us
 = 
	`±hªad_©å_£tsched∑øm
(&
©å
, &
•¨am
);

151 
°©us
 = 
	`±hªad_©å_£tschedpﬁicy
(&
©å
, 
SCHED_RR
);

152 
°©us
 = 
	`±hªad_©å_£t°acksize
(&
©å
, 
CONFIG_IOTJS_STACKSIZE
);

154 
¨g
.
¨gc
 =árgc;

155 
¨g
.
¨gv
 =árgv;

157 
°©us
 = 
	`±hªad_¸óã
(&
tid
, &
©å
, 
iŸjs_thªad
, &
¨g
);

158 i‡(
°©us
 < 0) {

159 
	`¥ötf
("failÅo start iotjsÅhread\n");

162 
	`±hªad_£äame_≈
(
tid
, "iotjs_thread");

163 
	`±hªad_joö
(
tid
, 
NULL
);

166 
	}
}

170 
	$iŸjs
(
¨gc
, *
¨gv
[]) {

171 
ªt
 = 0;

172 
ªt
 = 
	`iŸjs_íåy
(
¨gc
, 
¨gv
);

173 #ifde‡
CONFIG_DEBUG_VERBOSE


174 
	`¥ötf
("IoT.j†Resu…: %d\n", 
ªt
);

176 
	`tuv_˛ónup
();

177  
ªt
;

178 
	}
}

182 
	$iŸjs_ªgi°î_cmds
() {

183 
	`èsh_cmd_ö°Æl
("iŸjs", 
iŸjs
, 
TASH_EXECMD_SYNC
);

185 
	}
}

	@src/platform/tizenrt/iotjs_module_adc-tizenrt.c

16 #i‡
deföed
(
__TIZENRT__
)

18 
	~<î∫o.h
>

19 
	~<f˙é.h
>

20 
	~<°dlib.h
>

21 
	~<sys/io˘l.h
>

22 
	~<töy¨a/™Æog/adc.h
>

23 
	~<töy¨a/™Æog/io˘l.h
>

25 
	~"iŸjs_def.h
"

26 
	~"moduÀs/iŸjs_moduÀ_adc.h
"

28 
	#S5J_ADC_MAX_CHANNELS
 4

	)

31 
öt32_t
 
	gdevi˚_fd
;

33 
size_t
 
	gdevi˚_fd_cou¡î
 = 0;

35 
	#TIZENRT_ADC_DEVICE
 "/dev/adc0"

	)

37 
öt32_t
 
	$iŸjs_adc_ªad
(
iŸjs_adc_t
* 
adc
) {

38 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

39 
ªt
, 
nbyãs
;

40 
size_t
 
ªadsize
, 
i
, 
nßm∂es
;

41 
adc_msg_s
 
ßm∂es
[
S5J_ADC_MAX_CHANNELS
];

42 
ªt
 = 
	`io˘l
(
_this
->
devi˚_fd
, 
ANIOC_TRIGGER
, 0);

43 i‡(
ªt
 < 0) {

46 
ªadsize
 = (
ßm∂es
);

47 
åue
) {

48 
nbyãs
 = 
	`ªad
(
_this
->
devi˚_fd
, 
ßm∂es
, 
ªadsize
);

49 i‡(
nbyãs
 > 0) {

50 
nßm∂es
 = (
size_t
)
nbyãs
 / (
adc_msg_s
);

51 
ßm∂e
 = -1;

52 
i
 = 0; i < 
nßm∂es
; ++i) {

53 i‡(
_this
->
pö
 =
ßm∂es
[
i
].
am_ch™√l
) {

54 
ßm∂e
 = 
ßm∂es
[
i
].
am_d©a
;

57 i‡(-1 !
ßm∂e
) {

58  
ßm∂e
;

67 
	}
}

69 
boﬁ
 
	$iŸjs_adc_˛o£
(
iŸjs_adc_t
* 
adc
) {

70 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

71 i‡(
_this
->
devi˚_fd
 > 0) {

72 
devi˚_fd_cou¡î
--;

74 i‡(0 =
devi˚_fd_cou¡î
) {

75 
	`˛o£
(
_this
->
devi˚_fd
);

77  
åue
;

78 
	}
}

81 
	$iŸjs_adc_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

82 
ADC_WORKER_INIT
;

83 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_adc_t
, 
adc
);

84 i‡(0 =
devi˚_fd_cou¡î
) {

85 
devi˚_fd
 = 
	`›í
(
TIZENRT_ADC_DEVICE
, 
O_RDONLY
);

87 
_this
->
devi˚_fd
 = device_fd;

88 i‡(
_this
->
devi˚_fd
 < 0) {

89 
ªq_d©a
->
ªsu…
 = 
Ál£
;

92 
devi˚_fd_cou¡î
++;

93 
ªq_d©a
->
ªsu…
 = 
åue
;

94 
	}
}

	@src/platform/tizenrt/iotjs_module_gpio-tizenrt.c

17 
	~<iŸbus/iŸbus_gpio.h
>

18 
	~<°dlib.h
>

20 
	~"moduÀs/iŸjs_moduÀ_gpio.h
"

22 
	s_iŸjs_gpio_moduÀ_∂©f‹m_t
 {

23 
iŸbus_gpio_c⁄ãxt_h
 
	mgpio_c⁄ãxt
;

27 
	$iŸjs_gpio_∂©f‹m_¸óã
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

28 
size_t
 
¥iv©e_mem
 = (
_iŸjs_gpio_moduÀ_∂©f‹m_t
);

29 
_this
->
∂©f‹m
 = (
iŸjs_gpio_moduÀ_∂©f‹m_t
)
	`mÆloc
(
¥iv©e_mem
);

30 
	}
}

33 
	$iŸjs_gpio_∂©f‹m_de°roy
(
iŸjs_gpio_t_im∂_t
* 
_this
) {

34 
	`iŸjs_buf„r_ªÀa£
((*)
_this
->
∂©f‹m
);

35 
	}
}

38 
	$iŸjs_gpio_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

39 
GPIO_WORKER_INIT
;

40 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

42 
	`DDDLOG
("%†-Öö: %d, dúe˘i⁄: %d, mode: %d", 
__func__
, 
_this
->
pö
,

43 
_this
->
dúe˘i⁄
, _this->
mode
);

45 
iŸbus_gpio_c⁄ãxt_h
 
gpio_c⁄ãxt
 = 
	`iŸbus_gpio_›í
(()
_this
->
pö
);

46 i‡(
gpio_c⁄ãxt
 =
NULL
) {

47 
ªq_d©a
->
ªsu…
 = 
Ál£
;

48 
	`iŸbus_gpio_˛o£
(
gpio_c⁄ãxt
);

53 
iŸbus_gpio_dúe˘i⁄_e
 
dúe˘i⁄
;

54 i‡(
_this
->
dúe˘i⁄
 =
kGpioDúe˘i⁄In
) {

55 
dúe˘i⁄
 = 
IOTBUS_GPIO_DIRECTION_IN
;

56 } i‡(
_this
->
dúe˘i⁄
 =
kGpioDúe˘i⁄Out
) {

57 
dúe˘i⁄
 = 
IOTBUS_GPIO_DIRECTION_OUT
;

59 
dúe˘i⁄
 = 
IOTBUS_GPIO_DIRECTION_NONE
;

61 i‡(
	`iŸbus_gpio_£t_dúe˘i⁄
(
gpio_c⁄ãxt
, 
dúe˘i⁄
) < 0) {

62 
ªq_d©a
->
ªsu…
 = 
Ál£
;

63 
	`iŸbus_gpio_˛o£
(
gpio_c⁄ãxt
);

67 
_this
->
∂©f‹m
->
gpio_c⁄ãxt
 = gpio_context;

69 
ªq_d©a
->
ªsu…
 = 
åue
;

70 
	}
}

73 
boﬁ
 
	$iŸjs_gpio_wrôe
(
iŸjs_gpio_t
* 
gpio
, 
boﬁ
 
vÆue
) {

74 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

75 i‡(
	`iŸbus_gpio_wrôe
(
_this
->
∂©f‹m
->
gpio_c⁄ãxt
, 
vÆue
) < 0) {

76  
Ál£
;

78  
åue
;

79 
	}
}

82 
	$iŸjs_gpio_ªad
(
iŸjs_gpio_t
* 
gpio
) {

83 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

84  
	`iŸbus_gpio_ªad
(
_this
->
∂©f‹m
->
gpio_c⁄ãxt
);

85 
	}
}

88 
boﬁ
 
	$iŸjs_gpio_˛o£
(
iŸjs_gpio_t
* 
gpio
) {

89 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_gpio_t
, 
gpio
);

90 i‡(
_this
->
∂©f‹m
->
gpio_c⁄ãxt
 &&

91 
	`iŸbus_gpio_˛o£
(
_this
->
∂©f‹m
->
gpio_c⁄ãxt
) < 0) {

92  
Ál£
;

94  
åue
;

95 
	}
}

	@src/platform/tizenrt/iotjs_module_i2c-tizenrt.c

16 #i‡!
deföed
(
__TIZENRT__
)

20 
	~<töy¨a/c⁄fig.h
>

22 #i‡!
deföed
(
CONFIG_I2C
)

26 
	~<iŸbus/iŸbus_i2c.h
>

28 
	~"moduÀs/iŸjs_moduÀ_i2c.h
"

31 
	siŸjs_i2c_∂©f‹m_d©a_s
 {

32 
	mbus
;

33 
iŸbus_i2c_c⁄ãxt_h
 
	mi2c_c⁄ãxt
;

37 
	$i2c_¸óã_∂©f‹m_d©a
(
iŸjs_jh™dÀr_t
* 
jh™dÀr
, 
iŸjs_i2c_t
* 
i2c
,

38 
iŸjs_i2c_∂©f‹m_d©a_t
** 
µd©a
) {

39 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
	`IOTJS_ALLOC
(iotjs_i2c_platform_data_t);

41 
	`DJHANDLER_CHECK_ARGS
(2, 
numbî
, 
fun˘i⁄
);

42 
pd©a
->
bus
 = 
	`JHANDLER_GET_ARG
(0, 
numbî
);

43 
pd©a
->
i2c_c⁄ãxt
 = 
NULL
;

44 *
µd©a
 = 
pd©a
;

45 
	}
}

48 
	$i2c_de°roy_∂©f‹m_d©a
(
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
) {

49 
	`IOTJS_ASSERT
(
pd©a
);

50 
	`IOTJS_RELEASE
(
pd©a
);

51 
	}
}

54 
	#I2C_WORKER_INIT_TEMPLATE
 \

55 
iŸjs_i2c_ªqwøp_t
* 
ªq_wøp
 = 
	`iŸjs_i2c_ªqwøp_‰om_ªque°
(
w‹k_ªq
); \

56 
iŸjs_i2c_ªqd©a_t
* 
ªq_d©a
 = 
	`iŸjs_i2c_ªqwøp_d©a
(
ªq_wøp
);

	)

59 
	$I2cSëAddªss
(
iŸjs_i2c_t
* 
i2c
, 
uöt8_t
 
addªss
) {

60 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
i2c
)

61 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
_this
->
∂©f‹m_d©a
;

62 
	`IOTJS_ASSERT
(
pd©a
);

63 
	`IOTJS_ASSERT
(
pd©a
->
i2c_c⁄ãxt
);

65 i‡(
	`iŸbus_i2c_£t_addªss
(
pd©a
->
i2c_c⁄ãxt
, 
addªss
) < 0) {

66 
	`DLOG
("%s: c™nŸ sëáddªss", 
__func__
);

67 
	`IOTJS_ASSERT
(0);

69 
	}
}

72 
	$O≥nW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

73 
I2C_WORKER_INIT_TEMPLATE
;

74 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

75 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
i2c
)

76 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
_this
->
∂©f‹m_d©a
;

78 
	`IOTJS_ASSERT
(
pd©a
);

81 
pd©a
->
i2c_c⁄ãxt
 = 
	`iŸbus_i2c_öô
’d©a->
bus
);

82 i‡(!
pd©a
->
i2c_c⁄ãxt
) {

83 
	`DLOG
("%s: c™nŸ o≥¿I2C", 
__func__
);

84 
ªq_d©a
->
îr‹
 = 
kI2cEºO≥n
;

89 
ªt
 = 
	`iŸbus_i2c_£t_‰equícy
(
pd©a
->
i2c_c⁄ãxt
, 
IOTBUS_I2C_STD
);

90 i‡(
ªt
 < 0) {

91 
	`DLOG
("%s: c™nŸ së fªquícy", 
__func__
);

92 
ªq_d©a
->
îr‹
 = 
kI2cEºO≥n
;

96 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

97 
	}
}

100 
	$I2cClo£
(
iŸjs_i2c_t
* 
i2c
) {

101 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
i2c
);

102 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
_this
->
∂©f‹m_d©a
;

104 i‡(
	`iŸbus_i2c_°›
(
pd©a
->
i2c_c⁄ãxt
) < 0) {

105 
	`DLOG
("%s: c™nŸ clo£ I2C", 
__func__
);

106 
	`IOTJS_ASSERT
(0);

108 
	}
}

111 
	$WrôeW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

112 
I2C_WORKER_INIT_TEMPLATE
;

113 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

114 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
i2c
)

115 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
_this
->
∂©f‹m_d©a
;

117 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

118 
uöt8_t
* 
d©a
 = (uöt8_t*)
ªq_d©a
->
buf_d©a
;

120 
	`IOTJS_ASSERT
(
pd©a
);

121 
	`IOTJS_ASSERT
(
pd©a
->
i2c_c⁄ãxt
);

122 
	`IOTJS_ASSERT
(
Àn
 > 0);

124 i‡(
	`iŸbus_i2c_wrôe
(
pd©a
->
i2c_c⁄ãxt
, 
d©a
, 
Àn
) < 0) {

125 
	`DLOG
("%s: c™nŸ wrôêd©a", 
__func__
);

126 
ªq_d©a
->
îr‹
 = 
kI2cEºWrôe
;

128 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

131 
	`iŸjs_buf„r_ªÀa£
(
ªq_d©a
->
buf_d©a
);

132 
	}
}

135 
	$RódW‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

136 
I2C_WORKER_INIT_TEMPLATE
;

137 
iŸjs_i2c_t
* 
i2c
 = 
	`iŸjs_i2c_ö°™˚_‰om_ªqwøp
(
ªq_wøp
);

138 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_i2c_t
, 
i2c
)

139 
iŸjs_i2c_∂©f‹m_d©a_t
* 
pd©a
 = 
_this
->
∂©f‹m_d©a
;

141 
uöt8_t
 
Àn
 = 
ªq_d©a
->
buf_Àn
;

142 
ªq_d©a
->
buf_d©a
 = 
	`iŸjs_buf„r_Æloˇã
(
Àn
);

144 
	`IOTJS_ASSERT
(
pd©a
);

145 
	`IOTJS_ASSERT
(
pd©a
->
i2c_c⁄ãxt
);

146 
	`IOTJS_ASSERT
(
Àn
 > 0);

148 i‡(
	`iŸbus_i2c_ªad
(
pd©a
->
i2c_c⁄ãxt
, (
uöt8_t
*)
ªq_d©a
->
buf_d©a
, 
Àn
) <

150 
	`DLOG
("%s: c™nŸÑód d©a", 
__func__
);

151 
ªq_d©a
->
îr‹
 = 
kI2cEºRód
;

155 
ªq_d©a
->
îr‹
 = 
kI2cEºOk
;

156 
	}
}

	@src/platform/tizenrt/iotjs_module_pwm-tizenrt.c

16 #i‡
deföed
(
__TIZENRT__
)

18 
	~<°dlib.h
>

19 
	~<sys/io˘l.h
>

21 
	~<iŸbus/iŸbus_îr‹.h
>

22 
	~<iŸbus/iŸbus_pwm.h
>

24 
	~"moduÀs/iŸjs_moduÀ_pwm.h
"

26 
boﬁ
 
	$iŸjs_pwm_£t_›ti⁄s
(
iŸjs_pwm_t
* 
pwm
) {

27 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

29 
iŸbus_pwm_c⁄ãxt_h
 
˘x
 = 
_this
->ctx;

30 i‡(
˘x
 =
NULL
) {

31 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

32  
Ál£
;

35 
	`DDDLOG
("%†-Öîiod: %d, duty: %d", 
__func__
, ()
_this
->
≥riod
,

36 ()(
_this
->
duty_cy˛e
 * 100));

38  
	`iŸjs_pwm_£t_dutycy˛e
(
pwm
Ë&& 
	`iŸjs_pwm_£t_≥riod
(pwm);

39 
	}
}

41 
	$iŸjs_pwm_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

42 
PWM_WORKER_INIT
;

43 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

45 
_this
->
˘x
 = 
	`iŸbus_pwm_›í
(0, ()_this->
pö
);

46 i‡(
_this
->
˘x
 =
NULL
) {

47 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

48 
ªq_d©a
->
ªsu…
 = 
Ál£
;

52 i‡(!
	`iŸjs_pwm_£t_›ti⁄s
(
pwm
)) {

53 
ªq_d©a
->
ªsu…
 = 
Ál£
;

57 
ªq_d©a
->
ªsu…
 = 
åue
;

58 
	}
}

60 
boﬁ
 
	$iŸjs_pwm_£t_≥riod
(
iŸjs_pwm_t
* 
pwm
) {

61 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

63 
iŸbus_pwm_c⁄ãxt_h
 
˘x
 = 
_this
->ctx;

64 i‡(
˘x
 =
NULL
) {

65 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

66  
Ál£
;

69 
uöt32_t
 
≥riod_us
 = (uöt32_t)(1000000 * 
_this
->
≥riod
);

71  
	`iŸbus_pwm_£t_≥riod
(
˘x
, 
≥riod_us
) == 0;

72 
	}
}

75 
boﬁ
 
	$iŸjs_pwm_£t_dutycy˛e
(
iŸjs_pwm_t
* 
pwm
) {

76 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

78 
iŸbus_pwm_c⁄ãxt_h
 
˘x
 = 
_this
->ctx;

79 i‡(
˘x
 =
NULL
) {

80 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

81  
Ál£
;

84 
uöt32_t
 
duty_cy˛e_≥r_˚¡
 = (uöt32_t)(
_this
->
duty_cy˛e
 * 100);

86  
	`iŸbus_pwm_£t_duty_cy˛e
(
˘x
, 
duty_cy˛e_≥r_˚¡
) == 0;

87 
	}
}

90 
boﬁ
 
	$iŸjs_pwm_£t_íabÀ
(
iŸjs_pwm_t
* 
pwm
) {

91 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

93 
iŸbus_pwm_c⁄ãxt_h
 
˘x
 = 
_this
->ctx;

94 i‡(
˘x
 =
NULL
) {

95 
	`DLOG
("%†- fûê›í faûed", 
__func__
);

96  
Ál£
;

99 
	`DDDLOG
("%†-É«bÀ: %d", 
__func__
, 
_this
->
íabÀ
);

101 
ªt
;

102 i‡(
_this
->
íabÀ
) {

103 
ªt
 = 
	`iŸbus_pwm_£t_íabÀd
(
˘x
, 
IOTBUS_PWM_ENABLE
);

105 
ªt
 = 
	`iŸbus_pwm_£t_íabÀd
(
˘x
, 
IOTBUS_PWM_DISABLE
);

108 i‡(
ªt
 < 0) {

109 
	`DLOG
("%†- sëE«bÀ faûed", 
__func__
);

110  
Ál£
;

113  
åue
;

114 
	}
}

116 
boﬁ
 
	$iŸjs_pwm_˛o£
(
iŸjs_pwm_t
* 
pwm
) {

117 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_pwm_t
, 
pwm
);

119 
iŸbus_pwm_c⁄ãxt_h
 
˘x
 = 
_this
->ctx;

120 i‡(
˘x
 =
NULL
) {

121 
	`DLOG
("%†- fûênŸ o≥√d", 
__func__
);

122  
Ál£
;

125 
	`DDDLOG
("%s", 
__func__
);

127 
	`iŸbus_pwm_˛o£
(
˘x
);

128 
_this
->
˘x
 = 
NULL
;

130  
åue
;

131 
	}
}

	@src/platform/tizenrt/iotjs_module_spi-tizenrt.c

16 #i‡
deföed
(
__TIZENRT__
)

18 
	~<töy¨a/c⁄fig.h
>

20 #i‡!
deföed
(
CONFIG_SPI
)

22 #ñi‡!
deföed
(
CONFIG_SPI_EXCHANGE
)

26 
	~<iŸbus/iŸbus_îr‹.h
>

27 
	~<iŸbus/iŸbus_•i.h
>

29 
	~"moduÀs/iŸjs_moduÀ_•i.h
"

32 
boﬁ
 
	$iŸjs_•i_›í
(
iŸjs_•i_t
* 
•i
) {

33 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

35 
iŸbus_•i_c⁄fig_s
 
cfg
 = {.
bôs_≥r_w‹d
 = 
_this
->bits_per_word,

36 .
chù_£À˘
 =

37 
_this
->
chù_£À˘
 =
kSpiCsN⁄e
 ? 0

39 .
‰equícy
 = 
_this
->
max_•ìd
 };

41 
_this
->
mode
) {

42 
kSpiMode_0
:

43 
cfg
.
mode
 = 
IOTBUS_SPI_MODE0
;

45 
kSpiMode_1
:

46 
cfg
.
mode
 = 
IOTBUS_SPI_MODE1
;

48 
kSpiMode_2
:

49 
cfg
.
mode
 = 
IOTBUS_SPI_MODE2
;

51 
kSpiMode_3
:

52 
cfg
.
mode
 = 
IOTBUS_SPI_MODE3
;

55 
cfg
.
mode
 = 
IOTBUS_SPI_MODE0
;

58 
_this
->
hSpi
 = 
	`iŸbus_•i_›í
(_this->
bus
, &
cfg
);

59 i‡(
_this
->
hSpi
 =
NULL
) {

60  
Ál£
;

63 
	`DDLOG
(

66 
_this
->
mode
, _this->
chù_£À˘
, _this->
bô_‹dî
, _this->
max_•ìd
,

67 
_this
->
bôs_≥r_w‹d
, _this->
lo›back
);

69  
åue
;

70 
	}
}

73 
boﬁ
 
	$iŸjs_•i_å™s„r
(
iŸjs_•i_t
* 
•i
) {

74 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

76 
îr
 =

77 
	`iŸbus_•i_å™s„r_buf
(
_this
->
hSpi
, (*)_this->
tx_buf_d©a
,

78 (*)
_this
->
rx_buf_d©a
,

79 
_this
->
buf_Àn
);

80 i‡(
îr
 != 0) {

81 
	`DDLOG
("%†-Åøns„∏Áûed: %d", 
__func__
, 
îr
);

82  
Ál£
;

85  
åue
;

86 
	}
}

89 
boﬁ
 
	$iŸjs_•i_˛o£
(
iŸjs_•i_t
* 
•i
) {

90 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

92 i‡(
_this
->
hSpi
 !
NULL
) {

93 
îr
 = 
	`iŸbus_•i_˛o£
(
_this
->
hSpi
);

94 i‡(
îr
 != 0) {

95 
	`DDLOG
("%†- clo£ faûed: %d", 
__func__
, 
îr
);

96  
Ál£
;

98 
_this
->
hSpi
 = 
NULL
;

101  
åue
;

102 
	}
}

105 
	$iŸjs_•i_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

106 
SPI_WORKER_INIT
;

107 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_•i_t
, 
•i
);

109 i‡(!
	`iŸjs_•i_›í
(
•i
)) {

110 
	`DDLOG
("%†- SPI o≥¿Áûed %d", 
__func__
, 
_this
->
bus
);

111 
ªq_d©a
->
ªsu…
 = 
Ál£
;

115 
ªq_d©a
->
ªsu…
 = 
åue
;

116 
	}
}

	@src/platform/tizenrt/iotjs_module_uart-tizenrt.c

16 #i‡
deföed
(
__TIZENRT__
)

19 
	~"moduÀs/iŸjs_moduÀ_u¨t.h
"

21 
	$iŸjs_u¨t_›í_w‹kî
(
uv_w‹k_t
* 
w‹k_ªq
) {

22 
UART_WORKER_INIT
;

23 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

25 
fd
 = 
	`›í
(
	`iŸjs_°rög_d©a
(&
_this
->
devi˚_∑th
),

26 
O_RDWR
 | 
O_NOCTTY
 | 
O_NDELAY
);

28 i‡(
fd
 < 0) {

29 
ªq_d©a
->
ªsu…
 = 
Ál£
;

33 
_this
->
devi˚_fd
 = 
fd
;

34 
uv_pﬁl_t
* 
pﬁl_h™dÀ
 = &
_this
->poll_handle;

36 
uv_lo›_t
* 
lo›
 = 
	`iŸjs_ívú⁄mít_lo›
(
	`iŸjs_ívú⁄mít_gë
());

37 
	`uv_pﬁl_öô
(
lo›
, 
pﬁl_h™dÀ
, 
fd
);

38 
pﬁl_h™dÀ
->
d©a
 = 
u¨t
;

39 
	`uv_pﬁl_°¨t
(
pﬁl_h™dÀ
, 
UV_READABLE
, 
iŸjs_u¨t_ªad_cb
);

41 
ªq_d©a
->
ªsu…
 = 
åue
;

42 
	}
}

45 
boﬁ
 
	$iŸjs_u¨t_wrôe
(
iŸjs_u¨t_t
* 
u¨t
) {

46 
	`IOTJS_VALIDATED_STRUCT_METHOD
(
iŸjs_u¨t_t
, 
u¨t
);

47 
byãsWrôãn
 = 0;

48 
off£t
 = 0;

49 
fd
 = 
_this
->
devi˚_fd
;

50 c⁄° * 
buf_d©a
 = 
	`iŸjs_°rög_d©a
(&
_this
->buf_data);

52 
	`DDDLOG
("%†- d©a: %s", 
__func__
, 
buf_d©a
);

55 
î∫o
 = 0;

56 
byãsWrôãn
 = 
	`wrôe
(
fd
, 
buf_d©a
 + 
off£t
, 
_this
->
buf_Àn
 - offset);

58 
	`DDDLOG
("%†- size: %d", 
__func__
, 
_this
->
buf_Àn
 - 
off£t
);

60 i‡(
byãsWrôãn
 != -1) {

61 
off£t
 +()
byãsWrôãn
;

65 i‡(
î∫o
 =
EINTR
) {

69  
Ál£
;

71 } 
_this
->
buf_Àn
 > 
off£t
);

73  
åue
;

74 
	}
}

	@
1
.
0
662
33563
build/CMakeFiles/3.9.3/CompilerIdC/CMakeCCompilerId.c
build/CMakeFiles/feature_tests.c
config/nuttx/stm32f4dis/app/iotjs_main.c
config/nuttx/stm32f4dis/app/jerry_port.c
config/nuttx/stm32f4dis/app/setjmp.h
config/tizenrt/artik05x/app/iotjs_main.c
config/tizenrt/artik05x/app/jerry_port.c
deps/http-parser/bench.c
deps/http-parser/contrib/parsertrace.c
deps/http-parser/contrib/url_parser.c
deps/http-parser/http_parser.c
deps/http-parser/http_parser.h
deps/http-parser/test.c
deps/jerry/jerry-core/api/jerry-debugger.c
deps/jerry/jerry-core/api/jerry-snapshot.c
deps/jerry/jerry-core/api/jerry-snapshot.h
deps/jerry/jerry-core/api/jerry.c
deps/jerry/jerry-core/config.h
deps/jerry/jerry-core/debugger/debugger-sha1.c
deps/jerry/jerry-core/debugger/debugger-ws.c
deps/jerry/jerry-core/debugger/debugger-ws.h
deps/jerry/jerry-core/debugger/debugger.c
deps/jerry/jerry-core/debugger/debugger.h
deps/jerry/jerry-core/ecma/base/ecma-alloc.c
deps/jerry/jerry-core/ecma/base/ecma-alloc.h
deps/jerry/jerry-core/ecma/base/ecma-gc.c
deps/jerry/jerry-core/ecma/base/ecma-gc.h
deps/jerry/jerry-core/ecma/base/ecma-globals.h
deps/jerry/jerry-core/ecma/base/ecma-helpers-conversion.c
deps/jerry/jerry-core/ecma/base/ecma-helpers-errol.c
deps/jerry/jerry-core/ecma/base/ecma-helpers-external-pointers.c
deps/jerry/jerry-core/ecma/base/ecma-helpers-number.c
deps/jerry/jerry-core/ecma/base/ecma-helpers-string.c
deps/jerry/jerry-core/ecma/base/ecma-helpers-value.c
deps/jerry/jerry-core/ecma/base/ecma-helpers-values-collection.c
deps/jerry/jerry-core/ecma/base/ecma-helpers.c
deps/jerry/jerry-core/ecma/base/ecma-helpers.h
deps/jerry/jerry-core/ecma/base/ecma-init-finalize.c
deps/jerry/jerry-core/ecma/base/ecma-init-finalize.h
deps/jerry/jerry-core/ecma/base/ecma-lcache.c
deps/jerry/jerry-core/ecma/base/ecma-lcache.h
deps/jerry/jerry-core/ecma/base/ecma-literal-storage.c
deps/jerry/jerry-core/ecma/base/ecma-literal-storage.h
deps/jerry/jerry-core/ecma/base/ecma-property-hashmap.c
deps/jerry/jerry-core/ecma/base/ecma-property-hashmap.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-arraybuffer.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-boolean.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-date.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-error.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-evalerror.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-function.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-global.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-global.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-date.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-error.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-json.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-macro-defines.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers-macro-undefs.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-helpers.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-internal-routines-template.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-json.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-json.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-math.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-math.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-number.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-object.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-promise.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-rangeerror.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-referenceerror.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-regexp.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-string.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-syntaxerror.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-type-error-thrower.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-type-error-thrower.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-typeerror.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtin-urierror.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins-internal.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins.c
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins.h
deps/jerry/jerry-core/ecma/builtin-objects/ecma-builtins.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float32array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-float64array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int16array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int32array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-int8array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-typedarray.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint16array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint32array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8array.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray-prototype.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray-prototype.inc.h
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray.c
deps/jerry/jerry-core/ecma/builtin-objects/typedarray/ecma-builtin-uint8clampedarray.inc.h
deps/jerry/jerry-core/ecma/operations/ecma-array-object.c
deps/jerry/jerry-core/ecma/operations/ecma-array-object.h
deps/jerry/jerry-core/ecma/operations/ecma-arraybuffer-object.c
deps/jerry/jerry-core/ecma/operations/ecma-arraybuffer-object.h
deps/jerry/jerry-core/ecma/operations/ecma-boolean-object.c
deps/jerry/jerry-core/ecma/operations/ecma-boolean-object.h
deps/jerry/jerry-core/ecma/operations/ecma-comparison.c
deps/jerry/jerry-core/ecma/operations/ecma-comparison.h
deps/jerry/jerry-core/ecma/operations/ecma-conversion.c
deps/jerry/jerry-core/ecma/operations/ecma-conversion.h
deps/jerry/jerry-core/ecma/operations/ecma-eval.c
deps/jerry/jerry-core/ecma/operations/ecma-eval.h
deps/jerry/jerry-core/ecma/operations/ecma-exceptions.c
deps/jerry/jerry-core/ecma/operations/ecma-exceptions.h
deps/jerry/jerry-core/ecma/operations/ecma-function-object.c
deps/jerry/jerry-core/ecma/operations/ecma-function-object.h
deps/jerry/jerry-core/ecma/operations/ecma-get-put-value.c
deps/jerry/jerry-core/ecma/operations/ecma-jobqueue.c
deps/jerry/jerry-core/ecma/operations/ecma-jobqueue.h
deps/jerry/jerry-core/ecma/operations/ecma-lex-env.c
deps/jerry/jerry-core/ecma/operations/ecma-lex-env.h
deps/jerry/jerry-core/ecma/operations/ecma-number-arithmetic.c
deps/jerry/jerry-core/ecma/operations/ecma-number-arithmetic.h
deps/jerry/jerry-core/ecma/operations/ecma-number-object.c
deps/jerry/jerry-core/ecma/operations/ecma-number-object.h
deps/jerry/jerry-core/ecma/operations/ecma-objects-arguments.c
deps/jerry/jerry-core/ecma/operations/ecma-objects-arguments.h
deps/jerry/jerry-core/ecma/operations/ecma-objects-general.c
deps/jerry/jerry-core/ecma/operations/ecma-objects-general.h
deps/jerry/jerry-core/ecma/operations/ecma-objects.c
deps/jerry/jerry-core/ecma/operations/ecma-objects.h
deps/jerry/jerry-core/ecma/operations/ecma-promise-object.c
deps/jerry/jerry-core/ecma/operations/ecma-promise-object.h
deps/jerry/jerry-core/ecma/operations/ecma-reference.c
deps/jerry/jerry-core/ecma/operations/ecma-reference.h
deps/jerry/jerry-core/ecma/operations/ecma-regexp-object.c
deps/jerry/jerry-core/ecma/operations/ecma-regexp-object.h
deps/jerry/jerry-core/ecma/operations/ecma-string-object.c
deps/jerry/jerry-core/ecma/operations/ecma-string-object.h
deps/jerry/jerry-core/ecma/operations/ecma-try-catch-macro.h
deps/jerry/jerry-core/ecma/operations/ecma-typedarray-object.c
deps/jerry/jerry-core/ecma/operations/ecma-typedarray-object.h
deps/jerry/jerry-core/include/jerry-api.h
deps/jerry/jerry-core/include/jerry-board-config-example.h
deps/jerry/jerry-core/include/jerry-port.h
deps/jerry/jerry-core/include/jerryscript-core.h
deps/jerry/jerry-core/include/jerryscript-debugger.h
deps/jerry/jerry-core/include/jerryscript-port.h
deps/jerry/jerry-core/include/jerryscript-snapshot.h
deps/jerry/jerry-core/include/jerryscript.h
deps/jerry/jerry-core/jcontext/jcontext.c
deps/jerry/jerry-core/jcontext/jcontext.h
deps/jerry/jerry-core/jmem/dynamic/jmem-heap-dynamic-emul-slab.c
deps/jerry/jerry-core/jmem/dynamic/jmem-heap-dynamic-emul-slab.h
deps/jerry/jerry-core/jmem/jmem-allocator-internal.h
deps/jerry/jerry-core/jmem/jmem-allocator.c
deps/jerry/jerry-core/jmem/jmem-config.h
deps/jerry/jerry-core/jmem/jmem-heap.c
deps/jerry/jerry-core/jmem/jmem-poolman.c
deps/jerry/jerry-core/jmem/jmem.h
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-common-internal.h
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-common.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-count.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-cptl.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-jsobject.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-pmu.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-segment.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-size.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler-time.c
deps/jerry/jerry-core/jmem/profiler/jmem-profiler.h
deps/jerry/jerry-core/jmem/profiler/set-cache-simulator.c
deps/jerry/jerry-core/jmem/profiler/set-cache-simulator.h
deps/jerry/jerry-core/jmem/segmented/cptl-rmap-cache.c
deps/jerry/jerry-core/jmem/segmented/cptl-rmap-cache.h
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-cptl.c
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-cptl.h
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-rmap-rb-node.h
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-rmap-rb.c
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented-rmap-rb.h
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented.c
deps/jerry/jerry-core/jmem/segmented/jmem-heap-segmented.h
deps/jerry/jerry-core/jrt/jrt-bit-fields.h
deps/jerry/jerry-core/jrt/jrt-fatals.c
deps/jerry/jerry-core/jrt/jrt-libc-includes.h
deps/jerry/jerry-core/jrt/jrt-types.h
deps/jerry/jerry-core/jrt/jrt.h
deps/jerry/jerry-core/lit/lit-char-helpers.c
deps/jerry/jerry-core/lit/lit-char-helpers.h
deps/jerry/jerry-core/lit/lit-globals.h
deps/jerry/jerry-core/lit/lit-magic-strings.c
deps/jerry/jerry-core/lit/lit-magic-strings.h
deps/jerry/jerry-core/lit/lit-magic-strings.inc.h
deps/jerry/jerry-core/lit/lit-strings.c
deps/jerry/jerry-core/lit/lit-strings.h
deps/jerry/jerry-core/lit/lit-unicode-conversions.inc.h
deps/jerry/jerry-core/lit/lit-unicode-ranges.inc.h
deps/jerry/jerry-core/parser/js/byte-code.c
deps/jerry/jerry-core/parser/js/byte-code.h
deps/jerry/jerry-core/parser/js/common.c
deps/jerry/jerry-core/parser/js/common.h
deps/jerry/jerry-core/parser/js/js-lexer.c
deps/jerry/jerry-core/parser/js/js-lexer.h
deps/jerry/jerry-core/parser/js/js-parser-expr.c
deps/jerry/jerry-core/parser/js/js-parser-internal.h
deps/jerry/jerry-core/parser/js/js-parser-limits.h
deps/jerry/jerry-core/parser/js/js-parser-mem.c
deps/jerry/jerry-core/parser/js/js-parser-scanner.c
deps/jerry/jerry-core/parser/js/js-parser-statm.c
deps/jerry/jerry-core/parser/js/js-parser-util.c
deps/jerry/jerry-core/parser/js/js-parser.c
deps/jerry/jerry-core/parser/js/js-parser.h
deps/jerry/jerry-core/parser/regexp/re-bytecode.c
deps/jerry/jerry-core/parser/regexp/re-bytecode.h
deps/jerry/jerry-core/parser/regexp/re-compiler.c
deps/jerry/jerry-core/parser/regexp/re-compiler.h
deps/jerry/jerry-core/parser/regexp/re-parser.c
deps/jerry/jerry-core/parser/regexp/re-parser.h
deps/jerry/jerry-core/vm/opcodes-ecma-arithmetics.c
deps/jerry/jerry-core/vm/opcodes-ecma-bitwise.c
deps/jerry/jerry-core/vm/opcodes-ecma-equality.c
deps/jerry/jerry-core/vm/opcodes-ecma-relational.c
deps/jerry/jerry-core/vm/opcodes.c
deps/jerry/jerry-core/vm/opcodes.h
deps/jerry/jerry-core/vm/vm-defines.h
deps/jerry/jerry-core/vm/vm-stack.c
deps/jerry/jerry-core/vm/vm-stack.h
deps/jerry/jerry-core/vm/vm.c
deps/jerry/jerry-core/vm/vm.h
deps/jerry/jerry-ext/arg/arg-internal.h
deps/jerry/jerry-ext/arg/arg-js-iterator-helper.c
deps/jerry/jerry-ext/arg/arg-transform-functions.c
deps/jerry/jerry-ext/arg/arg.c
deps/jerry/jerry-ext/handler/handler-assert.c
deps/jerry/jerry-ext/handler/handler-gc.c
deps/jerry/jerry-ext/handler/handler-print.c
deps/jerry/jerry-ext/handler/handler-register.c
deps/jerry/jerry-ext/include/jerryscript-ext/arg.h
deps/jerry/jerry-ext/include/jerryscript-ext/arg.impl.h
deps/jerry/jerry-ext/include/jerryscript-ext/autorelease.h
deps/jerry/jerry-ext/include/jerryscript-ext/autorelease.impl.h
deps/jerry/jerry-ext/include/jerryscript-ext/handler.h
deps/jerry/jerry-ext/include/jerryscript-ext/module.h
deps/jerry/jerry-ext/include/jerryscript-ext/section.impl.h
deps/jerry/jerry-ext/module/module.c
deps/jerry/jerry-libc/arch/arm-v7.h
deps/jerry/jerry-libc/arch/x86-32.h
deps/jerry/jerry-libc/arch/x86-64.h
deps/jerry/jerry-libc/include/assert.h
deps/jerry/jerry-libc/include/setjmp.h
deps/jerry/jerry-libc/include/stdio.h
deps/jerry/jerry-libc/include/stdlib.h
deps/jerry/jerry-libc/include/string.h
deps/jerry/jerry-libc/include/sys/time.h
deps/jerry/jerry-libc/jerry-libc-defs.h
deps/jerry/jerry-libc/jerry-libc-init.c
deps/jerry/jerry-libc/jerry-libc-printf.c
deps/jerry/jerry-libc/jerry-libc.c
deps/jerry/jerry-libc/target/posix/jerry-libc-target.c
deps/jerry/jerry-libm/acos.c
deps/jerry/jerry-libm/asin.c
deps/jerry/jerry-libm/atan.c
deps/jerry/jerry-libm/atan2.c
deps/jerry/jerry-libm/ceil.c
deps/jerry/jerry-libm/copysign.c
deps/jerry/jerry-libm/exp.c
deps/jerry/jerry-libm/fabs.c
deps/jerry/jerry-libm/finite.c
deps/jerry/jerry-libm/floor.c
deps/jerry/jerry-libm/fmod.c
deps/jerry/jerry-libm/include/math.h
deps/jerry/jerry-libm/isnan.c
deps/jerry/jerry-libm/jerry-libm-internal.h
deps/jerry/jerry-libm/log.c
deps/jerry/jerry-libm/nextafter.c
deps/jerry/jerry-libm/pow.c
deps/jerry/jerry-libm/scalbn.c
deps/jerry/jerry-libm/sqrt.c
deps/jerry/jerry-libm/trig.c
deps/jerry/jerry-main/cli.c
deps/jerry/jerry-main/cli.h
deps/jerry/jerry-main/main-unix-minimal.c
deps/jerry/jerry-main/main-unix.c
deps/jerry/jerry-port/default/default-date.c
deps/jerry/jerry-port/default/default-external-context.c
deps/jerry/jerry-port/default/default-fatal.c
deps/jerry/jerry-port/default/default-io.c
deps/jerry/jerry-port/default/defaultx-handler.c
deps/jerry/jerry-port/default/include/jerryscript-port-default.h
deps/jerry/targets/curie_bsp/include/inttypes.h
deps/jerry/targets/curie_bsp/include/setjmp.h
deps/jerry/targets/curie_bsp/jerry_app/arc/main.c
deps/jerry/targets/curie_bsp/jerry_app/include/project_mapping.h
deps/jerry/targets/curie_bsp/jerry_app/quark/main.c
deps/jerry/targets/curie_bsp/source/curie-bsp-port.c
deps/jerry/targets/esp8266/include/esp8266_gpio.h
deps/jerry/targets/esp8266/include/esp8266_uart.h
deps/jerry/targets/esp8266/include/jerry_extapi.h
deps/jerry/targets/esp8266/include/jerry_run.h
deps/jerry/targets/esp8266/include/native_esp8266.h
deps/jerry/targets/esp8266/include/user_config.h
deps/jerry/targets/esp8266/source/jerry_extapi.c
deps/jerry/targets/esp8266/source/jerry_run.c
deps/jerry/targets/esp8266/user/jerry_port.c
deps/jerry/targets/esp8266/user/native_esp8266.c
deps/jerry/targets/esp8266/user/user_gpio.c
deps/jerry/targets/esp8266/user/user_main.c
deps/jerry/targets/mbed/source/jerry_extapi.cpp
deps/jerry/targets/mbed/source/jerry_extapi.h
deps/jerry/targets/mbed/source/jerry_run.cpp
deps/jerry/targets/mbed/source/jerry_run.h
deps/jerry/targets/mbed/source/main.cpp
deps/jerry/targets/mbed/source/native_mbed.cpp
deps/jerry/targets/mbed/source/native_mbed.h
deps/jerry/targets/mbed/source/port/jerry_port.c
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/AnalogIn-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/DigitalOut-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/I2C-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/InterruptIn-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/PwmOut-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/lib_drivers.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/setInterval-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/setTimeout-js.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/AnalogIn-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/DigitalOut-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/I2C-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/InterruptIn-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/PwmOut-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/setInterval-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-drivers/source/setTimeout-js.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-event-loop/BoundCallback.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-event-loop/EventLoop.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-event-loop/source/EventLoop.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/launcher.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/setup.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/source/launcher.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-launcher/source/setup.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/registry.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/source/registry.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/source/wrap_tools.cpp
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-library-registry/wrap_tools.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-util/js_source.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-util/logging.h
deps/jerry/targets/mbedos5/jerryscript-mbed/jerryscript-mbed-util/wrappers.h
deps/jerry/targets/mbedos5/source/jerry_port_mbed.c
deps/jerry/targets/mbedos5/tools/cmsis.h
deps/jerry/targets/nuttx-stm32f4/jerry_main.c
deps/jerry/targets/nuttx-stm32f4/setjmp.h
deps/jerry/targets/particle/source/main.cpp
deps/jerry/targets/riot-stm32f4/source/main-riotos.c
deps/jerry/targets/tizenrt-artik053/apps/jerryscript/jerry_main.c
deps/jerry/targets/tizenrt-artik053/apps/jerryscript/setjmp.h
deps/jerry/targets/zephyr/src/getline-zephyr.c
deps/jerry/targets/zephyr/src/getline-zephyr.h
deps/jerry/targets/zephyr/src/jerry-port.c
deps/jerry/targets/zephyr/src/main-zephyr.c
deps/jerry/tests/unit-core/test-api.c
deps/jerry/tests/unit-core/test-common.h
deps/jerry/tests/unit-core/test-context-data.c
deps/jerry/tests/unit-core/test-date-helpers.c
deps/jerry/tests/unit-core/test-has-property.c
deps/jerry/tests/unit-core/test-heap.c
deps/jerry/tests/unit-core/test-lit-char-helpers.c
deps/jerry/tests/unit-core/test-literal-storage.c
deps/jerry/tests/unit-core/test-longjmp.c
deps/jerry/tests/unit-core/test-mem-stats.c
deps/jerry/tests/unit-core/test-number-to-integer.c
deps/jerry/tests/unit-core/test-number-to-string.c
deps/jerry/tests/unit-core/test-poolman.c
deps/jerry/tests/unit-core/test-promise.c
deps/jerry/tests/unit-core/test-string-to-number.c
deps/jerry/tests/unit-core/test-strings.c
deps/jerry/tests/unit-ext/module/jerry-module-test.c
deps/jerry/tests/unit-ext/module/my-broken-module.c
deps/jerry/tests/unit-ext/module/my-custom-module.c
deps/jerry/tests/unit-ext/test-common.h
deps/jerry/tests/unit-ext/test-ext-arg.c
deps/jerry/tests/unit-ext/test-ext-autorelease.c
deps/jerry/tests/unit-ext/test-ext-module-empty.c
deps/jerry/tests/unit-libm/test-libm.c
deps/jerry/tests/unit-libm/test-libm.inc.h
deps/jerry/third-party/valgrind/memcheck.h
deps/jerry/third-party/valgrind/valgrind.h
deps/jerry/tools/unit-tests/gen-test-libm.c
deps/libtuv/include/android-ifaddrs.h
deps/libtuv/include/pthread-barrier.h
deps/libtuv/include/stdint-msvc2008.h
deps/libtuv/include/tree.h
deps/libtuv/include/tuv__debuglog.h
deps/libtuv/include/uv-aix.h
deps/libtuv/include/uv-bsd.h
deps/libtuv/include/uv-darwin.h
deps/libtuv/include/uv-errno.h
deps/libtuv/include/uv-linux.h
deps/libtuv/include/uv-nuttx.h
deps/libtuv/include/uv-os390.h
deps/libtuv/include/uv-sunos.h
deps/libtuv/include/uv-threadpool.h
deps/libtuv/include/uv-tizenrt.h
deps/libtuv/include/uv-unix.h
deps/libtuv/include/uv-version.h
deps/libtuv/include/uv-win.h
deps/libtuv/include/uv.h
deps/libtuv/src/fs-poll.c
deps/libtuv/src/heap-inl.h
deps/libtuv/src/inet.c
deps/libtuv/src/queue.h
deps/libtuv/src/threadpool.c
deps/libtuv/src/tuv_debuglog.c
deps/libtuv/src/unix/aix.c
deps/libtuv/src/unix/android-ifaddrs.c
deps/libtuv/src/unix/async.c
deps/libtuv/src/unix/atomic-ops.h
deps/libtuv/src/unix/core.c
deps/libtuv/src/unix/darwin-proctitle.c
deps/libtuv/src/unix/darwin.c
deps/libtuv/src/unix/dl.c
deps/libtuv/src/unix/freebsd.c
deps/libtuv/src/unix/fs.c
deps/libtuv/src/unix/fsevents.c
deps/libtuv/src/unix/getaddrinfo.c
deps/libtuv/src/unix/getnameinfo.c
deps/libtuv/src/unix/internal.h
deps/libtuv/src/unix/kqueue.c
deps/libtuv/src/unix/linux-core.c
deps/libtuv/src/unix/linux-inotify.c
deps/libtuv/src/unix/linux-syscalls.c
deps/libtuv/src/unix/linux-syscalls.h
deps/libtuv/src/unix/loop-watcher.c
deps/libtuv/src/unix/loop.c
deps/libtuv/src/unix/netbsd.c
deps/libtuv/src/unix/nuttx.c
deps/libtuv/src/unix/openbsd.c
deps/libtuv/src/unix/os390.c
deps/libtuv/src/unix/pipe.c
deps/libtuv/src/unix/poll.c
deps/libtuv/src/unix/process.c
deps/libtuv/src/unix/proctitle.c
deps/libtuv/src/unix/pthread-barrier.c
deps/libtuv/src/unix/pthread-fixes.c
deps/libtuv/src/unix/signal.c
deps/libtuv/src/unix/spinlock.h
deps/libtuv/src/unix/stream.c
deps/libtuv/src/unix/sunos.c
deps/libtuv/src/unix/tcp.c
deps/libtuv/src/unix/thread.c
deps/libtuv/src/unix/timer.c
deps/libtuv/src/unix/tizenrt.c
deps/libtuv/src/unix/tty.c
deps/libtuv/src/unix/udp.c
deps/libtuv/src/uv-common.c
deps/libtuv/src/uv-common.h
deps/libtuv/src/version.c
deps/libtuv/test/echo_server.c
deps/libtuv/test/raw/apiemul.h
deps/libtuv/test/raw/apiemul_main.c
deps/libtuv/test/raw/apiemul_socket.c
deps/libtuv/test/raw/echo_server_raw.c
deps/libtuv/test/raw/raw_main.c
deps/libtuv/test/raw/raw_main.h
deps/libtuv/test/raw/runner_main_raw.c
deps/libtuv/test/raw/test_active_raw.c
deps/libtuv/test/raw/test_async_raw.c
deps/libtuv/test/raw/test_condvar_raw.c
deps/libtuv/test/raw/test_idle_raw.c
deps/libtuv/test/raw/test_shutdown_eof_raw.c
deps/libtuv/test/raw/test_tcp_open_raw.c
deps/libtuv/test/raw/test_threadpool_raw_queue_work_simple.c
deps/libtuv/test/raw/test_timer_raw_again.c
deps/libtuv/test/raw/test_timer_raw_huge_repeat.c
deps/libtuv/test/raw/test_timer_raw_huge_timeout.c
deps/libtuv/test/raw/test_timer_raw_init.c
deps/libtuv/test/raw/test_timer_raw_norm.c
deps/libtuv/test/raw/test_timer_raw_order.c
deps/libtuv/test/raw/test_timer_raw_run_null_callback.c
deps/libtuv/test/raw/test_timer_raw_run_once.c
deps/libtuv/test/raw/test_timer_raw_start_twice.c
deps/libtuv/test/raw/test_walk_handles_raw.c
deps/libtuv/test/runner.h
deps/libtuv/test/runner_linux.c
deps/libtuv/test/runner_linux_raw.c
deps/libtuv/test/runner_list.h
deps/libtuv/test/runner_main.c
deps/libtuv/test/runner_nuttx.c
deps/libtuv/test/runner_tizenrt.c
deps/libtuv/test/test_active.c
deps/libtuv/test/test_async.c
deps/libtuv/test/test_condvar.c
deps/libtuv/test/test_cwd.c
deps/libtuv/test/test_error.c
deps/libtuv/test/test_fs.c
deps/libtuv/test/test_getaddrinfo.c
deps/libtuv/test/test_idle.c
deps/libtuv/test/test_shutdown_eof.c
deps/libtuv/test/test_tcp_open.c
deps/libtuv/test/test_threadpool.c
deps/libtuv/test/test_timer.c
deps/libtuv/test/test_timer_again.c
deps/libtuv/test/test_walk_handles.c
include/iotjs.h
iotjs_linux.c
src/iotjs.c
src/iotjs_binding.c
src/iotjs_binding.h
src/iotjs_binding_helper.c
src/iotjs_binding_helper.h
src/iotjs_debuglog.c
src/iotjs_debuglog.h
src/iotjs_def.h
src/iotjs_env.c
src/iotjs_env.h
src/iotjs_exception.c
src/iotjs_exception.h
src/iotjs_handlewrap.c
src/iotjs_handlewrap.h
src/iotjs_magic_strings.h
src/iotjs_module.c
src/iotjs_module.h
src/iotjs_objectwrap.c
src/iotjs_objectwrap.h
src/iotjs_reqwrap.c
src/iotjs_reqwrap.h
src/iotjs_string.c
src/iotjs_string.h
src/iotjs_string_ext.c
src/iotjs_string_ext.h
src/iotjs_util.c
src/iotjs_util.h
src/modules/iotjs_module_adc.c
src/modules/iotjs_module_adc.h
src/modules/iotjs_module_blehcisocket.c
src/modules/iotjs_module_blehcisocket.h
src/modules/iotjs_module_buffer.c
src/modules/iotjs_module_buffer.h
src/modules/iotjs_module_console.c
src/modules/iotjs_module_constants.c
src/modules/iotjs_module_dns.c
src/modules/iotjs_module_dns.h
src/modules/iotjs_module_fs.c
src/modules/iotjs_module_gpio.c
src/modules/iotjs_module_gpio.h
src/modules/iotjs_module_httpparser.c
src/modules/iotjs_module_https.c
src/modules/iotjs_module_https.h
src/modules/iotjs_module_i2c.c
src/modules/iotjs_module_i2c.h
src/modules/iotjs_module_process.c
src/modules/iotjs_module_pwm.c
src/modules/iotjs_module_pwm.h
src/modules/iotjs_module_spi.c
src/modules/iotjs_module_spi.h
src/modules/iotjs_module_stm32f4dis.c
src/modules/iotjs_module_stm32f4dis.h
src/modules/iotjs_module_tcp.c
src/modules/iotjs_module_tcp.h
src/modules/iotjs_module_testdriver.c
src/modules/iotjs_module_timer.c
src/modules/iotjs_module_timer.h
src/modules/iotjs_module_uart.c
src/modules/iotjs_module_uart.h
src/modules/iotjs_module_udp.c
src/modules/iotjs_module_udp.h
src/platform/linux/iotjs_module_adc-linux.c
src/platform/linux/iotjs_module_blehcisocket-linux.c
src/platform/linux/iotjs_module_gpio-linux.c
src/platform/linux/iotjs_module_i2c-linux.c
src/platform/linux/iotjs_module_pwm-linux.c
src/platform/linux/iotjs_module_spi-linux.c
src/platform/linux/iotjs_module_uart-linux.c
src/platform/linux/iotjs_systemio-linux.c
src/platform/linux/iotjs_systemio-linux.h
src/platform/nuttx/iotjs_module_adc-nuttx.c
src/platform/nuttx/iotjs_module_blehcisocket-nuttx.c
src/platform/nuttx/iotjs_module_i2c-nuttx.c
src/platform/nuttx/iotjs_module_pwm-nuttx.c
src/platform/nuttx/iotjs_module_spi-nuttx.c
src/platform/nuttx/iotjs_module_stm32f4dis-nuttx.c
src/platform/nuttx/iotjs_module_uart-nuttx.c
src/platform/nuttx/iotjs_systemio-nuttx.h
src/platform/nuttx/stm32f4dis/iotjs_module_gpio-nuttx-stm32f4dis.c
src/platform/nuttx/stm32f4dis/iotjs_systemio-nuttx-stm32f4dis.c
src/platform/tizen/iotjs_module_gpio-tizen.c
src/platform/tizen/iotjs_module_i2c-tizen.c
src/platform/tizenrt/iotjs_main.c
src/platform/tizenrt/iotjs_module_adc-tizenrt.c
src/platform/tizenrt/iotjs_module_gpio-tizenrt.c
src/platform/tizenrt/iotjs_module_i2c-tizenrt.c
src/platform/tizenrt/iotjs_module_pwm-tizenrt.c
src/platform/tizenrt/iotjs_module_spi-tizenrt.c
src/platform/tizenrt/iotjs_module_uart-tizenrt.c
